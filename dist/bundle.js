/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var t={9948:(t,e,i)=>{"use strict";i.d(e,{Z:()=>a});var n=i(7537),r=i.n(n),o=i(3645),s=i.n(o)()(r());s.push([t.id,".bar{\n    flex-direction: row;\n    flex-wrap: wrap;\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n    width: 100%;\n    max-width: 500px;\n    margin: 1em auto;\n}","",{version:3,sources:["webpack://./src/components/Bar/bar.css"],names:[],mappings:"AAAA;IACI,mBAAmB;IACnB,eAAe;IACf,aAAa;IACb,6BAA6B;IAC7B,mBAAmB;IACnB,WAAW;IACX,gBAAgB;IAChB,gBAAgB;AACpB",sourcesContent:[".bar{\r\n    flex-direction: row;\r\n    flex-wrap: wrap;\r\n    display: flex;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    width: 100%;\r\n    max-width: 500px;\r\n    margin: 1em auto;\r\n}"],sourceRoot:""}]);const a=s},5804:(t,e,i)=>{"use strict";i.d(e,{Z:()=>a});var n=i(7537),r=i.n(n),o=i(3645),s=i.n(o)()(r());s.push([t.id,".colorPickButtons{\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    width: 100%;\n    margin: 0 auto;\n    gap: 10px;\n    justify-content: center;\n}\n\n.colorButton{\n    border: none;\n    border-radius: 2px;\n    filter: brightness(80%);\n    flex-basis: 20%;\n    margin: 0;\n}\n.colorButton:hover{\n    filter: brightness(100%);\n    transform: translate(0%, -5%);\n}\n.colorButton:active{\n    filter: brightness(60%);\n}\n","",{version:3,sources:["webpack://./src/components/ObjectProperties/ColorButtons/colorPickButton.css"],names:[],mappings:"AAAA;IACI,aAAa;IACb,mBAAmB;IACnB,eAAe;IACf,WAAW;IACX,cAAc;IACd,SAAS;IACT,uBAAuB;AAC3B;;AAEA;IACI,YAAY;IACZ,kBAAkB;IAClB,uBAAuB;IACvB,eAAe;IACf,SAAS;AACb;AACA;IACI,wBAAwB;IACxB,6BAA6B;AACjC;AACA;IACI,uBAAuB;AAC3B",sourcesContent:[".colorPickButtons{\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex-wrap: wrap;\r\n    width: 100%;\r\n    margin: 0 auto;\r\n    gap: 10px;\r\n    justify-content: center;\r\n}\r\n\r\n.colorButton{\r\n    border: none;\r\n    border-radius: 2px;\r\n    filter: brightness(80%);\r\n    flex-basis: 20%;\r\n    margin: 0;\r\n}\r\n.colorButton:hover{\r\n    filter: brightness(100%);\r\n    transform: translate(0%, -5%);\r\n}\r\n.colorButton:active{\r\n    filter: brightness(60%);\r\n}\r\n"],sourceRoot:""}]);const a=s},9943:(t,e,i)=>{"use strict";i.d(e,{Z:()=>a});var n=i(7537),r=i.n(n),o=i(3645),s=i.n(o)()(r());s.push([t.id,".objectProperties {\n\tmargin: 0 auto;\n}\n.option {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n\talign-items: center;\n\tjustify-content: space-evenly;\n\tmax-width: 500px;\n\tmargin: 0 auto;\n\tpadding: 0.5em;\n\tpadding-top: 0;\n}\n.subOption {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n\tgap: 5px;\n\talign-items: center;\n\tjustify-content: space-around;\n\twidth: 100%;\n}\n.label {\n\tcolor: white;\n\tbackground-color: #101010;\n\tmin-height: 4em;\n\tmax-width: 500px;\n\tmargin: 0 auto;\n\topacity: 1;\n\ttransition: 0.4s all;\n}\n.labelText {\n\tmargin: 0;\n\tpadding: 10px;\n\tmargin-left: 5px;\n}\n.hidden {\n\tvisibility: hidden;\n\topacity: 0;\n\ttransition: 0.4s all;\n}\n\n.textarea {\n\tbackground-color: #101010;\n\tcolor: white;\n\tborder-radius: 2px;\n\tpadding: 10px;\n\tvertical-align: middle;\n\ttext-align: center;\n\twidth: 100%;\n\tmargin: 0 1em;\n\tresize: vertical;\n\theight: auto;\n\tmin-height: 20px;\n\tfont-size: 20px;\n}\n.textarea:focus {\n\toutline: none;\n\tborder: 1px white solid;\n}\n\n.fontOption {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n.fontOptionButton {\n\tflex: 25%;\n\theight: 2.4em;\n\tpadding: 0.5em;\n\tfilter: brightness(80%);\n}\n.fontOptionButton:hover {\n\tfilter: brightness(120%);\n}\n\n.priceDiv {\n\tfont-size: 24px;\n\ttext-align: center;\n}\n","",{version:3,sources:["webpack://./src/components/ObjectProperties/objectProperties.css"],names:[],mappings:"AAAA;CACC,cAAc;AACf;AACA;CACC,aAAa;CACb,mBAAmB;CACnB,eAAe;CACf,mBAAmB;CACnB,6BAA6B;CAC7B,gBAAgB;CAChB,cAAc;CACd,cAAc;CACd,cAAc;AACf;AACA;CACC,aAAa;CACb,mBAAmB;CACnB,eAAe;CACf,QAAQ;CACR,mBAAmB;CACnB,6BAA6B;CAC7B,WAAW;AACZ;AACA;CACC,YAAY;CACZ,yBAAyB;CACzB,eAAe;CACf,gBAAgB;CAChB,cAAc;CACd,UAAU;CACV,oBAAoB;AACrB;AACA;CACC,SAAS;CACT,aAAa;CACb,gBAAgB;AACjB;AACA;CACC,kBAAkB;CAClB,UAAU;CACV,oBAAoB;AACrB;;AAEA;CACC,yBAAyB;CACzB,YAAY;CACZ,kBAAkB;CAClB,aAAa;CACb,sBAAsB;CACtB,kBAAkB;CAClB,WAAW;CACX,aAAa;CACb,gBAAgB;CAChB,YAAY;CACZ,gBAAgB;CAChB,eAAe;AAChB;AACA;CACC,aAAa;CACb,uBAAuB;AACxB;;AAEA;CACC,aAAa;CACb,mBAAmB;CACnB,eAAe;CACf,uBAAuB;CACvB,mBAAmB;AACpB;;AAEA;CACC,SAAS;CACT,aAAa;CACb,cAAc;CACd,uBAAuB;AACxB;AACA;CACC,wBAAwB;AACzB;;AAEA;CACC,eAAe;CACf,kBAAkB;AACnB",sourcesContent:[".objectProperties {\r\n\tmargin: 0 auto;\r\n}\r\n.option {\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tflex-wrap: wrap;\r\n\talign-items: center;\r\n\tjustify-content: space-evenly;\r\n\tmax-width: 500px;\r\n\tmargin: 0 auto;\r\n\tpadding: 0.5em;\r\n\tpadding-top: 0;\r\n}\r\n.subOption {\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tflex-wrap: wrap;\r\n\tgap: 5px;\r\n\talign-items: center;\r\n\tjustify-content: space-around;\r\n\twidth: 100%;\r\n}\r\n.label {\r\n\tcolor: white;\r\n\tbackground-color: #101010;\r\n\tmin-height: 4em;\r\n\tmax-width: 500px;\r\n\tmargin: 0 auto;\r\n\topacity: 1;\r\n\ttransition: 0.4s all;\r\n}\r\n.labelText {\r\n\tmargin: 0;\r\n\tpadding: 10px;\r\n\tmargin-left: 5px;\r\n}\r\n.hidden {\r\n\tvisibility: hidden;\r\n\topacity: 0;\r\n\ttransition: 0.4s all;\r\n}\r\n\r\n.textarea {\r\n\tbackground-color: #101010;\r\n\tcolor: white;\r\n\tborder-radius: 2px;\r\n\tpadding: 10px;\r\n\tvertical-align: middle;\r\n\ttext-align: center;\r\n\twidth: 100%;\r\n\tmargin: 0 1em;\r\n\tresize: vertical;\r\n\theight: auto;\r\n\tmin-height: 20px;\r\n\tfont-size: 20px;\r\n}\r\n.textarea:focus {\r\n\toutline: none;\r\n\tborder: 1px white solid;\r\n}\r\n\r\n.fontOption {\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tflex-wrap: wrap;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n}\r\n\r\n.fontOptionButton {\r\n\tflex: 25%;\r\n\theight: 2.4em;\r\n\tpadding: 0.5em;\r\n\tfilter: brightness(80%);\r\n}\r\n.fontOptionButton:hover {\r\n\tfilter: brightness(120%);\r\n}\r\n\r\n.priceDiv {\r\n\tfont-size: 24px;\r\n\ttext-align: center;\r\n}\r\n"],sourceRoot:""}]);const a=s},6967:(t,e,i)=>{"use strict";i.d(e,{Z:()=>a});var n=i(7537),r=i.n(n),o=i(3645),s=i.n(o)()(r());s.push([t.id,".btn{\n    border: 2px solid rgb(244, 67, 54);\n    background-color: rgb(3, 3, 3) ;\n    color: white;\n    padding: 3px;\n    margin: 5px;\n    min-width: 30px;\n    min-height: 30px;\n    fill: white;\n}\n.btn:active{\n    border-width: 3px;\n}\n.btn:hover{\n    cursor: pointer;\n}","",{version:3,sources:["webpack://./src/components/UI/Button/button.css"],names:[],mappings:"AAAA;IACI,kCAAkC;IAClC,+BAA+B;IAC/B,YAAY;IACZ,YAAY;IACZ,WAAW;IACX,eAAe;IACf,gBAAgB;IAChB,WAAW;AACf;AACA;IACI,iBAAiB;AACrB;AACA;IACI,eAAe;AACnB",sourcesContent:[".btn{\r\n    border: 2px solid rgb(244, 67, 54);\r\n    background-color: rgb(3, 3, 3) ;\r\n    color: white;\r\n    padding: 3px;\r\n    margin: 5px;\r\n    min-width: 30px;\r\n    min-height: 30px;\r\n    fill: white;\r\n}\r\n.btn:active{\r\n    border-width: 3px;\r\n}\r\n.btn:hover{\r\n    cursor: pointer;\r\n}"],sourceRoot:""}]);const a=s},7272:(t,e,i)=>{"use strict";i.d(e,{Z:()=>a});var n=i(7537),r=i.n(n),o=i(3645),s=i.n(o)()(r());s.push([t.id,'.tooltip {\n\tposition: relative;\n}\n.tooltipText {\n\twidth: max-content;\n\tbackground-color: black;\n\tcolor: #fff;\n\ttext-align: center;\n\tpadding: 6px 10px;\n\tborder-radius: 2px;\n\tposition: absolute;\n\tvisibility: hidden;\n\topacity: 0;\n\ttransition: all 0.1s;\n\ttop: 100%;\n\tleft: 50%;\n\ttransform: translate(-50%, 10px);\n\tborder: 1px solid rgb(244, 67, 54);\n\tpointer-events: none;\n\n\tfont-size: 16px;\n}\n.tooltipText::after {\n\tcontent: "";\n\tposition: absolute;\n\tbottom: 100%;\n\tleft: 50%;\n\tmargin-left: -5px;\n\tborder-width: 5px;\n\tborder-style: solid;\n\tborder-color: transparent transparent rgb(244, 67, 54) transparent;\n}\n\n.tooltip:hover .tooltipText {\n\tvisibility: visible;\n\topacity: 1;\n\ttransition: all 0.1s;\n}\n',"",{version:3,sources:["webpack://./src/components/UI/Tooltip/tooltip.css"],names:[],mappings:"AAAA;CACC,kBAAkB;AACnB;AACA;CACC,kBAAkB;CAClB,uBAAuB;CACvB,WAAW;CACX,kBAAkB;CAClB,iBAAiB;CACjB,kBAAkB;CAClB,kBAAkB;CAClB,kBAAkB;CAClB,UAAU;CACV,oBAAoB;CACpB,SAAS;CACT,SAAS;CACT,gCAAgC;CAChC,kCAAkC;CAClC,oBAAoB;;CAEpB,eAAe;AAChB;AACA;CACC,WAAW;CACX,kBAAkB;CAClB,YAAY;CACZ,SAAS;CACT,iBAAiB;CACjB,iBAAiB;CACjB,mBAAmB;CACnB,kEAAkE;AACnE;;AAEA;CACC,mBAAmB;CACnB,UAAU;CACV,oBAAoB;AACrB",sourcesContent:['.tooltip {\r\n\tposition: relative;\r\n}\r\n.tooltipText {\r\n\twidth: max-content;\r\n\tbackground-color: black;\r\n\tcolor: #fff;\r\n\ttext-align: center;\r\n\tpadding: 6px 10px;\r\n\tborder-radius: 2px;\r\n\tposition: absolute;\r\n\tvisibility: hidden;\r\n\topacity: 0;\r\n\ttransition: all 0.1s;\r\n\ttop: 100%;\r\n\tleft: 50%;\r\n\ttransform: translate(-50%, 10px);\r\n\tborder: 1px solid rgb(244, 67, 54);\r\n\tpointer-events: none;\r\n\r\n\tfont-size: 16px;\r\n}\r\n.tooltipText::after {\r\n\tcontent: "";\r\n\tposition: absolute;\r\n\tbottom: 100%;\r\n\tleft: 50%;\r\n\tmargin-left: -5px;\r\n\tborder-width: 5px;\r\n\tborder-style: solid;\r\n\tborder-color: transparent transparent rgb(244, 67, 54) transparent;\r\n}\r\n\r\n.tooltip:hover .tooltipText {\r\n\tvisibility: visible;\r\n\topacity: 1;\r\n\ttransition: all 0.1s;\r\n}\r\n'],sourceRoot:""}]);const a=s},890:(t,e,i)=>{"use strict";i.d(e,{Z:()=>I});var n=i(7537),r=i.n(n),o=i(3645),s=i.n(o),a=i(1667),c=i.n(a),h=new URL(i(3243),i.b),l=new URL(i(1400),i.b),u=new URL(i(6924),i.b),f=new URL(i(2563),i.b),d=new URL(i(8694),i.b),g=new URL(i(1345),i.b),p=new URL(i(4297),i.b),v=new URL(i(9123),i.b),m=new URL(i(8661),i.b),y=new URL(i(3965),i.b),C=new URL(i(8279),i.b),_=new URL(i(9340),i.b),x=new URL(i(8631),i.b),b=s()(r()),S=c()(h),w=c()(l),A=c()(u),T=c()(f),O=c()(d),k=c()(g),P=c()(p),E=c()(v),j=c()(m),M=c()(y),B=c()(C),D=c()(_),F=c()(x);b.push([t.id,`@font-face {\n\tfont-family: "RosaMarena";\n\tsrc: url(${S});\n}\n@font-face {\n\tfont-family: "StudioScriptCTT";\n\tsrc: url(${w});\n}\n@font-face {\n\tfont-family: "Veles";\n\tsrc: url(${A});\n}\n@font-face {\n\tfont-family: "PFHandbookPro";\n\tsrc: url(${T});\n}\n@font-face {\n\tfont-family: "Nickainley";\n\tsrc: url(${O});\n}\n@font-face {\n\tfont-family: "MADELikes";\n\tsrc: url(${k});\n}\n@font-face {\n\tfont-family: "LDSlender";\n\tsrc: url(${P});\n}\n@font-face {\n\tfont-family: "Helvetica";\n\tsrc: url(${E});\n}\n@font-face {\n\tfont-family: "CitricaCyrillic";\n\tsrc: url(${j});\n}\n@font-face {\n\tfont-family: "BloggerSans";\n\tsrc: url(${M});\n}\n@font-face {\n\tfont-family: "Birch";\n\tsrc: url(${B});\n}\n@font-face {\n\tfont-family: "AmericanRetro";\n\tsrc: url(${D});\n}\n@font-face {\n\tfont-family: "InterLight";\n\tsrc: url(${F});\n}\n\n.neonWidget {\n\tbackground-color: rgba(173, 126, 126, 0);\n\tfont-family: cursive;\n}\n\n.canvas-container {\n\tmargin: 0 auto;\n}\n\n.neonWidget {\n\tbackground-color: rgba(173, 126, 126, 0);\n\tfont-family: InterLight, serif;\n}\n\n.canvas-container {\n\tmargin: 0 auto;\n}\n.loader {\n\twidth: min-content;\n\theight: min-content;\n}\n.text {\n\tfont-family: InterLight;\n\tfont-size: 20px;\n\tcolor: white;\n\twidth: max-content;\n}\n.containerRow {\n\tdisplay: flex;\n\tflex-direction: row;\n\tgap: 10px;\n\talign-items: center;\n\tjustify-content: center;\n}\n.containerCol {\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 10px;\n\talign-items: center;\n\tjustify-content: center;\n}\n`,"",{version:3,sources:["webpack://./src/styles/style.css"],names:[],mappings:"AAAA;CACC,yBAAyB;CACzB,4CAAmC;AACpC;AACA;CACC,8BAA8B;CAC9B,4CAAwC;AACzC;AACA;CACC,oBAAoB;CACpB,4CAA8B;AAC/B;AACA;CACC,4BAA4B;CAC5B,4CAAsC;AACvC;AACA;CACC,yBAAyB;CACzB,4CAAmC;AACpC;AACA;CACC,wBAAwB;CACxB,4CAAkC;AACnC;AACA;CACC,wBAAwB;CACxB,4CAAkC;AACnC;AACA;CACC,wBAAwB;CACxB,4CAAkC;AACnC;AACA;CACC,8BAA8B;CAC9B,4CAAwC;AACzC;AACA;CACC,0BAA0B;CAC1B,4CAAoC;AACrC;AACA;CACC,oBAAoB;CACpB,6CAA8B;AAC/B;AACA;CACC,4BAA4B;CAC5B,6CAAsC;AACvC;AACA;CACC,yBAAyB;CACzB,6CAAoC;AACrC;;AAEA;CACC,wCAAwC;CACxC,oBAAoB;AACrB;;AAEA;CACC,cAAc;AACf;;AAEA;CACC,wCAAwC;CACxC,8BAA8B;AAC/B;;AAEA;CACC,cAAc;AACf;AACA;CACC,kBAAkB;CAClB,mBAAmB;AACpB;AACA;CACC,uBAAuB;CACvB,eAAe;CACf,YAAY;CACZ,kBAAkB;AACnB;AACA;CACC,aAAa;CACb,mBAAmB;CACnB,SAAS;CACT,mBAAmB;CACnB,uBAAuB;AACxB;AACA;CACC,aAAa;CACb,sBAAsB;CACtB,SAAS;CACT,mBAAmB;CACnB,uBAAuB;AACxB",sourcesContent:['@font-face {\r\n\tfont-family: "RosaMarena";\r\n\tsrc: url("../fonts/RosaMarena.ttf");\r\n}\r\n@font-face {\r\n\tfont-family: "StudioScriptCTT";\r\n\tsrc: url("../fonts/StudioScriptCTT.ttf");\r\n}\r\n@font-face {\r\n\tfont-family: "Veles";\r\n\tsrc: url("../fonts/Veles.ttf");\r\n}\r\n@font-face {\r\n\tfont-family: "PFHandbookPro";\r\n\tsrc: url("../fonts/PFHandbookPro.ttf");\r\n}\r\n@font-face {\r\n\tfont-family: "Nickainley";\r\n\tsrc: url("../fonts/Nickainley.ttf");\r\n}\r\n@font-face {\r\n\tfont-family: "MADELikes";\r\n\tsrc: url("../fonts/MADELikes.ttf");\r\n}\r\n@font-face {\r\n\tfont-family: "LDSlender";\r\n\tsrc: url("../fonts/LDSlender.ttf");\r\n}\r\n@font-face {\r\n\tfont-family: "Helvetica";\r\n\tsrc: url("../fonts/Helvetica.ttf");\r\n}\r\n@font-face {\r\n\tfont-family: "CitricaCyrillic";\r\n\tsrc: url("../fonts/CitricaCyrillic.ttf");\r\n}\r\n@font-face {\r\n\tfont-family: "BloggerSans";\r\n\tsrc: url("../fonts/BloggerSans.ttf");\r\n}\r\n@font-face {\r\n\tfont-family: "Birch";\r\n\tsrc: url("../fonts/Birch.ttf");\r\n}\r\n@font-face {\r\n\tfont-family: "AmericanRetro";\r\n\tsrc: url("../fonts/AmericanRetro.ttf");\r\n}\r\n@font-face {\r\n\tfont-family: "InterLight";\r\n\tsrc: url("../fonts/Inter-Light.ttf");\r\n}\r\n\r\n.neonWidget {\r\n\tbackground-color: rgba(173, 126, 126, 0);\r\n\tfont-family: cursive;\r\n}\r\n\r\n.canvas-container {\r\n\tmargin: 0 auto;\r\n}\r\n\r\n.neonWidget {\r\n\tbackground-color: rgba(173, 126, 126, 0);\r\n\tfont-family: InterLight, serif;\r\n}\r\n\r\n.canvas-container {\r\n\tmargin: 0 auto;\r\n}\r\n.loader {\r\n\twidth: min-content;\r\n\theight: min-content;\r\n}\r\n.text {\r\n\tfont-family: InterLight;\r\n\tfont-size: 20px;\r\n\tcolor: white;\r\n\twidth: max-content;\r\n}\r\n.containerRow {\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tgap: 10px;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n}\r\n.containerCol {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tgap: 10px;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n}\r\n'],sourceRoot:""}]);const I=b},3645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i="",n=void 0!==e[5];return e[4]&&(i+="@supports (".concat(e[4],") {")),e[2]&&(i+="@media ".concat(e[2]," {")),n&&(i+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),i+=t(e),n&&(i+="}"),e[2]&&(i+="}"),e[4]&&(i+="}"),i})).join("")},e.i=function(t,i,n,r,o){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(n)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(s[c]=!0)}for(var h=0;h<t.length;h++){var l=[].concat(t[h]);n&&s[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),i&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=i):l[2]=i),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),e.push(l))}},e}},1667:t=>{"use strict";t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},7537:t=>{"use strict";t.exports=function(t){var e=t[1],i=t[3];if(!i)return e;if("function"==typeof btoa){var n=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),o="/*# ".concat(r," */");return[e].concat([o]).join("\n")}return[e].join("\n")}},2777:(t,e,i)=>{var n,r,o,s,a,c,h,l,u,f,d,g,p,v,m,y,C,_,x,b,S,w,A=A||{version:"5.3.0"};if(e.fabric=A,"undefined"!=typeof document&&"undefined"!=typeof window)document instanceof("undefined"!=typeof HTMLDocument?HTMLDocument:Document)?A.document=document:A.document=document.implementation.createHTMLDocument(""),A.window=window;else{var T=new(i(4960).JSDOM)(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;A.document=T.document,A.jsdomImplForWrapper=i(6759).implForWrapper,A.nodeCanvas=i(6272).Canvas,A.window=T,DOMParser=A.window.DOMParser}function O(t,e){var i=t.canvas,n=e.targetCanvas,r=n.getContext("2d");r.translate(0,n.height),r.scale(1,-1);var o=i.height-n.height;r.drawImage(i,0,o,n.width,n.height,0,0,n.width,n.height)}function k(t,e){var i=e.targetCanvas.getContext("2d"),n=e.destinationWidth,r=e.destinationHeight,o=n*r*4,s=new Uint8Array(this.imageBuffer,0,o),a=new Uint8ClampedArray(this.imageBuffer,0,o);t.readPixels(0,0,n,r,t.RGBA,t.UNSIGNED_BYTE,s);var c=new ImageData(a,n,r);i.putImageData(c,0,0)}A.isTouchSupported="ontouchstart"in A.window||"ontouchstart"in A.document||A.window&&A.window.navigator&&A.window.navigator.maxTouchPoints>0,A.isLikelyNode="undefined"!=typeof Buffer&&"undefined"==typeof window,A.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],A.DPI=96,A.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",A.commaWsp="(?:\\s+,?\\s*|,\\s*)",A.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/gi,A.reNonWord=/[ \n\.,;!\?\-]/,A.fontPaths={},A.iMatrix=[1,0,0,1,0,0],A.svgNS="http://www.w3.org/2000/svg",A.perfLimitSizeTotal=2097152,A.maxCacheSideLimit=4096,A.minCacheSideLimit=256,A.charWidthsCache={},A.textureSize=2048,A.disableStyleCopyPaste=!1,A.enableGLFiltering=!0,A.devicePixelRatio=A.window.devicePixelRatio||A.window.webkitDevicePixelRatio||A.window.mozDevicePixelRatio||1,A.browserShadowBlurConstant=1,A.arcToSegmentsCache={},A.boundsOfCurveCache={},A.cachesBoundsOfCurve=!0,A.forceGLPutImageData=!1,A.initFilterBackend=function(){return A.enableGLFiltering&&A.isWebglSupported&&A.isWebglSupported(A.textureSize)?(console.log("max texture size: "+A.maxTextureSize),new A.WebglFilterBackend({tileSize:A.textureSize})):A.Canvas2dFilterBackend?new A.Canvas2dFilterBackend:void 0},"undefined"!=typeof document&&"undefined"!=typeof window&&(window.fabric=A),function(){function t(t,e){if(this.__eventListeners[t]){var i=this.__eventListeners[t];e?i[i.indexOf(e)]=!1:A.util.array.fill(i,!1)}}function e(t,e){var i=function(){e.apply(this,arguments),this.off(t,i)}.bind(this);this.on(t,i)}A.Observable={fire:function(t,e){if(!this.__eventListeners)return this;var i=this.__eventListeners[t];if(!i)return this;for(var n=0,r=i.length;n<r;n++)i[n]&&i[n].call(this,e||{});return this.__eventListeners[t]=i.filter((function(t){return!1!==t})),this},on:function(t,e){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var i in t)this.on(i,t[i]);else this.__eventListeners[t]||(this.__eventListeners[t]=[]),this.__eventListeners[t].push(e);return this},once:function(t,i){if(1===arguments.length)for(var n in t)e.call(this,n,t[n]);else e.call(this,t,i);return this},off:function(e,i){if(!this.__eventListeners)return this;if(0===arguments.length)for(e in this.__eventListeners)t.call(this,e);else if(1===arguments.length&&"object"==typeof arguments[0])for(var n in e)t.call(this,n,e[n]);else t.call(this,e,i);return this}}}(),A.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var t=0,e=arguments.length;t<e;t++)this._onObjectAdded(arguments[t]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(t,e,i){var n=this._objects;return i?n[e]=t:n.splice(e,0,t),this._onObjectAdded&&this._onObjectAdded(t),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var t,e=this._objects,i=!1,n=0,r=arguments.length;n<r;n++)-1!==(t=e.indexOf(arguments[n]))&&(i=!0,e.splice(t,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[n]));return this.renderOnAddRemove&&i&&this.requestRenderAll(),this},forEachObject:function(t,e){for(var i=this.getObjects(),n=0,r=i.length;n<r;n++)t.call(e,i[n],n,i);return this},getObjects:function(t){return void 0===t?this._objects.concat():this._objects.filter((function(e){return e.type===t}))},item:function(t){return this._objects[t]},isEmpty:function(){return 0===this._objects.length},size:function(){return this._objects.length},contains:function(t,e){return this._objects.indexOf(t)>-1||!!e&&this._objects.some((function(e){return"function"==typeof e.contains&&e.contains(t,!0)}))},complexity:function(){return this._objects.reduce((function(t,e){return t+(e.complexity?e.complexity():0)}),0)}},A.CommonMethods={_setOptions:function(t){for(var e in t)this.set(e,t[e])},_initGradient:function(t,e){!t||!t.colorStops||t instanceof A.Gradient||this.set(e,new A.Gradient(t))},_initPattern:function(t,e,i){!t||!t.source||t instanceof A.Pattern?i&&i():this.set(e,new A.Pattern(t,i))},_setObject:function(t){for(var e in t)this._set(e,t[e])},set:function(t,e){return"object"==typeof t?this._setObject(t):this._set(t,e),this},_set:function(t,e){this[t]=e},toggle:function(t){var e=this.get(t);return"boolean"==typeof e&&this.set(t,!e),this},get:function(t){return this[t]}},n=e,r=Math.sqrt,o=Math.atan2,s=Math.pow,a=Math.PI/180,c=Math.PI/2,A.util={cos:function(t){if(0===t)return 1;switch(t<0&&(t=-t),t/c){case 1:case 3:return 0;case 2:return-1}return Math.cos(t)},sin:function(t){if(0===t)return 0;var e=1;switch(t<0&&(e=-1),t/c){case 1:return e;case 2:return 0;case 3:return-e}return Math.sin(t)},removeFromArray:function(t,e){var i=t.indexOf(e);return-1!==i&&t.splice(i,1),t},getRandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},degreesToRadians:function(t){return t*a},radiansToDegrees:function(t){return t/a},rotatePoint:function(t,e,i){var n=new A.Point(t.x-e.x,t.y-e.y),r=A.util.rotateVector(n,i);return new A.Point(r.x,r.y).addEquals(e)},rotateVector:function(t,e){var i=A.util.sin(e),n=A.util.cos(e);return{x:t.x*n-t.y*i,y:t.x*i+t.y*n}},createVector:function(t,e){return new A.Point(e.x-t.x,e.y-t.y)},calcAngleBetweenVectors:function(t,e){return Math.acos((t.x*e.x+t.y*e.y)/(Math.hypot(t.x,t.y)*Math.hypot(e.x,e.y)))},getHatVector:function(t){return new A.Point(t.x,t.y).multiply(1/Math.hypot(t.x,t.y))},getBisector:function(t,e,i){var n=A.util.createVector(t,e),r=A.util.createVector(t,i),o=A.util.calcAngleBetweenVectors(n,r),s=o*(0===A.util.calcAngleBetweenVectors(A.util.rotateVector(n,o),r)?1:-1)/2;return{vector:A.util.getHatVector(A.util.rotateVector(n,s)),angle:o}},projectStrokeOnPoints:function(t,e,i){var n=[],r=e.strokeWidth/2,o=e.strokeUniform?new A.Point(1/e.scaleX,1/e.scaleY):new A.Point(1,1),s=function(t){var e=r/Math.hypot(t.x,t.y);return new A.Point(t.x*e*o.x,t.y*e*o.y)};return t.length<=1||t.forEach((function(a,c){var h,l,u=new A.Point(a.x,a.y);0===c?(l=t[c+1],h=i?s(A.util.createVector(l,u)).addEquals(u):t[t.length-1]):c===t.length-1?(h=t[c-1],l=i?s(A.util.createVector(h,u)).addEquals(u):t[0]):(h=t[c-1],l=t[c+1]);var f,d,g=A.util.getBisector(u,h,l),p=g.vector,v=g.angle;if("miter"===e.strokeLineJoin&&(f=-r/Math.sin(v/2),d=new A.Point(p.x*f*o.x,p.y*f*o.y),Math.hypot(d.x,d.y)/r<=e.strokeMiterLimit))return n.push(u.add(d)),void n.push(u.subtract(d));f=-r*Math.SQRT2,d=new A.Point(p.x*f*o.x,p.y*f*o.y),n.push(u.add(d)),n.push(u.subtract(d))})),n},transformPoint:function(t,e,i){return i?new A.Point(e[0]*t.x+e[2]*t.y,e[1]*t.x+e[3]*t.y):new A.Point(e[0]*t.x+e[2]*t.y+e[4],e[1]*t.x+e[3]*t.y+e[5])},makeBoundingBoxFromPoints:function(t,e){if(e)for(var i=0;i<t.length;i++)t[i]=A.util.transformPoint(t[i],e);var n=[t[0].x,t[1].x,t[2].x,t[3].x],r=A.util.array.min(n),o=A.util.array.max(n)-r,s=[t[0].y,t[1].y,t[2].y,t[3].y],a=A.util.array.min(s);return{left:r,top:a,width:o,height:A.util.array.max(s)-a}},invertTransform:function(t){var e=1/(t[0]*t[3]-t[1]*t[2]),i=[e*t[3],-e*t[1],-e*t[2],e*t[0]],n=A.util.transformPoint({x:t[4],y:t[5]},i,!0);return i[4]=-n.x,i[5]=-n.y,i},toFixed:function(t,e){return parseFloat(Number(t).toFixed(e))},parseUnit:function(t,e){var i=/\D{0,2}$/.exec(t),n=parseFloat(t);switch(e||(e=A.Text.DEFAULT_SVG_FONT_SIZE),i[0]){case"mm":return n*A.DPI/25.4;case"cm":return n*A.DPI/2.54;case"in":return n*A.DPI;case"pt":return n*A.DPI/72;case"pc":return n*A.DPI/72*12;case"em":return n*e;default:return n}},falseFunction:function(){return!1},getKlass:function(t,e){return t=A.util.string.camelize(t.charAt(0).toUpperCase()+t.slice(1)),A.util.resolveNamespace(e)[t]},getSvgAttributes:function(t){var e=["instantiated_by_use","style","id","class"];switch(t){case"linearGradient":e=e.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":e=e.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":e=e.concat(["offset","stop-color","stop-opacity"])}return e},resolveNamespace:function(t){if(!t)return A;var e,i=t.split("."),r=i.length,o=n||A.window;for(e=0;e<r;++e)o=o[i[e]];return o},loadImage:function(t,e,i,n){if(t){var r=A.util.createImage(),o=function(){e&&e.call(i,r,!1),r=r.onload=r.onerror=null};r.onload=o,r.onerror=function(){A.log("Error loading "+r.src),e&&e.call(i,null,!0),r=r.onload=r.onerror=null},0!==t.indexOf("data")&&null!=n&&(r.crossOrigin=n),"data:image/svg"===t.substring(0,14)&&(r.onload=null,A.util.loadImageInDom(r,o)),r.src=t}else e&&e.call(i,t)},loadImageInDom:function(t,e){var i=A.document.createElement("div");i.style.width=i.style.height="1px",i.style.left=i.style.top="-100%",i.style.position="absolute",i.appendChild(t),A.document.querySelector("body").appendChild(i),t.onload=function(){e(),i.parentNode.removeChild(i),i=null}},enlivenObjects:function(t,e,i,n){var r=[],o=0,s=(t=t||[]).length;function a(){++o===s&&e&&e(r.filter((function(t){return t})))}s?t.forEach((function(t,e){t&&t.type?A.util.getKlass(t.type,i).fromObject(t,(function(i,o){o||(r[e]=i),n&&n(t,i,o),a()})):a()})):e&&e(r)},enlivenObjectEnlivables:function(t,e,i){var n=A.Object.ENLIVEN_PROPS.filter((function(e){return!!t[e]}));A.util.enlivenObjects(n.map((function(e){return t[e]})),(function(t){var r={};n.forEach((function(i,n){r[i]=t[n],e&&(e[i]=t[n])})),i&&i(r)}))},enlivenPatterns:function(t,e){function i(){++r===o&&e&&e(n)}var n=[],r=0,o=(t=t||[]).length;o?t.forEach((function(t,e){t&&t.source?new A.Pattern(t,(function(t){n[e]=t,i()})):(n[e]=t,i())})):e&&e(n)},groupSVGElements:function(t,e,i){var n;return t&&1===t.length?(void 0!==i&&(t[0].sourcePath=i),t[0]):(e&&(e.width&&e.height?e.centerPoint={x:e.width/2,y:e.height/2}:(delete e.width,delete e.height)),n=new A.Group(t,e),void 0!==i&&(n.sourcePath=i),n)},populateWithProperties:function(t,e,i){if(i&&Array.isArray(i))for(var n=0,r=i.length;n<r;n++)i[n]in t&&(e[i[n]]=t[i[n]])},createCanvasElement:function(){return A.document.createElement("canvas")},copyCanvasElement:function(t){var e=A.util.createCanvasElement();return e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0),e},toDataURL:function(t,e,i){return t.toDataURL("image/"+e,i)},createImage:function(){return A.document.createElement("img")},multiplyTransformMatrices:function(t,e,i){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],i?0:t[0]*e[4]+t[2]*e[5]+t[4],i?0:t[1]*e[4]+t[3]*e[5]+t[5]]},qrDecompose:function(t){var e=o(t[1],t[0]),i=s(t[0],2)+s(t[1],2),n=r(i),c=(t[0]*t[3]-t[2]*t[1])/n,h=o(t[0]*t[2]+t[1]*t[3],i);return{angle:e/a,scaleX:n,scaleY:c,skewX:h/a,skewY:0,translateX:t[4],translateY:t[5]}},calcRotateMatrix:function(t){if(!t.angle)return A.iMatrix.concat();var e=A.util.degreesToRadians(t.angle),i=A.util.cos(e),n=A.util.sin(e);return[i,n,-n,i,0,0]},calcDimensionsMatrix:function(t){var e=void 0===t.scaleX?1:t.scaleX,i=void 0===t.scaleY?1:t.scaleY,n=[t.flipX?-e:e,0,0,t.flipY?-i:i,0,0],r=A.util.multiplyTransformMatrices,o=A.util.degreesToRadians;return t.skewX&&(n=r(n,[1,0,Math.tan(o(t.skewX)),1],!0)),t.skewY&&(n=r(n,[1,Math.tan(o(t.skewY)),0,1],!0)),n},composeMatrix:function(t){var e=[1,0,0,1,t.translateX||0,t.translateY||0],i=A.util.multiplyTransformMatrices;return t.angle&&(e=i(e,A.util.calcRotateMatrix(t))),(1!==t.scaleX||1!==t.scaleY||t.skewX||t.skewY||t.flipX||t.flipY)&&(e=i(e,A.util.calcDimensionsMatrix(t))),e},resetObjectTransform:function(t){t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.flipX=!1,t.flipY=!1,t.rotate(0)},saveObjectTransform:function(t){return{scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX,skewY:t.skewY,angle:t.angle,left:t.left,flipX:t.flipX,flipY:t.flipY,top:t.top}},isTransparent:function(t,e,i,n){n>0&&(e>n?e-=n:e=0,i>n?i-=n:i=0);var r,o=!0,s=t.getImageData(e,i,2*n||1,2*n||1),a=s.data.length;for(r=3;r<a&&0!=(o=s.data[r]<=0);r+=4);return s=null,o},parsePreserveAspectRatioAttribute:function(t){var e,i="meet",n=t.split(" ");return n&&n.length&&("meet"!==(i=n.pop())&&"slice"!==i?(e=i,i="meet"):n.length&&(e=n.pop())),{meetOrSlice:i,alignX:"none"!==e?e.slice(1,4):"none",alignY:"none"!==e?e.slice(5,8):"none"}},clearFabricFontCache:function(t){(t=(t||"").toLowerCase())?A.charWidthsCache[t]&&delete A.charWidthsCache[t]:A.charWidthsCache={}},limitDimsByArea:function(t,e){var i=Math.sqrt(e*t),n=Math.floor(e/i);return{x:Math.floor(i),y:n}},capValue:function(t,e,i){return Math.max(t,Math.min(e,i))},findScaleToFit:function(t,e){return Math.min(e.width/t.width,e.height/t.height)},findScaleToCover:function(t,e){return Math.max(e.width/t.width,e.height/t.height)},matrixToSVG:function(t){return"matrix("+t.map((function(t){return A.util.toFixed(t,A.Object.NUM_FRACTION_DIGITS)})).join(" ")+")"},removeTransformFromObject:function(t,e){var i=A.util.invertTransform(e),n=A.util.multiplyTransformMatrices(i,t.calcOwnMatrix());A.util.applyTransformToObject(t,n)},addTransformToObject:function(t,e){A.util.applyTransformToObject(t,A.util.multiplyTransformMatrices(e,t.calcOwnMatrix()))},applyTransformToObject:function(t,e){var i=A.util.qrDecompose(e),n=new A.Point(i.translateX,i.translateY);t.flipX=!1,t.flipY=!1,t.set("scaleX",i.scaleX),t.set("scaleY",i.scaleY),t.skewX=i.skewX,t.skewY=i.skewY,t.angle=i.angle,t.setPositionByOrigin(n,"center","center")},sizeAfterTransform:function(t,e,i){var n=t/2,r=e/2,o=[{x:-n,y:-r},{x:n,y:-r},{x:-n,y:r},{x:n,y:r}],s=A.util.calcDimensionsMatrix(i),a=A.util.makeBoundingBoxFromPoints(o,s);return{x:a.width,y:a.height}},mergeClipPaths:function(t,e){var i=t,n=e;i.inverted&&!n.inverted&&(i=e,n=t),A.util.applyTransformToObject(n,A.util.multiplyTransformMatrices(A.util.invertTransform(i.calcTransformMatrix()),n.calcTransformMatrix()));var r=i.inverted&&n.inverted;return r&&(i.inverted=n.inverted=!1),new A.Group([i],{clipPath:n,inverted:r})},hasStyleChanged:function(t,e,i){return i=i||!1,t.fill!==e.fill||t.stroke!==e.stroke||t.strokeWidth!==e.strokeWidth||t.fontSize!==e.fontSize||t.fontFamily!==e.fontFamily||t.fontWeight!==e.fontWeight||t.fontStyle!==e.fontStyle||t.textBackgroundColor!==e.textBackgroundColor||t.deltaY!==e.deltaY||i&&(t.overline!==e.overline||t.underline!==e.underline||t.linethrough!==e.linethrough)},stylesToArray:function(t,e){t=A.util.object.clone(t,!0);for(var i=e.split("\n"),n=-1,r={},o=[],s=0;s<i.length;s++)if(t[s])for(var a=0;a<i[s].length;a++){n++;var c=t[s][a];c&&Object.keys(c).length>0&&(A.util.hasStyleChanged(r,c,!0)?o.push({start:n,end:n+1,style:c}):o[o.length-1].end++),r=c||{}}else n+=i[s].length;return o},stylesFromArray:function(t,e){if(!Array.isArray(t))return t;for(var i=e.split("\n"),n=-1,r=0,o={},s=0;s<i.length;s++)for(var a=0;a<i[s].length;a++)n++,t[r]&&t[r].start<=n&&n<t[r].end&&(o[s]=o[s]||{},o[s][a]=Object.assign({},t[r].style),n===t[r].end-1&&r++);return o}},function(){var t=Array.prototype.join,e={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},i={m:"l",M:"L"};function n(t,e,i,n,r,o,s,a,c,h,l){var u=A.util.cos(t),f=A.util.sin(t),d=A.util.cos(e),g=A.util.sin(e),p=i*r*d-n*o*g+s,v=n*r*d+i*o*g+a;return["C",h+c*(-i*r*f-n*o*u),l+c*(-n*r*f+i*o*u),p+c*(i*r*g+n*o*d),v+c*(n*r*g-i*o*d),p,v]}function r(t,e,i,n){var r=Math.atan2(e,t),o=Math.atan2(n,i);return o>=r?o-r:2*Math.PI-(r-o)}function o(t,e,i){for(var o=i[1],s=i[2],a=i[3],c=i[4],h=i[5],l=function(t,e,i,o,s,a,c){var h=Math.PI,l=c*h/180,u=A.util.sin(l),f=A.util.cos(l),d=0,g=0,p=-f*t*.5-u*e*.5,v=-f*e*.5+u*t*.5,m=(i=Math.abs(i))*i,y=(o=Math.abs(o))*o,C=v*v,_=p*p,x=m*y-m*C-y*_,b=0;if(x<0){var S=Math.sqrt(1-x/(m*y));i*=S,o*=S}else b=(s===a?-1:1)*Math.sqrt(x/(m*C+y*_));var w=b*i*v/o,T=-b*o*p/i,O=f*w-u*T+.5*t,k=u*w+f*T+.5*e,P=r(1,0,(p-w)/i,(v-T)/o),E=r((p-w)/i,(v-T)/o,(-p-w)/i,(-v-T)/o);0===a&&E>0?E-=2*h:1===a&&E<0&&(E+=2*h);for(var j=Math.ceil(Math.abs(E/h*2)),M=[],B=E/j,D=8/3*Math.sin(B/4)*Math.sin(B/4)/Math.sin(B/2),F=P+B,I=0;I<j;I++)M[I]=n(P,F,f,u,i,o,O,k,D,d,g),d=M[I][5],g=M[I][6],P=F,F+=B;return M}(i[6]-t,i[7]-e,o,s,c,h,a),u=0,f=l.length;u<f;u++)l[u][1]+=t,l[u][2]+=e,l[u][3]+=t,l[u][4]+=e,l[u][5]+=t,l[u][6]+=e;return l}function s(t,e,i,n){return Math.sqrt((i-t)*(i-t)+(n-e)*(n-e))}function a(t,e,i,n,r,o,s,a){return function(c){var h,l=(h=c)*h*h,u=function(t){return 3*t*t*(1-t)}(c),f=function(t){return 3*t*(1-t)*(1-t)}(c),d=function(t){return(1-t)*(1-t)*(1-t)}(c);return{x:s*l+r*u+i*f+t*d,y:a*l+o*u+n*f+e*d}}}function c(t,e,i,n,r,o,s,a){return function(c){var h=1-c,l=3*h*h*(i-t)+6*h*c*(r-i)+3*c*c*(s-r),u=3*h*h*(n-e)+6*h*c*(o-n)+3*c*c*(a-o);return Math.atan2(u,l)}}function h(t,e,i,n,r,o){return function(s){var a,c=(a=s)*a,h=function(t){return 2*t*(1-t)}(s),l=function(t){return(1-t)*(1-t)}(s);return{x:r*c+i*h+t*l,y:o*c+n*h+e*l}}}function l(t,e,i,n,r,o){return function(s){var a=1-s,c=2*a*(i-t)+2*s*(r-i),h=2*a*(n-e)+2*s*(o-n);return Math.atan2(h,c)}}function u(t,e,i){var n,r,o={x:e,y:i},a=0;for(r=1;r<=100;r+=1)n=t(r/100),a+=s(o.x,o.y,n.x,n.y),o=n;return a}function f(t){for(var e,i,n,r,o=0,f=t.length,d=0,g=0,p=0,v=0,m=[],y=0;y<f;y++){switch(n={x:d,y:g,command:(e=t[y])[0]},e[0]){case"M":n.length=0,p=d=e[1],v=g=e[2];break;case"L":n.length=s(d,g,e[1],e[2]),d=e[1],g=e[2];break;case"C":i=a(d,g,e[1],e[2],e[3],e[4],e[5],e[6]),r=c(d,g,e[1],e[2],e[3],e[4],e[5],e[6]),n.iterator=i,n.angleFinder=r,n.length=u(i,d,g),d=e[5],g=e[6];break;case"Q":i=h(d,g,e[1],e[2],e[3],e[4]),r=l(d,g,e[1],e[2],e[3],e[4]),n.iterator=i,n.angleFinder=r,n.length=u(i,d,g),d=e[3],g=e[4];break;case"Z":case"z":n.destX=p,n.destY=v,n.length=s(d,g,p,v),d=p,g=v}o+=n.length,m.push(n)}return m.push({length:o,x:d,y:g}),m}A.util.joinPath=function(t){return t.map((function(t){return t.join(" ")})).join(" ")},A.util.parsePath=function(t){var n,r,o,s,a,c=[],h=[],l=A.rePathCommand,u="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",f="("+u+")"+A.commaWsp,d="([01])"+A.commaWsp+"?",g=new RegExp(f+"?"+f+"?"+f+d+d+f+"?("+u+")","g");if(!t||!t.match)return c;for(var p,v=0,m=(a=t.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi)).length;v<m;v++){s=(n=a[v]).slice(1).trim(),h.length=0;var y=n.charAt(0);if(p=[y],"a"===y.toLowerCase())for(var C;C=g.exec(s);)for(var _=1;_<C.length;_++)h.push(C[_]);else for(;o=l.exec(s);)h.push(o[0]);_=0;for(var x=h.length;_<x;_++)r=parseFloat(h[_]),isNaN(r)||p.push(r);var b=e[y.toLowerCase()],S=i[y]||y;if(p.length-1>b)for(var w=1,T=p.length;w<T;w+=b)c.push([y].concat(p.slice(w,w+b))),y=S;else c.push(p)}return c},A.util.makePathSimpler=function(t){var e,i,n,r,s,a,c=0,h=0,l=t.length,u=0,f=0,d=[];for(i=0;i<l;++i){switch(n=!1,(e=t[i].slice(0))[0]){case"l":e[0]="L",e[1]+=c,e[2]+=h;case"L":c=e[1],h=e[2];break;case"h":e[1]+=c;case"H":e[0]="L",e[2]=h,c=e[1];break;case"v":e[1]+=h;case"V":e[0]="L",h=e[1],e[1]=c,e[2]=h;break;case"m":e[0]="M",e[1]+=c,e[2]+=h;case"M":c=e[1],h=e[2],u=e[1],f=e[2];break;case"c":e[0]="C",e[1]+=c,e[2]+=h,e[3]+=c,e[4]+=h,e[5]+=c,e[6]+=h;case"C":s=e[3],a=e[4],c=e[5],h=e[6];break;case"s":e[0]="S",e[1]+=c,e[2]+=h,e[3]+=c,e[4]+=h;case"S":"C"===r?(s=2*c-s,a=2*h-a):(s=c,a=h),c=e[3],h=e[4],e[0]="C",e[5]=e[3],e[6]=e[4],e[3]=e[1],e[4]=e[2],e[1]=s,e[2]=a,s=e[3],a=e[4];break;case"q":e[0]="Q",e[1]+=c,e[2]+=h,e[3]+=c,e[4]+=h;case"Q":s=e[1],a=e[2],c=e[3],h=e[4];break;case"t":e[0]="T",e[1]+=c,e[2]+=h;case"T":"Q"===r?(s=2*c-s,a=2*h-a):(s=c,a=h),e[0]="Q",c=e[1],h=e[2],e[1]=s,e[2]=a,e[3]=c,e[4]=h;break;case"a":e[0]="A",e[6]+=c,e[7]+=h;case"A":n=!0,d=d.concat(o(c,h,e)),c=e[6],h=e[7];break;case"z":case"Z":c=u,h=f}n||d.push(e),r=e[0]}return d},A.util.getSmoothPathFromPoints=function(t,e){var i,n=[],r=new A.Point(t[0].x,t[0].y),o=new A.Point(t[1].x,t[1].y),s=t.length,a=1,c=0,h=s>2;for(e=e||0,h&&(a=t[2].x<o.x?-1:t[2].x===o.x?0:1,c=t[2].y<o.y?-1:t[2].y===o.y?0:1),n.push(["M",r.x-a*e,r.y-c*e]),i=1;i<s;i++){if(!r.eq(o)){var l=r.midPointFrom(o);n.push(["Q",r.x,r.y,l.x,l.y])}r=t[i],i+1<t.length&&(o=t[i+1])}return h&&(a=r.x>t[i-2].x?1:r.x===t[i-2].x?0:-1,c=r.y>t[i-2].y?1:r.y===t[i-2].y?0:-1),n.push(["L",r.x+a*e,r.y+c*e]),n},A.util.getPathSegmentsInfo=f,A.util.getBoundsOfCurve=function(e,i,n,r,o,s,a,c){var h;if(A.cachesBoundsOfCurve&&(h=t.call(arguments),A.boundsOfCurveCache[h]))return A.boundsOfCurveCache[h];var l,u,f,d,g,p,v,m,y=Math.sqrt,C=Math.min,_=Math.max,x=Math.abs,b=[],S=[[],[]];u=6*e-12*n+6*o,l=-3*e+9*n-9*o+3*a,f=3*n-3*e;for(var w=0;w<2;++w)if(w>0&&(u=6*i-12*r+6*s,l=-3*i+9*r-9*s+3*c,f=3*r-3*i),x(l)<1e-12){if(x(u)<1e-12)continue;0<(d=-f/u)&&d<1&&b.push(d)}else(v=u*u-4*f*l)<0||(0<(g=(-u+(m=y(v)))/(2*l))&&g<1&&b.push(g),0<(p=(-u-m)/(2*l))&&p<1&&b.push(p));for(var T,O,k,P=b.length,E=P;P--;)T=(k=1-(d=b[P]))*k*k*e+3*k*k*d*n+3*k*d*d*o+d*d*d*a,S[0][P]=T,O=k*k*k*i+3*k*k*d*r+3*k*d*d*s+d*d*d*c,S[1][P]=O;S[0][E]=e,S[1][E]=i,S[0][E+1]=a,S[1][E+1]=c;var j=[{x:C.apply(null,S[0]),y:C.apply(null,S[1])},{x:_.apply(null,S[0]),y:_.apply(null,S[1])}];return A.cachesBoundsOfCurve&&(A.boundsOfCurveCache[h]=j),j},A.util.getPointOnPath=function(t,e,i){i||(i=f(t));for(var n=0;e-i[n].length>0&&n<i.length-2;)e-=i[n].length,n++;var r,o=i[n],a=e/o.length,c=o.command,h=t[n];switch(c){case"M":return{x:o.x,y:o.y,angle:0};case"Z":case"z":return(r=new A.Point(o.x,o.y).lerp(new A.Point(o.destX,o.destY),a)).angle=Math.atan2(o.destY-o.y,o.destX-o.x),r;case"L":return(r=new A.Point(o.x,o.y).lerp(new A.Point(h[1],h[2]),a)).angle=Math.atan2(h[2]-o.y,h[1]-o.x),r;case"C":case"Q":return function(t,e){for(var i,n,r,o=0,a=0,c=t.iterator,h={x:t.x,y:t.y},l=.01,u=t.angleFinder;a<e&&l>1e-4;)i=c(o),r=o,(n=s(h.x,h.y,i.x,i.y))+a>e?(o-=l,l/=2):(h=i,o+=l,a+=n);return i.angle=u(r),i}(o,e)}},A.util.transformPath=function(t,e,i){return i&&(e=A.util.multiplyTransformMatrices(e,[1,0,0,1,-i.x,-i.y])),t.map((function(t){for(var i=t.slice(0),n={},r=1;r<t.length-1;r+=2)n.x=t[r],n.y=t[r+1],n=A.util.transformPoint(n,e),i[r]=n.x,i[r+1]=n.y;return i}))}}(),function(){var t=Array.prototype.slice;function e(t,e,i){if(t&&0!==t.length){var n=t.length-1,r=e?t[n][e]:t[n];if(e)for(;n--;)i(t[n][e],r)&&(r=t[n][e]);else for(;n--;)i(t[n],r)&&(r=t[n]);return r}}A.util.array={fill:function(t,e){for(var i=t.length;i--;)t[i]=e;return t},invoke:function(e,i){for(var n=t.call(arguments,2),r=[],o=0,s=e.length;o<s;o++)r[o]=n.length?e[o][i].apply(e[o],n):e[o][i].call(e[o]);return r},min:function(t,i){return e(t,i,(function(t,e){return t<e}))},max:function(t,i){return e(t,i,(function(t,e){return t>=e}))}}}(),function(){function t(e,i,n){if(n)if(!A.isLikelyNode&&i instanceof Element)e=i;else if(i instanceof Array){e=[];for(var r=0,o=i.length;r<o;r++)e[r]=t({},i[r],n)}else if(i&&"object"==typeof i)for(var s in i)"canvas"===s||"group"===s?e[s]=null:i.hasOwnProperty(s)&&(e[s]=t({},i[s],n));else e=i;else for(var s in i)e[s]=i[s];return e}A.util.object={extend:t,clone:function(e,i){return t({},e,i)}},A.util.object.extend(A.util,A.Observable)}(),function(){function t(t,e){var i=t.charCodeAt(e);if(isNaN(i))return"";if(i<55296||i>57343)return t.charAt(e);if(55296<=i&&i<=56319){if(t.length<=e+1)throw"High surrogate without following low surrogate";var n=t.charCodeAt(e+1);if(56320>n||n>57343)throw"High surrogate without following low surrogate";return t.charAt(e)+t.charAt(e+1)}if(0===e)throw"Low surrogate without preceding high surrogate";var r=t.charCodeAt(e-1);if(55296>r||r>56319)throw"Low surrogate without preceding high surrogate";return!1}A.util.string={camelize:function(t){return t.replace(/-+(.)?/g,(function(t,e){return e?e.toUpperCase():""}))},capitalize:function(t,e){return t.charAt(0).toUpperCase()+(e?t.slice(1):t.slice(1).toLowerCase())},escapeXml:function(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},graphemeSplit:function(e){var i,n=0,r=[];for(n=0;n<e.length;n++)!1!==(i=t(e,n))&&r.push(i);return r}}}(),function(){var t=Array.prototype.slice,e=function(){},i=function(){for(var t in{toString:1})if("toString"===t)return!1;return!0}(),n=function(t,e,n){for(var r in e)r in t.prototype&&"function"==typeof t.prototype[r]&&(e[r]+"").indexOf("callSuper")>-1?t.prototype[r]=function(t){return function(){var i=this.constructor.superclass;this.constructor.superclass=n;var r=e[t].apply(this,arguments);if(this.constructor.superclass=i,"initialize"!==t)return r}}(r):t.prototype[r]=e[r],i&&(e.toString!==Object.prototype.toString&&(t.prototype.toString=e.toString),e.valueOf!==Object.prototype.valueOf&&(t.prototype.valueOf=e.valueOf))};function r(){}function o(e){for(var i=null,n=this;n.constructor.superclass;){var r=n.constructor.superclass.prototype[e];if(n[e]!==r){i=r;break}n=n.constructor.superclass.prototype}return i?arguments.length>1?i.apply(this,t.call(arguments,1)):i.call(this):console.log("tried to callSuper "+e+", method not found in prototype chain",this)}A.util.createClass=function(){var i=null,s=t.call(arguments,0);function a(){this.initialize.apply(this,arguments)}"function"==typeof s[0]&&(i=s.shift()),a.superclass=i,a.subclasses=[],i&&(r.prototype=i.prototype,a.prototype=new r,i.subclasses.push(a));for(var c=0,h=s.length;c<h;c++)n(a,s[c],i);return a.prototype.initialize||(a.prototype.initialize=e),a.prototype.constructor=a,a.prototype.callSuper=o,a}}(),h=!!A.document.createElement("div").attachEvent,l=["touchstart","touchmove","touchend"],A.util.addListener=function(t,e,i,n){t&&t.addEventListener(e,i,!h&&n)},A.util.removeListener=function(t,e,i,n){t&&t.removeEventListener(e,i,!h&&n)},A.util.getPointer=function(t){var e=t.target,i=A.util.getScrollLeftTop(e),n=function(t){var e=t.changedTouches;return e&&e[0]?e[0]:t}(t);return{x:n.clientX+i.left,y:n.clientY+i.top}},A.util.isTouchEvent=function(t){return l.indexOf(t.type)>-1||"touch"===t.pointerType},f="string"==typeof(u=A.document.createElement("div")).style.opacity,d="string"==typeof u.style.filter,g=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,p=function(t){return t},f?p=function(t,e){return t.style.opacity=e,t}:d&&(p=function(t,e){var i=t.style;return t.currentStyle&&!t.currentStyle.hasLayout&&(i.zoom=1),g.test(i.filter)?(e=e>=.9999?"":"alpha(opacity="+100*e+")",i.filter=i.filter.replace(g,e)):i.filter+=" alpha(opacity="+100*e+")",t}),A.util.setStyle=function(t,e){var i=t.style;if(!i)return t;if("string"==typeof e)return t.style.cssText+=";"+e,e.indexOf("opacity")>-1?p(t,e.match(/opacity:\s*(\d?\.?\d*)/)[1]):t;for(var n in e)if("opacity"===n)p(t,e[n]);else{var r="float"===n||"cssFloat"===n?void 0===i.styleFloat?"cssFloat":"styleFloat":n;i.setProperty(r,e[n])}return t},function(){var t,e,i,n,r=Array.prototype.slice,o=function(t){return r.call(t,0)};try{t=o(A.document.childNodes)instanceof Array}catch(t){}function s(t,e){var i=A.document.createElement(t);for(var n in e)"class"===n?i.className=e[n]:"for"===n?i.htmlFor=e[n]:i.setAttribute(n,e[n]);return i}function a(t){for(var e=0,i=0,n=A.document.documentElement,r=A.document.body||{scrollLeft:0,scrollTop:0};t&&(t.parentNode||t.host)&&((t=t.parentNode||t.host)===A.document?(e=r.scrollLeft||n.scrollLeft||0,i=r.scrollTop||n.scrollTop||0):(e+=t.scrollLeft||0,i+=t.scrollTop||0),1!==t.nodeType||"fixed"!==t.style.position););return{left:e,top:i}}t||(o=function(t){for(var e=new Array(t.length),i=t.length;i--;)e[i]=t[i];return e}),e=A.document.defaultView&&A.document.defaultView.getComputedStyle?function(t,e){var i=A.document.defaultView.getComputedStyle(t,null);return i?i[e]:void 0}:function(t,e){var i=t.style[e];return!i&&t.currentStyle&&(i=t.currentStyle[e]),i},i=A.document.documentElement.style,n="userSelect"in i?"userSelect":"MozUserSelect"in i?"MozUserSelect":"WebkitUserSelect"in i?"WebkitUserSelect":"KhtmlUserSelect"in i?"KhtmlUserSelect":"",A.util.makeElementUnselectable=function(t){return void 0!==t.onselectstart&&(t.onselectstart=A.util.falseFunction),n?t.style[n]="none":"string"==typeof t.unselectable&&(t.unselectable="on"),t},A.util.makeElementSelectable=function(t){return void 0!==t.onselectstart&&(t.onselectstart=null),n?t.style[n]="":"string"==typeof t.unselectable&&(t.unselectable=""),t},A.util.setImageSmoothing=function(t,e){t.imageSmoothingEnabled=t.imageSmoothingEnabled||t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled||t.oImageSmoothingEnabled,t.imageSmoothingEnabled=e},A.util.getById=function(t){return"string"==typeof t?A.document.getElementById(t):t},A.util.toArray=o,A.util.addClass=function(t,e){t&&-1===(" "+t.className+" ").indexOf(" "+e+" ")&&(t.className+=(t.className?" ":"")+e)},A.util.makeElement=s,A.util.wrapElement=function(t,e,i){return"string"==typeof e&&(e=s(e,i)),t.parentNode&&t.parentNode.replaceChild(e,t),e.appendChild(t),e},A.util.getScrollLeftTop=a,A.util.getElementOffset=function(t){var i,n,r=t&&t.ownerDocument,o={left:0,top:0},s={left:0,top:0},c={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!r)return s;for(var h in c)s[c[h]]+=parseInt(e(t,h),10)||0;return i=r.documentElement,void 0!==t.getBoundingClientRect&&(o=t.getBoundingClientRect()),n=a(t),{left:o.left+n.left-(i.clientLeft||0)+s.left,top:o.top+n.top-(i.clientTop||0)+s.top}},A.util.getNodeCanvas=function(t){var e=A.jsdomImplForWrapper(t);return e._canvas||e._image},A.util.cleanUpJsdomNode=function(t){if(A.isLikelyNode){var e=A.jsdomImplForWrapper(t);e&&(e._image=null,e._canvas=null,e._currentSrc=null,e._attributes=null,e._classList=null)}}}(),function(){function t(){}A.util.request=function(e,i){i||(i={});var n=i.method?i.method.toUpperCase():"GET",r=i.onComplete||function(){},o=new A.window.XMLHttpRequest,s=i.body||i.parameters;return o.onreadystatechange=function(){4===o.readyState&&(r(o),o.onreadystatechange=t)},"GET"===n&&(s=null,"string"==typeof i.parameters&&(e=function(t,e){return t+(/\?/.test(t)?"&":"?")+e}(e,i.parameters))),o.open(n,e,!0),"POST"!==n&&"PUT"!==n||o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(s),o}}(),A.log=console.log,A.warn=console.warn,function(){var t=A.util.object.extend,e=A.util.object.clone,i=[];function n(){return!1}function r(t,e,i,n){return-i*Math.cos(t/n*(Math.PI/2))+i+e}A.util.object.extend(i,{cancelAll:function(){var t=this.splice(0);return t.forEach((function(t){t.cancel()})),t},cancelByCanvas:function(t){if(!t)return[];var e=this.filter((function(e){return"object"==typeof e.target&&e.target.canvas===t}));return e.forEach((function(t){t.cancel()})),e},cancelByTarget:function(t){var e=this.findAnimationsByTarget(t);return e.forEach((function(t){t.cancel()})),e},findAnimationIndex:function(t){return this.indexOf(this.findAnimation(t))},findAnimation:function(t){return this.find((function(e){return e.cancel===t}))},findAnimationsByTarget:function(t){return t?this.filter((function(e){return e.target===t})):[]}});var o=A.window.requestAnimationFrame||A.window.webkitRequestAnimationFrame||A.window.mozRequestAnimationFrame||A.window.oRequestAnimationFrame||A.window.msRequestAnimationFrame||function(t){return A.window.setTimeout(t,1e3/60)},s=A.window.cancelAnimationFrame||A.window.clearTimeout;function a(){return o.apply(A.window,arguments)}A.util.animate=function(i){i||(i={});var o,s=!1,c=function(){var t=A.runningAnimations.indexOf(o);return t>-1&&A.runningAnimations.splice(t,1)[0]};return o=t(e(i),{cancel:function(){return s=!0,c()},currentValue:"startValue"in i?i.startValue:0,completionRate:0,durationRate:0}),A.runningAnimations.push(o),a((function(t){var e,h=t||+new Date,l=i.duration||500,u=h+l,f=i.onChange||n,d=i.abort||n,g=i.onComplete||n,p=i.easing||r,v="startValue"in i&&i.startValue.length>0,m="startValue"in i?i.startValue:0,y="endValue"in i?i.endValue:100,C=i.byValue||(v?m.map((function(t,e){return y[e]-m[e]})):y-m);i.onStart&&i.onStart(),function t(i){var n=(e=i||+new Date)>u?l:e-h,r=n/l,_=v?m.map((function(t,e){return p(n,m[e],C[e],l)})):p(n,m,C,l),x=v?Math.abs((_[0]-m[0])/C[0]):Math.abs((_-m)/C);if(o.currentValue=v?_.slice():_,o.completionRate=x,o.durationRate=r,!s){if(!d(_,x,r))return e>u?(o.currentValue=v?y.slice():y,o.completionRate=1,o.durationRate=1,f(v?y.slice():y,1,1),g(y,1,1),void c()):(f(_,x,r),void a(t));c()}}(h)})),o.cancel},A.util.requestAnimFrame=a,A.util.cancelAnimFrame=function(){return s.apply(A.window,arguments)},A.runningAnimations=i}(),function(){function t(t,e,i){var n="rgba("+parseInt(t[0]+i*(e[0]-t[0]),10)+","+parseInt(t[1]+i*(e[1]-t[1]),10)+","+parseInt(t[2]+i*(e[2]-t[2]),10);return(n+=","+(t&&e?parseFloat(t[3]+i*(e[3]-t[3])):1))+")"}A.util.animateColor=function(e,i,n,r){var o=new A.Color(e).getSource(),s=new A.Color(i).getSource(),a=r.onComplete,c=r.onChange;return r=r||{},A.util.animate(A.util.object.extend(r,{duration:n||500,startValue:o,endValue:s,byValue:s,easing:function(e,i,n,o){return t(i,n,r.colorEasing?r.colorEasing(e,o):1-Math.cos(e/o*(Math.PI/2)))},onComplete:function(e,i,n){if(a)return a(t(s,s,0),i,n)},onChange:function(e,i,n){if(c){if(Array.isArray(e))return c(t(e,e,0),i,n);c(e,i,n)}}}))}}(),function(){function t(t,e,i,n){return t<Math.abs(e)?(t=e,n=i/4):n=0===e&&0===t?i/(2*Math.PI)*Math.asin(1):i/(2*Math.PI)*Math.asin(e/t),{a:t,c:e,p:i,s:n}}function e(t,e,i){return t.a*Math.pow(2,10*(e-=1))*Math.sin((e*i-t.s)*(2*Math.PI)/t.p)}function i(t,e,i,r){return i-n(r-t,0,i,r)+e}function n(t,e,i,n){return(t/=n)<1/2.75?i*(7.5625*t*t)+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e}A.util.ease={easeInQuad:function(t,e,i,n){return i*(t/=n)*t+e},easeOutQuad:function(t,e,i,n){return-i*(t/=n)*(t-2)+e},easeInOutQuad:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,i,n){return i*(t/=n)*t*t+e},easeOutCubic:function(t,e,i,n){return i*((t=t/n-1)*t*t+1)+e},easeInOutCubic:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,i,n){return i*(t/=n)*t*t*t+e},easeOutQuart:function(t,e,i,n){return-i*((t=t/n-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t*t+e:-i/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,i,n){return i*(t/=n)*t*t*t*t+e},easeOutQuint:function(t,e,i,n){return i*((t=t/n-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,i,n){return-i*Math.cos(t/n*(Math.PI/2))+i+e},easeOutSine:function(t,e,i,n){return i*Math.sin(t/n*(Math.PI/2))+e},easeInOutSine:function(t,e,i,n){return-i/2*(Math.cos(Math.PI*t/n)-1)+e},easeInExpo:function(t,e,i,n){return 0===t?e:i*Math.pow(2,10*(t/n-1))+e},easeOutExpo:function(t,e,i,n){return t===n?e+i:i*(1-Math.pow(2,-10*t/n))+e},easeInOutExpo:function(t,e,i,n){return 0===t?e:t===n?e+i:(t/=n/2)<1?i/2*Math.pow(2,10*(t-1))+e:i/2*(2-Math.pow(2,-10*--t))+e},easeInCirc:function(t,e,i,n){return-i*(Math.sqrt(1-(t/=n)*t)-1)+e},easeOutCirc:function(t,e,i,n){return i*Math.sqrt(1-(t=t/n-1)*t)+e},easeInOutCirc:function(t,e,i,n){return(t/=n/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+e:i/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(i,n,r,o){var s=0;return 0===i?n:1==(i/=o)?n+r:(s||(s=.3*o),-e(t(r,r,s,1.70158),i,o)+n)},easeOutElastic:function(e,i,n,r){var o=0;if(0===e)return i;if(1==(e/=r))return i+n;o||(o=.3*r);var s=t(n,n,o,1.70158);return s.a*Math.pow(2,-10*e)*Math.sin((e*r-s.s)*(2*Math.PI)/s.p)+s.c+i},easeInOutElastic:function(i,n,r,o){var s=0;if(0===i)return n;if(2==(i/=o/2))return n+r;s||(s=o*(.3*1.5));var a=t(r,r,s,1.70158);return i<1?-.5*e(a,i,o)+n:a.a*Math.pow(2,-10*(i-=1))*Math.sin((i*o-a.s)*(2*Math.PI)/a.p)*.5+a.c+n},easeInBack:function(t,e,i,n,r){return void 0===r&&(r=1.70158),i*(t/=n)*t*((r+1)*t-r)+e},easeOutBack:function(t,e,i,n,r){return void 0===r&&(r=1.70158),i*((t=t/n-1)*t*((r+1)*t+r)+1)+e},easeInOutBack:function(t,e,i,n,r){return void 0===r&&(r=1.70158),(t/=n/2)<1?i/2*(t*t*((1+(r*=1.525))*t-r))+e:i/2*((t-=2)*t*((1+(r*=1.525))*t+r)+2)+e},easeInBounce:i,easeOutBounce:n,easeInOutBounce:function(t,e,r,o){return t<o/2?.5*i(2*t,0,r,o)+e:.5*n(2*t-o,0,r,o)+.5*r+e}}}(),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.util.object.clone,r=e.util.toFixed,o=e.util.parseUnit,s=e.util.multiplyTransformMatrices,a={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},c={stroke:"strokeOpacity",fill:"fillOpacity"},h="font-size",l="clip-path";function u(t){return t in a?a[t]:t}function f(t,i,n,r){var a,c=Array.isArray(i);if("fill"!==t&&"stroke"!==t||"none"!==i){if("strokeUniform"===t)return"non-scaling-stroke"===i;if("strokeDashArray"===t)i="none"===i?null:i.replace(/,/g," ").split(/\s+/).map(parseFloat);else if("transformMatrix"===t)i=n&&n.transformMatrix?s(n.transformMatrix,e.parseTransformAttribute(i)):e.parseTransformAttribute(i);else if("visible"===t)i="none"!==i&&"hidden"!==i,n&&!1===n.visible&&(i=!1);else if("opacity"===t)i=parseFloat(i),n&&void 0!==n.opacity&&(i*=n.opacity);else if("textAnchor"===t)i="start"===i?"left":"end"===i?"right":"center";else if("charSpacing"===t)a=o(i,r)/r*1e3;else if("paintFirst"===t){var h=i.indexOf("fill"),l=i.indexOf("stroke");i="fill",(h>-1&&l>-1&&l<h||-1===h&&l>-1)&&(i="stroke")}else{if("href"===t||"xlink:href"===t||"font"===t)return i;if("imageSmoothing"===t)return"optimizeQuality"===i;a=c?i.map(o):o(i,r)}}else i="";return!c&&isNaN(a)?i:a}function d(t){return new RegExp("^("+t.join("|")+")\\b","i")}function g(t,e){var i,n,r,o,s=[];for(r=0,o=e.length;r<o;r++)i=e[r],n=t.getElementsByTagName(i),s=s.concat(Array.prototype.slice.call(n));return s}function p(t,e){var i,n=!0;return(i=v(t,e.pop()))&&e.length&&(n=function(t,e){for(var i,n=!0;t.parentNode&&1===t.parentNode.nodeType&&e.length;)n&&(i=e.pop()),n=v(t=t.parentNode,i);return 0===e.length}(t,e)),i&&n&&0===e.length}function v(t,e){var i,n,r=t.nodeName,o=t.getAttribute("class"),s=t.getAttribute("id");if(i=new RegExp("^"+r,"i"),e=e.replace(i,""),s&&e.length&&(i=new RegExp("#"+s+"(?![a-zA-Z\\-]+)","i"),e=e.replace(i,"")),o&&e.length)for(n=(o=o.split(" ")).length;n--;)i=new RegExp("\\."+o[n]+"(?![a-zA-Z\\-]+)","i"),e=e.replace(i,"");return 0===e.length}function m(t,e){var i;if(t.getElementById&&(i=t.getElementById(e)),i)return i;var n,r,o,s=t.getElementsByTagName("*");for(r=0,o=s.length;r<o;r++)if(e===(n=s[r]).getAttribute("id"))return n}e.svgValidTagNamesRegEx=d(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),e.svgViewBoxElementsRegEx=d(["symbol","image","marker","pattern","view","svg"]),e.svgInvalidAncestorsRegEx=d(["pattern","defs","symbol","metadata","clipPath","mask","desc"]),e.svgValidParentsRegEx=d(["symbol","g","a","svg","clipPath","defs"]),e.cssRules={},e.gradientDefs={},e.clipPaths={},e.parseTransformAttribute=function(){function t(t,i,n){t[n]=Math.tan(e.util.degreesToRadians(i[0]))}var i=e.iMatrix,n=e.reNum,r=e.commaWsp,o="(?:(?:(matrix)\\s*\\(\\s*("+n+")"+r+"("+n+")"+r+"("+n+")"+r+"("+n+")"+r+"("+n+")"+r+"("+n+")\\s*\\))|(?:(translate)\\s*\\(\\s*("+n+")(?:"+r+"("+n+"))?\\s*\\))|(?:(scale)\\s*\\(\\s*("+n+")(?:"+r+"("+n+"))?\\s*\\))|(?:(rotate)\\s*\\(\\s*("+n+")(?:"+r+"("+n+")"+r+"("+n+"))?\\s*\\))|(?:(skewX)\\s*\\(\\s*("+n+")\\s*\\))|(?:(skewY)\\s*\\(\\s*("+n+")\\s*\\)))",s=new RegExp("^\\s*(?:(?:"+o+"(?:"+r+"*"+o+")*)?)\\s*$"),a=new RegExp(o,"g");return function(n){var r=i.concat(),c=[];if(!n||n&&!s.test(n))return r;n.replace(a,(function(n){var s=new RegExp(o).exec(n).filter((function(t){return!!t})),a=s[1],h=s.slice(2).map(parseFloat);switch(a){case"translate":!function(t,e){t[4]=e[0],2===e.length&&(t[5]=e[1])}(r,h);break;case"rotate":h[0]=e.util.degreesToRadians(h[0]),function(t,i){var n=e.util.cos(i[0]),r=e.util.sin(i[0]),o=0,s=0;3===i.length&&(o=i[1],s=i[2]),t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t[4]=o-(n*o-r*s),t[5]=s-(r*o+n*s)}(r,h);break;case"scale":!function(t,e){var i=e[0],n=2===e.length?e[1]:e[0];t[0]=i,t[3]=n}(r,h);break;case"skewX":t(r,h,2);break;case"skewY":t(r,h,1);break;case"matrix":r=h}c.push(r.concat()),r=i.concat()}));for(var h=c[0];c.length>1;)c.shift(),h=e.util.multiplyTransformMatrices(h,c[0]);return h}}();var y=new RegExp("^\\s*("+e.reNum+"+)\\s*,?\\s*("+e.reNum+"+)\\s*,?\\s*("+e.reNum+"+)\\s*,?\\s*("+e.reNum+"+)\\s*$");function C(t){if(!e.svgViewBoxElementsRegEx.test(t.nodeName))return{};var i,n,r,s,a,c,h=t.getAttribute("viewBox"),l=1,u=1,f=t.getAttribute("width"),d=t.getAttribute("height"),g=t.getAttribute("x")||0,p=t.getAttribute("y")||0,v=t.getAttribute("preserveAspectRatio")||"",m=!h||!(h=h.match(y)),C=!f||!d||"100%"===f||"100%"===d,_=m&&C,x={},b="",S=0,w=0;if(x.width=0,x.height=0,x.toBeParsed=_,m&&(g||p)&&t.parentNode&&"#document"!==t.parentNode.nodeName&&(b=" translate("+o(g)+" "+o(p)+") ",a=(t.getAttribute("transform")||"")+b,t.setAttribute("transform",a),t.removeAttribute("x"),t.removeAttribute("y")),_)return x;if(m)return x.width=o(f),x.height=o(d),x;if(i=-parseFloat(h[1]),n=-parseFloat(h[2]),r=parseFloat(h[3]),s=parseFloat(h[4]),x.minX=i,x.minY=n,x.viewBoxWidth=r,x.viewBoxHeight=s,C?(x.width=r,x.height=s):(x.width=o(f),x.height=o(d),l=x.width/r,u=x.height/s),"none"!==(v=e.util.parsePreserveAspectRatioAttribute(v)).alignX&&("meet"===v.meetOrSlice&&(u=l=l>u?u:l),"slice"===v.meetOrSlice&&(u=l=l>u?l:u),S=x.width-r*l,w=x.height-s*l,"Mid"===v.alignX&&(S/=2),"Mid"===v.alignY&&(w/=2),"Min"===v.alignX&&(S=0),"Min"===v.alignY&&(w=0)),1===l&&1===u&&0===i&&0===n&&0===g&&0===p)return x;if((g||p)&&"#document"!==t.parentNode.nodeName&&(b=" translate("+o(g)+" "+o(p)+") "),a=b+" matrix("+l+" 0 0 "+u+" "+(i*l+S)+" "+(n*u+w)+") ","svg"===t.nodeName){for(c=t.ownerDocument.createElementNS(e.svgNS,"g");t.firstChild;)c.appendChild(t.firstChild);t.appendChild(c)}else(c=t).removeAttribute("x"),c.removeAttribute("y"),a=c.getAttribute("transform")+a;return c.setAttribute("transform",a),x}function _(t,e){var i="xlink:href",n=m(t,e.getAttribute(i).slice(1));if(n&&n.getAttribute(i)&&_(t,n),["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"].forEach((function(t){n&&!e.hasAttribute(t)&&n.hasAttribute(t)&&e.setAttribute(t,n.getAttribute(t))})),!e.children.length)for(var r=n.cloneNode(!0);r.firstChild;)e.appendChild(r.firstChild);e.removeAttribute(i)}e.parseSVGDocument=function(t,i,r,o){if(t){!function(t){for(var i=g(t,["use","svg:use"]),n=0;i.length&&n<i.length;){var r=i[n],o=r.getAttribute("xlink:href")||r.getAttribute("href");if(null===o)return;var s,a,c,h,l=o.slice(1),u=r.getAttribute("x")||0,f=r.getAttribute("y")||0,d=m(t,l).cloneNode(!0),p=(d.getAttribute("transform")||"")+" translate("+u+", "+f+")",v=i.length,y=e.svgNS;if(C(d),/^svg$/i.test(d.nodeName)){var _=d.ownerDocument.createElementNS(y,"g");for(a=0,h=(c=d.attributes).length;a<h;a++)s=c.item(a),_.setAttributeNS(y,s.nodeName,s.nodeValue);for(;d.firstChild;)_.appendChild(d.firstChild);d=_}for(a=0,h=(c=r.attributes).length;a<h;a++)"x"!==(s=c.item(a)).nodeName&&"y"!==s.nodeName&&"xlink:href"!==s.nodeName&&"href"!==s.nodeName&&("transform"===s.nodeName?p=s.nodeValue+" "+p:d.setAttribute(s.nodeName,s.nodeValue));d.setAttribute("transform",p),d.setAttribute("instantiated_by_use","1"),d.removeAttribute("id"),r.parentNode.replaceChild(d,r),i.length===v&&n++}}(t);var s,a,c=e.Object.__uid++,h=C(t),l=e.util.toArray(t.getElementsByTagName("*"));if(h.crossOrigin=o&&o.crossOrigin,h.svgUid=c,0===l.length&&e.isLikelyNode){var u=[];for(s=0,a=(l=t.selectNodes('//*[name(.)!="svg"]')).length;s<a;s++)u[s]=l[s];l=u}var f=l.filter((function(t){return C(t),e.svgValidTagNamesRegEx.test(t.nodeName.replace("svg:",""))&&!function(t,e){for(;t&&(t=t.parentNode);)if(t.nodeName&&e.test(t.nodeName.replace("svg:",""))&&!t.getAttribute("instantiated_by_use"))return!0;return!1}(t,e.svgInvalidAncestorsRegEx)}));if(!f||f&&!f.length)i&&i([],{});else{var d={};l.filter((function(t){return"clipPath"===t.nodeName.replace("svg:","")})).forEach((function(t){var i=t.getAttribute("id");d[i]=e.util.toArray(t.getElementsByTagName("*")).filter((function(t){return e.svgValidTagNamesRegEx.test(t.nodeName.replace("svg:",""))}))})),e.gradientDefs[c]=e.getGradientDefs(t),e.cssRules[c]=e.getCSSRules(t),e.clipPaths[c]=d,e.parseElements(f,(function(t,n){i&&(i(t,h,n,l),delete e.gradientDefs[c],delete e.cssRules[c],delete e.clipPaths[c])}),n(h),r,o)}}};var x=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+e.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+e.reNum+"))?\\s+(.*)");i(e,{parseFontDeclaration:function(t,e){var i=t.match(x);if(i){var n=i[1],r=i[3],s=i[4],a=i[5],c=i[6];n&&(e.fontStyle=n),r&&(e.fontWeight=isNaN(parseFloat(r))?r:parseFloat(r)),s&&(e.fontSize=o(s)),c&&(e.fontFamily=c),a&&(e.lineHeight="normal"===a?1:a)}},getGradientDefs:function(t){var e,i=g(t,["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"]),n=0,r={};for(n=i.length;n--;)(e=i[n]).getAttribute("xlink:href")&&_(t,e),r[e.getAttribute("id")]=e;return r},parseAttributes:function(t,n,s){if(t){var a,d,g,v={};void 0===s&&(s=t.getAttribute("svgUid")),t.parentNode&&e.svgValidParentsRegEx.test(t.parentNode.nodeName)&&(v=e.parseAttributes(t.parentNode,n,s));var m=n.reduce((function(e,i){return(a=t.getAttribute(i))&&(e[i]=a),e}),{}),y=i(function(t,i){var n={};for(var r in e.cssRules[i])if(p(t,r.split(" ")))for(var o in e.cssRules[i][r])n[o]=e.cssRules[i][r][o];return n}(t,s),e.parseStyleAttribute(t));m=i(m,y),y[l]&&t.setAttribute(l,y[l]),d=g=v.fontSize||e.Text.DEFAULT_SVG_FONT_SIZE,m[h]&&(m[h]=d=o(m[h],g));var C,_,x={};for(var b in m)_=f(C=u(b),m[b],v,d),x[C]=_;x&&x.font&&e.parseFontDeclaration(x.font,x);var S=i(v,x);return e.svgValidParentsRegEx.test(t.nodeName)?S:function(t){for(var i in c)if(void 0!==t[c[i]]&&""!==t[i]){if(void 0===t[i]){if(!e.Object.prototype[i])continue;t[i]=e.Object.prototype[i]}if(0!==t[i].indexOf("url(")){var n=new e.Color(t[i]);t[i]=n.setAlpha(r(n.getAlpha()*t[c[i]],2)).toRgba()}}return t}(S)}},parseElements:function(t,i,n,r,o){new e.ElementsParser(t,i,n,r,o).parse()},parseStyleAttribute:function(t){var e={},i=t.getAttribute("style");return i?("string"==typeof i?function(t,e){var i,n;t.replace(/;\s*$/,"").split(";").forEach((function(t){var r=t.split(":");i=r[0].trim().toLowerCase(),n=r[1].trim(),e[i]=n}))}(i,e):function(t,e){var i,n;for(var r in t)void 0!==t[r]&&(i=r.toLowerCase(),n=t[r],e[i]=n)}(i,e),e):e},parsePointsAttribute:function(t){if(!t)return null;var e,i,n=[];for(e=0,i=(t=(t=t.replace(/,/g," ").trim()).split(/\s+/)).length;e<i;e+=2)n.push({x:parseFloat(t[e]),y:parseFloat(t[e+1])});return n},getCSSRules:function(t){var i,n,r=t.getElementsByTagName("style"),o={};for(i=0,n=r.length;i<n;i++){var s=r[i].textContent;""!==(s=s.replace(/\/\*[\s\S]*?\*\//g,"")).trim()&&s.split("}").filter((function(t){return t.trim()})).forEach((function(t){var r=t.split("{"),s={},a=r[1].trim().split(";").filter((function(t){return t.trim()}));for(i=0,n=a.length;i<n;i++){var c=a[i].split(":"),h=c[0].trim(),l=c[1].trim();s[h]=l}(t=r[0].trim()).split(",").forEach((function(t){""!==(t=t.replace(/^svg/i,"").trim())&&(o[t]?e.util.object.extend(o[t],s):o[t]=e.util.object.clone(s))}))}))}return o},loadSVGFromURL:function(t,i,n,r){t=t.replace(/^\n\s*/,"").trim(),new e.util.request(t,{method:"get",onComplete:function(t){var o=t.responseXML;if(!o||!o.documentElement)return i&&i(null),!1;e.parseSVGDocument(o.documentElement,(function(t,e,n,r){i&&i(t,e,n,r)}),n,r)}})},loadSVGFromString:function(t,i,n,r){var o=(new e.window.DOMParser).parseFromString(t.trim(),"text/xml");e.parseSVGDocument(o.documentElement,(function(t,e,n,r){i(t,e,n,r)}),n,r)}})}(e),A.ElementsParser=function(t,e,i,n,r,o){this.elements=t,this.callback=e,this.options=i,this.reviver=n,this.svgUid=i&&i.svgUid||0,this.parsingOptions=r,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=o},(v=A.ElementsParser.prototype).parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},v.createObjects=function(){var t=this;this.elements.forEach((function(e,i){e.setAttribute("svgUid",t.svgUid),t.createObject(e,i)}))},v.findTag=function(t){return A[A.util.string.capitalize(t.tagName.replace("svg:",""))]},v.createObject=function(t,e){var i=this.findTag(t);if(i&&i.fromElement)try{i.fromElement(t,this.createCallback(e,t),this.options)}catch(t){A.log(t)}else this.checkIfDone()},v.createCallback=function(t,e){var i=this;return function(n){var r;i.resolveGradient(n,e,"fill"),i.resolveGradient(n,e,"stroke"),n instanceof A.Image&&n._originalElement&&(r=n.parsePreserveAspectRatioAttribute(e)),n._removeTransformMatrix(r),i.resolveClipPath(n,e),i.reviver&&i.reviver(e,n),i.instances[t]=n,i.checkIfDone()}},v.extractPropertyDefinition=function(t,e,i){var n=t[e],r=this.regexUrl;if(r.test(n)){r.lastIndex=0;var o=r.exec(n)[1];return r.lastIndex=0,A[i][this.svgUid][o]}},v.resolveGradient=function(t,e,i){var n=this.extractPropertyDefinition(t,i,"gradientDefs");if(n){var r=e.getAttribute(i+"-opacity"),o=A.Gradient.fromElement(n,t,r,this.options);t.set(i,o)}},v.createClipPathCallback=function(t,e){return function(t){t._removeTransformMatrix(),t.fillRule=t.clipRule,e.push(t)}},v.resolveClipPath=function(t,e){var i,n,r,o,s=this.extractPropertyDefinition(t,"clipPath","clipPaths");if(s){r=[],n=A.util.invertTransform(t.calcTransformMatrix());for(var a=s[0].parentNode,c=e;c.parentNode&&c.getAttribute("clip-path")!==t.clipPath;)c=c.parentNode;c.parentNode.appendChild(a);for(var h=0;h<s.length;h++)i=s[h],this.findTag(i).fromElement(i,this.createClipPathCallback(t,r),this.options);s=1===r.length?r[0]:new A.Group(r),o=A.util.multiplyTransformMatrices(n,s.calcTransformMatrix()),s.clipPath&&this.resolveClipPath(s,c);var l=A.util.qrDecompose(o);s.flipX=!1,s.flipY=!1,s.set("scaleX",l.scaleX),s.set("scaleY",l.scaleY),s.angle=l.angle,s.skewX=l.skewX,s.skewY=0,s.setPositionByOrigin({x:l.translateX,y:l.translateY},"center","center"),t.clipPath=s}else delete t.clipPath},v.checkIfDone=function(){0==--this.numElements&&(this.instances=this.instances.filter((function(t){return null!=t})),this.callback(this.instances,this.elements))},function(t){"use strict";var e=t.fabric||(t.fabric={});function i(t,e){this.x=t,this.y=e}e.Point?e.warn("fabric.Point is already defined"):(e.Point=i,i.prototype={type:"point",constructor:i,add:function(t){return new i(this.x+t.x,this.y+t.y)},addEquals:function(t){return this.x+=t.x,this.y+=t.y,this},scalarAdd:function(t){return new i(this.x+t,this.y+t)},scalarAddEquals:function(t){return this.x+=t,this.y+=t,this},subtract:function(t){return new i(this.x-t.x,this.y-t.y)},subtractEquals:function(t){return this.x-=t.x,this.y-=t.y,this},scalarSubtract:function(t){return new i(this.x-t,this.y-t)},scalarSubtractEquals:function(t){return this.x-=t,this.y-=t,this},multiply:function(t){return new i(this.x*t,this.y*t)},multiplyEquals:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return new i(this.x/t,this.y/t)},divideEquals:function(t){return this.x/=t,this.y/=t,this},eq:function(t){return this.x===t.x&&this.y===t.y},lt:function(t){return this.x<t.x&&this.y<t.y},lte:function(t){return this.x<=t.x&&this.y<=t.y},gt:function(t){return this.x>t.x&&this.y>t.y},gte:function(t){return this.x>=t.x&&this.y>=t.y},lerp:function(t,e){return void 0===e&&(e=.5),e=Math.max(Math.min(1,e),0),new i(this.x+(t.x-this.x)*e,this.y+(t.y-this.y)*e)},distanceFrom:function(t){var e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)},midPointFrom:function(t){return this.lerp(t)},min:function(t){return new i(Math.min(this.x,t.x),Math.min(this.y,t.y))},max:function(t){return new i(Math.max(this.x,t.x),Math.max(this.y,t.y))},toString:function(){return this.x+","+this.y},setXY:function(t,e){return this.x=t,this.y=e,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setFromPoint:function(t){return this.x=t.x,this.y=t.y,this},swap:function(t){var e=this.x,i=this.y;this.x=t.x,this.y=t.y,t.x=e,t.y=i},clone:function(){return new i(this.x,this.y)}})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});function i(t){this.status=t,this.points=[]}e.Intersection?e.warn("fabric.Intersection is already defined"):(e.Intersection=i,e.Intersection.prototype={constructor:i,appendPoint:function(t){return this.points.push(t),this},appendPoints:function(t){return this.points=this.points.concat(t),this}},e.Intersection.intersectLineLine=function(t,n,r,o){var s,a=(o.x-r.x)*(t.y-r.y)-(o.y-r.y)*(t.x-r.x),c=(n.x-t.x)*(t.y-r.y)-(n.y-t.y)*(t.x-r.x),h=(o.y-r.y)*(n.x-t.x)-(o.x-r.x)*(n.y-t.y);if(0!==h){var l=a/h,u=c/h;0<=l&&l<=1&&0<=u&&u<=1?(s=new i("Intersection")).appendPoint(new e.Point(t.x+l*(n.x-t.x),t.y+l*(n.y-t.y))):s=new i}else s=new i(0===a||0===c?"Coincident":"Parallel");return s},e.Intersection.intersectLinePolygon=function(t,e,n){var r,o,s,a,c=new i,h=n.length;for(a=0;a<h;a++)r=n[a],o=n[(a+1)%h],s=i.intersectLineLine(t,e,r,o),c.appendPoints(s.points);return c.points.length>0&&(c.status="Intersection"),c},e.Intersection.intersectPolygonPolygon=function(t,e){var n,r=new i,o=t.length;for(n=0;n<o;n++){var s=t[n],a=t[(n+1)%o],c=i.intersectLinePolygon(s,a,e);r.appendPoints(c.points)}return r.points.length>0&&(r.status="Intersection"),r},e.Intersection.intersectPolygonRectangle=function(t,n,r){var o=n.min(r),s=n.max(r),a=new e.Point(s.x,o.y),c=new e.Point(o.x,s.y),h=i.intersectLinePolygon(o,a,t),l=i.intersectLinePolygon(a,s,t),u=i.intersectLinePolygon(s,c,t),f=i.intersectLinePolygon(c,o,t),d=new i;return d.appendPoints(h.points),d.appendPoints(l.points),d.appendPoints(u.points),d.appendPoints(f.points),d.points.length>0&&(d.status="Intersection"),d})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});function i(t){t?this._tryParsingColor(t):this.setSource([0,0,0,1])}function n(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}e.Color?e.warn("fabric.Color is already defined."):(e.Color=i,e.Color.prototype={_tryParsingColor:function(t){var e;t in i.colorNameMap&&(t=i.colorNameMap[t]),"transparent"===t&&(e=[255,255,255,0]),e||(e=i.sourceFromHex(t)),e||(e=i.sourceFromRgb(t)),e||(e=i.sourceFromHsl(t)),e||(e=[0,0,0,1]),e&&this.setSource(e)},_rgbToHsl:function(t,i,n){t/=255,i/=255,n/=255;var r,o,s,a=e.util.array.max([t,i,n]),c=e.util.array.min([t,i,n]);if(s=(a+c)/2,a===c)r=o=0;else{var h=a-c;switch(o=s>.5?h/(2-a-c):h/(a+c),a){case t:r=(i-n)/h+(i<n?6:0);break;case i:r=(n-t)/h+2;break;case n:r=(t-i)/h+4}r/=6}return[Math.round(360*r),Math.round(100*o),Math.round(100*s)]},getSource:function(){return this._source},setSource:function(t){this._source=t},toRgb:function(){var t=this.getSource();return"rgb("+t[0]+","+t[1]+","+t[2]+")"},toRgba:function(){var t=this.getSource();return"rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")"},toHsl:function(){var t=this.getSource(),e=this._rgbToHsl(t[0],t[1],t[2]);return"hsl("+e[0]+","+e[1]+"%,"+e[2]+"%)"},toHsla:function(){var t=this.getSource(),e=this._rgbToHsl(t[0],t[1],t[2]);return"hsla("+e[0]+","+e[1]+"%,"+e[2]+"%,"+t[3]+")"},toHex:function(){var t,e,i,n=this.getSource();return t=1===(t=n[0].toString(16)).length?"0"+t:t,e=1===(e=n[1].toString(16)).length?"0"+e:e,i=1===(i=n[2].toString(16)).length?"0"+i:i,t.toUpperCase()+e.toUpperCase()+i.toUpperCase()},toHexa:function(){var t,e=this.getSource();return t=1===(t=(t=Math.round(255*e[3])).toString(16)).length?"0"+t:t,this.toHex()+t.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(t){var e=this.getSource();return e[3]=t,this.setSource(e),this},toGrayscale:function(){var t=this.getSource(),e=parseInt((.3*t[0]+.59*t[1]+.11*t[2]).toFixed(0),10),i=t[3];return this.setSource([e,e,e,i]),this},toBlackWhite:function(t){var e=this.getSource(),i=(.3*e[0]+.59*e[1]+.11*e[2]).toFixed(0),n=e[3];return t=t||127,i=Number(i)<Number(t)?0:255,this.setSource([i,i,i,n]),this},overlayWith:function(t){t instanceof i||(t=new i(t));var e,n=[],r=this.getAlpha(),o=this.getSource(),s=t.getSource();for(e=0;e<3;e++)n.push(Math.round(.5*o[e]+.5*s[e]));return n[3]=r,this.setSource(n),this}},e.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,e.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,e.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,e.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},e.Color.fromRgb=function(t){return i.fromSource(i.sourceFromRgb(t))},e.Color.sourceFromRgb=function(t){var e=t.match(i.reRGBa);if(e){var n=parseInt(e[1],10)/(/%$/.test(e[1])?100:1)*(/%$/.test(e[1])?255:1),r=parseInt(e[2],10)/(/%$/.test(e[2])?100:1)*(/%$/.test(e[2])?255:1),o=parseInt(e[3],10)/(/%$/.test(e[3])?100:1)*(/%$/.test(e[3])?255:1);return[parseInt(n,10),parseInt(r,10),parseInt(o,10),e[4]?parseFloat(e[4]):1]}},e.Color.fromRgba=i.fromRgb,e.Color.fromHsl=function(t){return i.fromSource(i.sourceFromHsl(t))},e.Color.sourceFromHsl=function(t){var e=t.match(i.reHSLa);if(e){var r,o,s,a=(parseFloat(e[1])%360+360)%360/360,c=parseFloat(e[2])/(/%$/.test(e[2])?100:1),h=parseFloat(e[3])/(/%$/.test(e[3])?100:1);if(0===c)r=o=s=h;else{var l=h<=.5?h*(c+1):h+c-h*c,u=2*h-l;r=n(u,l,a+1/3),o=n(u,l,a),s=n(u,l,a-1/3)}return[Math.round(255*r),Math.round(255*o),Math.round(255*s),e[4]?parseFloat(e[4]):1]}},e.Color.fromHsla=i.fromHsl,e.Color.fromHex=function(t){return i.fromSource(i.sourceFromHex(t))},e.Color.sourceFromHex=function(t){if(t.match(i.reHex)){var e=t.slice(t.indexOf("#")+1),n=3===e.length||4===e.length,r=8===e.length||4===e.length,o=n?e.charAt(0)+e.charAt(0):e.substring(0,2),s=n?e.charAt(1)+e.charAt(1):e.substring(2,4),a=n?e.charAt(2)+e.charAt(2):e.substring(4,6),c=r?n?e.charAt(3)+e.charAt(3):e.substring(6,8):"FF";return[parseInt(o,16),parseInt(s,16),parseInt(a,16),parseFloat((parseInt(c,16)/255).toFixed(2))]}},e.Color.fromSource=function(t){var e=new i;return e.setSource(t),e})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=["e","se","s","sw","w","nw","n","ne","e"],n=["ns","nesw","ew","nwse"],r={},o="left",s="top",a="right",c="bottom",h="center",l={top:c,bottom:s,left:a,right:o,center:h},u=e.util.radiansToDegrees,f=Math.sign||function(t){return(t>0)-(t<0)||+t};function d(t,e){var i=t.angle+u(Math.atan2(e.y,e.x))+360;return Math.round(i%360/45)}function g(t,i){var n=i.transform.target,r=n.canvas,o=e.util.object.clone(i);o.target=n,r&&r.fire("object:"+t,o),n.fire(t,i)}function p(t,e){var i=e.canvas,n=t[i.uniScaleKey];return i.uniformScaling&&!n||!i.uniformScaling&&n}function v(t){return t.originX===h&&t.originY===h}function m(t,e,i){var n=t.lockScalingX,r=t.lockScalingY;return!((!n||!r)&&(e||!n&&!r||!i)&&(!n||"x"!==e)&&(!r||"y"!==e))}function y(t,e,i,n){return{e:t,transform:e,pointer:{x:i,y:n}}}function C(t){return function(e,i,n,r){var o=i.target,s=o.getCenterPoint(),a=o.translateToOriginPoint(s,i.originX,i.originY),c=t(e,i,n,r);return o.setPositionByOrigin(a,i.originX,i.originY),c}}function _(t,e){return function(i,n,r,o){var s=e(i,n,r,o);return s&&g(t,y(i,n,r,o)),s}}function x(t,i,n,r,o){var s=t.target,a=s.controls[t.corner],c=s.canvas.getZoom(),h=s.padding/c,l=s.toLocalPoint(new e.Point(r,o),i,n);return l.x>=h&&(l.x-=h),l.x<=-h&&(l.x+=h),l.y>=h&&(l.y-=h),l.y<=h&&(l.y+=h),l.x-=a.offsetX,l.y-=a.offsetY,l}function b(t){return t.flipX!==t.flipY}function S(t,e,i,n,r){if(0!==t[e]){var o=r/t._getTransformedDimensions()[n]*t[i];t.set(i,o)}}function w(t,e,i,n){var r,h=e.target,l=h._getTransformedDimensions(0,h.skewY),f=x(e,e.originX,e.originY,i,n),d=Math.abs(2*f.x)-l.x,g=h.skewX;d<2?r=0:(r=u(Math.atan2(d/h.scaleX,l.y/h.scaleY)),e.originX===o&&e.originY===c&&(r=-r),e.originX===a&&e.originY===s&&(r=-r),b(h)&&(r=-r));var p=g!==r;if(p){var v=h._getTransformedDimensions().y;h.set("skewX",r),S(h,"skewY","scaleY","y",v)}return p}function A(t,e,i,n){var r,h=e.target,l=h._getTransformedDimensions(h.skewX,0),f=x(e,e.originX,e.originY,i,n),d=Math.abs(2*f.y)-l.y,g=h.skewY;d<2?r=0:(r=u(Math.atan2(d/h.scaleY,l.x/h.scaleX)),e.originX===o&&e.originY===c&&(r=-r),e.originX===a&&e.originY===s&&(r=-r),b(h)&&(r=-r));var p=g!==r;if(p){var v=h._getTransformedDimensions().x;h.set("skewY",r),S(h,"skewX","scaleX","x",v)}return p}function T(t,e,i,n,r){r=r||{};var o,s,a,c,h,u,d=e.target,g=d.lockScalingX,y=d.lockScalingY,C=r.by,_=p(t,d),b=m(d,C,_),S=e.gestureScale;if(b)return!1;if(S)s=e.scaleX*S,a=e.scaleY*S;else{if(o=x(e,e.originX,e.originY,i,n),h="y"!==C?f(o.x):1,u="x"!==C?f(o.y):1,e.signX||(e.signX=h),e.signY||(e.signY=u),d.lockScalingFlip&&(e.signX!==h||e.signY!==u))return!1;if(c=d._getTransformedDimensions(),_&&!C){var w=Math.abs(o.x)+Math.abs(o.y),A=e.original,T=w/(Math.abs(c.x*A.scaleX/d.scaleX)+Math.abs(c.y*A.scaleY/d.scaleY));s=A.scaleX*T,a=A.scaleY*T}else s=Math.abs(o.x*d.scaleX/c.x),a=Math.abs(o.y*d.scaleY/c.y);v(e)&&(s*=2,a*=2),e.signX!==h&&"y"!==C&&(e.originX=l[e.originX],s*=-1,e.signX=h),e.signY!==u&&"x"!==C&&(e.originY=l[e.originY],a*=-1,e.signY=u)}var O=d.scaleX,k=d.scaleY;return C?("x"===C&&d.set("scaleX",s),"y"===C&&d.set("scaleY",a)):(!g&&d.set("scaleX",s),!y&&d.set("scaleY",a)),O!==d.scaleX||k!==d.scaleY}r.scaleCursorStyleHandler=function(t,e,n){var r=p(t,n),o="";if(0!==e.x&&0===e.y?o="x":0===e.x&&0!==e.y&&(o="y"),m(n,o,r))return"not-allowed";var s=d(n,e);return i[s]+"-resize"},r.skewCursorStyleHandler=function(t,e,i){var r="not-allowed";if(0!==e.x&&i.lockSkewingY)return r;if(0!==e.y&&i.lockSkewingX)return r;var o=d(i,e)%4;return n[o]+"-resize"},r.scaleSkewCursorStyleHandler=function(t,e,i){return t[i.canvas.altActionKey]?r.skewCursorStyleHandler(t,e,i):r.scaleCursorStyleHandler(t,e,i)},r.rotationWithSnapping=_("rotating",C((function(t,e,i,n){var r=e,o=r.target,s=o.translateToOriginPoint(o.getCenterPoint(),r.originX,r.originY);if(o.lockRotation)return!1;var a,c=Math.atan2(r.ey-s.y,r.ex-s.x),h=Math.atan2(n-s.y,i-s.x),l=u(h-c+r.theta);if(o.snapAngle>0){var f=o.snapAngle,d=o.snapThreshold||f,g=Math.ceil(l/f)*f,p=Math.floor(l/f)*f;Math.abs(l-p)<d?l=p:Math.abs(l-g)<d&&(l=g)}return l<0&&(l=360+l),l%=360,a=o.angle!==l,o.angle=l,a}))),r.scalingEqually=_("scaling",C((function(t,e,i,n){return T(t,e,i,n)}))),r.scalingX=_("scaling",C((function(t,e,i,n){return T(t,e,i,n,{by:"x"})}))),r.scalingY=_("scaling",C((function(t,e,i,n){return T(t,e,i,n,{by:"y"})}))),r.scalingYOrSkewingX=function(t,e,i,n){return t[e.target.canvas.altActionKey]?r.skewHandlerX(t,e,i,n):r.scalingY(t,e,i,n)},r.scalingXOrSkewingY=function(t,e,i,n){return t[e.target.canvas.altActionKey]?r.skewHandlerY(t,e,i,n):r.scalingX(t,e,i,n)},r.changeWidth=_("resizing",C((function(t,e,i,n){var r=e.target,o=x(e,e.originX,e.originY,i,n),s=r.strokeWidth/(r.strokeUniform?r.scaleX:1),a=v(e)?2:1,c=r.width,h=Math.abs(o.x*a/r.scaleX)-s;return r.set("width",Math.max(h,0)),c!==h}))),r.skewHandlerX=function(t,e,i,n){var r,c=e.target,l=c.skewX,u=e.originY;return!c.lockSkewingX&&(0===l?r=x(e,h,h,i,n).x>0?o:a:(l>0&&(r=u===s?o:a),l<0&&(r=u===s?a:o),b(c)&&(r=r===o?a:o)),e.originX=r,_("skewing",C(w))(t,e,i,n))},r.skewHandlerY=function(t,e,i,n){var r,a=e.target,l=a.skewY,u=e.originX;return!a.lockSkewingY&&(0===l?r=x(e,h,h,i,n).y>0?s:c:(l>0&&(r=u===o?s:c),l<0&&(r=u===o?c:s),b(a)&&(r=r===s?c:s)),e.originY=r,_("skewing",C(A))(t,e,i,n))},r.dragHandler=function(t,e,i,n){var r=e.target,o=i-e.offsetX,s=n-e.offsetY,a=!r.get("lockMovementX")&&r.left!==o,c=!r.get("lockMovementY")&&r.top!==s;return a&&r.set("left",o),c&&r.set("top",s),(a||c)&&g("moving",y(t,e,i,n)),a||c},r.scaleOrSkewActionName=function(t,e,i){var n=t[i.canvas.altActionKey];return 0===e.x?n?"skewX":"scaleY":0===e.y?n?"skewY":"scaleX":void 0},r.rotationStyleHandler=function(t,e,i){return i.lockRotation?"not-allowed":e.cursorStyle},r.fireEvent=g,r.wrapWithFixedAnchor=C,r.wrapWithFireEvent=_,r.getLocalPoint=x,e.controlsUtils=r}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.degreesToRadians,n=e.controlsUtils;n.renderCircleControl=function(t,e,i,n,r){n=n||{};var o,s=this.sizeX||n.cornerSize||r.cornerSize,a=this.sizeY||n.cornerSize||r.cornerSize,c=void 0!==n.transparentCorners?n.transparentCorners:r.transparentCorners,h=c?"stroke":"fill",l=!c&&(n.cornerStrokeColor||r.cornerStrokeColor),u=e,f=i;t.save(),t.fillStyle=n.cornerColor||r.cornerColor,t.strokeStyle=n.cornerStrokeColor||r.cornerStrokeColor,s>a?(o=s,t.scale(1,a/s),f=i*s/a):a>s?(o=a,t.scale(s/a,1),u=e*a/s):o=s,t.lineWidth=1,t.beginPath(),t.arc(u,f,o/2,0,2*Math.PI,!1),t[h](),l&&t.stroke(),t.restore()},n.renderSquareControl=function(t,e,n,r,o){r=r||{};var s=this.sizeX||r.cornerSize||o.cornerSize,a=this.sizeY||r.cornerSize||o.cornerSize,c=void 0!==r.transparentCorners?r.transparentCorners:o.transparentCorners,h=c?"stroke":"fill",l=!c&&(r.cornerStrokeColor||o.cornerStrokeColor),u=s/2,f=a/2;t.save(),t.fillStyle=r.cornerColor||o.cornerColor,t.strokeStyle=r.cornerStrokeColor||o.cornerStrokeColor,t.lineWidth=1,t.translate(e,n),t.rotate(i(o.angle)),t[h+"Rect"](-u,-f,s,a),l&&t.strokeRect(-u,-f,s,a),t.restore()}}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Control=function(t){for(var e in t)this[e]=t[e]},e.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(t,e){return e.cursorStyle},getActionName:function(t,e){return e.actionName},getVisibility:function(t,e){var i=t._controlsVisibility;return i&&void 0!==i[e]?i[e]:this.visible},setVisibility:function(t){this.visible=t},positionHandler:function(t,i){return e.util.transformPoint({x:this.x*t.x+this.offsetX,y:this.y*t.y+this.offsetY},i)},calcCornerCoords:function(t,i,n,r,o){var s,a,c,h,l=o?this.touchSizeX:this.sizeX,u=o?this.touchSizeY:this.sizeY;if(l&&u&&l!==u){var f=Math.atan2(u,l),d=Math.sqrt(l*l+u*u)/2,g=f-e.util.degreesToRadians(t),p=Math.PI/2-f-e.util.degreesToRadians(t);s=d*e.util.cos(g),a=d*e.util.sin(g),c=d*e.util.cos(p),h=d*e.util.sin(p)}else d=.7071067812*(l&&u?l:i),g=e.util.degreesToRadians(45-t),s=c=d*e.util.cos(g),a=h=d*e.util.sin(g);return{tl:{x:n-h,y:r-c},tr:{x:n+s,y:r-a},bl:{x:n-s,y:r+a},br:{x:n+h,y:r+c}}},render:function(t,i,n,r,o){"circle"===((r=r||{}).cornerStyle||o.cornerStyle)?e.controlsUtils.renderCircleControl.call(this,t,i,n,r,o):e.controlsUtils.renderSquareControl.call(this,t,i,n,r,o)}}}(e),function(){function t(t,e){var i,n,r,o,s=t.getAttribute("style"),a=t.getAttribute("offset")||0;if(a=(a=parseFloat(a)/(/%$/.test(a)?100:1))<0?0:a>1?1:a,s){var c=s.split(/\s*;\s*/);for(""===c[c.length-1]&&c.pop(),o=c.length;o--;){var h=c[o].split(/\s*:\s*/),l=h[0].trim(),u=h[1].trim();"stop-color"===l?i=u:"stop-opacity"===l&&(r=u)}}return i||(i=t.getAttribute("stop-color")||"rgb(0,0,0)"),r||(r=t.getAttribute("stop-opacity")),n=(i=new A.Color(i)).getAlpha(),r=isNaN(parseFloat(r))?1:parseFloat(r),r*=n*e,{offset:a,color:i.toRgb(),opacity:r}}var e=A.util.object.clone;A.Gradient=A.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(t){t||(t={}),t.coords||(t.coords={});var e,i=this;Object.keys(t).forEach((function(e){i[e]=t[e]})),this.id?this.id+="_"+A.Object.__uid++:this.id=A.Object.__uid++,e={x1:t.coords.x1||0,y1:t.coords.y1||0,x2:t.coords.x2||0,y2:t.coords.y2||0},"radial"===this.type&&(e.r1=t.coords.r1||0,e.r2=t.coords.r2||0),this.coords=e,this.colorStops=t.colorStops.slice()},addColorStop:function(t){for(var e in t){var i=new A.Color(t[e]);this.colorStops.push({offset:parseFloat(e),color:i.toRgb(),opacity:i.getAlpha()})}return this},toObject:function(t){var e={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return A.util.populateWithProperties(this,e,t),e},toSVG:function(t,i){var n,r,o,s,a=e(this.coords,!0),c=(i=i||{},e(this.colorStops,!0)),h=a.r1>a.r2,l=this.gradientTransform?this.gradientTransform.concat():A.iMatrix.concat(),u=-this.offsetX,f=-this.offsetY,d=!!i.additionalTransform,g="pixels"===this.gradientUnits?"userSpaceOnUse":"objectBoundingBox";if(c.sort((function(t,e){return t.offset-e.offset})),"objectBoundingBox"===g?(u/=t.width,f/=t.height):(u+=t.width/2,f+=t.height/2),"path"===t.type&&"percentage"!==this.gradientUnits&&(u-=t.pathOffset.x,f-=t.pathOffset.y),l[4]-=u,l[5]-=f,s='id="SVGID_'+this.id+'" gradientUnits="'+g+'"',s+=' gradientTransform="'+(d?i.additionalTransform+" ":"")+A.util.matrixToSVG(l)+'" ',"linear"===this.type?o=["<linearGradient ",s,' x1="',a.x1,'" y1="',a.y1,'" x2="',a.x2,'" y2="',a.y2,'">\n']:"radial"===this.type&&(o=["<radialGradient ",s,' cx="',h?a.x1:a.x2,'" cy="',h?a.y1:a.y2,'" r="',h?a.r1:a.r2,'" fx="',h?a.x2:a.x1,'" fy="',h?a.y2:a.y1,'">\n']),"radial"===this.type){if(h)for((c=c.concat()).reverse(),n=0,r=c.length;n<r;n++)c[n].offset=1-c[n].offset;var p=Math.min(a.r1,a.r2);if(p>0){var v=p/Math.max(a.r1,a.r2);for(n=0,r=c.length;n<r;n++)c[n].offset+=v*(1-c[n].offset)}}for(n=0,r=c.length;n<r;n++){var m=c[n];o.push("<stop ",'offset="',100*m.offset+"%",'" style="stop-color:',m.color,void 0!==m.opacity?";stop-opacity: "+m.opacity:";",'"/>\n')}return o.push("linear"===this.type?"</linearGradient>\n":"</radialGradient>\n"),o.join("")},toLive:function(t){var e,i,n,r=A.util.object.clone(this.coords);if(this.type){for("linear"===this.type?e=t.createLinearGradient(r.x1,r.y1,r.x2,r.y2):"radial"===this.type&&(e=t.createRadialGradient(r.x1,r.y1,r.r1,r.x2,r.y2,r.r2)),i=0,n=this.colorStops.length;i<n;i++){var o=this.colorStops[i].color,s=this.colorStops[i].opacity,a=this.colorStops[i].offset;void 0!==s&&(o=new A.Color(o).setAlpha(s).toRgba()),e.addColorStop(a,o)}return e}}}),A.util.object.extend(A.Gradient,{fromElement:function(e,i,n,r){var o=parseFloat(n)/(/%$/.test(n)?100:1);o=o<0?0:o>1?1:o,isNaN(o)&&(o=1);var s,a,c,h,l=e.getElementsByTagName("stop"),u="userSpaceOnUse"===e.getAttribute("gradientUnits")?"pixels":"percentage",f=e.getAttribute("gradientTransform")||"",d=[],g=0,p=0;for("linearGradient"===e.nodeName||"LINEARGRADIENT"===e.nodeName?(s="linear",a=function(t){return{x1:t.getAttribute("x1")||0,y1:t.getAttribute("y1")||0,x2:t.getAttribute("x2")||"100%",y2:t.getAttribute("y2")||0}}(e)):(s="radial",a=function(t){return{x1:t.getAttribute("fx")||t.getAttribute("cx")||"50%",y1:t.getAttribute("fy")||t.getAttribute("cy")||"50%",r1:0,x2:t.getAttribute("cx")||"50%",y2:t.getAttribute("cy")||"50%",r2:t.getAttribute("r")||"50%"}}(e)),c=l.length;c--;)d.push(t(l[c],o));return h=A.parseTransformAttribute(f),function(t,e,i,n){var r,o;Object.keys(e).forEach((function(t){"Infinity"===(r=e[t])?o=1:"-Infinity"===r?o=0:(o=parseFloat(e[t],10),"string"==typeof r&&/^(\d+\.\d+)%|(\d+)%$/.test(r)&&(o*=.01,"pixels"===n&&("x1"!==t&&"x2"!==t&&"r2"!==t||(o*=i.viewBoxWidth||i.width),"y1"!==t&&"y2"!==t||(o*=i.viewBoxHeight||i.height)))),e[t]=o}))}(0,a,r,u),"pixels"===u&&(g=-i.left,p=-i.top),new A.Gradient({id:e.getAttribute("id"),type:s,coords:a,colorStops:d,gradientUnits:u,gradientTransform:h,offsetX:g,offsetY:p})}})}(),function(){"use strict";var t=A.util.toFixed;A.Pattern=A.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(t,e){if(t||(t={}),this.id=A.Object.__uid++,this.setOptions(t),!t.source||t.source&&"string"!=typeof t.source)e&&e(this);else{var i=this;this.source=A.util.createImage(),A.util.loadImage(t.source,(function(t,n){i.source=t,e&&e(i,n)}),null,this.crossOrigin)}},toObject:function(e){var i,n,r=A.Object.NUM_FRACTION_DIGITS;return"string"==typeof this.source.src?i=this.source.src:"object"==typeof this.source&&this.source.toDataURL&&(i=this.source.toDataURL()),n={type:"pattern",source:i,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:t(this.offsetX,r),offsetY:t(this.offsetY,r),patternTransform:this.patternTransform?this.patternTransform.concat():null},A.util.populateWithProperties(this,n,e),n},toSVG:function(t){var e="function"==typeof this.source?this.source():this.source,i=e.width/t.width,n=e.height/t.height,r=this.offsetX/t.width,o=this.offsetY/t.height,s="";return"repeat-x"!==this.repeat&&"no-repeat"!==this.repeat||(n=1,o&&(n+=Math.abs(o))),"repeat-y"!==this.repeat&&"no-repeat"!==this.repeat||(i=1,r&&(i+=Math.abs(r))),e.src?s=e.src:e.toDataURL&&(s=e.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+r+'" y="'+o+'" width="'+i+'" height="'+n+'">\n<image x="0" y="0" width="'+e.width+'" height="'+e.height+'" xlink:href="'+s+'"></image>\n</pattern>\n'},setOptions:function(t){for(var e in t)this[e]=t[e]},toLive:function(t){var e=this.source;if(!e)return"";if(void 0!==e.src){if(!e.complete)return"";if(0===e.naturalWidth||0===e.naturalHeight)return""}return t.createPattern(e,this.repeat)}})}(),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.toFixed;e.Shadow?e.warn("fabric.Shadow is already defined."):(e.Shadow=e.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(t){for(var i in"string"==typeof t&&(t=this._parseShadow(t)),t)this[i]=t[i];this.id=e.Object.__uid++},_parseShadow:function(t){var i=t.trim(),n=e.Shadow.reOffsetsAndBlur.exec(i)||[];return{color:(i.replace(e.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)").trim(),offsetX:parseFloat(n[1],10)||0,offsetY:parseFloat(n[2],10)||0,blur:parseFloat(n[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(t){var n=40,r=40,o=e.Object.NUM_FRACTION_DIGITS,s=e.util.rotateVector({x:this.offsetX,y:this.offsetY},e.util.degreesToRadians(-t.angle)),a=new e.Color(this.color);return t.width&&t.height&&(n=100*i((Math.abs(s.x)+this.blur)/t.width,o)+20,r=100*i((Math.abs(s.y)+this.blur)/t.height,o)+20),t.flipX&&(s.x*=-1),t.flipY&&(s.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+r+'%" height="'+(100+2*r)+'%" x="-'+n+'%" width="'+(100+2*n)+'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="'+i(this.blur?this.blur/2:0,o)+'"></feGaussianBlur>\n\t<feOffset dx="'+i(s.x,o)+'" dy="'+i(s.y,o)+'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="'+a.toRgb()+'" flood-opacity="'+a.getAlpha()+'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n'},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var t={},i=e.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach((function(e){this[e]!==i[e]&&(t[e]=this[e])}),this),t}}),e.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/)}(e),function(){"use strict";if(A.StaticCanvas)A.warn("fabric.StaticCanvas is already defined.");else{var t=A.util.object.extend,e=A.util.getElementOffset,i=A.util.removeFromArray,n=A.util.toFixed,r=A.util.transformPoint,o=A.util.invertTransform,s=A.util.getNodeCanvas,a=A.util.createCanvasElement,c=new Error("Could not initialize `canvas` element");A.StaticCanvas=A.util.createClass(A.CommonMethods,{initialize:function(t,e){e||(e={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(t,e)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:A.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(t,e){var i=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(t),this._initOptions(e),this.interactive||this._initRetinaScaling(),e.overlayImage&&this.setOverlayImage(e.overlayImage,i),e.backgroundImage&&this.setBackgroundImage(e.backgroundImage,i),e.backgroundColor&&this.setBackgroundColor(e.backgroundColor,i),e.overlayColor&&this.setOverlayColor(e.overlayColor,i),this.calcOffset()},_isRetinaScaling:function(){return A.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,A.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var t=A.devicePixelRatio;this.__initRetinaScaling(t,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(t,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(t,e,i){e.setAttribute("width",this.width*t),e.setAttribute("height",this.height*t),i.scale(t,t)},calcOffset:function(){return this._offset=e(this.lowerCanvasEl),this},setOverlayImage:function(t,e,i){return this.__setBgOverlayImage("overlayImage",t,e,i)},setBackgroundImage:function(t,e,i){return this.__setBgOverlayImage("backgroundImage",t,e,i)},setOverlayColor:function(t,e){return this.__setBgOverlayColor("overlayColor",t,e)},setBackgroundColor:function(t,e){return this.__setBgOverlayColor("backgroundColor",t,e)},__setBgOverlayImage:function(t,e,i,n){return"string"==typeof e?A.util.loadImage(e,(function(e,r){if(e){var o=new A.Image(e,n);this[t]=o,o.canvas=this}i&&i(e,r)}),this,n&&n.crossOrigin):(n&&e.setOptions(n),this[t]=e,e&&(e.canvas=this),i&&i(e,!1)),this},__setBgOverlayColor:function(t,e,i){return this[t]=e,this._initGradient(e,t),this._initPattern(e,t,i),this},_createCanvasElement:function(){var t=a();if(!t)throw c;if(t.style||(t.style={}),void 0===t.getContext)throw c;return t},_initOptions:function(t){var e=this.lowerCanvasEl;this._setOptions(t),this.width=this.width||parseInt(e.width,10)||0,this.height=this.height||parseInt(e.height,10)||0,this.lowerCanvasEl.style&&(e.width=this.width,e.height=this.height,e.style.width=this.width+"px",e.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(t){t&&t.getContext?this.lowerCanvasEl=t:this.lowerCanvasEl=A.util.getById(t)||this._createCanvasElement(),A.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(t,e){return this.setDimensions({width:t},e)},setHeight:function(t,e){return this.setDimensions({height:t},e)},setDimensions:function(t,e){var i;for(var n in e=e||{},t)i=t[n],e.cssOnly||(this._setBackstoreDimension(n,t[n]),i+="px",this.hasLostContext=!0),e.backstoreOnly||this._setCssDimension(n,i);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),e.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(t,e){return this.lowerCanvasEl[t]=e,this.upperCanvasEl&&(this.upperCanvasEl[t]=e),this.cacheCanvasEl&&(this.cacheCanvasEl[t]=e),this[t]=e,this},_setCssDimension:function(t,e){return this.lowerCanvasEl.style[t]=e,this.upperCanvasEl&&(this.upperCanvasEl.style[t]=e),this.wrapperEl&&(this.wrapperEl.style[t]=e),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(t){var e,i,n,r=this._activeObject,o=this.backgroundImage,s=this.overlayImage;for(this.viewportTransform=t,i=0,n=this._objects.length;i<n;i++)(e=this._objects[i]).group||e.setCoords(!0);return r&&r.setCoords(),o&&o.setCoords(!0),s&&s.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(t,e){var i=t,n=this.viewportTransform.slice(0);t=r(t,o(this.viewportTransform)),n[0]=e,n[3]=e;var s=r(t,n);return n[4]+=i.x-s.x,n[5]+=i.y-s.y,this.setViewportTransform(n)},setZoom:function(t){return this.zoomToPoint(new A.Point(0,0),t),this},absolutePan:function(t){var e=this.viewportTransform.slice(0);return e[4]=-t.x,e[5]=-t.y,this.setViewportTransform(e)},relativePan:function(t){return this.absolutePan(new A.Point(-t.x-this.viewportTransform[4],-t.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(t){this.stateful&&t.setupState(),t._set("canvas",this),t.setCoords(),this.fire("object:added",{target:t}),t.fire("added")},_onObjectRemoved:function(t){this.fire("object:removed",{target:t}),t.fire("removed"),delete t.canvas},clearContext:function(t){return t.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var t=this.contextContainer;return this.renderCanvas(t,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=A.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var t={},e=this.width,i=this.height,n=o(this.viewportTransform);return t.tl=r({x:0,y:0},n),t.br=r({x:e,y:i},n),t.tr=new A.Point(t.br.x,t.tl.y),t.bl=new A.Point(t.tl.x,t.br.y),this.vptCoords=t,t},cancelRequestedRender:function(){this.isRendering&&(A.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(t,e){var i=this.viewportTransform,n=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(t),A.util.setImageSmoothing(t,this.imageSmoothingEnabled),this.fire("before:render",{ctx:t}),this._renderBackground(t),t.save(),t.transform(i[0],i[1],i[2],i[3],i[4],i[5]),this._renderObjects(t,e),t.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(t),n&&(n.canvas=this,n.shouldCache(),n._transformDone=!0,n.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(t)),this._renderOverlay(t),this.controlsAboveOverlay&&this.interactive&&this.drawControls(t),this.fire("after:render",{ctx:t})},drawClipPathOnCanvas:function(t){var e=this.viewportTransform,i=this.clipPath;t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t.globalCompositeOperation="destination-in",i.transform(t),t.scale(1/i.zoomX,1/i.zoomY),t.drawImage(i._cacheCanvas,-i.cacheTranslationX,-i.cacheTranslationY),t.restore()},_renderObjects:function(t,e){var i,n;for(i=0,n=e.length;i<n;++i)e[i]&&e[i].render(t)},_renderBackgroundOrOverlay:function(t,e){var i=this[e+"Color"],n=this[e+"Image"],r=this.viewportTransform,o=this[e+"Vpt"];if(i||n){if(i){t.save(),t.beginPath(),t.moveTo(0,0),t.lineTo(this.width,0),t.lineTo(this.width,this.height),t.lineTo(0,this.height),t.closePath(),t.fillStyle=i.toLive?i.toLive(t,this):i,o&&t.transform(r[0],r[1],r[2],r[3],r[4],r[5]),t.transform(1,0,0,1,i.offsetX||0,i.offsetY||0);var s=i.gradientTransform||i.patternTransform;s&&t.transform(s[0],s[1],s[2],s[3],s[4],s[5]),t.fill(),t.restore()}n&&(t.save(),o&&t.transform(r[0],r[1],r[2],r[3],r[4],r[5]),n.render(t),t.restore())}},_renderBackground:function(t){this._renderBackgroundOrOverlay(t,"background")},_renderOverlay:function(t){this._renderBackgroundOrOverlay(t,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new A.Point(this.width/2,this.height/2)},centerObjectH:function(t){return this._centerObject(t,new A.Point(this.getCenterPoint().x,t.getCenterPoint().y))},centerObjectV:function(t){return this._centerObject(t,new A.Point(t.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(t){var e=this.getCenterPoint();return this._centerObject(t,e)},viewportCenterObject:function(t){var e=this.getVpCenter();return this._centerObject(t,e)},viewportCenterObjectH:function(t){var e=this.getVpCenter();return this._centerObject(t,new A.Point(e.x,t.getCenterPoint().y)),this},viewportCenterObjectV:function(t){var e=this.getVpCenter();return this._centerObject(t,new A.Point(t.getCenterPoint().x,e.y))},getVpCenter:function(){var t=this.getCenterPoint(),e=o(this.viewportTransform);return r(t,e)},_centerObject:function(t,e){return t.setPositionByOrigin(e,"center","center"),t.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(t){return this.toDatalessObject(t)},toObject:function(t){return this._toObjectMethod("toObject",t)},toDatalessObject:function(t){return this._toObjectMethod("toDatalessObject",t)},_toObjectMethod:function(e,i){var n=this.clipPath,r={version:A.version,objects:this._toObjects(e,i)};return n&&!n.excludeFromExport&&(r.clipPath=this._toObject(this.clipPath,e,i)),t(r,this.__serializeBgOverlay(e,i)),A.util.populateWithProperties(this,r,i),r},_toObjects:function(t,e){return this._objects.filter((function(t){return!t.excludeFromExport})).map((function(i){return this._toObject(i,t,e)}),this)},_toObject:function(t,e,i){var n;this.includeDefaultValues||(n=t.includeDefaultValues,t.includeDefaultValues=!1);var r=t[e](i);return this.includeDefaultValues||(t.includeDefaultValues=n),r},__serializeBgOverlay:function(t,e){var i={},n=this.backgroundImage,r=this.overlayImage,o=this.backgroundColor,s=this.overlayColor;return o&&o.toObject?o.excludeFromExport||(i.background=o.toObject(e)):o&&(i.background=o),s&&s.toObject?s.excludeFromExport||(i.overlay=s.toObject(e)):s&&(i.overlay=s),n&&!n.excludeFromExport&&(i.backgroundImage=this._toObject(n,t,e)),r&&!r.excludeFromExport&&(i.overlayImage=this._toObject(r,t,e)),i},svgViewportTransformation:!0,toSVG:function(t,e){t||(t={}),t.reviver=e;var i=[];return this._setSVGPreamble(i,t),this._setSVGHeader(i,t),this.clipPath&&i.push('<g clip-path="url(#'+this.clipPath.clipPathId+')" >\n'),this._setSVGBgOverlayColor(i,"background"),this._setSVGBgOverlayImage(i,"backgroundImage",e),this._setSVGObjects(i,e),this.clipPath&&i.push("</g>\n"),this._setSVGBgOverlayColor(i,"overlay"),this._setSVGBgOverlayImage(i,"overlayImage",e),i.push("</svg>"),i.join("")},_setSVGPreamble:function(t,e){e.suppressPreamble||t.push('<?xml version="1.0" encoding="',e.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')},_setSVGHeader:function(t,e){var i,r=e.width||this.width,o=e.height||this.height,s='viewBox="0 0 '+this.width+" "+this.height+'" ',a=A.Object.NUM_FRACTION_DIGITS;e.viewBox?s='viewBox="'+e.viewBox.x+" "+e.viewBox.y+" "+e.viewBox.width+" "+e.viewBox.height+'" ':this.svgViewportTransformation&&(i=this.viewportTransform,s='viewBox="'+n(-i[4]/i[0],a)+" "+n(-i[5]/i[3],a)+" "+n(this.width/i[0],a)+" "+n(this.height/i[3],a)+'" '),t.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',r,'" ','height="',o,'" ',s,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",A.version,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(e),"</defs>\n")},createSVGClipPathMarkup:function(t){var e=this.clipPath;return e?(e.clipPathId="CLIPPATH_"+A.Object.__uid++,'<clipPath id="'+e.clipPathId+'" >\n'+this.clipPath.toClipPathSVG(t.reviver)+"</clipPath>\n"):""},createSVGRefElementsMarkup:function(){var t=this;return["background","overlay"].map((function(e){var i=t[e+"Color"];if(i&&i.toLive){var n=t[e+"Vpt"],r=t.viewportTransform,o={width:t.width/(n?r[0]:1),height:t.height/(n?r[3]:1)};return i.toSVG(o,{additionalTransform:n?A.util.matrixToSVG(r):""})}})).join("")},createSVGFontFacesMarkup:function(){var t,e,i,n,r,o,s,a,c="",h={},l=A.fontPaths,u=[];for(this._objects.forEach((function t(e){u.push(e),e._objects&&e._objects.forEach(t)})),s=0,a=u.length;s<a;s++)if(e=(t=u[s]).fontFamily,-1!==t.type.indexOf("text")&&!h[e]&&l[e]&&(h[e]=!0,t.styles))for(r in i=t.styles)for(o in n=i[r])!h[e=n[o].fontFamily]&&l[e]&&(h[e]=!0);for(var f in h)c+=["\t\t@font-face {\n","\t\t\tfont-family: '",f,"';\n","\t\t\tsrc: url('",l[f],"');\n","\t\t}\n"].join("");return c&&(c=['\t<style type="text/css">',"<![CDATA[\n",c,"]]>","</style>\n"].join("")),c},_setSVGObjects:function(t,e){var i,n,r,o=this._objects;for(n=0,r=o.length;n<r;n++)(i=o[n]).excludeFromExport||this._setSVGObject(t,i,e)},_setSVGObject:function(t,e,i){t.push(e.toSVG(i))},_setSVGBgOverlayImage:function(t,e,i){this[e]&&!this[e].excludeFromExport&&this[e].toSVG&&t.push(this[e].toSVG(i))},_setSVGBgOverlayColor:function(t,e){var i=this[e+"Color"],n=this.viewportTransform,r=this.width,o=this.height;if(i)if(i.toLive){var s=i.repeat,a=A.util.invertTransform(n),c=this[e+"Vpt"]?A.util.matrixToSVG(a):"";t.push('<rect transform="'+c+" translate(",r/2,",",o/2,')"',' x="',i.offsetX-r/2,'" y="',i.offsetY-o/2,'" ','width="',"repeat-y"===s||"no-repeat"===s?i.source.width:r,'" height="',"repeat-x"===s||"no-repeat"===s?i.source.height:o,'" fill="url(#SVGID_'+i.id+')"',"></rect>\n")}else t.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',i,'"',"></rect>\n")},sendToBack:function(t){if(!t)return this;var e,n,r,o=this._activeObject;if(t===o&&"activeSelection"===t.type)for(e=(r=o._objects).length;e--;)n=r[e],i(this._objects,n),this._objects.unshift(n);else i(this._objects,t),this._objects.unshift(t);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(t){if(!t)return this;var e,n,r,o=this._activeObject;if(t===o&&"activeSelection"===t.type)for(r=o._objects,e=0;e<r.length;e++)n=r[e],i(this._objects,n),this._objects.push(n);else i(this._objects,t),this._objects.push(t);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(t,e){if(!t)return this;var n,r,o,s,a,c=this._activeObject,h=0;if(t===c&&"activeSelection"===t.type)for(a=c._objects,n=0;n<a.length;n++)r=a[n],(o=this._objects.indexOf(r))>0+h&&(s=o-1,i(this._objects,r),this._objects.splice(s,0,r)),h++;else 0!==(o=this._objects.indexOf(t))&&(s=this._findNewLowerIndex(t,o,e),i(this._objects,t),this._objects.splice(s,0,t));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(t,e,i){var n,r;if(i){for(n=e,r=e-1;r>=0;--r)if(t.intersectsWithObject(this._objects[r])||t.isContainedWithinObject(this._objects[r])||this._objects[r].isContainedWithinObject(t)){n=r;break}}else n=e-1;return n},bringForward:function(t,e){if(!t)return this;var n,r,o,s,a,c=this._activeObject,h=0;if(t===c&&"activeSelection"===t.type)for(n=(a=c._objects).length;n--;)r=a[n],(o=this._objects.indexOf(r))<this._objects.length-1-h&&(s=o+1,i(this._objects,r),this._objects.splice(s,0,r)),h++;else(o=this._objects.indexOf(t))!==this._objects.length-1&&(s=this._findNewUpperIndex(t,o,e),i(this._objects,t),this._objects.splice(s,0,t));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(t,e,i){var n,r,o;if(i){for(n=e,r=e+1,o=this._objects.length;r<o;++r)if(t.intersectsWithObject(this._objects[r])||t.isContainedWithinObject(this._objects[r])||this._objects[r].isContainedWithinObject(t)){n=r;break}}else n=e+1;return n},moveTo:function(t,e){return i(this._objects,t),this._objects.splice(e,0,t),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(A.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject((function(t){t.dispose&&t.dispose()})),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),A.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),A.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),t(A.StaticCanvas.prototype,A.Observable),t(A.StaticCanvas.prototype,A.Collection),t(A.StaticCanvas.prototype,A.DataURLExporter),t(A.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(t){var e=a();if(!e||!e.getContext)return null;var i=e.getContext("2d");return i&&"setLineDash"===t?void 0!==i.setLineDash:null}}),A.StaticCanvas.prototype.toJSON=A.StaticCanvas.prototype.toObject,A.isLikelyNode&&(A.StaticCanvas.prototype.createPNGStream=function(){var t=s(this.lowerCanvasEl);return t&&t.createPNGStream()},A.StaticCanvas.prototype.createJPEGStream=function(t){var e=s(this.lowerCanvasEl);return e&&e.createJPEGStream(t)})}}(),A.BaseBrush=A.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(t){t.strokeStyle=this.color,t.lineWidth=this.width,t.lineCap=this.strokeLineCap,t.miterLimit=this.strokeMiterLimit,t.lineJoin=this.strokeLineJoin,t.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(t){var e=this.canvas.viewportTransform;t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5])},_setShadow:function(){if(this.shadow){var t=this.canvas,e=this.shadow,i=t.contextTop,n=t.getZoom();t&&t._isRetinaScaling()&&(n*=A.devicePixelRatio),i.shadowColor=e.color,i.shadowBlur=e.blur*n,i.shadowOffsetX=e.offsetX*n,i.shadowOffsetY=e.offsetY*n}},needsFullRender:function(){return new A.Color(this.color).getAlpha()<1||!!this.shadow},_resetShadow:function(){var t=this.canvas.contextTop;t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0},_isOutSideCanvas:function(t){return t.x<0||t.x>this.canvas.getWidth()||t.y<0||t.y>this.canvas.getHeight()}}),A.PencilBrush=A.util.createClass(A.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(t){this.canvas=t,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(t,e,i){var n=e.midPointFrom(i);return t.quadraticCurveTo(e.x,e.y,n.x,n.y),n},onMouseDown:function(t,e){this.canvas._isMainEvent(e.e)&&(this.drawStraightLine=e.e[this.straightLineKey],this._prepareForDrawing(t),this._captureDrawingPath(t),this._render())},onMouseMove:function(t,e){if(this.canvas._isMainEvent(e.e)&&(this.drawStraightLine=e.e[this.straightLineKey],(!0!==this.limitedToCanvasSize||!this._isOutSideCanvas(t))&&this._captureDrawingPath(t)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var i=this._points,n=i.length,r=this.canvas.contextTop;this._saveAndTransform(r),this.oldEnd&&(r.beginPath(),r.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(r,i[n-2],i[n-1],!0),r.stroke(),r.restore()}},onMouseUp:function(t){return!this.canvas._isMainEvent(t.e)||(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1)},_prepareForDrawing:function(t){var e=new A.Point(t.x,t.y);this._reset(),this._addPoint(e),this.canvas.contextTop.moveTo(e.x,e.y)},_addPoint:function(t){return!(this._points.length>1&&t.eq(this._points[this._points.length-1])||(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(t),0))},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(t){var e=new A.Point(t.x,t.y);return this._addPoint(e)},_render:function(t){var e,i,n=this._points[0],r=this._points[1];if(t=t||this.canvas.contextTop,this._saveAndTransform(t),t.beginPath(),2===this._points.length&&n.x===r.x&&n.y===r.y){var o=this.width/1e3;n=new A.Point(n.x,n.y),r=new A.Point(r.x,r.y),n.x-=o,r.x+=o}for(t.moveTo(n.x,n.y),e=1,i=this._points.length;e<i;e++)this._drawSegment(t,n,r),n=this._points[e],r=this._points[e+1];t.lineTo(n.x,n.y),t.stroke(),t.restore()},convertPointsToSVGPath:function(t){var e=this.width/1e3;return A.util.getSmoothPathFromPoints(t,e)},_isEmptySVGPath:function(t){return"M 0 0 Q 0 0 0 0 L 0 0"===A.util.joinPath(t)},createPath:function(t){var e=new A.Path(t,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,e.shadow=new A.Shadow(this.shadow)),e},decimatePoints:function(t,e){if(t.length<=2)return t;var i,n=this.canvas.getZoom(),r=Math.pow(e/n,2),o=t.length-1,s=t[0],a=[s];for(i=1;i<o-1;i++)Math.pow(s.x-t[i].x,2)+Math.pow(s.y-t[i].y,2)>=r&&(s=t[i],a.push(s));return a.push(t[o]),a},_finalizeAndAddPath:function(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var t=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(t))this.canvas.requestRenderAll();else{var e=this.createPath(t);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:e}),this.canvas.add(e),this.canvas.requestRenderAll(),e.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:e})}}}),A.CircleBrush=A.util.createClass(A.BaseBrush,{width:10,initialize:function(t){this.canvas=t,this.points=[]},drawDot:function(t){var e=this.addPoint(t),i=this.canvas.contextTop;this._saveAndTransform(i),this.dot(i,e),i.restore()},dot:function(t,e){t.fillStyle=e.fill,t.beginPath(),t.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),t.closePath(),t.fill()},onMouseDown:function(t){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(t)},_render:function(){var t,e,i=this.canvas.contextTop,n=this.points;for(this._saveAndTransform(i),t=0,e=n.length;t<e;t++)this.dot(i,n[t]);i.restore()},onMouseMove:function(t){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(t)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(t),this._render()):this.drawDot(t))},onMouseUp:function(){var t,e,i=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;var n=[];for(t=0,e=this.points.length;t<e;t++){var r=this.points[t],o=new A.Circle({radius:r.radius,left:r.x,top:r.y,originX:"center",originY:"center",fill:r.fill});this.shadow&&(o.shadow=new A.Shadow(this.shadow)),n.push(o)}var s=new A.Group(n);s.canvas=this.canvas,this.canvas.fire("before:path:created",{path:s}),this.canvas.add(s),this.canvas.fire("path:created",{path:s}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=i,this.canvas.requestRenderAll()},addPoint:function(t){var e=new A.Point(t.x,t.y),i=A.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,n=new A.Color(this.color).setAlpha(A.util.getRandomInt(0,100)/100).toRgba();return e.radius=i,e.fill=n,this.points.push(e),e}}),A.SprayBrush=A.util.createClass(A.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(t){this.canvas=t,this.sprayChunks=[]},onMouseDown:function(t){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(t),this.render(this.sprayChunkPoints)},onMouseMove:function(t){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(t)||(this.addSprayChunk(t),this.render(this.sprayChunkPoints))},onMouseUp:function(){var t=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var e=[],i=0,n=this.sprayChunks.length;i<n;i++)for(var r=this.sprayChunks[i],o=0,s=r.length;o<s;o++){var a=new A.Rect({width:r[o].width,height:r[o].width,left:r[o].x+1,top:r[o].y+1,originX:"center",originY:"center",fill:this.color});e.push(a)}this.optimizeOverlapping&&(e=this._getOptimizedRects(e));var c=new A.Group(e);this.shadow&&c.set("shadow",new A.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:c}),this.canvas.add(c),this.canvas.fire("path:created",{path:c}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=t,this.canvas.requestRenderAll()},_getOptimizedRects:function(t){var e,i,n,r={};for(i=0,n=t.length;i<n;i++)r[e=t[i].left+""+t[i].top]||(r[e]=t[i]);var o=[];for(e in r)o.push(r[e]);return o},render:function(t){var e,i,n=this.canvas.contextTop;for(n.fillStyle=this.color,this._saveAndTransform(n),e=0,i=t.length;e<i;e++){var r=t[e];void 0!==r.opacity&&(n.globalAlpha=r.opacity),n.fillRect(r.x,r.y,r.width,r.width)}n.restore()},_render:function(){var t,e,i=this.canvas.contextTop;for(i.fillStyle=this.color,this._saveAndTransform(i),t=0,e=this.sprayChunks.length;t<e;t++)this.render(this.sprayChunks[t]);i.restore()},addSprayChunk:function(t){this.sprayChunkPoints=[];var e,i,n,r,o=this.width/2;for(r=0;r<this.density;r++){e=A.util.getRandomInt(t.x-o,t.x+o),i=A.util.getRandomInt(t.y-o,t.y+o),n=this.dotWidthVariance?A.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth;var s=new A.Point(e,i);s.width=n,this.randomOpacity&&(s.opacity=A.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(s)}this.sprayChunks.push(this.sprayChunkPoints)}}),A.PatternBrush=A.util.createClass(A.PencilBrush,{getPatternSrc:function(){var t=A.util.createCanvasElement(),e=t.getContext("2d");return t.width=t.height=25,e.fillStyle=this.color,e.beginPath(),e.arc(10,10,10,0,2*Math.PI,!1),e.closePath(),e.fill(),t},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(t){return t.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(t){this.callSuper("_setBrushStyles",t),t.strokeStyle=this.getPattern(t)},createPath:function(t){var e=this.callSuper("createPath",t),i=e._getLeftTopCoords().scalarAdd(e.strokeWidth/2);return e.stroke=new A.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-i.x,offsetY:-i.y}),e}}),function(){var t=A.util.getPointer,e=A.util.degreesToRadians,i=A.util.isTouchEvent;for(var n in A.Canvas=A.util.createClass(A.StaticCanvas,{initialize:function(t,e){e||(e={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(t,e),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=A.PencilBrush&&new A.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var t,e,i,n=this.getActiveObjects();if(n.length>0&&!this.preserveObjectStacking){e=[],i=[];for(var r=0,o=this._objects.length;r<o;r++)t=this._objects[r],-1===n.indexOf(t)?e.push(t):i.push(t);n.length>1&&(this._activeObject._objects=i),e.push.apply(e,i)}else e=this._objects;return e},renderAll:function(){!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var t=this.contextContainer;return this.renderCanvas(t,this._chooseObjectsToRender()),this},renderTopLayer:function(t){t.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(t),this.contextTopDirty=!0),t.restore()},renderTop:function(){var t=this.contextTop;return this.clearContext(t),this.renderTopLayer(t),this.fire("after:render"),this},_normalizePointer:function(t,e){var i=t.calcTransformMatrix(),n=A.util.invertTransform(i),r=this.restorePointerVpt(e);return A.util.transformPoint(r,n)},isTargetTransparent:function(t,e,i){if(t.shouldCache()&&t._cacheCanvas&&t!==this._activeObject){var n=this._normalizePointer(t,{x:e,y:i}),r=Math.max(t.cacheTranslationX+n.x*t.zoomX,0),o=Math.max(t.cacheTranslationY+n.y*t.zoomY,0);return A.util.isTransparent(t._cacheContext,Math.round(r),Math.round(o),this.targetFindTolerance)}var s=this.contextCache,a=t.selectionBackgroundColor,c=this.viewportTransform;return t.selectionBackgroundColor="",this.clearContext(s),s.save(),s.transform(c[0],c[1],c[2],c[3],c[4],c[5]),t.render(s),s.restore(),t.selectionBackgroundColor=a,A.util.isTransparent(s,e,i,this.targetFindTolerance)},_isSelectionKeyPressed:function(t){return Array.isArray(this.selectionKey)?!!this.selectionKey.find((function(e){return!0===t[e]})):t[this.selectionKey]},_shouldClearSelection:function(t,e){var i=this.getActiveObjects(),n=this._activeObject;return!e||e&&n&&i.length>1&&-1===i.indexOf(e)&&n!==e&&!this._isSelectionKeyPressed(t)||e&&!e.evented||e&&!e.selectable&&n&&n!==e},_shouldCenterTransform:function(t,e,i){var n;if(t)return"scale"===e||"scaleX"===e||"scaleY"===e||"resizing"===e?n=this.centeredScaling||t.centeredScaling:"rotate"===e&&(n=this.centeredRotation||t.centeredRotation),n?!i:i},_getOriginFromCorner:function(t,e){var i={x:t.originX,y:t.originY};return"ml"===e||"tl"===e||"bl"===e?i.x="right":"mr"!==e&&"tr"!==e&&"br"!==e||(i.x="left"),"tl"===e||"mt"===e||"tr"===e?i.y="bottom":"bl"!==e&&"mb"!==e&&"br"!==e||(i.y="top"),i},_getActionFromCorner:function(t,e,i,n){if(!e||!t)return"drag";var r=n.controls[e];return r.getActionName(i,r,n)},_setupCurrentTransform:function(t,i,n){if(i){var r=this.getPointer(t),o=i.__corner,s=i.controls[o],a=n&&o?s.getActionHandler(t,i,s):A.controlsUtils.dragHandler,c=this._getActionFromCorner(n,o,t,i),h=this._getOriginFromCorner(i,o),l=t[this.centeredKey],u={target:i,action:c,actionHandler:a,corner:o,scaleX:i.scaleX,scaleY:i.scaleY,skewX:i.skewX,skewY:i.skewY,offsetX:r.x-i.left,offsetY:r.y-i.top,originX:h.x,originY:h.y,ex:r.x,ey:r.y,lastX:r.x,lastY:r.y,theta:e(i.angle),width:i.width*i.scaleX,shiftKey:t.shiftKey,altKey:l,original:A.util.saveObjectTransform(i)};this._shouldCenterTransform(i,c,l)&&(u.originX="center",u.originY="center"),u.original.originX=h.x,u.original.originY=h.y,this._currentTransform=u,this._beforeTransform(t)}},setCursor:function(t){this.upperCanvasEl.style.cursor=t},_drawSelection:function(t){var e=this._groupSelector,i=new A.Point(e.ex,e.ey),n=A.util.transformPoint(i,this.viewportTransform),r=new A.Point(e.ex+e.left,e.ey+e.top),o=A.util.transformPoint(r,this.viewportTransform),s=Math.min(n.x,o.x),a=Math.min(n.y,o.y),c=Math.max(n.x,o.x),h=Math.max(n.y,o.y),l=this.selectionLineWidth/2;this.selectionColor&&(t.fillStyle=this.selectionColor,t.fillRect(s,a,c-s,h-a)),this.selectionLineWidth&&this.selectionBorderColor&&(t.lineWidth=this.selectionLineWidth,t.strokeStyle=this.selectionBorderColor,s+=l,a+=l,c-=l,h-=l,A.Object.prototype._setLineDash.call(this,t,this.selectionDashArray),t.strokeRect(s,a,c-s,h-a))},findTarget:function(t,e){if(!this.skipTargetFind){var n,r,o=this.getPointer(t,!0),s=this._activeObject,a=this.getActiveObjects(),c=i(t),h=a.length>1&&!e||1===a.length;if(this.targets=[],h&&s._findTargetCorner(o,c))return s;if(a.length>1&&!e&&s===this._searchPossibleTargets([s],o))return s;if(1===a.length&&s===this._searchPossibleTargets([s],o)){if(!this.preserveObjectStacking)return s;n=s,r=this.targets,this.targets=[]}var l=this._searchPossibleTargets(this._objects,o);return t[this.altSelectionKey]&&l&&n&&l!==n&&(l=n,this.targets=r),l}},_checkTarget:function(t,e,i){if(e&&e.visible&&e.evented&&e.containsPoint(t)){if(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing)return!0;if(!this.isTargetTransparent(e,i.x,i.y))return!0}},_searchPossibleTargets:function(t,e){for(var i,n,r=t.length;r--;){var o=t[r],s=o.group?this._normalizePointer(o.group,e):e;if(this._checkTarget(s,o,e)){(i=t[r]).subTargetCheck&&i instanceof A.Group&&(n=this._searchPossibleTargets(i._objects,e))&&this.targets.push(n);break}}return i},restorePointerVpt:function(t){return A.util.transformPoint(t,A.util.invertTransform(this.viewportTransform))},getPointer:function(e,i){if(this._absolutePointer&&!i)return this._absolutePointer;if(this._pointer&&i)return this._pointer;var n,r=t(e),o=this.upperCanvasEl,s=o.getBoundingClientRect(),a=s.width||0,c=s.height||0;a&&c||("top"in s&&"bottom"in s&&(c=Math.abs(s.top-s.bottom)),"right"in s&&"left"in s&&(a=Math.abs(s.right-s.left))),this.calcOffset(),r.x=r.x-this._offset.left,r.y=r.y-this._offset.top,i||(r=this.restorePointerVpt(r));var h=this.getRetinaScaling();return 1!==h&&(r.x/=h,r.y/=h),n=0===a||0===c?{width:1,height:1}:{width:o.width/a,height:o.height/c},{x:r.x*n.width,y:r.y*n.height}},_createUpperCanvas:function(){var t=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),e=this.lowerCanvasEl,i=this.upperCanvasEl;i?i.className="":(i=this._createCanvasElement(),this.upperCanvasEl=i),A.util.addClass(i,"upper-canvas "+t),this.wrapperEl.appendChild(i),this._copyCanvasStyle(e,i),this._applyCanvasStyle(i),this.contextTop=i.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=A.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),A.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),A.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(t){var e=this.width||t.width,i=this.height||t.height;A.util.setStyle(t,{position:"absolute",width:e+"px",height:i+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),t.width=e,t.height=i,A.util.makeElementUnselectable(t)},_copyCanvasStyle:function(t,e){e.style.cssText=t.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var t=this._activeObject;return t?"activeSelection"===t.type&&t._objects?t._objects.slice(0):[t]:[]},_onObjectRemoved:function(t){t===this._activeObject&&(this.fire("before:selection:cleared",{target:t}),this._discardActiveObject(),this.fire("selection:cleared",{target:t}),t.fire("deselected")),t===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",t)},_fireSelectionEvents:function(t,e){var i=!1,n=this.getActiveObjects(),r=[],o=[];t.forEach((function(t){-1===n.indexOf(t)&&(i=!0,t.fire("deselected",{e,target:t}),o.push(t))})),n.forEach((function(n){-1===t.indexOf(n)&&(i=!0,n.fire("selected",{e,target:n}),r.push(n))})),t.length>0&&n.length>0?i&&this.fire("selection:updated",{e,selected:r,deselected:o}):n.length>0?this.fire("selection:created",{e,selected:r}):t.length>0&&this.fire("selection:cleared",{e,deselected:o})},setActiveObject:function(t,e){var i=this.getActiveObjects();return this._setActiveObject(t,e),this._fireSelectionEvents(i,e),this},_setActiveObject:function(t,e){return this._activeObject!==t&&!!this._discardActiveObject(e,t)&&!t.onSelect({e})&&(this._activeObject=t,!0)},_discardActiveObject:function(t,e){var i=this._activeObject;if(i){if(i.onDeselect({e:t,object:e}))return!1;this._activeObject=null}return!0},discardActiveObject:function(t){var e=this.getActiveObjects(),i=this.getActiveObject();return e.length&&this.fire("before:selection:cleared",{target:i,e:t}),this._discardActiveObject(t),this._fireSelectionEvents(e,t),this},dispose:function(){var t=this.wrapperEl;return this.removeListeners(),t.removeChild(this.upperCanvasEl),t.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(t){A.util.cleanUpJsdomNode(this[t]),this[t]=void 0}.bind(this)),t.parentNode&&t.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,A.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(t){var e=this._activeObject;e&&e._renderControls(t)},_toObject:function(t,e,i){var n=this._realizeGroupTransformOnObject(t),r=this.callSuper("_toObject",t,e,i);return this._unwindGroupTransformOnObject(t,n),r},_realizeGroupTransformOnObject:function(t){if(t.group&&"activeSelection"===t.group.type&&this._activeObject===t.group){var e={};return["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"].forEach((function(i){e[i]=t[i]})),A.util.addTransformToObject(t,this._activeObject.calcOwnMatrix()),e}return null},_unwindGroupTransformOnObject:function(t,e){e&&t.set(e)},_setSVGObject:function(t,e,i){var n=this._realizeGroupTransformOnObject(e);this.callSuper("_setSVGObject",t,e,i),this._unwindGroupTransformOnObject(e,n)},setViewportTransform:function(t){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),A.StaticCanvas.prototype.setViewportTransform.call(this,t)}}),A.StaticCanvas)"prototype"!==n&&(A.Canvas[n]=A.StaticCanvas[n])}(),function(){var t=A.util.addListener,e=A.util.removeListener,i={passive:!1};function n(t,e){return t.button&&t.button===e-1}A.util.object.extend(A.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(t,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(t,e){var n=this.upperCanvasEl,r=this._getEventPrefix();t(A.window,"resize",this._onResize),t(n,r+"down",this._onMouseDown),t(n,r+"move",this._onMouseMove,i),t(n,r+"out",this._onMouseOut),t(n,r+"enter",this._onMouseEnter),t(n,"wheel",this._onMouseWheel),t(n,"contextmenu",this._onContextMenu),t(n,"dblclick",this._onDoubleClick),t(n,"dragover",this._onDragOver),t(n,"dragenter",this._onDragEnter),t(n,"dragleave",this._onDragLeave),t(n,"drop",this._onDrop),this.enablePointerEvents||t(n,"touchstart",this._onTouchStart,i),"undefined"!=typeof eventjs&&e in eventjs&&(eventjs[e](n,"gesture",this._onGesture),eventjs[e](n,"drag",this._onDrag),eventjs[e](n,"orientation",this._onOrientationChange),eventjs[e](n,"shake",this._onShake),eventjs[e](n,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(e,"remove");var t=this._getEventPrefix();e(A.document,t+"up",this._onMouseUp),e(A.document,"touchend",this._onTouchEnd,i),e(A.document,t+"move",this._onMouseMove,i),e(A.document,"touchmove",this._onMouseMove,i)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(t,e){this.__onTransformGesture&&this.__onTransformGesture(t,e)},_onDrag:function(t,e){this.__onDrag&&this.__onDrag(t,e)},_onMouseWheel:function(t){this.__onMouseWheel(t)},_onMouseOut:function(t){var e=this._hoveredTarget;this.fire("mouse:out",{target:e,e:t}),this._hoveredTarget=null,e&&e.fire("mouseout",{e:t});var i=this;this._hoveredTargets.forEach((function(n){i.fire("mouse:out",{target:e,e:t}),n&&e.fire("mouseout",{e:t})})),this._hoveredTargets=[]},_onMouseEnter:function(t){this._currentTransform||this.findTarget(t)||(this.fire("mouse:over",{target:null,e:t}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(t,e){this.__onOrientationChange&&this.__onOrientationChange(t,e)},_onShake:function(t,e){this.__onShake&&this.__onShake(t,e)},_onLongPress:function(t,e){this.__onLongPress&&this.__onLongPress(t,e)},_onDragOver:function(t){t.preventDefault();var e=this._simpleEventHandler("dragover",t);this._fireEnterLeaveEvents(e,t)},_onDrop:function(t){return this._simpleEventHandler("drop:before",t),this._simpleEventHandler("drop",t)},_onContextMenu:function(t){return this.stopContextMenu&&(t.stopPropagation(),t.preventDefault()),!1},_onDoubleClick:function(t){this._cacheTransformEventData(t),this._handleEvent(t,"dblclick"),this._resetTransformEventData(t)},getPointerId:function(t){var e=t.changedTouches;return e?e[0]&&e[0].identifier:this.enablePointerEvents?t.pointerId:-1},_isMainEvent:function(t){return!0===t.isPrimary||!1!==t.isPrimary&&("touchend"===t.type&&0===t.touches.length||!t.changedTouches||t.changedTouches[0].identifier===this.mainTouchId)},_onTouchStart:function(n){n.preventDefault(),null===this.mainTouchId&&(this.mainTouchId=this.getPointerId(n)),this.__onMouseDown(n),this._resetTransformEventData();var r=this.upperCanvasEl,o=this._getEventPrefix();t(A.document,"touchend",this._onTouchEnd,i),t(A.document,"touchmove",this._onMouseMove,i),e(r,o+"down",this._onMouseDown)},_onMouseDown:function(n){this.__onMouseDown(n),this._resetTransformEventData();var r=this.upperCanvasEl,o=this._getEventPrefix();e(r,o+"move",this._onMouseMove,i),t(A.document,o+"up",this._onMouseUp),t(A.document,o+"move",this._onMouseMove,i)},_onTouchEnd:function(n){if(!(n.touches.length>0)){this.__onMouseUp(n),this._resetTransformEventData(),this.mainTouchId=null;var r=this._getEventPrefix();e(A.document,"touchend",this._onTouchEnd,i),e(A.document,"touchmove",this._onMouseMove,i);var o=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout((function(){t(o.upperCanvasEl,r+"down",o._onMouseDown),o._willAddMouseDown=0}),400)}},_onMouseUp:function(n){this.__onMouseUp(n),this._resetTransformEventData();var r=this.upperCanvasEl,o=this._getEventPrefix();this._isMainEvent(n)&&(e(A.document,o+"up",this._onMouseUp),e(A.document,o+"move",this._onMouseMove,i),t(r,o+"move",this._onMouseMove,i))},_onMouseMove:function(t){!this.allowTouchScrolling&&t.preventDefault&&t.preventDefault(),this.__onMouseMove(t)},_onResize:function(){this.calcOffset()},_shouldRender:function(t){var e=this._activeObject;return!!(!!e!=!!t||e&&t&&e!==t)||(e&&e.isEditing,!1)},__onMouseUp:function(t){var e,i=this._currentTransform,r=this._groupSelector,o=!1,s=!r||0===r.left&&0===r.top;if(this._cacheTransformEventData(t),e=this._target,this._handleEvent(t,"up:before"),n(t,3))this.fireRightClick&&this._handleEvent(t,"up",3,s);else{if(n(t,2))return this.fireMiddleClick&&this._handleEvent(t,"up",2,s),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)this._onMouseUpInDrawingMode(t);else if(this._isMainEvent(t)){if(i&&(this._finalizeCurrentTransform(t),o=i.actionPerformed),!s){var a=e===this._activeObject;this._maybeGroupObjects(t),o||(o=this._shouldRender(e)||!a&&e===this._activeObject)}var c,h;if(e){if(c=e._findTargetCorner(this.getPointer(t,!0),A.util.isTouchEvent(t)),e.selectable&&e!==this._activeObject&&"up"===e.activeOn)this.setActiveObject(e,t),o=!0;else{var l=e.controls[c],u=l&&l.getMouseUpHandler(t,e,l);u&&u(t,i,(h=this.getPointer(t)).x,h.y)}e.isMoving=!1}if(i&&(i.target!==e||i.corner!==c)){var f=i.target&&i.target.controls[i.corner],d=f&&f.getMouseUpHandler(t,e,l);h=h||this.getPointer(t),d&&d(t,i,h.x,h.y)}this._setCursorFromEvent(t,e),this._handleEvent(t,"up",1,s),this._groupSelector=null,this._currentTransform=null,e&&(e.__corner=0),o?this.requestRenderAll():s||this.renderTop()}}},_simpleEventHandler:function(t,e){var i=this.findTarget(e),n=this.targets,r={e,target:i,subTargets:n};if(this.fire(t,r),i&&i.fire(t,r),!n)return i;for(var o=0;o<n.length;o++)n[o].fire(t,r);return i},_handleEvent:function(t,e,i,n){var r=this._target,o=this.targets||[],s={e:t,target:r,subTargets:o,button:i||1,isClick:n||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};"up"===e&&(s.currentTarget=this.findTarget(t),s.currentSubTargets=this.targets),this.fire("mouse:"+e,s),r&&r.fire("mouse"+e,s);for(var a=0;a<o.length;a++)o[a].fire("mouse"+e,s)},_finalizeCurrentTransform:function(t){var e=this._currentTransform,i=e.target,n={e:t,target:i,transform:e,action:e.action};i._scaling&&(i._scaling=!1),i.setCoords(),(e.actionPerformed||this.stateful&&i.hasStateChanged())&&this._fire("modified",n)},_onMouseDownInDrawingMode:function(t){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(t).requestRenderAll();var e=this.getPointer(t);this.freeDrawingBrush.onMouseDown(e,{e:t,pointer:e}),this._handleEvent(t,"down")},_onMouseMoveInDrawingMode:function(t){if(this._isCurrentlyDrawing){var e=this.getPointer(t);this.freeDrawingBrush.onMouseMove(e,{e:t,pointer:e})}this.setCursor(this.freeDrawingCursor),this._handleEvent(t,"move")},_onMouseUpInDrawingMode:function(t){var e=this.getPointer(t);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:t,pointer:e}),this._handleEvent(t,"up")},__onMouseDown:function(t){this._cacheTransformEventData(t),this._handleEvent(t,"down:before");var e=this._target;if(n(t,3))this.fireRightClick&&this._handleEvent(t,"down",3);else if(n(t,2))this.fireMiddleClick&&this._handleEvent(t,"down",2);else if(this.isDrawingMode)this._onMouseDownInDrawingMode(t);else if(this._isMainEvent(t)&&!this._currentTransform){var i=this._pointer;this._previousPointer=i;var r=this._shouldRender(e),o=this._shouldGroup(t,e);if(this._shouldClearSelection(t,e)?this.discardActiveObject(t):o&&(this._handleGrouping(t,e),e=this._activeObject),!this.selection||e&&(e.selectable||e.isEditing||e===this._activeObject)||(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),e){var s=e===this._activeObject;e.selectable&&"down"===e.activeOn&&this.setActiveObject(e,t);var a=e._findTargetCorner(this.getPointer(t,!0),A.util.isTouchEvent(t));if(e.__corner=a,e===this._activeObject&&(a||!o)){this._setupCurrentTransform(t,e,s);var c=e.controls[a],h=(i=this.getPointer(t),c&&c.getMouseDownHandler(t,e,c));h&&h(t,this._currentTransform,i.x,i.y)}}this._handleEvent(t,"down"),(r||o)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(t){this._resetTransformEventData(),this._pointer=this.getPointer(t,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(t)||null},_beforeTransform:function(t){var e=this._currentTransform;this.stateful&&e.target.saveState(),this.fire("before:transform",{e:t,transform:e})},__onMouseMove:function(t){var e,i;if(this._handleEvent(t,"move:before"),this._cacheTransformEventData(t),this.isDrawingMode)this._onMouseMoveInDrawingMode(t);else if(this._isMainEvent(t)){var n=this._groupSelector;n?(i=this._absolutePointer,n.left=i.x-n.ex,n.top=i.y-n.ey,this.renderTop()):this._currentTransform?this._transformObject(t):(e=this.findTarget(t)||null,this._setCursorFromEvent(t,e),this._fireOverOutEvents(e,t)),this._handleEvent(t,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(t,e){var i=this._hoveredTarget,n=this._hoveredTargets,r=this.targets,o=Math.max(n.length,r.length);this.fireSyntheticInOutEvents(t,e,{oldTarget:i,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var s=0;s<o;s++)this.fireSyntheticInOutEvents(r[s],e,{oldTarget:n[s],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=t,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(t,e){var i=this._draggedoverTarget,n=this._hoveredTargets,r=this.targets,o=Math.max(n.length,r.length);this.fireSyntheticInOutEvents(t,e,{oldTarget:i,evtOut:"dragleave",evtIn:"dragenter"});for(var s=0;s<o;s++)this.fireSyntheticInOutEvents(r[s],e,{oldTarget:n[s],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=t},fireSyntheticInOutEvents:function(t,e,i){var n,r,o,s=i.oldTarget,a=s!==t,c=i.canvasEvtIn,h=i.canvasEvtOut;a&&(n={e,target:t,previousTarget:s},r={e,target:s,nextTarget:t}),o=t&&a,s&&a&&(h&&this.fire(h,r),s.fire(i.evtOut,r)),o&&(c&&this.fire(c,n),t.fire(i.evtIn,n))},__onMouseWheel:function(t){this._cacheTransformEventData(t),this._handleEvent(t,"wheel"),this._resetTransformEventData()},_transformObject:function(t){var e=this.getPointer(t),i=this._currentTransform;i.reset=!1,i.shiftKey=t.shiftKey,i.altKey=t[this.centeredKey],this._performTransformAction(t,i,e),i.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(t,e,i){var n=i.x,r=i.y,o=e.action,s=!1,a=e.actionHandler;a&&(s=a(t,e,n,r)),"drag"===o&&s&&(e.target.isMoving=!0,this.setCursor(e.target.moveCursor||this.moveCursor)),e.actionPerformed=e.actionPerformed||s},_fire:A.controlsUtils.fireEvent,_setCursorFromEvent:function(t,e){if(!e)return this.setCursor(this.defaultCursor),!1;var i=e.hoverCursor||this.hoverCursor,n=this._activeObject&&"activeSelection"===this._activeObject.type?this._activeObject:null,r=(!n||!n.contains(e))&&e._findTargetCorner(this.getPointer(t,!0));r?this.setCursor(this.getCornerCursor(r,e,t)):(e.subTargetCheck&&this.targets.concat().reverse().map((function(t){i=t.hoverCursor||i})),this.setCursor(i))},getCornerCursor:function(t,e,i){var n=e.controls[t];return n.cursorStyleHandler(i,n,e)}})}(),m=Math.min,y=Math.max,A.util.object.extend(A.Canvas.prototype,{_shouldGroup:function(t,e){var i=this._activeObject;return i&&this._isSelectionKeyPressed(t)&&e&&e.selectable&&this.selection&&(i!==e||"activeSelection"===i.type)&&!e.onSelect({e:t})},_handleGrouping:function(t,e){var i=this._activeObject;i.__corner||(e!==i||(e=this.findTarget(t,!0))&&e.selectable)&&(i&&"activeSelection"===i.type?this._updateActiveSelection(e,t):this._createActiveSelection(e,t))},_updateActiveSelection:function(t,e){var i=this._activeObject,n=i._objects.slice(0);i.contains(t)?(i.removeWithUpdate(t),this._hoveredTarget=t,this._hoveredTargets=this.targets.concat(),1===i.size()&&this._setActiveObject(i.item(0),e)):(i.addWithUpdate(t),this._hoveredTarget=i,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(n,e)},_createActiveSelection:function(t,e){var i=this.getActiveObjects(),n=this._createGroup(t);this._hoveredTarget=n,this._setActiveObject(n,e),this._fireSelectionEvents(i,e)},_createGroup:function(t){var e=this._objects,i=e.indexOf(this._activeObject)<e.indexOf(t)?[this._activeObject,t]:[t,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new A.ActiveSelection(i,{canvas:this})},_groupSelectedObjects:function(t){var e,i=this._collectObjects(t);1===i.length?this.setActiveObject(i[0],t):i.length>1&&(e=new A.ActiveSelection(i.reverse(),{canvas:this}),this.setActiveObject(e,t))},_collectObjects:function(t){for(var e,i=[],n=this._groupSelector.ex,r=this._groupSelector.ey,o=n+this._groupSelector.left,s=r+this._groupSelector.top,a=new A.Point(m(n,o),m(r,s)),c=new A.Point(y(n,o),y(r,s)),h=!this.selectionFullyContained,l=n===o&&r===s,u=this._objects.length;u--&&!((e=this._objects[u])&&e.selectable&&e.visible&&(h&&e.intersectsWithRect(a,c,!0)||e.isContainedWithinRect(a,c,!0)||h&&e.containsPoint(a,null,!0)||h&&e.containsPoint(c,null,!0))&&(i.push(e),l)););return i.length>1&&(i=i.filter((function(e){return!e.onSelect({e:t})}))),i},_maybeGroupObjects:function(t){this.selection&&this._groupSelector&&this._groupSelectedObjects(t),this.setCursor(this.defaultCursor),this._groupSelector=null}}),A.util.object.extend(A.StaticCanvas.prototype,{toDataURL:function(t){t||(t={});var e=t.format||"png",i=t.quality||1,n=(t.multiplier||1)*(t.enableRetinaScaling?this.getRetinaScaling():1),r=this.toCanvasElement(n,t);return A.util.toDataURL(r,e,i)},toCanvasElement:function(t,e){t=t||1;var i=((e=e||{}).width||this.width)*t,n=(e.height||this.height)*t,r=this.getZoom(),o=this.width,s=this.height,a=r*t,c=this.viewportTransform,h=(c[4]-(e.left||0))*t,l=(c[5]-(e.top||0))*t,u=this.interactive,f=[a,0,0,a,h,l],d=this.enableRetinaScaling,g=A.util.createCanvasElement(),p=this.contextTop;return g.width=i,g.height=n,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=f,this.width=i,this.height=n,this.calcViewportBoundaries(),this.renderCanvas(g.getContext("2d"),this._objects),this.viewportTransform=c,this.width=o,this.height=s,this.calcViewportBoundaries(),this.interactive=u,this.enableRetinaScaling=d,this.contextTop=p,g}}),A.util.object.extend(A.StaticCanvas.prototype,{loadFromJSON:function(t,e,i){if(t){var n="string"==typeof t?JSON.parse(t):A.util.object.clone(t),r=this,o=n.clipPath,s=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete n.clipPath,this._enlivenObjects(n.objects,(function(t){r.clear(),r._setBgOverlay(n,(function(){o?r._enlivenObjects([o],(function(i){r.clipPath=i[0],r.__setupCanvas.call(r,n,t,s,e)})):r.__setupCanvas.call(r,n,t,s,e)}))}),i),this}},__setupCanvas:function(t,e,i,n){var r=this;e.forEach((function(t,e){r.insertAt(t,e)})),this.renderOnAddRemove=i,delete t.objects,delete t.backgroundImage,delete t.overlayImage,delete t.background,delete t.overlay,this._setOptions(t),this.renderAll(),n&&n()},_setBgOverlay:function(t,e){var i={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(t.backgroundImage||t.overlayImage||t.background||t.overlay){var n=function(){i.backgroundImage&&i.overlayImage&&i.backgroundColor&&i.overlayColor&&e&&e()};this.__setBgOverlay("backgroundImage",t.backgroundImage,i,n),this.__setBgOverlay("overlayImage",t.overlayImage,i,n),this.__setBgOverlay("backgroundColor",t.background,i,n),this.__setBgOverlay("overlayColor",t.overlay,i,n)}else e&&e()},__setBgOverlay:function(t,e,i,n){var r=this;if(!e)return i[t]=!0,void(n&&n());"backgroundImage"===t||"overlayImage"===t?A.util.enlivenObjects([e],(function(e){r[t]=e[0],i[t]=!0,n&&n()})):this["set"+A.util.string.capitalize(t,!0)](e,(function(){i[t]=!0,n&&n()}))},_enlivenObjects:function(t,e,i){t&&0!==t.length?A.util.enlivenObjects(t,(function(t){e&&e(t)}),null,i):e&&e([])},_toDataURL:function(t,e){this.clone((function(i){e(i.toDataURL(t))}))},_toDataURLWithMultiplier:function(t,e,i){this.clone((function(n){i(n.toDataURLWithMultiplier(t,e))}))},clone:function(t,e){var i=JSON.stringify(this.toJSON(e));this.cloneWithoutData((function(e){e.loadFromJSON(i,(function(){t&&t(e)}))}))},cloneWithoutData:function(t){var e=A.util.createCanvasElement();e.width=this.width,e.height=this.height;var i=new A.Canvas(e);this.backgroundImage?(i.setBackgroundImage(this.backgroundImage.src,(function(){i.renderAll(),t&&t(i)})),i.backgroundImageOpacity=this.backgroundImageOpacity,i.backgroundImageStretch=this.backgroundImageStretch):t&&t(i)}}),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.util.object.clone,r=e.util.toFixed,o=e.util.string.capitalize,s=e.util.degreesToRadians,a=!e.isLikelyNode;e.Object||(e.Object=e.util.createClass(e.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:a,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(t){t&&this.setOptions(t)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=e.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(t){var i=e.perfLimitSizeTotal,n=t.width,r=t.height,o=e.maxCacheSideLimit,s=e.minCacheSideLimit;if(n<=o&&r<=o&&n*r<=i)return n<s&&(t.width=s),r<s&&(t.height=s),t;var a=n/r,c=e.util.limitDimsByArea(a,i),h=e.util.capValue,l=h(s,c.x,o),u=h(s,c.y,o);return n>l&&(t.zoomX/=n/l,t.width=l,t.capped=!0),r>u&&(t.zoomY/=r/u,t.height=u,t.capped=!0),t},_getCacheCanvasDimensions:function(){var t=this.getTotalObjectScaling(),e=this._getTransformedDimensions(0,0),i=e.x*t.scaleX/this.scaleX,n=e.y*t.scaleY/this.scaleY;return{width:i+2,height:n+2,zoomX:t.scaleX,zoomY:t.scaleY,x:i,y:n}},_updateCacheCanvas:function(){var t=this.canvas;if(this.noScaleCache&&t&&t._currentTransform){var i=t._currentTransform.target,n=t._currentTransform.action;if(this===i&&n.slice&&"scale"===n.slice(0,5))return!1}var r,o,s=this._cacheCanvas,a=this._limitCacheSize(this._getCacheCanvasDimensions()),c=e.minCacheSideLimit,h=a.width,l=a.height,u=a.zoomX,f=a.zoomY,d=h!==this.cacheWidth||l!==this.cacheHeight,g=this.zoomX!==u||this.zoomY!==f,p=d||g,v=0,m=0,y=!1;if(d){var C=this._cacheCanvas.width,_=this._cacheCanvas.height,x=h>C||l>_;y=x||(h<.9*C||l<.9*_)&&C>c&&_>c,x&&!a.capped&&(h>c||l>c)&&(v=.1*h,m=.1*l)}return this instanceof e.Text&&this.path&&(p=!0,y=!0,v+=this.getHeightOfLine(0)*this.zoomX,m+=this.getHeightOfLine(0)*this.zoomY),!!p&&(y?(s.width=Math.ceil(h+v),s.height=Math.ceil(l+m)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,s.width,s.height)),r=a.x/2,o=a.y/2,this.cacheTranslationX=Math.round(s.width/2-r)+r,this.cacheTranslationY=Math.round(s.height/2-o)+o,this.cacheWidth=h,this.cacheHeight=l,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(u,f),this.zoomX=u,this.zoomY=f,!0)},setOptions:function(t){this._setOptions(t),this._initGradient(t.fill,"fill"),this._initGradient(t.stroke,"stroke"),this._initPattern(t.fill,"fill"),this._initPattern(t.stroke,"stroke")},transform:function(t){var e=this.group&&!this.group._transformDone||this.group&&this.canvas&&t===this.canvas.contextTop,i=this.calcTransformMatrix(!e);t.transform(i[0],i[1],i[2],i[3],i[4],i[5])},toObject:function(t){var i=e.Object.NUM_FRACTION_DIGITS,n={type:this.type,version:e.version,originX:this.originX,originY:this.originY,left:r(this.left,i),top:r(this.top,i),width:r(this.width,i),height:r(this.height,i),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:r(this.strokeWidth,i),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:r(this.strokeMiterLimit,i),scaleX:r(this.scaleX,i),scaleY:r(this.scaleY,i),angle:r(this.angle,i),flipX:this.flipX,flipY:this.flipY,opacity:r(this.opacity,i),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:r(this.skewX,i),skewY:r(this.skewY,i)};return this.clipPath&&!this.clipPath.excludeFromExport&&(n.clipPath=this.clipPath.toObject(t),n.clipPath.inverted=this.clipPath.inverted,n.clipPath.absolutePositioned=this.clipPath.absolutePositioned),e.util.populateWithProperties(this,n,t),this.includeDefaultValues||(n=this._removeDefaultValues(n)),n},toDatalessObject:function(t){return this.toObject(t)},_removeDefaultValues:function(t){var i=e.util.getKlass(t.type).prototype;return i.stateProperties.forEach((function(e){"left"!==e&&"top"!==e&&(t[e]===i[e]&&delete t[e],Array.isArray(t[e])&&Array.isArray(i[e])&&0===t[e].length&&0===i[e].length&&delete t[e])})),t},toString:function(){return"#<fabric."+o(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var t=e.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(t.scaleX),scaleY:Math.abs(t.scaleY)}},getTotalObjectScaling:function(){var t=this.getObjectScaling(),e=t.scaleX,i=t.scaleY;if(this.canvas){var n=this.canvas.getZoom(),r=this.canvas.getRetinaScaling();e*=n*r,i*=n*r}return{scaleX:e,scaleY:i}},getObjectOpacity:function(){var t=this.opacity;return this.group&&(t*=this.group.getObjectOpacity()),t},_set:function(t,i){var n="scaleX"===t||"scaleY"===t,r=this[t]!==i,o=!1;return n&&(i=this._constrainScale(i)),"scaleX"===t&&i<0?(this.flipX=!this.flipX,i*=-1):"scaleY"===t&&i<0?(this.flipY=!this.flipY,i*=-1):"shadow"!==t||!i||i instanceof e.Shadow?"dirty"===t&&this.group&&this.group.set("dirty",i):i=new e.Shadow(i),this[t]=i,r&&(o=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(t)>-1?(this.dirty=!0,o&&this.group.set("dirty",!0)):o&&this.stateProperties.indexOf(t)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:e.iMatrix.concat()},isNotVisible:function(){return 0===this.opacity||!this.width&&!this.height&&0===this.strokeWidth||!this.visible},render:function(t){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(t.save(),this._setupCompositeOperation(t),this.drawSelectionBackground(t),this.transform(t),this._setOpacity(t),this._setShadow(t,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(t)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(t),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),t.restore())},renderCache:function(t){t=t||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,t.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&"transparent"!==this.stroke&&0!==this.strokeWidth},hasFill:function(){return this.fill&&"transparent"!==this.fill},needsItsOwnCache:function(){return!("stroke"!==this.paintFirst||!this.hasFill()||!this.hasStroke()||"object"!=typeof this.shadow)||!!this.clipPath},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)},drawClipPathOnCache:function(t,i){if(t.save(),i.inverted?t.globalCompositeOperation="destination-out":t.globalCompositeOperation="destination-in",i.absolutePositioned){var n=e.util.invertTransform(this.calcTransformMatrix());t.transform(n[0],n[1],n[2],n[3],n[4],n[5])}i.transform(t),t.scale(1/i.zoomX,1/i.zoomY),t.drawImage(i._cacheCanvas,-i.cacheTranslationX,-i.cacheTranslationY),t.restore()},drawObject:function(t,e){var i=this.fill,n=this.stroke;e?(this.fill="black",this.stroke="",this._setClippingProperties(t)):this._renderBackground(t),this._render(t),this._drawClipPath(t,this.clipPath),this.fill=i,this.stroke=n},_drawClipPath:function(t,e){e&&(e.canvas=this.canvas,e.shouldCache(),e._transformDone=!0,e.renderCache({forClipping:!0}),this.drawClipPathOnCache(t,e))},drawCacheOnCanvas:function(t){t.scale(1/this.zoomX,1/this.zoomY),t.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(t){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!t&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!t){var e=this.cacheWidth/this.zoomX,i=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-e/2,-i/2,e,i)}return!0}return!1},_renderBackground:function(t){if(this.backgroundColor){var e=this._getNonTransformedDimensions();t.fillStyle=this.backgroundColor,t.fillRect(-e.x/2,-e.y/2,e.x,e.y),this._removeShadow(t)}},_setOpacity:function(t){this.group&&!this.group._transformDone?t.globalAlpha=this.getObjectOpacity():t.globalAlpha*=this.opacity},_setStrokeStyles:function(t,e){var i=e.stroke;i&&(t.lineWidth=e.strokeWidth,t.lineCap=e.strokeLineCap,t.lineDashOffset=e.strokeDashOffset,t.lineJoin=e.strokeLineJoin,t.miterLimit=e.strokeMiterLimit,i.toLive?"percentage"===i.gradientUnits||i.gradientTransform||i.patternTransform?this._applyPatternForTransformedGradient(t,i):(t.strokeStyle=i.toLive(t,this),this._applyPatternGradientTransform(t,i)):t.strokeStyle=e.stroke)},_setFillStyles:function(t,e){var i=e.fill;i&&(i.toLive?(t.fillStyle=i.toLive(t,this),this._applyPatternGradientTransform(t,e.fill)):t.fillStyle=i)},_setClippingProperties:function(t){t.globalAlpha=1,t.strokeStyle="transparent",t.fillStyle="#000000"},_setLineDash:function(t,e){e&&0!==e.length&&(1&e.length&&e.push.apply(e,e),t.setLineDash(e))},_renderControls:function(t,i){var n,r,o,a=this.getViewportTransform(),c=this.calcTransformMatrix();r=void 0!==(i=i||{}).hasBorders?i.hasBorders:this.hasBorders,o=void 0!==i.hasControls?i.hasControls:this.hasControls,c=e.util.multiplyTransformMatrices(a,c),n=e.util.qrDecompose(c),t.save(),t.translate(n.translateX,n.translateY),t.lineWidth=1*this.borderScaleFactor,this.group||(t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(n.angle-=180),t.rotate(s(this.group?n.angle:this.angle)),i.forActiveSelection||this.group?r&&this.drawBordersInGroup(t,n,i):r&&this.drawBorders(t,i),o&&this.drawControls(t,i),t.restore()},_setShadow:function(t){if(this.shadow){var i,n=this.shadow,r=this.canvas,o=r&&r.viewportTransform[0]||1,s=r&&r.viewportTransform[3]||1;i=n.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),r&&r._isRetinaScaling()&&(o*=e.devicePixelRatio,s*=e.devicePixelRatio),t.shadowColor=n.color,t.shadowBlur=n.blur*e.browserShadowBlurConstant*(o+s)*(i.scaleX+i.scaleY)/4,t.shadowOffsetX=n.offsetX*o*i.scaleX,t.shadowOffsetY=n.offsetY*s*i.scaleY}},_removeShadow:function(t){this.shadow&&(t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0)},_applyPatternGradientTransform:function(t,e){if(!e||!e.toLive)return{offsetX:0,offsetY:0};var i=e.gradientTransform||e.patternTransform,n=-this.width/2+e.offsetX||0,r=-this.height/2+e.offsetY||0;return"percentage"===e.gradientUnits?t.transform(this.width,0,0,this.height,n,r):t.transform(1,0,0,1,n,r),i&&t.transform(i[0],i[1],i[2],i[3],i[4],i[5]),{offsetX:n,offsetY:r}},_renderPaintInOrder:function(t){"stroke"===this.paintFirst?(this._renderStroke(t),this._renderFill(t)):(this._renderFill(t),this._renderStroke(t))},_render:function(){},_renderFill:function(t){this.fill&&(t.save(),this._setFillStyles(t,this),"evenodd"===this.fillRule?t.fill("evenodd"):t.fill(),t.restore())},_renderStroke:function(t){if(this.stroke&&0!==this.strokeWidth){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this.strokeUniform&&this.group){var e=this.getObjectScaling();t.scale(1/e.scaleX,1/e.scaleY)}else this.strokeUniform&&t.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(t,this.strokeDashArray),this._setStrokeStyles(t,this),t.stroke(),t.restore()}},_applyPatternForTransformedGradient:function(t,i){var n,r=this._limitCacheSize(this._getCacheCanvasDimensions()),o=e.util.createCanvasElement(),s=this.canvas.getRetinaScaling(),a=r.x/this.scaleX/s,c=r.y/this.scaleY/s;o.width=a,o.height=c,(n=o.getContext("2d")).beginPath(),n.moveTo(0,0),n.lineTo(a,0),n.lineTo(a,c),n.lineTo(0,c),n.closePath(),n.translate(a/2,c/2),n.scale(r.zoomX/this.scaleX/s,r.zoomY/this.scaleY/s),this._applyPatternGradientTransform(n,i),n.fillStyle=i.toLive(t),n.fill(),t.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),t.scale(s*this.scaleX/r.zoomX,s*this.scaleY/r.zoomY),t.strokeStyle=n.createPattern(o,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var t=e.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",t.scaleX),this.set("scaleY",t.scaleY),this.angle=t.angle,this.skewX=t.skewX,this.skewY=0}},_removeTransformMatrix:function(t){var i=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),i=e.util.transformPoint(i,this.transformMatrix)),this.transformMatrix=null,t&&(this.scaleX*=t.scaleX,this.scaleY*=t.scaleY,this.cropX=t.cropX,this.cropY=t.cropY,i.x+=t.offsetLeft,i.y+=t.offsetTop,this.width=t.width,this.height=t.height),this.setPositionByOrigin(i,"center","center")},clone:function(t,i){var n=this.toObject(i);this.constructor.fromObject?this.constructor.fromObject(n,t):e.Object._fromObject("Object",n,t)},cloneAsImage:function(t,i){var n=this.toCanvasElement(i);return t&&t(new e.Image(n)),this},toCanvasElement:function(t){t||(t={});var i=e.util,n=i.saveObjectTransform(this),r=this.group,o=this.shadow,s=Math.abs,a=(t.multiplier||1)*(t.enableRetinaScaling?e.devicePixelRatio:1);delete this.group,t.withoutTransform&&i.resetObjectTransform(this),t.withoutShadow&&(this.shadow=null);var c,h,l,u,f=e.util.createCanvasElement(),d=this.getBoundingRect(!0,!0),g=this.shadow,p={x:0,y:0};g&&(h=g.blur,c=g.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),p.x=2*Math.round(s(g.offsetX)+h)*s(c.scaleX),p.y=2*Math.round(s(g.offsetY)+h)*s(c.scaleY)),l=d.width+p.x,u=d.height+p.y,f.width=Math.ceil(l),f.height=Math.ceil(u);var v=new e.StaticCanvas(f,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});"jpeg"===t.format&&(v.backgroundColor="#fff"),this.setPositionByOrigin(new e.Point(v.width/2,v.height/2),"center","center");var m=this.canvas;v.add(this);var y=v.toCanvasElement(a||1,t);return this.shadow=o,this.set("canvas",m),r&&(this.group=r),this.set(n).setCoords(),v._objects=[],v.dispose(),v=null,y},toDataURL:function(t){return t||(t={}),e.util.toDataURL(this.toCanvasElement(t),t.format||"png",t.quality||1)},isType:function(t){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===t},complexity:function(){return 1},toJSON:function(t){return this.toObject(t)},rotate:function(t){var e=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;return e&&this._setOriginToCenter(),this.set("angle",t),e&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(t,i){i=i||this.canvas.getPointer(t);var n=new e.Point(i.x,i.y),r=this._getLeftTopCoords();return this.angle&&(n=e.util.rotatePoint(n,r,s(-this.angle))),{x:n.x-r.x,y:n.y-r.y}},_setupCompositeOperation:function(t){this.globalCompositeOperation&&(t.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){e.runningAnimations&&e.runningAnimations.cancelByTarget(this)}}),e.util.createAccessors&&e.util.createAccessors(e.Object),i(e.Object.prototype,e.Observable),e.Object.NUM_FRACTION_DIGITS=2,e.Object.ENLIVEN_PROPS=["clipPath"],e.Object._fromObject=function(t,i,r,o){var s=e[t];i=n(i,!0),e.util.enlivenPatterns([i.fill,i.stroke],(function(t){void 0!==t[0]&&(i.fill=t[0]),void 0!==t[1]&&(i.stroke=t[1]),e.util.enlivenObjectEnlivables(i,i,(function(){var t=o?new s(i[o],i):new s(i);r&&r(t)}))}))},e.Object.__uid=0)}(e),C=A.util.degreesToRadians,_={left:-.5,center:0,right:.5},x={top:-.5,center:0,bottom:.5},A.util.object.extend(A.Object.prototype,{translateToGivenOrigin:function(t,e,i,n,r){var o,s,a,c=t.x,h=t.y;return"string"==typeof e?e=_[e]:e-=.5,"string"==typeof n?n=_[n]:n-=.5,"string"==typeof i?i=x[i]:i-=.5,"string"==typeof r?r=x[r]:r-=.5,s=r-i,((o=n-e)||s)&&(a=this._getTransformedDimensions(),c=t.x+o*a.x,h=t.y+s*a.y),new A.Point(c,h)},translateToCenterPoint:function(t,e,i){var n=this.translateToGivenOrigin(t,e,i,"center","center");return this.angle?A.util.rotatePoint(n,t,C(this.angle)):n},translateToOriginPoint:function(t,e,i){var n=this.translateToGivenOrigin(t,"center","center",e,i);return this.angle?A.util.rotatePoint(n,t,C(this.angle)):n},getCenterPoint:function(){var t=new A.Point(this.left,this.top);return this.translateToCenterPoint(t,this.originX,this.originY)},getPointByOrigin:function(t,e){var i=this.getCenterPoint();return this.translateToOriginPoint(i,t,e)},toLocalPoint:function(t,e,i){var n,r,o=this.getCenterPoint();return n=void 0!==e&&void 0!==i?this.translateToGivenOrigin(o,"center","center",e,i):new A.Point(this.left,this.top),r=new A.Point(t.x,t.y),this.angle&&(r=A.util.rotatePoint(r,o,-C(this.angle))),r.subtractEquals(n)},setPositionByOrigin:function(t,e,i){var n=this.translateToCenterPoint(t,e,i),r=this.translateToOriginPoint(n,this.originX,this.originY);this.set("left",r.x),this.set("top",r.y)},adjustPosition:function(t){var e,i,n=C(this.angle),r=this.getScaledWidth(),o=A.util.cos(n)*r,s=A.util.sin(n)*r;e="string"==typeof this.originX?_[this.originX]:this.originX-.5,i="string"==typeof t?_[t]:t-.5,this.left+=o*(i-e),this.top+=s*(i-e),this.setCoords(),this.originX=t},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var t=this.getCenterPoint();this.originX="center",this.originY="center",this.left=t.x,this.top=t.y},_resetOrigin:function(){var t=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=t.x,this.top=t.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}}),function(){var t=A.util,e=t.degreesToRadians,i=t.multiplyTransformMatrices,n=t.transformPoint;t.object.extend(A.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(t,e){return e?t?this.calcACoords():this.calcLineCoords():(this.aCoords&&this.lineCoords||this.setCoords(!0),t?this.aCoords:this.lineCoords)},getCoords:function(t,e){return i=this._getCoords(t,e),[new A.Point(i.tl.x,i.tl.y),new A.Point(i.tr.x,i.tr.y),new A.Point(i.br.x,i.br.y),new A.Point(i.bl.x,i.bl.y)];var i},intersectsWithRect:function(t,e,i,n){var r=this.getCoords(i,n);return"Intersection"===A.Intersection.intersectPolygonRectangle(r,t,e).status},intersectsWithObject:function(t,e,i){return"Intersection"===A.Intersection.intersectPolygonPolygon(this.getCoords(e,i),t.getCoords(e,i)).status||t.isContainedWithinObject(this,e,i)||this.isContainedWithinObject(t,e,i)},isContainedWithinObject:function(t,e,i){for(var n=this.getCoords(e,i),r=e?t.aCoords:t.lineCoords,o=0,s=t._getImageLines(r);o<4;o++)if(!t.containsPoint(n[o],s))return!1;return!0},isContainedWithinRect:function(t,e,i,n){var r=this.getBoundingRect(i,n);return r.left>=t.x&&r.left+r.width<=e.x&&r.top>=t.y&&r.top+r.height<=e.y},containsPoint:function(t,e,i,n){var r=this._getCoords(i,n),o=(e=e||this._getImageLines(r),this._findCrossPoints(t,e));return 0!==o&&o%2==1},isOnScreen:function(t){if(!this.canvas)return!1;var e=this.canvas.vptCoords.tl,i=this.canvas.vptCoords.br;return!!this.getCoords(!0,t).some((function(t){return t.x<=i.x&&t.x>=e.x&&t.y<=i.y&&t.y>=e.y}))||!!this.intersectsWithRect(e,i,!0,t)||this._containsCenterOfCanvas(e,i,t)},_containsCenterOfCanvas:function(t,e,i){var n={x:(t.x+e.x)/2,y:(t.y+e.y)/2};return!!this.containsPoint(n,null,!0,i)},isPartiallyOnScreen:function(t){if(!this.canvas)return!1;var e=this.canvas.vptCoords.tl,i=this.canvas.vptCoords.br;return!!this.intersectsWithRect(e,i,!0,t)||this.getCoords(!0,t).every((function(t){return(t.x>=i.x||t.x<=e.x)&&(t.y>=i.y||t.y<=e.y)}))&&this._containsCenterOfCanvas(e,i,t)},_getImageLines:function(t){return{topline:{o:t.tl,d:t.tr},rightline:{o:t.tr,d:t.br},bottomline:{o:t.br,d:t.bl},leftline:{o:t.bl,d:t.tl}}},_findCrossPoints:function(t,e){var i,n,r,o=0;for(var s in e)if(!((r=e[s]).o.y<t.y&&r.d.y<t.y||r.o.y>=t.y&&r.d.y>=t.y||(r.o.x===r.d.x&&r.o.x>=t.x?n=r.o.x:(i=(r.d.y-r.o.y)/(r.d.x-r.o.x),n=-(t.y-0*t.x-(r.o.y-i*r.o.x))/(0-i)),n>=t.x&&(o+=1),2!==o)))break;return o},getBoundingRect:function(e,i){var n=this.getCoords(e,i);return t.makeBoundingBoxFromPoints(n)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(t){return Math.abs(t)<this.minScaleLimit?t<0?-this.minScaleLimit:this.minScaleLimit:0===t?1e-4:t},scale:function(t){return this._set("scaleX",t),this._set("scaleY",t),this.setCoords()},scaleToWidth:function(t,e){var i=this.getBoundingRect(e).width/this.getScaledWidth();return this.scale(t/this.width/i)},scaleToHeight:function(t,e){var i=this.getBoundingRect(e).height/this.getScaledHeight();return this.scale(t/this.height/i)},calcLineCoords:function(){var i=this.getViewportTransform(),r=this.padding,o=e(this.angle),s=t.cos(o)*r,a=t.sin(o)*r,c=s+a,h=s-a,l=this.calcACoords(),u={tl:n(l.tl,i),tr:n(l.tr,i),bl:n(l.bl,i),br:n(l.br,i)};return r&&(u.tl.x-=h,u.tl.y-=c,u.tr.x+=c,u.tr.y-=h,u.bl.x-=c,u.bl.y+=h,u.br.x+=h,u.br.y+=c),u},calcOCoords:function(){var t=this._calcRotateMatrix(),e=this._calcTranslateMatrix(),n=this.getViewportTransform(),r=i(n,e),o=i(r,t),s=(o=i(o,[1/n[0],0,0,1/n[3],0,0]),this._calculateCurrentDimensions()),a={};return this.forEachControl((function(t,e,i){a[e]=t.positionHandler(s,o,i)})),a},calcACoords:function(){var t=this._calcRotateMatrix(),e=this._calcTranslateMatrix(),r=i(e,t),o=this._getTransformedDimensions(),s=o.x/2,a=o.y/2;return{tl:n({x:-s,y:-a},r),tr:n({x:s,y:-a},r),bl:n({x:-s,y:a},r),br:n({x:s,y:a},r)}},setCoords:function(t){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),t||(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords()),this},_calcRotateMatrix:function(){return t.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var t=this.getCenterPoint();return[1,0,0,1,t.x,t.y]},transformMatrixKey:function(t){var e="_",i="";return!t&&this.group&&(i=this.group.transformMatrixKey(t)+e),i+this.top+e+this.left+e+this.scaleX+e+this.scaleY+e+this.skewX+e+this.skewY+e+this.angle+e+this.originX+e+this.originY+e+this.width+e+this.height+e+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(t){var e=this.calcOwnMatrix();if(t||!this.group)return e;var n=this.transformMatrixKey(t),r=this.matrixCache||(this.matrixCache={});return r.key===n?r.value:(this.group&&(e=i(this.group.calcTransformMatrix(!1),e)),r.key=n,r.value=e,e)},calcOwnMatrix:function(){var e=this.transformMatrixKey(!0),i=this.ownMatrixCache||(this.ownMatrixCache={});if(i.key===e)return i.value;var n=this._calcTranslateMatrix(),r={angle:this.angle,translateX:n[4],translateY:n[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return i.key=e,i.value=t.composeMatrix(r),i.value},_getNonTransformedDimensions:function(){var t=this.strokeWidth;return{x:this.width+t,y:this.height+t}},_getTransformedDimensions:function(e,i){void 0===e&&(e=this.skewX),void 0===i&&(i=this.skewY);var n,r,o,s=0===e&&0===i;if(this.strokeUniform?(r=this.width,o=this.height):(r=(n=this._getNonTransformedDimensions()).x,o=n.y),s)return this._finalizeDimensions(r*this.scaleX,o*this.scaleY);var a=t.sizeAfterTransform(r,o,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:e,skewY:i});return this._finalizeDimensions(a.x,a.y)},_finalizeDimensions:function(t,e){return this.strokeUniform?{x:t+this.strokeWidth,y:e+this.strokeWidth}:{x:t,y:e}},_calculateCurrentDimensions:function(){var t=this.getViewportTransform(),e=this._getTransformedDimensions();return n(e,t,!0).scalarAdd(2*this.padding)}})}(),A.util.object.extend(A.Object.prototype,{sendToBack:function(){return this.group?A.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?A.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(t){return this.group?A.StaticCanvas.prototype.sendBackwards.call(this.group,this,t):this.canvas&&this.canvas.sendBackwards(this,t),this},bringForward:function(t){return this.group?A.StaticCanvas.prototype.bringForward.call(this.group,this,t):this.canvas&&this.canvas.bringForward(this,t),this},moveTo:function(t){return this.group&&"activeSelection"!==this.group.type?A.StaticCanvas.prototype.moveTo.call(this.group,this,t):this.canvas&&this.canvas.moveTo(this,t),this}}),function(){function t(t,e){if(e){if(e.toLive)return t+": url(#SVGID_"+e.id+"); ";var i=new A.Color(e),n=t+": "+i.toRgb()+"; ",r=i.getAlpha();return 1!==r&&(n+=t+"-opacity: "+r.toString()+"; "),n}return t+": none; "}var e=A.util.toFixed;A.util.object.extend(A.Object.prototype,{getSvgStyles:function(e){var i=this.fillRule?this.fillRule:"nonzero",n=this.strokeWidth?this.strokeWidth:"0",r=this.strokeDashArray?this.strokeDashArray.join(" "):"none",o=this.strokeDashOffset?this.strokeDashOffset:"0",s=this.strokeLineCap?this.strokeLineCap:"butt",a=this.strokeLineJoin?this.strokeLineJoin:"miter",c=this.strokeMiterLimit?this.strokeMiterLimit:"4",h=void 0!==this.opacity?this.opacity:"1",l=this.visible?"":" visibility: hidden;",u=e?"":this.getSvgFilter(),f=t("fill",this.fill);return[t("stroke",this.stroke),"stroke-width: ",n,"; ","stroke-dasharray: ",r,"; ","stroke-linecap: ",s,"; ","stroke-dashoffset: ",o,"; ","stroke-linejoin: ",a,"; ","stroke-miterlimit: ",c,"; ",f,"fill-rule: ",i,"; ","opacity: ",h,";",u,l].join("")},getSvgSpanStyles:function(e,i){var n="; ",r=e.fontFamily?"font-family: "+(-1===e.fontFamily.indexOf("'")&&-1===e.fontFamily.indexOf('"')?"'"+e.fontFamily+"'":e.fontFamily)+n:"",o=e.strokeWidth?"stroke-width: "+e.strokeWidth+n:"",s=e.fontSize?"font-size: "+e.fontSize+"px"+n:"",a=e.fontStyle?"font-style: "+e.fontStyle+n:"",c=e.fontWeight?"font-weight: "+e.fontWeight+n:"",h=e.fill?t("fill",e.fill):"",l=e.stroke?t("stroke",e.stroke):"",u=this.getSvgTextDecoration(e);return u&&(u="text-decoration: "+u+n),[l,o,r,s,a,c,u,h,e.deltaY?"baseline-shift: "+-e.deltaY+"; ":"",i?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(t){return["overline","underline","line-through"].filter((function(e){return t[e.replace("-","")]})).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(t,e){var i=t?this.calcTransformMatrix():this.calcOwnMatrix();return'transform="'+A.util.matrixToSVG(i)+(e||"")+'" '},_setSVGBg:function(t){if(this.backgroundColor){var i=A.Object.NUM_FRACTION_DIGITS;t.push("\t\t<rect ",this._getFillAttributes(this.backgroundColor),' x="',e(-this.width/2,i),'" y="',e(-this.height/2,i),'" width="',e(this.width,i),'" height="',e(this.height,i),'"></rect>\n')}},toSVG:function(t){return this._createBaseSVGMarkup(this._toSVG(t),{reviver:t})},toClipPathSVG:function(t){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(t),{reviver:t})},_createBaseClipPathSVGMarkup:function(t,e){var i=(e=e||{}).reviver,n=e.additionalTransform||"",r=[this.getSvgTransform(!0,n),this.getSvgCommons()].join(""),o=t.indexOf("COMMON_PARTS");return t[o]=r,i?i(t.join("")):t.join("")},_createBaseSVGMarkup:function(t,e){var i,n,r=(e=e||{}).noStyle,o=e.reviver,s=r?"":'style="'+this.getSvgStyles()+'" ',a=e.withShadow?'style="'+this.getSvgFilter()+'" ':"",c=this.clipPath,h=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",l=c&&c.absolutePositioned,u=this.stroke,f=this.fill,d=this.shadow,g=[],p=t.indexOf("COMMON_PARTS"),v=e.additionalTransform;return c&&(c.clipPathId="CLIPPATH_"+A.Object.__uid++,n='<clipPath id="'+c.clipPathId+'" >\n'+c.toClipPathSVG(o)+"</clipPath>\n"),l&&g.push("<g ",a,this.getSvgCommons()," >\n"),g.push("<g ",this.getSvgTransform(!1),l?"":a+this.getSvgCommons()," >\n"),i=[s,h,r?"":this.addPaintOrder()," ",v?'transform="'+v+'" ':""].join(""),t[p]=i,f&&f.toLive&&g.push(f.toSVG(this)),u&&u.toLive&&g.push(u.toSVG(this)),d&&g.push(d.toSVG(this)),c&&g.push(n),g.push(t.join("")),g.push("</g>\n"),l&&g.push("</g>\n"),o?o(g.join("")):g.join("")},addPaintOrder:function(){return"fill"!==this.paintFirst?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var t=A.util.object.extend,e="stateProperties";function i(e,i,n){var r={};n.forEach((function(t){r[t]=e[t]})),t(e[i],r,!0)}function n(t,e,i){if(t===e)return!0;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var r=0,o=t.length;r<o;r++)if(!n(t[r],e[r]))return!1;return!0}if(t&&"object"==typeof t){var s,a=Object.keys(t);if(!e||"object"!=typeof e||!i&&a.length!==Object.keys(e).length)return!1;for(r=0,o=a.length;r<o;r++)if("canvas"!==(s=a[r])&&"group"!==s&&!n(t[s],e[s]))return!1;return!0}}A.util.object.extend(A.Object.prototype,{hasStateChanged:function(t){var i="_"+(t=t||e);return Object.keys(this[i]).length<this[t].length||!n(this[i],this,!0)},saveState:function(t){var n=t&&t.propertySet||e,r="_"+n;return this[r]?(i(this,r,this[n]),t&&t.stateProperties&&i(this,r,t.stateProperties),this):this.setupState(t)},setupState:function(t){var i=(t=t||{}).propertySet||e;return t.propertySet=i,this["_"+i]={},this.saveState(t),this}})}(),function(){var t=A.util.degreesToRadians;A.util.object.extend(A.Object.prototype,{_findTargetCorner:function(t,e){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var i,n,r,o=t.x,s=t.y,a=Object.keys(this.oCoords),c=a.length-1;for(this.__corner=0;c>=0;c--)if(r=a[c],this.isControlVisible(r)&&(n=this._getImageLines(e?this.oCoords[r].touchCorner:this.oCoords[r].corner),0!==(i=this._findCrossPoints({x:o,y:s},n))&&i%2==1))return this.__corner=r,r;return!1},forEachControl:function(t){for(var e in this.controls)t(this.controls[e],e,this)},_setCornerCoords:function(){var t=this.oCoords;for(var e in t){var i=this.controls[e];t[e].corner=i.calcCornerCoords(this.angle,this.cornerSize,t[e].x,t[e].y,!1),t[e].touchCorner=i.calcCornerCoords(this.angle,this.touchCornerSize,t[e].x,t[e].y,!0)}},drawSelectionBackground:function(e){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;e.save();var i=this.getCenterPoint(),n=this._calculateCurrentDimensions(),r=this.canvas.viewportTransform;return e.translate(i.x,i.y),e.scale(1/r[0],1/r[3]),e.rotate(t(this.angle)),e.fillStyle=this.selectionBackgroundColor,e.fillRect(-n.x/2,-n.y/2,n.x,n.y),e.restore(),this},drawBorders:function(t,e){e=e||{};var i=this._calculateCurrentDimensions(),n=this.borderScaleFactor,r=i.x+n,o=i.y+n,s=void 0!==e.hasControls?e.hasControls:this.hasControls,a=!1;return t.save(),t.strokeStyle=e.borderColor||this.borderColor,this._setLineDash(t,e.borderDashArray||this.borderDashArray),t.strokeRect(-r/2,-o/2,r,o),s&&(t.beginPath(),this.forEachControl((function(e,i,n){e.withConnection&&e.getVisibility(n,i)&&(a=!0,t.moveTo(e.x*r,e.y*o),t.lineTo(e.x*r+e.offsetX,e.y*o+e.offsetY))})),a&&t.stroke()),t.restore(),this},drawBordersInGroup:function(t,e,i){i=i||{};var n=A.util.sizeAfterTransform(this.width,this.height,e),r=this.strokeWidth,o=this.strokeUniform,s=this.borderScaleFactor,a=n.x+r*(o?this.canvas.getZoom():e.scaleX)+s,c=n.y+r*(o?this.canvas.getZoom():e.scaleY)+s;return t.save(),this._setLineDash(t,i.borderDashArray||this.borderDashArray),t.strokeStyle=i.borderColor||this.borderColor,t.strokeRect(-a/2,-c/2,a,c),t.restore(),this},drawControls:function(t,e){e=e||{},t.save();var i,n,r=this.canvas.getRetinaScaling();return t.setTransform(r,0,0,r,0,0),t.strokeStyle=t.fillStyle=e.cornerColor||this.cornerColor,this.transparentCorners||(t.strokeStyle=e.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(t,e.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(i=this.group.calcTransformMatrix()),this.forEachControl((function(r,o,s){n=s.oCoords[o],r.getVisibility(s,o)&&(i&&(n=A.util.transformPoint(n,i)),r.render(t,n.x,n.y,e,s))})),t.restore(),this},isControlVisible:function(t){return this.controls[t]&&this.controls[t].getVisibility(this,t)},setControlVisible:function(t,e){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[t]=e,this},setControlsVisibility:function(t){for(var e in t||(t={}),t)this.setControlVisible(e,t[e]);return this},onDeselect:function(){},onSelect:function(){}})}(),A.util.object.extend(A.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(t,e){var i=function(){},n=(e=e||{}).onComplete||i,r=e.onChange||i,o=this;return A.util.animate({target:this,startValue:t.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(e){t.set("left",e),o.requestRenderAll(),r()},onComplete:function(){t.setCoords(),n()}})},fxCenterObjectV:function(t,e){var i=function(){},n=(e=e||{}).onComplete||i,r=e.onChange||i,o=this;return A.util.animate({target:this,startValue:t.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(e){t.set("top",e),o.requestRenderAll(),r()},onComplete:function(){t.setCoords(),n()}})},fxRemove:function(t,e){var i=function(){},n=(e=e||{}).onComplete||i,r=e.onChange||i,o=this;return A.util.animate({target:this,startValue:t.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(e){t.set("opacity",e),o.requestRenderAll(),r()},onComplete:function(){o.remove(t),n()}})}}),A.util.object.extend(A.Object.prototype,{animate:function(){if(arguments[0]&&"object"==typeof arguments[0]){var t,e,i=[],n=[];for(t in arguments[0])i.push(t);for(var r=0,o=i.length;r<o;r++)t=i[r],e=r!==o-1,n.push(this._animate(t,arguments[0][t],arguments[1],e));return n}return this._animate.apply(this,arguments)},_animate:function(t,e,i,n){var r,o=this;e=e.toString(),i=i?A.util.object.clone(i):{},~t.indexOf(".")&&(r=t.split("."));var s=o.colorProperties.indexOf(t)>-1||r&&o.colorProperties.indexOf(r[1])>-1,a=r?this.get(r[0])[r[1]]:this.get(t);"from"in i||(i.from=a),s||(e=~e.indexOf("=")?a+parseFloat(e.replace("=","")):parseFloat(e));var c={target:this,startValue:i.from,endValue:e,byValue:i.by,easing:i.easing,duration:i.duration,abort:i.abort&&function(t,e,n){return i.abort.call(o,t,e,n)},onChange:function(e,s,a){r?o[r[0]][r[1]]=e:o.set(t,e),n||i.onChange&&i.onChange(e,s,a)},onComplete:function(t,e,r){n||(o.setCoords(),i.onComplete&&i.onComplete(t,e,r))}};return s?A.util.animateColor(c.startValue,c.endValue,c.duration,c):A.util.animate(c)}}),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.util.object.clone,r={x1:1,x2:1,y1:1,y2:1};function o(t,e){var i=t.origin,n=t.axis1,r=t.axis2,o=t.dimension,s=e.nearest,a=e.center,c=e.farthest;return function(){switch(this.get(i)){case s:return Math.min(this.get(n),this.get(r));case a:return Math.min(this.get(n),this.get(r))+.5*this.get(o);case c:return Math.max(this.get(n),this.get(r))}}}e.Line?e.warn("fabric.Line is already defined"):(e.Line=e.util.createClass(e.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:e.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(t,e){t||(t=[0,0,0,0]),this.callSuper("initialize",e),this.set("x1",t[0]),this.set("y1",t[1]),this.set("x2",t[2]),this.set("y2",t[3]),this._setWidthHeight(e)},_setWidthHeight:function(t){t||(t={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in t?t.left:this._getLeftToOriginX(),this.top="top"in t?t.top:this._getTopToOriginY()},_set:function(t,e){return this.callSuper("_set",t,e),void 0!==r[t]&&this._setWidthHeight(),this},_getLeftToOriginX:o({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:o({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(t){t.beginPath();var e=this.calcLinePoints();t.moveTo(e.x1,e.y1),t.lineTo(e.x2,e.y2),t.lineWidth=this.strokeWidth;var i=t.strokeStyle;t.strokeStyle=this.stroke||t.fillStyle,this.stroke&&this._renderStroke(t),t.strokeStyle=i},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(t){return i(this.callSuper("toObject",t),this.calcLinePoints())},_getNonTransformedDimensions:function(){var t=this.callSuper("_getNonTransformedDimensions");return"butt"===this.strokeLineCap&&(0===this.width&&(t.y-=this.strokeWidth),0===this.height&&(t.x-=this.strokeWidth)),t},calcLinePoints:function(){var t=this.x1<=this.x2?-1:1,e=this.y1<=this.y2?-1:1,i=t*this.width*.5,n=e*this.height*.5;return{x1:i,x2:t*this.width*-.5,y1:n,y2:e*this.height*-.5}},_toSVG:function(){var t=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',t.x1,'" y1="',t.y1,'" x2="',t.x2,'" y2="',t.y2,'" />\n']}}),e.Line.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),e.Line.fromElement=function(t,n,r){r=r||{};var o=e.parseAttributes(t,e.Line.ATTRIBUTE_NAMES),s=[o.x1||0,o.y1||0,o.x2||0,o.y2||0];n(new e.Line(s,i(o,r)))},e.Line.fromObject=function(t,i){var r=n(t,!0);r.points=[t.x1,t.y1,t.x2,t.y2],e.Object._fromObject("Line",r,(function(t){delete t.points,i&&i(t)}),"points")})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.degreesToRadians;e.Circle?e.warn("fabric.Circle is already defined."):(e.Circle=e.util.createClass(e.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:e.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(t,e){return this.callSuper("_set",t,e),"radius"===t&&this.setRadius(e),this},toObject:function(t){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(t))},_toSVG:function(){var t,n=(this.endAngle-this.startAngle)%360;if(0===n)t=["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',this.radius,'" />\n'];else{var r=i(this.startAngle),o=i(this.endAngle),s=this.radius;t=['<path d="M '+e.util.cos(r)*s+" "+e.util.sin(r)*s," A "+s+" "+s," 0 ",+(n>180?"1":"0")+" 1"," "+e.util.cos(o)*s+" "+e.util.sin(o)*s,'" ',"COMMON_PARTS"," />\n"]}return t},_render:function(t){t.beginPath(),t.arc(0,0,this.radius,i(this.startAngle),i(this.endAngle),!1),this._renderPaintInOrder(t)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(t){return this.radius=t,this.set("width",2*t).set("height",2*t)}}),e.Circle.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),e.Circle.fromElement=function(t,i){var n,r=e.parseAttributes(t,e.Circle.ATTRIBUTE_NAMES);if(!("radius"in(n=r)&&n.radius>=0))throw new Error("value of `r` attribute is required and can not be negative");r.left=(r.left||0)-r.radius,r.top=(r.top||0)-r.radius,i(new e.Circle(r))},e.Circle.fromObject=function(t,i){e.Object._fromObject("Circle",t,i)})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Triangle?e.warn("fabric.Triangle is already defined"):(e.Triangle=e.util.createClass(e.Object,{type:"triangle",width:100,height:100,_render:function(t){var e=this.width/2,i=this.height/2;t.beginPath(),t.moveTo(-e,i),t.lineTo(0,-i),t.lineTo(e,i),t.closePath(),this._renderPaintInOrder(t)},_toSVG:function(){var t=this.width/2,e=this.height/2;return["<polygon ","COMMON_PARTS",'points="',[-t+" "+e,"0 "+-e,t+" "+e].join(","),'" />']}}),e.Triangle.fromObject=function(t,i){return e.Object._fromObject("Triangle",t,i)})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=2*Math.PI;e.Ellipse?e.warn("fabric.Ellipse is already defined."):(e.Ellipse=e.util.createClass(e.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:e.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(t){this.callSuper("initialize",t),this.set("rx",t&&t.rx||0),this.set("ry",t&&t.ry||0)},_set:function(t,e){switch(this.callSuper("_set",t,e),t){case"rx":this.rx=e,this.set("width",2*e);break;case"ry":this.ry=e,this.set("height",2*e)}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(t){return this.callSuper("toObject",["rx","ry"].concat(t))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,'" />\n']},_render:function(t){t.beginPath(),t.save(),t.transform(1,0,0,this.ry/this.rx,0,0),t.arc(0,0,this.rx,0,i,!1),t.restore(),this._renderPaintInOrder(t)}}),e.Ellipse.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),e.Ellipse.fromElement=function(t,i){var n=e.parseAttributes(t,e.Ellipse.ATTRIBUTE_NAMES);n.left=(n.left||0)-n.rx,n.top=(n.top||0)-n.ry,i(new e.Ellipse(n))},e.Ellipse.fromObject=function(t,i){e.Object._fromObject("Ellipse",t,i)})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend;e.Rect?e.warn("fabric.Rect is already defined"):(e.Rect=e.util.createClass(e.Object,{stateProperties:e.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:e.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(t){this.callSuper("initialize",t),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(t){var e=this.rx?Math.min(this.rx,this.width/2):0,i=this.ry?Math.min(this.ry,this.height/2):0,n=this.width,r=this.height,o=-this.width/2,s=-this.height/2,a=0!==e||0!==i,c=.4477152502;t.beginPath(),t.moveTo(o+e,s),t.lineTo(o+n-e,s),a&&t.bezierCurveTo(o+n-c*e,s,o+n,s+c*i,o+n,s+i),t.lineTo(o+n,s+r-i),a&&t.bezierCurveTo(o+n,s+r-c*i,o+n-c*e,s+r,o+n-e,s+r),t.lineTo(o+e,s+r),a&&t.bezierCurveTo(o+c*e,s+r,o,s+r-c*i,o,s+r-i),t.lineTo(o,s+i),a&&t.bezierCurveTo(o,s+c*i,o+c*e,s,o+e,s),t.closePath(),this._renderPaintInOrder(t)},toObject:function(t){return this.callSuper("toObject",["rx","ry"].concat(t))},_toSVG:function(){return["<rect ","COMMON_PARTS",'x="',-this.width/2,'" y="',-this.height/2,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,'" />\n']}}),e.Rect.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),e.Rect.fromElement=function(t,n,r){if(!t)return n(null);r=r||{};var o=e.parseAttributes(t,e.Rect.ATTRIBUTE_NAMES);o.left=o.left||0,o.top=o.top||0,o.height=o.height||0,o.width=o.width||0;var s=new e.Rect(i(r?e.util.object.clone(r):{},o));s.visible=s.visible&&s.width>0&&s.height>0,n(s)},e.Rect.fromObject=function(t,i){return e.Object._fromObject("Rect",t,i)})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.util.array.min,r=e.util.array.max,o=e.util.toFixed,s=e.util.projectStrokeOnPoints;e.Polyline?e.warn("fabric.Polyline is already defined"):(e.Polyline=e.util.createClass(e.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:e.Object.prototype.cacheProperties.concat("points"),initialize:function(t,e){e=e||{},this.points=t||[],this.callSuper("initialize",e),this._setPositionDimensions(e)},_projectStrokeOnPoints:function(){return s(this.points,this,!0)},_setPositionDimensions:function(t){var e,i=this._calcDimensions(t),n=this.exactBoundingBox?this.strokeWidth:0;this.width=i.width-n,this.height=i.height-n,t.fromSVG||(e=this.translateToGivenOrigin({x:i.left-this.strokeWidth/2+n/2,y:i.top-this.strokeWidth/2+n/2},"left","top",this.originX,this.originY)),void 0===t.left&&(this.left=t.fromSVG?i.left:e.x),void 0===t.top&&(this.top=t.fromSVG?i.top:e.y),this.pathOffset={x:i.left+this.width/2+n/2,y:i.top+this.height/2+n/2}},_calcDimensions:function(){var t=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,e=n(t,"x")||0,i=n(t,"y")||0;return{left:e,top:i,width:(r(t,"x")||0)-e,height:(r(t,"y")||0)-i}},toObject:function(t){return i(this.callSuper("toObject",t),{points:this.points.concat()})},_toSVG:function(){for(var t=[],i=this.pathOffset.x,n=this.pathOffset.y,r=e.Object.NUM_FRACTION_DIGITS,s=0,a=this.points.length;s<a;s++)t.push(o(this.points[s].x-i,r),",",o(this.points[s].y-n,r)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',t.join(""),'" />\n']},commonRender:function(t){var e,i=this.points.length,n=this.pathOffset.x,r=this.pathOffset.y;if(!i||isNaN(this.points[i-1].y))return!1;t.beginPath(),t.moveTo(this.points[0].x-n,this.points[0].y-r);for(var o=0;o<i;o++)e=this.points[o],t.lineTo(e.x-n,e.y-r);return!0},_render:function(t){this.commonRender(t)&&this._renderPaintInOrder(t)},complexity:function(){return this.get("points").length}}),e.Polyline.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(),e.Polyline.fromElementGenerator=function(t){return function(n,r,o){if(!n)return r(null);o||(o={});var s=e.parsePointsAttribute(n.getAttribute("points")),a=e.parseAttributes(n,e[t].ATTRIBUTE_NAMES);a.fromSVG=!0,r(new e[t](s,i(a,o)))}},e.Polyline.fromElement=e.Polyline.fromElementGenerator("Polyline"),e.Polyline.fromObject=function(t,i){return e.Object._fromObject("Polyline",t,i,"points")})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.projectStrokeOnPoints;e.Polygon?e.warn("fabric.Polygon is already defined"):(e.Polygon=e.util.createClass(e.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return i(this.points,this)},_render:function(t){this.commonRender(t)&&(t.closePath(),this._renderPaintInOrder(t))}}),e.Polygon.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(),e.Polygon.fromElement=e.Polyline.fromElementGenerator("Polygon"),e.Polygon.fromObject=function(t,i){e.Object._fromObject("Polygon",t,i,"points")})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.array.min,n=e.util.array.max,r=e.util.object.extend,o=e.util.object.clone,s=e.util.toFixed;e.Path?e.warn("fabric.Path is already defined"):(e.Path=e.util.createClass(e.Object,{type:"path",path:null,cacheProperties:e.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:e.Object.prototype.stateProperties.concat("path"),initialize:function(t,e){delete(e=o(e||{})).path,this.callSuper("initialize",e),this._setPath(t||[],e)},_setPath:function(t,i){this.path=e.util.makePathSimpler(Array.isArray(t)?t:e.util.parsePath(t)),e.Polyline.prototype._setPositionDimensions.call(this,i||{})},_renderPathCommands:function(t){var e,i=0,n=0,r=0,o=0,s=0,a=0,c=-this.pathOffset.x,h=-this.pathOffset.y;t.beginPath();for(var l=0,u=this.path.length;l<u;++l)switch((e=this.path[l])[0]){case"L":r=e[1],o=e[2],t.lineTo(r+c,o+h);break;case"M":i=r=e[1],n=o=e[2],t.moveTo(r+c,o+h);break;case"C":r=e[5],o=e[6],s=e[3],a=e[4],t.bezierCurveTo(e[1]+c,e[2]+h,s+c,a+h,r+c,o+h);break;case"Q":t.quadraticCurveTo(e[1]+c,e[2]+h,e[3]+c,e[4]+h),r=e[3],o=e[4],s=e[1],a=e[2];break;case"z":case"Z":r=i,o=n,t.closePath()}},_render:function(t){this._renderPathCommands(t),this._renderPaintInOrder(t)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(t){return r(this.callSuper("toObject",t),{path:this.path.map((function(t){return t.slice()}))})},toDatalessObject:function(t){var e=this.toObject(["sourcePath"].concat(t));return e.sourcePath&&delete e.path,e},_toSVG:function(){return["<path ","COMMON_PARTS",'d="',e.util.joinPath(this.path),'" stroke-linecap="round" ',"/>\n"]},_getOffsetTransform:function(){var t=e.Object.NUM_FRACTION_DIGITS;return" translate("+s(-this.pathOffset.x,t)+", "+s(-this.pathOffset.y,t)+")"},toClipPathSVG:function(t){var e=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})},toSVG:function(t){var e=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var t,r,o=[],s=[],a=0,c=0,h=0,l=0,u=0,f=this.path.length;u<f;++u){switch((t=this.path[u])[0]){case"L":h=t[1],l=t[2],r=[];break;case"M":a=h=t[1],c=l=t[2],r=[];break;case"C":r=e.util.getBoundsOfCurve(h,l,t[1],t[2],t[3],t[4],t[5],t[6]),h=t[5],l=t[6];break;case"Q":r=e.util.getBoundsOfCurve(h,l,t[1],t[2],t[1],t[2],t[3],t[4]),h=t[3],l=t[4];break;case"z":case"Z":h=a,l=c}r.forEach((function(t){o.push(t.x),s.push(t.y)})),o.push(h),s.push(l)}var d=i(o)||0,g=i(s)||0;return{left:d,top:g,width:(n(o)||0)-d,height:(n(s)||0)-g}}}),e.Path.fromObject=function(t,i){if("string"==typeof t.sourcePath){var n=t.sourcePath;e.loadSVGFromURL(n,(function(n){var r=n[0];r.setOptions(t),t.clipPath?e.util.enlivenObjects([t.clipPath],(function(t){r.clipPath=t[0],i&&i(r)})):i&&i(r)}))}else e.Object._fromObject("Path",t,i,"path")},e.Path.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(["d"]),e.Path.fromElement=function(t,i,n){var o=e.parseAttributes(t,e.Path.ATTRIBUTE_NAMES);o.fromSVG=!0,i(new e.Path(o.d,r(o,n)))})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.array.min,n=e.util.array.max;e.Group||(e.Group=e.util.createClass(e.Object,e.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(t,e,i){e=e||{},this._objects=[],i&&this.callSuper("initialize",e),this._objects=t||[];for(var n=this._objects.length;n--;)this._objects[n].group=this;if(i)this._updateObjectsACoords();else{var r=e&&e.centerPoint;void 0!==e.originX&&(this.originX=e.originX),void 0!==e.originY&&(this.originY=e.originY),r||this._calcBounds(),this._updateObjectsCoords(r),delete e.centerPoint,this.callSuper("initialize",e)}this.setCoords()},_updateObjectsACoords:function(){for(var t=this._objects.length;t--;)this._objects[t].setCoords(!0)},_updateObjectsCoords:function(t){t=t||this.getCenterPoint();for(var e=this._objects.length;e--;)this._updateObjectCoords(this._objects[e],t)},_updateObjectCoords:function(t,e){var i=t.left,n=t.top;t.set({left:i-e.x,top:n-e.y}),t.group=this,t.setCoords(!0)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(t){var i=!!this.group;return this._restoreObjectsState(),e.util.resetObjectTransform(this),t&&(i&&e.util.removeTransformFromObject(t,this.group.calcTransformMatrix()),this._objects.push(t),t.group=this,t._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,i?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(t){return this._restoreObjectsState(),e.util.resetObjectTransform(this),this.remove(t),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(t){this.dirty=!0,t.group=this,t._set("canvas",this.canvas)},_onObjectRemoved:function(t){this.dirty=!0,delete t.group},_set:function(t,i){var n=this._objects.length;if(this.useSetOnGroup)for(;n--;)this._objects[n].setOnGroup(t,i);if("canvas"===t)for(;n--;)this._objects[n]._set(t,i);e.Object.prototype._set.call(this,t,i)},toObject:function(t){var i=this.includeDefaultValues,n=this._objects.filter((function(t){return!t.excludeFromExport})).map((function(e){var n=e.includeDefaultValues;e.includeDefaultValues=i;var r=e.toObject(t);return e.includeDefaultValues=n,r})),r=e.Object.prototype.toObject.call(this,t);return r.objects=n,r},toDatalessObject:function(t){var i,n=this.sourcePath;if(n)i=n;else{var r=this.includeDefaultValues;i=this._objects.map((function(e){var i=e.includeDefaultValues;e.includeDefaultValues=r;var n=e.toDatalessObject(t);return e.includeDefaultValues=i,n}))}var o=e.Object.prototype.toDatalessObject.call(this,t);return o.objects=i,o},render:function(t){this._transformDone=!0,this.callSuper("render",t),this._transformDone=!1},shouldCache:function(){var t=e.Object.prototype.shouldCache.call(this);if(t)for(var i=0,n=this._objects.length;i<n;i++)if(this._objects[i].willDrawShadow())return this.ownCaching=!1,!1;return t},willDrawShadow:function(){if(e.Object.prototype.willDrawShadow.call(this))return!0;for(var t=0,i=this._objects.length;t<i;t++)if(this._objects[t].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(t){for(var e=0,i=this._objects.length;e<i;e++)this._objects[e].render(t);this._drawClipPath(t,this.clipPath)},isCacheDirty:function(t){if(this.callSuper("isCacheDirty",t))return!0;if(!this.statefullCache)return!1;for(var e=0,i=this._objects.length;e<i;e++)if(this._objects[e].isCacheDirty(!0)){if(this._cacheCanvas){var n=this.cacheWidth/this.zoomX,r=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-n/2,-r/2,n,r)}return!0}return!1},_restoreObjectsState:function(){var t=this.calcOwnMatrix();return this._objects.forEach((function(i){e.util.addTransformToObject(i,t),delete i.group,i.setCoords()})),this},destroy:function(){return this._objects.forEach((function(t){t.set("dirty",!0)})),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject((function(t){t.dispose&&t.dispose()})),this._objects=[]},toActiveSelection:function(){if(this.canvas){var t=this._objects,i=this.canvas;this._objects=[];var n=this.toObject();delete n.objects;var r=new e.ActiveSelection([]);return r.set(n),r.type="activeSelection",i.remove(this),t.forEach((function(t){t.group=r,t.dirty=!0,i.add(t)})),r.canvas=i,r._objects=t,i._activeObject=r,r.setCoords(),r}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){return this.forEachObject((function(t){t.setCoords(!0)})),this},_calcBounds:function(t){for(var e,i,n,r,o=[],s=[],a=["tr","br","bl","tl"],c=0,h=this._objects.length,l=a.length;c<h;++c){for(n=(e=this._objects[c]).calcACoords(),r=0;r<l;r++)i=a[r],o.push(n[i].x),s.push(n[i].y);e.aCoords=n}this._getBounds(o,s,t)},_getBounds:function(t,r,o){var s=new e.Point(i(t),i(r)),a=new e.Point(n(t),n(r)),c=s.y||0,h=s.x||0,l=a.x-s.x||0,u=a.y-s.y||0;this.width=l,this.height=u,o||this.setPositionByOrigin({x:h,y:c},"left","top")},_toSVG:function(t){for(var e=["<g ","COMMON_PARTS"," >\n"],i=0,n=this._objects.length;i<n;i++)e.push("\t\t",this._objects[i].toSVG(t));return e.push("</g>\n"),e},getSvgStyles:function(){var t=void 0!==this.opacity&&1!==this.opacity?"opacity: "+this.opacity+";":"",e=this.visible?"":" visibility: hidden;";return[t,this.getSvgFilter(),e].join("")},toClipPathSVG:function(t){for(var e=[],i=0,n=this._objects.length;i<n;i++)e.push("\t",this._objects[i].toClipPathSVG(t));return this._createBaseClipPathSVGMarkup(e,{reviver:t})}}),e.Group.fromObject=function(t,i){var n=t.objects,r=e.util.object.clone(t,!0);delete r.objects,"string"!=typeof n?e.util.enlivenObjects(n,(function(n){e.util.enlivenObjectEnlivables(t,r,(function(){i&&i(new e.Group(n,r,!0))}))})):e.loadSVGFromURL(n,(function(o){var s=e.util.groupSVGElements(o,t,n),a=r.clipPath;delete r.clipPath,s.set(r),a?e.util.enlivenObjects([a],(function(t){s.clipPath=t[0],i&&i(s)})):i&&i(s)}))})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});e.ActiveSelection||(e.ActiveSelection=e.util.createClass(e.Group,{type:"activeSelection",initialize:function(t,i){i=i||{},this._objects=t||[];for(var n=this._objects.length;n--;)this._objects[n].group=this;i.originX&&(this.originX=i.originX),i.originY&&(this.originY=i.originY),this._calcBounds(),this._updateObjectsCoords(),e.Object.prototype.initialize.call(this,i),this.setCoords()},toGroup:function(){var t=this._objects.concat();this._objects=[];var i=e.Object.prototype.toObject.call(this),n=new e.Group([]);if(delete i.type,n.set(i),t.forEach((function(t){t.canvas.remove(t),t.group=n})),n._objects=t,!this.canvas)return n;var r=this.canvas;return r.add(n),r._activeObject=n,n.setCoords(),n},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(t,e,i){t.save(),t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",t,e),void 0===(i=i||{}).hasControls&&(i.hasControls=!1),i.forActiveSelection=!0;for(var n=0,r=this._objects.length;n<r;n++)this._objects[n]._renderControls(t,i);t.restore()}}),e.ActiveSelection.fromObject=function(t,i){e.util.enlivenObjects(t.objects,(function(n){delete t.objects,i&&i(new e.ActiveSelection(n,t,!0))}))})}(e),function(t){"use strict";var e=A.util.object.extend;t.fabric||(t.fabric={}),t.fabric.Image?A.warn("fabric.Image is already defined."):(A.Image=A.util.createClass(A.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:A.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:A.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(t,e){e||(e={}),this.filters=[],this.cacheKey="texture"+A.Object.__uid++,this.callSuper("initialize",e),this._initElement(t,e)},getElement:function(){return this._element||{}},setElement:function(t,e){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=t,this._originalElement=t,this._initConfig(e),0!==this.filters.length&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(t){var e=A.filterBackend;e&&e.evictCachesForKey&&e.evictCachesForKey(t)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(t){A.util.cleanUpJsdomNode(this[t]),this[t]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var t=this.getElement();return{width:t.naturalWidth||t.width,height:t.naturalHeight||t.height}},_stroke:function(t){if(this.stroke&&0!==this.strokeWidth){var e=this.width/2,i=this.height/2;t.beginPath(),t.moveTo(-e,-i),t.lineTo(e,-i),t.lineTo(e,i),t.lineTo(-e,i),t.lineTo(-e,-i),t.closePath()}},toObject:function(t){var i=[];this.filters.forEach((function(t){t&&i.push(t.toObject())}));var n=e(this.callSuper("toObject",["cropX","cropY"].concat(t)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:i});return this.resizeFilter&&(n.resizeFilter=this.resizeFilter.toObject()),n},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var t,e=[],i=[],n=this._element,r=-this.width/2,o=-this.height/2,s="",a="";if(!n)return[];if(this.hasCrop()){var c=A.Object.__uid++;e.push('<clipPath id="imageCrop_'+c+'">\n','\t<rect x="'+r+'" y="'+o+'" width="'+this.width+'" height="'+this.height+'" />\n',"</clipPath>\n"),s=' clip-path="url(#imageCrop_'+c+')" '}if(this.imageSmoothing||(a='" image-rendering="optimizeSpeed'),i.push("\t<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',r-this.cropX,'" y="',o-this.cropY,'" width="',n.width||n.naturalWidth,'" height="',n.height||n.height,a,'"',s,"></image>\n"),this.stroke||this.strokeDashArray){var h=this.fill;this.fill=null,t=["\t<rect ",'x="',r,'" y="',o,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>\n'],this.fill=h}return"fill"!==this.paintFirst?e.concat(t,i):e.concat(i,t)},getSrc:function(t){var e=t?this._element:this._originalElement;return e?e.toDataURL?e.toDataURL():this.srcFromAttribute?e.getAttribute("src"):e.src:this.src||""},setSrc:function(t,e,i){return A.util.loadImage(t,(function(t,n){this.setElement(t,i),this._setWidthHeight(),e&&e(this,n)}),this,i&&i.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var t=this.resizeFilter,e=this.minimumScaleTrigger,i=this.getTotalObjectScaling(),n=i.scaleX,r=i.scaleY,o=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!t||n>e&&r>e)return this._element=o,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=n,void(this._lastScaleY=r);A.filterBackend||(A.filterBackend=A.initFilterBackend());var s=A.util.createCanvasElement(),a=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,c=o.width,h=o.height;s.width=c,s.height=h,this._element=s,this._lastScaleX=t.scaleX=n,this._lastScaleY=t.scaleY=r,A.filterBackend.applyFilters([t],o,c,h,this._element,a),this._filterScalingX=s.width/this._originalElement.width,this._filterScalingY=s.height/this._originalElement.height},applyFilters:function(t){if(t=(t=t||this.filters||[]).filter((function(t){return t&&!t.isNeutralState()})),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),0===t.length)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var e=this._originalElement,i=e.naturalWidth||e.width,n=e.naturalHeight||e.height;if(this._element===this._originalElement){var r=A.util.createCanvasElement();r.width=i,r.height=n,this._element=r,this._filteredEl=r}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,i,n),this._lastScaleX=1,this._lastScaleY=1;return A.filterBackend||(A.filterBackend=A.initFilterBackend()),A.filterBackend.applyFilters(t,this._originalElement,i,n,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(t){A.util.setImageSmoothing(t,this.imageSmoothing),!0!==this.isMoving&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(t),this._renderPaintInOrder(t)},drawCacheOnCanvas:function(t){A.util.setImageSmoothing(t,this.imageSmoothing),A.Object.prototype.drawCacheOnCanvas.call(this,t)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(t){var e=this._element;if(e){var i=this._filterScalingX,n=this._filterScalingY,r=this.width,o=this.height,s=Math.min,a=Math.max,c=a(this.cropX,0),h=a(this.cropY,0),l=e.naturalWidth||e.width,u=e.naturalHeight||e.height,f=c*i,d=h*n,g=s(r*i,l-f),p=s(o*n,u-d),v=-r/2,m=-o/2,y=s(r,l/i-c),C=s(o,u/n-h);e&&t.drawImage(e,f,d,g,p,v,m,y,C)}},_needsResize:function(){var t=this.getTotalObjectScaling();return t.scaleX!==this._lastScaleX||t.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(t,e){this.setElement(A.util.getById(t),e),A.util.addClass(this.getElement(),A.Image.CSS_CANVAS)},_initConfig:function(t){t||(t={}),this.setOptions(t),this._setWidthHeight(t)},_initFilters:function(t,e){t&&t.length?A.util.enlivenObjects(t,(function(t){e&&e(t)}),"fabric.Image.filters"):e&&e()},_setWidthHeight:function(t){t||(t={});var e=this.getElement();this.width=t.width||e.naturalWidth||e.width||0,this.height=t.height||e.naturalHeight||e.height||0},parsePreserveAspectRatioAttribute:function(){var t,e=A.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),i=this._element.width,n=this._element.height,r=1,o=1,s=0,a=0,c=0,h=0,l=this.width,u=this.height,f={width:l,height:u};return!e||"none"===e.alignX&&"none"===e.alignY?(r=l/i,o=u/n):("meet"===e.meetOrSlice&&(t=(l-i*(r=o=A.util.findScaleToFit(this._element,f)))/2,"Min"===e.alignX&&(s=-t),"Max"===e.alignX&&(s=t),t=(u-n*o)/2,"Min"===e.alignY&&(a=-t),"Max"===e.alignY&&(a=t)),"slice"===e.meetOrSlice&&(t=i-l/(r=o=A.util.findScaleToCover(this._element,f)),"Mid"===e.alignX&&(c=t/2),"Max"===e.alignX&&(c=t),t=n-u/o,"Mid"===e.alignY&&(h=t/2),"Max"===e.alignY&&(h=t),i=l/r,n=u/o)),{width:i,height:n,scaleX:r,scaleY:o,offsetLeft:s,offsetTop:a,cropX:c,cropY:h}}}),A.Image.CSS_CANVAS="canvas-img",A.Image.prototype.getSvgSrc=A.Image.prototype.getSrc,A.Image.fromObject=function(t,e){var i=A.util.object.clone(t);A.util.loadImage(i.src,(function(t,n){n?e&&e(null,!0):A.Image.prototype._initFilters.call(i,i.filters,(function(n){i.filters=n||[],A.Image.prototype._initFilters.call(i,[i.resizeFilter],(function(n){i.resizeFilter=n[0],A.util.enlivenObjectEnlivables(i,i,(function(){var n=new A.Image(t,i);e(n,!1)}))}))}))}),null,i.crossOrigin)},A.Image.fromURL=function(t,e,i){A.util.loadImage(t,(function(t,n){e&&e(new A.Image(t,i),n)}),null,i&&i.crossOrigin)},A.Image.ATTRIBUTE_NAMES=A.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),A.Image.fromElement=function(t,i,n){var r=A.parseAttributes(t,A.Image.ATTRIBUTE_NAMES);A.Image.fromURL(r["xlink:href"],i,e(n?A.util.object.clone(n):{},r))})}(e),A.util.object.extend(A.Object.prototype,{_getAngleValueForStraighten:function(){var t=this.angle%360;return t>0?90*Math.round((t-1)/90):90*Math.round(t/90)},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(t){var e=function(){},i=(t=t||{}).onComplete||e,n=t.onChange||e,r=this;return A.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(t){r.rotate(t),n()},onComplete:function(){r.setCoords(),i()}})}}),A.util.object.extend(A.StaticCanvas.prototype,{straightenObject:function(t){return t.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(t){return t.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){"use strict";function t(t,e){var i="precision "+e+" float;\nvoid main(){}",n=t.createShader(t.FRAGMENT_SHADER);return t.shaderSource(n,i),t.compileShader(n),!!t.getShaderParameter(n,t.COMPILE_STATUS)}function e(t){t&&t.tileSize&&(this.tileSize=t.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}A.isWebglSupported=function(e){if(A.isLikelyNode)return!1;e=e||A.WebglFilterBackend.prototype.tileSize;var i=document.createElement("canvas"),n=i.getContext("webgl")||i.getContext("experimental-webgl"),r=!1;if(n){A.maxTextureSize=n.getParameter(n.MAX_TEXTURE_SIZE),r=A.maxTextureSize>=e;for(var o=["highp","mediump","lowp"],s=0;s<3;s++)if(t(n,o[s])){A.webGlPrecision=o[s];break}}return this.isSupported=r,r},A.WebglFilterBackend=e,e.prototype={tileSize:2048,resources:{},setupGLContext:function(t,e){this.dispose(),this.createWebGLCanvas(t,e),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(t,e)},chooseFastestCopyGLTo2DMethod:function(t,e){var i,n=void 0!==window.performance;try{new ImageData(1,1),i=!0}catch(t){i=!1}var r="undefined"!=typeof ArrayBuffer,o="undefined"!=typeof Uint8ClampedArray;if(n&&i&&r&&o){var s=A.util.createCanvasElement(),a=new ArrayBuffer(t*e*4);if(A.forceGLPutImageData)return this.imageBuffer=a,void(this.copyGLTo2D=k);var c,h,l={imageBuffer:a,destinationWidth:t,destinationHeight:e,targetCanvas:s};s.width=t,s.height=e,c=window.performance.now(),O.call(l,this.gl,l),h=window.performance.now()-c,c=window.performance.now(),k.call(l,this.gl,l),h>window.performance.now()-c?(this.imageBuffer=a,this.copyGLTo2D=k):this.copyGLTo2D=O}},createWebGLCanvas:function(t,e){var i=A.util.createCanvasElement();i.width=t,i.height=e;var n={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},r=i.getContext("webgl",n);r||(r=i.getContext("experimental-webgl",n)),r&&(r.clearColor(0,0,0,0),this.canvas=i,this.gl=r)},applyFilters:function(t,e,i,n,r,o){var s,a=this.gl;o&&(s=this.getCachedTexture(o,e));var c={originalWidth:e.width||e.originalWidth,originalHeight:e.height||e.originalHeight,sourceWidth:i,sourceHeight:n,destinationWidth:i,destinationHeight:n,context:a,sourceTexture:this.createTexture(a,i,n,!s&&e),targetTexture:this.createTexture(a,i,n),originalTexture:s||this.createTexture(a,i,n,!s&&e),passes:t.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:r},h=a.createFramebuffer();return a.bindFramebuffer(a.FRAMEBUFFER,h),t.forEach((function(t){t&&t.applyTo(c)})),function(t){var e=t.targetCanvas,i=e.width,n=e.height,r=t.destinationWidth,o=t.destinationHeight;i===r&&n===o||(e.width=r,e.height=o)}(c),this.copyGLTo2D(a,c),a.bindTexture(a.TEXTURE_2D,null),a.deleteTexture(c.sourceTexture),a.deleteTexture(c.targetTexture),a.deleteFramebuffer(h),r.getContext("2d").setTransform(1,0,0,1,0,0),c},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(t,e,i,n,r){var o=t.createTexture();return t.bindTexture(t.TEXTURE_2D,o),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,r||t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,r||t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),n?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n):t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,i,0,t.RGBA,t.UNSIGNED_BYTE,null),o},getCachedTexture:function(t,e){if(this.textureCache[t])return this.textureCache[t];var i=this.createTexture(this.gl,e.width,e.height,e);return this.textureCache[t]=i,i},evictCachesForKey:function(t){this.textureCache[t]&&(this.gl.deleteTexture(this.textureCache[t]),delete this.textureCache[t])},copyGLTo2D:O,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var t=this.gl,e={renderer:"",vendor:""};if(!t)return e;var i=t.getExtension("WEBGL_debug_renderer_info");if(i){var n=t.getParameter(i.UNMASKED_RENDERER_WEBGL),r=t.getParameter(i.UNMASKED_VENDOR_WEBGL);n&&(e.renderer=n.toLowerCase()),r&&(e.vendor=r.toLowerCase())}return this.gpuInfo=e,e}}}(),function(){"use strict";var t=function(){};function e(){}A.Canvas2dFilterBackend=e,e.prototype={evictCachesForKey:t,dispose:t,clearWebGLCaches:t,resources:{},applyFilters:function(t,e,i,n,r){var o=r.getContext("2d");o.drawImage(e,0,0,i,n);var s={sourceWidth:i,sourceHeight:n,imageData:o.getImageData(0,0,i,n),originalEl:e,originalImageData:o.getImageData(0,0,i,n),canvasEl:r,ctx:o,filterBackend:this};return t.forEach((function(t){t.applyTo(s)})),s.imageData.width===i&&s.imageData.height===n||(r.width=s.imageData.width,r.height=s.imageData.height),o.putImageData(s.imageData,0,0),s}}}(),A.Image=A.Image||{},A.Image.filters=A.Image.filters||{},A.Image.filters.BaseFilter=A.util.createClass({type:"BaseFilter",vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvoid main() {\nvTexCoord = aPosition;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:"precision highp float;\nvarying vec2 vTexCoord;\nuniform sampler2D uTexture;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\n}",initialize:function(t){t&&this.setOptions(t)},setOptions:function(t){for(var e in t)this[e]=t[e]},createProgram:function(t,e,i){e=e||this.fragmentSource,i=i||this.vertexSource,"highp"!==A.webGlPrecision&&(e=e.replace(/precision highp float/g,"precision "+A.webGlPrecision+" float"));var n=t.createShader(t.VERTEX_SHADER);if(t.shaderSource(n,i),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+t.getShaderInfoLog(n));var r=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(r,e),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+t.getShaderInfoLog(r));var o=t.createProgram();if(t.attachShader(o,n),t.attachShader(o,r),t.linkProgram(o),!t.getProgramParameter(o,t.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+t.getProgramInfoLog(o));var s=this.getAttributeLocations(t,o),a=this.getUniformLocations(t,o)||{};return a.uStepW=t.getUniformLocation(o,"uStepW"),a.uStepH=t.getUniformLocation(o,"uStepH"),{program:o,attributeLocations:s,uniformLocations:a}},getAttributeLocations:function(t,e){return{aPosition:t.getAttribLocation(e,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(t,e,i){var n=e.aPosition,r=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,r),t.enableVertexAttribArray(n),t.vertexAttribPointer(n,2,t.FLOAT,!1,0,0),t.bufferData(t.ARRAY_BUFFER,i,t.STATIC_DRAW)},_setupFrameBuffer:function(t){var e,i,n=t.context;t.passes>1?(e=t.destinationWidth,i=t.destinationHeight,t.sourceWidth===e&&t.sourceHeight===i||(n.deleteTexture(t.targetTexture),t.targetTexture=t.filterBackend.createTexture(n,e,i)),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,t.targetTexture,0)):(n.bindFramebuffer(n.FRAMEBUFFER,null),n.finish())},_swapTextures:function(t){t.passes--,t.pass++;var e=t.targetTexture;t.targetTexture=t.sourceTexture,t.sourceTexture=e},isNeutralState:function(){var t=this.mainParameter,e=A.Image.filters[this.type].prototype;if(t){if(Array.isArray(e[t])){for(var i=e[t].length;i--;)if(this[t][i]!==e[t][i])return!1;return!0}return e[t]===this[t]}return!1},applyTo:function(t){t.webgl?(this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)},retrieveShader:function(t){return t.programCache.hasOwnProperty(this.type)||(t.programCache[this.type]=this.createProgram(t.context)),t.programCache[this.type]},applyToWebGL:function(t){var e=t.context,i=this.retrieveShader(t);0===t.pass&&t.originalTexture?e.bindTexture(e.TEXTURE_2D,t.originalTexture):e.bindTexture(e.TEXTURE_2D,t.sourceTexture),e.useProgram(i.program),this.sendAttributeData(e,i.attributeLocations,t.aPosition),e.uniform1f(i.uniformLocations.uStepW,1/t.sourceWidth),e.uniform1f(i.uniformLocations.uStepH,1/t.sourceHeight),this.sendUniformData(e,i.uniformLocations),e.viewport(0,0,t.destinationWidth,t.destinationHeight),e.drawArrays(e.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(t,e,i){t.activeTexture(i),t.bindTexture(t.TEXTURE_2D,e),t.activeTexture(t.TEXTURE0)},unbindAdditionalTexture:function(t,e){t.activeTexture(e),t.bindTexture(t.TEXTURE_2D,null),t.activeTexture(t.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(t){this[this.mainParameter]=t},sendUniformData:function(){},createHelpLayer:function(t){if(!t.helpLayer){var e=document.createElement("canvas");e.width=t.sourceWidth,e.height=t.sourceHeight,t.helpLayer=e}},toObject:function(){var t={type:this.type},e=this.mainParameter;return e&&(t[e]=this[e]),t},toJSON:function(){return this.toObject()}}),A.Image.filters.BaseFilter.fromObject=function(t,e){var i=new A.Image.filters[t.type](t);return e&&e(i),i},function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.ColorMatrix=n(i.BaseFilter,{type:"ColorMatrix",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nuniform mat4 uColorMatrix;\nuniform vec4 uConstants;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor *= uColorMatrix;\ncolor += uConstants;\ngl_FragColor = color;\n}",matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(t){this.callSuper("initialize",t),this.matrix=this.matrix.slice(0)},applyTo2d:function(t){var e,i,n,r,o,s=t.imageData.data,a=s.length,c=this.matrix,h=this.colorsOnly;for(o=0;o<a;o+=4)e=s[o],i=s[o+1],n=s[o+2],h?(s[o]=e*c[0]+i*c[1]+n*c[2]+255*c[4],s[o+1]=e*c[5]+i*c[6]+n*c[7]+255*c[9],s[o+2]=e*c[10]+i*c[11]+n*c[12]+255*c[14]):(r=s[o+3],s[o]=e*c[0]+i*c[1]+n*c[2]+r*c[3]+255*c[4],s[o+1]=e*c[5]+i*c[6]+n*c[7]+r*c[8]+255*c[9],s[o+2]=e*c[10]+i*c[11]+n*c[12]+r*c[13]+255*c[14],s[o+3]=e*c[15]+i*c[16]+n*c[17]+r*c[18]+255*c[19])},getUniformLocations:function(t,e){return{uColorMatrix:t.getUniformLocation(e,"uColorMatrix"),uConstants:t.getUniformLocation(e,"uConstants")}},sendUniformData:function(t,e){var i=this.matrix,n=[i[0],i[1],i[2],i[3],i[5],i[6],i[7],i[8],i[10],i[11],i[12],i[13],i[15],i[16],i[17],i[18]],r=[i[4],i[9],i[14],i[19]];t.uniformMatrix4fv(e.uColorMatrix,!1,n),t.uniform4fv(e.uConstants,r)}}),e.Image.filters.ColorMatrix.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.Brightness=n(i.BaseFilter,{type:"Brightness",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBrightness;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += uBrightness;\ngl_FragColor = color;\n}",brightness:0,mainParameter:"brightness",applyTo2d:function(t){if(0!==this.brightness){var e,i=t.imageData.data,n=i.length,r=Math.round(255*this.brightness);for(e=0;e<n;e+=4)i[e]=i[e]+r,i[e+1]=i[e+1]+r,i[e+2]=i[e+2]+r}},getUniformLocations:function(t,e){return{uBrightness:t.getUniformLocation(e,"uBrightness")}},sendUniformData:function(t,e){t.uniform1f(e.uBrightness,this.brightness)}}),e.Image.filters.Brightness.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.Image.filters,r=e.util.createClass;n.Convolute=r(n.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_3_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_5_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_5_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_7_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_7_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_9_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_9_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}"},retrieveShader:function(t){var e=Math.sqrt(this.matrix.length),i=this.type+"_"+e+"_"+(this.opaque?1:0),n=this.fragmentSource[i];return t.programCache.hasOwnProperty(i)||(t.programCache[i]=this.createProgram(t.context,n)),t.programCache[i]},applyTo2d:function(t){var e,i,n,r,o,s,a,c,h,l,u,f,d,g=t.imageData,p=g.data,v=this.matrix,m=Math.round(Math.sqrt(v.length)),y=Math.floor(m/2),C=g.width,_=g.height,x=t.ctx.createImageData(C,_),b=x.data,S=this.opaque?1:0;for(u=0;u<_;u++)for(l=0;l<C;l++){for(o=4*(u*C+l),e=0,i=0,n=0,r=0,d=0;d<m;d++)for(f=0;f<m;f++)s=l+f-y,(a=u+d-y)<0||a>=_||s<0||s>=C||(c=4*(a*C+s),h=v[d*m+f],e+=p[c]*h,i+=p[c+1]*h,n+=p[c+2]*h,S||(r+=p[c+3]*h));b[o]=e,b[o+1]=i,b[o+2]=n,b[o+3]=S?p[o+3]:r}t.imageData=x},getUniformLocations:function(t,e){return{uMatrix:t.getUniformLocation(e,"uMatrix"),uOpaque:t.getUniformLocation(e,"uOpaque"),uHalfSize:t.getUniformLocation(e,"uHalfSize"),uSize:t.getUniformLocation(e,"uSize")}},sendUniformData:function(t,e){t.uniform1fv(e.uMatrix,this.matrix)},toObject:function(){return i(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),e.Image.filters.Convolute.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.Grayscale=n(i.BaseFilter,{type:"Grayscale",fragmentSource:{average:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat average = (color.r + color.b + color.g) / 3.0;\ngl_FragColor = vec4(average, average, average, color.a);\n}",lightness:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\ngl_FragColor = vec4(average, average, average, col.a);\n}",luminosity:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\ngl_FragColor = vec4(average, average, average, col.a);\n}"},mode:"average",mainParameter:"mode",applyTo2d:function(t){var e,i,n=t.imageData.data,r=n.length,o=this.mode;for(e=0;e<r;e+=4)"average"===o?i=(n[e]+n[e+1]+n[e+2])/3:"lightness"===o?i=(Math.min(n[e],n[e+1],n[e+2])+Math.max(n[e],n[e+1],n[e+2]))/2:"luminosity"===o&&(i=.21*n[e]+.72*n[e+1]+.07*n[e+2]),n[e]=i,n[e+1]=i,n[e+2]=i},retrieveShader:function(t){var e=this.type+"_"+this.mode;if(!t.programCache.hasOwnProperty(e)){var i=this.fragmentSource[this.mode];t.programCache[e]=this.createProgram(t.context,i)}return t.programCache[e]},getUniformLocations:function(t,e){return{uMode:t.getUniformLocation(e,"uMode")}},sendUniformData:function(t,e){t.uniform1i(e.uMode,1)},isNeutralState:function(){return!1}}),e.Image.filters.Grayscale.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.Invert=n(i.BaseFilter,{type:"Invert",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uInvert;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nif (uInvert == 1) {\ngl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n} else {\ngl_FragColor = color;\n}\n}",invert:!0,mainParameter:"invert",applyTo2d:function(t){var e,i=t.imageData.data,n=i.length;for(e=0;e<n;e+=4)i[e]=255-i[e],i[e+1]=255-i[e+1],i[e+2]=255-i[e+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(t,e){return{uInvert:t.getUniformLocation(e,"uInvert")}},sendUniformData:function(t,e){t.uniform1i(e.uInvert,this.invert)}}),e.Image.filters.Invert.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.Image.filters,r=e.util.createClass;n.Noise=r(n.BaseFilter,{type:"Noise",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uStepH;\nuniform float uNoise;\nuniform float uSeed;\nvarying vec2 vTexCoord;\nfloat rand(vec2 co, float seed, float vScale) {\nreturn fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n}\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\ngl_FragColor = color;\n}",mainParameter:"noise",noise:0,applyTo2d:function(t){if(0!==this.noise){var e,i,n=t.imageData.data,r=n.length,o=this.noise;for(e=0,r=n.length;e<r;e+=4)i=(.5-Math.random())*o,n[e]+=i,n[e+1]+=i,n[e+2]+=i}},getUniformLocations:function(t,e){return{uNoise:t.getUniformLocation(e,"uNoise"),uSeed:t.getUniformLocation(e,"uSeed")}},sendUniformData:function(t,e){t.uniform1f(e.uNoise,this.noise/255),t.uniform1f(e.uSeed,Math.random())},toObject:function(){return i(this.callSuper("toObject"),{noise:this.noise})}}),e.Image.filters.Noise.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.Pixelate=n(i.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBlocksize;\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nfloat blockW = uBlocksize * uStepW;\nfloat blockH = uBlocksize * uStepW;\nint posX = int(vTexCoord.x / blockW);\nint posY = int(vTexCoord.y / blockH);\nfloat fposX = float(posX);\nfloat fposY = float(posY);\nvec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\nvec4 color = texture2D(uTexture, squareCoords);\ngl_FragColor = color;\n}",applyTo2d:function(t){var e,i,n,r,o,s,a,c,h,l,u,f=t.imageData,d=f.data,g=f.height,p=f.width;for(i=0;i<g;i+=this.blocksize)for(n=0;n<p;n+=this.blocksize)for(r=d[e=4*i*p+4*n],o=d[e+1],s=d[e+2],a=d[e+3],l=Math.min(i+this.blocksize,g),u=Math.min(n+this.blocksize,p),c=i;c<l;c++)for(h=n;h<u;h++)d[e=4*c*p+4*h]=r,d[e+1]=o,d[e+2]=s,d[e+3]=a},isNeutralState:function(){return 1===this.blocksize},getUniformLocations:function(t,e){return{uBlocksize:t.getUniformLocation(e,"uBlocksize"),uStepW:t.getUniformLocation(e,"uStepW"),uStepH:t.getUniformLocation(e,"uStepH")}},sendUniformData:function(t,e){t.uniform1f(e.uBlocksize,this.blocksize)}}),e.Image.filters.Pixelate.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.Image.filters,r=e.util.createClass;n.RemoveColor=r(n.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\nif(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\ngl_FragColor.a = 0.0;\n}\n}",distance:.02,useAlpha:!1,applyTo2d:function(t){var i,n,r,o,s=t.imageData.data,a=255*this.distance,c=new e.Color(this.color).getSource(),h=[c[0]-a,c[1]-a,c[2]-a],l=[c[0]+a,c[1]+a,c[2]+a];for(i=0;i<s.length;i+=4)n=s[i],r=s[i+1],o=s[i+2],n>h[0]&&r>h[1]&&o>h[2]&&n<l[0]&&r<l[1]&&o<l[2]&&(s[i+3]=0)},getUniformLocations:function(t,e){return{uLow:t.getUniformLocation(e,"uLow"),uHigh:t.getUniformLocation(e,"uHigh")}},sendUniformData:function(t,i){var n=new e.Color(this.color).getSource(),r=parseFloat(this.distance),o=[0+n[0]/255-r,0+n[1]/255-r,0+n[2]/255-r,1],s=[n[0]/255+r,n[1]/255+r,n[2]/255+r,1];t.uniform4fv(i.uLow,o),t.uniform4fv(i.uHigh,s)},toObject:function(){return i(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),e.Image.filters.RemoveColor.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass,r={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var o in r)i[o]=n(i.ColorMatrix,{type:o,matrix:r[o],mainParameter:!1,colorsOnly:!0}),e.Image.filters[o].fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric,i=e.Image.filters,n=e.util.createClass;i.BlendColor=n(i.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:"gl_FragColor.rgb *= uColor.rgb;\n",screen:"gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\n",add:"gl_FragColor.rgb += uColor.rgb;\n",diff:"gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n",subtract:"gl_FragColor.rgb -= uColor.rgb;\n",lighten:"gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n",darken:"gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n",exclusion:"gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n",overlay:"if (uColor.r < 0.5) {\ngl_FragColor.r *= 2.0 * uColor.r;\n} else {\ngl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n}\nif (uColor.g < 0.5) {\ngl_FragColor.g *= 2.0 * uColor.g;\n} else {\ngl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n}\nif (uColor.b < 0.5) {\ngl_FragColor.b *= 2.0 * uColor.b;\n} else {\ngl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n}\n",tint:"gl_FragColor.rgb *= (1.0 - uColor.a);\ngl_FragColor.rgb += uColor.rgb;\n"},buildSource:function(t){return"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ngl_FragColor = color;\nif (color.a > 0.0) {\n"+this.fragmentSource[t]+"}\n}"},retrieveShader:function(t){var e,i=this.type+"_"+this.mode;return t.programCache.hasOwnProperty(i)||(e=this.buildSource(this.mode),t.programCache[i]=this.createProgram(t.context,e)),t.programCache[i]},applyTo2d:function(t){var i,n,r,o,s,a,c,h=t.imageData.data,l=h.length,u=1-this.alpha;i=(c=new e.Color(this.color).getSource())[0]*this.alpha,n=c[1]*this.alpha,r=c[2]*this.alpha;for(var f=0;f<l;f+=4)switch(o=h[f],s=h[f+1],a=h[f+2],this.mode){case"multiply":h[f]=o*i/255,h[f+1]=s*n/255,h[f+2]=a*r/255;break;case"screen":h[f]=255-(255-o)*(255-i)/255,h[f+1]=255-(255-s)*(255-n)/255,h[f+2]=255-(255-a)*(255-r)/255;break;case"add":h[f]=o+i,h[f+1]=s+n,h[f+2]=a+r;break;case"diff":case"difference":h[f]=Math.abs(o-i),h[f+1]=Math.abs(s-n),h[f+2]=Math.abs(a-r);break;case"subtract":h[f]=o-i,h[f+1]=s-n,h[f+2]=a-r;break;case"darken":h[f]=Math.min(o,i),h[f+1]=Math.min(s,n),h[f+2]=Math.min(a,r);break;case"lighten":h[f]=Math.max(o,i),h[f+1]=Math.max(s,n),h[f+2]=Math.max(a,r);break;case"overlay":h[f]=i<128?2*o*i/255:255-2*(255-o)*(255-i)/255,h[f+1]=n<128?2*s*n/255:255-2*(255-s)*(255-n)/255,h[f+2]=r<128?2*a*r/255:255-2*(255-a)*(255-r)/255;break;case"exclusion":h[f]=i+o-2*i*o/255,h[f+1]=n+s-2*n*s/255,h[f+2]=r+a-2*r*a/255;break;case"tint":h[f]=i+o*u,h[f+1]=n+s*u,h[f+2]=r+a*u}},getUniformLocations:function(t,e){return{uColor:t.getUniformLocation(e,"uColor")}},sendUniformData:function(t,i){var n=new e.Color(this.color).getSource();n[0]=this.alpha*n[0]/255,n[1]=this.alpha*n[1]/255,n[2]=this.alpha*n[2]/255,n[3]=this.alpha,t.uniform4fv(i.uColor,n)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),e.Image.filters.BlendColor.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric,i=e.Image.filters,n=e.util.createClass;i.BlendImage=n(i.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nuniform mat3 uTransformMatrix;\nvoid main() {\nvTexCoord = aPosition;\nvTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:{multiply:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.rgba *= color2.rgba;\ngl_FragColor = color;\n}",mask:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.a = color2.a;\ngl_FragColor = color;\n}"},retrieveShader:function(t){var e=this.type+"_"+this.mode,i=this.fragmentSource[this.mode];return t.programCache.hasOwnProperty(e)||(t.programCache[e]=this.createProgram(t.context,i)),t.programCache[e]},applyToWebGL:function(t){var e=t.context,i=this.createTexture(t.filterBackend,this.image);this.bindAdditionalTexture(e,i,e.TEXTURE1),this.callSuper("applyToWebGL",t),this.unbindAdditionalTexture(e,e.TEXTURE1)},createTexture:function(t,e){return t.getCachedTexture(e.cacheKey,e._element)},calculateMatrix:function(){var t=this.image,e=t._element.width,i=t._element.height;return[1/t.scaleX,0,0,0,1/t.scaleY,0,-t.left/e,-t.top/i,1]},applyTo2d:function(t){var i,n,r,o,s,a,c,h,l,u,f,d=t.imageData,g=t.filterBackend.resources,p=d.data,v=p.length,m=d.width,y=d.height,C=this.image;g.blendImage||(g.blendImage=e.util.createCanvasElement()),u=(l=g.blendImage).getContext("2d"),l.width!==m||l.height!==y?(l.width=m,l.height=y):u.clearRect(0,0,m,y),u.setTransform(C.scaleX,0,0,C.scaleY,C.left,C.top),u.drawImage(C._element,0,0,m,y),f=u.getImageData(0,0,m,y).data;for(var _=0;_<v;_+=4)switch(s=p[_],a=p[_+1],c=p[_+2],h=p[_+3],i=f[_],n=f[_+1],r=f[_+2],o=f[_+3],this.mode){case"multiply":p[_]=s*i/255,p[_+1]=a*n/255,p[_+2]=c*r/255,p[_+3]=h*o/255;break;case"mask":p[_+3]=o}},getUniformLocations:function(t,e){return{uTransformMatrix:t.getUniformLocation(e,"uTransformMatrix"),uImage:t.getUniformLocation(e,"uImage")}},sendUniformData:function(t,e){var i=this.calculateMatrix();t.uniform1i(e.uImage,1),t.uniformMatrix3fv(e.uTransformMatrix,!1,i)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),e.Image.filters.BlendImage.fromObject=function(t,i){e.Image.fromObject(t.image,(function(n){var r=e.util.object.clone(t);r.image=n,i(new e.Image.filters.BlendImage(r))}))}}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=Math.pow,n=Math.floor,r=Math.sqrt,o=Math.abs,s=Math.round,a=Math.sin,c=Math.ceil,h=e.Image.filters,l=e.util.createClass;h.Resize=l(h.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(t,e){return{uDelta:t.getUniformLocation(e,"uDelta"),uTaps:t.getUniformLocation(e,"uTaps")}},sendUniformData:function(t,e){t.uniform2fv(e.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),t.uniform1fv(e.uTaps,this.taps)},retrieveShader:function(t){var e=this.getFilterWindow(),i=this.type+"_"+e;if(!t.programCache.hasOwnProperty(i)){var n=this.generateShader(e);t.programCache[i]=this.createProgram(t.context,n)}return t.programCache[i]},getFilterWindow:function(){var t=this.tempScale;return Math.ceil(this.lanczosLobes/t)},getTaps:function(){for(var t=this.lanczosCreate(this.lanczosLobes),e=this.tempScale,i=this.getFilterWindow(),n=new Array(i),r=1;r<=i;r++)n[r-1]=t(r*e);return n},generateShader:function(t){for(var e=new Array(t),i=this.fragmentSourceTOP,n=1;n<=t;n++)e[n-1]=n+".0 * uDelta";return i+="uniform float uTaps["+t+"];\n",i+="void main() {\n",i+="  vec4 color = texture2D(uTexture, vTexCoord);\n",i+="  float sum = 1.0;\n",e.forEach((function(t,e){i+="  color += texture2D(uTexture, vTexCoord + "+t+") * uTaps["+e+"];\n",i+="  color += texture2D(uTexture, vTexCoord - "+t+") * uTaps["+e+"];\n",i+="  sum += 2.0 * uTaps["+e+"];\n"})),i+="  gl_FragColor = color / sum;\n",i+="}"},fragmentSourceTOP:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\n",applyTo:function(t){t.webgl?(t.passes++,this.width=t.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=t.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),t.destinationWidth=this.dW,this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t),t.sourceWidth=t.destinationWidth,this.height=t.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),t.destinationHeight=this.dH,this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t),t.sourceHeight=t.destinationHeight):this.applyTo2d(t)},isNeutralState:function(){return 1===this.scaleX&&1===this.scaleY},lanczosCreate:function(t){return function(e){if(e>=t||e<=-t)return 0;if(e<1.1920929e-7&&e>-1.1920929e-7)return 1;var i=(e*=Math.PI)/t;return a(e)/e*a(i)/i}},applyTo2d:function(t){var e=t.imageData,i=this.scaleX,n=this.scaleY;this.rcpScaleX=1/i,this.rcpScaleY=1/n;var r,o=e.width,a=e.height,c=s(o*i),h=s(a*n);"sliceHack"===this.resizeType?r=this.sliceByTwo(t,o,a,c,h):"hermite"===this.resizeType?r=this.hermiteFastResize(t,o,a,c,h):"bilinear"===this.resizeType?r=this.bilinearFiltering(t,o,a,c,h):"lanczos"===this.resizeType&&(r=this.lanczosResize(t,o,a,c,h)),t.imageData=r},sliceByTwo:function(t,i,r,o,s){var a,c,h=t.imageData,l=.5,u=!1,f=!1,d=i*l,g=r*l,p=e.filterBackend.resources,v=0,m=0,y=i,C=0;for(p.sliceByTwo||(p.sliceByTwo=document.createElement("canvas")),((a=p.sliceByTwo).width<1.5*i||a.height<r)&&(a.width=1.5*i,a.height=r),(c=a.getContext("2d")).clearRect(0,0,1.5*i,r),c.putImageData(h,0,0),o=n(o),s=n(s);!u||!f;)i=d,r=g,o<n(d*l)?d=n(d*l):(d=o,u=!0),s<n(g*l)?g=n(g*l):(g=s,f=!0),c.drawImage(a,v,m,i,r,y,C,d,g),v=y,m=C,C+=g;return c.getImageData(v,m,o,s)},lanczosResize:function(t,e,s,a,h){var l=t.imageData.data,u=t.ctx.createImageData(a,h),f=u.data,d=this.lanczosCreate(this.lanczosLobes),g=this.rcpScaleX,p=this.rcpScaleY,v=2/this.rcpScaleX,m=2/this.rcpScaleY,y=c(g*this.lanczosLobes/2),C=c(p*this.lanczosLobes/2),_={},x={},b={};return function t(c){var S,w,A,T,O,k,P,E,j,M,B;for(x.x=(c+.5)*g,b.x=n(x.x),S=0;S<h;S++){for(x.y=(S+.5)*p,b.y=n(x.y),O=0,k=0,P=0,E=0,j=0,w=b.x-y;w<=b.x+y;w++)if(!(w<0||w>=e)){M=n(1e3*o(w-x.x)),_[M]||(_[M]={});for(var D=b.y-C;D<=b.y+C;D++)D<0||D>=s||(B=n(1e3*o(D-x.y)),_[M][B]||(_[M][B]=d(r(i(M*v,2)+i(B*m,2))/1e3)),(A=_[M][B])>0&&(O+=A,k+=A*l[T=4*(D*e+w)],P+=A*l[T+1],E+=A*l[T+2],j+=A*l[T+3]))}f[T=4*(S*a+c)]=k/O,f[T+1]=P/O,f[T+2]=E/O,f[T+3]=j/O}return++c<a?t(c):u}(0)},bilinearFiltering:function(t,e,i,r,o){var s,a,c,h,l,u,f,d,g,p=0,v=this.rcpScaleX,m=this.rcpScaleY,y=4*(e-1),C=t.imageData.data,_=t.ctx.createImageData(r,o),x=_.data;for(c=0;c<o;c++)for(h=0;h<r;h++)for(l=v*h-(s=n(v*h)),u=m*c-(a=n(m*c)),g=4*(a*e+s),f=0;f<4;f++)d=C[g+f]*(1-l)*(1-u)+C[g+4+f]*l*(1-u)+C[g+y+f]*u*(1-l)+C[g+y+4+f]*l*u,x[p++]=d;return _},hermiteFastResize:function(t,e,i,s,a){for(var h=this.rcpScaleX,l=this.rcpScaleY,u=c(h/2),f=c(l/2),d=t.imageData.data,g=t.ctx.createImageData(s,a),p=g.data,v=0;v<a;v++)for(var m=0;m<s;m++){for(var y=4*(m+v*s),C=0,_=0,x=0,b=0,S=0,w=0,A=0,T=(v+.5)*l,O=n(v*l);O<(v+1)*l;O++)for(var k=o(T-(O+.5))/f,P=(m+.5)*h,E=k*k,j=n(m*h);j<(m+1)*h;j++){var M=o(P-(j+.5))/u,B=r(E+M*M);B>1&&B<-1||(C=2*B*B*B-3*B*B+1)>0&&(A+=C*d[3+(M=4*(j+O*e))],x+=C,d[M+3]<255&&(C=C*d[M+3]/250),b+=C*d[M],S+=C*d[M+1],w+=C*d[M+2],_+=C)}p[y]=b/_,p[y+1]=S/_,p[y+2]=w/_,p[y+3]=A/x}return g},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),e.Image.filters.Resize.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.Contrast=n(i.BaseFilter,{type:"Contrast",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uContrast;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\ncolor.rgb = contrastF * (color.rgb - 0.5) + 0.5;\ngl_FragColor = color;\n}",contrast:0,mainParameter:"contrast",applyTo2d:function(t){if(0!==this.contrast){var e,i=t.imageData.data,n=i.length,r=Math.floor(255*this.contrast),o=259*(r+255)/(255*(259-r));for(e=0;e<n;e+=4)i[e]=o*(i[e]-128)+128,i[e+1]=o*(i[e+1]-128)+128,i[e+2]=o*(i[e+2]-128)+128}},getUniformLocations:function(t,e){return{uContrast:t.getUniformLocation(e,"uContrast")}},sendUniformData:function(t,e){t.uniform1f(e.uContrast,this.contrast)}}),e.Image.filters.Contrast.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.Saturation=n(i.BaseFilter,{type:"Saturation",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uSaturation;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat rgMax = max(color.r, color.g);\nfloat rgbMax = max(rgMax, color.b);\ncolor.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\ncolor.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\ncolor.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\ngl_FragColor = color;\n}",saturation:0,mainParameter:"saturation",applyTo2d:function(t){if(0!==this.saturation){var e,i,n=t.imageData.data,r=n.length,o=-this.saturation;for(e=0;e<r;e+=4)i=Math.max(n[e],n[e+1],n[e+2]),n[e]+=i!==n[e]?(i-n[e])*o:0,n[e+1]+=i!==n[e+1]?(i-n[e+1])*o:0,n[e+2]+=i!==n[e+2]?(i-n[e+2])*o:0}},getUniformLocations:function(t,e){return{uSaturation:t.getUniformLocation(e,"uSaturation")}},sendUniformData:function(t,e){t.uniform1f(e.uSaturation,-this.saturation)}}),e.Image.filters.Saturation.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.Vibrance=n(i.BaseFilter,{type:"Vibrance",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uVibrance;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat max = max(color.r, max(color.g, color.b));\nfloat avg = (color.r + color.g + color.b) / 3.0;\nfloat amt = (abs(max - avg) * 2.0) * uVibrance;\ncolor.r += max != color.r ? (max - color.r) * amt : 0.00;\ncolor.g += max != color.g ? (max - color.g) * amt : 0.00;\ncolor.b += max != color.b ? (max - color.b) * amt : 0.00;\ngl_FragColor = color;\n}",vibrance:0,mainParameter:"vibrance",applyTo2d:function(t){if(0!==this.vibrance){var e,i,n,r,o=t.imageData.data,s=o.length,a=-this.vibrance;for(e=0;e<s;e+=4)i=Math.max(o[e],o[e+1],o[e+2]),n=(o[e]+o[e+1]+o[e+2])/3,r=2*Math.abs(i-n)/255*a,o[e]+=i!==o[e]?(i-o[e])*r:0,o[e+1]+=i!==o[e+1]?(i-o[e+1])*r:0,o[e+2]+=i!==o[e+2]?(i-o[e+2])*r:0}},getUniformLocations:function(t,e){return{uVibrance:t.getUniformLocation(e,"uVibrance")}},sendUniformData:function(t,e){t.uniform1f(e.uVibrance,-this.vibrance)}}),e.Image.filters.Vibrance.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.Blur=n(i.BaseFilter,{type:"Blur",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\nconst float nSamples = 15.0;\nvec3 v3offset = vec3(12.9898, 78.233, 151.7182);\nfloat random(vec3 scale) {\nreturn fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n}\nvoid main() {\nvec4 color = vec4(0.0);\nfloat total = 0.0;\nfloat offset = random(v3offset);\nfor (float t = -nSamples; t <= nSamples; t++) {\nfloat percent = (t + offset - 0.5) / nSamples;\nfloat weight = 1.0 - abs(percent);\ncolor += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;\ntotal += weight;\n}\ngl_FragColor = color / total;\n}",blur:0,mainParameter:"blur",applyTo:function(t){t.webgl?(this.aspectRatio=t.sourceWidth/t.sourceHeight,t.passes++,this._setupFrameBuffer(t),this.horizontal=!0,this.applyToWebGL(t),this._swapTextures(t),this._setupFrameBuffer(t),this.horizontal=!1,this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)},applyTo2d:function(t){t.imageData=this.simpleBlur(t)},simpleBlur:function(t){var i,n,r=t.filterBackend.resources,o=t.imageData.width,s=t.imageData.height;r.blurLayer1||(r.blurLayer1=e.util.createCanvasElement(),r.blurLayer2=e.util.createCanvasElement()),i=r.blurLayer1,n=r.blurLayer2,i.width===o&&i.height===s||(n.width=i.width=o,n.height=i.height=s);var a,c,h,l,u=i.getContext("2d"),f=n.getContext("2d"),d=.06*this.blur*.5;for(u.putImageData(t.imageData,0,0),f.clearRect(0,0,o,s),l=-15;l<=15;l++)h=d*(c=l/15)*o+(a=(Math.random()-.5)/4),f.globalAlpha=1-Math.abs(c),f.drawImage(i,h,a),u.drawImage(n,0,0),f.globalAlpha=1,f.clearRect(0,0,n.width,n.height);for(l=-15;l<=15;l++)h=d*(c=l/15)*s+(a=(Math.random()-.5)/4),f.globalAlpha=1-Math.abs(c),f.drawImage(i,a,h),u.drawImage(n,0,0),f.globalAlpha=1,f.clearRect(0,0,n.width,n.height);t.ctx.drawImage(i,0,0);var g=t.ctx.getImageData(0,0,i.width,i.height);return u.globalAlpha=1,u.clearRect(0,0,i.width,i.height),g},getUniformLocations:function(t,e){return{delta:t.getUniformLocation(e,"uDelta")}},sendUniformData:function(t,e){var i=this.chooseRightDelta();t.uniform2fv(e.delta,i)},chooseRightDelta:function(){var t,e=1,i=[0,0];return this.horizontal?this.aspectRatio>1&&(e=1/this.aspectRatio):this.aspectRatio<1&&(e=this.aspectRatio),t=e*this.blur*.12,this.horizontal?i[0]=t:i[1]=t,i}}),i.Blur.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.Gamma=n(i.BaseFilter,{type:"Gamma",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec3 uGamma;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec3 correction = (1.0 / uGamma);\ncolor.r = pow(color.r, correction.r);\ncolor.g = pow(color.g, correction.g);\ncolor.b = pow(color.b, correction.b);\ngl_FragColor = color;\ngl_FragColor.rgb *= color.a;\n}",gamma:[1,1,1],mainParameter:"gamma",initialize:function(t){this.gamma=[1,1,1],i.BaseFilter.prototype.initialize.call(this,t)},applyTo2d:function(t){var e,i=t.imageData.data,n=this.gamma,r=i.length,o=1/n[0],s=1/n[1],a=1/n[2];for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),e=0,r=256;e<r;e++)this.rVals[e]=255*Math.pow(e/255,o),this.gVals[e]=255*Math.pow(e/255,s),this.bVals[e]=255*Math.pow(e/255,a);for(e=0,r=i.length;e<r;e+=4)i[e]=this.rVals[i[e]],i[e+1]=this.gVals[i[e+1]],i[e+2]=this.bVals[i[e+2]]},getUniformLocations:function(t,e){return{uGamma:t.getUniformLocation(e,"uGamma")}},sendUniformData:function(t,e){t.uniform3fv(e.uGamma,this.gamma)}}),e.Image.filters.Gamma.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.Composed=n(i.BaseFilter,{type:"Composed",subFilters:[],initialize:function(t){this.callSuper("initialize",t),this.subFilters=this.subFilters.slice(0)},applyTo:function(t){t.passes+=this.subFilters.length-1,this.subFilters.forEach((function(e){e.applyTo(t)}))},toObject:function(){return e.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map((function(t){return t.toObject()}))})},isNeutralState:function(){return!this.subFilters.some((function(t){return!t.isNeutralState()}))}}),e.Image.filters.Composed.fromObject=function(t,i){var n=(t.subFilters||[]).map((function(t){return new e.Image.filters[t.type](t)})),r=new e.Image.filters.Composed({subFilters:n});return i&&i(r),r}}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.HueRotation=n(i.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var t=this.rotation*Math.PI,i=e.util.cos(t),n=e.util.sin(t),r=1/3,o=Math.sqrt(r)*n,s=1-i;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=i+s/3,this.matrix[1]=r*s-o,this.matrix[2]=r*s+o,this.matrix[5]=r*s+o,this.matrix[6]=i+r*s,this.matrix[7]=r*s-o,this.matrix[10]=r*s-o,this.matrix[11]=r*s+o,this.matrix[12]=i+r*s},isNeutralState:function(t){return this.calculateMatrix(),i.BaseFilter.prototype.isNeutralState.call(this,t)},applyTo:function(t){this.calculateMatrix(),i.BaseFilter.prototype.applyTo.call(this,t)}}),e.Image.filters.HueRotation.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.clone;if(e.Text)e.warn("fabric.Text is already defined");else{var n="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");e.Text=e.util.createClass(e.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:e.Object.prototype.stateProperties.concat(n),cacheProperties:e.Object.prototype.cacheProperties.concat(n),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(t,e){this.styles=e&&e.styles||{},this.text=t,this.__skipDimension=!0,this.callSuper("initialize",e),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var t=this.path;t&&(t.segmentsInfo=e.util.getPathSegmentsInfo(t.path))},getMeasuringContext:function(){return e._measuringContext||(e._measuringContext=this.canvas&&this.canvas.contextCache||e.util.createCanvasElement().getContext("2d")),e._measuringContext},_splitText:function(){var t=this._splitTextIntoLines(this.text);return this.textLines=t.lines,this._textLines=t.graphemeLines,this._unwrappedTextLines=t._unwrappedLines,this._text=t.graphemeText,t},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var t,e,i,n,r,o,s,a=0,c=this._textLines.length;a<c;a++)if(("justify"===this.textAlign||a!==c-1&&!this.isEndOfWrapping(a))&&(n=0,r=this._textLines[a],(e=this.getLineWidth(a))<this.width&&(s=this.textLines[a].match(this._reSpacesAndTabs)))){i=s.length,t=(this.width-e)/i;for(var h=0,l=r.length;h<=l;h++)o=this.__charBounds[a][h],this._reSpaceAndTab.test(r[h])?(o.width+=t,o.kernedWidth+=t,o.left+=n,n+=t):o.left+=n}},isEndOfWrapping:function(t){return t===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var t=this.callSuper("_getCacheCanvasDimensions"),e=this.fontSize;return t.width+=e*t.zoomX,t.height+=e*t.zoomY,t},_render:function(t){var e=this.path;e&&!e.isNotVisible()&&e._render(t),this._setTextStyles(t),this._renderTextLinesBackground(t),this._renderTextDecoration(t,"underline"),this._renderText(t),this._renderTextDecoration(t,"overline"),this._renderTextDecoration(t,"linethrough")},_renderText:function(t){"stroke"===this.paintFirst?(this._renderTextStroke(t),this._renderTextFill(t)):(this._renderTextFill(t),this._renderTextStroke(t))},_setTextStyles:function(t,e,i){if(t.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":t.textBaseline="middle";break;case"ascender":t.textBaseline="top";break;case"descender":t.textBaseline="bottom"}t.font=this._getFontDeclaration(e,i)},calcTextWidth:function(){for(var t=this.getLineWidth(0),e=1,i=this._textLines.length;e<i;e++){var n=this.getLineWidth(e);n>t&&(t=n)}return t},_renderTextLine:function(t,e,i,n,r,o){this._renderChars(t,e,i,n,r,o)},_renderTextLinesBackground:function(t){if(this.textBackgroundColor||this.styleHas("textBackgroundColor")){for(var e,i,n,r,o,s,a,c=t.fillStyle,h=this._getLeftOffset(),l=this._getTopOffset(),u=0,f=0,d=this.path,g=0,p=this._textLines.length;g<p;g++)if(e=this.getHeightOfLine(g),this.textBackgroundColor||this.styleHas("textBackgroundColor",g)){n=this._textLines[g],i=this._getLineLeftOffset(g),f=0,u=0,r=this.getValueOfPropertyAt(g,0,"textBackgroundColor");for(var v=0,m=n.length;v<m;v++)o=this.__charBounds[g][v],s=this.getValueOfPropertyAt(g,v,"textBackgroundColor"),d?(t.save(),t.translate(o.renderLeft,o.renderTop),t.rotate(o.angle),t.fillStyle=s,s&&t.fillRect(-o.width/2,-e/this.lineHeight*(1-this._fontSizeFraction),o.width,e/this.lineHeight),t.restore()):s!==r?(a=h+i+u,"rtl"===this.direction&&(a=this.width-a-f),t.fillStyle=r,r&&t.fillRect(a,l,f,e/this.lineHeight),u=o.left,f=o.width,r=s):f+=o.kernedWidth;s&&!d&&(a=h+i+u,"rtl"===this.direction&&(a=this.width-a-f),t.fillStyle=s,t.fillRect(a,l,f,e/this.lineHeight)),l+=e}else l+=e;t.fillStyle=c,this._removeShadow(t)}},getFontCache:function(t){var i=t.fontFamily.toLowerCase();e.charWidthsCache[i]||(e.charWidthsCache[i]={});var n=e.charWidthsCache[i],r=t.fontStyle.toLowerCase()+"_"+(t.fontWeight+"").toLowerCase();return n[r]||(n[r]={}),n[r]},_measureChar:function(t,e,i,n){var r,o,s,a,c=this.getFontCache(e),h=i+t,l=this._getFontDeclaration(e)===this._getFontDeclaration(n),u=e.fontSize/this.CACHE_FONT_SIZE;if(i&&void 0!==c[i]&&(s=c[i]),void 0!==c[t]&&(a=r=c[t]),l&&void 0!==c[h]&&(a=(o=c[h])-s),void 0===r||void 0===s||void 0===o){var f=this.getMeasuringContext();this._setTextStyles(f,e,!0)}return void 0===r&&(a=r=f.measureText(t).width,c[t]=r),void 0===s&&l&&i&&(s=f.measureText(i).width,c[i]=s),l&&void 0===o&&(o=f.measureText(h).width,c[h]=o,a=o-s),{width:r*u,kernedWidth:a*u}},getHeightOfChar:function(t,e){return this.getValueOfPropertyAt(t,e,"fontSize")},measureLine:function(t){var e=this._measureLine(t);return 0!==this.charSpacing&&(e.width-=this._getWidthOfCharSpacing()),e.width<0&&(e.width=0),e},_measureLine:function(t){var i,n,r,o,s,a,c=0,h=this._textLines[t],l=new Array(h.length),u=0,f=this.path,d="right"===this.pathSide;for(this.__charBounds[t]=l,i=0;i<h.length;i++)n=h[i],o=this._getGraphemeBox(n,t,i,r),l[i]=o,c+=o.kernedWidth,r=n;if(l[i]={left:o?o.left+o.width:0,width:0,kernedWidth:0,height:this.fontSize},f){switch(a=f.segmentsInfo[f.segmentsInfo.length-1].length,(s=e.util.getPointOnPath(f.path,0,f.segmentsInfo)).x+=f.pathOffset.x,s.y+=f.pathOffset.y,this.textAlign){case"left":u=d?a-c:0;break;case"center":u=(a-c)/2;break;case"right":u=d?0:a-c}for(u+=this.pathStartOffset*(d?-1:1),i=d?h.length-1:0;d?i>=0:i<h.length;d?i--:i++)o=l[i],u>a?u%=a:u<0&&(u+=a),this._setGraphemeOnPath(u,o,s),u+=o.kernedWidth}return{width:c,numOfSpaces:0}},_setGraphemeOnPath:function(t,i,n){var r=t+i.kernedWidth/2,o=this.path,s=e.util.getPointOnPath(o.path,r,o.segmentsInfo);i.renderLeft=s.x-n.x,i.renderTop=s.y-n.y,i.angle=s.angle+("right"===this.pathSide?Math.PI:0)},_getGraphemeBox:function(t,e,i,n,r){var o,s=this.getCompleteStyleDeclaration(e,i),a=n?this.getCompleteStyleDeclaration(e,i-1):{},c=this._measureChar(t,s,n,a),h=c.kernedWidth,l=c.width;0!==this.charSpacing&&(l+=o=this._getWidthOfCharSpacing(),h+=o);var u={width:l,left:0,height:s.fontSize,kernedWidth:h,deltaY:s.deltaY};if(i>0&&!r){var f=this.__charBounds[e][i-1];u.left=f.left+f.width+c.kernedWidth-c.width}return u},getHeightOfLine:function(t){if(this.__lineHeights[t])return this.__lineHeights[t];for(var e=this._textLines[t],i=this.getHeightOfChar(t,0),n=1,r=e.length;n<r;n++)i=Math.max(this.getHeightOfChar(t,n),i);return this.__lineHeights[t]=i*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var t,e=0,i=0,n=this._textLines.length;i<n;i++)t=this.getHeightOfLine(i),e+=i===n-1?t/this.lineHeight:t;return e},_getLeftOffset:function(){return"ltr"===this.direction?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(t,e){t.save();for(var i=0,n=this._getLeftOffset(),r=this._getTopOffset(),o=0,s=this._textLines.length;o<s;o++){var a=this.getHeightOfLine(o),c=a/this.lineHeight,h=this._getLineLeftOffset(o);this._renderTextLine(e,t,this._textLines[o],n+h,r+i+c,o),i+=a}t.restore()},_renderTextFill:function(t){(this.fill||this.styleHas("fill"))&&this._renderTextCommon(t,"fillText")},_renderTextStroke:function(t){(this.stroke&&0!==this.strokeWidth||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this._setLineDash(t,this.strokeDashArray),t.beginPath(),this._renderTextCommon(t,"strokeText"),t.closePath(),t.restore())},_renderChars:function(t,i,n,r,o,s){var a,c,h,l,u,f=this.getHeightOfLine(s),d=-1!==this.textAlign.indexOf("justify"),g="",p=0,v=this.path,m=!d&&0===this.charSpacing&&this.isEmptyStyles(s)&&!v,y="ltr"===this.direction,C="ltr"===this.direction?1:-1,_=i.canvas.getAttribute("dir");if(i.save(),_!==this.direction&&(i.canvas.setAttribute("dir",y?"ltr":"rtl"),i.direction=y?"ltr":"rtl",i.textAlign=y?"left":"right"),o-=f*this._fontSizeFraction/this.lineHeight,m)return this._renderChar(t,i,s,0,n.join(""),r,o,f),void i.restore();for(var x=0,b=n.length-1;x<=b;x++)l=x===b||this.charSpacing||v,g+=n[x],h=this.__charBounds[s][x],0===p?(r+=C*(h.kernedWidth-h.width),p+=h.width):p+=h.kernedWidth,d&&!l&&this._reSpaceAndTab.test(n[x])&&(l=!0),l||(a=a||this.getCompleteStyleDeclaration(s,x),c=this.getCompleteStyleDeclaration(s,x+1),l=e.util.hasStyleChanged(a,c,!1)),l&&(v?(i.save(),i.translate(h.renderLeft,h.renderTop),i.rotate(h.angle),this._renderChar(t,i,s,x,g,-p/2,0,f),i.restore()):(u=r,this._renderChar(t,i,s,x,g,u,o,f)),g="",a=c,r+=C*p,p=0);i.restore()},_applyPatternGradientTransformText:function(t){var i,n=e.util.createCanvasElement(),r=this.width+this.strokeWidth,o=this.height+this.strokeWidth;return n.width=r,n.height=o,(i=n.getContext("2d")).beginPath(),i.moveTo(0,0),i.lineTo(r,0),i.lineTo(r,o),i.lineTo(0,o),i.closePath(),i.translate(r/2,o/2),i.fillStyle=t.toLive(i),this._applyPatternGradientTransform(i,t),i.fill(),i.createPattern(n,"no-repeat")},handleFiller:function(t,e,i){var n,r;return i.toLive?"percentage"===i.gradientUnits||i.gradientTransform||i.patternTransform?(n=-this.width/2,r=-this.height/2,t.translate(n,r),t[e]=this._applyPatternGradientTransformText(i),{offsetX:n,offsetY:r}):(t[e]=i.toLive(t,this),this._applyPatternGradientTransform(t,i)):(t[e]=i,{offsetX:0,offsetY:0})},_setStrokeStyles:function(t,e){return t.lineWidth=e.strokeWidth,t.lineCap=this.strokeLineCap,t.lineDashOffset=this.strokeDashOffset,t.lineJoin=this.strokeLineJoin,t.miterLimit=this.strokeMiterLimit,this.handleFiller(t,"strokeStyle",e.stroke)},_setFillStyles:function(t,e){return this.handleFiller(t,"fillStyle",e.fill)},_renderChar:function(t,e,i,n,r,o,s){var a,c,h=this._getStyleDeclaration(i,n),l=this.getCompleteStyleDeclaration(i,n),u="fillText"===t&&l.fill,f="strokeText"===t&&l.stroke&&l.strokeWidth;(f||u)&&(e.save(),u&&(a=this._setFillStyles(e,l)),f&&(c=this._setStrokeStyles(e,l)),e.font=this._getFontDeclaration(l),h&&h.textBackgroundColor&&this._removeShadow(e),h&&h.deltaY&&(s+=h.deltaY),u&&e.fillText(r,o-a.offsetX,s-a.offsetY),f&&e.strokeText(r,o-c.offsetX,s-c.offsetY),e.restore())},setSuperscript:function(t,e){return this._setScript(t,e,this.superscript)},setSubscript:function(t,e){return this._setScript(t,e,this.subscript)},_setScript:function(t,e,i){var n=this.get2DCursorLocation(t,!0),r=this.getValueOfPropertyAt(n.lineIndex,n.charIndex,"fontSize"),o=this.getValueOfPropertyAt(n.lineIndex,n.charIndex,"deltaY"),s={fontSize:r*i.size,deltaY:o+r*i.baseline};return this.setSelectionStyles(s,t,e),this},_getLineLeftOffset:function(t){var e=this.getLineWidth(t),i=this.width-e,n=this.textAlign,r=this.direction,o=0,s=this.isEndOfWrapping(t);return"justify"===n||"justify-center"===n&&!s||"justify-right"===n&&!s||"justify-left"===n&&!s?0:("center"===n&&(o=i/2),"right"===n&&(o=i),"justify-center"===n&&(o=i/2),"justify-right"===n&&(o=i),"rtl"===r&&(o-=i),o)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var t=this._forceClearCache;return t||(t=this.hasStateChanged("_dimensionAffectingProps")),t&&(this.dirty=!0,this._forceClearCache=!1),t},getLineWidth:function(t){if(void 0!==this.__lineWidths[t])return this.__lineWidths[t];var e=this.measureLine(t).width;return this.__lineWidths[t]=e,e},_getWidthOfCharSpacing:function(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(t,e,i){var n=this._getStyleDeclaration(t,e);return n&&void 0!==n[i]?n[i]:this[i]},_renderTextDecoration:function(t,e){if(this[e]||this.styleHas(e)){for(var i,n,r,o,s,a,c,h,l,u,f,d,g,p,v,m,y=this._getLeftOffset(),C=this._getTopOffset(),_=this.path,x=this._getWidthOfCharSpacing(),b=this.offsets[e],S=0,w=this._textLines.length;S<w;S++)if(i=this.getHeightOfLine(S),this[e]||this.styleHas(e,S)){c=this._textLines[S],p=i/this.lineHeight,o=this._getLineLeftOffset(S),u=0,f=0,h=this.getValueOfPropertyAt(S,0,e),m=this.getValueOfPropertyAt(S,0,"fill"),l=C+p*(1-this._fontSizeFraction),n=this.getHeightOfChar(S,0),s=this.getValueOfPropertyAt(S,0,"deltaY");for(var A=0,T=c.length;A<T;A++)if(d=this.__charBounds[S][A],g=this.getValueOfPropertyAt(S,A,e),v=this.getValueOfPropertyAt(S,A,"fill"),r=this.getHeightOfChar(S,A),a=this.getValueOfPropertyAt(S,A,"deltaY"),_&&g&&v)t.save(),t.fillStyle=m,t.translate(d.renderLeft,d.renderTop),t.rotate(d.angle),t.fillRect(-d.kernedWidth/2,b*r+a,d.kernedWidth,this.fontSize/15),t.restore();else if((g!==h||v!==m||r!==n||a!==s)&&f>0){var O=y+o+u;"rtl"===this.direction&&(O=this.width-O-f),h&&m&&(t.fillStyle=m,t.fillRect(O,l+b*n+s,f,this.fontSize/15)),u=d.left,f=d.width,h=g,m=v,n=r,s=a}else f+=d.kernedWidth;O=y+o+u,"rtl"===this.direction&&(O=this.width-O-f),t.fillStyle=v,g&&v&&t.fillRect(O,l+b*n+s,f-x,this.fontSize/15),C+=i}else C+=i;this._removeShadow(t)}},_getFontDeclaration:function(t,i){var n=t||this,r=this.fontFamily,o=e.Text.genericFonts.indexOf(r.toLowerCase())>-1,s=void 0===r||r.indexOf("'")>-1||r.indexOf(",")>-1||r.indexOf('"')>-1||o?n.fontFamily:'"'+n.fontFamily+'"';return[e.isLikelyNode?n.fontWeight:n.fontStyle,e.isLikelyNode?n.fontStyle:n.fontWeight,i?this.CACHE_FONT_SIZE+"px":n.fontSize+"px",s].join(" ")},render:function(t){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",t)))},_splitTextIntoLines:function(t){for(var i=t.split(this._reNewline),n=new Array(i.length),r=["\n"],o=[],s=0;s<i.length;s++)n[s]=e.util.string.graphemeSplit(i[s]),o=o.concat(n[s],r);return o.pop(),{_unwrappedLines:n,lines:i,graphemeText:o,graphemeLines:n}},toObject:function(t){var i=n.concat(t),r=this.callSuper("toObject",i);return r.styles=e.util.stylesToArray(this.styles,this.text),r.path&&(r.path=this.path.toObject()),r},set:function(t,e){this.callSuper("set",t,e);var i=!1,n=!1;if("object"==typeof t)for(var r in t)"path"===r&&this.setPathInfo(),i=i||-1!==this._dimensionAffectingProps.indexOf(r),n=n||"path"===r;else i=-1!==this._dimensionAffectingProps.indexOf(t),n="path"===t;return n&&this.setPathInfo(),i&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),e.Text.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),e.Text.DEFAULT_SVG_FONT_SIZE=16,e.Text.fromElement=function(t,n,r){if(!t)return n(null);var o=e.parseAttributes(t,e.Text.ATTRIBUTE_NAMES),s=o.textAnchor||"left";if((r=e.util.object.extend(r?i(r):{},o)).top=r.top||0,r.left=r.left||0,o.textDecoration){var a=o.textDecoration;-1!==a.indexOf("underline")&&(r.underline=!0),-1!==a.indexOf("overline")&&(r.overline=!0),-1!==a.indexOf("line-through")&&(r.linethrough=!0),delete r.textDecoration}"dx"in o&&(r.left+=o.dx),"dy"in o&&(r.top+=o.dy),"fontSize"in r||(r.fontSize=e.Text.DEFAULT_SVG_FONT_SIZE);var c="";"textContent"in t?c=t.textContent:"firstChild"in t&&null!==t.firstChild&&"data"in t.firstChild&&null!==t.firstChild.data&&(c=t.firstChild.data),c=c.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var h=r.strokeWidth;r.strokeWidth=0;var l=new e.Text(c,r),u=l.getScaledHeight()/l.height,f=((l.height+l.strokeWidth)*l.lineHeight-l.height)*u,d=l.getScaledHeight()+f,g=0;"center"===s&&(g=l.getScaledWidth()/2),"right"===s&&(g=l.getScaledWidth()),l.set({left:l.left-g,top:l.top-(d-l.fontSize*(.07+l._fontSizeFraction))/l.lineHeight,strokeWidth:void 0!==h?h:1}),n(l)},e.Text.fromObject=function(t,n){var r=i(t),o=t.path;return delete r.path,e.Object._fromObject("Text",r,(function(i){i.styles=e.util.stylesFromArray(t.styles,t.text),o?e.Object._fromObject("Path",o,(function(t){i.set("path",t),n(i)}),"path"):n(i)}),"text")},e.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],e.util.createAccessors&&e.util.createAccessors(e.Text)}}(e),A.util.object.extend(A.Text.prototype,{isEmptyStyles:function(t){if(!this.styles)return!0;if(void 0!==t&&!this.styles[t])return!0;var e=void 0===t?this.styles:{line:this.styles[t]};for(var i in e)for(var n in e[i])for(var r in e[i][n])return!1;return!0},styleHas:function(t,e){if(!this.styles||!t||""===t)return!1;if(void 0!==e&&!this.styles[e])return!1;var i=void 0===e?this.styles:{0:this.styles[e]};for(var n in i)for(var r in i[n])if(void 0!==i[n][r][t])return!0;return!1},cleanStyle:function(t){if(!this.styles||!t||""===t)return!1;var e,i,n=this.styles,r=0,o=!0,s=0;for(var a in n){for(var c in e=0,n[a]){var h;r++,(h=n[a][c]).hasOwnProperty(t)?(i?h[t]!==i&&(o=!1):i=h[t],h[t]===this[t]&&delete h[t]):o=!1,0!==Object.keys(h).length?e++:delete n[a][c]}0===e&&delete n[a]}for(var l=0;l<this._textLines.length;l++)s+=this._textLines[l].length;o&&r===s&&(this[t]=i,this.removeStyle(t))},removeStyle:function(t){if(this.styles&&t&&""!==t){var e,i,n,r=this.styles;for(i in r){for(n in e=r[i])delete e[n][t],0===Object.keys(e[n]).length&&delete e[n];0===Object.keys(e).length&&delete r[i]}}},_extendStyles:function(t,e){var i=this.get2DCursorLocation(t);this._getLineStyle(i.lineIndex)||this._setLineStyle(i.lineIndex),this._getStyleDeclaration(i.lineIndex,i.charIndex)||this._setStyleDeclaration(i.lineIndex,i.charIndex,{}),A.util.object.extend(this._getStyleDeclaration(i.lineIndex,i.charIndex),e)},get2DCursorLocation:function(t,e){void 0===t&&(t=this.selectionStart);for(var i=e?this._unwrappedTextLines:this._textLines,n=i.length,r=0;r<n;r++){if(t<=i[r].length)return{lineIndex:r,charIndex:t};t-=i[r].length+this.missingNewlineOffset(r)}return{lineIndex:r-1,charIndex:i[r-1].length<t?i[r-1].length:t}},getSelectionStyles:function(t,e,i){void 0===t&&(t=this.selectionStart||0),void 0===e&&(e=this.selectionEnd||t);for(var n=[],r=t;r<e;r++)n.push(this.getStyleAtPosition(r,i));return n},getStyleAtPosition:function(t,e){var i=this.get2DCursorLocation(t);return(e?this.getCompleteStyleDeclaration(i.lineIndex,i.charIndex):this._getStyleDeclaration(i.lineIndex,i.charIndex))||{}},setSelectionStyles:function(t,e,i){void 0===e&&(e=this.selectionStart||0),void 0===i&&(i=this.selectionEnd||e);for(var n=e;n<i;n++)this._extendStyles(n,t);return this._forceClearCache=!0,this},_getStyleDeclaration:function(t,e){var i=this.styles&&this.styles[t];return i?i[e]:null},getCompleteStyleDeclaration:function(t,e){for(var i,n=this._getStyleDeclaration(t,e)||{},r={},o=0;o<this._styleProperties.length;o++)r[i=this._styleProperties[o]]=void 0===n[i]?this[i]:n[i];return r},_setStyleDeclaration:function(t,e,i){this.styles[t][e]=i},_deleteStyleDeclaration:function(t,e){delete this.styles[t][e]},_getLineStyle:function(t){return!!this.styles[t]},_setLineStyle:function(t){this.styles[t]={}},_deleteLineStyle:function(t){delete this.styles[t]}}),function(){function t(t){t.textDecoration&&(t.textDecoration.indexOf("underline")>-1&&(t.underline=!0),t.textDecoration.indexOf("line-through")>-1&&(t.linethrough=!0),t.textDecoration.indexOf("overline")>-1&&(t.overline=!0),delete t.textDecoration)}A.IText=A.util.createClass(A.Text,A.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(t,e){this.callSuper("initialize",t,e),this.initBehavior()},setSelectionStart:function(t){t=Math.max(t,0),this._updateAndFire("selectionStart",t)},setSelectionEnd:function(t){t=Math.min(t,this.text.length),this._updateAndFire("selectionEnd",t)},_updateAndFire:function(t,e){this[t]!==e&&(this._fireSelectionChanged(),this[t]=e),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(t){this.clearContextTop(),this.callSuper("render",t),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(t){this.callSuper("_render",t)},clearContextTop:function(t){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var e=this.canvas.contextTop,i=this.canvas.viewportTransform;e.save(),e.transform(i[0],i[1],i[2],i[3],i[4],i[5]),this.transform(e),this._clearTextArea(e),t||e.restore()}},renderCursorOrSelection:function(){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var t=this._getCursorBoundaries(),e=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(t,e):this.renderSelection(t,e),e.restore()}},_clearTextArea:function(t){var e=this.width+4,i=this.height+4;t.clearRect(-e/2,-i/2,e,i)},_getCursorBoundaries:function(t){void 0===t&&(t=this.selectionStart);var e=this._getLeftOffset(),i=this._getTopOffset(),n=this._getCursorBoundariesOffsets(t);return{left:e,top:i,leftOffset:n.left,topOffset:n.top}},_getCursorBoundariesOffsets:function(t){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var e,i,n,r,o=0,s=0,a=this.get2DCursorLocation(t);n=a.charIndex,i=a.lineIndex;for(var c=0;c<i;c++)o+=this.getHeightOfLine(c);e=this._getLineLeftOffset(i);var h=this.__charBounds[i][n];return h&&(s=h.left),0!==this.charSpacing&&n===this._textLines[i].length&&(s-=this._getWidthOfCharSpacing()),r={top:o,left:e+(s>0?s:0)},"rtl"===this.direction&&(r.left*=-1),this.cursorOffsetCache=r,this.cursorOffsetCache},renderCursor:function(t,e){var i=this.get2DCursorLocation(),n=i.lineIndex,r=i.charIndex>0?i.charIndex-1:0,o=this.getValueOfPropertyAt(n,r,"fontSize"),s=this.scaleX*this.canvas.getZoom(),a=this.cursorWidth/s,c=t.topOffset,h=this.getValueOfPropertyAt(n,r,"deltaY");c+=(1-this._fontSizeFraction)*this.getHeightOfLine(n)/this.lineHeight-o*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(t,e),e.fillStyle=this.cursorColor||this.getValueOfPropertyAt(n,r,"fill"),e.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,e.fillRect(t.left+t.leftOffset-a/2,c+t.top+h,a,o)},renderSelection:function(t,e){for(var i=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,n=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,r=-1!==this.textAlign.indexOf("justify"),o=this.get2DCursorLocation(i),s=this.get2DCursorLocation(n),a=o.lineIndex,c=s.lineIndex,h=o.charIndex<0?0:o.charIndex,l=s.charIndex<0?0:s.charIndex,u=a;u<=c;u++){var f,d=this._getLineLeftOffset(u)||0,g=this.getHeightOfLine(u),p=0,v=0;if(u===a&&(p=this.__charBounds[a][h].left),u>=a&&u<c)v=r&&!this.isEndOfWrapping(u)?this.width:this.getLineWidth(u)||5;else if(u===c)if(0===l)v=this.__charBounds[c][l].left;else{var m=this._getWidthOfCharSpacing();v=this.__charBounds[c][l-1].left+this.__charBounds[c][l-1].width-m}f=g,(this.lineHeight<1||u===c&&this.lineHeight>1)&&(g/=this.lineHeight);var y=t.left+d+p,C=v-p,_=g,x=0;this.inCompositionMode?(e.fillStyle=this.compositionColor||"black",_=1,x=g):e.fillStyle=this.selectionColor,"rtl"===this.direction&&(y=this.width-y-C),e.fillRect(y,t.top+t.topOffset+x,C,_),t.topOffset+=f}},getCurrentCharFontSize:function(){var t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fontSize")},getCurrentCharColor:function(){var t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fill")},_getCurrentCharIndex:function(){var t=this.get2DCursorLocation(this.selectionStart,!0),e=t.charIndex>0?t.charIndex-1:0;return{l:t.lineIndex,c:e}}}),A.IText.fromObject=function(e,i){var n=A.util.stylesFromArray(e.styles,e.text),r=Object.assign({},e,{styles:n});if(t(r),r.styles)for(var o in r.styles)for(var s in r.styles[o])t(r.styles[o][s]);A.Object._fromObject("IText",r,i,"text")}}(),b=A.util.object.clone,A.util.object.extend(A.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var t=this;this.on("added",(function(){var e=t.canvas;e&&(e._hasITextHandlers||(e._hasITextHandlers=!0,t._initCanvasHandlers(e)),e._iTextInstances=e._iTextInstances||[],e._iTextInstances.push(t))}))},initRemovedHandler:function(){var t=this;this.on("removed",(function(){var e=t.canvas;e&&(e._iTextInstances=e._iTextInstances||[],A.util.removeFromArray(e._iTextInstances,t),0===e._iTextInstances.length&&(e._hasITextHandlers=!1,t._removeCanvasHandlers(e)))}))},_initCanvasHandlers:function(t){t._mouseUpITextHandler=function(){t._iTextInstances&&t._iTextInstances.forEach((function(t){t.__isMousedown=!1}))},t.on("mouse:up",t._mouseUpITextHandler)},_removeCanvasHandlers:function(t){t.off("mouse:up",t._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(t,e,i,n){var r;return r={isAborted:!1,abort:function(){this.isAborted=!0}},t.animate("_currentCursorOpacity",e,{duration:i,onComplete:function(){r.isAborted||t[n]()},onChange:function(){t.canvas&&t.selectionStart===t.selectionEnd&&t.renderCursorOrSelection()},abort:function(){return r.isAborted}}),r},_onTickComplete:function(){var t=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout((function(){t._currentTickCompleteState=t._animateCursor(t,0,this.cursorDuration/2,"_tick")}),100)},initDelayedCursor:function(t){var e=this,i=t?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout((function(){e._tick()}),i)},abortCursorAnimation:function(){var t=this._currentTickState||this._currentTickCompleteState,e=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,t&&e&&e.clearContext(e.contextTop||e.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(t){var e=0,i=t-1;if(this._reSpace.test(this._text[i]))for(;this._reSpace.test(this._text[i]);)e++,i--;for(;/\S/.test(this._text[i])&&i>-1;)e++,i--;return t-e},findWordBoundaryRight:function(t){var e=0,i=t;if(this._reSpace.test(this._text[i]))for(;this._reSpace.test(this._text[i]);)e++,i++;for(;/\S/.test(this._text[i])&&i<this._text.length;)e++,i++;return t+e},findLineBoundaryLeft:function(t){for(var e=0,i=t-1;!/\n/.test(this._text[i])&&i>-1;)e++,i--;return t-e},findLineBoundaryRight:function(t){for(var e=0,i=t;!/\n/.test(this._text[i])&&i<this._text.length;)e++,i++;return t+e},searchWordBoundary:function(t,e){for(var i=this._text,n=this._reSpace.test(i[t])?t-1:t,r=i[n],o=A.reNonWord;!o.test(r)&&n>0&&n<i.length;)r=i[n+=e];return o.test(r)&&(n+=1===e?0:1),n},selectWord:function(t){t=t||this.selectionStart;var e=this.searchWordBoundary(t,-1),i=this.searchWordBoundary(t,1);this.selectionStart=e,this.selectionEnd=i,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(t){t=t||this.selectionStart;var e=this.findLineBoundaryLeft(t),i=this.findLineBoundaryRight(t);return this.selectionStart=e,this.selectionEnd=i,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(t){if(!this.isEditing&&this.editable)return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(t),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(t){t._iTextInstances&&t._iTextInstances.forEach((function(t){t.selected=!1,t.isEditing&&t.exitEditing()}))},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(t){if(this.__isMousedown&&this.isEditing){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var e=this.getSelectionStartFromPointer(t.e),i=this.selectionStart,n=this.selectionEnd;(e===this.__selectionStartOnMouseDown&&i!==n||i!==e&&n!==e)&&(e>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=e):(this.selectionStart=e,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===i&&this.selectionEnd===n||(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(t,e,i){var n=i.slice(0,t),r=A.util.string.graphemeSplit(n).length;if(t===e)return{selectionStart:r,selectionEnd:r};var o=i.slice(t,e);return{selectionStart:r,selectionEnd:r+A.util.string.graphemeSplit(o).length}},fromGraphemeToStringSelection:function(t,e,i){var n=i.slice(0,t).join("").length;return t===e?{selectionStart:n,selectionEnd:n}:{selectionStart:n,selectionEnd:n+i.slice(t,e).join("").length}},_updateTextarea:function(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){var t=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=t.selectionStart,this.hiddenTextarea.selectionEnd=t.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var t=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=t.selectionEnd,this.inCompositionMode||(this.selectionStart=t.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var t=this._calcTextareaPosition();this.hiddenTextarea.style.left=t.left,this.hiddenTextarea.style.top=t.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var t=this.inCompositionMode?this.compositionStart:this.selectionStart,e=this._getCursorBoundaries(t),i=this.get2DCursorLocation(t),n=i.lineIndex,r=i.charIndex,o=this.getValueOfPropertyAt(n,r,"fontSize")*this.lineHeight,s=e.leftOffset,a=this.calcTransformMatrix(),c={x:e.left+s,y:e.top+e.topOffset+o},h=this.canvas.getRetinaScaling(),l=this.canvas.upperCanvasEl,u=l.width/h,f=l.height/h,d=u-o,g=f-o,p=l.clientWidth/u,v=l.clientHeight/f;return c=A.util.transformPoint(c,a),(c=A.util.transformPoint(c,this.canvas.viewportTransform)).x*=p,c.y*=v,c.x<0&&(c.x=0),c.x>d&&(c.x=d),c.y<0&&(c.y=0),c.y>g&&(c.y=g),c.x+=this.canvas._offset.left,c.y+=this.canvas._offset.top,{left:c.x+"px",top:c.y+"px",fontSize:o+"px",charHeight:o}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var t=this._textBeforeEdit!==this.text,e=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,e&&(e.blur&&e.blur(),e.parentNode&&e.parentNode.removeChild(e)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),t&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),t&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var t in this.styles)this._textLines[t]||delete this.styles[t]},removeStyleFromTo:function(t,e){var i,n,r=this.get2DCursorLocation(t,!0),o=this.get2DCursorLocation(e,!0),s=r.lineIndex,a=r.charIndex,c=o.lineIndex,h=o.charIndex;if(s!==c){if(this.styles[s])for(i=a;i<this._unwrappedTextLines[s].length;i++)delete this.styles[s][i];if(this.styles[c])for(i=h;i<this._unwrappedTextLines[c].length;i++)(n=this.styles[c][i])&&(this.styles[s]||(this.styles[s]={}),this.styles[s][a+i-h]=n);for(i=s+1;i<=c;i++)delete this.styles[i];this.shiftLineStyles(c,s-c)}else if(this.styles[s]){n=this.styles[s];var l,u,f=h-a;for(i=a;i<h;i++)delete n[i];for(u in this.styles[s])(l=parseInt(u,10))>=h&&(n[l-f]=n[u],delete n[u])}},shiftLineStyles:function(t,e){var i=b(this.styles);for(var n in this.styles){var r=parseInt(n,10);r>t&&(this.styles[r+e]=i[r],i[r-e]||delete this.styles[r])}},restartCursorIfNeeded:function(){this._currentTickState&&!this._currentTickState.isAborted&&this._currentTickCompleteState&&!this._currentTickCompleteState.isAborted||this.initDelayedCursor()},insertNewlineStyleObject:function(t,e,i,n){var r,o={},s=!1,a=this._unwrappedTextLines[t].length===e;for(var c in i||(i=1),this.shiftLineStyles(t,i),this.styles[t]&&(r=this.styles[t][0===e?e:e-1]),this.styles[t]){var h=parseInt(c,10);h>=e&&(s=!0,o[h-e]=this.styles[t][c],a&&0===e||delete this.styles[t][c])}var l=!1;for(s&&!a&&(this.styles[t+i]=o,l=!0),l&&i--;i>0;)n&&n[i-1]?this.styles[t+i]={0:b(n[i-1])}:r?this.styles[t+i]={0:b(r)}:delete this.styles[t+i],i--;this._forceClearCache=!0},insertCharStyleObject:function(t,e,i,n){this.styles||(this.styles={});var r=this.styles[t],o=r?b(r):{};for(var s in i||(i=1),o){var a=parseInt(s,10);a>=e&&(r[a+i]=o[a],o[a-i]||delete r[a])}if(this._forceClearCache=!0,n)for(;i--;)Object.keys(n[i]).length&&(this.styles[t]||(this.styles[t]={}),this.styles[t][e+i]=b(n[i]));else if(r)for(var c=r[e?e-1:1];c&&i--;)this.styles[t][e+i]=b(c)},insertNewStyleBlock:function(t,e,i){for(var n=this.get2DCursorLocation(e,!0),r=[0],o=0,s=0;s<t.length;s++)"\n"===t[s]?r[++o]=0:r[o]++;for(r[0]>0&&(this.insertCharStyleObject(n.lineIndex,n.charIndex,r[0],i),i=i&&i.slice(r[0]+1)),o&&this.insertNewlineStyleObject(n.lineIndex,n.charIndex+r[0],o),s=1;s<o;s++)r[s]>0?this.insertCharStyleObject(n.lineIndex+s,0,r[s],i):i&&this.styles[n.lineIndex+s]&&i[0]&&(this.styles[n.lineIndex+s][0]=i[0]),i=i&&i.slice(r[s]+1);r[s]>0&&this.insertCharStyleObject(n.lineIndex+s,0,r[s],i)},setSelectionStartEndWithShift:function(t,e,i){i<=t?(e===t?this._selectionDirection="left":"right"===this._selectionDirection&&(this._selectionDirection="left",this.selectionEnd=t),this.selectionStart=i):i>t&&i<e?"right"===this._selectionDirection?this.selectionEnd=i:this.selectionStart=i:(e===t?this._selectionDirection="right":"left"===this._selectionDirection&&(this._selectionDirection="right",this.selectionStart=e),this.selectionEnd=i)},setSelectionInBoundaries:function(){var t=this.text.length;this.selectionStart>t?this.selectionStart=t:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>t?this.selectionEnd=t:this.selectionEnd<0&&(this.selectionEnd=0)}}),A.util.object.extend(A.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(t){if(this.canvas){this.__newClickTime=+new Date;var e=t.pointer;this.isTripleClick(e)&&(this.fire("tripleclick",t),this._stopEvent(t.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=e,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(t){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===t.x&&this.__lastPointer.y===t.y},_stopEvent:function(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(t){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(t.e))},tripleClickHandler:function(t){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(t.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(t){!this.canvas||!this.editable||t.e.button&&1!==t.e.button||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(t.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(t){!this.canvas||!this.editable||t.e.button&&1!==t.e.button||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(t){if(this.__isMousedown=!1,!(!this.editable||this.group||t.transform&&t.transform.actionPerformed||t.e.button&&1!==t.e.button)){if(this.canvas){var e=this.canvas._activeObject;if(e&&e!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(t.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(t){var e=this.getSelectionStartFromPointer(t),i=this.selectionStart,n=this.selectionEnd;t.shiftKey?this.setSelectionStartEndWithShift(i,n,e):(this.selectionStart=e,this.selectionEnd=e),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(t){for(var e,i=this.getLocalPointer(t),n=0,r=0,o=0,s=0,a=0,c=0,h=this._textLines.length;c<h&&o<=i.y;c++)o+=this.getHeightOfLine(c)*this.scaleY,a=c,c>0&&(s+=this._textLines[c-1].length+this.missingNewlineOffset(c-1));r=this._getLineLeftOffset(a)*this.scaleX,e=this._textLines[a],"rtl"===this.direction&&(i.x=this.width*this.scaleX-i.x+r);for(var l=0,u=e.length;l<u&&(n=r,(r+=this.__charBounds[a][l].kernedWidth*this.scaleX)<=i.x);l++)s++;return this._getNewSelectionStartFromOffset(i,n,r,s,u)},_getNewSelectionStartFromOffset:function(t,e,i,n,r){var o=t.x-e,s=i-t.x,a=n+(s>o||s<0?0:1);return this.flipX&&(a=r-a),a>this._text.length&&(a=this._text.length),a}}),A.util.object.extend(A.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=A.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var t=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+t.top+"; left: "+t.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+t.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):A.document.body.appendChild(this.hiddenTextarea),A.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),A.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),A.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),A.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),A.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),A.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),A.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),A.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),A.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(A.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(t){if(this.isEditing){var e="rtl"===this.direction?this.keysMapRtl:this.keysMap;if(t.keyCode in e)this[e[t.keyCode]](t);else{if(!(t.keyCode in this.ctrlKeysMapDown)||!t.ctrlKey&&!t.metaKey)return;this[this.ctrlKeysMapDown[t.keyCode]](t)}t.stopImmediatePropagation(),t.preventDefault(),t.keyCode>=33&&t.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(t){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:t.keyCode in this.ctrlKeysMapUp&&(t.ctrlKey||t.metaKey)&&(this[this.ctrlKeysMapUp[t.keyCode]](t),t.stopImmediatePropagation(),t.preventDefault(),this.canvas&&this.canvas.requestRenderAll())},onInput:function(t){var e=this.fromPaste;if(this.fromPaste=!1,t&&t.stopPropagation(),this.isEditing){var i,n,r,o,s,a=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,c=this._text.length,h=a.length,l=h-c,u=this.selectionStart,f=this.selectionEnd,d=u!==f;if(""===this.hiddenTextarea.value)return this.styles={},this.updateFromTextArea(),this.fire("changed"),void(this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll()));var g=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),p=u>g.selectionStart;d?(i=this._text.slice(u,f),l+=f-u):h<c&&(i=p?this._text.slice(f+l,f):this._text.slice(u,u-l)),n=a.slice(g.selectionEnd-l,g.selectionEnd),i&&i.length&&(n.length&&(r=this.getSelectionStyles(u,u+1,!1),r=n.map((function(){return r[0]}))),d?(o=u,s=f):p?(o=f-i.length,s=f):(o=f,s=f+i.length),this.removeStyleFromTo(o,s)),n.length&&(e&&n.join("")===A.copiedText&&!A.disableStyleCopyPaste&&(r=A.copiedTextStyle),this.insertNewStyleBlock(n,u,r)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(t){this.compositionStart=t.target.selectionStart,this.compositionEnd=t.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(A.copiedText=this.getSelectedText(),A.disableStyleCopyPaste?A.copiedTextStyle=null:A.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(t){return t&&t.clipboardData||A.window.clipboardData},_getWidthBeforeCursor:function(t,e){var i,n=this._getLineLeftOffset(t);return e>0&&(n+=(i=this.__charBounds[t][e-1]).left+i.width),n},getDownCursorOffset:function(t,e){var i=this._getSelectionForOffset(t,e),n=this.get2DCursorLocation(i),r=n.lineIndex;if(r===this._textLines.length-1||t.metaKey||34===t.keyCode)return this._text.length-i;var o=n.charIndex,s=this._getWidthBeforeCursor(r,o),a=this._getIndexOnLine(r+1,s);return this._textLines[r].slice(o).length+a+1+this.missingNewlineOffset(r)},_getSelectionForOffset:function(t,e){return t.shiftKey&&this.selectionStart!==this.selectionEnd&&e?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(t,e){var i=this._getSelectionForOffset(t,e),n=this.get2DCursorLocation(i),r=n.lineIndex;if(0===r||t.metaKey||33===t.keyCode)return-i;var o=n.charIndex,s=this._getWidthBeforeCursor(r,o),a=this._getIndexOnLine(r-1,s),c=this._textLines[r].slice(0,o),h=this.missingNewlineOffset(r-1);return-this._textLines[r-1].length+a-c.length+(1-h)},_getIndexOnLine:function(t,e){for(var i,n,r=this._textLines[t],o=this._getLineLeftOffset(t),s=0,a=0,c=r.length;a<c;a++)if((o+=i=this.__charBounds[t][a].width)>e){n=!0;var h=o-i,l=o,u=Math.abs(h-e);s=Math.abs(l-e)<u?a:a-1;break}return n||(s=r.length-1),s},moveCursorDown:function(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",t)},moveCursorUp:function(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",t)},_moveCursorUpOrDown:function(t,e){var i=this["get"+t+"CursorOffset"](e,"right"===this._selectionDirection);e.shiftKey?this.moveCursorWithShift(i):this.moveCursorWithoutShift(i),0!==i&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(t){var e="left"===this._selectionDirection?this.selectionStart+t:this.selectionEnd+t;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,e),0!==t},moveCursorWithoutShift:function(t){return t<0?(this.selectionStart+=t,this.selectionEnd=this.selectionStart):(this.selectionEnd+=t,this.selectionStart=this.selectionEnd),0!==t},moveCursorLeft:function(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",t)},_move:function(t,e,i){var n;if(t.altKey)n=this["findWordBoundary"+i](this[e]);else{if(!t.metaKey&&35!==t.keyCode&&36!==t.keyCode)return this[e]+="Left"===i?-1:1,!0;n=this["findLineBoundary"+i](this[e])}if(void 0!==n&&this[e]!==n)return this[e]=n,!0},_moveLeft:function(t,e){return this._move(t,e,"Left")},_moveRight:function(t,e){return this._move(t,e,"Right")},moveCursorLeftWithoutShift:function(t){var e=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(e=this._moveLeft(t,"selectionStart")),this.selectionEnd=this.selectionStart,e},moveCursorLeftWithShift:function(t){return"right"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveLeft(t,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection="left",this._moveLeft(t,"selectionStart")):void 0},moveCursorRight:function(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",t)},_moveCursorLeftOrRight:function(t,e){var i="moveCursor"+t+"With";this._currentCursorOpacity=1,e.shiftKey?i+="Shift":i+="outShift",this[i](e)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(t){return"left"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveRight(t,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection="right",this._moveRight(t,"selectionEnd")):void 0},moveCursorRightWithoutShift:function(t){var e=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(e=this._moveRight(t,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,e},removeChars:function(t,e){void 0===e&&(e=t+1),this.removeStyleFromTo(t,e),this._text.splice(t,e-t),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(t,e,i,n){void 0===n&&(n=i),n>i&&this.removeStyleFromTo(i,n);var r=A.util.string.graphemeSplit(t);this.insertNewStyleBlock(r,i,e),this._text=[].concat(this._text.slice(0,i),r,this._text.slice(n)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),S=A.util.toFixed,w=/  +/g,A.util.object.extend(A.Text.prototype,{_toSVG:function(){var t=this._getSVGLeftTopOffsets(),e=this._getSVGTextAndBg(t.textTop,t.textLeft);return this._wrapSVGTextAndBg(e)},toSVG:function(t){return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(t){var e=this.getSvgTextDecoration(this);return[t.textBgRects.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",e?'text-decoration="'+e+'" ':"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",t.textSpans.join(""),"</text>\n"]},_getSVGTextAndBg:function(t,e){var i,n=[],r=[],o=t;this._setSVGBg(r);for(var s=0,a=this._textLines.length;s<a;s++)i=this._getLineLeftOffset(s),(this.textBackgroundColor||this.styleHas("textBackgroundColor",s))&&this._setSVGTextLineBg(r,s,e+i,o),this._setSVGTextLineText(n,s,e+i,o),o+=this.getHeightOfLine(s);return{textSpans:n,textBgRects:r}},_createTextCharSpan:function(t,e,i,n){var r=t!==t.trim()||t.match(w),o=this.getSvgSpanStyles(e,r),s=o?'style="'+o+'"':"",a=e.deltaY,c="",h=A.Object.NUM_FRACTION_DIGITS;return a&&(c=' dy="'+S(a,h)+'" '),['<tspan x="',S(i,h),'" y="',S(n,h),'" ',c,s,">",A.util.string.escapeXml(t),"</tspan>"].join("")},_setSVGTextLineText:function(t,e,i,n){var r,o,s,a,c,h=this.getHeightOfLine(e),l=-1!==this.textAlign.indexOf("justify"),u="",f=0,d=this._textLines[e];n+=h*(1-this._fontSizeFraction)/this.lineHeight;for(var g=0,p=d.length-1;g<=p;g++)c=g===p||this.charSpacing,u+=d[g],s=this.__charBounds[e][g],0===f?(i+=s.kernedWidth-s.width,f+=s.width):f+=s.kernedWidth,l&&!c&&this._reSpaceAndTab.test(d[g])&&(c=!0),c||(r=r||this.getCompleteStyleDeclaration(e,g),o=this.getCompleteStyleDeclaration(e,g+1),c=A.util.hasStyleChanged(r,o,!0)),c&&(a=this._getStyleDeclaration(e,g)||{},t.push(this._createTextCharSpan(u,a,i,n)),u="",r=o,i+=f,f=0)},_pushTextBgRect:function(t,e,i,n,r,o){var s=A.Object.NUM_FRACTION_DIGITS;t.push("\t\t<rect ",this._getFillAttributes(e),' x="',S(i,s),'" y="',S(n,s),'" width="',S(r,s),'" height="',S(o,s),'"></rect>\n')},_setSVGTextLineBg:function(t,e,i,n){for(var r,o,s=this._textLines[e],a=this.getHeightOfLine(e)/this.lineHeight,c=0,h=0,l=this.getValueOfPropertyAt(e,0,"textBackgroundColor"),u=0,f=s.length;u<f;u++)r=this.__charBounds[e][u],(o=this.getValueOfPropertyAt(e,u,"textBackgroundColor"))!==l?(l&&this._pushTextBgRect(t,l,i+h,n,c,a),h=r.left,c=r.width,l=o):c+=r.kernedWidth;o&&this._pushTextBgRect(t,o,i+h,n,c,a)},_getFillAttributes:function(t){var e=t&&"string"==typeof t?new A.Color(t):"";return e&&e.getSource()&&1!==e.getAlpha()?'opacity="'+e.getAlpha()+'" fill="'+e.setAlpha(1).toRgb()+'"':'fill="'+t+'"'},_getSVGLineTopOffset:function(t){for(var e,i=0,n=0;n<t;n++)i+=this.getHeightOfLine(n);return e=this.getHeightOfLine(n),{lineTop:i,offset:(this._fontSizeMult-this._fontSizeFraction)*e/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(t){return A.Object.prototype.getSvgStyles.call(this,t)+" white-space: pre;"}}),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Textbox=e.util.createClass(e.IText,e.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:e.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(t){for(var e=0,i=0,n=0,r={},o=0;o<t.graphemeLines.length;o++)"\n"===t.graphemeText[n]&&o>0?(i=0,n++,e++):!this.splitByGrapheme&&this._reSpaceAndTab.test(t.graphemeText[n])&&o>0&&(i++,n++),r[o]={line:e,offset:i},n+=t.graphemeLines[o].length,i+=t.graphemeLines[o].length;return r},styleHas:function(t,i){if(this._styleMap&&!this.isWrapping){var n=this._styleMap[i];n&&(i=n.line)}return e.Text.prototype.styleHas.call(this,t,i)},isEmptyStyles:function(t){if(!this.styles)return!0;var e,i,n=0,r=!1,o=this._styleMap[t],s=this._styleMap[t+1];for(var a in o&&(t=o.line,n=o.offset),s&&(r=s.line===t,e=s.offset),i=void 0===t?this.styles:{line:this.styles[t]})for(var c in i[a])if(c>=n&&(!r||c<e))for(var h in i[a][c])return!1;return!0},_getStyleDeclaration:function(t,e){if(this._styleMap&&!this.isWrapping){var i=this._styleMap[t];if(!i)return null;t=i.line,e=i.offset+e}return this.callSuper("_getStyleDeclaration",t,e)},_setStyleDeclaration:function(t,e,i){var n=this._styleMap[t];t=n.line,e=n.offset+e,this.styles[t][e]=i},_deleteStyleDeclaration:function(t,e){var i=this._styleMap[t];t=i.line,e=i.offset+e,delete this.styles[t][e]},_getLineStyle:function(t){var e=this._styleMap[t];return!!this.styles[e.line]},_setLineStyle:function(t){var e=this._styleMap[t];this.styles[e.line]={}},_wrapText:function(t,e){var i,n=[];for(this.isWrapping=!0,i=0;i<t.length;i++)n=n.concat(this._wrapLine(t[i],i,e));return this.isWrapping=!1,n},_measureWord:function(t,e,i){var n,r=0;i=i||0;for(var o=0,s=t.length;o<s;o++)r+=this._getGraphemeBox(t[o],e,o+i,n,!0).kernedWidth,n=t[o];return r},_wrapLine:function(t,i,n,r){var o=0,s=this.splitByGrapheme,a=[],c=[],h=s?e.util.string.graphemeSplit(t):t.split(this._wordJoiners),l="",u=0,f=s?"":" ",d=0,g=0,p=0,v=!0,m=this._getWidthOfCharSpacing();r=r||0,0===h.length&&h.push([]),n-=r;for(var y=0;y<h.length;y++)l=s?h[y]:e.util.string.graphemeSplit(h[y]),d=this._measureWord(l,i,u),u+=l.length,(o+=g+d-m)>n&&!v?(a.push(c),c=[],o=d,v=!0):o+=m,v||s||c.push(f),c=c.concat(l),g=s?0:this._measureWord([f],i,u),u++,v=!1,d>p&&(p=d);return y&&a.push(c),p+r>this.dynamicMinWidth&&(this.dynamicMinWidth=p-m+r),a},isEndOfWrapping:function(t){return!this._styleMap[t+1]||this._styleMap[t+1].line!==this._styleMap[t].line},missingNewlineOffset:function(t){return this.splitByGrapheme?this.isEndOfWrapping(t)?1:0:1},_splitTextIntoLines:function(t){for(var i=e.Text.prototype._splitTextIntoLines.call(this,t),n=this._wrapText(i.lines,this.width),r=new Array(n.length),o=0;o<n.length;o++)r[o]=n[o].join("");return i.lines=r,i.graphemeLines=n,i},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var t={};for(var e in this._styleMap)this._textLines[e]&&(t[this._styleMap[e].line]=1);for(var e in this.styles)t[e]||delete this.styles[e]},toObject:function(t){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(t))}}),e.Textbox.fromObject=function(t,i){var n=e.util.stylesFromArray(t.styles,t.text),r=Object.assign({},t,{styles:n});return e.Object._fromObject("Textbox",r,i,"text")}}(e),function(){var t=A.controlsUtils,e=t.scaleSkewCursorStyleHandler,i=t.scaleCursorStyleHandler,n=t.scalingEqually,r=t.scalingYOrSkewingX,o=t.scalingXOrSkewingY,s=t.scaleOrSkewActionName,a=A.Object.prototype.controls;if(a.ml=new A.Control({x:-.5,y:0,cursorStyleHandler:e,actionHandler:o,getActionName:s}),a.mr=new A.Control({x:.5,y:0,cursorStyleHandler:e,actionHandler:o,getActionName:s}),a.mb=new A.Control({x:0,y:.5,cursorStyleHandler:e,actionHandler:r,getActionName:s}),a.mt=new A.Control({x:0,y:-.5,cursorStyleHandler:e,actionHandler:r,getActionName:s}),a.tl=new A.Control({x:-.5,y:-.5,cursorStyleHandler:i,actionHandler:n}),a.tr=new A.Control({x:.5,y:-.5,cursorStyleHandler:i,actionHandler:n}),a.bl=new A.Control({x:-.5,y:.5,cursorStyleHandler:i,actionHandler:n}),a.br=new A.Control({x:.5,y:.5,cursorStyleHandler:i,actionHandler:n}),a.mtr=new A.Control({x:0,y:-.5,actionHandler:t.rotationWithSnapping,cursorStyleHandler:t.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),A.Textbox){var c=A.Textbox.prototype.controls={};c.mtr=a.mtr,c.tr=a.tr,c.br=a.br,c.tl=a.tl,c.bl=a.bl,c.mt=a.mt,c.mb=a.mb,c.mr=new A.Control({x:.5,y:0,actionHandler:t.changeWidth,cursorStyleHandler:e,actionName:"resizing"}),c.ml=new A.Control({x:-.5,y:0,actionHandler:t.changeWidth,cursorStyleHandler:e,actionName:"resizing"})}}()},7419:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>m});var n=i(3379),r=i.n(n),o=i(7795),s=i.n(o),a=i(569),c=i.n(a),h=i(3565),l=i.n(h),u=i(9216),f=i.n(u),d=i(4589),g=i.n(d),p=i(9948),v={};v.styleTagTransform=g(),v.setAttributes=l(),v.insert=c().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=f(),r()(p.Z,v);const m=p.Z&&p.Z.locals?p.Z.locals:void 0},4445:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>m});var n=i(3379),r=i.n(n),o=i(7795),s=i.n(o),a=i(569),c=i.n(a),h=i(3565),l=i.n(h),u=i(9216),f=i.n(u),d=i(4589),g=i.n(d),p=i(5804),v={};v.styleTagTransform=g(),v.setAttributes=l(),v.insert=c().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=f(),r()(p.Z,v);const m=p.Z&&p.Z.locals?p.Z.locals:void 0},6646:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>m});var n=i(3379),r=i.n(n),o=i(7795),s=i.n(o),a=i(569),c=i.n(a),h=i(3565),l=i.n(h),u=i(9216),f=i.n(u),d=i(4589),g=i.n(d),p=i(9943),v={};v.styleTagTransform=g(),v.setAttributes=l(),v.insert=c().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=f(),r()(p.Z,v);const m=p.Z&&p.Z.locals?p.Z.locals:void 0},2223:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>m});var n=i(3379),r=i.n(n),o=i(7795),s=i.n(o),a=i(569),c=i.n(a),h=i(3565),l=i.n(h),u=i(9216),f=i.n(u),d=i(4589),g=i.n(d),p=i(6967),v={};v.styleTagTransform=g(),v.setAttributes=l(),v.insert=c().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=f(),r()(p.Z,v);const m=p.Z&&p.Z.locals?p.Z.locals:void 0},2797:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>m});var n=i(3379),r=i.n(n),o=i(7795),s=i.n(o),a=i(569),c=i.n(a),h=i(3565),l=i.n(h),u=i(9216),f=i.n(u),d=i(4589),g=i.n(d),p=i(7272),v={};v.styleTagTransform=g(),v.setAttributes=l(),v.insert=c().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=f(),r()(p.Z,v);const m=p.Z&&p.Z.locals?p.Z.locals:void 0},4915:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>m});var n=i(3379),r=i.n(n),o=i(7795),s=i.n(o),a=i(569),c=i.n(a),h=i(3565),l=i.n(h),u=i(9216),f=i.n(u),d=i(4589),g=i.n(d),p=i(890),v={};v.styleTagTransform=g(),v.setAttributes=l(),v.insert=c().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=f(),r()(p.Z,v);const m=p.Z&&p.Z.locals?p.Z.locals:void 0},3379:t=>{"use strict";var e=[];function i(t){for(var i=-1,n=0;n<e.length;n++)if(e[n].identifier===t){i=n;break}return i}function n(t,n){for(var o={},s=[],a=0;a<t.length;a++){var c=t[a],h=n.base?c[0]+n.base:c[0],l=o[h]||0,u="".concat(h," ").concat(l);o[h]=l+1;var f=i(u),d={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==f)e[f].references++,e[f].updater(d);else{var g=r(d,n);n.byIndex=a,e.splice(a,0,{identifier:u,updater:g,references:1})}s.push(u)}return s}function r(t,e){var i=e.domAPI(e);return i.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;i.update(t=e)}else i.remove()}}t.exports=function(t,r){var o=n(t=t||[],r=r||{});return function(t){t=t||[];for(var s=0;s<o.length;s++){var a=i(o[s]);e[a].references--}for(var c=n(t,r),h=0;h<o.length;h++){var l=i(o[h]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}o=c}}},569:t=>{"use strict";var e={};t.exports=function(t,i){var n=function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(i)}},9216:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},3565:(t,e,i)=>{"use strict";t.exports=function(t){var e=i.nc;e&&t.setAttribute("nonce",e)}},7795:t=>{"use strict";t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(i){!function(t,e,i){var n="";i.supports&&(n+="@supports (".concat(i.supports,") {")),i.media&&(n+="@media ".concat(i.media," {"));var r=void 0!==i.layer;r&&(n+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),n+=i.css,r&&(n+="}"),i.media&&(n+="}"),i.supports&&(n+="}");var o=i.sourceMap;o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,i)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},4589:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},4756:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12.501 14.792l3.854 3.854-.707.707L13 16.705V23h-1v-6.293l-2.646 2.646-.707-.707zM8.647 6.354l3.854 3.854 3.854-3.854-.707-.707L13 8.295V2h-1v6.293L9.354 5.647zM6 13h13v-1H6z"></path><path fill="none" d="M0 0h24v24H0z"></path></svg>'},1460:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.707 12H23v1h-6.295l2.648 2.647-.707.707-3.854-3.853 3.854-3.854.707.707zM5.647 9.354L8.293 12H2v1h6.295l-2.648 2.647.707.707 3.854-3.853-3.854-3.854zM12 19h1V6h-1z"></path><path fill="none" d="M0 0h24v24H0z"></path></svg>'},9549:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 3v12.294l2.647-2.647.707.707-3.853 3.854-3.854-3.854.707-.707L12 15.292V3zM6 21h13v-1H6z"></path><path fill="none" d="M0 0h24v24H0z"></path></svg>'},4152:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 5H12V4h10zm0 3h-8v1h8zm0 5v-1h-6v1zM2 17h20v-1H2zm0 4h20v-1H2zm.234-8L7.042 2.049h.916L12.766 13h-1.093L9.917 9H5.083l-1.756 4zm3.288-5h3.956L7.5 3.494z"></path><path fill="none" d="M0 0h24v24H0z"></path></svg>'},5617:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.87 6h1.007l-.988 16.015A1.051 1.051 0 0 1 17.84 23H6.158a1.052 1.052 0 0 1-1.048-.984v-.001L4.123 6h1.003l.982 15.953a.05.05 0 0 0 .05.047h11.683zM9.5 19a.5.5 0 0 0 .5-.5v-10a.5.5 0 0 0-1 0v10a.5.5 0 0 0 .5.5zm5 0a.5.5 0 0 0 .5-.5v-10a.5.5 0 0 0-1 0v10a.5.5 0 0 0 .5.5zM5.064 5H3V4h5v-.75A1.251 1.251 0 0 1 9.25 2h5.5A1.251 1.251 0 0 1 16 3.25V4h5v1H5.064zM9 4h6v-.75a.25.25 0 0 0-.25-.25h-5.5a.25.25 0 0 0-.25.25z"></path><path fill="none" d="M0 0h24v24H0z"></path></svg>'},6562:function(t,e,i){"use strict";var n=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))((function(r,o){function s(t){try{c(n.next(t))}catch(t){o(t)}}function a(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,a)}c((n=n.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(i=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){s.label=a[1];break}if(6===a[0]&&s.label<r[1]){s.label=r[1],r=a;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(a);break}r[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],n=0}finally{i=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(i(3244)),a=o(i(8757)),c=o(i(6638)),h=o(i(8484)),l=i(923),u=function(){function t(){this._element=document.createElement("div"),document.querySelector("body").appendChild(this._element),this._element.classList.add("containerCol")}return t.prototype.initialize=function(){return n(this,void 0,void 0,(function(){var t;return r(this,(function(e){switch(e.label){case 0:return this._canvas=new h.default(this._element),t=new a.default(this._element),[4,(0,l.getData)()];case 1:return e.sent(),t.hide(),(0,l.getColors)(),this._upbar=new s.default(this._element,this._canvas),this._objectPropertiesBar=new c.default(this._element,this._canvas),[2]}}))}))},t.prototype.loadFonts=function(t){var e=this;t.map((function(t){var i=document.createElement("p");i.innerHTML="&ensp;",i.style.fontFamily=t,i.style.position="absolute",e._element.appendChild(i)}))},t.prototype.getCanvas=function(){return this._canvas},t}();e.default=u},3244:function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),i(7419);var r=n(i(6901)),o=n(i(7321)),s=n(i(4152)),a=n(i(5617)),c=n(i(4756)),h=n(i(1460)),l=n(i(9549)),u=n(i(4634));e.default=function(t,e){var i=this;this._element=document.createElement("div"),t.appendChild(this._element),this._element.classList.add("bar"),this._downloader=new u.default(t),[{name:" ",func:function(){e.addText("")},icon:s.default},{name:"  ",func:function(){var t;null===(t=e._selectedObjects)||void 0===t||t.map((function(t){e.alignObject(t,!0,!1)}))},icon:c.default},{name:"  ",func:function(){var t;null===(t=e._selectedObjects)||void 0===t||t.map((function(t){e.alignObject(t,!1,!0)}))},icon:h.default},{name:"  PNG",func:function(){i._downloader.dowload(i._downloader.render(e))},icon:l.default},{name:" ",func:function(){e.deleteLastActiveObject()},icon:a.default}].map((function(t){var e=new o.default("",t.func,i._element);e.getElement().innerHTML=t.icon,new r.default(t.name,e.getElement())}))}},4634:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this._element=document.createElement("a"),t.appendChild(this._element)}return t.prototype.render=function(t,e){return void 0===e&&(e=!0),e?t._canvasElement.toDataURL("image/png"):t._canvas.toDataURL({format:"png",multiplier:2,withoutTransform:!0})},t.prototype.dowload=function(t){this._element.href=t,this._element.download="NEONES.RU.png",this._element.click()},t}();e.default=i},8757:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){var e=this;this.createLoaderLabel=function(){var t=document.createElement("div");return t.textContent=" ",t.classList.add("text"),t},this.createLoader=function(){var t=document.createElement("div");return e._element.classList.add("loader"),t.insertAdjacentHTML("afterbegin",'<div\n\t\t\t\tclass="loader"\n\t\t\t\ttitle="0">\n\t\t\t\t<svg\n\t\t\t\t\tversion="1.1"\n\t\t\t\t\tid="loader-1"\n\t\t\t\t\txmlns="http://www.w3.org/2000/svg"\n\t\t\t\t\txmlns:xlink="http://www.w3.org/1999/xlink"\n\t\t\t\t\tx="0px"\n\t\t\t\t\ty="0px"\n\t\t\t\t\twidth="40px"\n\t\t\t\t\theight="40px"\n\t\t\t\t\tviewBox="0 0 40 40"\n\t\t\t\t\tenable-background="new 0 0 40 40"\n\t\t\t\t\txml:space="preserve">\n\t\t\t\t\t<path\n\t\t\t\t\t\topacity="0.2"\n\t\t\t\t\t\tfill="white"\n\t\t\t\t\t\td="M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946\n    s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634\n    c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z"\n\t\t\t\t\t/>\n\t\t\t\t\t<path\n\t\t\t\t\t\tfill="white"\n\t\t\t\t\t\td="M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0\n    C22.32,8.481,24.301,9.057,26.013,10.047z">\n\t\t\t\t\t\t<animateTransform\n\t\t\t\t\t\t\tattributeType="xml"\n\t\t\t\t\t\t\tattributeName="transform"\n\t\t\t\t\t\t\ttype="rotate"\n\t\t\t\t\t\t\tfrom="0 20 20"\n\t\t\t\t\t\t\tto="360 20 20"\n\t\t\t\t\t\t\tdur="0.5s"\n\t\t\t\t\t\t\trepeatCount="indefinite"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</path>\n\t\t\t\t</svg>\n\t\t\t</div>'),t},this.hide=function(){e._element.style.display="none"},this._element=document.createElement("div"),this._element.classList.add("containerRow"),this._element.appendChild(this.createLoaderLabel()),this._element.appendChild(this.createLoader()),t.appendChild(this._element)}},8337:function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(923),o=n(i(7321)),s=n(i(6901));i(4445);e.default=function(t){var e=this,i=(0,r.getColors)();this.element=document.createElement("div"),this.element.classList.add("colorPickButtons"),Object.keys(i).map((function(n,r){var a=Object.values(i)[r],c=new o.default("",(function(){var e;null===(e=null==t?void 0:t._selectedObjects)||void 0===e||e.map((function(t){t.changeShadow(a)})),t.update()}),e.element);c.getElement().classList.add("colorButton"),new s.default(n,c.getElement()),c.getElement().style.backgroundColor=a}))}},6638:function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(923),o=n(i(8011)),s=n(i(7321)),a=n(i(6901)),c=n(i(8337));i(6646);var h=function(){function t(t,e){var i=this;this._element=document.createElement("div"),this._element.classList.add("objectProperties","hidden"),this._canvas=e,t.appendChild(this._element),e._canvas.on("selection:created",(function(){i.updateVisibility()})),e._canvas.on("selection:cleared",(function(){i.updateVisibility()})),this.optionText(),this.optionColors(),this.optionFonts(),this.optionPrice()}return t.prototype.addOptionDiv=function(){var t=document.createElement("div");return t.classList.add("option"),t},t.prototype.addOption=function(t){void 0===t&&(t="");var e=document.createElement("div"),i=document.createElement("p");i.textContent=t,i.classList.add("text"),i.classList.add("labelText"),e.appendChild(i),e.classList.add("label"),this._element.appendChild(e);var n=this.addOptionDiv();return e.appendChild(n),n},t.prototype.addRange=function(t,e,i,n){var r=document.createElement("input");r.type="range",r.min=t,r.max=e,r.step=i,n.appendChild(r)},t.prototype.updateVisibility=function(){this._element.classList.toggle("hidden"),this.showPrice()},t.prototype.optionText=function(){var t=this,e=this.addOption(""),i=document.createElement("textarea");i.classList.add("textarea"),i.placeholder=" ",e.appendChild(i),i.oninput=function(e){var i=e.target.value;t._canvas._selectedObjects.map((function(t){t.changeText(i)})),t._canvas.update()},this._canvas._canvas.on("selection:updated",(function(){i.value=t._canvas._selectedObjects[0].getText()})),this._canvas._canvas.on("selection:created",(function(){i.value=t._canvas._selectedObjects[0].getText()}))},t.prototype.optionColors=function(){var t=this.addOption(""),e=new c.default(this._canvas);t.appendChild(e.element)},t.prototype.optionFonts=function(){var t=this,e=this.addOption("");e.classList.add("fontOption"),r.fonts.map((function(i){var n=new s.default(i,(function(){t._canvas._selectedObjects.map((function(t){t.changeFont(i)})),t._canvas.update(),t.showPrice()}),e);n.getElement().classList.add("fontOptionButton"),n.getElement().style.fontFamily=i}))},t.prototype.changeShadow=function(t){this._canvas._selectedObjects.map((function(e){e.changeShadow(t),e.dirty=!0})),this._canvas.update()},t.prototype.optionPrice=function(){var t=this,e=this.addOption(""),i=document.createElement("div");i.classList.add("priceDiv"),i.textContent="",e.appendChild(i),this._canvas._canvas.on("object:modified",(function(){t.showPrice()}))},t.prototype.showPrice=function(){var t=this._canvas.selectAll();t.ungroupOnCanvas();var e=0,i=0,n=Number.parseFloat((Math.round(100*(t.width+Number.EPSILON))/100).toString()),s=Number.parseFloat((Math.round(100*(t.height+Number.EPSILON))/100).toString());t.getObjects().map((function(t){t instanceof o.default&&(i+=t.getText().trim().replace(" ","").length)})),e=n*(0,r.getPriceTextSize)()+s*(0,r.getPriceTextSize)()+i*(0,r.getPriceElement)(),e=Math.floor(e);var c=document.querySelector(".priceDiv");e&&(c.textContent=(null==e?void 0:e.toString())+" ."),new a.default("  ",c)},t}();e.default=h},8011:function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(2777),s=function(t){function e(e,i,n){void 0===i&&(i=5);var r=t.call(this)||this;r._colorOfShadow=n;for(var s=0;s<i;s++)r.addWithUpdate(new o.fabric.Text(e,{fill:"white"}));return r.changeShadow(),r}return r(e,t),e.prototype.changeShadow=function(t){void 0===t&&(t=this._colorOfShadow),this.getObjects().map((function(e,i){e.shadow=new o.fabric.Shadow({color:t,blur:3*i,nonScaling:!0}),e.set({dirty:!0})})),this.dirty=!0},e.prototype.changeText=function(t){void 0===t&&(t=""),this.getObjects().map((function(e){e.set({text:t})})),this.addWithUpdate()},e.prototype.getText=function(){return this.getObjects()[0].text},e.prototype.changeFont=function(t){this.getObjects().map((function(e){e.set({fontFamily:t})})),this.set("dirty",!0),this.addWithUpdate()},e}(o.fabric.Group);e.default=s},7321:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(2223);var n=function(){function t(t,e,i){void 0===t&&(t=""),this._text=t,this._onClick=e,this._buttonDiv=document.createElement("button"),this._buttonDiv.classList.add("btn"),this._buttonDiv.textContent=t,this._buttonDiv.addEventListener("click",(function(){e()})),i.appendChild(this._buttonDiv)}return Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(t){this._text=t},enumerable:!1,configurable:!0}),t.prototype.getElement=function(){return this._buttonDiv},t}();e.default=n},6901:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(2797);var n=function(){function t(t,e){this._text=t,this._spanElement=document.createElement("span"),this._spanElement.classList.add("tooltipText"),this._spanElement.textContent=t,e.classList.add("tooltip"),this.onHoverShowHigher(e),e.appendChild(this._spanElement)}return Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(t){this._text=t},enumerable:!1,configurable:!0}),t.prototype.onHoverShowHigher=function(t,e,i){void 0===e&&(e="5"),void 0===i&&(i="1"),t.addEventListener("mouseover",(function(){t.style.zIndex=e})),t.addEventListener("mouseout",(function(){t.style.zIndex=i}))},t}();e.default=n},2915:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(2777),r=i(923);e.default=function(){var t="12px Arial";function e(t){return t.toFixed(2).toString().replace(".",",")+" "}n.fabric.Object.prototype.objectCaching=!1,n.fabric.Object.prototype.controls.h=new n.fabric.Control({x:-.5,cursorStyle:"pointer",render:function(i,n,o,s,a){i.font=t,i.fillStyle=r.colorScheme.blue;var c=e(a.getScaledWidth()),h=i.measureText(c).width,l=1.2*i.measureText("M").width,u=n+a.getScaledWidth()/2-h/2,f=o+a.getScaledHeight()/2+l+8;i.fillText(c,u,f)}}),n.fabric.Object.prototype.controls.w=new n.fabric.Control({y:-.5,cursorStyle:"pointer",render:function(i,n,o,s,a){i.font=t,i.fillStyle=r.colorScheme.blue;var c=e(a.getScaledHeight()),h=i.measureText(c).width,l=1.2*i.measureText("M").width,u=n-a.getScaledWidth()/2-8-l/2,f=o+a.getScaledHeight()/2+h/2;i.save(),i.rotate(-Math.PI/2),i.fillText(c,-f,u),i.restore()}}),n.fabric.Object.prototype.setControlsVisibility({mb:!1,ml:!1,mr:!1,mt:!1,mtr:!1}),n.fabric.Object.prototype.cornerColor=r.colorScheme.blue}},8484:function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(2777),o=n(i(8011)),s=i(923),a=n(i(2915)),c=function(){function t(t){var e=this,i="canvasFabric";this.makeCanvasDiv(t,i),this._canvas=new r.fabric.Canvas(i),this._canvas.setBackgroundColor("#101010",(function(){})),this._canvas.setDimensions({height:500,width:500}),this._canvas.on("selection:created",(function(){e._selectedObjects=e._canvas.getActiveObjects()})),this._canvas.on("selection:updated",(function(){e._selectedObjects=e._canvas.getActiveObjects()})),this._canvas.on("selection:cleared",(function(){e._selectedObjects=null})),this._canvas.on("rotating",(function(){e._selectedObjects.map((function(t){t.setCoords()}))})),(0,a.default)()}return t.prototype.makeCanvasDiv=function(t,e){var i=document.createElement("canvas");t.appendChild(i),i.id=e,this._canvasElement=i},t.prototype.resize=function(t,e){this._canvas.setWidth(t),this._canvas.setHeight(e),this.update()},t.prototype.getSize=function(){return{width:this._canvas.width,height:this._canvas.height}},t.prototype.getCenter=function(){return{x:this.getSize().width/2,y:this.getSize().height/2}},t.prototype.addToScene=function(t,e){var i;void 0===e&&(e=!0),(i=this._canvas).add.apply(i,t),e&&this.update()},t.prototype.addRect=function(t,e,i){void 0===i&&(i="blue");var n=new r.fabric.Rect({left:this.getCenter().x,top:this.getCenter().y,fill:"transparent",width:t,height:e,strokeWidth:1,stroke:i,strokeUniform:!0});return this.addToScene([n]),n},t.prototype.addText=function(t){var e=new o.default(t,8,"red");return e.changeFont(s.fonts[0]),this.alignObject(e),this.addToScene([e]),e.changeShadow("red"),e},t.prototype.alignObject=function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!0),i&&t.set("left",this._canvas.width/2-t.getScaledWidth()/2),e&&t.set("top",this._canvas.height/2-t.getScaledHeight()/2),this.update()},t.prototype.deleteLastActiveObject=function(){var t;this._selectedObjects&&(t=this._canvas).remove.apply(t,this._selectedObjects)},t.prototype.update=function(){this._canvas.renderAll()},t.prototype.selectAll=function(){return new r.fabric.ActiveSelection(this._canvas.getObjects(),{canvas:this._canvas})},t}();e.default=c},3607:function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),i(4915);var r=i(923),o=n(i(6562));window.addEventListener("load",(function(){s.initialize()}));var s=new o.default;s.loadFonts(r.fonts)},923:function(t,e){"use strict";var i=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))((function(r,o){function s(t){try{c(n.next(t))}catch(t){o(t)}}function a(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,a)}c((n=n.apply(t,e||[])).next())}))},n=this&&this.__generator||function(t,e){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(i=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){s.label=a[1];break}if(6===a[0]&&s.label<r[1]){s.label=r[1],r=a;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(a);break}r[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],n=0}finally{i=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.getData=e.getColors=e.getPriceTextSize=e.getPriceElement=e.prices=e.colorScheme=e.colors=e.fonts=e.baseFont=e.serverUrl=e.baseLocation=void 0,e.baseLocation=".neonWidget",e.serverUrl="https://neon-widget-back.onrender.com",e.baseFont="InterLight",e.fonts=["MADELikes","RosaMarena","Veles","PFHandbookPro","Nickainley","StudioScriptCTT","LDSlender","Helvetica","CitricaCyrillic","BloggerSans","Birch","AmericanRetro"],e.colors={:"rgb(255,0,0)",:"rgb(255,165,0)",:"rgb(255,0,255)",:"rgb(255,192,203)",:"rgb(255,235,0)",:"rgb(255,255,102)",:"rgb(128, 0, 128)",:"rgb(0,0,139)",:"rgb(173, 216, 230)",:"rgb(50,205,50)"," ":"rgb(253, 244, 220)"," ":"rgb(244, 253, 255)"},e.colorScheme={blue:"rgb(153, 204, 255)"},e.prices={price1mm:5,priceforElement:150},e.getPriceElement=function(){var t=JSON.parse(localStorage.getItem("data"));return t?t[0][1]:e.prices.priceforElement},e.getPriceTextSize=function(){var t=JSON.parse(localStorage.getItem("data"));return t?t[1][1]:e.prices.price1mm},e.getColors=function(){var t={},i=JSON.parse(localStorage.getItem("data"));return i?(i[2].map((function(e,n){0!=n&&(t[i[2][n]]="rgb("+i[3][n]+")")})),t):e.colors},e.getData=function(){return i(void 0,void 0,void 0,(function(){var t;return n(this,(function(i){switch(i.label){case 0:return[4,fetch(e.serverUrl+"/data",{method:"GET",mode:"cors"})];case 1:return[4,i.sent().json()];case 2:return t=i.sent(),console.log(t),localStorage.setItem("data",JSON.stringify(t)),[2]}}))}))}},9340:(t,e,i)=>{"use strict";t.exports=i.p+"9b76ffd136ef561a9ba9.ttf"},8279:(t,e,i)=>{"use strict";t.exports=i.p+"3fab4e205119c954ee96.ttf"},3965:(t,e,i)=>{"use strict";t.exports=i.p+"572c0acba764f5f13d40.ttf"},8661:(t,e,i)=>{"use strict";t.exports=i.p+"a52a374b66c2d88f41d7.ttf"},9123:(t,e,i)=>{"use strict";t.exports=i.p+"3419ab1294875875d041.ttf"},8631:(t,e,i)=>{"use strict";t.exports=i.p+"eec8664621fec98efb37.ttf"},4297:(t,e,i)=>{"use strict";t.exports=i.p+"a61b6e58a23d4b65067f.ttf"},1345:(t,e,i)=>{"use strict";t.exports=i.p+"f5aeaca99a439752a2cc.ttf"},8694:(t,e,i)=>{"use strict";t.exports=i.p+"1a64aaf9c7b4f433f246.ttf"},2563:(t,e,i)=>{"use strict";t.exports=i.p+"6d62c3e81b300718222b.ttf"},3243:(t,e,i)=>{"use strict";t.exports=i.p+"2f24d94ab2730a38826f.ttf"},1400:(t,e,i)=>{"use strict";t.exports=i.p+"03a5038b58f74439f684.ttf"},6924:(t,e,i)=>{"use strict";t.exports=i.p+"1b4aab578e03b96061df.ttf"},4960:()=>{},6759:()=>{},6272:()=>{}},e={};function i(n){var r=e[n];if(void 0!==r)return r.exports;var o=e[n]={id:n,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.exports}i.m=t,i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;i.g.importScripts&&(t=i.g.location+"");var e=i.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&!t;)t=n[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=t})(),i.b=document.baseURI||self.location.href,i.nc=void 0,i(3607)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUN0QkMsV0FBc0IsVUFDdEJDLFVBQXNCLFVBQ3RCQyxZQUFzQixVQUN0QkMsWUFBc0IsVUFDdEJDLFFBQXNCLFVBQ3RCQyxVQUFzQixVQUN0QkMsV0FBc0IsVUFDdEJDLEtBQXNCLFVBQ3RCQyxVQUFzQixVQUN0QkMsS0FBc0IsVUFDdEJDLEtBQXNCLFVBQ3RCQyxNQUFzQixVQUN0QkMsWUFBc0IsVUFDdEJDLFNBQXNCLFVBQ3RCQyxRQUFzQixVQUN0QkMsVUFBc0IsVUFDdEJDLE9BQXNCLFVBQ3RCQyxNQUFzQixVQUN0QkMsTUFBc0IsVUFDdEJDLFNBQXNCLFVBQ3RCQyxjQUFzQixVQUN0QkMsVUFBc0IsVUFDdEJDLGFBQXNCLFVBQ3RCQyxVQUFzQixVQUN0QkMsV0FBc0IsVUFDdEJDLFVBQXNCLFVBQ3RCQyxxQkFBc0IsVUFDdEJDLFVBQXNCLFVBQ3RCQyxVQUFzQixVQUN0QkMsV0FBc0IsVUFDdEJDLFVBQXNCLFVBQ3RCQyxZQUFzQixVQUN0QkMsY0FBc0IsVUFDdEJDLGFBQXNCLFVBQ3RCQyxlQUFzQixVQUN0QkMsZUFBc0IsVUFDdEJDLGVBQXNCLFVBQ3RCQyxZQUFzQixVQUN0QkMsS0FBc0IsVUFDdEJDLFVBQXNCLFVBQ3RCQyxNQUFzQixVQUN0QkMsUUFBc0IsVUFDdEJDLE9BQXNCLFVBQ3RCQyxpQkFBc0IsVUFDdEJDLFdBQXNCLFVBQ3RCQyxhQUFzQixVQUN0QkMsYUFBc0IsVUFDdEJDLGVBQXNCLFVBQ3RCQyxnQkFBc0IsVUFDdEJDLGtCQUFzQixVQUN0QkMsZ0JBQXNCLFVBQ3RCQyxnQkFBc0IsVUFDdEJDLGFBQXNCLFVBQ3RCQyxVQUFzQixVQUN0QkMsVUFBc0IsVUFDdEJDLFNBQXNCLFVBQ3RCQyxZQUFzQixVQUN0QkMsS0FBc0IsVUFDdEJDLFFBQXNCLFVBQ3RCQyxNQUFzQixVQUN0QkMsVUFBc0IsVUFDdEJDLE9BQXNCLFVBQ3RCQyxVQUFzQixVQUN0QkMsT0FBc0IsVUFDdEJDLGNBQXNCLFVBQ3RCQyxVQUFzQixVQUN0QkMsY0FBc0IsVUFDdEJDLGNBQXNCLFVBQ3RCQyxXQUFz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LENBQUNNLEVBQUs1QixJQUFVZ0wsT0FBT3dILFVBQVVnTCxlQUFlM2QsS0FBSytCLEVBQUs1QixHQ0NsRnF3RyxFQUFvQnhvRyxFQUFLeFMsSUFDSCxvQkFBWDA3RyxRQUEwQkEsT0FBT0MsYUFDMUNobUcsT0FBTzJsRyxlQUFldDdHLEVBQVMwN0csT0FBT0MsWUFBYSxDQUFFanhHLE1BQU8sV0FFN0RpTCxPQUFPMmxHLGVBQWV0N0csRUFBUyxhQUFjLENBQUUwSyxPQUFPLEdBQU8sUUNMOUQsSUFBSWt4RyxFQUNBWixFQUFvQngxRSxFQUFFcTJFLGdCQUFlRCxFQUFZWixFQUFvQngxRSxFQUFFczJFLFNBQVcsSUFDdEYsSUFBSTczRyxFQUFXKzJHLEVBQW9CeDFFLEVBQUV2aEMsU0FDckMsSUFBSzIzRyxHQUFhMzNHLElBQ2JBLEVBQVM4M0csZ0JBQ1pILEVBQVkzM0csRUFBUzgzRyxjQUFjem5HLE1BQy9Cc25HLEdBQVcsQ0FDZixJQUFJSSxFQUFVLzNHLEVBQVN3MEIscUJBQXFCLFVBQzVDLEdBQUd1akYsRUFBUXQ3RyxPQUVWLElBREEsSUFBSUUsRUFBSW83RyxFQUFRdDdHLE9BQVMsRUFDbEJFLEdBQUssSUFBTWc3RyxHQUFXQSxFQUFZSSxFQUFRcDdHLEtBQUswVCxHQUV4RCxDQUlELElBQUtzbkcsRUFBVyxNQUFNLElBQUlwOEQsTUFBTSx5REFDaENvOEQsRUFBWUEsRUFBVTc1RyxRQUFRLE9BQVEsSUFBSUEsUUFBUSxRQUFTLElBQUlBLFFBQVEsWUFBYSxLQUNwRmk1RyxFQUFvQjVwRyxFQUFJd3FHLE1DbEJ4QlosRUFBb0J0ckcsRUFBSXpMLFNBQVNnNEcsU0FBVzVoRCxLQUFLeWhELFNBQVMzRixLQ0ExRDZFLEVBQW9Ca0IsUUFBS2g3RyxFQ0dDODVHLEVBQW9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmVvbndpZGdldC8uL3NyYy9jb21wb25lbnRzL0Jhci9iYXIuY3NzIiwid2VicGFjazovL25lb253aWRnZXQvLi9zcmMvY29tcG9uZW50cy9PYmplY3RQcm9wZXJ0aWVzL0NvbG9yQnV0dG9ucy9jb2xvclBpY2tCdXR0b24uY3NzIiwid2VicGFjazovL25lb253aWRnZXQvLi9zcmMvY29tcG9uZW50cy9PYmplY3RQcm9wZXJ0aWVzL29iamVjdFByb3BlcnRpZXMuY3NzIiwid2VicGFjazovL25lb253aWRnZXQvLi9zcmMvY29tcG9uZW50cy9VSS9CdXR0b24vYnV0dG9uLmNzcyIsIndlYnBhY2s6Ly9uZW9ud2lkZ2V0Ly4vc3JjL2NvbXBvbmVudHMvVUkvVG9vbHRpcC90b29sdGlwLmNzcyIsIndlYnBhY2s6Ly9uZW9ud2lkZ2V0Ly4vc3JjL3N0eWxlcy9zdHlsZS5jc3MiLCJ3ZWJwYWNrOi8vbmVvbndpZGdldC8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vbmVvbndpZGdldC8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9nZXRVcmwuanMiLCJ3ZWJwYWNrOi8vbmVvbndpZGdldC8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzIiwid2VicGFjazovL25lb253aWRnZXQvLi9ub2RlX21vZHVsZXMvZmFicmljL2Rpc3QvZmFicmljLmpzIiwid2VicGFjazovL25lb253aWRnZXQvLi9zcmMvY29tcG9uZW50cy9CYXIvYmFyLmNzcz9hNjg5Iiwid2VicGFjazovL25lb253aWRnZXQvLi9zcmMvY29tcG9uZW50cy9PYmplY3RQcm9wZXJ0aWVzL0NvbG9yQnV0dG9ucy9jb2xvclBpY2tCdXR0b24uY3NzPzM3YTQiLCJ3ZWJwYWNrOi8vbmVvbndpZGdldC8uL3NyYy9jb21wb25lbnRzL09iamVjdFByb3BlcnRpZXMvb2JqZWN0UHJvcGVydGllcy5jc3M/YjRhNSIsIndlYnBhY2s6Ly9uZW9ud2lkZ2V0Ly4vc3JjL2NvbXBvbmVudHMvVUkvQnV0dG9uL2J1dHRvbi5jc3M/MDU3YiIsIndlYnBhY2s6Ly9uZW9ud2lkZ2V0Ly4vc3JjL2NvbXBvbmVudHMvVUkvVG9vbHRpcC90b29sdGlwLmNzcz82YzA1Iiwid2VicGFjazovL25lb253aWRnZXQvLi9zcmMvc3R5bGVzL3N0eWxlLmNzcz9mZjk0Iiwid2VicGFjazovL25lb253aWRnZXQvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vbmVvbndpZGdldC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanMiLCJ3ZWJwYWNrOi8vbmVvbndpZGdldC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qcyIsIndlYnBhY2s6Ly9uZW9ud2lkZ2V0Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzIiwid2VicGFjazovL25lb253aWRnZXQvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qcyIsIndlYnBhY2s6Ly9uZW9ud2lkZ2V0Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanMiLCJ3ZWJwYWNrOi8vbmVvbndpZGdldC8uL3NyYy9pY29ucy9jZW50ZXItaG9yaXpvbnRhbC5zdmciLCJ3ZWJwYWNrOi8vbmVvbndpZGdldC8uL3NyYy9pY29ucy9jZW50ZXItdmVydGljYWwuc3ZnIiwid2VicGFjazovL25lb253aWRnZXQvLi9zcmMvaWNvbnMvZG93bmxvYWQuc3ZnIiwid2VicGFjazovL25lb253aWRnZXQvLi9zcmMvaWNvbnMvdGV4dC5zdmciLCJ3ZWJwYWNrOi8vbmVvbndpZGdldC8uL3NyYy9pY29ucy90cmFzaC5zdmciLCJ3ZWJwYWNrOi8vbmVvbndpZGdldC8uL3NyYy9XaWRnZXQudHMiLCJ3ZWJwYWNrOi8vbmVvbndpZGdldC8uL3NyYy9jb21wb25lbnRzL0Jhci9CYXIudHMiLCJ3ZWJwYWNrOi8vbmVvbndpZGdldC8uL3NyYy9jb21wb25lbnRzL0Jhci9Eb3dubG9kZXIudHMiLCJ3ZWJwYWNrOi8vbmVvbndpZGdldC8uL3NyYy9jb21wb25lbnRzL0xvYWRlci50cyIsIndlYnBhY2s6Ly9uZW9ud2lkZ2V0Ly4vc3JjL2NvbXBvbmVudHMvT2JqZWN0UHJvcGVydGllcy9Db2xvckJ1dHRvbnMvQ29sb3JQaWNrQnV0dG9ucy50cyIsIndlYnBhY2s6Ly9uZW9ud2lkZ2V0Ly4vc3JjL2NvbXBvbmVudHMvT2JqZWN0UHJvcGVydGllcy9PYmplY3RQcm9wZXJ0aWVzLnRzIiwid2VicGFjazovL25lb253aWRnZXQvLi9zcmMvY29tcG9uZW50cy9TaGFkb3dUZXh0LnRzIiwid2VicGFjazovL25lb253aWRnZXQvLi9zcmMvY29tcG9uZW50cy9VSS9CdXR0b24vQnV0dG9uLnRzIiwid2VicGFjazovL25lb253aWRnZXQvLi9zcmMvY29tcG9uZW50cy9VSS9Ub29sdGlwL1Rvb2x0aXAudHMiLCJ3ZWJwYWNrOi8vbmVvbndpZGdldC8uL3NyYy9jb21wb25lbnRzL1dpZGdldENhbnZhcy9PYmplY3RDb250cm9scy50cyIsIndlYnBhY2s6Ly9uZW9ud2lkZ2V0Ly4vc3JjL2NvbXBvbmVudHMvV2lkZ2V0Q2FudmFzL1dpZGdldENhbnZhcy50cyIsIndlYnBhY2s6Ly9uZW9ud2lkZ2V0Ly4vc3JjL2luZGV4LnRzIiwid2VicGFjazovL25lb253aWRnZXQvLi9zcmMvcmVzb3VyY2VzL2NvbnN0YW50cy50cyIsIndlYnBhY2s6Ly9uZW9ud2lkZ2V0L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL25lb253aWRnZXQvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vbmVvbndpZGdldC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vbmVvbndpZGdldC93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL25lb253aWRnZXQvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9uZW9ud2lkZ2V0L3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vbmVvbndpZGdldC93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9uZW9ud2lkZ2V0L3dlYnBhY2svcnVudGltZS9qc29ucCBjaHVuayBsb2FkaW5nIiwid2VicGFjazovL25lb253aWRnZXQvd2VicGFjay9ydW50aW1lL25vbmNlIiwid2VicGFjazovL25lb253aWRnZXQvd2VicGFjay9zdGFydHVwIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIGAuYmFye1xyXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgIGZsZXgtd3JhcDogd3JhcDtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIG1heC13aWR0aDogNTAwcHg7XHJcbiAgICBtYXJnaW46IDFlbSBhdXRvO1xyXG59YCwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvY29tcG9uZW50cy9CYXIvYmFyLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtJQUNJLG1CQUFtQjtJQUNuQixlQUFlO0lBQ2YsYUFBYTtJQUNiLDZCQUE2QjtJQUM3QixtQkFBbUI7SUFDbkIsV0FBVztJQUNYLGdCQUFnQjtJQUNoQixnQkFBZ0I7QUFDcEJcIixcInNvdXJjZXNDb250ZW50XCI6W1wiLmJhcntcXHJcXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcXHJcXG4gICAgZmxleC13cmFwOiB3cmFwO1xcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcXHJcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXHJcXG4gICAgd2lkdGg6IDEwMCU7XFxyXFxuICAgIG1heC13aWR0aDogNTAwcHg7XFxyXFxuICAgIG1hcmdpbjogMWVtIGF1dG87XFxyXFxufVwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBgLmNvbG9yUGlja0J1dHRvbnN7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgIGZsZXgtd3JhcDogd3JhcDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgbWFyZ2luOiAwIGF1dG87XHJcbiAgICBnYXA6IDEwcHg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxufVxyXG5cclxuLmNvbG9yQnV0dG9ue1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMnB4O1xyXG4gICAgZmlsdGVyOiBicmlnaHRuZXNzKDgwJSk7XHJcbiAgICBmbGV4LWJhc2lzOiAyMCU7XHJcbiAgICBtYXJnaW46IDA7XHJcbn1cclxuLmNvbG9yQnV0dG9uOmhvdmVye1xyXG4gICAgZmlsdGVyOiBicmlnaHRuZXNzKDEwMCUpO1xyXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoMCUsIC01JSk7XHJcbn1cclxuLmNvbG9yQnV0dG9uOmFjdGl2ZXtcclxuICAgIGZpbHRlcjogYnJpZ2h0bmVzcyg2MCUpO1xyXG59XHJcbmAsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL2NvbXBvbmVudHMvT2JqZWN0UHJvcGVydGllcy9Db2xvckJ1dHRvbnMvY29sb3JQaWNrQnV0dG9uLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtJQUNJLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsZUFBZTtJQUNmLFdBQVc7SUFDWCxjQUFjO0lBQ2QsU0FBUztJQUNULHVCQUF1QjtBQUMzQjs7QUFFQTtJQUNJLFlBQVk7SUFDWixrQkFBa0I7SUFDbEIsdUJBQXVCO0lBQ3ZCLGVBQWU7SUFDZixTQUFTO0FBQ2I7QUFDQTtJQUNJLHdCQUF3QjtJQUN4Qiw2QkFBNkI7QUFDakM7QUFDQTtJQUNJLHVCQUF1QjtBQUMzQlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCIuY29sb3JQaWNrQnV0dG9uc3tcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcXHJcXG4gICAgZmxleC13cmFwOiB3cmFwO1xcclxcbiAgICB3aWR0aDogMTAwJTtcXHJcXG4gICAgbWFyZ2luOiAwIGF1dG87XFxyXFxuICAgIGdhcDogMTBweDtcXHJcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxyXFxufVxcclxcblxcclxcbi5jb2xvckJ1dHRvbntcXHJcXG4gICAgYm9yZGVyOiBub25lO1xcclxcbiAgICBib3JkZXItcmFkaXVzOiAycHg7XFxyXFxuICAgIGZpbHRlcjogYnJpZ2h0bmVzcyg4MCUpO1xcclxcbiAgICBmbGV4LWJhc2lzOiAyMCU7XFxyXFxuICAgIG1hcmdpbjogMDtcXHJcXG59XFxyXFxuLmNvbG9yQnV0dG9uOmhvdmVye1xcclxcbiAgICBmaWx0ZXI6IGJyaWdodG5lc3MoMTAwJSk7XFxyXFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKDAlLCAtNSUpO1xcclxcbn1cXHJcXG4uY29sb3JCdXR0b246YWN0aXZle1xcclxcbiAgICBmaWx0ZXI6IGJyaWdodG5lc3MoNjAlKTtcXHJcXG59XFxyXFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIGAub2JqZWN0UHJvcGVydGllcyB7XHJcblx0bWFyZ2luOiAwIGF1dG87XHJcbn1cclxuLm9wdGlvbiB7XHJcblx0ZGlzcGxheTogZmxleDtcclxuXHRmbGV4LWRpcmVjdGlvbjogcm93O1xyXG5cdGZsZXgtd3JhcDogd3JhcDtcclxuXHRhbGlnbi1pdGVtczogY2VudGVyO1xyXG5cdGp1c3RpZnktY29udGVudDogc3BhY2UtZXZlbmx5O1xyXG5cdG1heC13aWR0aDogNTAwcHg7XHJcblx0bWFyZ2luOiAwIGF1dG87XHJcblx0cGFkZGluZzogMC41ZW07XHJcblx0cGFkZGluZy10b3A6IDA7XHJcbn1cclxuLnN1Yk9wdGlvbiB7XHJcblx0ZGlzcGxheTogZmxleDtcclxuXHRmbGV4LWRpcmVjdGlvbjogcm93O1xyXG5cdGZsZXgtd3JhcDogd3JhcDtcclxuXHRnYXA6IDVweDtcclxuXHRhbGlnbi1pdGVtczogY2VudGVyO1xyXG5cdGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xyXG5cdHdpZHRoOiAxMDAlO1xyXG59XHJcbi5sYWJlbCB7XHJcblx0Y29sb3I6IHdoaXRlO1xyXG5cdGJhY2tncm91bmQtY29sb3I6ICMxMDEwMTA7XHJcblx0bWluLWhlaWdodDogNGVtO1xyXG5cdG1heC13aWR0aDogNTAwcHg7XHJcblx0bWFyZ2luOiAwIGF1dG87XHJcblx0b3BhY2l0eTogMTtcclxuXHR0cmFuc2l0aW9uOiAwLjRzIGFsbDtcclxufVxyXG4ubGFiZWxUZXh0IHtcclxuXHRtYXJnaW46IDA7XHJcblx0cGFkZGluZzogMTBweDtcclxuXHRtYXJnaW4tbGVmdDogNXB4O1xyXG59XHJcbi5oaWRkZW4ge1xyXG5cdHZpc2liaWxpdHk6IGhpZGRlbjtcclxuXHRvcGFjaXR5OiAwO1xyXG5cdHRyYW5zaXRpb246IDAuNHMgYWxsO1xyXG59XHJcblxyXG4udGV4dGFyZWEge1xyXG5cdGJhY2tncm91bmQtY29sb3I6ICMxMDEwMTA7XHJcblx0Y29sb3I6IHdoaXRlO1xyXG5cdGJvcmRlci1yYWRpdXM6IDJweDtcclxuXHRwYWRkaW5nOiAxMHB4O1xyXG5cdHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XHJcblx0dGV4dC1hbGlnbjogY2VudGVyO1xyXG5cdHdpZHRoOiAxMDAlO1xyXG5cdG1hcmdpbjogMCAxZW07XHJcblx0cmVzaXplOiB2ZXJ0aWNhbDtcclxuXHRoZWlnaHQ6IGF1dG87XHJcblx0bWluLWhlaWdodDogMjBweDtcclxuXHRmb250LXNpemU6IDIwcHg7XHJcbn1cclxuLnRleHRhcmVhOmZvY3VzIHtcclxuXHRvdXRsaW5lOiBub25lO1xyXG5cdGJvcmRlcjogMXB4IHdoaXRlIHNvbGlkO1xyXG59XHJcblxyXG4uZm9udE9wdGlvbiB7XHJcblx0ZGlzcGxheTogZmxleDtcclxuXHRmbGV4LWRpcmVjdGlvbjogcm93O1xyXG5cdGZsZXgtd3JhcDogd3JhcDtcclxuXHRqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuXHRhbGlnbi1pdGVtczogY2VudGVyO1xyXG59XHJcblxyXG4uZm9udE9wdGlvbkJ1dHRvbiB7XHJcblx0ZmxleDogMjUlO1xyXG5cdGhlaWdodDogMi40ZW07XHJcblx0cGFkZGluZzogMC41ZW07XHJcblx0ZmlsdGVyOiBicmlnaHRuZXNzKDgwJSk7XHJcbn1cclxuLmZvbnRPcHRpb25CdXR0b246aG92ZXIge1xyXG5cdGZpbHRlcjogYnJpZ2h0bmVzcygxMjAlKTtcclxufVxyXG5cclxuLnByaWNlRGl2IHtcclxuXHRmb250LXNpemU6IDI0cHg7XHJcblx0dGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcbmAsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL2NvbXBvbmVudHMvT2JqZWN0UHJvcGVydGllcy9vYmplY3RQcm9wZXJ0aWVzLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtDQUNDLGNBQWM7QUFDZjtBQUNBO0NBQ0MsYUFBYTtDQUNiLG1CQUFtQjtDQUNuQixlQUFlO0NBQ2YsbUJBQW1CO0NBQ25CLDZCQUE2QjtDQUM3QixnQkFBZ0I7Q0FDaEIsY0FBYztDQUNkLGNBQWM7Q0FDZCxjQUFjO0FBQ2Y7QUFDQTtDQUNDLGFBQWE7Q0FDYixtQkFBbUI7Q0FDbkIsZUFBZTtDQUNmLFFBQVE7Q0FDUixtQkFBbUI7Q0FDbkIsNkJBQTZCO0NBQzdCLFdBQVc7QUFDWjtBQUNBO0NBQ0MsWUFBWTtDQUNaLHlCQUF5QjtDQUN6QixlQUFlO0NBQ2YsZ0JBQWdCO0NBQ2hCLGNBQWM7Q0FDZCxVQUFVO0NBQ1Ysb0JBQW9CO0FBQ3JCO0FBQ0E7Q0FDQyxTQUFTO0NBQ1QsYUFBYTtDQUNiLGdCQUFnQjtBQUNqQjtBQUNBO0NBQ0Msa0JBQWtCO0NBQ2xCLFVBQVU7Q0FDVixvQkFBb0I7QUFDckI7O0FBRUE7Q0FDQyx5QkFBeUI7Q0FDekIsWUFBWTtDQUNaLGtCQUFrQjtDQUNsQixhQUFhO0NBQ2Isc0JBQXNCO0NBQ3RCLGtCQUFrQjtDQUNsQixXQUFXO0NBQ1gsYUFBYTtDQUNiLGdCQUFnQjtDQUNoQixZQUFZO0NBQ1osZ0JBQWdCO0NBQ2hCLGVBQWU7QUFDaEI7QUFDQTtDQUNDLGFBQWE7Q0FDYix1QkFBdUI7QUFDeEI7O0FBRUE7Q0FDQyxhQUFhO0NBQ2IsbUJBQW1CO0NBQ25CLGVBQWU7Q0FDZix1QkFBdUI7Q0FDdkIsbUJBQW1CO0FBQ3BCOztBQUVBO0NBQ0MsU0FBUztDQUNULGFBQWE7Q0FDYixjQUFjO0NBQ2QsdUJBQXVCO0FBQ3hCO0FBQ0E7Q0FDQyx3QkFBd0I7QUFDekI7O0FBRUE7Q0FDQyxlQUFlO0NBQ2Ysa0JBQWtCO0FBQ25CXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIi5vYmplY3RQcm9wZXJ0aWVzIHtcXHJcXG5cXHRtYXJnaW46IDAgYXV0bztcXHJcXG59XFxyXFxuLm9wdGlvbiB7XFxyXFxuXFx0ZGlzcGxheTogZmxleDtcXHJcXG5cXHRmbGV4LWRpcmVjdGlvbjogcm93O1xcclxcblxcdGZsZXgtd3JhcDogd3JhcDtcXHJcXG5cXHRhbGlnbi1pdGVtczogY2VudGVyO1xcclxcblxcdGp1c3RpZnktY29udGVudDogc3BhY2UtZXZlbmx5O1xcclxcblxcdG1heC13aWR0aDogNTAwcHg7XFxyXFxuXFx0bWFyZ2luOiAwIGF1dG87XFxyXFxuXFx0cGFkZGluZzogMC41ZW07XFxyXFxuXFx0cGFkZGluZy10b3A6IDA7XFxyXFxufVxcclxcbi5zdWJPcHRpb24ge1xcclxcblxcdGRpc3BsYXk6IGZsZXg7XFxyXFxuXFx0ZmxleC1kaXJlY3Rpb246IHJvdztcXHJcXG5cXHRmbGV4LXdyYXA6IHdyYXA7XFxyXFxuXFx0Z2FwOiA1cHg7XFxyXFxuXFx0YWxpZ24taXRlbXM6IGNlbnRlcjtcXHJcXG5cXHRqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcXHJcXG5cXHR3aWR0aDogMTAwJTtcXHJcXG59XFxyXFxuLmxhYmVsIHtcXHJcXG5cXHRjb2xvcjogd2hpdGU7XFxyXFxuXFx0YmFja2dyb3VuZC1jb2xvcjogIzEwMTAxMDtcXHJcXG5cXHRtaW4taGVpZ2h0OiA0ZW07XFxyXFxuXFx0bWF4LXdpZHRoOiA1MDBweDtcXHJcXG5cXHRtYXJnaW46IDAgYXV0bztcXHJcXG5cXHRvcGFjaXR5OiAxO1xcclxcblxcdHRyYW5zaXRpb246IDAuNHMgYWxsO1xcclxcbn1cXHJcXG4ubGFiZWxUZXh0IHtcXHJcXG5cXHRtYXJnaW46IDA7XFxyXFxuXFx0cGFkZGluZzogMTBweDtcXHJcXG5cXHRtYXJnaW4tbGVmdDogNXB4O1xcclxcbn1cXHJcXG4uaGlkZGVuIHtcXHJcXG5cXHR2aXNpYmlsaXR5OiBoaWRkZW47XFxyXFxuXFx0b3BhY2l0eTogMDtcXHJcXG5cXHR0cmFuc2l0aW9uOiAwLjRzIGFsbDtcXHJcXG59XFxyXFxuXFxyXFxuLnRleHRhcmVhIHtcXHJcXG5cXHRiYWNrZ3JvdW5kLWNvbG9yOiAjMTAxMDEwO1xcclxcblxcdGNvbG9yOiB3aGl0ZTtcXHJcXG5cXHRib3JkZXItcmFkaXVzOiAycHg7XFxyXFxuXFx0cGFkZGluZzogMTBweDtcXHJcXG5cXHR2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcclxcblxcdHRleHQtYWxpZ246IGNlbnRlcjtcXHJcXG5cXHR3aWR0aDogMTAwJTtcXHJcXG5cXHRtYXJnaW46IDAgMWVtO1xcclxcblxcdHJlc2l6ZTogdmVydGljYWw7XFxyXFxuXFx0aGVpZ2h0OiBhdXRvO1xcclxcblxcdG1pbi1oZWlnaHQ6IDIwcHg7XFxyXFxuXFx0Zm9udC1zaXplOiAyMHB4O1xcclxcbn1cXHJcXG4udGV4dGFyZWE6Zm9jdXMge1xcclxcblxcdG91dGxpbmU6IG5vbmU7XFxyXFxuXFx0Ym9yZGVyOiAxcHggd2hpdGUgc29saWQ7XFxyXFxufVxcclxcblxcclxcbi5mb250T3B0aW9uIHtcXHJcXG5cXHRkaXNwbGF5OiBmbGV4O1xcclxcblxcdGZsZXgtZGlyZWN0aW9uOiByb3c7XFxyXFxuXFx0ZmxleC13cmFwOiB3cmFwO1xcclxcblxcdGp1c3RpZnktY29udGVudDogY2VudGVyO1xcclxcblxcdGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxyXFxufVxcclxcblxcclxcbi5mb250T3B0aW9uQnV0dG9uIHtcXHJcXG5cXHRmbGV4OiAyNSU7XFxyXFxuXFx0aGVpZ2h0OiAyLjRlbTtcXHJcXG5cXHRwYWRkaW5nOiAwLjVlbTtcXHJcXG5cXHRmaWx0ZXI6IGJyaWdodG5lc3MoODAlKTtcXHJcXG59XFxyXFxuLmZvbnRPcHRpb25CdXR0b246aG92ZXIge1xcclxcblxcdGZpbHRlcjogYnJpZ2h0bmVzcygxMjAlKTtcXHJcXG59XFxyXFxuXFxyXFxuLnByaWNlRGl2IHtcXHJcXG5cXHRmb250LXNpemU6IDI0cHg7XFxyXFxuXFx0dGV4dC1hbGlnbjogY2VudGVyO1xcclxcbn1cXHJcXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgYC5idG57XHJcbiAgICBib3JkZXI6IDJweCBzb2xpZCByZ2IoMjQ0LCA2NywgNTQpO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDMsIDMsIDMpIDtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIHBhZGRpbmc6IDNweDtcclxuICAgIG1hcmdpbjogNXB4O1xyXG4gICAgbWluLXdpZHRoOiAzMHB4O1xyXG4gICAgbWluLWhlaWdodDogMzBweDtcclxuICAgIGZpbGw6IHdoaXRlO1xyXG59XHJcbi5idG46YWN0aXZle1xyXG4gICAgYm9yZGVyLXdpZHRoOiAzcHg7XHJcbn1cclxuLmJ0bjpob3ZlcntcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxufWAsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL2NvbXBvbmVudHMvVUkvQnV0dG9uL2J1dHRvbi5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7SUFDSSxrQ0FBa0M7SUFDbEMsK0JBQStCO0lBQy9CLFlBQVk7SUFDWixZQUFZO0lBQ1osV0FBVztJQUNYLGVBQWU7SUFDZixnQkFBZ0I7SUFDaEIsV0FBVztBQUNmO0FBQ0E7SUFDSSxpQkFBaUI7QUFDckI7QUFDQTtJQUNJLGVBQWU7QUFDbkJcIixcInNvdXJjZXNDb250ZW50XCI6W1wiLmJ0bntcXHJcXG4gICAgYm9yZGVyOiAycHggc29saWQgcmdiKDI0NCwgNjcsIDU0KTtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDMsIDMsIDMpIDtcXHJcXG4gICAgY29sb3I6IHdoaXRlO1xcclxcbiAgICBwYWRkaW5nOiAzcHg7XFxyXFxuICAgIG1hcmdpbjogNXB4O1xcclxcbiAgICBtaW4td2lkdGg6IDMwcHg7XFxyXFxuICAgIG1pbi1oZWlnaHQ6IDMwcHg7XFxyXFxuICAgIGZpbGw6IHdoaXRlO1xcclxcbn1cXHJcXG4uYnRuOmFjdGl2ZXtcXHJcXG4gICAgYm9yZGVyLXdpZHRoOiAzcHg7XFxyXFxufVxcclxcbi5idG46aG92ZXJ7XFxyXFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXHJcXG59XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIGAudG9vbHRpcCB7XHJcblx0cG9zaXRpb246IHJlbGF0aXZlO1xyXG59XHJcbi50b29sdGlwVGV4dCB7XHJcblx0d2lkdGg6IG1heC1jb250ZW50O1xyXG5cdGJhY2tncm91bmQtY29sb3I6IGJsYWNrO1xyXG5cdGNvbG9yOiAjZmZmO1xyXG5cdHRleHQtYWxpZ246IGNlbnRlcjtcclxuXHRwYWRkaW5nOiA2cHggMTBweDtcclxuXHRib3JkZXItcmFkaXVzOiAycHg7XHJcblx0cG9zaXRpb246IGFic29sdXRlO1xyXG5cdHZpc2liaWxpdHk6IGhpZGRlbjtcclxuXHRvcGFjaXR5OiAwO1xyXG5cdHRyYW5zaXRpb246IGFsbCAwLjFzO1xyXG5cdHRvcDogMTAwJTtcclxuXHRsZWZ0OiA1MCU7XHJcblx0dHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgMTBweCk7XHJcblx0Ym9yZGVyOiAxcHggc29saWQgcmdiKDI0NCwgNjcsIDU0KTtcclxuXHRwb2ludGVyLWV2ZW50czogbm9uZTtcclxuXHJcblx0Zm9udC1zaXplOiAxNnB4O1xyXG59XHJcbi50b29sdGlwVGV4dDo6YWZ0ZXIge1xyXG5cdGNvbnRlbnQ6IFwiXCI7XHJcblx0cG9zaXRpb246IGFic29sdXRlO1xyXG5cdGJvdHRvbTogMTAwJTtcclxuXHRsZWZ0OiA1MCU7XHJcblx0bWFyZ2luLWxlZnQ6IC01cHg7XHJcblx0Ym9yZGVyLXdpZHRoOiA1cHg7XHJcblx0Ym9yZGVyLXN0eWxlOiBzb2xpZDtcclxuXHRib3JkZXItY29sb3I6IHRyYW5zcGFyZW50IHRyYW5zcGFyZW50IHJnYigyNDQsIDY3LCA1NCkgdHJhbnNwYXJlbnQ7XHJcbn1cclxuXHJcbi50b29sdGlwOmhvdmVyIC50b29sdGlwVGV4dCB7XHJcblx0dmlzaWJpbGl0eTogdmlzaWJsZTtcclxuXHRvcGFjaXR5OiAxO1xyXG5cdHRyYW5zaXRpb246IGFsbCAwLjFzO1xyXG59XHJcbmAsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL2NvbXBvbmVudHMvVUkvVG9vbHRpcC90b29sdGlwLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtDQUNDLGtCQUFrQjtBQUNuQjtBQUNBO0NBQ0Msa0JBQWtCO0NBQ2xCLHVCQUF1QjtDQUN2QixXQUFXO0NBQ1gsa0JBQWtCO0NBQ2xCLGlCQUFpQjtDQUNqQixrQkFBa0I7Q0FDbEIsa0JBQWtCO0NBQ2xCLGtCQUFrQjtDQUNsQixVQUFVO0NBQ1Ysb0JBQW9CO0NBQ3BCLFNBQVM7Q0FDVCxTQUFTO0NBQ1QsZ0NBQWdDO0NBQ2hDLGtDQUFrQztDQUNsQyxvQkFBb0I7O0NBRXBCLGVBQWU7QUFDaEI7QUFDQTtDQUNDLFdBQVc7Q0FDWCxrQkFBa0I7Q0FDbEIsWUFBWTtDQUNaLFNBQVM7Q0FDVCxpQkFBaUI7Q0FDakIsaUJBQWlCO0NBQ2pCLG1CQUFtQjtDQUNuQixrRUFBa0U7QUFDbkU7O0FBRUE7Q0FDQyxtQkFBbUI7Q0FDbkIsVUFBVTtDQUNWLG9CQUFvQjtBQUNyQlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCIudG9vbHRpcCB7XFxyXFxuXFx0cG9zaXRpb246IHJlbGF0aXZlO1xcclxcbn1cXHJcXG4udG9vbHRpcFRleHQge1xcclxcblxcdHdpZHRoOiBtYXgtY29udGVudDtcXHJcXG5cXHRiYWNrZ3JvdW5kLWNvbG9yOiBibGFjaztcXHJcXG5cXHRjb2xvcjogI2ZmZjtcXHJcXG5cXHR0ZXh0LWFsaWduOiBjZW50ZXI7XFxyXFxuXFx0cGFkZGluZzogNnB4IDEwcHg7XFxyXFxuXFx0Ym9yZGVyLXJhZGl1czogMnB4O1xcclxcblxcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcXHJcXG5cXHR2aXNpYmlsaXR5OiBoaWRkZW47XFxyXFxuXFx0b3BhY2l0eTogMDtcXHJcXG5cXHR0cmFuc2l0aW9uOiBhbGwgMC4xcztcXHJcXG5cXHR0b3A6IDEwMCU7XFxyXFxuXFx0bGVmdDogNTAlO1xcclxcblxcdHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIDEwcHgpO1xcclxcblxcdGJvcmRlcjogMXB4IHNvbGlkIHJnYigyNDQsIDY3LCA1NCk7XFxyXFxuXFx0cG9pbnRlci1ldmVudHM6IG5vbmU7XFxyXFxuXFxyXFxuXFx0Zm9udC1zaXplOiAxNnB4O1xcclxcbn1cXHJcXG4udG9vbHRpcFRleHQ6OmFmdGVyIHtcXHJcXG5cXHRjb250ZW50OiBcXFwiXFxcIjtcXHJcXG5cXHRwb3NpdGlvbjogYWJzb2x1dGU7XFxyXFxuXFx0Ym90dG9tOiAxMDAlO1xcclxcblxcdGxlZnQ6IDUwJTtcXHJcXG5cXHRtYXJnaW4tbGVmdDogLTVweDtcXHJcXG5cXHRib3JkZXItd2lkdGg6IDVweDtcXHJcXG5cXHRib3JkZXItc3R5bGU6IHNvbGlkO1xcclxcblxcdGJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgcmdiKDI0NCwgNjcsIDU0KSB0cmFuc3BhcmVudDtcXHJcXG59XFxyXFxuXFxyXFxuLnRvb2x0aXA6aG92ZXIgLnRvb2x0aXBUZXh0IHtcXHJcXG5cXHR2aXNpYmlsaXR5OiB2aXNpYmxlO1xcclxcblxcdG9wYWNpdHk6IDE7XFxyXFxuXFx0dHJhbnNpdGlvbjogYWxsIDAuMXM7XFxyXFxufVxcclxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvZ2V0VXJsLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzBfX18gPSBuZXcgVVJMKFwiLi4vZm9udHMvUm9zYU1hcmVuYS50dGZcIiwgaW1wb3J0Lm1ldGEudXJsKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMV9fXyA9IG5ldyBVUkwoXCIuLi9mb250cy9TdHVkaW9TY3JpcHRDVFQudHRmXCIsIGltcG9ydC5tZXRhLnVybCk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzJfX18gPSBuZXcgVVJMKFwiLi4vZm9udHMvVmVsZXMudHRmXCIsIGltcG9ydC5tZXRhLnVybCk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzNfX18gPSBuZXcgVVJMKFwiLi4vZm9udHMvUEZIYW5kYm9va1Byby50dGZcIiwgaW1wb3J0Lm1ldGEudXJsKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfNF9fXyA9IG5ldyBVUkwoXCIuLi9mb250cy9OaWNrYWlubGV5LnR0ZlwiLCBpbXBvcnQubWV0YS51cmwpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF81X19fID0gbmV3IFVSTChcIi4uL2ZvbnRzL01BREVMaWtlcy50dGZcIiwgaW1wb3J0Lm1ldGEudXJsKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfNl9fXyA9IG5ldyBVUkwoXCIuLi9mb250cy9MRFNsZW5kZXIudHRmXCIsIGltcG9ydC5tZXRhLnVybCk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzdfX18gPSBuZXcgVVJMKFwiLi4vZm9udHMvSGVsdmV0aWNhLnR0ZlwiLCBpbXBvcnQubWV0YS51cmwpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF84X19fID0gbmV3IFVSTChcIi4uL2ZvbnRzL0NpdHJpY2FDeXJpbGxpYy50dGZcIiwgaW1wb3J0Lm1ldGEudXJsKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfOV9fXyA9IG5ldyBVUkwoXCIuLi9mb250cy9CbG9nZ2VyU2Fucy50dGZcIiwgaW1wb3J0Lm1ldGEudXJsKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMTBfX18gPSBuZXcgVVJMKFwiLi4vZm9udHMvQmlyY2gudHRmXCIsIGltcG9ydC5tZXRhLnVybCk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzExX19fID0gbmV3IFVSTChcIi4uL2ZvbnRzL0FtZXJpY2FuUmV0cm8udHRmXCIsIGltcG9ydC5tZXRhLnVybCk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzEyX19fID0gbmV3IFVSTChcIi4uL2ZvbnRzL0ludGVyLUxpZ2h0LnR0ZlwiLCBpbXBvcnQubWV0YS51cmwpO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzBfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8wX19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8xX19fID0gX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMV9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMl9fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzJfX18pO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzNfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8zX19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF80X19fID0gX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfNF9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfNV9fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzVfX18pO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzZfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF82X19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF83X19fID0gX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfN19fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfOF9fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzhfX18pO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzlfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF85X19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8xMF9fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzEwX19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8xMV9fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzExX19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8xMl9fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzEyX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBgQGZvbnQtZmFjZSB7XHJcblx0Zm9udC1mYW1pbHk6IFwiUm9zYU1hcmVuYVwiO1xyXG5cdHNyYzogdXJsKCR7X19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMF9fX30pO1xyXG59XHJcbkBmb250LWZhY2Uge1xyXG5cdGZvbnQtZmFtaWx5OiBcIlN0dWRpb1NjcmlwdENUVFwiO1xyXG5cdHNyYzogdXJsKCR7X19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMV9fX30pO1xyXG59XHJcbkBmb250LWZhY2Uge1xyXG5cdGZvbnQtZmFtaWx5OiBcIlZlbGVzXCI7XHJcblx0c3JjOiB1cmwoJHtfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8yX19ffSk7XHJcbn1cclxuQGZvbnQtZmFjZSB7XHJcblx0Zm9udC1mYW1pbHk6IFwiUEZIYW5kYm9va1Byb1wiO1xyXG5cdHNyYzogdXJsKCR7X19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfM19fX30pO1xyXG59XHJcbkBmb250LWZhY2Uge1xyXG5cdGZvbnQtZmFtaWx5OiBcIk5pY2thaW5sZXlcIjtcclxuXHRzcmM6IHVybCgke19fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzRfX199KTtcclxufVxyXG5AZm9udC1mYWNlIHtcclxuXHRmb250LWZhbWlseTogXCJNQURFTGlrZXNcIjtcclxuXHRzcmM6IHVybCgke19fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzVfX199KTtcclxufVxyXG5AZm9udC1mYWNlIHtcclxuXHRmb250LWZhbWlseTogXCJMRFNsZW5kZXJcIjtcclxuXHRzcmM6IHVybCgke19fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzZfX199KTtcclxufVxyXG5AZm9udC1mYWNlIHtcclxuXHRmb250LWZhbWlseTogXCJIZWx2ZXRpY2FcIjtcclxuXHRzcmM6IHVybCgke19fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzdfX199KTtcclxufVxyXG5AZm9udC1mYWNlIHtcclxuXHRmb250LWZhbWlseTogXCJDaXRyaWNhQ3lyaWxsaWNcIjtcclxuXHRzcmM6IHVybCgke19fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzhfX199KTtcclxufVxyXG5AZm9udC1mYWNlIHtcclxuXHRmb250LWZhbWlseTogXCJCbG9nZ2VyU2Fuc1wiO1xyXG5cdHNyYzogdXJsKCR7X19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfOV9fX30pO1xyXG59XHJcbkBmb250LWZhY2Uge1xyXG5cdGZvbnQtZmFtaWx5OiBcIkJpcmNoXCI7XHJcblx0c3JjOiB1cmwoJHtfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8xMF9fX30pO1xyXG59XHJcbkBmb250LWZhY2Uge1xyXG5cdGZvbnQtZmFtaWx5OiBcIkFtZXJpY2FuUmV0cm9cIjtcclxuXHRzcmM6IHVybCgke19fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzExX19ffSk7XHJcbn1cclxuQGZvbnQtZmFjZSB7XHJcblx0Zm9udC1mYW1pbHk6IFwiSW50ZXJMaWdodFwiO1xyXG5cdHNyYzogdXJsKCR7X19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMTJfX199KTtcclxufVxyXG5cclxuLm5lb25XaWRnZXQge1xyXG5cdGJhY2tncm91bmQtY29sb3I6IHJnYmEoMTczLCAxMjYsIDEyNiwgMCk7XHJcblx0Zm9udC1mYW1pbHk6IGN1cnNpdmU7XHJcbn1cclxuXHJcbi5jYW52YXMtY29udGFpbmVyIHtcclxuXHRtYXJnaW46IDAgYXV0bztcclxufVxyXG5cclxuLm5lb25XaWRnZXQge1xyXG5cdGJhY2tncm91bmQtY29sb3I6IHJnYmEoMTczLCAxMjYsIDEyNiwgMCk7XHJcblx0Zm9udC1mYW1pbHk6IEludGVyTGlnaHQsIHNlcmlmO1xyXG59XHJcblxyXG4uY2FudmFzLWNvbnRhaW5lciB7XHJcblx0bWFyZ2luOiAwIGF1dG87XHJcbn1cclxuLmxvYWRlciB7XHJcblx0d2lkdGg6IG1pbi1jb250ZW50O1xyXG5cdGhlaWdodDogbWluLWNvbnRlbnQ7XHJcbn1cclxuLnRleHQge1xyXG5cdGZvbnQtZmFtaWx5OiBJbnRlckxpZ2h0O1xyXG5cdGZvbnQtc2l6ZTogMjBweDtcclxuXHRjb2xvcjogd2hpdGU7XHJcblx0d2lkdGg6IG1heC1jb250ZW50O1xyXG59XHJcbi5jb250YWluZXJSb3cge1xyXG5cdGRpc3BsYXk6IGZsZXg7XHJcblx0ZmxleC1kaXJlY3Rpb246IHJvdztcclxuXHRnYXA6IDEwcHg7XHJcblx0YWxpZ24taXRlbXM6IGNlbnRlcjtcclxuXHRqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxufVxyXG4uY29udGFpbmVyQ29sIHtcclxuXHRkaXNwbGF5OiBmbGV4O1xyXG5cdGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcblx0Z2FwOiAxMHB4O1xyXG5cdGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcblx0anVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbn1cclxuYCwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvc3R5bGVzL3N0eWxlLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtDQUNDLHlCQUF5QjtDQUN6Qiw0Q0FBbUM7QUFDcEM7QUFDQTtDQUNDLDhCQUE4QjtDQUM5Qiw0Q0FBd0M7QUFDekM7QUFDQTtDQUNDLG9CQUFvQjtDQUNwQiw0Q0FBOEI7QUFDL0I7QUFDQTtDQUNDLDRCQUE0QjtDQUM1Qiw0Q0FBc0M7QUFDdkM7QUFDQTtDQUNDLHlCQUF5QjtDQUN6Qiw0Q0FBbUM7QUFDcEM7QUFDQTtDQUNDLHdCQUF3QjtDQUN4Qiw0Q0FBa0M7QUFDbkM7QUFDQTtDQUNDLHdCQUF3QjtDQUN4Qiw0Q0FBa0M7QUFDbkM7QUFDQTtDQUNDLHdCQUF3QjtDQUN4Qiw0Q0FBa0M7QUFDbkM7QUFDQTtDQUNDLDhCQUE4QjtDQUM5Qiw0Q0FBd0M7QUFDekM7QUFDQTtDQUNDLDBCQUEwQjtDQUMxQiw0Q0FBb0M7QUFDckM7QUFDQTtDQUNDLG9CQUFvQjtDQUNwQiw2Q0FBOEI7QUFDL0I7QUFDQTtDQUNDLDRCQUE0QjtDQUM1Qiw2Q0FBc0M7QUFDdkM7QUFDQTtDQUNDLHlCQUF5QjtDQUN6Qiw2Q0FBb0M7QUFDckM7O0FBRUE7Q0FDQyx3Q0FBd0M7Q0FDeEMsb0JBQW9CO0FBQ3JCOztBQUVBO0NBQ0MsY0FBYztBQUNmOztBQUVBO0NBQ0Msd0NBQXdDO0NBQ3hDLDhCQUE4QjtBQUMvQjs7QUFFQTtDQUNDLGNBQWM7QUFDZjtBQUNBO0NBQ0Msa0JBQWtCO0NBQ2xCLG1CQUFtQjtBQUNwQjtBQUNBO0NBQ0MsdUJBQXVCO0NBQ3ZCLGVBQWU7Q0FDZixZQUFZO0NBQ1osa0JBQWtCO0FBQ25CO0FBQ0E7Q0FDQyxhQUFhO0NBQ2IsbUJBQW1CO0NBQ25CLFNBQVM7Q0FDVCxtQkFBbUI7Q0FDbkIsdUJBQXVCO0FBQ3hCO0FBQ0E7Q0FDQyxhQUFhO0NBQ2Isc0JBQXNCO0NBQ3RCLFNBQVM7Q0FDVCxtQkFBbUI7Q0FDbkIsdUJBQXVCO0FBQ3hCXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIkBmb250LWZhY2Uge1xcclxcblxcdGZvbnQtZmFtaWx5OiBcXFwiUm9zYU1hcmVuYVxcXCI7XFxyXFxuXFx0c3JjOiB1cmwoXFxcIi4uL2ZvbnRzL1Jvc2FNYXJlbmEudHRmXFxcIik7XFxyXFxufVxcclxcbkBmb250LWZhY2Uge1xcclxcblxcdGZvbnQtZmFtaWx5OiBcXFwiU3R1ZGlvU2NyaXB0Q1RUXFxcIjtcXHJcXG5cXHRzcmM6IHVybChcXFwiLi4vZm9udHMvU3R1ZGlvU2NyaXB0Q1RULnR0ZlxcXCIpO1xcclxcbn1cXHJcXG5AZm9udC1mYWNlIHtcXHJcXG5cXHRmb250LWZhbWlseTogXFxcIlZlbGVzXFxcIjtcXHJcXG5cXHRzcmM6IHVybChcXFwiLi4vZm9udHMvVmVsZXMudHRmXFxcIik7XFxyXFxufVxcclxcbkBmb250LWZhY2Uge1xcclxcblxcdGZvbnQtZmFtaWx5OiBcXFwiUEZIYW5kYm9va1Byb1xcXCI7XFxyXFxuXFx0c3JjOiB1cmwoXFxcIi4uL2ZvbnRzL1BGSGFuZGJvb2tQcm8udHRmXFxcIik7XFxyXFxufVxcclxcbkBmb250LWZhY2Uge1xcclxcblxcdGZvbnQtZmFtaWx5OiBcXFwiTmlja2FpbmxleVxcXCI7XFxyXFxuXFx0c3JjOiB1cmwoXFxcIi4uL2ZvbnRzL05pY2thaW5sZXkudHRmXFxcIik7XFxyXFxufVxcclxcbkBmb250LWZhY2Uge1xcclxcblxcdGZvbnQtZmFtaWx5OiBcXFwiTUFERUxpa2VzXFxcIjtcXHJcXG5cXHRzcmM6IHVybChcXFwiLi4vZm9udHMvTUFERUxpa2VzLnR0ZlxcXCIpO1xcclxcbn1cXHJcXG5AZm9udC1mYWNlIHtcXHJcXG5cXHRmb250LWZhbWlseTogXFxcIkxEU2xlbmRlclxcXCI7XFxyXFxuXFx0c3JjOiB1cmwoXFxcIi4uL2ZvbnRzL0xEU2xlbmRlci50dGZcXFwiKTtcXHJcXG59XFxyXFxuQGZvbnQtZmFjZSB7XFxyXFxuXFx0Zm9udC1mYW1pbHk6IFxcXCJIZWx2ZXRpY2FcXFwiO1xcclxcblxcdHNyYzogdXJsKFxcXCIuLi9mb250cy9IZWx2ZXRpY2EudHRmXFxcIik7XFxyXFxufVxcclxcbkBmb250LWZhY2Uge1xcclxcblxcdGZvbnQtZmFtaWx5OiBcXFwiQ2l0cmljYUN5cmlsbGljXFxcIjtcXHJcXG5cXHRzcmM6IHVybChcXFwiLi4vZm9udHMvQ2l0cmljYUN5cmlsbGljLnR0ZlxcXCIpO1xcclxcbn1cXHJcXG5AZm9udC1mYWNlIHtcXHJcXG5cXHRmb250LWZhbWlseTogXFxcIkJsb2dnZXJTYW5zXFxcIjtcXHJcXG5cXHRzcmM6IHVybChcXFwiLi4vZm9udHMvQmxvZ2dlclNhbnMudHRmXFxcIik7XFxyXFxufVxcclxcbkBmb250LWZhY2Uge1xcclxcblxcdGZvbnQtZmFtaWx5OiBcXFwiQmlyY2hcXFwiO1xcclxcblxcdHNyYzogdXJsKFxcXCIuLi9mb250cy9CaXJjaC50dGZcXFwiKTtcXHJcXG59XFxyXFxuQGZvbnQtZmFjZSB7XFxyXFxuXFx0Zm9udC1mYW1pbHk6IFxcXCJBbWVyaWNhblJldHJvXFxcIjtcXHJcXG5cXHRzcmM6IHVybChcXFwiLi4vZm9udHMvQW1lcmljYW5SZXRyby50dGZcXFwiKTtcXHJcXG59XFxyXFxuQGZvbnQtZmFjZSB7XFxyXFxuXFx0Zm9udC1mYW1pbHk6IFxcXCJJbnRlckxpZ2h0XFxcIjtcXHJcXG5cXHRzcmM6IHVybChcXFwiLi4vZm9udHMvSW50ZXItTGlnaHQudHRmXFxcIik7XFxyXFxufVxcclxcblxcclxcbi5uZW9uV2lkZ2V0IHtcXHJcXG5cXHRiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDE3MywgMTI2LCAxMjYsIDApO1xcclxcblxcdGZvbnQtZmFtaWx5OiBjdXJzaXZlO1xcclxcbn1cXHJcXG5cXHJcXG4uY2FudmFzLWNvbnRhaW5lciB7XFxyXFxuXFx0bWFyZ2luOiAwIGF1dG87XFxyXFxufVxcclxcblxcclxcbi5uZW9uV2lkZ2V0IHtcXHJcXG5cXHRiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDE3MywgMTI2LCAxMjYsIDApO1xcclxcblxcdGZvbnQtZmFtaWx5OiBJbnRlckxpZ2h0LCBzZXJpZjtcXHJcXG59XFxyXFxuXFxyXFxuLmNhbnZhcy1jb250YWluZXIge1xcclxcblxcdG1hcmdpbjogMCBhdXRvO1xcclxcbn1cXHJcXG4ubG9hZGVyIHtcXHJcXG5cXHR3aWR0aDogbWluLWNvbnRlbnQ7XFxyXFxuXFx0aGVpZ2h0OiBtaW4tY29udGVudDtcXHJcXG59XFxyXFxuLnRleHQge1xcclxcblxcdGZvbnQtZmFtaWx5OiBJbnRlckxpZ2h0O1xcclxcblxcdGZvbnQtc2l6ZTogMjBweDtcXHJcXG5cXHRjb2xvcjogd2hpdGU7XFxyXFxuXFx0d2lkdGg6IG1heC1jb250ZW50O1xcclxcbn1cXHJcXG4uY29udGFpbmVyUm93IHtcXHJcXG5cXHRkaXNwbGF5OiBmbGV4O1xcclxcblxcdGZsZXgtZGlyZWN0aW9uOiByb3c7XFxyXFxuXFx0Z2FwOiAxMHB4O1xcclxcblxcdGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxyXFxuXFx0anVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxyXFxufVxcclxcbi5jb250YWluZXJDb2wge1xcclxcblxcdGRpc3BsYXk6IGZsZXg7XFxyXFxuXFx0ZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXHJcXG5cXHRnYXA6IDEwcHg7XFxyXFxuXFx0YWxpZ24taXRlbXM6IGNlbnRlcjtcXHJcXG5cXHRqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXHJcXG59XFxyXFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdO1xuXG4gIC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBcIlwiO1xuICAgICAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBpdGVtWzVdICE9PSBcInVuZGVmaW5lZFwiO1xuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgY29udGVudCArPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9O1xuXG4gIC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIGxpc3QuaSA9IGZ1bmN0aW9uIGkobW9kdWxlcywgbWVkaWEsIGRlZHVwZSwgc3VwcG9ydHMsIGxheWVyKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCB1bmRlZmluZWRdXTtcbiAgICB9XG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoaXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgdmFyIGlkID0gdGhpc1trXVswXTtcbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgX2sgPSAwOyBfayA8IG1vZHVsZXMubGVuZ3RoOyBfaysrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19rXSk7XG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGxheWVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbVs1XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzdXBwb3J0cykge1xuICAgICAgICBpZiAoIWl0ZW1bNF0pIHtcbiAgICAgICAgICBpdGVtWzRdID0gXCJcIi5jb25jYXQoc3VwcG9ydHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs0XSA9IHN1cHBvcnRzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gbGlzdDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xuICBpZiAoIW9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cbiAgaWYgKCF1cmwpIHtcbiAgICByZXR1cm4gdXJsO1xuICB9XG4gIHVybCA9IFN0cmluZyh1cmwuX19lc01vZHVsZSA/IHVybC5kZWZhdWx0IDogdXJsKTtcblxuICAvLyBJZiB1cmwgaXMgYWxyZWFkeSB3cmFwcGVkIGluIHF1b3RlcywgcmVtb3ZlIHRoZW1cbiAgaWYgKC9eWydcIl0uKlsnXCJdJC8udGVzdCh1cmwpKSB7XG4gICAgdXJsID0gdXJsLnNsaWNlKDEsIC0xKTtcbiAgfVxuICBpZiAob3B0aW9ucy5oYXNoKSB7XG4gICAgdXJsICs9IG9wdGlvbnMuaGFzaDtcbiAgfVxuXG4gIC8vIFNob3VsZCB1cmwgYmUgd3JhcHBlZD9cbiAgLy8gU2VlIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3MtdmFsdWVzLTMvI3VybHNcbiAgaWYgKC9bXCInKCkgXFx0XFxuXXwoJTIwKS8udGVzdCh1cmwpIHx8IG9wdGlvbnMubmVlZFF1b3Rlcykge1xuICAgIHJldHVybiBcIlxcXCJcIi5jb25jYXQodXJsLnJlcGxhY2UoL1wiL2csICdcXFxcXCInKS5yZXBsYWNlKC9cXG4vZywgXCJcXFxcblwiKSwgXCJcXFwiXCIpO1xuICB9XG4gIHJldHVybiB1cmw7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXTtcbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuICBpZiAodHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShjc3NNYXBwaW5nKSkpKTtcbiAgICB2YXIgZGF0YSA9IFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGJhc2U2NCk7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSBcIi8qIyBcIi5jb25jYXQoZGF0YSwgXCIgKi9cIik7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKFwiXFxuXCIpO1xuICB9XG4gIHJldHVybiBbY29udGVudF0uam9pbihcIlxcblwiKTtcbn07IiwiLyogYnVpbGQ6IGBub2RlIGJ1aWxkLmpzIG1vZHVsZXM9QUxMIGV4Y2x1ZGU9Z2VzdHVyZXMsYWNjZXNzb3JzLGVyYXNpbmcgcmVxdWlyZWpzIG1pbmlmaWVyPXVnbGlmeWpzYCAqL1xuLyohIEZhYnJpYy5qcyBDb3B5cmlnaHQgMjAwOC0yMDE1LCBQcmludGlvIChKdXJpeSBaYXl0c2V2LCBNYXhpbSBDaGVybnlhaykgKi9cblxudmFyIGZhYnJpYyA9IGZhYnJpYyB8fCB7IHZlcnNpb246ICc1LjMuMCcgfTtcbmlmICh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgZXhwb3J0cy5mYWJyaWMgPSBmYWJyaWM7XG59XG4vKiBfQU1EX1NUQVJUXyAqL1xuZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gIGRlZmluZShbXSwgZnVuY3Rpb24oKSB7IHJldHVybiBmYWJyaWM7IH0pO1xufVxuLyogX0FNRF9FTkRfICovXG5pZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICBpZiAoZG9jdW1lbnQgaW5zdGFuY2VvZiAodHlwZW9mIEhUTUxEb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgPyBIVE1MRG9jdW1lbnQgOiBEb2N1bWVudCkpIHtcbiAgICBmYWJyaWMuZG9jdW1lbnQgPSBkb2N1bWVudDtcbiAgfVxuICBlbHNlIHtcbiAgICBmYWJyaWMuZG9jdW1lbnQgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoJycpO1xuICB9XG4gIGZhYnJpYy53aW5kb3cgPSB3aW5kb3c7XG59XG5lbHNlIHtcbiAgLy8gYXNzdW1lIHdlJ3JlIHJ1bm5pbmcgdW5kZXIgbm9kZS5qcyB3aGVuIGRvY3VtZW50L3dpbmRvdyBhcmUgbm90IHByZXNlbnRcbiAgdmFyIGpzZG9tID0gcmVxdWlyZSgnanNkb20nKTtcbiAgdmFyIHZpcnR1YWxXaW5kb3cgPSBuZXcganNkb20uSlNET00oXG4gICAgZGVjb2RlVVJJQ29tcG9uZW50KCclM0MhRE9DVFlQRSUyMGh0bWwlM0UlM0NodG1sJTNFJTNDaGVhZCUzRSUzQyUyRmhlYWQlM0UlM0Nib2R5JTNFJTNDJTJGYm9keSUzRSUzQyUyRmh0bWwlM0UnKSxcbiAgICB7XG4gICAgICBmZWF0dXJlczoge1xuICAgICAgICBGZXRjaEV4dGVybmFsUmVzb3VyY2VzOiBbJ2ltZyddXG4gICAgICB9LFxuICAgICAgcmVzb3VyY2VzOiAndXNhYmxlJ1xuICAgIH0pLndpbmRvdztcbiAgZmFicmljLmRvY3VtZW50ID0gdmlydHVhbFdpbmRvdy5kb2N1bWVudDtcbiAgZmFicmljLmpzZG9tSW1wbEZvcldyYXBwZXIgPSByZXF1aXJlKCdqc2RvbS9saWIvanNkb20vbGl2aW5nL2dlbmVyYXRlZC91dGlscycpLmltcGxGb3JXcmFwcGVyO1xuICBmYWJyaWMubm9kZUNhbnZhcyA9IHJlcXVpcmUoJ2pzZG9tL2xpYi9qc2RvbS91dGlscycpLkNhbnZhcztcbiAgZmFicmljLndpbmRvdyA9IHZpcnR1YWxXaW5kb3c7XG4gIERPTVBhcnNlciA9IGZhYnJpYy53aW5kb3cuRE9NUGFyc2VyO1xufVxuXG4vKipcbiAqIFRydWUgd2hlbiBpbiBlbnZpcm9ubWVudCB0aGF0IHN1cHBvcnRzIHRvdWNoIGV2ZW50c1xuICogQHR5cGUgYm9vbGVhblxuICovXG5mYWJyaWMuaXNUb3VjaFN1cHBvcnRlZCA9ICdvbnRvdWNoc3RhcnQnIGluIGZhYnJpYy53aW5kb3cgfHwgJ29udG91Y2hzdGFydCcgaW4gZmFicmljLmRvY3VtZW50IHx8XG4gIChmYWJyaWMud2luZG93ICYmIGZhYnJpYy53aW5kb3cubmF2aWdhdG9yICYmIGZhYnJpYy53aW5kb3cubmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID4gMCk7XG5cbi8qKlxuICogVHJ1ZSB3aGVuIGluIGVudmlyb25tZW50IHRoYXQncyBwcm9iYWJseSBOb2RlLmpzXG4gKiBAdHlwZSBib29sZWFuXG4gKi9cbmZhYnJpYy5pc0xpa2VseU5vZGUgPSB0eXBlb2YgQnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnO1xuXG4vKiBfRlJPTV9TVkdfU1RBUlRfICovXG4vKipcbiAqIEF0dHJpYnV0ZXMgcGFyc2VkIGZyb20gYWxsIFNWRyBlbGVtZW50c1xuICogQHR5cGUgYXJyYXlcbiAqL1xuZmFicmljLlNIQVJFRF9BVFRSSUJVVEVTID0gW1xuICAnZGlzcGxheScsXG4gICd0cmFuc2Zvcm0nLFxuICAnZmlsbCcsICdmaWxsLW9wYWNpdHknLCAnZmlsbC1ydWxlJyxcbiAgJ29wYWNpdHknLFxuICAnc3Ryb2tlJywgJ3N0cm9rZS1kYXNoYXJyYXknLCAnc3Ryb2tlLWxpbmVjYXAnLCAnc3Ryb2tlLWRhc2hvZmZzZXQnLFxuICAnc3Ryb2tlLWxpbmVqb2luJywgJ3N0cm9rZS1taXRlcmxpbWl0JyxcbiAgJ3N0cm9rZS1vcGFjaXR5JywgJ3N0cm9rZS13aWR0aCcsXG4gICdpZCcsICdwYWludC1vcmRlcicsICd2ZWN0b3ItZWZmZWN0JyxcbiAgJ2luc3RhbnRpYXRlZF9ieV91c2UnLCAnY2xpcC1wYXRoJyxcbl07XG4vKiBfRlJPTV9TVkdfRU5EXyAqL1xuXG4vKipcbiAqIFBpeGVsIHBlciBJbmNoIGFzIGEgZGVmYXVsdCB2YWx1ZSBzZXQgdG8gOTYuIENhbiBiZSBjaGFuZ2VkIGZvciBtb3JlIHJlYWxpc3RpYyBjb252ZXJzaW9uLlxuICovXG5mYWJyaWMuRFBJID0gOTY7XG5mYWJyaWMucmVOdW0gPSAnKD86Wy0rXT8oPzpcXFxcZCt8XFxcXGQqXFxcXC5cXFxcZCspKD86W2VFXVstK10/XFxcXGQrKT8pJztcbmZhYnJpYy5jb21tYVdzcCA9ICcoPzpcXFxccyssP1xcXFxzKnwsXFxcXHMqKSc7XG5mYWJyaWMucmVQYXRoQ29tbWFuZCA9IC8oWy0rXT8oKFxcZCtcXC5cXGQrKXwoKFxcZCspfChcXC5cXGQrKSkpKD86W2VFXVstK10/XFxkKyk/KS9pZztcbmZhYnJpYy5yZU5vbldvcmQgPSAvWyBcXG5cXC4sOyFcXD9cXC1dLztcbmZhYnJpYy5mb250UGF0aHMgPSB7IH07XG5mYWJyaWMuaU1hdHJpeCA9IFsxLCAwLCAwLCAxLCAwLCAwXTtcbmZhYnJpYy5zdmdOUyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG5cbi8qKlxuICogUGl4ZWwgbGltaXQgZm9yIGNhY2hlIGNhbnZhc2VzLiAxTXB4ICwgNE1weCBzaG91bGQgYmUgZmluZS5cbiAqIEBzaW5jZSAxLjcuMTRcbiAqIEB0eXBlIE51bWJlclxuICogQGRlZmF1bHRcbiAqL1xuZmFicmljLnBlcmZMaW1pdFNpemVUb3RhbCA9IDIwOTcxNTI7XG5cbi8qKlxuICogUGl4ZWwgbGltaXQgZm9yIGNhY2hlIGNhbnZhc2VzIHdpZHRoIG9yIGhlaWdodC4gSUUgZml4ZXMgdGhlIG1heGltdW0gYXQgNTAwMFxuICogQHNpbmNlIDEuNy4xNFxuICogQHR5cGUgTnVtYmVyXG4gKiBAZGVmYXVsdFxuICovXG5mYWJyaWMubWF4Q2FjaGVTaWRlTGltaXQgPSA0MDk2O1xuXG4vKipcbiAqIExvd2VzdCBwaXhlbCBsaW1pdCBmb3IgY2FjaGUgY2FudmFzZXMsIHNldCBhdCAyNTZQWFxuICogQHNpbmNlIDEuNy4xNFxuICogQHR5cGUgTnVtYmVyXG4gKiBAZGVmYXVsdFxuICovXG5mYWJyaWMubWluQ2FjaGVTaWRlTGltaXQgPSAyNTY7XG5cbi8qKlxuICogQ2FjaGUgT2JqZWN0IGZvciB3aWR0aHMgb2YgY2hhcnMgaW4gdGV4dCByZW5kZXJpbmcuXG4gKi9cbmZhYnJpYy5jaGFyV2lkdGhzQ2FjaGUgPSB7IH07XG5cbi8qKlxuICogaWYgd2ViZ2wgaXMgZW5hYmxlZCBhbmQgYXZhaWxhYmxlLCB0ZXh0dXJlU2l6ZSB3aWxsIGRldGVybWluZSB0aGUgc2l6ZVxuICogb2YgdGhlIGNhbnZhcyBiYWNrZW5kXG4gKiBAc2luY2UgMi4wLjBcbiAqIEB0eXBlIE51bWJlclxuICogQGRlZmF1bHRcbiAqL1xuZmFicmljLnRleHR1cmVTaXplID0gMjA0ODtcblxuLyoqXG4gKiBXaGVuICd0cnVlJywgc3R5bGUgaW5mb3JtYXRpb24gaXMgbm90IHJldGFpbmVkIHdoZW4gY29weS9wYXN0aW5nIHRleHQsIG1ha2luZ1xuICogcGFzdGVkIHRleHQgdXNlIGRlc3RpbmF0aW9uIHN0eWxlLlxuICogRGVmYXVsdHMgdG8gJ2ZhbHNlJy5cbiAqIEB0eXBlIEJvb2xlYW5cbiAqIEBkZWZhdWx0XG4gKi9cbmZhYnJpYy5kaXNhYmxlU3R5bGVDb3B5UGFzdGUgPSBmYWxzZTtcblxuLyoqXG4gKiBFbmFibGUgd2ViZ2wgZm9yIGZpbHRlcmluZyBwaWN0dXJlIGlzIGF2YWlsYWJsZVxuICogQSBmaWx0ZXJpbmcgYmFja2VuZCB3aWxsIGJlIGluaXRpYWxpemVkLCB0aGlzIHdpbGwgYm90aCB0YWtlIG1lbW9yeSBhbmRcbiAqIHRpbWUgc2luY2UgYSBkZWZhdWx0IDIwNDh4MjA0OCBjYW52YXMgd2lsbCBiZSBjcmVhdGVkIGZvciB0aGUgZ2wgY29udGV4dFxuICogQHNpbmNlIDIuMC4wXG4gKiBAdHlwZSBCb29sZWFuXG4gKiBAZGVmYXVsdFxuICovXG5mYWJyaWMuZW5hYmxlR0xGaWx0ZXJpbmcgPSB0cnVlO1xuXG4vKipcbiAqIERldmljZSBQaXhlbCBSYXRpb1xuICogQHNlZSBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vbGlicmFyeS9zYWZhcmkvZG9jdW1lbnRhdGlvbi9BdWRpb1ZpZGVvL0NvbmNlcHR1YWwvSFRNTC1jYW52YXMtZ3VpZGUvU2V0dGluZ1VwdGhlQ2FudmFzL1NldHRpbmdVcHRoZUNhbnZhcy5odG1sXG4gKi9cbmZhYnJpYy5kZXZpY2VQaXhlbFJhdGlvID0gZmFicmljLndpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZhYnJpYy53aW5kb3cud2Via2l0RGV2aWNlUGl4ZWxSYXRpbyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmYWJyaWMud2luZG93Lm1vekRldmljZVBpeGVsUmF0aW8gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgMTtcbi8qKlxuICogQnJvd3Nlci1zcGVjaWZpYyBjb25zdGFudCB0byBhZGp1c3QgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELnNoYWRvd0JsdXIgdmFsdWUsXG4gKiB3aGljaCBpcyB1bml0bGVzcyBhbmQgbm90IHJlbmRlcmVkIGVxdWFsbHkgYWNyb3NzIGJyb3dzZXJzLlxuICpcbiAqIFZhbHVlcyB0aGF0IHdvcmsgcXVpdGUgd2VsbCAoYXMgb2YgT2N0b2JlciAyMDE3KSBhcmU6XG4gKiAtIENocm9tZTogMS41XG4gKiAtIEVkZ2U6IDEuNzVcbiAqIC0gRmlyZWZveDogMC45XG4gKiAtIFNhZmFyaTogMC45NVxuICpcbiAqIEBzaW5jZSAyLjAuMFxuICogQHR5cGUgTnVtYmVyXG4gKiBAZGVmYXVsdCAxXG4gKi9cbmZhYnJpYy5icm93c2VyU2hhZG93Qmx1ckNvbnN0YW50ID0gMTtcblxuLyoqXG4gKiBUaGlzIG9iamVjdCBjb250YWlucyB0aGUgcmVzdWx0IG9mIGFyYyB0byBiZXppZXIgY29udmVyc2lvbiBmb3IgZmFzdGVyIHJldHJpZXZpbmcgaWYgdGhlIHNhbWUgYXJjIG5lZWRzIHRvIGJlIGNvbnZlcnRlZCBhZ2Fpbi5cbiAqIEl0IHdhcyBhbiBpbnRlcm5hbCB2YXJpYWJsZSwgaXMgYWNjZXNzaWJsZSBzaW5jZSB2ZXJzaW9uIDIuMy40XG4gKi9cbmZhYnJpYy5hcmNUb1NlZ21lbnRzQ2FjaGUgPSB7IH07XG5cbi8qKlxuICogVGhpcyBvYmplY3Qga2VlcHMgdGhlIHJlc3VsdHMgb2YgdGhlIGJvdW5kc09mQ3VydmUgY2FsY3VsYXRpb24gbWFwcGVkIGJ5IHRoZSBqb2luZWQgYXJndW1lbnRzIG5lY2Vzc2FyeSB0byBjYWxjdWxhdGUgaXQuXG4gKiBJdCBkb2VzIHNwZWVkIHVwIGNhbGN1bGF0aW9uLCBpZiB5b3UgcGFyc2UgYW5kIGFkZCBhbHdheXMgdGhlIHNhbWUgcGF0aHMsIGJ1dCBpbiBjYXNlIG9mIGhlYXZ5IHVzYWdlIG9mIGZyZWVkcmF3aW5nXG4gKiB5b3UgZG8gbm90IGdldCBhbnkgc3BlZWQgYmVuZWZpdCBhbmQgeW91IGdldCBhIGJpZyBvYmplY3QgaW4gbWVtb3J5LlxuICogVGhlIG9iamVjdCB3YXMgYSBwcml2YXRlIHZhcmlhYmxlIGJlZm9yZSwgd2hpbGUgbm93IGlzIGFwcGVuZGVkIHRvIHRoZSBsaWIgc28gdGhhdCB5b3UgaGF2ZSBhY2Nlc3MgdG8gaXQgYW5kIHlvdVxuICogY2FuIGV2ZW50dWFsbHkgY2xlYXIgaXQuXG4gKiBJdCB3YXMgYW4gaW50ZXJuYWwgdmFyaWFibGUsIGlzIGFjY2Vzc2libGUgc2luY2UgdmVyc2lvbiAyLjMuNFxuICovXG5mYWJyaWMuYm91bmRzT2ZDdXJ2ZUNhY2hlID0geyB9O1xuXG4vKipcbiAqIElmIGRpc2FibGVkIGJvdW5kc09mQ3VydmVDYWNoZSBpcyBub3QgdXNlZC4gRm9yIGFwcHMgdGhhdCBtYWtlIGhlYXZ5IHVzYWdlIG9mIHBlbmNpbCBkcmF3aW5nIHByb2JhYmx5IGRpc2FibGluZyBpdCBpcyBiZXR0ZXJcbiAqIEBkZWZhdWx0IHRydWVcbiAqL1xuZmFicmljLmNhY2hlc0JvdW5kc09mQ3VydmUgPSB0cnVlO1xuXG4vKipcbiAqIFNraXAgcGVyZm9ybWFuY2UgdGVzdGluZyBvZiBzZXR1cEdMQ29udGV4dCBhbmQgZm9yY2UgdGhlIHVzZSBvZiBwdXRJbWFnZURhdGEgdGhhdCBzZWVtcyB0byBiZSB0aGUgb25lIHRoYXQgd29ya3MgYmVzdCBvblxuICogQ2hyb21lICsgb2xkIGhhcmR3YXJlLiBpZiB5b3VyIHVzZXJzIGFyZSBleHBlcmllbmNpbmcgZW1wdHkgaW1hZ2VzIGFmdGVyIGZpbHRlcmluZyB5b3UgbWF5IHRyeSB0byBmb3JjZSB0aGlzIHRvIHRydWVcbiAqIHRoaXMgaGFzIHRvIGJlIHNldCBiZWZvcmUgaW5zdGFudGlhdGluZyB0aGUgZmlsdGVyaW5nIGJhY2tlbmQgKCBiZWZvcmUgZmlsdGVyaW5nIHRoZSBmaXJzdCBpbWFnZSApXG4gKiBAdHlwZSBCb29sZWFuXG4gKiBAZGVmYXVsdCBmYWxzZVxuICovXG5mYWJyaWMuZm9yY2VHTFB1dEltYWdlRGF0YSA9IGZhbHNlO1xuXG5mYWJyaWMuaW5pdEZpbHRlckJhY2tlbmQgPSBmdW5jdGlvbigpIHtcbiAgaWYgKGZhYnJpYy5lbmFibGVHTEZpbHRlcmluZyAmJiBmYWJyaWMuaXNXZWJnbFN1cHBvcnRlZCAmJiBmYWJyaWMuaXNXZWJnbFN1cHBvcnRlZChmYWJyaWMudGV4dHVyZVNpemUpKSB7XG4gICAgY29uc29sZS5sb2coJ21heCB0ZXh0dXJlIHNpemU6ICcgKyBmYWJyaWMubWF4VGV4dHVyZVNpemUpO1xuICAgIHJldHVybiAobmV3IGZhYnJpYy5XZWJnbEZpbHRlckJhY2tlbmQoeyB0aWxlU2l6ZTogZmFicmljLnRleHR1cmVTaXplIH0pKTtcbiAgfVxuICBlbHNlIGlmIChmYWJyaWMuQ2FudmFzMmRGaWx0ZXJCYWNrZW5kKSB7XG4gICAgcmV0dXJuIChuZXcgZmFicmljLkNhbnZhczJkRmlsdGVyQmFja2VuZCgpKTtcbiAgfVxufTtcblxuXG5pZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAvLyBlbnN1cmUgZ2xvYmFsaXR5IGV2ZW4gaWYgZW50aXJlIGxpYnJhcnkgd2VyZSBmdW5jdGlvbiB3cmFwcGVkIChhcyBpbiBNZXRlb3IuanMgcGFja2FnaW5nIHN5c3RlbSlcbiAgd2luZG93LmZhYnJpYyA9IGZhYnJpYztcbn1cblxuXG4oZnVuY3Rpb24oKSB7XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudE5hbWVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlclxuICAgKi9cbiAgZnVuY3Rpb24gX3JlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBoYW5kbGVyKSB7XG4gICAgaWYgKCF0aGlzLl9fZXZlbnRMaXN0ZW5lcnNbZXZlbnROYW1lXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgZXZlbnRMaXN0ZW5lciA9IHRoaXMuX19ldmVudExpc3RlbmVyc1tldmVudE5hbWVdO1xuICAgIGlmIChoYW5kbGVyKSB7XG4gICAgICBldmVudExpc3RlbmVyW2V2ZW50TGlzdGVuZXIuaW5kZXhPZihoYW5kbGVyKV0gPSBmYWxzZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBmYWJyaWMudXRpbC5hcnJheS5maWxsKGV2ZW50TGlzdGVuZXIsIGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogT2JzZXJ2ZXMgc3BlY2lmaWVkIGV2ZW50XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuT2JzZXJ2YWJsZVxuICAgKiBAYWxpYXMgb25cbiAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBldmVudE5hbWUgRXZlbnQgbmFtZSAoZWcuICdhZnRlcjpyZW5kZXInKSBvciBvYmplY3Qgd2l0aCBrZXkvdmFsdWUgcGFpcnMgKGVnLiB7J2FmdGVyOnJlbmRlcic6IGhhbmRsZXIsICdzZWxlY3Rpb246Y2xlYXJlZCc6IGhhbmRsZXJ9KVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyIEZ1bmN0aW9uIHRoYXQgcmVjZWl2ZXMgYSBub3RpZmljYXRpb24gd2hlbiBhbiBldmVudCBvZiB0aGUgc3BlY2lmaWVkIHR5cGUgb2NjdXJzXG4gICAqIEByZXR1cm4ge1NlbGZ9IHRoaXNBcmdcbiAgICogQGNoYWluYWJsZVxuICAgKi9cbiAgZnVuY3Rpb24gb24oZXZlbnROYW1lLCBoYW5kbGVyKSB7XG4gICAgaWYgKCF0aGlzLl9fZXZlbnRMaXN0ZW5lcnMpIHtcbiAgICAgIHRoaXMuX19ldmVudExpc3RlbmVycyA9IHsgfTtcbiAgICB9XG4gICAgLy8gb25lIG9iamVjdCB3aXRoIGtleS92YWx1ZSBwYWlycyB3YXMgcGFzc2VkXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgIGZvciAodmFyIHByb3AgaW4gZXZlbnROYW1lKSB7XG4gICAgICAgIHRoaXMub24ocHJvcCwgZXZlbnROYW1lW3Byb3BdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBpZiAoIXRoaXMuX19ldmVudExpc3RlbmVyc1tldmVudE5hbWVdKSB7XG4gICAgICAgIHRoaXMuX19ldmVudExpc3RlbmVyc1tldmVudE5hbWVdID0gW107XG4gICAgICB9XG4gICAgICB0aGlzLl9fZXZlbnRMaXN0ZW5lcnNbZXZlbnROYW1lXS5wdXNoKGhhbmRsZXIpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGZ1bmN0aW9uIF9vbmNlKGV2ZW50TmFtZSwgaGFuZGxlcikge1xuICAgIHZhciBfaGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGhhbmRsZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIHRoaXMub2ZmKGV2ZW50TmFtZSwgX2hhbmRsZXIpO1xuICAgIH0uYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uKGV2ZW50TmFtZSwgX2hhbmRsZXIpO1xuICB9XG5cbiAgZnVuY3Rpb24gb25jZShldmVudE5hbWUsIGhhbmRsZXIpIHtcbiAgICAvLyBvbmUgb2JqZWN0IHdpdGgga2V5L3ZhbHVlIHBhaXJzIHdhcyBwYXNzZWRcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgZm9yICh2YXIgcHJvcCBpbiBldmVudE5hbWUpIHtcbiAgICAgICAgX29uY2UuY2FsbCh0aGlzLCBwcm9wLCBldmVudE5hbWVbcHJvcF0pO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIF9vbmNlLmNhbGwodGhpcywgZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogU3RvcHMgZXZlbnQgb2JzZXJ2aW5nIGZvciBhIHBhcnRpY3VsYXIgZXZlbnQgaGFuZGxlci4gQ2FsbGluZyB0aGlzIG1ldGhvZFxuICAgKiB3aXRob3V0IGFyZ3VtZW50cyByZW1vdmVzIGFsbCBoYW5kbGVycyBmb3IgYWxsIGV2ZW50c1xuICAgKiBAbWVtYmVyT2YgZmFicmljLk9ic2VydmFibGVcbiAgICogQGFsaWFzIG9mZlxuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IGV2ZW50TmFtZSBFdmVudCBuYW1lIChlZy4gJ2FmdGVyOnJlbmRlcicpIG9yIG9iamVjdCB3aXRoIGtleS92YWx1ZSBwYWlycyAoZWcuIHsnYWZ0ZXI6cmVuZGVyJzogaGFuZGxlciwgJ3NlbGVjdGlvbjpjbGVhcmVkJzogaGFuZGxlcn0pXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXIgRnVuY3Rpb24gdG8gYmUgZGVsZXRlZCBmcm9tIEV2ZW50TGlzdGVuZXJzXG4gICAqIEByZXR1cm4ge1NlbGZ9IHRoaXNBcmdcbiAgICogQGNoYWluYWJsZVxuICAgKi9cbiAgZnVuY3Rpb24gb2ZmKGV2ZW50TmFtZSwgaGFuZGxlcikge1xuICAgIGlmICghdGhpcy5fX2V2ZW50TGlzdGVuZXJzKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyByZW1vdmUgYWxsIGtleS92YWx1ZSBwYWlycyAoZXZlbnQgbmFtZSAtPiBldmVudCBoYW5kbGVyKVxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICBmb3IgKGV2ZW50TmFtZSBpbiB0aGlzLl9fZXZlbnRMaXN0ZW5lcnMpIHtcbiAgICAgICAgX3JlbW92ZUV2ZW50TGlzdGVuZXIuY2FsbCh0aGlzLCBldmVudE5hbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBvbmUgb2JqZWN0IHdpdGgga2V5L3ZhbHVlIHBhaXJzIHdhcyBwYXNzZWRcbiAgICBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxICYmIHR5cGVvZiBhcmd1bWVudHNbMF0gPT09ICdvYmplY3QnKSB7XG4gICAgICBmb3IgKHZhciBwcm9wIGluIGV2ZW50TmFtZSkge1xuICAgICAgICBfcmVtb3ZlRXZlbnRMaXN0ZW5lci5jYWxsKHRoaXMsIHByb3AsIGV2ZW50TmFtZVtwcm9wXSk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgX3JlbW92ZUV2ZW50TGlzdGVuZXIuY2FsbCh0aGlzLCBldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBGaXJlcyBldmVudCB3aXRoIGFuIG9wdGlvbmFsIG9wdGlvbnMgb2JqZWN0XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuT2JzZXJ2YWJsZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnROYW1lIEV2ZW50IG5hbWUgdG8gZmlyZVxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAqIEByZXR1cm4ge1NlbGZ9IHRoaXNBcmdcbiAgICogQGNoYWluYWJsZVxuICAgKi9cbiAgZnVuY3Rpb24gZmlyZShldmVudE5hbWUsIG9wdGlvbnMpIHtcbiAgICBpZiAoIXRoaXMuX19ldmVudExpc3RlbmVycykge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgdmFyIGxpc3RlbmVyc0ZvckV2ZW50ID0gdGhpcy5fX2V2ZW50TGlzdGVuZXJzW2V2ZW50TmFtZV07XG4gICAgaWYgKCFsaXN0ZW5lcnNGb3JFdmVudCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGxpc3RlbmVyc0ZvckV2ZW50Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBsaXN0ZW5lcnNGb3JFdmVudFtpXSAmJiBsaXN0ZW5lcnNGb3JFdmVudFtpXS5jYWxsKHRoaXMsIG9wdGlvbnMgfHwgeyB9KTtcbiAgICB9XG4gICAgdGhpcy5fX2V2ZW50TGlzdGVuZXJzW2V2ZW50TmFtZV0gPSBsaXN0ZW5lcnNGb3JFdmVudC5maWx0ZXIoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSAhPT0gZmFsc2U7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQG5hbWVzcGFjZSBmYWJyaWMuT2JzZXJ2YWJsZVxuICAgKiBAdHV0b3JpYWwge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vZmFicmljLWludHJvLXBhcnQtMiNldmVudHN9XG4gICAqIEBzZWUge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vZXZlbnRzfEV2ZW50cyBkZW1vfVxuICAgKi9cbiAgZmFicmljLk9ic2VydmFibGUgPSB7XG4gICAgZmlyZTogZmlyZSxcbiAgICBvbjogb24sXG4gICAgb25jZTogb25jZSxcbiAgICBvZmY6IG9mZixcbiAgfTtcbn0pKCk7XG5cblxuLyoqXG4gKiBAbmFtZXNwYWNlIGZhYnJpYy5Db2xsZWN0aW9uXG4gKi9cbmZhYnJpYy5Db2xsZWN0aW9uID0ge1xuXG4gIF9vYmplY3RzOiBbXSxcblxuICAvKipcbiAgICogQWRkcyBvYmplY3RzIHRvIGNvbGxlY3Rpb24sIENhbnZhcyBvciBHcm91cCwgdGhlbiByZW5kZXJzIGNhbnZhc1xuICAgKiAoaWYgYHJlbmRlck9uQWRkUmVtb3ZlYCBpcyBub3QgYGZhbHNlYCkuXG4gICAqIGluIGNhc2Ugb2YgR3JvdXAgbm8gY2hhbmdlcyB0byBib3VuZGluZyBib3ggYXJlIG1hZGUuXG4gICAqIE9iamVjdHMgc2hvdWxkIGJlIGluc3RhbmNlcyBvZiAob3IgaW5oZXJpdCBmcm9tKSBmYWJyaWMuT2JqZWN0XG4gICAqIFVzZSBvZiB0aGlzIGZ1bmN0aW9uIGlzIGhpZ2hseSBkaXNjb3VyYWdlZCBmb3IgZ3JvdXBzLlxuICAgKiB5b3UgY2FuIGFkZCBhIGJ1bmNoIG9mIG9iamVjdHMgd2l0aCB0aGUgYWRkIG1ldGhvZCBidXQgdGhlbiB5b3UgTkVFRFxuICAgKiB0byBydW4gYSBhZGRXaXRoVXBkYXRlIGNhbGwgZm9yIHRoZSBHcm91cCBjbGFzcyBvciBwb3NpdGlvbi9iYm94IHdpbGwgYmUgd3JvbmcuXG4gICAqIEBwYXJhbSB7Li4uZmFicmljLk9iamVjdH0gb2JqZWN0IFplcm8gb3IgbW9yZSBmYWJyaWMgaW5zdGFuY2VzXG4gICAqIEByZXR1cm4ge1NlbGZ9IHRoaXNBcmdcbiAgICogQGNoYWluYWJsZVxuICAgKi9cbiAgYWRkOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5fb2JqZWN0cy5wdXNoLmFwcGx5KHRoaXMuX29iamVjdHMsIGFyZ3VtZW50cyk7XG4gICAgaWYgKHRoaXMuX29uT2JqZWN0QWRkZWQpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5fb25PYmplY3RBZGRlZChhcmd1bWVudHNbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnJlbmRlck9uQWRkUmVtb3ZlICYmIHRoaXMucmVxdWVzdFJlbmRlckFsbCgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBJbnNlcnRzIGFuIG9iamVjdCBpbnRvIGNvbGxlY3Rpb24gYXQgc3BlY2lmaWVkIGluZGV4LCB0aGVuIHJlbmRlcnMgY2FudmFzIChpZiBgcmVuZGVyT25BZGRSZW1vdmVgIGlzIG5vdCBgZmFsc2VgKVxuICAgKiBBbiBvYmplY3Qgc2hvdWxkIGJlIGFuIGluc3RhbmNlIG9mIChvciBpbmhlcml0IGZyb20pIGZhYnJpYy5PYmplY3RcbiAgICogVXNlIG9mIHRoaXMgZnVuY3Rpb24gaXMgaGlnaGx5IGRpc2NvdXJhZ2VkIGZvciBncm91cHMuXG4gICAqIHlvdSBjYW4gYWRkIGEgYnVuY2ggb2Ygb2JqZWN0cyB3aXRoIHRoZSBpbnNlcnRBdCBtZXRob2QgYnV0IHRoZW4geW91IE5FRURcbiAgICogdG8gcnVuIGEgYWRkV2l0aFVwZGF0ZSBjYWxsIGZvciB0aGUgR3JvdXAgY2xhc3Mgb3IgcG9zaXRpb24vYmJveCB3aWxsIGJlIHdyb25nLlxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBpbnNlcnRcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4IEluZGV4IHRvIGluc2VydCBvYmplY3QgYXRcbiAgICogQHBhcmFtIHtCb29sZWFufSBub25TcGxpY2luZyBXaGVuIGB0cnVlYCwgbm8gc3BsaWNpbmcgKHNoaWZ0aW5nKSBvZiBvYmplY3RzIG9jY3Vyc1xuICAgKiBAcmV0dXJuIHtTZWxmfSB0aGlzQXJnXG4gICAqIEBjaGFpbmFibGVcbiAgICovXG4gIGluc2VydEF0OiBmdW5jdGlvbiAob2JqZWN0LCBpbmRleCwgbm9uU3BsaWNpbmcpIHtcbiAgICB2YXIgb2JqZWN0cyA9IHRoaXMuX29iamVjdHM7XG4gICAgaWYgKG5vblNwbGljaW5nKSB7XG4gICAgICBvYmplY3RzW2luZGV4XSA9IG9iamVjdDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBvYmplY3RzLnNwbGljZShpbmRleCwgMCwgb2JqZWN0KTtcbiAgICB9XG4gICAgdGhpcy5fb25PYmplY3RBZGRlZCAmJiB0aGlzLl9vbk9iamVjdEFkZGVkKG9iamVjdCk7XG4gICAgdGhpcy5yZW5kZXJPbkFkZFJlbW92ZSAmJiB0aGlzLnJlcXVlc3RSZW5kZXJBbGwoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvKipcbiAgICogUmVtb3ZlcyBvYmplY3RzIGZyb20gYSBjb2xsZWN0aW9uLCB0aGVuIHJlbmRlcnMgY2FudmFzIChpZiBgcmVuZGVyT25BZGRSZW1vdmVgIGlzIG5vdCBgZmFsc2VgKVxuICAgKiBAcGFyYW0gey4uLmZhYnJpYy5PYmplY3R9IG9iamVjdCBaZXJvIG9yIG1vcmUgZmFicmljIGluc3RhbmNlc1xuICAgKiBAcmV0dXJuIHtTZWxmfSB0aGlzQXJnXG4gICAqIEBjaGFpbmFibGVcbiAgICovXG4gIHJlbW92ZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIG9iamVjdHMgPSB0aGlzLl9vYmplY3RzLFxuICAgICAgICBpbmRleCwgc29tZXRoaW5nUmVtb3ZlZCA9IGZhbHNlO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaW5kZXggPSBvYmplY3RzLmluZGV4T2YoYXJndW1lbnRzW2ldKTtcblxuICAgICAgLy8gb25seSBjYWxsIG9uT2JqZWN0UmVtb3ZlZCBpZiBhbiBvYmplY3Qgd2FzIGFjdHVhbGx5IHJlbW92ZWRcbiAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgc29tZXRoaW5nUmVtb3ZlZCA9IHRydWU7XG4gICAgICAgIG9iamVjdHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgdGhpcy5fb25PYmplY3RSZW1vdmVkICYmIHRoaXMuX29uT2JqZWN0UmVtb3ZlZChhcmd1bWVudHNbaV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMucmVuZGVyT25BZGRSZW1vdmUgJiYgc29tZXRoaW5nUmVtb3ZlZCAmJiB0aGlzLnJlcXVlc3RSZW5kZXJBbGwoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvKipcbiAgICogRXhlY3V0ZXMgZ2l2ZW4gZnVuY3Rpb24gZm9yIGVhY2ggb2JqZWN0IGluIHRoaXMgZ3JvdXBcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICogICAgICAgICAgICAgICAgICAgQ2FsbGJhY2sgaW52b2tlZCB3aXRoIGN1cnJlbnQgb2JqZWN0IGFzIGZpcnN0IGFyZ3VtZW50LFxuICAgKiAgICAgICAgICAgICAgICAgICBpbmRleCAtIGFzIHNlY29uZCBhbmQgYW4gYXJyYXkgb2YgYWxsIG9iamVjdHMgLSBhcyB0aGlyZC5cbiAgICogICAgICAgICAgICAgICAgICAgQ2FsbGJhY2sgaXMgaW52b2tlZCBpbiBhIGNvbnRleHQgb2YgR2xvYmFsIE9iamVjdCAoZS5nLiBgd2luZG93YClcbiAgICogICAgICAgICAgICAgICAgICAgd2hlbiBubyBgY29udGV4dGAgYXJndW1lbnQgaXMgZ2l2ZW5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHQgQ29udGV4dCAoYWthIHRoaXNPYmplY3QpXG4gICAqIEByZXR1cm4ge1NlbGZ9IHRoaXNBcmdcbiAgICogQGNoYWluYWJsZVxuICAgKi9cbiAgZm9yRWFjaE9iamVjdDogZnVuY3Rpb24oY2FsbGJhY2ssIGNvbnRleHQpIHtcbiAgICB2YXIgb2JqZWN0cyA9IHRoaXMuZ2V0T2JqZWN0cygpO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBvYmplY3RzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBjYWxsYmFjay5jYWxsKGNvbnRleHQsIG9iamVjdHNbaV0sIGksIG9iamVjdHMpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvKipcbiAgICogUmV0dXJucyBhbiBhcnJheSBvZiBjaGlsZHJlbiBvYmplY3RzIG9mIHRoaXMgaW5zdGFuY2VcbiAgICogVHlwZSBwYXJhbWV0ZXIgaW50cm9kdWNlZCBpbiAxLjMuMTBcbiAgICogc2luY2UgMi4zLjUgdGhpcyBtZXRob2QgcmV0dXJuIGFsd2F5cyBhIENPUFkgb2YgdGhlIGFycmF5O1xuICAgKiBAcGFyYW0ge1N0cmluZ30gW3R5cGVdIFdoZW4gc3BlY2lmaWVkLCBvbmx5IG9iamVjdHMgb2YgdGhpcyB0eXBlIGFyZSByZXR1cm5lZFxuICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICovXG4gIGdldE9iamVjdHM6IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICBpZiAodHlwZW9mIHR5cGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gdGhpcy5fb2JqZWN0cy5jb25jYXQoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX29iamVjdHMuZmlsdGVyKGZ1bmN0aW9uKG8pIHtcbiAgICAgIHJldHVybiBvLnR5cGUgPT09IHR5cGU7XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybnMgb2JqZWN0IGF0IHNwZWNpZmllZCBpbmRleFxuICAgKiBAcGFyYW0ge051bWJlcn0gaW5kZXhcbiAgICogQHJldHVybiB7U2VsZn0gdGhpc0FyZ1xuICAgKi9cbiAgaXRlbTogZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMuX29iamVjdHNbaW5kZXhdO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgY29sbGVjdGlvbiBjb250YWlucyBubyBvYmplY3RzXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgY29sbGVjdGlvbiBpcyBlbXB0eVxuICAgKi9cbiAgaXNFbXB0eTogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9vYmplY3RzLmxlbmd0aCA9PT0gMDtcbiAgfSxcblxuICAvKipcbiAgICogUmV0dXJucyBhIHNpemUgb2YgYSBjb2xsZWN0aW9uIChpLmU6IGxlbmd0aCBvZiBhbiBhcnJheSBjb250YWluaW5nIGl0cyBvYmplY3RzKVxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IENvbGxlY3Rpb24gc2l6ZVxuICAgKi9cbiAgc2l6ZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX29iamVjdHMubGVuZ3RoO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgY29sbGVjdGlvbiBjb250YWlucyBhbiBvYmplY3RcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY2hlY2sgYWdhaW5zdFxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtkZWVwPWZhbHNlXSBgdHJ1ZWAgdG8gY2hlY2sgYWxsIGRlc2NlbmRhbnRzLCBgZmFsc2VgIHRvIGNoZWNrIG9ubHkgYF9vYmplY3RzYFxuICAgKiBAcmV0dXJuIHtCb29sZWFufSBgdHJ1ZWAgaWYgY29sbGVjdGlvbiBjb250YWlucyBhbiBvYmplY3RcbiAgICovXG4gIGNvbnRhaW5zOiBmdW5jdGlvbiAob2JqZWN0LCBkZWVwKSB7XG4gICAgaWYgKHRoaXMuX29iamVjdHMuaW5kZXhPZihvYmplY3QpID4gLTEpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBlbHNlIGlmIChkZWVwKSB7XG4gICAgICByZXR1cm4gdGhpcy5fb2JqZWN0cy5zb21lKGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBvYmouY29udGFpbnMgPT09ICdmdW5jdGlvbicgJiYgb2JqLmNvbnRhaW5zKG9iamVjdCwgdHJ1ZSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIG51bWJlciByZXByZXNlbnRhdGlvbiBvZiBhIGNvbGxlY3Rpb24gY29tcGxleGl0eVxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IGNvbXBsZXhpdHlcbiAgICovXG4gIGNvbXBsZXhpdHk6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5fb2JqZWN0cy5yZWR1Y2UoZnVuY3Rpb24gKG1lbW8sIGN1cnJlbnQpIHtcbiAgICAgIG1lbW8gKz0gY3VycmVudC5jb21wbGV4aXR5ID8gY3VycmVudC5jb21wbGV4aXR5KCkgOiAwO1xuICAgICAgcmV0dXJuIG1lbW87XG4gICAgfSwgMCk7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBAbmFtZXNwYWNlIGZhYnJpYy5Db21tb25NZXRob2RzXG4gKi9cbmZhYnJpYy5Db21tb25NZXRob2RzID0ge1xuXG4gIC8qKlxuICAgKiBTZXRzIG9iamVjdCdzIHByb3BlcnRpZXMgZnJvbSBvcHRpb25zXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICovXG4gIF9zZXRPcHRpb25zOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgZm9yICh2YXIgcHJvcCBpbiBvcHRpb25zKSB7XG4gICAgICB0aGlzLnNldChwcm9wLCBvcHRpb25zW3Byb3BdKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbZmlsbGVyXSBPcHRpb25zIG9iamVjdFxuICAgKiBAcGFyYW0ge1N0cmluZ30gW3Byb3BlcnR5XSBwcm9wZXJ0eSB0byBzZXQgdGhlIEdyYWRpZW50IHRvXG4gICAqL1xuICBfaW5pdEdyYWRpZW50OiBmdW5jdGlvbihmaWxsZXIsIHByb3BlcnR5KSB7XG4gICAgaWYgKGZpbGxlciAmJiBmaWxsZXIuY29sb3JTdG9wcyAmJiAhKGZpbGxlciBpbnN0YW5jZW9mIGZhYnJpYy5HcmFkaWVudCkpIHtcbiAgICAgIHRoaXMuc2V0KHByb3BlcnR5LCBuZXcgZmFicmljLkdyYWRpZW50KGZpbGxlcikpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IFtmaWxsZXJdIE9wdGlvbnMgb2JqZWN0XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbcHJvcGVydHldIHByb3BlcnR5IHRvIHNldCB0aGUgUGF0dGVybiB0b1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIGNhbGxiYWNrIHRvIGludm9rZSBhZnRlciBwYXR0ZXJuIGxvYWRcbiAgICovXG4gIF9pbml0UGF0dGVybjogZnVuY3Rpb24oZmlsbGVyLCBwcm9wZXJ0eSwgY2FsbGJhY2spIHtcbiAgICBpZiAoZmlsbGVyICYmIGZpbGxlci5zb3VyY2UgJiYgIShmaWxsZXIgaW5zdGFuY2VvZiBmYWJyaWMuUGF0dGVybikpIHtcbiAgICAgIHRoaXMuc2V0KHByb3BlcnR5LCBuZXcgZmFicmljLlBhdHRlcm4oZmlsbGVyLCBjYWxsYmFjaykpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3NldE9iamVjdDogZnVuY3Rpb24ob2JqKSB7XG4gICAgZm9yICh2YXIgcHJvcCBpbiBvYmopIHtcbiAgICAgIHRoaXMuX3NldChwcm9wLCBvYmpbcHJvcF0pO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogU2V0cyBwcm9wZXJ0eSB0byBhIGdpdmVuIHZhbHVlLiBXaGVuIGNoYW5naW5nIHBvc2l0aW9uL2RpbWVuc2lvbiAtcmVsYXRlZCBwcm9wZXJ0aWVzIChsZWZ0LCB0b3AsIHNjYWxlLCBhbmdsZSwgZXRjLikgYHNldGAgZG9lcyBub3QgdXBkYXRlIHBvc2l0aW9uIG9mIG9iamVjdCdzIGJvcmRlcnMvY29udHJvbHMuIElmIHlvdSBuZWVkIHRvIHVwZGF0ZSB0aG9zZSwgY2FsbCBgc2V0Q29vcmRzKClgLlxuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IGtleSBQcm9wZXJ0eSBuYW1lIG9yIG9iamVjdCAoaWYgb2JqZWN0LCBpdGVyYXRlIG92ZXIgdGhlIG9iamVjdCBwcm9wZXJ0aWVzKVxuICAgKiBAcGFyYW0ge09iamVjdHxGdW5jdGlvbn0gdmFsdWUgUHJvcGVydHkgdmFsdWUgKGlmIGZ1bmN0aW9uLCB0aGUgdmFsdWUgaXMgcGFzc2VkIGludG8gaXQgYW5kIGl0cyByZXR1cm4gdmFsdWUgaXMgdXNlZCBhcyBhIG5ldyBvbmUpXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IHRoaXNBcmdcbiAgICogQGNoYWluYWJsZVxuICAgKi9cbiAgc2V0OiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiBrZXkgPT09ICdvYmplY3QnKSB7XG4gICAgICB0aGlzLl9zZXRPYmplY3Qoa2V5KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLl9zZXQoa2V5LCB2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIF9zZXQ6IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICB0aGlzW2tleV0gPSB2YWx1ZTtcbiAgfSxcblxuICAvKipcbiAgICogVG9nZ2xlcyBzcGVjaWZpZWQgcHJvcGVydHkgZnJvbSBgdHJ1ZWAgdG8gYGZhbHNlYCBvciBmcm9tIGBmYWxzZWAgdG8gYHRydWVgXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eSBQcm9wZXJ0eSB0byB0b2dnbGVcbiAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgKiBAY2hhaW5hYmxlXG4gICAqL1xuICB0b2dnbGU6IGZ1bmN0aW9uKHByb3BlcnR5KSB7XG4gICAgdmFyIHZhbHVlID0gdGhpcy5nZXQocHJvcGVydHkpO1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJykge1xuICAgICAgdGhpcy5zZXQocHJvcGVydHksICF2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBCYXNpYyBnZXR0ZXJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IG5hbWVcbiAgICogQHJldHVybiB7Kn0gdmFsdWUgb2YgYSBwcm9wZXJ0eVxuICAgKi9cbiAgZ2V0OiBmdW5jdGlvbihwcm9wZXJ0eSkge1xuICAgIHJldHVybiB0aGlzW3Byb3BlcnR5XTtcbiAgfVxufTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgdmFyIHNxcnQgPSBNYXRoLnNxcnQsXG4gICAgICBhdGFuMiA9IE1hdGguYXRhbjIsXG4gICAgICBwb3cgPSBNYXRoLnBvdyxcbiAgICAgIFBpQnkxODAgPSBNYXRoLlBJIC8gMTgwLFxuICAgICAgUGlCeTIgPSBNYXRoLlBJIC8gMjtcblxuICAvKipcbiAgICogQG5hbWVzcGFjZSBmYWJyaWMudXRpbFxuICAgKi9cbiAgZmFicmljLnV0aWwgPSB7XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvcyBvZiBhbiBhbmdsZSwgYXZvaWRpbmcgcmV0dXJuaW5nIGZsb2F0cyBmb3Iga25vd24gcmVzdWx0c1xuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYW5nbGUgdGhlIGFuZ2xlIGluIHJhZGlhbnMgb3IgaW4gZGVncmVlXG4gICAgICogQHJldHVybiB7TnVtYmVyfVxuICAgICAqL1xuICAgIGNvczogZnVuY3Rpb24oYW5nbGUpIHtcbiAgICAgIGlmIChhbmdsZSA9PT0gMCkgeyByZXR1cm4gMTsgfVxuICAgICAgaWYgKGFuZ2xlIDwgMCkge1xuICAgICAgICAvLyBjb3MoYSkgPSBjb3MoLWEpXG4gICAgICAgIGFuZ2xlID0gLWFuZ2xlO1xuICAgICAgfVxuICAgICAgdmFyIGFuZ2xlU2xpY2UgPSBhbmdsZSAvIFBpQnkyO1xuICAgICAgc3dpdGNoIChhbmdsZVNsaWNlKSB7XG4gICAgICAgIGNhc2UgMTogY2FzZSAzOiByZXR1cm4gMDtcbiAgICAgICAgY2FzZSAyOiByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICByZXR1cm4gTWF0aC5jb3MoYW5nbGUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIHNpbiBvZiBhbiBhbmdsZSwgYXZvaWRpbmcgcmV0dXJuaW5nIGZsb2F0cyBmb3Iga25vd24gcmVzdWx0c1xuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYW5nbGUgdGhlIGFuZ2xlIGluIHJhZGlhbnMgb3IgaW4gZGVncmVlXG4gICAgICogQHJldHVybiB7TnVtYmVyfVxuICAgICAqL1xuICAgIHNpbjogZnVuY3Rpb24oYW5nbGUpIHtcbiAgICAgIGlmIChhbmdsZSA9PT0gMCkgeyByZXR1cm4gMDsgfVxuICAgICAgdmFyIGFuZ2xlU2xpY2UgPSBhbmdsZSAvIFBpQnkyLCBzaWduID0gMTtcbiAgICAgIGlmIChhbmdsZSA8IDApIHtcbiAgICAgICAgLy8gc2luKC1hKSA9IC1zaW4oYSlcbiAgICAgICAgc2lnbiA9IC0xO1xuICAgICAgfVxuICAgICAgc3dpdGNoIChhbmdsZVNsaWNlKSB7XG4gICAgICAgIGNhc2UgMTogcmV0dXJuIHNpZ247XG4gICAgICAgIGNhc2UgMjogcmV0dXJuIDA7XG4gICAgICAgIGNhc2UgMzogcmV0dXJuIC1zaWduO1xuICAgICAgfVxuICAgICAgcmV0dXJuIE1hdGguc2luKGFuZ2xlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB2YWx1ZSBmcm9tIGFuIGFycmF5LlxuICAgICAqIFByZXNlbmNlIG9mIHZhbHVlIChhbmQgaXRzIHBvc2l0aW9uIGluIGFuIGFycmF5KSBpcyBkZXRlcm1pbmVkIHZpYSBgQXJyYXkucHJvdG90eXBlLmluZGV4T2ZgXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5XG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgICAqIEByZXR1cm4ge0FycmF5fSBvcmlnaW5hbCBhcnJheVxuICAgICAqL1xuICAgIHJlbW92ZUZyb21BcnJheTogZnVuY3Rpb24oYXJyYXksIHZhbHVlKSB7XG4gICAgICB2YXIgaWR4ID0gYXJyYXkuaW5kZXhPZih2YWx1ZSk7XG4gICAgICBpZiAoaWR4ICE9PSAtMSkge1xuICAgICAgICBhcnJheS5zcGxpY2UoaWR4LCAxKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyByYW5kb20gbnVtYmVyIGJldHdlZW4gMiBzcGVjaWZpZWQgb25lcy5cbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG1pbiBsb3dlciBsaW1pdFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBtYXggdXBwZXIgbGltaXRcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IHJhbmRvbSB2YWx1ZSAoYmV0d2VlbiBtaW4gYW5kIG1heClcbiAgICAgKi9cbiAgICBnZXRSYW5kb21JbnQ6IGZ1bmN0aW9uKG1pbiwgbWF4KSB7XG4gICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtcyBkZWdyZWVzIHRvIHJhZGlhbnMuXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBkZWdyZWVzIHZhbHVlIGluIGRlZ3JlZXNcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IHZhbHVlIGluIHJhZGlhbnNcbiAgICAgKi9cbiAgICBkZWdyZWVzVG9SYWRpYW5zOiBmdW5jdGlvbihkZWdyZWVzKSB7XG4gICAgICByZXR1cm4gZGVncmVlcyAqIFBpQnkxODA7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybXMgcmFkaWFucyB0byBkZWdyZWVzLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcmFkaWFucyB2YWx1ZSBpbiByYWRpYW5zXG4gICAgICogQHJldHVybiB7TnVtYmVyfSB2YWx1ZSBpbiBkZWdyZWVzXG4gICAgICovXG4gICAgcmFkaWFuc1RvRGVncmVlczogZnVuY3Rpb24ocmFkaWFucykge1xuICAgICAgcmV0dXJuIHJhZGlhbnMgLyBQaUJ5MTgwO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSb3RhdGVzIGBwb2ludGAgYXJvdW5kIGBvcmlnaW5gIHdpdGggYHJhZGlhbnNgXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSBwb2ludCBUaGUgcG9pbnQgdG8gcm90YXRlXG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IG9yaWdpbiBUaGUgb3JpZ2luIG9mIHRoZSByb3RhdGlvblxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSByYWRpYW5zIFRoZSByYWRpYW5zIG9mIHRoZSBhbmdsZSBmb3IgdGhlIHJvdGF0aW9uXG4gICAgICogQHJldHVybiB7ZmFicmljLlBvaW50fSBUaGUgbmV3IHJvdGF0ZWQgcG9pbnRcbiAgICAgKi9cbiAgICByb3RhdGVQb2ludDogZnVuY3Rpb24ocG9pbnQsIG9yaWdpbiwgcmFkaWFucykge1xuICAgICAgdmFyIG5ld1BvaW50ID0gbmV3IGZhYnJpYy5Qb2ludChwb2ludC54IC0gb3JpZ2luLngsIHBvaW50LnkgLSBvcmlnaW4ueSksXG4gICAgICAgICAgdiA9IGZhYnJpYy51dGlsLnJvdGF0ZVZlY3RvcihuZXdQb2ludCwgcmFkaWFucyk7XG4gICAgICByZXR1cm4gbmV3IGZhYnJpYy5Qb2ludCh2LngsIHYueSkuYWRkRXF1YWxzKG9yaWdpbik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJvdGF0ZXMgYHZlY3RvcmAgd2l0aCBgcmFkaWFuc2BcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHZlY3RvciBUaGUgdmVjdG9yIHRvIHJvdGF0ZSAoeCBhbmQgeSlcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcmFkaWFucyBUaGUgcmFkaWFucyBvZiB0aGUgYW5nbGUgZm9yIHRoZSByb3RhdGlvblxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIG5ldyByb3RhdGVkIHBvaW50XG4gICAgICovXG4gICAgcm90YXRlVmVjdG9yOiBmdW5jdGlvbih2ZWN0b3IsIHJhZGlhbnMpIHtcbiAgICAgIHZhciBzaW4gPSBmYWJyaWMudXRpbC5zaW4ocmFkaWFucyksXG4gICAgICAgICAgY29zID0gZmFicmljLnV0aWwuY29zKHJhZGlhbnMpLFxuICAgICAgICAgIHJ4ID0gdmVjdG9yLnggKiBjb3MgLSB2ZWN0b3IueSAqIHNpbixcbiAgICAgICAgICByeSA9IHZlY3Rvci54ICogc2luICsgdmVjdG9yLnkgKiBjb3M7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB4OiByeCxcbiAgICAgICAgeTogcnlcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSB2ZXRvciBmcm9tIHBvaW50cyByZXByZXNlbnRlZCBhcyBhIHBvaW50XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqXG4gICAgICogQHR5cGVkZWYge09iamVjdH0gUG9pbnRcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0geFxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB5XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BvaW50fSBmcm9tXG4gICAgICogQHBhcmFtIHtQb2ludH0gdG9cbiAgICAgKiBAcmV0dXJucyB7UG9pbnR9IHZlY3RvclxuICAgICAqL1xuICAgIGNyZWF0ZVZlY3RvcjogZnVuY3Rpb24gKGZyb20sIHRvKSB7XG4gICAgICByZXR1cm4gbmV3IGZhYnJpYy5Qb2ludCh0by54IC0gZnJvbS54LCB0by55IC0gZnJvbS55KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyBhbmdsZSBiZXR3ZWVuIDIgdmVjdG9ycyB1c2luZyBkb3QgcHJvZHVjdFxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge1BvaW50fSBhXG4gICAgICogQHBhcmFtIHtQb2ludH0gYlxuICAgICAqIEByZXR1cm5zIHRoZSBhbmdsZSBpbiByYWRpYW4gYmV0d2VlbiB0aGUgdmVjdG9yc1xuICAgICAqL1xuICAgIGNhbGNBbmdsZUJldHdlZW5WZWN0b3JzOiBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgcmV0dXJuIE1hdGguYWNvcygoYS54ICogYi54ICsgYS55ICogYi55KSAvIChNYXRoLmh5cG90KGEueCwgYS55KSAqIE1hdGguaHlwb3QoYi54LCBiLnkpKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge1BvaW50fSB2XG4gICAgICogQHJldHVybnMge1BvaW50fSB2ZWN0b3IgcmVwcmVzZW50aW5nIHRoZSB1bml0IHZlY3RvciBvZiBwb2ludGluZyB0byB0aGUgZGlyZWN0aW9uIG9mIGB2YFxuICAgICAqL1xuICAgIGdldEhhdFZlY3RvcjogZnVuY3Rpb24gKHYpIHtcbiAgICAgIHJldHVybiBuZXcgZmFicmljLlBvaW50KHYueCwgdi55KS5tdWx0aXBseSgxIC8gTWF0aC5oeXBvdCh2LngsIHYueSkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtQb2ludH0gQVxuICAgICAqIEBwYXJhbSB7UG9pbnR9IEJcbiAgICAgKiBAcGFyYW0ge1BvaW50fSBDXG4gICAgICogQHJldHVybnMge3sgdmVjdG9yOiBQb2ludCwgYW5nbGU6IG51bWJlciB9fSB2ZWN0b3IgcmVwcmVzZW50aW5nIHRoZSBiaXNlY3RvciBvZiBBIGFuZCBBJ3MgYW5nbGVcbiAgICAgKi9cbiAgICBnZXRCaXNlY3RvcjogZnVuY3Rpb24gKEEsIEIsIEMpIHtcbiAgICAgIHZhciBBQiA9IGZhYnJpYy51dGlsLmNyZWF0ZVZlY3RvcihBLCBCKSwgQUMgPSBmYWJyaWMudXRpbC5jcmVhdGVWZWN0b3IoQSwgQyk7XG4gICAgICB2YXIgYWxwaGEgPSBmYWJyaWMudXRpbC5jYWxjQW5nbGVCZXR3ZWVuVmVjdG9ycyhBQiwgQUMpO1xuICAgICAgLy8gIGNoZWNrIGlmIGFscGhhIGlzIHJlbGF0aXZlIHRvIEFCLT5CQ1xuICAgICAgdmFyIHJvID0gZmFicmljLnV0aWwuY2FsY0FuZ2xlQmV0d2VlblZlY3RvcnMoZmFicmljLnV0aWwucm90YXRlVmVjdG9yKEFCLCBhbHBoYSksIEFDKTtcbiAgICAgIHZhciBwaGkgPSBhbHBoYSAqIChybyA9PT0gMCA/IDEgOiAtMSkgLyAyO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmVjdG9yOiBmYWJyaWMudXRpbC5nZXRIYXRWZWN0b3IoZmFicmljLnV0aWwucm90YXRlVmVjdG9yKEFCLCBwaGkpKSxcbiAgICAgICAgYW5nbGU6IGFscGhhXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQcm9qZWN0IHN0cm9rZSB3aWR0aCBvbiBwb2ludHMgcmV0dXJuaW5nIDIgcHJvamVjdGlvbnMgZm9yIGVhY2ggcG9pbnQgYXMgZm9sbG93czpcbiAgICAgKiAtIGBtaXRlcmA6IDIgcG9pbnRzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIG91dGVyIGJvdW5kYXJ5IGFuZCB0aGUgaW5uZXIgYm91bmRhcnkgb2Ygc3Ryb2tlLlxuICAgICAqIC0gYGJldmVsYDogMiBwb2ludHMgY29ycmVzcG9uZGluZyB0byB0aGUgYmV2ZWwgYm91bmRhcmllcywgdGFuZ2VudCB0byB0aGUgYmlzZWN0b3IuXG4gICAgICogLSBgcm91bmRgOiBzYW1lIGFzIGBiZXZlbGBcbiAgICAgKiBVc2VkIHRvIGNhbGN1bGF0ZSBvYmplY3QncyBib3VuZGluZyBib3hcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtQb2ludFtdfSBwb2ludHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLnN0cm9rZVdpZHRoXG4gICAgICogQHBhcmFtIHsnbWl0ZXInfCdiZXZlbCd8J3JvdW5kJ30gb3B0aW9ucy5zdHJva2VMaW5lSm9pblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLnN0cm9rZU1pdGVyTGltaXQgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvU1ZHL0F0dHJpYnV0ZS9zdHJva2UtbWl0ZXJsaW1pdFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy5zdHJva2VVbmlmb3JtXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9wdGlvbnMuc2NhbGVYXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9wdGlvbnMuc2NhbGVZXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3BlblBhdGhdIHdoZXRoZXIgdGhlIHNoYXBlIGlzIG9wZW4gb3Igbm90LCBhZmZlY3RzIHRoZSBjYWxjdWxhdGlvbnMgb2YgdGhlIGZpcnN0IGFuZCBsYXN0IHBvaW50c1xuICAgICAqIEByZXR1cm5zIHtmYWJyaWMuUG9pbnRbXX0gYXJyYXkgb2Ygc2l6ZSAybi80biBvZiBhbGwgc3VzcGVjdGVkIHBvaW50c1xuICAgICAqL1xuICAgIHByb2plY3RTdHJva2VPblBvaW50czogZnVuY3Rpb24gKHBvaW50cywgb3B0aW9ucywgb3BlblBhdGgpIHtcbiAgICAgIHZhciBjb29yZHMgPSBbXSwgcyA9IG9wdGlvbnMuc3Ryb2tlV2lkdGggLyAyLFxuICAgICAgICAgIHN0cm9rZVVuaWZvcm1TY2FsYXIgPSBvcHRpb25zLnN0cm9rZVVuaWZvcm0gP1xuICAgICAgICAgICAgbmV3IGZhYnJpYy5Qb2ludCgxIC8gb3B0aW9ucy5zY2FsZVgsIDEgLyBvcHRpb25zLnNjYWxlWSkgOiBuZXcgZmFicmljLlBvaW50KDEsIDEpLFxuICAgICAgICAgIGdldFN0cm9rZUhhdFZlY3RvciA9IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICB2YXIgc2NhbGFyID0gcyAvIChNYXRoLmh5cG90KHYueCwgdi55KSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IGZhYnJpYy5Qb2ludCh2LnggKiBzY2FsYXIgKiBzdHJva2VVbmlmb3JtU2NhbGFyLngsIHYueSAqIHNjYWxhciAqIHN0cm9rZVVuaWZvcm1TY2FsYXIueSk7XG4gICAgICAgICAgfTtcbiAgICAgIGlmIChwb2ludHMubGVuZ3RoIDw9IDEpIHtyZXR1cm4gY29vcmRzO31cbiAgICAgIHBvaW50cy5mb3JFYWNoKGZ1bmN0aW9uIChwLCBpbmRleCkge1xuICAgICAgICB2YXIgQSA9IG5ldyBmYWJyaWMuUG9pbnQocC54LCBwLnkpLCBCLCBDO1xuICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgICBDID0gcG9pbnRzW2luZGV4ICsgMV07XG4gICAgICAgICAgQiA9IG9wZW5QYXRoID8gZ2V0U3Ryb2tlSGF0VmVjdG9yKGZhYnJpYy51dGlsLmNyZWF0ZVZlY3RvcihDLCBBKSkuYWRkRXF1YWxzKEEpIDogcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpbmRleCA9PT0gcG9pbnRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICBCID0gcG9pbnRzW2luZGV4IC0gMV07XG4gICAgICAgICAgQyA9IG9wZW5QYXRoID8gZ2V0U3Ryb2tlSGF0VmVjdG9yKGZhYnJpYy51dGlsLmNyZWF0ZVZlY3RvcihCLCBBKSkuYWRkRXF1YWxzKEEpIDogcG9pbnRzWzBdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIEIgPSBwb2ludHNbaW5kZXggLSAxXTtcbiAgICAgICAgICBDID0gcG9pbnRzW2luZGV4ICsgMV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJpc2VjdG9yID0gZmFicmljLnV0aWwuZ2V0QmlzZWN0b3IoQSwgQiwgQyksXG4gICAgICAgICAgICBiaXNlY3RvclZlY3RvciA9IGJpc2VjdG9yLnZlY3RvcixcbiAgICAgICAgICAgIGFscGhhID0gYmlzZWN0b3IuYW5nbGUsXG4gICAgICAgICAgICBzY2FsYXIsXG4gICAgICAgICAgICBtaXRlclZlY3RvcjtcbiAgICAgICAgaWYgKG9wdGlvbnMuc3Ryb2tlTGluZUpvaW4gPT09ICdtaXRlcicpIHtcbiAgICAgICAgICBzY2FsYXIgPSAtcyAvIE1hdGguc2luKGFscGhhIC8gMik7XG4gICAgICAgICAgbWl0ZXJWZWN0b3IgPSBuZXcgZmFicmljLlBvaW50KFxuICAgICAgICAgICAgYmlzZWN0b3JWZWN0b3IueCAqIHNjYWxhciAqIHN0cm9rZVVuaWZvcm1TY2FsYXIueCxcbiAgICAgICAgICAgIGJpc2VjdG9yVmVjdG9yLnkgKiBzY2FsYXIgKiBzdHJva2VVbmlmb3JtU2NhbGFyLnlcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChNYXRoLmh5cG90KG1pdGVyVmVjdG9yLngsIG1pdGVyVmVjdG9yLnkpIC8gcyA8PSBvcHRpb25zLnN0cm9rZU1pdGVyTGltaXQpIHtcbiAgICAgICAgICAgIGNvb3Jkcy5wdXNoKEEuYWRkKG1pdGVyVmVjdG9yKSk7XG4gICAgICAgICAgICBjb29yZHMucHVzaChBLnN1YnRyYWN0KG1pdGVyVmVjdG9yKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNjYWxhciA9IC1zICogTWF0aC5TUVJUMjtcbiAgICAgICAgbWl0ZXJWZWN0b3IgPSBuZXcgZmFicmljLlBvaW50KFxuICAgICAgICAgIGJpc2VjdG9yVmVjdG9yLnggKiBzY2FsYXIgKiBzdHJva2VVbmlmb3JtU2NhbGFyLngsXG4gICAgICAgICAgYmlzZWN0b3JWZWN0b3IueSAqIHNjYWxhciAqIHN0cm9rZVVuaWZvcm1TY2FsYXIueVxuICAgICAgICApO1xuICAgICAgICBjb29yZHMucHVzaChBLmFkZChtaXRlclZlY3RvcikpO1xuICAgICAgICBjb29yZHMucHVzaChBLnN1YnRyYWN0KG1pdGVyVmVjdG9yKSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBjb29yZHM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFwcGx5IHRyYW5zZm9ybSB0IHRvIHBvaW50IHBcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtICB7ZmFicmljLlBvaW50fSBwIFRoZSBwb2ludCB0byB0cmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0gIHtBcnJheX0gdCBUaGUgdHJhbnNmb3JtXG4gICAgICogQHBhcmFtICB7Qm9vbGVhbn0gW2lnbm9yZU9mZnNldF0gSW5kaWNhdGVzIHRoYXQgdGhlIG9mZnNldCBzaG91bGQgbm90IGJlIGFwcGxpZWRcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUG9pbnR9IFRoZSB0cmFuc2Zvcm1lZCBwb2ludFxuICAgICAqL1xuICAgIHRyYW5zZm9ybVBvaW50OiBmdW5jdGlvbihwLCB0LCBpZ25vcmVPZmZzZXQpIHtcbiAgICAgIGlmIChpZ25vcmVPZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBmYWJyaWMuUG9pbnQoXG4gICAgICAgICAgdFswXSAqIHAueCArIHRbMl0gKiBwLnksXG4gICAgICAgICAgdFsxXSAqIHAueCArIHRbM10gKiBwLnlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgZmFicmljLlBvaW50KFxuICAgICAgICB0WzBdICogcC54ICsgdFsyXSAqIHAueSArIHRbNF0sXG4gICAgICAgIHRbMV0gKiBwLnggKyB0WzNdICogcC55ICsgdFs1XVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBjb29yZGluYXRlcyBvZiBwb2ludHMncyBib3VuZGluZyByZWN0YW5nbGUgKGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodClcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwb2ludHMgNCBwb2ludHMgYXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbdHJhbnNmb3JtXSBhbiBhcnJheSBvZiA2IG51bWJlcnMgcmVwcmVzZW50aW5nIGEgMngzIHRyYW5zZm9ybSBtYXRyaXhcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IE9iamVjdCB3aXRoIGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgbWFrZUJvdW5kaW5nQm94RnJvbVBvaW50czogZnVuY3Rpb24ocG9pbnRzLCB0cmFuc2Zvcm0pIHtcbiAgICAgIGlmICh0cmFuc2Zvcm0pIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBwb2ludHNbaV0gPSBmYWJyaWMudXRpbC50cmFuc2Zvcm1Qb2ludChwb2ludHNbaV0sIHRyYW5zZm9ybSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciB4UG9pbnRzID0gW3BvaW50c1swXS54LCBwb2ludHNbMV0ueCwgcG9pbnRzWzJdLngsIHBvaW50c1szXS54XSxcbiAgICAgICAgICBtaW5YID0gZmFicmljLnV0aWwuYXJyYXkubWluKHhQb2ludHMpLFxuICAgICAgICAgIG1heFggPSBmYWJyaWMudXRpbC5hcnJheS5tYXgoeFBvaW50cyksXG4gICAgICAgICAgd2lkdGggPSBtYXhYIC0gbWluWCxcbiAgICAgICAgICB5UG9pbnRzID0gW3BvaW50c1swXS55LCBwb2ludHNbMV0ueSwgcG9pbnRzWzJdLnksIHBvaW50c1szXS55XSxcbiAgICAgICAgICBtaW5ZID0gZmFicmljLnV0aWwuYXJyYXkubWluKHlQb2ludHMpLFxuICAgICAgICAgIG1heFkgPSBmYWJyaWMudXRpbC5hcnJheS5tYXgoeVBvaW50cyksXG4gICAgICAgICAgaGVpZ2h0ID0gbWF4WSAtIG1pblk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxlZnQ6IG1pblgsXG4gICAgICAgIHRvcDogbWluWSxcbiAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICBoZWlnaHQ6IGhlaWdodFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSW52ZXJ0IHRyYW5zZm9ybWF0aW9uIHRcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtBcnJheX0gdCBUaGUgdHJhbnNmb3JtXG4gICAgICogQHJldHVybiB7QXJyYXl9IFRoZSBpbnZlcnRlZCB0cmFuc2Zvcm1cbiAgICAgKi9cbiAgICBpbnZlcnRUcmFuc2Zvcm06IGZ1bmN0aW9uKHQpIHtcbiAgICAgIHZhciBhID0gMSAvICh0WzBdICogdFszXSAtIHRbMV0gKiB0WzJdKSxcbiAgICAgICAgICByID0gW2EgKiB0WzNdLCAtYSAqIHRbMV0sIC1hICogdFsyXSwgYSAqIHRbMF1dLFxuICAgICAgICAgIG8gPSBmYWJyaWMudXRpbC50cmFuc2Zvcm1Qb2ludCh7IHg6IHRbNF0sIHk6IHRbNV0gfSwgciwgdHJ1ZSk7XG4gICAgICByWzRdID0gLW8ueDtcbiAgICAgIHJbNV0gPSAtby55O1xuICAgICAgcmV0dXJuIHI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEEgd3JhcHBlciBhcm91bmQgTnVtYmVyI3RvRml4ZWQsIHdoaWNoIGNvbnRyYXJ5IHRvIG5hdGl2ZSBtZXRob2QgcmV0dXJucyBudW1iZXIsIG5vdCBzdHJpbmcuXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfFN0cmluZ30gbnVtYmVyIG51bWJlciB0byBvcGVyYXRlIG9uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGZyYWN0aW9uRGlnaXRzIG51bWJlciBvZiBmcmFjdGlvbiBkaWdpdHMgdG8gXCJsZWF2ZVwiXG4gICAgICogQHJldHVybiB7TnVtYmVyfVxuICAgICAqL1xuICAgIHRvRml4ZWQ6IGZ1bmN0aW9uKG51bWJlciwgZnJhY3Rpb25EaWdpdHMpIHtcbiAgICAgIHJldHVybiBwYXJzZUZsb2F0KE51bWJlcihudW1iZXIpLnRvRml4ZWQoZnJhY3Rpb25EaWdpdHMpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgZnJvbSBhdHRyaWJ1dGUgdmFsdWUgdG8gcGl4ZWwgdmFsdWUgaWYgYXBwbGljYWJsZS5cbiAgICAgKiBSZXR1cm5zIGNvbnZlcnRlZCBwaXhlbHMgb3Igb3JpZ2luYWwgdmFsdWUgbm90IGNvbnZlcnRlZC5cbiAgICAgKiBAcGFyYW0ge051bWJlcnxTdHJpbmd9IHZhbHVlIG51bWJlciB0byBvcGVyYXRlIG9uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGZvbnRTaXplXG4gICAgICogQHJldHVybiB7TnVtYmVyfFN0cmluZ31cbiAgICAgKi9cbiAgICBwYXJzZVVuaXQ6IGZ1bmN0aW9uKHZhbHVlLCBmb250U2l6ZSkge1xuICAgICAgdmFyIHVuaXQgPSAvXFxEezAsMn0kLy5leGVjKHZhbHVlKSxcbiAgICAgICAgICBudW1iZXIgPSBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgICAgIGlmICghZm9udFNpemUpIHtcbiAgICAgICAgZm9udFNpemUgPSBmYWJyaWMuVGV4dC5ERUZBVUxUX1NWR19GT05UX1NJWkU7XG4gICAgICB9XG4gICAgICBzd2l0Y2ggKHVuaXRbMF0pIHtcbiAgICAgICAgY2FzZSAnbW0nOlxuICAgICAgICAgIHJldHVybiBudW1iZXIgKiBmYWJyaWMuRFBJIC8gMjUuNDtcblxuICAgICAgICBjYXNlICdjbSc6XG4gICAgICAgICAgcmV0dXJuIG51bWJlciAqIGZhYnJpYy5EUEkgLyAyLjU0O1xuXG4gICAgICAgIGNhc2UgJ2luJzpcbiAgICAgICAgICByZXR1cm4gbnVtYmVyICogZmFicmljLkRQSTtcblxuICAgICAgICBjYXNlICdwdCc6XG4gICAgICAgICAgcmV0dXJuIG51bWJlciAqIGZhYnJpYy5EUEkgLyA3MjsgLy8gb3IgKiA0IC8gM1xuXG4gICAgICAgIGNhc2UgJ3BjJzpcbiAgICAgICAgICByZXR1cm4gbnVtYmVyICogZmFicmljLkRQSSAvIDcyICogMTI7IC8vIG9yICogMTZcblxuICAgICAgICBjYXNlICdlbSc6XG4gICAgICAgICAgcmV0dXJuIG51bWJlciAqIGZvbnRTaXplO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIG51bWJlcjtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gd2hpY2ggYWx3YXlzIHJldHVybnMgYGZhbHNlYC5cbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBmYWxzZUZ1bmN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBrbGFzcyBcIkNsYXNzXCIgb2JqZWN0IG9mIGdpdmVuIG5hbWVzcGFjZVxuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFR5cGUgb2Ygb2JqZWN0IChlZy4gJ2NpcmNsZScpXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZSBOYW1lc3BhY2UgdG8gZ2V0IGtsYXNzIFwiQ2xhc3NcIiBvYmplY3QgZnJvbVxuICAgICAqIEByZXR1cm4ge09iamVjdH0ga2xhc3MgXCJDbGFzc1wiXG4gICAgICovXG4gICAgZ2V0S2xhc3M6IGZ1bmN0aW9uKHR5cGUsIG5hbWVzcGFjZSkge1xuICAgICAgLy8gY2FwaXRhbGl6ZSBmaXJzdCBsZXR0ZXIgb25seVxuICAgICAgdHlwZSA9IGZhYnJpYy51dGlsLnN0cmluZy5jYW1lbGl6ZSh0eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgdHlwZS5zbGljZSgxKSk7XG4gICAgICByZXR1cm4gZmFicmljLnV0aWwucmVzb2x2ZU5hbWVzcGFjZShuYW1lc3BhY2UpW3R5cGVdO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFycmF5IG9mIGF0dHJpYnV0ZXMgZm9yIGdpdmVuIHN2ZyB0aGF0IGZhYnJpYyBwYXJzZXNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBUeXBlIG9mIHN2ZyBlbGVtZW50IChlZy4gJ2NpcmNsZScpXG4gICAgICogQHJldHVybiB7QXJyYXl9IHN0cmluZyBuYW1lcyBvZiBzdXBwb3J0ZWQgYXR0cmlidXRlc1xuICAgICAqL1xuICAgIGdldFN2Z0F0dHJpYnV0ZXM6IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgIHZhciBhdHRyaWJ1dGVzID0gW1xuICAgICAgICAnaW5zdGFudGlhdGVkX2J5X3VzZScsXG4gICAgICAgICdzdHlsZScsXG4gICAgICAgICdpZCcsXG4gICAgICAgICdjbGFzcydcbiAgICAgIF07XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSAnbGluZWFyR3JhZGllbnQnOlxuICAgICAgICAgIGF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzLmNvbmNhdChbJ3gxJywgJ3kxJywgJ3gyJywgJ3kyJywgJ2dyYWRpZW50VW5pdHMnLCAnZ3JhZGllbnRUcmFuc2Zvcm0nXSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3JhZGlhbEdyYWRpZW50JzpcbiAgICAgICAgICBhdHRyaWJ1dGVzID0gYXR0cmlidXRlcy5jb25jYXQoWydncmFkaWVudFVuaXRzJywgJ2dyYWRpZW50VHJhbnNmb3JtJywgJ2N4JywgJ2N5JywgJ3InLCAnZngnLCAnZnknLCAnZnInXSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3N0b3AnOlxuICAgICAgICAgIGF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzLmNvbmNhdChbJ29mZnNldCcsICdzdG9wLWNvbG9yJywgJ3N0b3Atb3BhY2l0eSddKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHJldHVybiBhdHRyaWJ1dGVzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIG9iamVjdCBvZiBnaXZlbiBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlIE5hbWVzcGFjZSBzdHJpbmcgZS5nLiAnZmFicmljLkltYWdlLmZpbHRlcicgb3IgJ2ZhYnJpYydcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IE9iamVjdCBmb3IgZ2l2ZW4gbmFtZXNwYWNlIChkZWZhdWx0IGZhYnJpYylcbiAgICAgKi9cbiAgICByZXNvbHZlTmFtZXNwYWNlOiBmdW5jdGlvbihuYW1lc3BhY2UpIHtcbiAgICAgIGlmICghbmFtZXNwYWNlKSB7XG4gICAgICAgIHJldHVybiBmYWJyaWM7XG4gICAgICB9XG5cbiAgICAgIHZhciBwYXJ0cyA9IG5hbWVzcGFjZS5zcGxpdCgnLicpLFxuICAgICAgICAgIGxlbiA9IHBhcnRzLmxlbmd0aCwgaSxcbiAgICAgICAgICBvYmogPSBnbG9iYWwgfHwgZmFicmljLndpbmRvdztcblxuICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgIG9iaiA9IG9ialtwYXJ0c1tpXV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIExvYWRzIGltYWdlIGVsZW1lbnQgZnJvbSBnaXZlbiB1cmwgYW5kIHBhc3NlcyBpdCB0byBhIGNhbGxiYWNrXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHVybCBVUkwgcmVwcmVzZW50aW5nIGFuIGltYWdlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2s7IGludm9rZWQgd2l0aCBsb2FkZWQgaW1hZ2VcbiAgICAgKiBAcGFyYW0geyp9IFtjb250ZXh0XSBDb250ZXh0IHRvIGludm9rZSBjYWxsYmFjayBpblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY3Jvc3NPcmlnaW5dIGNyb3NzT3JpZ2luIHZhbHVlIHRvIHNldCBpbWFnZSBlbGVtZW50IHRvXG4gICAgICovXG4gICAgbG9hZEltYWdlOiBmdW5jdGlvbih1cmwsIGNhbGxiYWNrLCBjb250ZXh0LCBjcm9zc09yaWdpbikge1xuICAgICAgaWYgKCF1cmwpIHtcbiAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2suY2FsbChjb250ZXh0LCB1cmwpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBpbWcgPSBmYWJyaWMudXRpbC5jcmVhdGVJbWFnZSgpO1xuXG4gICAgICAvKiogQGlnbm9yZSAqL1xuICAgICAgdmFyIG9uTG9hZENhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjay5jYWxsKGNvbnRleHQsIGltZywgZmFsc2UpO1xuICAgICAgICBpbWcgPSBpbWcub25sb2FkID0gaW1nLm9uZXJyb3IgPSBudWxsO1xuICAgICAgfTtcblxuICAgICAgaW1nLm9ubG9hZCA9IG9uTG9hZENhbGxiYWNrO1xuICAgICAgLyoqIEBpZ25vcmUgKi9cbiAgICAgIGltZy5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGZhYnJpYy5sb2coJ0Vycm9yIGxvYWRpbmcgJyArIGltZy5zcmMpO1xuICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjay5jYWxsKGNvbnRleHQsIG51bGwsIHRydWUpO1xuICAgICAgICBpbWcgPSBpbWcub25sb2FkID0gaW1nLm9uZXJyb3IgPSBudWxsO1xuICAgICAgfTtcblxuICAgICAgLy8gZGF0YS11cmxzIGFwcGVhciB0byBiZSBidWdneSB3aXRoIGNyb3NzT3JpZ2luXG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20va2FuZ2F4L2ZhYnJpYy5qcy9jb21taXQvZDBhYmI5MGYxY2Q1YzVlZjlkMmE5NGQzZmIyMWEyMjMzMGRhM2UwYSNjb21taXRjb21tZW50LTQ1MTM3NjdcbiAgICAgIC8vIHNlZSBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MzE1MTUyXG4gICAgICAvLyAgICAgaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9OTM1MDY5XG4gICAgICAvLyBjcm9zc09yaWdpbiBudWxsIGlzIHRoZSBzYW1lIGFzIG5vdCBzZXQuXG4gICAgICBpZiAodXJsLmluZGV4T2YoJ2RhdGEnKSAhPT0gMCAmJlxuICAgICAgICBjcm9zc09yaWdpbiAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgIGNyb3NzT3JpZ2luICE9PSBudWxsKSB7XG4gICAgICAgIGltZy5jcm9zc09yaWdpbiA9IGNyb3NzT3JpZ2luO1xuICAgICAgfVxuXG4gICAgICAvLyBJRTEwIC8gSUUxMS1GaXg6IFNWRyBjb250ZW50cyBmcm9tIGRhdGE6IFVSSVxuICAgICAgLy8gd2lsbCBvbmx5IGJlIGF2YWlsYWJsZSBpZiB0aGUgSU1HIGlzIHByZXNlbnRcbiAgICAgIC8vIGluIHRoZSBET00gKGFuZCB2aXNpYmxlKVxuICAgICAgaWYgKHVybC5zdWJzdHJpbmcoMCwxNCkgPT09ICdkYXRhOmltYWdlL3N2ZycpIHtcbiAgICAgICAgaW1nLm9ubG9hZCA9IG51bGw7XG4gICAgICAgIGZhYnJpYy51dGlsLmxvYWRJbWFnZUluRG9tKGltZywgb25Mb2FkQ2FsbGJhY2spO1xuICAgICAgfVxuXG4gICAgICBpbWcuc3JjID0gdXJsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBdHRhY2hlcyBTVkcgaW1hZ2Ugd2l0aCBkYXRhOiBVUkwgdG8gdGhlIGRvbVxuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbWcgSW1hZ2Ugb2JqZWN0IHdpdGggZGF0YTppbWFnZS9zdmcgc3JjXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2s7IGludm9rZWQgd2l0aCBsb2FkZWQgaW1hZ2VcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IERPTSBlbGVtZW50IChkaXYgY29udGFpbmluZyB0aGUgU1ZHIGltYWdlKVxuICAgICAqL1xuICAgIGxvYWRJbWFnZUluRG9tOiBmdW5jdGlvbihpbWcsIG9uTG9hZENhbGxiYWNrKSB7XG4gICAgICB2YXIgZGl2ID0gZmFicmljLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgZGl2LnN0eWxlLndpZHRoID0gZGl2LnN0eWxlLmhlaWdodCA9ICcxcHgnO1xuICAgICAgZGl2LnN0eWxlLmxlZnQgPSBkaXYuc3R5bGUudG9wID0gJy0xMDAlJztcbiAgICAgIGRpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICBkaXYuYXBwZW5kQ2hpbGQoaW1nKTtcbiAgICAgIGZhYnJpYy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JykuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICAgIC8qKlxuICAgICAgICogV3JhcCBpbiBmdW5jdGlvbiB0bzpcbiAgICAgICAqICAgMS4gQ2FsbCBleGlzdGluZyBjYWxsYmFja1xuICAgICAgICogICAyLiBDbGVhbnVwIERPTVxuICAgICAgICovXG4gICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBvbkxvYWRDYWxsYmFjaygpO1xuICAgICAgICBkaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkaXYpO1xuICAgICAgICBkaXYgPSBudWxsO1xuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBjb3JyZXNwb25kaW5nIGZhYnJpYyBpbnN0YW5jZXMgZnJvbSB0aGVpciBvYmplY3QgcmVwcmVzZW50YXRpb25zXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IG9iamVjdHMgT2JqZWN0cyB0byBlbmxpdmVuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2sgdG8gaW52b2tlIHdoZW4gYWxsIG9iamVjdHMgYXJlIGNyZWF0ZWRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlIE5hbWVzcGFjZSB0byBnZXQga2xhc3MgXCJDbGFzc1wiIG9iamVjdCBmcm9tXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcmV2aXZlciBNZXRob2QgZm9yIGZ1cnRoZXIgcGFyc2luZyBvZiBvYmplY3QgZWxlbWVudHMsXG4gICAgICogY2FsbGVkIGFmdGVyIGVhY2ggZmFicmljIG9iamVjdCBjcmVhdGVkLlxuICAgICAqL1xuICAgIGVubGl2ZW5PYmplY3RzOiBmdW5jdGlvbihvYmplY3RzLCBjYWxsYmFjaywgbmFtZXNwYWNlLCByZXZpdmVyKSB7XG4gICAgICBvYmplY3RzID0gb2JqZWN0cyB8fCBbXTtcblxuICAgICAgdmFyIGVubGl2ZW5lZE9iamVjdHMgPSBbXSxcbiAgICAgICAgICBudW1Mb2FkZWRPYmplY3RzID0gMCxcbiAgICAgICAgICBudW1Ub3RhbE9iamVjdHMgPSBvYmplY3RzLmxlbmd0aDtcblxuICAgICAgZnVuY3Rpb24gb25Mb2FkZWQoKSB7XG4gICAgICAgIGlmICgrK251bUxvYWRlZE9iamVjdHMgPT09IG51bVRvdGFsT2JqZWN0cykge1xuICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGVubGl2ZW5lZE9iamVjdHMuZmlsdGVyKGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgICAgLy8gZmlsdGVyIG91dCB1bmRlZmluZWQgb2JqZWN0cyAob2JqZWN0cyB0aGF0IGdhdmUgZXJyb3IpXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIW51bVRvdGFsT2JqZWN0cykge1xuICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhlbmxpdmVuZWRPYmplY3RzKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBvYmplY3RzLmZvckVhY2goZnVuY3Rpb24gKG8sIGluZGV4KSB7XG4gICAgICAgIC8vIGlmIHNwYXJzZSBhcnJheVxuICAgICAgICBpZiAoIW8gfHwgIW8udHlwZSkge1xuICAgICAgICAgIG9uTG9hZGVkKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBrbGFzcyA9IGZhYnJpYy51dGlsLmdldEtsYXNzKG8udHlwZSwgbmFtZXNwYWNlKTtcbiAgICAgICAga2xhc3MuZnJvbU9iamVjdChvLCBmdW5jdGlvbiAob2JqLCBlcnJvcikge1xuICAgICAgICAgIGVycm9yIHx8IChlbmxpdmVuZWRPYmplY3RzW2luZGV4XSA9IG9iaik7XG4gICAgICAgICAgcmV2aXZlciAmJiByZXZpdmVyKG8sIG9iaiwgZXJyb3IpO1xuICAgICAgICAgIG9uTG9hZGVkKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgY29ycmVzcG9uZGluZyBmYWJyaWMgaW5zdGFuY2VzIHJlc2lkaW5nIGluIGFuIG9iamVjdCwgZS5nLiBgY2xpcFBhdGhgXG4gICAgICogQHNlZSB7QGxpbmsgZmFicmljLk9iamVjdC5FTkxJVkVOX1BST1BTfVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbnRleHRdIGFzc2lnbiBlbmxpdmVkIHByb3BzIHRvIHRoaXMgb2JqZWN0IChwYXNzIG51bGwgdG8gc2tpcCB0aGlzKVxuICAgICAqIEBwYXJhbSB7KG9iamVjdHM6ZmFicmljLk9iamVjdFtdKSA9PiB2b2lkfSBjYWxsYmFja1xuICAgICAqL1xuICAgIGVubGl2ZW5PYmplY3RFbmxpdmFibGVzOiBmdW5jdGlvbiAob2JqZWN0LCBjb250ZXh0LCBjYWxsYmFjaykge1xuICAgICAgdmFyIGVubGl2ZW5Qcm9wcyA9IGZhYnJpYy5PYmplY3QuRU5MSVZFTl9QUk9QUy5maWx0ZXIoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gISFvYmplY3Rba2V5XTsgfSk7XG4gICAgICBmYWJyaWMudXRpbC5lbmxpdmVuT2JqZWN0cyhlbmxpdmVuUHJvcHMubWFwKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIG9iamVjdFtrZXldOyB9KSwgZnVuY3Rpb24gKGVubGl2ZWRQcm9wcykge1xuICAgICAgICB2YXIgb2JqZWN0cyA9IHt9O1xuICAgICAgICBlbmxpdmVuUHJvcHMuZm9yRWFjaChmdW5jdGlvbiAoa2V5LCBpbmRleCkge1xuICAgICAgICAgIG9iamVjdHNba2V5XSA9IGVubGl2ZWRQcm9wc1tpbmRleF07XG4gICAgICAgICAgY29udGV4dCAmJiAoY29udGV4dFtrZXldID0gZW5saXZlZFByb3BzW2luZGV4XSk7XG4gICAgICAgIH0pO1xuICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhvYmplY3RzKTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYW5kIHdhaXQgZm9yIGxvYWRpbmcgb2YgcGF0dGVybnNcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGF0dGVybnMgT2JqZWN0cyB0byBlbmxpdmVuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2sgdG8gaW52b2tlIHdoZW4gYWxsIG9iamVjdHMgYXJlIGNyZWF0ZWRcbiAgICAgKiBjYWxsZWQgYWZ0ZXIgZWFjaCBmYWJyaWMgb2JqZWN0IGNyZWF0ZWQuXG4gICAgICovXG4gICAgZW5saXZlblBhdHRlcm5zOiBmdW5jdGlvbihwYXR0ZXJucywgY2FsbGJhY2spIHtcbiAgICAgIHBhdHRlcm5zID0gcGF0dGVybnMgfHwgW107XG5cbiAgICAgIGZ1bmN0aW9uIG9uTG9hZGVkKCkge1xuICAgICAgICBpZiAoKytudW1Mb2FkZWRQYXR0ZXJucyA9PT0gbnVtUGF0dGVybnMpIHtcbiAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhlbmxpdmVuZWRQYXR0ZXJucyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIGVubGl2ZW5lZFBhdHRlcm5zID0gW10sXG4gICAgICAgICAgbnVtTG9hZGVkUGF0dGVybnMgPSAwLFxuICAgICAgICAgIG51bVBhdHRlcm5zID0gcGF0dGVybnMubGVuZ3RoO1xuXG4gICAgICBpZiAoIW51bVBhdHRlcm5zKSB7XG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGVubGl2ZW5lZFBhdHRlcm5zKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBwYXR0ZXJucy5mb3JFYWNoKGZ1bmN0aW9uIChwLCBpbmRleCkge1xuICAgICAgICBpZiAocCAmJiBwLnNvdXJjZSkge1xuICAgICAgICAgIG5ldyBmYWJyaWMuUGF0dGVybihwLCBmdW5jdGlvbihwYXR0ZXJuKSB7XG4gICAgICAgICAgICBlbmxpdmVuZWRQYXR0ZXJuc1tpbmRleF0gPSBwYXR0ZXJuO1xuICAgICAgICAgICAgb25Mb2FkZWQoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBlbmxpdmVuZWRQYXR0ZXJuc1tpbmRleF0gPSBwO1xuICAgICAgICAgIG9uTG9hZGVkKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHcm91cHMgU1ZHIGVsZW1lbnRzICh1c3VhbGx5IHRob3NlIHJldHJpZXZlZCBmcm9tIFNWRyBkb2N1bWVudClcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtBcnJheX0gZWxlbWVudHMgU1ZHIGVsZW1lbnRzIHRvIGdyb3VwXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoIFZhbHVlIHRvIHNldCBzb3VyY2VQYXRoIHRvXG4gICAgICogQHJldHVybiB7ZmFicmljLk9iamVjdHxmYWJyaWMuR3JvdXB9XG4gICAgICovXG4gICAgZ3JvdXBTVkdFbGVtZW50czogZnVuY3Rpb24oZWxlbWVudHMsIG9wdGlvbnMsIHBhdGgpIHtcbiAgICAgIHZhciBvYmplY3Q7XG4gICAgICBpZiAoZWxlbWVudHMgJiYgZWxlbWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcGF0aCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBlbGVtZW50c1swXS5zb3VyY2VQYXRoID0gcGF0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWxlbWVudHNbMF07XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucy53aWR0aCAmJiBvcHRpb25zLmhlaWdodCkge1xuICAgICAgICAgIG9wdGlvbnMuY2VudGVyUG9pbnQgPSB7XG4gICAgICAgICAgICB4OiBvcHRpb25zLndpZHRoIC8gMixcbiAgICAgICAgICAgIHk6IG9wdGlvbnMuaGVpZ2h0IC8gMlxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIG9wdGlvbnMud2lkdGg7XG4gICAgICAgICAgZGVsZXRlIG9wdGlvbnMuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBvYmplY3QgPSBuZXcgZmFicmljLkdyb3VwKGVsZW1lbnRzLCBvcHRpb25zKTtcbiAgICAgIGlmICh0eXBlb2YgcGF0aCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgb2JqZWN0LnNvdXJjZVBhdGggPSBwYXRoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUG9wdWxhdGVzIGFuIG9iamVjdCB3aXRoIHByb3BlcnRpZXMgb2YgYW5vdGhlciBvYmplY3RcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBTb3VyY2Ugb2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRlc3RpbmF0aW9uIERlc3RpbmF0aW9uIG9iamVjdFxuICAgICAqIEByZXR1cm4ge0FycmF5fSBwcm9wZXJ0aWVzIFByb3BlcnRpZXMgbmFtZXMgdG8gaW5jbHVkZVxuICAgICAqL1xuICAgIHBvcHVsYXRlV2l0aFByb3BlcnRpZXM6IGZ1bmN0aW9uKHNvdXJjZSwgZGVzdGluYXRpb24sIHByb3BlcnRpZXMpIHtcbiAgICAgIGlmIChwcm9wZXJ0aWVzICYmIEFycmF5LmlzQXJyYXkocHJvcGVydGllcykpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHByb3BlcnRpZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICBpZiAocHJvcGVydGllc1tpXSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uW3Byb3BlcnRpZXNbaV1dID0gc291cmNlW3Byb3BlcnRpZXNbaV1dO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGNhbnZhcyBlbGVtZW50XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEByZXR1cm4ge0NhbnZhc0VsZW1lbnR9IGluaXRpYWxpemVkIGNhbnZhcyBlbGVtZW50XG4gICAgICovXG4gICAgY3JlYXRlQ2FudmFzRWxlbWVudDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZmFicmljLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2FudmFzIGVsZW1lbnQgdGhhdCBpcyBhIGNvcHkgb2YgYW5vdGhlciBhbmQgaXMgYWxzbyBwYWludGVkXG4gICAgICogQHBhcmFtIHtDYW52YXNFbGVtZW50fSBjYW52YXMgdG8gY29weSBzaXplIGFuZCBjb250ZW50IG9mXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEByZXR1cm4ge0NhbnZhc0VsZW1lbnR9IGluaXRpYWxpemVkIGNhbnZhcyBlbGVtZW50XG4gICAgICovXG4gICAgY29weUNhbnZhc0VsZW1lbnQ6IGZ1bmN0aW9uKGNhbnZhcykge1xuICAgICAgdmFyIG5ld0NhbnZhcyA9IGZhYnJpYy51dGlsLmNyZWF0ZUNhbnZhc0VsZW1lbnQoKTtcbiAgICAgIG5ld0NhbnZhcy53aWR0aCA9IGNhbnZhcy53aWR0aDtcbiAgICAgIG5ld0NhbnZhcy5oZWlnaHQgPSBjYW52YXMuaGVpZ2h0O1xuICAgICAgbmV3Q2FudmFzLmdldENvbnRleHQoJzJkJykuZHJhd0ltYWdlKGNhbnZhcywgMCwgMCk7XG4gICAgICByZXR1cm4gbmV3Q2FudmFzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBzaW5jZSAyLjYuMCBtb3ZlZCBmcm9tIGNhbnZhcyBpbnN0YW5jZSB0byB1dGlsaXR5LlxuICAgICAqIEBwYXJhbSB7Q2FudmFzRWxlbWVudH0gY2FudmFzRWwgdG8gY29weSBzaXplIGFuZCBjb250ZW50IG9mXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGZvcm1hdCAnanBlZycgb3IgJ3BuZycsIGluIHNvbWUgYnJvd3NlcnMgJ3dlYnAnIGlzIG9rIHRvb1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBxdWFsaXR5IDw9IDEgYW5kID4gMFxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IGRhdGEgdXJsXG4gICAgICovXG4gICAgdG9EYXRhVVJMOiBmdW5jdGlvbihjYW52YXNFbCwgZm9ybWF0LCBxdWFsaXR5KSB7XG4gICAgICByZXR1cm4gY2FudmFzRWwudG9EYXRhVVJMKCdpbWFnZS8nICsgZm9ybWF0LCBxdWFsaXR5KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBpbWFnZSBlbGVtZW50ICh3b3JrcyBvbiBjbGllbnQgYW5kIG5vZGUpXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEByZXR1cm4ge0hUTUxJbWFnZUVsZW1lbnR9IEhUTUwgaW1hZ2UgZWxlbWVudFxuICAgICAqL1xuICAgIGNyZWF0ZUltYWdlOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBmYWJyaWMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IG1hdHJpeCBBIGJ5IG1hdHJpeCBCIHRvIG5lc3QgdHJhbnNmb3JtYXRpb25zXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSAge0FycmF5fSBhIEZpcnN0IHRyYW5zZm9ybU1hdHJpeFxuICAgICAqIEBwYXJhbSAge0FycmF5fSBiIFNlY29uZCB0cmFuc2Zvcm1NYXRyaXhcbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBpczJ4MiBmbGFnIHRvIG11bHRpcGx5IG1hdHJpY2VzIGFzIDJ4MiBtYXRyaWNlc1xuICAgICAqIEByZXR1cm4ge0FycmF5fSBUaGUgcHJvZHVjdCBvZiB0aGUgdHdvIHRyYW5zZm9ybSBtYXRyaWNlc1xuICAgICAqL1xuICAgIG11bHRpcGx5VHJhbnNmb3JtTWF0cmljZXM6IGZ1bmN0aW9uKGEsIGIsIGlzMngyKSB7XG4gICAgICAvLyBNYXRyaXggbXVsdGlwbHkgYSAqIGJcbiAgICAgIHJldHVybiBbXG4gICAgICAgIGFbMF0gKiBiWzBdICsgYVsyXSAqIGJbMV0sXG4gICAgICAgIGFbMV0gKiBiWzBdICsgYVszXSAqIGJbMV0sXG4gICAgICAgIGFbMF0gKiBiWzJdICsgYVsyXSAqIGJbM10sXG4gICAgICAgIGFbMV0gKiBiWzJdICsgYVszXSAqIGJbM10sXG4gICAgICAgIGlzMngyID8gMCA6IGFbMF0gKiBiWzRdICsgYVsyXSAqIGJbNV0gKyBhWzRdLFxuICAgICAgICBpczJ4MiA/IDAgOiBhWzFdICogYls0XSArIGFbM10gKiBiWzVdICsgYVs1XVxuICAgICAgXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGVjb21wb3NlcyBzdGFuZGFyZCAyeDMgbWF0cml4IGludG8gdHJhbnNmb3JtIGNvbXBvbmVudHNcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtICB7QXJyYXl9IGEgdHJhbnNmb3JtTWF0cml4XG4gICAgICogQHJldHVybiB7T2JqZWN0fSBDb21wb25lbnRzIG9mIHRyYW5zZm9ybVxuICAgICAqL1xuICAgIHFyRGVjb21wb3NlOiBmdW5jdGlvbihhKSB7XG4gICAgICB2YXIgYW5nbGUgPSBhdGFuMihhWzFdLCBhWzBdKSxcbiAgICAgICAgICBkZW5vbSA9IHBvdyhhWzBdLCAyKSArIHBvdyhhWzFdLCAyKSxcbiAgICAgICAgICBzY2FsZVggPSBzcXJ0KGRlbm9tKSxcbiAgICAgICAgICBzY2FsZVkgPSAoYVswXSAqIGFbM10gLSBhWzJdICogYVsxXSkgLyBzY2FsZVgsXG4gICAgICAgICAgc2tld1ggPSBhdGFuMihhWzBdICogYVsyXSArIGFbMV0gKiBhIFszXSwgZGVub20pO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYW5nbGU6IGFuZ2xlIC8gUGlCeTE4MCxcbiAgICAgICAgc2NhbGVYOiBzY2FsZVgsXG4gICAgICAgIHNjYWxlWTogc2NhbGVZLFxuICAgICAgICBza2V3WDogc2tld1ggLyBQaUJ5MTgwLFxuICAgICAgICBza2V3WTogMCxcbiAgICAgICAgdHJhbnNsYXRlWDogYVs0XSxcbiAgICAgICAgdHJhbnNsYXRlWTogYVs1XVxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHRyYW5zZm9ybSBtYXRyaXggc3RhcnRpbmcgZnJvbSBhbiBvYmplY3Qgb2YgdGhlIHNhbWUga2luZCBvZlxuICAgICAqIHRoZSBvbmUgcmV0dXJuZWQgZnJvbSBxckRlY29tcG9zZSwgdXNlZnVsIGFsc28gaWYgeW91IHdhbnQgdG8gY2FsY3VsYXRlIHNvbWVcbiAgICAgKiB0cmFuc2Zvcm1hdGlvbnMgZnJvbSBhbiBvYmplY3QgdGhhdCBpcyBub3QgZW5saXZlZCB5ZXRcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBbb3B0aW9ucy5hbmdsZV0gYW5nbGUgaW4gZGVncmVlc1xuICAgICAqIEByZXR1cm4ge051bWJlcltdfSB0cmFuc2Zvcm0gbWF0cml4XG4gICAgICovXG4gICAgY2FsY1JvdGF0ZU1hdHJpeDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgaWYgKCFvcHRpb25zLmFuZ2xlKSB7XG4gICAgICAgIHJldHVybiBmYWJyaWMuaU1hdHJpeC5jb25jYXQoKTtcbiAgICAgIH1cbiAgICAgIHZhciB0aGV0YSA9IGZhYnJpYy51dGlsLmRlZ3JlZXNUb1JhZGlhbnMob3B0aW9ucy5hbmdsZSksXG4gICAgICAgICAgY29zID0gZmFicmljLnV0aWwuY29zKHRoZXRhKSxcbiAgICAgICAgICBzaW4gPSBmYWJyaWMudXRpbC5zaW4odGhldGEpO1xuICAgICAgcmV0dXJuIFtjb3MsIHNpbiwgLXNpbiwgY29zLCAwLCAwXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHRyYW5zZm9ybSBtYXRyaXggc3RhcnRpbmcgZnJvbSBhbiBvYmplY3Qgb2YgdGhlIHNhbWUga2luZCBvZlxuICAgICAqIHRoZSBvbmUgcmV0dXJuZWQgZnJvbSBxckRlY29tcG9zZSwgdXNlZnVsIGFsc28gaWYgeW91IHdhbnQgdG8gY2FsY3VsYXRlIHNvbWVcbiAgICAgKiB0cmFuc2Zvcm1hdGlvbnMgZnJvbSBhbiBvYmplY3QgdGhhdCBpcyBub3QgZW5saXZlZCB5ZXQuXG4gICAgICogaXMgY2FsbGVkIERpbWVuc2lvbnNUcmFuc2Zvcm1NYXRyaXggYmVjYXVzZSB0aG9zZSBwcm9wZXJ0aWVzIGFyZSB0aGUgb25lIHRoYXQgaW5mbHVlbmNlXG4gICAgICogdGhlIHNpemUgb2YgdGhlIHJlc3VsdGluZyBib3ggb2YgdGhlIG9iamVjdC5cbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBbb3B0aW9ucy5zY2FsZVhdXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBbb3B0aW9ucy5zY2FsZVldXG4gICAgICogQHBhcmFtICB7Qm9vbGVhbn0gW29wdGlvbnMuZmxpcFhdXG4gICAgICogQHBhcmFtICB7Qm9vbGVhbn0gW29wdGlvbnMuZmxpcFldXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBbb3B0aW9ucy5za2V3WF1cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IFtvcHRpb25zLnNrZXdZXVxuICAgICAqIEByZXR1cm4ge051bWJlcltdfSB0cmFuc2Zvcm0gbWF0cml4XG4gICAgICovXG4gICAgY2FsY0RpbWVuc2lvbnNNYXRyaXg6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBzY2FsZVggPSB0eXBlb2Ygb3B0aW9ucy5zY2FsZVggPT09ICd1bmRlZmluZWQnID8gMSA6IG9wdGlvbnMuc2NhbGVYLFxuICAgICAgICAgIHNjYWxlWSA9IHR5cGVvZiBvcHRpb25zLnNjYWxlWSA9PT0gJ3VuZGVmaW5lZCcgPyAxIDogb3B0aW9ucy5zY2FsZVksXG4gICAgICAgICAgc2NhbGVNYXRyaXggPSBbXG4gICAgICAgICAgICBvcHRpb25zLmZsaXBYID8gLXNjYWxlWCA6IHNjYWxlWCxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgb3B0aW9ucy5mbGlwWSA/IC1zY2FsZVkgOiBzY2FsZVksXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgMF0sXG4gICAgICAgICAgbXVsdGlwbHkgPSBmYWJyaWMudXRpbC5tdWx0aXBseVRyYW5zZm9ybU1hdHJpY2VzLFxuICAgICAgICAgIGRlZ3JlZXNUb1JhZGlhbnMgPSBmYWJyaWMudXRpbC5kZWdyZWVzVG9SYWRpYW5zO1xuICAgICAgaWYgKG9wdGlvbnMuc2tld1gpIHtcbiAgICAgICAgc2NhbGVNYXRyaXggPSBtdWx0aXBseShcbiAgICAgICAgICBzY2FsZU1hdHJpeCxcbiAgICAgICAgICBbMSwgMCwgTWF0aC50YW4oZGVncmVlc1RvUmFkaWFucyhvcHRpb25zLnNrZXdYKSksIDFdLFxuICAgICAgICAgIHRydWUpO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMuc2tld1kpIHtcbiAgICAgICAgc2NhbGVNYXRyaXggPSBtdWx0aXBseShcbiAgICAgICAgICBzY2FsZU1hdHJpeCxcbiAgICAgICAgICBbMSwgTWF0aC50YW4oZGVncmVlc1RvUmFkaWFucyhvcHRpb25zLnNrZXdZKSksIDAsIDFdLFxuICAgICAgICAgIHRydWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNjYWxlTWF0cml4O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgdHJhbnNmb3JtIG1hdHJpeCBzdGFydGluZyBmcm9tIGFuIG9iamVjdCBvZiB0aGUgc2FtZSBraW5kIG9mXG4gICAgICogdGhlIG9uZSByZXR1cm5lZCBmcm9tIHFyRGVjb21wb3NlLCB1c2VmdWwgYWxzbyBpZiB5b3Ugd2FudCB0byBjYWxjdWxhdGUgc29tZVxuICAgICAqIHRyYW5zZm9ybWF0aW9ucyBmcm9tIGFuIG9iamVjdCB0aGF0IGlzIG5vdCBlbmxpdmVkIHlldFxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IFtvcHRpb25zLmFuZ2xlXVxuICAgICAqIEBwYXJhbSAge051bWJlcn0gW29wdGlvbnMuc2NhbGVYXVxuICAgICAqIEBwYXJhbSAge051bWJlcn0gW29wdGlvbnMuc2NhbGVZXVxuICAgICAqIEBwYXJhbSAge0Jvb2xlYW59IFtvcHRpb25zLmZsaXBYXVxuICAgICAqIEBwYXJhbSAge0Jvb2xlYW59IFtvcHRpb25zLmZsaXBZXVxuICAgICAqIEBwYXJhbSAge051bWJlcn0gW29wdGlvbnMuc2tld1hdXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBbb3B0aW9ucy5za2V3WF1cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IFtvcHRpb25zLnRyYW5zbGF0ZVhdXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBbb3B0aW9ucy50cmFuc2xhdGVZXVxuICAgICAqIEByZXR1cm4ge051bWJlcltdfSB0cmFuc2Zvcm0gbWF0cml4XG4gICAgICovXG4gICAgY29tcG9zZU1hdHJpeDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdmFyIG1hdHJpeCA9IFsxLCAwLCAwLCAxLCBvcHRpb25zLnRyYW5zbGF0ZVggfHwgMCwgb3B0aW9ucy50cmFuc2xhdGVZIHx8IDBdLFxuICAgICAgICAgIG11bHRpcGx5ID0gZmFicmljLnV0aWwubXVsdGlwbHlUcmFuc2Zvcm1NYXRyaWNlcztcbiAgICAgIGlmIChvcHRpb25zLmFuZ2xlKSB7XG4gICAgICAgIG1hdHJpeCA9IG11bHRpcGx5KG1hdHJpeCwgZmFicmljLnV0aWwuY2FsY1JvdGF0ZU1hdHJpeChvcHRpb25zKSk7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucy5zY2FsZVggIT09IDEgfHwgb3B0aW9ucy5zY2FsZVkgIT09IDEgfHxcbiAgICAgICAgICBvcHRpb25zLnNrZXdYIHx8IG9wdGlvbnMuc2tld1kgfHwgb3B0aW9ucy5mbGlwWCB8fCBvcHRpb25zLmZsaXBZKSB7XG4gICAgICAgIG1hdHJpeCA9IG11bHRpcGx5KG1hdHJpeCwgZmFicmljLnV0aWwuY2FsY0RpbWVuc2lvbnNNYXRyaXgob3B0aW9ucykpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1hdHJpeDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmVzZXQgYW4gb2JqZWN0IHRyYW5zZm9ybSBzdGF0ZSB0byBuZXV0cmFsLiBUb3AgYW5kIGxlZnQgYXJlIG5vdCBhY2NvdW50ZWQgZm9yXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSAge2ZhYnJpYy5PYmplY3R9IHRhcmdldCBvYmplY3QgdG8gdHJhbnNmb3JtXG4gICAgICovXG4gICAgcmVzZXRPYmplY3RUcmFuc2Zvcm06IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgIHRhcmdldC5zY2FsZVggPSAxO1xuICAgICAgdGFyZ2V0LnNjYWxlWSA9IDE7XG4gICAgICB0YXJnZXQuc2tld1ggPSAwO1xuICAgICAgdGFyZ2V0LnNrZXdZID0gMDtcbiAgICAgIHRhcmdldC5mbGlwWCA9IGZhbHNlO1xuICAgICAgdGFyZ2V0LmZsaXBZID0gZmFsc2U7XG4gICAgICB0YXJnZXQucm90YXRlKDApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0IE9iamVjdCB0cmFuc2Zvcm0gdmFsdWVzXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSAge2ZhYnJpYy5PYmplY3R9IHRhcmdldCBvYmplY3QgdG8gcmVhZCBmcm9tXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBDb21wb25lbnRzIG9mIHRyYW5zZm9ybVxuICAgICAqL1xuICAgIHNhdmVPYmplY3RUcmFuc2Zvcm06IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHNjYWxlWDogdGFyZ2V0LnNjYWxlWCxcbiAgICAgICAgc2NhbGVZOiB0YXJnZXQuc2NhbGVZLFxuICAgICAgICBza2V3WDogdGFyZ2V0LnNrZXdYLFxuICAgICAgICBza2V3WTogdGFyZ2V0LnNrZXdZLFxuICAgICAgICBhbmdsZTogdGFyZ2V0LmFuZ2xlLFxuICAgICAgICBsZWZ0OiB0YXJnZXQubGVmdCxcbiAgICAgICAgZmxpcFg6IHRhcmdldC5mbGlwWCxcbiAgICAgICAgZmxpcFk6IHRhcmdldC5mbGlwWSxcbiAgICAgICAgdG9wOiB0YXJnZXQudG9wXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgY29udGV4dCBoYXMgdHJhbnNwYXJlbnQgcGl4ZWxcbiAgICAgKiBhdCBzcGVjaWZpZWQgbG9jYXRpb24gKHRha2luZyB0b2xlcmFuY2UgaW50byBhY2NvdW50KVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggY29udGV4dFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4IHggY29vcmRpbmF0ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5IHkgY29vcmRpbmF0ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0b2xlcmFuY2UgVG9sZXJhbmNlXG4gICAgICovXG4gICAgaXNUcmFuc3BhcmVudDogZnVuY3Rpb24oY3R4LCB4LCB5LCB0b2xlcmFuY2UpIHtcblxuICAgICAgLy8gSWYgdG9sZXJhbmNlIGlzID4gMCBhZGp1c3Qgc3RhcnQgY29vcmRzIHRvIHRha2UgaW50byBhY2NvdW50LlxuICAgICAgLy8gSWYgbW92ZXMgb2ZmIENhbnZhcyBmaXggdG8gMFxuICAgICAgaWYgKHRvbGVyYW5jZSA+IDApIHtcbiAgICAgICAgaWYgKHggPiB0b2xlcmFuY2UpIHtcbiAgICAgICAgICB4IC09IHRvbGVyYW5jZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB4ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoeSA+IHRvbGVyYW5jZSkge1xuICAgICAgICAgIHkgLT0gdG9sZXJhbmNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHkgPSAwO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBfaXNUcmFuc3BhcmVudCA9IHRydWUsIGksIHRlbXAsXG4gICAgICAgICAgaW1hZ2VEYXRhID0gY3R4LmdldEltYWdlRGF0YSh4LCB5LCAodG9sZXJhbmNlICogMikgfHwgMSwgKHRvbGVyYW5jZSAqIDIpIHx8IDEpLFxuICAgICAgICAgIGwgPSBpbWFnZURhdGEuZGF0YS5sZW5ndGg7XG5cbiAgICAgIC8vIFNwbGl0IGltYWdlIGRhdGEgLSBmb3IgdG9sZXJhbmNlID4gMSwgcGl4ZWxEYXRhU2l6ZSA9IDQ7XG4gICAgICBmb3IgKGkgPSAzOyBpIDwgbDsgaSArPSA0KSB7XG4gICAgICAgIHRlbXAgPSBpbWFnZURhdGEuZGF0YVtpXTtcbiAgICAgICAgX2lzVHJhbnNwYXJlbnQgPSB0ZW1wIDw9IDA7XG4gICAgICAgIGlmIChfaXNUcmFuc3BhcmVudCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBicmVhazsgLy8gU3RvcCBpZiBjb2xvdXIgZm91bmRcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpbWFnZURhdGEgPSBudWxsO1xuXG4gICAgICByZXR1cm4gX2lzVHJhbnNwYXJlbnQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFBhcnNlIHByZXNlcnZlQXNwZWN0UmF0aW8gYXR0cmlidXRlIGZyb20gZWxlbWVudFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyaWJ1dGUgdG8gYmUgcGFyc2VkXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBhbiBvYmplY3QgY29udGFpbmluZyBhbGlnbiBhbmQgbWVldE9yU2xpY2UgYXR0cmlidXRlXG4gICAgICovXG4gICAgcGFyc2VQcmVzZXJ2ZUFzcGVjdFJhdGlvQXR0cmlidXRlOiBmdW5jdGlvbihhdHRyaWJ1dGUpIHtcbiAgICAgIHZhciBtZWV0T3JTbGljZSA9ICdtZWV0JywgYWxpZ25YID0gJ01pZCcsIGFsaWduWSA9ICdNaWQnLFxuICAgICAgICAgIGFzcGVjdFJhdGlvQXR0cnMgPSBhdHRyaWJ1dGUuc3BsaXQoJyAnKSwgYWxpZ247XG5cbiAgICAgIGlmIChhc3BlY3RSYXRpb0F0dHJzICYmIGFzcGVjdFJhdGlvQXR0cnMubGVuZ3RoKSB7XG4gICAgICAgIG1lZXRPclNsaWNlID0gYXNwZWN0UmF0aW9BdHRycy5wb3AoKTtcbiAgICAgICAgaWYgKG1lZXRPclNsaWNlICE9PSAnbWVldCcgJiYgbWVldE9yU2xpY2UgIT09ICdzbGljZScpIHtcbiAgICAgICAgICBhbGlnbiA9IG1lZXRPclNsaWNlO1xuICAgICAgICAgIG1lZXRPclNsaWNlID0gJ21lZXQnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFzcGVjdFJhdGlvQXR0cnMubGVuZ3RoKSB7XG4gICAgICAgICAgYWxpZ24gPSBhc3BlY3RSYXRpb0F0dHJzLnBvcCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvL2RpdmlkZSBhbGlnbiBpbiBhbGlnblggYW5kIGFsaWduWVxuICAgICAgYWxpZ25YID0gYWxpZ24gIT09ICdub25lJyA/IGFsaWduLnNsaWNlKDEsIDQpIDogJ25vbmUnO1xuICAgICAgYWxpZ25ZID0gYWxpZ24gIT09ICdub25lJyA/IGFsaWduLnNsaWNlKDUsIDgpIDogJ25vbmUnO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbWVldE9yU2xpY2U6IG1lZXRPclNsaWNlLFxuICAgICAgICBhbGlnblg6IGFsaWduWCxcbiAgICAgICAgYWxpZ25ZOiBhbGlnbllcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENsZWFyIGNoYXIgd2lkdGhzIGNhY2hlIGZvciB0aGUgZ2l2ZW4gZm9udCBmYW1pbHkgb3IgYWxsIHRoZSBjYWNoZSBpZiBub1xuICAgICAqIGZvbnRGYW1pbHkgaXMgc3BlY2lmaWVkLlxuICAgICAqIFVzZSBpdCBpZiB5b3Uga25vdyB5b3UgYXJlIGxvYWRpbmcgZm9udHMgaW4gYSBsYXp5IHdheSBhbmQgeW91IGFyZSBub3Qgd2FpdGluZ1xuICAgICAqIGZvciBjdXN0b20gZm9udHMgdG8gbG9hZCBwcm9wZXJseSB3aGVuIGFkZGluZyB0ZXh0IG9iamVjdHMgdG8gdGhlIGNhbnZhcy5cbiAgICAgKiBJZiBhIHRleHQgb2JqZWN0IGlzIGFkZGVkIHdoZW4gaXRzIG93biBmb250IGlzIG5vdCBsb2FkZWQgeWV0LCB5b3Ugd2lsbCBnZXQgd3JvbmdcbiAgICAgKiBtZWFzdXJlbWVudCBhbmQgc28gd3JvbmcgYm91bmRpbmcgYm94ZXMuXG4gICAgICogQWZ0ZXIgdGhlIGZvbnQgY2FjaGUgaXMgY2xlYXJlZCwgZWl0aGVyIGNoYW5nZSB0aGUgdGV4dE9iamVjdCB0ZXh0IGNvbnRlbnQgb3IgY2FsbFxuICAgICAqIGluaXREaW1lbnNpb25zKCkgdG8gdHJpZ2dlciBhIHJlY2FsY3VsYXRpb25cbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2ZvbnRGYW1pbHldIGZvbnQgZmFtaWx5IHRvIGNsZWFyXG4gICAgICovXG4gICAgY2xlYXJGYWJyaWNGb250Q2FjaGU6IGZ1bmN0aW9uKGZvbnRGYW1pbHkpIHtcbiAgICAgIGZvbnRGYW1pbHkgPSAoZm9udEZhbWlseSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmICghZm9udEZhbWlseSkge1xuICAgICAgICBmYWJyaWMuY2hhcldpZHRoc0NhY2hlID0geyB9O1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoZmFicmljLmNoYXJXaWR0aHNDYWNoZVtmb250RmFtaWx5XSkge1xuICAgICAgICBkZWxldGUgZmFicmljLmNoYXJXaWR0aHNDYWNoZVtmb250RmFtaWx5XTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2l2ZW4gY3VycmVudCBhc3BlY3QgcmF0aW8sIGRldGVybWluZXMgdGhlIG1heCB3aWR0aCBhbmQgaGVpZ2h0IHRoYXQgY2FuXG4gICAgICogcmVzcGVjdCB0aGUgdG90YWwgYWxsb3dlZCBhcmVhIGZvciB0aGUgY2FjaGUuXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGFyIGFzcGVjdCByYXRpb1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBtYXhpbXVtQXJlYSBNYXhpbXVtIGFyZWEgeW91IHdhbnQgdG8gYWNoaWV2ZVxuICAgICAqIEByZXR1cm4ge09iamVjdC54fSBMaW1pdGVkIGRpbWVuc2lvbnMgYnkgWFxuICAgICAqIEByZXR1cm4ge09iamVjdC55fSBMaW1pdGVkIGRpbWVuc2lvbnMgYnkgWVxuICAgICAqL1xuICAgIGxpbWl0RGltc0J5QXJlYTogZnVuY3Rpb24oYXIsIG1heGltdW1BcmVhKSB7XG4gICAgICB2YXIgcm91Z2hXaWR0aCA9IE1hdGguc3FydChtYXhpbXVtQXJlYSAqIGFyKSxcbiAgICAgICAgICBwZXJmTGltaXRTaXplWSA9IE1hdGguZmxvb3IobWF4aW11bUFyZWEgLyByb3VnaFdpZHRoKTtcbiAgICAgIHJldHVybiB7IHg6IE1hdGguZmxvb3Iocm91Z2hXaWR0aCksIHk6IHBlcmZMaW1pdFNpemVZIH07XG4gICAgfSxcblxuICAgIGNhcFZhbHVlOiBmdW5jdGlvbihtaW4sIHZhbHVlLCBtYXgpIHtcbiAgICAgIHJldHVybiBNYXRoLm1heChtaW4sIE1hdGgubWluKHZhbHVlLCBtYXgpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRmluZHMgdGhlIHNjYWxlIGZvciB0aGUgb2JqZWN0IHNvdXJjZSB0byBmaXQgaW5zaWRlIHRoZSBvYmplY3QgZGVzdGluYXRpb24sXG4gICAgICoga2VlcGluZyBhc3BlY3QgcmF0aW8gaW50YWN0LlxuICAgICAqIHJlc3BlY3QgdGhlIHRvdGFsIGFsbG93ZWQgYXJlYSBmb3IgdGhlIGNhY2hlLlxuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0IHwgZmFicmljLk9iamVjdH0gc291cmNlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNvdXJjZS5oZWlnaHQgbmF0dXJhbCB1bnNjYWxlZCBoZWlnaHQgb2YgdGhlIG9iamVjdFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzb3VyY2Uud2lkdGggbmF0dXJhbCB1bnNjYWxlZCB3aWR0aCBvZiB0aGUgb2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3QgfCBmYWJyaWMuT2JqZWN0fSBkZXN0aW5hdGlvblxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBkZXN0aW5hdGlvbi5oZWlnaHQgbmF0dXJhbCB1bnNjYWxlZCBoZWlnaHQgb2YgdGhlIG9iamVjdFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBkZXN0aW5hdGlvbi53aWR0aCBuYXR1cmFsIHVuc2NhbGVkIHdpZHRoIG9mIHRoZSBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IHNjYWxlIGZhY3RvciB0byBhcHBseSB0byBzb3VyY2UgdG8gZml0IGludG8gZGVzdGluYXRpb25cbiAgICAgKi9cbiAgICBmaW5kU2NhbGVUb0ZpdDogZnVuY3Rpb24oc291cmNlLCBkZXN0aW5hdGlvbikge1xuICAgICAgcmV0dXJuIE1hdGgubWluKGRlc3RpbmF0aW9uLndpZHRoIC8gc291cmNlLndpZHRoLCBkZXN0aW5hdGlvbi5oZWlnaHQgLyBzb3VyY2UuaGVpZ2h0KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRmluZHMgdGhlIHNjYWxlIGZvciB0aGUgb2JqZWN0IHNvdXJjZSB0byBjb3ZlciBlbnRpcmVseSB0aGUgb2JqZWN0IGRlc3RpbmF0aW9uLFxuICAgICAqIGtlZXBpbmcgYXNwZWN0IHJhdGlvIGludGFjdC5cbiAgICAgKiByZXNwZWN0IHRoZSB0b3RhbCBhbGxvd2VkIGFyZWEgZm9yIHRoZSBjYWNoZS5cbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdCB8IGZhYnJpYy5PYmplY3R9IHNvdXJjZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzb3VyY2UuaGVpZ2h0IG5hdHVyYWwgdW5zY2FsZWQgaGVpZ2h0IG9mIHRoZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc291cmNlLndpZHRoIG5hdHVyYWwgdW5zY2FsZWQgd2lkdGggb2YgdGhlIG9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0IHwgZmFicmljLk9iamVjdH0gZGVzdGluYXRpb25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZGVzdGluYXRpb24uaGVpZ2h0IG5hdHVyYWwgdW5zY2FsZWQgaGVpZ2h0IG9mIHRoZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZGVzdGluYXRpb24ud2lkdGggbmF0dXJhbCB1bnNjYWxlZCB3aWR0aCBvZiB0aGUgb2JqZWN0XG4gICAgICogQHJldHVybiB7TnVtYmVyfSBzY2FsZSBmYWN0b3IgdG8gYXBwbHkgdG8gc291cmNlIHRvIGNvdmVyIGRlc3RpbmF0aW9uXG4gICAgICovXG4gICAgZmluZFNjYWxlVG9Db3ZlcjogZnVuY3Rpb24oc291cmNlLCBkZXN0aW5hdGlvbikge1xuICAgICAgcmV0dXJuIE1hdGgubWF4KGRlc3RpbmF0aW9uLndpZHRoIC8gc291cmNlLndpZHRoLCBkZXN0aW5hdGlvbi5oZWlnaHQgLyBzb3VyY2UuaGVpZ2h0KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZ2l2ZW4gYW4gYXJyYXkgb2YgNiBudW1iZXIgcmV0dXJucyBzb21ldGhpbmcgbGlrZSBgXCJtYXRyaXgoLi4ubnVtYmVycylcImBcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fSB0cmFuc2Zvcm0gYW4gYXJyYXkgd2l0aCA2IG51bWJlcnNcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IHRyYW5zZm9ybSBtYXRyaXggZm9yIHN2Z1xuICAgICAqIEByZXR1cm4ge09iamVjdC55fSBMaW1pdGVkIGRpbWVuc2lvbnMgYnkgWVxuICAgICAqL1xuICAgIG1hdHJpeFRvU1ZHOiBmdW5jdGlvbih0cmFuc2Zvcm0pIHtcbiAgICAgIHJldHVybiAnbWF0cml4KCcgKyB0cmFuc2Zvcm0ubWFwKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBmYWJyaWMudXRpbC50b0ZpeGVkKHZhbHVlLCBmYWJyaWMuT2JqZWN0Lk5VTV9GUkFDVElPTl9ESUdJVFMpO1xuICAgICAgfSkuam9pbignICcpICsgJyknO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBnaXZlbiBhbiBvYmplY3QgYW5kIGEgdHJhbnNmb3JtLCBhcHBseSB0aGUgaW52ZXJzZSB0cmFuc2Zvcm0gdG8gdGhlIG9iamVjdCxcbiAgICAgKiB0aGlzIGlzIGVxdWl2YWxlbnQgdG8gcmVtb3ZlIGZyb20gdGhhdCBvYmplY3QgdGhhdCB0cmFuc2Zvcm1hdGlvbiwgc28gdGhhdFxuICAgICAqIGFkZGVkIGluIGEgc3BhY2Ugd2l0aCB0aGUgcmVtb3ZlZCB0cmFuc2Zvcm0sIHRoZSBvYmplY3Qgd2lsbCBiZSB0aGUgc2FtZSBhcyBiZWZvcmUuXG4gICAgICogUmVtb3ZpbmcgZnJvbSBhbiBvYmplY3QgYSB0cmFuc2Zvcm0gdGhhdCBzY2FsZSBieSAyIGlzIGxpa2Ugc2NhbGluZyBpdCBieSAxLzIuXG4gICAgICogUmVtb3ZpbmcgZnJvbSBhbiBvYmplY3QgYSB0cmFuc2Zyb20gdGhhdCByb3RhdGUgYnkgMzBkZWcgaXMgbGlrZSByb3RhdGluZyBieSAzMGRlZ1xuICAgICAqIGluIHRoZSBvcHBvc2l0ZSBkaXJlY3Rpb24uXG4gICAgICogVGhpcyB1dGlsIGlzIHVzZWQgdG8gYWRkIG9iamVjdHMgaW5zaWRlIHRyYW5zZm9ybWVkIGdyb3VwcyBvciBuZXN0ZWQgZ3JvdXBzLlxuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gb2JqZWN0IHRoZSBvYmplY3QgeW91IHdhbnQgdG8gdHJhbnNmb3JtXG4gICAgICogQHBhcmFtIHtBcnJheX0gdHJhbnNmb3JtIHRoZSBkZXN0aW5hdGlvbiB0cmFuc2Zvcm1cbiAgICAgKi9cbiAgICByZW1vdmVUcmFuc2Zvcm1Gcm9tT2JqZWN0OiBmdW5jdGlvbihvYmplY3QsIHRyYW5zZm9ybSkge1xuICAgICAgdmFyIGludmVydGVkID0gZmFicmljLnV0aWwuaW52ZXJ0VHJhbnNmb3JtKHRyYW5zZm9ybSksXG4gICAgICAgICAgZmluYWxUcmFuc2Zvcm0gPSBmYWJyaWMudXRpbC5tdWx0aXBseVRyYW5zZm9ybU1hdHJpY2VzKGludmVydGVkLCBvYmplY3QuY2FsY093bk1hdHJpeCgpKTtcbiAgICAgIGZhYnJpYy51dGlsLmFwcGx5VHJhbnNmb3JtVG9PYmplY3Qob2JqZWN0LCBmaW5hbFRyYW5zZm9ybSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGdpdmVuIGFuIG9iamVjdCBhbmQgYSB0cmFuc2Zvcm0sIGFwcGx5IHRoZSB0cmFuc2Zvcm0gdG8gdGhlIG9iamVjdC5cbiAgICAgKiB0aGlzIGlzIGVxdWl2YWxlbnQgdG8gY2hhbmdlIHRoZSBzcGFjZSB3aGVyZSB0aGUgb2JqZWN0IGlzIGRyYXduLlxuICAgICAqIEFkZGluZyB0byBhbiBvYmplY3QgYSB0cmFuc2Zvcm0gdGhhdCBzY2FsZSBieSAyIGlzIGxpa2Ugc2NhbGluZyBpdCBieSAyLlxuICAgICAqIFRoaXMgaXMgdXNlZCB3aGVuIHJlbW92aW5nIGFuIG9iamVjdCBmcm9tIGFuIGFjdGl2ZSBzZWxlY3Rpb24gZm9yIGV4YW1wbGUuXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmplY3QgdGhlIG9iamVjdCB5b3Ugd2FudCB0byB0cmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB0cmFuc2Zvcm0gdGhlIGRlc3RpbmF0aW9uIHRyYW5zZm9ybVxuICAgICAqL1xuICAgIGFkZFRyYW5zZm9ybVRvT2JqZWN0OiBmdW5jdGlvbihvYmplY3QsIHRyYW5zZm9ybSkge1xuICAgICAgZmFicmljLnV0aWwuYXBwbHlUcmFuc2Zvcm1Ub09iamVjdChcbiAgICAgICAgb2JqZWN0LFxuICAgICAgICBmYWJyaWMudXRpbC5tdWx0aXBseVRyYW5zZm9ybU1hdHJpY2VzKHRyYW5zZm9ybSwgb2JqZWN0LmNhbGNPd25NYXRyaXgoKSlcbiAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGRpc2NhcmQgYW4gb2JqZWN0IHRyYW5zZm9ybSBzdGF0ZSBhbmQgYXBwbHkgdGhlIG9uZSBmcm9tIHRoZSBtYXRyaXguXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmplY3QgdGhlIG9iamVjdCB5b3Ugd2FudCB0byB0cmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB0cmFuc2Zvcm0gdGhlIGRlc3RpbmF0aW9uIHRyYW5zZm9ybVxuICAgICAqL1xuICAgIGFwcGx5VHJhbnNmb3JtVG9PYmplY3Q6IGZ1bmN0aW9uKG9iamVjdCwgdHJhbnNmb3JtKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IGZhYnJpYy51dGlsLnFyRGVjb21wb3NlKHRyYW5zZm9ybSksXG4gICAgICAgICAgY2VudGVyID0gbmV3IGZhYnJpYy5Qb2ludChvcHRpb25zLnRyYW5zbGF0ZVgsIG9wdGlvbnMudHJhbnNsYXRlWSk7XG4gICAgICBvYmplY3QuZmxpcFggPSBmYWxzZTtcbiAgICAgIG9iamVjdC5mbGlwWSA9IGZhbHNlO1xuICAgICAgb2JqZWN0LnNldCgnc2NhbGVYJywgb3B0aW9ucy5zY2FsZVgpO1xuICAgICAgb2JqZWN0LnNldCgnc2NhbGVZJywgb3B0aW9ucy5zY2FsZVkpO1xuICAgICAgb2JqZWN0LnNrZXdYID0gb3B0aW9ucy5za2V3WDtcbiAgICAgIG9iamVjdC5za2V3WSA9IG9wdGlvbnMuc2tld1k7XG4gICAgICBvYmplY3QuYW5nbGUgPSBvcHRpb25zLmFuZ2xlO1xuICAgICAgb2JqZWN0LnNldFBvc2l0aW9uQnlPcmlnaW4oY2VudGVyLCAnY2VudGVyJywgJ2NlbnRlcicpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBnaXZlbiBhIHdpZHRoIGFuZCBoZWlnaHQsIHJldHVybiB0aGUgc2l6ZSBvZiB0aGUgYm91bmRpbmcgYm94XG4gICAgICogdGhhdCBjYW4gY29udGFpbnMgdGhlIGJveCB3aXRoIHdpZHRoL2hlaWdodCB3aXRoIGFwcGxpZWQgdHJhbnNmb3JtXG4gICAgICogZGVzY3JpYmVkIGluIG9wdGlvbnMuXG4gICAgICogVXNlIHRvIGNhbGN1bGF0ZSB0aGUgYm94ZXMgYXJvdW5kIG9iamVjdHMgZm9yIGNvbnRyb2xzLlxuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB3aWR0aFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBoZWlnaHRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBvcHRpb25zLnNjYWxlWFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBvcHRpb25zLnNjYWxlWVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBvcHRpb25zLnNrZXdYXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG9wdGlvbnMuc2tld1lcbiAgICAgKiBAcmV0dXJuIHtPYmplY3QueH0gd2lkdGggb2YgY29udGFpbmluZ1xuICAgICAqIEByZXR1cm4ge09iamVjdC55fSBoZWlnaHQgb2YgY29udGFpbmluZ1xuICAgICAqL1xuICAgIHNpemVBZnRlclRyYW5zZm9ybTogZnVuY3Rpb24od2lkdGgsIGhlaWdodCwgb3B0aW9ucykge1xuICAgICAgdmFyIGRpbVggPSB3aWR0aCAvIDIsIGRpbVkgPSBoZWlnaHQgLyAyLFxuICAgICAgICAgIHBvaW50cyA9IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgeDogLWRpbVgsXG4gICAgICAgICAgICAgIHk6IC1kaW1ZXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB4OiBkaW1YLFxuICAgICAgICAgICAgICB5OiAtZGltWVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgeDogLWRpbVgsXG4gICAgICAgICAgICAgIHk6IGRpbVlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHg6IGRpbVgsXG4gICAgICAgICAgICAgIHk6IGRpbVlcbiAgICAgICAgICAgIH1dLFxuICAgICAgICAgIHRyYW5zZm9ybU1hdHJpeCA9IGZhYnJpYy51dGlsLmNhbGNEaW1lbnNpb25zTWF0cml4KG9wdGlvbnMpLFxuICAgICAgICAgIGJib3ggPSBmYWJyaWMudXRpbC5tYWtlQm91bmRpbmdCb3hGcm9tUG9pbnRzKHBvaW50cywgdHJhbnNmb3JtTWF0cml4KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHg6IGJib3gud2lkdGgsXG4gICAgICAgIHk6IGJib3guaGVpZ2h0LFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTWVyZ2VzIDIgY2xpcCBwYXRocyBpbnRvIG9uZSB2aXN1YWxseSBlcXVhbCBjbGlwIHBhdGhcbiAgICAgKlxuICAgICAqICoqSU1QT1JUQU5UKio6XFxcbiAgICAgKiBEb2VzICoqTk9UKiogY2xvbmUgdGhlIGFyZ3VtZW50cywgY2xvbmUgdGhlbSBwcm9pciBpZiBuZWNlc3NhcnkuXG4gICAgICpcbiAgICAgKiBDcmVhdGVzIGEgd3JhcHBlciAoZ3JvdXApIHRoYXQgY29udGFpbnMgb25lIGNsaXAgcGF0aCBhbmQgaXMgY2xpcHBlZCBieSB0aGUgb3RoZXIgc28gY29udGVudCBpcyBrZXB0IHdoZXJlIGJvdGggb3ZlcmxhcC5cbiAgICAgKiBVc2UgdGhpcyBtZXRob2QgaWYgYm90aCB0aGUgY2xpcCBwYXRocyBtYXkgaGF2ZSBuZXN0ZWQgY2xpcCBwYXRocyBvZiB0aGVpciBvd24sIHNvIGFzc2lnbmluZyBvbmUgdG8gdGhlIG90aGVyJ3MgY2xpcCBwYXRoIHByb3BlcnR5IGlzIG5vdCBwb3NzaWJsZS5cbiAgICAgKlxuICAgICAqIEluIG9yZGVyIHRvIGhhbmRsZSB0aGUgYGludmVydGVkYCBwcm9wZXJ0eSB3ZSBmb2xsb3cgbG9naWMgZGVzY3JpYmVkIGluIHRoZSBmb2xsb3dpbmcgY2FzZXM6XFxcbiAgICAgKiAqKigxKSoqIGJvdGggY2xpcCBwYXRocyBhcmUgaW52ZXJ0ZWQgLSB0aGUgY2xpcCBwYXRocyBwYXNzIHRoZSBpbnZlcnRlZCBwcm9wIHRvIHRoZSB3cmFwcGVyIGFuZCBsb29zZSBpdCB0aGVtc2VsdmVzLlxcXG4gICAgICogKiooMikqKiBvbmUgaXMgaW52ZXJ0ZWQgYW5kIHRoZSBvdGhlciBpc24ndCAtIHRoZSB3cmFwcGVyIHNob3VsZG4ndCBiZWNvbWUgaW52ZXJ0ZWQgYW5kIHRoZSBpbnZlcnRlZCBjbGlwIHBhdGggbXVzdCBjbGlwIHRoZSBub24gaW52ZXJ0ZWQgb25lIHRvIHByb2R1Y2UgYW4gaWRlbnRpY2FsIHZpc3VhbCBlZmZlY3QuXFxcbiAgICAgKiAqKigzKSoqIGJvdGggY2xpcCBwYXRocyBhcmUgbm90IGludmVydGVkIC0gd3JhcHBlciBhbmQgY2xpcCBwYXRocyByZW1haW4gdW5jaGFuZ2VkLlxuICAgICAqXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBjMVxuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gYzJcbiAgICAgKiBAcmV0dXJucyB7ZmFicmljLk9iamVjdH0gbWVyZ2VkIGNsaXAgcGF0aFxuICAgICAqL1xuICAgIG1lcmdlQ2xpcFBhdGhzOiBmdW5jdGlvbiAoYzEsIGMyKSB7XG4gICAgICB2YXIgYSA9IGMxLCBiID0gYzI7XG4gICAgICBpZiAoYS5pbnZlcnRlZCAmJiAhYi5pbnZlcnRlZCkge1xuICAgICAgICAvLyAgY2FzZSAoMilcbiAgICAgICAgYSA9IGMyO1xuICAgICAgICBiID0gYzE7XG4gICAgICB9XG4gICAgICAvLyAgYGJgIGJlY29tZXMgYGFgJ3MgY2xpcCBwYXRoIHNvIHdlIHRyYW5zZm9ybSBgYmAgdG8gYGFgIGNvb3JkaW5hdGUgcGxhbmVcbiAgICAgIGZhYnJpYy51dGlsLmFwcGx5VHJhbnNmb3JtVG9PYmplY3QoXG4gICAgICAgIGIsXG4gICAgICAgIGZhYnJpYy51dGlsLm11bHRpcGx5VHJhbnNmb3JtTWF0cmljZXMoXG4gICAgICAgICAgZmFicmljLnV0aWwuaW52ZXJ0VHJhbnNmb3JtKGEuY2FsY1RyYW5zZm9ybU1hdHJpeCgpKSxcbiAgICAgICAgICBiLmNhbGNUcmFuc2Zvcm1NYXRyaXgoKVxuICAgICAgICApXG4gICAgICApO1xuICAgICAgLy8gIGFzc2lnbiB0aGUgYGludmVydGVkYCBwcm9wIHRvIHRoZSB3cmFwcGluZyBncm91cFxuICAgICAgdmFyIGludmVydGVkID0gYS5pbnZlcnRlZCAmJiBiLmludmVydGVkO1xuICAgICAgaWYgKGludmVydGVkKSB7XG4gICAgICAgIC8vICBjYXNlICgxKVxuICAgICAgICBhLmludmVydGVkID0gYi5pbnZlcnRlZCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBmYWJyaWMuR3JvdXAoW2FdLCB7IGNsaXBQYXRoOiBiLCBpbnZlcnRlZDogaW52ZXJ0ZWQgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcmV2U3R5bGUgZmlyc3Qgc3R5bGUgdG8gY29tcGFyZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0aGlzU3R5bGUgc2Vjb25kIHN0eWxlIHRvIGNvbXBhcmVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGZvclRleHRTcGFucyB3aGV0aGVyIHRvIGNoZWNrIG92ZXJsaW5lLCB1bmRlcmxpbmUsIGFuZCBsaW5lLXRocm91Z2ggcHJvcGVydGllc1xuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgdGhlIHN0eWxlIGNoYW5nZWRcbiAgICAgKi9cbiAgICBoYXNTdHlsZUNoYW5nZWQ6IGZ1bmN0aW9uKHByZXZTdHlsZSwgdGhpc1N0eWxlLCBmb3JUZXh0U3BhbnMpIHtcbiAgICAgIGZvclRleHRTcGFucyA9IGZvclRleHRTcGFucyB8fCBmYWxzZTtcbiAgICAgIHJldHVybiAocHJldlN0eWxlLmZpbGwgIT09IHRoaXNTdHlsZS5maWxsIHx8XG4gICAgICAgICAgICAgIHByZXZTdHlsZS5zdHJva2UgIT09IHRoaXNTdHlsZS5zdHJva2UgfHxcbiAgICAgICAgICAgICAgcHJldlN0eWxlLnN0cm9rZVdpZHRoICE9PSB0aGlzU3R5bGUuc3Ryb2tlV2lkdGggfHxcbiAgICAgICAgICAgICAgcHJldlN0eWxlLmZvbnRTaXplICE9PSB0aGlzU3R5bGUuZm9udFNpemUgfHxcbiAgICAgICAgICAgICAgcHJldlN0eWxlLmZvbnRGYW1pbHkgIT09IHRoaXNTdHlsZS5mb250RmFtaWx5IHx8XG4gICAgICAgICAgICAgIHByZXZTdHlsZS5mb250V2VpZ2h0ICE9PSB0aGlzU3R5bGUuZm9udFdlaWdodCB8fFxuICAgICAgICAgICAgICBwcmV2U3R5bGUuZm9udFN0eWxlICE9PSB0aGlzU3R5bGUuZm9udFN0eWxlIHx8XG4gICAgICAgICAgICAgIHByZXZTdHlsZS50ZXh0QmFja2dyb3VuZENvbG9yICE9PSB0aGlzU3R5bGUudGV4dEJhY2tncm91bmRDb2xvciB8fFxuICAgICAgICAgICAgICBwcmV2U3R5bGUuZGVsdGFZICE9PSB0aGlzU3R5bGUuZGVsdGFZKSB8fFxuICAgICAgICAgICAgICAoZm9yVGV4dFNwYW5zICYmXG4gICAgICAgICAgICAgICAgKHByZXZTdHlsZS5vdmVybGluZSAhPT0gdGhpc1N0eWxlLm92ZXJsaW5lIHx8XG4gICAgICAgICAgICAgICAgcHJldlN0eWxlLnVuZGVybGluZSAhPT0gdGhpc1N0eWxlLnVuZGVybGluZSB8fFxuICAgICAgICAgICAgICAgIHByZXZTdHlsZS5saW5ldGhyb3VnaCAhPT0gdGhpc1N0eWxlLmxpbmV0aHJvdWdoKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGFycmF5IGZvcm0gb2YgYSB0ZXh0IG9iamVjdCdzIGlubGluZSBzdHlsZXMgcHJvcGVydHkgd2l0aCBzdHlsZXMgZ3JvdXBlZCBpbiByYW5nZXNcbiAgICAgKiByYXRoZXIgdGhhbiBwZXIgY2hhcmFjdGVyLiBUaGlzIGZvcm1hdCBpcyBsZXNzIHZlcmJvc2UsIGFuZCBpcyBiZXR0ZXIgc3VpdGVkIGZvciBzdG9yYWdlXG4gICAgICogc28gaXQgaXMgdXNlZCBpbiBzZXJpYWxpemF0aW9uIChub3QgZHVyaW5nIHJ1bnRpbWUpLlxuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzdHlsZXMgcGVyIGNoYXJhY3RlciBzdHlsZXMgZm9yIGEgdGV4dCBvYmplY3RcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdGV4dCB0aGUgdGV4dCBzdHJpbmcgdGhhdCB0aGUgc3R5bGVzIGFyZSBhcHBsaWVkIHRvXG4gICAgICogQHJldHVybiB7e3N0YXJ0OiBudW1iZXIsIGVuZDogbnVtYmVyLCBzdHlsZTogb2JqZWN0fVtdfVxuICAgICAqL1xuICAgIHN0eWxlc1RvQXJyYXk6IGZ1bmN0aW9uKHN0eWxlcywgdGV4dCkge1xuICAgICAgLy8gY2xvbmUgc3R5bGUgc3RydWN0dXJlIHRvIHByZXZlbnQgbXV0YXRpb25cbiAgICAgIHZhciBzdHlsZXMgPSBmYWJyaWMudXRpbC5vYmplY3QuY2xvbmUoc3R5bGVzLCB0cnVlKSxcbiAgICAgICAgICB0ZXh0TGluZXMgPSB0ZXh0LnNwbGl0KCdcXG4nKSxcbiAgICAgICAgICBjaGFySW5kZXggPSAtMSwgcHJldlN0eWxlID0ge30sIHN0eWxlc0FycmF5ID0gW107XG4gICAgICAvL2xvb3AgdGhyb3VnaCBlYWNoIHRleHRMaW5lXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRleHRMaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoIXN0eWxlc1tpXSkge1xuICAgICAgICAgIC8vbm8gc3R5bGVzIGV4aXN0IGZvciB0aGlzIGxpbmUsIHNvIGFkZCB0aGUgbGluZSdzIGxlbmd0aCB0byB0aGUgY2hhckluZGV4IHRvdGFsXG4gICAgICAgICAgY2hhckluZGV4ICs9IHRleHRMaW5lc1tpXS5sZW5ndGg7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy9sb29wIHRocm91Z2ggZWFjaCBjaGFyYWN0ZXIgb2YgdGhlIGN1cnJlbnQgbGluZVxuICAgICAgICBmb3IgKHZhciBjID0gMDsgYyA8IHRleHRMaW5lc1tpXS5sZW5ndGg7IGMrKykge1xuICAgICAgICAgIGNoYXJJbmRleCsrO1xuICAgICAgICAgIHZhciB0aGlzU3R5bGUgPSBzdHlsZXNbaV1bY107XG4gICAgICAgICAgLy9jaGVjayBpZiBzdHlsZSBleGlzdHMgZm9yIHRoaXMgY2hhcmFjdGVyXG4gICAgICAgICAgaWYgKHRoaXNTdHlsZSAmJiBPYmplY3Qua2V5cyh0aGlzU3R5bGUpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciBzdHlsZUNoYW5nZWQgPSBmYWJyaWMudXRpbC5oYXNTdHlsZUNoYW5nZWQocHJldlN0eWxlLCB0aGlzU3R5bGUsIHRydWUpO1xuICAgICAgICAgICAgaWYgKHN0eWxlQ2hhbmdlZCkge1xuICAgICAgICAgICAgICBzdHlsZXNBcnJheS5wdXNoKHtcbiAgICAgICAgICAgICAgICBzdGFydDogY2hhckluZGV4LFxuICAgICAgICAgICAgICAgIGVuZDogY2hhckluZGV4ICsgMSxcbiAgICAgICAgICAgICAgICBzdHlsZTogdGhpc1N0eWxlXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIC8vaWYgc3R5bGUgaXMgdGhlIHNhbWUgYXMgcHJldmlvdXMgY2hhcmFjdGVyLCBpbmNyZWFzZSBlbmQgaW5kZXhcbiAgICAgICAgICAgICAgc3R5bGVzQXJyYXlbc3R5bGVzQXJyYXkubGVuZ3RoIC0gMV0uZW5kKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHByZXZTdHlsZSA9IHRoaXNTdHlsZSB8fCB7fTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN0eWxlc0FycmF5O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBvYmplY3QgZm9ybSBvZiB0aGUgc3R5bGVzIHByb3BlcnR5IHdpdGggc3R5bGVzIHRoYXQgYXJlIGFzc2lnbmVkIHBlclxuICAgICAqIGNoYXJhY3RlciByYXRoZXIgdGhhbiBncm91cGVkIGJ5IHJhbmdlLiBUaGlzIGZvcm1hdCBpcyBtb3JlIHZlcmJvc2UsIGFuZCBpc1xuICAgICAqIG9ubHkgdXNlZCBkdXJpbmcgcnVudGltZSAobm90IGZvciBzZXJpYWxpemF0aW9uL3N0b3JhZ2UpXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtBcnJheX0gc3R5bGVzIHRoZSBzZXJpYWxpemVkIGZvcm0gb2YgYSB0ZXh0IG9iamVjdCdzIHN0eWxlc1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0IHRoZSB0ZXh0IHN0cmluZyB0aGF0IHRoZSBzdHlsZXMgYXJlIGFwcGxpZWQgdG9cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAgICovXG4gICAgc3R5bGVzRnJvbUFycmF5OiBmdW5jdGlvbihzdHlsZXMsIHRleHQpIHtcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShzdHlsZXMpKSB7XG4gICAgICAgIHJldHVybiBzdHlsZXM7XG4gICAgICB9XG4gICAgICB2YXIgdGV4dExpbmVzID0gdGV4dC5zcGxpdCgnXFxuJyksXG4gICAgICAgICAgY2hhckluZGV4ID0gLTEsIHN0eWxlSW5kZXggPSAwLCBzdHlsZXNPYmplY3QgPSB7fTtcbiAgICAgIC8vbG9vcCB0aHJvdWdoIGVhY2ggdGV4dExpbmVcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGV4dExpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vbG9vcCB0aHJvdWdoIGVhY2ggY2hhcmFjdGVyIG9mIHRoZSBjdXJyZW50IGxpbmVcbiAgICAgICAgZm9yICh2YXIgYyA9IDA7IGMgPCB0ZXh0TGluZXNbaV0ubGVuZ3RoOyBjKyspIHtcbiAgICAgICAgICBjaGFySW5kZXgrKztcbiAgICAgICAgICAvL2NoZWNrIGlmIHRoZXJlJ3MgYSBzdHlsZSBjb2xsZWN0aW9uIHRoYXQgaW5jbHVkZXMgdGhlIGN1cnJlbnQgY2hhcmFjdGVyXG4gICAgICAgICAgaWYgKHN0eWxlc1tzdHlsZUluZGV4XVxuICAgICAgICAgICAgJiYgc3R5bGVzW3N0eWxlSW5kZXhdLnN0YXJ0IDw9IGNoYXJJbmRleFxuICAgICAgICAgICAgJiYgY2hhckluZGV4IDwgc3R5bGVzW3N0eWxlSW5kZXhdLmVuZCkge1xuICAgICAgICAgICAgLy9jcmVhdGUgb2JqZWN0IGZvciBsaW5lIGluZGV4IGlmIGl0IGRvZXNuJ3QgZXhpc3RcbiAgICAgICAgICAgIHN0eWxlc09iamVjdFtpXSA9IHN0eWxlc09iamVjdFtpXSB8fCB7fTtcbiAgICAgICAgICAgIC8vYXNzaWduIGEgc3R5bGUgYXQgdGhpcyBjaGFyYWN0ZXIncyBpbmRleFxuICAgICAgICAgICAgc3R5bGVzT2JqZWN0W2ldW2NdID0gT2JqZWN0LmFzc2lnbih7fSwgc3R5bGVzW3N0eWxlSW5kZXhdLnN0eWxlKTtcbiAgICAgICAgICAgIC8vaWYgY2hhcmFjdGVyIGlzIGF0IHRoZSBlbmQgb2YgdGhlIGN1cnJlbnQgc3R5bGUgY29sbGVjdGlvbiwgbW92ZSB0byB0aGUgbmV4dFxuICAgICAgICAgICAgaWYgKGNoYXJJbmRleCA9PT0gc3R5bGVzW3N0eWxlSW5kZXhdLmVuZCAtIDEpIHtcbiAgICAgICAgICAgICAgc3R5bGVJbmRleCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN0eWxlc09iamVjdDtcbiAgICB9XG4gIH07XG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKCkge1xuICB2YXIgX2pvaW4gPSBBcnJheS5wcm90b3R5cGUuam9pbixcbiAgICAgIGNvbW1hbmRMZW5ndGhzID0ge1xuICAgICAgICBtOiAyLFxuICAgICAgICBsOiAyLFxuICAgICAgICBoOiAxLFxuICAgICAgICB2OiAxLFxuICAgICAgICBjOiA2LFxuICAgICAgICBzOiA0LFxuICAgICAgICBxOiA0LFxuICAgICAgICB0OiAyLFxuICAgICAgICBhOiA3XG4gICAgICB9LFxuICAgICAgcmVwZWF0ZWRDb21tYW5kcyA9IHtcbiAgICAgICAgbTogJ2wnLFxuICAgICAgICBNOiAnTCdcbiAgICAgIH07XG4gIGZ1bmN0aW9uIHNlZ21lbnRUb0Jlemllcih0aDIsIHRoMywgY29zVGgsIHNpblRoLCByeCwgcnksIGN4MSwgY3kxLCBtVCwgZnJvbVgsIGZyb21ZKSB7XG4gICAgdmFyIGNvc3RoMiA9IGZhYnJpYy51dGlsLmNvcyh0aDIpLFxuICAgICAgICBzaW50aDIgPSBmYWJyaWMudXRpbC5zaW4odGgyKSxcbiAgICAgICAgY29zdGgzID0gZmFicmljLnV0aWwuY29zKHRoMyksXG4gICAgICAgIHNpbnRoMyA9IGZhYnJpYy51dGlsLnNpbih0aDMpLFxuICAgICAgICB0b1ggPSBjb3NUaCAqIHJ4ICogY29zdGgzIC0gc2luVGggKiByeSAqIHNpbnRoMyArIGN4MSxcbiAgICAgICAgdG9ZID0gc2luVGggKiByeCAqIGNvc3RoMyArIGNvc1RoICogcnkgKiBzaW50aDMgKyBjeTEsXG4gICAgICAgIGNwMVggPSBmcm9tWCArIG1UICogKCAtY29zVGggKiByeCAqIHNpbnRoMiAtIHNpblRoICogcnkgKiBjb3N0aDIpLFxuICAgICAgICBjcDFZID0gZnJvbVkgKyBtVCAqICggLXNpblRoICogcnggKiBzaW50aDIgKyBjb3NUaCAqIHJ5ICogY29zdGgyKSxcbiAgICAgICAgY3AyWCA9IHRvWCArIG1UICogKCBjb3NUaCAqIHJ4ICogc2ludGgzICsgc2luVGggKiByeSAqIGNvc3RoMyksXG4gICAgICAgIGNwMlkgPSB0b1kgKyBtVCAqICggc2luVGggKiByeCAqIHNpbnRoMyAtIGNvc1RoICogcnkgKiBjb3N0aDMpO1xuXG4gICAgcmV0dXJuIFsnQycsXG4gICAgICBjcDFYLCBjcDFZLFxuICAgICAgY3AyWCwgY3AyWSxcbiAgICAgIHRvWCwgdG9ZXG4gICAgXTtcbiAgfVxuXG4gIC8qIEFkYXB0ZWQgZnJvbSBodHRwOi8vZHhyLm1vemlsbGEub3JnL21vemlsbGEtY2VudHJhbC9zb3VyY2UvY29udGVudC9zdmcvY29udGVudC9zcmMvbnNTVkdQYXRoRGF0YVBhcnNlci5jcHBcbiAgICogYnkgQW5kcmVhIEJvZ2F6emkgY29kZSBpcyB1bmRlciBNUEwuIGlmIHlvdSBkb24ndCBoYXZlIGEgY29weSBvZiB0aGUgbGljZW5zZSB5b3UgY2FuIHRha2UgaXQgaGVyZVxuICAgKiBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC9cbiAgICovXG4gIGZ1bmN0aW9uIGFyY1RvU2VnbWVudHModG9YLCB0b1ksIHJ4LCByeSwgbGFyZ2UsIHN3ZWVwLCByb3RhdGVYKSB7XG4gICAgdmFyIFBJID0gTWF0aC5QSSwgdGggPSByb3RhdGVYICogUEkgLyAxODAsXG4gICAgICAgIHNpblRoID0gZmFicmljLnV0aWwuc2luKHRoKSxcbiAgICAgICAgY29zVGggPSBmYWJyaWMudXRpbC5jb3ModGgpLFxuICAgICAgICBmcm9tWCA9IDAsIGZyb21ZID0gMDtcblxuICAgIHJ4ID0gTWF0aC5hYnMocngpO1xuICAgIHJ5ID0gTWF0aC5hYnMocnkpO1xuXG4gICAgdmFyIHB4ID0gLWNvc1RoICogdG9YICogMC41IC0gc2luVGggKiB0b1kgKiAwLjUsXG4gICAgICAgIHB5ID0gLWNvc1RoICogdG9ZICogMC41ICsgc2luVGggKiB0b1ggKiAwLjUsXG4gICAgICAgIHJ4MiA9IHJ4ICogcngsIHJ5MiA9IHJ5ICogcnksIHB5MiA9IHB5ICogcHksIHB4MiA9IHB4ICogcHgsXG4gICAgICAgIHBsID0gcngyICogcnkyIC0gcngyICogcHkyIC0gcnkyICogcHgyLFxuICAgICAgICByb290ID0gMDtcblxuICAgIGlmIChwbCA8IDApIHtcbiAgICAgIHZhciBzID0gTWF0aC5zcXJ0KDEgLSBwbCAvIChyeDIgKiByeTIpKTtcbiAgICAgIHJ4ICo9IHM7XG4gICAgICByeSAqPSBzO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJvb3QgPSAobGFyZ2UgPT09IHN3ZWVwID8gLTEuMCA6IDEuMCkgKlxuICAgICAgICAgICAgICBNYXRoLnNxcnQoIHBsIC8gKHJ4MiAqIHB5MiArIHJ5MiAqIHB4MikpO1xuICAgIH1cblxuICAgIHZhciBjeCA9IHJvb3QgKiByeCAqIHB5IC8gcnksXG4gICAgICAgIGN5ID0gLXJvb3QgKiByeSAqIHB4IC8gcngsXG4gICAgICAgIGN4MSA9IGNvc1RoICogY3ggLSBzaW5UaCAqIGN5ICsgdG9YICogMC41LFxuICAgICAgICBjeTEgPSBzaW5UaCAqIGN4ICsgY29zVGggKiBjeSArIHRvWSAqIDAuNSxcbiAgICAgICAgbVRoZXRhID0gY2FsY1ZlY3RvckFuZ2xlKDEsIDAsIChweCAtIGN4KSAvIHJ4LCAocHkgLSBjeSkgLyByeSksXG4gICAgICAgIGR0aGV0YSA9IGNhbGNWZWN0b3JBbmdsZSgocHggLSBjeCkgLyByeCwgKHB5IC0gY3kpIC8gcnksICgtcHggLSBjeCkgLyByeCwgKC1weSAtIGN5KSAvIHJ5KTtcblxuICAgIGlmIChzd2VlcCA9PT0gMCAmJiBkdGhldGEgPiAwKSB7XG4gICAgICBkdGhldGEgLT0gMiAqIFBJO1xuICAgIH1cbiAgICBlbHNlIGlmIChzd2VlcCA9PT0gMSAmJiBkdGhldGEgPCAwKSB7XG4gICAgICBkdGhldGEgKz0gMiAqIFBJO1xuICAgIH1cblxuICAgIC8vIENvbnZlcnQgaW50byBjdWJpYyBiZXppZXIgc2VnbWVudHMgPD0gOTBkZWdcbiAgICB2YXIgc2VnbWVudHMgPSBNYXRoLmNlaWwoTWF0aC5hYnMoZHRoZXRhIC8gUEkgKiAyKSksXG4gICAgICAgIHJlc3VsdCA9IFtdLCBtRGVsdGEgPSBkdGhldGEgLyBzZWdtZW50cyxcbiAgICAgICAgbVQgPSA4IC8gMyAqIE1hdGguc2luKG1EZWx0YSAvIDQpICogTWF0aC5zaW4obURlbHRhIC8gNCkgLyBNYXRoLnNpbihtRGVsdGEgLyAyKSxcbiAgICAgICAgdGgzID0gbVRoZXRhICsgbURlbHRhO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWdtZW50czsgaSsrKSB7XG4gICAgICByZXN1bHRbaV0gPSBzZWdtZW50VG9CZXppZXIobVRoZXRhLCB0aDMsIGNvc1RoLCBzaW5UaCwgcngsIHJ5LCBjeDEsIGN5MSwgbVQsIGZyb21YLCBmcm9tWSk7XG4gICAgICBmcm9tWCA9IHJlc3VsdFtpXVs1XTtcbiAgICAgIGZyb21ZID0gcmVzdWx0W2ldWzZdO1xuICAgICAgbVRoZXRhID0gdGgzO1xuICAgICAgdGgzICs9IG1EZWx0YTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qXG4gICAqIFByaXZhdGVcbiAgICovXG4gIGZ1bmN0aW9uIGNhbGNWZWN0b3JBbmdsZSh1eCwgdXksIHZ4LCB2eSkge1xuICAgIHZhciB0YSA9IE1hdGguYXRhbjIodXksIHV4KSxcbiAgICAgICAgdGIgPSBNYXRoLmF0YW4yKHZ5LCB2eCk7XG4gICAgaWYgKHRiID49IHRhKSB7XG4gICAgICByZXR1cm4gdGIgLSB0YTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXR1cm4gMiAqIE1hdGguUEkgLSAodGEgLSB0Yik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSBib3VuZGluZyBib3ggb2YgYSBiZXppZXJjdXJ2ZVxuICAgKiBAcGFyYW0ge051bWJlcn0geDAgc3RhcnRpbmcgcG9pbnRcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHkwXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB4MSBmaXJzdCBjb250cm9sIHBvaW50XG4gICAqIEBwYXJhbSB7TnVtYmVyfSB5MVxuICAgKiBAcGFyYW0ge051bWJlcn0geDIgc2Vjb25kbyBjb250cm9sIHBvaW50XG4gICAqIEBwYXJhbSB7TnVtYmVyfSB5MlxuICAgKiBAcGFyYW0ge051bWJlcn0geDMgZW5kIG9mIGJlemllclxuICAgKiBAcGFyYW0ge051bWJlcn0geTNcbiAgICovXG4gIC8vIHRha2VuIGZyb20gaHR0cDovL2pzYmluLmNvbS9pdm9taXEvNTYvZWRpdCAgbm8gY3JlZGl0cyBhdmFpbGFibGUgZm9yIHRoYXQuXG4gIC8vIFRPRE86IGNhbiB3ZSBub3JtYWxpemUgdGhpcyB3aXRoIHRoZSBzdGFydGluZyBwb2ludHMgc2V0IGF0IDAgYW5kIHRoZW4gdHJhbnNsYXRlZCB0aGUgYmJveD9cbiAgZnVuY3Rpb24gZ2V0Qm91bmRzT2ZDdXJ2ZSh4MCwgeTAsIHgxLCB5MSwgeDIsIHkyLCB4MywgeTMpIHtcbiAgICB2YXIgYXJnc1N0cmluZztcbiAgICBpZiAoZmFicmljLmNhY2hlc0JvdW5kc09mQ3VydmUpIHtcbiAgICAgIGFyZ3NTdHJpbmcgPSBfam9pbi5jYWxsKGFyZ3VtZW50cyk7XG4gICAgICBpZiAoZmFicmljLmJvdW5kc09mQ3VydmVDYWNoZVthcmdzU3RyaW5nXSkge1xuICAgICAgICByZXR1cm4gZmFicmljLmJvdW5kc09mQ3VydmVDYWNoZVthcmdzU3RyaW5nXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgc3FydCA9IE1hdGguc3FydCxcbiAgICAgICAgbWluID0gTWF0aC5taW4sIG1heCA9IE1hdGgubWF4LFxuICAgICAgICBhYnMgPSBNYXRoLmFicywgdHZhbHVlcyA9IFtdLFxuICAgICAgICBib3VuZHMgPSBbW10sIFtdXSxcbiAgICAgICAgYSwgYiwgYywgdCwgdDEsIHQyLCBiMmFjLCBzcXJ0YjJhYztcblxuICAgIGIgPSA2ICogeDAgLSAxMiAqIHgxICsgNiAqIHgyO1xuICAgIGEgPSAtMyAqIHgwICsgOSAqIHgxIC0gOSAqIHgyICsgMyAqIHgzO1xuICAgIGMgPSAzICogeDEgLSAzICogeDA7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDI7ICsraSkge1xuICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgIGIgPSA2ICogeTAgLSAxMiAqIHkxICsgNiAqIHkyO1xuICAgICAgICBhID0gLTMgKiB5MCArIDkgKiB5MSAtIDkgKiB5MiArIDMgKiB5MztcbiAgICAgICAgYyA9IDMgKiB5MSAtIDMgKiB5MDtcbiAgICAgIH1cblxuICAgICAgaWYgKGFicyhhKSA8IDFlLTEyKSB7XG4gICAgICAgIGlmIChhYnMoYikgPCAxZS0xMikge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHQgPSAtYyAvIGI7XG4gICAgICAgIGlmICgwIDwgdCAmJiB0IDwgMSkge1xuICAgICAgICAgIHR2YWx1ZXMucHVzaCh0KTtcbiAgICAgICAgfVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGIyYWMgPSBiICogYiAtIDQgKiBjICogYTtcbiAgICAgIGlmIChiMmFjIDwgMCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHNxcnRiMmFjID0gc3FydChiMmFjKTtcbiAgICAgIHQxID0gKC1iICsgc3FydGIyYWMpIC8gKDIgKiBhKTtcbiAgICAgIGlmICgwIDwgdDEgJiYgdDEgPCAxKSB7XG4gICAgICAgIHR2YWx1ZXMucHVzaCh0MSk7XG4gICAgICB9XG4gICAgICB0MiA9ICgtYiAtIHNxcnRiMmFjKSAvICgyICogYSk7XG4gICAgICBpZiAoMCA8IHQyICYmIHQyIDwgMSkge1xuICAgICAgICB0dmFsdWVzLnB1c2godDIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciB4LCB5LCBqID0gdHZhbHVlcy5sZW5ndGgsIGpsZW4gPSBqLCBtdDtcbiAgICB3aGlsZSAoai0tKSB7XG4gICAgICB0ID0gdHZhbHVlc1tqXTtcbiAgICAgIG10ID0gMSAtIHQ7XG4gICAgICB4ID0gKG10ICogbXQgKiBtdCAqIHgwKSArICgzICogbXQgKiBtdCAqIHQgKiB4MSkgKyAoMyAqIG10ICogdCAqIHQgKiB4MikgKyAodCAqIHQgKiB0ICogeDMpO1xuICAgICAgYm91bmRzWzBdW2pdID0geDtcblxuICAgICAgeSA9IChtdCAqIG10ICogbXQgKiB5MCkgKyAoMyAqIG10ICogbXQgKiB0ICogeTEpICsgKDMgKiBtdCAqIHQgKiB0ICogeTIpICsgKHQgKiB0ICogdCAqIHkzKTtcbiAgICAgIGJvdW5kc1sxXVtqXSA9IHk7XG4gICAgfVxuXG4gICAgYm91bmRzWzBdW2psZW5dID0geDA7XG4gICAgYm91bmRzWzFdW2psZW5dID0geTA7XG4gICAgYm91bmRzWzBdW2psZW4gKyAxXSA9IHgzO1xuICAgIGJvdW5kc1sxXVtqbGVuICsgMV0gPSB5MztcbiAgICB2YXIgcmVzdWx0ID0gW1xuICAgICAge1xuICAgICAgICB4OiBtaW4uYXBwbHkobnVsbCwgYm91bmRzWzBdKSxcbiAgICAgICAgeTogbWluLmFwcGx5KG51bGwsIGJvdW5kc1sxXSlcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHg6IG1heC5hcHBseShudWxsLCBib3VuZHNbMF0pLFxuICAgICAgICB5OiBtYXguYXBwbHkobnVsbCwgYm91bmRzWzFdKVxuICAgICAgfVxuICAgIF07XG4gICAgaWYgKGZhYnJpYy5jYWNoZXNCb3VuZHNPZkN1cnZlKSB7XG4gICAgICBmYWJyaWMuYm91bmRzT2ZDdXJ2ZUNhY2hlW2FyZ3NTdHJpbmddID0gcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGFyYyB0byBhIGJ1bmNoIG9mIGJlemllciBjdXJ2ZXNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGZ4IHN0YXJ0aW5nIHBvaW50IHhcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGZ5IHN0YXJ0aW5nIHBvaW50IHlcbiAgICogQHBhcmFtIHtBcnJheX0gY29vcmRzIEFyYyBjb21tYW5kXG4gICAqL1xuICBmdW5jdGlvbiBmcm9tQXJjVG9CZXppZXJzKGZ4LCBmeSwgY29vcmRzKSB7XG4gICAgdmFyIHJ4ID0gY29vcmRzWzFdLFxuICAgICAgICByeSA9IGNvb3Jkc1syXSxcbiAgICAgICAgcm90ID0gY29vcmRzWzNdLFxuICAgICAgICBsYXJnZSA9IGNvb3Jkc1s0XSxcbiAgICAgICAgc3dlZXAgPSBjb29yZHNbNV0sXG4gICAgICAgIHR4ID0gY29vcmRzWzZdLFxuICAgICAgICB0eSA9IGNvb3Jkc1s3XSxcbiAgICAgICAgc2Vnc05vcm0gPSBhcmNUb1NlZ21lbnRzKHR4IC0gZngsIHR5IC0gZnksIHJ4LCByeSwgbGFyZ2UsIHN3ZWVwLCByb3QpO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHNlZ3NOb3JtLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBzZWdzTm9ybVtpXVsxXSArPSBmeDtcbiAgICAgIHNlZ3NOb3JtW2ldWzJdICs9IGZ5O1xuICAgICAgc2Vnc05vcm1baV1bM10gKz0gZng7XG4gICAgICBzZWdzTm9ybVtpXVs0XSArPSBmeTtcbiAgICAgIHNlZ3NOb3JtW2ldWzVdICs9IGZ4O1xuICAgICAgc2Vnc05vcm1baV1bNl0gKz0gZnk7XG4gICAgfVxuICAgIHJldHVybiBzZWdzTm9ybTtcbiAgfTtcblxuICAvKipcbiAgICogVGhpcyBmdW5jdGlvbiB0YWtlIGEgcGFyc2VkIFNWRyBwYXRoIGFuZCBtYWtlIGl0IHNpbXBsZXIgZm9yIGZhYnJpY0pTIGxvZ2ljLlxuICAgKiBzaW1wbGlmaWNhdGlvbiBjb25zaXN0IG9mOiBvbmx5IFVQUEVSQ0FTRSBhYnNvbHV0ZSBjb21tYW5kcyAoIHJlbGF0aXZlIGNvbnZlcnRlZCB0byBhYnNvbHV0ZSApXG4gICAqIFMgY29udmVydGVkIGluIEMsIFQgY29udmVydGVkIGluIFEsIEEgY29udmVydGVkIGluIEMuXG4gICAqIEBwYXJhbSB7QXJyYXl9IHBhdGggdGhlIGFycmF5IG9mIGNvbW1hbmRzIG9mIGEgcGFyc2VkIHN2ZyBwYXRoIGZvciBmYWJyaWMuUGF0aFxuICAgKiBAcmV0dXJuIHtBcnJheX0gdGhlIHNpbXBsaWZpZWQgYXJyYXkgb2YgY29tbWFuZHMgb2YgYSBwYXJzZWQgc3ZnIHBhdGggZm9yIGZhYnJpYy5QYXRoXG4gICAqL1xuICBmdW5jdGlvbiBtYWtlUGF0aFNpbXBsZXIocGF0aCkge1xuICAgIC8vIHggYW5kIHkgcmVwcmVzZW50IHRoZSBsYXN0IHBvaW50IG9mIHRoZSBwYXRoLiB0aGUgcHJldmlvdXMgY29tbWFuZCBwb2ludC5cbiAgICAvLyB3ZSBhZGQgdGhlbSB0byBlYWNoIHJlbGF0aXZlIGNvbW1hbmQgdG8gbWFrZSBpdCBhbiBhYnNvbHV0ZSBjb21tZW50LlxuICAgIC8vIHdlIGFsc28gc3dhcCB0aGUgdiBWIGggSCB3aXRoIEwsIGJlY2F1c2UgYXJlIGVhc2llciB0byB0cmFuc2Zvcm0uXG4gICAgdmFyIHggPSAwLCB5ID0gMCwgbGVuID0gcGF0aC5sZW5ndGgsXG4gICAgICAgIC8vIHgxIGFuZCB5MSByZXByZXNlbnQgdGhlIGxhc3QgcG9pbnQgb2YgdGhlIHN1YnBhdGguIHRoZSBzdWJwYXRoIGlzIHN0YXJ0ZWQgd2l0aFxuICAgICAgICAvLyBtIG9yIE0gY29tbWFuZC4gV2hlbiBhIHogb3IgWiBjb21tYW5kIGlzIGRyYXduLCB4IGFuZCB5IG5lZWQgdG8gYmUgcmVzZXR0ZWQgdG9cbiAgICAgICAgLy8gdGhlIGxhc3QgeDEgYW5kIHkxLlxuICAgICAgICB4MSA9IDAsIHkxID0gMCwgY3VycmVudCwgaSwgY29udmVydGVkLFxuICAgICAgICAvLyBwcmV2aW91cyB3aWxsIGhvc3QgdGhlIGxldHRlciBvZiB0aGUgcHJldmlvdXMgY29tbWFuZCwgdG8gaGFuZGxlIFMgYW5kIFQuXG4gICAgICAgIC8vIGNvbnRyb2xYIGFuZCBjb250cm9sWSB3aWxsIGhvc3QgdGhlIHByZXZpb3VzIHJlZmxlY3RlZCBjb250cm9sIHBvaW50XG4gICAgICAgIGRlc3RpbmF0aW9uUGF0aCA9IFtdLCBwcmV2aW91cywgY29udHJvbFgsIGNvbnRyb2xZO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgY29udmVydGVkID0gZmFsc2U7XG4gICAgICBjdXJyZW50ID0gcGF0aFtpXS5zbGljZSgwKTtcbiAgICAgIHN3aXRjaCAoY3VycmVudFswXSkgeyAvLyBmaXJzdCBsZXR0ZXJcbiAgICAgICAgY2FzZSAnbCc6IC8vIGxpbmV0bywgcmVsYXRpdmVcbiAgICAgICAgICBjdXJyZW50WzBdID0gJ0wnO1xuICAgICAgICAgIGN1cnJlbnRbMV0gKz0geDtcbiAgICAgICAgICBjdXJyZW50WzJdICs9IHk7XG4gICAgICAgICAgLy8gZmFsbHMgdGhyb3VnaFxuICAgICAgICBjYXNlICdMJzpcbiAgICAgICAgICB4ID0gY3VycmVudFsxXTtcbiAgICAgICAgICB5ID0gY3VycmVudFsyXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnaCc6IC8vIGhvcml6b250YWwgbGluZXRvLCByZWxhdGl2ZVxuICAgICAgICAgIGN1cnJlbnRbMV0gKz0geDtcbiAgICAgICAgICAvLyBmYWxscyB0aHJvdWdoXG4gICAgICAgIGNhc2UgJ0gnOlxuICAgICAgICAgIGN1cnJlbnRbMF0gPSAnTCc7XG4gICAgICAgICAgY3VycmVudFsyXSA9IHk7XG4gICAgICAgICAgeCA9IGN1cnJlbnRbMV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3YnOiAvLyB2ZXJ0aWNhbCBsaW5ldG8sIHJlbGF0aXZlXG4gICAgICAgICAgY3VycmVudFsxXSArPSB5O1xuICAgICAgICAgIC8vIGZhbGxzIHRocm91Z2hcbiAgICAgICAgY2FzZSAnVic6XG4gICAgICAgICAgY3VycmVudFswXSA9ICdMJztcbiAgICAgICAgICB5ID0gY3VycmVudFsxXTtcbiAgICAgICAgICBjdXJyZW50WzFdID0geDtcbiAgICAgICAgICBjdXJyZW50WzJdID0geTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnbSc6IC8vIG1vdmVUbywgcmVsYXRpdmVcbiAgICAgICAgICBjdXJyZW50WzBdID0gJ00nO1xuICAgICAgICAgIGN1cnJlbnRbMV0gKz0geDtcbiAgICAgICAgICBjdXJyZW50WzJdICs9IHk7XG4gICAgICAgICAgLy8gZmFsbHMgdGhyb3VnaFxuICAgICAgICBjYXNlICdNJzpcbiAgICAgICAgICB4ID0gY3VycmVudFsxXTtcbiAgICAgICAgICB5ID0gY3VycmVudFsyXTtcbiAgICAgICAgICB4MSA9IGN1cnJlbnRbMV07XG4gICAgICAgICAgeTEgPSBjdXJyZW50WzJdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdjJzogLy8gYmV6aWVyQ3VydmVUbywgcmVsYXRpdmVcbiAgICAgICAgICBjdXJyZW50WzBdID0gJ0MnO1xuICAgICAgICAgIGN1cnJlbnRbMV0gKz0geDtcbiAgICAgICAgICBjdXJyZW50WzJdICs9IHk7XG4gICAgICAgICAgY3VycmVudFszXSArPSB4O1xuICAgICAgICAgIGN1cnJlbnRbNF0gKz0geTtcbiAgICAgICAgICBjdXJyZW50WzVdICs9IHg7XG4gICAgICAgICAgY3VycmVudFs2XSArPSB5O1xuICAgICAgICAgIC8vIGZhbGxzIHRocm91Z2hcbiAgICAgICAgY2FzZSAnQyc6XG4gICAgICAgICAgY29udHJvbFggPSBjdXJyZW50WzNdO1xuICAgICAgICAgIGNvbnRyb2xZID0gY3VycmVudFs0XTtcbiAgICAgICAgICB4ID0gY3VycmVudFs1XTtcbiAgICAgICAgICB5ID0gY3VycmVudFs2XTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncyc6IC8vIHNob3J0aGFuZCBjdWJpYyBiZXppZXJDdXJ2ZVRvLCByZWxhdGl2ZVxuICAgICAgICAgIGN1cnJlbnRbMF0gPSAnUyc7XG4gICAgICAgICAgY3VycmVudFsxXSArPSB4O1xuICAgICAgICAgIGN1cnJlbnRbMl0gKz0geTtcbiAgICAgICAgICBjdXJyZW50WzNdICs9IHg7XG4gICAgICAgICAgY3VycmVudFs0XSArPSB5O1xuICAgICAgICAgIC8vIGZhbGxzIHRocm91Z2hcbiAgICAgICAgY2FzZSAnUyc6XG4gICAgICAgICAgLy8gd291bGQgYmUgc1NjQyBidXQgc2luY2Ugd2UgYXJlIHN3YXBwaW5nIHNTYyBmb3IgQywgd2UgY2hlY2sganVzdCB0aGF0LlxuICAgICAgICAgIGlmIChwcmV2aW91cyA9PT0gJ0MnKSB7XG4gICAgICAgICAgICAvLyBjYWxjdWxhdGUgcmVmbGVjdGlvbiBvZiBwcmV2aW91cyBjb250cm9sIHBvaW50c1xuICAgICAgICAgICAgY29udHJvbFggPSAyICogeCAtIGNvbnRyb2xYO1xuICAgICAgICAgICAgY29udHJvbFkgPSAyICogeSAtIGNvbnRyb2xZO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIElmIHRoZXJlIGlzIG5vIHByZXZpb3VzIGNvbW1hbmQgb3IgaWYgdGhlIHByZXZpb3VzIGNvbW1hbmQgd2FzIG5vdCBhIEMsIGMsIFMsIG9yIHMsXG4gICAgICAgICAgICAvLyB0aGUgY29udHJvbCBwb2ludCBpcyBjb2luY2lkZW50IHdpdGggdGhlIGN1cnJlbnQgcG9pbnRcbiAgICAgICAgICAgIGNvbnRyb2xYID0geDtcbiAgICAgICAgICAgIGNvbnRyb2xZID0geTtcbiAgICAgICAgICB9XG4gICAgICAgICAgeCA9IGN1cnJlbnRbM107XG4gICAgICAgICAgeSA9IGN1cnJlbnRbNF07XG4gICAgICAgICAgY3VycmVudFswXSA9ICdDJztcbiAgICAgICAgICBjdXJyZW50WzVdID0gY3VycmVudFszXTtcbiAgICAgICAgICBjdXJyZW50WzZdID0gY3VycmVudFs0XTtcbiAgICAgICAgICBjdXJyZW50WzNdID0gY3VycmVudFsxXTtcbiAgICAgICAgICBjdXJyZW50WzRdID0gY3VycmVudFsyXTtcbiAgICAgICAgICBjdXJyZW50WzFdID0gY29udHJvbFg7XG4gICAgICAgICAgY3VycmVudFsyXSA9IGNvbnRyb2xZO1xuICAgICAgICAgIC8vIGN1cnJlbnRbM10gYW5kIGN1cnJlbnRbNF0gYXJlIE5PVyB0aGUgc2Vjb25kIGNvbnRyb2wgcG9pbnQuXG4gICAgICAgICAgLy8gd2Uga2VlcCBpdCBmb3IgdGhlIG5leHQgcmVmbGVjdGlvbi5cbiAgICAgICAgICBjb250cm9sWCA9IGN1cnJlbnRbM107XG4gICAgICAgICAgY29udHJvbFkgPSBjdXJyZW50WzRdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdxJzogLy8gcXVhZHJhdGljQ3VydmVUbywgcmVsYXRpdmVcbiAgICAgICAgICBjdXJyZW50WzBdID0gJ1EnO1xuICAgICAgICAgIGN1cnJlbnRbMV0gKz0geDtcbiAgICAgICAgICBjdXJyZW50WzJdICs9IHk7XG4gICAgICAgICAgY3VycmVudFszXSArPSB4O1xuICAgICAgICAgIGN1cnJlbnRbNF0gKz0geTtcbiAgICAgICAgICAvLyBmYWxscyB0aHJvdWdoXG4gICAgICAgIGNhc2UgJ1EnOlxuICAgICAgICAgIGNvbnRyb2xYID0gY3VycmVudFsxXTtcbiAgICAgICAgICBjb250cm9sWSA9IGN1cnJlbnRbMl07XG4gICAgICAgICAgeCA9IGN1cnJlbnRbM107XG4gICAgICAgICAgeSA9IGN1cnJlbnRbNF07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3QnOiAvLyBzaG9ydGhhbmQgcXVhZHJhdGljQ3VydmVUbywgcmVsYXRpdmVcbiAgICAgICAgICBjdXJyZW50WzBdID0gJ1QnO1xuICAgICAgICAgIGN1cnJlbnRbMV0gKz0geDtcbiAgICAgICAgICBjdXJyZW50WzJdICs9IHk7XG4gICAgICAgICAgLy8gZmFsbHMgdGhyb3VnaFxuICAgICAgICBjYXNlICdUJzpcbiAgICAgICAgICBpZiAocHJldmlvdXMgPT09ICdRJykge1xuICAgICAgICAgICAgLy8gY2FsY3VsYXRlIHJlZmxlY3Rpb24gb2YgcHJldmlvdXMgY29udHJvbCBwb2ludFxuICAgICAgICAgICAgY29udHJvbFggPSAyICogeCAtIGNvbnRyb2xYO1xuICAgICAgICAgICAgY29udHJvbFkgPSAyICogeSAtIGNvbnRyb2xZO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIElmIHRoZXJlIGlzIG5vIHByZXZpb3VzIGNvbW1hbmQgb3IgaWYgdGhlIHByZXZpb3VzIGNvbW1hbmQgd2FzIG5vdCBhIFEsIHEsIFQgb3IgdCxcbiAgICAgICAgICAgIC8vIGFzc3VtZSB0aGUgY29udHJvbCBwb2ludCBpcyBjb2luY2lkZW50IHdpdGggdGhlIGN1cnJlbnQgcG9pbnRcbiAgICAgICAgICAgIGNvbnRyb2xYID0geDtcbiAgICAgICAgICAgIGNvbnRyb2xZID0geTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY3VycmVudFswXSA9ICdRJztcbiAgICAgICAgICB4ID0gY3VycmVudFsxXTtcbiAgICAgICAgICB5ID0gY3VycmVudFsyXTtcbiAgICAgICAgICBjdXJyZW50WzFdID0gY29udHJvbFg7XG4gICAgICAgICAgY3VycmVudFsyXSA9IGNvbnRyb2xZO1xuICAgICAgICAgIGN1cnJlbnRbM10gPSB4O1xuICAgICAgICAgIGN1cnJlbnRbNF0gPSB5O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdhJzpcbiAgICAgICAgICBjdXJyZW50WzBdID0gJ0EnO1xuICAgICAgICAgIGN1cnJlbnRbNl0gKz0geDtcbiAgICAgICAgICBjdXJyZW50WzddICs9IHk7XG4gICAgICAgICAgLy8gZmFsbHMgdGhyb3VnaFxuICAgICAgICBjYXNlICdBJzpcbiAgICAgICAgICBjb252ZXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgIGRlc3RpbmF0aW9uUGF0aCA9IGRlc3RpbmF0aW9uUGF0aC5jb25jYXQoZnJvbUFyY1RvQmV6aWVycyh4LCB5LCBjdXJyZW50KSk7XG4gICAgICAgICAgeCA9IGN1cnJlbnRbNl07XG4gICAgICAgICAgeSA9IGN1cnJlbnRbN107XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3onOlxuICAgICAgICBjYXNlICdaJzpcbiAgICAgICAgICB4ID0geDE7XG4gICAgICAgICAgeSA9IHkxO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgfVxuICAgICAgaWYgKCFjb252ZXJ0ZWQpIHtcbiAgICAgICAgZGVzdGluYXRpb25QYXRoLnB1c2goY3VycmVudCk7XG4gICAgICB9XG4gICAgICBwcmV2aW91cyA9IGN1cnJlbnRbMF07XG4gICAgfVxuICAgIHJldHVybiBkZXN0aW5hdGlvblBhdGg7XG4gIH07XG5cbiAgLyoqXG4gICAqIENhbGMgbGVuZ3RoIGZyb20gcG9pbnQgeDEseTEgdG8geDIseTJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHgxIHN0YXJ0aW5nIHBvaW50IHhcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHkxIHN0YXJ0aW5nIHBvaW50IHlcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHgyIHN0YXJ0aW5nIHBvaW50IHhcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHkyIHN0YXJ0aW5nIHBvaW50IHlcbiAgICogQHJldHVybiB7TnVtYmVyfSBsZW5ndGggb2Ygc2VnbWVudFxuICAgKi9cbiAgZnVuY3Rpb24gY2FsY0xpbmVMZW5ndGgoeDEsIHkxLCB4MiwgeTIpIHtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KCh4MiAtIHgxKSAqICh4MiAtIHgxKSArICh5MiAtIHkxKSAqICh5MiAtIHkxKSk7XG4gIH1cblxuICAvLyBmdW5jdGlvbnMgZm9yIHRoZSBDdWJpYyBiZWl6ZXJcbiAgLy8gdGFrZW4gZnJvbTogaHR0cHM6Ly9naXRodWIuY29tL2tvbnZhanMva29udmEvYmxvYi83LjAuNS9zcmMvc2hhcGVzL1BhdGgudHMjTDM1MFxuICBmdW5jdGlvbiBDQjEodCkge1xuICAgIHJldHVybiB0ICogdCAqIHQ7XG4gIH1cbiAgZnVuY3Rpb24gQ0IyKHQpIHtcbiAgICByZXR1cm4gMyAqIHQgKiB0ICogKDEgLSB0KTtcbiAgfVxuICBmdW5jdGlvbiBDQjModCkge1xuICAgIHJldHVybiAzICogdCAqICgxIC0gdCkgKiAoMSAtIHQpO1xuICB9XG4gIGZ1bmN0aW9uIENCNCh0KSB7XG4gICAgcmV0dXJuICgxIC0gdCkgKiAoMSAtIHQpICogKDEgLSB0KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFBvaW50T25DdWJpY0Jlemllckl0ZXJhdG9yKHAxeCwgcDF5LCBwMngsIHAyeSwgcDN4LCBwM3ksIHA0eCwgcDR5KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHBjdCkge1xuICAgICAgdmFyIGMxID0gQ0IxKHBjdCksIGMyID0gQ0IyKHBjdCksIGMzID0gQ0IzKHBjdCksIGM0ID0gQ0I0KHBjdCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB4OiBwNHggKiBjMSArIHAzeCAqIGMyICsgcDJ4ICogYzMgKyBwMXggKiBjNCxcbiAgICAgICAgeTogcDR5ICogYzEgKyBwM3kgKiBjMiArIHAyeSAqIGMzICsgcDF5ICogYzRcbiAgICAgIH07XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFRhbmdlbnRDdWJpY0l0ZXJhdG9yKHAxeCwgcDF5LCBwMngsIHAyeSwgcDN4LCBwM3ksIHA0eCwgcDR5KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChwY3QpIHtcbiAgICAgIHZhciBpbnZUID0gMSAtIHBjdCxcbiAgICAgICAgICB0YW5nZW50WCA9ICgzICogaW52VCAqIGludlQgKiAocDJ4IC0gcDF4KSkgKyAoNiAqIGludlQgKiBwY3QgKiAocDN4IC0gcDJ4KSkgK1xuICAgICAgICAgICgzICogcGN0ICogcGN0ICogKHA0eCAtIHAzeCkpLFxuICAgICAgICAgIHRhbmdlbnRZID0gKDMgKiBpbnZUICogaW52VCAqIChwMnkgLSBwMXkpKSArICg2ICogaW52VCAqIHBjdCAqIChwM3kgLSBwMnkpKSArXG4gICAgICAgICAgKDMgKiBwY3QgKiBwY3QgKiAocDR5IC0gcDN5KSk7XG4gICAgICByZXR1cm4gTWF0aC5hdGFuMih0YW5nZW50WSwgdGFuZ2VudFgpO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBRQjEodCkge1xuICAgIHJldHVybiB0ICogdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIFFCMih0KSB7XG4gICAgcmV0dXJuIDIgKiB0ICogKDEgLSB0KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIFFCMyh0KSB7XG4gICAgcmV0dXJuICgxIC0gdCkgKiAoMSAtIHQpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UG9pbnRPblF1YWRyYXRpY0Jlemllckl0ZXJhdG9yKHAxeCwgcDF5LCBwMngsIHAyeSwgcDN4LCBwM3kpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24ocGN0KSB7XG4gICAgICB2YXIgYzEgPSBRQjEocGN0KSwgYzIgPSBRQjIocGN0KSwgYzMgPSBRQjMocGN0KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHg6IHAzeCAqIGMxICsgcDJ4ICogYzIgKyBwMXggKiBjMyxcbiAgICAgICAgeTogcDN5ICogYzEgKyBwMnkgKiBjMiArIHAxeSAqIGMzXG4gICAgICB9O1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBnZXRUYW5nZW50UXVhZHJhdGljSXRlcmF0b3IocDF4LCBwMXksIHAyeCwgcDJ5LCBwM3gsIHAzeSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAocGN0KSB7XG4gICAgICB2YXIgaW52VCA9IDEgLSBwY3QsXG4gICAgICAgICAgdGFuZ2VudFggPSAoMiAqIGludlQgKiAocDJ4IC0gcDF4KSkgKyAoMiAqIHBjdCAqIChwM3ggLSBwMngpKSxcbiAgICAgICAgICB0YW5nZW50WSA9ICgyICogaW52VCAqIChwMnkgLSBwMXkpKSArICgyICogcGN0ICogKHAzeSAtIHAyeSkpO1xuICAgICAgcmV0dXJuIE1hdGguYXRhbjIodGFuZ2VudFksIHRhbmdlbnRYKTtcbiAgICB9O1xuICB9XG5cblxuICAvLyB0aGlzIHdpbGwgcnVuIG92ZXIgYSBwYXRoIHNlZ21lbnQgKCBhIGN1YmljIG9yIHF1YWRyYXRpYyBzZWdtZW50KSBhbmQgYXBwcm94aW1hdGUgaXRcbiAgLy8gd2l0aCAxMDAgc2VnZW1udHMuIFRoaXMgd2lsbCBnb29kIGVub3VnaCB0byBjYWxjdWxhdGUgdGhlIGxlbmd0aCBvZiB0aGUgY3VydmVcbiAgZnVuY3Rpb24gcGF0aEl0ZXJhdG9yKGl0ZXJhdG9yLCB4MSwgeTEpIHtcbiAgICB2YXIgdGVtcFAgPSB7IHg6IHgxLCB5OiB5MSB9LCBwLCB0bXBMZW4gPSAwLCBwZXJjO1xuICAgIGZvciAocGVyYyA9IDE7IHBlcmMgPD0gMTAwOyBwZXJjICs9IDEpIHtcbiAgICAgIHAgPSBpdGVyYXRvcihwZXJjIC8gMTAwKTtcbiAgICAgIHRtcExlbiArPSBjYWxjTGluZUxlbmd0aCh0ZW1wUC54LCB0ZW1wUC55LCBwLngsIHAueSk7XG4gICAgICB0ZW1wUCA9IHA7XG4gICAgfVxuICAgIHJldHVybiB0bXBMZW47XG4gIH1cblxuICAvKipcbiAgICogR2l2ZW4gYSBwYXRoSW5mbywgYW5kIGEgZGlzdGFuY2UgaW4gcGl4ZWxzLCBmaW5kIHRoZSBwZXJjZW50YWdlIGZyb20gMCB0byAxXG4gICAqIHRoYXQgY29ycmVzcG9uZCB0byB0aGF0IHBpeGVscyBydW4gb3ZlciB0aGUgcGF0aC5cbiAgICogVGhlIHBlcmNlbnRhZ2Ugd2lsbCBiZSB0aGVuIHVzZWQgdG8gZmluZCB0aGUgY29ycmVjdCBwb2ludCBvbiB0aGUgY2FudmFzIGZvciB0aGUgcGF0aC5cbiAgICogQHBhcmFtIHtBcnJheX0gc2VnSW5mbyBmYWJyaWNKUyBjb2xsZWN0aW9uIG9mIGluZm9ybWF0aW9uIG9uIGEgcGFyc2VkIHBhdGhcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGRpc3RhbmNlIGZyb20gc3RhcnRpbmcgcG9pbnQsIGluIHBpeGVscy5cbiAgICogQHJldHVybiB7T2JqZWN0fSBpbmZvIG9iamVjdCB3aXRoIHggYW5kIHkgKCB0aGUgcG9pbnQgb24gY2FudmFzICkgYW5kIGFuZ2xlLCB0aGUgdGFuZ2VudCBvbiB0aGF0IHBvaW50O1xuICAgKi9cbiAgZnVuY3Rpb24gZmluZFBlcmNlbnRhZ2VGb3JEaXN0YW5jZShzZWdJbmZvLCBkaXN0YW5jZSkge1xuICAgIHZhciBwZXJjID0gMCwgdG1wTGVuID0gMCwgaXRlcmF0b3IgPSBzZWdJbmZvLml0ZXJhdG9yLCB0ZW1wUCA9IHsgeDogc2VnSW5mby54LCB5OiBzZWdJbmZvLnkgfSxcbiAgICAgICAgcCwgbmV4dExlbiwgbmV4dFN0ZXAgPSAwLjAxLCBhbmdsZUZpbmRlciA9IHNlZ0luZm8uYW5nbGVGaW5kZXIsIGxhc3RQZXJjO1xuICAgIC8vIG5leHRTdGVwID4gMC4wMDAxIGNvdmVycyAwLjAwMDE1NjI1IHRoYXQgMS82NHRoIG9mIDEvMTAwXG4gICAgLy8gdGhlIHBhdGhcbiAgICB3aGlsZSAodG1wTGVuIDwgZGlzdGFuY2UgJiYgbmV4dFN0ZXAgPiAwLjAwMDEpIHtcbiAgICAgIHAgPSBpdGVyYXRvcihwZXJjKTtcbiAgICAgIGxhc3RQZXJjID0gcGVyYztcbiAgICAgIG5leHRMZW4gPSBjYWxjTGluZUxlbmd0aCh0ZW1wUC54LCB0ZW1wUC55LCBwLngsIHAueSk7XG4gICAgICAvLyBjb21wYXJlIHRtcExlbiBlYWNoIGN5Y2xlIHdpdGggZGlzdGFuY2UsIGRlY2lkZSBuZXh0IHBlcmMgdG8gdGVzdC5cbiAgICAgIGlmICgobmV4dExlbiArIHRtcExlbikgPiBkaXN0YW5jZSkge1xuICAgICAgICAvLyB3ZSBkaXNjYXJkIHRoaXMgc3RlcCBhbmQgd2UgbWFrZSBzbWFsbGVyIHN0ZXBzLlxuICAgICAgICBwZXJjIC09IG5leHRTdGVwO1xuICAgICAgICBuZXh0U3RlcCAvPSAyO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRlbXBQID0gcDtcbiAgICAgICAgcGVyYyArPSBuZXh0U3RlcDtcbiAgICAgICAgdG1wTGVuICs9IG5leHRMZW47XG4gICAgICB9XG4gICAgfVxuICAgIHAuYW5nbGUgPSBhbmdsZUZpbmRlcihsYXN0UGVyYyk7XG4gICAgcmV0dXJuIHA7XG4gIH1cblxuICAvKipcbiAgICogUnVuIG92ZXIgYSBwYXJzZWQgYW5kIHNpbXBsaWZlZCBwYXRoIGFuZCBleHRyYWMgc29tZSBpbmZvcm1hdGlvbnMuXG4gICAqIGluZm9ybWF0aW9ucyBhcmUgbGVuZ3RoIG9mIGVhY2ggY29tbWFuZCBhbmQgc3RhcnRpbmcgcG9pbnRcbiAgICogQHBhcmFtIHtBcnJheX0gcGF0aCBmYWJyaWNKUyBwYXJzZWQgcGF0aCBjb21tYW5kc1xuICAgKiBAcmV0dXJuIHtBcnJheX0gcGF0aCBjb21tYW5kcyBpbmZvcm1hdGlvbnNcbiAgICovXG4gIGZ1bmN0aW9uIGdldFBhdGhTZWdtZW50c0luZm8ocGF0aCkge1xuICAgIHZhciB0b3RhbExlbmd0aCA9IDAsIGxlbiA9IHBhdGgubGVuZ3RoLCBjdXJyZW50LFxuICAgICAgICAvL3gyIGFuZCB5MiBhcmUgdGhlIGNvb3JkcyBvZiBzZWdtZW50IHN0YXJ0XG4gICAgICAgIC8veDEgYW5kIHkxIGFyZSB0aGUgY29vcmRzIG9mIHRoZSBjdXJyZW50IHBvaW50XG4gICAgICAgIHgxID0gMCwgeTEgPSAwLCB4MiA9IDAsIHkyID0gMCwgaW5mbyA9IFtdLCBpdGVyYXRvciwgdGVtcEluZm8sIGFuZ2xlRmluZGVyO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGN1cnJlbnQgPSBwYXRoW2ldO1xuICAgICAgdGVtcEluZm8gPSB7XG4gICAgICAgIHg6IHgxLFxuICAgICAgICB5OiB5MSxcbiAgICAgICAgY29tbWFuZDogY3VycmVudFswXSxcbiAgICAgIH07XG4gICAgICBzd2l0Y2ggKGN1cnJlbnRbMF0pIHsgLy9maXJzdCBsZXR0ZXJcbiAgICAgICAgY2FzZSAnTSc6XG4gICAgICAgICAgdGVtcEluZm8ubGVuZ3RoID0gMDtcbiAgICAgICAgICB4MiA9IHgxID0gY3VycmVudFsxXTtcbiAgICAgICAgICB5MiA9IHkxID0gY3VycmVudFsyXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnTCc6XG4gICAgICAgICAgdGVtcEluZm8ubGVuZ3RoID0gY2FsY0xpbmVMZW5ndGgoeDEsIHkxLCBjdXJyZW50WzFdLCBjdXJyZW50WzJdKTtcbiAgICAgICAgICB4MSA9IGN1cnJlbnRbMV07XG4gICAgICAgICAgeTEgPSBjdXJyZW50WzJdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdDJzpcbiAgICAgICAgICBpdGVyYXRvciA9IGdldFBvaW50T25DdWJpY0Jlemllckl0ZXJhdG9yKFxuICAgICAgICAgICAgeDEsXG4gICAgICAgICAgICB5MSxcbiAgICAgICAgICAgIGN1cnJlbnRbMV0sXG4gICAgICAgICAgICBjdXJyZW50WzJdLFxuICAgICAgICAgICAgY3VycmVudFszXSxcbiAgICAgICAgICAgIGN1cnJlbnRbNF0sXG4gICAgICAgICAgICBjdXJyZW50WzVdLFxuICAgICAgICAgICAgY3VycmVudFs2XVxuICAgICAgICAgICk7XG4gICAgICAgICAgYW5nbGVGaW5kZXIgPSBnZXRUYW5nZW50Q3ViaWNJdGVyYXRvcihcbiAgICAgICAgICAgIHgxLFxuICAgICAgICAgICAgeTEsXG4gICAgICAgICAgICBjdXJyZW50WzFdLFxuICAgICAgICAgICAgY3VycmVudFsyXSxcbiAgICAgICAgICAgIGN1cnJlbnRbM10sXG4gICAgICAgICAgICBjdXJyZW50WzRdLFxuICAgICAgICAgICAgY3VycmVudFs1XSxcbiAgICAgICAgICAgIGN1cnJlbnRbNl1cbiAgICAgICAgICApO1xuICAgICAgICAgIHRlbXBJbmZvLml0ZXJhdG9yID0gaXRlcmF0b3I7XG4gICAgICAgICAgdGVtcEluZm8uYW5nbGVGaW5kZXIgPSBhbmdsZUZpbmRlcjtcbiAgICAgICAgICB0ZW1wSW5mby5sZW5ndGggPSBwYXRoSXRlcmF0b3IoaXRlcmF0b3IsIHgxLCB5MSk7XG4gICAgICAgICAgeDEgPSBjdXJyZW50WzVdO1xuICAgICAgICAgIHkxID0gY3VycmVudFs2XTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnUSc6XG4gICAgICAgICAgaXRlcmF0b3IgPSBnZXRQb2ludE9uUXVhZHJhdGljQmV6aWVySXRlcmF0b3IoXG4gICAgICAgICAgICB4MSxcbiAgICAgICAgICAgIHkxLFxuICAgICAgICAgICAgY3VycmVudFsxXSxcbiAgICAgICAgICAgIGN1cnJlbnRbMl0sXG4gICAgICAgICAgICBjdXJyZW50WzNdLFxuICAgICAgICAgICAgY3VycmVudFs0XVxuICAgICAgICAgICk7XG4gICAgICAgICAgYW5nbGVGaW5kZXIgPSBnZXRUYW5nZW50UXVhZHJhdGljSXRlcmF0b3IoXG4gICAgICAgICAgICB4MSxcbiAgICAgICAgICAgIHkxLFxuICAgICAgICAgICAgY3VycmVudFsxXSxcbiAgICAgICAgICAgIGN1cnJlbnRbMl0sXG4gICAgICAgICAgICBjdXJyZW50WzNdLFxuICAgICAgICAgICAgY3VycmVudFs0XVxuICAgICAgICAgICk7XG4gICAgICAgICAgdGVtcEluZm8uaXRlcmF0b3IgPSBpdGVyYXRvcjtcbiAgICAgICAgICB0ZW1wSW5mby5hbmdsZUZpbmRlciA9IGFuZ2xlRmluZGVyO1xuICAgICAgICAgIHRlbXBJbmZvLmxlbmd0aCA9IHBhdGhJdGVyYXRvcihpdGVyYXRvciwgeDEsIHkxKTtcbiAgICAgICAgICB4MSA9IGN1cnJlbnRbM107XG4gICAgICAgICAgeTEgPSBjdXJyZW50WzRdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdaJzpcbiAgICAgICAgY2FzZSAneic6XG4gICAgICAgICAgLy8gd2UgYWRkIHRob3NlIGluIG9yZGVyIHRvIGVhc2UgY2FsY3VsYXRpb25zIGxhdGVyXG4gICAgICAgICAgdGVtcEluZm8uZGVzdFggPSB4MjtcbiAgICAgICAgICB0ZW1wSW5mby5kZXN0WSA9IHkyO1xuICAgICAgICAgIHRlbXBJbmZvLmxlbmd0aCA9IGNhbGNMaW5lTGVuZ3RoKHgxLCB5MSwgeDIsIHkyKTtcbiAgICAgICAgICB4MSA9IHgyO1xuICAgICAgICAgIHkxID0geTI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICB0b3RhbExlbmd0aCArPSB0ZW1wSW5mby5sZW5ndGg7XG4gICAgICBpbmZvLnB1c2godGVtcEluZm8pO1xuICAgIH1cbiAgICBpbmZvLnB1c2goeyBsZW5ndGg6IHRvdGFsTGVuZ3RoLCB4OiB4MSwgeTogeTEgfSk7XG4gICAgcmV0dXJuIGluZm87XG4gIH1cblxuICBmdW5jdGlvbiBnZXRQb2ludE9uUGF0aChwYXRoLCBkaXN0YW5jZSwgaW5mb3MpIHtcbiAgICBpZiAoIWluZm9zKSB7XG4gICAgICBpbmZvcyA9IGdldFBhdGhTZWdtZW50c0luZm8ocGF0aCk7XG4gICAgfVxuICAgIHZhciBpID0gMDtcbiAgICB3aGlsZSAoKGRpc3RhbmNlIC0gaW5mb3NbaV0ubGVuZ3RoID4gMCkgJiYgaSA8IChpbmZvcy5sZW5ndGggLSAyKSkge1xuICAgICAgZGlzdGFuY2UgLT0gaW5mb3NbaV0ubGVuZ3RoO1xuICAgICAgaSsrO1xuICAgIH1cbiAgICAvLyB2YXIgZGlzdGFuY2UgPSBpbmZvc1tpbmZvcy5sZW5ndGggLSAxXSAqIHBlcmM7XG4gICAgdmFyIHNlZ0luZm8gPSBpbmZvc1tpXSwgc2VnUGVyY2VudCA9IGRpc3RhbmNlIC8gc2VnSW5mby5sZW5ndGgsXG4gICAgICAgIGNvbW1hbmQgPSBzZWdJbmZvLmNvbW1hbmQsIHNlZ21lbnQgPSBwYXRoW2ldLCBpbmZvO1xuXG4gICAgc3dpdGNoIChjb21tYW5kKSB7XG4gICAgICBjYXNlICdNJzpcbiAgICAgICAgcmV0dXJuIHsgeDogc2VnSW5mby54LCB5OiBzZWdJbmZvLnksIGFuZ2xlOiAwIH07XG4gICAgICBjYXNlICdaJzpcbiAgICAgIGNhc2UgJ3onOlxuICAgICAgICBpbmZvID0gbmV3IGZhYnJpYy5Qb2ludChzZWdJbmZvLngsIHNlZ0luZm8ueSkubGVycChcbiAgICAgICAgICBuZXcgZmFicmljLlBvaW50KHNlZ0luZm8uZGVzdFgsIHNlZ0luZm8uZGVzdFkpLFxuICAgICAgICAgIHNlZ1BlcmNlbnRcbiAgICAgICAgKTtcbiAgICAgICAgaW5mby5hbmdsZSA9IE1hdGguYXRhbjIoc2VnSW5mby5kZXN0WSAtIHNlZ0luZm8ueSwgc2VnSW5mby5kZXN0WCAtIHNlZ0luZm8ueCk7XG4gICAgICAgIHJldHVybiBpbmZvO1xuICAgICAgY2FzZSAnTCc6XG4gICAgICAgIGluZm8gPSBuZXcgZmFicmljLlBvaW50KHNlZ0luZm8ueCwgc2VnSW5mby55KS5sZXJwKFxuICAgICAgICAgIG5ldyBmYWJyaWMuUG9pbnQoc2VnbWVudFsxXSwgc2VnbWVudFsyXSksXG4gICAgICAgICAgc2VnUGVyY2VudFxuICAgICAgICApO1xuICAgICAgICBpbmZvLmFuZ2xlID0gTWF0aC5hdGFuMihzZWdtZW50WzJdIC0gc2VnSW5mby55LCBzZWdtZW50WzFdIC0gc2VnSW5mby54KTtcbiAgICAgICAgcmV0dXJuIGluZm87XG4gICAgICBjYXNlICdDJzpcbiAgICAgICAgcmV0dXJuIGZpbmRQZXJjZW50YWdlRm9yRGlzdGFuY2Uoc2VnSW5mbywgZGlzdGFuY2UpO1xuICAgICAgY2FzZSAnUSc6XG4gICAgICAgIHJldHVybiBmaW5kUGVyY2VudGFnZUZvckRpc3RhbmNlKHNlZ0luZm8sIGRpc3RhbmNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGhTdHJpbmdcbiAgICogQHJldHVybiB7KHN0cmluZ3xudW1iZXIpW11bXX0gQW4gYXJyYXkgb2YgU1ZHIHBhdGggY29tbWFuZHNcbiAgICogQGV4YW1wbGUgPGNhcHRpb24+VXNhZ2U8L2NhcHRpb24+XG4gICAqIHBhcnNlUGF0aCgnTSAzIDQgUSAzIDUgMiAxIDQgMCBRIDkgMTIgMiAxIDQgMCcpID09PSBbXG4gICAqICAgWydNJywgMywgNF0sXG4gICAqICAgWydRJywgMywgNSwgMiwgMSwgNCwgMF0sXG4gICAqICAgWydRJywgOSwgMTIsIDIsIDEsIDQsIDBdLFxuICAgKiBdO1xuICAgKlxuICAgKi9cbiAgZnVuY3Rpb24gcGFyc2VQYXRoKHBhdGhTdHJpbmcpIHtcbiAgICB2YXIgcmVzdWx0ID0gW10sXG4gICAgICAgIGNvb3JkcyA9IFtdLFxuICAgICAgICBjdXJyZW50UGF0aCxcbiAgICAgICAgcGFyc2VkLFxuICAgICAgICByZSA9IGZhYnJpYy5yZVBhdGhDb21tYW5kLFxuICAgICAgICByTnVtYmVyID0gJ1stK10/KD86XFxcXGQqXFxcXC5cXFxcZCt8XFxcXGQrXFxcXC4/KSg/OltlRV1bLStdP1xcXFxkKyk/XFxcXHMqJyxcbiAgICAgICAgck51bWJlckNvbW1hV3NwID0gJygnICsgck51bWJlciArICcpJyArIGZhYnJpYy5jb21tYVdzcCxcbiAgICAgICAgckZsYWdDb21tYVdzcCA9ICcoWzAxXSknICsgZmFicmljLmNvbW1hV3NwICsgJz8nLFxuICAgICAgICByQXJjU2VxID0gck51bWJlckNvbW1hV3NwICsgJz8nICsgck51bWJlckNvbW1hV3NwICsgJz8nICsgck51bWJlckNvbW1hV3NwICsgckZsYWdDb21tYVdzcCArIHJGbGFnQ29tbWFXc3AgK1xuICAgICAgICAgIHJOdW1iZXJDb21tYVdzcCArICc/KCcgKyByTnVtYmVyICsgJyknLFxuICAgICAgICByZWdBcmNBcmd1bWVudFNlcXVlbmNlID0gbmV3IFJlZ0V4cChyQXJjU2VxLCAnZycpLFxuICAgICAgICBtYXRjaCxcbiAgICAgICAgY29vcmRzU3RyLFxuICAgICAgICAvLyBvbmUgb2YgY29tbWFuZHMgKG0sTSxsLEwscSxRLGMsQyxldGMuKSBmb2xsb3dlZCBieSBub24tY29tbWFuZCBjaGFyYWN0ZXJzIChpLmUuIGNvbW1hbmQgdmFsdWVzKVxuICAgICAgICBwYXRoO1xuICAgIGlmICghcGF0aFN0cmluZyB8fCAhcGF0aFN0cmluZy5tYXRjaCkge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgcGF0aCA9IHBhdGhTdHJpbmcubWF0Y2goL1ttemxodmNzcXRhXVtebXpsaHZjc3F0YV0qL2dpKTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBjb29yZHNQYXJzZWQsIGxlbiA9IHBhdGgubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGN1cnJlbnRQYXRoID0gcGF0aFtpXTtcblxuICAgICAgY29vcmRzU3RyID0gY3VycmVudFBhdGguc2xpY2UoMSkudHJpbSgpO1xuICAgICAgY29vcmRzLmxlbmd0aCA9IDA7XG5cbiAgICAgIHZhciBjb21tYW5kID0gY3VycmVudFBhdGguY2hhckF0KDApO1xuICAgICAgY29vcmRzUGFyc2VkID0gW2NvbW1hbmRdO1xuXG4gICAgICBpZiAoY29tbWFuZC50b0xvd2VyQ2FzZSgpID09PSAnYScpIHtcbiAgICAgICAgLy8gYXJjcyBoYXZlIHNwZWNpYWwgZmxhZ3MgdGhhdCBhcHBhcmVudGx5IGRvbid0IHJlcXVpcmUgc3BhY2VzIHNvIGhhbmRsZSBzcGVjaWFsXG4gICAgICAgIGZvciAodmFyIGFyZ3M7IChhcmdzID0gcmVnQXJjQXJndW1lbnRTZXF1ZW5jZS5leGVjKGNvb3Jkc1N0cikpOykge1xuICAgICAgICAgIGZvciAodmFyIGogPSAxOyBqIDwgYXJncy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgY29vcmRzLnB1c2goYXJnc1tqXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgd2hpbGUgKChtYXRjaCA9IHJlLmV4ZWMoY29vcmRzU3RyKSkpIHtcbiAgICAgICAgICBjb29yZHMucHVzaChtYXRjaFswXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaiA9IDAsIGpsZW4gPSBjb29yZHMubGVuZ3RoOyBqIDwgamxlbjsgaisrKSB7XG4gICAgICAgIHBhcnNlZCA9IHBhcnNlRmxvYXQoY29vcmRzW2pdKTtcbiAgICAgICAgaWYgKCFpc05hTihwYXJzZWQpKSB7XG4gICAgICAgICAgY29vcmRzUGFyc2VkLnB1c2gocGFyc2VkKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgY29tbWFuZExlbmd0aCA9IGNvbW1hbmRMZW5ndGhzW2NvbW1hbmQudG9Mb3dlckNhc2UoKV0sXG4gICAgICAgICAgcmVwZWF0ZWRDb21tYW5kID0gcmVwZWF0ZWRDb21tYW5kc1tjb21tYW5kXSB8fCBjb21tYW5kO1xuXG4gICAgICBpZiAoY29vcmRzUGFyc2VkLmxlbmd0aCAtIDEgPiBjb21tYW5kTGVuZ3RoKSB7XG4gICAgICAgIGZvciAodmFyIGsgPSAxLCBrbGVuID0gY29vcmRzUGFyc2VkLmxlbmd0aDsgayA8IGtsZW47IGsgKz0gY29tbWFuZExlbmd0aCkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKFtjb21tYW5kXS5jb25jYXQoY29vcmRzUGFyc2VkLnNsaWNlKGssIGsgKyBjb21tYW5kTGVuZ3RoKSkpO1xuICAgICAgICAgIGNvbW1hbmQgPSByZXBlYXRlZENvbW1hbmQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXN1bHQucHVzaChjb29yZHNQYXJzZWQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLyoqXG4gICAqXG4gICAqIENvbnZlcnRzIHBvaW50cyB0byBhIHNtb290aCBTVkcgcGF0aFxuICAgKiBAcGFyYW0ge3sgeDogbnVtYmVyLHk6IG51bWJlciB9W119IHBvaW50cyBBcnJheSBvZiBwb2ludHNcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtjb3JyZWN0aW9uXSBBcHBseSBhIGNvcnJlY3Rpb24gdG8gdGhlIHBhdGggKHVzdWFsbHkgd2UgdXNlIGB3aWR0aCAvIDEwMDBgKS4gSWYgdmFsdWUgaXMgdW5kZWZpbmVkIDAgaXMgdXNlZCBhcyB0aGUgY29ycmVjdGlvbiB2YWx1ZS5cbiAgICogQHJldHVybiB7KHN0cmluZ3xudW1iZXIpW11bXX0gQW4gYXJyYXkgb2YgU1ZHIHBhdGggY29tbWFuZHNcbiAgICovXG4gIGZ1bmN0aW9uIGdldFNtb290aFBhdGhGcm9tUG9pbnRzKHBvaW50cywgY29ycmVjdGlvbikge1xuICAgIHZhciBwYXRoID0gW10sIGksXG4gICAgICAgIHAxID0gbmV3IGZhYnJpYy5Qb2ludChwb2ludHNbMF0ueCwgcG9pbnRzWzBdLnkpLFxuICAgICAgICBwMiA9IG5ldyBmYWJyaWMuUG9pbnQocG9pbnRzWzFdLngsIHBvaW50c1sxXS55KSxcbiAgICAgICAgbGVuID0gcG9pbnRzLmxlbmd0aCwgbXVsdFNpZ25YID0gMSwgbXVsdFNpZ25ZID0gMCwgbWFueVBvaW50cyA9IGxlbiA+IDI7XG4gICAgY29ycmVjdGlvbiA9IGNvcnJlY3Rpb24gfHwgMDtcblxuICAgIGlmIChtYW55UG9pbnRzKSB7XG4gICAgICBtdWx0U2lnblggPSBwb2ludHNbMl0ueCA8IHAyLnggPyAtMSA6IHBvaW50c1syXS54ID09PSBwMi54ID8gMCA6IDE7XG4gICAgICBtdWx0U2lnblkgPSBwb2ludHNbMl0ueSA8IHAyLnkgPyAtMSA6IHBvaW50c1syXS55ID09PSBwMi55ID8gMCA6IDE7XG4gICAgfVxuICAgIHBhdGgucHVzaChbJ00nLCBwMS54IC0gbXVsdFNpZ25YICogY29ycmVjdGlvbiwgcDEueSAtIG11bHRTaWduWSAqIGNvcnJlY3Rpb25dKTtcbiAgICBmb3IgKGkgPSAxOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGlmICghcDEuZXEocDIpKSB7XG4gICAgICAgIHZhciBtaWRQb2ludCA9IHAxLm1pZFBvaW50RnJvbShwMik7XG4gICAgICAgIC8vIHAxIGlzIG91ciBiZXppZXIgY29udHJvbCBwb2ludFxuICAgICAgICAvLyBtaWRwb2ludCBpcyBvdXIgZW5kcG9pbnRcbiAgICAgICAgLy8gc3RhcnQgcG9pbnQgaXMgcChpLTEpIHZhbHVlLlxuICAgICAgICBwYXRoLnB1c2goWydRJywgcDEueCwgcDEueSwgbWlkUG9pbnQueCwgbWlkUG9pbnQueV0pO1xuICAgICAgfVxuICAgICAgcDEgPSBwb2ludHNbaV07XG4gICAgICBpZiAoKGkgKyAxKSA8IHBvaW50cy5sZW5ndGgpIHtcbiAgICAgICAgcDIgPSBwb2ludHNbaSArIDFdO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobWFueVBvaW50cykge1xuICAgICAgbXVsdFNpZ25YID0gcDEueCA+IHBvaW50c1tpIC0gMl0ueCA/IDEgOiBwMS54ID09PSBwb2ludHNbaSAtIDJdLnggPyAwIDogLTE7XG4gICAgICBtdWx0U2lnblkgPSBwMS55ID4gcG9pbnRzW2kgLSAyXS55ID8gMSA6IHAxLnkgPT09IHBvaW50c1tpIC0gMl0ueSA/IDAgOiAtMTtcbiAgICB9XG4gICAgcGF0aC5wdXNoKFsnTCcsIHAxLnggKyBtdWx0U2lnblggKiBjb3JyZWN0aW9uLCBwMS55ICsgbXVsdFNpZ25ZICogY29ycmVjdGlvbl0pO1xuICAgIHJldHVybiBwYXRoO1xuICB9XG4gIC8qKlxuICAgKiBUcmFuc2Zvcm0gYSBwYXRoIGJ5IHRyYW5zZm9ybWluZyBlYWNoIHNlZ21lbnQuXG4gICAqIGl0IGhhcyB0byBiZSBhIHNpbXBsaWZpZWQgcGF0aCBvciBpdCB3b24ndCB3b3JrLlxuICAgKiBXQVJOSU5HOiB0aGlzIGRlcGVuZHMgZnJvbSBwYXRoT2Zmc2V0IGZvciBjb3JyZWN0IG9wZXJhdGlvblxuICAgKiBAcGFyYW0ge0FycmF5fSBwYXRoIGZhYnJpY0pTIHBhcnNlZCBhbmQgc2ltcGxpZmllZCBwYXRoIGNvbW1hbmRzXG4gICAqIEBwYXJhbSB7QXJyYXl9IHRyYW5zZm9ybSBtYXRyaXggdGhhdCByZXByZXNlbnQgdGhlIHRyYW5zZm9ybWF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbcGF0aE9mZnNldF0gdGhlIGZhYnJpYy5QYXRoIHBhdGhPZmZzZXRcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHBhdGhPZmZzZXQueFxuICAgKiBAcGFyYW0ge051bWJlcn0gcGF0aE9mZnNldC55XG4gICAqIEByZXR1cm5zIHtBcnJheX0gdGhlIHRyYW5zZm9ybWVkIHBhdGhcbiAgICovXG4gIGZ1bmN0aW9uIHRyYW5zZm9ybVBhdGgocGF0aCwgdHJhbnNmb3JtLCBwYXRoT2Zmc2V0KSB7XG4gICAgaWYgKHBhdGhPZmZzZXQpIHtcbiAgICAgIHRyYW5zZm9ybSA9IGZhYnJpYy51dGlsLm11bHRpcGx5VHJhbnNmb3JtTWF0cmljZXMoXG4gICAgICAgIHRyYW5zZm9ybSxcbiAgICAgICAgWzEsIDAsIDAsIDEsIC1wYXRoT2Zmc2V0LngsIC1wYXRoT2Zmc2V0LnldXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gcGF0aC5tYXAoZnVuY3Rpb24ocGF0aFNlZ21lbnQpIHtcbiAgICAgIHZhciBuZXdTZWdtZW50ID0gcGF0aFNlZ21lbnQuc2xpY2UoMCksIHBvaW50ID0ge307XG4gICAgICBmb3IgKHZhciBpID0gMTsgaSA8IHBhdGhTZWdtZW50Lmxlbmd0aCAtIDE7IGkgKz0gMikge1xuICAgICAgICBwb2ludC54ID0gcGF0aFNlZ21lbnRbaV07XG4gICAgICAgIHBvaW50LnkgPSBwYXRoU2VnbWVudFtpICsgMV07XG4gICAgICAgIHBvaW50ID0gZmFicmljLnV0aWwudHJhbnNmb3JtUG9pbnQocG9pbnQsIHRyYW5zZm9ybSk7XG4gICAgICAgIG5ld1NlZ21lbnRbaV0gPSBwb2ludC54O1xuICAgICAgICBuZXdTZWdtZW50W2kgKyAxXSA9IHBvaW50Lnk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3U2VnbWVudDtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBKb2luIHBhdGggY29tbWFuZHMgdG8gZ28gYmFjayB0byBzdmcgZm9ybWF0XG4gICAqIEBwYXJhbSB7QXJyYXl9IHBhdGhEYXRhIGZhYnJpY0pTIHBhcnNlZCBwYXRoIGNvbW1hbmRzXG4gICAqIEByZXR1cm4ge1N0cmluZ30gam9pbmVkIHBhdGggJ00gMCAwIEwgMjAgMzAnXG4gICAqL1xuICBmYWJyaWMudXRpbC5qb2luUGF0aCA9IGZ1bmN0aW9uKHBhdGhEYXRhKSB7XG4gICAgcmV0dXJuIHBhdGhEYXRhLm1hcChmdW5jdGlvbiAoc2VnbWVudCkgeyByZXR1cm4gc2VnbWVudC5qb2luKCcgJyk7IH0pLmpvaW4oJyAnKTtcbiAgfTtcbiAgZmFicmljLnV0aWwucGFyc2VQYXRoID0gcGFyc2VQYXRoO1xuICBmYWJyaWMudXRpbC5tYWtlUGF0aFNpbXBsZXIgPSBtYWtlUGF0aFNpbXBsZXI7XG4gIGZhYnJpYy51dGlsLmdldFNtb290aFBhdGhGcm9tUG9pbnRzID0gZ2V0U21vb3RoUGF0aEZyb21Qb2ludHM7XG4gIGZhYnJpYy51dGlsLmdldFBhdGhTZWdtZW50c0luZm8gPSBnZXRQYXRoU2VnbWVudHNJbmZvO1xuICBmYWJyaWMudXRpbC5nZXRCb3VuZHNPZkN1cnZlID0gZ2V0Qm91bmRzT2ZDdXJ2ZTtcbiAgZmFicmljLnV0aWwuZ2V0UG9pbnRPblBhdGggPSBnZXRQb2ludE9uUGF0aDtcbiAgZmFicmljLnV0aWwudHJhbnNmb3JtUGF0aCA9IHRyYW5zZm9ybVBhdGg7XG59KSgpO1xuXG5cbihmdW5jdGlvbigpIHtcblxuICB2YXIgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG5cbiAgLyoqXG4gICAqIEludm9rZXMgbWV0aG9kIG9uIGFsbCBpdGVtcyBpbiBhIGdpdmVuIGFycmF5XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5hcnJheVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBBcnJheSB0byBpdGVyYXRlIG92ZXJcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1ldGhvZCBOYW1lIG9mIGEgbWV0aG9kIHRvIGludm9rZVxuICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICovXG4gIGZ1bmN0aW9uIGludm9rZShhcnJheSwgbWV0aG9kKSB7XG4gICAgdmFyIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMiksIHJlc3VsdCA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcnJheS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgcmVzdWx0W2ldID0gYXJncy5sZW5ndGggPyBhcnJheVtpXVttZXRob2RdLmFwcGx5KGFycmF5W2ldLCBhcmdzKSA6IGFycmF5W2ldW21ldGhvZF0uY2FsbChhcnJheVtpXSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogRmluZHMgbWF4aW11bSB2YWx1ZSBpbiBhcnJheSAobm90IG5lY2Vzc2FyaWx5IFwiZmlyc3RcIiBvbmUpXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5hcnJheVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBBcnJheSB0byBpdGVyYXRlIG92ZXJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGJ5UHJvcGVydHlcbiAgICogQHJldHVybiB7Kn1cbiAgICovXG4gIGZ1bmN0aW9uIG1heChhcnJheSwgYnlQcm9wZXJ0eSkge1xuICAgIHJldHVybiBmaW5kKGFycmF5LCBieVByb3BlcnR5LCBmdW5jdGlvbih2YWx1ZTEsIHZhbHVlMikge1xuICAgICAgcmV0dXJuIHZhbHVlMSA+PSB2YWx1ZTI7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRmluZHMgbWluaW11bSB2YWx1ZSBpbiBhcnJheSAobm90IG5lY2Vzc2FyaWx5IFwiZmlyc3RcIiBvbmUpXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5hcnJheVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBBcnJheSB0byBpdGVyYXRlIG92ZXJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGJ5UHJvcGVydHlcbiAgICogQHJldHVybiB7Kn1cbiAgICovXG4gIGZ1bmN0aW9uIG1pbihhcnJheSwgYnlQcm9wZXJ0eSkge1xuICAgIHJldHVybiBmaW5kKGFycmF5LCBieVByb3BlcnR5LCBmdW5jdGlvbih2YWx1ZTEsIHZhbHVlMikge1xuICAgICAgcmV0dXJuIHZhbHVlMSA8IHZhbHVlMjtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gZmlsbChhcnJheSwgdmFsdWUpIHtcbiAgICB2YXIgayA9IGFycmF5Lmxlbmd0aDtcbiAgICB3aGlsZSAoay0tKSB7XG4gICAgICBhcnJheVtrXSA9IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGZ1bmN0aW9uIGZpbmQoYXJyYXksIGJ5UHJvcGVydHksIGNvbmRpdGlvbikge1xuICAgIGlmICghYXJyYXkgfHwgYXJyYXkubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGkgPSBhcnJheS5sZW5ndGggLSAxLFxuICAgICAgICByZXN1bHQgPSBieVByb3BlcnR5ID8gYXJyYXlbaV1bYnlQcm9wZXJ0eV0gOiBhcnJheVtpXTtcbiAgICBpZiAoYnlQcm9wZXJ0eSkge1xuICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICBpZiAoY29uZGl0aW9uKGFycmF5W2ldW2J5UHJvcGVydHldLCByZXN1bHQpKSB7XG4gICAgICAgICAgcmVzdWx0ID0gYXJyYXlbaV1bYnlQcm9wZXJ0eV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgIGlmIChjb25kaXRpb24oYXJyYXlbaV0sIHJlc3VsdCkpIHtcbiAgICAgICAgICByZXN1bHQgPSBhcnJheVtpXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIEBuYW1lc3BhY2UgZmFicmljLnV0aWwuYXJyYXlcbiAgICovXG4gIGZhYnJpYy51dGlsLmFycmF5ID0ge1xuICAgIGZpbGw6IGZpbGwsXG4gICAgaW52b2tlOiBpbnZva2UsXG4gICAgbWluOiBtaW4sXG4gICAgbWF4OiBtYXhcbiAgfTtcblxufSkoKTtcblxuXG4oZnVuY3Rpb24oKSB7XG4gIC8qKlxuICAgKiBDb3BpZXMgYWxsIGVudW1lcmFibGUgcHJvcGVydGllcyBvZiBvbmUganMgb2JqZWN0IHRvIGFub3RoZXJcbiAgICogdGhpcyBkb2VzIG5vdCBhbmQgY2Fubm90IGNvbXBldGUgd2l0aCBnZW5lcmljIHV0aWxzLlxuICAgKiBEb2VzIG5vdCBjbG9uZSBvciBleHRlbmQgZmFicmljLk9iamVjdCBzdWJjbGFzc2VzLlxuICAgKiBUaGlzIGlzIG1vc3RseSBmb3IgaW50ZXJuYWwgdXNlIGFuZCBoYXMgZXh0cmEgaGFuZGxpbmcgZm9yIGZhYnJpY0pTIG9iamVjdHNcbiAgICogaXQgc2tpcHMgdGhlIGNhbnZhcyBhbmQgZ3JvdXAgcHJvcGVydGllcyBpbiBkZWVwIGNsb25pbmcuXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5vYmplY3RcbiAgICogQHBhcmFtIHtPYmplY3R9IGRlc3RpbmF0aW9uIFdoZXJlIHRvIGNvcHkgdG9cbiAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBXaGVyZSB0byBjb3B5IGZyb21cbiAgICogQHBhcmFtIHtCb29sZWFufSBbZGVlcF0gV2hldGhlciB0byBleHRlbmQgbmVzdGVkIG9iamVjdHNcbiAgICogQHJldHVybiB7T2JqZWN0fVxuICAgKi9cblxuICBmdW5jdGlvbiBleHRlbmQoZGVzdGluYXRpb24sIHNvdXJjZSwgZGVlcCkge1xuICAgIC8vIEpTY3JpcHQgRG9udEVudW0gYnVnIGlzIG5vdCB0YWtlbiBjYXJlIG9mXG4gICAgLy8gdGhlIGRlZXAgY2xvbmUgaXMgZm9yIGludGVybmFsIHVzZSwgaXMgbm90IG1lYW50IHRvIGF2b2lkXG4gICAgLy8gamF2YXNjcmlwdCB0cmFwcyBvciBjbG9uaW5nIGh0bWwgZWxlbWVudCBvciBzZWxmIHJlZmVyZW5jZWQgb2JqZWN0cy5cbiAgICBpZiAoZGVlcCkge1xuICAgICAgaWYgKCFmYWJyaWMuaXNMaWtlbHlOb2RlICYmIHNvdXJjZSBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICAgICAgLy8gYXZvaWQgY2xvbmluZyBkZWVwIGltYWdlcywgY2FudmFzZXMsXG4gICAgICAgIGRlc3RpbmF0aW9uID0gc291cmNlO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoc291cmNlIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgZGVzdGluYXRpb24gPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHNvdXJjZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgIGRlc3RpbmF0aW9uW2ldID0gZXh0ZW5kKHsgfSwgc291cmNlW2ldLCBkZWVwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSBpZiAoc291cmNlICYmIHR5cGVvZiBzb3VyY2UgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIHNvdXJjZSkge1xuICAgICAgICAgIGlmIChwcm9wZXJ0eSA9PT0gJ2NhbnZhcycgfHwgcHJvcGVydHkgPT09ICdncm91cCcpIHtcbiAgICAgICAgICAgIC8vIHdlIGRvIG5vdCB3YW50IHRvIGNsb25lIHRoaXMgcHJvcHMgYXQgYWxsLlxuICAgICAgICAgICAgLy8gd2Ugd2FudCB0byBrZWVwIHRoZSBrZXlzIGluIHRoZSBjb3B5XG4gICAgICAgICAgICBkZXN0aW5hdGlvbltwcm9wZXJ0eV0gPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChzb3VyY2UuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbltwcm9wZXJ0eV0gPSBleHRlbmQoeyB9LCBzb3VyY2VbcHJvcGVydHldLCBkZWVwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICAvLyB0aGlzIHNvdW5kcyBvZGQgZm9yIGFuIGV4dGVuZCBidXQgaXMgb2sgZm9yIHJlY3Vyc2l2ZSB1c2VcbiAgICAgICAgZGVzdGluYXRpb24gPSBzb3VyY2U7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gc291cmNlKSB7XG4gICAgICAgIGRlc3RpbmF0aW9uW3Byb3BlcnR5XSA9IHNvdXJjZVtwcm9wZXJ0eV07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkZXN0aW5hdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGVtcHR5IG9iamVjdCBhbmQgY29waWVzIGFsbCBlbnVtZXJhYmxlIHByb3BlcnRpZXMgb2YgYW5vdGhlciBvYmplY3QgdG8gaXRcbiAgICogVGhpcyBtZXRob2QgaXMgbW9zdGx5IGZvciBpbnRlcm5hbCB1c2UsIGFuZCBub3QgaW50ZW5kZWQgZm9yIGR1cGxpY2F0aW5nIHNoYXBlcyBpbiBjYW52YXMuIFxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwub2JqZWN0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNsb25lXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2RlZXBdIFdoZXRoZXIgdG8gY2xvbmUgbmVzdGVkIG9iamVjdHNcbiAgICogQHJldHVybiB7T2JqZWN0fVxuICAgKi9cblxuICAvL1RPRE86IHRoaXMgZnVuY3Rpb24gcmV0dXJuIGFuIGVtcHR5IG9iamVjdCBpZiB5b3UgdHJ5IHRvIGNsb25lIG51bGxcbiAgZnVuY3Rpb24gY2xvbmUob2JqZWN0LCBkZWVwKSB7XG4gICAgcmV0dXJuIGV4dGVuZCh7IH0sIG9iamVjdCwgZGVlcCk7XG4gIH1cblxuICAvKiogQG5hbWVzcGFjZSBmYWJyaWMudXRpbC5vYmplY3QgKi9cbiAgZmFicmljLnV0aWwub2JqZWN0ID0ge1xuICAgIGV4dGVuZDogZXh0ZW5kLFxuICAgIGNsb25lOiBjbG9uZVxuICB9O1xuICBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kKGZhYnJpYy51dGlsLCBmYWJyaWMuT2JzZXJ2YWJsZSk7XG59KSgpO1xuXG5cbihmdW5jdGlvbigpIHtcblxuICAvKipcbiAgICogQ2FtZWxpemVzIGEgc3RyaW5nXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5zdHJpbmdcbiAgICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZyBTdHJpbmcgdG8gY2FtZWxpemVcbiAgICogQHJldHVybiB7U3RyaW5nfSBDYW1lbGl6ZWQgdmVyc2lvbiBvZiBhIHN0cmluZ1xuICAgKi9cbiAgZnVuY3Rpb24gY2FtZWxpemUoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKC8tKyguKT8vZywgZnVuY3Rpb24obWF0Y2gsIGNoYXJhY3Rlcikge1xuICAgICAgcmV0dXJuIGNoYXJhY3RlciA/IGNoYXJhY3Rlci50b1VwcGVyQ2FzZSgpIDogJyc7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ2FwaXRhbGl6ZXMgYSBzdHJpbmdcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLnN0cmluZ1xuICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nIFN0cmluZyB0byBjYXBpdGFsaXplXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2ZpcnN0TGV0dGVyT25seV0gSWYgdHJ1ZSBvbmx5IGZpcnN0IGxldHRlciBpcyBjYXBpdGFsaXplZFxuICAgKiBhbmQgb3RoZXIgbGV0dGVycyBzdGF5IHVudG91Y2hlZCwgaWYgZmFsc2UgZmlyc3QgbGV0dGVyIGlzIGNhcGl0YWxpemVkXG4gICAqIGFuZCBvdGhlciBsZXR0ZXJzIGFyZSBjb252ZXJ0ZWQgdG8gbG93ZXJjYXNlLlxuICAgKiBAcmV0dXJuIHtTdHJpbmd9IENhcGl0YWxpemVkIHZlcnNpb24gb2YgYSBzdHJpbmdcbiAgICovXG4gIGZ1bmN0aW9uIGNhcGl0YWxpemUoc3RyaW5nLCBmaXJzdExldHRlck9ubHkpIHtcbiAgICByZXR1cm4gc3RyaW5nLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICtcbiAgICAgIChmaXJzdExldHRlck9ubHkgPyBzdHJpbmcuc2xpY2UoMSkgOiBzdHJpbmcuc2xpY2UoMSkudG9Mb3dlckNhc2UoKSk7XG4gIH1cblxuICAvKipcbiAgICogRXNjYXBlcyBYTUwgaW4gYSBzdHJpbmdcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLnN0cmluZ1xuICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nIFN0cmluZyB0byBlc2NhcGVcbiAgICogQHJldHVybiB7U3RyaW5nfSBFc2NhcGVkIHZlcnNpb24gb2YgYSBzdHJpbmdcbiAgICovXG4gIGZ1bmN0aW9uIGVzY2FwZVhtbChzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoLyYvZywgJyZhbXA7JylcbiAgICAgIC5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7JylcbiAgICAgIC5yZXBsYWNlKC8nL2csICcmYXBvczsnKVxuICAgICAgLnJlcGxhY2UoLzwvZywgJyZsdDsnKVxuICAgICAgLnJlcGxhY2UoLz4vZywgJyZndDsnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXZpZGUgYSBzdHJpbmcgaW4gdGhlIHVzZXIgcGVyY2VpdmVkIHNpbmdsZSB1bml0c1xuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuc3RyaW5nXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0c3RyaW5nIFN0cmluZyB0byBlc2NhcGVcbiAgICogQHJldHVybiB7QXJyYXl9IGFycmF5IGNvbnRhaW5pbmcgdGhlIGdyYXBoZW1lc1xuICAgKi9cbiAgZnVuY3Rpb24gZ3JhcGhlbWVTcGxpdCh0ZXh0c3RyaW5nKSB7XG4gICAgdmFyIGkgPSAwLCBjaHIsIGdyYXBoZW1lcyA9IFtdO1xuICAgIGZvciAoaSA9IDAsIGNocjsgaSA8IHRleHRzdHJpbmcubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICgoY2hyID0gZ2V0V2hvbGVDaGFyKHRleHRzdHJpbmcsIGkpKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBncmFwaGVtZXMucHVzaChjaHIpO1xuICAgIH1cbiAgICByZXR1cm4gZ3JhcGhlbWVzO1xuICB9XG5cbiAgLy8gdGFrZW4gZnJvbSBtZG4gaW4gdGhlIGNoYXJBdCBkb2MgcGFnZS5cbiAgZnVuY3Rpb24gZ2V0V2hvbGVDaGFyKHN0ciwgaSkge1xuICAgIHZhciBjb2RlID0gc3RyLmNoYXJDb2RlQXQoaSk7XG5cbiAgICBpZiAoaXNOYU4oY29kZSkpIHtcbiAgICAgIHJldHVybiAnJzsgLy8gUG9zaXRpb24gbm90IGZvdW5kXG4gICAgfVxuICAgIGlmIChjb2RlIDwgMHhEODAwIHx8IGNvZGUgPiAweERGRkYpIHtcbiAgICAgIHJldHVybiBzdHIuY2hhckF0KGkpO1xuICAgIH1cblxuICAgIC8vIEhpZ2ggc3Vycm9nYXRlIChjb3VsZCBjaGFuZ2UgbGFzdCBoZXggdG8gMHhEQjdGIHRvIHRyZWF0IGhpZ2ggcHJpdmF0ZVxuICAgIC8vIHN1cnJvZ2F0ZXMgYXMgc2luZ2xlIGNoYXJhY3RlcnMpXG4gICAgaWYgKDB4RDgwMCA8PSBjb2RlICYmIGNvZGUgPD0gMHhEQkZGKSB7XG4gICAgICBpZiAoc3RyLmxlbmd0aCA8PSAoaSArIDEpKSB7XG4gICAgICAgIHRocm93ICdIaWdoIHN1cnJvZ2F0ZSB3aXRob3V0IGZvbGxvd2luZyBsb3cgc3Vycm9nYXRlJztcbiAgICAgIH1cbiAgICAgIHZhciBuZXh0ID0gc3RyLmNoYXJDb2RlQXQoaSArIDEpO1xuICAgICAgaWYgKDB4REMwMCA+IG5leHQgfHwgbmV4dCA+IDB4REZGRikge1xuICAgICAgICB0aHJvdyAnSGlnaCBzdXJyb2dhdGUgd2l0aG91dCBmb2xsb3dpbmcgbG93IHN1cnJvZ2F0ZSc7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RyLmNoYXJBdChpKSArIHN0ci5jaGFyQXQoaSArIDEpO1xuICAgIH1cbiAgICAvLyBMb3cgc3Vycm9nYXRlICgweERDMDAgPD0gY29kZSAmJiBjb2RlIDw9IDB4REZGRilcbiAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgdGhyb3cgJ0xvdyBzdXJyb2dhdGUgd2l0aG91dCBwcmVjZWRpbmcgaGlnaCBzdXJyb2dhdGUnO1xuICAgIH1cbiAgICB2YXIgcHJldiA9IHN0ci5jaGFyQ29kZUF0KGkgLSAxKTtcblxuICAgIC8vIChjb3VsZCBjaGFuZ2UgbGFzdCBoZXggdG8gMHhEQjdGIHRvIHRyZWF0IGhpZ2ggcHJpdmF0ZVxuICAgIC8vIHN1cnJvZ2F0ZXMgYXMgc2luZ2xlIGNoYXJhY3RlcnMpXG4gICAgaWYgKDB4RDgwMCA+IHByZXYgfHwgcHJldiA+IDB4REJGRikge1xuICAgICAgdGhyb3cgJ0xvdyBzdXJyb2dhdGUgd2l0aG91dCBwcmVjZWRpbmcgaGlnaCBzdXJyb2dhdGUnO1xuICAgIH1cbiAgICAvLyBXZSBjYW4gcGFzcyBvdmVyIGxvdyBzdXJyb2dhdGVzIG5vdyBhcyB0aGUgc2Vjb25kIGNvbXBvbmVudFxuICAgIC8vIGluIGEgcGFpciB3aGljaCB3ZSBoYXZlIGFscmVhZHkgcHJvY2Vzc2VkXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cblxuICAvKipcbiAgICogU3RyaW5nIHV0aWxpdGllc1xuICAgKiBAbmFtZXNwYWNlIGZhYnJpYy51dGlsLnN0cmluZ1xuICAgKi9cbiAgZmFicmljLnV0aWwuc3RyaW5nID0ge1xuICAgIGNhbWVsaXplOiBjYW1lbGl6ZSxcbiAgICBjYXBpdGFsaXplOiBjYXBpdGFsaXplLFxuICAgIGVzY2FwZVhtbDogZXNjYXBlWG1sLFxuICAgIGdyYXBoZW1lU3BsaXQ6IGdyYXBoZW1lU3BsaXRcbiAgfTtcbn0pKCk7XG5cblxuKGZ1bmN0aW9uKCkge1xuXG4gIHZhciBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZSwgZW1wdHlGdW5jdGlvbiA9IGZ1bmN0aW9uKCkgeyB9LFxuXG4gICAgICBJU19ET05URU5VTV9CVUdHWSA9IChmdW5jdGlvbigpIHtcbiAgICAgICAgZm9yICh2YXIgcCBpbiB7IHRvU3RyaW5nOiAxIH0pIHtcbiAgICAgICAgICBpZiAocCA9PT0gJ3RvU3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0pKCksXG5cbiAgICAgIC8qKiBAaWdub3JlICovXG4gICAgICBhZGRNZXRob2RzID0gZnVuY3Rpb24oa2xhc3MsIHNvdXJjZSwgcGFyZW50KSB7XG4gICAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIHNvdXJjZSkge1xuXG4gICAgICAgICAgaWYgKHByb3BlcnR5IGluIGtsYXNzLnByb3RvdHlwZSAmJlxuICAgICAgICAgICAgICB0eXBlb2Yga2xhc3MucHJvdG90eXBlW3Byb3BlcnR5XSA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgICAgICAgICAoc291cmNlW3Byb3BlcnR5XSArICcnKS5pbmRleE9mKCdjYWxsU3VwZXInKSA+IC0xKSB7XG5cbiAgICAgICAgICAgIGtsYXNzLnByb3RvdHlwZVtwcm9wZXJ0eV0gPSAoZnVuY3Rpb24ocHJvcGVydHkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIHN1cGVyY2xhc3MgPSB0aGlzLmNvbnN0cnVjdG9yLnN1cGVyY2xhc3M7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdHJ1Y3Rvci5zdXBlcmNsYXNzID0gcGFyZW50O1xuICAgICAgICAgICAgICAgIHZhciByZXR1cm5WYWx1ZSA9IHNvdXJjZVtwcm9wZXJ0eV0uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cnVjdG9yLnN1cGVyY2xhc3MgPSBzdXBlcmNsYXNzO1xuXG4gICAgICAgICAgICAgICAgaWYgKHByb3BlcnR5ICE9PSAnaW5pdGlhbGl6ZScpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KShwcm9wZXJ0eSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAga2xhc3MucHJvdG90eXBlW3Byb3BlcnR5XSA9IHNvdXJjZVtwcm9wZXJ0eV07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKElTX0RPTlRFTlVNX0JVR0dZKSB7XG4gICAgICAgICAgICBpZiAoc291cmNlLnRvU3RyaW5nICE9PSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKSB7XG4gICAgICAgICAgICAgIGtsYXNzLnByb3RvdHlwZS50b1N0cmluZyA9IHNvdXJjZS50b1N0cmluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzb3VyY2UudmFsdWVPZiAhPT0gT2JqZWN0LnByb3RvdHlwZS52YWx1ZU9mKSB7XG4gICAgICAgICAgICAgIGtsYXNzLnByb3RvdHlwZS52YWx1ZU9mID0gc291cmNlLnZhbHVlT2Y7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gIGZ1bmN0aW9uIFN1YmNsYXNzKCkgeyB9XG5cbiAgZnVuY3Rpb24gY2FsbFN1cGVyKG1ldGhvZE5hbWUpIHtcbiAgICB2YXIgcGFyZW50TWV0aG9kID0gbnVsbCxcbiAgICAgICAgX3RoaXMgPSB0aGlzO1xuXG4gICAgLy8gY2xpbWIgcHJvdG90eXBlIGNoYWluIHRvIGZpbmQgbWV0aG9kIG5vdCBlcXVhbCB0byBjYWxsZWUncyBtZXRob2RcbiAgICB3aGlsZSAoX3RoaXMuY29uc3RydWN0b3Iuc3VwZXJjbGFzcykge1xuICAgICAgdmFyIHN1cGVyQ2xhc3NNZXRob2QgPSBfdGhpcy5jb25zdHJ1Y3Rvci5zdXBlcmNsYXNzLnByb3RvdHlwZVttZXRob2ROYW1lXTtcbiAgICAgIGlmIChfdGhpc1ttZXRob2ROYW1lXSAhPT0gc3VwZXJDbGFzc01ldGhvZCkge1xuICAgICAgICBwYXJlbnRNZXRob2QgPSBzdXBlckNsYXNzTWV0aG9kO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgX3RoaXMgPSBfdGhpcy5jb25zdHJ1Y3Rvci5zdXBlcmNsYXNzLnByb3RvdHlwZTtcbiAgICB9XG5cbiAgICBpZiAoIXBhcmVudE1ldGhvZCkge1xuICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCd0cmllZCB0byBjYWxsU3VwZXIgJyArIG1ldGhvZE5hbWUgKyAnLCBtZXRob2Qgbm90IGZvdW5kIGluIHByb3RvdHlwZSBjaGFpbicsIHRoaXMpO1xuICAgIH1cblxuICAgIHJldHVybiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpXG4gICAgICA/IHBhcmVudE1ldGhvZC5hcHBseSh0aGlzLCBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpXG4gICAgICA6IHBhcmVudE1ldGhvZC5jYWxsKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhlbHBlciBmb3IgY3JlYXRpb24gb2YgXCJjbGFzc2VzXCIuXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcGFyZW50XSBvcHRpb25hbCBcIkNsYXNzXCIgdG8gaW5oZXJpdCBmcm9tXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllc10gUHJvcGVydGllcyBzaGFyZWQgYnkgYWxsIGluc3RhbmNlcyBvZiB0aGlzIGNsYXNzXG4gICAqICAgICAgICAgICAgICAgICAgKGJlIGNhcmVmdWwgbW9kaWZ5aW5nIG9iamVjdHMgZGVmaW5lZCBoZXJlIGFzIHRoaXMgd291bGQgYWZmZWN0IGFsbCBpbnN0YW5jZXMpXG4gICAqL1xuICBmdW5jdGlvbiBjcmVhdGVDbGFzcygpIHtcbiAgICB2YXIgcGFyZW50ID0gbnVsbCxcbiAgICAgICAgcHJvcGVydGllcyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcblxuICAgIGlmICh0eXBlb2YgcHJvcGVydGllc1swXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcGFyZW50ID0gcHJvcGVydGllcy5zaGlmdCgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBrbGFzcygpIHtcbiAgICAgIHRoaXMuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIGtsYXNzLnN1cGVyY2xhc3MgPSBwYXJlbnQ7XG4gICAga2xhc3Muc3ViY2xhc3NlcyA9IFtdO1xuXG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgU3ViY2xhc3MucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTtcbiAgICAgIGtsYXNzLnByb3RvdHlwZSA9IG5ldyBTdWJjbGFzcygpO1xuICAgICAgcGFyZW50LnN1YmNsYXNzZXMucHVzaChrbGFzcyk7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBwcm9wZXJ0aWVzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBhZGRNZXRob2RzKGtsYXNzLCBwcm9wZXJ0aWVzW2ldLCBwYXJlbnQpO1xuICAgIH1cbiAgICBpZiAoIWtsYXNzLnByb3RvdHlwZS5pbml0aWFsaXplKSB7XG4gICAgICBrbGFzcy5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGVtcHR5RnVuY3Rpb247XG4gICAgfVxuICAgIGtsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGtsYXNzO1xuICAgIGtsYXNzLnByb3RvdHlwZS5jYWxsU3VwZXIgPSBjYWxsU3VwZXI7XG4gICAgcmV0dXJuIGtsYXNzO1xuICB9XG5cbiAgZmFicmljLnV0aWwuY3JlYXRlQ2xhc3MgPSBjcmVhdGVDbGFzcztcbn0pKCk7XG5cblxuKGZ1bmN0aW9uICgpIHtcbiAgLy8gc2luY2UgaWUxMSBjYW4gdXNlIGFkZEV2ZW50TGlzdGVuZXIgYnV0IHRoZXkgZG8gbm90IHN1cHBvcnQgb3B0aW9ucywgaSBuZWVkIHRvIGNoZWNrXG4gIHZhciBjb3VsZFVzZUF0dGFjaEV2ZW50ID0gISFmYWJyaWMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykuYXR0YWNoRXZlbnQsXG4gICAgICB0b3VjaEV2ZW50cyA9IFsndG91Y2hzdGFydCcsICd0b3VjaG1vdmUnLCAndG91Y2hlbmQnXTtcbiAgLyoqXG4gICAqIEFkZHMgYW4gZXZlbnQgbGlzdGVuZXIgdG8gYW4gZWxlbWVudFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50TmFtZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyXG4gICAqL1xuICBmYWJyaWMudXRpbC5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uKGVsZW1lbnQsIGV2ZW50TmFtZSwgaGFuZGxlciwgb3B0aW9ucykge1xuICAgIGVsZW1lbnQgJiYgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgaGFuZGxlciwgY291bGRVc2VBdHRhY2hFdmVudCA/IGZhbHNlIDogb3B0aW9ucyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYW4gZXZlbnQgbGlzdGVuZXIgZnJvbSBhbiBlbGVtZW50XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnROYW1lXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXJcbiAgICovXG4gIGZhYnJpYy51dGlsLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24oZWxlbWVudCwgZXZlbnROYW1lLCBoYW5kbGVyLCBvcHRpb25zKSB7XG4gICAgZWxlbWVudCAmJiBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBoYW5kbGVyLCBjb3VsZFVzZUF0dGFjaEV2ZW50ID8gZmFsc2UgOiBvcHRpb25zKTtcbiAgfTtcblxuICBmdW5jdGlvbiBnZXRUb3VjaEluZm8oZXZlbnQpIHtcbiAgICB2YXIgdG91Y2hQcm9wID0gZXZlbnQuY2hhbmdlZFRvdWNoZXM7XG4gICAgaWYgKHRvdWNoUHJvcCAmJiB0b3VjaFByb3BbMF0pIHtcbiAgICAgIHJldHVybiB0b3VjaFByb3BbMF07XG4gICAgfVxuICAgIHJldHVybiBldmVudDtcbiAgfVxuXG4gIGZhYnJpYy51dGlsLmdldFBvaW50ZXIgPSBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBlbGVtZW50ID0gZXZlbnQudGFyZ2V0LFxuICAgICAgICBzY3JvbGwgPSBmYWJyaWMudXRpbC5nZXRTY3JvbGxMZWZ0VG9wKGVsZW1lbnQpLFxuICAgICAgICBfZXZ0ID0gZ2V0VG91Y2hJbmZvKGV2ZW50KTtcbiAgICByZXR1cm4ge1xuICAgICAgeDogX2V2dC5jbGllbnRYICsgc2Nyb2xsLmxlZnQsXG4gICAgICB5OiBfZXZ0LmNsaWVudFkgKyBzY3JvbGwudG9wXG4gICAgfTtcbiAgfTtcblxuICBmYWJyaWMudXRpbC5pc1RvdWNoRXZlbnQgPSBmdW5jdGlvbihldmVudCkge1xuICAgIHJldHVybiB0b3VjaEV2ZW50cy5pbmRleE9mKGV2ZW50LnR5cGUpID4gLTEgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCc7XG4gIH07XG59KSgpO1xuXG5cbihmdW5jdGlvbiAoKSB7XG5cbiAgLyoqXG4gICAqIENyb3NzLWJyb3dzZXIgd3JhcHBlciBmb3Igc2V0dGluZyBlbGVtZW50J3Mgc3R5bGVcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAgICogQHBhcmFtIHtPYmplY3R9IHN0eWxlc1xuICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gRWxlbWVudCB0aGF0IHdhcyBwYXNzZWQgYXMgYSBmaXJzdCBhcmd1bWVudFxuICAgKi9cbiAgZnVuY3Rpb24gc2V0U3R5bGUoZWxlbWVudCwgc3R5bGVzKSB7XG4gICAgdmFyIGVsZW1lbnRTdHlsZSA9IGVsZW1lbnQuc3R5bGU7XG4gICAgaWYgKCFlbGVtZW50U3R5bGUpIHtcbiAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHN0eWxlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGVsZW1lbnQuc3R5bGUuY3NzVGV4dCArPSAnOycgKyBzdHlsZXM7XG4gICAgICByZXR1cm4gc3R5bGVzLmluZGV4T2YoJ29wYWNpdHknKSA+IC0xXG4gICAgICAgID8gc2V0T3BhY2l0eShlbGVtZW50LCBzdHlsZXMubWF0Y2goL29wYWNpdHk6XFxzKihcXGQ/XFwuP1xcZCopLylbMV0pXG4gICAgICAgIDogZWxlbWVudDtcbiAgICB9XG4gICAgZm9yICh2YXIgcHJvcGVydHkgaW4gc3R5bGVzKSB7XG4gICAgICBpZiAocHJvcGVydHkgPT09ICdvcGFjaXR5Jykge1xuICAgICAgICBzZXRPcGFjaXR5KGVsZW1lbnQsIHN0eWxlc1twcm9wZXJ0eV0pO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHZhciBub3JtYWxpemVkUHJvcGVydHkgPSAocHJvcGVydHkgPT09ICdmbG9hdCcgfHwgcHJvcGVydHkgPT09ICdjc3NGbG9hdCcpXG4gICAgICAgICAgPyAodHlwZW9mIGVsZW1lbnRTdHlsZS5zdHlsZUZsb2F0ID09PSAndW5kZWZpbmVkJyA/ICdjc3NGbG9hdCcgOiAnc3R5bGVGbG9hdCcpXG4gICAgICAgICAgOiBwcm9wZXJ0eTtcbiAgICAgICAgZWxlbWVudFN0eWxlLnNldFByb3BlcnR5KG5vcm1hbGl6ZWRQcm9wZXJ0eSwgc3R5bGVzW3Byb3BlcnR5XSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBlbGVtZW50O1xuICB9XG5cbiAgdmFyIHBhcnNlRWwgPSBmYWJyaWMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICBzdXBwb3J0c09wYWNpdHkgPSB0eXBlb2YgcGFyc2VFbC5zdHlsZS5vcGFjaXR5ID09PSAnc3RyaW5nJyxcbiAgICAgIHN1cHBvcnRzRmlsdGVycyA9IHR5cGVvZiBwYXJzZUVsLnN0eWxlLmZpbHRlciA9PT0gJ3N0cmluZycsXG4gICAgICByZU9wYWNpdHkgPSAvYWxwaGFcXHMqXFwoXFxzKm9wYWNpdHlcXHMqPVxccyooW15cXCldKylcXCkvLFxuXG4gICAgICAvKiogQGlnbm9yZSAqL1xuICAgICAgc2V0T3BhY2l0eSA9IGZ1bmN0aW9uIChlbGVtZW50KSB7IHJldHVybiBlbGVtZW50OyB9O1xuXG4gIGlmIChzdXBwb3J0c09wYWNpdHkpIHtcbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIHNldE9wYWNpdHkgPSBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZSkge1xuICAgICAgZWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gdmFsdWU7XG4gICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9O1xuICB9XG4gIGVsc2UgaWYgKHN1cHBvcnRzRmlsdGVycykge1xuICAgIC8qKiBAaWdub3JlICovXG4gICAgc2V0T3BhY2l0eSA9IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlKSB7XG4gICAgICB2YXIgZXMgPSBlbGVtZW50LnN0eWxlO1xuICAgICAgaWYgKGVsZW1lbnQuY3VycmVudFN0eWxlICYmICFlbGVtZW50LmN1cnJlbnRTdHlsZS5oYXNMYXlvdXQpIHtcbiAgICAgICAgZXMuem9vbSA9IDE7XG4gICAgICB9XG4gICAgICBpZiAocmVPcGFjaXR5LnRlc3QoZXMuZmlsdGVyKSkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlID49IDAuOTk5OSA/ICcnIDogKCdhbHBoYShvcGFjaXR5PScgKyAodmFsdWUgKiAxMDApICsgJyknKTtcbiAgICAgICAgZXMuZmlsdGVyID0gZXMuZmlsdGVyLnJlcGxhY2UocmVPcGFjaXR5LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgZXMuZmlsdGVyICs9ICcgYWxwaGEob3BhY2l0eT0nICsgKHZhbHVlICogMTAwKSArICcpJztcbiAgICAgIH1cbiAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH07XG4gIH1cblxuICBmYWJyaWMudXRpbC5zZXRTdHlsZSA9IHNldFN0eWxlO1xuXG59KSgpO1xuXG5cbihmdW5jdGlvbigpIHtcblxuICB2YXIgX3NsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xuXG4gIC8qKlxuICAgKiBUYWtlcyBpZCBhbmQgcmV0dXJucyBhbiBlbGVtZW50IHdpdGggdGhhdCBpZCAoaWYgb25lIGV4aXN0cyBpbiBhIGRvY3VtZW50KVxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICogQHBhcmFtIHtTdHJpbmd8SFRNTEVsZW1lbnR9IGlkXG4gICAqIEByZXR1cm4ge0hUTUxFbGVtZW50fG51bGx9XG4gICAqL1xuICBmdW5jdGlvbiBnZXRCeUlkKGlkKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBpZCA9PT0gJ3N0cmluZycgPyBmYWJyaWMuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpIDogaWQ7XG4gIH1cblxuICB2YXIgc2xpY2VDYW5Db252ZXJ0Tm9kZWxpc3RzLFxuICAgICAgLyoqXG4gICAgICAgKiBDb252ZXJ0cyBhbiBhcnJheS1saWtlIG9iamVjdCAoZS5nLiBhcmd1bWVudHMgb3IgTm9kZUxpc3QpIHRvIGFuIGFycmF5XG4gICAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhcnJheUxpa2VcbiAgICAgICAqIEByZXR1cm4ge0FycmF5fVxuICAgICAgICovXG4gICAgICB0b0FycmF5ID0gZnVuY3Rpb24oYXJyYXlMaWtlKSB7XG4gICAgICAgIHJldHVybiBfc2xpY2UuY2FsbChhcnJheUxpa2UsIDApO1xuICAgICAgfTtcblxuICB0cnkge1xuICAgIHNsaWNlQ2FuQ29udmVydE5vZGVsaXN0cyA9IHRvQXJyYXkoZmFicmljLmRvY3VtZW50LmNoaWxkTm9kZXMpIGluc3RhbmNlb2YgQXJyYXk7XG4gIH1cbiAgY2F0Y2ggKGVycikgeyB9XG5cbiAgaWYgKCFzbGljZUNhbkNvbnZlcnROb2RlbGlzdHMpIHtcbiAgICB0b0FycmF5ID0gZnVuY3Rpb24oYXJyYXlMaWtlKSB7XG4gICAgICB2YXIgYXJyID0gbmV3IEFycmF5KGFycmF5TGlrZS5sZW5ndGgpLCBpID0gYXJyYXlMaWtlLmxlbmd0aDtcbiAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgYXJyW2ldID0gYXJyYXlMaWtlW2ldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycjtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgc3BlY2lmaWVkIGVsZW1lbnQgd2l0aCBzcGVjaWZpZWQgYXR0cmlidXRlc1xuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICogQHBhcmFtIHtTdHJpbmd9IHRhZ05hbWUgVHlwZSBvZiBhbiBlbGVtZW50IHRvIGNyZWF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gW2F0dHJpYnV0ZXNdIEF0dHJpYnV0ZXMgdG8gc2V0IG9uIGFuIGVsZW1lbnRcbiAgICogQHJldHVybiB7SFRNTEVsZW1lbnR9IE5ld2x5IGNyZWF0ZWQgZWxlbWVudFxuICAgKi9cbiAgZnVuY3Rpb24gbWFrZUVsZW1lbnQodGFnTmFtZSwgYXR0cmlidXRlcykge1xuICAgIHZhciBlbCA9IGZhYnJpYy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xuICAgIGZvciAodmFyIHByb3AgaW4gYXR0cmlidXRlcykge1xuICAgICAgaWYgKHByb3AgPT09ICdjbGFzcycpIHtcbiAgICAgICAgZWwuY2xhc3NOYW1lID0gYXR0cmlidXRlc1twcm9wXTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHByb3AgPT09ICdmb3InKSB7XG4gICAgICAgIGVsLmh0bWxGb3IgPSBhdHRyaWJ1dGVzW3Byb3BdO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGVsLnNldEF0dHJpYnV0ZShwcm9wLCBhdHRyaWJ1dGVzW3Byb3BdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGVsO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgY2xhc3MgdG8gYW4gZWxlbWVudFxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBFbGVtZW50IHRvIGFkZCBjbGFzcyB0b1xuICAgKiBAcGFyYW0ge1N0cmluZ30gY2xhc3NOYW1lIENsYXNzIHRvIGFkZCB0byBhbiBlbGVtZW50XG4gICAqL1xuICBmdW5jdGlvbiBhZGRDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpIHtcbiAgICBpZiAoZWxlbWVudCAmJiAoJyAnICsgZWxlbWVudC5jbGFzc05hbWUgKyAnICcpLmluZGV4T2YoJyAnICsgY2xhc3NOYW1lICsgJyAnKSA9PT0gLTEpIHtcbiAgICAgIGVsZW1lbnQuY2xhc3NOYW1lICs9IChlbGVtZW50LmNsYXNzTmFtZSA/ICcgJyA6ICcnKSArIGNsYXNzTmFtZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogV3JhcHMgZWxlbWVudCB3aXRoIGFub3RoZXIgZWxlbWVudFxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBFbGVtZW50IHRvIHdyYXBcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudHxTdHJpbmd9IHdyYXBwZXIgRWxlbWVudCB0byB3cmFwIHdpdGhcbiAgICogQHBhcmFtIHtPYmplY3R9IFthdHRyaWJ1dGVzXSBBdHRyaWJ1dGVzIHRvIHNldCBvbiBhIHdyYXBwZXJcbiAgICogQHJldHVybiB7SFRNTEVsZW1lbnR9IHdyYXBwZXJcbiAgICovXG4gIGZ1bmN0aW9uIHdyYXBFbGVtZW50KGVsZW1lbnQsIHdyYXBwZXIsIGF0dHJpYnV0ZXMpIHtcbiAgICBpZiAodHlwZW9mIHdyYXBwZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgICB3cmFwcGVyID0gbWFrZUVsZW1lbnQod3JhcHBlciwgYXR0cmlidXRlcyk7XG4gICAgfVxuICAgIGlmIChlbGVtZW50LnBhcmVudE5vZGUpIHtcbiAgICAgIGVsZW1lbnQucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQod3JhcHBlciwgZWxlbWVudCk7XG4gICAgfVxuICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgcmV0dXJuIHdyYXBwZXI7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBlbGVtZW50IHNjcm9sbCBvZmZzZXRzXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IEVsZW1lbnQgdG8gb3BlcmF0ZSBvblxuICAgKiBAcmV0dXJuIHtPYmplY3R9IE9iamVjdCB3aXRoIGxlZnQvdG9wIHZhbHVlc1xuICAgKi9cbiAgZnVuY3Rpb24gZ2V0U2Nyb2xsTGVmdFRvcChlbGVtZW50KSB7XG5cbiAgICB2YXIgbGVmdCA9IDAsXG4gICAgICAgIHRvcCA9IDAsXG4gICAgICAgIGRvY0VsZW1lbnQgPSBmYWJyaWMuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LFxuICAgICAgICBib2R5ID0gZmFicmljLmRvY3VtZW50LmJvZHkgfHwge1xuICAgICAgICAgIHNjcm9sbExlZnQ6IDAsIHNjcm9sbFRvcDogMFxuICAgICAgICB9O1xuXG4gICAgLy8gV2hpbGUgbG9vcCBjaGVja3MgKGFuZCB0aGVuIHNldHMgZWxlbWVudCB0bykgLnBhcmVudE5vZGUgT1IgLmhvc3RcbiAgICAvLyAgdG8gYWNjb3VudCBmb3IgU2hhZG93RE9NLiBXZSBzdGlsbCB3YW50IHRvIHRyYXZlcnNlIHVwIG91dCBvZiBTaGFkb3dET00sXG4gICAgLy8gIGJ1dCB0aGUgLnBhcmVudE5vZGUgb2YgYSByb290IFNoYWRvd0RPTSBub2RlIHdpbGwgYWx3YXlzIGJlIG51bGwsIGluc3RlYWRcbiAgICAvLyAgaXQgc2hvdWxkIGJlIGFjY2Vzc2VkIHRocm91Z2ggLmhvc3QuIFNlZSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNDc2NTUyOC80MzgzOTM4XG4gICAgd2hpbGUgKGVsZW1lbnQgJiYgKGVsZW1lbnQucGFyZW50Tm9kZSB8fCBlbGVtZW50Lmhvc3QpKSB7XG5cbiAgICAgIC8vIFNldCBlbGVtZW50IHRvIGVsZW1lbnQgcGFyZW50LCBvciAnaG9zdCcgaW4gY2FzZSBvZiBTaGFkb3dET01cbiAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGUgfHwgZWxlbWVudC5ob3N0O1xuXG4gICAgICBpZiAoZWxlbWVudCA9PT0gZmFicmljLmRvY3VtZW50KSB7XG4gICAgICAgIGxlZnQgPSBib2R5LnNjcm9sbExlZnQgfHwgZG9jRWxlbWVudC5zY3JvbGxMZWZ0IHx8IDA7XG4gICAgICAgIHRvcCA9IGJvZHkuc2Nyb2xsVG9wIHx8ICBkb2NFbGVtZW50LnNjcm9sbFRvcCB8fCAwO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGxlZnQgKz0gZWxlbWVudC5zY3JvbGxMZWZ0IHx8IDA7XG4gICAgICAgIHRvcCArPSBlbGVtZW50LnNjcm9sbFRvcCB8fCAwO1xuICAgICAgfVxuXG4gICAgICBpZiAoZWxlbWVudC5ub2RlVHlwZSA9PT0gMSAmJiBlbGVtZW50LnN0eWxlLnBvc2l0aW9uID09PSAnZml4ZWQnKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7IGxlZnQ6IGxlZnQsIHRvcDogdG9wIH07XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBvZmZzZXQgZm9yIGEgZ2l2ZW4gZWxlbWVudFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCB0byBnZXQgb2Zmc2V0IGZvclxuICAgKiBAcmV0dXJuIHtPYmplY3R9IE9iamVjdCB3aXRoIFwibGVmdFwiIGFuZCBcInRvcFwiIHByb3BlcnRpZXNcbiAgICovXG4gIGZ1bmN0aW9uIGdldEVsZW1lbnRPZmZzZXQoZWxlbWVudCkge1xuICAgIHZhciBkb2NFbGVtLFxuICAgICAgICBkb2MgPSBlbGVtZW50ICYmIGVsZW1lbnQub3duZXJEb2N1bWVudCxcbiAgICAgICAgYm94ID0geyBsZWZ0OiAwLCB0b3A6IDAgfSxcbiAgICAgICAgb2Zmc2V0ID0geyBsZWZ0OiAwLCB0b3A6IDAgfSxcbiAgICAgICAgc2Nyb2xsTGVmdFRvcCxcbiAgICAgICAgb2Zmc2V0QXR0cmlidXRlcyA9IHtcbiAgICAgICAgICBib3JkZXJMZWZ0V2lkdGg6ICdsZWZ0JyxcbiAgICAgICAgICBib3JkZXJUb3BXaWR0aDogICd0b3AnLFxuICAgICAgICAgIHBhZGRpbmdMZWZ0OiAgICAgJ2xlZnQnLFxuICAgICAgICAgIHBhZGRpbmdUb3A6ICAgICAgJ3RvcCdcbiAgICAgICAgfTtcblxuICAgIGlmICghZG9jKSB7XG4gICAgICByZXR1cm4gb2Zmc2V0O1xuICAgIH1cblxuICAgIGZvciAodmFyIGF0dHIgaW4gb2Zmc2V0QXR0cmlidXRlcykge1xuICAgICAgb2Zmc2V0W29mZnNldEF0dHJpYnV0ZXNbYXR0cl1dICs9IHBhcnNlSW50KGdldEVsZW1lbnRTdHlsZShlbGVtZW50LCBhdHRyKSwgMTApIHx8IDA7XG4gICAgfVxuXG4gICAgZG9jRWxlbSA9IGRvYy5kb2N1bWVudEVsZW1lbnQ7XG4gICAgaWYgKCB0eXBlb2YgZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QgIT09ICd1bmRlZmluZWQnICkge1xuICAgICAgYm94ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB9XG5cbiAgICBzY3JvbGxMZWZ0VG9wID0gZ2V0U2Nyb2xsTGVmdFRvcChlbGVtZW50KTtcblxuICAgIHJldHVybiB7XG4gICAgICBsZWZ0OiBib3gubGVmdCArIHNjcm9sbExlZnRUb3AubGVmdCAtIChkb2NFbGVtLmNsaWVudExlZnQgfHwgMCkgKyBvZmZzZXQubGVmdCxcbiAgICAgIHRvcDogYm94LnRvcCArIHNjcm9sbExlZnRUb3AudG9wIC0gKGRvY0VsZW0uY2xpZW50VG9wIHx8IDApICArIG9mZnNldC50b3BcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgc3R5bGUgYXR0cmlidXRlIHZhbHVlIG9mIGEgZ2l2ZW4gZWxlbWVudFxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBFbGVtZW50IHRvIGdldCBzdHlsZSBhdHRyaWJ1dGUgZm9yXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBhdHRyIFN0eWxlIGF0dHJpYnV0ZSB0byBnZXQgZm9yIGVsZW1lbnRcbiAgICogQHJldHVybiB7U3RyaW5nfSBTdHlsZSBhdHRyaWJ1dGUgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAqL1xuICB2YXIgZ2V0RWxlbWVudFN0eWxlO1xuICBpZiAoZmFicmljLmRvY3VtZW50LmRlZmF1bHRWaWV3ICYmIGZhYnJpYy5kb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKSB7XG4gICAgZ2V0RWxlbWVudFN0eWxlID0gZnVuY3Rpb24oZWxlbWVudCwgYXR0cikge1xuICAgICAgdmFyIHN0eWxlID0gZmFicmljLmRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgbnVsbCk7XG4gICAgICByZXR1cm4gc3R5bGUgPyBzdHlsZVthdHRyXSA6IHVuZGVmaW5lZDtcbiAgICB9O1xuICB9XG4gIGVsc2Uge1xuICAgIGdldEVsZW1lbnRTdHlsZSA9IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGVsZW1lbnQuc3R5bGVbYXR0cl07XG4gICAgICBpZiAoIXZhbHVlICYmIGVsZW1lbnQuY3VycmVudFN0eWxlKSB7XG4gICAgICAgIHZhbHVlID0gZWxlbWVudC5jdXJyZW50U3R5bGVbYXR0cl07XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgfVxuXG4gIChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHN0eWxlID0gZmFicmljLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSxcbiAgICAgICAgc2VsZWN0UHJvcCA9ICd1c2VyU2VsZWN0JyBpbiBzdHlsZVxuICAgICAgICAgID8gJ3VzZXJTZWxlY3QnXG4gICAgICAgICAgOiAnTW96VXNlclNlbGVjdCcgaW4gc3R5bGVcbiAgICAgICAgICAgID8gJ01velVzZXJTZWxlY3QnXG4gICAgICAgICAgICA6ICdXZWJraXRVc2VyU2VsZWN0JyBpbiBzdHlsZVxuICAgICAgICAgICAgICA/ICdXZWJraXRVc2VyU2VsZWN0J1xuICAgICAgICAgICAgICA6ICdLaHRtbFVzZXJTZWxlY3QnIGluIHN0eWxlXG4gICAgICAgICAgICAgICAgPyAnS2h0bWxVc2VyU2VsZWN0J1xuICAgICAgICAgICAgICAgIDogJyc7XG5cbiAgICAvKipcbiAgICAgKiBNYWtlcyBlbGVtZW50IHVuc2VsZWN0YWJsZVxuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCB0byBtYWtlIHVuc2VsZWN0YWJsZVxuICAgICAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSBFbGVtZW50IHRoYXQgd2FzIHBhc3NlZCBpblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1ha2VFbGVtZW50VW5zZWxlY3RhYmxlKGVsZW1lbnQpIHtcbiAgICAgIGlmICh0eXBlb2YgZWxlbWVudC5vbnNlbGVjdHN0YXJ0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBlbGVtZW50Lm9uc2VsZWN0c3RhcnQgPSBmYWJyaWMudXRpbC5mYWxzZUZ1bmN0aW9uO1xuICAgICAgfVxuICAgICAgaWYgKHNlbGVjdFByb3ApIHtcbiAgICAgICAgZWxlbWVudC5zdHlsZVtzZWxlY3RQcm9wXSA9ICdub25lJztcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHR5cGVvZiBlbGVtZW50LnVuc2VsZWN0YWJsZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgZWxlbWVudC51bnNlbGVjdGFibGUgPSAnb24nO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWFrZXMgZWxlbWVudCBzZWxlY3RhYmxlXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBFbGVtZW50IHRvIG1ha2Ugc2VsZWN0YWJsZVxuICAgICAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSBFbGVtZW50IHRoYXQgd2FzIHBhc3NlZCBpblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1ha2VFbGVtZW50U2VsZWN0YWJsZShlbGVtZW50KSB7XG4gICAgICBpZiAodHlwZW9mIGVsZW1lbnQub25zZWxlY3RzdGFydCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgZWxlbWVudC5vbnNlbGVjdHN0YXJ0ID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmIChzZWxlY3RQcm9wKSB7XG4gICAgICAgIGVsZW1lbnQuc3R5bGVbc2VsZWN0UHJvcF0gPSAnJztcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHR5cGVvZiBlbGVtZW50LnVuc2VsZWN0YWJsZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgZWxlbWVudC51bnNlbGVjdGFibGUgPSAnJztcbiAgICAgIH1cbiAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cblxuICAgIGZhYnJpYy51dGlsLm1ha2VFbGVtZW50VW5zZWxlY3RhYmxlID0gbWFrZUVsZW1lbnRVbnNlbGVjdGFibGU7XG4gICAgZmFicmljLnV0aWwubWFrZUVsZW1lbnRTZWxlY3RhYmxlID0gbWFrZUVsZW1lbnRTZWxlY3RhYmxlO1xuICB9KSgpO1xuXG4gIGZ1bmN0aW9uIGdldE5vZGVDYW52YXMoZWxlbWVudCkge1xuICAgIHZhciBpbXBsID0gZmFicmljLmpzZG9tSW1wbEZvcldyYXBwZXIoZWxlbWVudCk7XG4gICAgcmV0dXJuIGltcGwuX2NhbnZhcyB8fCBpbXBsLl9pbWFnZTtcbiAgfTtcblxuICBmdW5jdGlvbiBjbGVhblVwSnNkb21Ob2RlKGVsZW1lbnQpIHtcbiAgICBpZiAoIWZhYnJpYy5pc0xpa2VseU5vZGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGltcGwgPSBmYWJyaWMuanNkb21JbXBsRm9yV3JhcHBlcihlbGVtZW50KTtcbiAgICBpZiAoaW1wbCkge1xuICAgICAgaW1wbC5faW1hZ2UgPSBudWxsO1xuICAgICAgaW1wbC5fY2FudmFzID0gbnVsbDtcbiAgICAgIC8vIHVuc3VyZSBpZiBuZWNlc3NhcnlcbiAgICAgIGltcGwuX2N1cnJlbnRTcmMgPSBudWxsO1xuICAgICAgaW1wbC5fYXR0cmlidXRlcyA9IG51bGw7XG4gICAgICBpbXBsLl9jbGFzc0xpc3QgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNldEltYWdlU21vb3RoaW5nKGN0eCwgdmFsdWUpIHtcbiAgICBjdHguaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCB8fCBjdHgud2Via2l0SW1hZ2VTbW9vdGhpbmdFbmFibGVkXG4gICAgICB8fCBjdHgubW96SW1hZ2VTbW9vdGhpbmdFbmFibGVkIHx8IGN0eC5tc0ltYWdlU21vb3RoaW5nRW5hYmxlZCB8fCBjdHgub0ltYWdlU21vb3RoaW5nRW5hYmxlZDtcbiAgICBjdHguaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogc2V0SW1hZ2VTbW9vdGhpbmcgc2V0cyB0aGUgY29udGV4dCBpbWFnZVNtb290aGluZ0VuYWJsZWQgcHJvcGVydHkuXG4gICAqIFVzZWQgYnkgY2FudmFzIGFuZCBieSBJbWFnZU9iamVjdC5cbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAqIEBzaW5jZSA0LjAuMFxuICAgKiBAcGFyYW0ge0hUTUxSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCB0byBzZXQgb25cbiAgICogQHBhcmFtIHtCb29sZWFufSB2YWx1ZSB0cnVlIG9yIGZhbHNlXG4gICAqL1xuICBmYWJyaWMudXRpbC5zZXRJbWFnZVNtb290aGluZyA9IHNldEltYWdlU21vb3RoaW5nO1xuICBmYWJyaWMudXRpbC5nZXRCeUlkID0gZ2V0QnlJZDtcbiAgZmFicmljLnV0aWwudG9BcnJheSA9IHRvQXJyYXk7XG4gIGZhYnJpYy51dGlsLmFkZENsYXNzID0gYWRkQ2xhc3M7XG4gIGZhYnJpYy51dGlsLm1ha2VFbGVtZW50ID0gbWFrZUVsZW1lbnQ7XG4gIGZhYnJpYy51dGlsLndyYXBFbGVtZW50ID0gd3JhcEVsZW1lbnQ7XG4gIGZhYnJpYy51dGlsLmdldFNjcm9sbExlZnRUb3AgPSBnZXRTY3JvbGxMZWZ0VG9wO1xuICBmYWJyaWMudXRpbC5nZXRFbGVtZW50T2Zmc2V0ID0gZ2V0RWxlbWVudE9mZnNldDtcbiAgZmFicmljLnV0aWwuZ2V0Tm9kZUNhbnZhcyA9IGdldE5vZGVDYW52YXM7XG4gIGZhYnJpYy51dGlsLmNsZWFuVXBKc2RvbU5vZGUgPSBjbGVhblVwSnNkb21Ob2RlO1xuXG59KSgpO1xuXG5cbihmdW5jdGlvbigpIHtcblxuICBmdW5jdGlvbiBhZGRQYXJhbVRvVXJsKHVybCwgcGFyYW0pIHtcbiAgICByZXR1cm4gdXJsICsgKC9cXD8vLnRlc3QodXJsKSA/ICcmJyA6ICc/JykgKyBwYXJhbTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVtcHR5Rm4oKSB7IH1cblxuICAvKipcbiAgICogQ3Jvc3MtYnJvd3NlciBhYnN0cmFjdGlvbiBmb3Igc2VuZGluZyBYTUxIdHRwUmVxdWVzdFxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICogQHBhcmFtIHtTdHJpbmd9IHVybCBVUkwgdG8gc2VuZCBYTUxIdHRwUmVxdWVzdCB0b1xuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5tZXRob2Q9XCJHRVRcIl1cbiAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLnBhcmFtZXRlcnNdIHBhcmFtZXRlcnMgdG8gYXBwZW5kIHRvIHVybCBpbiBHRVQgb3IgaW4gYm9keVxuICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuYm9keV0gYm9keSB0byBzZW5kIHdpdGggUE9TVCBvciBQVVQgcmVxdWVzdFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLm9uQ29tcGxldGUgQ2FsbGJhY2sgdG8gaW52b2tlIHdoZW4gcmVxdWVzdCBpcyBjb21wbGV0ZWRcbiAgICogQHJldHVybiB7WE1MSHR0cFJlcXVlc3R9IHJlcXVlc3RcbiAgICovXG4gIGZ1bmN0aW9uIHJlcXVlc3QodXJsLCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyB8fCAob3B0aW9ucyA9IHsgfSk7XG5cbiAgICB2YXIgbWV0aG9kID0gb3B0aW9ucy5tZXRob2QgPyBvcHRpb25zLm1ldGhvZC50b1VwcGVyQ2FzZSgpIDogJ0dFVCcsXG4gICAgICAgIG9uQ29tcGxldGUgPSBvcHRpb25zLm9uQ29tcGxldGUgfHwgZnVuY3Rpb24oKSB7IH0sXG4gICAgICAgIHhociA9IG5ldyBmYWJyaWMud2luZG93LlhNTEh0dHBSZXF1ZXN0KCksXG4gICAgICAgIGJvZHkgPSBvcHRpb25zLmJvZHkgfHwgb3B0aW9ucy5wYXJhbWV0ZXJzO1xuXG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQpIHtcbiAgICAgICAgb25Db21wbGV0ZSh4aHIpO1xuICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZW1wdHlGbjtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKG1ldGhvZCA9PT0gJ0dFVCcpIHtcbiAgICAgIGJvZHkgPSBudWxsO1xuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLnBhcmFtZXRlcnMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHVybCA9IGFkZFBhcmFtVG9VcmwodXJsLCBvcHRpb25zLnBhcmFtZXRlcnMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHhoci5vcGVuKG1ldGhvZCwgdXJsLCB0cnVlKTtcblxuICAgIGlmIChtZXRob2QgPT09ICdQT1NUJyB8fCBtZXRob2QgPT09ICdQVVQnKSB7XG4gICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcpO1xuICAgIH1cblxuICAgIHhoci5zZW5kKGJvZHkpO1xuICAgIHJldHVybiB4aHI7XG4gIH1cblxuICBmYWJyaWMudXRpbC5yZXF1ZXN0ID0gcmVxdWVzdDtcbn0pKCk7XG5cblxuLyoqXG4gKiBXcmFwcGVyIGFyb3VuZCBgY29uc29sZS5sb2dgICh3aGVuIGF2YWlsYWJsZSlcbiAqIEBwYXJhbSB7Kn0gW3ZhbHVlc10gVmFsdWVzIHRvIGxvZ1xuICovXG5mYWJyaWMubG9nID0gY29uc29sZS5sb2c7XG5cbi8qKlxuICogV3JhcHBlciBhcm91bmQgYGNvbnNvbGUud2FybmAgKHdoZW4gYXZhaWxhYmxlKVxuICogQHBhcmFtIHsqfSBbdmFsdWVzXSBWYWx1ZXMgdG8gbG9nIGFzIGEgd2FybmluZ1xuICovXG5mYWJyaWMud2FybiA9IGNvbnNvbGUud2FybjtcblxuXG4oZnVuY3Rpb24gKCkge1xuXG4gIHZhciBleHRlbmQgPSBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kLFxuICAgICAgY2xvbmUgPSBmYWJyaWMudXRpbC5vYmplY3QuY2xvbmU7XG5cbiAgLyoqXG4gICAqIEB0eXBlZGVmIHtPYmplY3R9IEFuaW1hdGlvbk9wdGlvbnNcbiAgICogQW5pbWF0aW9uIG9mIGEgdmFsdWUgb3IgbGlzdCBvZiB2YWx1ZXMuXG4gICAqIFdoZW4gdXNpbmcgbGlzdHMsIHRoaW5rIG9mIHNvbWV0aGluZyBsaWtlIHRoaXM6XG4gICAqIGZhYnJpYy51dGlsLmFuaW1hdGUoe1xuICAgKiAgIHN0YXJ0VmFsdWU6IFsxLCAyLCAzXSxcbiAgICogICBlbmRWYWx1ZTogWzIsIDQsIDZdLFxuICAgKiAgIG9uQ2hhbmdlOiBmdW5jdGlvbihbYSwgYiwgY10pIHtcbiAgICogICAgIGNhbnZhcy56b29tVG9Qb2ludCh7eDogYiwgeTogY30sIGEpXG4gICAqICAgICBjYW52YXMucmVuZGVyQWxsKClcbiAgICogICB9XG4gICAqIH0pO1xuICAgKiBAZXhhbXBsZVxuICAgKiBAcHJvcGVydHkge0Z1bmN0aW9ufSBbb25DaGFuZ2VdIENhbGxiYWNrOyBpbnZva2VkIG9uIGV2ZXJ5IHZhbHVlIGNoYW5nZVxuICAgKiBAcHJvcGVydHkge0Z1bmN0aW9ufSBbb25Db21wbGV0ZV0gQ2FsbGJhY2s7IGludm9rZWQgd2hlbiB2YWx1ZSBjaGFuZ2UgaXMgY29tcGxldGVkXG4gICAqIEBleGFtcGxlXG4gICAqIC8vIE5vdGU6IHN0YXJ0VmFsdWUsIGVuZFZhbHVlLCBhbmQgYnlWYWx1ZSBtdXN0IG1hdGNoIHRoZSB0eXBlXG4gICAqIHZhciBhbmltYXRpb25PcHRpb25zID0geyBzdGFydFZhbHVlOiAwLCBlbmRWYWx1ZTogMSwgYnlWYWx1ZTogMC4yNSB9XG4gICAqIHZhciBhbmltYXRpb25PcHRpb25zID0geyBzdGFydFZhbHVlOiBbMCwgMV0sIGVuZFZhbHVlOiBbMSwgMl0sIGJ5VmFsdWU6IFswLjI1LCAwLjI1XSB9XG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyIHwgbnVtYmVyW119IFtzdGFydFZhbHVlPTBdIFN0YXJ0aW5nIHZhbHVlXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyIHwgbnVtYmVyW119IFtlbmRWYWx1ZT0xMDBdIEVuZGluZyB2YWx1ZVxuICAgKiBAcHJvcGVydHkge251bWJlciB8IG51bWJlcltdfSBbYnlWYWx1ZT0xMDBdIFZhbHVlIHRvIG1vZGlmeSB0aGUgcHJvcGVydHkgYnlcbiAgICogQHByb3BlcnR5IHtGdW5jdGlvbn0gW2Vhc2luZ10gRWFzaW5nIGZ1bmN0aW9uXG4gICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBbZHVyYXRpb249NTAwXSBEdXJhdGlvbiBvZiBjaGFuZ2UgKGluIG1zKVxuICAgKiBAcHJvcGVydHkge0Z1bmN0aW9ufSBbYWJvcnRdIEFkZGl0aW9uYWwgZnVuY3Rpb24gd2l0aCBsb2dpYy4gSWYgcmV0dXJucyB0cnVlLCBhbmltYXRpb24gYWJvcnRzLlxuICAgKlxuICAgKiBAdHlwZWRlZiB7KCkgPT4gdm9pZH0gQ2FuY2VsRnVuY3Rpb25cbiAgICpcbiAgICogQHR5cGVkZWYge09iamVjdH0gQW5pbWF0aW9uQ3VycmVudFN0YXRlXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyIHwgbnVtYmVyW119IGN1cnJlbnRWYWx1ZSB2YWx1ZSBpbiByYW5nZSBbYHN0YXJ0VmFsdWVgLCBgZW5kVmFsdWVgXVxuICAgKiBAcHJvcGVydHkge251bWJlcn0gY29tcGxldGlvblJhdGUgdmFsdWUgaW4gcmFuZ2UgWzAsIDFdXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkdXJhdGlvblJhdGUgdmFsdWUgaW4gcmFuZ2UgWzAsIDFdXG4gICAqXG4gICAqIEB0eXBlZGVmIHsoQW5pbWF0aW9uT3B0aW9ucyAmIEFuaW1hdGlvbkN1cnJlbnRTdGF0ZSAmIHsgY2FuY2VsOiBDYW5jZWxGdW5jdGlvbiB9fSBBbmltYXRpb25Db250ZXh0XG4gICAqL1xuXG4gIC8qKlxuICAgKiBBcnJheSBob2xkaW5nIGFsbCBydW5uaW5nIGFuaW1hdGlvbnNcbiAgICogQG1lbWJlcm9mIGZhYnJpY1xuICAgKiBAdHlwZSB7QW5pbWF0aW9uQ29udGV4dFtdfVxuICAgKi9cbiAgdmFyIFJVTk5JTkdfQU5JTUFUSU9OUyA9IFtdO1xuICBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kKFJVTk5JTkdfQU5JTUFUSU9OUywge1xuXG4gICAgLyoqXG4gICAgICogY2FuY2VsIGFsbCBydW5uaW5nIGFuaW1hdGlvbnMgYXQgdGhlIG5leHQgcmVxdWVzdEFuaW1GcmFtZVxuICAgICAqIEByZXR1cm5zIHtBbmltYXRpb25Db250ZXh0W119XG4gICAgICovXG4gICAgY2FuY2VsQWxsOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgYW5pbWF0aW9ucyA9IHRoaXMuc3BsaWNlKDApO1xuICAgICAgYW5pbWF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChhbmltYXRpb24pIHtcbiAgICAgICAgYW5pbWF0aW9uLmNhbmNlbCgpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gYW5pbWF0aW9ucztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogY2FuY2VsIGFsbCBydW5uaW5nIGFuaW1hdGlvbnMgYXR0YWNoZWQgdG8gY2FudmFzIGF0IHRoZSBuZXh0IHJlcXVlc3RBbmltRnJhbWVcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5DYW52YXN9IGNhbnZhc1xuICAgICAqIEByZXR1cm5zIHtBbmltYXRpb25Db250ZXh0W119XG4gICAgICovXG4gICAgY2FuY2VsQnlDYW52YXM6IGZ1bmN0aW9uIChjYW52YXMpIHtcbiAgICAgIGlmICghY2FudmFzKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBjYW5jZWxsZWQgPSB0aGlzLmZpbHRlcihmdW5jdGlvbiAoYW5pbWF0aW9uKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgYW5pbWF0aW9uLnRhcmdldCA9PT0gJ29iamVjdCcgJiYgYW5pbWF0aW9uLnRhcmdldC5jYW52YXMgPT09IGNhbnZhcztcbiAgICAgIH0pO1xuICAgICAgY2FuY2VsbGVkLmZvckVhY2goZnVuY3Rpb24gKGFuaW1hdGlvbikge1xuICAgICAgICBhbmltYXRpb24uY2FuY2VsKCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBjYW5jZWxsZWQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGNhbmNlbCBhbGwgcnVubmluZyBhbmltYXRpb25zIGZvciB0YXJnZXQgYXQgdGhlIG5leHQgcmVxdWVzdEFuaW1GcmFtZVxuICAgICAqIEBwYXJhbSB7Kn0gdGFyZ2V0XG4gICAgICogQHJldHVybnMge0FuaW1hdGlvbkNvbnRleHRbXX1cbiAgICAgKi9cbiAgICBjYW5jZWxCeVRhcmdldDogZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgdmFyIGNhbmNlbGxlZCA9IHRoaXMuZmluZEFuaW1hdGlvbnNCeVRhcmdldCh0YXJnZXQpO1xuICAgICAgY2FuY2VsbGVkLmZvckVhY2goZnVuY3Rpb24gKGFuaW1hdGlvbikge1xuICAgICAgICBhbmltYXRpb24uY2FuY2VsKCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBjYW5jZWxsZWQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtDYW5jZWxGdW5jdGlvbn0gY2FuY2VsRnVuYyB0aGUgZnVuY3Rpb24gcmV0dXJuZWQgYnkgYW5pbWF0ZVxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgICovXG4gICAgZmluZEFuaW1hdGlvbkluZGV4OiBmdW5jdGlvbiAoY2FuY2VsRnVuYykge1xuICAgICAgcmV0dXJuIHRoaXMuaW5kZXhPZih0aGlzLmZpbmRBbmltYXRpb24oY2FuY2VsRnVuYykpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Q2FuY2VsRnVuY3Rpb259IGNhbmNlbEZ1bmMgdGhlIGZ1bmN0aW9uIHJldHVybmVkIGJ5IGFuaW1hdGVcbiAgICAgKiBAcmV0dXJucyB7QW5pbWF0aW9uQ29udGV4dCB8IHVuZGVmaW5lZH0gYW5pbWF0aW9uJ3Mgb3B0aW9ucyBvYmplY3RcbiAgICAgKi9cbiAgICBmaW5kQW5pbWF0aW9uOiBmdW5jdGlvbiAoY2FuY2VsRnVuYykge1xuICAgICAgcmV0dXJuIHRoaXMuZmluZChmdW5jdGlvbiAoYW5pbWF0aW9uKSB7XG4gICAgICAgIHJldHVybiBhbmltYXRpb24uY2FuY2VsID09PSBjYW5jZWxGdW5jO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSB0YXJnZXQgdGhlIG9iamVjdCB0aGF0IGlzIGFzc2lnbmVkIHRvIHRoZSB0YXJnZXQgcHJvcGVydHkgb2YgdGhlIGFuaW1hdGlvbiBjb250ZXh0XG4gICAgICogQHJldHVybnMge0FuaW1hdGlvbkNvbnRleHRbXX0gYXJyYXkgb2YgYW5pbWF0aW9uIG9wdGlvbnMgb2JqZWN0IGFzc29jaWF0ZWQgd2l0aCB0YXJnZXRcbiAgICAgKi9cbiAgICBmaW5kQW5pbWF0aW9uc0J5VGFyZ2V0OiBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICBpZiAoIXRhcmdldCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24gKGFuaW1hdGlvbikge1xuICAgICAgICByZXR1cm4gYW5pbWF0aW9uLnRhcmdldCA9PT0gdGFyZ2V0O1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICBmdW5jdGlvbiBub29wKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlZmF1bHRFYXNpbmcodCwgYiwgYywgZCkge1xuICAgIHJldHVybiAtYyAqIE1hdGguY29zKHQgLyBkICogKE1hdGguUEkgLyAyKSkgKyBjICsgYjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGFuZ2VzIHZhbHVlIGZyb20gb25lIHRvIGFub3RoZXIgd2l0aGluIGNlcnRhaW4gcGVyaW9kIG9mIHRpbWUsIGludm9raW5nIGNhbGxiYWNrcyBhcyB2YWx1ZSBpcyBiZWluZyBjaGFuZ2VkLlxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICogQHBhcmFtIHtBbmltYXRpb25PcHRpb25zfSBbb3B0aW9uc10gQW5pbWF0aW9uIG9wdGlvbnNcbiAgICogQGV4YW1wbGVcbiAgICogLy8gTm90ZTogc3RhcnRWYWx1ZSwgZW5kVmFsdWUsIGFuZCBieVZhbHVlIG11c3QgbWF0Y2ggdGhlIHR5cGVcbiAgICogZmFicmljLnV0aWwuYW5pbWF0ZSh7IHN0YXJ0VmFsdWU6IDAsIGVuZFZhbHVlOiAxLCBieVZhbHVlOiAwLjI1IH0pXG4gICAqIGZhYnJpYy51dGlsLmFuaW1hdGUoeyBzdGFydFZhbHVlOiBbMCwgMV0sIGVuZFZhbHVlOiBbMSwgMl0sIGJ5VmFsdWU6IFswLjI1LCAwLjI1XSB9KVxuICAgKiBAcmV0dXJucyB7Q2FuY2VsRnVuY3Rpb259IGNhbmNlbCBmdW5jdGlvblxuICAgKi9cbiAgZnVuY3Rpb24gYW5pbWF0ZShvcHRpb25zKSB7XG4gICAgb3B0aW9ucyB8fCAob3B0aW9ucyA9IHt9KTtcbiAgICB2YXIgY2FuY2VsID0gZmFsc2UsXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIHJlbW92ZUZyb21SZWdpc3RyeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgaW5kZXggPSBmYWJyaWMucnVubmluZ0FuaW1hdGlvbnMuaW5kZXhPZihjb250ZXh0KTtcbiAgICAgICAgICByZXR1cm4gaW5kZXggPiAtMSAmJiBmYWJyaWMucnVubmluZ0FuaW1hdGlvbnMuc3BsaWNlKGluZGV4LCAxKVswXTtcbiAgICAgICAgfTtcblxuICAgIGNvbnRleHQgPSBleHRlbmQoY2xvbmUob3B0aW9ucyksIHtcbiAgICAgIGNhbmNlbDogZnVuY3Rpb24gKCkge1xuICAgICAgICBjYW5jZWwgPSB0cnVlO1xuICAgICAgICByZXR1cm4gcmVtb3ZlRnJvbVJlZ2lzdHJ5KCk7XG4gICAgICB9LFxuICAgICAgY3VycmVudFZhbHVlOiAnc3RhcnRWYWx1ZScgaW4gb3B0aW9ucyA/IG9wdGlvbnMuc3RhcnRWYWx1ZSA6IDAsXG4gICAgICBjb21wbGV0aW9uUmF0ZTogMCxcbiAgICAgIGR1cmF0aW9uUmF0ZTogMFxuICAgIH0pO1xuICAgIGZhYnJpYy5ydW5uaW5nQW5pbWF0aW9ucy5wdXNoKGNvbnRleHQpO1xuXG4gICAgcmVxdWVzdEFuaW1GcmFtZShmdW5jdGlvbih0aW1lc3RhbXApIHtcbiAgICAgIHZhciBzdGFydCA9IHRpbWVzdGFtcCB8fCArbmV3IERhdGUoKSxcbiAgICAgICAgICBkdXJhdGlvbiA9IG9wdGlvbnMuZHVyYXRpb24gfHwgNTAwLFxuICAgICAgICAgIGZpbmlzaCA9IHN0YXJ0ICsgZHVyYXRpb24sIHRpbWUsXG4gICAgICAgICAgb25DaGFuZ2UgPSBvcHRpb25zLm9uQ2hhbmdlIHx8IG5vb3AsXG4gICAgICAgICAgYWJvcnQgPSBvcHRpb25zLmFib3J0IHx8IG5vb3AsXG4gICAgICAgICAgb25Db21wbGV0ZSA9IG9wdGlvbnMub25Db21wbGV0ZSB8fCBub29wLFxuICAgICAgICAgIGVhc2luZyA9IG9wdGlvbnMuZWFzaW5nIHx8IGRlZmF1bHRFYXNpbmcsXG4gICAgICAgICAgaXNNYW55ID0gJ3N0YXJ0VmFsdWUnIGluIG9wdGlvbnMgPyBvcHRpb25zLnN0YXJ0VmFsdWUubGVuZ3RoID4gMCA6IGZhbHNlLFxuICAgICAgICAgIHN0YXJ0VmFsdWUgPSAnc3RhcnRWYWx1ZScgaW4gb3B0aW9ucyA/IG9wdGlvbnMuc3RhcnRWYWx1ZSA6IDAsXG4gICAgICAgICAgZW5kVmFsdWUgPSAnZW5kVmFsdWUnIGluIG9wdGlvbnMgPyBvcHRpb25zLmVuZFZhbHVlIDogMTAwLFxuICAgICAgICAgIGJ5VmFsdWUgPSBvcHRpb25zLmJ5VmFsdWUgfHwgKGlzTWFueSA/IHN0YXJ0VmFsdWUubWFwKGZ1bmN0aW9uKHZhbHVlLCBpKSB7XG4gICAgICAgICAgICByZXR1cm4gZW5kVmFsdWVbaV0gLSBzdGFydFZhbHVlW2ldO1xuICAgICAgICAgIH0pIDogZW5kVmFsdWUgLSBzdGFydFZhbHVlKTtcblxuICAgICAgb3B0aW9ucy5vblN0YXJ0ICYmIG9wdGlvbnMub25TdGFydCgpO1xuXG4gICAgICAoZnVuY3Rpb24gdGljayh0aWNrdGltZSkge1xuICAgICAgICB0aW1lID0gdGlja3RpbWUgfHwgK25ldyBEYXRlKCk7XG4gICAgICAgIHZhciBjdXJyZW50VGltZSA9IHRpbWUgPiBmaW5pc2ggPyBkdXJhdGlvbiA6ICh0aW1lIC0gc3RhcnQpLFxuICAgICAgICAgICAgdGltZVBlcmMgPSBjdXJyZW50VGltZSAvIGR1cmF0aW9uLFxuICAgICAgICAgICAgY3VycmVudCA9IGlzTWFueSA/IHN0YXJ0VmFsdWUubWFwKGZ1bmN0aW9uKF92YWx1ZSwgaSkge1xuICAgICAgICAgICAgICByZXR1cm4gZWFzaW5nKGN1cnJlbnRUaW1lLCBzdGFydFZhbHVlW2ldLCBieVZhbHVlW2ldLCBkdXJhdGlvbik7XG4gICAgICAgICAgICB9KSA6IGVhc2luZyhjdXJyZW50VGltZSwgc3RhcnRWYWx1ZSwgYnlWYWx1ZSwgZHVyYXRpb24pLFxuICAgICAgICAgICAgdmFsdWVQZXJjID0gaXNNYW55ID8gTWF0aC5hYnMoKGN1cnJlbnRbMF0gLSBzdGFydFZhbHVlWzBdKSAvIGJ5VmFsdWVbMF0pXG4gICAgICAgICAgICAgIDogTWF0aC5hYnMoKGN1cnJlbnQgLSBzdGFydFZhbHVlKSAvIGJ5VmFsdWUpO1xuICAgICAgICAvLyAgdXBkYXRlIGNvbnRleHRcbiAgICAgICAgY29udGV4dC5jdXJyZW50VmFsdWUgPSBpc01hbnkgPyBjdXJyZW50LnNsaWNlKCkgOiBjdXJyZW50O1xuICAgICAgICBjb250ZXh0LmNvbXBsZXRpb25SYXRlID0gdmFsdWVQZXJjO1xuICAgICAgICBjb250ZXh0LmR1cmF0aW9uUmF0ZSA9IHRpbWVQZXJjO1xuICAgICAgICBpZiAoY2FuY2VsKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhYm9ydChjdXJyZW50LCB2YWx1ZVBlcmMsIHRpbWVQZXJjKSkge1xuICAgICAgICAgIHJlbW92ZUZyb21SZWdpc3RyeSgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGltZSA+IGZpbmlzaCkge1xuICAgICAgICAgIC8vICB1cGRhdGUgY29udGV4dFxuICAgICAgICAgIGNvbnRleHQuY3VycmVudFZhbHVlID0gaXNNYW55ID8gZW5kVmFsdWUuc2xpY2UoKSA6IGVuZFZhbHVlO1xuICAgICAgICAgIGNvbnRleHQuY29tcGxldGlvblJhdGUgPSAxO1xuICAgICAgICAgIGNvbnRleHQuZHVyYXRpb25SYXRlID0gMTtcbiAgICAgICAgICAvLyAgZXhlY3V0ZSBjYWxsYmFja3NcbiAgICAgICAgICBvbkNoYW5nZShpc01hbnkgPyBlbmRWYWx1ZS5zbGljZSgpIDogZW5kVmFsdWUsIDEsIDEpO1xuICAgICAgICAgIG9uQ29tcGxldGUoZW5kVmFsdWUsIDEsIDEpO1xuICAgICAgICAgIHJlbW92ZUZyb21SZWdpc3RyeSgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBvbkNoYW5nZShjdXJyZW50LCB2YWx1ZVBlcmMsIHRpbWVQZXJjKTtcbiAgICAgICAgICByZXF1ZXN0QW5pbUZyYW1lKHRpY2spO1xuICAgICAgICB9XG4gICAgICB9KShzdGFydCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gY29udGV4dC5jYW5jZWw7XG4gIH1cblxuICB2YXIgX3JlcXVlc3RBbmltRnJhbWUgPSBmYWJyaWMud2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSAgICAgICB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmYWJyaWMud2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmYWJyaWMud2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSAgICB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmYWJyaWMud2luZG93Lm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWUgICAgICB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmYWJyaWMud2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lICAgICB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWJyaWMud2luZG93LnNldFRpbWVvdXQoY2FsbGJhY2ssIDEwMDAgLyA2MCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgdmFyIF9jYW5jZWxBbmltRnJhbWUgPSBmYWJyaWMud2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lIHx8IGZhYnJpYy53aW5kb3cuY2xlYXJUaW1lb3V0O1xuXG4gIC8qKlxuICAgKiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgcG9seWZpbGwgYmFzZWQgb24gaHR0cDovL3BhdWxpcmlzaC5jb20vMjAxMS9yZXF1ZXN0YW5pbWF0aW9uZnJhbWUtZm9yLXNtYXJ0LWFuaW1hdGluZy9cbiAgICogSW4gb3JkZXIgdG8gZ2V0IGEgcHJlY2lzZSBzdGFydCB0aW1lLCBgcmVxdWVzdEFuaW1GcmFtZWAgc2hvdWxkIGJlIGNhbGxlZCBhcyBhbiBlbnRyeSBpbnRvIHRoZSBtZXRob2RcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIENhbGxiYWNrIHRvIGludm9rZVxuICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgb3B0aW9uYWwgRWxlbWVudCB0byBhc3NvY2lhdGUgd2l0aCBhbmltYXRpb25cbiAgICovXG4gIGZ1bmN0aW9uIHJlcXVlc3RBbmltRnJhbWUoKSB7XG4gICAgcmV0dXJuIF9yZXF1ZXN0QW5pbUZyYW1lLmFwcGx5KGZhYnJpYy53aW5kb3csIGFyZ3VtZW50cyk7XG4gIH1cblxuICBmdW5jdGlvbiBjYW5jZWxBbmltRnJhbWUoKSB7XG4gICAgcmV0dXJuIF9jYW5jZWxBbmltRnJhbWUuYXBwbHkoZmFicmljLndpbmRvdywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIGZhYnJpYy51dGlsLmFuaW1hdGUgPSBhbmltYXRlO1xuICBmYWJyaWMudXRpbC5yZXF1ZXN0QW5pbUZyYW1lID0gcmVxdWVzdEFuaW1GcmFtZTtcbiAgZmFicmljLnV0aWwuY2FuY2VsQW5pbUZyYW1lID0gY2FuY2VsQW5pbUZyYW1lO1xuICBmYWJyaWMucnVubmluZ0FuaW1hdGlvbnMgPSBSVU5OSU5HX0FOSU1BVElPTlM7XG59KSgpO1xuXG5cbihmdW5jdGlvbigpIHtcbiAgLy8gQ2FsY3VsYXRlIGFuIGluLWJldHdlZW4gY29sb3IuIFJldHVybnMgYSBcInJnYmEoKVwiIHN0cmluZy5cbiAgLy8gQ3JlZGl0OiBFZHdpbiBNYXJ0aW4gPGVkd2luQGJpdHN0b3JtLm9yZz5cbiAgLy8gICAgICAgICBodHRwOi8vd3d3LmJpdHN0b3JtLm9yZy9qcXVlcnkvY29sb3ItYW5pbWF0aW9uL2pxdWVyeS5hbmltYXRlLWNvbG9ycy5qc1xuICBmdW5jdGlvbiBjYWxjdWxhdGVDb2xvcihiZWdpbiwgZW5kLCBwb3MpIHtcbiAgICB2YXIgY29sb3IgPSAncmdiYSgnXG4gICAgICAgICsgcGFyc2VJbnQoKGJlZ2luWzBdICsgcG9zICogKGVuZFswXSAtIGJlZ2luWzBdKSksIDEwKSArICcsJ1xuICAgICAgICArIHBhcnNlSW50KChiZWdpblsxXSArIHBvcyAqIChlbmRbMV0gLSBiZWdpblsxXSkpLCAxMCkgKyAnLCdcbiAgICAgICAgKyBwYXJzZUludCgoYmVnaW5bMl0gKyBwb3MgKiAoZW5kWzJdIC0gYmVnaW5bMl0pKSwgMTApO1xuXG4gICAgY29sb3IgKz0gJywnICsgKGJlZ2luICYmIGVuZCA/IHBhcnNlRmxvYXQoYmVnaW5bM10gKyBwb3MgKiAoZW5kWzNdIC0gYmVnaW5bM10pKSA6IDEpO1xuICAgIGNvbG9yICs9ICcpJztcbiAgICByZXR1cm4gY29sb3I7XG4gIH1cblxuICAvKipcbiAgICogQ2hhbmdlcyB0aGUgY29sb3IgZnJvbSBvbmUgdG8gYW5vdGhlciB3aXRoaW4gY2VydGFpbiBwZXJpb2Qgb2YgdGltZSwgaW52b2tpbmcgY2FsbGJhY2tzIGFzIHZhbHVlIGlzIGJlaW5nIGNoYW5nZWQuXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgKiBAcGFyYW0ge1N0cmluZ30gZnJvbUNvbG9yIFRoZSBzdGFydGluZyBjb2xvciBpbiBoZXggb3IgcmdiKGEpIGZvcm1hdC5cbiAgICogQHBhcmFtIHtTdHJpbmd9IHRvQ29sb3IgVGhlIHN0YXJ0aW5nIGNvbG9yIGluIGhleCBvciByZ2IoYSkgZm9ybWF0LlxuICAgKiBAcGFyYW0ge051bWJlcn0gW2R1cmF0aW9uXSBEdXJhdGlvbiBvZiBjaGFuZ2UgKGluIG1zKS5cbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBBbmltYXRpb24gb3B0aW9uc1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb3B0aW9ucy5vbkNoYW5nZV0gQ2FsbGJhY2s7IGludm9rZWQgb24gZXZlcnkgdmFsdWUgY2hhbmdlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRpb25zLm9uQ29tcGxldGVdIENhbGxiYWNrOyBpbnZva2VkIHdoZW4gdmFsdWUgY2hhbmdlIGlzIGNvbXBsZXRlZFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb3B0aW9ucy5jb2xvckVhc2luZ10gRWFzaW5nIGZ1bmN0aW9uLiBOb3RlIHRoYXQgdGhpcyBmdW5jdGlvbiBvbmx5IHRha2UgdHdvIGFyZ3VtZW50cyAoY3VycmVudFRpbWUsIGR1cmF0aW9uKS4gVGh1cyB0aGUgcmVndWxhciBhbmltYXRpb24gZWFzaW5nIGZ1bmN0aW9ucyBjYW5ub3QgYmUgdXNlZC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMuYWJvcnRdIEFkZGl0aW9uYWwgZnVuY3Rpb24gd2l0aCBsb2dpYy4gSWYgcmV0dXJucyB0cnVlLCBvbkNvbXBsZXRlIGlzIGNhbGxlZC5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBhYm9ydCBmdW5jdGlvblxuICAgKi9cbiAgZnVuY3Rpb24gYW5pbWF0ZUNvbG9yKGZyb21Db2xvciwgdG9Db2xvciwgZHVyYXRpb24sIG9wdGlvbnMpIHtcbiAgICB2YXIgc3RhcnRDb2xvciA9IG5ldyBmYWJyaWMuQ29sb3IoZnJvbUNvbG9yKS5nZXRTb3VyY2UoKSxcbiAgICAgICAgZW5kQ29sb3IgPSBuZXcgZmFicmljLkNvbG9yKHRvQ29sb3IpLmdldFNvdXJjZSgpLFxuICAgICAgICBvcmlnaW5hbE9uQ29tcGxldGUgPSBvcHRpb25zLm9uQ29tcGxldGUsXG4gICAgICAgIG9yaWdpbmFsT25DaGFuZ2UgPSBvcHRpb25zLm9uQ2hhbmdlO1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgcmV0dXJuIGZhYnJpYy51dGlsLmFuaW1hdGUoZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZChvcHRpb25zLCB7XG4gICAgICBkdXJhdGlvbjogZHVyYXRpb24gfHwgNTAwLFxuICAgICAgc3RhcnRWYWx1ZTogc3RhcnRDb2xvcixcbiAgICAgIGVuZFZhbHVlOiBlbmRDb2xvcixcbiAgICAgIGJ5VmFsdWU6IGVuZENvbG9yLFxuICAgICAgZWFzaW5nOiBmdW5jdGlvbiAoY3VycmVudFRpbWUsIHN0YXJ0VmFsdWUsIGJ5VmFsdWUsIGR1cmF0aW9uKSB7XG4gICAgICAgIHZhciBwb3NWYWx1ZSA9IG9wdGlvbnMuY29sb3JFYXNpbmdcbiAgICAgICAgICA/IG9wdGlvbnMuY29sb3JFYXNpbmcoY3VycmVudFRpbWUsIGR1cmF0aW9uKVxuICAgICAgICAgIDogMSAtIE1hdGguY29zKGN1cnJlbnRUaW1lIC8gZHVyYXRpb24gKiAoTWF0aC5QSSAvIDIpKTtcbiAgICAgICAgcmV0dXJuIGNhbGN1bGF0ZUNvbG9yKHN0YXJ0VmFsdWUsIGJ5VmFsdWUsIHBvc1ZhbHVlKTtcbiAgICAgIH0sXG4gICAgICAvLyBoYXMgdG8gdGFrZSBpbiBhY2NvdW50IGZvciBjb2xvciByZXN0b3Jpbmc7XG4gICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbihjdXJyZW50LCB2YWx1ZVBlcmMsIHRpbWVQZXJjKSB7XG4gICAgICAgIGlmIChvcmlnaW5hbE9uQ29tcGxldGUpIHtcbiAgICAgICAgICByZXR1cm4gb3JpZ2luYWxPbkNvbXBsZXRlKFxuICAgICAgICAgICAgY2FsY3VsYXRlQ29sb3IoZW5kQ29sb3IsIGVuZENvbG9yLCAwKSxcbiAgICAgICAgICAgIHZhbHVlUGVyYyxcbiAgICAgICAgICAgIHRpbWVQZXJjXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbihjdXJyZW50LCB2YWx1ZVBlcmMsIHRpbWVQZXJjKSB7XG4gICAgICAgIGlmIChvcmlnaW5hbE9uQ2hhbmdlKSB7XG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY3VycmVudCkpIHtcbiAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbE9uQ2hhbmdlKFxuICAgICAgICAgICAgICBjYWxjdWxhdGVDb2xvcihjdXJyZW50LCBjdXJyZW50LCAwKSxcbiAgICAgICAgICAgICAgdmFsdWVQZXJjLFxuICAgICAgICAgICAgICB0aW1lUGVyY1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgb3JpZ2luYWxPbkNoYW5nZShjdXJyZW50LCB2YWx1ZVBlcmMsIHRpbWVQZXJjKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pKTtcbiAgfVxuXG4gIGZhYnJpYy51dGlsLmFuaW1hdGVDb2xvciA9IGFuaW1hdGVDb2xvcjtcblxufSkoKTtcblxuXG4oZnVuY3Rpb24oKSB7XG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplKGEsIGMsIHAsIHMpIHtcbiAgICBpZiAoYSA8IE1hdGguYWJzKGMpKSB7XG4gICAgICBhID0gYztcbiAgICAgIHMgPSBwIC8gNDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAvL2hhbmRsZSB0aGUgMC8wIGNhc2U6XG4gICAgICBpZiAoYyA9PT0gMCAmJiBhID09PSAwKSB7XG4gICAgICAgIHMgPSBwIC8gKDIgKiBNYXRoLlBJKSAqIE1hdGguYXNpbigxKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBzID0gcCAvICgyICogTWF0aC5QSSkgKiBNYXRoLmFzaW4oYyAvIGEpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyBhOiBhLCBjOiBjLCBwOiBwLCBzOiBzIH07XG4gIH1cblxuICBmdW5jdGlvbiBlbGFzdGljKG9wdHMsIHQsIGQpIHtcbiAgICByZXR1cm4gb3B0cy5hICpcbiAgICAgIE1hdGgucG93KDIsIDEwICogKHQgLT0gMSkpICpcbiAgICAgIE1hdGguc2luKCAodCAqIGQgLSBvcHRzLnMpICogKDIgKiBNYXRoLlBJKSAvIG9wdHMucCApO1xuICB9XG5cbiAgLyoqXG4gICAqIEN1YmljIGVhc2luZyBvdXRcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmVhc2VcbiAgICovXG4gIGZ1bmN0aW9uIGVhc2VPdXRDdWJpYyh0LCBiLCBjLCBkKSB7XG4gICAgcmV0dXJuIGMgKiAoKHQgPSB0IC8gZCAtIDEpICogdCAqIHQgKyAxKSArIGI7XG4gIH1cblxuICAvKipcbiAgICogQ3ViaWMgZWFzaW5nIGluIGFuZCBvdXRcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmVhc2VcbiAgICovXG4gIGZ1bmN0aW9uIGVhc2VJbk91dEN1YmljKHQsIGIsIGMsIGQpIHtcbiAgICB0IC89IGQgLyAyO1xuICAgIGlmICh0IDwgMSkge1xuICAgICAgcmV0dXJuIGMgLyAyICogdCAqIHQgKiB0ICsgYjtcbiAgICB9XG4gICAgcmV0dXJuIGMgLyAyICogKCh0IC09IDIpICogdCAqIHQgKyAyKSArIGI7XG4gIH1cblxuICAvKipcbiAgICogUXVhcnRpYyBlYXNpbmcgaW5cbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmVhc2VcbiAgICovXG4gIGZ1bmN0aW9uIGVhc2VJblF1YXJ0KHQsIGIsIGMsIGQpIHtcbiAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqIHQgKiB0ICsgYjtcbiAgfVxuXG4gIC8qKlxuICAgKiBRdWFydGljIGVhc2luZyBvdXRcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmVhc2VcbiAgICovXG4gIGZ1bmN0aW9uIGVhc2VPdXRRdWFydCh0LCBiLCBjLCBkKSB7XG4gICAgcmV0dXJuIC1jICogKCh0ID0gdCAvIGQgLSAxKSAqIHQgKiB0ICogdCAtIDEpICsgYjtcbiAgfVxuXG4gIC8qKlxuICAgKiBRdWFydGljIGVhc2luZyBpbiBhbmQgb3V0XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5lYXNlXG4gICAqL1xuICBmdW5jdGlvbiBlYXNlSW5PdXRRdWFydCh0LCBiLCBjLCBkKSB7XG4gICAgdCAvPSBkIC8gMjtcbiAgICBpZiAodCA8IDEpIHtcbiAgICAgIHJldHVybiBjIC8gMiAqIHQgKiB0ICogdCAqIHQgKyBiO1xuICAgIH1cbiAgICByZXR1cm4gLWMgLyAyICogKCh0IC09IDIpICogdCAqIHQgKiB0IC0gMikgKyBiO1xuICB9XG5cbiAgLyoqXG4gICAqIFF1aW50aWMgZWFzaW5nIGluXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5lYXNlXG4gICAqL1xuICBmdW5jdGlvbiBlYXNlSW5RdWludCh0LCBiLCBjLCBkKSB7XG4gICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiB0ICogdCAqIHQgKyBiO1xuICB9XG5cbiAgLyoqXG4gICAqIFF1aW50aWMgZWFzaW5nIG91dFxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgKi9cbiAgZnVuY3Rpb24gZWFzZU91dFF1aW50KHQsIGIsIGMsIGQpIHtcbiAgICByZXR1cm4gYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogdCAqIHQgKiB0ICsgMSkgKyBiO1xuICB9XG5cbiAgLyoqXG4gICAqIFF1aW50aWMgZWFzaW5nIGluIGFuZCBvdXRcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmVhc2VcbiAgICovXG4gIGZ1bmN0aW9uIGVhc2VJbk91dFF1aW50KHQsIGIsIGMsIGQpIHtcbiAgICB0IC89IGQgLyAyO1xuICAgIGlmICh0IDwgMSkge1xuICAgICAgcmV0dXJuIGMgLyAyICogdCAqIHQgKiB0ICogdCAqIHQgKyBiO1xuICAgIH1cbiAgICByZXR1cm4gYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogdCAqIHQgKiB0ICsgMikgKyBiO1xuICB9XG5cbiAgLyoqXG4gICAqIFNpbnVzb2lkYWwgZWFzaW5nIGluXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5lYXNlXG4gICAqL1xuICBmdW5jdGlvbiBlYXNlSW5TaW5lKHQsIGIsIGMsIGQpIHtcbiAgICByZXR1cm4gLWMgKiBNYXRoLmNvcyh0IC8gZCAqIChNYXRoLlBJIC8gMikpICsgYyArIGI7XG4gIH1cblxuICAvKipcbiAgICogU2ludXNvaWRhbCBlYXNpbmcgb3V0XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5lYXNlXG4gICAqL1xuICBmdW5jdGlvbiBlYXNlT3V0U2luZSh0LCBiLCBjLCBkKSB7XG4gICAgcmV0dXJuIGMgKiBNYXRoLnNpbih0IC8gZCAqIChNYXRoLlBJIC8gMikpICsgYjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaW51c29pZGFsIGVhc2luZyBpbiBhbmQgb3V0XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5lYXNlXG4gICAqL1xuICBmdW5jdGlvbiBlYXNlSW5PdXRTaW5lKHQsIGIsIGMsIGQpIHtcbiAgICByZXR1cm4gLWMgLyAyICogKE1hdGguY29zKE1hdGguUEkgKiB0IC8gZCkgLSAxKSArIGI7XG4gIH1cblxuICAvKipcbiAgICogRXhwb25lbnRpYWwgZWFzaW5nIGluXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5lYXNlXG4gICAqL1xuICBmdW5jdGlvbiBlYXNlSW5FeHBvKHQsIGIsIGMsIGQpIHtcbiAgICByZXR1cm4gKHQgPT09IDApID8gYiA6IGMgKiBNYXRoLnBvdygyLCAxMCAqICh0IC8gZCAtIDEpKSArIGI7XG4gIH1cblxuICAvKipcbiAgICogRXhwb25lbnRpYWwgZWFzaW5nIG91dFxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgKi9cbiAgZnVuY3Rpb24gZWFzZU91dEV4cG8odCwgYiwgYywgZCkge1xuICAgIHJldHVybiAodCA9PT0gZCkgPyBiICsgYyA6IGMgKiAoLU1hdGgucG93KDIsIC0xMCAqIHQgLyBkKSArIDEpICsgYjtcbiAgfVxuXG4gIC8qKlxuICAgKiBFeHBvbmVudGlhbCBlYXNpbmcgaW4gYW5kIG91dFxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgKi9cbiAgZnVuY3Rpb24gZWFzZUluT3V0RXhwbyh0LCBiLCBjLCBkKSB7XG4gICAgaWYgKHQgPT09IDApIHtcbiAgICAgIHJldHVybiBiO1xuICAgIH1cbiAgICBpZiAodCA9PT0gZCkge1xuICAgICAgcmV0dXJuIGIgKyBjO1xuICAgIH1cbiAgICB0IC89IGQgLyAyO1xuICAgIGlmICh0IDwgMSkge1xuICAgICAgcmV0dXJuIGMgLyAyICogTWF0aC5wb3coMiwgMTAgKiAodCAtIDEpKSArIGI7XG4gICAgfVxuICAgIHJldHVybiBjIC8gMiAqICgtTWF0aC5wb3coMiwgLTEwICogLS10KSArIDIpICsgYjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaXJjdWxhciBlYXNpbmcgaW5cbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmVhc2VcbiAgICovXG4gIGZ1bmN0aW9uIGVhc2VJbkNpcmModCwgYiwgYywgZCkge1xuICAgIHJldHVybiAtYyAqIChNYXRoLnNxcnQoMSAtICh0IC89IGQpICogdCkgLSAxKSArIGI7XG4gIH1cblxuICAvKipcbiAgICogQ2lyY3VsYXIgZWFzaW5nIG91dFxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgKi9cbiAgZnVuY3Rpb24gZWFzZU91dENpcmModCwgYiwgYywgZCkge1xuICAgIHJldHVybiBjICogTWF0aC5zcXJ0KDEgLSAodCA9IHQgLyBkIC0gMSkgKiB0KSArIGI7XG4gIH1cblxuICAvKipcbiAgICogQ2lyY3VsYXIgZWFzaW5nIGluIGFuZCBvdXRcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmVhc2VcbiAgICovXG4gIGZ1bmN0aW9uIGVhc2VJbk91dENpcmModCwgYiwgYywgZCkge1xuICAgIHQgLz0gZCAvIDI7XG4gICAgaWYgKHQgPCAxKSB7XG4gICAgICByZXR1cm4gLWMgLyAyICogKE1hdGguc3FydCgxIC0gdCAqIHQpIC0gMSkgKyBiO1xuICAgIH1cbiAgICByZXR1cm4gYyAvIDIgKiAoTWF0aC5zcXJ0KDEgLSAodCAtPSAyKSAqIHQpICsgMSkgKyBiO1xuICB9XG5cbiAgLyoqXG4gICAqIEVsYXN0aWMgZWFzaW5nIGluXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5lYXNlXG4gICAqL1xuICBmdW5jdGlvbiBlYXNlSW5FbGFzdGljKHQsIGIsIGMsIGQpIHtcbiAgICB2YXIgcyA9IDEuNzAxNTgsIHAgPSAwLCBhID0gYztcbiAgICBpZiAodCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGI7XG4gICAgfVxuICAgIHQgLz0gZDtcbiAgICBpZiAodCA9PT0gMSkge1xuICAgICAgcmV0dXJuIGIgKyBjO1xuICAgIH1cbiAgICBpZiAoIXApIHtcbiAgICAgIHAgPSBkICogMC4zO1xuICAgIH1cbiAgICB2YXIgb3B0cyA9IG5vcm1hbGl6ZShhLCBjLCBwLCBzKTtcbiAgICByZXR1cm4gLWVsYXN0aWMob3B0cywgdCwgZCkgKyBiO1xuICB9XG5cbiAgLyoqXG4gICAqIEVsYXN0aWMgZWFzaW5nIG91dFxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgKi9cbiAgZnVuY3Rpb24gZWFzZU91dEVsYXN0aWModCwgYiwgYywgZCkge1xuICAgIHZhciBzID0gMS43MDE1OCwgcCA9IDAsIGEgPSBjO1xuICAgIGlmICh0ID09PSAwKSB7XG4gICAgICByZXR1cm4gYjtcbiAgICB9XG4gICAgdCAvPSBkO1xuICAgIGlmICh0ID09PSAxKSB7XG4gICAgICByZXR1cm4gYiArIGM7XG4gICAgfVxuICAgIGlmICghcCkge1xuICAgICAgcCA9IGQgKiAwLjM7XG4gICAgfVxuICAgIHZhciBvcHRzID0gbm9ybWFsaXplKGEsIGMsIHAsIHMpO1xuICAgIHJldHVybiBvcHRzLmEgKiBNYXRoLnBvdygyLCAtMTAgKiB0KSAqIE1hdGguc2luKCh0ICogZCAtIG9wdHMucykgKiAoMiAqIE1hdGguUEkpIC8gb3B0cy5wICkgKyBvcHRzLmMgKyBiO1xuICB9XG5cbiAgLyoqXG4gICAqIEVsYXN0aWMgZWFzaW5nIGluIGFuZCBvdXRcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmVhc2VcbiAgICovXG4gIGZ1bmN0aW9uIGVhc2VJbk91dEVsYXN0aWModCwgYiwgYywgZCkge1xuICAgIHZhciBzID0gMS43MDE1OCwgcCA9IDAsIGEgPSBjO1xuICAgIGlmICh0ID09PSAwKSB7XG4gICAgICByZXR1cm4gYjtcbiAgICB9XG4gICAgdCAvPSBkIC8gMjtcbiAgICBpZiAodCA9PT0gMikge1xuICAgICAgcmV0dXJuIGIgKyBjO1xuICAgIH1cbiAgICBpZiAoIXApIHtcbiAgICAgIHAgPSBkICogKDAuMyAqIDEuNSk7XG4gICAgfVxuICAgIHZhciBvcHRzID0gbm9ybWFsaXplKGEsIGMsIHAsIHMpO1xuICAgIGlmICh0IDwgMSkge1xuICAgICAgcmV0dXJuIC0wLjUgKiBlbGFzdGljKG9wdHMsIHQsIGQpICsgYjtcbiAgICB9XG4gICAgcmV0dXJuIG9wdHMuYSAqIE1hdGgucG93KDIsIC0xMCAqICh0IC09IDEpKSAqXG4gICAgICBNYXRoLnNpbigodCAqIGQgLSBvcHRzLnMpICogKDIgKiBNYXRoLlBJKSAvIG9wdHMucCApICogMC41ICsgb3B0cy5jICsgYjtcbiAgfVxuXG4gIC8qKlxuICAgKiBCYWNrd2FyZHMgZWFzaW5nIGluXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5lYXNlXG4gICAqL1xuICBmdW5jdGlvbiBlYXNlSW5CYWNrKHQsIGIsIGMsIGQsIHMpIHtcbiAgICBpZiAocyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBzID0gMS43MDE1ODtcbiAgICB9XG4gICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiAoKHMgKyAxKSAqIHQgLSBzKSArIGI7XG4gIH1cblxuICAvKipcbiAgICogQmFja3dhcmRzIGVhc2luZyBvdXRcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmVhc2VcbiAgICovXG4gIGZ1bmN0aW9uIGVhc2VPdXRCYWNrKHQsIGIsIGMsIGQsIHMpIHtcbiAgICBpZiAocyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBzID0gMS43MDE1ODtcbiAgICB9XG4gICAgcmV0dXJuIGMgKiAoKHQgPSB0IC8gZCAtIDEpICogdCAqICgocyArIDEpICogdCArIHMpICsgMSkgKyBiO1xuICB9XG5cbiAgLyoqXG4gICAqIEJhY2t3YXJkcyBlYXNpbmcgaW4gYW5kIG91dFxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgKi9cbiAgZnVuY3Rpb24gZWFzZUluT3V0QmFjayh0LCBiLCBjLCBkLCBzKSB7XG4gICAgaWYgKHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcyA9IDEuNzAxNTg7XG4gICAgfVxuICAgIHQgLz0gZCAvIDI7XG4gICAgaWYgKHQgPCAxKSB7XG4gICAgICByZXR1cm4gYyAvIDIgKiAodCAqIHQgKiAoKChzICo9ICgxLjUyNSkpICsgMSkgKiB0IC0gcykpICsgYjtcbiAgICB9XG4gICAgcmV0dXJuIGMgLyAyICogKCh0IC09IDIpICogdCAqICgoKHMgKj0gKDEuNTI1KSkgKyAxKSAqIHQgKyBzKSArIDIpICsgYjtcbiAgfVxuXG4gIC8qKlxuICAgKiBCb3VuY2luZyBlYXNpbmcgaW5cbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmVhc2VcbiAgICovXG4gIGZ1bmN0aW9uIGVhc2VJbkJvdW5jZSh0LCBiLCBjLCBkKSB7XG4gICAgcmV0dXJuIGMgLSBlYXNlT3V0Qm91bmNlIChkIC0gdCwgMCwgYywgZCkgKyBiO1xuICB9XG5cbiAgLyoqXG4gICAqIEJvdW5jaW5nIGVhc2luZyBvdXRcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmVhc2VcbiAgICovXG4gIGZ1bmN0aW9uIGVhc2VPdXRCb3VuY2UodCwgYiwgYywgZCkge1xuICAgIGlmICgodCAvPSBkKSA8ICgxIC8gMi43NSkpIHtcbiAgICAgIHJldHVybiBjICogKDcuNTYyNSAqIHQgKiB0KSArIGI7XG4gICAgfVxuICAgIGVsc2UgaWYgKHQgPCAoMiAvIDIuNzUpKSB7XG4gICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiAodCAtPSAoMS41IC8gMi43NSkpICogdCArIDAuNzUpICsgYjtcbiAgICB9XG4gICAgZWxzZSBpZiAodCA8ICgyLjUgLyAyLjc1KSkge1xuICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogKHQgLT0gKDIuMjUgLyAyLjc1KSkgKiB0ICsgMC45Mzc1KSArIGI7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogKHQgLT0gKDIuNjI1IC8gMi43NSkpICogdCArIDAuOTg0Mzc1KSArIGI7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEJvdW5jaW5nIGVhc2luZyBpbiBhbmQgb3V0XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5lYXNlXG4gICAqL1xuICBmdW5jdGlvbiBlYXNlSW5PdXRCb3VuY2UodCwgYiwgYywgZCkge1xuICAgIGlmICh0IDwgZCAvIDIpIHtcbiAgICAgIHJldHVybiBlYXNlSW5Cb3VuY2UgKHQgKiAyLCAwLCBjLCBkKSAqIDAuNSArIGI7XG4gICAgfVxuICAgIHJldHVybiBlYXNlT3V0Qm91bmNlKHQgKiAyIC0gZCwgMCwgYywgZCkgKiAwLjUgKyBjICogMC41ICsgYjtcbiAgfVxuXG4gIC8qKlxuICAgKiBFYXNpbmcgZnVuY3Rpb25zXG4gICAqIFNlZSA8YSBocmVmPVwiaHR0cDovL2dpem1hLmNvbS9lYXNpbmcvXCI+RWFzaW5nIEVxdWF0aW9ucyBieSBSb2JlcnQgUGVubmVyPC9hPlxuICAgKiBAbmFtZXNwYWNlIGZhYnJpYy51dGlsLmVhc2VcbiAgICovXG4gIGZhYnJpYy51dGlsLmVhc2UgPSB7XG5cbiAgICAvKipcbiAgICAgKiBRdWFkcmF0aWMgZWFzaW5nIGluXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmVhc2VcbiAgICAgKi9cbiAgICBlYXNlSW5RdWFkOiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCArIGI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFF1YWRyYXRpYyBlYXNpbmcgb3V0XG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmVhc2VcbiAgICAgKi9cbiAgICBlYXNlT3V0UXVhZDogZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgcmV0dXJuIC1jICogKHQgLz0gZCkgKiAodCAtIDIpICsgYjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUXVhZHJhdGljIGVhc2luZyBpbiBhbmQgb3V0XG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmVhc2VcbiAgICAgKi9cbiAgICBlYXNlSW5PdXRRdWFkOiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICB0IC89IChkIC8gMik7XG4gICAgICBpZiAodCA8IDEpIHtcbiAgICAgICAgcmV0dXJuIGMgLyAyICogdCAqIHQgKyBiO1xuICAgICAgfVxuICAgICAgcmV0dXJuIC1jIC8gMiAqICgoLS10KSAqICh0IC0gMikgLSAxKSArIGI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEN1YmljIGVhc2luZyBpblxuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5lYXNlXG4gICAgICovXG4gICAgZWFzZUluQ3ViaWM6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICogdCArIGI7XG4gICAgfSxcblxuICAgIGVhc2VPdXRDdWJpYzogZWFzZU91dEN1YmljLFxuICAgIGVhc2VJbk91dEN1YmljOiBlYXNlSW5PdXRDdWJpYyxcbiAgICBlYXNlSW5RdWFydDogZWFzZUluUXVhcnQsXG4gICAgZWFzZU91dFF1YXJ0OiBlYXNlT3V0UXVhcnQsXG4gICAgZWFzZUluT3V0UXVhcnQ6IGVhc2VJbk91dFF1YXJ0LFxuICAgIGVhc2VJblF1aW50OiBlYXNlSW5RdWludCxcbiAgICBlYXNlT3V0UXVpbnQ6IGVhc2VPdXRRdWludCxcbiAgICBlYXNlSW5PdXRRdWludDogZWFzZUluT3V0UXVpbnQsXG4gICAgZWFzZUluU2luZTogZWFzZUluU2luZSxcbiAgICBlYXNlT3V0U2luZTogZWFzZU91dFNpbmUsXG4gICAgZWFzZUluT3V0U2luZTogZWFzZUluT3V0U2luZSxcbiAgICBlYXNlSW5FeHBvOiBlYXNlSW5FeHBvLFxuICAgIGVhc2VPdXRFeHBvOiBlYXNlT3V0RXhwbyxcbiAgICBlYXNlSW5PdXRFeHBvOiBlYXNlSW5PdXRFeHBvLFxuICAgIGVhc2VJbkNpcmM6IGVhc2VJbkNpcmMsXG4gICAgZWFzZU91dENpcmM6IGVhc2VPdXRDaXJjLFxuICAgIGVhc2VJbk91dENpcmM6IGVhc2VJbk91dENpcmMsXG4gICAgZWFzZUluRWxhc3RpYzogZWFzZUluRWxhc3RpYyxcbiAgICBlYXNlT3V0RWxhc3RpYzogZWFzZU91dEVsYXN0aWMsXG4gICAgZWFzZUluT3V0RWxhc3RpYzogZWFzZUluT3V0RWxhc3RpYyxcbiAgICBlYXNlSW5CYWNrOiBlYXNlSW5CYWNrLFxuICAgIGVhc2VPdXRCYWNrOiBlYXNlT3V0QmFjayxcbiAgICBlYXNlSW5PdXRCYWNrOiBlYXNlSW5PdXRCYWNrLFxuICAgIGVhc2VJbkJvdW5jZTogZWFzZUluQm91bmNlLFxuICAgIGVhc2VPdXRCb3VuY2U6IGVhc2VPdXRCb3VuY2UsXG4gICAgZWFzZUluT3V0Qm91bmNlOiBlYXNlSW5PdXRCb3VuY2VcbiAgfTtcblxufSkoKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAgKiBAbmFtZSBmYWJyaWNcbiAgICogQG5hbWVzcGFjZVxuICAgKi9cblxuICB2YXIgZmFicmljID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSksXG4gICAgICBleHRlbmQgPSBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kLFxuICAgICAgY2xvbmUgPSBmYWJyaWMudXRpbC5vYmplY3QuY2xvbmUsXG4gICAgICB0b0ZpeGVkID0gZmFicmljLnV0aWwudG9GaXhlZCxcbiAgICAgIHBhcnNlVW5pdCA9IGZhYnJpYy51dGlsLnBhcnNlVW5pdCxcbiAgICAgIG11bHRpcGx5VHJhbnNmb3JtTWF0cmljZXMgPSBmYWJyaWMudXRpbC5tdWx0aXBseVRyYW5zZm9ybU1hdHJpY2VzLFxuXG4gICAgICBzdmdWYWxpZFRhZ05hbWVzID0gWydwYXRoJywgJ2NpcmNsZScsICdwb2x5Z29uJywgJ3BvbHlsaW5lJywgJ2VsbGlwc2UnLCAncmVjdCcsICdsaW5lJyxcbiAgICAgICAgJ2ltYWdlJywgJ3RleHQnXSxcbiAgICAgIHN2Z1ZpZXdCb3hFbGVtZW50cyA9IFsnc3ltYm9sJywgJ2ltYWdlJywgJ21hcmtlcicsICdwYXR0ZXJuJywgJ3ZpZXcnLCAnc3ZnJ10sXG4gICAgICBzdmdJbnZhbGlkQW5jZXN0b3JzID0gWydwYXR0ZXJuJywgJ2RlZnMnLCAnc3ltYm9sJywgJ21ldGFkYXRhJywgJ2NsaXBQYXRoJywgJ21hc2snLCAnZGVzYyddLFxuICAgICAgc3ZnVmFsaWRQYXJlbnRzID0gWydzeW1ib2wnLCAnZycsICdhJywgJ3N2ZycsICdjbGlwUGF0aCcsICdkZWZzJ10sXG5cbiAgICAgIGF0dHJpYnV0ZXNNYXAgPSB7XG4gICAgICAgIGN4OiAgICAgICAgICAgICAgICAgICAnbGVmdCcsXG4gICAgICAgIHg6ICAgICAgICAgICAgICAgICAgICAnbGVmdCcsXG4gICAgICAgIHI6ICAgICAgICAgICAgICAgICAgICAncmFkaXVzJyxcbiAgICAgICAgY3k6ICAgICAgICAgICAgICAgICAgICd0b3AnLFxuICAgICAgICB5OiAgICAgICAgICAgICAgICAgICAgJ3RvcCcsXG4gICAgICAgIGRpc3BsYXk6ICAgICAgICAgICAgICAndmlzaWJsZScsXG4gICAgICAgIHZpc2liaWxpdHk6ICAgICAgICAgICAndmlzaWJsZScsXG4gICAgICAgIHRyYW5zZm9ybTogICAgICAgICAgICAndHJhbnNmb3JtTWF0cml4JyxcbiAgICAgICAgJ2ZpbGwtb3BhY2l0eSc6ICAgICAgICdmaWxsT3BhY2l0eScsXG4gICAgICAgICdmaWxsLXJ1bGUnOiAgICAgICAgICAnZmlsbFJ1bGUnLFxuICAgICAgICAnZm9udC1mYW1pbHknOiAgICAgICAgJ2ZvbnRGYW1pbHknLFxuICAgICAgICAnZm9udC1zaXplJzogICAgICAgICAgJ2ZvbnRTaXplJyxcbiAgICAgICAgJ2ZvbnQtc3R5bGUnOiAgICAgICAgICdmb250U3R5bGUnLFxuICAgICAgICAnZm9udC13ZWlnaHQnOiAgICAgICAgJ2ZvbnRXZWlnaHQnLFxuICAgICAgICAnbGV0dGVyLXNwYWNpbmcnOiAgICAgJ2NoYXJTcGFjaW5nJyxcbiAgICAgICAgJ3BhaW50LW9yZGVyJzogICAgICAgICdwYWludEZpcnN0JyxcbiAgICAgICAgJ3N0cm9rZS1kYXNoYXJyYXknOiAgICdzdHJva2VEYXNoQXJyYXknLFxuICAgICAgICAnc3Ryb2tlLWRhc2hvZmZzZXQnOiAgJ3N0cm9rZURhc2hPZmZzZXQnLFxuICAgICAgICAnc3Ryb2tlLWxpbmVjYXAnOiAgICAgJ3N0cm9rZUxpbmVDYXAnLFxuICAgICAgICAnc3Ryb2tlLWxpbmVqb2luJzogICAgJ3N0cm9rZUxpbmVKb2luJyxcbiAgICAgICAgJ3N0cm9rZS1taXRlcmxpbWl0JzogICdzdHJva2VNaXRlckxpbWl0JyxcbiAgICAgICAgJ3N0cm9rZS1vcGFjaXR5JzogICAgICdzdHJva2VPcGFjaXR5JyxcbiAgICAgICAgJ3N0cm9rZS13aWR0aCc6ICAgICAgICdzdHJva2VXaWR0aCcsXG4gICAgICAgICd0ZXh0LWRlY29yYXRpb24nOiAgICAndGV4dERlY29yYXRpb24nLFxuICAgICAgICAndGV4dC1hbmNob3InOiAgICAgICAgJ3RleHRBbmNob3InLFxuICAgICAgICBvcGFjaXR5OiAgICAgICAgICAgICAgJ29wYWNpdHknLFxuICAgICAgICAnY2xpcC1wYXRoJzogICAgICAgICAgJ2NsaXBQYXRoJyxcbiAgICAgICAgJ2NsaXAtcnVsZSc6ICAgICAgICAgICdjbGlwUnVsZScsXG4gICAgICAgICd2ZWN0b3ItZWZmZWN0JzogICAgICAnc3Ryb2tlVW5pZm9ybScsXG4gICAgICAgICdpbWFnZS1yZW5kZXJpbmcnOiAgICAnaW1hZ2VTbW9vdGhpbmcnLFxuICAgICAgfSxcblxuICAgICAgY29sb3JBdHRyaWJ1dGVzID0ge1xuICAgICAgICBzdHJva2U6ICdzdHJva2VPcGFjaXR5JyxcbiAgICAgICAgZmlsbDogICAnZmlsbE9wYWNpdHknXG4gICAgICB9LFxuXG4gICAgICBmU2l6ZSA9ICdmb250LXNpemUnLCBjUGF0aCA9ICdjbGlwLXBhdGgnO1xuXG4gIGZhYnJpYy5zdmdWYWxpZFRhZ05hbWVzUmVnRXggPSBnZXRTdmdSZWdleChzdmdWYWxpZFRhZ05hbWVzKTtcbiAgZmFicmljLnN2Z1ZpZXdCb3hFbGVtZW50c1JlZ0V4ID0gZ2V0U3ZnUmVnZXgoc3ZnVmlld0JveEVsZW1lbnRzKTtcbiAgZmFicmljLnN2Z0ludmFsaWRBbmNlc3RvcnNSZWdFeCA9IGdldFN2Z1JlZ2V4KHN2Z0ludmFsaWRBbmNlc3RvcnMpO1xuICBmYWJyaWMuc3ZnVmFsaWRQYXJlbnRzUmVnRXggPSBnZXRTdmdSZWdleChzdmdWYWxpZFBhcmVudHMpO1xuXG4gIGZhYnJpYy5jc3NSdWxlcyA9IHsgfTtcbiAgZmFicmljLmdyYWRpZW50RGVmcyA9IHsgfTtcbiAgZmFicmljLmNsaXBQYXRocyA9IHsgfTtcblxuICBmdW5jdGlvbiBub3JtYWxpemVBdHRyKGF0dHIpIHtcbiAgICAvLyB0cmFuc2Zvcm0gYXR0cmlidXRlIG5hbWVzXG4gICAgaWYgKGF0dHIgaW4gYXR0cmlidXRlc01hcCkge1xuICAgICAgcmV0dXJuIGF0dHJpYnV0ZXNNYXBbYXR0cl07XG4gICAgfVxuICAgIHJldHVybiBhdHRyO1xuICB9XG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplVmFsdWUoYXR0ciwgdmFsdWUsIHBhcmVudEF0dHJpYnV0ZXMsIGZvbnRTaXplKSB7XG4gICAgdmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5KHZhbHVlKSwgcGFyc2VkO1xuXG4gICAgaWYgKChhdHRyID09PSAnZmlsbCcgfHwgYXR0ciA9PT0gJ3N0cm9rZScpICYmIHZhbHVlID09PSAnbm9uZScpIHtcbiAgICAgIHZhbHVlID0gJyc7XG4gICAgfVxuICAgIGVsc2UgaWYgKGF0dHIgPT09ICdzdHJva2VVbmlmb3JtJykge1xuICAgICAgcmV0dXJuICh2YWx1ZSA9PT0gJ25vbi1zY2FsaW5nLXN0cm9rZScpO1xuICAgIH1cbiAgICBlbHNlIGlmIChhdHRyID09PSAnc3Ryb2tlRGFzaEFycmF5Jykge1xuICAgICAgaWYgKHZhbHVlID09PSAnbm9uZScpIHtcbiAgICAgICAgdmFsdWUgPSBudWxsO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvLC9nLCAnICcpLnNwbGl0KC9cXHMrLykubWFwKHBhcnNlRmxvYXQpO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChhdHRyID09PSAndHJhbnNmb3JtTWF0cml4Jykge1xuICAgICAgaWYgKHBhcmVudEF0dHJpYnV0ZXMgJiYgcGFyZW50QXR0cmlidXRlcy50cmFuc2Zvcm1NYXRyaXgpIHtcbiAgICAgICAgdmFsdWUgPSBtdWx0aXBseVRyYW5zZm9ybU1hdHJpY2VzKFxuICAgICAgICAgIHBhcmVudEF0dHJpYnV0ZXMudHJhbnNmb3JtTWF0cml4LCBmYWJyaWMucGFyc2VUcmFuc2Zvcm1BdHRyaWJ1dGUodmFsdWUpKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB2YWx1ZSA9IGZhYnJpYy5wYXJzZVRyYW5zZm9ybUF0dHJpYnV0ZSh2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGF0dHIgPT09ICd2aXNpYmxlJykge1xuICAgICAgdmFsdWUgPSB2YWx1ZSAhPT0gJ25vbmUnICYmIHZhbHVlICE9PSAnaGlkZGVuJztcbiAgICAgIC8vIGRpc3BsYXk9bm9uZSBvbiBwYXJlbnQgZWxlbWVudCBhbHdheXMgdGFrZXMgcHJlY2VkZW5jZSBvdmVyIGNoaWxkIGVsZW1lbnRcbiAgICAgIGlmIChwYXJlbnRBdHRyaWJ1dGVzICYmIHBhcmVudEF0dHJpYnV0ZXMudmlzaWJsZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgdmFsdWUgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoYXR0ciA9PT0gJ29wYWNpdHknKSB7XG4gICAgICB2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUpO1xuICAgICAgaWYgKHBhcmVudEF0dHJpYnV0ZXMgJiYgdHlwZW9mIHBhcmVudEF0dHJpYnV0ZXMub3BhY2l0eSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmFsdWUgKj0gcGFyZW50QXR0cmlidXRlcy5vcGFjaXR5O1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChhdHRyID09PSAndGV4dEFuY2hvcicgLyogdGV4dC1hbmNob3IgKi8pIHtcbiAgICAgIHZhbHVlID0gdmFsdWUgPT09ICdzdGFydCcgPyAnbGVmdCcgOiB2YWx1ZSA9PT0gJ2VuZCcgPyAncmlnaHQnIDogJ2NlbnRlcic7XG4gICAgfVxuICAgIGVsc2UgaWYgKGF0dHIgPT09ICdjaGFyU3BhY2luZycpIHtcbiAgICAgIC8vIHBhcnNlVW5pdCByZXR1cm5zIHB4IGFuZCB3ZSBjb252ZXJ0IGl0IHRvIGVtXG4gICAgICBwYXJzZWQgPSBwYXJzZVVuaXQodmFsdWUsIGZvbnRTaXplKSAvIGZvbnRTaXplICogMTAwMDtcbiAgICB9XG4gICAgZWxzZSBpZiAoYXR0ciA9PT0gJ3BhaW50Rmlyc3QnKSB7XG4gICAgICB2YXIgZmlsbEluZGV4ID0gdmFsdWUuaW5kZXhPZignZmlsbCcpO1xuICAgICAgdmFyIHN0cm9rZUluZGV4ID0gdmFsdWUuaW5kZXhPZignc3Ryb2tlJyk7XG4gICAgICB2YXIgdmFsdWUgPSAnZmlsbCc7XG4gICAgICBpZiAoZmlsbEluZGV4ID4gLTEgJiYgc3Ryb2tlSW5kZXggPiAtMSAmJiBzdHJva2VJbmRleCA8IGZpbGxJbmRleCkge1xuICAgICAgICB2YWx1ZSA9ICdzdHJva2UnO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoZmlsbEluZGV4ID09PSAtMSAmJiBzdHJva2VJbmRleCA+IC0xKSB7XG4gICAgICAgIHZhbHVlID0gJ3N0cm9rZSc7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGF0dHIgPT09ICdocmVmJyB8fCBhdHRyID09PSAneGxpbms6aHJlZicgfHwgYXR0ciA9PT0gJ2ZvbnQnKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKGF0dHIgPT09ICdpbWFnZVNtb290aGluZycpIHtcbiAgICAgIHJldHVybiAodmFsdWUgPT09ICdvcHRpbWl6ZVF1YWxpdHknKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBwYXJzZWQgPSBpc0FycmF5ID8gdmFsdWUubWFwKHBhcnNlVW5pdCkgOiBwYXJzZVVuaXQodmFsdWUsIGZvbnRTaXplKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKCFpc0FycmF5ICYmIGlzTmFOKHBhcnNlZCkgPyB2YWx1ZSA6IHBhcnNlZCk7XG4gIH1cblxuICAvKipcbiAgICAqIEBwcml2YXRlXG4gICAgKi9cbiAgZnVuY3Rpb24gZ2V0U3ZnUmVnZXgoYXJyKSB7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoJ14oJyArIGFyci5qb2luKCd8JykgKyAnKVxcXFxiJywgJ2knKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gYXR0cmlidXRlcyBBcnJheSBvZiBhdHRyaWJ1dGVzIHRvIHBhcnNlXG4gICAqL1xuICBmdW5jdGlvbiBfc2V0U3Ryb2tlRmlsbE9wYWNpdHkoYXR0cmlidXRlcykge1xuICAgIGZvciAodmFyIGF0dHIgaW4gY29sb3JBdHRyaWJ1dGVzKSB7XG5cbiAgICAgIGlmICh0eXBlb2YgYXR0cmlidXRlc1tjb2xvckF0dHJpYnV0ZXNbYXR0cl1dID09PSAndW5kZWZpbmVkJyB8fCBhdHRyaWJ1dGVzW2F0dHJdID09PSAnJykge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBhdHRyaWJ1dGVzW2F0dHJdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpZiAoIWZhYnJpYy5PYmplY3QucHJvdG90eXBlW2F0dHJdKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgYXR0cmlidXRlc1thdHRyXSA9IGZhYnJpYy5PYmplY3QucHJvdG90eXBlW2F0dHJdO1xuICAgICAgfVxuXG4gICAgICBpZiAoYXR0cmlidXRlc1thdHRyXS5pbmRleE9mKCd1cmwoJykgPT09IDApIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIHZhciBjb2xvciA9IG5ldyBmYWJyaWMuQ29sb3IoYXR0cmlidXRlc1thdHRyXSk7XG4gICAgICBhdHRyaWJ1dGVzW2F0dHJdID0gY29sb3Iuc2V0QWxwaGEodG9GaXhlZChjb2xvci5nZXRBbHBoYSgpICogYXR0cmlidXRlc1tjb2xvckF0dHJpYnV0ZXNbYXR0cl1dLCAyKSkudG9SZ2JhKCk7XG4gICAgfVxuICAgIHJldHVybiBhdHRyaWJ1dGVzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBmdW5jdGlvbiBfZ2V0TXVsdGlwbGVOb2Rlcyhkb2MsIG5vZGVOYW1lcykge1xuICAgIHZhciBub2RlTmFtZSwgbm9kZUFycmF5ID0gW10sIG5vZGVMaXN0LCBpLCBsZW47XG4gICAgZm9yIChpID0gMCwgbGVuID0gbm9kZU5hbWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBub2RlTmFtZSA9IG5vZGVOYW1lc1tpXTtcbiAgICAgIG5vZGVMaXN0ID0gZG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKG5vZGVOYW1lKTtcbiAgICAgIG5vZGVBcnJheSA9IG5vZGVBcnJheS5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwobm9kZUxpc3QpKTtcbiAgICB9XG4gICAgcmV0dXJuIG5vZGVBcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQYXJzZXMgXCJ0cmFuc2Zvcm1cIiBhdHRyaWJ1dGUsIHJldHVybmluZyBhbiBhcnJheSBvZiB2YWx1ZXNcbiAgICogQHN0YXRpY1xuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIGZhYnJpY1xuICAgKiBAcGFyYW0ge1N0cmluZ30gYXR0cmlidXRlVmFsdWUgU3RyaW5nIGNvbnRhaW5pbmcgYXR0cmlidXRlIHZhbHVlXG4gICAqIEByZXR1cm4ge0FycmF5fSBBcnJheSBvZiA2IGVsZW1lbnRzIHJlcHJlc2VudGluZyB0cmFuc2Zvcm1hdGlvbiBtYXRyaXhcbiAgICovXG4gIGZhYnJpYy5wYXJzZVRyYW5zZm9ybUF0dHJpYnV0ZSA9IChmdW5jdGlvbigpIHtcbiAgICBmdW5jdGlvbiByb3RhdGVNYXRyaXgobWF0cml4LCBhcmdzKSB7XG4gICAgICB2YXIgY29zID0gZmFicmljLnV0aWwuY29zKGFyZ3NbMF0pLCBzaW4gPSBmYWJyaWMudXRpbC5zaW4oYXJnc1swXSksXG4gICAgICAgICAgeCA9IDAsIHkgPSAwO1xuICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAzKSB7XG4gICAgICAgIHggPSBhcmdzWzFdO1xuICAgICAgICB5ID0gYXJnc1syXTtcbiAgICAgIH1cblxuICAgICAgbWF0cml4WzBdID0gY29zO1xuICAgICAgbWF0cml4WzFdID0gc2luO1xuICAgICAgbWF0cml4WzJdID0gLXNpbjtcbiAgICAgIG1hdHJpeFszXSA9IGNvcztcbiAgICAgIG1hdHJpeFs0XSA9IHggLSAoY29zICogeCAtIHNpbiAqIHkpO1xuICAgICAgbWF0cml4WzVdID0geSAtIChzaW4gKiB4ICsgY29zICogeSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2NhbGVNYXRyaXgobWF0cml4LCBhcmdzKSB7XG4gICAgICB2YXIgbXVsdGlwbGllclggPSBhcmdzWzBdLFxuICAgICAgICAgIG11bHRpcGxpZXJZID0gKGFyZ3MubGVuZ3RoID09PSAyKSA/IGFyZ3NbMV0gOiBhcmdzWzBdO1xuXG4gICAgICBtYXRyaXhbMF0gPSBtdWx0aXBsaWVyWDtcbiAgICAgIG1hdHJpeFszXSA9IG11bHRpcGxpZXJZO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNrZXdNYXRyaXgobWF0cml4LCBhcmdzLCBwb3MpIHtcbiAgICAgIG1hdHJpeFtwb3NdID0gTWF0aC50YW4oZmFicmljLnV0aWwuZGVncmVlc1RvUmFkaWFucyhhcmdzWzBdKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdHJhbnNsYXRlTWF0cml4KG1hdHJpeCwgYXJncykge1xuICAgICAgbWF0cml4WzRdID0gYXJnc1swXTtcbiAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICBtYXRyaXhbNV0gPSBhcmdzWzFdO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGlkZW50aXR5IG1hdHJpeFxuICAgIHZhciBpTWF0cml4ID0gZmFicmljLmlNYXRyaXgsXG5cbiAgICAgICAgLy8gPT0gYmVnaW4gdHJhbnNmb3JtIHJlZ2V4cFxuICAgICAgICBudW1iZXIgPSBmYWJyaWMucmVOdW0sXG5cbiAgICAgICAgY29tbWFXc3AgPSBmYWJyaWMuY29tbWFXc3AsXG5cbiAgICAgICAgc2tld1ggPSAnKD86KHNrZXdYKVxcXFxzKlxcXFwoXFxcXHMqKCcgKyBudW1iZXIgKyAnKVxcXFxzKlxcXFwpKScsXG5cbiAgICAgICAgc2tld1kgPSAnKD86KHNrZXdZKVxcXFxzKlxcXFwoXFxcXHMqKCcgKyBudW1iZXIgKyAnKVxcXFxzKlxcXFwpKScsXG5cbiAgICAgICAgcm90YXRlID0gJyg/Oihyb3RhdGUpXFxcXHMqXFxcXChcXFxccyooJyArIG51bWJlciArICcpKD86JyArXG4gICAgICAgICAgICAgICAgICAgIGNvbW1hV3NwICsgJygnICsgbnVtYmVyICsgJyknICtcbiAgICAgICAgICAgICAgICAgICAgY29tbWFXc3AgKyAnKCcgKyBudW1iZXIgKyAnKSk/XFxcXHMqXFxcXCkpJyxcblxuICAgICAgICBzY2FsZSA9ICcoPzooc2NhbGUpXFxcXHMqXFxcXChcXFxccyooJyArIG51bWJlciArICcpKD86JyArXG4gICAgICAgICAgICAgICAgICAgIGNvbW1hV3NwICsgJygnICsgbnVtYmVyICsgJykpP1xcXFxzKlxcXFwpKScsXG5cbiAgICAgICAgdHJhbnNsYXRlID0gJyg/Oih0cmFuc2xhdGUpXFxcXHMqXFxcXChcXFxccyooJyArIG51bWJlciArICcpKD86JyArXG4gICAgICAgICAgICAgICAgICAgIGNvbW1hV3NwICsgJygnICsgbnVtYmVyICsgJykpP1xcXFxzKlxcXFwpKScsXG5cbiAgICAgICAgbWF0cml4ID0gJyg/OihtYXRyaXgpXFxcXHMqXFxcXChcXFxccyonICtcbiAgICAgICAgICAgICAgICAgICcoJyArIG51bWJlciArICcpJyArIGNvbW1hV3NwICtcbiAgICAgICAgICAgICAgICAgICcoJyArIG51bWJlciArICcpJyArIGNvbW1hV3NwICtcbiAgICAgICAgICAgICAgICAgICcoJyArIG51bWJlciArICcpJyArIGNvbW1hV3NwICtcbiAgICAgICAgICAgICAgICAgICcoJyArIG51bWJlciArICcpJyArIGNvbW1hV3NwICtcbiAgICAgICAgICAgICAgICAgICcoJyArIG51bWJlciArICcpJyArIGNvbW1hV3NwICtcbiAgICAgICAgICAgICAgICAgICcoJyArIG51bWJlciArICcpJyArXG4gICAgICAgICAgICAgICAgICAnXFxcXHMqXFxcXCkpJyxcblxuICAgICAgICB0cmFuc2Zvcm0gPSAnKD86JyArXG4gICAgICAgICAgICAgICAgICAgIG1hdHJpeCArICd8JyArXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZSArICd8JyArXG4gICAgICAgICAgICAgICAgICAgIHNjYWxlICsgJ3wnICtcbiAgICAgICAgICAgICAgICAgICAgcm90YXRlICsgJ3wnICtcbiAgICAgICAgICAgICAgICAgICAgc2tld1ggKyAnfCcgK1xuICAgICAgICAgICAgICAgICAgICBza2V3WSArXG4gICAgICAgICAgICAgICAgICAgICcpJyxcblxuICAgICAgICB0cmFuc2Zvcm1zID0gJyg/OicgKyB0cmFuc2Zvcm0gKyAnKD86JyArIGNvbW1hV3NwICsgJyonICsgdHJhbnNmb3JtICsgJykqJyArICcpJyxcblxuICAgICAgICB0cmFuc2Zvcm1MaXN0ID0gJ15cXFxccyooPzonICsgdHJhbnNmb3JtcyArICc/KVxcXFxzKiQnLFxuXG4gICAgICAgIC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL1NWRy9jb29yZHMuaHRtbCNUcmFuc2Zvcm1BdHRyaWJ1dGVcbiAgICAgICAgcmVUcmFuc2Zvcm1MaXN0ID0gbmV3IFJlZ0V4cCh0cmFuc2Zvcm1MaXN0KSxcbiAgICAgICAgLy8gPT0gZW5kIHRyYW5zZm9ybSByZWdleHBcblxuICAgICAgICByZVRyYW5zZm9ybSA9IG5ldyBSZWdFeHAodHJhbnNmb3JtLCAnZycpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKGF0dHJpYnV0ZVZhbHVlKSB7XG5cbiAgICAgIC8vIHN0YXJ0IHdpdGggaWRlbnRpdHkgbWF0cml4XG4gICAgICB2YXIgbWF0cml4ID0gaU1hdHJpeC5jb25jYXQoKSxcbiAgICAgICAgICBtYXRyaWNlcyA9IFtdO1xuXG4gICAgICAvLyByZXR1cm4gaWYgbm8gYXJndW1lbnQgd2FzIGdpdmVuIG9yXG4gICAgICAvLyBhbiBhcmd1bWVudCBkb2VzIG5vdCBtYXRjaCB0cmFuc2Zvcm0gYXR0cmlidXRlIHJlZ2V4cFxuICAgICAgaWYgKCFhdHRyaWJ1dGVWYWx1ZSB8fCAoYXR0cmlidXRlVmFsdWUgJiYgIXJlVHJhbnNmb3JtTGlzdC50ZXN0KGF0dHJpYnV0ZVZhbHVlKSkpIHtcbiAgICAgICAgcmV0dXJuIG1hdHJpeDtcbiAgICAgIH1cblxuICAgICAgYXR0cmlidXRlVmFsdWUucmVwbGFjZShyZVRyYW5zZm9ybSwgZnVuY3Rpb24obWF0Y2gpIHtcblxuICAgICAgICB2YXIgbSA9IG5ldyBSZWdFeHAodHJhbnNmb3JtKS5leGVjKG1hdGNoKS5maWx0ZXIoZnVuY3Rpb24gKG1hdGNoKSB7XG4gICAgICAgICAgICAgIC8vIG1hdGNoICE9PSAnJyAmJiBtYXRjaCAhPSBudWxsXG4gICAgICAgICAgICAgIHJldHVybiAoISFtYXRjaCk7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIG9wZXJhdGlvbiA9IG1bMV0sXG4gICAgICAgICAgICBhcmdzID0gbS5zbGljZSgyKS5tYXAocGFyc2VGbG9hdCk7XG5cbiAgICAgICAgc3dpdGNoIChvcGVyYXRpb24pIHtcbiAgICAgICAgICBjYXNlICd0cmFuc2xhdGUnOlxuICAgICAgICAgICAgdHJhbnNsYXRlTWF0cml4KG1hdHJpeCwgYXJncyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdyb3RhdGUnOlxuICAgICAgICAgICAgYXJnc1swXSA9IGZhYnJpYy51dGlsLmRlZ3JlZXNUb1JhZGlhbnMoYXJnc1swXSk7XG4gICAgICAgICAgICByb3RhdGVNYXRyaXgobWF0cml4LCBhcmdzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3NjYWxlJzpcbiAgICAgICAgICAgIHNjYWxlTWF0cml4KG1hdHJpeCwgYXJncyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdza2V3WCc6XG4gICAgICAgICAgICBza2V3TWF0cml4KG1hdHJpeCwgYXJncywgMik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdza2V3WSc6XG4gICAgICAgICAgICBza2V3TWF0cml4KG1hdHJpeCwgYXJncywgMSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdtYXRyaXgnOlxuICAgICAgICAgICAgbWF0cml4ID0gYXJncztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc25hcHNob3QgY3VycmVudCBtYXRyaXggaW50byBtYXRyaWNlcyBhcnJheVxuICAgICAgICBtYXRyaWNlcy5wdXNoKG1hdHJpeC5jb25jYXQoKSk7XG4gICAgICAgIC8vIHJlc2V0XG4gICAgICAgIG1hdHJpeCA9IGlNYXRyaXguY29uY2F0KCk7XG4gICAgICB9KTtcblxuICAgICAgdmFyIGNvbWJpbmVkTWF0cml4ID0gbWF0cmljZXNbMF07XG4gICAgICB3aGlsZSAobWF0cmljZXMubGVuZ3RoID4gMSkge1xuICAgICAgICBtYXRyaWNlcy5zaGlmdCgpO1xuICAgICAgICBjb21iaW5lZE1hdHJpeCA9IGZhYnJpYy51dGlsLm11bHRpcGx5VHJhbnNmb3JtTWF0cmljZXMoY29tYmluZWRNYXRyaXgsIG1hdHJpY2VzWzBdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb21iaW5lZE1hdHJpeDtcbiAgICB9O1xuICB9KSgpO1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gcGFyc2VTdHlsZVN0cmluZyhzdHlsZSwgb1N0eWxlKSB7XG4gICAgdmFyIGF0dHIsIHZhbHVlO1xuICAgIHN0eWxlLnJlcGxhY2UoLztcXHMqJC8sICcnKS5zcGxpdCgnOycpLmZvckVhY2goZnVuY3Rpb24gKGNodW5rKSB7XG4gICAgICB2YXIgcGFpciA9IGNodW5rLnNwbGl0KCc6Jyk7XG5cbiAgICAgIGF0dHIgPSBwYWlyWzBdLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgdmFsdWUgPSAgcGFpclsxXS50cmltKCk7XG5cbiAgICAgIG9TdHlsZVthdHRyXSA9IHZhbHVlO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBmdW5jdGlvbiBwYXJzZVN0eWxlT2JqZWN0KHN0eWxlLCBvU3R5bGUpIHtcbiAgICB2YXIgYXR0ciwgdmFsdWU7XG4gICAgZm9yICh2YXIgcHJvcCBpbiBzdHlsZSkge1xuICAgICAgaWYgKHR5cGVvZiBzdHlsZVtwcm9wXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGF0dHIgPSBwcm9wLnRvTG93ZXJDYXNlKCk7XG4gICAgICB2YWx1ZSA9IHN0eWxlW3Byb3BdO1xuXG4gICAgICBvU3R5bGVbYXR0cl0gPSB2YWx1ZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGZ1bmN0aW9uIGdldEdsb2JhbFN0eWxlc0ZvckVsZW1lbnQoZWxlbWVudCwgc3ZnVWlkKSB7XG4gICAgdmFyIHN0eWxlcyA9IHsgfTtcbiAgICBmb3IgKHZhciBydWxlIGluIGZhYnJpYy5jc3NSdWxlc1tzdmdVaWRdKSB7XG4gICAgICBpZiAoZWxlbWVudE1hdGNoZXNSdWxlKGVsZW1lbnQsIHJ1bGUuc3BsaXQoJyAnKSkpIHtcbiAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gZmFicmljLmNzc1J1bGVzW3N2Z1VpZF1bcnVsZV0pIHtcbiAgICAgICAgICBzdHlsZXNbcHJvcGVydHldID0gZmFicmljLmNzc1J1bGVzW3N2Z1VpZF1bcnVsZV1bcHJvcGVydHldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdHlsZXM7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGZ1bmN0aW9uIGVsZW1lbnRNYXRjaGVzUnVsZShlbGVtZW50LCBzZWxlY3RvcnMpIHtcbiAgICB2YXIgZmlyc3RNYXRjaGluZywgcGFyZW50TWF0Y2hpbmcgPSB0cnVlO1xuICAgIC8vc3RhcnQgZnJvbSByaWdodG1vc3Qgc2VsZWN0b3IuXG4gICAgZmlyc3RNYXRjaGluZyA9IHNlbGVjdG9yTWF0Y2hlcyhlbGVtZW50LCBzZWxlY3RvcnMucG9wKCkpO1xuICAgIGlmIChmaXJzdE1hdGNoaW5nICYmIHNlbGVjdG9ycy5sZW5ndGgpIHtcbiAgICAgIHBhcmVudE1hdGNoaW5nID0gZG9lc1NvbWVQYXJlbnRNYXRjaChlbGVtZW50LCBzZWxlY3RvcnMpO1xuICAgIH1cbiAgICByZXR1cm4gZmlyc3RNYXRjaGluZyAmJiBwYXJlbnRNYXRjaGluZyAmJiAoc2VsZWN0b3JzLmxlbmd0aCA9PT0gMCk7XG4gIH1cblxuICBmdW5jdGlvbiBkb2VzU29tZVBhcmVudE1hdGNoKGVsZW1lbnQsIHNlbGVjdG9ycykge1xuICAgIHZhciBzZWxlY3RvciwgcGFyZW50TWF0Y2hpbmcgPSB0cnVlO1xuICAgIHdoaWxlIChlbGVtZW50LnBhcmVudE5vZGUgJiYgZWxlbWVudC5wYXJlbnROb2RlLm5vZGVUeXBlID09PSAxICYmIHNlbGVjdG9ycy5sZW5ndGgpIHtcbiAgICAgIGlmIChwYXJlbnRNYXRjaGluZykge1xuICAgICAgICBzZWxlY3RvciA9IHNlbGVjdG9ycy5wb3AoKTtcbiAgICAgIH1cbiAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gICAgICBwYXJlbnRNYXRjaGluZyA9IHNlbGVjdG9yTWF0Y2hlcyhlbGVtZW50LCBzZWxlY3Rvcik7XG4gICAgfVxuICAgIHJldHVybiBzZWxlY3RvcnMubGVuZ3RoID09PSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBmdW5jdGlvbiBzZWxlY3Rvck1hdGNoZXMoZWxlbWVudCwgc2VsZWN0b3IpIHtcbiAgICB2YXIgbm9kZU5hbWUgPSBlbGVtZW50Lm5vZGVOYW1lLFxuICAgICAgICBjbGFzc05hbWVzID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJyksXG4gICAgICAgIGlkID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2lkJyksIG1hdGNoZXIsIGk7XG4gICAgLy8gaSBjaGVjayBpZiBhIHNlbGVjdG9yIG1hdGNoZXMgc2xpY2luZyBhd2F5IHBhcnQgZnJvbSBpdC5cbiAgICAvLyBpZiBpIGdldCBlbXB0eSBzdHJpbmcgaSBzaG91bGQgbWF0Y2hcbiAgICBtYXRjaGVyID0gbmV3IFJlZ0V4cCgnXicgKyBub2RlTmFtZSwgJ2knKTtcbiAgICBzZWxlY3RvciA9IHNlbGVjdG9yLnJlcGxhY2UobWF0Y2hlciwgJycpO1xuICAgIGlmIChpZCAmJiBzZWxlY3Rvci5sZW5ndGgpIHtcbiAgICAgIG1hdGNoZXIgPSBuZXcgUmVnRXhwKCcjJyArIGlkICsgJyg/IVthLXpBLVpcXFxcLV0rKScsICdpJyk7XG4gICAgICBzZWxlY3RvciA9IHNlbGVjdG9yLnJlcGxhY2UobWF0Y2hlciwgJycpO1xuICAgIH1cbiAgICBpZiAoY2xhc3NOYW1lcyAmJiBzZWxlY3Rvci5sZW5ndGgpIHtcbiAgICAgIGNsYXNzTmFtZXMgPSBjbGFzc05hbWVzLnNwbGl0KCcgJyk7XG4gICAgICBmb3IgKGkgPSBjbGFzc05hbWVzLmxlbmd0aDsgaS0tOykge1xuICAgICAgICBtYXRjaGVyID0gbmV3IFJlZ0V4cCgnXFxcXC4nICsgY2xhc3NOYW1lc1tpXSArICcoPyFbYS16QS1aXFxcXC1dKyknLCAnaScpO1xuICAgICAgICBzZWxlY3RvciA9IHNlbGVjdG9yLnJlcGxhY2UobWF0Y2hlciwgJycpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2VsZWN0b3IubGVuZ3RoID09PSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIHRvIHN1cHBvcnQgSUU4IG1pc3NpbmcgZ2V0RWxlbWVudEJ5SWQgb24gU1ZHZG9jdW1lbnQgYW5kIG9uIG5vZGUgeG1sRE9NXG4gICAqL1xuICBmdW5jdGlvbiBlbGVtZW50QnlJZChkb2MsIGlkKSB7XG4gICAgdmFyIGVsO1xuICAgIGRvYy5nZXRFbGVtZW50QnlJZCAmJiAoZWwgPSBkb2MuZ2V0RWxlbWVudEJ5SWQoaWQpKTtcbiAgICBpZiAoZWwpIHtcbiAgICAgIHJldHVybiBlbDtcbiAgICB9XG4gICAgdmFyIG5vZGUsIGksIGxlbiwgbm9kZWxpc3QgPSBkb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJyonKTtcbiAgICBmb3IgKGkgPSAwLCBsZW4gPSBub2RlbGlzdC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgbm9kZSA9IG5vZGVsaXN0W2ldO1xuICAgICAgaWYgKGlkID09PSBub2RlLmdldEF0dHJpYnV0ZSgnaWQnKSkge1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGZ1bmN0aW9uIHBhcnNlVXNlRGlyZWN0aXZlcyhkb2MpIHtcbiAgICB2YXIgbm9kZWxpc3QgPSBfZ2V0TXVsdGlwbGVOb2Rlcyhkb2MsIFsndXNlJywgJ3N2Zzp1c2UnXSksIGkgPSAwO1xuICAgIHdoaWxlIChub2RlbGlzdC5sZW5ndGggJiYgaSA8IG5vZGVsaXN0Lmxlbmd0aCkge1xuICAgICAgdmFyIGVsID0gbm9kZWxpc3RbaV0sXG4gICAgICAgICAgeGxpbmtBdHRyaWJ1dGUgPSBlbC5nZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnKSB8fCBlbC5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTtcblxuICAgICAgaWYgKHhsaW5rQXR0cmlidXRlID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHhsaW5rID0geGxpbmtBdHRyaWJ1dGUuc2xpY2UoMSksXG4gICAgICAgICAgeCA9IGVsLmdldEF0dHJpYnV0ZSgneCcpIHx8IDAsXG4gICAgICAgICAgeSA9IGVsLmdldEF0dHJpYnV0ZSgneScpIHx8IDAsXG4gICAgICAgICAgZWwyID0gZWxlbWVudEJ5SWQoZG9jLCB4bGluaykuY2xvbmVOb2RlKHRydWUpLFxuICAgICAgICAgIGN1cnJlbnRUcmFucyA9IChlbDIuZ2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nKSB8fCAnJykgKyAnIHRyYW5zbGF0ZSgnICsgeCArICcsICcgKyB5ICsgJyknLFxuICAgICAgICAgIHBhcmVudE5vZGUsXG4gICAgICAgICAgb2xkTGVuZ3RoID0gbm9kZWxpc3QubGVuZ3RoLCBhdHRyLFxuICAgICAgICAgIGosXG4gICAgICAgICAgYXR0cnMsXG4gICAgICAgICAgbGVuLFxuICAgICAgICAgIG5hbWVzcGFjZSA9IGZhYnJpYy5zdmdOUztcblxuICAgICAgYXBwbHlWaWV3Ym94VHJhbnNmb3JtKGVsMik7XG4gICAgICBpZiAoL15zdmckL2kudGVzdChlbDIubm9kZU5hbWUpKSB7XG4gICAgICAgIHZhciBlbDMgPSBlbDIub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobmFtZXNwYWNlLCAnZycpO1xuICAgICAgICBmb3IgKGogPSAwLCBhdHRycyA9IGVsMi5hdHRyaWJ1dGVzLCBsZW4gPSBhdHRycy5sZW5ndGg7IGogPCBsZW47IGorKykge1xuICAgICAgICAgIGF0dHIgPSBhdHRycy5pdGVtKGopO1xuICAgICAgICAgIGVsMy5zZXRBdHRyaWJ1dGVOUyhuYW1lc3BhY2UsIGF0dHIubm9kZU5hbWUsIGF0dHIubm9kZVZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBlbDIuZmlyc3RDaGlsZCAhPSBudWxsXG4gICAgICAgIHdoaWxlIChlbDIuZmlyc3RDaGlsZCkge1xuICAgICAgICAgIGVsMy5hcHBlbmRDaGlsZChlbDIuZmlyc3RDaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWwyID0gZWwzO1xuICAgICAgfVxuXG4gICAgICBmb3IgKGogPSAwLCBhdHRycyA9IGVsLmF0dHJpYnV0ZXMsIGxlbiA9IGF0dHJzLmxlbmd0aDsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgIGF0dHIgPSBhdHRycy5pdGVtKGopO1xuICAgICAgICBpZiAoYXR0ci5ub2RlTmFtZSA9PT0gJ3gnIHx8IGF0dHIubm9kZU5hbWUgPT09ICd5JyB8fFxuICAgICAgICAgIGF0dHIubm9kZU5hbWUgPT09ICd4bGluazpocmVmJyB8fCBhdHRyLm5vZGVOYW1lID09PSAnaHJlZicpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhdHRyLm5vZGVOYW1lID09PSAndHJhbnNmb3JtJykge1xuICAgICAgICAgIGN1cnJlbnRUcmFucyA9IGF0dHIubm9kZVZhbHVlICsgJyAnICsgY3VycmVudFRyYW5zO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGVsMi5zZXRBdHRyaWJ1dGUoYXR0ci5ub2RlTmFtZSwgYXR0ci5ub2RlVmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGVsMi5zZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScsIGN1cnJlbnRUcmFucyk7XG4gICAgICBlbDIuc2V0QXR0cmlidXRlKCdpbnN0YW50aWF0ZWRfYnlfdXNlJywgJzEnKTtcbiAgICAgIGVsMi5yZW1vdmVBdHRyaWJ1dGUoJ2lkJyk7XG4gICAgICBwYXJlbnROb2RlID0gZWwucGFyZW50Tm9kZTtcbiAgICAgIHBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGVsMiwgZWwpO1xuICAgICAgLy8gc29tZSBicm93c2VycyBkbyBub3Qgc2hvcnRlbiBub2RlbGlzdCBhZnRlciByZXBsYWNlQ2hpbGQgKElFOClcbiAgICAgIGlmIChub2RlbGlzdC5sZW5ndGggPT09IG9sZExlbmd0aCkge1xuICAgICAgICBpKys7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHL2Nvb3Jkcy5odG1sI1ZpZXdCb3hBdHRyaWJ1dGVcbiAgLy8gbWF0Y2hlcywgZS5nLjogKzE0LjU2ZS0xMiwgZXRjLlxuICB2YXIgcmVWaWV3Qm94QXR0clZhbHVlID0gbmV3IFJlZ0V4cChcbiAgICAnXicgK1xuICAgICdcXFxccyooJyArIGZhYnJpYy5yZU51bSArICcrKVxcXFxzKiw/JyArXG4gICAgJ1xcXFxzKignICsgZmFicmljLnJlTnVtICsgJyspXFxcXHMqLD8nICtcbiAgICAnXFxcXHMqKCcgKyBmYWJyaWMucmVOdW0gKyAnKylcXFxccyosPycgK1xuICAgICdcXFxccyooJyArIGZhYnJpYy5yZU51bSArICcrKVxcXFxzKicgK1xuICAgICckJ1xuICApO1xuXG4gIC8qKlxuICAgKiBBZGQgYSA8Zz4gZWxlbWVudCB0aGF0IGVudmVsb3AgYWxsIGNoaWxkIGVsZW1lbnRzIGFuZCBtYWtlcyB0aGUgdmlld2JveCB0cmFuc2Zvcm1NYXRyaXggZGVzY2VuZCBvbiBhbGwgZWxlbWVudHNcbiAgICovXG4gIGZ1bmN0aW9uIGFwcGx5Vmlld2JveFRyYW5zZm9ybShlbGVtZW50KSB7XG4gICAgaWYgKCFmYWJyaWMuc3ZnVmlld0JveEVsZW1lbnRzUmVnRXgudGVzdChlbGVtZW50Lm5vZGVOYW1lKSkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICB2YXIgdmlld0JveEF0dHIgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgndmlld0JveCcpLFxuICAgICAgICBzY2FsZVggPSAxLFxuICAgICAgICBzY2FsZVkgPSAxLFxuICAgICAgICBtaW5YID0gMCxcbiAgICAgICAgbWluWSA9IDAsXG4gICAgICAgIHZpZXdCb3hXaWR0aCwgdmlld0JveEhlaWdodCwgbWF0cml4LCBlbCxcbiAgICAgICAgd2lkdGhBdHRyID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3dpZHRoJyksXG4gICAgICAgIGhlaWdodEF0dHIgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnaGVpZ2h0JyksXG4gICAgICAgIHggPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgneCcpIHx8IDAsXG4gICAgICAgIHkgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgneScpIHx8IDAsXG4gICAgICAgIHByZXNlcnZlQXNwZWN0UmF0aW8gPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgncHJlc2VydmVBc3BlY3RSYXRpbycpIHx8ICcnLFxuICAgICAgICBtaXNzaW5nVmlld0JveCA9ICghdmlld0JveEF0dHIgfHwgISh2aWV3Qm94QXR0ciA9IHZpZXdCb3hBdHRyLm1hdGNoKHJlVmlld0JveEF0dHJWYWx1ZSkpKSxcbiAgICAgICAgbWlzc2luZ0RpbUF0dHIgPSAoIXdpZHRoQXR0ciB8fCAhaGVpZ2h0QXR0ciB8fCB3aWR0aEF0dHIgPT09ICcxMDAlJyB8fCBoZWlnaHRBdHRyID09PSAnMTAwJScpLFxuICAgICAgICB0b0JlUGFyc2VkID0gbWlzc2luZ1ZpZXdCb3ggJiYgbWlzc2luZ0RpbUF0dHIsXG4gICAgICAgIHBhcnNlZERpbSA9IHsgfSwgdHJhbnNsYXRlTWF0cml4ID0gJycsIHdpZHRoRGlmZiA9IDAsIGhlaWdodERpZmYgPSAwO1xuXG4gICAgcGFyc2VkRGltLndpZHRoID0gMDtcbiAgICBwYXJzZWREaW0uaGVpZ2h0ID0gMDtcbiAgICBwYXJzZWREaW0udG9CZVBhcnNlZCA9IHRvQmVQYXJzZWQ7XG5cbiAgICBpZiAobWlzc2luZ1ZpZXdCb3gpIHtcbiAgICAgIGlmICgoKHggfHwgeSkgJiYgZWxlbWVudC5wYXJlbnROb2RlICYmIGVsZW1lbnQucGFyZW50Tm9kZS5ub2RlTmFtZSAhPT0gJyNkb2N1bWVudCcpKSB7XG4gICAgICAgIHRyYW5zbGF0ZU1hdHJpeCA9ICcgdHJhbnNsYXRlKCcgKyBwYXJzZVVuaXQoeCkgKyAnICcgKyBwYXJzZVVuaXQoeSkgKyAnKSAnO1xuICAgICAgICBtYXRyaXggPSAoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScpIHx8ICcnKSArIHRyYW5zbGF0ZU1hdHJpeDtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScsIG1hdHJpeCk7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCd4Jyk7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCd5Jyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRvQmVQYXJzZWQpIHtcbiAgICAgIHJldHVybiBwYXJzZWREaW07XG4gICAgfVxuXG4gICAgaWYgKG1pc3NpbmdWaWV3Qm94KSB7XG4gICAgICBwYXJzZWREaW0ud2lkdGggPSBwYXJzZVVuaXQod2lkdGhBdHRyKTtcbiAgICAgIHBhcnNlZERpbS5oZWlnaHQgPSBwYXJzZVVuaXQoaGVpZ2h0QXR0cik7XG4gICAgICAvLyBzZXQgYSB0cmFuc2Zvcm0gZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB4IHkgYW5kIGFyZSBpbm5lcihvbmx5KSBTVkdzXG4gICAgICByZXR1cm4gcGFyc2VkRGltO1xuICAgIH1cbiAgICBtaW5YID0gLXBhcnNlRmxvYXQodmlld0JveEF0dHJbMV0pO1xuICAgIG1pblkgPSAtcGFyc2VGbG9hdCh2aWV3Qm94QXR0clsyXSk7XG4gICAgdmlld0JveFdpZHRoID0gcGFyc2VGbG9hdCh2aWV3Qm94QXR0clszXSk7XG4gICAgdmlld0JveEhlaWdodCA9IHBhcnNlRmxvYXQodmlld0JveEF0dHJbNF0pO1xuICAgIHBhcnNlZERpbS5taW5YID0gbWluWDtcbiAgICBwYXJzZWREaW0ubWluWSA9IG1pblk7XG4gICAgcGFyc2VkRGltLnZpZXdCb3hXaWR0aCA9IHZpZXdCb3hXaWR0aDtcbiAgICBwYXJzZWREaW0udmlld0JveEhlaWdodCA9IHZpZXdCb3hIZWlnaHQ7XG4gICAgaWYgKCFtaXNzaW5nRGltQXR0cikge1xuICAgICAgcGFyc2VkRGltLndpZHRoID0gcGFyc2VVbml0KHdpZHRoQXR0cik7XG4gICAgICBwYXJzZWREaW0uaGVpZ2h0ID0gcGFyc2VVbml0KGhlaWdodEF0dHIpO1xuICAgICAgc2NhbGVYID0gcGFyc2VkRGltLndpZHRoIC8gdmlld0JveFdpZHRoO1xuICAgICAgc2NhbGVZID0gcGFyc2VkRGltLmhlaWdodCAvIHZpZXdCb3hIZWlnaHQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcGFyc2VkRGltLndpZHRoID0gdmlld0JveFdpZHRoO1xuICAgICAgcGFyc2VkRGltLmhlaWdodCA9IHZpZXdCb3hIZWlnaHQ7XG4gICAgfVxuXG4gICAgLy8gZGVmYXVsdCBpcyB0byBwcmVzZXJ2ZSBhc3BlY3QgcmF0aW9cbiAgICBwcmVzZXJ2ZUFzcGVjdFJhdGlvID0gZmFicmljLnV0aWwucGFyc2VQcmVzZXJ2ZUFzcGVjdFJhdGlvQXR0cmlidXRlKHByZXNlcnZlQXNwZWN0UmF0aW8pO1xuICAgIGlmIChwcmVzZXJ2ZUFzcGVjdFJhdGlvLmFsaWduWCAhPT0gJ25vbmUnKSB7XG4gICAgICAvL3RyYW5zbGF0ZSBhbGwgY29udGFpbmVyIGZvciB0aGUgZWZmZWN0IG9mIE1pZCwgTWluLCBNYXhcbiAgICAgIGlmIChwcmVzZXJ2ZUFzcGVjdFJhdGlvLm1lZXRPclNsaWNlID09PSAnbWVldCcpIHtcbiAgICAgICAgc2NhbGVZID0gc2NhbGVYID0gKHNjYWxlWCA+IHNjYWxlWSA/IHNjYWxlWSA6IHNjYWxlWCk7XG4gICAgICAgIC8vIGNhbGN1bGF0ZSBhZGRpdGlvbmFsIHRyYW5zbGF0aW9uIHRvIG1vdmUgdGhlIHZpZXdib3hcbiAgICAgIH1cbiAgICAgIGlmIChwcmVzZXJ2ZUFzcGVjdFJhdGlvLm1lZXRPclNsaWNlID09PSAnc2xpY2UnKSB7XG4gICAgICAgIHNjYWxlWSA9IHNjYWxlWCA9IChzY2FsZVggPiBzY2FsZVkgPyBzY2FsZVggOiBzY2FsZVkpO1xuICAgICAgICAvLyBjYWxjdWxhdGUgYWRkaXRpb25hbCB0cmFuc2xhdGlvbiB0byBtb3ZlIHRoZSB2aWV3Ym94XG4gICAgICB9XG4gICAgICB3aWR0aERpZmYgPSBwYXJzZWREaW0ud2lkdGggLSB2aWV3Qm94V2lkdGggKiBzY2FsZVg7XG4gICAgICBoZWlnaHREaWZmID0gcGFyc2VkRGltLmhlaWdodCAtIHZpZXdCb3hIZWlnaHQgKiBzY2FsZVg7XG4gICAgICBpZiAocHJlc2VydmVBc3BlY3RSYXRpby5hbGlnblggPT09ICdNaWQnKSB7XG4gICAgICAgIHdpZHRoRGlmZiAvPSAyO1xuICAgICAgfVxuICAgICAgaWYgKHByZXNlcnZlQXNwZWN0UmF0aW8uYWxpZ25ZID09PSAnTWlkJykge1xuICAgICAgICBoZWlnaHREaWZmIC89IDI7XG4gICAgICB9XG4gICAgICBpZiAocHJlc2VydmVBc3BlY3RSYXRpby5hbGlnblggPT09ICdNaW4nKSB7XG4gICAgICAgIHdpZHRoRGlmZiA9IDA7XG4gICAgICB9XG4gICAgICBpZiAocHJlc2VydmVBc3BlY3RSYXRpby5hbGlnblkgPT09ICdNaW4nKSB7XG4gICAgICAgIGhlaWdodERpZmYgPSAwO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzY2FsZVggPT09IDEgJiYgc2NhbGVZID09PSAxICYmIG1pblggPT09IDAgJiYgbWluWSA9PT0gMCAmJiB4ID09PSAwICYmIHkgPT09IDApIHtcbiAgICAgIHJldHVybiBwYXJzZWREaW07XG4gICAgfVxuICAgIGlmICgoeCB8fCB5KSAmJiBlbGVtZW50LnBhcmVudE5vZGUubm9kZU5hbWUgIT09ICcjZG9jdW1lbnQnKSB7XG4gICAgICB0cmFuc2xhdGVNYXRyaXggPSAnIHRyYW5zbGF0ZSgnICsgcGFyc2VVbml0KHgpICsgJyAnICsgcGFyc2VVbml0KHkpICsgJykgJztcbiAgICB9XG5cbiAgICBtYXRyaXggPSB0cmFuc2xhdGVNYXRyaXggKyAnIG1hdHJpeCgnICsgc2NhbGVYICtcbiAgICAgICAgICAgICAgICAgICcgMCcgK1xuICAgICAgICAgICAgICAgICAgJyAwICcgK1xuICAgICAgICAgICAgICAgICAgc2NhbGVZICsgJyAnICtcbiAgICAgICAgICAgICAgICAgIChtaW5YICogc2NhbGVYICsgd2lkdGhEaWZmKSArICcgJyArXG4gICAgICAgICAgICAgICAgICAobWluWSAqIHNjYWxlWSArIGhlaWdodERpZmYpICsgJykgJztcbiAgICAvLyBzZWVtcyB1bnVzZWQuXG4gICAgLy8gcGFyc2VkRGltLnZpZXdib3hUcmFuc2Zvcm0gPSBmYWJyaWMucGFyc2VUcmFuc2Zvcm1BdHRyaWJ1dGUobWF0cml4KTtcbiAgICBpZiAoZWxlbWVudC5ub2RlTmFtZSA9PT0gJ3N2ZycpIHtcbiAgICAgIGVsID0gZWxlbWVudC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhmYWJyaWMuc3ZnTlMsICdnJyk7XG4gICAgICAvLyBlbGVtZW50LmZpcnN0Q2hpbGQgIT0gbnVsbFxuICAgICAgd2hpbGUgKGVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgICAgICBlbC5hcHBlbmRDaGlsZChlbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgICAgfVxuICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChlbCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZWwgPSBlbGVtZW50O1xuICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKCd4Jyk7XG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ3knKTtcbiAgICAgIG1hdHJpeCA9IGVsLmdldEF0dHJpYnV0ZSgndHJhbnNmb3JtJykgKyBtYXRyaXg7XG4gICAgfVxuICAgIGVsLnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywgbWF0cml4KTtcbiAgICByZXR1cm4gcGFyc2VkRGltO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFzQW5jZXN0b3JXaXRoTm9kZU5hbWUoZWxlbWVudCwgbm9kZU5hbWUpIHtcbiAgICB3aGlsZSAoZWxlbWVudCAmJiAoZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZSkpIHtcbiAgICAgIGlmIChlbGVtZW50Lm5vZGVOYW1lICYmIG5vZGVOYW1lLnRlc3QoZWxlbWVudC5ub2RlTmFtZS5yZXBsYWNlKCdzdmc6JywgJycpKVxuICAgICAgICAmJiAhZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2luc3RhbnRpYXRlZF9ieV91c2UnKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFBhcnNlcyBhbiBTVkcgZG9jdW1lbnQsIGNvbnZlcnRzIGl0IHRvIGFuIGFycmF5IG9mIGNvcnJlc3BvbmRpbmcgZmFicmljLiogaW5zdGFuY2VzIGFuZCBwYXNzZXMgdGhlbSB0byBhIGNhbGxiYWNrXG4gICAqIEBzdGF0aWNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBmYWJyaWNcbiAgICogQHBhcmFtIHtTVkdEb2N1bWVudH0gZG9jIFNWRyBkb2N1bWVudCB0byBwYXJzZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsYmFjayB0byBjYWxsIHdoZW4gcGFyc2luZyBpcyBmaW5pc2hlZDtcbiAgICogSXQncyBiZWluZyBwYXNzZWQgYW4gYXJyYXkgb2YgZWxlbWVudHMgKHBhcnNlZCBmcm9tIGEgZG9jdW1lbnQpLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcmV2aXZlcl0gTWV0aG9kIGZvciBmdXJ0aGVyIHBhcnNpbmcgb2YgU1ZHIGVsZW1lbnRzLCBjYWxsZWQgYWZ0ZXIgZWFjaCBmYWJyaWMgb2JqZWN0IGNyZWF0ZWQuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbcGFyc2luZ09wdGlvbnNdIG9wdGlvbnMgZm9yIHBhcnNpbmcgZG9jdW1lbnRcbiAgICogQHBhcmFtIHtTdHJpbmd9IFtwYXJzaW5nT3B0aW9ucy5jcm9zc09yaWdpbl0gY3Jvc3NPcmlnaW4gc2V0dGluZ3NcbiAgICovXG4gIGZhYnJpYy5wYXJzZVNWR0RvY3VtZW50ID0gZnVuY3Rpb24oZG9jLCBjYWxsYmFjaywgcmV2aXZlciwgcGFyc2luZ09wdGlvbnMpIHtcbiAgICBpZiAoIWRvYykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHBhcnNlVXNlRGlyZWN0aXZlcyhkb2MpO1xuXG4gICAgdmFyIHN2Z1VpZCA9ICBmYWJyaWMuT2JqZWN0Ll9fdWlkKyssIGksIGxlbixcbiAgICAgICAgb3B0aW9ucyA9IGFwcGx5Vmlld2JveFRyYW5zZm9ybShkb2MpLFxuICAgICAgICBkZXNjZW5kYW50cyA9IGZhYnJpYy51dGlsLnRvQXJyYXkoZG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCcqJykpO1xuICAgIG9wdGlvbnMuY3Jvc3NPcmlnaW4gPSBwYXJzaW5nT3B0aW9ucyAmJiBwYXJzaW5nT3B0aW9ucy5jcm9zc09yaWdpbjtcbiAgICBvcHRpb25zLnN2Z1VpZCA9IHN2Z1VpZDtcblxuICAgIGlmIChkZXNjZW5kYW50cy5sZW5ndGggPT09IDAgJiYgZmFicmljLmlzTGlrZWx5Tm9kZSkge1xuICAgICAgLy8gd2UncmUgbGlrZWx5IGluIG5vZGUsIHdoZXJlIFwibzMteG1sXCIgbGlicmFyeSBmYWlscyB0byBnRUJUTihcIipcIilcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hamF4b3JnL25vZGUtbzMteG1sL2lzc3Vlcy8yMVxuICAgICAgZGVzY2VuZGFudHMgPSBkb2Muc2VsZWN0Tm9kZXMoJy8vKltuYW1lKC4pIT1cInN2Z1wiXScpO1xuICAgICAgdmFyIGFyciA9IFtdO1xuICAgICAgZm9yIChpID0gMCwgbGVuID0gZGVzY2VuZGFudHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgYXJyW2ldID0gZGVzY2VuZGFudHNbaV07XG4gICAgICB9XG4gICAgICBkZXNjZW5kYW50cyA9IGFycjtcbiAgICB9XG5cbiAgICB2YXIgZWxlbWVudHMgPSBkZXNjZW5kYW50cy5maWx0ZXIoZnVuY3Rpb24oZWwpIHtcbiAgICAgIGFwcGx5Vmlld2JveFRyYW5zZm9ybShlbCk7XG4gICAgICByZXR1cm4gZmFicmljLnN2Z1ZhbGlkVGFnTmFtZXNSZWdFeC50ZXN0KGVsLm5vZGVOYW1lLnJlcGxhY2UoJ3N2ZzonLCAnJykpICYmXG4gICAgICAgICAgICAhaGFzQW5jZXN0b3JXaXRoTm9kZU5hbWUoZWwsIGZhYnJpYy5zdmdJbnZhbGlkQW5jZXN0b3JzUmVnRXgpOyAvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcvc3RydWN0Lmh0bWwjRGVmc0VsZW1lbnRcbiAgICB9KTtcbiAgICBpZiAoIWVsZW1lbnRzIHx8IChlbGVtZW50cyAmJiAhZWxlbWVudHMubGVuZ3RoKSkge1xuICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soW10sIHt9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGNsaXBQYXRocyA9IHsgfTtcbiAgICBkZXNjZW5kYW50cy5maWx0ZXIoZnVuY3Rpb24oZWwpIHtcbiAgICAgIHJldHVybiBlbC5ub2RlTmFtZS5yZXBsYWNlKCdzdmc6JywgJycpID09PSAnY2xpcFBhdGgnO1xuICAgIH0pLmZvckVhY2goZnVuY3Rpb24oZWwpIHtcbiAgICAgIHZhciBpZCA9IGVsLmdldEF0dHJpYnV0ZSgnaWQnKTtcbiAgICAgIGNsaXBQYXRoc1tpZF0gPSBmYWJyaWMudXRpbC50b0FycmF5KGVsLmdldEVsZW1lbnRzQnlUYWdOYW1lKCcqJykpLmZpbHRlcihmdW5jdGlvbihlbCkge1xuICAgICAgICByZXR1cm4gZmFicmljLnN2Z1ZhbGlkVGFnTmFtZXNSZWdFeC50ZXN0KGVsLm5vZGVOYW1lLnJlcGxhY2UoJ3N2ZzonLCAnJykpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgZmFicmljLmdyYWRpZW50RGVmc1tzdmdVaWRdID0gZmFicmljLmdldEdyYWRpZW50RGVmcyhkb2MpO1xuICAgIGZhYnJpYy5jc3NSdWxlc1tzdmdVaWRdID0gZmFicmljLmdldENTU1J1bGVzKGRvYyk7XG4gICAgZmFicmljLmNsaXBQYXRoc1tzdmdVaWRdID0gY2xpcFBhdGhzO1xuICAgIC8vIFByZWNlZGVuY2Ugb2YgcnVsZXM6ICAgc3R5bGUgPiBjbGFzcyA+IGF0dHJpYnV0ZVxuICAgIGZhYnJpYy5wYXJzZUVsZW1lbnRzKGVsZW1lbnRzLCBmdW5jdGlvbihpbnN0YW5jZXMsIGVsZW1lbnRzKSB7XG4gICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2soaW5zdGFuY2VzLCBvcHRpb25zLCBlbGVtZW50cywgZGVzY2VuZGFudHMpO1xuICAgICAgICBkZWxldGUgZmFicmljLmdyYWRpZW50RGVmc1tzdmdVaWRdO1xuICAgICAgICBkZWxldGUgZmFicmljLmNzc1J1bGVzW3N2Z1VpZF07XG4gICAgICAgIGRlbGV0ZSBmYWJyaWMuY2xpcFBhdGhzW3N2Z1VpZF07XG4gICAgICB9XG4gICAgfSwgY2xvbmUob3B0aW9ucyksIHJldml2ZXIsIHBhcnNpbmdPcHRpb25zKTtcbiAgfTtcblxuICBmdW5jdGlvbiByZWN1cnNpdmVseVBhcnNlR3JhZGllbnRzWGxpbmsoZG9jLCBncmFkaWVudCkge1xuICAgIHZhciBncmFkaWVudHNBdHRycyA9IFsnZ3JhZGllbnRUcmFuc2Zvcm0nLCAneDEnLCAneDInLCAneTEnLCAneTInLCAnZ3JhZGllbnRVbml0cycsICdjeCcsICdjeScsICdyJywgJ2Z4JywgJ2Z5J10sXG4gICAgICAgIHhsaW5rQXR0ciA9ICd4bGluazpocmVmJyxcbiAgICAgICAgeExpbmsgPSBncmFkaWVudC5nZXRBdHRyaWJ1dGUoeGxpbmtBdHRyKS5zbGljZSgxKSxcbiAgICAgICAgcmVmZXJlbmNlZEdyYWRpZW50ID0gZWxlbWVudEJ5SWQoZG9jLCB4TGluayk7XG4gICAgaWYgKHJlZmVyZW5jZWRHcmFkaWVudCAmJiByZWZlcmVuY2VkR3JhZGllbnQuZ2V0QXR0cmlidXRlKHhsaW5rQXR0cikpIHtcbiAgICAgIHJlY3Vyc2l2ZWx5UGFyc2VHcmFkaWVudHNYbGluayhkb2MsIHJlZmVyZW5jZWRHcmFkaWVudCk7XG4gICAgfVxuICAgIGdyYWRpZW50c0F0dHJzLmZvckVhY2goZnVuY3Rpb24oYXR0cikge1xuICAgICAgaWYgKHJlZmVyZW5jZWRHcmFkaWVudCAmJiAhZ3JhZGllbnQuaGFzQXR0cmlidXRlKGF0dHIpICYmIHJlZmVyZW5jZWRHcmFkaWVudC5oYXNBdHRyaWJ1dGUoYXR0cikpIHtcbiAgICAgICAgZ3JhZGllbnQuc2V0QXR0cmlidXRlKGF0dHIsIHJlZmVyZW5jZWRHcmFkaWVudC5nZXRBdHRyaWJ1dGUoYXR0cikpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghZ3JhZGllbnQuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICB2YXIgcmVmZXJlbmNlQ2xvbmUgPSByZWZlcmVuY2VkR3JhZGllbnQuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgd2hpbGUgKHJlZmVyZW5jZUNsb25lLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgZ3JhZGllbnQuYXBwZW5kQ2hpbGQocmVmZXJlbmNlQ2xvbmUuZmlyc3RDaGlsZCk7XG4gICAgICB9XG4gICAgfVxuICAgIGdyYWRpZW50LnJlbW92ZUF0dHJpYnV0ZSh4bGlua0F0dHIpO1xuICB9XG5cbiAgdmFyIHJlRm9udERlY2xhcmF0aW9uID0gbmV3IFJlZ0V4cChcbiAgICAnKG5vcm1hbHxpdGFsaWMpP1xcXFxzKihub3JtYWx8c21hbGwtY2Fwcyk/XFxcXHMqJyArXG4gICAgJyhub3JtYWx8Ym9sZHxib2xkZXJ8bGlnaHRlcnwxMDB8MjAwfDMwMHw0MDB8NTAwfDYwMHw3MDB8ODAwfDkwMCk/XFxcXHMqKCcgK1xuICAgICAgZmFicmljLnJlTnVtICtcbiAgICAnKD86cHh8Y218bW18ZW18cHR8cGN8aW4pKikoPzpcXFxcLyhub3JtYWx8JyArIGZhYnJpYy5yZU51bSArICcpKT9cXFxccysoLiopJyk7XG5cbiAgZXh0ZW5kKGZhYnJpYywge1xuICAgIC8qKlxuICAgICAqIFBhcnNlcyBhIHNob3J0IGZvbnQgZGVjbGFyYXRpb24sIGJ1aWxkaW5nIGFkZGluZyBpdHMgcHJvcGVydGllcyB0byBhIHN0eWxlIG9iamVjdFxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAbWVtYmVyT2YgZmFicmljXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlIGZvbnQgZGVjbGFyYXRpb25cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb1N0eWxlIGRlZmluaXRpb25cbiAgICAgKi9cbiAgICBwYXJzZUZvbnREZWNsYXJhdGlvbjogZnVuY3Rpb24odmFsdWUsIG9TdHlsZSkge1xuICAgICAgdmFyIG1hdGNoID0gdmFsdWUubWF0Y2gocmVGb250RGVjbGFyYXRpb24pO1xuXG4gICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBmb250U3R5bGUgPSBtYXRjaFsxXSxcbiAgICAgICAgICAvLyBmb250IHZhcmlhbnQgaXMgbm90IHVzZWRcbiAgICAgICAgICAvLyBmb250VmFyaWFudCA9IG1hdGNoWzJdLFxuICAgICAgICAgIGZvbnRXZWlnaHQgPSBtYXRjaFszXSxcbiAgICAgICAgICBmb250U2l6ZSA9IG1hdGNoWzRdLFxuICAgICAgICAgIGxpbmVIZWlnaHQgPSBtYXRjaFs1XSxcbiAgICAgICAgICBmb250RmFtaWx5ID0gbWF0Y2hbNl07XG5cbiAgICAgIGlmIChmb250U3R5bGUpIHtcbiAgICAgICAgb1N0eWxlLmZvbnRTdHlsZSA9IGZvbnRTdHlsZTtcbiAgICAgIH1cbiAgICAgIGlmIChmb250V2VpZ2h0KSB7XG4gICAgICAgIG9TdHlsZS5mb250V2VpZ2h0ID0gaXNOYU4ocGFyc2VGbG9hdChmb250V2VpZ2h0KSkgPyBmb250V2VpZ2h0IDogcGFyc2VGbG9hdChmb250V2VpZ2h0KTtcbiAgICAgIH1cbiAgICAgIGlmIChmb250U2l6ZSkge1xuICAgICAgICBvU3R5bGUuZm9udFNpemUgPSBwYXJzZVVuaXQoZm9udFNpemUpO1xuICAgICAgfVxuICAgICAgaWYgKGZvbnRGYW1pbHkpIHtcbiAgICAgICAgb1N0eWxlLmZvbnRGYW1pbHkgPSBmb250RmFtaWx5O1xuICAgICAgfVxuICAgICAgaWYgKGxpbmVIZWlnaHQpIHtcbiAgICAgICAgb1N0eWxlLmxpbmVIZWlnaHQgPSBsaW5lSGVpZ2h0ID09PSAnbm9ybWFsJyA/IDEgOiBsaW5lSGVpZ2h0O1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgYW4gU1ZHIGRvY3VtZW50LCByZXR1cm5pbmcgYWxsIG9mIHRoZSBncmFkaWVudCBkZWNsYXJhdGlvbnMgZm91bmQgaW4gaXRcbiAgICAgKiBAc3RhdGljXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQG1lbWJlck9mIGZhYnJpY1xuICAgICAqIEBwYXJhbSB7U1ZHRG9jdW1lbnR9IGRvYyBTVkcgZG9jdW1lbnQgdG8gcGFyc2VcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEdyYWRpZW50IGRlZmluaXRpb25zOyBrZXkgY29ycmVzcG9uZHMgdG8gZWxlbWVudCBpZCwgdmFsdWUgLS0gdG8gZ3JhZGllbnQgZGVmaW5pdGlvbiBlbGVtZW50XG4gICAgICovXG4gICAgZ2V0R3JhZGllbnREZWZzOiBmdW5jdGlvbihkb2MpIHtcbiAgICAgIHZhciB0YWdBcnJheSA9IFtcbiAgICAgICAgICAgICdsaW5lYXJHcmFkaWVudCcsXG4gICAgICAgICAgICAncmFkaWFsR3JhZGllbnQnLFxuICAgICAgICAgICAgJ3N2ZzpsaW5lYXJHcmFkaWVudCcsXG4gICAgICAgICAgICAnc3ZnOnJhZGlhbEdyYWRpZW50J10sXG4gICAgICAgICAgZWxMaXN0ID0gX2dldE11bHRpcGxlTm9kZXMoZG9jLCB0YWdBcnJheSksXG4gICAgICAgICAgZWwsIGogPSAwLCBncmFkaWVudERlZnMgPSB7IH07XG4gICAgICBqID0gZWxMaXN0Lmxlbmd0aDtcbiAgICAgIHdoaWxlIChqLS0pIHtcbiAgICAgICAgZWwgPSBlbExpc3Rbal07XG4gICAgICAgIGlmIChlbC5nZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnKSkge1xuICAgICAgICAgIHJlY3Vyc2l2ZWx5UGFyc2VHcmFkaWVudHNYbGluayhkb2MsIGVsKTtcbiAgICAgICAgfVxuICAgICAgICBncmFkaWVudERlZnNbZWwuZ2V0QXR0cmlidXRlKCdpZCcpXSA9IGVsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGdyYWRpZW50RGVmcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBvYmplY3Qgb2YgYXR0cmlidXRlcycgbmFtZS92YWx1ZSwgZ2l2ZW4gZWxlbWVudCBhbmQgYW4gYXJyYXkgb2YgYXR0cmlidXRlIG5hbWVzO1xuICAgICAqIFBhcnNlcyBwYXJlbnQgXCJnXCIgbm9kZXMgcmVjdXJzaXZlbHkgdXB3YXJkcy5cbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpY1xuICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWxlbWVudCBFbGVtZW50IHRvIHBhcnNlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXR0cmlidXRlcyBBcnJheSBvZiBhdHRyaWJ1dGVzIHRvIHBhcnNlXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBvYmplY3QgY29udGFpbmluZyBwYXJzZWQgYXR0cmlidXRlcycgbmFtZXMvdmFsdWVzXG4gICAgICovXG4gICAgcGFyc2VBdHRyaWJ1dGVzOiBmdW5jdGlvbihlbGVtZW50LCBhdHRyaWJ1dGVzLCBzdmdVaWQpIHtcblxuICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHZhbHVlLFxuICAgICAgICAgIHBhcmVudEF0dHJpYnV0ZXMgPSB7IH0sXG4gICAgICAgICAgZm9udFNpemUsIHBhcmVudEZvbnRTaXplO1xuXG4gICAgICBpZiAodHlwZW9mIHN2Z1VpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgc3ZnVWlkID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3N2Z1VpZCcpO1xuICAgICAgfVxuICAgICAgLy8gaWYgdGhlcmUncyBhIHBhcmVudCBjb250YWluZXIgKGBnYCBvciBgYWAgb3IgYHN5bWJvbGAgbm9kZSksIHBhcnNlIGl0cyBhdHRyaWJ1dGVzIHJlY3Vyc2l2ZWx5IHVwd2FyZHNcbiAgICAgIGlmIChlbGVtZW50LnBhcmVudE5vZGUgJiYgZmFicmljLnN2Z1ZhbGlkUGFyZW50c1JlZ0V4LnRlc3QoZWxlbWVudC5wYXJlbnROb2RlLm5vZGVOYW1lKSkge1xuICAgICAgICBwYXJlbnRBdHRyaWJ1dGVzID0gZmFicmljLnBhcnNlQXR0cmlidXRlcyhlbGVtZW50LnBhcmVudE5vZGUsIGF0dHJpYnV0ZXMsIHN2Z1VpZCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBvd25BdHRyaWJ1dGVzID0gYXR0cmlidXRlcy5yZWR1Y2UoZnVuY3Rpb24obWVtbywgYXR0cikge1xuICAgICAgICB2YWx1ZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHIpO1xuICAgICAgICBpZiAodmFsdWUpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICAgIG1lbW9bYXR0cl0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVtbztcbiAgICAgIH0sIHsgfSk7XG4gICAgICAvLyBhZGQgdmFsdWVzIHBhcnNlZCBmcm9tIHN0eWxlLCB3aGljaCB0YWtlIHByZWNlZGVuY2Ugb3ZlciBhdHRyaWJ1dGVzXG4gICAgICAvLyAoc2VlOiBodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcvc3R5bGluZy5odG1sI1VzaW5nUHJlc2VudGF0aW9uQXR0cmlidXRlcylcbiAgICAgIHZhciBjc3NBdHRycyA9IGV4dGVuZChcbiAgICAgICAgZ2V0R2xvYmFsU3R5bGVzRm9yRWxlbWVudChlbGVtZW50LCBzdmdVaWQpLFxuICAgICAgICBmYWJyaWMucGFyc2VTdHlsZUF0dHJpYnV0ZShlbGVtZW50KVxuICAgICAgKTtcbiAgICAgIG93bkF0dHJpYnV0ZXMgPSBleHRlbmQoXG4gICAgICAgIG93bkF0dHJpYnV0ZXMsXG4gICAgICAgIGNzc0F0dHJzXG4gICAgICApO1xuICAgICAgaWYgKGNzc0F0dHJzW2NQYXRoXSkge1xuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShjUGF0aCwgY3NzQXR0cnNbY1BhdGhdKTtcbiAgICAgIH1cbiAgICAgIGZvbnRTaXplID0gcGFyZW50Rm9udFNpemUgPSBwYXJlbnRBdHRyaWJ1dGVzLmZvbnRTaXplIHx8IGZhYnJpYy5UZXh0LkRFRkFVTFRfU1ZHX0ZPTlRfU0laRTtcbiAgICAgIGlmIChvd25BdHRyaWJ1dGVzW2ZTaXplXSkge1xuICAgICAgICAvLyBsb29rcyBsaWtlIHRoZSBtaW5pbXVtIHNob3VsZCBiZSA5cHggd2hlbiBkZWFsaW5nIHdpdGggZW1zLiB0aGlzIGlzIHdoYXQgbG9va3MgbGlrZSBpbiBicm93c2Vycy5cbiAgICAgICAgb3duQXR0cmlidXRlc1tmU2l6ZV0gPSBmb250U2l6ZSA9IHBhcnNlVW5pdChvd25BdHRyaWJ1dGVzW2ZTaXplXSwgcGFyZW50Rm9udFNpemUpO1xuICAgICAgfVxuXG4gICAgICB2YXIgbm9ybWFsaXplZEF0dHIsIG5vcm1hbGl6ZWRWYWx1ZSwgbm9ybWFsaXplZFN0eWxlID0ge307XG4gICAgICBmb3IgKHZhciBhdHRyIGluIG93bkF0dHJpYnV0ZXMpIHtcbiAgICAgICAgbm9ybWFsaXplZEF0dHIgPSBub3JtYWxpemVBdHRyKGF0dHIpO1xuICAgICAgICBub3JtYWxpemVkVmFsdWUgPSBub3JtYWxpemVWYWx1ZShub3JtYWxpemVkQXR0ciwgb3duQXR0cmlidXRlc1thdHRyXSwgcGFyZW50QXR0cmlidXRlcywgZm9udFNpemUpO1xuICAgICAgICBub3JtYWxpemVkU3R5bGVbbm9ybWFsaXplZEF0dHJdID0gbm9ybWFsaXplZFZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKG5vcm1hbGl6ZWRTdHlsZSAmJiBub3JtYWxpemVkU3R5bGUuZm9udCkge1xuICAgICAgICBmYWJyaWMucGFyc2VGb250RGVjbGFyYXRpb24obm9ybWFsaXplZFN0eWxlLmZvbnQsIG5vcm1hbGl6ZWRTdHlsZSk7XG4gICAgICB9XG4gICAgICB2YXIgbWVyZ2VkQXR0cnMgPSBleHRlbmQocGFyZW50QXR0cmlidXRlcywgbm9ybWFsaXplZFN0eWxlKTtcbiAgICAgIHJldHVybiBmYWJyaWMuc3ZnVmFsaWRQYXJlbnRzUmVnRXgudGVzdChlbGVtZW50Lm5vZGVOYW1lKSA/IG1lcmdlZEF0dHJzIDogX3NldFN0cm9rZUZpbGxPcGFjaXR5KG1lcmdlZEF0dHJzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtcyBhbiBhcnJheSBvZiBzdmcgZWxlbWVudHMgdG8gY29ycmVzcG9uZGluZyBmYWJyaWMuKiBpbnN0YW5jZXNcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpY1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IGVsZW1lbnRzIEFycmF5IG9mIGVsZW1lbnRzIHRvIHBhcnNlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQmVpbmcgcGFzc2VkIGFuIGFycmF5IG9mIGZhYnJpYyBpbnN0YW5jZXMgKHRyYW5zZm9ybWVkIGZyb20gU1ZHIGVsZW1lbnRzKVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcmV2aXZlcl0gTWV0aG9kIGZvciBmdXJ0aGVyIHBhcnNpbmcgb2YgU1ZHIGVsZW1lbnRzLCBjYWxsZWQgYWZ0ZXIgZWFjaCBmYWJyaWMgb2JqZWN0IGNyZWF0ZWQuXG4gICAgICovXG4gICAgcGFyc2VFbGVtZW50czogZnVuY3Rpb24oZWxlbWVudHMsIGNhbGxiYWNrLCBvcHRpb25zLCByZXZpdmVyLCBwYXJzaW5nT3B0aW9ucykge1xuICAgICAgbmV3IGZhYnJpYy5FbGVtZW50c1BhcnNlcihlbGVtZW50cywgY2FsbGJhY2ssIG9wdGlvbnMsIHJldml2ZXIsIHBhcnNpbmdPcHRpb25zKS5wYXJzZSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgXCJzdHlsZVwiIGF0dHJpYnV0ZSwgcmV0dW5pbmcgYW4gb2JqZWN0IHdpdGggdmFsdWVzXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWNcbiAgICAgKiBAcGFyYW0ge1NWR0VsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCB0byBwYXJzZVxuICAgICAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0cyB3aXRoIHZhbHVlcyBwYXJzZWQgZnJvbSBzdHlsZSBhdHRyaWJ1dGUgb2YgYW4gZWxlbWVudFxuICAgICAqL1xuICAgIHBhcnNlU3R5bGVBdHRyaWJ1dGU6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIHZhciBvU3R5bGUgPSB7IH0sXG4gICAgICAgICAgc3R5bGUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnc3R5bGUnKTtcblxuICAgICAgaWYgKCFzdHlsZSkge1xuICAgICAgICByZXR1cm4gb1N0eWxlO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHN0eWxlID09PSAnc3RyaW5nJykge1xuICAgICAgICBwYXJzZVN0eWxlU3RyaW5nKHN0eWxlLCBvU3R5bGUpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHBhcnNlU3R5bGVPYmplY3Qoc3R5bGUsIG9TdHlsZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvU3R5bGU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFBhcnNlcyBcInBvaW50c1wiIGF0dHJpYnV0ZSwgcmV0dXJuaW5nIGFuIGFycmF5IG9mIHZhbHVlc1xuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHBvaW50cyBwb2ludHMgYXR0cmlidXRlIHN0cmluZ1xuICAgICAqIEByZXR1cm4ge0FycmF5fSBhcnJheSBvZiBwb2ludHNcbiAgICAgKi9cbiAgICBwYXJzZVBvaW50c0F0dHJpYnV0ZTogZnVuY3Rpb24ocG9pbnRzKSB7XG5cbiAgICAgIC8vIHBvaW50cyBhdHRyaWJ1dGUgaXMgcmVxdWlyZWQgYW5kIG11c3Qgbm90IGJlIGVtcHR5XG4gICAgICBpZiAoIXBvaW50cykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgLy8gcmVwbGFjZSBjb21tYXMgd2l0aCB3aGl0ZXNwYWNlIGFuZCByZW1vdmUgYm9va2VuZGluZyB3aGl0ZXNwYWNlXG4gICAgICBwb2ludHMgPSBwb2ludHMucmVwbGFjZSgvLC9nLCAnICcpLnRyaW0oKTtcblxuICAgICAgcG9pbnRzID0gcG9pbnRzLnNwbGl0KC9cXHMrLyk7XG4gICAgICB2YXIgcGFyc2VkUG9pbnRzID0gW10sIGksIGxlbjtcblxuICAgICAgZm9yIChpID0gMCwgbGVuID0gcG9pbnRzLmxlbmd0aDsgaSA8IGxlbjsgaSArPSAyKSB7XG4gICAgICAgIHBhcnNlZFBvaW50cy5wdXNoKHtcbiAgICAgICAgICB4OiBwYXJzZUZsb2F0KHBvaW50c1tpXSksXG4gICAgICAgICAgeTogcGFyc2VGbG9hdChwb2ludHNbaSArIDFdKVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gb2RkIG51bWJlciBvZiBwb2ludHMgaXMgYW4gZXJyb3JcbiAgICAgIC8vIGlmIChwYXJzZWRQb2ludHMubGVuZ3RoICUgMiAhPT0gMCkge1xuICAgICAgLy8gICByZXR1cm4gbnVsbDtcbiAgICAgIC8vIH1cblxuICAgICAgcmV0dXJuIHBhcnNlZFBvaW50cztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBDU1MgcnVsZXMgZm9yIGEgZ2l2ZW4gU1ZHIGRvY3VtZW50XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBtZW1iZXJPZiBmYWJyaWNcbiAgICAgKiBAcGFyYW0ge1NWR0RvY3VtZW50fSBkb2MgU1ZHIGRvY3VtZW50IHRvIHBhcnNlXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBDU1MgcnVsZXMgb2YgdGhpcyBkb2N1bWVudFxuICAgICAqL1xuICAgIGdldENTU1J1bGVzOiBmdW5jdGlvbihkb2MpIHtcbiAgICAgIHZhciBzdHlsZXMgPSBkb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3N0eWxlJyksIGksIGxlbixcbiAgICAgICAgICBhbGxSdWxlcyA9IHsgfSwgcnVsZXM7XG5cbiAgICAgIC8vIHZlcnkgY3J1ZGUgcGFyc2luZyBvZiBzdHlsZSBjb250ZW50c1xuICAgICAgZm9yIChpID0gMCwgbGVuID0gc3R5bGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciBzdHlsZUNvbnRlbnRzID0gc3R5bGVzW2ldLnRleHRDb250ZW50O1xuXG4gICAgICAgIC8vIHJlbW92ZSBjb21tZW50c1xuICAgICAgICBzdHlsZUNvbnRlbnRzID0gc3R5bGVDb250ZW50cy5yZXBsYWNlKC9cXC9cXCpbXFxzXFxTXSo/XFwqXFwvL2csICcnKTtcbiAgICAgICAgaWYgKHN0eWxlQ29udGVudHMudHJpbSgpID09PSAnJykge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJlY292ZXJzIGFsbCB0aGUgcnVsZSBpbiB0aGlzIGZvcm0gYGJvZHkgeyBzdHlsZSBjb2RlLi4uIH1gXG4gICAgICAgIC8vIHJ1bGVzID0gc3R5bGVDb250ZW50cy5tYXRjaCgvW157XSpcXHtbXFxzXFxTXSo/XFx9L2cpO1xuICAgICAgICBydWxlcyA9IHN0eWxlQ29udGVudHMuc3BsaXQoJ30nKTtcbiAgICAgICAgLy8gcmVtb3ZlIGVtcHR5IHJ1bGVzLlxuICAgICAgICBydWxlcyA9IHJ1bGVzLmZpbHRlcihmdW5jdGlvbihydWxlKSB7IHJldHVybiBydWxlLnRyaW0oKTsgfSk7XG4gICAgICAgIC8vIGF0IHRoaXMgcG9pbnQgd2UgaGF2ZSBob3BlZnVsbHkgYW4gYXJyYXkgb2YgcnVsZXMgYGJvZHkgeyBzdHlsZSBjb2RlLi4uIGBcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWxvb3AtZnVuY1xuICAgICAgICBydWxlcy5mb3JFYWNoKGZ1bmN0aW9uKHJ1bGUpIHtcblxuICAgICAgICAgIHZhciBtYXRjaCA9IHJ1bGUuc3BsaXQoJ3snKSxcbiAgICAgICAgICAgICAgcnVsZU9iaiA9IHsgfSwgZGVjbGFyYXRpb24gPSBtYXRjaFsxXS50cmltKCksXG4gICAgICAgICAgICAgIHByb3BlcnR5VmFsdWVQYWlycyA9IGRlY2xhcmF0aW9uLnNwbGl0KCc7JykuZmlsdGVyKGZ1bmN0aW9uKHBhaXIpIHsgcmV0dXJuIHBhaXIudHJpbSgpOyB9KTtcblxuICAgICAgICAgIGZvciAoaSA9IDAsIGxlbiA9IHByb3BlcnR5VmFsdWVQYWlycy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIHBhaXIgPSBwcm9wZXJ0eVZhbHVlUGFpcnNbaV0uc3BsaXQoJzonKSxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eSA9IHBhaXJbMF0udHJpbSgpLFxuICAgICAgICAgICAgICAgIHZhbHVlID0gcGFpclsxXS50cmltKCk7XG4gICAgICAgICAgICBydWxlT2JqW3Byb3BlcnR5XSA9IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBydWxlID0gbWF0Y2hbMF0udHJpbSgpO1xuICAgICAgICAgIHJ1bGUuc3BsaXQoJywnKS5mb3JFYWNoKGZ1bmN0aW9uKF9ydWxlKSB7XG4gICAgICAgICAgICBfcnVsZSA9IF9ydWxlLnJlcGxhY2UoL15zdmcvaSwgJycpLnRyaW0oKTtcbiAgICAgICAgICAgIGlmIChfcnVsZSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFsbFJ1bGVzW19ydWxlXSkge1xuICAgICAgICAgICAgICBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kKGFsbFJ1bGVzW19ydWxlXSwgcnVsZU9iaik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgYWxsUnVsZXNbX3J1bGVdID0gZmFicmljLnV0aWwub2JqZWN0LmNsb25lKHJ1bGVPYmopO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhbGxSdWxlcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVGFrZXMgdXJsIGNvcnJlc3BvbmRpbmcgdG8gYW4gU1ZHIGRvY3VtZW50LCBhbmQgcGFyc2VzIGl0IGludG8gYSBzZXQgb2YgZmFicmljIG9iamVjdHMuXG4gICAgICogTm90ZSB0aGF0IFNWRyBpcyBmZXRjaGVkIHZpYSBYTUxIdHRwUmVxdWVzdCwgc28gaXQgbmVlZHMgdG8gY29uZm9ybSB0byBTT1AgKFNhbWUgT3JpZ2luIFBvbGljeSlcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHVybFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3Jldml2ZXJdIE1ldGhvZCBmb3IgZnVydGhlciBwYXJzaW5nIG9mIFNWRyBlbGVtZW50cywgY2FsbGVkIGFmdGVyIGVhY2ggZmFicmljIG9iamVjdCBjcmVhdGVkLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT2JqZWN0IGNvbnRhaW5pbmcgb3B0aW9ucyBmb3IgcGFyc2luZ1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5jcm9zc09yaWdpbl0gY3Jvc3NPcmlnaW4gY3Jvc3NPcmlnaW4gc2V0dGluZyB0byB1c2UgZm9yIGV4dGVybmFsIHJlc291cmNlc1xuICAgICAqL1xuICAgIGxvYWRTVkdGcm9tVVJMOiBmdW5jdGlvbih1cmwsIGNhbGxiYWNrLCByZXZpdmVyLCBvcHRpb25zKSB7XG5cbiAgICAgIHVybCA9IHVybC5yZXBsYWNlKC9eXFxuXFxzKi8sICcnKS50cmltKCk7XG4gICAgICBuZXcgZmFicmljLnV0aWwucmVxdWVzdCh1cmwsIHtcbiAgICAgICAgbWV0aG9kOiAnZ2V0JyxcbiAgICAgICAgb25Db21wbGV0ZTogb25Db21wbGV0ZVxuICAgICAgfSk7XG5cbiAgICAgIGZ1bmN0aW9uIG9uQ29tcGxldGUocikge1xuXG4gICAgICAgIHZhciB4bWwgPSByLnJlc3BvbnNlWE1MO1xuICAgICAgICBpZiAoIXhtbCB8fCAheG1sLmRvY3VtZW50RWxlbWVudCkge1xuICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZhYnJpYy5wYXJzZVNWR0RvY3VtZW50KHhtbC5kb2N1bWVudEVsZW1lbnQsIGZ1bmN0aW9uIChyZXN1bHRzLCBfb3B0aW9ucywgZWxlbWVudHMsIGFsbEVsZW1lbnRzKSB7XG4gICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2socmVzdWx0cywgX29wdGlvbnMsIGVsZW1lbnRzLCBhbGxFbGVtZW50cyk7XG4gICAgICAgIH0sIHJldml2ZXIsIG9wdGlvbnMpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUYWtlcyBzdHJpbmcgY29ycmVzcG9uZGluZyB0byBhbiBTVkcgZG9jdW1lbnQsIGFuZCBwYXJzZXMgaXQgaW50byBhIHNldCBvZiBmYWJyaWMgb2JqZWN0c1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcmV2aXZlcl0gTWV0aG9kIGZvciBmdXJ0aGVyIHBhcnNpbmcgb2YgU1ZHIGVsZW1lbnRzLCBjYWxsZWQgYWZ0ZXIgZWFjaCBmYWJyaWMgb2JqZWN0IGNyZWF0ZWQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPYmplY3QgY29udGFpbmluZyBvcHRpb25zIGZvciBwYXJzaW5nXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmNyb3NzT3JpZ2luXSBjcm9zc09yaWdpbiBjcm9zc09yaWdpbiBzZXR0aW5nIHRvIHVzZSBmb3IgZXh0ZXJuYWwgcmVzb3VyY2VzXG4gICAgICovXG4gICAgbG9hZFNWR0Zyb21TdHJpbmc6IGZ1bmN0aW9uKHN0cmluZywgY2FsbGJhY2ssIHJldml2ZXIsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBwYXJzZXIgPSBuZXcgZmFicmljLndpbmRvdy5ET01QYXJzZXIoKSxcbiAgICAgICAgICBkb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHN0cmluZy50cmltKCksICd0ZXh0L3htbCcpO1xuICAgICAgZmFicmljLnBhcnNlU1ZHRG9jdW1lbnQoZG9jLmRvY3VtZW50RWxlbWVudCwgZnVuY3Rpb24gKHJlc3VsdHMsIF9vcHRpb25zLCBlbGVtZW50cywgYWxsRWxlbWVudHMpIHtcbiAgICAgICAgY2FsbGJhY2socmVzdWx0cywgX29wdGlvbnMsIGVsZW1lbnRzLCBhbGxFbGVtZW50cyk7XG4gICAgICB9LCByZXZpdmVyLCBvcHRpb25zKTtcbiAgICB9XG4gIH0pO1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuZmFicmljLkVsZW1lbnRzUGFyc2VyID0gZnVuY3Rpb24oZWxlbWVudHMsIGNhbGxiYWNrLCBvcHRpb25zLCByZXZpdmVyLCBwYXJzaW5nT3B0aW9ucywgZG9jKSB7XG4gIHRoaXMuZWxlbWVudHMgPSBlbGVtZW50cztcbiAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICB0aGlzLnJldml2ZXIgPSByZXZpdmVyO1xuICB0aGlzLnN2Z1VpZCA9IChvcHRpb25zICYmIG9wdGlvbnMuc3ZnVWlkKSB8fCAwO1xuICB0aGlzLnBhcnNpbmdPcHRpb25zID0gcGFyc2luZ09wdGlvbnM7XG4gIHRoaXMucmVnZXhVcmwgPSAvXnVybFxcKFsnXCJdPyMoW14nXCJdKylbJ1wiXT9cXCkvZztcbiAgdGhpcy5kb2MgPSBkb2M7XG59O1xuXG4oZnVuY3Rpb24ocHJvdG8pIHtcbiAgcHJvdG8ucGFyc2UgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmluc3RhbmNlcyA9IG5ldyBBcnJheSh0aGlzLmVsZW1lbnRzLmxlbmd0aCk7XG4gICAgdGhpcy5udW1FbGVtZW50cyA9IHRoaXMuZWxlbWVudHMubGVuZ3RoO1xuICAgIHRoaXMuY3JlYXRlT2JqZWN0cygpO1xuICB9O1xuXG4gIHByb3RvLmNyZWF0ZU9iamVjdHMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHRoaXMuZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50LCBpKSB7XG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnc3ZnVWlkJywgX3RoaXMuc3ZnVWlkKTtcbiAgICAgIF90aGlzLmNyZWF0ZU9iamVjdChlbGVtZW50LCBpKTtcbiAgICB9KTtcbiAgfTtcblxuICBwcm90by5maW5kVGFnID0gZnVuY3Rpb24oZWwpIHtcbiAgICByZXR1cm4gZmFicmljW2ZhYnJpYy51dGlsLnN0cmluZy5jYXBpdGFsaXplKGVsLnRhZ05hbWUucmVwbGFjZSgnc3ZnOicsICcnKSldO1xuICB9O1xuXG4gIHByb3RvLmNyZWF0ZU9iamVjdCA9IGZ1bmN0aW9uKGVsLCBpbmRleCkge1xuICAgIHZhciBrbGFzcyA9IHRoaXMuZmluZFRhZyhlbCk7XG4gICAgaWYgKGtsYXNzICYmIGtsYXNzLmZyb21FbGVtZW50KSB7XG4gICAgICB0cnkge1xuICAgICAgICBrbGFzcy5mcm9tRWxlbWVudChlbCwgdGhpcy5jcmVhdGVDYWxsYmFjayhpbmRleCwgZWwpLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICBmYWJyaWMubG9nKGVycik7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5jaGVja0lmRG9uZSgpO1xuICAgIH1cbiAgfTtcblxuICBwcm90by5jcmVhdGVDYWxsYmFjayA9IGZ1bmN0aW9uKGluZGV4LCBlbCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9iaikge1xuICAgICAgdmFyIF9vcHRpb25zO1xuICAgICAgX3RoaXMucmVzb2x2ZUdyYWRpZW50KG9iaiwgZWwsICdmaWxsJyk7XG4gICAgICBfdGhpcy5yZXNvbHZlR3JhZGllbnQob2JqLCBlbCwgJ3N0cm9rZScpO1xuICAgICAgaWYgKG9iaiBpbnN0YW5jZW9mIGZhYnJpYy5JbWFnZSAmJiBvYmouX29yaWdpbmFsRWxlbWVudCkge1xuICAgICAgICBfb3B0aW9ucyA9IG9iai5wYXJzZVByZXNlcnZlQXNwZWN0UmF0aW9BdHRyaWJ1dGUoZWwpO1xuICAgICAgfVxuICAgICAgb2JqLl9yZW1vdmVUcmFuc2Zvcm1NYXRyaXgoX29wdGlvbnMpO1xuICAgICAgX3RoaXMucmVzb2x2ZUNsaXBQYXRoKG9iaiwgZWwpO1xuICAgICAgX3RoaXMucmV2aXZlciAmJiBfdGhpcy5yZXZpdmVyKGVsLCBvYmopO1xuICAgICAgX3RoaXMuaW5zdGFuY2VzW2luZGV4XSA9IG9iajtcbiAgICAgIF90aGlzLmNoZWNrSWZEb25lKCk7XG4gICAgfTtcbiAgfTtcblxuICBwcm90by5leHRyYWN0UHJvcGVydHlEZWZpbml0aW9uID0gZnVuY3Rpb24ob2JqLCBwcm9wZXJ0eSwgc3RvcmFnZSkge1xuICAgIHZhciB2YWx1ZSA9IG9ialtwcm9wZXJ0eV0sIHJlZ2V4ID0gdGhpcy5yZWdleFVybDtcbiAgICBpZiAoIXJlZ2V4LnRlc3QodmFsdWUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJlZ2V4Lmxhc3RJbmRleCA9IDA7XG4gICAgdmFyIGlkID0gcmVnZXguZXhlYyh2YWx1ZSlbMV07XG4gICAgcmVnZXgubGFzdEluZGV4ID0gMDtcbiAgICByZXR1cm4gZmFicmljW3N0b3JhZ2VdW3RoaXMuc3ZnVWlkXVtpZF07XG4gIH07XG5cbiAgcHJvdG8ucmVzb2x2ZUdyYWRpZW50ID0gZnVuY3Rpb24ob2JqLCBlbCwgcHJvcGVydHkpIHtcbiAgICB2YXIgZ3JhZGllbnREZWYgPSB0aGlzLmV4dHJhY3RQcm9wZXJ0eURlZmluaXRpb24ob2JqLCBwcm9wZXJ0eSwgJ2dyYWRpZW50RGVmcycpO1xuICAgIGlmIChncmFkaWVudERlZikge1xuICAgICAgdmFyIG9wYWNpdHlBdHRyID0gZWwuZ2V0QXR0cmlidXRlKHByb3BlcnR5ICsgJy1vcGFjaXR5Jyk7XG4gICAgICB2YXIgZ3JhZGllbnQgPSBmYWJyaWMuR3JhZGllbnQuZnJvbUVsZW1lbnQoZ3JhZGllbnREZWYsIG9iaiwgb3BhY2l0eUF0dHIsIHRoaXMub3B0aW9ucyk7XG4gICAgICBvYmouc2V0KHByb3BlcnR5LCBncmFkaWVudCk7XG4gICAgfVxuICB9O1xuXG4gIHByb3RvLmNyZWF0ZUNsaXBQYXRoQ2FsbGJhY2sgPSBmdW5jdGlvbihvYmosIGNvbnRhaW5lcikge1xuICAgIHJldHVybiBmdW5jdGlvbihfbmV3T2JqKSB7XG4gICAgICBfbmV3T2JqLl9yZW1vdmVUcmFuc2Zvcm1NYXRyaXgoKTtcbiAgICAgIF9uZXdPYmouZmlsbFJ1bGUgPSBfbmV3T2JqLmNsaXBSdWxlO1xuICAgICAgY29udGFpbmVyLnB1c2goX25ld09iaik7XG4gICAgfTtcbiAgfTtcblxuICBwcm90by5yZXNvbHZlQ2xpcFBhdGggPSBmdW5jdGlvbihvYmosIHVzaW5nRWxlbWVudCkge1xuICAgIHZhciBjbGlwUGF0aCA9IHRoaXMuZXh0cmFjdFByb3BlcnR5RGVmaW5pdGlvbihvYmosICdjbGlwUGF0aCcsICdjbGlwUGF0aHMnKSxcbiAgICAgICAgZWxlbWVudCwga2xhc3MsIG9ialRyYW5zZm9ybUludiwgY29udGFpbmVyLCBnVHJhbnNmb3JtLCBvcHRpb25zO1xuICAgIGlmIChjbGlwUGF0aCkge1xuICAgICAgY29udGFpbmVyID0gW107XG4gICAgICBvYmpUcmFuc2Zvcm1JbnYgPSBmYWJyaWMudXRpbC5pbnZlcnRUcmFuc2Zvcm0ob2JqLmNhbGNUcmFuc2Zvcm1NYXRyaXgoKSk7XG4gICAgICAvLyBtb3ZlIHRoZSBjbGlwUGF0aCB0YWcgYXMgc2libGluZyB0byB0aGUgcmVhbCBlbGVtZW50IHRoYXQgaXMgdXNpbmcgaXRcbiAgICAgIHZhciBjbGlwUGF0aFRhZyA9IGNsaXBQYXRoWzBdLnBhcmVudE5vZGU7XG4gICAgICB2YXIgY2xpcFBhdGhPd25lciA9IHVzaW5nRWxlbWVudDtcbiAgICAgIHdoaWxlIChjbGlwUGF0aE93bmVyLnBhcmVudE5vZGUgJiYgY2xpcFBhdGhPd25lci5nZXRBdHRyaWJ1dGUoJ2NsaXAtcGF0aCcpICE9PSBvYmouY2xpcFBhdGgpIHtcbiAgICAgICAgY2xpcFBhdGhPd25lciA9IGNsaXBQYXRoT3duZXIucGFyZW50Tm9kZTtcbiAgICAgIH1cbiAgICAgIGNsaXBQYXRoT3duZXIucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChjbGlwUGF0aFRhZyk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNsaXBQYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGVsZW1lbnQgPSBjbGlwUGF0aFtpXTtcbiAgICAgICAga2xhc3MgPSB0aGlzLmZpbmRUYWcoZWxlbWVudCk7XG4gICAgICAgIGtsYXNzLmZyb21FbGVtZW50KFxuICAgICAgICAgIGVsZW1lbnQsXG4gICAgICAgICAgdGhpcy5jcmVhdGVDbGlwUGF0aENhbGxiYWNrKG9iaiwgY29udGFpbmVyKSxcbiAgICAgICAgICB0aGlzLm9wdGlvbnNcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChjb250YWluZXIubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGNsaXBQYXRoID0gY29udGFpbmVyWzBdO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGNsaXBQYXRoID0gbmV3IGZhYnJpYy5Hcm91cChjb250YWluZXIpO1xuICAgICAgfVxuICAgICAgZ1RyYW5zZm9ybSA9IGZhYnJpYy51dGlsLm11bHRpcGx5VHJhbnNmb3JtTWF0cmljZXMoXG4gICAgICAgIG9ialRyYW5zZm9ybUludixcbiAgICAgICAgY2xpcFBhdGguY2FsY1RyYW5zZm9ybU1hdHJpeCgpXG4gICAgICApO1xuICAgICAgaWYgKGNsaXBQYXRoLmNsaXBQYXRoKSB7XG4gICAgICAgIHRoaXMucmVzb2x2ZUNsaXBQYXRoKGNsaXBQYXRoLCBjbGlwUGF0aE93bmVyKTtcbiAgICAgIH1cbiAgICAgIHZhciBvcHRpb25zID0gZmFicmljLnV0aWwucXJEZWNvbXBvc2UoZ1RyYW5zZm9ybSk7XG4gICAgICBjbGlwUGF0aC5mbGlwWCA9IGZhbHNlO1xuICAgICAgY2xpcFBhdGguZmxpcFkgPSBmYWxzZTtcbiAgICAgIGNsaXBQYXRoLnNldCgnc2NhbGVYJywgb3B0aW9ucy5zY2FsZVgpO1xuICAgICAgY2xpcFBhdGguc2V0KCdzY2FsZVknLCBvcHRpb25zLnNjYWxlWSk7XG4gICAgICBjbGlwUGF0aC5hbmdsZSA9IG9wdGlvbnMuYW5nbGU7XG4gICAgICBjbGlwUGF0aC5za2V3WCA9IG9wdGlvbnMuc2tld1g7XG4gICAgICBjbGlwUGF0aC5za2V3WSA9IDA7XG4gICAgICBjbGlwUGF0aC5zZXRQb3NpdGlvbkJ5T3JpZ2luKHsgeDogb3B0aW9ucy50cmFuc2xhdGVYLCB5OiBvcHRpb25zLnRyYW5zbGF0ZVkgfSwgJ2NlbnRlcicsICdjZW50ZXInKTtcbiAgICAgIG9iai5jbGlwUGF0aCA9IGNsaXBQYXRoO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIC8vIGlmIGNsaXAtcGF0aCBkb2VzIG5vdCByZXNvbHZlIHRvIGFueSBlbGVtZW50LCBkZWxldGUgdGhlIHByb3BlcnR5LlxuICAgICAgZGVsZXRlIG9iai5jbGlwUGF0aDtcbiAgICB9XG4gIH07XG5cbiAgcHJvdG8uY2hlY2tJZkRvbmUgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoLS10aGlzLm51bUVsZW1lbnRzID09PSAwKSB7XG4gICAgICB0aGlzLmluc3RhbmNlcyA9IHRoaXMuaW5zdGFuY2VzLmZpbHRlcihmdW5jdGlvbihlbCkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXEtbnVsbCwgZXFlcWVxXG4gICAgICAgIHJldHVybiBlbCAhPSBudWxsO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmNhbGxiYWNrKHRoaXMuaW5zdGFuY2VzLCB0aGlzLmVsZW1lbnRzKTtcbiAgICB9XG4gIH07XG59KShmYWJyaWMuRWxlbWVudHNQYXJzZXIucHJvdG90eXBlKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qIEFkYXB0YXRpb24gb2Ygd29yayBvZiBLZXZpbiBMaW5kc2V5IChrZXZpbkBrZXZsaW5kZXYuY29tKSAqL1xuXG4gIHZhciBmYWJyaWMgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KTtcblxuICBpZiAoZmFicmljLlBvaW50KSB7XG4gICAgZmFicmljLndhcm4oJ2ZhYnJpYy5Qb2ludCBpcyBhbHJlYWR5IGRlZmluZWQnKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBmYWJyaWMuUG9pbnQgPSBQb2ludDtcblxuICAvKipcbiAgICogUG9pbnQgY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5Qb2ludFxuICAgKiBAbWVtYmVyT2YgZmFicmljXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0ge051bWJlcn0geFxuICAgKiBAcGFyYW0ge051bWJlcn0geVxuICAgKiBAcmV0dXJuIHtmYWJyaWMuUG9pbnR9IHRoaXNBcmdcbiAgICovXG4gIGZ1bmN0aW9uIFBvaW50KHgsIHkpIHtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG4gIH1cblxuICBQb2ludC5wcm90b3R5cGUgPSAvKiogQGxlbmRzIGZhYnJpYy5Qb2ludC5wcm90b3R5cGUgKi8ge1xuXG4gICAgdHlwZTogJ3BvaW50JyxcblxuICAgIGNvbnN0cnVjdG9yOiBQb2ludCxcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYW5vdGhlciBwb2ludCB0byB0aGlzIG9uZSBhbmQgcmV0dXJucyBhbm90aGVyIG9uZVxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSB0aGF0XG4gICAgICogQHJldHVybiB7ZmFicmljLlBvaW50fSBuZXcgUG9pbnQgaW5zdGFuY2Ugd2l0aCBhZGRlZCB2YWx1ZXNcbiAgICAgKi9cbiAgICBhZGQ6IGZ1bmN0aW9uICh0aGF0KSB7XG4gICAgICByZXR1cm4gbmV3IFBvaW50KHRoaXMueCArIHRoYXQueCwgdGhpcy55ICsgdGhhdC55KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhbm90aGVyIHBvaW50IHRvIHRoaXMgb25lXG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IHRoYXRcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUG9pbnR9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgYWRkRXF1YWxzOiBmdW5jdGlvbiAodGhhdCkge1xuICAgICAgdGhpcy54ICs9IHRoYXQueDtcbiAgICAgIHRoaXMueSArPSB0aGF0Lnk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQWRkcyB2YWx1ZSB0byB0aGlzIHBvaW50IGFuZCByZXR1cm5zIGEgbmV3IG9uZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsYXJcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUG9pbnR9IG5ldyBQb2ludCB3aXRoIGFkZGVkIHZhbHVlXG4gICAgICovXG4gICAgc2NhbGFyQWRkOiBmdW5jdGlvbiAoc2NhbGFyKSB7XG4gICAgICByZXR1cm4gbmV3IFBvaW50KHRoaXMueCArIHNjYWxhciwgdGhpcy55ICsgc2NhbGFyKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQWRkcyB2YWx1ZSB0byB0aGlzIHBvaW50XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxhclxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzY2FsYXJBZGRFcXVhbHM6IGZ1bmN0aW9uIChzY2FsYXIpIHtcbiAgICAgIHRoaXMueCArPSBzY2FsYXI7XG4gICAgICB0aGlzLnkgKz0gc2NhbGFyO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFN1YnRyYWN0cyBhbm90aGVyIHBvaW50IGZyb20gdGhpcyBwb2ludCBhbmQgcmV0dXJucyBhIG5ldyBvbmVcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gdGhhdFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH0gbmV3IFBvaW50IG9iamVjdCB3aXRoIHN1YnRyYWN0ZWQgdmFsdWVzXG4gICAgICovXG4gICAgc3VidHJhY3Q6IGZ1bmN0aW9uICh0aGF0KSB7XG4gICAgICByZXR1cm4gbmV3IFBvaW50KHRoaXMueCAtIHRoYXQueCwgdGhpcy55IC0gdGhhdC55KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU3VidHJhY3RzIGFub3RoZXIgcG9pbnQgZnJvbSB0aGlzIHBvaW50XG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IHRoYXRcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUG9pbnR9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgc3VidHJhY3RFcXVhbHM6IGZ1bmN0aW9uICh0aGF0KSB7XG4gICAgICB0aGlzLnggLT0gdGhhdC54O1xuICAgICAgdGhpcy55IC09IHRoYXQueTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTdWJ0cmFjdHMgdmFsdWUgZnJvbSB0aGlzIHBvaW50IGFuZCByZXR1cm5zIGEgbmV3IG9uZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsYXJcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUG9pbnR9XG4gICAgICovXG4gICAgc2NhbGFyU3VidHJhY3Q6IGZ1bmN0aW9uIChzY2FsYXIpIHtcbiAgICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy54IC0gc2NhbGFyLCB0aGlzLnkgLSBzY2FsYXIpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTdWJ0cmFjdHMgdmFsdWUgZnJvbSB0aGlzIHBvaW50XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxhclxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzY2FsYXJTdWJ0cmFjdEVxdWFsczogZnVuY3Rpb24gKHNjYWxhcikge1xuICAgICAgdGhpcy54IC09IHNjYWxhcjtcbiAgICAgIHRoaXMueSAtPSBzY2FsYXI7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbGllcyB0aGlzIHBvaW50IGJ5IGEgdmFsdWUgYW5kIHJldHVybnMgYSBuZXcgb25lXG4gICAgICogVE9ETzogcmVuYW1lIGluIHNjYWxhck11bHRpcGx5IGluIDIuMFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsYXJcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUG9pbnR9XG4gICAgICovXG4gICAgbXVsdGlwbHk6IGZ1bmN0aW9uIChzY2FsYXIpIHtcbiAgICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy54ICogc2NhbGFyLCB0aGlzLnkgKiBzY2FsYXIpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBsaWVzIHRoaXMgcG9pbnQgYnkgYSB2YWx1ZVxuICAgICAqIFRPRE86IHJlbmFtZSBpbiBzY2FsYXJNdWx0aXBseUVxdWFscyBpbiAyLjBcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGFyXG4gICAgICogQHJldHVybiB7ZmFicmljLlBvaW50fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIG11bHRpcGx5RXF1YWxzOiBmdW5jdGlvbiAoc2NhbGFyKSB7XG4gICAgICB0aGlzLnggKj0gc2NhbGFyO1xuICAgICAgdGhpcy55ICo9IHNjYWxhcjtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEaXZpZGVzIHRoaXMgcG9pbnQgYnkgYSB2YWx1ZSBhbmQgcmV0dXJucyBhIG5ldyBvbmVcbiAgICAgKiBUT0RPOiByZW5hbWUgaW4gc2NhbGFyRGl2aWRlIGluIDIuMFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsYXJcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUG9pbnR9XG4gICAgICovXG4gICAgZGl2aWRlOiBmdW5jdGlvbiAoc2NhbGFyKSB7XG4gICAgICByZXR1cm4gbmV3IFBvaW50KHRoaXMueCAvIHNjYWxhciwgdGhpcy55IC8gc2NhbGFyKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGl2aWRlcyB0aGlzIHBvaW50IGJ5IGEgdmFsdWVcbiAgICAgKiBUT0RPOiByZW5hbWUgaW4gc2NhbGFyRGl2aWRlRXF1YWxzIGluIDIuMFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsYXJcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUG9pbnR9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgZGl2aWRlRXF1YWxzOiBmdW5jdGlvbiAoc2NhbGFyKSB7XG4gICAgICB0aGlzLnggLz0gc2NhbGFyO1xuICAgICAgdGhpcy55IC89IHNjYWxhcjtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhpcyBwb2ludCBpcyBlcXVhbCB0byBhbm90aGVyIG9uZVxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSB0aGF0XG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBlcTogZnVuY3Rpb24gKHRoYXQpIHtcbiAgICAgIHJldHVybiAodGhpcy54ID09PSB0aGF0LnggJiYgdGhpcy55ID09PSB0aGF0LnkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhpcyBwb2ludCBpcyBsZXNzIHRoYW4gYW5vdGhlciBvbmVcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gdGhhdFxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgbHQ6IGZ1bmN0aW9uICh0aGF0KSB7XG4gICAgICByZXR1cm4gKHRoaXMueCA8IHRoYXQueCAmJiB0aGlzLnkgPCB0aGF0LnkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhpcyBwb2ludCBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYW5vdGhlciBvbmVcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gdGhhdFxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgbHRlOiBmdW5jdGlvbiAodGhhdCkge1xuICAgICAgcmV0dXJuICh0aGlzLnggPD0gdGhhdC54ICYmIHRoaXMueSA8PSB0aGF0LnkpO1xuICAgIH0sXG5cbiAgICAvKipcblxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHBvaW50IGlzIGdyZWF0ZXIgYW5vdGhlciBvbmVcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gdGhhdFxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgZ3Q6IGZ1bmN0aW9uICh0aGF0KSB7XG4gICAgICByZXR1cm4gKHRoaXMueCA+IHRoYXQueCAmJiB0aGlzLnkgPiB0aGF0LnkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhpcyBwb2ludCBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gYW5vdGhlciBvbmVcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gdGhhdFxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgZ3RlOiBmdW5jdGlvbiAodGhhdCkge1xuICAgICAgcmV0dXJuICh0aGlzLnggPj0gdGhhdC54ICYmIHRoaXMueSA+PSB0aGF0LnkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIG5ldyBwb2ludCB3aGljaCBpcyB0aGUgcmVzdWx0IG9mIGxpbmVhciBpbnRlcnBvbGF0aW9uIHdpdGggdGhpcyBvbmUgYW5kIGFub3RoZXIgb25lXG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IHRoYXRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdCAsIHBvc2l0aW9uIG9mIGludGVycG9sYXRpb24sIGJldHdlZW4gMCBhbmQgMSBkZWZhdWx0IDAuNVxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH1cbiAgICAgKi9cbiAgICBsZXJwOiBmdW5jdGlvbiAodGhhdCwgdCkge1xuICAgICAgaWYgKHR5cGVvZiB0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0ID0gMC41O1xuICAgICAgfVxuICAgICAgdCA9IE1hdGgubWF4KE1hdGgubWluKDEsIHQpLCAwKTtcbiAgICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy54ICsgKHRoYXQueCAtIHRoaXMueCkgKiB0LCB0aGlzLnkgKyAodGhhdC55IC0gdGhpcy55KSAqIHQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGRpc3RhbmNlIGZyb20gdGhpcyBwb2ludCBhbmQgYW5vdGhlciBvbmVcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gdGhhdFxuICAgICAqIEByZXR1cm4ge051bWJlcn1cbiAgICAgKi9cbiAgICBkaXN0YW5jZUZyb206IGZ1bmN0aW9uICh0aGF0KSB7XG4gICAgICB2YXIgZHggPSB0aGlzLnggLSB0aGF0LngsXG4gICAgICAgICAgZHkgPSB0aGlzLnkgLSB0aGF0Lnk7XG4gICAgICByZXR1cm4gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcG9pbnQgYmV0d2VlbiB0aGlzIHBvaW50IGFuZCBhbm90aGVyIG9uZVxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSB0aGF0XG4gICAgICogQHJldHVybiB7ZmFicmljLlBvaW50fVxuICAgICAqL1xuICAgIG1pZFBvaW50RnJvbTogZnVuY3Rpb24gKHRoYXQpIHtcbiAgICAgIHJldHVybiB0aGlzLmxlcnAodGhhdCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgcG9pbnQgd2hpY2ggaXMgdGhlIG1pbiBvZiB0aGlzIGFuZCBhbm90aGVyIG9uZVxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSB0aGF0XG4gICAgICogQHJldHVybiB7ZmFicmljLlBvaW50fVxuICAgICAqL1xuICAgIG1pbjogZnVuY3Rpb24gKHRoYXQpIHtcbiAgICAgIHJldHVybiBuZXcgUG9pbnQoTWF0aC5taW4odGhpcy54LCB0aGF0LngpLCBNYXRoLm1pbih0aGlzLnksIHRoYXQueSkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IHBvaW50IHdoaWNoIGlzIHRoZSBtYXggb2YgdGhpcyBhbmQgYW5vdGhlciBvbmVcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gdGhhdFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH1cbiAgICAgKi9cbiAgICBtYXg6IGZ1bmN0aW9uICh0aGF0KSB7XG4gICAgICByZXR1cm4gbmV3IFBvaW50KE1hdGgubWF4KHRoaXMueCwgdGhhdC54KSwgTWF0aC5tYXgodGhpcy55LCB0aGF0LnkpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBwb2ludFxuICAgICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICAgKi9cbiAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMueCArICcsJyArIHRoaXMueTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB4L3kgb2YgdGhpcyBwb2ludFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHlcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgc2V0WFk6IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICB0aGlzLnggPSB4O1xuICAgICAgdGhpcy55ID0geTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHggb2YgdGhpcyBwb2ludFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4XG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHNldFg6IGZ1bmN0aW9uICh4KSB7XG4gICAgICB0aGlzLnggPSB4O1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgeSBvZiB0aGlzIHBvaW50XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHlcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgc2V0WTogZnVuY3Rpb24gKHkpIHtcbiAgICAgIHRoaXMueSA9IHk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB4L3kgb2YgdGhpcyBwb2ludCBmcm9tIGFub3RoZXIgcG9pbnRcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gdGhhdFxuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzZXRGcm9tUG9pbnQ6IGZ1bmN0aW9uICh0aGF0KSB7XG4gICAgICB0aGlzLnggPSB0aGF0Lng7XG4gICAgICB0aGlzLnkgPSB0aGF0Lnk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU3dhcHMgeC95IG9mIHRoaXMgcG9pbnQgYW5kIGFub3RoZXIgcG9pbnRcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gdGhhdFxuICAgICAqL1xuICAgIHN3YXA6IGZ1bmN0aW9uICh0aGF0KSB7XG4gICAgICB2YXIgeCA9IHRoaXMueCxcbiAgICAgICAgICB5ID0gdGhpcy55O1xuICAgICAgdGhpcy54ID0gdGhhdC54O1xuICAgICAgdGhpcy55ID0gdGhhdC55O1xuICAgICAgdGhhdC54ID0geDtcbiAgICAgIHRoYXQueSA9IHk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJldHVybiBhIGNsb25lZCBpbnN0YW5jZSBvZiB0aGUgcG9pbnRcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUG9pbnR9XG4gICAgICovXG4gICAgY2xvbmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy54LCB0aGlzLnkpO1xuICAgIH1cbiAgfTtcblxufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgLyogQWRhcHRhdGlvbiBvZiB3b3JrIG9mIEtldmluIExpbmRzZXkgKGtldmluQGtldmxpbmRldi5jb20pICovXG4gIHZhciBmYWJyaWMgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KTtcblxuICBpZiAoZmFicmljLkludGVyc2VjdGlvbikge1xuICAgIGZhYnJpYy53YXJuKCdmYWJyaWMuSW50ZXJzZWN0aW9uIGlzIGFscmVhZHkgZGVmaW5lZCcpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnRlcnNlY3Rpb24gY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5JbnRlcnNlY3Rpb25cbiAgICogQG1lbWJlck9mIGZhYnJpY1xuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGZ1bmN0aW9uIEludGVyc2VjdGlvbihzdGF0dXMpIHtcbiAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgICB0aGlzLnBvaW50cyA9IFtdO1xuICB9XG5cbiAgZmFicmljLkludGVyc2VjdGlvbiA9IEludGVyc2VjdGlvbjtcblxuICBmYWJyaWMuSW50ZXJzZWN0aW9uLnByb3RvdHlwZSA9IC8qKiBAbGVuZHMgZmFicmljLkludGVyc2VjdGlvbi5wcm90b3R5cGUgKi8ge1xuXG4gICAgY29uc3RydWN0b3I6IEludGVyc2VjdGlvbixcblxuICAgIC8qKlxuICAgICAqIEFwcGVuZHMgYSBwb2ludCB0byBpbnRlcnNlY3Rpb25cbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gcG9pbnRcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuSW50ZXJzZWN0aW9ufSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGFwcGVuZFBvaW50OiBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgIHRoaXMucG9pbnRzLnB1c2gocG9pbnQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFwcGVuZHMgcG9pbnRzIHRvIGludGVyc2VjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBvaW50c1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5JbnRlcnNlY3Rpb259IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgYXBwZW5kUG9pbnRzOiBmdW5jdGlvbiAocG9pbnRzKSB7XG4gICAgICB0aGlzLnBvaW50cyA9IHRoaXMucG9pbnRzLmNvbmNhdChwb2ludHMpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgb25lIGxpbmUgaW50ZXJzZWN0cyBhbm90aGVyXG4gICAqIFRPRE86IHJlbmFtZSBpbiBpbnRlcnNlY3RTZWdtZW50U2VnbWVudFxuICAgKiBAc3RhdGljXG4gICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSBhMVxuICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gYTJcbiAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IGIxXG4gICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSBiMlxuICAgKiBAcmV0dXJuIHtmYWJyaWMuSW50ZXJzZWN0aW9ufVxuICAgKi9cbiAgZmFicmljLkludGVyc2VjdGlvbi5pbnRlcnNlY3RMaW5lTGluZSA9IGZ1bmN0aW9uIChhMSwgYTIsIGIxLCBiMikge1xuICAgIHZhciByZXN1bHQsXG4gICAgICAgIHVhVCA9IChiMi54IC0gYjEueCkgKiAoYTEueSAtIGIxLnkpIC0gKGIyLnkgLSBiMS55KSAqIChhMS54IC0gYjEueCksXG4gICAgICAgIHViVCA9IChhMi54IC0gYTEueCkgKiAoYTEueSAtIGIxLnkpIC0gKGEyLnkgLSBhMS55KSAqIChhMS54IC0gYjEueCksXG4gICAgICAgIHVCID0gKGIyLnkgLSBiMS55KSAqIChhMi54IC0gYTEueCkgLSAoYjIueCAtIGIxLngpICogKGEyLnkgLSBhMS55KTtcbiAgICBpZiAodUIgIT09IDApIHtcbiAgICAgIHZhciB1YSA9IHVhVCAvIHVCLFxuICAgICAgICAgIHViID0gdWJUIC8gdUI7XG4gICAgICBpZiAoMCA8PSB1YSAmJiB1YSA8PSAxICYmIDAgPD0gdWIgJiYgdWIgPD0gMSkge1xuICAgICAgICByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKCdJbnRlcnNlY3Rpb24nKTtcbiAgICAgICAgcmVzdWx0LmFwcGVuZFBvaW50KG5ldyBmYWJyaWMuUG9pbnQoYTEueCArIHVhICogKGEyLnggLSBhMS54KSwgYTEueSArIHVhICogKGEyLnkgLSBhMS55KSkpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IG5ldyBJbnRlcnNlY3Rpb24oKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBpZiAodWFUID09PSAwIHx8IHViVCA9PT0gMCkge1xuICAgICAgICByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKCdDb2luY2lkZW50Jyk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gbmV3IEludGVyc2VjdGlvbignUGFyYWxsZWwnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGxpbmUgaW50ZXJzZWN0cyBwb2x5Z29uXG4gICAqIFRPRE86IHJlbmFtZSBpbiBpbnRlcnNlY3RTZWdtZW50UG9seWdvblxuICAgKiBmaXggZGV0ZWN0aW9uIG9mIGNvaW5jaWRlbnRcbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gYTFcbiAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IGEyXG4gICAqIEBwYXJhbSB7QXJyYXl9IHBvaW50c1xuICAgKiBAcmV0dXJuIHtmYWJyaWMuSW50ZXJzZWN0aW9ufVxuICAgKi9cbiAgZmFicmljLkludGVyc2VjdGlvbi5pbnRlcnNlY3RMaW5lUG9seWdvbiA9IGZ1bmN0aW9uKGExLCBhMiwgcG9pbnRzKSB7XG4gICAgdmFyIHJlc3VsdCA9IG5ldyBJbnRlcnNlY3Rpb24oKSxcbiAgICAgICAgbGVuZ3RoID0gcG9pbnRzLmxlbmd0aCxcbiAgICAgICAgYjEsIGIyLCBpbnRlciwgaTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgYjEgPSBwb2ludHNbaV07XG4gICAgICBiMiA9IHBvaW50c1soaSArIDEpICUgbGVuZ3RoXTtcbiAgICAgIGludGVyID0gSW50ZXJzZWN0aW9uLmludGVyc2VjdExpbmVMaW5lKGExLCBhMiwgYjEsIGIyKTtcblxuICAgICAgcmVzdWx0LmFwcGVuZFBvaW50cyhpbnRlci5wb2ludHMpO1xuICAgIH1cbiAgICBpZiAocmVzdWx0LnBvaW50cy5sZW5ndGggPiAwKSB7XG4gICAgICByZXN1bHQuc3RhdHVzID0gJ0ludGVyc2VjdGlvbic7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBwb2x5Z29uIGludGVyc2VjdHMgYW5vdGhlciBwb2x5Z29uXG4gICAqIEBzdGF0aWNcbiAgICogQHBhcmFtIHtBcnJheX0gcG9pbnRzMVxuICAgKiBAcGFyYW0ge0FycmF5fSBwb2ludHMyXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JbnRlcnNlY3Rpb259XG4gICAqL1xuICBmYWJyaWMuSW50ZXJzZWN0aW9uLmludGVyc2VjdFBvbHlnb25Qb2x5Z29uID0gZnVuY3Rpb24gKHBvaW50czEsIHBvaW50czIpIHtcbiAgICB2YXIgcmVzdWx0ID0gbmV3IEludGVyc2VjdGlvbigpLFxuICAgICAgICBsZW5ndGggPSBwb2ludHMxLmxlbmd0aCwgaTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGExID0gcG9pbnRzMVtpXSxcbiAgICAgICAgICBhMiA9IHBvaW50czFbKGkgKyAxKSAlIGxlbmd0aF0sXG4gICAgICAgICAgaW50ZXIgPSBJbnRlcnNlY3Rpb24uaW50ZXJzZWN0TGluZVBvbHlnb24oYTEsIGEyLCBwb2ludHMyKTtcblxuICAgICAgcmVzdWx0LmFwcGVuZFBvaW50cyhpbnRlci5wb2ludHMpO1xuICAgIH1cbiAgICBpZiAocmVzdWx0LnBvaW50cy5sZW5ndGggPiAwKSB7XG4gICAgICByZXN1bHQuc3RhdHVzID0gJ0ludGVyc2VjdGlvbic7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBwb2x5Z29uIGludGVyc2VjdHMgcmVjdGFuZ2xlXG4gICAqIEBzdGF0aWNcbiAgICogQHBhcmFtIHtBcnJheX0gcG9pbnRzXG4gICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSByMVxuICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gcjJcbiAgICogQHJldHVybiB7ZmFicmljLkludGVyc2VjdGlvbn1cbiAgICovXG4gIGZhYnJpYy5JbnRlcnNlY3Rpb24uaW50ZXJzZWN0UG9seWdvblJlY3RhbmdsZSA9IGZ1bmN0aW9uIChwb2ludHMsIHIxLCByMikge1xuICAgIHZhciBtaW4gPSByMS5taW4ocjIpLFxuICAgICAgICBtYXggPSByMS5tYXgocjIpLFxuICAgICAgICB0b3BSaWdodCA9IG5ldyBmYWJyaWMuUG9pbnQobWF4LngsIG1pbi55KSxcbiAgICAgICAgYm90dG9tTGVmdCA9IG5ldyBmYWJyaWMuUG9pbnQobWluLngsIG1heC55KSxcbiAgICAgICAgaW50ZXIxID0gSW50ZXJzZWN0aW9uLmludGVyc2VjdExpbmVQb2x5Z29uKG1pbiwgdG9wUmlnaHQsIHBvaW50cyksXG4gICAgICAgIGludGVyMiA9IEludGVyc2VjdGlvbi5pbnRlcnNlY3RMaW5lUG9seWdvbih0b3BSaWdodCwgbWF4LCBwb2ludHMpLFxuICAgICAgICBpbnRlcjMgPSBJbnRlcnNlY3Rpb24uaW50ZXJzZWN0TGluZVBvbHlnb24obWF4LCBib3R0b21MZWZ0LCBwb2ludHMpLFxuICAgICAgICBpbnRlcjQgPSBJbnRlcnNlY3Rpb24uaW50ZXJzZWN0TGluZVBvbHlnb24oYm90dG9tTGVmdCwgbWluLCBwb2ludHMpLFxuICAgICAgICByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKCk7XG5cbiAgICByZXN1bHQuYXBwZW5kUG9pbnRzKGludGVyMS5wb2ludHMpO1xuICAgIHJlc3VsdC5hcHBlbmRQb2ludHMoaW50ZXIyLnBvaW50cyk7XG4gICAgcmVzdWx0LmFwcGVuZFBvaW50cyhpbnRlcjMucG9pbnRzKTtcbiAgICByZXN1bHQuYXBwZW5kUG9pbnRzKGludGVyNC5wb2ludHMpO1xuXG4gICAgaWYgKHJlc3VsdC5wb2ludHMubGVuZ3RoID4gMCkge1xuICAgICAgcmVzdWx0LnN0YXR1cyA9ICdJbnRlcnNlY3Rpb24nO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSk7XG5cbiAgaWYgKGZhYnJpYy5Db2xvcikge1xuICAgIGZhYnJpYy53YXJuKCdmYWJyaWMuQ29sb3IgaXMgYWxyZWFkeSBkZWZpbmVkLicpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb2xvciBjbGFzc1xuICAgKiBUaGUgcHVycG9zZSBvZiB7QGxpbmsgZmFicmljLkNvbG9yfSBpcyB0byBhYnN0cmFjdCBhbmQgZW5jYXBzdWxhdGUgY29tbW9uIGNvbG9yIG9wZXJhdGlvbnM7XG4gICAqIHtAbGluayBmYWJyaWMuQ29sb3J9IGlzIGEgY29uc3RydWN0b3IgYW5kIGNyZWF0ZXMgaW5zdGFuY2VzIG9mIHtAbGluayBmYWJyaWMuQ29sb3J9IG9iamVjdHMuXG4gICAqXG4gICAqIEBjbGFzcyBmYWJyaWMuQ29sb3JcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNvbG9yIG9wdGlvbmFsIGluIGhleCBvciByZ2IoYSkgb3IgaHNsIGZvcm1hdCBvciBmcm9tIGtub3duIGNvbG9yIGxpc3RcbiAgICogQHJldHVybiB7ZmFicmljLkNvbG9yfSB0aGlzQXJnXG4gICAqIEB0dXRvcmlhbCB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9mYWJyaWMtaW50cm8tcGFydC0yLyNjb2xvcnN9XG4gICAqL1xuICBmdW5jdGlvbiBDb2xvcihjb2xvcikge1xuICAgIGlmICghY29sb3IpIHtcbiAgICAgIHRoaXMuc2V0U291cmNlKFswLCAwLCAwLCAxXSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5fdHJ5UGFyc2luZ0NvbG9yKGNvbG9yKTtcbiAgICB9XG4gIH1cblxuICBmYWJyaWMuQ29sb3IgPSBDb2xvcjtcblxuICBmYWJyaWMuQ29sb3IucHJvdG90eXBlID0gLyoqIEBsZW5kcyBmYWJyaWMuQ29sb3IucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtTdHJpbmd8QXJyYXl9IGNvbG9yIENvbG9yIHZhbHVlIHRvIHBhcnNlXG4gICAgICovXG4gICAgX3RyeVBhcnNpbmdDb2xvcjogZnVuY3Rpb24oY29sb3IpIHtcbiAgICAgIHZhciBzb3VyY2U7XG5cbiAgICAgIGlmIChjb2xvciBpbiBDb2xvci5jb2xvck5hbWVNYXApIHtcbiAgICAgICAgY29sb3IgPSBDb2xvci5jb2xvck5hbWVNYXBbY29sb3JdO1xuICAgICAgfVxuXG4gICAgICBpZiAoY29sb3IgPT09ICd0cmFuc3BhcmVudCcpIHtcbiAgICAgICAgc291cmNlID0gWzI1NSwgMjU1LCAyNTUsIDBdO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXNvdXJjZSkge1xuICAgICAgICBzb3VyY2UgPSBDb2xvci5zb3VyY2VGcm9tSGV4KGNvbG9yKTtcbiAgICAgIH1cbiAgICAgIGlmICghc291cmNlKSB7XG4gICAgICAgIHNvdXJjZSA9IENvbG9yLnNvdXJjZUZyb21SZ2IoY29sb3IpO1xuICAgICAgfVxuICAgICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgICAgc291cmNlID0gQ29sb3Iuc291cmNlRnJvbUhzbChjb2xvcik7XG4gICAgICB9XG4gICAgICBpZiAoIXNvdXJjZSkge1xuICAgICAgICAvL2lmIGNvbG9yIGlzIG5vdCByZWNvZ25pemUgbGV0J3MgbWFrZSBibGFjayBhcyBjYW52YXMgZG9lc1xuICAgICAgICBzb3VyY2UgPSBbMCwgMCwgMCwgMV07XG4gICAgICB9XG4gICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgIHRoaXMuc2V0U291cmNlKHNvdXJjZSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFkYXB0ZWQgZnJvbSA8YSBocmVmPVwiaHR0cHM6Ly9yYXdnaXRodWIuY29tL21qaWphY2tzb24vbWppamFja3Nvbi5naXRodWIuY29tL21hc3Rlci8yMDA4LzAyL3JnYi10by1oc2wtYW5kLXJnYi10by1oc3YtY29sb3ItbW9kZWwtY29udmVyc2lvbi1hbGdvcml0aG1zLWluLWphdmFzY3JpcHQuaHRtbFwiPmh0dHBzOi8vZ2l0aHViLmNvbS9tamlqYWNrc29uPC9hPlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHIgUmVkIGNvbG9yIHZhbHVlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGcgR3JlZW4gY29sb3IgdmFsdWVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYiBCbHVlIGNvbG9yIHZhbHVlXG4gICAgICogQHJldHVybiB7QXJyYXl9IEhzbCBjb2xvclxuICAgICAqL1xuICAgIF9yZ2JUb0hzbDogZnVuY3Rpb24ociwgZywgYikge1xuICAgICAgciAvPSAyNTU7IGcgLz0gMjU1OyBiIC89IDI1NTtcblxuICAgICAgdmFyIGgsIHMsIGwsXG4gICAgICAgICAgbWF4ID0gZmFicmljLnV0aWwuYXJyYXkubWF4KFtyLCBnLCBiXSksXG4gICAgICAgICAgbWluID0gZmFicmljLnV0aWwuYXJyYXkubWluKFtyLCBnLCBiXSk7XG5cbiAgICAgIGwgPSAobWF4ICsgbWluKSAvIDI7XG5cbiAgICAgIGlmIChtYXggPT09IG1pbikge1xuICAgICAgICBoID0gcyA9IDA7IC8vIGFjaHJvbWF0aWNcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB2YXIgZCA9IG1heCAtIG1pbjtcbiAgICAgICAgcyA9IGwgPiAwLjUgPyBkIC8gKDIgLSBtYXggLSBtaW4pIDogZCAvIChtYXggKyBtaW4pO1xuICAgICAgICBzd2l0Y2ggKG1heCkge1xuICAgICAgICAgIGNhc2UgcjpcbiAgICAgICAgICAgIGggPSAoZyAtIGIpIC8gZCArIChnIDwgYiA/IDYgOiAwKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgZzpcbiAgICAgICAgICAgIGggPSAoYiAtIHIpIC8gZCArIDI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIGI6XG4gICAgICAgICAgICBoID0gKHIgLSBnKSAvIGQgKyA0O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaCAvPSA2O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gW1xuICAgICAgICBNYXRoLnJvdW5kKGggKiAzNjApLFxuICAgICAgICBNYXRoLnJvdW5kKHMgKiAxMDApLFxuICAgICAgICBNYXRoLnJvdW5kKGwgKiAxMDApXG4gICAgICBdO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHNvdXJjZSBvZiB0aGlzIGNvbG9yICh3aGVyZSBzb3VyY2UgaXMgYW4gYXJyYXkgcmVwcmVzZW50YXRpb247IGV4OiBbMjAwLCAyMDAsIDEwMCwgMV0pXG4gICAgICogQHJldHVybiB7QXJyYXl9XG4gICAgICovXG4gICAgZ2V0U291cmNlOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zb3VyY2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgc291cmNlIG9mIHRoaXMgY29sb3IgKHdoZXJlIHNvdXJjZSBpcyBhbiBhcnJheSByZXByZXNlbnRhdGlvbjsgZXg6IFsyMDAsIDIwMCwgMTAwLCAxXSlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBzb3VyY2VcbiAgICAgKi9cbiAgICBzZXRTb3VyY2U6IGZ1bmN0aW9uKHNvdXJjZSkge1xuICAgICAgdGhpcy5fc291cmNlID0gc291cmNlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGNvbG9yIHJlcHJlc2VudGF0aW9uIGluIFJHQiBmb3JtYXRcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IGV4OiByZ2IoMC0yNTUsMC0yNTUsMC0yNTUpXG4gICAgICovXG4gICAgdG9SZ2I6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuZ2V0U291cmNlKCk7XG4gICAgICByZXR1cm4gJ3JnYignICsgc291cmNlWzBdICsgJywnICsgc291cmNlWzFdICsgJywnICsgc291cmNlWzJdICsgJyknO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGNvbG9yIHJlcHJlc2VudGF0aW9uIGluIFJHQkEgZm9ybWF0XG4gICAgICogQHJldHVybiB7U3RyaW5nfSBleDogcmdiYSgwLTI1NSwwLTI1NSwwLTI1NSwwLTEpXG4gICAgICovXG4gICAgdG9SZ2JhOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldFNvdXJjZSgpO1xuICAgICAgcmV0dXJuICdyZ2JhKCcgKyBzb3VyY2VbMF0gKyAnLCcgKyBzb3VyY2VbMV0gKyAnLCcgKyBzb3VyY2VbMl0gKyAnLCcgKyBzb3VyY2VbM10gKyAnKSc7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgY29sb3IgcmVwcmVzZW50YXRpb24gaW4gSFNMIGZvcm1hdFxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gZXg6IGhzbCgwLTM2MCwwJS0xMDAlLDAlLTEwMCUpXG4gICAgICovXG4gICAgdG9Ic2w6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuZ2V0U291cmNlKCksXG4gICAgICAgICAgaHNsID0gdGhpcy5fcmdiVG9Ic2woc291cmNlWzBdLCBzb3VyY2VbMV0sIHNvdXJjZVsyXSk7XG5cbiAgICAgIHJldHVybiAnaHNsKCcgKyBoc2xbMF0gKyAnLCcgKyBoc2xbMV0gKyAnJSwnICsgaHNsWzJdICsgJyUpJztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBjb2xvciByZXByZXNlbnRhdGlvbiBpbiBIU0xBIGZvcm1hdFxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gZXg6IGhzbGEoMC0zNjAsMCUtMTAwJSwwJS0xMDAlLDAtMSlcbiAgICAgKi9cbiAgICB0b0hzbGE6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuZ2V0U291cmNlKCksXG4gICAgICAgICAgaHNsID0gdGhpcy5fcmdiVG9Ic2woc291cmNlWzBdLCBzb3VyY2VbMV0sIHNvdXJjZVsyXSk7XG5cbiAgICAgIHJldHVybiAnaHNsYSgnICsgaHNsWzBdICsgJywnICsgaHNsWzFdICsgJyUsJyArIGhzbFsyXSArICclLCcgKyBzb3VyY2VbM10gKyAnKSc7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgY29sb3IgcmVwcmVzZW50YXRpb24gaW4gSEVYIGZvcm1hdFxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gZXg6IEZGNTU1NVxuICAgICAqL1xuICAgIHRvSGV4OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldFNvdXJjZSgpLCByLCBnLCBiO1xuXG4gICAgICByID0gc291cmNlWzBdLnRvU3RyaW5nKDE2KTtcbiAgICAgIHIgPSAoci5sZW5ndGggPT09IDEpID8gKCcwJyArIHIpIDogcjtcblxuICAgICAgZyA9IHNvdXJjZVsxXS50b1N0cmluZygxNik7XG4gICAgICBnID0gKGcubGVuZ3RoID09PSAxKSA/ICgnMCcgKyBnKSA6IGc7XG5cbiAgICAgIGIgPSBzb3VyY2VbMl0udG9TdHJpbmcoMTYpO1xuICAgICAgYiA9IChiLmxlbmd0aCA9PT0gMSkgPyAoJzAnICsgYikgOiBiO1xuXG4gICAgICByZXR1cm4gci50b1VwcGVyQ2FzZSgpICsgZy50b1VwcGVyQ2FzZSgpICsgYi50b1VwcGVyQ2FzZSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGNvbG9yIHJlcHJlc2VudGF0aW9uIGluIEhFWEEgZm9ybWF0XG4gICAgICogQHJldHVybiB7U3RyaW5nfSBleDogRkY1NTU1Q0NcbiAgICAgKi9cbiAgICB0b0hleGE6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuZ2V0U291cmNlKCksIGE7XG5cbiAgICAgIGEgPSBNYXRoLnJvdW5kKHNvdXJjZVszXSAqIDI1NSk7XG4gICAgICBhID0gYS50b1N0cmluZygxNik7XG4gICAgICBhID0gKGEubGVuZ3RoID09PSAxKSA/ICgnMCcgKyBhKSA6IGE7XG5cbiAgICAgIHJldHVybiB0aGlzLnRvSGV4KCkgKyBhLnRvVXBwZXJDYXNlKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldHMgdmFsdWUgb2YgYWxwaGEgY2hhbm5lbCBmb3IgdGhpcyBjb2xvclxuICAgICAqIEByZXR1cm4ge051bWJlcn0gMC0xXG4gICAgICovXG4gICAgZ2V0QWxwaGE6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0U291cmNlKClbM107XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgdmFsdWUgb2YgYWxwaGEgY2hhbm5lbCBmb3IgdGhpcyBjb2xvclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBhbHBoYSBBbHBoYSB2YWx1ZSAwLTFcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ29sb3J9IHRoaXNBcmdcbiAgICAgKi9cbiAgICBzZXRBbHBoYTogZnVuY3Rpb24oYWxwaGEpIHtcbiAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldFNvdXJjZSgpO1xuICAgICAgc291cmNlWzNdID0gYWxwaGE7XG4gICAgICB0aGlzLnNldFNvdXJjZShzb3VyY2UpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybXMgY29sb3IgdG8gaXRzIGdyYXlzY2FsZSByZXByZXNlbnRhdGlvblxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Db2xvcn0gdGhpc0FyZ1xuICAgICAqL1xuICAgIHRvR3JheXNjYWxlOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldFNvdXJjZSgpLFxuICAgICAgICAgIGF2ZXJhZ2UgPSBwYXJzZUludCgoc291cmNlWzBdICogMC4zICsgc291cmNlWzFdICogMC41OSArIHNvdXJjZVsyXSAqIDAuMTEpLnRvRml4ZWQoMCksIDEwKSxcbiAgICAgICAgICBjdXJyZW50QWxwaGEgPSBzb3VyY2VbM107XG4gICAgICB0aGlzLnNldFNvdXJjZShbYXZlcmFnZSwgYXZlcmFnZSwgYXZlcmFnZSwgY3VycmVudEFscGhhXSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtcyBjb2xvciB0byBpdHMgYmxhY2sgYW5kIHdoaXRlIHJlcHJlc2VudGF0aW9uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHRocmVzaG9sZFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Db2xvcn0gdGhpc0FyZ1xuICAgICAqL1xuICAgIHRvQmxhY2tXaGl0ZTogZnVuY3Rpb24odGhyZXNob2xkKSB7XG4gICAgICB2YXIgc291cmNlID0gdGhpcy5nZXRTb3VyY2UoKSxcbiAgICAgICAgICBhdmVyYWdlID0gKHNvdXJjZVswXSAqIDAuMyArIHNvdXJjZVsxXSAqIDAuNTkgKyBzb3VyY2VbMl0gKiAwLjExKS50b0ZpeGVkKDApLFxuICAgICAgICAgIGN1cnJlbnRBbHBoYSA9IHNvdXJjZVszXTtcblxuICAgICAgdGhyZXNob2xkID0gdGhyZXNob2xkIHx8IDEyNztcblxuICAgICAgYXZlcmFnZSA9IChOdW1iZXIoYXZlcmFnZSkgPCBOdW1iZXIodGhyZXNob2xkKSkgPyAwIDogMjU1O1xuICAgICAgdGhpcy5zZXRTb3VyY2UoW2F2ZXJhZ2UsIGF2ZXJhZ2UsIGF2ZXJhZ2UsIGN1cnJlbnRBbHBoYV0pO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE92ZXJsYXlzIGNvbG9yIHdpdGggYW5vdGhlciBjb2xvclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfGZhYnJpYy5Db2xvcn0gb3RoZXJDb2xvclxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Db2xvcn0gdGhpc0FyZ1xuICAgICAqL1xuICAgIG92ZXJsYXlXaXRoOiBmdW5jdGlvbihvdGhlckNvbG9yKSB7XG4gICAgICBpZiAoIShvdGhlckNvbG9yIGluc3RhbmNlb2YgQ29sb3IpKSB7XG4gICAgICAgIG90aGVyQ29sb3IgPSBuZXcgQ29sb3Iob3RoZXJDb2xvcik7XG4gICAgICB9XG5cbiAgICAgIHZhciByZXN1bHQgPSBbXSxcbiAgICAgICAgICBhbHBoYSA9IHRoaXMuZ2V0QWxwaGEoKSxcbiAgICAgICAgICBvdGhlckFscGhhID0gMC41LFxuICAgICAgICAgIHNvdXJjZSA9IHRoaXMuZ2V0U291cmNlKCksXG4gICAgICAgICAgb3RoZXJTb3VyY2UgPSBvdGhlckNvbG9yLmdldFNvdXJjZSgpLCBpO1xuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKE1hdGgucm91bmQoKHNvdXJjZVtpXSAqICgxIC0gb3RoZXJBbHBoYSkpICsgKG90aGVyU291cmNlW2ldICogb3RoZXJBbHBoYSkpKTtcbiAgICAgIH1cblxuICAgICAgcmVzdWx0WzNdID0gYWxwaGE7XG4gICAgICB0aGlzLnNldFNvdXJjZShyZXN1bHQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZWdleCBtYXRjaGluZyBjb2xvciBpbiBSR0Igb3IgUkdCQSBmb3JtYXRzIChleDogcmdiKDAsIDAsIDApLCByZ2JhKDI1NSwgMTAwLCAxMCwgMC41KSwgcmdiYSggMjU1ICwgMTAwICwgMTAgLCAwLjUgKSwgcmdiKDEsMSwxKSwgcmdiYSgxMDAlLCA2MCUsIDEwJSwgMC41KSlcbiAgICogQHN0YXRpY1xuICAgKiBAZmllbGRcbiAgICogQG1lbWJlck9mIGZhYnJpYy5Db2xvclxuICAgKi9cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgZmFicmljLkNvbG9yLnJlUkdCYSA9IC9ecmdiYT9cXChcXHMqKFxcZHsxLDN9KD86XFwuXFxkKyk/XFwlPylcXHMqLFxccyooXFxkezEsM30oPzpcXC5cXGQrKT9cXCU/KVxccyosXFxzKihcXGR7MSwzfSg/OlxcLlxcZCspP1xcJT8pXFxzKig/OlxccyosXFxzKigoPzpcXGQqXFwuP1xcZCspPylcXHMqKT9cXCkkL2k7XG5cbiAgLyoqXG4gICAqIFJlZ2V4IG1hdGNoaW5nIGNvbG9yIGluIEhTTCBvciBIU0xBIGZvcm1hdHMgKGV4OiBoc2woMjAwLCA4MCUsIDEwJSksIGhzbGEoMzAwLCA1MCUsIDgwJSwgMC41KSwgaHNsYSggMzAwICwgNTAlICwgODAlICwgMC41ICkpXG4gICAqIEBzdGF0aWNcbiAgICogQGZpZWxkXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuQ29sb3JcbiAgICovXG4gIGZhYnJpYy5Db2xvci5yZUhTTGEgPSAvXmhzbGE/XFwoXFxzKihcXGR7MSwzfSlcXHMqLFxccyooXFxkezEsM31cXCUpXFxzKixcXHMqKFxcZHsxLDN9XFwlKVxccyooPzpcXHMqLFxccyooXFxkKyg/OlxcLlxcZCspPylcXHMqKT9cXCkkL2k7XG5cbiAgLyoqXG4gICAqIFJlZ2V4IG1hdGNoaW5nIGNvbG9yIGluIEhFWCBmb3JtYXQgKGV4OiAjRkY1NTQ0Q0MsICNGRjU1NTUsIDAxMDE1NSwgYWZmKVxuICAgKiBAc3RhdGljXG4gICAqIEBmaWVsZFxuICAgKiBAbWVtYmVyT2YgZmFicmljLkNvbG9yXG4gICAqL1xuICBmYWJyaWMuQ29sb3IucmVIZXggPSAvXiM/KFswLTlhLWZdezh9fFswLTlhLWZdezZ9fFswLTlhLWZdezR9fFswLTlhLWZdezN9KSQvaTtcblxuICAvKipcbiAgICogTWFwIG9mIHRoZSAxNDggY29sb3IgbmFtZXMgd2l0aCBIRVggY29kZVxuICAgKiBAc3RhdGljXG4gICAqIEBmaWVsZFxuICAgKiBAbWVtYmVyT2YgZmFicmljLkNvbG9yXG4gICAqIEBzZWU6IGh0dHBzOi8vd3d3LnczLm9yZy9UUi9jc3MzLWNvbG9yLyNzdmctY29sb3JcbiAgICovXG4gIGZhYnJpYy5Db2xvci5jb2xvck5hbWVNYXAgPSB7XG4gICAgYWxpY2VibHVlOiAgICAgICAgICAgICcjRjBGOEZGJyxcbiAgICBhbnRpcXVld2hpdGU6ICAgICAgICAgJyNGQUVCRDcnLFxuICAgIGFxdWE6ICAgICAgICAgICAgICAgICAnIzAwRkZGRicsXG4gICAgYXF1YW1hcmluZTogICAgICAgICAgICcjN0ZGRkQ0JyxcbiAgICBhenVyZTogICAgICAgICAgICAgICAgJyNGMEZGRkYnLFxuICAgIGJlaWdlOiAgICAgICAgICAgICAgICAnI0Y1RjVEQycsXG4gICAgYmlzcXVlOiAgICAgICAgICAgICAgICcjRkZFNEM0JyxcbiAgICBibGFjazogICAgICAgICAgICAgICAgJyMwMDAwMDAnLFxuICAgIGJsYW5jaGVkYWxtb25kOiAgICAgICAnI0ZGRUJDRCcsXG4gICAgYmx1ZTogICAgICAgICAgICAgICAgICcjMDAwMEZGJyxcbiAgICBibHVldmlvbGV0OiAgICAgICAgICAgJyM4QTJCRTInLFxuICAgIGJyb3duOiAgICAgICAgICAgICAgICAnI0E1MkEyQScsXG4gICAgYnVybHl3b29kOiAgICAgICAgICAgICcjREVCODg3JyxcbiAgICBjYWRldGJsdWU6ICAgICAgICAgICAgJyM1RjlFQTAnLFxuICAgIGNoYXJ0cmV1c2U6ICAgICAgICAgICAnIzdGRkYwMCcsXG4gICAgY2hvY29sYXRlOiAgICAgICAgICAgICcjRDI2OTFFJyxcbiAgICBjb3JhbDogICAgICAgICAgICAgICAgJyNGRjdGNTAnLFxuICAgIGNvcm5mbG93ZXJibHVlOiAgICAgICAnIzY0OTVFRCcsXG4gICAgY29ybnNpbGs6ICAgICAgICAgICAgICcjRkZGOERDJyxcbiAgICBjcmltc29uOiAgICAgICAgICAgICAgJyNEQzE0M0MnLFxuICAgIGN5YW46ICAgICAgICAgICAgICAgICAnIzAwRkZGRicsXG4gICAgZGFya2JsdWU6ICAgICAgICAgICAgICcjMDAwMDhCJyxcbiAgICBkYXJrY3lhbjogICAgICAgICAgICAgJyMwMDhCOEInLFxuICAgIGRhcmtnb2xkZW5yb2Q6ICAgICAgICAnI0I4ODYwQicsXG4gICAgZGFya2dyYXk6ICAgICAgICAgICAgICcjQTlBOUE5JyxcbiAgICBkYXJrZ3JleTogICAgICAgICAgICAgJyNBOUE5QTknLFxuICAgIGRhcmtncmVlbjogICAgICAgICAgICAnIzAwNjQwMCcsXG4gICAgZGFya2toYWtpOiAgICAgICAgICAgICcjQkRCNzZCJyxcbiAgICBkYXJrbWFnZW50YTogICAgICAgICAgJyM4QjAwOEInLFxuICAgIGRhcmtvbGl2ZWdyZWVuOiAgICAgICAnIzU1NkIyRicsXG4gICAgZGFya29yYW5nZTogICAgICAgICAgICcjRkY4QzAwJyxcbiAgICBkYXJrb3JjaGlkOiAgICAgICAgICAgJyM5OTMyQ0MnLFxuICAgIGRhcmtyZWQ6ICAgICAgICAgICAgICAnIzhCMDAwMCcsXG4gICAgZGFya3NhbG1vbjogICAgICAgICAgICcjRTk5NjdBJyxcbiAgICBkYXJrc2VhZ3JlZW46ICAgICAgICAgJyM4RkJDOEYnLFxuICAgIGRhcmtzbGF0ZWJsdWU6ICAgICAgICAnIzQ4M0Q4QicsXG4gICAgZGFya3NsYXRlZ3JheTogICAgICAgICcjMkY0RjRGJyxcbiAgICBkYXJrc2xhdGVncmV5OiAgICAgICAgJyMyRjRGNEYnLFxuICAgIGRhcmt0dXJxdW9pc2U6ICAgICAgICAnIzAwQ0VEMScsXG4gICAgZGFya3Zpb2xldDogICAgICAgICAgICcjOTQwMEQzJyxcbiAgICBkZWVwcGluazogICAgICAgICAgICAgJyNGRjE0OTMnLFxuICAgIGRlZXBza3libHVlOiAgICAgICAgICAnIzAwQkZGRicsXG4gICAgZGltZ3JheTogICAgICAgICAgICAgICcjNjk2OTY5JyxcbiAgICBkaW1ncmV5OiAgICAgICAgICAgICAgJyM2OTY5NjknLFxuICAgIGRvZGdlcmJsdWU6ICAgICAgICAgICAnIzFFOTBGRicsXG4gICAgZmlyZWJyaWNrOiAgICAgICAgICAgICcjQjIyMjIyJyxcbiAgICBmbG9yYWx3aGl0ZTogICAgICAgICAgJyNGRkZBRjAnLFxuICAgIGZvcmVzdGdyZWVuOiAgICAgICAgICAnIzIyOEIyMicsXG4gICAgZnVjaHNpYTogICAgICAgICAgICAgICcjRkYwMEZGJyxcbiAgICBnYWluc2Jvcm86ICAgICAgICAgICAgJyNEQ0RDREMnLFxuICAgIGdob3N0d2hpdGU6ICAgICAgICAgICAnI0Y4RjhGRicsXG4gICAgZ29sZDogICAgICAgICAgICAgICAgICcjRkZENzAwJyxcbiAgICBnb2xkZW5yb2Q6ICAgICAgICAgICAgJyNEQUE1MjAnLFxuICAgIGdyYXk6ICAgICAgICAgICAgICAgICAnIzgwODA4MCcsXG4gICAgZ3JleTogICAgICAgICAgICAgICAgICcjODA4MDgwJyxcbiAgICBncmVlbjogICAgICAgICAgICAgICAgJyMwMDgwMDAnLFxuICAgIGdyZWVueWVsbG93OiAgICAgICAgICAnI0FERkYyRicsXG4gICAgaG9uZXlkZXc6ICAgICAgICAgICAgICcjRjBGRkYwJyxcbiAgICBob3RwaW5rOiAgICAgICAgICAgICAgJyNGRjY5QjQnLFxuICAgIGluZGlhbnJlZDogICAgICAgICAgICAnI0NENUM1QycsXG4gICAgaW5kaWdvOiAgICAgICAgICAgICAgICcjNEIwMDgyJyxcbiAgICBpdm9yeTogICAgICAgICAgICAgICAgJyNGRkZGRjAnLFxuICAgIGtoYWtpOiAgICAgICAgICAgICAgICAnI0YwRTY4QycsXG4gICAgbGF2ZW5kZXI6ICAgICAgICAgICAgICcjRTZFNkZBJyxcbiAgICBsYXZlbmRlcmJsdXNoOiAgICAgICAgJyNGRkYwRjUnLFxuICAgIGxhd25ncmVlbjogICAgICAgICAgICAnIzdDRkMwMCcsXG4gICAgbGVtb25jaGlmZm9uOiAgICAgICAgICcjRkZGQUNEJyxcbiAgICBsaWdodGJsdWU6ICAgICAgICAgICAgJyNBREQ4RTYnLFxuICAgIGxpZ2h0Y29yYWw6ICAgICAgICAgICAnI0YwODA4MCcsXG4gICAgbGlnaHRjeWFuOiAgICAgICAgICAgICcjRTBGRkZGJyxcbiAgICBsaWdodGdvbGRlbnJvZHllbGxvdzogJyNGQUZBRDInLFxuICAgIGxpZ2h0Z3JheTogICAgICAgICAgICAnI0QzRDNEMycsXG4gICAgbGlnaHRncmV5OiAgICAgICAgICAgICcjRDNEM0QzJyxcbiAgICBsaWdodGdyZWVuOiAgICAgICAgICAgJyM5MEVFOTAnLFxuICAgIGxpZ2h0cGluazogICAgICAgICAgICAnI0ZGQjZDMScsXG4gICAgbGlnaHRzYWxtb246ICAgICAgICAgICcjRkZBMDdBJyxcbiAgICBsaWdodHNlYWdyZWVuOiAgICAgICAgJyMyMEIyQUEnLFxuICAgIGxpZ2h0c2t5Ymx1ZTogICAgICAgICAnIzg3Q0VGQScsXG4gICAgbGlnaHRzbGF0ZWdyYXk6ICAgICAgICcjNzc4ODk5JyxcbiAgICBsaWdodHNsYXRlZ3JleTogICAgICAgJyM3Nzg4OTknLFxuICAgIGxpZ2h0c3RlZWxibHVlOiAgICAgICAnI0IwQzRERScsXG4gICAgbGlnaHR5ZWxsb3c6ICAgICAgICAgICcjRkZGRkUwJyxcbiAgICBsaW1lOiAgICAgICAgICAgICAgICAgJyMwMEZGMDAnLFxuICAgIGxpbWVncmVlbjogICAgICAgICAgICAnIzMyQ0QzMicsXG4gICAgbGluZW46ICAgICAgICAgICAgICAgICcjRkFGMEU2JyxcbiAgICBtYWdlbnRhOiAgICAgICAgICAgICAgJyNGRjAwRkYnLFxuICAgIG1hcm9vbjogICAgICAgICAgICAgICAnIzgwMDAwMCcsXG4gICAgbWVkaXVtYXF1YW1hcmluZTogICAgICcjNjZDREFBJyxcbiAgICBtZWRpdW1ibHVlOiAgICAgICAgICAgJyMwMDAwQ0QnLFxuICAgIG1lZGl1bW9yY2hpZDogICAgICAgICAnI0JBNTVEMycsXG4gICAgbWVkaXVtcHVycGxlOiAgICAgICAgICcjOTM3MERCJyxcbiAgICBtZWRpdW1zZWFncmVlbjogICAgICAgJyMzQ0IzNzEnLFxuICAgIG1lZGl1bXNsYXRlYmx1ZTogICAgICAnIzdCNjhFRScsXG4gICAgbWVkaXVtc3ByaW5nZ3JlZW46ICAgICcjMDBGQTlBJyxcbiAgICBtZWRpdW10dXJxdW9pc2U6ICAgICAgJyM0OEQxQ0MnLFxuICAgIG1lZGl1bXZpb2xldHJlZDogICAgICAnI0M3MTU4NScsXG4gICAgbWlkbmlnaHRibHVlOiAgICAgICAgICcjMTkxOTcwJyxcbiAgICBtaW50Y3JlYW06ICAgICAgICAgICAgJyNGNUZGRkEnLFxuICAgIG1pc3R5cm9zZTogICAgICAgICAgICAnI0ZGRTRFMScsXG4gICAgbW9jY2FzaW46ICAgICAgICAgICAgICcjRkZFNEI1JyxcbiAgICBuYXZham93aGl0ZTogICAgICAgICAgJyNGRkRFQUQnLFxuICAgIG5hdnk6ICAgICAgICAgICAgICAgICAnIzAwMDA4MCcsXG4gICAgb2xkbGFjZTogICAgICAgICAgICAgICcjRkRGNUU2JyxcbiAgICBvbGl2ZTogICAgICAgICAgICAgICAgJyM4MDgwMDAnLFxuICAgIG9saXZlZHJhYjogICAgICAgICAgICAnIzZCOEUyMycsXG4gICAgb3JhbmdlOiAgICAgICAgICAgICAgICcjRkZBNTAwJyxcbiAgICBvcmFuZ2VyZWQ6ICAgICAgICAgICAgJyNGRjQ1MDAnLFxuICAgIG9yY2hpZDogICAgICAgICAgICAgICAnI0RBNzBENicsXG4gICAgcGFsZWdvbGRlbnJvZDogICAgICAgICcjRUVFOEFBJyxcbiAgICBwYWxlZ3JlZW46ICAgICAgICAgICAgJyM5OEZCOTgnLFxuICAgIHBhbGV0dXJxdW9pc2U6ICAgICAgICAnI0FGRUVFRScsXG4gICAgcGFsZXZpb2xldHJlZDogICAgICAgICcjREI3MDkzJyxcbiAgICBwYXBheWF3aGlwOiAgICAgICAgICAgJyNGRkVGRDUnLFxuICAgIHBlYWNocHVmZjogICAgICAgICAgICAnI0ZGREFCOScsXG4gICAgcGVydTogICAgICAgICAgICAgICAgICcjQ0Q4NTNGJyxcbiAgICBwaW5rOiAgICAgICAgICAgICAgICAgJyNGRkMwQ0InLFxuICAgIHBsdW06ICAgICAgICAgICAgICAgICAnI0REQTBERCcsXG4gICAgcG93ZGVyYmx1ZTogICAgICAgICAgICcjQjBFMEU2JyxcbiAgICBwdXJwbGU6ICAgICAgICAgICAgICAgJyM4MDAwODAnLFxuICAgIHJlYmVjY2FwdXJwbGU6ICAgICAgICAnIzY2MzM5OScsXG4gICAgcmVkOiAgICAgICAgICAgICAgICAgICcjRkYwMDAwJyxcbiAgICByb3N5YnJvd246ICAgICAgICAgICAgJyNCQzhGOEYnLFxuICAgIHJveWFsYmx1ZTogICAgICAgICAgICAnIzQxNjlFMScsXG4gICAgc2FkZGxlYnJvd246ICAgICAgICAgICcjOEI0NTEzJyxcbiAgICBzYWxtb246ICAgICAgICAgICAgICAgJyNGQTgwNzInLFxuICAgIHNhbmR5YnJvd246ICAgICAgICAgICAnI0Y0QTQ2MCcsXG4gICAgc2VhZ3JlZW46ICAgICAgICAgICAgICcjMkU4QjU3JyxcbiAgICBzZWFzaGVsbDogICAgICAgICAgICAgJyNGRkY1RUUnLFxuICAgIHNpZW5uYTogICAgICAgICAgICAgICAnI0EwNTIyRCcsXG4gICAgc2lsdmVyOiAgICAgICAgICAgICAgICcjQzBDMEMwJyxcbiAgICBza3libHVlOiAgICAgICAgICAgICAgJyM4N0NFRUInLFxuICAgIHNsYXRlYmx1ZTogICAgICAgICAgICAnIzZBNUFDRCcsXG4gICAgc2xhdGVncmF5OiAgICAgICAgICAgICcjNzA4MDkwJyxcbiAgICBzbGF0ZWdyZXk6ICAgICAgICAgICAgJyM3MDgwOTAnLFxuICAgIHNub3c6ICAgICAgICAgICAgICAgICAnI0ZGRkFGQScsXG4gICAgc3ByaW5nZ3JlZW46ICAgICAgICAgICcjMDBGRjdGJyxcbiAgICBzdGVlbGJsdWU6ICAgICAgICAgICAgJyM0NjgyQjQnLFxuICAgIHRhbjogICAgICAgICAgICAgICAgICAnI0QyQjQ4QycsXG4gICAgdGVhbDogICAgICAgICAgICAgICAgICcjMDA4MDgwJyxcbiAgICB0aGlzdGxlOiAgICAgICAgICAgICAgJyNEOEJGRDgnLFxuICAgIHRvbWF0bzogICAgICAgICAgICAgICAnI0ZGNjM0NycsXG4gICAgdHVycXVvaXNlOiAgICAgICAgICAgICcjNDBFMEQwJyxcbiAgICB2aW9sZXQ6ICAgICAgICAgICAgICAgJyNFRTgyRUUnLFxuICAgIHdoZWF0OiAgICAgICAgICAgICAgICAnI0Y1REVCMycsXG4gICAgd2hpdGU6ICAgICAgICAgICAgICAgICcjRkZGRkZGJyxcbiAgICB3aGl0ZXNtb2tlOiAgICAgICAgICAgJyNGNUY1RjUnLFxuICAgIHllbGxvdzogICAgICAgICAgICAgICAnI0ZGRkYwMCcsXG4gICAgeWVsbG93Z3JlZW46ICAgICAgICAgICcjOUFDRDMyJ1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge051bWJlcn0gcFxuICAgKiBAcGFyYW0ge051bWJlcn0gcVxuICAgKiBAcGFyYW0ge051bWJlcn0gdFxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAqL1xuICBmdW5jdGlvbiBodWUycmdiKHAsIHEsIHQpIHtcbiAgICBpZiAodCA8IDApIHtcbiAgICAgIHQgKz0gMTtcbiAgICB9XG4gICAgaWYgKHQgPiAxKSB7XG4gICAgICB0IC09IDE7XG4gICAgfVxuICAgIGlmICh0IDwgMSAvIDYpIHtcbiAgICAgIHJldHVybiBwICsgKHEgLSBwKSAqIDYgKiB0O1xuICAgIH1cbiAgICBpZiAodCA8IDEgLyAyKSB7XG4gICAgICByZXR1cm4gcTtcbiAgICB9XG4gICAgaWYgKHQgPCAyIC8gMykge1xuICAgICAgcmV0dXJuIHAgKyAocSAtIHApICogKDIgLyAzIC0gdCkgKiA2O1xuICAgIH1cbiAgICByZXR1cm4gcDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIG5ldyBjb2xvciBvYmplY3QsIHdoZW4gZ2l2ZW4gYSBjb2xvciBpbiBSR0IgZm9ybWF0XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuQ29sb3JcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNvbG9yIENvbG9yIHZhbHVlIGV4OiByZ2IoMC0yNTUsMC0yNTUsMC0yNTUpXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5Db2xvcn1cbiAgICovXG4gIGZhYnJpYy5Db2xvci5mcm9tUmdiID0gZnVuY3Rpb24oY29sb3IpIHtcbiAgICByZXR1cm4gQ29sb3IuZnJvbVNvdXJjZShDb2xvci5zb3VyY2VGcm9tUmdiKGNvbG9yKSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYXJyYXkgcmVwcmVzZW50YXRpb24gKGV4OiBbMTAwLCAxMDAsIDIwMCwgMV0pIG9mIGEgY29sb3IgdGhhdCdzIGluIFJHQiBvciBSR0JBIGZvcm1hdFxuICAgKiBAbWVtYmVyT2YgZmFicmljLkNvbG9yXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjb2xvciBDb2xvciB2YWx1ZSBleDogcmdiKDAtMjU1LDAtMjU1LDAtMjU1KSwgcmdiKDAlLTEwMCUsMCUtMTAwJSwwJS0xMDAlKVxuICAgKiBAcmV0dXJuIHtBcnJheX0gc291cmNlXG4gICAqL1xuICBmYWJyaWMuQ29sb3Iuc291cmNlRnJvbVJnYiA9IGZ1bmN0aW9uKGNvbG9yKSB7XG4gICAgdmFyIG1hdGNoID0gY29sb3IubWF0Y2goQ29sb3IucmVSR0JhKTtcbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgIHZhciByID0gcGFyc2VJbnQobWF0Y2hbMV0sIDEwKSAvICgvJSQvLnRlc3QobWF0Y2hbMV0pID8gMTAwIDogMSkgKiAoLyUkLy50ZXN0KG1hdGNoWzFdKSA/IDI1NSA6IDEpLFxuICAgICAgICAgIGcgPSBwYXJzZUludChtYXRjaFsyXSwgMTApIC8gKC8lJC8udGVzdChtYXRjaFsyXSkgPyAxMDAgOiAxKSAqICgvJSQvLnRlc3QobWF0Y2hbMl0pID8gMjU1IDogMSksXG4gICAgICAgICAgYiA9IHBhcnNlSW50KG1hdGNoWzNdLCAxMCkgLyAoLyUkLy50ZXN0KG1hdGNoWzNdKSA/IDEwMCA6IDEpICogKC8lJC8udGVzdChtYXRjaFszXSkgPyAyNTUgOiAxKTtcblxuICAgICAgcmV0dXJuIFtcbiAgICAgICAgcGFyc2VJbnQociwgMTApLFxuICAgICAgICBwYXJzZUludChnLCAxMCksXG4gICAgICAgIHBhcnNlSW50KGIsIDEwKSxcbiAgICAgICAgbWF0Y2hbNF0gPyBwYXJzZUZsb2F0KG1hdGNoWzRdKSA6IDFcbiAgICAgIF07XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIG5ldyBjb2xvciBvYmplY3QsIHdoZW4gZ2l2ZW4gYSBjb2xvciBpbiBSR0JBIGZvcm1hdFxuICAgKiBAc3RhdGljXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgZmFicmljLkNvbG9yXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjb2xvclxuICAgKiBAcmV0dXJuIHtmYWJyaWMuQ29sb3J9XG4gICAqL1xuICBmYWJyaWMuQ29sb3IuZnJvbVJnYmEgPSBDb2xvci5mcm9tUmdiO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIG5ldyBjb2xvciBvYmplY3QsIHdoZW4gZ2l2ZW4gYSBjb2xvciBpbiBIU0wgZm9ybWF0XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjb2xvciBDb2xvciB2YWx1ZSBleDogaHNsKDAtMjYwLDAlLTEwMCUsMCUtMTAwJSlcbiAgICogQG1lbWJlck9mIGZhYnJpYy5Db2xvclxuICAgKiBAcmV0dXJuIHtmYWJyaWMuQ29sb3J9XG4gICAqL1xuICBmYWJyaWMuQ29sb3IuZnJvbUhzbCA9IGZ1bmN0aW9uKGNvbG9yKSB7XG4gICAgcmV0dXJuIENvbG9yLmZyb21Tb3VyY2UoQ29sb3Iuc291cmNlRnJvbUhzbChjb2xvcikpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFycmF5IHJlcHJlc2VudGF0aW9uIChleDogWzEwMCwgMTAwLCAyMDAsIDFdKSBvZiBhIGNvbG9yIHRoYXQncyBpbiBIU0wgb3IgSFNMQSBmb3JtYXQuXG4gICAqIEFkYXB0ZWQgZnJvbSA8YSBocmVmPVwiaHR0cHM6Ly9yYXdnaXRodWIuY29tL21qaWphY2tzb24vbWppamFja3Nvbi5naXRodWIuY29tL21hc3Rlci8yMDA4LzAyL3JnYi10by1oc2wtYW5kLXJnYi10by1oc3YtY29sb3ItbW9kZWwtY29udmVyc2lvbi1hbGdvcml0aG1zLWluLWphdmFzY3JpcHQuaHRtbFwiPmh0dHBzOi8vZ2l0aHViLmNvbS9tamlqYWNrc29uPC9hPlxuICAgKiBAbWVtYmVyT2YgZmFicmljLkNvbG9yXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjb2xvciBDb2xvciB2YWx1ZSBleDogaHNsKDAtMzYwLDAlLTEwMCUsMCUtMTAwJSkgb3IgaHNsYSgwLTM2MCwwJS0xMDAlLDAlLTEwMCUsIDAtMSlcbiAgICogQHJldHVybiB7QXJyYXl9IHNvdXJjZVxuICAgKiBAc2VlIGh0dHA6Ly9odHRwOi8vd3d3LnczLm9yZy9UUi9jc3MzLWNvbG9yLyNoc2wtY29sb3JcbiAgICovXG4gIGZhYnJpYy5Db2xvci5zb3VyY2VGcm9tSHNsID0gZnVuY3Rpb24oY29sb3IpIHtcbiAgICB2YXIgbWF0Y2ggPSBjb2xvci5tYXRjaChDb2xvci5yZUhTTGEpO1xuICAgIGlmICghbWF0Y2gpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgaCA9ICgoKHBhcnNlRmxvYXQobWF0Y2hbMV0pICUgMzYwKSArIDM2MCkgJSAzNjApIC8gMzYwLFxuICAgICAgICBzID0gcGFyc2VGbG9hdChtYXRjaFsyXSkgLyAoLyUkLy50ZXN0KG1hdGNoWzJdKSA/IDEwMCA6IDEpLFxuICAgICAgICBsID0gcGFyc2VGbG9hdChtYXRjaFszXSkgLyAoLyUkLy50ZXN0KG1hdGNoWzNdKSA/IDEwMCA6IDEpLFxuICAgICAgICByLCBnLCBiO1xuXG4gICAgaWYgKHMgPT09IDApIHtcbiAgICAgIHIgPSBnID0gYiA9IGw7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdmFyIHEgPSBsIDw9IDAuNSA/IGwgKiAocyArIDEpIDogbCArIHMgLSBsICogcyxcbiAgICAgICAgICBwID0gbCAqIDIgLSBxO1xuXG4gICAgICByID0gaHVlMnJnYihwLCBxLCBoICsgMSAvIDMpO1xuICAgICAgZyA9IGh1ZTJyZ2IocCwgcSwgaCk7XG4gICAgICBiID0gaHVlMnJnYihwLCBxLCBoIC0gMSAvIDMpO1xuICAgIH1cblxuICAgIHJldHVybiBbXG4gICAgICBNYXRoLnJvdW5kKHIgKiAyNTUpLFxuICAgICAgTWF0aC5yb3VuZChnICogMjU1KSxcbiAgICAgIE1hdGgucm91bmQoYiAqIDI1NSksXG4gICAgICBtYXRjaFs0XSA/IHBhcnNlRmxvYXQobWF0Y2hbNF0pIDogMVxuICAgIF07XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgbmV3IGNvbG9yIG9iamVjdCwgd2hlbiBnaXZlbiBhIGNvbG9yIGluIEhTTEEgZm9ybWF0XG4gICAqIEBzdGF0aWNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuQ29sb3JcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNvbG9yXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5Db2xvcn1cbiAgICovXG4gIGZhYnJpYy5Db2xvci5mcm9tSHNsYSA9IENvbG9yLmZyb21Ic2w7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgbmV3IGNvbG9yIG9iamVjdCwgd2hlbiBnaXZlbiBhIGNvbG9yIGluIEhFWCBmb3JtYXRcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLkNvbG9yXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjb2xvciBDb2xvciB2YWx1ZSBleDogRkY1NTU1XG4gICAqIEByZXR1cm4ge2ZhYnJpYy5Db2xvcn1cbiAgICovXG4gIGZhYnJpYy5Db2xvci5mcm9tSGV4ID0gZnVuY3Rpb24oY29sb3IpIHtcbiAgICByZXR1cm4gQ29sb3IuZnJvbVNvdXJjZShDb2xvci5zb3VyY2VGcm9tSGV4KGNvbG9yKSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYXJyYXkgcmVwcmVzZW50YXRpb24gKGV4OiBbMTAwLCAxMDAsIDIwMCwgMV0pIG9mIGEgY29sb3IgdGhhdCdzIGluIEhFWCBmb3JtYXRcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLkNvbG9yXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjb2xvciBleDogRkY1NTU1IG9yIEZGNTU0NENDIChSR0JhKVxuICAgKiBAcmV0dXJuIHtBcnJheX0gc291cmNlXG4gICAqL1xuICBmYWJyaWMuQ29sb3Iuc291cmNlRnJvbUhleCA9IGZ1bmN0aW9uKGNvbG9yKSB7XG4gICAgaWYgKGNvbG9yLm1hdGNoKENvbG9yLnJlSGV4KSkge1xuICAgICAgdmFyIHZhbHVlID0gY29sb3Iuc2xpY2UoY29sb3IuaW5kZXhPZignIycpICsgMSksXG4gICAgICAgICAgaXNTaG9ydE5vdGF0aW9uID0gKHZhbHVlLmxlbmd0aCA9PT0gMyB8fCB2YWx1ZS5sZW5ndGggPT09IDQpLFxuICAgICAgICAgIGlzUkdCYSA9ICh2YWx1ZS5sZW5ndGggPT09IDggfHwgdmFsdWUubGVuZ3RoID09PSA0KSxcbiAgICAgICAgICByID0gaXNTaG9ydE5vdGF0aW9uID8gKHZhbHVlLmNoYXJBdCgwKSArIHZhbHVlLmNoYXJBdCgwKSkgOiB2YWx1ZS5zdWJzdHJpbmcoMCwgMiksXG4gICAgICAgICAgZyA9IGlzU2hvcnROb3RhdGlvbiA/ICh2YWx1ZS5jaGFyQXQoMSkgKyB2YWx1ZS5jaGFyQXQoMSkpIDogdmFsdWUuc3Vic3RyaW5nKDIsIDQpLFxuICAgICAgICAgIGIgPSBpc1Nob3J0Tm90YXRpb24gPyAodmFsdWUuY2hhckF0KDIpICsgdmFsdWUuY2hhckF0KDIpKSA6IHZhbHVlLnN1YnN0cmluZyg0LCA2KSxcbiAgICAgICAgICBhID0gaXNSR0JhID8gKGlzU2hvcnROb3RhdGlvbiA/ICh2YWx1ZS5jaGFyQXQoMykgKyB2YWx1ZS5jaGFyQXQoMykpIDogdmFsdWUuc3Vic3RyaW5nKDYsIDgpKSA6ICdGRic7XG5cbiAgICAgIHJldHVybiBbXG4gICAgICAgIHBhcnNlSW50KHIsIDE2KSxcbiAgICAgICAgcGFyc2VJbnQoZywgMTYpLFxuICAgICAgICBwYXJzZUludChiLCAxNiksXG4gICAgICAgIHBhcnNlRmxvYXQoKHBhcnNlSW50KGEsIDE2KSAvIDI1NSkudG9GaXhlZCgyKSlcbiAgICAgIF07XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIG5ldyBjb2xvciBvYmplY3QsIHdoZW4gZ2l2ZW4gY29sb3IgaW4gYXJyYXkgcmVwcmVzZW50YXRpb24gKGV4OiBbMjAwLCAxMDAsIDEwMCwgMC41XSlcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLkNvbG9yXG4gICAqIEBwYXJhbSB7QXJyYXl9IHNvdXJjZVxuICAgKiBAcmV0dXJuIHtmYWJyaWMuQ29sb3J9XG4gICAqL1xuICBmYWJyaWMuQ29sb3IuZnJvbVNvdXJjZSA9IGZ1bmN0aW9uKHNvdXJjZSkge1xuICAgIHZhciBvQ29sb3IgPSBuZXcgQ29sb3IoKTtcbiAgICBvQ29sb3Iuc2V0U291cmNlKHNvdXJjZSk7XG4gICAgcmV0dXJuIG9Db2xvcjtcbiAgfTtcblxufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyA9IGdsb2JhbC5mYWJyaWMgfHwgKGdsb2JhbC5mYWJyaWMgPSB7IH0pLFxuICAgICAgc2NhbGVNYXAgPSBbJ2UnLCAnc2UnLCAncycsICdzdycsICd3JywgJ253JywgJ24nLCAnbmUnLCAnZSddLFxuICAgICAgc2tld01hcCA9IFsnbnMnLCAnbmVzdycsICdldycsICdud3NlJ10sXG4gICAgICBjb250cm9scyA9IHt9LFxuICAgICAgTEVGVCA9ICdsZWZ0JywgVE9QID0gJ3RvcCcsIFJJR0hUID0gJ3JpZ2h0JywgQk9UVE9NID0gJ2JvdHRvbScsIENFTlRFUiA9ICdjZW50ZXInLFxuICAgICAgb3Bwb3NpdGUgPSB7XG4gICAgICAgIHRvcDogQk9UVE9NLFxuICAgICAgICBib3R0b206IFRPUCxcbiAgICAgICAgbGVmdDogUklHSFQsXG4gICAgICAgIHJpZ2h0OiBMRUZULFxuICAgICAgICBjZW50ZXI6IENFTlRFUixcbiAgICAgIH0sIHJhZGlhbnNUb0RlZ3JlZXMgPSBmYWJyaWMudXRpbC5yYWRpYW5zVG9EZWdyZWVzLFxuICAgICAgc2lnbiA9IChNYXRoLnNpZ24gfHwgZnVuY3Rpb24oeCkgeyByZXR1cm4gKCh4ID4gMCkgLSAoeCA8IDApKSB8fCAreDsgfSk7XG5cbiAgLyoqXG4gICAqIENvbWJpbmUgY29udHJvbCBwb3NpdGlvbiBhbmQgb2JqZWN0IGFuZ2xlIHRvIGZpbmQgdGhlIGNvbnRyb2wgZGlyZWN0aW9uIGNvbXBhcmVkXG4gICAqIHRvIHRoZSBvYmplY3QgY2VudGVyLlxuICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IGZhYnJpY09iamVjdCB0aGUgZmFicmljIG9iamVjdCBmb3Igd2hpY2ggd2UgYXJlIHJlbmRlcmluZyBjb250cm9sc1xuICAgKiBAcGFyYW0ge2ZhYnJpYy5Db250cm9sfSBjb250cm9sIHRoZSBjb250cm9sIGNsYXNzXG4gICAqIEByZXR1cm4ge051bWJlcn0gMCAtIDcgYSBxdWFkcmFudCBudW1iZXJcbiAgICovXG4gIGZ1bmN0aW9uIGZpbmRDb3JuZXJRdWFkcmFudChmYWJyaWNPYmplY3QsIGNvbnRyb2wpIHtcbiAgICB2YXIgY29ybmVyQW5nbGUgPSBmYWJyaWNPYmplY3QuYW5nbGUgKyByYWRpYW5zVG9EZWdyZWVzKE1hdGguYXRhbjIoY29udHJvbC55LCBjb250cm9sLngpKSArIDM2MDtcbiAgICByZXR1cm4gTWF0aC5yb3VuZCgoY29ybmVyQW5nbGUgJSAzNjApIC8gNDUpO1xuICB9XG5cbiAgZnVuY3Rpb24gZmlyZUV2ZW50KGV2ZW50TmFtZSwgb3B0aW9ucykge1xuICAgIHZhciB0YXJnZXQgPSBvcHRpb25zLnRyYW5zZm9ybS50YXJnZXQsXG4gICAgICAgIGNhbnZhcyA9IHRhcmdldC5jYW52YXMsXG4gICAgICAgIGNhbnZhc09wdGlvbnMgPSBmYWJyaWMudXRpbC5vYmplY3QuY2xvbmUob3B0aW9ucyk7XG4gICAgY2FudmFzT3B0aW9ucy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgY2FudmFzICYmIGNhbnZhcy5maXJlKCdvYmplY3Q6JyArIGV2ZW50TmFtZSwgY2FudmFzT3B0aW9ucyk7XG4gICAgdGFyZ2V0LmZpcmUoZXZlbnROYW1lLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnNwZWN0IGV2ZW50IGFuZCBmYWJyaWNPYmplY3QgcHJvcGVydGllcyB0byB1bmRlcnN0YW5kIGlmIHRoZSBzY2FsaW5nIGFjdGlvblxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudERhdGEgZnJvbSB0aGUgdXNlciBhY3Rpb25cbiAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBmYWJyaWNPYmplY3QgdGhlIGZhYnJpYyBvYmplY3QgYWJvdXQgdG8gc2NhbGVcbiAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBzY2FsZSBpcyBwcm9wb3J0aW9uYWxcbiAgICovXG4gIGZ1bmN0aW9uIHNjYWxlSXNQcm9wb3J0aW9uYWwoZXZlbnREYXRhLCBmYWJyaWNPYmplY3QpIHtcbiAgICB2YXIgY2FudmFzID0gZmFicmljT2JqZWN0LmNhbnZhcywgdW5pU2NhbGVLZXkgPSBjYW52YXMudW5pU2NhbGVLZXksXG4gICAgICAgIHVuaWZvcm1Jc1RvZ2dsZWQgPSBldmVudERhdGFbdW5pU2NhbGVLZXldO1xuICAgIHJldHVybiAoY2FudmFzLnVuaWZvcm1TY2FsaW5nICYmICF1bmlmb3JtSXNUb2dnbGVkKSB8fFxuICAgICghY2FudmFzLnVuaWZvcm1TY2FsaW5nICYmIHVuaWZvcm1Jc1RvZ2dsZWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0cmFuc2Zvcm0gaXMgY2VudGVyZWRcbiAgICogQHBhcmFtIHtPYmplY3R9IHRyYW5zZm9ybSB0cmFuc2Zvcm0gZGF0YVxuICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIHRyYW5zZm9ybSBpcyBjZW50ZXJlZFxuICAgKi9cbiAgZnVuY3Rpb24gaXNUcmFuc2Zvcm1DZW50ZXJlZCh0cmFuc2Zvcm0pIHtcbiAgICByZXR1cm4gdHJhbnNmb3JtLm9yaWdpblggPT09IENFTlRFUiAmJiB0cmFuc2Zvcm0ub3JpZ2luWSA9PT0gQ0VOVEVSO1xuICB9XG5cbiAgLyoqXG4gICAqIEluc3BlY3QgZmFicmljT2JqZWN0IHRvIHVuZGVyc3RhbmQgaWYgdGhlIGN1cnJlbnQgc2NhbGluZyBhY3Rpb24gaXMgYWxsb3dlZFxuICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IGZhYnJpY09iamVjdCB0aGUgZmFicmljIG9iamVjdCBhYm91dCB0byBzY2FsZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gYnkgJ3gnIG9yICd5JyBvciAnJ1xuICAgKiBAcGFyYW0ge0Jvb2xlYW59IHNjYWxlUHJvcG9ydGlvbmFsbHkgdHJ1ZSBpZiB3ZSBhcmUgdHJ5aW5nIHRvIHNjYWxlIHByb3BvcnRpb25hbGx5XG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgc2NhbGluZyBpcyBub3QgYWxsb3dlZCBhdCBjdXJyZW50IGNvbmRpdGlvbnNcbiAgICovXG4gIGZ1bmN0aW9uIHNjYWxpbmdJc0ZvcmJpZGRlbihmYWJyaWNPYmplY3QsIGJ5LCBzY2FsZVByb3BvcnRpb25hbGx5KSB7XG4gICAgdmFyIGxvY2tYID0gZmFicmljT2JqZWN0LmxvY2tTY2FsaW5nWCwgbG9ja1kgPSBmYWJyaWNPYmplY3QubG9ja1NjYWxpbmdZO1xuICAgIGlmIChsb2NrWCAmJiBsb2NrWSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICghYnkgJiYgKGxvY2tYIHx8IGxvY2tZKSAmJiBzY2FsZVByb3BvcnRpb25hbGx5KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGxvY2tYICYmIGJ5ID09PSAneCcpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAobG9ja1kgJiYgYnkgPT09ICd5Jykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiByZXR1cm4gdGhlIGNvcnJlY3QgY3Vyc29yIHN0eWxlIGZvciB0aGUgc2NhbGUgYWN0aW9uXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50RGF0YSB0aGUgamF2YXNjcmlwdCBldmVudCB0aGF0IGlzIGNhdXNpbmcgdGhlIHNjYWxlXG4gICAqIEBwYXJhbSB7ZmFicmljLkNvbnRyb2x9IGNvbnRyb2wgdGhlIGNvbnRyb2wgdGhhdCBpcyBpbnRlcmVzdGVkIGluIHRoZSBhY3Rpb25cbiAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBmYWJyaWNPYmplY3QgdGhlIGZhYnJpYyBvYmplY3QgdGhhdCBpcyBpbnRlcmVzdGVkIGluIHRoZSBhY3Rpb25cbiAgICogQHJldHVybiB7U3RyaW5nfSBhIHZhbGlkIGNzcyBzdHJpbmcgZm9yIHRoZSBjdXJzb3JcbiAgICovXG4gIGZ1bmN0aW9uIHNjYWxlQ3Vyc29yU3R5bGVIYW5kbGVyKGV2ZW50RGF0YSwgY29udHJvbCwgZmFicmljT2JqZWN0KSB7XG4gICAgdmFyIG5vdEFsbG93ZWQgPSAnbm90LWFsbG93ZWQnLFxuICAgICAgICBzY2FsZVByb3BvcnRpb25hbGx5ID0gc2NhbGVJc1Byb3BvcnRpb25hbChldmVudERhdGEsIGZhYnJpY09iamVjdCksXG4gICAgICAgIGJ5ID0gJyc7XG4gICAgaWYgKGNvbnRyb2wueCAhPT0gMCAmJiBjb250cm9sLnkgPT09IDApIHtcbiAgICAgIGJ5ID0gJ3gnO1xuICAgIH1cbiAgICBlbHNlIGlmIChjb250cm9sLnggPT09IDAgJiYgY29udHJvbC55ICE9PSAwKSB7XG4gICAgICBieSA9ICd5JztcbiAgICB9XG4gICAgaWYgKHNjYWxpbmdJc0ZvcmJpZGRlbihmYWJyaWNPYmplY3QsIGJ5LCBzY2FsZVByb3BvcnRpb25hbGx5KSkge1xuICAgICAgcmV0dXJuIG5vdEFsbG93ZWQ7XG4gICAgfVxuICAgIHZhciBuID0gZmluZENvcm5lclF1YWRyYW50KGZhYnJpY09iamVjdCwgY29udHJvbCk7XG4gICAgcmV0dXJuIHNjYWxlTWFwW25dICsgJy1yZXNpemUnO1xuICB9XG5cbiAgLyoqXG4gICAqIHJldHVybiB0aGUgY29ycmVjdCBjdXJzb3Igc3R5bGUgZm9yIHRoZSBza2V3IGFjdGlvblxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudERhdGEgdGhlIGphdmFzY3JpcHQgZXZlbnQgdGhhdCBpcyBjYXVzaW5nIHRoZSBzY2FsZVxuICAgKiBAcGFyYW0ge2ZhYnJpYy5Db250cm9sfSBjb250cm9sIHRoZSBjb250cm9sIHRoYXQgaXMgaW50ZXJlc3RlZCBpbiB0aGUgYWN0aW9uXG4gICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gZmFicmljT2JqZWN0IHRoZSBmYWJyaWMgb2JqZWN0IHRoYXQgaXMgaW50ZXJlc3RlZCBpbiB0aGUgYWN0aW9uXG4gICAqIEByZXR1cm4ge1N0cmluZ30gYSB2YWxpZCBjc3Mgc3RyaW5nIGZvciB0aGUgY3Vyc29yXG4gICAqL1xuICBmdW5jdGlvbiBza2V3Q3Vyc29yU3R5bGVIYW5kbGVyKGV2ZW50RGF0YSwgY29udHJvbCwgZmFicmljT2JqZWN0KSB7XG4gICAgdmFyIG5vdEFsbG93ZWQgPSAnbm90LWFsbG93ZWQnO1xuICAgIGlmIChjb250cm9sLnggIT09IDAgJiYgZmFicmljT2JqZWN0LmxvY2tTa2V3aW5nWSkge1xuICAgICAgcmV0dXJuIG5vdEFsbG93ZWQ7XG4gICAgfVxuICAgIGlmIChjb250cm9sLnkgIT09IDAgJiYgZmFicmljT2JqZWN0LmxvY2tTa2V3aW5nWCkge1xuICAgICAgcmV0dXJuIG5vdEFsbG93ZWQ7XG4gICAgfVxuICAgIHZhciBuID0gZmluZENvcm5lclF1YWRyYW50KGZhYnJpY09iamVjdCwgY29udHJvbCkgJSA0O1xuICAgIHJldHVybiBza2V3TWFwW25dICsgJy1yZXNpemUnO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbWJpbmUgc2tldyBhbmQgc2NhbGUgc3R5bGUgaGFuZGxlcnMgdG8gY292ZXIgZmFicmljIHN0YW5kYXJkIHVzZSBjYXNlXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50RGF0YSB0aGUgamF2YXNjcmlwdCBldmVudCB0aGF0IGlzIGNhdXNpbmcgdGhlIHNjYWxlXG4gICAqIEBwYXJhbSB7ZmFicmljLkNvbnRyb2x9IGNvbnRyb2wgdGhlIGNvbnRyb2wgdGhhdCBpcyBpbnRlcmVzdGVkIGluIHRoZSBhY3Rpb25cbiAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBmYWJyaWNPYmplY3QgdGhlIGZhYnJpYyBvYmplY3QgdGhhdCBpcyBpbnRlcmVzdGVkIGluIHRoZSBhY3Rpb25cbiAgICogQHJldHVybiB7U3RyaW5nfSBhIHZhbGlkIGNzcyBzdHJpbmcgZm9yIHRoZSBjdXJzb3JcbiAgICovXG4gIGZ1bmN0aW9uIHNjYWxlU2tld0N1cnNvclN0eWxlSGFuZGxlcihldmVudERhdGEsIGNvbnRyb2wsIGZhYnJpY09iamVjdCkge1xuICAgIGlmIChldmVudERhdGFbZmFicmljT2JqZWN0LmNhbnZhcy5hbHRBY3Rpb25LZXldKSB7XG4gICAgICByZXR1cm4gY29udHJvbHMuc2tld0N1cnNvclN0eWxlSGFuZGxlcihldmVudERhdGEsIGNvbnRyb2wsIGZhYnJpY09iamVjdCk7XG4gICAgfVxuICAgIHJldHVybiBjb250cm9scy5zY2FsZUN1cnNvclN0eWxlSGFuZGxlcihldmVudERhdGEsIGNvbnRyb2wsIGZhYnJpY09iamVjdCk7XG4gIH1cblxuICAvKipcbiAgICogSW5zcGVjdCBldmVudCwgY29udHJvbCBhbmQgZmFicmljT2JqZWN0IHRvIHJldHVybiB0aGUgY29ycmVjdCBhY3Rpb24gbmFtZVxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudERhdGEgdGhlIGphdmFzY3JpcHQgZXZlbnQgdGhhdCBpcyBjYXVzaW5nIHRoZSBzY2FsZVxuICAgKiBAcGFyYW0ge2ZhYnJpYy5Db250cm9sfSBjb250cm9sIHRoZSBjb250cm9sIHRoYXQgaXMgaW50ZXJlc3RlZCBpbiB0aGUgYWN0aW9uXG4gICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gZmFicmljT2JqZWN0IHRoZSBmYWJyaWMgb2JqZWN0IHRoYXQgaXMgaW50ZXJlc3RlZCBpbiB0aGUgYWN0aW9uXG4gICAqIEByZXR1cm4ge1N0cmluZ30gYW4gYWN0aW9uIG5hbWVcbiAgICovXG4gIGZ1bmN0aW9uIHNjYWxlT3JTa2V3QWN0aW9uTmFtZShldmVudERhdGEsIGNvbnRyb2wsIGZhYnJpY09iamVjdCkge1xuICAgIHZhciBpc0FsdGVybmF0aXZlID0gZXZlbnREYXRhW2ZhYnJpY09iamVjdC5jYW52YXMuYWx0QWN0aW9uS2V5XTtcbiAgICBpZiAoY29udHJvbC54ID09PSAwKSB7XG4gICAgICAvLyB0aGVuIGlzIHNjYWxlWSBvciBza2V3WFxuICAgICAgcmV0dXJuIGlzQWx0ZXJuYXRpdmUgPyAnc2tld1gnIDogJ3NjYWxlWSc7XG4gICAgfVxuICAgIGlmIChjb250cm9sLnkgPT09IDApIHtcbiAgICAgIC8vIHRoZW4gaXMgc2NhbGVZIG9yIHNrZXdYXG4gICAgICByZXR1cm4gaXNBbHRlcm5hdGl2ZSA/ICdza2V3WScgOiAnc2NhbGVYJztcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRmluZCB0aGUgY29ycmVjdCBzdHlsZSBmb3IgdGhlIGNvbnRyb2wgdGhhdCBpcyB1c2VkIGZvciByb3RhdGlvbi5cbiAgICogdGhpcyBmdW5jdGlvbiBpcyB2ZXJ5IHNpbXBsZSBhbmQgaXQganVzdCB0YWtlIGNhcmUgb2Ygbm90LWFsbG93ZWQgb3Igc3RhbmRhcmQgY3Vyc29yXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50RGF0YSB0aGUgamF2YXNjcmlwdCBldmVudCB0aGF0IGlzIGNhdXNpbmcgdGhlIHNjYWxlXG4gICAqIEBwYXJhbSB7ZmFicmljLkNvbnRyb2x9IGNvbnRyb2wgdGhlIGNvbnRyb2wgdGhhdCBpcyBpbnRlcmVzdGVkIGluIHRoZSBhY3Rpb25cbiAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBmYWJyaWNPYmplY3QgdGhlIGZhYnJpYyBvYmplY3QgdGhhdCBpcyBpbnRlcmVzdGVkIGluIHRoZSBhY3Rpb25cbiAgICogQHJldHVybiB7U3RyaW5nfSBhIHZhbGlkIGNzcyBzdHJpbmcgZm9yIHRoZSBjdXJzb3JcbiAgICovXG4gIGZ1bmN0aW9uIHJvdGF0aW9uU3R5bGVIYW5kbGVyKGV2ZW50RGF0YSwgY29udHJvbCwgZmFicmljT2JqZWN0KSB7XG4gICAgaWYgKGZhYnJpY09iamVjdC5sb2NrUm90YXRpb24pIHtcbiAgICAgIHJldHVybiAnbm90LWFsbG93ZWQnO1xuICAgIH1cbiAgICByZXR1cm4gY29udHJvbC5jdXJzb3JTdHlsZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbW1vbkV2ZW50SW5mbyhldmVudERhdGEsIHRyYW5zZm9ybSwgeCwgeSkge1xuICAgIHJldHVybiB7XG4gICAgICBlOiBldmVudERhdGEsXG4gICAgICB0cmFuc2Zvcm06IHRyYW5zZm9ybSxcbiAgICAgIHBvaW50ZXI6IHtcbiAgICAgICAgeDogeCxcbiAgICAgICAgeTogeSxcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFdyYXAgYW4gYWN0aW9uIGhhbmRsZXIgd2l0aCBzYXZpbmcvcmVzdG9yaW5nIG9iamVjdCBwb3NpdGlvbiBvbiB0aGUgdHJhbnNmb3JtLlxuICAgKiB0aGlzIGlzIHRoZSBjb2RlIHRoYXQgcGVybWl0cyB0byBvYmplY3RzIHRvIGtlZXAgdGhlaXIgcG9zaXRpb24gd2hpbGUgdHJhbnNmb3JtaW5nLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhY3Rpb25IYW5kbGVyIHRoZSBmdW5jdGlvbiB0byB3cmFwXG4gICAqIEByZXR1cm4ge0Z1bmN0aW9ufSBhIGZ1bmN0aW9uIHdpdGggYW4gYWN0aW9uIGhhbmRsZXIgc2lnbmF0dXJlXG4gICAqL1xuICBmdW5jdGlvbiB3cmFwV2l0aEZpeGVkQW5jaG9yKGFjdGlvbkhhbmRsZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oZXZlbnREYXRhLCB0cmFuc2Zvcm0sIHgsIHkpIHtcbiAgICAgIHZhciB0YXJnZXQgPSB0cmFuc2Zvcm0udGFyZ2V0LCBjZW50ZXJQb2ludCA9IHRhcmdldC5nZXRDZW50ZXJQb2ludCgpLFxuICAgICAgICAgIGNvbnN0cmFpbnQgPSB0YXJnZXQudHJhbnNsYXRlVG9PcmlnaW5Qb2ludChjZW50ZXJQb2ludCwgdHJhbnNmb3JtLm9yaWdpblgsIHRyYW5zZm9ybS5vcmlnaW5ZKSxcbiAgICAgICAgICBhY3Rpb25QZXJmb3JtZWQgPSBhY3Rpb25IYW5kbGVyKGV2ZW50RGF0YSwgdHJhbnNmb3JtLCB4LCB5KTtcbiAgICAgIHRhcmdldC5zZXRQb3NpdGlvbkJ5T3JpZ2luKGNvbnN0cmFpbnQsIHRyYW5zZm9ybS5vcmlnaW5YLCB0cmFuc2Zvcm0ub3JpZ2luWSk7XG4gICAgICByZXR1cm4gYWN0aW9uUGVyZm9ybWVkO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogV3JhcCBhbiBhY3Rpb24gaGFuZGxlciB3aXRoIGZpcmluZyBhbiBldmVudCBpZiB0aGUgYWN0aW9uIGlzIHBlcmZvcm1lZFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhY3Rpb25IYW5kbGVyIHRoZSBmdW5jdGlvbiB0byB3cmFwXG4gICAqIEByZXR1cm4ge0Z1bmN0aW9ufSBhIGZ1bmN0aW9uIHdpdGggYW4gYWN0aW9uIGhhbmRsZXIgc2lnbmF0dXJlXG4gICAqL1xuICBmdW5jdGlvbiB3cmFwV2l0aEZpcmVFdmVudChldmVudE5hbWUsIGFjdGlvbkhhbmRsZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oZXZlbnREYXRhLCB0cmFuc2Zvcm0sIHgsIHkpIHtcbiAgICAgIHZhciBhY3Rpb25QZXJmb3JtZWQgPSBhY3Rpb25IYW5kbGVyKGV2ZW50RGF0YSwgdHJhbnNmb3JtLCB4LCB5KTtcbiAgICAgIGlmIChhY3Rpb25QZXJmb3JtZWQpIHtcbiAgICAgICAgZmlyZUV2ZW50KGV2ZW50TmFtZSwgY29tbW9uRXZlbnRJbmZvKGV2ZW50RGF0YSwgdHJhbnNmb3JtLCB4LCB5KSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYWN0aW9uUGVyZm9ybWVkO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogVHJhbnNmb3JtcyBhIHBvaW50IGRlc2NyaWJlZCBieSB4IGFuZCB5IGluIGEgZGlzdGFuY2UgZnJvbSB0aGUgdG9wIGxlZnQgY29ybmVyIG9mIHRoZSBvYmplY3RcbiAgICogYm91bmRpbmcgYm94LlxuICAgKiBAcGFyYW0ge09iamVjdH0gdHJhbnNmb3JtXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBvcmlnaW5YXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBvcmlnaW5ZXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5XG4gICAqIEByZXR1cm4ge0ZhYnJpYy5Qb2ludH0gdGhlIG5vcm1hbGl6ZWQgcG9pbnRcbiAgICovXG4gIGZ1bmN0aW9uIGdldExvY2FsUG9pbnQodHJhbnNmb3JtLCBvcmlnaW5YLCBvcmlnaW5ZLCB4LCB5KSB7XG4gICAgdmFyIHRhcmdldCA9IHRyYW5zZm9ybS50YXJnZXQsXG4gICAgICAgIGNvbnRyb2wgPSB0YXJnZXQuY29udHJvbHNbdHJhbnNmb3JtLmNvcm5lcl0sXG4gICAgICAgIHpvb20gPSB0YXJnZXQuY2FudmFzLmdldFpvb20oKSxcbiAgICAgICAgcGFkZGluZyA9IHRhcmdldC5wYWRkaW5nIC8gem9vbSxcbiAgICAgICAgbG9jYWxQb2ludCA9IHRhcmdldC50b0xvY2FsUG9pbnQobmV3IGZhYnJpYy5Qb2ludCh4LCB5KSwgb3JpZ2luWCwgb3JpZ2luWSk7XG4gICAgaWYgKGxvY2FsUG9pbnQueCA+PSBwYWRkaW5nKSB7XG4gICAgICBsb2NhbFBvaW50LnggLT0gcGFkZGluZztcbiAgICB9XG4gICAgaWYgKGxvY2FsUG9pbnQueCA8PSAtcGFkZGluZykge1xuICAgICAgbG9jYWxQb2ludC54ICs9IHBhZGRpbmc7XG4gICAgfVxuICAgIGlmIChsb2NhbFBvaW50LnkgPj0gcGFkZGluZykge1xuICAgICAgbG9jYWxQb2ludC55IC09IHBhZGRpbmc7XG4gICAgfVxuICAgIGlmIChsb2NhbFBvaW50LnkgPD0gcGFkZGluZykge1xuICAgICAgbG9jYWxQb2ludC55ICs9IHBhZGRpbmc7XG4gICAgfVxuICAgIGxvY2FsUG9pbnQueCAtPSBjb250cm9sLm9mZnNldFg7XG4gICAgbG9jYWxQb2ludC55IC09IGNvbnRyb2wub2Zmc2V0WTtcbiAgICByZXR1cm4gbG9jYWxQb2ludDtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlY3QgaWYgdGhlIGZhYnJpYyBvYmplY3QgaXMgZmxpcHBlZCBvbiBvbmUgc2lkZS5cbiAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSB0YXJnZXRcbiAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBvbmUgZmxpcCwgYnV0IG5vdCB0d28uXG4gICAqL1xuICBmdW5jdGlvbiB0YXJnZXRIYXNPbmVGbGlwKHRhcmdldCkge1xuICAgIHJldHVybiB0YXJnZXQuZmxpcFggIT09IHRhcmdldC5mbGlwWTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIGNvbXBlbnNhdGUgdGhlIHNjYWxlIGZhY3RvciB3aGVuIHNrZXcgaXMgYXBwbGllZCBvbiBib3RoIGF4ZXNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGZ1bmN0aW9uIGNvbXBlbnNhdGVTY2FsZUZvclNrZXcodGFyZ2V0LCBvcHBvc2l0ZVNrZXcsIHNjYWxlVG9Db21wZW5zYXRlLCBheGlzLCByZWZlcmVuY2UpIHtcbiAgICBpZiAodGFyZ2V0W29wcG9zaXRlU2tld10gIT09IDApIHtcbiAgICAgIHZhciBuZXdEaW0gPSB0YXJnZXQuX2dldFRyYW5zZm9ybWVkRGltZW5zaW9ucygpW2F4aXNdO1xuICAgICAgdmFyIG5ld1ZhbHVlID0gcmVmZXJlbmNlIC8gbmV3RGltICogdGFyZ2V0W3NjYWxlVG9Db21wZW5zYXRlXTtcbiAgICAgIHRhcmdldC5zZXQoc2NhbGVUb0NvbXBlbnNhdGUsIG5ld1ZhbHVlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWN0aW9uIGhhbmRsZXIgZm9yIHNrZXdpbmcgb24gdGhlIFggYXhpc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gc2tld09iamVjdFgoZXZlbnREYXRhLCB0cmFuc2Zvcm0sIHgsIHkpIHtcbiAgICB2YXIgdGFyZ2V0ID0gdHJhbnNmb3JtLnRhcmdldCxcbiAgICAgICAgLy8gZmluZCBob3cgYmlnIHRoZSBvYmplY3Qgd291bGQgYmUsIGlmIHRoZXJlIHdhcyBubyBza2V3WC4gdGFrZXMgaW4gYWNjb3VudCBzY2FsaW5nXG4gICAgICAgIGRpbU5vU2tldyA9IHRhcmdldC5fZ2V0VHJhbnNmb3JtZWREaW1lbnNpb25zKDAsIHRhcmdldC5za2V3WSksXG4gICAgICAgIGxvY2FsUG9pbnQgPSBnZXRMb2NhbFBvaW50KHRyYW5zZm9ybSwgdHJhbnNmb3JtLm9yaWdpblgsIHRyYW5zZm9ybS5vcmlnaW5ZLCB4LCB5KSxcbiAgICAgICAgLy8gdGhlIG1vdXNlIGlzIGluIHRoZSBjZW50ZXIgb2YgdGhlIG9iamVjdCwgYW5kIHdlIHdhbnQgaXQgdG8gc3RheSB0aGVyZS5cbiAgICAgICAgLy8gc28gdGhlIG9iamVjdCB3aWxsIGdyb3cgdHdpY2UgYXMgbXVjaCBhcyB0aGUgbW91c2UuXG4gICAgICAgIC8vIHRoaXMgbWFrZXMgdGhlIHNrZXcgZ3Jvd3RoIHRvIGxvY2FsUG9pbnQgKiAyIC0gZGltTm9Ta2V3LlxuICAgICAgICB0b3RhbFNrZXdTaXplID0gTWF0aC5hYnMobG9jYWxQb2ludC54ICogMikgLSBkaW1Ob1NrZXcueCxcbiAgICAgICAgY3VycmVudFNrZXcgPSB0YXJnZXQuc2tld1gsIG5ld1NrZXc7XG4gICAgaWYgKHRvdGFsU2tld1NpemUgPCAyKSB7XG4gICAgICAvLyBsZXQncyBtYWtlIGl0IGVhc3kgdG8gZ28gYmFjayB0byBwb3NpdGlvbiAwLlxuICAgICAgbmV3U2tldyA9IDA7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgbmV3U2tldyA9IHJhZGlhbnNUb0RlZ3JlZXMoXG4gICAgICAgIE1hdGguYXRhbjIoKHRvdGFsU2tld1NpemUgLyB0YXJnZXQuc2NhbGVYKSwgKGRpbU5vU2tldy55IC8gdGFyZ2V0LnNjYWxlWSkpXG4gICAgICApO1xuICAgICAgLy8gbm93IHdlIGhhdmUgdG8gZmluZCB0aGUgc2lnbiBvZiB0aGUgc2tldy5cbiAgICAgIC8vIGl0IG1vc3RseSBkZXBlbmQgb24gdGhlIG9yaWdpbiBvZiB0cmFuc2Zvcm1hdGlvbi5cbiAgICAgIGlmICh0cmFuc2Zvcm0ub3JpZ2luWCA9PT0gTEVGVCAmJiB0cmFuc2Zvcm0ub3JpZ2luWSA9PT0gQk9UVE9NKSB7XG4gICAgICAgIG5ld1NrZXcgPSAtbmV3U2tldztcbiAgICAgIH1cbiAgICAgIGlmICh0cmFuc2Zvcm0ub3JpZ2luWCA9PT0gUklHSFQgJiYgdHJhbnNmb3JtLm9yaWdpblkgPT09IFRPUCkge1xuICAgICAgICBuZXdTa2V3ID0gLW5ld1NrZXc7XG4gICAgICB9XG4gICAgICBpZiAodGFyZ2V0SGFzT25lRmxpcCh0YXJnZXQpKSB7XG4gICAgICAgIG5ld1NrZXcgPSAtbmV3U2tldztcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGhhc1NrZXdlZCA9IGN1cnJlbnRTa2V3ICE9PSBuZXdTa2V3O1xuICAgIGlmIChoYXNTa2V3ZWQpIHtcbiAgICAgIHZhciBkaW1CZWZvcmVTa2V3aW5nID0gdGFyZ2V0Ll9nZXRUcmFuc2Zvcm1lZERpbWVuc2lvbnMoKS55O1xuICAgICAgdGFyZ2V0LnNldCgnc2tld1gnLCBuZXdTa2V3KTtcbiAgICAgIGNvbXBlbnNhdGVTY2FsZUZvclNrZXcodGFyZ2V0LCAnc2tld1knLCAnc2NhbGVZJywgJ3knLCBkaW1CZWZvcmVTa2V3aW5nKTtcbiAgICB9XG4gICAgcmV0dXJuIGhhc1NrZXdlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBY3Rpb24gaGFuZGxlciBmb3Igc2tld2luZyBvbiB0aGUgWSBheGlzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBmdW5jdGlvbiBza2V3T2JqZWN0WShldmVudERhdGEsIHRyYW5zZm9ybSwgeCwgeSkge1xuICAgIHZhciB0YXJnZXQgPSB0cmFuc2Zvcm0udGFyZ2V0LFxuICAgICAgICAvLyBmaW5kIGhvdyBiaWcgdGhlIG9iamVjdCB3b3VsZCBiZSwgaWYgdGhlcmUgd2FzIG5vIHNrZXdYLiB0YWtlcyBpbiBhY2NvdW50IHNjYWxpbmdcbiAgICAgICAgZGltTm9Ta2V3ID0gdGFyZ2V0Ll9nZXRUcmFuc2Zvcm1lZERpbWVuc2lvbnModGFyZ2V0LnNrZXdYLCAwKSxcbiAgICAgICAgbG9jYWxQb2ludCA9IGdldExvY2FsUG9pbnQodHJhbnNmb3JtLCB0cmFuc2Zvcm0ub3JpZ2luWCwgdHJhbnNmb3JtLm9yaWdpblksIHgsIHkpLFxuICAgICAgICAvLyB0aGUgbW91c2UgaXMgaW4gdGhlIGNlbnRlciBvZiB0aGUgb2JqZWN0LCBhbmQgd2Ugd2FudCBpdCB0byBzdGF5IHRoZXJlLlxuICAgICAgICAvLyBzbyB0aGUgb2JqZWN0IHdpbGwgZ3JvdyB0d2ljZSBhcyBtdWNoIGFzIHRoZSBtb3VzZS5cbiAgICAgICAgLy8gdGhpcyBtYWtlcyB0aGUgc2tldyBncm93dGggdG8gbG9jYWxQb2ludCAqIDIgLSBkaW1Ob1NrZXcuXG4gICAgICAgIHRvdGFsU2tld1NpemUgPSBNYXRoLmFicyhsb2NhbFBvaW50LnkgKiAyKSAtIGRpbU5vU2tldy55LFxuICAgICAgICBjdXJyZW50U2tldyA9IHRhcmdldC5za2V3WSwgbmV3U2tldztcbiAgICBpZiAodG90YWxTa2V3U2l6ZSA8IDIpIHtcbiAgICAgIC8vIGxldCdzIG1ha2UgaXQgZWFzeSB0byBnbyBiYWNrIHRvIHBvc2l0aW9uIDAuXG4gICAgICBuZXdTa2V3ID0gMDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBuZXdTa2V3ID0gcmFkaWFuc1RvRGVncmVlcyhcbiAgICAgICAgTWF0aC5hdGFuMigodG90YWxTa2V3U2l6ZSAvIHRhcmdldC5zY2FsZVkpLCAoZGltTm9Ta2V3LnggLyB0YXJnZXQuc2NhbGVYKSlcbiAgICAgICk7XG4gICAgICAvLyBub3cgd2UgaGF2ZSB0byBmaW5kIHRoZSBzaWduIG9mIHRoZSBza2V3LlxuICAgICAgLy8gaXQgbW9zdGx5IGRlcGVuZCBvbiB0aGUgb3JpZ2luIG9mIHRyYW5zZm9ybWF0aW9uLlxuICAgICAgaWYgKHRyYW5zZm9ybS5vcmlnaW5YID09PSBMRUZUICYmIHRyYW5zZm9ybS5vcmlnaW5ZID09PSBCT1RUT00pIHtcbiAgICAgICAgbmV3U2tldyA9IC1uZXdTa2V3O1xuICAgICAgfVxuICAgICAgaWYgKHRyYW5zZm9ybS5vcmlnaW5YID09PSBSSUdIVCAmJiB0cmFuc2Zvcm0ub3JpZ2luWSA9PT0gVE9QKSB7XG4gICAgICAgIG5ld1NrZXcgPSAtbmV3U2tldztcbiAgICAgIH1cbiAgICAgIGlmICh0YXJnZXRIYXNPbmVGbGlwKHRhcmdldCkpIHtcbiAgICAgICAgbmV3U2tldyA9IC1uZXdTa2V3O1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgaGFzU2tld2VkID0gY3VycmVudFNrZXcgIT09IG5ld1NrZXc7XG4gICAgaWYgKGhhc1NrZXdlZCkge1xuICAgICAgdmFyIGRpbUJlZm9yZVNrZXdpbmcgPSB0YXJnZXQuX2dldFRyYW5zZm9ybWVkRGltZW5zaW9ucygpLng7XG4gICAgICB0YXJnZXQuc2V0KCdza2V3WScsIG5ld1NrZXcpO1xuICAgICAgY29tcGVuc2F0ZVNjYWxlRm9yU2tldyh0YXJnZXQsICdza2V3WCcsICdzY2FsZVgnLCAneCcsIGRpbUJlZm9yZVNrZXdpbmcpO1xuICAgIH1cbiAgICByZXR1cm4gaGFzU2tld2VkO1xuICB9XG5cbiAgLyoqXG4gICAqIFdyYXBwZWQgQWN0aW9uIGhhbmRsZXIgZm9yIHNrZXdpbmcgb24gdGhlIFkgYXhpcywgdGFrZXMgY2FyZSBvZiB0aGVcbiAgICogc2tldyBkaXJlY3Rpb24gYW5kIGRldGVybWluZSB0aGUgY29ycmVjdCB0cmFuc2Zvcm0gb3JpZ2luIGZvciB0aGUgYW5jaG9yIHBvaW50XG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50RGF0YSBqYXZhc2NyaXB0IGV2ZW50IHRoYXQgaXMgZG9pbmcgdGhlIHRyYW5zZm9ybVxuICAgKiBAcGFyYW0ge09iamVjdH0gdHJhbnNmb3JtIGphdmFzY3JpcHQgb2JqZWN0IGNvbnRhaW5pbmcgYSBzZXJpZXMgb2YgaW5mb3JtYXRpb24gYXJvdW5kIHRoZSBjdXJyZW50IHRyYW5zZm9ybVxuICAgKiBAcGFyYW0ge251bWJlcn0geCBjdXJyZW50IG1vdXNlIHggcG9zaXRpb24sIGNhbnZhcyBub3JtYWxpemVkXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5IGN1cnJlbnQgbW91c2UgeSBwb3NpdGlvbiwgY2FudmFzIG5vcm1hbGl6ZWRcbiAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBzb21lIGNoYW5nZSBoYXBwZW5lZFxuICAgKi9cbiAgZnVuY3Rpb24gc2tld0hhbmRsZXJYKGV2ZW50RGF0YSwgdHJhbnNmb3JtLCB4LCB5KSB7XG4gICAgLy8gc3RlcDEgZmlndXJlIG91dCBhbmQgY2hhbmdlIHRyYW5zZm9ybSBvcmlnaW4uXG4gICAgLy8gaWYgc2tld1ggPiAwIGFuZCBvcmlnaW5ZIGJvdHRvbSB3ZSBhbmNob3Igb24gcmlnaHRcbiAgICAvLyBpZiBza2V3WCA+IDAgYW5kIG9yaWdpblkgdG9wIHdlIGFuY2hvciBvbiBsZWZ0XG4gICAgLy8gaWYgc2tld1ggPCAwIGFuZCBvcmlnaW5ZIGJvdHRvbSB3ZSBhbmNob3Igb24gbGVmdFxuICAgIC8vIGlmIHNrZXdYIDwgMCBhbmQgb3JpZ2luWSB0b3Agd2UgYW5jaG9yIG9uIHJpZ2h0XG4gICAgLy8gaWYgc2tld1ggaXMgMCwgd2UgbG9vayBmb3IgbW91c2UgcG9zaXRpb24gdG8gdW5kZXJzdGFuZCB3aGVyZSBhcmUgd2UgZ29pbmcuXG4gICAgdmFyIHRhcmdldCA9IHRyYW5zZm9ybS50YXJnZXQsIGN1cnJlbnRTa2V3ID0gdGFyZ2V0LnNrZXdYLCBvcmlnaW5YLCBvcmlnaW5ZID0gdHJhbnNmb3JtLm9yaWdpblk7XG4gICAgaWYgKHRhcmdldC5sb2NrU2tld2luZ1gpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGN1cnJlbnRTa2V3ID09PSAwKSB7XG4gICAgICB2YXIgbG9jYWxQb2ludEZyb21DZW50ZXIgPSBnZXRMb2NhbFBvaW50KHRyYW5zZm9ybSwgQ0VOVEVSLCBDRU5URVIsIHgsIHkpO1xuICAgICAgaWYgKGxvY2FsUG9pbnRGcm9tQ2VudGVyLnggPiAwKSB7XG4gICAgICAgIC8vIHdlIGFyZSBwdWxsaW5nIHJpZ2h0LCBhbmNob3IgbGVmdDtcbiAgICAgICAgb3JpZ2luWCA9IExFRlQ7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgLy8gd2UgYXJlIHB1bGxpbmcgcmlnaHQsIGFuY2hvciByaWdodFxuICAgICAgICBvcmlnaW5YID0gUklHSFQ7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaWYgKGN1cnJlbnRTa2V3ID4gMCkge1xuICAgICAgICBvcmlnaW5YID0gb3JpZ2luWSA9PT0gVE9QID8gTEVGVCA6IFJJR0hUO1xuICAgICAgfVxuICAgICAgaWYgKGN1cnJlbnRTa2V3IDwgMCkge1xuICAgICAgICBvcmlnaW5YID0gb3JpZ2luWSA9PT0gVE9QID8gUklHSFQgOiBMRUZUO1xuICAgICAgfVxuICAgICAgLy8gaXMgdGhlIG9iamVjdCBmbGlwcGVkIG9uIG9uZSBzaWRlIG9ubHk/IHN3YXAgdGhlIG9yaWdpbi5cbiAgICAgIGlmICh0YXJnZXRIYXNPbmVGbGlwKHRhcmdldCkpIHtcbiAgICAgICAgb3JpZ2luWCA9IG9yaWdpblggPT09IExFRlQgPyBSSUdIVCA6IExFRlQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gb25jZSB3ZSBoYXZlIHRoZSBvcmlnaW4sIHdlIGZpbmQgdGhlIGFuY2hvciBwb2ludFxuICAgIHRyYW5zZm9ybS5vcmlnaW5YID0gb3JpZ2luWDtcbiAgICB2YXIgZmluYWxIYW5kbGVyID0gd3JhcFdpdGhGaXJlRXZlbnQoJ3NrZXdpbmcnLCB3cmFwV2l0aEZpeGVkQW5jaG9yKHNrZXdPYmplY3RYKSk7XG4gICAgcmV0dXJuIGZpbmFsSGFuZGxlcihldmVudERhdGEsIHRyYW5zZm9ybSwgeCwgeSk7XG4gIH1cblxuICAvKipcbiAgICogV3JhcHBlZCBBY3Rpb24gaGFuZGxlciBmb3Igc2tld2luZyBvbiB0aGUgWSBheGlzLCB0YWtlcyBjYXJlIG9mIHRoZVxuICAgKiBza2V3IGRpcmVjdGlvbiBhbmQgZGV0ZXJtaW5lIHRoZSBjb3JyZWN0IHRyYW5zZm9ybSBvcmlnaW4gZm9yIHRoZSBhbmNob3IgcG9pbnRcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnREYXRhIGphdmFzY3JpcHQgZXZlbnQgdGhhdCBpcyBkb2luZyB0aGUgdHJhbnNmb3JtXG4gICAqIEBwYXJhbSB7T2JqZWN0fSB0cmFuc2Zvcm0gamF2YXNjcmlwdCBvYmplY3QgY29udGFpbmluZyBhIHNlcmllcyBvZiBpbmZvcm1hdGlvbiBhcm91bmQgdGhlIGN1cnJlbnQgdHJhbnNmb3JtXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IGN1cnJlbnQgbW91c2UgeCBwb3NpdGlvbiwgY2FudmFzIG5vcm1hbGl6ZWRcbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgY3VycmVudCBtb3VzZSB5IHBvc2l0aW9uLCBjYW52YXMgbm9ybWFsaXplZFxuICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIHNvbWUgY2hhbmdlIGhhcHBlbmVkXG4gICAqL1xuICBmdW5jdGlvbiBza2V3SGFuZGxlclkoZXZlbnREYXRhLCB0cmFuc2Zvcm0sIHgsIHkpIHtcbiAgICAvLyBzdGVwMSBmaWd1cmUgb3V0IGFuZCBjaGFuZ2UgdHJhbnNmb3JtIG9yaWdpbi5cbiAgICAvLyBpZiBza2V3WSA+IDAgYW5kIG9yaWdpblggbGVmdCB3ZSBhbmNob3Igb24gdG9wXG4gICAgLy8gaWYgc2tld1kgPiAwIGFuZCBvcmlnaW5YIHJpZ2h0IHdlIGFuY2hvciBvbiBib3R0b21cbiAgICAvLyBpZiBza2V3WSA8IDAgYW5kIG9yaWdpblggbGVmdCB3ZSBhbmNob3Igb24gYm90dG9tXG4gICAgLy8gaWYgc2tld1kgPCAwIGFuZCBvcmlnaW5YIHJpZ2h0IHdlIGFuY2hvciBvbiB0b3BcbiAgICAvLyBpZiBza2V3WSBpcyAwLCB3ZSBsb29rIGZvciBtb3VzZSBwb3NpdGlvbiB0byB1bmRlcnN0YW5kIHdoZXJlIGFyZSB3ZSBnb2luZy5cbiAgICB2YXIgdGFyZ2V0ID0gdHJhbnNmb3JtLnRhcmdldCwgY3VycmVudFNrZXcgPSB0YXJnZXQuc2tld1ksIG9yaWdpblksIG9yaWdpblggPSB0cmFuc2Zvcm0ub3JpZ2luWDtcbiAgICBpZiAodGFyZ2V0LmxvY2tTa2V3aW5nWSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoY3VycmVudFNrZXcgPT09IDApIHtcbiAgICAgIHZhciBsb2NhbFBvaW50RnJvbUNlbnRlciA9IGdldExvY2FsUG9pbnQodHJhbnNmb3JtLCBDRU5URVIsIENFTlRFUiwgeCwgeSk7XG4gICAgICBpZiAobG9jYWxQb2ludEZyb21DZW50ZXIueSA+IDApIHtcbiAgICAgICAgLy8gd2UgYXJlIHB1bGxpbmcgZG93biwgYW5jaG9yIHVwO1xuICAgICAgICBvcmlnaW5ZID0gVE9QO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIC8vIHdlIGFyZSBwdWxsaW5nIHVwLCBhbmNob3IgZG93blxuICAgICAgICBvcmlnaW5ZID0gQk9UVE9NO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGlmIChjdXJyZW50U2tldyA+IDApIHtcbiAgICAgICAgb3JpZ2luWSA9IG9yaWdpblggPT09IExFRlQgPyBUT1AgOiBCT1RUT007XG4gICAgICB9XG4gICAgICBpZiAoY3VycmVudFNrZXcgPCAwKSB7XG4gICAgICAgIG9yaWdpblkgPSBvcmlnaW5YID09PSBMRUZUID8gQk9UVE9NIDogVE9QO1xuICAgICAgfVxuICAgICAgLy8gaXMgdGhlIG9iamVjdCBmbGlwcGVkIG9uIG9uZSBzaWRlIG9ubHk/IHN3YXAgdGhlIG9yaWdpbi5cbiAgICAgIGlmICh0YXJnZXRIYXNPbmVGbGlwKHRhcmdldCkpIHtcbiAgICAgICAgb3JpZ2luWSA9IG9yaWdpblkgPT09IFRPUCA/IEJPVFRPTSA6IFRPUDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBvbmNlIHdlIGhhdmUgdGhlIG9yaWdpbiwgd2UgZmluZCB0aGUgYW5jaG9yIHBvaW50XG4gICAgdHJhbnNmb3JtLm9yaWdpblkgPSBvcmlnaW5ZO1xuICAgIHZhciBmaW5hbEhhbmRsZXIgPSB3cmFwV2l0aEZpcmVFdmVudCgnc2tld2luZycsIHdyYXBXaXRoRml4ZWRBbmNob3Ioc2tld09iamVjdFkpKTtcbiAgICByZXR1cm4gZmluYWxIYW5kbGVyKGV2ZW50RGF0YSwgdHJhbnNmb3JtLCB4LCB5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBY3Rpb24gaGFuZGxlciBmb3Igcm90YXRpb24gYW5kIHNuYXBwaW5nLCB3aXRob3V0IGFuY2hvciBwb2ludC5cbiAgICogTmVlZHMgdG8gYmUgd3JhcHBlZCB3aXRoIGB3cmFwV2l0aEZpeGVkQW5jaG9yYCB0byBiZSBlZmZlY3RpdmVcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnREYXRhIGphdmFzY3JpcHQgZXZlbnQgdGhhdCBpcyBkb2luZyB0aGUgdHJhbnNmb3JtXG4gICAqIEBwYXJhbSB7T2JqZWN0fSB0cmFuc2Zvcm0gamF2YXNjcmlwdCBvYmplY3QgY29udGFpbmluZyBhIHNlcmllcyBvZiBpbmZvcm1hdGlvbiBhcm91bmQgdGhlIGN1cnJlbnQgdHJhbnNmb3JtXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IGN1cnJlbnQgbW91c2UgeCBwb3NpdGlvbiwgY2FudmFzIG5vcm1hbGl6ZWRcbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgY3VycmVudCBtb3VzZSB5IHBvc2l0aW9uLCBjYW52YXMgbm9ybWFsaXplZFxuICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIHNvbWUgY2hhbmdlIGhhcHBlbmVkXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBmdW5jdGlvbiByb3RhdGlvbldpdGhTbmFwcGluZyhldmVudERhdGEsIHRyYW5zZm9ybSwgeCwgeSkge1xuICAgIHZhciB0ID0gdHJhbnNmb3JtLFxuICAgICAgICB0YXJnZXQgPSB0LnRhcmdldCxcbiAgICAgICAgcGl2b3RQb2ludCA9IHRhcmdldC50cmFuc2xhdGVUb09yaWdpblBvaW50KHRhcmdldC5nZXRDZW50ZXJQb2ludCgpLCB0Lm9yaWdpblgsIHQub3JpZ2luWSk7XG5cbiAgICBpZiAodGFyZ2V0LmxvY2tSb3RhdGlvbikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBsYXN0QW5nbGUgPSBNYXRoLmF0YW4yKHQuZXkgLSBwaXZvdFBvaW50LnksIHQuZXggLSBwaXZvdFBvaW50LngpLFxuICAgICAgICBjdXJBbmdsZSA9IE1hdGguYXRhbjIoeSAtIHBpdm90UG9pbnQueSwgeCAtIHBpdm90UG9pbnQueCksXG4gICAgICAgIGFuZ2xlID0gcmFkaWFuc1RvRGVncmVlcyhjdXJBbmdsZSAtIGxhc3RBbmdsZSArIHQudGhldGEpLFxuICAgICAgICBoYXNSb3RhdGVkID0gdHJ1ZTtcblxuICAgIGlmICh0YXJnZXQuc25hcEFuZ2xlID4gMCkge1xuICAgICAgdmFyIHNuYXBBbmdsZSAgPSB0YXJnZXQuc25hcEFuZ2xlLFxuICAgICAgICAgIHNuYXBUaHJlc2hvbGQgID0gdGFyZ2V0LnNuYXBUaHJlc2hvbGQgfHwgc25hcEFuZ2xlLFxuICAgICAgICAgIHJpZ2h0QW5nbGVMb2NrZWQgPSBNYXRoLmNlaWwoYW5nbGUgLyBzbmFwQW5nbGUpICogc25hcEFuZ2xlLFxuICAgICAgICAgIGxlZnRBbmdsZUxvY2tlZCA9IE1hdGguZmxvb3IoYW5nbGUgLyBzbmFwQW5nbGUpICogc25hcEFuZ2xlO1xuXG4gICAgICBpZiAoTWF0aC5hYnMoYW5nbGUgLSBsZWZ0QW5nbGVMb2NrZWQpIDwgc25hcFRocmVzaG9sZCkge1xuICAgICAgICBhbmdsZSA9IGxlZnRBbmdsZUxvY2tlZDtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKE1hdGguYWJzKGFuZ2xlIC0gcmlnaHRBbmdsZUxvY2tlZCkgPCBzbmFwVGhyZXNob2xkKSB7XG4gICAgICAgIGFuZ2xlID0gcmlnaHRBbmdsZUxvY2tlZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBub3JtYWxpemUgYW5nbGUgdG8gcG9zaXRpdmUgdmFsdWVcbiAgICBpZiAoYW5nbGUgPCAwKSB7XG4gICAgICBhbmdsZSA9IDM2MCArIGFuZ2xlO1xuICAgIH1cbiAgICBhbmdsZSAlPSAzNjA7XG5cbiAgICBoYXNSb3RhdGVkID0gdGFyZ2V0LmFuZ2xlICE9PSBhbmdsZTtcbiAgICB0YXJnZXQuYW5nbGUgPSBhbmdsZTtcbiAgICByZXR1cm4gaGFzUm90YXRlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBCYXNpYyBzY2FsaW5nIGxvZ2ljLCByZXVzZWQgd2l0aCBkaWZmZXJlbnQgY29uc3RyYWluIGZvciBzY2FsaW5nIFgsWSwgZnJlZWx5IG9yIGVxdWFsbHkuXG4gICAqIE5lZWRzIHRvIGJlIHdyYXBwZWQgd2l0aCBgd3JhcFdpdGhGaXhlZEFuY2hvcmAgdG8gYmUgZWZmZWN0aXZlXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50RGF0YSBqYXZhc2NyaXB0IGV2ZW50IHRoYXQgaXMgZG9pbmcgdGhlIHRyYW5zZm9ybVxuICAgKiBAcGFyYW0ge09iamVjdH0gdHJhbnNmb3JtIGphdmFzY3JpcHQgb2JqZWN0IGNvbnRhaW5pbmcgYSBzZXJpZXMgb2YgaW5mb3JtYXRpb24gYXJvdW5kIHRoZSBjdXJyZW50IHRyYW5zZm9ybVxuICAgKiBAcGFyYW0ge251bWJlcn0geCBjdXJyZW50IG1vdXNlIHggcG9zaXRpb24sIGNhbnZhcyBub3JtYWxpemVkXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5IGN1cnJlbnQgbW91c2UgeSBwb3NpdGlvbiwgY2FudmFzIG5vcm1hbGl6ZWRcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBmb3Igc2NhbGluZ1xuICAgKiBAcGFyYW0ge1N0cmluZ30gb3B0aW9ucy5ieSAneCcsICd5JywgJ2VxdWFsbHknIG9yICcnIHRvIGluZGljYXRlIHR5cGUgb2Ygc2NhbGluZ1xuICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIHNvbWUgY2hhbmdlIGhhcHBlbmVkXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBmdW5jdGlvbiBzY2FsZU9iamVjdChldmVudERhdGEsIHRyYW5zZm9ybSwgeCwgeSwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIHZhciB0YXJnZXQgPSB0cmFuc2Zvcm0udGFyZ2V0LFxuICAgICAgICBsb2NrU2NhbGluZ1ggPSB0YXJnZXQubG9ja1NjYWxpbmdYLCBsb2NrU2NhbGluZ1kgPSB0YXJnZXQubG9ja1NjYWxpbmdZLFxuICAgICAgICBieSA9IG9wdGlvbnMuYnksIG5ld1BvaW50LCBzY2FsZVgsIHNjYWxlWSwgZGltLFxuICAgICAgICBzY2FsZVByb3BvcnRpb25hbGx5ID0gc2NhbGVJc1Byb3BvcnRpb25hbChldmVudERhdGEsIHRhcmdldCksXG4gICAgICAgIGZvcmJpZFNjYWxpbmcgPSBzY2FsaW5nSXNGb3JiaWRkZW4odGFyZ2V0LCBieSwgc2NhbGVQcm9wb3J0aW9uYWxseSksXG4gICAgICAgIHNpZ25YLCBzaWduWSwgZ2VzdHVyZVNjYWxlID0gdHJhbnNmb3JtLmdlc3R1cmVTY2FsZTtcblxuICAgIGlmIChmb3JiaWRTY2FsaW5nKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChnZXN0dXJlU2NhbGUpIHtcbiAgICAgIHNjYWxlWCA9IHRyYW5zZm9ybS5zY2FsZVggKiBnZXN0dXJlU2NhbGU7XG4gICAgICBzY2FsZVkgPSB0cmFuc2Zvcm0uc2NhbGVZICogZ2VzdHVyZVNjYWxlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIG5ld1BvaW50ID0gZ2V0TG9jYWxQb2ludCh0cmFuc2Zvcm0sIHRyYW5zZm9ybS5vcmlnaW5YLCB0cmFuc2Zvcm0ub3JpZ2luWSwgeCwgeSk7XG4gICAgICAvLyB1c2Ugb2Ygc2lnbjogV2UgdXNlIHNpZ24gdG8gZGV0ZWN0IGNoYW5nZSBvZiBkaXJlY3Rpb24gb2YgYW4gYWN0aW9uLiBzaWduIHVzdWFsbHkgY2hhbmdlIHdoZW5cbiAgICAgIC8vIHdlIGNyb3NzIHRoZSBvcmlnaW4gcG9pbnQgd2l0aCB0aGUgbW91c2UuIFNvIGEgc2NhbGUgZmxpcCBmb3IgZXhhbXBsZS4gVGhlcmUgaXMgYW4gaXNzdWUgd2hlbiBzY2FsaW5nXG4gICAgICAvLyBieSBjZW50ZXIgYW5kIHNjYWxpbmcgdXNpbmcgb25lIG1pZGRsZSBjb250cm9sICggZGVmYXVsdDogbXIsIG10LCBtbCwgbWIpLCB0aGUgbW91c2UgbW92ZW1lbnQgY2FuIGVhc2lseVxuICAgICAgLy8gY3Jvc3MgbWFueSB0aW1lIHRoZSBvcmlnaW4gcG9pbnQgYW5kIGZsaXAgdGhlIG9iamVjdC4gc28gd2UgbmVlZCBhIHdheSB0byBmaWx0ZXIgb3V0IHRoZSBub2lzZS5cbiAgICAgIC8vIFRoaXMgdGVybmFyeSBoZXJlIHNob3VsZCBiZSBvayB0byBmaWx0ZXIgb3V0IFggc2NhbGluZyB3aGVuIHdlIHdhbnQgWSBvbmx5IGFuZCB2aWNlIHZlcnNhLlxuICAgICAgc2lnblggPSBieSAhPT0gJ3knID8gc2lnbihuZXdQb2ludC54KSA6IDE7XG4gICAgICBzaWduWSA9IGJ5ICE9PSAneCcgPyBzaWduKG5ld1BvaW50LnkpIDogMTtcbiAgICAgIGlmICghdHJhbnNmb3JtLnNpZ25YKSB7XG4gICAgICAgIHRyYW5zZm9ybS5zaWduWCA9IHNpZ25YO1xuICAgICAgfVxuICAgICAgaWYgKCF0cmFuc2Zvcm0uc2lnblkpIHtcbiAgICAgICAgdHJhbnNmb3JtLnNpZ25ZID0gc2lnblk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0YXJnZXQubG9ja1NjYWxpbmdGbGlwICYmXG4gICAgICAgICh0cmFuc2Zvcm0uc2lnblggIT09IHNpZ25YIHx8IHRyYW5zZm9ybS5zaWduWSAhPT0gc2lnblkpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBkaW0gPSB0YXJnZXQuX2dldFRyYW5zZm9ybWVkRGltZW5zaW9ucygpO1xuICAgICAgLy8gbWlzc2luZyBkZXRlY3Rpb24gb2YgZmxpcCBhbmQgbG9naWMgdG8gc3dpdGNoIHRoZSBvcmlnaW5cbiAgICAgIGlmIChzY2FsZVByb3BvcnRpb25hbGx5ICYmICFieSkge1xuICAgICAgICAvLyB1bmlmb3JtIHNjYWxpbmdcbiAgICAgICAgdmFyIGRpc3RhbmNlID0gTWF0aC5hYnMobmV3UG9pbnQueCkgKyBNYXRoLmFicyhuZXdQb2ludC55KSxcbiAgICAgICAgICAgIG9yaWdpbmFsID0gdHJhbnNmb3JtLm9yaWdpbmFsLFxuICAgICAgICAgICAgb3JpZ2luYWxEaXN0YW5jZSA9IE1hdGguYWJzKGRpbS54ICogb3JpZ2luYWwuc2NhbGVYIC8gdGFyZ2V0LnNjYWxlWCkgK1xuICAgICAgICAgICAgICBNYXRoLmFicyhkaW0ueSAqIG9yaWdpbmFsLnNjYWxlWSAvIHRhcmdldC5zY2FsZVkpLFxuICAgICAgICAgICAgc2NhbGUgPSBkaXN0YW5jZSAvIG9yaWdpbmFsRGlzdGFuY2U7XG4gICAgICAgIHNjYWxlWCA9IG9yaWdpbmFsLnNjYWxlWCAqIHNjYWxlO1xuICAgICAgICBzY2FsZVkgPSBvcmlnaW5hbC5zY2FsZVkgKiBzY2FsZTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBzY2FsZVggPSBNYXRoLmFicyhuZXdQb2ludC54ICogdGFyZ2V0LnNjYWxlWCAvIGRpbS54KTtcbiAgICAgICAgc2NhbGVZID0gTWF0aC5hYnMobmV3UG9pbnQueSAqIHRhcmdldC5zY2FsZVkgLyBkaW0ueSk7XG4gICAgICB9XG4gICAgICAvLyBpZiB3ZSBhcmUgc2NhbGluZyBieSBjZW50ZXIsIHdlIG5lZWQgdG8gZG91YmxlIHRoZSBzY2FsZVxuICAgICAgaWYgKGlzVHJhbnNmb3JtQ2VudGVyZWQodHJhbnNmb3JtKSkge1xuICAgICAgICBzY2FsZVggKj0gMjtcbiAgICAgICAgc2NhbGVZICo9IDI7XG4gICAgICB9XG4gICAgICBpZiAodHJhbnNmb3JtLnNpZ25YICE9PSBzaWduWCAmJiBieSAhPT0gJ3knKSB7XG4gICAgICAgIHRyYW5zZm9ybS5vcmlnaW5YID0gb3Bwb3NpdGVbdHJhbnNmb3JtLm9yaWdpblhdO1xuICAgICAgICBzY2FsZVggKj0gLTE7XG4gICAgICAgIHRyYW5zZm9ybS5zaWduWCA9IHNpZ25YO1xuICAgICAgfVxuICAgICAgaWYgKHRyYW5zZm9ybS5zaWduWSAhPT0gc2lnblkgJiYgYnkgIT09ICd4Jykge1xuICAgICAgICB0cmFuc2Zvcm0ub3JpZ2luWSA9IG9wcG9zaXRlW3RyYW5zZm9ybS5vcmlnaW5ZXTtcbiAgICAgICAgc2NhbGVZICo9IC0xO1xuICAgICAgICB0cmFuc2Zvcm0uc2lnblkgPSBzaWduWTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gbWluU2NhbGUgaXMgdGFrZW4gYXJlIGluIHRoZSBzZXR0ZXIuXG4gICAgdmFyIG9sZFNjYWxlWCA9IHRhcmdldC5zY2FsZVgsIG9sZFNjYWxlWSA9IHRhcmdldC5zY2FsZVk7XG4gICAgaWYgKCFieSkge1xuICAgICAgIWxvY2tTY2FsaW5nWCAmJiB0YXJnZXQuc2V0KCdzY2FsZVgnLCBzY2FsZVgpO1xuICAgICAgIWxvY2tTY2FsaW5nWSAmJiB0YXJnZXQuc2V0KCdzY2FsZVknLCBzY2FsZVkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIC8vIGZvcmJpZGRlbiBjYXNlcyBhbHJlYWR5IGhhbmRsZWQgb24gdG9wIGhlcmUuXG4gICAgICBieSA9PT0gJ3gnICYmIHRhcmdldC5zZXQoJ3NjYWxlWCcsIHNjYWxlWCk7XG4gICAgICBieSA9PT0gJ3knICYmIHRhcmdldC5zZXQoJ3NjYWxlWScsIHNjYWxlWSk7XG4gICAgfVxuICAgIHJldHVybiBvbGRTY2FsZVggIT09IHRhcmdldC5zY2FsZVggfHwgb2xkU2NhbGVZICE9PSB0YXJnZXQuc2NhbGVZO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyaWMgc2NhbGluZyBsb2dpYywgdG8gc2NhbGUgZnJvbSBjb3JuZXJzIGVpdGhlciBlcXVhbGx5IG9yIGZyZWVseS5cbiAgICogTmVlZHMgdG8gYmUgd3JhcHBlZCB3aXRoIGB3cmFwV2l0aEZpeGVkQW5jaG9yYCB0byBiZSBlZmZlY3RpdmVcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnREYXRhIGphdmFzY3JpcHQgZXZlbnQgdGhhdCBpcyBkb2luZyB0aGUgdHJhbnNmb3JtXG4gICAqIEBwYXJhbSB7T2JqZWN0fSB0cmFuc2Zvcm0gamF2YXNjcmlwdCBvYmplY3QgY29udGFpbmluZyBhIHNlcmllcyBvZiBpbmZvcm1hdGlvbiBhcm91bmQgdGhlIGN1cnJlbnQgdHJhbnNmb3JtXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IGN1cnJlbnQgbW91c2UgeCBwb3NpdGlvbiwgY2FudmFzIG5vcm1hbGl6ZWRcbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgY3VycmVudCBtb3VzZSB5IHBvc2l0aW9uLCBjYW52YXMgbm9ybWFsaXplZFxuICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIHNvbWUgY2hhbmdlIGhhcHBlbmVkXG4gICAqL1xuICBmdW5jdGlvbiBzY2FsZU9iamVjdEZyb21Db3JuZXIoZXZlbnREYXRhLCB0cmFuc2Zvcm0sIHgsIHkpIHtcbiAgICByZXR1cm4gc2NhbGVPYmplY3QoZXZlbnREYXRhLCB0cmFuc2Zvcm0sIHgsIHkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNjYWxpbmcgbG9naWMgZm9yIHRoZSBYIGF4aXMuXG4gICAqIE5lZWRzIHRvIGJlIHdyYXBwZWQgd2l0aCBgd3JhcFdpdGhGaXhlZEFuY2hvcmAgdG8gYmUgZWZmZWN0aXZlXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50RGF0YSBqYXZhc2NyaXB0IGV2ZW50IHRoYXQgaXMgZG9pbmcgdGhlIHRyYW5zZm9ybVxuICAgKiBAcGFyYW0ge09iamVjdH0gdHJhbnNmb3JtIGphdmFzY3JpcHQgb2JqZWN0IGNvbnRhaW5pbmcgYSBzZXJpZXMgb2YgaW5mb3JtYXRpb24gYXJvdW5kIHRoZSBjdXJyZW50IHRyYW5zZm9ybVxuICAgKiBAcGFyYW0ge251bWJlcn0geCBjdXJyZW50IG1vdXNlIHggcG9zaXRpb24sIGNhbnZhcyBub3JtYWxpemVkXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5IGN1cnJlbnQgbW91c2UgeSBwb3NpdGlvbiwgY2FudmFzIG5vcm1hbGl6ZWRcbiAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBzb21lIGNoYW5nZSBoYXBwZW5lZFxuICAgKi9cbiAgZnVuY3Rpb24gc2NhbGVPYmplY3RYKGV2ZW50RGF0YSwgdHJhbnNmb3JtLCB4LCB5KSB7XG4gICAgcmV0dXJuIHNjYWxlT2JqZWN0KGV2ZW50RGF0YSwgdHJhbnNmb3JtLCB4LCB5ICwgeyBieTogJ3gnIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNjYWxpbmcgbG9naWMgZm9yIHRoZSBZIGF4aXMuXG4gICAqIE5lZWRzIHRvIGJlIHdyYXBwZWQgd2l0aCBgd3JhcFdpdGhGaXhlZEFuY2hvcmAgdG8gYmUgZWZmZWN0aXZlXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50RGF0YSBqYXZhc2NyaXB0IGV2ZW50IHRoYXQgaXMgZG9pbmcgdGhlIHRyYW5zZm9ybVxuICAgKiBAcGFyYW0ge09iamVjdH0gdHJhbnNmb3JtIGphdmFzY3JpcHQgb2JqZWN0IGNvbnRhaW5pbmcgYSBzZXJpZXMgb2YgaW5mb3JtYXRpb24gYXJvdW5kIHRoZSBjdXJyZW50IHRyYW5zZm9ybVxuICAgKiBAcGFyYW0ge251bWJlcn0geCBjdXJyZW50IG1vdXNlIHggcG9zaXRpb24sIGNhbnZhcyBub3JtYWxpemVkXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5IGN1cnJlbnQgbW91c2UgeSBwb3NpdGlvbiwgY2FudmFzIG5vcm1hbGl6ZWRcbiAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBzb21lIGNoYW5nZSBoYXBwZW5lZFxuICAgKi9cbiAgZnVuY3Rpb24gc2NhbGVPYmplY3RZKGV2ZW50RGF0YSwgdHJhbnNmb3JtLCB4LCB5KSB7XG4gICAgcmV0dXJuIHNjYWxlT2JqZWN0KGV2ZW50RGF0YSwgdHJhbnNmb3JtLCB4LCB5ICwgeyBieTogJ3knIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbXBvc2VkIGFjdGlvbiBoYW5kbGVyIHRvIGVpdGhlciBzY2FsZSBZIG9yIHNrZXcgWFxuICAgKiBOZWVkcyB0byBiZSB3cmFwcGVkIHdpdGggYHdyYXBXaXRoRml4ZWRBbmNob3JgIHRvIGJlIGVmZmVjdGl2ZVxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudERhdGEgamF2YXNjcmlwdCBldmVudCB0aGF0IGlzIGRvaW5nIHRoZSB0cmFuc2Zvcm1cbiAgICogQHBhcmFtIHtPYmplY3R9IHRyYW5zZm9ybSBqYXZhc2NyaXB0IG9iamVjdCBjb250YWluaW5nIGEgc2VyaWVzIG9mIGluZm9ybWF0aW9uIGFyb3VuZCB0aGUgY3VycmVudCB0cmFuc2Zvcm1cbiAgICogQHBhcmFtIHtudW1iZXJ9IHggY3VycmVudCBtb3VzZSB4IHBvc2l0aW9uLCBjYW52YXMgbm9ybWFsaXplZFxuICAgKiBAcGFyYW0ge251bWJlcn0geSBjdXJyZW50IG1vdXNlIHkgcG9zaXRpb24sIGNhbnZhcyBub3JtYWxpemVkXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgc29tZSBjaGFuZ2UgaGFwcGVuZWRcbiAgICovXG4gIGZ1bmN0aW9uIHNjYWxpbmdZT3JTa2V3aW5nWChldmVudERhdGEsIHRyYW5zZm9ybSwgeCwgeSkge1xuICAgIC8vIG9rIHNvbWUgc2FmZXR5IG5lZWRlZCBoZXJlLlxuICAgIGlmIChldmVudERhdGFbdHJhbnNmb3JtLnRhcmdldC5jYW52YXMuYWx0QWN0aW9uS2V5XSkge1xuICAgICAgcmV0dXJuIGNvbnRyb2xzLnNrZXdIYW5kbGVyWChldmVudERhdGEsIHRyYW5zZm9ybSwgeCwgeSk7XG4gICAgfVxuICAgIHJldHVybiBjb250cm9scy5zY2FsaW5nWShldmVudERhdGEsIHRyYW5zZm9ybSwgeCwgeSk7XG4gIH1cblxuICAvKipcbiAgICogQ29tcG9zZWQgYWN0aW9uIGhhbmRsZXIgdG8gZWl0aGVyIHNjYWxlIFggb3Igc2tldyBZXG4gICAqIE5lZWRzIHRvIGJlIHdyYXBwZWQgd2l0aCBgd3JhcFdpdGhGaXhlZEFuY2hvcmAgdG8gYmUgZWZmZWN0aXZlXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50RGF0YSBqYXZhc2NyaXB0IGV2ZW50IHRoYXQgaXMgZG9pbmcgdGhlIHRyYW5zZm9ybVxuICAgKiBAcGFyYW0ge09iamVjdH0gdHJhbnNmb3JtIGphdmFzY3JpcHQgb2JqZWN0IGNvbnRhaW5pbmcgYSBzZXJpZXMgb2YgaW5mb3JtYXRpb24gYXJvdW5kIHRoZSBjdXJyZW50IHRyYW5zZm9ybVxuICAgKiBAcGFyYW0ge251bWJlcn0geCBjdXJyZW50IG1vdXNlIHggcG9zaXRpb24sIGNhbnZhcyBub3JtYWxpemVkXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5IGN1cnJlbnQgbW91c2UgeSBwb3NpdGlvbiwgY2FudmFzIG5vcm1hbGl6ZWRcbiAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBzb21lIGNoYW5nZSBoYXBwZW5lZFxuICAgKi9cbiAgZnVuY3Rpb24gc2NhbGluZ1hPclNrZXdpbmdZKGV2ZW50RGF0YSwgdHJhbnNmb3JtLCB4LCB5KSB7XG4gICAgLy8gb2sgc29tZSBzYWZldHkgbmVlZGVkIGhlcmUuXG4gICAgaWYgKGV2ZW50RGF0YVt0cmFuc2Zvcm0udGFyZ2V0LmNhbnZhcy5hbHRBY3Rpb25LZXldKSB7XG4gICAgICByZXR1cm4gY29udHJvbHMuc2tld0hhbmRsZXJZKGV2ZW50RGF0YSwgdHJhbnNmb3JtLCB4LCB5KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRyb2xzLnNjYWxpbmdYKGV2ZW50RGF0YSwgdHJhbnNmb3JtLCB4LCB5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBY3Rpb24gaGFuZGxlciB0byBjaGFuZ2UgdGV4dGJveCB3aWR0aFxuICAgKiBOZWVkcyB0byBiZSB3cmFwcGVkIHdpdGggYHdyYXBXaXRoRml4ZWRBbmNob3JgIHRvIGJlIGVmZmVjdGl2ZVxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudERhdGEgamF2YXNjcmlwdCBldmVudCB0aGF0IGlzIGRvaW5nIHRoZSB0cmFuc2Zvcm1cbiAgICogQHBhcmFtIHtPYmplY3R9IHRyYW5zZm9ybSBqYXZhc2NyaXB0IG9iamVjdCBjb250YWluaW5nIGEgc2VyaWVzIG9mIGluZm9ybWF0aW9uIGFyb3VuZCB0aGUgY3VycmVudCB0cmFuc2Zvcm1cbiAgICogQHBhcmFtIHtudW1iZXJ9IHggY3VycmVudCBtb3VzZSB4IHBvc2l0aW9uLCBjYW52YXMgbm9ybWFsaXplZFxuICAgKiBAcGFyYW0ge251bWJlcn0geSBjdXJyZW50IG1vdXNlIHkgcG9zaXRpb24sIGNhbnZhcyBub3JtYWxpemVkXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgc29tZSBjaGFuZ2UgaGFwcGVuZWRcbiAgICovXG4gIGZ1bmN0aW9uIGNoYW5nZVdpZHRoKGV2ZW50RGF0YSwgdHJhbnNmb3JtLCB4LCB5KSB7XG4gICAgdmFyIHRhcmdldCA9IHRyYW5zZm9ybS50YXJnZXQsIGxvY2FsUG9pbnQgPSBnZXRMb2NhbFBvaW50KHRyYW5zZm9ybSwgdHJhbnNmb3JtLm9yaWdpblgsIHRyYW5zZm9ybS5vcmlnaW5ZLCB4LCB5KSxcbiAgICAgICAgc3Ryb2tlUGFkZGluZyA9IHRhcmdldC5zdHJva2VXaWR0aCAvICh0YXJnZXQuc3Ryb2tlVW5pZm9ybSA/IHRhcmdldC5zY2FsZVggOiAxKSxcbiAgICAgICAgbXVsdGlwbGllciA9IGlzVHJhbnNmb3JtQ2VudGVyZWQodHJhbnNmb3JtKSA/IDIgOiAxLFxuICAgICAgICBvbGRXaWR0aCA9IHRhcmdldC53aWR0aCxcbiAgICAgICAgbmV3V2lkdGggPSBNYXRoLmFicyhsb2NhbFBvaW50LnggKiBtdWx0aXBsaWVyIC8gdGFyZ2V0LnNjYWxlWCkgLSBzdHJva2VQYWRkaW5nO1xuICAgIHRhcmdldC5zZXQoJ3dpZHRoJywgTWF0aC5tYXgobmV3V2lkdGgsIDApKTtcbiAgICByZXR1cm4gb2xkV2lkdGggIT09IG5ld1dpZHRoO1xuICB9XG5cbiAgLyoqXG4gICAqIEFjdGlvbiBoYW5kbGVyXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50RGF0YSBqYXZhc2NyaXB0IGV2ZW50IHRoYXQgaXMgZG9pbmcgdGhlIHRyYW5zZm9ybVxuICAgKiBAcGFyYW0ge09iamVjdH0gdHJhbnNmb3JtIGphdmFzY3JpcHQgb2JqZWN0IGNvbnRhaW5pbmcgYSBzZXJpZXMgb2YgaW5mb3JtYXRpb24gYXJvdW5kIHRoZSBjdXJyZW50IHRyYW5zZm9ybVxuICAgKiBAcGFyYW0ge251bWJlcn0geCBjdXJyZW50IG1vdXNlIHggcG9zaXRpb24sIGNhbnZhcyBub3JtYWxpemVkXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5IGN1cnJlbnQgbW91c2UgeSBwb3NpdGlvbiwgY2FudmFzIG5vcm1hbGl6ZWRcbiAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiB0aGUgdHJhbnNsYXRpb24gb2NjdXJyZWRcbiAgICovXG4gIGZ1bmN0aW9uIGRyYWdIYW5kbGVyKGV2ZW50RGF0YSwgdHJhbnNmb3JtLCB4LCB5KSB7XG4gICAgdmFyIHRhcmdldCA9IHRyYW5zZm9ybS50YXJnZXQsXG4gICAgICAgIG5ld0xlZnQgPSB4IC0gdHJhbnNmb3JtLm9mZnNldFgsXG4gICAgICAgIG5ld1RvcCA9IHkgLSB0cmFuc2Zvcm0ub2Zmc2V0WSxcbiAgICAgICAgbW92ZVggPSAhdGFyZ2V0LmdldCgnbG9ja01vdmVtZW50WCcpICYmIHRhcmdldC5sZWZ0ICE9PSBuZXdMZWZ0LFxuICAgICAgICBtb3ZlWSA9ICF0YXJnZXQuZ2V0KCdsb2NrTW92ZW1lbnRZJykgJiYgdGFyZ2V0LnRvcCAhPT0gbmV3VG9wO1xuICAgIG1vdmVYICYmIHRhcmdldC5zZXQoJ2xlZnQnLCBuZXdMZWZ0KTtcbiAgICBtb3ZlWSAmJiB0YXJnZXQuc2V0KCd0b3AnLCBuZXdUb3ApO1xuICAgIGlmIChtb3ZlWCB8fCBtb3ZlWSkge1xuICAgICAgZmlyZUV2ZW50KCdtb3ZpbmcnLCBjb21tb25FdmVudEluZm8oZXZlbnREYXRhLCB0cmFuc2Zvcm0sIHgsIHkpKTtcbiAgICB9XG4gICAgcmV0dXJuIG1vdmVYIHx8IG1vdmVZO1xuICB9XG5cbiAgY29udHJvbHMuc2NhbGVDdXJzb3JTdHlsZUhhbmRsZXIgPSBzY2FsZUN1cnNvclN0eWxlSGFuZGxlcjtcbiAgY29udHJvbHMuc2tld0N1cnNvclN0eWxlSGFuZGxlciA9IHNrZXdDdXJzb3JTdHlsZUhhbmRsZXI7XG4gIGNvbnRyb2xzLnNjYWxlU2tld0N1cnNvclN0eWxlSGFuZGxlciA9IHNjYWxlU2tld0N1cnNvclN0eWxlSGFuZGxlcjtcbiAgY29udHJvbHMucm90YXRpb25XaXRoU25hcHBpbmcgPSB3cmFwV2l0aEZpcmVFdmVudCgncm90YXRpbmcnLCB3cmFwV2l0aEZpeGVkQW5jaG9yKHJvdGF0aW9uV2l0aFNuYXBwaW5nKSk7XG4gIGNvbnRyb2xzLnNjYWxpbmdFcXVhbGx5ID0gd3JhcFdpdGhGaXJlRXZlbnQoJ3NjYWxpbmcnLCB3cmFwV2l0aEZpeGVkQW5jaG9yKCBzY2FsZU9iamVjdEZyb21Db3JuZXIpKTtcbiAgY29udHJvbHMuc2NhbGluZ1ggPSB3cmFwV2l0aEZpcmVFdmVudCgnc2NhbGluZycsIHdyYXBXaXRoRml4ZWRBbmNob3Ioc2NhbGVPYmplY3RYKSk7XG4gIGNvbnRyb2xzLnNjYWxpbmdZID0gd3JhcFdpdGhGaXJlRXZlbnQoJ3NjYWxpbmcnLCB3cmFwV2l0aEZpeGVkQW5jaG9yKHNjYWxlT2JqZWN0WSkpO1xuICBjb250cm9scy5zY2FsaW5nWU9yU2tld2luZ1ggPSBzY2FsaW5nWU9yU2tld2luZ1g7XG4gIGNvbnRyb2xzLnNjYWxpbmdYT3JTa2V3aW5nWSA9IHNjYWxpbmdYT3JTa2V3aW5nWTtcbiAgY29udHJvbHMuY2hhbmdlV2lkdGggPSB3cmFwV2l0aEZpcmVFdmVudCgncmVzaXppbmcnLCB3cmFwV2l0aEZpeGVkQW5jaG9yKGNoYW5nZVdpZHRoKSk7XG4gIGNvbnRyb2xzLnNrZXdIYW5kbGVyWCA9IHNrZXdIYW5kbGVyWDtcbiAgY29udHJvbHMuc2tld0hhbmRsZXJZID0gc2tld0hhbmRsZXJZO1xuICBjb250cm9scy5kcmFnSGFuZGxlciA9IGRyYWdIYW5kbGVyO1xuICBjb250cm9scy5zY2FsZU9yU2tld0FjdGlvbk5hbWUgPSBzY2FsZU9yU2tld0FjdGlvbk5hbWU7XG4gIGNvbnRyb2xzLnJvdGF0aW9uU3R5bGVIYW5kbGVyID0gcm90YXRpb25TdHlsZUhhbmRsZXI7XG4gIGNvbnRyb2xzLmZpcmVFdmVudCA9IGZpcmVFdmVudDtcbiAgY29udHJvbHMud3JhcFdpdGhGaXhlZEFuY2hvciA9IHdyYXBXaXRoRml4ZWRBbmNob3I7XG4gIGNvbnRyb2xzLndyYXBXaXRoRmlyZUV2ZW50ID0gd3JhcFdpdGhGaXJlRXZlbnQ7XG4gIGNvbnRyb2xzLmdldExvY2FsUG9pbnQgPSBnZXRMb2NhbFBvaW50O1xuICBmYWJyaWMuY29udHJvbHNVdGlscyA9IGNvbnRyb2xzO1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSksXG4gICAgICBkZWdyZWVzVG9SYWRpYW5zID0gZmFicmljLnV0aWwuZGVncmVlc1RvUmFkaWFucyxcbiAgICAgIGNvbnRyb2xzID0gZmFicmljLmNvbnRyb2xzVXRpbHM7XG5cbiAgLyoqXG4gICAqIFJlbmRlciBhIHJvdW5kIGNvbnRyb2wsIGFzIHBlciBmYWJyaWMgZmVhdHVyZXMuXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgd3JpdHRlbiB0byByZXNwZWN0IG9iamVjdCBwcm9wZXJ0aWVzIGxpa2UgdHJhbnNwYXJlbnRDb3JuZXJzLCBjb3JuZXJTaXplXG4gICAqIGNvcm5lckNvbG9yLCBjb3JuZXJTdHJva2VDb2xvclxuICAgKiBwbHVzIHRoZSBhZGRpdGlvbiBvZiBvZmZzZXRZIGFuZCBvZmZzZXRYLlxuICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IGNvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBsZWZ0IHggY29vcmRpbmF0ZSB3aGVyZSB0aGUgY29udHJvbCBjZW50ZXIgc2hvdWxkIGJlXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB0b3AgeSBjb29yZGluYXRlIHdoZXJlIHRoZSBjb250cm9sIGNlbnRlciBzaG91bGQgYmVcbiAgICogQHBhcmFtIHtPYmplY3R9IHN0eWxlT3ZlcnJpZGUgb3ZlcnJpZGUgZm9yIGZhYnJpYy5PYmplY3QgY29udHJvbHMgc3R5bGVcbiAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBmYWJyaWNPYmplY3QgdGhlIGZhYnJpYyBvYmplY3QgZm9yIHdoaWNoIHdlIGFyZSByZW5kZXJpbmcgY29udHJvbHNcbiAgICovXG4gIGZ1bmN0aW9uIHJlbmRlckNpcmNsZUNvbnRyb2wgKGN0eCwgbGVmdCwgdG9wLCBzdHlsZU92ZXJyaWRlLCBmYWJyaWNPYmplY3QpIHtcbiAgICBzdHlsZU92ZXJyaWRlID0gc3R5bGVPdmVycmlkZSB8fCB7fTtcbiAgICB2YXIgeFNpemUgPSB0aGlzLnNpemVYIHx8IHN0eWxlT3ZlcnJpZGUuY29ybmVyU2l6ZSB8fCBmYWJyaWNPYmplY3QuY29ybmVyU2l6ZSxcbiAgICAgICAgeVNpemUgPSB0aGlzLnNpemVZIHx8IHN0eWxlT3ZlcnJpZGUuY29ybmVyU2l6ZSB8fCBmYWJyaWNPYmplY3QuY29ybmVyU2l6ZSxcbiAgICAgICAgdHJhbnNwYXJlbnRDb3JuZXJzID0gdHlwZW9mIHN0eWxlT3ZlcnJpZGUudHJhbnNwYXJlbnRDb3JuZXJzICE9PSAndW5kZWZpbmVkJyA/XG4gICAgICAgICAgc3R5bGVPdmVycmlkZS50cmFuc3BhcmVudENvcm5lcnMgOiBmYWJyaWNPYmplY3QudHJhbnNwYXJlbnRDb3JuZXJzLFxuICAgICAgICBtZXRob2ROYW1lID0gdHJhbnNwYXJlbnRDb3JuZXJzID8gJ3N0cm9rZScgOiAnZmlsbCcsXG4gICAgICAgIHN0cm9rZSA9ICF0cmFuc3BhcmVudENvcm5lcnMgJiYgKHN0eWxlT3ZlcnJpZGUuY29ybmVyU3Ryb2tlQ29sb3IgfHwgZmFicmljT2JqZWN0LmNvcm5lclN0cm9rZUNvbG9yKSxcbiAgICAgICAgbXlMZWZ0ID0gbGVmdCxcbiAgICAgICAgbXlUb3AgPSB0b3AsIHNpemU7XG4gICAgY3R4LnNhdmUoKTtcbiAgICBjdHguZmlsbFN0eWxlID0gc3R5bGVPdmVycmlkZS5jb3JuZXJDb2xvciB8fCBmYWJyaWNPYmplY3QuY29ybmVyQ29sb3I7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gc3R5bGVPdmVycmlkZS5jb3JuZXJTdHJva2VDb2xvciB8fCBmYWJyaWNPYmplY3QuY29ybmVyU3Ryb2tlQ29sb3I7XG4gICAgLy8gYXMgc29vbiBhcyBmYWJyaWMgcmVhY3QgdjUsIHJlbW92ZSBpZTExLCB1c2UgcHJvcGVyIGVsbGlwc2UgY29kZS5cbiAgICBpZiAoeFNpemUgPiB5U2l6ZSkge1xuICAgICAgc2l6ZSA9IHhTaXplO1xuICAgICAgY3R4LnNjYWxlKDEuMCwgeVNpemUgLyB4U2l6ZSk7XG4gICAgICBteVRvcCA9IHRvcCAqIHhTaXplIC8geVNpemU7XG4gICAgfVxuICAgIGVsc2UgaWYgKHlTaXplID4geFNpemUpIHtcbiAgICAgIHNpemUgPSB5U2l6ZTtcbiAgICAgIGN0eC5zY2FsZSh4U2l6ZSAvIHlTaXplLCAxLjApO1xuICAgICAgbXlMZWZ0ID0gbGVmdCAqIHlTaXplIC8geFNpemU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgc2l6ZSA9IHhTaXplO1xuICAgIH1cbiAgICAvLyB0aGlzIGlzIHN0aWxsIHdyb25nXG4gICAgY3R4LmxpbmVXaWR0aCA9IDE7XG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5hcmMobXlMZWZ0LCBteVRvcCwgc2l6ZSAvIDIsIDAsIDIgKiBNYXRoLlBJLCBmYWxzZSk7XG4gICAgY3R4W21ldGhvZE5hbWVdKCk7XG4gICAgaWYgKHN0cm9rZSkge1xuICAgICAgY3R4LnN0cm9rZSgpO1xuICAgIH1cbiAgICBjdHgucmVzdG9yZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlciBhIHNxdWFyZSBjb250cm9sLCBhcyBwZXIgZmFicmljIGZlYXR1cmVzLlxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHdyaXR0ZW4gdG8gcmVzcGVjdCBvYmplY3QgcHJvcGVydGllcyBsaWtlIHRyYW5zcGFyZW50Q29ybmVycywgY29ybmVyU2l6ZVxuICAgKiBjb3JuZXJDb2xvciwgY29ybmVyU3Ryb2tlQ29sb3JcbiAgICogcGx1cyB0aGUgYWRkaXRpb24gb2Ygb2Zmc2V0WSBhbmQgb2Zmc2V0WC5cbiAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBjb250ZXh0IHRvIHJlbmRlciBvblxuICAgKiBAcGFyYW0ge051bWJlcn0gbGVmdCB4IGNvb3JkaW5hdGUgd2hlcmUgdGhlIGNvbnRyb2wgY2VudGVyIHNob3VsZCBiZVxuICAgKiBAcGFyYW0ge051bWJlcn0gdG9wIHkgY29vcmRpbmF0ZSB3aGVyZSB0aGUgY29udHJvbCBjZW50ZXIgc2hvdWxkIGJlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzdHlsZU92ZXJyaWRlIG92ZXJyaWRlIGZvciBmYWJyaWMuT2JqZWN0IGNvbnRyb2xzIHN0eWxlXG4gICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gZmFicmljT2JqZWN0IHRoZSBmYWJyaWMgb2JqZWN0IGZvciB3aGljaCB3ZSBhcmUgcmVuZGVyaW5nIGNvbnRyb2xzXG4gICAqL1xuICBmdW5jdGlvbiByZW5kZXJTcXVhcmVDb250cm9sKGN0eCwgbGVmdCwgdG9wLCBzdHlsZU92ZXJyaWRlLCBmYWJyaWNPYmplY3QpIHtcbiAgICBzdHlsZU92ZXJyaWRlID0gc3R5bGVPdmVycmlkZSB8fCB7fTtcbiAgICB2YXIgeFNpemUgPSB0aGlzLnNpemVYIHx8IHN0eWxlT3ZlcnJpZGUuY29ybmVyU2l6ZSB8fCBmYWJyaWNPYmplY3QuY29ybmVyU2l6ZSxcbiAgICAgICAgeVNpemUgPSB0aGlzLnNpemVZIHx8IHN0eWxlT3ZlcnJpZGUuY29ybmVyU2l6ZSB8fCBmYWJyaWNPYmplY3QuY29ybmVyU2l6ZSxcbiAgICAgICAgdHJhbnNwYXJlbnRDb3JuZXJzID0gdHlwZW9mIHN0eWxlT3ZlcnJpZGUudHJhbnNwYXJlbnRDb3JuZXJzICE9PSAndW5kZWZpbmVkJyA/XG4gICAgICAgICAgc3R5bGVPdmVycmlkZS50cmFuc3BhcmVudENvcm5lcnMgOiBmYWJyaWNPYmplY3QudHJhbnNwYXJlbnRDb3JuZXJzLFxuICAgICAgICBtZXRob2ROYW1lID0gdHJhbnNwYXJlbnRDb3JuZXJzID8gJ3N0cm9rZScgOiAnZmlsbCcsXG4gICAgICAgIHN0cm9rZSA9ICF0cmFuc3BhcmVudENvcm5lcnMgJiYgKFxuICAgICAgICAgIHN0eWxlT3ZlcnJpZGUuY29ybmVyU3Ryb2tlQ29sb3IgfHwgZmFicmljT2JqZWN0LmNvcm5lclN0cm9rZUNvbG9yXG4gICAgICAgICksIHhTaXplQnkyID0geFNpemUgLyAyLCB5U2l6ZUJ5MiA9IHlTaXplIC8gMjtcbiAgICBjdHguc2F2ZSgpO1xuICAgIGN0eC5maWxsU3R5bGUgPSBzdHlsZU92ZXJyaWRlLmNvcm5lckNvbG9yIHx8IGZhYnJpY09iamVjdC5jb3JuZXJDb2xvcjtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSBzdHlsZU92ZXJyaWRlLmNvcm5lclN0cm9rZUNvbG9yIHx8IGZhYnJpY09iamVjdC5jb3JuZXJTdHJva2VDb2xvcjtcbiAgICAvLyB0aGlzIGlzIHN0aWxsIHdyb25nXG4gICAgY3R4LmxpbmVXaWR0aCA9IDE7XG4gICAgY3R4LnRyYW5zbGF0ZShsZWZ0LCB0b3ApO1xuICAgIGN0eC5yb3RhdGUoZGVncmVlc1RvUmFkaWFucyhmYWJyaWNPYmplY3QuYW5nbGUpKTtcbiAgICAvLyB0aGlzIGRvZXMgbm90IHdvcmssIGFuZCBmaXhlZCB3aXRoICggJiYgKSBkb2VzIG5vdCBtYWtlIHNlbnNlLlxuICAgIC8vIHRvIGhhdmUgcmVhbCB0cmFuc3BhcmVudCBjb3JuZXJzIHdlIG5lZWQgdGhlIGNvbnRyb2xzIG9uIHVwcGVyQ2FudmFzXG4gICAgLy8gdHJhbnNwYXJlbnRDb3JuZXJzIHx8IGN0eC5jbGVhclJlY3QoLXhTaXplQnkyLCAteVNpemVCeTIsIHhTaXplLCB5U2l6ZSk7XG4gICAgY3R4W21ldGhvZE5hbWUgKyAnUmVjdCddKC14U2l6ZUJ5MiwgLXlTaXplQnkyLCB4U2l6ZSwgeVNpemUpO1xuICAgIGlmIChzdHJva2UpIHtcbiAgICAgIGN0eC5zdHJva2VSZWN0KC14U2l6ZUJ5MiwgLXlTaXplQnkyLCB4U2l6ZSwgeVNpemUpO1xuICAgIH1cbiAgICBjdHgucmVzdG9yZSgpO1xuICB9XG5cbiAgY29udHJvbHMucmVuZGVyQ2lyY2xlQ29udHJvbCA9IHJlbmRlckNpcmNsZUNvbnRyb2w7XG4gIGNvbnRyb2xzLnJlbmRlclNxdWFyZUNvbnRyb2wgPSByZW5kZXJTcXVhcmVDb250cm9sO1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSk7XG5cbiAgZnVuY3Rpb24gQ29udHJvbChvcHRpb25zKSB7XG4gICAgZm9yICh2YXIgaSBpbiBvcHRpb25zKSB7XG4gICAgICB0aGlzW2ldID0gb3B0aW9uc1tpXTtcbiAgICB9XG4gIH1cblxuICBmYWJyaWMuQ29udHJvbCA9IENvbnRyb2w7XG5cbiAgZmFicmljLkNvbnRyb2wucHJvdG90eXBlID0gLyoqIEBsZW5kcyBmYWJyaWMuQ29udHJvbC5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICoga2VlcCB0cmFjayBvZiBjb250cm9sIHZpc2liaWxpdHkuXG4gICAgICogbWFpbmx5IGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5LlxuICAgICAqIGlmIHlvdSBkbyBub3Qgd2FudCB0byBzZWUgYSBjb250cm9sLCB5b3UgY2FuIHJlbW92ZSBpdFxuICAgICAqIGZyb20gdGhlIGNvbnRyb2xzZXQuXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAqL1xuICAgIHZpc2libGU6IHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBOYW1lIG9mIHRoZSBhY3Rpb24gdGhhdCB0aGUgY29udHJvbCB3aWxsIGxpa2VseSBleGVjdXRlLlxuICAgICAqIFRoaXMgaXMgb3B0aW9uYWwuIEZhYnJpY0pTIHVzZXMgdG8gaWRlbnRpZnkgd2hhdCB0aGUgdXNlciBpcyBkb2luZyBmb3Igc29tZVxuICAgICAqIGV4dHJhIG9wdGltaXphdGlvbnMuIElmIHlvdSBhcmUgd3JpdGluZyBhIGN1c3RvbSBjb250cm9sIGFuZCB5b3Ugd2FudCB0byBrbm93XG4gICAgICogc29tZXdoZXJlIGVsc2UgaW4gdGhlIGNvZGUgd2hhdCBpcyBnb2luZyBvbiwgeW91IGNhbiB1c2UgdGhpcyBzdHJpbmcgaGVyZS5cbiAgICAgKiB5b3UgY2FuIGFsc28gcHJvdmlkZSBhIGN1c3RvbSBnZXRBY3Rpb25OYW1lIGlmIHlvdXIgY29udHJvbCBydW4gbXVsdGlwbGUgYWN0aW9uc1xuICAgICAqIGRlcGVuZGluZyBvbiBzb21lIGV4dGVybmFsIHN0YXRlLlxuICAgICAqIGRlZmF1bHQgdG8gc2NhbGUgc2luY2UgaXMgdGhlIG1vc3QgY29tbW9uLCB1c2VkIG9uIDQgY29ybmVycyBieSBkZWZhdWx0XG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAZGVmYXVsdCAnc2NhbGUnXG4gICAgICovXG4gICAgYWN0aW9uTmFtZTogJ3NjYWxlJyxcblxuICAgIC8qKlxuICAgICAqIERyYXdpbmcgYW5nbGUgb2YgdGhlIGNvbnRyb2wuXG4gICAgICogTk9UIHVzZWQgZm9yIG5vdywgYnV0IG5hbWUgbWFya2VkIGFzIG5lZWRlZCBmb3IgaW50ZXJuYWwgbG9naWNcbiAgICAgKiBleGFtcGxlOiB0byByZXVzZSB0aGUgc2FtZSBkcmF3aW5nIGZ1bmN0aW9uIGZvciBkaWZmZXJlbnQgcm90YXRlZCBjb250cm9sc1xuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIGFuZ2xlOiAwLFxuXG4gICAgLyoqXG4gICAgICogUmVsYXRpdmUgcG9zaXRpb24gb2YgdGhlIGNvbnRyb2wuIFhcbiAgICAgKiAwLDAgaXMgdGhlIGNlbnRlciBvZiB0aGUgT2JqZWN0LCB3aGlsZSAtMC41IChsZWZ0KSBvciAwLjUgKHJpZ2h0KSBhcmUgdGhlIGV4dHJlbWl0aWVzXG4gICAgICogb2YgdGhlIGJvdW5kaW5nIGJveC5cbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB4OiAwLFxuXG4gICAgLyoqXG4gICAgICogUmVsYXRpdmUgcG9zaXRpb24gb2YgdGhlIGNvbnRyb2wuIFlcbiAgICAgKiAwLDAgaXMgdGhlIGNlbnRlciBvZiB0aGUgT2JqZWN0LCB3aGlsZSAtMC41ICh0b3ApIG9yIDAuNSAoYm90dG9tKSBhcmUgdGhlIGV4dHJlbWl0aWVzXG4gICAgICogb2YgdGhlIGJvdW5kaW5nIGJveC5cbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB5OiAwLFxuXG4gICAgLyoqXG4gICAgICogSG9yaXpvbnRhbCBvZmZzZXQgb2YgdGhlIGNvbnRyb2wgZnJvbSB0aGUgZGVmaW5lZCBwb3NpdGlvbi4gSW4gcGl4ZWxzXG4gICAgICogUG9zaXRpdmUgb2Zmc2V0IG1vdmVzIHRoZSBjb250cm9sIHRvIHRoZSByaWdodCwgbmVnYXRpdmUgdG8gdGhlIGxlZnQuXG4gICAgICogSXQgdXNlZCB3aGVuIHlvdSB3YW50IHRvIGhhdmUgcG9zaXRpb24gb2YgY29udHJvbCB0aGF0IGRvZXMgbm90IHNjYWxlIHdpdGhcbiAgICAgKiB0aGUgYm91bmRpbmcgYm94LiBFeGFtcGxlOiByb3RhdGlvbiBjb250cm9sIGlzIHBsYWNlZCBhdCB4OjAsIHk6IDAuNSBvblxuICAgICAqIHRoZSBib3VuZGluZGJveCwgd2l0aCBhbiBvZmZzZXQgb2YgMzAgcGl4ZWxzIHZlcnRpY2FsbHkuIFRob3NlIDMwIHBpeGVscyB3aWxsXG4gICAgICogc3RheSAzMCBwaXhlbHMgbm8gbWF0dGVyIGhvdyB0aGUgb2JqZWN0IGlzIGJpZy4gQW5vdGhlciBleGFtcGxlIGlzIGhhdmluZyAyXG4gICAgICogY29udHJvbHMgaW4gdGhlIGNvcm5lciwgdGhhdCBzdGF5IGluIHRoZSBzYW1lIHBvc2l0aW9uIHdoZW4gdGhlIG9iamVjdCBzY2FsZS5cbiAgICAgKiBvZiB0aGUgYm91bmRpbmcgYm94LlxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIG9mZnNldFg6IDAsXG5cbiAgICAvKipcbiAgICAgKiBWZXJ0aWNhbCBvZmZzZXQgb2YgdGhlIGNvbnRyb2wgZnJvbSB0aGUgZGVmaW5lZCBwb3NpdGlvbi4gSW4gcGl4ZWxzXG4gICAgICogUG9zaXRpdmUgb2Zmc2V0IG1vdmVzIHRoZSBjb250cm9sIHRvIHRoZSBib3R0b20sIG5lZ2F0aXZlIHRvIHRoZSB0b3AuXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgb2Zmc2V0WTogMCxcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGxlbmd0aCBvZiB0aGUgY29udHJvbC4gSWYgbnVsbCwgZGVmYXVsdHMgdG8gb2JqZWN0J3MgY29ybmVyU2l6ZS5cbiAgICAgKiBFeHBlY3RzIGJvdGggc2l6ZVggYW5kIHNpemVZIHRvIGJlIHNldCB3aGVuIHNldC5cbiAgICAgKiBAdHlwZSB7P051bWJlcn1cbiAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICovXG4gICAgc2l6ZVg6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBoZWlnaHQgb2YgdGhlIGNvbnRyb2wuIElmIG51bGwsIGRlZmF1bHRzIHRvIG9iamVjdCdzIGNvcm5lclNpemUuXG4gICAgICogRXhwZWN0cyBib3RoIHNpemVYIGFuZCBzaXplWSB0byBiZSBzZXQgd2hlbiBzZXQuXG4gICAgICogQHR5cGUgez9OdW1iZXJ9XG4gICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAqL1xuICAgIHNpemVZOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbGVuZ3RoIG9mIHRoZSB0b3VjaCBhcmVhIG9mIHRoZSBjb250cm9sLiBJZiBudWxsLCBkZWZhdWx0cyB0byBvYmplY3QncyB0b3VjaENvcm5lclNpemUuXG4gICAgICogRXhwZWN0cyBib3RoIHRvdWNoU2l6ZVggYW5kIHRvdWNoU2l6ZVkgdG8gYmUgc2V0IHdoZW4gc2V0LlxuICAgICAqIEB0eXBlIHs/TnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgKi9cbiAgICB0b3VjaFNpemVYOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgaGVpZ2h0IG9mIHRoZSB0b3VjaCBhcmVhIG9mIHRoZSBjb250cm9sLiBJZiBudWxsLCBkZWZhdWx0cyB0byBvYmplY3QncyB0b3VjaENvcm5lclNpemUuXG4gICAgICogRXhwZWN0cyBib3RoIHRvdWNoU2l6ZVggYW5kIHRvdWNoU2l6ZVkgdG8gYmUgc2V0IHdoZW4gc2V0LlxuICAgICAqIEB0eXBlIHs/TnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgKi9cbiAgICB0b3VjaFNpemVZOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogQ3NzIGN1cnNvciBzdHlsZSB0byBkaXNwbGF5IHdoZW4gdGhlIGNvbnRyb2wgaXMgaG92ZXJlZC5cbiAgICAgKiBpZiB0aGUgbWV0aG9kIGBjdXJzb3JTdHlsZUhhbmRsZXJgIGlzIHByb3ZpZGVkLCB0aGlzIHByb3BlcnR5IGlzIGlnbm9yZWQuXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAZGVmYXVsdCAnY3Jvc3NoYWlyJ1xuICAgICAqL1xuICAgIGN1cnNvclN0eWxlOiAnY3Jvc3NoYWlyJyxcblxuICAgIC8qKlxuICAgICAqIElmIGNvbnRyb2xzIGhhcyBhbiBvZmZzZXRZIG9yIG9mZnNldFgsIGRyYXcgYSBsaW5lIHRoYXQgY29ubmVjdHNcbiAgICAgKiB0aGUgY29udHJvbCB0byB0aGUgYm91bmRpbmcgYm94XG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICB3aXRoQ29ubmVjdGlvbjogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBUaGUgY29udHJvbCBhY3Rpb25IYW5kbGVyLCBwcm92aWRlIG9uZSB0byBoYW5kbGUgYWN0aW9uICggY29udHJvbCBiZWluZyBtb3ZlZCApXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnREYXRhIHRoZSBuYXRpdmUgbW91c2UgZXZlbnRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdHJhbnNmb3JtRGF0YSBwcm9wZXJ0aWVzIG9mIHRoZSBjdXJyZW50IHRyYW5zZm9ybVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4IHggcG9zaXRpb24gb2YgdGhlIGN1cnNvclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5IHkgcG9zaXRpb24gb2YgdGhlIGN1cnNvclxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgdGhlIGFjdGlvbi9ldmVudCBtb2RpZmllZCB0aGUgb2JqZWN0XG4gICAgICovXG4gICAgYWN0aW9uSGFuZGxlcjogZnVuY3Rpb24oLyogZXZlbnREYXRhLCB0cmFuc2Zvcm1EYXRhLCB4LCB5ICovKSB7IH0sXG5cbiAgICAvKipcbiAgICAgKiBUaGUgY29udHJvbCBoYW5kbGVyIGZvciBtb3VzZSBkb3duLCBwcm92aWRlIG9uZSB0byBoYW5kbGUgbW91c2UgZG93biBvbiBjb250cm9sXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnREYXRhIHRoZSBuYXRpdmUgbW91c2UgZXZlbnRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdHJhbnNmb3JtRGF0YSBwcm9wZXJ0aWVzIG9mIHRoZSBjdXJyZW50IHRyYW5zZm9ybVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4IHggcG9zaXRpb24gb2YgdGhlIGN1cnNvclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5IHkgcG9zaXRpb24gb2YgdGhlIGN1cnNvclxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgdGhlIGFjdGlvbi9ldmVudCBtb2RpZmllZCB0aGUgb2JqZWN0XG4gICAgICovXG4gICAgbW91c2VEb3duSGFuZGxlcjogZnVuY3Rpb24oLyogZXZlbnREYXRhLCB0cmFuc2Zvcm1EYXRhLCB4LCB5ICovKSB7IH0sXG5cbiAgICAvKipcbiAgICAgKiBUaGUgY29udHJvbCBtb3VzZVVwSGFuZGxlciwgcHJvdmlkZSBvbmUgdG8gaGFuZGxlIGFuIGVmZmVjdCBvbiBtb3VzZSB1cC5cbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudERhdGEgdGhlIG5hdGl2ZSBtb3VzZSBldmVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0cmFuc2Zvcm1EYXRhIHByb3BlcnRpZXMgb2YgdGhlIGN1cnJlbnQgdHJhbnNmb3JtXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHggeCBwb3NpdGlvbiBvZiB0aGUgY3Vyc29yXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHkgeSBwb3NpdGlvbiBvZiB0aGUgY3Vyc29yXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiB0aGUgYWN0aW9uL2V2ZW50IG1vZGlmaWVkIHRoZSBvYmplY3RcbiAgICAgKi9cbiAgICBtb3VzZVVwSGFuZGxlcjogZnVuY3Rpb24oLyogZXZlbnREYXRhLCB0cmFuc2Zvcm1EYXRhLCB4LCB5ICovKSB7IH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGNvbnRyb2wgYWN0aW9uSGFuZGxlclxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50RGF0YSB0aGUgbmF0aXZlIG1vdXNlIGV2ZW50XG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBmYWJyaWNPYmplY3Qgb24gd2hpY2ggdGhlIGNvbnRyb2wgaXMgZGlzcGxheWVkXG4gICAgICogQHBhcmFtIHtmYWJyaWMuQ29udHJvbH0gY29udHJvbCBjb250cm9sIGZvciB3aGljaCB0aGUgYWN0aW9uIGhhbmRsZXIgaXMgYmVpbmcgYXNrZWRcbiAgICAgKiBAcmV0dXJuIHtGdW5jdGlvbn0gdGhlIGFjdGlvbiBoYW5kbGVyXG4gICAgICovXG4gICAgZ2V0QWN0aW9uSGFuZGxlcjogZnVuY3Rpb24oLyogZXZlbnREYXRhLCBmYWJyaWNPYmplY3QsIGNvbnRyb2wgKi8pIHtcbiAgICAgIHJldHVybiB0aGlzLmFjdGlvbkhhbmRsZXI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgY29udHJvbCBtb3VzZURvd24gaGFuZGxlclxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50RGF0YSB0aGUgbmF0aXZlIG1vdXNlIGV2ZW50XG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBmYWJyaWNPYmplY3Qgb24gd2hpY2ggdGhlIGNvbnRyb2wgaXMgZGlzcGxheWVkXG4gICAgICogQHBhcmFtIHtmYWJyaWMuQ29udHJvbH0gY29udHJvbCBjb250cm9sIGZvciB3aGljaCB0aGUgYWN0aW9uIGhhbmRsZXIgaXMgYmVpbmcgYXNrZWRcbiAgICAgKiBAcmV0dXJuIHtGdW5jdGlvbn0gdGhlIGFjdGlvbiBoYW5kbGVyXG4gICAgICovXG4gICAgZ2V0TW91c2VEb3duSGFuZGxlcjogZnVuY3Rpb24oLyogZXZlbnREYXRhLCBmYWJyaWNPYmplY3QsIGNvbnRyb2wgKi8pIHtcbiAgICAgIHJldHVybiB0aGlzLm1vdXNlRG93bkhhbmRsZXI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgY29udHJvbCBtb3VzZVVwIGhhbmRsZXJcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudERhdGEgdGhlIG5hdGl2ZSBtb3VzZSBldmVudFxuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gZmFicmljT2JqZWN0IG9uIHdoaWNoIHRoZSBjb250cm9sIGlzIGRpc3BsYXllZFxuICAgICAqIEBwYXJhbSB7ZmFicmljLkNvbnRyb2x9IGNvbnRyb2wgY29udHJvbCBmb3Igd2hpY2ggdGhlIGFjdGlvbiBoYW5kbGVyIGlzIGJlaW5nIGFza2VkXG4gICAgICogQHJldHVybiB7RnVuY3Rpb259IHRoZSBhY3Rpb24gaGFuZGxlclxuICAgICAqL1xuICAgIGdldE1vdXNlVXBIYW5kbGVyOiBmdW5jdGlvbigvKiBldmVudERhdGEsIGZhYnJpY09iamVjdCwgY29udHJvbCAqLykge1xuICAgICAgcmV0dXJuIHRoaXMubW91c2VVcEhhbmRsZXI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgY29udHJvbCBjdXJzb3JTdHlsZSBmb3IgY3NzIHVzaW5nIGN1cnNvclN0eWxlLiBJZiB5b3UgbmVlZCBhIG1vcmUgZWxhYm9yYXRlXG4gICAgICogZnVuY3Rpb24geW91IGNhbiBwYXNzIG9uZSBpbiB0aGUgY29uc3RydWN0b3JcbiAgICAgKiB0aGUgY3Vyc29yU3R5bGUgcHJvcGVydHlcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudERhdGEgdGhlIG5hdGl2ZSBtb3VzZSBldmVudFxuICAgICAqIEBwYXJhbSB7ZmFicmljLkNvbnRyb2x9IGNvbnRyb2wgdGhlIGN1cnJlbnQgY29udHJvbCAoIGxpa2VseSB0aGlzKVxuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gb2JqZWN0IG9uIHdoaWNoIHRoZSBjb250cm9sIGlzIGRpc3BsYXllZFxuICAgICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICAgKi9cbiAgICBjdXJzb3JTdHlsZUhhbmRsZXI6IGZ1bmN0aW9uKGV2ZW50RGF0YSwgY29udHJvbCAvKiBmYWJyaWNPYmplY3QgKi8pIHtcbiAgICAgIHJldHVybiBjb250cm9sLmN1cnNvclN0eWxlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBhY3Rpb24gbmFtZS4gVGhlIGJhc2ljIGltcGxlbWVudGF0aW9uIGp1c3QgcmV0dXJuIHRoZSBhY3Rpb25OYW1lIHByb3BlcnR5LlxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50RGF0YSB0aGUgbmF0aXZlIG1vdXNlIGV2ZW50XG4gICAgICogQHBhcmFtIHtmYWJyaWMuQ29udHJvbH0gY29udHJvbCB0aGUgY3VycmVudCBjb250cm9sICggbGlrZWx5IHRoaXMpXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmplY3Qgb24gd2hpY2ggdGhlIGNvbnRyb2wgaXMgZGlzcGxheWVkXG4gICAgICogQHJldHVybiB7U3RyaW5nfVxuICAgICAqL1xuICAgIGdldEFjdGlvbk5hbWU6IGZ1bmN0aW9uKGV2ZW50RGF0YSwgY29udHJvbCAvKiBmYWJyaWNPYmplY3QgKi8pIHtcbiAgICAgIHJldHVybiBjb250cm9sLmFjdGlvbk5hbWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgY29udHJvbHMgdmlzaWJpbGl0eVxuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gb2JqZWN0IG9uIHdoaWNoIHRoZSBjb250cm9sIGlzIGRpc3BsYXllZFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjb250cm9sS2V5IGtleSB3aGVyZSB0aGUgY29udHJvbCBpcyBtZW1vcml6ZWQgb24gdGhlXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBnZXRWaXNpYmlsaXR5OiBmdW5jdGlvbihmYWJyaWNPYmplY3QsIGNvbnRyb2xLZXkpIHtcbiAgICAgIHZhciBvYmplY3RWaXNpYmlsaXR5ID0gZmFicmljT2JqZWN0Ll9jb250cm9sc1Zpc2liaWxpdHk7XG4gICAgICBpZiAob2JqZWN0VmlzaWJpbGl0eSAmJiB0eXBlb2Ygb2JqZWN0VmlzaWJpbGl0eVtjb250cm9sS2V5XSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdFZpc2liaWxpdHlbY29udHJvbEtleV07XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy52aXNpYmxlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIGNvbnRyb2xzIHZpc2liaWxpdHlcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHZpc2liaWxpdHkgZm9yIHRoZSBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxuICAgICAqL1xuICAgIHNldFZpc2liaWxpdHk6IGZ1bmN0aW9uKHZpc2liaWxpdHkgLyogbmFtZSwgZmFicmljT2JqZWN0ICovKSB7XG4gICAgICB0aGlzLnZpc2libGUgPSB2aXNpYmlsaXR5O1xuICAgIH0sXG5cblxuICAgIHBvc2l0aW9uSGFuZGxlcjogZnVuY3Rpb24oZGltLCBmaW5hbE1hdHJpeCAvKiwgZmFicmljT2JqZWN0LCBjdXJyZW50Q29udHJvbCAqLykge1xuICAgICAgdmFyIHBvaW50ID0gZmFicmljLnV0aWwudHJhbnNmb3JtUG9pbnQoe1xuICAgICAgICB4OiB0aGlzLnggKiBkaW0ueCArIHRoaXMub2Zmc2V0WCxcbiAgICAgICAgeTogdGhpcy55ICogZGltLnkgKyB0aGlzLm9mZnNldFkgfSwgZmluYWxNYXRyaXgpO1xuICAgICAgcmV0dXJuIHBvaW50O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjb29yZHMgZm9yIHRoaXMgY29udHJvbCBiYXNlZCBvbiBvYmplY3QgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBvYmplY3RBbmdsZSBhbmdsZSBmcm9tIHRoZSBmYWJyaWMgb2JqZWN0IGhvbGRpbmcgdGhlIGNvbnRyb2xcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gb2JqZWN0Q29ybmVyU2l6ZSBjb3JuZXJTaXplIGZyb20gdGhlIGZhYnJpYyBvYmplY3QgaG9sZGluZyB0aGUgY29udHJvbCAob3IgdG91Y2hDb3JuZXJTaXplIGlmXG4gICAgICogICBpc1RvdWNoIGlzIHRydWUpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGNlbnRlclggeCBjb29yZGluYXRlIHdoZXJlIHRoZSBjb250cm9sIGNlbnRlciBzaG91bGQgYmVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gY2VudGVyWSB5IGNvb3JkaW5hdGUgd2hlcmUgdGhlIGNvbnRyb2wgY2VudGVyIHNob3VsZCBiZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNUb3VjaCB0cnVlIGlmIHRvdWNoIGNvcm5lciwgZmFsc2UgaWYgbm9ybWFsIGNvcm5lclxuICAgICAqL1xuICAgIGNhbGNDb3JuZXJDb29yZHM6IGZ1bmN0aW9uKG9iamVjdEFuZ2xlLCBvYmplY3RDb3JuZXJTaXplLCBjZW50ZXJYLCBjZW50ZXJZLCBpc1RvdWNoKSB7XG4gICAgICB2YXIgY29zSGFsZk9mZnNldCxcbiAgICAgICAgICBzaW5IYWxmT2Zmc2V0LFxuICAgICAgICAgIGNvc0hhbGZPZmZzZXRDb21wLFxuICAgICAgICAgIHNpbkhhbGZPZmZzZXRDb21wLFxuICAgICAgICAgIHhTaXplID0gKGlzVG91Y2gpID8gdGhpcy50b3VjaFNpemVYIDogdGhpcy5zaXplWCxcbiAgICAgICAgICB5U2l6ZSA9IChpc1RvdWNoKSA/IHRoaXMudG91Y2hTaXplWSA6IHRoaXMuc2l6ZVk7XG4gICAgICBpZiAoeFNpemUgJiYgeVNpemUgJiYgeFNpemUgIT09IHlTaXplKSB7XG4gICAgICAgIC8vIGhhbmRsZSByZWN0YW5ndWxhciBjb3JuZXJzXG4gICAgICAgIHZhciBjb250cm9sVHJpYW5nbGVBbmdsZSA9IE1hdGguYXRhbjIoeVNpemUsIHhTaXplKTtcbiAgICAgICAgdmFyIGNvcm5lckh5cG90ZW51c2UgPSBNYXRoLnNxcnQoeFNpemUgKiB4U2l6ZSArIHlTaXplICogeVNpemUpIC8gMjtcbiAgICAgICAgdmFyIG5ld1RoZXRhID0gY29udHJvbFRyaWFuZ2xlQW5nbGUgLSBmYWJyaWMudXRpbC5kZWdyZWVzVG9SYWRpYW5zKG9iamVjdEFuZ2xlKTtcbiAgICAgICAgdmFyIG5ld1RoZXRhQ29tcCA9IE1hdGguUEkgLyAyIC0gY29udHJvbFRyaWFuZ2xlQW5nbGUgLSBmYWJyaWMudXRpbC5kZWdyZWVzVG9SYWRpYW5zKG9iamVjdEFuZ2xlKTtcbiAgICAgICAgY29zSGFsZk9mZnNldCA9IGNvcm5lckh5cG90ZW51c2UgKiBmYWJyaWMudXRpbC5jb3MobmV3VGhldGEpO1xuICAgICAgICBzaW5IYWxmT2Zmc2V0ID0gY29ybmVySHlwb3RlbnVzZSAqIGZhYnJpYy51dGlsLnNpbihuZXdUaGV0YSk7XG4gICAgICAgIC8vIHVzZSBjb21wbGVtZW50YXJ5IGFuZ2xlIGZvciB0d28gY29ybmVyc1xuICAgICAgICBjb3NIYWxmT2Zmc2V0Q29tcCA9IGNvcm5lckh5cG90ZW51c2UgKiBmYWJyaWMudXRpbC5jb3MobmV3VGhldGFDb21wKTtcbiAgICAgICAgc2luSGFsZk9mZnNldENvbXAgPSBjb3JuZXJIeXBvdGVudXNlICogZmFicmljLnV0aWwuc2luKG5ld1RoZXRhQ29tcCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgLy8gaGFuZGxlIHNxdWFyZSBjb3JuZXJzXG4gICAgICAgIC8vIHVzZSBkZWZhdWx0IG9iamVjdCBjb3JuZXIgc2l6ZSB1bmxlc3Mgc2l6ZSBpcyBkZWZpbmVkXG4gICAgICAgIHZhciBjb3JuZXJTaXplID0gKHhTaXplICYmIHlTaXplKSA/IHhTaXplIDogb2JqZWN0Q29ybmVyU2l6ZTtcbiAgICAgICAgLyogMC43MDcxMDY3ODEyIHN0YW5kcyBmb3Igc3FydCgyKS8yICovXG4gICAgICAgIGNvcm5lckh5cG90ZW51c2UgPSBjb3JuZXJTaXplICogMC43MDcxMDY3ODEyO1xuICAgICAgICAvLyBjb21wbGVtZW50YXJ5IGFuZ2xlcyBhcmUgZXF1YWwgc2luY2UgdGhleSdyZSBib3RoIDQ1IGRlZ3JlZXNcbiAgICAgICAgdmFyIG5ld1RoZXRhID0gZmFicmljLnV0aWwuZGVncmVlc1RvUmFkaWFucyg0NSAtIG9iamVjdEFuZ2xlKTtcbiAgICAgICAgY29zSGFsZk9mZnNldCA9IGNvc0hhbGZPZmZzZXRDb21wID0gY29ybmVySHlwb3RlbnVzZSAqIGZhYnJpYy51dGlsLmNvcyhuZXdUaGV0YSk7XG4gICAgICAgIHNpbkhhbGZPZmZzZXQgPSBzaW5IYWxmT2Zmc2V0Q29tcCA9IGNvcm5lckh5cG90ZW51c2UgKiBmYWJyaWMudXRpbC5zaW4obmV3VGhldGEpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0bDoge1xuICAgICAgICAgIHg6IGNlbnRlclggLSBzaW5IYWxmT2Zmc2V0Q29tcCxcbiAgICAgICAgICB5OiBjZW50ZXJZIC0gY29zSGFsZk9mZnNldENvbXAsXG4gICAgICAgIH0sXG4gICAgICAgIHRyOiB7XG4gICAgICAgICAgeDogY2VudGVyWCArIGNvc0hhbGZPZmZzZXQsXG4gICAgICAgICAgeTogY2VudGVyWSAtIHNpbkhhbGZPZmZzZXQsXG4gICAgICAgIH0sXG4gICAgICAgIGJsOiB7XG4gICAgICAgICAgeDogY2VudGVyWCAtIGNvc0hhbGZPZmZzZXQsXG4gICAgICAgICAgeTogY2VudGVyWSArIHNpbkhhbGZPZmZzZXQsXG4gICAgICAgIH0sXG4gICAgICAgIGJyOiB7XG4gICAgICAgICAgeDogY2VudGVyWCArIHNpbkhhbGZPZmZzZXRDb21wLFxuICAgICAgICAgIHk6IGNlbnRlclkgKyBjb3NIYWxmT2Zmc2V0Q29tcCxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICogUmVuZGVyIGZ1bmN0aW9uIGZvciB0aGUgY29udHJvbC5cbiAgICAqIFdoZW4gdGhpcyBmdW5jdGlvbiBydW5zIHRoZSBjb250ZXh0IGlzIHVuc2NhbGVkLiB1bnJvdGF0ZS4gSnVzdCByZXRpbmEgc2NhbGVkLlxuICAgICogYWxsIHRoZSBmdW5jdGlvbnMgd2lsbCBoYXZlIHRvIHRyYW5zbGF0ZSB0byB0aGUgcG9pbnQgbGVmdCx0b3AgYmVmb3JlIHN0YXJ0aW5nIERyYXdpbmdcbiAgICAqIGlmIHRoZXkgd2FudCB0byBkcmF3IGEgY29udHJvbCB3aGVyZSB0aGUgcG9zaXRpb24gaXMgZGV0ZWN0ZWQuXG4gICAgKiBsZWZ0IGFuZCB0b3AgYXJlIHRoZSByZXN1bHQgb2YgdGhlIHBvc2l0aW9uSGFuZGxlciBmdW5jdGlvblxuICAgICogQHBhcmFtIHtSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCB0aGUgY29udGV4dCB3aGVyZSB0aGUgY29udHJvbCB3aWxsIGJlIGRyYXduXG4gICAgKiBAcGFyYW0ge051bWJlcn0gbGVmdCBwb3NpdGlvbiBvZiB0aGUgY2FudmFzIHdoZXJlIHdlIGFyZSBhYm91dCB0byByZW5kZXIgdGhlIGNvbnRyb2wuXG4gICAgKiBAcGFyYW0ge051bWJlcn0gdG9wIHBvc2l0aW9uIG9mIHRoZSBjYW52YXMgd2hlcmUgd2UgYXJlIGFib3V0IHRvIHJlbmRlciB0aGUgY29udHJvbC5cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdHlsZU92ZXJyaWRlXG4gICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IGZhYnJpY09iamVjdCB0aGUgb2JqZWN0IHdoZXJlIHRoZSBjb250cm9sIGlzIGFib3V0IHRvIGJlIHJlbmRlcmVkXG4gICAgKi9cbiAgICByZW5kZXI6IGZ1bmN0aW9uKGN0eCwgbGVmdCwgdG9wLCBzdHlsZU92ZXJyaWRlLCBmYWJyaWNPYmplY3QpIHtcbiAgICAgIHN0eWxlT3ZlcnJpZGUgPSBzdHlsZU92ZXJyaWRlIHx8IHt9O1xuICAgICAgc3dpdGNoIChzdHlsZU92ZXJyaWRlLmNvcm5lclN0eWxlIHx8IGZhYnJpY09iamVjdC5jb3JuZXJTdHlsZSkge1xuICAgICAgICBjYXNlICdjaXJjbGUnOlxuICAgICAgICAgIGZhYnJpYy5jb250cm9sc1V0aWxzLnJlbmRlckNpcmNsZUNvbnRyb2wuY2FsbCh0aGlzLCBjdHgsIGxlZnQsIHRvcCwgc3R5bGVPdmVycmlkZSwgZmFicmljT2JqZWN0KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBmYWJyaWMuY29udHJvbHNVdGlscy5yZW5kZXJTcXVhcmVDb250cm9sLmNhbGwodGhpcywgY3R4LCBsZWZ0LCB0b3AsIHN0eWxlT3ZlcnJpZGUsIGZhYnJpY09iamVjdCk7XG4gICAgICB9XG4gICAgfSxcbiAgfTtcblxufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbigpIHtcblxuICAvKiBfRlJPTV9TVkdfU1RBUlRfICovXG4gIGZ1bmN0aW9uIGdldENvbG9yU3RvcChlbCwgbXVsdGlwbGllcikge1xuICAgIHZhciBzdHlsZSA9IGVsLmdldEF0dHJpYnV0ZSgnc3R5bGUnKSxcbiAgICAgICAgb2Zmc2V0ID0gZWwuZ2V0QXR0cmlidXRlKCdvZmZzZXQnKSB8fCAwLFxuICAgICAgICBjb2xvciwgY29sb3JBbHBoYSwgb3BhY2l0eSwgaTtcblxuICAgIC8vIGNvbnZlcnQgcGVyY2VudHMgdG8gYWJzb2x1dGUgdmFsdWVzXG4gICAgb2Zmc2V0ID0gcGFyc2VGbG9hdChvZmZzZXQpIC8gKC8lJC8udGVzdChvZmZzZXQpID8gMTAwIDogMSk7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IDwgMCA/IDAgOiBvZmZzZXQgPiAxID8gMSA6IG9mZnNldDtcbiAgICBpZiAoc3R5bGUpIHtcbiAgICAgIHZhciBrZXlWYWx1ZVBhaXJzID0gc3R5bGUuc3BsaXQoL1xccyo7XFxzKi8pO1xuXG4gICAgICBpZiAoa2V5VmFsdWVQYWlyc1trZXlWYWx1ZVBhaXJzLmxlbmd0aCAtIDFdID09PSAnJykge1xuICAgICAgICBrZXlWYWx1ZVBhaXJzLnBvcCgpO1xuICAgICAgfVxuXG4gICAgICBmb3IgKGkgPSBrZXlWYWx1ZVBhaXJzLmxlbmd0aDsgaS0tOyApIHtcblxuICAgICAgICB2YXIgc3BsaXQgPSBrZXlWYWx1ZVBhaXJzW2ldLnNwbGl0KC9cXHMqOlxccyovKSxcbiAgICAgICAgICAgIGtleSA9IHNwbGl0WzBdLnRyaW0oKSxcbiAgICAgICAgICAgIHZhbHVlID0gc3BsaXRbMV0udHJpbSgpO1xuXG4gICAgICAgIGlmIChrZXkgPT09ICdzdG9wLWNvbG9yJykge1xuICAgICAgICAgIGNvbG9yID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoa2V5ID09PSAnc3RvcC1vcGFjaXR5Jykge1xuICAgICAgICAgIG9wYWNpdHkgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghY29sb3IpIHtcbiAgICAgIGNvbG9yID0gZWwuZ2V0QXR0cmlidXRlKCdzdG9wLWNvbG9yJykgfHwgJ3JnYigwLDAsMCknO1xuICAgIH1cbiAgICBpZiAoIW9wYWNpdHkpIHtcbiAgICAgIG9wYWNpdHkgPSBlbC5nZXRBdHRyaWJ1dGUoJ3N0b3Atb3BhY2l0eScpO1xuICAgIH1cblxuICAgIGNvbG9yID0gbmV3IGZhYnJpYy5Db2xvcihjb2xvcik7XG4gICAgY29sb3JBbHBoYSA9IGNvbG9yLmdldEFscGhhKCk7XG4gICAgb3BhY2l0eSA9IGlzTmFOKHBhcnNlRmxvYXQob3BhY2l0eSkpID8gMSA6IHBhcnNlRmxvYXQob3BhY2l0eSk7XG4gICAgb3BhY2l0eSAqPSBjb2xvckFscGhhICogbXVsdGlwbGllcjtcblxuICAgIHJldHVybiB7XG4gICAgICBvZmZzZXQ6IG9mZnNldCxcbiAgICAgIGNvbG9yOiBjb2xvci50b1JnYigpLFxuICAgICAgb3BhY2l0eTogb3BhY2l0eVxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBnZXRMaW5lYXJDb29yZHMoZWwpIHtcbiAgICByZXR1cm4ge1xuICAgICAgeDE6IGVsLmdldEF0dHJpYnV0ZSgneDEnKSB8fCAwLFxuICAgICAgeTE6IGVsLmdldEF0dHJpYnV0ZSgneTEnKSB8fCAwLFxuICAgICAgeDI6IGVsLmdldEF0dHJpYnV0ZSgneDInKSB8fCAnMTAwJScsXG4gICAgICB5MjogZWwuZ2V0QXR0cmlidXRlKCd5MicpIHx8IDBcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UmFkaWFsQ29vcmRzKGVsKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHgxOiBlbC5nZXRBdHRyaWJ1dGUoJ2Z4JykgfHwgZWwuZ2V0QXR0cmlidXRlKCdjeCcpIHx8ICc1MCUnLFxuICAgICAgeTE6IGVsLmdldEF0dHJpYnV0ZSgnZnknKSB8fCBlbC5nZXRBdHRyaWJ1dGUoJ2N5JykgfHwgJzUwJScsXG4gICAgICByMTogMCxcbiAgICAgIHgyOiBlbC5nZXRBdHRyaWJ1dGUoJ2N4JykgfHwgJzUwJScsXG4gICAgICB5MjogZWwuZ2V0QXR0cmlidXRlKCdjeScpIHx8ICc1MCUnLFxuICAgICAgcjI6IGVsLmdldEF0dHJpYnV0ZSgncicpIHx8ICc1MCUnXG4gICAgfTtcbiAgfVxuICAvKiBfRlJPTV9TVkdfRU5EXyAqL1xuXG4gIHZhciBjbG9uZSA9IGZhYnJpYy51dGlsLm9iamVjdC5jbG9uZTtcblxuICAvKipcbiAgICogR3JhZGllbnQgY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5HcmFkaWVudFxuICAgKiBAdHV0b3JpYWwge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vZmFicmljLWludHJvLXBhcnQtMiNncmFkaWVudHN9XG4gICAqIEBzZWUge0BsaW5rIGZhYnJpYy5HcmFkaWVudCNpbml0aWFsaXplfSBmb3IgY29uc3RydWN0b3IgZGVmaW5pdGlvblxuICAgKi9cbiAgZmFicmljLkdyYWRpZW50ID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3MoLyoqIEBsZW5kcyBmYWJyaWMuR3JhZGllbnQucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIEhvcml6b250YWwgb2Zmc2V0IGZvciBhbGlnbmluZyBncmFkaWVudHMgY29taW5nIGZyb20gU1ZHIHdoZW4gb3V0c2lkZSBwYXRoZ3JvdXBzXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIG9mZnNldFg6IDAsXG5cbiAgICAvKipcbiAgICAgKiBWZXJ0aWNhbCBvZmZzZXQgZm9yIGFsaWduaW5nIGdyYWRpZW50cyBjb21pbmcgZnJvbSBTVkcgd2hlbiBvdXRzaWRlIHBhdGhncm91cHNcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgb2Zmc2V0WTogMCxcblxuICAgIC8qKlxuICAgICAqIEEgdHJhbnNmb3JtIG1hdHJpeCB0byBhcHBseSB0byB0aGUgZ3JhZGllbnQgYmVmb3JlIHBhaW50aW5nLlxuICAgICAqIEltcG9ydGVkIGZyb20gc3ZnIGdyYWRpZW50cywgaXMgbm90IGFwcGxpZWQgd2l0aCB0aGUgY3VycmVudCB0cmFuc2Zvcm0gaW4gdGhlIGNlbnRlci5cbiAgICAgKiBCZWZvcmUgdGhpcyB0cmFuc2Zvcm0gaXMgYXBwbGllZCwgdGhlIG9yaWdpbiBwb2ludCBpcyBhdCB0aGUgdG9wIGxlZnQgY29ybmVyIG9mIHRoZSBvYmplY3RcbiAgICAgKiBwbHVzIHRoZSBhZGRpdGlvbiBvZiBvZmZzZXRZIGFuZCBvZmZzZXRYLlxuICAgICAqIEB0eXBlIE51bWJlcltdXG4gICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAqL1xuICAgIGdyYWRpZW50VHJhbnNmb3JtOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogY29vcmRpbmF0ZXMgdW5pdHMgZm9yIGNvb3Jkcy5cbiAgICAgKiBJZiBgcGl4ZWxzYCwgdGhlIG51bWJlciBvZiBjb29yZHMgYXJlIGluIHRoZSBzYW1lIHVuaXQgb2Ygd2lkdGggLyBoZWlnaHQuXG4gICAgICogSWYgc2V0IGFzIGBwZXJjZW50YWdlYCB0aGUgY29vcmRzIGFyZSBzdGlsbCBhIG51bWJlciwgYnV0IDEgbWVhbnMgMTAwJSBvZiB3aWR0aFxuICAgICAqIGZvciB0aGUgWCBhbmQgMTAwJSBvZiB0aGUgaGVpZ2h0IGZvciB0aGUgeS4gSXQgY2FuIGJlIGJpZ2dlciB0aGFuIDEgYW5kIG5lZ2F0aXZlLlxuICAgICAqIGFsbG93ZWQgdmFsdWVzIHBpeGVscyBvciBwZXJjZW50YWdlLlxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0ICdwaXhlbHMnXG4gICAgICovXG4gICAgZ3JhZGllbnRVbml0czogJ3BpeGVscycsXG5cbiAgICAvKipcbiAgICAgKiBHcmFkaWVudCB0eXBlIGxpbmVhciBvciByYWRpYWxcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdCAncGl4ZWxzJ1xuICAgICAqL1xuICAgIHR5cGU6ICdsaW5lYXInLFxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBPcHRpb25zIG9iamVjdCB3aXRoIHR5cGUsIGNvb3JkcywgZ3JhZGllbnRVbml0cyBhbmQgY29sb3JTdG9wc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy50eXBlXSBncmFkaWVudCB0eXBlIGxpbmVhciBvciByYWRpYWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuZ3JhZGllbnRVbml0c10gZ3JhZGllbnQgdW5pdHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMub2Zmc2V0WF0gU1ZHIGltcG9ydCBjb21wYXRpYmlsaXR5XG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLm9mZnNldFldIFNWRyBpbXBvcnQgY29tcGF0aWJpbGl0eVxuICAgICAqIEBwYXJhbSB7T2JqZWN0W119IG9wdGlvbnMuY29sb3JTdG9wcyBjb250YWlucyB0aGUgY29sb3JzdG9wcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucy5jb29yZHMgY29udGFpbnMgdGhlIGNvb3JkcyBvZiB0aGUgZ3JhZGllbnRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuY29vcmRzLngxXSBYIGNvb3JkaWFudGUgb2YgdGhlIGZpcnN0IHBvaW50IGZvciBsaW5lYXIgb3Igb2YgdGhlIGZvY2FsIHBvaW50IGZvciByYWRpYWxcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuY29vcmRzLnkxXSBZIGNvb3JkaWFudGUgb2YgdGhlIGZpcnN0IHBvaW50IGZvciBsaW5lYXIgb3Igb2YgdGhlIGZvY2FsIHBvaW50IGZvciByYWRpYWxcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuY29vcmRzLngyXSBYIGNvb3JkaWFudGUgb2YgdGhlIHNlY29uZCBwb2ludCBmb3IgbGluZWFyIG9yIG9mIHRoZSBjZW50ZXIgcG9pbnQgZm9yIHJhZGlhbFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5jb29yZHMueTJdIFkgY29vcmRpYW50ZSBvZiB0aGUgc2Vjb25kIHBvaW50IGZvciBsaW5lYXIgb3Igb2YgdGhlIGNlbnRlciBwb2ludCBmb3IgcmFkaWFsXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmNvb3Jkcy5yMV0gb25seSBmb3IgcmFkaWFsIGdyYWRpZW50LCByYWRpdXMgb2YgdGhlIGlubmVyIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5jb29yZHMucjJdIG9ubHkgZm9yIHJhZGlhbCBncmFkaWVudCwgcmFkaXVzIG9mIHRoZSBleHRlcm5hbCBjaXJjbGVcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuR3JhZGllbnR9IHRoaXNBcmdcbiAgICAgKi9cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBvcHRpb25zIHx8IChvcHRpb25zID0geyB9KTtcbiAgICAgIG9wdGlvbnMuY29vcmRzIHx8IChvcHRpb25zLmNvb3JkcyA9IHsgfSk7XG5cbiAgICAgIHZhciBjb29yZHMsIF90aGlzID0gdGhpcztcblxuICAgICAgLy8gc2V0cyBldmVyeXRoaW5nLCB0aGVuIGNvb3JkcyBhbmQgY29sb3JzdG9wcyBnZXQgc2V0cyBhZ2FpblxuICAgICAgT2JqZWN0LmtleXMob3B0aW9ucykuZm9yRWFjaChmdW5jdGlvbihvcHRpb24pIHtcbiAgICAgICAgX3RoaXNbb3B0aW9uXSA9IG9wdGlvbnNbb3B0aW9uXTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAodGhpcy5pZCkge1xuICAgICAgICB0aGlzLmlkICs9ICdfJyArIGZhYnJpYy5PYmplY3QuX191aWQrKztcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLmlkID0gZmFicmljLk9iamVjdC5fX3VpZCsrO1xuICAgICAgfVxuXG4gICAgICBjb29yZHMgPSB7XG4gICAgICAgIHgxOiBvcHRpb25zLmNvb3Jkcy54MSB8fCAwLFxuICAgICAgICB5MTogb3B0aW9ucy5jb29yZHMueTEgfHwgMCxcbiAgICAgICAgeDI6IG9wdGlvbnMuY29vcmRzLngyIHx8IDAsXG4gICAgICAgIHkyOiBvcHRpb25zLmNvb3Jkcy55MiB8fCAwXG4gICAgICB9O1xuXG4gICAgICBpZiAodGhpcy50eXBlID09PSAncmFkaWFsJykge1xuICAgICAgICBjb29yZHMucjEgPSBvcHRpb25zLmNvb3Jkcy5yMSB8fCAwO1xuICAgICAgICBjb29yZHMucjIgPSBvcHRpb25zLmNvb3Jkcy5yMiB8fCAwO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmNvb3JkcyA9IGNvb3JkcztcbiAgICAgIHRoaXMuY29sb3JTdG9wcyA9IG9wdGlvbnMuY29sb3JTdG9wcy5zbGljZSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGFub3RoZXIgY29sb3JTdG9wXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNvbG9yU3RvcCBPYmplY3Qgd2l0aCBvZmZzZXQgYW5kIGNvbG9yXG4gICAgICogQHJldHVybiB7ZmFicmljLkdyYWRpZW50fSB0aGlzQXJnXG4gICAgICovXG4gICAgYWRkQ29sb3JTdG9wOiBmdW5jdGlvbihjb2xvclN0b3BzKSB7XG4gICAgICBmb3IgKHZhciBwb3NpdGlvbiBpbiBjb2xvclN0b3BzKSB7XG4gICAgICAgIHZhciBjb2xvciA9IG5ldyBmYWJyaWMuQ29sb3IoY29sb3JTdG9wc1twb3NpdGlvbl0pO1xuICAgICAgICB0aGlzLmNvbG9yU3RvcHMucHVzaCh7XG4gICAgICAgICAgb2Zmc2V0OiBwYXJzZUZsb2F0KHBvc2l0aW9uKSxcbiAgICAgICAgICBjb2xvcjogY29sb3IudG9SZ2IoKSxcbiAgICAgICAgICBvcGFjaXR5OiBjb2xvci5nZXRBbHBoYSgpXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGEgZ3JhZGllbnRcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcGVydGllc1RvSW5jbHVkZV0gQW55IHByb3BlcnRpZXMgdGhhdCB5b3UgbWlnaHQgd2FudCB0byBhZGRpdGlvbmFsbHkgaW5jbHVkZSBpbiB0aGUgb3V0cHV0XG4gICAgICogQHJldHVybiB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRvT2JqZWN0OiBmdW5jdGlvbihwcm9wZXJ0aWVzVG9JbmNsdWRlKSB7XG4gICAgICB2YXIgb2JqZWN0ID0ge1xuICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgIGNvb3JkczogdGhpcy5jb29yZHMsXG4gICAgICAgIGNvbG9yU3RvcHM6IHRoaXMuY29sb3JTdG9wcyxcbiAgICAgICAgb2Zmc2V0WDogdGhpcy5vZmZzZXRYLFxuICAgICAgICBvZmZzZXRZOiB0aGlzLm9mZnNldFksXG4gICAgICAgIGdyYWRpZW50VW5pdHM6IHRoaXMuZ3JhZGllbnRVbml0cyxcbiAgICAgICAgZ3JhZGllbnRUcmFuc2Zvcm06IHRoaXMuZ3JhZGllbnRUcmFuc2Zvcm0gPyB0aGlzLmdyYWRpZW50VHJhbnNmb3JtLmNvbmNhdCgpIDogdGhpcy5ncmFkaWVudFRyYW5zZm9ybVxuICAgICAgfTtcbiAgICAgIGZhYnJpYy51dGlsLnBvcHVsYXRlV2l0aFByb3BlcnRpZXModGhpcywgb2JqZWN0LCBwcm9wZXJ0aWVzVG9JbmNsdWRlKTtcblxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9LFxuXG4gICAgLyogX1RPX1NWR19TVEFSVF8gKi9cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIFNWRyByZXByZXNlbnRhdGlvbiBvZiBhbiBncmFkaWVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNyZWF0ZSBhIGdyYWRpZW50IGZvclxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gU1ZHIHJlcHJlc2VudGF0aW9uIG9mIGFuIGdyYWRpZW50IChsaW5lYXIvcmFkaWFsKVxuICAgICAqL1xuICAgIHRvU1ZHOiBmdW5jdGlvbihvYmplY3QsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBjb29yZHMgPSBjbG9uZSh0aGlzLmNvb3JkcywgdHJ1ZSksIGksIGxlbiwgb3B0aW9ucyA9IG9wdGlvbnMgfHwge30sXG4gICAgICAgICAgbWFya3VwLCBjb21tb25BdHRyaWJ1dGVzLCBjb2xvclN0b3BzID0gY2xvbmUodGhpcy5jb2xvclN0b3BzLCB0cnVlKSxcbiAgICAgICAgICBuZWVkc1N3YXAgPSBjb29yZHMucjEgPiBjb29yZHMucjIsXG4gICAgICAgICAgdHJhbnNmb3JtID0gdGhpcy5ncmFkaWVudFRyYW5zZm9ybSA/IHRoaXMuZ3JhZGllbnRUcmFuc2Zvcm0uY29uY2F0KCkgOiBmYWJyaWMuaU1hdHJpeC5jb25jYXQoKSxcbiAgICAgICAgICBvZmZzZXRYID0gLXRoaXMub2Zmc2V0WCwgb2Zmc2V0WSA9IC10aGlzLm9mZnNldFksXG4gICAgICAgICAgd2l0aFZpZXdwb3J0ID0gISFvcHRpb25zLmFkZGl0aW9uYWxUcmFuc2Zvcm0sXG4gICAgICAgICAgZ3JhZGllbnRVbml0cyA9IHRoaXMuZ3JhZGllbnRVbml0cyA9PT0gJ3BpeGVscycgPyAndXNlclNwYWNlT25Vc2UnIDogJ29iamVjdEJvdW5kaW5nQm94JztcbiAgICAgIC8vIGNvbG9yU3RvcHMgbXVzdCBiZSBzb3J0ZWQgYXNjZW5kaW5nXG4gICAgICBjb2xvclN0b3BzLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgICAgICByZXR1cm4gYS5vZmZzZXQgLSBiLm9mZnNldDtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoZ3JhZGllbnRVbml0cyA9PT0gJ29iamVjdEJvdW5kaW5nQm94Jykge1xuICAgICAgICBvZmZzZXRYIC89IG9iamVjdC53aWR0aDtcbiAgICAgICAgb2Zmc2V0WSAvPSBvYmplY3QuaGVpZ2h0O1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIG9mZnNldFggKz0gb2JqZWN0LndpZHRoIC8gMjtcbiAgICAgICAgb2Zmc2V0WSArPSBvYmplY3QuaGVpZ2h0IC8gMjtcbiAgICAgIH1cbiAgICAgIGlmIChvYmplY3QudHlwZSA9PT0gJ3BhdGgnICYmIHRoaXMuZ3JhZGllbnRVbml0cyAhPT0gJ3BlcmNlbnRhZ2UnKSB7XG4gICAgICAgIG9mZnNldFggLT0gb2JqZWN0LnBhdGhPZmZzZXQueDtcbiAgICAgICAgb2Zmc2V0WSAtPSBvYmplY3QucGF0aE9mZnNldC55O1xuICAgICAgfVxuXG5cbiAgICAgIHRyYW5zZm9ybVs0XSAtPSBvZmZzZXRYO1xuICAgICAgdHJhbnNmb3JtWzVdIC09IG9mZnNldFk7XG5cbiAgICAgIGNvbW1vbkF0dHJpYnV0ZXMgPSAnaWQ9XCJTVkdJRF8nICsgdGhpcy5pZCArXG4gICAgICAgICAgICAgICAgICAgICAnXCIgZ3JhZGllbnRVbml0cz1cIicgKyBncmFkaWVudFVuaXRzICsgJ1wiJztcbiAgICAgIGNvbW1vbkF0dHJpYnV0ZXMgKz0gJyBncmFkaWVudFRyYW5zZm9ybT1cIicgKyAod2l0aFZpZXdwb3J0ID9cbiAgICAgICAgb3B0aW9ucy5hZGRpdGlvbmFsVHJhbnNmb3JtICsgJyAnIDogJycpICsgZmFicmljLnV0aWwubWF0cml4VG9TVkcodHJhbnNmb3JtKSArICdcIiAnO1xuXG4gICAgICBpZiAodGhpcy50eXBlID09PSAnbGluZWFyJykge1xuICAgICAgICBtYXJrdXAgPSBbXG4gICAgICAgICAgJzxsaW5lYXJHcmFkaWVudCAnLFxuICAgICAgICAgIGNvbW1vbkF0dHJpYnV0ZXMsXG4gICAgICAgICAgJyB4MT1cIicsIGNvb3Jkcy54MSxcbiAgICAgICAgICAnXCIgeTE9XCInLCBjb29yZHMueTEsXG4gICAgICAgICAgJ1wiIHgyPVwiJywgY29vcmRzLngyLFxuICAgICAgICAgICdcIiB5Mj1cIicsIGNvb3Jkcy55MixcbiAgICAgICAgICAnXCI+XFxuJ1xuICAgICAgICBdO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodGhpcy50eXBlID09PSAncmFkaWFsJykge1xuICAgICAgICAvLyBzdmcgcmFkaWFsIGdyYWRpZW50IGhhcyBqdXN0IDEgcmFkaXVzLiB0aGUgYmlnZ2VzdC5cbiAgICAgICAgbWFya3VwID0gW1xuICAgICAgICAgICc8cmFkaWFsR3JhZGllbnQgJyxcbiAgICAgICAgICBjb21tb25BdHRyaWJ1dGVzLFxuICAgICAgICAgICcgY3g9XCInLCBuZWVkc1N3YXAgPyBjb29yZHMueDEgOiBjb29yZHMueDIsXG4gICAgICAgICAgJ1wiIGN5PVwiJywgbmVlZHNTd2FwID8gY29vcmRzLnkxIDogY29vcmRzLnkyLFxuICAgICAgICAgICdcIiByPVwiJywgbmVlZHNTd2FwID8gY29vcmRzLnIxIDogY29vcmRzLnIyLFxuICAgICAgICAgICdcIiBmeD1cIicsIG5lZWRzU3dhcCA/IGNvb3Jkcy54MiA6IGNvb3Jkcy54MSxcbiAgICAgICAgICAnXCIgZnk9XCInLCBuZWVkc1N3YXAgPyBjb29yZHMueTIgOiBjb29yZHMueTEsXG4gICAgICAgICAgJ1wiPlxcbidcbiAgICAgICAgXTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMudHlwZSA9PT0gJ3JhZGlhbCcpIHtcbiAgICAgICAgaWYgKG5lZWRzU3dhcCkge1xuICAgICAgICAgIC8vIHN2ZyBnb2VzIGZyb20gaW50ZXJuYWwgdG8gZXh0ZXJuYWwgcmFkaXVzLiBpZiByYWRpdXMgYXJlIGludmVydGVkLCBzd2FwIGNvbG9yIHN0b3BzLlxuICAgICAgICAgIGNvbG9yU3RvcHMgPSBjb2xvclN0b3BzLmNvbmNhdCgpO1xuICAgICAgICAgIGNvbG9yU3RvcHMucmV2ZXJzZSgpO1xuICAgICAgICAgIGZvciAoaSA9IDAsIGxlbiA9IGNvbG9yU3RvcHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGNvbG9yU3RvcHNbaV0ub2Zmc2V0ID0gMSAtIGNvbG9yU3RvcHNbaV0ub2Zmc2V0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgbWluUmFkaXVzID0gTWF0aC5taW4oY29vcmRzLnIxLCBjb29yZHMucjIpO1xuICAgICAgICBpZiAobWluUmFkaXVzID4gMCkge1xuICAgICAgICAgIC8vIGkgaGF2ZSB0byBzaGlmdCBhbGwgY29sb3JTdG9wcyBhbmQgYWRkIG5ldyBvbmUgaW4gMC5cbiAgICAgICAgICB2YXIgbWF4UmFkaXVzID0gTWF0aC5tYXgoY29vcmRzLnIxLCBjb29yZHMucjIpLFxuICAgICAgICAgICAgICBwZXJjZW50YWdlU2hpZnQgPSBtaW5SYWRpdXMgLyBtYXhSYWRpdXM7XG4gICAgICAgICAgZm9yIChpID0gMCwgbGVuID0gY29sb3JTdG9wcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgY29sb3JTdG9wc1tpXS5vZmZzZXQgKz0gcGVyY2VudGFnZVNoaWZ0ICogKDEgLSBjb2xvclN0b3BzW2ldLm9mZnNldCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZvciAoaSA9IDAsIGxlbiA9IGNvbG9yU3RvcHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIGNvbG9yU3RvcCA9IGNvbG9yU3RvcHNbaV07XG4gICAgICAgIG1hcmt1cC5wdXNoKFxuICAgICAgICAgICc8c3RvcCAnLFxuICAgICAgICAgICdvZmZzZXQ9XCInLCAoY29sb3JTdG9wLm9mZnNldCAqIDEwMCkgKyAnJScsXG4gICAgICAgICAgJ1wiIHN0eWxlPVwic3RvcC1jb2xvcjonLCBjb2xvclN0b3AuY29sb3IsXG4gICAgICAgICAgKHR5cGVvZiBjb2xvclN0b3Aub3BhY2l0eSAhPT0gJ3VuZGVmaW5lZCcgPyAnO3N0b3Atb3BhY2l0eTogJyArIGNvbG9yU3RvcC5vcGFjaXR5IDogJzsnKSxcbiAgICAgICAgICAnXCIvPlxcbidcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgbWFya3VwLnB1c2goKHRoaXMudHlwZSA9PT0gJ2xpbmVhcicgPyAnPC9saW5lYXJHcmFkaWVudD5cXG4nIDogJzwvcmFkaWFsR3JhZGllbnQ+XFxuJykpO1xuXG4gICAgICByZXR1cm4gbWFya3VwLmpvaW4oJycpO1xuICAgIH0sXG4gICAgLyogX1RPX1NWR19FTkRfICovXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGluc3RhbmNlIG9mIENhbnZhc0dyYWRpZW50XG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqIEByZXR1cm4ge0NhbnZhc0dyYWRpZW50fVxuICAgICAqL1xuICAgIHRvTGl2ZTogZnVuY3Rpb24oY3R4KSB7XG4gICAgICB2YXIgZ3JhZGllbnQsIGNvb3JkcyA9IGZhYnJpYy51dGlsLm9iamVjdC5jbG9uZSh0aGlzLmNvb3JkcyksIGksIGxlbjtcblxuICAgICAgaWYgKCF0aGlzLnR5cGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy50eXBlID09PSAnbGluZWFyJykge1xuICAgICAgICBncmFkaWVudCA9IGN0eC5jcmVhdGVMaW5lYXJHcmFkaWVudChcbiAgICAgICAgICBjb29yZHMueDEsIGNvb3Jkcy55MSwgY29vcmRzLngyLCBjb29yZHMueTIpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodGhpcy50eXBlID09PSAncmFkaWFsJykge1xuICAgICAgICBncmFkaWVudCA9IGN0eC5jcmVhdGVSYWRpYWxHcmFkaWVudChcbiAgICAgICAgICBjb29yZHMueDEsIGNvb3Jkcy55MSwgY29vcmRzLnIxLCBjb29yZHMueDIsIGNvb3Jkcy55MiwgY29vcmRzLnIyKTtcbiAgICAgIH1cblxuICAgICAgZm9yIChpID0gMCwgbGVuID0gdGhpcy5jb2xvclN0b3BzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciBjb2xvciA9IHRoaXMuY29sb3JTdG9wc1tpXS5jb2xvcixcbiAgICAgICAgICAgIG9wYWNpdHkgPSB0aGlzLmNvbG9yU3RvcHNbaV0ub3BhY2l0eSxcbiAgICAgICAgICAgIG9mZnNldCA9IHRoaXMuY29sb3JTdG9wc1tpXS5vZmZzZXQ7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBvcGFjaXR5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGNvbG9yID0gbmV3IGZhYnJpYy5Db2xvcihjb2xvcikuc2V0QWxwaGEob3BhY2l0eSkudG9SZ2JhKCk7XG4gICAgICAgIH1cbiAgICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKG9mZnNldCwgY29sb3IpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ3JhZGllbnQ7XG4gICAgfVxuICB9KTtcblxuICBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kKGZhYnJpYy5HcmFkaWVudCwge1xuXG4gICAgLyogX0ZST01fU1ZHX1NUQVJUXyAqL1xuICAgIC8qKlxuICAgICAqIFJldHVybnMge0BsaW5rIGZhYnJpYy5HcmFkaWVudH0gaW5zdGFuY2UgZnJvbSBhbiBTVkcgZWxlbWVudFxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLkdyYWRpZW50XG4gICAgICogQHBhcmFtIHtTVkdHcmFkaWVudEVsZW1lbnR9IGVsIFNWRyBncmFkaWVudCBlbGVtZW50XG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvcGFjaXR5QXR0ciBBIGZpbGwtb3BhY2l0eSBvciBzdHJva2Utb3BhY2l0eSBhdHRyaWJ1dGUgdG8gbXVsdGlwbHkgdG8gZWFjaCBzdG9wJ3Mgb3BhY2l0eS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3ZnT3B0aW9ucyBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc2l6ZSBvZiB0aGUgU1ZHIGluIG9yZGVyIHRvIHBhcnNlIGNvcnJlY3RseSBncmFkaWVudHNcbiAgICAgKiB0aGF0IHVzZXMgZ3JhZGllbnRVbml0cyBhcyAndXNlclNwYWNlT25Vc2UnIGFuZCBwZXJjZW50YWdlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdC5udW1iZXJ9IHZpZXdCb3hXaWR0aCB3aWR0aCBwYXJ0IG9mIHRoZSB2aWV3Qm94IGF0dHJpYnV0ZSBvbiBzdmdcbiAgICAgKiBAcGFyYW0ge09iamVjdC5udW1iZXJ9IHZpZXdCb3hIZWlnaHQgaGVpZ2h0IHBhcnQgb2YgdGhlIHZpZXdCb3ggYXR0cmlidXRlIG9uIHN2Z1xuICAgICAqIEBwYXJhbSB7T2JqZWN0Lm51bWJlcn0gd2lkdGggd2lkdGggcGFydCBvZiB0aGUgc3ZnIHRhZyBpZiB2aWV3Qm94IGlzIG5vdCBzcGVjaWZpZWRcbiAgICAgKiBAcGFyYW0ge09iamVjdC5udW1iZXJ9IGhlaWdodCBoZWlnaHQgcGFydCBvZiB0aGUgc3ZnIHRhZyBpZiB2aWV3Qm94IGlzIG5vdCBzcGVjaWZpZWRcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuR3JhZGllbnR9IEdyYWRpZW50IGluc3RhbmNlXG4gICAgICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcvcHNlcnZlcnMuaHRtbCNMaW5lYXJHcmFkaWVudEVsZW1lbnRcbiAgICAgKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL1NWRy9wc2VydmVycy5odG1sI1JhZGlhbEdyYWRpZW50RWxlbWVudFxuICAgICAqL1xuICAgIGZyb21FbGVtZW50OiBmdW5jdGlvbihlbCwgaW5zdGFuY2UsIG9wYWNpdHlBdHRyLCBzdmdPcHRpb25zKSB7XG4gICAgICAvKipcbiAgICAgICAqICBAZXhhbXBsZTpcbiAgICAgICAqXG4gICAgICAgKiAgPGxpbmVhckdyYWRpZW50IGlkPVwibGluZWFyR3JhZDFcIj5cbiAgICAgICAqICAgIDxzdG9wIG9mZnNldD1cIjAlXCIgc3RvcC1jb2xvcj1cIndoaXRlXCIvPlxuICAgICAgICogICAgPHN0b3Agb2Zmc2V0PVwiMTAwJVwiIHN0b3AtY29sb3I9XCJibGFja1wiLz5cbiAgICAgICAqICA8L2xpbmVhckdyYWRpZW50PlxuICAgICAgICpcbiAgICAgICAqICBPUlxuICAgICAgICpcbiAgICAgICAqICA8bGluZWFyR3JhZGllbnQgaWQ9XCJsaW5lYXJHcmFkMlwiPlxuICAgICAgICogICAgPHN0b3Agb2Zmc2V0PVwiMFwiIHN0eWxlPVwic3RvcC1jb2xvcjpyZ2IoMjU1LDI1NSwyNTUpXCIvPlxuICAgICAgICogICAgPHN0b3Agb2Zmc2V0PVwiMVwiIHN0eWxlPVwic3RvcC1jb2xvcjpyZ2IoMCwwLDApXCIvPlxuICAgICAgICogIDwvbGluZWFyR3JhZGllbnQ+XG4gICAgICAgKlxuICAgICAgICogIE9SXG4gICAgICAgKlxuICAgICAgICogIDxyYWRpYWxHcmFkaWVudCBpZD1cInJhZGlhbEdyYWQxXCI+XG4gICAgICAgKiAgICA8c3RvcCBvZmZzZXQ9XCIwJVwiIHN0b3AtY29sb3I9XCJ3aGl0ZVwiIHN0b3Atb3BhY2l0eT1cIjFcIiAvPlxuICAgICAgICogICAgPHN0b3Agb2Zmc2V0PVwiNTAlXCIgc3RvcC1jb2xvcj1cImJsYWNrXCIgc3RvcC1vcGFjaXR5PVwiMC41XCIgLz5cbiAgICAgICAqICAgIDxzdG9wIG9mZnNldD1cIjEwMCVcIiBzdG9wLWNvbG9yPVwid2hpdGVcIiBzdG9wLW9wYWNpdHk9XCIxXCIgLz5cbiAgICAgICAqICA8L3JhZGlhbEdyYWRpZW50PlxuICAgICAgICpcbiAgICAgICAqICBPUlxuICAgICAgICpcbiAgICAgICAqICA8cmFkaWFsR3JhZGllbnQgaWQ9XCJyYWRpYWxHcmFkMlwiPlxuICAgICAgICogICAgPHN0b3Agb2Zmc2V0PVwiMFwiIHN0b3AtY29sb3I9XCJyZ2IoMjU1LDI1NSwyNTUpXCIgLz5cbiAgICAgICAqICAgIDxzdG9wIG9mZnNldD1cIjAuNVwiIHN0b3AtY29sb3I9XCJyZ2IoMCwwLDApXCIgLz5cbiAgICAgICAqICAgIDxzdG9wIG9mZnNldD1cIjFcIiBzdG9wLWNvbG9yPVwicmdiKDI1NSwyNTUsMjU1KVwiIC8+XG4gICAgICAgKiAgPC9yYWRpYWxHcmFkaWVudD5cbiAgICAgICAqXG4gICAgICAgKi9cblxuICAgICAgdmFyIG11bHRpcGxpZXIgPSBwYXJzZUZsb2F0KG9wYWNpdHlBdHRyKSAvICgvJSQvLnRlc3Qob3BhY2l0eUF0dHIpID8gMTAwIDogMSk7XG4gICAgICBtdWx0aXBsaWVyID0gbXVsdGlwbGllciA8IDAgPyAwIDogbXVsdGlwbGllciA+IDEgPyAxIDogbXVsdGlwbGllcjtcbiAgICAgIGlmIChpc05hTihtdWx0aXBsaWVyKSkge1xuICAgICAgICBtdWx0aXBsaWVyID0gMTtcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbG9yU3RvcEVscyA9IGVsLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzdG9wJyksXG4gICAgICAgICAgdHlwZSxcbiAgICAgICAgICBncmFkaWVudFVuaXRzID0gZWwuZ2V0QXR0cmlidXRlKCdncmFkaWVudFVuaXRzJykgPT09ICd1c2VyU3BhY2VPblVzZScgP1xuICAgICAgICAgICAgJ3BpeGVscycgOiAncGVyY2VudGFnZScsXG4gICAgICAgICAgZ3JhZGllbnRUcmFuc2Zvcm0gPSBlbC5nZXRBdHRyaWJ1dGUoJ2dyYWRpZW50VHJhbnNmb3JtJykgfHwgJycsXG4gICAgICAgICAgY29sb3JTdG9wcyA9IFtdLFxuICAgICAgICAgIGNvb3JkcywgaSwgb2Zmc2V0WCA9IDAsIG9mZnNldFkgPSAwLFxuICAgICAgICAgIHRyYW5zZm9ybU1hdHJpeDtcbiAgICAgIGlmIChlbC5ub2RlTmFtZSA9PT0gJ2xpbmVhckdyYWRpZW50JyB8fCBlbC5ub2RlTmFtZSA9PT0gJ0xJTkVBUkdSQURJRU5UJykge1xuICAgICAgICB0eXBlID0gJ2xpbmVhcic7XG4gICAgICAgIGNvb3JkcyA9IGdldExpbmVhckNvb3JkcyhlbCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdHlwZSA9ICdyYWRpYWwnO1xuICAgICAgICBjb29yZHMgPSBnZXRSYWRpYWxDb29yZHMoZWwpO1xuICAgICAgfVxuXG4gICAgICBmb3IgKGkgPSBjb2xvclN0b3BFbHMubGVuZ3RoOyBpLS07ICkge1xuICAgICAgICBjb2xvclN0b3BzLnB1c2goZ2V0Q29sb3JTdG9wKGNvbG9yU3RvcEVsc1tpXSwgbXVsdGlwbGllcikpO1xuICAgICAgfVxuXG4gICAgICB0cmFuc2Zvcm1NYXRyaXggPSBmYWJyaWMucGFyc2VUcmFuc2Zvcm1BdHRyaWJ1dGUoZ3JhZGllbnRUcmFuc2Zvcm0pO1xuXG4gICAgICBfX2NvbnZlcnRQZXJjZW50VW5pdHNUb1ZhbHVlcyhpbnN0YW5jZSwgY29vcmRzLCBzdmdPcHRpb25zLCBncmFkaWVudFVuaXRzKTtcblxuICAgICAgaWYgKGdyYWRpZW50VW5pdHMgPT09ICdwaXhlbHMnKSB7XG4gICAgICAgIG9mZnNldFggPSAtaW5zdGFuY2UubGVmdDtcbiAgICAgICAgb2Zmc2V0WSA9IC1pbnN0YW5jZS50b3A7XG4gICAgICB9XG5cbiAgICAgIHZhciBncmFkaWVudCA9IG5ldyBmYWJyaWMuR3JhZGllbnQoe1xuICAgICAgICBpZDogZWwuZ2V0QXR0cmlidXRlKCdpZCcpLFxuICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICBjb29yZHM6IGNvb3JkcyxcbiAgICAgICAgY29sb3JTdG9wczogY29sb3JTdG9wcyxcbiAgICAgICAgZ3JhZGllbnRVbml0czogZ3JhZGllbnRVbml0cyxcbiAgICAgICAgZ3JhZGllbnRUcmFuc2Zvcm06IHRyYW5zZm9ybU1hdHJpeCxcbiAgICAgICAgb2Zmc2V0WDogb2Zmc2V0WCxcbiAgICAgICAgb2Zmc2V0WTogb2Zmc2V0WSxcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gZ3JhZGllbnQ7XG4gICAgfVxuICAgIC8qIF9GUk9NX1NWR19FTkRfICovXG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gX19jb252ZXJ0UGVyY2VudFVuaXRzVG9WYWx1ZXMoaW5zdGFuY2UsIG9wdGlvbnMsIHN2Z09wdGlvbnMsIGdyYWRpZW50VW5pdHMpIHtcbiAgICB2YXIgcHJvcFZhbHVlLCBmaW5hbFZhbHVlO1xuICAgIE9iamVjdC5rZXlzKG9wdGlvbnMpLmZvckVhY2goZnVuY3Rpb24ocHJvcCkge1xuICAgICAgcHJvcFZhbHVlID0gb3B0aW9uc1twcm9wXTtcbiAgICAgIGlmIChwcm9wVmFsdWUgPT09ICdJbmZpbml0eScpIHtcbiAgICAgICAgZmluYWxWYWx1ZSA9IDE7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChwcm9wVmFsdWUgPT09ICctSW5maW5pdHknKSB7XG4gICAgICAgIGZpbmFsVmFsdWUgPSAwO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGZpbmFsVmFsdWUgPSBwYXJzZUZsb2F0KG9wdGlvbnNbcHJvcF0sIDEwKTtcbiAgICAgICAgaWYgKHR5cGVvZiBwcm9wVmFsdWUgPT09ICdzdHJpbmcnICYmIC9eKFxcZCtcXC5cXGQrKSV8KFxcZCspJSQvLnRlc3QocHJvcFZhbHVlKSkge1xuICAgICAgICAgIGZpbmFsVmFsdWUgKj0gMC4wMTtcbiAgICAgICAgICBpZiAoZ3JhZGllbnRVbml0cyA9PT0gJ3BpeGVscycpIHtcbiAgICAgICAgICAgIC8vIHRoZW4gd2UgbmVlZCB0byBmaXggdGhvc2UgcGVyY2VudGFnZXMgaGVyZSBpbiBzdmcgcGFyc2luZ1xuICAgICAgICAgICAgaWYgKHByb3AgPT09ICd4MScgfHwgcHJvcCA9PT0gJ3gyJyB8fCBwcm9wID09PSAncjInKSB7XG4gICAgICAgICAgICAgIGZpbmFsVmFsdWUgKj0gc3ZnT3B0aW9ucy52aWV3Qm94V2lkdGggfHwgc3ZnT3B0aW9ucy53aWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwcm9wID09PSAneTEnIHx8IHByb3AgPT09ICd5MicpIHtcbiAgICAgICAgICAgICAgZmluYWxWYWx1ZSAqPSBzdmdPcHRpb25zLnZpZXdCb3hIZWlnaHQgfHwgc3ZnT3B0aW9ucy5oZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBvcHRpb25zW3Byb3BdID0gZmluYWxWYWx1ZTtcbiAgICB9KTtcbiAgfVxufSkoKTtcblxuXG4oZnVuY3Rpb24oKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciB0b0ZpeGVkID0gZmFicmljLnV0aWwudG9GaXhlZDtcblxuICAvKipcbiAgICogUGF0dGVybiBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLlBhdHRlcm5cbiAgICogQHNlZSB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9wYXR0ZXJuc3xQYXR0ZXJuIGRlbW99XG4gICAqIEBzZWUge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vZHluYW1pYy1wYXR0ZXJuc3xEeW5hbWljUGF0dGVybiBkZW1vfVxuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuUGF0dGVybiNpbml0aWFsaXplfSBmb3IgY29uc3RydWN0b3IgZGVmaW5pdGlvblxuICAgKi9cblxuXG4gIGZhYnJpYy5QYXR0ZXJuID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3MoLyoqIEBsZW5kcyBmYWJyaWMuUGF0dGVybi5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogUmVwZWF0IHByb3BlcnR5IG9mIGEgcGF0dGVybiAob25lIG9mIHJlcGVhdCwgcmVwZWF0LXgsIHJlcGVhdC15IG9yIG5vLXJlcGVhdClcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHJlcGVhdDogJ3JlcGVhdCcsXG5cbiAgICAvKipcbiAgICAgKiBQYXR0ZXJuIGhvcml6b250YWwgb2Zmc2V0IGZyb20gb2JqZWN0J3MgbGVmdC90b3AgY29ybmVyXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBvZmZzZXRYOiAwLFxuXG4gICAgLyoqXG4gICAgICogUGF0dGVybiB2ZXJ0aWNhbCBvZmZzZXQgZnJvbSBvYmplY3QncyBsZWZ0L3RvcCBjb3JuZXJcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIG9mZnNldFk6IDAsXG5cbiAgICAvKipcbiAgICAgKiBjcm9zc09yaWdpbiB2YWx1ZSAob25lIG9mIFwiXCIsIFwiYW5vbnltb3VzXCIsIFwidXNlLWNyZWRlbnRpYWxzXCIpXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0hUTUwvQ09SU19zZXR0aW5nc19hdHRyaWJ1dGVzXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBjcm9zc09yaWdpbjogJycsXG5cbiAgICAvKipcbiAgICAgKiB0cmFuc2Zvcm0gbWF0cml4IHRvIGNoYW5nZSB0aGUgcGF0dGVybiwgaW1wb3J0ZWQgZnJvbSBzdmdzLlxuICAgICAqIEB0eXBlIEFycmF5XG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBwYXR0ZXJuVHJhbnNmb3JtOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBmdW5jdGlvbiB0byBpbnZva2UgYWZ0ZXIgY2FsbGJhY2sgaW5pdC5cbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUGF0dGVybn0gdGhpc0FyZ1xuICAgICAqL1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgICBvcHRpb25zIHx8IChvcHRpb25zID0geyB9KTtcblxuICAgICAgdGhpcy5pZCA9IGZhYnJpYy5PYmplY3QuX191aWQrKztcbiAgICAgIHRoaXMuc2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgICAgIGlmICghb3B0aW9ucy5zb3VyY2UgfHwgKG9wdGlvbnMuc291cmNlICYmIHR5cGVvZiBvcHRpb25zLnNvdXJjZSAhPT0gJ3N0cmluZycpKSB7XG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKHRoaXMpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgLy8gaW1nIHNyYyBzdHJpbmdcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBmYWJyaWMudXRpbC5jcmVhdGVJbWFnZSgpO1xuICAgICAgICBmYWJyaWMudXRpbC5sb2FkSW1hZ2Uob3B0aW9ucy5zb3VyY2UsIGZ1bmN0aW9uKGltZywgaXNFcnJvcikge1xuICAgICAgICAgIF90aGlzLnNvdXJjZSA9IGltZztcbiAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhfdGhpcywgaXNFcnJvcik7XG4gICAgICAgIH0sIG51bGwsIHRoaXMuY3Jvc3NPcmlnaW4pO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhIHBhdHRlcm5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcGVydGllc1RvSW5jbHVkZV0gQW55IHByb3BlcnRpZXMgdGhhdCB5b3UgbWlnaHQgd2FudCB0byBhZGRpdGlvbmFsbHkgaW5jbHVkZSBpbiB0aGUgb3V0cHV0XG4gICAgICogQHJldHVybiB7T2JqZWN0fSBPYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYSBwYXR0ZXJuIGluc3RhbmNlXG4gICAgICovXG4gICAgdG9PYmplY3Q6IGZ1bmN0aW9uKHByb3BlcnRpZXNUb0luY2x1ZGUpIHtcbiAgICAgIHZhciBOVU1fRlJBQ1RJT05fRElHSVRTID0gZmFicmljLk9iamVjdC5OVU1fRlJBQ1RJT05fRElHSVRTLFxuICAgICAgICAgIHNvdXJjZSwgb2JqZWN0O1xuXG4gICAgICAvLyA8aW1nPiBlbGVtZW50XG4gICAgICBpZiAodHlwZW9mIHRoaXMuc291cmNlLnNyYyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgc291cmNlID0gdGhpcy5zb3VyY2Uuc3JjO1xuICAgICAgfVxuICAgICAgLy8gPGNhbnZhcz4gZWxlbWVudFxuICAgICAgZWxzZSBpZiAodHlwZW9mIHRoaXMuc291cmNlID09PSAnb2JqZWN0JyAmJiB0aGlzLnNvdXJjZS50b0RhdGFVUkwpIHtcbiAgICAgICAgc291cmNlID0gdGhpcy5zb3VyY2UudG9EYXRhVVJMKCk7XG4gICAgICB9XG5cbiAgICAgIG9iamVjdCA9IHtcbiAgICAgICAgdHlwZTogJ3BhdHRlcm4nLFxuICAgICAgICBzb3VyY2U6IHNvdXJjZSxcbiAgICAgICAgcmVwZWF0OiB0aGlzLnJlcGVhdCxcbiAgICAgICAgY3Jvc3NPcmlnaW46IHRoaXMuY3Jvc3NPcmlnaW4sXG4gICAgICAgIG9mZnNldFg6IHRvRml4ZWQodGhpcy5vZmZzZXRYLCBOVU1fRlJBQ1RJT05fRElHSVRTKSxcbiAgICAgICAgb2Zmc2V0WTogdG9GaXhlZCh0aGlzLm9mZnNldFksIE5VTV9GUkFDVElPTl9ESUdJVFMpLFxuICAgICAgICBwYXR0ZXJuVHJhbnNmb3JtOiB0aGlzLnBhdHRlcm5UcmFuc2Zvcm0gPyB0aGlzLnBhdHRlcm5UcmFuc2Zvcm0uY29uY2F0KCkgOiBudWxsXG4gICAgICB9O1xuICAgICAgZmFicmljLnV0aWwucG9wdWxhdGVXaXRoUHJvcGVydGllcyh0aGlzLCBvYmplY3QsIHByb3BlcnRpZXNUb0luY2x1ZGUpO1xuXG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH0sXG5cbiAgICAvKiBfVE9fU1ZHX1NUQVJUXyAqL1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgU1ZHIHJlcHJlc2VudGF0aW9uIG9mIGEgcGF0dGVyblxuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gb2JqZWN0XG4gICAgICogQHJldHVybiB7U3RyaW5nfSBTVkcgcmVwcmVzZW50YXRpb24gb2YgYSBwYXR0ZXJuXG4gICAgICovXG4gICAgdG9TVkc6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgdmFyIHBhdHRlcm5Tb3VyY2UgPSB0eXBlb2YgdGhpcy5zb3VyY2UgPT09ICdmdW5jdGlvbicgPyB0aGlzLnNvdXJjZSgpIDogdGhpcy5zb3VyY2UsXG4gICAgICAgICAgcGF0dGVybldpZHRoID0gcGF0dGVyblNvdXJjZS53aWR0aCAvIG9iamVjdC53aWR0aCxcbiAgICAgICAgICBwYXR0ZXJuSGVpZ2h0ID0gcGF0dGVyblNvdXJjZS5oZWlnaHQgLyBvYmplY3QuaGVpZ2h0LFxuICAgICAgICAgIHBhdHRlcm5PZmZzZXRYID0gdGhpcy5vZmZzZXRYIC8gb2JqZWN0LndpZHRoLFxuICAgICAgICAgIHBhdHRlcm5PZmZzZXRZID0gdGhpcy5vZmZzZXRZIC8gb2JqZWN0LmhlaWdodCxcbiAgICAgICAgICBwYXR0ZXJuSW1nU3JjID0gJyc7XG4gICAgICBpZiAodGhpcy5yZXBlYXQgPT09ICdyZXBlYXQteCcgfHwgdGhpcy5yZXBlYXQgPT09ICduby1yZXBlYXQnKSB7XG4gICAgICAgIHBhdHRlcm5IZWlnaHQgPSAxO1xuICAgICAgICBpZiAocGF0dGVybk9mZnNldFkpIHtcbiAgICAgICAgICBwYXR0ZXJuSGVpZ2h0ICs9IE1hdGguYWJzKHBhdHRlcm5PZmZzZXRZKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHRoaXMucmVwZWF0ID09PSAncmVwZWF0LXknIHx8IHRoaXMucmVwZWF0ID09PSAnbm8tcmVwZWF0Jykge1xuICAgICAgICBwYXR0ZXJuV2lkdGggPSAxO1xuICAgICAgICBpZiAocGF0dGVybk9mZnNldFgpIHtcbiAgICAgICAgICBwYXR0ZXJuV2lkdGggKz0gTWF0aC5hYnMocGF0dGVybk9mZnNldFgpO1xuICAgICAgICB9XG5cbiAgICAgIH1cbiAgICAgIGlmIChwYXR0ZXJuU291cmNlLnNyYykge1xuICAgICAgICBwYXR0ZXJuSW1nU3JjID0gcGF0dGVyblNvdXJjZS5zcmM7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChwYXR0ZXJuU291cmNlLnRvRGF0YVVSTCkge1xuICAgICAgICBwYXR0ZXJuSW1nU3JjID0gcGF0dGVyblNvdXJjZS50b0RhdGFVUkwoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuICc8cGF0dGVybiBpZD1cIlNWR0lEXycgKyB0aGlzLmlkICtcbiAgICAgICAgICAgICAgICAgICAgJ1wiIHg9XCInICsgcGF0dGVybk9mZnNldFggK1xuICAgICAgICAgICAgICAgICAgICAnXCIgeT1cIicgKyBwYXR0ZXJuT2Zmc2V0WSArXG4gICAgICAgICAgICAgICAgICAgICdcIiB3aWR0aD1cIicgKyBwYXR0ZXJuV2lkdGggK1xuICAgICAgICAgICAgICAgICAgICAnXCIgaGVpZ2h0PVwiJyArIHBhdHRlcm5IZWlnaHQgKyAnXCI+XFxuJyArXG4gICAgICAgICAgICAgICAnPGltYWdlIHg9XCIwXCIgeT1cIjBcIicgK1xuICAgICAgICAgICAgICAgICAgICAgICcgd2lkdGg9XCInICsgcGF0dGVyblNvdXJjZS53aWR0aCArXG4gICAgICAgICAgICAgICAgICAgICAgJ1wiIGhlaWdodD1cIicgKyBwYXR0ZXJuU291cmNlLmhlaWdodCArXG4gICAgICAgICAgICAgICAgICAgICAgJ1wiIHhsaW5rOmhyZWY9XCInICsgcGF0dGVybkltZ1NyYyArXG4gICAgICAgICAgICAgICAnXCI+PC9pbWFnZT5cXG4nICtcbiAgICAgICAgICAgICAnPC9wYXR0ZXJuPlxcbic7XG4gICAgfSxcbiAgICAvKiBfVE9fU1ZHX0VORF8gKi9cblxuICAgIHNldE9wdGlvbnM6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIGZvciAodmFyIHByb3AgaW4gb3B0aW9ucykge1xuICAgICAgICB0aGlzW3Byb3BdID0gb3B0aW9uc1twcm9wXTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBpbnN0YW5jZSBvZiBDYW52YXNQYXR0ZXJuXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIGNyZWF0ZSBwYXR0ZXJuXG4gICAgICogQHJldHVybiB7Q2FudmFzUGF0dGVybn1cbiAgICAgKi9cbiAgICB0b0xpdmU6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgLy8gaWYgdGhlIGltYWdlIGZhaWxlZCB0byBsb2FkLCByZXR1cm4sIGFuZCBhbGxvdyByZXN0IHRvIGNvbnRpbnVlIGxvYWRpbmdcbiAgICAgIGlmICghc291cmNlKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cblxuICAgICAgLy8gaWYgYW4gaW1hZ2VcbiAgICAgIGlmICh0eXBlb2Ygc291cmNlLnNyYyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaWYgKCFzb3VyY2UuY29tcGxldGUpIHtcbiAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNvdXJjZS5uYXR1cmFsV2lkdGggPT09IDAgfHwgc291cmNlLm5hdHVyYWxIZWlnaHQgPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBjdHguY3JlYXRlUGF0dGVybihzb3VyY2UsIHRoaXMucmVwZWF0KTtcbiAgICB9XG4gIH0pO1xufSkoKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBmYWJyaWMgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIHRvRml4ZWQgPSBmYWJyaWMudXRpbC50b0ZpeGVkO1xuXG4gIGlmIChmYWJyaWMuU2hhZG93KSB7XG4gICAgZmFicmljLndhcm4oJ2ZhYnJpYy5TaGFkb3cgaXMgYWxyZWFkeSBkZWZpbmVkLicpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaGFkb3cgY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5TaGFkb3dcbiAgICogQHNlZSB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9zaGFkb3dzfFNoYWRvdyBkZW1vfVxuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuU2hhZG93I2luaXRpYWxpemV9IGZvciBjb25zdHJ1Y3RvciBkZWZpbml0aW9uXG4gICAqL1xuICBmYWJyaWMuU2hhZG93ID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3MoLyoqIEBsZW5kcyBmYWJyaWMuU2hhZG93LnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBTaGFkb3cgY29sb3JcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGNvbG9yOiAncmdiKDAsMCwwKScsXG5cbiAgICAvKipcbiAgICAgKiBTaGFkb3cgYmx1clxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqL1xuICAgIGJsdXI6IDAsXG5cbiAgICAvKipcbiAgICAgKiBTaGFkb3cgaG9yaXpvbnRhbCBvZmZzZXRcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIG9mZnNldFg6IDAsXG5cbiAgICAvKipcbiAgICAgKiBTaGFkb3cgdmVydGljYWwgb2Zmc2V0XG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBvZmZzZXRZOiAwLFxuXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgc2hhZG93IHNob3VsZCBhZmZlY3Qgc3Ryb2tlIG9wZXJhdGlvbnNcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBhZmZlY3RTdHJva2U6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdG9PYmplY3Qgc2hvdWxkIGluY2x1ZGUgZGVmYXVsdCB2YWx1ZXNcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBpbmNsdWRlRGVmYXVsdFZhbHVlczogdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gYGZhbHNlYCwgdGhlIHNoYWRvdyB3aWxsIHNjYWxlIHdpdGggdGhlIG9iamVjdC5cbiAgICAgKiBXaGVuIGB0cnVlYCwgdGhlIHNoYWRvdydzIG9mZnNldFgsIG9mZnNldFksIGFuZCBibHVyIHdpbGwgbm90IGJlIGFmZmVjdGVkIGJ5IHRoZSBvYmplY3QncyBzY2FsZS5cbiAgICAgKiBkZWZhdWx0IHRvIGZhbHNlXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgbm9uU2NhbGluZzogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0IHdpdGggYW55IG9mIGNvbG9yLCBibHVyLCBvZmZzZXRYLCBvZmZzZXRZIHByb3BlcnRpZXMgb3Igc3RyaW5nIChlLmcuIFwicmdiYSgwLDAsMCwwLjIpIDJweCAycHggMTBweFwiKVxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5TaGFkb3d9IHRoaXNBcmdcbiAgICAgKi9cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbihvcHRpb25zKSB7XG5cbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgb3B0aW9ucyA9IHRoaXMuX3BhcnNlU2hhZG93KG9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBwcm9wIGluIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpc1twcm9wXSA9IG9wdGlvbnNbcHJvcF07XG4gICAgICB9XG5cbiAgICAgIHRoaXMuaWQgPSBmYWJyaWMuT2JqZWN0Ll9fdWlkKys7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHNoYWRvdyBTaGFkb3cgdmFsdWUgdG8gcGFyc2VcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFNoYWRvdyBvYmplY3Qgd2l0aCBjb2xvciwgb2Zmc2V0WCwgb2Zmc2V0WSBhbmQgYmx1clxuICAgICAqL1xuICAgIF9wYXJzZVNoYWRvdzogZnVuY3Rpb24oc2hhZG93KSB7XG4gICAgICB2YXIgc2hhZG93U3RyID0gc2hhZG93LnRyaW0oKSxcbiAgICAgICAgICBvZmZzZXRzQW5kQmx1ciA9IGZhYnJpYy5TaGFkb3cucmVPZmZzZXRzQW5kQmx1ci5leGVjKHNoYWRvd1N0cikgfHwgW10sXG4gICAgICAgICAgY29sb3IgPSBzaGFkb3dTdHIucmVwbGFjZShmYWJyaWMuU2hhZG93LnJlT2Zmc2V0c0FuZEJsdXIsICcnKSB8fCAncmdiKDAsMCwwKSc7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvbG9yOiBjb2xvci50cmltKCksXG4gICAgICAgIG9mZnNldFg6IHBhcnNlRmxvYXQob2Zmc2V0c0FuZEJsdXJbMV0sIDEwKSB8fCAwLFxuICAgICAgICBvZmZzZXRZOiBwYXJzZUZsb2F0KG9mZnNldHNBbmRCbHVyWzJdLCAxMCkgfHwgMCxcbiAgICAgICAgYmx1cjogcGFyc2VGbG9hdChvZmZzZXRzQW5kQmx1clszXSwgMTApIHx8IDBcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL2Nzcy10ZXh0LWRlY29yLTMvI3RleHQtc2hhZG93XG4gICAgICogQHJldHVybiB7U3RyaW5nfSBSZXR1cm5zIENTUzMgdGV4dC1zaGFkb3cgZGVjbGFyYXRpb25cbiAgICAgKi9cbiAgICB0b1N0cmluZzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gW3RoaXMub2Zmc2V0WCwgdGhpcy5vZmZzZXRZLCB0aGlzLmJsdXIsIHRoaXMuY29sb3JdLmpvaW4oJ3B4ICcpO1xuICAgIH0sXG5cbiAgICAvKiBfVE9fU1ZHX1NUQVJUXyAqL1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgU1ZHIHJlcHJlc2VudGF0aW9uIG9mIGEgc2hhZG93XG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IFNWRyByZXByZXNlbnRhdGlvbiBvZiBhIHNoYWRvd1xuICAgICAqL1xuICAgIHRvU1ZHOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHZhciBmQm94WCA9IDQwLCBmQm94WSA9IDQwLCBOVU1fRlJBQ1RJT05fRElHSVRTID0gZmFicmljLk9iamVjdC5OVU1fRlJBQ1RJT05fRElHSVRTLFxuICAgICAgICAgIG9mZnNldCA9IGZhYnJpYy51dGlsLnJvdGF0ZVZlY3RvcihcbiAgICAgICAgICAgIHsgeDogdGhpcy5vZmZzZXRYLCB5OiB0aGlzLm9mZnNldFkgfSxcbiAgICAgICAgICAgIGZhYnJpYy51dGlsLmRlZ3JlZXNUb1JhZGlhbnMoLW9iamVjdC5hbmdsZSkpLFxuICAgICAgICAgIEJMVVJfQk9YID0gMjAsIGNvbG9yID0gbmV3IGZhYnJpYy5Db2xvcih0aGlzLmNvbG9yKTtcblxuICAgICAgaWYgKG9iamVjdC53aWR0aCAmJiBvYmplY3QuaGVpZ2h0KSB7XG4gICAgICAgIC8vaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHL2ZpbHRlcnMuaHRtbCNGaWx0ZXJFZmZlY3RzUmVnaW9uXG4gICAgICAgIC8vIHdlIGFkZCBzb21lIGV4dHJhIHNwYWNlIHRvIGZpbHRlciBib3ggdG8gY29udGFpbiB0aGUgYmx1ciAoIDIwIClcbiAgICAgICAgZkJveFggPSB0b0ZpeGVkKChNYXRoLmFicyhvZmZzZXQueCkgKyB0aGlzLmJsdXIpIC8gb2JqZWN0LndpZHRoLCBOVU1fRlJBQ1RJT05fRElHSVRTKSAqIDEwMCArIEJMVVJfQk9YO1xuICAgICAgICBmQm94WSA9IHRvRml4ZWQoKE1hdGguYWJzKG9mZnNldC55KSArIHRoaXMuYmx1cikgLyBvYmplY3QuaGVpZ2h0LCBOVU1fRlJBQ1RJT05fRElHSVRTKSAqIDEwMCArIEJMVVJfQk9YO1xuICAgICAgfVxuICAgICAgaWYgKG9iamVjdC5mbGlwWCkge1xuICAgICAgICBvZmZzZXQueCAqPSAtMTtcbiAgICAgIH1cbiAgICAgIGlmIChvYmplY3QuZmxpcFkpIHtcbiAgICAgICAgb2Zmc2V0LnkgKj0gLTE7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAoXG4gICAgICAgICc8ZmlsdGVyIGlkPVwiU1ZHSURfJyArIHRoaXMuaWQgKyAnXCIgeT1cIi0nICsgZkJveFkgKyAnJVwiIGhlaWdodD1cIicgKyAoMTAwICsgMiAqIGZCb3hZKSArICclXCIgJyArXG4gICAgICAgICAgJ3g9XCItJyArIGZCb3hYICsgJyVcIiB3aWR0aD1cIicgKyAoMTAwICsgMiAqIGZCb3hYKSArICclXCIgJyArICc+XFxuJyArXG4gICAgICAgICAgJ1xcdDxmZUdhdXNzaWFuQmx1ciBpbj1cIlNvdXJjZUFscGhhXCIgc3RkRGV2aWF0aW9uPVwiJyArXG4gICAgICAgICAgICB0b0ZpeGVkKHRoaXMuYmx1ciA/IHRoaXMuYmx1ciAvIDIgOiAwLCBOVU1fRlJBQ1RJT05fRElHSVRTKSArICdcIj48L2ZlR2F1c3NpYW5CbHVyPlxcbicgK1xuICAgICAgICAgICdcXHQ8ZmVPZmZzZXQgZHg9XCInICsgdG9GaXhlZChvZmZzZXQueCwgTlVNX0ZSQUNUSU9OX0RJR0lUUykgK1xuICAgICAgICAgICdcIiBkeT1cIicgKyB0b0ZpeGVkKG9mZnNldC55LCBOVU1fRlJBQ1RJT05fRElHSVRTKSArICdcIiByZXN1bHQ9XCJvQmx1clwiID48L2ZlT2Zmc2V0PlxcbicgK1xuICAgICAgICAgICdcXHQ8ZmVGbG9vZCBmbG9vZC1jb2xvcj1cIicgKyBjb2xvci50b1JnYigpICsgJ1wiIGZsb29kLW9wYWNpdHk9XCInICsgY29sb3IuZ2V0QWxwaGEoKSArICdcIi8+XFxuJyArXG4gICAgICAgICAgJ1xcdDxmZUNvbXBvc2l0ZSBpbjI9XCJvQmx1clwiIG9wZXJhdG9yPVwiaW5cIiAvPlxcbicgK1xuICAgICAgICAgICdcXHQ8ZmVNZXJnZT5cXG4nICtcbiAgICAgICAgICAgICdcXHRcXHQ8ZmVNZXJnZU5vZGU+PC9mZU1lcmdlTm9kZT5cXG4nICtcbiAgICAgICAgICAgICdcXHRcXHQ8ZmVNZXJnZU5vZGUgaW49XCJTb3VyY2VHcmFwaGljXCI+PC9mZU1lcmdlTm9kZT5cXG4nICtcbiAgICAgICAgICAnXFx0PC9mZU1lcmdlPlxcbicgK1xuICAgICAgICAnPC9maWx0ZXI+XFxuJyk7XG4gICAgfSxcbiAgICAvKiBfVE9fU1ZHX0VORF8gKi9cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGEgc2hhZG93XG4gICAgICogQHJldHVybiB7T2JqZWN0fSBPYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYSBzaGFkb3cgaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b09iamVjdDogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5pbmNsdWRlRGVmYXVsdFZhbHVlcykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGNvbG9yOiB0aGlzLmNvbG9yLFxuICAgICAgICAgIGJsdXI6IHRoaXMuYmx1cixcbiAgICAgICAgICBvZmZzZXRYOiB0aGlzLm9mZnNldFgsXG4gICAgICAgICAgb2Zmc2V0WTogdGhpcy5vZmZzZXRZLFxuICAgICAgICAgIGFmZmVjdFN0cm9rZTogdGhpcy5hZmZlY3RTdHJva2UsXG4gICAgICAgICAgbm9uU2NhbGluZzogdGhpcy5ub25TY2FsaW5nXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICB2YXIgb2JqID0geyB9LCBwcm90byA9IGZhYnJpYy5TaGFkb3cucHJvdG90eXBlO1xuXG4gICAgICBbJ2NvbG9yJywgJ2JsdXInLCAnb2Zmc2V0WCcsICdvZmZzZXRZJywgJ2FmZmVjdFN0cm9rZScsICdub25TY2FsaW5nJ10uZm9yRWFjaChmdW5jdGlvbihwcm9wKSB7XG4gICAgICAgIGlmICh0aGlzW3Byb3BdICE9PSBwcm90b1twcm9wXSkge1xuICAgICAgICAgIG9ialtwcm9wXSA9IHRoaXNbcHJvcF07XG4gICAgICAgIH1cbiAgICAgIH0sIHRoaXMpO1xuXG4gICAgICByZXR1cm4gb2JqO1xuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIFJlZ2V4IG1hdGNoaW5nIHNoYWRvdyBvZmZzZXRYLCBvZmZzZXRZIGFuZCBibHVyIChleDogXCIycHggMnB4IDEwcHggcmdiYSgwLDAsMCwwLjIpXCIsIFwicmdiKDAsMjU1LDApIDJweCAycHhcIilcbiAgICogQHN0YXRpY1xuICAgKiBAZmllbGRcbiAgICogQG1lbWJlck9mIGZhYnJpYy5TaGFkb3dcbiAgICovXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gIGZhYnJpYy5TaGFkb3cucmVPZmZzZXRzQW5kQmx1ciA9IC8oPzpcXHN8XikoLT9cXGQrKD86XFwuXFxkKik/KD86cHgpPyg/Olxccz98JCkpPygtP1xcZCsoPzpcXC5cXGQqKT8oPzpweCk/KD86XFxzP3wkKSk/KFxcZCsoPzpcXC5cXGQqKT8oPzpweCk/KT8oPzpcXHM/fCQpKD86JHxcXHMpLztcblxufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbiAoKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGlmIChmYWJyaWMuU3RhdGljQ2FudmFzKSB7XG4gICAgZmFicmljLndhcm4oJ2ZhYnJpYy5TdGF0aWNDYW52YXMgaXMgYWxyZWFkeSBkZWZpbmVkLicpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIGFsaWFzZXMgZm9yIGZhc3RlciByZXNvbHV0aW9uXG4gIHZhciBleHRlbmQgPSBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kLFxuICAgICAgZ2V0RWxlbWVudE9mZnNldCA9IGZhYnJpYy51dGlsLmdldEVsZW1lbnRPZmZzZXQsXG4gICAgICByZW1vdmVGcm9tQXJyYXkgPSBmYWJyaWMudXRpbC5yZW1vdmVGcm9tQXJyYXksXG4gICAgICB0b0ZpeGVkID0gZmFicmljLnV0aWwudG9GaXhlZCxcbiAgICAgIHRyYW5zZm9ybVBvaW50ID0gZmFicmljLnV0aWwudHJhbnNmb3JtUG9pbnQsXG4gICAgICBpbnZlcnRUcmFuc2Zvcm0gPSBmYWJyaWMudXRpbC5pbnZlcnRUcmFuc2Zvcm0sXG4gICAgICBnZXROb2RlQ2FudmFzID0gZmFicmljLnV0aWwuZ2V0Tm9kZUNhbnZhcyxcbiAgICAgIGNyZWF0ZUNhbnZhc0VsZW1lbnQgPSBmYWJyaWMudXRpbC5jcmVhdGVDYW52YXNFbGVtZW50LFxuXG4gICAgICBDQU5WQVNfSU5JVF9FUlJPUiA9IG5ldyBFcnJvcignQ291bGQgbm90IGluaXRpYWxpemUgYGNhbnZhc2AgZWxlbWVudCcpO1xuXG4gIC8qKlxuICAgKiBTdGF0aWMgY2FudmFzIGNsYXNzXG4gICAqIEBjbGFzcyBmYWJyaWMuU3RhdGljQ2FudmFzXG4gICAqIEBtaXhlcyBmYWJyaWMuQ29sbGVjdGlvblxuICAgKiBAbWl4ZXMgZmFicmljLk9ic2VydmFibGVcbiAgICogQHNlZSB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9zdGF0aWNfY2FudmFzfFN0YXRpY0NhbnZhcyBkZW1vfVxuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuU3RhdGljQ2FudmFzI2luaXRpYWxpemV9IGZvciBjb25zdHJ1Y3RvciBkZWZpbml0aW9uXG4gICAqIEBmaXJlcyBiZWZvcmU6cmVuZGVyXG4gICAqIEBmaXJlcyBhZnRlcjpyZW5kZXJcbiAgICogQGZpcmVzIGNhbnZhczpjbGVhcmVkXG4gICAqIEBmaXJlcyBvYmplY3Q6YWRkZWRcbiAgICogQGZpcmVzIG9iamVjdDpyZW1vdmVkXG4gICAqL1xuICBmYWJyaWMuU3RhdGljQ2FudmFzID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3MoZmFicmljLkNvbW1vbk1ldGhvZHMsIC8qKiBAbGVuZHMgZmFicmljLlN0YXRpY0NhbnZhcy5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50IHwgU3RyaW5nfSBlbCAmbHQ7Y2FudmFzPiBlbGVtZW50IHRvIGluaXRpYWxpemUgaW5zdGFuY2Ugb25cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAgICogQHJldHVybiB7T2JqZWN0fSB0aGlzQXJnXG4gICAgICovXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oZWwsIG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7IH0pO1xuICAgICAgdGhpcy5yZW5kZXJBbmRSZXNldEJvdW5kID0gdGhpcy5yZW5kZXJBbmRSZXNldC5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5yZXF1ZXN0UmVuZGVyQWxsQm91bmQgPSB0aGlzLnJlcXVlc3RSZW5kZXJBbGwuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX2luaXRTdGF0aWMoZWwsIG9wdGlvbnMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBCYWNrZ3JvdW5kIGNvbG9yIG9mIGNhbnZhcyBpbnN0YW5jZS5cbiAgICAgKiBTaG91bGQgYmUgc2V0IHZpYSB7QGxpbmsgZmFicmljLlN0YXRpY0NhbnZhcyNzZXRCYWNrZ3JvdW5kQ29sb3J9LlxuICAgICAqIEB0eXBlIHsoU3RyaW5nfGZhYnJpYy5QYXR0ZXJuKX1cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGJhY2tncm91bmRDb2xvcjogJycsXG5cbiAgICAvKipcbiAgICAgKiBCYWNrZ3JvdW5kIGltYWdlIG9mIGNhbnZhcyBpbnN0YW5jZS5cbiAgICAgKiBzaW5jZSAyLjQuMCBpbWFnZSBjYWNoaW5nIGlzIGFjdGl2ZSwgcGxlYXNlIHdoZW4gcHV0dGluZyBhbiBpbWFnZSBhcyBiYWNrZ3JvdW5kLCBhZGQgdG8gdGhlXG4gICAgICogY2FudmFzIHByb3BlcnR5IGEgcmVmZXJlbmNlIHRvIHRoZSBjYW52YXMgaXQgaXMgb24uIE90aGVyd2lzZSB0aGUgaW1hZ2UgY2Fubm90IGRldGVjdCB0aGUgem9vbVxuICAgICAqIHZhbGUuIEFzIGFuIGFsdGVybmF0aXZlIHlvdSBjYW4gZGlzYWJsZSBpbWFnZSBvYmplY3RDYWNoaW5nXG4gICAgICogQHR5cGUgZmFicmljLkltYWdlXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBiYWNrZ3JvdW5kSW1hZ2U6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBPdmVybGF5IGNvbG9yIG9mIGNhbnZhcyBpbnN0YW5jZS5cbiAgICAgKiBTaG91bGQgYmUgc2V0IHZpYSB7QGxpbmsgZmFicmljLlN0YXRpY0NhbnZhcyNzZXRPdmVybGF5Q29sb3J9XG4gICAgICogQHNpbmNlIDEuMy45XG4gICAgICogQHR5cGUgeyhTdHJpbmd8ZmFicmljLlBhdHRlcm4pfVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgb3ZlcmxheUNvbG9yOiAnJyxcblxuICAgIC8qKlxuICAgICAqIE92ZXJsYXkgaW1hZ2Ugb2YgY2FudmFzIGluc3RhbmNlLlxuICAgICAqIHNpbmNlIDIuNC4wIGltYWdlIGNhY2hpbmcgaXMgYWN0aXZlLCBwbGVhc2Ugd2hlbiBwdXR0aW5nIGFuIGltYWdlIGFzIG92ZXJsYXksIGFkZCB0byB0aGVcbiAgICAgKiBjYW52YXMgcHJvcGVydHkgYSByZWZlcmVuY2UgdG8gdGhlIGNhbnZhcyBpdCBpcyBvbi4gT3RoZXJ3aXNlIHRoZSBpbWFnZSBjYW5ub3QgZGV0ZWN0IHRoZSB6b29tXG4gICAgICogdmFsZS4gQXMgYW4gYWx0ZXJuYXRpdmUgeW91IGNhbiBkaXNhYmxlIGltYWdlIG9iamVjdENhY2hpbmdcbiAgICAgKiBAdHlwZSBmYWJyaWMuSW1hZ2VcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIG92ZXJsYXlJbWFnZTogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIHRvT2JqZWN0L3RvRGF0YWxlc3NPYmplY3Qgc2hvdWxkIGluY2x1ZGUgZGVmYXVsdCB2YWx1ZXNcbiAgICAgKiBpZiBzZXQgdG8gZmFsc2UsIHRha2VzIHByZWNlZGVuY2Ugb3ZlciB0aGUgb2JqZWN0IHZhbHVlLlxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGluY2x1ZGVEZWZhdWx0VmFsdWVzOiB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoZXRoZXIgb2JqZWN0cycgc3RhdGUgc2hvdWxkIGJlIHNhdmVkXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc3RhdGVmdWw6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoZXRoZXIge0BsaW5rIGZhYnJpYy5Db2xsZWN0aW9uLmFkZH0sIHtAbGluayBmYWJyaWMuQ29sbGVjdGlvbi5pbnNlcnRBdH0gYW5kIHtAbGluayBmYWJyaWMuQ29sbGVjdGlvbi5yZW1vdmV9LFxuICAgICAqIHtAbGluayBmYWJyaWMuU3RhdGljQ2FudmFzLm1vdmVUb30sIHtAbGluayBmYWJyaWMuU3RhdGljQ2FudmFzLmNsZWFyfSBhbmQgbWFueSBtb3JlLCBzaG91bGQgYWxzbyByZS1yZW5kZXIgY2FudmFzLlxuICAgICAqIERpc2FibGluZyB0aGlzIG9wdGlvbiB3aWxsIG5vdCBnaXZlIGEgcGVyZm9ybWFuY2UgYm9vc3Qgd2hlbiBhZGRpbmcvcmVtb3ZpbmcgYSBsb3Qgb2Ygb2JqZWN0cyB0by9mcm9tIGNhbnZhcyBhdCBvbmNlXG4gICAgICogc2luY2UgdGhlIHJlbmRlcnMgYXJlIHF1ZXF1ZWQgYW5kIGV4ZWN1dGVkIG9uZSBwZXIgZnJhbWUuXG4gICAgICogRGlzYWJsaW5nIGlzIHN1Z2dlc3RlZCBhbnl3YXkgYW5kIG1hbmFnaW5nIHRoZSByZW5kZXJzIG9mIHRoZSBhcHAgbWFudWFsbHkgaXMgbm90IGEgYmlnIGVmZm9ydCAoIGNhbnZhcy5yZXF1ZXN0UmVuZGVyQWxsKCkgKVxuICAgICAqIExlZnQgZGVmYXVsdCB0byB0cnVlIHRvIGRvIG5vdCBicmVhayBkb2N1bWVudGF0aW9uIGFuZCBvbGQgYXBwLCBmaWRkbGVzLlxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHJlbmRlck9uQWRkUmVtb3ZlOiB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoZXRoZXIgb2JqZWN0IGNvbnRyb2xzIChib3JkZXJzL2NvbnRyb2xzKSBhcmUgcmVuZGVyZWQgYWJvdmUgb3ZlcmxheSBpbWFnZVxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGNvbnRyb2xzQWJvdmVPdmVybGF5OiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSBicm93c2VyIGNhbiBiZSBzY3JvbGxlZCB3aGVuIHVzaW5nIGEgdG91Y2hzY3JlZW4gYW5kIGRyYWdnaW5nIG9uIHRoZSBjYW52YXNcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBhbGxvd1RvdWNoU2Nyb2xsaW5nOiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIHRoaXMgY2FudmFzIHdpbGwgdXNlIGltYWdlIHNtb290aGluZywgdGhpcyBpcyBvbiBieSBkZWZhdWx0IGluIGJyb3dzZXJzXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgaW1hZ2VTbW9vdGhpbmdFbmFibGVkOiB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogVGhlIHRyYW5zZm9ybWF0aW9uIChhIENhbnZhcyAyRCBBUEkgdHJhbnNmb3JtIG1hdHJpeCkgd2hpY2ggZm9jdXNlcyB0aGUgdmlld3BvcnRcbiAgICAgKiBAdHlwZSBBcnJheVxuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPkRlZmF1bHQgdHJhbnNmb3JtPC9jYXB0aW9uPlxuICAgICAqIGNhbnZhcy52aWV3cG9ydFRyYW5zZm9ybSA9IFsxLCAwLCAwLCAxLCAwLCAwXTtcbiAgICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5TY2FsZSBieSA3MCUgYW5kIHRyYW5zbGF0ZSB0b3dhcmQgYm90dG9tLXJpZ2h0IGJ5IDUwLCB3aXRob3V0IHNrZXdpbmc8L2NhcHRpb24+XG4gICAgICogY2FudmFzLnZpZXdwb3J0VHJhbnNmb3JtID0gWzAuNywgMCwgMCwgMC43LCA1MCwgNTBdO1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdmlld3BvcnRUcmFuc2Zvcm06IGZhYnJpYy5pTWF0cml4LmNvbmNhdCgpLFxuXG4gICAgLyoqXG4gICAgICogaWYgc2V0IHRvIGZhbHNlIGJhY2tncm91bmQgaW1hZ2UgaXMgbm90IGFmZmVjdGVkIGJ5IHZpZXdwb3J0IHRyYW5zZm9ybVxuICAgICAqIEBzaW5jZSAxLjYuM1xuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGJhY2tncm91bmRWcHQ6IHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBpZiBzZXQgdG8gZmFsc2Ugb3Zlcmx5YSBpbWFnZSBpcyBub3QgYWZmZWN0ZWQgYnkgdmlld3BvcnQgdHJhbnNmb3JtXG4gICAgICogQHNpbmNlIDEuNi4zXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgb3ZlcmxheVZwdDogdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gdHJ1ZSwgY2FudmFzIGlzIHNjYWxlZCBieSBkZXZpY2VQaXhlbFJhdGlvIGZvciBiZXR0ZXIgcmVuZGVyaW5nIG9uIHJldGluYSBzY3JlZW5zXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgZW5hYmxlUmV0aW5hU2NhbGluZzogdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIERlc2NyaWJlIGNhbnZhcyBlbGVtZW50IGV4dGVuc2lvbiBvdmVyIGRlc2lnblxuICAgICAqIHByb3BlcnRpZXMgYXJlIHRsLHRyLGJsLGJyLlxuICAgICAqIGlmIGNhbnZhcyBpcyBub3Qgem9vbWVkL3Bhbm5lZCB0aG9zZSBwb2ludHMgYXJlIHRoZSBmb3VyIGNvcm5lciBvZiBjYW52YXNcbiAgICAgKiBpZiBjYW52YXMgaXMgdmlld3BvcnRUcmFuc2Zvcm1lZCB5b3UgdGhvc2UgcG9pbnRzIGluZGljYXRlIHRoZSBleHRlbnNpb25cbiAgICAgKiBvZiBjYW52YXMgZWxlbWVudCBpbiBwbGFpbiB1bnRyYXNmb3JtZWQgY29vcmRpbmF0ZXNcbiAgICAgKiBUaGUgY29vcmRpbmF0ZXMgZ2V0IHVwZGF0ZWQgd2l0aCBAbWV0aG9kIGNhbGNWaWV3cG9ydEJvdW5kYXJpZXMuXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy5TdGF0aWNDYW52YXMucHJvdG90eXBlXG4gICAgICovXG4gICAgdnB0Q29vcmRzOiB7IH0sXG5cbiAgICAvKipcbiAgICAgKiBCYXNlZCBvbiB2cHRDb29yZHMgYW5kIG9iamVjdC5hQ29vcmRzLCBza2lwIHJlbmRlcmluZyBvZiBvYmplY3RzIHRoYXRcbiAgICAgKiBhcmUgbm90IGluY2x1ZGVkIGluIGN1cnJlbnQgdmlld3BvcnQuXG4gICAgICogTWF5IGdyZWF0bHkgaGVscCBpbiBhcHBsaWNhdGlvbnMgd2l0aCBjcm93ZGVkIGNhbnZhcyBhbmQgdXNlIG9mIHpvb20vcGFuXG4gICAgICogSWYgT25lIG9mIHRoZSBjb3JuZXIgb2YgdGhlIGJvdW5kaW5nIGJveCBvZiB0aGUgb2JqZWN0IGlzIG9uIHRoZSBjYW52YXNcbiAgICAgKiB0aGUgb2JqZWN0cyBnZXQgcmVuZGVyZWQuXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy5TdGF0aWNDYW52YXMucHJvdG90eXBlXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc2tpcE9mZnNjcmVlbjogdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIGEgZmFicmljT2JqZWN0IHRoYXQsIHdpdGhvdXQgc3Ryb2tlIGRlZmluZSBhIGNsaXBwaW5nIGFyZWEgd2l0aCB0aGVpciBzaGFwZS4gZmlsbGVkIGluIGJsYWNrXG4gICAgICogdGhlIGNsaXBQYXRoIG9iamVjdCBnZXRzIHVzZWQgd2hlbiB0aGUgY2FudmFzIGhhcyByZW5kZXJlZCwgYW5kIHRoZSBjb250ZXh0IGlzIHBsYWNlZCBpbiB0aGVcbiAgICAgKiB0b3AgbGVmdCBjb3JuZXIgb2YgdGhlIGNhbnZhcy5cbiAgICAgKiBjbGlwUGF0aCB3aWxsIGNsaXAgYXdheSBjb250cm9scywgaWYgeW91IGRvIG5vdCB3YW50IHRoaXMgdG8gaGFwcGVuIHVzZSBjb250cm9sc0Fib3ZlT3ZlcmxheSA9IHRydWVcbiAgICAgKiBAdHlwZSBmYWJyaWMuT2JqZWN0XG4gICAgICovXG4gICAgY2xpcFBhdGg6IHVuZGVmaW5lZCxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudCB8IFN0cmluZ30gZWwgJmx0O2NhbnZhcz4gZWxlbWVudCB0byBpbml0aWFsaXplIGluc3RhbmNlIG9uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqL1xuICAgIF9pbml0U3RhdGljOiBmdW5jdGlvbihlbCwgb3B0aW9ucykge1xuICAgICAgdmFyIGNiID0gdGhpcy5yZXF1ZXN0UmVuZGVyQWxsQm91bmQ7XG4gICAgICB0aGlzLl9vYmplY3RzID0gW107XG4gICAgICB0aGlzLl9jcmVhdGVMb3dlckNhbnZhcyhlbCk7XG4gICAgICB0aGlzLl9pbml0T3B0aW9ucyhvcHRpb25zKTtcbiAgICAgIC8vIG9ubHkgaW5pdGlhbGl6ZSByZXRpbmEgc2NhbGluZyBvbmNlXG4gICAgICBpZiAoIXRoaXMuaW50ZXJhY3RpdmUpIHtcbiAgICAgICAgdGhpcy5faW5pdFJldGluYVNjYWxpbmcoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMub3ZlcmxheUltYWdlKSB7XG4gICAgICAgIHRoaXMuc2V0T3ZlcmxheUltYWdlKG9wdGlvbnMub3ZlcmxheUltYWdlLCBjYik7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucy5iYWNrZ3JvdW5kSW1hZ2UpIHtcbiAgICAgICAgdGhpcy5zZXRCYWNrZ3JvdW5kSW1hZ2Uob3B0aW9ucy5iYWNrZ3JvdW5kSW1hZ2UsIGNiKTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zLmJhY2tncm91bmRDb2xvcikge1xuICAgICAgICB0aGlzLnNldEJhY2tncm91bmRDb2xvcihvcHRpb25zLmJhY2tncm91bmRDb2xvciwgY2IpO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMub3ZlcmxheUNvbG9yKSB7XG4gICAgICAgIHRoaXMuc2V0T3ZlcmxheUNvbG9yKG9wdGlvbnMub3ZlcmxheUNvbG9yLCBjYik7XG4gICAgICB9XG4gICAgICB0aGlzLmNhbGNPZmZzZXQoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfaXNSZXRpbmFTY2FsaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAoZmFicmljLmRldmljZVBpeGVsUmF0aW8gPiAxICYmIHRoaXMuZW5hYmxlUmV0aW5hU2NhbGluZyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7TnVtYmVyfSByZXRpbmFTY2FsaW5nIGlmIGFwcGxpZWQsIG90aGVyd2lzZSAxO1xuICAgICAqL1xuICAgIGdldFJldGluYVNjYWxpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2lzUmV0aW5hU2NhbGluZygpID8gTWF0aC5tYXgoMSwgZmFicmljLmRldmljZVBpeGVsUmF0aW8pIDogMTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfaW5pdFJldGluYVNjYWxpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCF0aGlzLl9pc1JldGluYVNjYWxpbmcoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgc2NhbGVSYXRpbyA9IGZhYnJpYy5kZXZpY2VQaXhlbFJhdGlvO1xuICAgICAgdGhpcy5fX2luaXRSZXRpbmFTY2FsaW5nKHNjYWxlUmF0aW8sIHRoaXMubG93ZXJDYW52YXNFbCwgdGhpcy5jb250ZXh0Q29udGFpbmVyKTtcbiAgICAgIGlmICh0aGlzLnVwcGVyQ2FudmFzRWwpIHtcbiAgICAgICAgdGhpcy5fX2luaXRSZXRpbmFTY2FsaW5nKHNjYWxlUmF0aW8sIHRoaXMudXBwZXJDYW52YXNFbCwgdGhpcy5jb250ZXh0VG9wKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgX19pbml0UmV0aW5hU2NhbGluZzogZnVuY3Rpb24oc2NhbGVSYXRpbywgY2FudmFzLCBjb250ZXh0KSB7XG4gICAgICBjYW52YXMuc2V0QXR0cmlidXRlKCd3aWR0aCcsIHRoaXMud2lkdGggKiBzY2FsZVJhdGlvKTtcbiAgICAgIGNhbnZhcy5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIHRoaXMuaGVpZ2h0ICogc2NhbGVSYXRpbyk7XG4gICAgICBjb250ZXh0LnNjYWxlKHNjYWxlUmF0aW8sIHNjYWxlUmF0aW8pO1xuICAgIH0sXG5cblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgY2FudmFzIGVsZW1lbnQgb2Zmc2V0IHJlbGF0aXZlIHRvIHRoZSBkb2N1bWVudFxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGFsc28gYXR0YWNoZWQgYXMgXCJyZXNpemVcIiBldmVudCBoYW5kbGVyIG9mIHdpbmRvd1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IGluc3RhbmNlXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGNhbGNPZmZzZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuX29mZnNldCA9IGdldEVsZW1lbnRPZmZzZXQodGhpcy5sb3dlckNhbnZhc0VsKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHtAbGluayBmYWJyaWMuU3RhdGljQ2FudmFzI292ZXJsYXlJbWFnZXxvdmVybGF5IGltYWdlfSBmb3IgdGhpcyBjYW52YXNcbiAgICAgKiBAcGFyYW0geyhmYWJyaWMuSW1hZ2V8U3RyaW5nKX0gaW1hZ2UgZmFicmljLkltYWdlIGluc3RhbmNlIG9yIFVSTCBvZiBhbiBpbWFnZSB0byBzZXQgb3ZlcmxheSB0b1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGNhbGxiYWNrIHRvIGludm9rZSB3aGVuIGltYWdlIGlzIGxvYWRlZCBhbmQgc2V0IGFzIGFuIG92ZXJsYXlcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbmFsIG9wdGlvbnMgdG8gc2V0IGZvciB0aGUge0BsaW5rIGZhYnJpYy5JbWFnZXxvdmVybGF5IGltYWdlfS5cbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqIEBzZWUge0BsaW5rIGh0dHA6Ly9qc2ZpZGRsZS5uZXQvZmFicmljanMvTW56SFQvfGpzRmlkZGxlIGRlbW99XG4gICAgICogQGV4YW1wbGUgPGNhcHRpb24+Tm9ybWFsIG92ZXJsYXlJbWFnZSB3aXRoIGxlZnQvdG9wID0gMDwvY2FwdGlvbj5cbiAgICAgKiBjYW52YXMuc2V0T3ZlcmxheUltYWdlKCdodHRwOi8vZmFicmljanMuY29tL2Fzc2V0cy9qYWlsX2NlbGxfYmFycy5wbmcnLCBjYW52YXMucmVuZGVyQWxsLmJpbmQoY2FudmFzKSwge1xuICAgICAqICAgLy8gTmVlZGVkIHRvIHBvc2l0aW9uIG92ZXJsYXlJbWFnZSBhdCAwLzBcbiAgICAgKiAgIG9yaWdpblg6ICdsZWZ0JyxcbiAgICAgKiAgIG9yaWdpblk6ICd0b3AnXG4gICAgICogfSk7XG4gICAgICogQGV4YW1wbGUgPGNhcHRpb24+b3ZlcmxheUltYWdlIHdpdGggZGlmZmVyZW50IHByb3BlcnRpZXM8L2NhcHRpb24+XG4gICAgICogY2FudmFzLnNldE92ZXJsYXlJbWFnZSgnaHR0cDovL2ZhYnJpY2pzLmNvbS9hc3NldHMvamFpbF9jZWxsX2JhcnMucG5nJywgY2FudmFzLnJlbmRlckFsbC5iaW5kKGNhbnZhcyksIHtcbiAgICAgKiAgIG9wYWNpdHk6IDAuNSxcbiAgICAgKiAgIGFuZ2xlOiA0NSxcbiAgICAgKiAgIGxlZnQ6IDQwMCxcbiAgICAgKiAgIHRvcDogNDAwLFxuICAgICAqICAgb3JpZ2luWDogJ2xlZnQnLFxuICAgICAqICAgb3JpZ2luWTogJ3RvcCdcbiAgICAgKiB9KTtcbiAgICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5TdHJldGNoZWQgb3ZlcmxheUltYWdlICMxIC0gd2lkdGgvaGVpZ2h0IGNvcnJlc3BvbmQgdG8gY2FudmFzIHdpZHRoL2hlaWdodDwvY2FwdGlvbj5cbiAgICAgKiBmYWJyaWMuSW1hZ2UuZnJvbVVSTCgnaHR0cDovL2ZhYnJpY2pzLmNvbS9hc3NldHMvamFpbF9jZWxsX2JhcnMucG5nJywgZnVuY3Rpb24oaW1nLCBpc0Vycm9yKSB7XG4gICAgICogICAgaW1nLnNldCh7d2lkdGg6IGNhbnZhcy53aWR0aCwgaGVpZ2h0OiBjYW52YXMuaGVpZ2h0LCBvcmlnaW5YOiAnbGVmdCcsIG9yaWdpblk6ICd0b3AnfSk7XG4gICAgICogICAgY2FudmFzLnNldE92ZXJsYXlJbWFnZShpbWcsIGNhbnZhcy5yZW5kZXJBbGwuYmluZChjYW52YXMpKTtcbiAgICAgKiB9KTtcbiAgICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5TdHJldGNoZWQgb3ZlcmxheUltYWdlICMyIC0gd2lkdGgvaGVpZ2h0IGNvcnJlc3BvbmQgdG8gY2FudmFzIHdpZHRoL2hlaWdodDwvY2FwdGlvbj5cbiAgICAgKiBjYW52YXMuc2V0T3ZlcmxheUltYWdlKCdodHRwOi8vZmFicmljanMuY29tL2Fzc2V0cy9qYWlsX2NlbGxfYmFycy5wbmcnLCBjYW52YXMucmVuZGVyQWxsLmJpbmQoY2FudmFzKSwge1xuICAgICAqICAgd2lkdGg6IGNhbnZhcy53aWR0aCxcbiAgICAgKiAgIGhlaWdodDogY2FudmFzLmhlaWdodCxcbiAgICAgKiAgIC8vIE5lZWRlZCB0byBwb3NpdGlvbiBvdmVybGF5SW1hZ2UgYXQgMC8wXG4gICAgICogICBvcmlnaW5YOiAnbGVmdCcsXG4gICAgICogICBvcmlnaW5ZOiAndG9wJ1xuICAgICAqIH0pO1xuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPm92ZXJsYXlJbWFnZSBsb2FkZWQgZnJvbSBjcm9zcy1vcmlnaW48L2NhcHRpb24+XG4gICAgICogY2FudmFzLnNldE92ZXJsYXlJbWFnZSgnaHR0cDovL2ZhYnJpY2pzLmNvbS9hc3NldHMvamFpbF9jZWxsX2JhcnMucG5nJywgY2FudmFzLnJlbmRlckFsbC5iaW5kKGNhbnZhcyksIHtcbiAgICAgKiAgIG9wYWNpdHk6IDAuNSxcbiAgICAgKiAgIGFuZ2xlOiA0NSxcbiAgICAgKiAgIGxlZnQ6IDQwMCxcbiAgICAgKiAgIHRvcDogNDAwLFxuICAgICAqICAgb3JpZ2luWDogJ2xlZnQnLFxuICAgICAqICAgb3JpZ2luWTogJ3RvcCcsXG4gICAgICogICBjcm9zc09yaWdpbjogJ2Fub255bW91cydcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICBzZXRPdmVybGF5SW1hZ2U6IGZ1bmN0aW9uIChpbWFnZSwgY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fc2V0QmdPdmVybGF5SW1hZ2UoJ292ZXJsYXlJbWFnZScsIGltYWdlLCBjYWxsYmFjaywgb3B0aW9ucyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMge0BsaW5rIGZhYnJpYy5TdGF0aWNDYW52YXMjYmFja2dyb3VuZEltYWdlfGJhY2tncm91bmQgaW1hZ2V9IGZvciB0aGlzIGNhbnZhc1xuICAgICAqIEBwYXJhbSB7KGZhYnJpYy5JbWFnZXxTdHJpbmcpfSBpbWFnZSBmYWJyaWMuSW1hZ2UgaW5zdGFuY2Ugb3IgVVJMIG9mIGFuIGltYWdlIHRvIHNldCBiYWNrZ3JvdW5kIHRvXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2sgdG8gaW52b2tlIHdoZW4gaW1hZ2UgaXMgbG9hZGVkIGFuZCBzZXQgYXMgYmFja2dyb3VuZFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9uYWwgb3B0aW9ucyB0byBzZXQgZm9yIHRoZSB7QGxpbmsgZmFicmljLkltYWdlfGJhY2tncm91bmQgaW1hZ2V9LlxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cDovL2pzZmlkZGxlLm5ldC9kam5yOG83YS8yOC98anNGaWRkbGUgZGVtb31cbiAgICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5Ob3JtYWwgYmFja2dyb3VuZEltYWdlIHdpdGggbGVmdC90b3AgPSAwPC9jYXB0aW9uPlxuICAgICAqIGNhbnZhcy5zZXRCYWNrZ3JvdW5kSW1hZ2UoJ2h0dHA6Ly9mYWJyaWNqcy5jb20vYXNzZXRzL2hvbmV5X2ltX3N1YnRsZS5wbmcnLCBjYW52YXMucmVuZGVyQWxsLmJpbmQoY2FudmFzKSwge1xuICAgICAqICAgLy8gTmVlZGVkIHRvIHBvc2l0aW9uIGJhY2tncm91bmRJbWFnZSBhdCAwLzBcbiAgICAgKiAgIG9yaWdpblg6ICdsZWZ0JyxcbiAgICAgKiAgIG9yaWdpblk6ICd0b3AnXG4gICAgICogfSk7XG4gICAgICogQGV4YW1wbGUgPGNhcHRpb24+YmFja2dyb3VuZEltYWdlIHdpdGggZGlmZmVyZW50IHByb3BlcnRpZXM8L2NhcHRpb24+XG4gICAgICogY2FudmFzLnNldEJhY2tncm91bmRJbWFnZSgnaHR0cDovL2ZhYnJpY2pzLmNvbS9hc3NldHMvaG9uZXlfaW1fc3VidGxlLnBuZycsIGNhbnZhcy5yZW5kZXJBbGwuYmluZChjYW52YXMpLCB7XG4gICAgICogICBvcGFjaXR5OiAwLjUsXG4gICAgICogICBhbmdsZTogNDUsXG4gICAgICogICBsZWZ0OiA0MDAsXG4gICAgICogICB0b3A6IDQwMCxcbiAgICAgKiAgIG9yaWdpblg6ICdsZWZ0JyxcbiAgICAgKiAgIG9yaWdpblk6ICd0b3AnXG4gICAgICogfSk7XG4gICAgICogQGV4YW1wbGUgPGNhcHRpb24+U3RyZXRjaGVkIGJhY2tncm91bmRJbWFnZSAjMSAtIHdpZHRoL2hlaWdodCBjb3JyZXNwb25kIHRvIGNhbnZhcyB3aWR0aC9oZWlnaHQ8L2NhcHRpb24+XG4gICAgICogZmFicmljLkltYWdlLmZyb21VUkwoJ2h0dHA6Ly9mYWJyaWNqcy5jb20vYXNzZXRzL2hvbmV5X2ltX3N1YnRsZS5wbmcnLCBmdW5jdGlvbihpbWcsIGlzRXJyb3IpIHtcbiAgICAgKiAgICBpbWcuc2V0KHt3aWR0aDogY2FudmFzLndpZHRoLCBoZWlnaHQ6IGNhbnZhcy5oZWlnaHQsIG9yaWdpblg6ICdsZWZ0Jywgb3JpZ2luWTogJ3RvcCd9KTtcbiAgICAgKiAgICBjYW52YXMuc2V0QmFja2dyb3VuZEltYWdlKGltZywgY2FudmFzLnJlbmRlckFsbC5iaW5kKGNhbnZhcykpO1xuICAgICAqIH0pO1xuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPlN0cmV0Y2hlZCBiYWNrZ3JvdW5kSW1hZ2UgIzIgLSB3aWR0aC9oZWlnaHQgY29ycmVzcG9uZCB0byBjYW52YXMgd2lkdGgvaGVpZ2h0PC9jYXB0aW9uPlxuICAgICAqIGNhbnZhcy5zZXRCYWNrZ3JvdW5kSW1hZ2UoJ2h0dHA6Ly9mYWJyaWNqcy5jb20vYXNzZXRzL2hvbmV5X2ltX3N1YnRsZS5wbmcnLCBjYW52YXMucmVuZGVyQWxsLmJpbmQoY2FudmFzKSwge1xuICAgICAqICAgd2lkdGg6IGNhbnZhcy53aWR0aCxcbiAgICAgKiAgIGhlaWdodDogY2FudmFzLmhlaWdodCxcbiAgICAgKiAgIC8vIE5lZWRlZCB0byBwb3NpdGlvbiBiYWNrZ3JvdW5kSW1hZ2UgYXQgMC8wXG4gICAgICogICBvcmlnaW5YOiAnbGVmdCcsXG4gICAgICogICBvcmlnaW5ZOiAndG9wJ1xuICAgICAqIH0pO1xuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPmJhY2tncm91bmRJbWFnZSBsb2FkZWQgZnJvbSBjcm9zcy1vcmlnaW48L2NhcHRpb24+XG4gICAgICogY2FudmFzLnNldEJhY2tncm91bmRJbWFnZSgnaHR0cDovL2ZhYnJpY2pzLmNvbS9hc3NldHMvaG9uZXlfaW1fc3VidGxlLnBuZycsIGNhbnZhcy5yZW5kZXJBbGwuYmluZChjYW52YXMpLCB7XG4gICAgICogICBvcGFjaXR5OiAwLjUsXG4gICAgICogICBhbmdsZTogNDUsXG4gICAgICogICBsZWZ0OiA0MDAsXG4gICAgICogICB0b3A6IDQwMCxcbiAgICAgKiAgIG9yaWdpblg6ICdsZWZ0JyxcbiAgICAgKiAgIG9yaWdpblk6ICd0b3AnLFxuICAgICAqICAgY3Jvc3NPcmlnaW46ICdhbm9ueW1vdXMnXG4gICAgICogfSk7XG4gICAgICovXG4gICAgLy8gVE9ETzogZml4IHN0cmV0Y2hlZCBleGFtcGxlc1xuICAgIHNldEJhY2tncm91bmRJbWFnZTogZnVuY3Rpb24gKGltYWdlLCBjYWxsYmFjaywgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMuX19zZXRCZ092ZXJsYXlJbWFnZSgnYmFja2dyb3VuZEltYWdlJywgaW1hZ2UsIGNhbGxiYWNrLCBvcHRpb25zKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB7QGxpbmsgZmFicmljLlN0YXRpY0NhbnZhcyNvdmVybGF5Q29sb3J8Zm9yZWdyb3VuZCBjb2xvcn0gZm9yIHRoaXMgY2FudmFzXG4gICAgICogQHBhcmFtIHsoU3RyaW5nfGZhYnJpYy5QYXR0ZXJuKX0gb3ZlcmxheUNvbG9yIENvbG9yIG9yIHBhdHRlcm4gdG8gc2V0IGZvcmVncm91bmQgY29sb3IgdG9cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsYmFjayB0byBpbnZva2Ugd2hlbiBmb3JlZ3JvdW5kIGNvbG9yIGlzIHNldFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cDovL2pzZmlkZGxlLm5ldC9mYWJyaWNqcy9wQjU1aC98anNGaWRkbGUgZGVtb31cbiAgICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5Ob3JtYWwgb3ZlcmxheUNvbG9yIC0gY29sb3IgdmFsdWU8L2NhcHRpb24+XG4gICAgICogY2FudmFzLnNldE92ZXJsYXlDb2xvcigncmdiYSgyNTUsIDczLCA2NCwgMC42KScsIGNhbnZhcy5yZW5kZXJBbGwuYmluZChjYW52YXMpKTtcbiAgICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5mYWJyaWMuUGF0dGVybiB1c2VkIGFzIG92ZXJsYXlDb2xvcjwvY2FwdGlvbj5cbiAgICAgKiBjYW52YXMuc2V0T3ZlcmxheUNvbG9yKHtcbiAgICAgKiAgIHNvdXJjZTogJ2h0dHA6Ly9mYWJyaWNqcy5jb20vYXNzZXRzL2VzY2hlcmVzcXVlX3N0ZS5wbmcnXG4gICAgICogfSwgY2FudmFzLnJlbmRlckFsbC5iaW5kKGNhbnZhcykpO1xuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPmZhYnJpYy5QYXR0ZXJuIHVzZWQgYXMgb3ZlcmxheUNvbG9yIHdpdGggcmVwZWF0IGFuZCBvZmZzZXQ8L2NhcHRpb24+XG4gICAgICogY2FudmFzLnNldE92ZXJsYXlDb2xvcih7XG4gICAgICogICBzb3VyY2U6ICdodHRwOi8vZmFicmljanMuY29tL2Fzc2V0cy9lc2NoZXJlc3F1ZV9zdGUucG5nJyxcbiAgICAgKiAgIHJlcGVhdDogJ3JlcGVhdCcsXG4gICAgICogICBvZmZzZXRYOiAyMDAsXG4gICAgICogICBvZmZzZXRZOiAxMDBcbiAgICAgKiB9LCBjYW52YXMucmVuZGVyQWxsLmJpbmQoY2FudmFzKSk7XG4gICAgICovXG4gICAgc2V0T3ZlcmxheUNvbG9yOiBmdW5jdGlvbihvdmVybGF5Q29sb3IsIGNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX3NldEJnT3ZlcmxheUNvbG9yKCdvdmVybGF5Q29sb3InLCBvdmVybGF5Q29sb3IsIGNhbGxiYWNrKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB7QGxpbmsgZmFicmljLlN0YXRpY0NhbnZhcyNiYWNrZ3JvdW5kQ29sb3J8YmFja2dyb3VuZCBjb2xvcn0gZm9yIHRoaXMgY2FudmFzXG4gICAgICogQHBhcmFtIHsoU3RyaW5nfGZhYnJpYy5QYXR0ZXJuKX0gYmFja2dyb3VuZENvbG9yIENvbG9yIG9yIHBhdHRlcm4gdG8gc2V0IGJhY2tncm91bmQgY29sb3IgdG9cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsYmFjayB0byBpbnZva2Ugd2hlbiBiYWNrZ3JvdW5kIGNvbG9yIGlzIHNldFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cDovL2pzZmlkZGxlLm5ldC9mYWJyaWNqcy9oWHp2ay98anNGaWRkbGUgZGVtb31cbiAgICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5Ob3JtYWwgYmFja2dyb3VuZENvbG9yIC0gY29sb3IgdmFsdWU8L2NhcHRpb24+XG4gICAgICogY2FudmFzLnNldEJhY2tncm91bmRDb2xvcigncmdiYSgyNTUsIDczLCA2NCwgMC42KScsIGNhbnZhcy5yZW5kZXJBbGwuYmluZChjYW52YXMpKTtcbiAgICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5mYWJyaWMuUGF0dGVybiB1c2VkIGFzIGJhY2tncm91bmRDb2xvcjwvY2FwdGlvbj5cbiAgICAgKiBjYW52YXMuc2V0QmFja2dyb3VuZENvbG9yKHtcbiAgICAgKiAgIHNvdXJjZTogJ2h0dHA6Ly9mYWJyaWNqcy5jb20vYXNzZXRzL2VzY2hlcmVzcXVlX3N0ZS5wbmcnXG4gICAgICogfSwgY2FudmFzLnJlbmRlckFsbC5iaW5kKGNhbnZhcykpO1xuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPmZhYnJpYy5QYXR0ZXJuIHVzZWQgYXMgYmFja2dyb3VuZENvbG9yIHdpdGggcmVwZWF0IGFuZCBvZmZzZXQ8L2NhcHRpb24+XG4gICAgICogY2FudmFzLnNldEJhY2tncm91bmRDb2xvcih7XG4gICAgICogICBzb3VyY2U6ICdodHRwOi8vZmFicmljanMuY29tL2Fzc2V0cy9lc2NoZXJlc3F1ZV9zdGUucG5nJyxcbiAgICAgKiAgIHJlcGVhdDogJ3JlcGVhdCcsXG4gICAgICogICBvZmZzZXRYOiAyMDAsXG4gICAgICogICBvZmZzZXRZOiAxMDBcbiAgICAgKiB9LCBjYW52YXMucmVuZGVyQWxsLmJpbmQoY2FudmFzKSk7XG4gICAgICovXG4gICAgc2V0QmFja2dyb3VuZENvbG9yOiBmdW5jdGlvbihiYWNrZ3JvdW5kQ29sb3IsIGNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX3NldEJnT3ZlcmxheUNvbG9yKCdiYWNrZ3JvdW5kQ29sb3InLCBiYWNrZ3JvdW5kQ29sb3IsIGNhbGxiYWNrKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydHkgUHJvcGVydHkgdG8gc2V0ICh7QGxpbmsgZmFicmljLlN0YXRpY0NhbnZhcyNiYWNrZ3JvdW5kSW1hZ2V8YmFja2dyb3VuZEltYWdlfVxuICAgICAqIG9yIHtAbGluayBmYWJyaWMuU3RhdGljQ2FudmFzI292ZXJsYXlJbWFnZXxvdmVybGF5SW1hZ2V9KVxuICAgICAqIEBwYXJhbSB7KGZhYnJpYy5JbWFnZXxTdHJpbmd8bnVsbCl9IGltYWdlIGZhYnJpYy5JbWFnZSBpbnN0YW5jZSwgVVJMIG9mIGFuIGltYWdlIG9yIG51bGwgdG8gc2V0IGJhY2tncm91bmQgb3Igb3ZlcmxheSB0b1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIENhbGxiYWNrIHRvIGludm9rZSB3aGVuIGltYWdlIGlzIGxvYWRlZCBhbmQgc2V0IGFzIGJhY2tncm91bmQgb3Igb3ZlcmxheS4gVGhlIGZpcnN0IGFyZ3VtZW50IGlzIHRoZSBjcmVhdGVkIGltYWdlLCB0aGUgc2Vjb25kIGFyZ3VtZW50IGlzIGEgZmxhZyBpbmRpY2F0aW5nIHdoZXRoZXIgYW4gZXJyb3Igb2NjdXJyZWQgb3Igbm90LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9uYWwgb3B0aW9ucyB0byBzZXQgZm9yIHRoZSB7QGxpbmsgZmFicmljLkltYWdlfGltYWdlfS5cbiAgICAgKi9cbiAgICBfX3NldEJnT3ZlcmxheUltYWdlOiBmdW5jdGlvbihwcm9wZXJ0eSwgaW1hZ2UsIGNhbGxiYWNrLCBvcHRpb25zKSB7XG4gICAgICBpZiAodHlwZW9mIGltYWdlID09PSAnc3RyaW5nJykge1xuICAgICAgICBmYWJyaWMudXRpbC5sb2FkSW1hZ2UoaW1hZ2UsIGZ1bmN0aW9uKGltZywgaXNFcnJvcikge1xuICAgICAgICAgIGlmIChpbWcpIHtcbiAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IG5ldyBmYWJyaWMuSW1hZ2UoaW1nLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXNbcHJvcGVydHldID0gaW5zdGFuY2U7XG4gICAgICAgICAgICBpbnN0YW5jZS5jYW52YXMgPSB0aGlzO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhpbWcsIGlzRXJyb3IpO1xuICAgICAgICB9LCB0aGlzLCBvcHRpb25zICYmIG9wdGlvbnMuY3Jvc3NPcmlnaW4pO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIG9wdGlvbnMgJiYgaW1hZ2Uuc2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgdGhpc1twcm9wZXJ0eV0gPSBpbWFnZTtcbiAgICAgICAgaW1hZ2UgJiYgKGltYWdlLmNhbnZhcyA9IHRoaXMpO1xuICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhpbWFnZSwgZmFsc2UpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydHkgUHJvcGVydHkgdG8gc2V0ICh7QGxpbmsgZmFicmljLlN0YXRpY0NhbnZhcyNiYWNrZ3JvdW5kQ29sb3J8YmFja2dyb3VuZENvbG9yfVxuICAgICAqIG9yIHtAbGluayBmYWJyaWMuU3RhdGljQ2FudmFzI292ZXJsYXlDb2xvcnxvdmVybGF5Q29sb3J9KVxuICAgICAqIEBwYXJhbSB7KE9iamVjdHxTdHJpbmd8bnVsbCl9IGNvbG9yIE9iamVjdCB3aXRoIHBhdHRlcm4gaW5mb3JtYXRpb24sIGNvbG9yIHZhbHVlIG9yIG51bGxcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIENhbGxiYWNrIGlzIGludm9rZWQgd2hlbiBjb2xvciBpcyBzZXRcbiAgICAgKi9cbiAgICBfX3NldEJnT3ZlcmxheUNvbG9yOiBmdW5jdGlvbihwcm9wZXJ0eSwgY29sb3IsIGNhbGxiYWNrKSB7XG4gICAgICB0aGlzW3Byb3BlcnR5XSA9IGNvbG9yO1xuICAgICAgdGhpcy5faW5pdEdyYWRpZW50KGNvbG9yLCBwcm9wZXJ0eSk7XG4gICAgICB0aGlzLl9pbml0UGF0dGVybihjb2xvciwgcHJvcGVydHksIGNhbGxiYWNrKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9jcmVhdGVDYW52YXNFbGVtZW50OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBlbGVtZW50ID0gY3JlYXRlQ2FudmFzRWxlbWVudCgpO1xuICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgIHRocm93IENBTlZBU19JTklUX0VSUk9SO1xuICAgICAgfVxuICAgICAgaWYgKCFlbGVtZW50LnN0eWxlKSB7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUgPSB7IH07XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGVsZW1lbnQuZ2V0Q29udGV4dCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhyb3cgQ0FOVkFTX0lOSVRfRVJST1I7XG4gICAgICB9XG4gICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAgICovXG4gICAgX2luaXRPcHRpb25zOiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgdmFyIGxvd2VyQ2FudmFzRWwgPSB0aGlzLmxvd2VyQ2FudmFzRWw7XG4gICAgICB0aGlzLl9zZXRPcHRpb25zKG9wdGlvbnMpO1xuXG4gICAgICB0aGlzLndpZHRoID0gdGhpcy53aWR0aCB8fCBwYXJzZUludChsb3dlckNhbnZhc0VsLndpZHRoLCAxMCkgfHwgMDtcbiAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgfHwgcGFyc2VJbnQobG93ZXJDYW52YXNFbC5oZWlnaHQsIDEwKSB8fCAwO1xuXG4gICAgICBpZiAoIXRoaXMubG93ZXJDYW52YXNFbC5zdHlsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGxvd2VyQ2FudmFzRWwud2lkdGggPSB0aGlzLndpZHRoO1xuICAgICAgbG93ZXJDYW52YXNFbC5oZWlnaHQgPSB0aGlzLmhlaWdodDtcblxuICAgICAgbG93ZXJDYW52YXNFbC5zdHlsZS53aWR0aCA9IHRoaXMud2lkdGggKyAncHgnO1xuICAgICAgbG93ZXJDYW52YXNFbC5zdHlsZS5oZWlnaHQgPSB0aGlzLmhlaWdodCArICdweCc7XG5cbiAgICAgIHRoaXMudmlld3BvcnRUcmFuc2Zvcm0gPSB0aGlzLnZpZXdwb3J0VHJhbnNmb3JtLnNsaWNlKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBib3R0b20gY2FudmFzXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBbY2FudmFzRWxdXG4gICAgICovXG4gICAgX2NyZWF0ZUxvd2VyQ2FudmFzOiBmdW5jdGlvbiAoY2FudmFzRWwpIHtcbiAgICAgIC8vIGNhbnZhc0VsID09PSAnSFRNTENhbnZhc0VsZW1lbnQnIGRvZXMgbm90IHdvcmsgb24ganNkb20vbm9kZVxuICAgICAgaWYgKGNhbnZhc0VsICYmIGNhbnZhc0VsLmdldENvbnRleHQpIHtcbiAgICAgICAgdGhpcy5sb3dlckNhbnZhc0VsID0gY2FudmFzRWw7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5sb3dlckNhbnZhc0VsID0gZmFicmljLnV0aWwuZ2V0QnlJZChjYW52YXNFbCkgfHwgdGhpcy5fY3JlYXRlQ2FudmFzRWxlbWVudCgpO1xuICAgICAgfVxuXG4gICAgICBmYWJyaWMudXRpbC5hZGRDbGFzcyh0aGlzLmxvd2VyQ2FudmFzRWwsICdsb3dlci1jYW52YXMnKTtcbiAgICAgIHRoaXMuX29yaWdpbmFsQ2FudmFzU3R5bGUgPSB0aGlzLmxvd2VyQ2FudmFzRWwuc3R5bGU7XG4gICAgICBpZiAodGhpcy5pbnRlcmFjdGl2ZSkge1xuICAgICAgICB0aGlzLl9hcHBseUNhbnZhc1N0eWxlKHRoaXMubG93ZXJDYW52YXNFbCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY29udGV4dENvbnRhaW5lciA9IHRoaXMubG93ZXJDYW52YXNFbC5nZXRDb250ZXh0KCcyZCcpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGNhbnZhcyB3aWR0aCAoaW4gcHgpXG4gICAgICogQHJldHVybiB7TnVtYmVyfVxuICAgICAqL1xuICAgIGdldFdpZHRoOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy53aWR0aDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBjYW52YXMgaGVpZ2h0IChpbiBweClcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAgICovXG4gICAgZ2V0SGVpZ2h0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5oZWlnaHQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgd2lkdGggb2YgdGhpcyBjYW52YXMgaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge051bWJlcnxTdHJpbmd9IHZhbHVlICAgICAgICAgICAgICAgICAgICAgICAgIFZhbHVlIHRvIHNldCB3aWR0aCB0b1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSAgICAgICAgW29wdGlvbnNdICAgICAgICAgICAgICAgICAgICAgT3B0aW9ucyBvYmplY3RcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59ICAgICAgIFtvcHRpb25zLmJhY2tzdG9yZU9ubHk9ZmFsc2VdIFNldCB0aGUgZ2l2ZW4gZGltZW5zaW9ucyBvbmx5IGFzIGNhbnZhcyBiYWNrc3RvcmUgZGltZW5zaW9uc1xuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gICAgICAgW29wdGlvbnMuY3NzT25seT1mYWxzZV0gICAgICAgU2V0IHRoZSBnaXZlbiBkaW1lbnNpb25zIG9ubHkgYXMgY3NzIGRpbWVuc2lvbnNcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSBpbnN0YW5jZVxuICAgICAqIEBjaGFpbmFibGUgdHJ1ZVxuICAgICAqL1xuICAgIHNldFdpZHRoOiBmdW5jdGlvbiAodmFsdWUsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLnNldERpbWVuc2lvbnMoeyB3aWR0aDogdmFsdWUgfSwgb3B0aW9ucyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgaGVpZ2h0IG9mIHRoaXMgY2FudmFzIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ8U3RyaW5nfSB2YWx1ZSAgICAgICAgICAgICAgICAgICAgICAgICBWYWx1ZSB0byBzZXQgaGVpZ2h0IHRvXG4gICAgICogQHBhcmFtIHtPYmplY3R9ICAgICAgICBbb3B0aW9uc10gICAgICAgICAgICAgICAgICAgICBPcHRpb25zIG9iamVjdFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gICAgICAgW29wdGlvbnMuYmFja3N0b3JlT25seT1mYWxzZV0gU2V0IHRoZSBnaXZlbiBkaW1lbnNpb25zIG9ubHkgYXMgY2FudmFzIGJhY2tzdG9yZSBkaW1lbnNpb25zXG4gICAgICogQHBhcmFtIHtCb29sZWFufSAgICAgICBbb3B0aW9ucy5jc3NPbmx5PWZhbHNlXSAgICAgICBTZXQgdGhlIGdpdmVuIGRpbWVuc2lvbnMgb25seSBhcyBjc3MgZGltZW5zaW9uc1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IGluc3RhbmNlXG4gICAgICogQGNoYWluYWJsZSB0cnVlXG4gICAgICovXG4gICAgc2V0SGVpZ2h0OiBmdW5jdGlvbiAodmFsdWUsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLnNldERpbWVuc2lvbnMoeyBoZWlnaHQ6IHZhbHVlIH0sIG9wdGlvbnMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIGRpbWVuc2lvbnMgKHdpZHRoLCBoZWlnaHQpIG9mIHRoaXMgY2FudmFzIGluc3RhbmNlLiB3aGVuIG9wdGlvbnMuY3NzT25seSBmbGFnIGFjdGl2ZSB5b3Ugc2hvdWxkIGFsc28gc3VwcGx5IHRoZSB1bml0IG9mIG1lYXN1cmUgKHB4LyUvZW0pXG4gICAgICogQHBhcmFtIHtPYmplY3R9ICAgICAgICBkaW1lbnNpb25zICAgICAgICAgICAgICAgICAgICBPYmplY3Qgd2l0aCB3aWR0aC9oZWlnaHQgcHJvcGVydGllc1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfFN0cmluZ30gW2RpbWVuc2lvbnMud2lkdGhdICAgICAgICAgICAgV2lkdGggb2YgY2FudmFzIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge051bWJlcnxTdHJpbmd9IFtkaW1lbnNpb25zLmhlaWdodF0gICAgICAgICAgIEhlaWdodCBvZiBjYW52YXMgZWxlbWVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSAgICAgICAgW29wdGlvbnNdICAgICAgICAgICAgICAgICAgICAgT3B0aW9ucyBvYmplY3RcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59ICAgICAgIFtvcHRpb25zLmJhY2tzdG9yZU9ubHk9ZmFsc2VdIFNldCB0aGUgZ2l2ZW4gZGltZW5zaW9ucyBvbmx5IGFzIGNhbnZhcyBiYWNrc3RvcmUgZGltZW5zaW9uc1xuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gICAgICAgW29wdGlvbnMuY3NzT25seT1mYWxzZV0gICAgICAgU2V0IHRoZSBnaXZlbiBkaW1lbnNpb25zIG9ubHkgYXMgY3NzIGRpbWVuc2lvbnNcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHNldERpbWVuc2lvbnM6IGZ1bmN0aW9uIChkaW1lbnNpb25zLCBvcHRpb25zKSB7XG4gICAgICB2YXIgY3NzVmFsdWU7XG5cbiAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICBmb3IgKHZhciBwcm9wIGluIGRpbWVuc2lvbnMpIHtcbiAgICAgICAgY3NzVmFsdWUgPSBkaW1lbnNpb25zW3Byb3BdO1xuXG4gICAgICAgIGlmICghb3B0aW9ucy5jc3NPbmx5KSB7XG4gICAgICAgICAgdGhpcy5fc2V0QmFja3N0b3JlRGltZW5zaW9uKHByb3AsIGRpbWVuc2lvbnNbcHJvcF0pO1xuICAgICAgICAgIGNzc1ZhbHVlICs9ICdweCc7XG4gICAgICAgICAgdGhpcy5oYXNMb3N0Q29udGV4dCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIW9wdGlvbnMuYmFja3N0b3JlT25seSkge1xuICAgICAgICAgIHRoaXMuX3NldENzc0RpbWVuc2lvbihwcm9wLCBjc3NWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLl9pc0N1cnJlbnRseURyYXdpbmcpIHtcbiAgICAgICAgdGhpcy5mcmVlRHJhd2luZ0JydXNoICYmIHRoaXMuZnJlZURyYXdpbmdCcnVzaC5fc2V0QnJ1c2hTdHlsZXModGhpcy5jb250ZXh0VG9wKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2luaXRSZXRpbmFTY2FsaW5nKCk7XG4gICAgICB0aGlzLmNhbGNPZmZzZXQoKTtcblxuICAgICAgaWYgKCFvcHRpb25zLmNzc09ubHkpIHtcbiAgICAgICAgdGhpcy5yZXF1ZXN0UmVuZGVyQWxsKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZm9yIHNldHRpbmcgd2lkdGgvaGVpZ2h0XG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcCBwcm9wZXJ0eSAod2lkdGh8aGVpZ2h0KVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB2YWx1ZSB2YWx1ZSB0byBzZXQgcHJvcGVydHkgdG9cbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSBpbnN0YW5jZVxuICAgICAqIEBjaGFpbmFibGUgdHJ1ZVxuICAgICAqL1xuICAgIF9zZXRCYWNrc3RvcmVEaW1lbnNpb246IGZ1bmN0aW9uIChwcm9wLCB2YWx1ZSkge1xuICAgICAgdGhpcy5sb3dlckNhbnZhc0VsW3Byb3BdID0gdmFsdWU7XG5cbiAgICAgIGlmICh0aGlzLnVwcGVyQ2FudmFzRWwpIHtcbiAgICAgICAgdGhpcy51cHBlckNhbnZhc0VsW3Byb3BdID0gdmFsdWU7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmNhY2hlQ2FudmFzRWwpIHtcbiAgICAgICAgdGhpcy5jYWNoZUNhbnZhc0VsW3Byb3BdID0gdmFsdWU7XG4gICAgICB9XG5cbiAgICAgIHRoaXNbcHJvcF0gPSB2YWx1ZTtcblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmb3Igc2V0dGluZyBjc3Mgd2lkdGgvaGVpZ2h0XG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcCBwcm9wZXJ0eSAod2lkdGh8aGVpZ2h0KVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZSB2YWx1ZSB0byBzZXQgcHJvcGVydHkgdG9cbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSBpbnN0YW5jZVxuICAgICAqIEBjaGFpbmFibGUgdHJ1ZVxuICAgICAqL1xuICAgIF9zZXRDc3NEaW1lbnNpb246IGZ1bmN0aW9uIChwcm9wLCB2YWx1ZSkge1xuICAgICAgdGhpcy5sb3dlckNhbnZhc0VsLnN0eWxlW3Byb3BdID0gdmFsdWU7XG5cbiAgICAgIGlmICh0aGlzLnVwcGVyQ2FudmFzRWwpIHtcbiAgICAgICAgdGhpcy51cHBlckNhbnZhc0VsLnN0eWxlW3Byb3BdID0gdmFsdWU7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLndyYXBwZXJFbCkge1xuICAgICAgICB0aGlzLndyYXBwZXJFbC5zdHlsZVtwcm9wXSA9IHZhbHVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBjYW52YXMgem9vbSBsZXZlbFxuICAgICAqIEByZXR1cm4ge051bWJlcn1cbiAgICAgKi9cbiAgICBnZXRab29tOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy52aWV3cG9ydFRyYW5zZm9ybVswXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB2aWV3cG9ydCB0cmFuc2Zvcm1hdGlvbiBvZiB0aGlzIGNhbnZhcyBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZwdCBhIENhbnZhcyAyRCBBUEkgdHJhbnNmb3JtIG1hdHJpeFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IGluc3RhbmNlXG4gICAgICogQGNoYWluYWJsZSB0cnVlXG4gICAgICovXG4gICAgc2V0Vmlld3BvcnRUcmFuc2Zvcm06IGZ1bmN0aW9uICh2cHQpIHtcbiAgICAgIHZhciBhY3RpdmVPYmplY3QgPSB0aGlzLl9hY3RpdmVPYmplY3QsXG4gICAgICAgICAgYmFja2dyb3VuZE9iamVjdCA9IHRoaXMuYmFja2dyb3VuZEltYWdlLFxuICAgICAgICAgIG92ZXJsYXlPYmplY3QgPSB0aGlzLm92ZXJsYXlJbWFnZSxcbiAgICAgICAgICBvYmplY3QsIGksIGxlbjtcbiAgICAgIHRoaXMudmlld3BvcnRUcmFuc2Zvcm0gPSB2cHQ7XG4gICAgICBmb3IgKGkgPSAwLCBsZW4gPSB0aGlzLl9vYmplY3RzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIG9iamVjdCA9IHRoaXMuX29iamVjdHNbaV07XG4gICAgICAgIG9iamVjdC5ncm91cCB8fCBvYmplY3Quc2V0Q29vcmRzKHRydWUpO1xuICAgICAgfVxuICAgICAgaWYgKGFjdGl2ZU9iamVjdCkge1xuICAgICAgICBhY3RpdmVPYmplY3Quc2V0Q29vcmRzKCk7XG4gICAgICB9XG4gICAgICBpZiAoYmFja2dyb3VuZE9iamVjdCkge1xuICAgICAgICBiYWNrZ3JvdW5kT2JqZWN0LnNldENvb3Jkcyh0cnVlKTtcbiAgICAgIH1cbiAgICAgIGlmIChvdmVybGF5T2JqZWN0KSB7XG4gICAgICAgIG92ZXJsYXlPYmplY3Quc2V0Q29vcmRzKHRydWUpO1xuICAgICAgfVxuICAgICAgdGhpcy5jYWxjVmlld3BvcnRCb3VuZGFyaWVzKCk7XG4gICAgICB0aGlzLnJlbmRlck9uQWRkUmVtb3ZlICYmIHRoaXMucmVxdWVzdFJlbmRlckFsbCgpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgem9vbSBsZXZlbCBvZiB0aGlzIGNhbnZhcyBpbnN0YW5jZSwgdGhlIHpvb20gY2VudGVyZWQgYXJvdW5kIHBvaW50XG4gICAgICogbWVhbmluZyB0aGF0IGZvbGxvd2luZyB6b29tIHRvIHBvaW50IHdpdGggdGhlIHNhbWUgcG9pbnQgd2lsbCBoYXZlIHRoZSB2aXN1YWxcbiAgICAgKiBlZmZlY3Qgb2YgdGhlIHpvb20gb3JpZ2luYXRpbmcgZnJvbSB0aGF0IHBvaW50LiBUaGUgcG9pbnQgd29uJ3QgbW92ZS5cbiAgICAgKiBJdCBoYXMgbm90aGluZyB0byBkbyB3aXRoIGNhbnZhcyBjZW50ZXIgb3IgdmlzdWFsIGNlbnRlciBvZiB0aGUgdmlld3BvcnQuXG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IHBvaW50IHRvIHpvb20gd2l0aCByZXNwZWN0IHRvXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHZhbHVlIHRvIHNldCB6b29tIHRvLCBsZXNzIHRoYW4gMSB6b29tcyBvdXRcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSBpbnN0YW5jZVxuICAgICAqIEBjaGFpbmFibGUgdHJ1ZVxuICAgICAqL1xuICAgIHpvb21Ub1BvaW50OiBmdW5jdGlvbiAocG9pbnQsIHZhbHVlKSB7XG4gICAgICAvLyBUT0RPOiBqdXN0IGNoYW5nZSB0aGUgc2NhbGUsIHByZXNlcnZlIG90aGVyIHRyYW5zZm9ybWF0aW9uc1xuICAgICAgdmFyIGJlZm9yZSA9IHBvaW50LCB2cHQgPSB0aGlzLnZpZXdwb3J0VHJhbnNmb3JtLnNsaWNlKDApO1xuICAgICAgcG9pbnQgPSB0cmFuc2Zvcm1Qb2ludChwb2ludCwgaW52ZXJ0VHJhbnNmb3JtKHRoaXMudmlld3BvcnRUcmFuc2Zvcm0pKTtcbiAgICAgIHZwdFswXSA9IHZhbHVlO1xuICAgICAgdnB0WzNdID0gdmFsdWU7XG4gICAgICB2YXIgYWZ0ZXIgPSB0cmFuc2Zvcm1Qb2ludChwb2ludCwgdnB0KTtcbiAgICAgIHZwdFs0XSArPSBiZWZvcmUueCAtIGFmdGVyLng7XG4gICAgICB2cHRbNV0gKz0gYmVmb3JlLnkgLSBhZnRlci55O1xuICAgICAgcmV0dXJuIHRoaXMuc2V0Vmlld3BvcnRUcmFuc2Zvcm0odnB0KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB6b29tIGxldmVsIG9mIHRoaXMgY2FudmFzIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHZhbHVlIHRvIHNldCB6b29tIHRvLCBsZXNzIHRoYW4gMSB6b29tcyBvdXRcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSBpbnN0YW5jZVxuICAgICAqIEBjaGFpbmFibGUgdHJ1ZVxuICAgICAqL1xuICAgIHNldFpvb206IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgdGhpcy56b29tVG9Qb2ludChuZXcgZmFicmljLlBvaW50KDAsIDApLCB2YWx1ZSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUGFuIHZpZXdwb3J0IHNvIGFzIHRvIHBsYWNlIHBvaW50IGF0IHRvcCBsZWZ0IGNvcm5lciBvZiBjYW52YXNcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gcG9pbnQgdG8gbW92ZSB0b1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IGluc3RhbmNlXG4gICAgICogQGNoYWluYWJsZSB0cnVlXG4gICAgICovXG4gICAgYWJzb2x1dGVQYW46IGZ1bmN0aW9uIChwb2ludCkge1xuICAgICAgdmFyIHZwdCA9IHRoaXMudmlld3BvcnRUcmFuc2Zvcm0uc2xpY2UoMCk7XG4gICAgICB2cHRbNF0gPSAtcG9pbnQueDtcbiAgICAgIHZwdFs1XSA9IC1wb2ludC55O1xuICAgICAgcmV0dXJuIHRoaXMuc2V0Vmlld3BvcnRUcmFuc2Zvcm0odnB0KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUGFucyB2aWV3cG9pbnQgcmVsYXRpdmVseVxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSBwb2ludCAocG9zaXRpb24gdmVjdG9yKSB0byBtb3ZlIGJ5XG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gaW5zdGFuY2VcbiAgICAgKiBAY2hhaW5hYmxlIHRydWVcbiAgICAgKi9cbiAgICByZWxhdGl2ZVBhbjogZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgICByZXR1cm4gdGhpcy5hYnNvbHV0ZVBhbihuZXcgZmFicmljLlBvaW50KFxuICAgICAgICAtcG9pbnQueCAtIHRoaXMudmlld3BvcnRUcmFuc2Zvcm1bNF0sXG4gICAgICAgIC1wb2ludC55IC0gdGhpcy52aWV3cG9ydFRyYW5zZm9ybVs1XVxuICAgICAgKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgJmx0O2NhbnZhcz4gZWxlbWVudCBjb3JyZXNwb25kaW5nIHRvIHRoaXMgaW5zdGFuY2VcbiAgICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgKi9cbiAgICBnZXRFbGVtZW50OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5sb3dlckNhbnZhc0VsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gb2JqIE9iamVjdCB0aGF0IHdhcyBhZGRlZFxuICAgICAqL1xuICAgIF9vbk9iamVjdEFkZGVkOiBmdW5jdGlvbihvYmopIHtcbiAgICAgIHRoaXMuc3RhdGVmdWwgJiYgb2JqLnNldHVwU3RhdGUoKTtcbiAgICAgIG9iai5fc2V0KCdjYW52YXMnLCB0aGlzKTtcbiAgICAgIG9iai5zZXRDb29yZHMoKTtcbiAgICAgIHRoaXMuZmlyZSgnb2JqZWN0OmFkZGVkJywgeyB0YXJnZXQ6IG9iaiB9KTtcbiAgICAgIG9iai5maXJlKCdhZGRlZCcpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gb2JqIE9iamVjdCB0aGF0IHdhcyByZW1vdmVkXG4gICAgICovXG4gICAgX29uT2JqZWN0UmVtb3ZlZDogZnVuY3Rpb24ob2JqKSB7XG4gICAgICB0aGlzLmZpcmUoJ29iamVjdDpyZW1vdmVkJywgeyB0YXJnZXQ6IG9iaiB9KTtcbiAgICAgIG9iai5maXJlKCdyZW1vdmVkJyk7XG4gICAgICBkZWxldGUgb2JqLmNhbnZhcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHNwZWNpZmllZCBjb250ZXh0IG9mIGNhbnZhcyBlbGVtZW50XG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIGNsZWFyXG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBjbGVhckNvbnRleHQ6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBjb250ZXh0IG9mIGNhbnZhcyB3aGVyZSBvYmplY3RzIGFyZSBkcmF3blxuICAgICAqIEByZXR1cm4ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cbiAgICAgKi9cbiAgICBnZXRDb250ZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb250ZXh0Q29udGFpbmVyO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgYWxsIGNvbnRleHRzIChiYWNrZ3JvdW5kLCBtYWluLCB0b3ApIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBjbGVhcjogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5yZW1vdmUuYXBwbHkodGhpcywgdGhpcy5nZXRPYmplY3RzKCkpO1xuICAgICAgdGhpcy5iYWNrZ3JvdW5kSW1hZ2UgPSBudWxsO1xuICAgICAgdGhpcy5vdmVybGF5SW1hZ2UgPSBudWxsO1xuICAgICAgdGhpcy5iYWNrZ3JvdW5kQ29sb3IgPSAnJztcbiAgICAgIHRoaXMub3ZlcmxheUNvbG9yID0gJyc7XG4gICAgICBpZiAodGhpcy5faGFzSVRleHRIYW5kbGVycykge1xuICAgICAgICB0aGlzLm9mZignbW91c2U6dXAnLCB0aGlzLl9tb3VzZVVwSVRleHRIYW5kbGVyKTtcbiAgICAgICAgdGhpcy5faVRleHRJbnN0YW5jZXMgPSBudWxsO1xuICAgICAgICB0aGlzLl9oYXNJVGV4dEhhbmRsZXJzID0gZmFsc2U7XG4gICAgICB9XG4gICAgICB0aGlzLmNsZWFyQ29udGV4dCh0aGlzLmNvbnRleHRDb250YWluZXIpO1xuICAgICAgdGhpcy5maXJlKCdjYW52YXM6Y2xlYXJlZCcpO1xuICAgICAgdGhpcy5yZW5kZXJPbkFkZFJlbW92ZSAmJiB0aGlzLnJlcXVlc3RSZW5kZXJBbGwoKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBjYW52YXNcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSBpbnN0YW5jZVxuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICByZW5kZXJBbGw6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBjYW52YXNUb0RyYXdPbiA9IHRoaXMuY29udGV4dENvbnRhaW5lcjtcbiAgICAgIHRoaXMucmVuZGVyQ2FudmFzKGNhbnZhc1RvRHJhd09uLCB0aGlzLl9vYmplY3RzKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiBjcmVhdGVkIHRvIGJlIGluc3RhbmNlIGJvdW5kIGF0IGluaXRpYWxpemF0aW9uXG4gICAgICogdXNlZCBpbiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgcmVuZGVyaW5nXG4gICAgICogTGV0IHRoZSBmYWJyaWNKUyBjYWxsIGl0LiBJZiB5b3UgY2FsbCBpdCBtYW51YWxseSB5b3UgY291bGQgaGF2ZSBtb3JlXG4gICAgICogYW5pbWF0aW9uRnJhbWUgc3RhY2tpbmcgb24gdG8gb2YgZWFjaCBvdGhlclxuICAgICAqIGZvciBhbiBpbXBlcmF0aXZlIHJlbmRlcmluZywgdXNlIGNhbnZhcy5yZW5kZXJBbGxcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IGluc3RhbmNlXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHJlbmRlckFuZFJlc2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuaXNSZW5kZXJpbmcgPSAwO1xuICAgICAgdGhpcy5yZW5kZXJBbGwoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQXBwZW5kIGEgcmVuZGVyQWxsIHJlcXVlc3QgdG8gbmV4dCBhbmltYXRpb24gZnJhbWUuXG4gICAgICogdW5sZXNzIG9uZSBpcyBhbHJlYWR5IGluIHByb2dyZXNzLCBpbiB0aGF0IGNhc2Ugbm90aGluZyBpcyBkb25lXG4gICAgICogYSBib29sZWFuIGZsYWcgd2lsbCBhdm9pZCBhcHBlbmRpbmcgbW9yZS5cbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSBpbnN0YW5jZVxuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICByZXF1ZXN0UmVuZGVyQWxsOiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIXRoaXMuaXNSZW5kZXJpbmcpIHtcbiAgICAgICAgdGhpcy5pc1JlbmRlcmluZyA9IGZhYnJpYy51dGlsLnJlcXVlc3RBbmltRnJhbWUodGhpcy5yZW5kZXJBbmRSZXNldEJvdW5kKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIHBvc2l0aW9uIG9mIHRoZSA0IGNvcm5lciBvZiBjYW52YXMgd2l0aCBjdXJyZW50IHZpZXdwb3J0VHJhbnNmb3JtLlxuICAgICAqIGhlbHBzIHRvIGRldGVybWluYXRlIHdoZW4gYW4gb2JqZWN0IGlzIGluIHRoZSBjdXJyZW50IHJlbmRlcmluZyB2aWV3cG9ydCB1c2luZ1xuICAgICAqIG9iamVjdCBhYnNvbHV0ZSBjb29yZGluYXRlcyAoIGFDb29yZHMgKVxuICAgICAqIEByZXR1cm4ge09iamVjdH0gcG9pbnRzLnRsXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGNhbGNWaWV3cG9ydEJvdW5kYXJpZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHBvaW50cyA9IHsgfSwgd2lkdGggPSB0aGlzLndpZHRoLCBoZWlnaHQgPSB0aGlzLmhlaWdodCxcbiAgICAgICAgICBpVnB0ID0gaW52ZXJ0VHJhbnNmb3JtKHRoaXMudmlld3BvcnRUcmFuc2Zvcm0pO1xuICAgICAgcG9pbnRzLnRsID0gdHJhbnNmb3JtUG9pbnQoeyB4OiAwLCB5OiAwIH0sIGlWcHQpO1xuICAgICAgcG9pbnRzLmJyID0gdHJhbnNmb3JtUG9pbnQoeyB4OiB3aWR0aCwgeTogaGVpZ2h0IH0sIGlWcHQpO1xuICAgICAgcG9pbnRzLnRyID0gbmV3IGZhYnJpYy5Qb2ludChwb2ludHMuYnIueCwgcG9pbnRzLnRsLnkpO1xuICAgICAgcG9pbnRzLmJsID0gbmV3IGZhYnJpYy5Qb2ludChwb2ludHMudGwueCwgcG9pbnRzLmJyLnkpO1xuICAgICAgdGhpcy52cHRDb29yZHMgPSBwb2ludHM7XG4gICAgICByZXR1cm4gcG9pbnRzO1xuICAgIH0sXG5cbiAgICBjYW5jZWxSZXF1ZXN0ZWRSZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuaXNSZW5kZXJpbmcpIHtcbiAgICAgICAgZmFicmljLnV0aWwuY2FuY2VsQW5pbUZyYW1lKHRoaXMuaXNSZW5kZXJpbmcpO1xuICAgICAgICB0aGlzLmlzUmVuZGVyaW5nID0gMDtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyBiYWNrZ3JvdW5kLCBvYmplY3RzLCBvdmVybGF5IGFuZCBjb250cm9scy5cbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4XG4gICAgICogQHBhcmFtIHtBcnJheX0gb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSBpbnN0YW5jZVxuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICByZW5kZXJDYW52YXM6IGZ1bmN0aW9uKGN0eCwgb2JqZWN0cykge1xuICAgICAgdmFyIHYgPSB0aGlzLnZpZXdwb3J0VHJhbnNmb3JtLCBwYXRoID0gdGhpcy5jbGlwUGF0aDtcbiAgICAgIHRoaXMuY2FuY2VsUmVxdWVzdGVkUmVuZGVyKCk7XG4gICAgICB0aGlzLmNhbGNWaWV3cG9ydEJvdW5kYXJpZXMoKTtcbiAgICAgIHRoaXMuY2xlYXJDb250ZXh0KGN0eCk7XG4gICAgICBmYWJyaWMudXRpbC5zZXRJbWFnZVNtb290aGluZyhjdHgsIHRoaXMuaW1hZ2VTbW9vdGhpbmdFbmFibGVkKTtcbiAgICAgIHRoaXMuZmlyZSgnYmVmb3JlOnJlbmRlcicsIHsgY3R4OiBjdHgsIH0pO1xuICAgICAgdGhpcy5fcmVuZGVyQmFja2dyb3VuZChjdHgpO1xuXG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgLy9hcHBseSB2aWV3cG9ydCB0cmFuc2Zvcm0gb25jZSBmb3IgYWxsIHJlbmRlcmluZyBwcm9jZXNzXG4gICAgICBjdHgudHJhbnNmb3JtKHZbMF0sIHZbMV0sIHZbMl0sIHZbM10sIHZbNF0sIHZbNV0pO1xuICAgICAgdGhpcy5fcmVuZGVyT2JqZWN0cyhjdHgsIG9iamVjdHMpO1xuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgIGlmICghdGhpcy5jb250cm9sc0Fib3ZlT3ZlcmxheSAmJiB0aGlzLmludGVyYWN0aXZlKSB7XG4gICAgICAgIHRoaXMuZHJhd0NvbnRyb2xzKGN0eCk7XG4gICAgICB9XG4gICAgICBpZiAocGF0aCkge1xuICAgICAgICBwYXRoLmNhbnZhcyA9IHRoaXM7XG4gICAgICAgIC8vIG5lZWRlZCB0byBzZXR1cCBhIGNvdXBsZSBvZiB2YXJpYWJsZXNcbiAgICAgICAgcGF0aC5zaG91bGRDYWNoZSgpO1xuICAgICAgICBwYXRoLl90cmFuc2Zvcm1Eb25lID0gdHJ1ZTtcbiAgICAgICAgcGF0aC5yZW5kZXJDYWNoZSh7IGZvckNsaXBwaW5nOiB0cnVlIH0pO1xuICAgICAgICB0aGlzLmRyYXdDbGlwUGF0aE9uQ2FudmFzKGN0eCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9yZW5kZXJPdmVybGF5KGN0eCk7XG4gICAgICBpZiAodGhpcy5jb250cm9sc0Fib3ZlT3ZlcmxheSAmJiB0aGlzLmludGVyYWN0aXZlKSB7XG4gICAgICAgIHRoaXMuZHJhd0NvbnRyb2xzKGN0eCk7XG4gICAgICB9XG4gICAgICB0aGlzLmZpcmUoJ2FmdGVyOnJlbmRlcicsIHsgY3R4OiBjdHgsIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQYWludCB0aGUgY2FjaGVkIGNsaXBQYXRoIG9uIHRoZSBsb3dlckNhbnZhc0VsXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIGRyYXdDbGlwUGF0aE9uQ2FudmFzOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIHZhciB2ID0gdGhpcy52aWV3cG9ydFRyYW5zZm9ybSwgcGF0aCA9IHRoaXMuY2xpcFBhdGg7XG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgY3R4LnRyYW5zZm9ybSh2WzBdLCB2WzFdLCB2WzJdLCB2WzNdLCB2WzRdLCB2WzVdKTtcbiAgICAgIC8vIERFQlVHOiB1bmNvbW1lbnQgdGhpcyBsaW5lLCBjb21tZW50IHRoZSBmb2xsb3dpbmdcbiAgICAgIC8vIGN0eC5nbG9iYWxBbHBoYSA9IDAuNDtcbiAgICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnZGVzdGluYXRpb24taW4nO1xuICAgICAgcGF0aC50cmFuc2Zvcm0oY3R4KTtcbiAgICAgIGN0eC5zY2FsZSgxIC8gcGF0aC56b29tWCwgMSAvIHBhdGguem9vbVkpO1xuICAgICAgY3R4LmRyYXdJbWFnZShwYXRoLl9jYWNoZUNhbnZhcywgLXBhdGguY2FjaGVUcmFuc2xhdGlvblgsIC1wYXRoLmNhY2hlVHJhbnNsYXRpb25ZKTtcbiAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqIEBwYXJhbSB7QXJyYXl9IG9iamVjdHMgdG8gcmVuZGVyXG4gICAgICovXG4gICAgX3JlbmRlck9iamVjdHM6IGZ1bmN0aW9uKGN0eCwgb2JqZWN0cykge1xuICAgICAgdmFyIGksIGxlbjtcbiAgICAgIGZvciAoaSA9IDAsIGxlbiA9IG9iamVjdHMubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgb2JqZWN0c1tpXSAmJiBvYmplY3RzW2ldLnJlbmRlcihjdHgpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgJ2JhY2tncm91bmQnIG9yICdvdmVybGF5J1xuICAgICAqL1xuICAgIF9yZW5kZXJCYWNrZ3JvdW5kT3JPdmVybGF5OiBmdW5jdGlvbihjdHgsIHByb3BlcnR5KSB7XG4gICAgICB2YXIgZmlsbCA9IHRoaXNbcHJvcGVydHkgKyAnQ29sb3InXSwgb2JqZWN0ID0gdGhpc1twcm9wZXJ0eSArICdJbWFnZSddLFxuICAgICAgICAgIHYgPSB0aGlzLnZpZXdwb3J0VHJhbnNmb3JtLCBuZWVkc1ZwdCA9IHRoaXNbcHJvcGVydHkgKyAnVnB0J107XG4gICAgICBpZiAoIWZpbGwgJiYgIW9iamVjdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoZmlsbCkge1xuICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5tb3ZlVG8oMCwgMCk7XG4gICAgICAgIGN0eC5saW5lVG8odGhpcy53aWR0aCwgMCk7XG4gICAgICAgIGN0eC5saW5lVG8odGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgICAgICBjdHgubGluZVRvKDAsIHRoaXMuaGVpZ2h0KTtcbiAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gZmlsbC50b0xpdmVcbiAgICAgICAgICA/IGZpbGwudG9MaXZlKGN0eCwgdGhpcylcbiAgICAgICAgICA6IGZpbGw7XG4gICAgICAgIGlmIChuZWVkc1ZwdCkge1xuICAgICAgICAgIGN0eC50cmFuc2Zvcm0odlswXSwgdlsxXSwgdlsyXSwgdlszXSwgdls0XSwgdls1XSk7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LnRyYW5zZm9ybSgxLCAwLCAwLCAxLCBmaWxsLm9mZnNldFggfHwgMCwgZmlsbC5vZmZzZXRZIHx8IDApO1xuICAgICAgICB2YXIgbSA9IGZpbGwuZ3JhZGllbnRUcmFuc2Zvcm0gfHwgZmlsbC5wYXR0ZXJuVHJhbnNmb3JtO1xuICAgICAgICBtICYmIGN0eC50cmFuc2Zvcm0obVswXSwgbVsxXSwgbVsyXSwgbVszXSwgbVs0XSwgbVs1XSk7XG4gICAgICAgIGN0eC5maWxsKCk7XG4gICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICB9XG4gICAgICBpZiAob2JqZWN0KSB7XG4gICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgIGlmIChuZWVkc1ZwdCkge1xuICAgICAgICAgIGN0eC50cmFuc2Zvcm0odlswXSwgdlsxXSwgdlsyXSwgdlszXSwgdls0XSwgdls1XSk7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0LnJlbmRlcihjdHgpO1xuICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfcmVuZGVyQmFja2dyb3VuZDogZnVuY3Rpb24oY3R4KSB7XG4gICAgICB0aGlzLl9yZW5kZXJCYWNrZ3JvdW5kT3JPdmVybGF5KGN0eCwgJ2JhY2tncm91bmQnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgX3JlbmRlck92ZXJsYXk6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgdGhpcy5fcmVuZGVyQmFja2dyb3VuZE9yT3ZlcmxheShjdHgsICdvdmVybGF5Jyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgY29vcmRpbmF0ZXMgb2YgYSBjZW50ZXIgb2YgY2FudmFzLlxuICAgICAqIFJldHVybmVkIHZhbHVlIGlzIGFuIG9iamVjdCB3aXRoIHRvcCBhbmQgbGVmdCBwcm9wZXJ0aWVzXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBvYmplY3Qgd2l0aCBcInRvcFwiIGFuZCBcImxlZnRcIiBudW1iZXIgdmFsdWVzXG4gICAgICogQGRlcHJlY2F0ZWQgbWlncmF0ZSB0byBgZ2V0Q2VudGVyUG9pbnRgXG4gICAgICovXG4gICAgZ2V0Q2VudGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b3A6IHRoaXMuaGVpZ2h0IC8gMixcbiAgICAgICAgbGVmdDogdGhpcy53aWR0aCAvIDJcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgY29vcmRpbmF0ZXMgb2YgYSBjZW50ZXIgb2YgY2FudmFzLlxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH0gXG4gICAgICovXG4gICAgZ2V0Q2VudGVyUG9pbnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBuZXcgZmFicmljLlBvaW50KHRoaXMud2lkdGggLyAyLCB0aGlzLmhlaWdodCAvIDIpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDZW50ZXJzIG9iamVjdCBob3Jpem9udGFsbHkgaW4gdGhlIGNhbnZhc1xuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjZW50ZXIgaG9yaXpvbnRhbGx5XG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gdGhpc0FyZ1xuICAgICAqL1xuICAgIGNlbnRlck9iamVjdEg6IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jZW50ZXJPYmplY3Qob2JqZWN0LCBuZXcgZmFicmljLlBvaW50KHRoaXMuZ2V0Q2VudGVyUG9pbnQoKS54LCBvYmplY3QuZ2V0Q2VudGVyUG9pbnQoKS55KSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENlbnRlcnMgb2JqZWN0IHZlcnRpY2FsbHkgaW4gdGhlIGNhbnZhc1xuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjZW50ZXIgdmVydGljYWxseVxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgY2VudGVyT2JqZWN0VjogZnVuY3Rpb24gKG9iamVjdCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2NlbnRlck9iamVjdChvYmplY3QsIG5ldyBmYWJyaWMuUG9pbnQob2JqZWN0LmdldENlbnRlclBvaW50KCkueCwgdGhpcy5nZXRDZW50ZXJQb2ludCgpLnkpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2VudGVycyBvYmplY3QgdmVydGljYWxseSBhbmQgaG9yaXpvbnRhbGx5IGluIHRoZSBjYW52YXNcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY2VudGVyIHZlcnRpY2FsbHkgYW5kIGhvcml6b250YWxseVxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgY2VudGVyT2JqZWN0OiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHZhciBjZW50ZXIgPSB0aGlzLmdldENlbnRlclBvaW50KCk7XG4gICAgICByZXR1cm4gdGhpcy5fY2VudGVyT2JqZWN0KG9iamVjdCwgY2VudGVyKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2VudGVycyBvYmplY3QgdmVydGljYWxseSBhbmQgaG9yaXpvbnRhbGx5IGluIHRoZSB2aWV3cG9ydFxuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjZW50ZXIgdmVydGljYWxseSBhbmQgaG9yaXpvbnRhbGx5XG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICB2aWV3cG9ydENlbnRlck9iamVjdDogZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICB2YXIgdnBDZW50ZXIgPSB0aGlzLmdldFZwQ2VudGVyKCk7XG4gICAgICByZXR1cm4gdGhpcy5fY2VudGVyT2JqZWN0KG9iamVjdCwgdnBDZW50ZXIpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDZW50ZXJzIG9iamVjdCBob3Jpem9udGFsbHkgaW4gdGhlIHZpZXdwb3J0LCBvYmplY3QudG9wIGlzIHVuY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjZW50ZXIgdmVydGljYWxseSBhbmQgaG9yaXpvbnRhbGx5XG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICB2aWV3cG9ydENlbnRlck9iamVjdEg6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgdmFyIHZwQ2VudGVyID0gdGhpcy5nZXRWcENlbnRlcigpO1xuICAgICAgdGhpcy5fY2VudGVyT2JqZWN0KG9iamVjdCwgbmV3IGZhYnJpYy5Qb2ludCh2cENlbnRlci54LCBvYmplY3QuZ2V0Q2VudGVyUG9pbnQoKS55KSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2VudGVycyBvYmplY3QgVmVydGljYWxseSBpbiB0aGUgdmlld3BvcnQsIG9iamVjdC50b3AgaXMgdW5jaGFuZ2VkXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNlbnRlciB2ZXJ0aWNhbGx5IGFuZCBob3Jpem9udGFsbHlcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHZpZXdwb3J0Q2VudGVyT2JqZWN0VjogZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICB2YXIgdnBDZW50ZXIgPSB0aGlzLmdldFZwQ2VudGVyKCk7XG5cbiAgICAgIHJldHVybiB0aGlzLl9jZW50ZXJPYmplY3Qob2JqZWN0LCBuZXcgZmFicmljLlBvaW50KG9iamVjdC5nZXRDZW50ZXJQb2ludCgpLngsIHZwQ2VudGVyLnkpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBwb2ludCBpbiBjYW52YXMgdGhhdCBjb3JyZXNwb25kIHRvIHRoZSBjZW50ZXIgb2YgYWN0dWFsIHZpZXdwb3J0LlxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH0gdnBDZW50ZXIsIHZpZXdwb3J0IGNlbnRlclxuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBnZXRWcENlbnRlcjogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY2VudGVyID0gdGhpcy5nZXRDZW50ZXJQb2ludCgpLFxuICAgICAgICAgIGlWcHQgPSBpbnZlcnRUcmFuc2Zvcm0odGhpcy52aWV3cG9ydFRyYW5zZm9ybSk7XG4gICAgICByZXR1cm4gdHJhbnNmb3JtUG9pbnQoY2VudGVyLCBpVnB0KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY2VudGVyXG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IGNlbnRlciBDZW50ZXIgcG9pbnRcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIF9jZW50ZXJPYmplY3Q6IGZ1bmN0aW9uKG9iamVjdCwgY2VudGVyKSB7XG4gICAgICBvYmplY3Quc2V0UG9zaXRpb25CeU9yaWdpbihjZW50ZXIsICdjZW50ZXInLCAnY2VudGVyJyk7XG4gICAgICBvYmplY3Quc2V0Q29vcmRzKCk7XG4gICAgICB0aGlzLnJlbmRlck9uQWRkUmVtb3ZlICYmIHRoaXMucmVxdWVzdFJlbmRlckFsbCgpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgZGF0YWxlc3MgSlNPTiByZXByZXNlbnRhdGlvbiBvZiBjYW52YXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcGVydGllc1RvSW5jbHVkZV0gQW55IHByb3BlcnRpZXMgdGhhdCB5b3UgbWlnaHQgd2FudCB0byBhZGRpdGlvbmFsbHkgaW5jbHVkZSBpbiB0aGUgb3V0cHV0XG4gICAgICogQHJldHVybiB7U3RyaW5nfSBqc29uIHN0cmluZ1xuICAgICAqL1xuICAgIHRvRGF0YWxlc3NKU09OOiBmdW5jdGlvbiAocHJvcGVydGllc1RvSW5jbHVkZSkge1xuICAgICAgcmV0dXJuIHRoaXMudG9EYXRhbGVzc09iamVjdChwcm9wZXJ0aWVzVG9JbmNsdWRlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgY2FudmFzXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BlcnRpZXNUb0luY2x1ZGVdIEFueSBwcm9wZXJ0aWVzIHRoYXQgeW91IG1pZ2h0IHdhbnQgdG8gYWRkaXRpb25hbGx5IGluY2x1ZGUgaW4gdGhlIG91dHB1dFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgdG9PYmplY3Q6IGZ1bmN0aW9uIChwcm9wZXJ0aWVzVG9JbmNsdWRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdG9PYmplY3RNZXRob2QoJ3RvT2JqZWN0JywgcHJvcGVydGllc1RvSW5jbHVkZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgZGF0YWxlc3Mgb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGNhbnZhc1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wZXJ0aWVzVG9JbmNsdWRlXSBBbnkgcHJvcGVydGllcyB0aGF0IHlvdSBtaWdodCB3YW50IHRvIGFkZGl0aW9uYWxseSBpbmNsdWRlIGluIHRoZSBvdXRwdXRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRvRGF0YWxlc3NPYmplY3Q6IGZ1bmN0aW9uIChwcm9wZXJ0aWVzVG9JbmNsdWRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdG9PYmplY3RNZXRob2QoJ3RvRGF0YWxlc3NPYmplY3QnLCBwcm9wZXJ0aWVzVG9JbmNsdWRlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfdG9PYmplY3RNZXRob2Q6IGZ1bmN0aW9uIChtZXRob2ROYW1lLCBwcm9wZXJ0aWVzVG9JbmNsdWRlKSB7XG5cbiAgICAgIHZhciBjbGlwUGF0aCA9IHRoaXMuY2xpcFBhdGgsIGRhdGEgPSB7XG4gICAgICAgIHZlcnNpb246IGZhYnJpYy52ZXJzaW9uLFxuICAgICAgICBvYmplY3RzOiB0aGlzLl90b09iamVjdHMobWV0aG9kTmFtZSwgcHJvcGVydGllc1RvSW5jbHVkZSksXG4gICAgICB9O1xuICAgICAgaWYgKGNsaXBQYXRoICYmICFjbGlwUGF0aC5leGNsdWRlRnJvbUV4cG9ydCkge1xuICAgICAgICBkYXRhLmNsaXBQYXRoID0gdGhpcy5fdG9PYmplY3QodGhpcy5jbGlwUGF0aCwgbWV0aG9kTmFtZSwgcHJvcGVydGllc1RvSW5jbHVkZSk7XG4gICAgICB9XG4gICAgICBleHRlbmQoZGF0YSwgdGhpcy5fX3NlcmlhbGl6ZUJnT3ZlcmxheShtZXRob2ROYW1lLCBwcm9wZXJ0aWVzVG9JbmNsdWRlKSk7XG5cbiAgICAgIGZhYnJpYy51dGlsLnBvcHVsYXRlV2l0aFByb3BlcnRpZXModGhpcywgZGF0YSwgcHJvcGVydGllc1RvSW5jbHVkZSk7XG5cbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF90b09iamVjdHM6IGZ1bmN0aW9uKG1ldGhvZE5hbWUsIHByb3BlcnRpZXNUb0luY2x1ZGUpIHtcbiAgICAgIHJldHVybiB0aGlzLl9vYmplY3RzLmZpbHRlcihmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuICFvYmplY3QuZXhjbHVkZUZyb21FeHBvcnQ7XG4gICAgICB9KS5tYXAoZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RvT2JqZWN0KGluc3RhbmNlLCBtZXRob2ROYW1lLCBwcm9wZXJ0aWVzVG9JbmNsdWRlKTtcbiAgICAgIH0sIHRoaXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF90b09iamVjdDogZnVuY3Rpb24oaW5zdGFuY2UsIG1ldGhvZE5hbWUsIHByb3BlcnRpZXNUb0luY2x1ZGUpIHtcbiAgICAgIHZhciBvcmlnaW5hbFZhbHVlO1xuXG4gICAgICBpZiAoIXRoaXMuaW5jbHVkZURlZmF1bHRWYWx1ZXMpIHtcbiAgICAgICAgb3JpZ2luYWxWYWx1ZSA9IGluc3RhbmNlLmluY2x1ZGVEZWZhdWx0VmFsdWVzO1xuICAgICAgICBpbnN0YW5jZS5pbmNsdWRlRGVmYXVsdFZhbHVlcyA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB2YXIgb2JqZWN0ID0gaW5zdGFuY2VbbWV0aG9kTmFtZV0ocHJvcGVydGllc1RvSW5jbHVkZSk7XG4gICAgICBpZiAoIXRoaXMuaW5jbHVkZURlZmF1bHRWYWx1ZXMpIHtcbiAgICAgICAgaW5zdGFuY2UuaW5jbHVkZURlZmF1bHRWYWx1ZXMgPSBvcmlnaW5hbFZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfX3NlcmlhbGl6ZUJnT3ZlcmxheTogZnVuY3Rpb24obWV0aG9kTmFtZSwgcHJvcGVydGllc1RvSW5jbHVkZSkge1xuICAgICAgdmFyIGRhdGEgPSB7fSwgYmdJbWFnZSA9IHRoaXMuYmFja2dyb3VuZEltYWdlLCBvdmVybGF5SW1hZ2UgPSB0aGlzLm92ZXJsYXlJbWFnZSxcbiAgICAgICAgICBiZ0NvbG9yID0gdGhpcy5iYWNrZ3JvdW5kQ29sb3IsIG92ZXJsYXlDb2xvciA9IHRoaXMub3ZlcmxheUNvbG9yO1xuXG4gICAgICBpZiAoYmdDb2xvciAmJiBiZ0NvbG9yLnRvT2JqZWN0KSB7XG4gICAgICAgIGlmICghYmdDb2xvci5leGNsdWRlRnJvbUV4cG9ydCkge1xuICAgICAgICAgIGRhdGEuYmFja2dyb3VuZCA9IGJnQ29sb3IudG9PYmplY3QocHJvcGVydGllc1RvSW5jbHVkZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGJnQ29sb3IpIHtcbiAgICAgICAgZGF0YS5iYWNrZ3JvdW5kID0gYmdDb2xvcjtcbiAgICAgIH1cblxuICAgICAgaWYgKG92ZXJsYXlDb2xvciAmJiBvdmVybGF5Q29sb3IudG9PYmplY3QpIHtcbiAgICAgICAgaWYgKCFvdmVybGF5Q29sb3IuZXhjbHVkZUZyb21FeHBvcnQpIHtcbiAgICAgICAgICBkYXRhLm92ZXJsYXkgPSBvdmVybGF5Q29sb3IudG9PYmplY3QocHJvcGVydGllc1RvSW5jbHVkZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKG92ZXJsYXlDb2xvcikge1xuICAgICAgICBkYXRhLm92ZXJsYXkgPSBvdmVybGF5Q29sb3I7XG4gICAgICB9XG5cbiAgICAgIGlmIChiZ0ltYWdlICYmICFiZ0ltYWdlLmV4Y2x1ZGVGcm9tRXhwb3J0KSB7XG4gICAgICAgIGRhdGEuYmFja2dyb3VuZEltYWdlID0gdGhpcy5fdG9PYmplY3QoYmdJbWFnZSwgbWV0aG9kTmFtZSwgcHJvcGVydGllc1RvSW5jbHVkZSk7XG4gICAgICB9XG4gICAgICBpZiAob3ZlcmxheUltYWdlICYmICFvdmVybGF5SW1hZ2UuZXhjbHVkZUZyb21FeHBvcnQpIHtcbiAgICAgICAgZGF0YS5vdmVybGF5SW1hZ2UgPSB0aGlzLl90b09iamVjdChvdmVybGF5SW1hZ2UsIG1ldGhvZE5hbWUsIHByb3BlcnRpZXNUb0luY2x1ZGUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9LFxuXG4gICAgLyogX1RPX1NWR19TVEFSVF8gKi9cbiAgICAvKipcbiAgICAgKiBXaGVuIHRydWUsIGdldFN2Z1RyYW5zZm9ybSgpIHdpbGwgYXBwbHkgdGhlIFN0YXRpY0NhbnZhcy52aWV3cG9ydFRyYW5zZm9ybSB0byB0aGUgU1ZHIHRyYW5zZm9ybWF0aW9uLiBXaGVuIHRydWUsXG4gICAgICogYSB6b29tZWQgY2FudmFzIHdpbGwgdGhlbiBwcm9kdWNlIHpvb21lZCBTVkcgb3V0cHV0LlxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHN2Z1ZpZXdwb3J0VHJhbnNmb3JtYXRpb246IHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIFNWRyByZXByZXNlbnRhdGlvbiBvZiBjYW52YXNcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0IGZvciBTVkcgb3V0cHV0XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5zdXBwcmVzc1ByZWFtYmxlPWZhbHNlXSBJZiB0cnVlIHhtbCB0YWcgaXMgbm90IGluY2x1ZGVkXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLnZpZXdCb3hdIFNWRyB2aWV3Ym94IG9iamVjdFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy52aWV3Qm94LnhdIHgtY29vcmRpbmF0ZSBvZiB2aWV3Ym94XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnZpZXdCb3gueV0geS1jb29yZGluYXRlIG9mIHZpZXdib3hcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMudmlld0JveC53aWR0aF0gV2lkdGggb2Ygdmlld2JveFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy52aWV3Qm94LmhlaWdodF0gSGVpZ2h0IG9mIHZpZXdib3hcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuZW5jb2Rpbmc9VVRGLThdIEVuY29kaW5nIG9mIFNWRyBvdXRwdXRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMud2lkdGhdIGRlc2lyZWQgd2lkdGggb2Ygc3ZnIHdpdGggb3Igd2l0aG91dCB1bml0c1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5oZWlnaHRdIGRlc2lyZWQgaGVpZ2h0IG9mIHN2ZyB3aXRoIG9yIHdpdGhvdXQgdW5pdHNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcmV2aXZlcl0gTWV0aG9kIGZvciBmdXJ0aGVyIHBhcnNpbmcgb2Ygc3ZnIGVsZW1lbnRzLCBjYWxsZWQgYWZ0ZXIgZWFjaCBmYWJyaWMgb2JqZWN0IGNvbnZlcnRlZCBpbnRvIHN2ZyByZXByZXNlbnRhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IFNWRyBzdHJpbmdcbiAgICAgKiBAdHV0b3JpYWwge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vZmFicmljLWludHJvLXBhcnQtMyNzZXJpYWxpemF0aW9ufVxuICAgICAqIEBzZWUge0BsaW5rIGh0dHA6Ly9qc2ZpZGRsZS5uZXQvZmFicmljanMvalEzWlovfGpzRmlkZGxlIGRlbW99XG4gICAgICogQGV4YW1wbGUgPGNhcHRpb24+Tm9ybWFsIFNWRyBvdXRwdXQ8L2NhcHRpb24+XG4gICAgICogdmFyIHN2ZyA9IGNhbnZhcy50b1NWRygpO1xuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPlNWRyBvdXRwdXQgd2l0aG91dCBwcmVhbWJsZSAod2l0aG91dCAmbHQ7P3htbCAuLi8+KTwvY2FwdGlvbj5cbiAgICAgKiB2YXIgc3ZnID0gY2FudmFzLnRvU1ZHKHtzdXBwcmVzc1ByZWFtYmxlOiB0cnVlfSk7XG4gICAgICogQGV4YW1wbGUgPGNhcHRpb24+U1ZHIG91dHB1dCB3aXRoIHZpZXdCb3ggYXR0cmlidXRlPC9jYXB0aW9uPlxuICAgICAqIHZhciBzdmcgPSBjYW52YXMudG9TVkcoe1xuICAgICAqICAgdmlld0JveDoge1xuICAgICAqICAgICB4OiAxMDAsXG4gICAgICogICAgIHk6IDEwMCxcbiAgICAgKiAgICAgd2lkdGg6IDIwMCxcbiAgICAgKiAgICAgaGVpZ2h0OiAzMDBcbiAgICAgKiAgIH1cbiAgICAgKiB9KTtcbiAgICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5TVkcgb3V0cHV0IHdpdGggZGlmZmVyZW50IGVuY29kaW5nIChkZWZhdWx0OiBVVEYtOCk8L2NhcHRpb24+XG4gICAgICogdmFyIHN2ZyA9IGNhbnZhcy50b1NWRyh7ZW5jb2Rpbmc6ICdJU08tODg1OS0xJ30pO1xuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPk1vZGlmeSBTVkcgb3V0cHV0IHdpdGggcmV2aXZlciBmdW5jdGlvbjwvY2FwdGlvbj5cbiAgICAgKiB2YXIgc3ZnID0gY2FudmFzLnRvU1ZHKG51bGwsIGZ1bmN0aW9uKHN2Zykge1xuICAgICAqICAgcmV0dXJuIHN2Zy5yZXBsYWNlKCdzdHJva2UtZGFzaGFycmF5OiA7IHN0cm9rZS1saW5lY2FwOiBidXR0OyBzdHJva2UtbGluZWpvaW46IG1pdGVyOyBzdHJva2UtbWl0ZXJsaW1pdDogMTA7ICcsICcnKTtcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICB0b1NWRzogZnVuY3Rpb24ob3B0aW9ucywgcmV2aXZlcikge1xuICAgICAgb3B0aW9ucyB8fCAob3B0aW9ucyA9IHsgfSk7XG4gICAgICBvcHRpb25zLnJldml2ZXIgPSByZXZpdmVyO1xuICAgICAgdmFyIG1hcmt1cCA9IFtdO1xuXG4gICAgICB0aGlzLl9zZXRTVkdQcmVhbWJsZShtYXJrdXAsIG9wdGlvbnMpO1xuICAgICAgdGhpcy5fc2V0U1ZHSGVhZGVyKG1hcmt1cCwgb3B0aW9ucyk7XG4gICAgICBpZiAodGhpcy5jbGlwUGF0aCkge1xuICAgICAgICBtYXJrdXAucHVzaCgnPGcgY2xpcC1wYXRoPVwidXJsKCMnICsgdGhpcy5jbGlwUGF0aC5jbGlwUGF0aElkICsgJylcIiA+XFxuJyk7XG4gICAgICB9XG4gICAgICB0aGlzLl9zZXRTVkdCZ092ZXJsYXlDb2xvcihtYXJrdXAsICdiYWNrZ3JvdW5kJyk7XG4gICAgICB0aGlzLl9zZXRTVkdCZ092ZXJsYXlJbWFnZShtYXJrdXAsICdiYWNrZ3JvdW5kSW1hZ2UnLCByZXZpdmVyKTtcbiAgICAgIHRoaXMuX3NldFNWR09iamVjdHMobWFya3VwLCByZXZpdmVyKTtcbiAgICAgIGlmICh0aGlzLmNsaXBQYXRoKSB7XG4gICAgICAgIG1hcmt1cC5wdXNoKCc8L2c+XFxuJyk7XG4gICAgICB9XG4gICAgICB0aGlzLl9zZXRTVkdCZ092ZXJsYXlDb2xvcihtYXJrdXAsICdvdmVybGF5Jyk7XG4gICAgICB0aGlzLl9zZXRTVkdCZ092ZXJsYXlJbWFnZShtYXJrdXAsICdvdmVybGF5SW1hZ2UnLCByZXZpdmVyKTtcblxuICAgICAgbWFya3VwLnB1c2goJzwvc3ZnPicpO1xuXG4gICAgICByZXR1cm4gbWFya3VwLmpvaW4oJycpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9zZXRTVkdQcmVhbWJsZTogZnVuY3Rpb24obWFya3VwLCBvcHRpb25zKSB7XG4gICAgICBpZiAob3B0aW9ucy5zdXBwcmVzc1ByZWFtYmxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG1hcmt1cC5wdXNoKFxuICAgICAgICAnPD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiJywgKG9wdGlvbnMuZW5jb2RpbmcgfHwgJ1VURi04JyksICdcIiBzdGFuZGFsb25lPVwibm9cIiA/PlxcbicsXG4gICAgICAgICc8IURPQ1RZUEUgc3ZnIFBVQkxJQyBcIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOXCIgJyxcbiAgICAgICAgJ1wiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkXCI+XFxuJ1xuICAgICAgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2V0U1ZHSGVhZGVyOiBmdW5jdGlvbihtYXJrdXAsIG9wdGlvbnMpIHtcbiAgICAgIHZhciB3aWR0aCA9IG9wdGlvbnMud2lkdGggfHwgdGhpcy53aWR0aCxcbiAgICAgICAgICBoZWlnaHQgPSBvcHRpb25zLmhlaWdodCB8fCB0aGlzLmhlaWdodCxcbiAgICAgICAgICB2cHQsIHZpZXdCb3ggPSAndmlld0JveD1cIjAgMCAnICsgdGhpcy53aWR0aCArICcgJyArIHRoaXMuaGVpZ2h0ICsgJ1wiICcsXG4gICAgICAgICAgTlVNX0ZSQUNUSU9OX0RJR0lUUyA9IGZhYnJpYy5PYmplY3QuTlVNX0ZSQUNUSU9OX0RJR0lUUztcblxuICAgICAgaWYgKG9wdGlvbnMudmlld0JveCkge1xuICAgICAgICB2aWV3Qm94ID0gJ3ZpZXdCb3g9XCInICtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnZpZXdCb3gueCArICcgJyArXG4gICAgICAgICAgICAgICAgb3B0aW9ucy52aWV3Qm94LnkgKyAnICcgK1xuICAgICAgICAgICAgICAgIG9wdGlvbnMudmlld0JveC53aWR0aCArICcgJyArXG4gICAgICAgICAgICAgICAgb3B0aW9ucy52aWV3Qm94LmhlaWdodCArICdcIiAnO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGlmICh0aGlzLnN2Z1ZpZXdwb3J0VHJhbnNmb3JtYXRpb24pIHtcbiAgICAgICAgICB2cHQgPSB0aGlzLnZpZXdwb3J0VHJhbnNmb3JtO1xuICAgICAgICAgIHZpZXdCb3ggPSAndmlld0JveD1cIicgK1xuICAgICAgICAgICAgICAgICAgdG9GaXhlZCgtdnB0WzRdIC8gdnB0WzBdLCBOVU1fRlJBQ1RJT05fRElHSVRTKSArICcgJyArXG4gICAgICAgICAgICAgICAgICB0b0ZpeGVkKC12cHRbNV0gLyB2cHRbM10sIE5VTV9GUkFDVElPTl9ESUdJVFMpICsgJyAnICtcbiAgICAgICAgICAgICAgICAgIHRvRml4ZWQodGhpcy53aWR0aCAvIHZwdFswXSwgTlVNX0ZSQUNUSU9OX0RJR0lUUykgKyAnICcgK1xuICAgICAgICAgICAgICAgICAgdG9GaXhlZCh0aGlzLmhlaWdodCAvIHZwdFszXSwgTlVNX0ZSQUNUSU9OX0RJR0lUUykgKyAnXCIgJztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBtYXJrdXAucHVzaChcbiAgICAgICAgJzxzdmcgJyxcbiAgICAgICAgJ3htbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiAnLFxuICAgICAgICAneG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIgJyxcbiAgICAgICAgJ3ZlcnNpb249XCIxLjFcIiAnLFxuICAgICAgICAnd2lkdGg9XCInLCB3aWR0aCwgJ1wiICcsXG4gICAgICAgICdoZWlnaHQ9XCInLCBoZWlnaHQsICdcIiAnLFxuICAgICAgICB2aWV3Qm94LFxuICAgICAgICAneG1sOnNwYWNlPVwicHJlc2VydmVcIj5cXG4nLFxuICAgICAgICAnPGRlc2M+Q3JlYXRlZCB3aXRoIEZhYnJpYy5qcyAnLCBmYWJyaWMudmVyc2lvbiwgJzwvZGVzYz5cXG4nLFxuICAgICAgICAnPGRlZnM+XFxuJyxcbiAgICAgICAgdGhpcy5jcmVhdGVTVkdGb250RmFjZXNNYXJrdXAoKSxcbiAgICAgICAgdGhpcy5jcmVhdGVTVkdSZWZFbGVtZW50c01hcmt1cCgpLFxuICAgICAgICB0aGlzLmNyZWF0ZVNWR0NsaXBQYXRoTWFya3VwKG9wdGlvbnMpLFxuICAgICAgICAnPC9kZWZzPlxcbidcbiAgICAgICk7XG4gICAgfSxcblxuICAgIGNyZWF0ZVNWR0NsaXBQYXRoTWFya3VwOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICB2YXIgY2xpcFBhdGggPSB0aGlzLmNsaXBQYXRoO1xuICAgICAgaWYgKGNsaXBQYXRoKSB7XG4gICAgICAgIGNsaXBQYXRoLmNsaXBQYXRoSWQgPSAnQ0xJUFBBVEhfJyArIGZhYnJpYy5PYmplY3QuX191aWQrKztcbiAgICAgICAgcmV0dXJuICAnPGNsaXBQYXRoIGlkPVwiJyArIGNsaXBQYXRoLmNsaXBQYXRoSWQgKyAnXCIgPlxcbicgK1xuICAgICAgICAgIHRoaXMuY2xpcFBhdGgudG9DbGlwUGF0aFNWRyhvcHRpb25zLnJldml2ZXIpICtcbiAgICAgICAgICAnPC9jbGlwUGF0aD5cXG4nO1xuICAgICAgfVxuICAgICAgcmV0dXJuICcnO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIG1hcmt1cCBjb250YWluaW5nIFNWRyByZWZlcmVuY2VkIGVsZW1lbnRzIGxpa2UgcGF0dGVybnMsIGdyYWRpZW50cyBldGMuXG4gICAgICogQHJldHVybiB7U3RyaW5nfVxuICAgICAqL1xuICAgIGNyZWF0ZVNWR1JlZkVsZW1lbnRzTWFya3VwOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXMsXG4gICAgICAgICAgbWFya3VwID0gWydiYWNrZ3JvdW5kJywgJ292ZXJsYXknXS5tYXAoZnVuY3Rpb24ocHJvcCkge1xuICAgICAgICAgICAgdmFyIGZpbGwgPSBfdGhpc1twcm9wICsgJ0NvbG9yJ107XG4gICAgICAgICAgICBpZiAoZmlsbCAmJiBmaWxsLnRvTGl2ZSkge1xuICAgICAgICAgICAgICB2YXIgc2hvdWxkVHJhbnNmb3JtID0gX3RoaXNbcHJvcCArICdWcHQnXSwgdnB0ID0gX3RoaXMudmlld3BvcnRUcmFuc2Zvcm0sXG4gICAgICAgICAgICAgICAgICBvYmplY3QgPSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBfdGhpcy53aWR0aCAvIChzaG91bGRUcmFuc2Zvcm0gPyB2cHRbMF0gOiAxKSxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBfdGhpcy5oZWlnaHQgLyAoc2hvdWxkVHJhbnNmb3JtID8gdnB0WzNdIDogMSlcbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHJldHVybiBmaWxsLnRvU1ZHKFxuICAgICAgICAgICAgICAgIG9iamVjdCxcbiAgICAgICAgICAgICAgICB7IGFkZGl0aW9uYWxUcmFuc2Zvcm06IHNob3VsZFRyYW5zZm9ybSA/IGZhYnJpYy51dGlsLm1hdHJpeFRvU1ZHKHZwdCkgOiAnJyB9XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICByZXR1cm4gbWFya3VwLmpvaW4oJycpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIG1hcmt1cCBjb250YWluaW5nIFNWRyBmb250IGZhY2VzLFxuICAgICAqIGZvbnQgVVJMcyBmb3IgZm9udCBmYWNlcyBtdXN0IGJlIGNvbGxlY3RlZCBieSBkZXZlbG9wZXJzXG4gICAgICogYW5kIGFyZSBub3QgZXh0cmFjdGVkIGZyb20gdGhlIERPTSBieSBmYWJyaWNqc1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IG9iamVjdHMgQXJyYXkgb2YgZmFicmljIG9iamVjdHNcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAgICovXG4gICAgY3JlYXRlU1ZHRm9udEZhY2VzTWFya3VwOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBtYXJrdXAgPSAnJywgZm9udExpc3QgPSB7IH0sIG9iaiwgZm9udEZhbWlseSxcbiAgICAgICAgICBzdHlsZSwgcm93LCByb3dJbmRleCwgX2NoYXIsIGNoYXJJbmRleCwgaSwgbGVuLFxuICAgICAgICAgIGZvbnRQYXRocyA9IGZhYnJpYy5mb250UGF0aHMsIG9iamVjdHMgPSBbXTtcblxuICAgICAgdGhpcy5fb2JqZWN0cy5mb3JFYWNoKGZ1bmN0aW9uIGFkZChvYmplY3QpIHtcbiAgICAgICAgb2JqZWN0cy5wdXNoKG9iamVjdCk7XG4gICAgICAgIGlmIChvYmplY3QuX29iamVjdHMpIHtcbiAgICAgICAgICBvYmplY3QuX29iamVjdHMuZm9yRWFjaChhZGQpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgZm9yIChpID0gMCwgbGVuID0gb2JqZWN0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBvYmogPSBvYmplY3RzW2ldO1xuICAgICAgICBmb250RmFtaWx5ID0gb2JqLmZvbnRGYW1pbHk7XG4gICAgICAgIGlmIChvYmoudHlwZS5pbmRleE9mKCd0ZXh0JykgPT09IC0xIHx8IGZvbnRMaXN0W2ZvbnRGYW1pbHldIHx8ICFmb250UGF0aHNbZm9udEZhbWlseV0pIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBmb250TGlzdFtmb250RmFtaWx5XSA9IHRydWU7XG4gICAgICAgIGlmICghb2JqLnN0eWxlcykge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHN0eWxlID0gb2JqLnN0eWxlcztcbiAgICAgICAgZm9yIChyb3dJbmRleCBpbiBzdHlsZSkge1xuICAgICAgICAgIHJvdyA9IHN0eWxlW3Jvd0luZGV4XTtcbiAgICAgICAgICBmb3IgKGNoYXJJbmRleCBpbiByb3cpIHtcbiAgICAgICAgICAgIF9jaGFyID0gcm93W2NoYXJJbmRleF07XG4gICAgICAgICAgICBmb250RmFtaWx5ID0gX2NoYXIuZm9udEZhbWlseTtcbiAgICAgICAgICAgIGlmICghZm9udExpc3RbZm9udEZhbWlseV0gJiYgZm9udFBhdGhzW2ZvbnRGYW1pbHldKSB7XG4gICAgICAgICAgICAgIGZvbnRMaXN0W2ZvbnRGYW1pbHldID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaiBpbiBmb250TGlzdCkge1xuICAgICAgICBtYXJrdXAgKz0gW1xuICAgICAgICAgICdcXHRcXHRAZm9udC1mYWNlIHtcXG4nLFxuICAgICAgICAgICdcXHRcXHRcXHRmb250LWZhbWlseTogXFwnJywgaiwgJ1xcJztcXG4nLFxuICAgICAgICAgICdcXHRcXHRcXHRzcmM6IHVybChcXCcnLCBmb250UGF0aHNbal0sICdcXCcpO1xcbicsXG4gICAgICAgICAgJ1xcdFxcdH1cXG4nXG4gICAgICAgIF0uam9pbignJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChtYXJrdXApIHtcbiAgICAgICAgbWFya3VwID0gW1xuICAgICAgICAgICdcXHQ8c3R5bGUgdHlwZT1cInRleHQvY3NzXCI+JyxcbiAgICAgICAgICAnPCFbQ0RBVEFbXFxuJyxcbiAgICAgICAgICBtYXJrdXAsXG4gICAgICAgICAgJ11dPicsXG4gICAgICAgICAgJzwvc3R5bGU+XFxuJ1xuICAgICAgICBdLmpvaW4oJycpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbWFya3VwO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9zZXRTVkdPYmplY3RzOiBmdW5jdGlvbihtYXJrdXAsIHJldml2ZXIpIHtcbiAgICAgIHZhciBpbnN0YW5jZSwgaSwgbGVuLCBvYmplY3RzID0gdGhpcy5fb2JqZWN0cztcbiAgICAgIGZvciAoaSA9IDAsIGxlbiA9IG9iamVjdHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgaW5zdGFuY2UgPSBvYmplY3RzW2ldO1xuICAgICAgICBpZiAoaW5zdGFuY2UuZXhjbHVkZUZyb21FeHBvcnQpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zZXRTVkdPYmplY3QobWFya3VwLCBpbnN0YW5jZSwgcmV2aXZlcik7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3NldFNWR09iamVjdDogZnVuY3Rpb24obWFya3VwLCBpbnN0YW5jZSwgcmV2aXZlcikge1xuICAgICAgbWFya3VwLnB1c2goaW5zdGFuY2UudG9TVkcocmV2aXZlcikpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9zZXRTVkdCZ092ZXJsYXlJbWFnZTogZnVuY3Rpb24obWFya3VwLCBwcm9wZXJ0eSwgcmV2aXZlcikge1xuICAgICAgaWYgKHRoaXNbcHJvcGVydHldICYmICF0aGlzW3Byb3BlcnR5XS5leGNsdWRlRnJvbUV4cG9ydCAmJiB0aGlzW3Byb3BlcnR5XS50b1NWRykge1xuICAgICAgICBtYXJrdXAucHVzaCh0aGlzW3Byb3BlcnR5XS50b1NWRyhyZXZpdmVyKSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3NldFNWR0JnT3ZlcmxheUNvbG9yOiBmdW5jdGlvbihtYXJrdXAsIHByb3BlcnR5KSB7XG4gICAgICB2YXIgZmlsbGVyID0gdGhpc1twcm9wZXJ0eSArICdDb2xvciddLCB2cHQgPSB0aGlzLnZpZXdwb3J0VHJhbnNmb3JtLCBmaW5hbFdpZHRoID0gdGhpcy53aWR0aCxcbiAgICAgICAgICBmaW5hbEhlaWdodCA9IHRoaXMuaGVpZ2h0O1xuICAgICAgaWYgKCFmaWxsZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGZpbGxlci50b0xpdmUpIHtcbiAgICAgICAgdmFyIHJlcGVhdCA9IGZpbGxlci5yZXBlYXQsIGlWcHQgPSBmYWJyaWMudXRpbC5pbnZlcnRUcmFuc2Zvcm0odnB0KSwgc2hvdWxkSW52ZXJ0ID0gdGhpc1twcm9wZXJ0eSArICdWcHQnXSxcbiAgICAgICAgICAgIGFkZGl0aW9uYWxUcmFuc2Zvcm0gPSBzaG91bGRJbnZlcnQgPyBmYWJyaWMudXRpbC5tYXRyaXhUb1NWRyhpVnB0KSA6ICcnO1xuICAgICAgICBtYXJrdXAucHVzaChcbiAgICAgICAgICAnPHJlY3QgdHJhbnNmb3JtPVwiJyArIGFkZGl0aW9uYWxUcmFuc2Zvcm0gKyAnIHRyYW5zbGF0ZSgnLCBmaW5hbFdpZHRoIC8gMiwgJywnLCBmaW5hbEhlaWdodCAvIDIsICcpXCInLFxuICAgICAgICAgICcgeD1cIicsIGZpbGxlci5vZmZzZXRYIC0gZmluYWxXaWR0aCAvIDIsXG4gICAgICAgICAgJ1wiIHk9XCInLCBmaWxsZXIub2Zmc2V0WSAtIGZpbmFsSGVpZ2h0IC8gMiwgJ1wiICcsXG4gICAgICAgICAgJ3dpZHRoPVwiJyxcbiAgICAgICAgICAocmVwZWF0ID09PSAncmVwZWF0LXknIHx8IHJlcGVhdCA9PT0gJ25vLXJlcGVhdCdcbiAgICAgICAgICAgID8gZmlsbGVyLnNvdXJjZS53aWR0aFxuICAgICAgICAgICAgOiBmaW5hbFdpZHRoICksXG4gICAgICAgICAgJ1wiIGhlaWdodD1cIicsXG4gICAgICAgICAgKHJlcGVhdCA9PT0gJ3JlcGVhdC14JyB8fCByZXBlYXQgPT09ICduby1yZXBlYXQnXG4gICAgICAgICAgICA/IGZpbGxlci5zb3VyY2UuaGVpZ2h0XG4gICAgICAgICAgICA6IGZpbmFsSGVpZ2h0KSxcbiAgICAgICAgICAnXCIgZmlsbD1cInVybCgjU1ZHSURfJyArIGZpbGxlci5pZCArICcpXCInLFxuICAgICAgICAgICc+PC9yZWN0PlxcbidcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBtYXJrdXAucHVzaChcbiAgICAgICAgICAnPHJlY3QgeD1cIjBcIiB5PVwiMFwiIHdpZHRoPVwiMTAwJVwiIGhlaWdodD1cIjEwMCVcIiAnLFxuICAgICAgICAgICdmaWxsPVwiJywgZmlsbGVyLCAnXCInLFxuICAgICAgICAgICc+PC9yZWN0PlxcbidcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIC8qIF9UT19TVkdfRU5EXyAqL1xuXG4gICAgLyoqXG4gICAgICogTW92ZXMgYW4gb2JqZWN0IG9yIHRoZSBvYmplY3RzIG9mIGEgbXVsdGlwbGUgc2VsZWN0aW9uXG4gICAgICogdG8gdGhlIGJvdHRvbSBvZiB0aGUgc3RhY2sgb2YgZHJhd24gb2JqZWN0c1xuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gb2JqZWN0IE9iamVjdCB0byBzZW5kIHRvIGJhY2tcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHNlbmRUb0JhY2s6IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICAgIGlmICghb2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgdmFyIGFjdGl2ZVNlbGVjdGlvbiA9IHRoaXMuX2FjdGl2ZU9iamVjdCxcbiAgICAgICAgICBpLCBvYmosIG9ianM7XG4gICAgICBpZiAob2JqZWN0ID09PSBhY3RpdmVTZWxlY3Rpb24gJiYgb2JqZWN0LnR5cGUgPT09ICdhY3RpdmVTZWxlY3Rpb24nKSB7XG4gICAgICAgIG9ianMgPSBhY3RpdmVTZWxlY3Rpb24uX29iamVjdHM7XG4gICAgICAgIGZvciAoaSA9IG9ianMubGVuZ3RoOyBpLS07KSB7XG4gICAgICAgICAgb2JqID0gb2Jqc1tpXTtcbiAgICAgICAgICByZW1vdmVGcm9tQXJyYXkodGhpcy5fb2JqZWN0cywgb2JqKTtcbiAgICAgICAgICB0aGlzLl9vYmplY3RzLnVuc2hpZnQob2JqKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJlbW92ZUZyb21BcnJheSh0aGlzLl9vYmplY3RzLCBvYmplY3QpO1xuICAgICAgICB0aGlzLl9vYmplY3RzLnVuc2hpZnQob2JqZWN0KTtcbiAgICAgIH1cbiAgICAgIHRoaXMucmVuZGVyT25BZGRSZW1vdmUgJiYgdGhpcy5yZXF1ZXN0UmVuZGVyQWxsKCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTW92ZXMgYW4gb2JqZWN0IG9yIHRoZSBvYmplY3RzIG9mIGEgbXVsdGlwbGUgc2VsZWN0aW9uXG4gICAgICogdG8gdGhlIHRvcCBvZiB0aGUgc3RhY2sgb2YgZHJhd24gb2JqZWN0c1xuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gb2JqZWN0IE9iamVjdCB0byBzZW5kXG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBicmluZ1RvRnJvbnQ6IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICAgIGlmICghb2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgdmFyIGFjdGl2ZVNlbGVjdGlvbiA9IHRoaXMuX2FjdGl2ZU9iamVjdCxcbiAgICAgICAgICBpLCBvYmosIG9ianM7XG4gICAgICBpZiAob2JqZWN0ID09PSBhY3RpdmVTZWxlY3Rpb24gJiYgb2JqZWN0LnR5cGUgPT09ICdhY3RpdmVTZWxlY3Rpb24nKSB7XG4gICAgICAgIG9ianMgPSBhY3RpdmVTZWxlY3Rpb24uX29iamVjdHM7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBvYmpzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgb2JqID0gb2Jqc1tpXTtcbiAgICAgICAgICByZW1vdmVGcm9tQXJyYXkodGhpcy5fb2JqZWN0cywgb2JqKTtcbiAgICAgICAgICB0aGlzLl9vYmplY3RzLnB1c2gob2JqKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJlbW92ZUZyb21BcnJheSh0aGlzLl9vYmplY3RzLCBvYmplY3QpO1xuICAgICAgICB0aGlzLl9vYmplY3RzLnB1c2gob2JqZWN0KTtcbiAgICAgIH1cbiAgICAgIHRoaXMucmVuZGVyT25BZGRSZW1vdmUgJiYgdGhpcy5yZXF1ZXN0UmVuZGVyQWxsKCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTW92ZXMgYW4gb2JqZWN0IG9yIGEgc2VsZWN0aW9uIGRvd24gaW4gc3RhY2sgb2YgZHJhd24gb2JqZWN0c1xuICAgICAqIEFuIG9wdGlvbmFsIHBhcmFtZXRlciwgaW50ZXJzZWN0aW5nIGFsbG93cyB0byBtb3ZlIHRoZSBvYmplY3QgaW4gYmVoaW5kXG4gICAgICogdGhlIGZpcnN0IGludGVyc2VjdGluZyBvYmplY3QuIFdoZXJlIGludGVyc2VjdGlvbiBpcyBjYWxjdWxhdGVkIHdpdGhcbiAgICAgKiBib3VuZGluZyBib3guIElmIG5vIGludGVyc2VjdGlvbiBpcyBmb3VuZCwgdGhlcmUgd2lsbCBub3QgYmUgY2hhbmdlIGluIHRoZVxuICAgICAqIHN0YWNrLlxuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gb2JqZWN0IE9iamVjdCB0byBzZW5kXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbaW50ZXJzZWN0aW5nXSBJZiBgdHJ1ZWAsIHNlbmQgb2JqZWN0IGJlaGluZCBuZXh0IGxvd2VyIGludGVyc2VjdGluZyBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHNlbmRCYWNrd2FyZHM6IGZ1bmN0aW9uIChvYmplY3QsIGludGVyc2VjdGluZykge1xuICAgICAgaWYgKCFvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICB2YXIgYWN0aXZlU2VsZWN0aW9uID0gdGhpcy5fYWN0aXZlT2JqZWN0LFxuICAgICAgICAgIGksIG9iaiwgaWR4LCBuZXdJZHgsIG9ianMsIG9ianNNb3ZlZCA9IDA7XG5cbiAgICAgIGlmIChvYmplY3QgPT09IGFjdGl2ZVNlbGVjdGlvbiAmJiBvYmplY3QudHlwZSA9PT0gJ2FjdGl2ZVNlbGVjdGlvbicpIHtcbiAgICAgICAgb2JqcyA9IGFjdGl2ZVNlbGVjdGlvbi5fb2JqZWN0cztcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IG9ianMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBvYmogPSBvYmpzW2ldO1xuICAgICAgICAgIGlkeCA9IHRoaXMuX29iamVjdHMuaW5kZXhPZihvYmopO1xuICAgICAgICAgIGlmIChpZHggPiAwICsgb2Jqc01vdmVkKSB7XG4gICAgICAgICAgICBuZXdJZHggPSBpZHggLSAxO1xuICAgICAgICAgICAgcmVtb3ZlRnJvbUFycmF5KHRoaXMuX29iamVjdHMsIG9iaik7XG4gICAgICAgICAgICB0aGlzLl9vYmplY3RzLnNwbGljZShuZXdJZHgsIDAsIG9iaik7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9ianNNb3ZlZCsrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgaWR4ID0gdGhpcy5fb2JqZWN0cy5pbmRleE9mKG9iamVjdCk7XG4gICAgICAgIGlmIChpZHggIT09IDApIHtcbiAgICAgICAgICAvLyBpZiBvYmplY3QgaXMgbm90IG9uIHRoZSBib3R0b20gb2Ygc3RhY2tcbiAgICAgICAgICBuZXdJZHggPSB0aGlzLl9maW5kTmV3TG93ZXJJbmRleChvYmplY3QsIGlkeCwgaW50ZXJzZWN0aW5nKTtcbiAgICAgICAgICByZW1vdmVGcm9tQXJyYXkodGhpcy5fb2JqZWN0cywgb2JqZWN0KTtcbiAgICAgICAgICB0aGlzLl9vYmplY3RzLnNwbGljZShuZXdJZHgsIDAsIG9iamVjdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMucmVuZGVyT25BZGRSZW1vdmUgJiYgdGhpcy5yZXF1ZXN0UmVuZGVyQWxsKCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZmluZE5ld0xvd2VySW5kZXg6IGZ1bmN0aW9uKG9iamVjdCwgaWR4LCBpbnRlcnNlY3RpbmcpIHtcbiAgICAgIHZhciBuZXdJZHgsIGk7XG5cbiAgICAgIGlmIChpbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgbmV3SWR4ID0gaWR4O1xuXG4gICAgICAgIC8vIHRyYXZlcnNlIGRvd24gdGhlIHN0YWNrIGxvb2tpbmcgZm9yIHRoZSBuZWFyZXN0IGludGVyc2VjdGluZyBvYmplY3RcbiAgICAgICAgZm9yIChpID0gaWR4IC0gMTsgaSA+PSAwOyAtLWkpIHtcblxuICAgICAgICAgIHZhciBpc0ludGVyc2VjdGluZyA9IG9iamVjdC5pbnRlcnNlY3RzV2l0aE9iamVjdCh0aGlzLl9vYmplY3RzW2ldKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5pc0NvbnRhaW5lZFdpdGhpbk9iamVjdCh0aGlzLl9vYmplY3RzW2ldKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29iamVjdHNbaV0uaXNDb250YWluZWRXaXRoaW5PYmplY3Qob2JqZWN0KTtcblxuICAgICAgICAgIGlmIChpc0ludGVyc2VjdGluZykge1xuICAgICAgICAgICAgbmV3SWR4ID0gaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIG5ld0lkeCA9IGlkeCAtIDE7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXdJZHg7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1vdmVzIGFuIG9iamVjdCBvciBhIHNlbGVjdGlvbiB1cCBpbiBzdGFjayBvZiBkcmF3biBvYmplY3RzXG4gICAgICogQW4gb3B0aW9uYWwgcGFyYW1ldGVyLCBpbnRlcnNlY3RpbmcgYWxsb3dzIHRvIG1vdmUgdGhlIG9iamVjdCBpbiBmcm9udFxuICAgICAqIG9mIHRoZSBmaXJzdCBpbnRlcnNlY3Rpbmcgb2JqZWN0LiBXaGVyZSBpbnRlcnNlY3Rpb24gaXMgY2FsY3VsYXRlZCB3aXRoXG4gICAgICogYm91bmRpbmcgYm94LiBJZiBubyBpbnRlcnNlY3Rpb24gaXMgZm91bmQsIHRoZXJlIHdpbGwgbm90IGJlIGNoYW5nZSBpbiB0aGVcbiAgICAgKiBzdGFjay5cbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IG9iamVjdCBPYmplY3QgdG8gc2VuZFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2ludGVyc2VjdGluZ10gSWYgYHRydWVgLCBzZW5kIG9iamVjdCBpbiBmcm9udCBvZiBuZXh0IHVwcGVyIGludGVyc2VjdGluZyBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGJyaW5nRm9yd2FyZDogZnVuY3Rpb24gKG9iamVjdCwgaW50ZXJzZWN0aW5nKSB7XG4gICAgICBpZiAoIW9iamVjdCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHZhciBhY3RpdmVTZWxlY3Rpb24gPSB0aGlzLl9hY3RpdmVPYmplY3QsXG4gICAgICAgICAgaSwgb2JqLCBpZHgsIG5ld0lkeCwgb2Jqcywgb2Jqc01vdmVkID0gMDtcblxuICAgICAgaWYgKG9iamVjdCA9PT0gYWN0aXZlU2VsZWN0aW9uICYmIG9iamVjdC50eXBlID09PSAnYWN0aXZlU2VsZWN0aW9uJykge1xuICAgICAgICBvYmpzID0gYWN0aXZlU2VsZWN0aW9uLl9vYmplY3RzO1xuICAgICAgICBmb3IgKGkgPSBvYmpzLmxlbmd0aDsgaS0tOykge1xuICAgICAgICAgIG9iaiA9IG9ianNbaV07XG4gICAgICAgICAgaWR4ID0gdGhpcy5fb2JqZWN0cy5pbmRleE9mKG9iaik7XG4gICAgICAgICAgaWYgKGlkeCA8IHRoaXMuX29iamVjdHMubGVuZ3RoIC0gMSAtIG9ianNNb3ZlZCkge1xuICAgICAgICAgICAgbmV3SWR4ID0gaWR4ICsgMTtcbiAgICAgICAgICAgIHJlbW92ZUZyb21BcnJheSh0aGlzLl9vYmplY3RzLCBvYmopO1xuICAgICAgICAgICAgdGhpcy5fb2JqZWN0cy5zcGxpY2UobmV3SWR4LCAwLCBvYmopO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvYmpzTW92ZWQrKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGlkeCA9IHRoaXMuX29iamVjdHMuaW5kZXhPZihvYmplY3QpO1xuICAgICAgICBpZiAoaWR4ICE9PSB0aGlzLl9vYmplY3RzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAvLyBpZiBvYmplY3QgaXMgbm90IG9uIHRvcCBvZiBzdGFjayAobGFzdCBpdGVtIGluIGFuIGFycmF5KVxuICAgICAgICAgIG5ld0lkeCA9IHRoaXMuX2ZpbmROZXdVcHBlckluZGV4KG9iamVjdCwgaWR4LCBpbnRlcnNlY3RpbmcpO1xuICAgICAgICAgIHJlbW92ZUZyb21BcnJheSh0aGlzLl9vYmplY3RzLCBvYmplY3QpO1xuICAgICAgICAgIHRoaXMuX29iamVjdHMuc3BsaWNlKG5ld0lkeCwgMCwgb2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5yZW5kZXJPbkFkZFJlbW92ZSAmJiB0aGlzLnJlcXVlc3RSZW5kZXJBbGwoKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9maW5kTmV3VXBwZXJJbmRleDogZnVuY3Rpb24ob2JqZWN0LCBpZHgsIGludGVyc2VjdGluZykge1xuICAgICAgdmFyIG5ld0lkeCwgaSwgbGVuO1xuXG4gICAgICBpZiAoaW50ZXJzZWN0aW5nKSB7XG4gICAgICAgIG5ld0lkeCA9IGlkeDtcblxuICAgICAgICAvLyB0cmF2ZXJzZSB1cCB0aGUgc3RhY2sgbG9va2luZyBmb3IgdGhlIG5lYXJlc3QgaW50ZXJzZWN0aW5nIG9iamVjdFxuICAgICAgICBmb3IgKGkgPSBpZHggKyAxLCBsZW4gPSB0aGlzLl9vYmplY3RzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG5cbiAgICAgICAgICB2YXIgaXNJbnRlcnNlY3RpbmcgPSBvYmplY3QuaW50ZXJzZWN0c1dpdGhPYmplY3QodGhpcy5fb2JqZWN0c1tpXSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuaXNDb250YWluZWRXaXRoaW5PYmplY3QodGhpcy5fb2JqZWN0c1tpXSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vYmplY3RzW2ldLmlzQ29udGFpbmVkV2l0aGluT2JqZWN0KG9iamVjdCk7XG5cbiAgICAgICAgICBpZiAoaXNJbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgICAgIG5ld0lkeCA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBuZXdJZHggPSBpZHggKyAxO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3SWR4O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNb3ZlcyBhbiBvYmplY3QgdG8gc3BlY2lmaWVkIGxldmVsIGluIHN0YWNrIG9mIGRyYXduIG9iamVjdHNcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IG9iamVjdCBPYmplY3QgdG8gc2VuZFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBpbmRleCBQb3NpdGlvbiB0byBtb3ZlIHRvXG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBtb3ZlVG86IGZ1bmN0aW9uIChvYmplY3QsIGluZGV4KSB7XG4gICAgICByZW1vdmVGcm9tQXJyYXkodGhpcy5fb2JqZWN0cywgb2JqZWN0KTtcbiAgICAgIHRoaXMuX29iamVjdHMuc3BsaWNlKGluZGV4LCAwLCBvYmplY3QpO1xuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyT25BZGRSZW1vdmUgJiYgdGhpcy5yZXF1ZXN0UmVuZGVyQWxsKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENsZWFycyBhIGNhbnZhcyBlbGVtZW50IGFuZCBkaXNwb3NlIG9iamVjdHNcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGRpc3Bvc2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIGNhbmNlbCBldmVudHVhbGx5IG9uZ29pbmcgcmVuZGVyc1xuICAgICAgaWYgKHRoaXMuaXNSZW5kZXJpbmcpIHtcbiAgICAgICAgZmFicmljLnV0aWwuY2FuY2VsQW5pbUZyYW1lKHRoaXMuaXNSZW5kZXJpbmcpO1xuICAgICAgICB0aGlzLmlzUmVuZGVyaW5nID0gMDtcbiAgICAgIH1cbiAgICAgIHRoaXMuZm9yRWFjaE9iamVjdChmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgb2JqZWN0LmRpc3Bvc2UgJiYgb2JqZWN0LmRpc3Bvc2UoKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5fb2JqZWN0cyA9IFtdO1xuICAgICAgaWYgKHRoaXMuYmFja2dyb3VuZEltYWdlICYmIHRoaXMuYmFja2dyb3VuZEltYWdlLmRpc3Bvc2UpIHtcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kSW1hZ2UuZGlzcG9zZSgpO1xuICAgICAgfVxuICAgICAgdGhpcy5iYWNrZ3JvdW5kSW1hZ2UgPSBudWxsO1xuICAgICAgaWYgKHRoaXMub3ZlcmxheUltYWdlICYmIHRoaXMub3ZlcmxheUltYWdlLmRpc3Bvc2UpIHtcbiAgICAgICAgdGhpcy5vdmVybGF5SW1hZ2UuZGlzcG9zZSgpO1xuICAgICAgfVxuICAgICAgdGhpcy5vdmVybGF5SW1hZ2UgPSBudWxsO1xuICAgICAgdGhpcy5faVRleHRJbnN0YW5jZXMgPSBudWxsO1xuICAgICAgdGhpcy5jb250ZXh0Q29udGFpbmVyID0gbnVsbDtcbiAgICAgIC8vIHJlc3RvcmUgY2FudmFzIHN0eWxlXG4gICAgICB0aGlzLmxvd2VyQ2FudmFzRWwuY2xhc3NMaXN0LnJlbW92ZSgnbG93ZXItY2FudmFzJyk7XG4gICAgICBmYWJyaWMudXRpbC5zZXRTdHlsZSh0aGlzLmxvd2VyQ2FudmFzRWwsIHRoaXMuX29yaWdpbmFsQ2FudmFzU3R5bGUpO1xuICAgICAgZGVsZXRlIHRoaXMuX29yaWdpbmFsQ2FudmFzU3R5bGU7XG4gICAgICAvLyByZXN0b3JlIGNhbnZhcyBzaXplIHRvIG9yaWdpbmFsIHNpemUgaW4gY2FzZSByZXRpbmEgc2NhbGluZyB3YXMgYXBwbGllZFxuICAgICAgdGhpcy5sb3dlckNhbnZhc0VsLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCB0aGlzLndpZHRoKTtcbiAgICAgIHRoaXMubG93ZXJDYW52YXNFbC5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIHRoaXMuaGVpZ2h0KTtcbiAgICAgIGZhYnJpYy51dGlsLmNsZWFuVXBKc2RvbU5vZGUodGhpcy5sb3dlckNhbnZhc0VsKTtcbiAgICAgIHRoaXMubG93ZXJDYW52YXNFbCA9IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICcjPGZhYnJpYy5DYW52YXMgKCcgKyB0aGlzLmNvbXBsZXhpdHkoKSArICcpOiAnICtcbiAgICAgICAgICAgICAgICd7IG9iamVjdHM6ICcgKyB0aGlzLl9vYmplY3RzLmxlbmd0aCArICcgfT4nO1xuICAgIH1cbiAgfSk7XG5cbiAgZXh0ZW5kKGZhYnJpYy5TdGF0aWNDYW52YXMucHJvdG90eXBlLCBmYWJyaWMuT2JzZXJ2YWJsZSk7XG4gIGV4dGVuZChmYWJyaWMuU3RhdGljQ2FudmFzLnByb3RvdHlwZSwgZmFicmljLkNvbGxlY3Rpb24pO1xuICBleHRlbmQoZmFicmljLlN0YXRpY0NhbnZhcy5wcm90b3R5cGUsIGZhYnJpYy5EYXRhVVJMRXhwb3J0ZXIpO1xuXG4gIGV4dGVuZChmYWJyaWMuU3RhdGljQ2FudmFzLCAvKiogQGxlbmRzIGZhYnJpYy5TdGF0aWNDYW52YXMgKi8ge1xuXG4gICAgLyoqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgRU1QVFlfSlNPTjogJ3tcIm9iamVjdHNcIjogW10sIFwiYmFja2dyb3VuZFwiOiBcIndoaXRlXCJ9JyxcblxuICAgIC8qKlxuICAgICAqIFByb3ZpZGVzIGEgd2F5IHRvIGNoZWNrIHN1cHBvcnQgb2Ygc29tZSBvZiB0aGUgY2FudmFzIG1ldGhvZHNcbiAgICAgKiAoZWl0aGVyIHRob3NlIG9mIEhUTUxDYW52YXNFbGVtZW50IGl0c2VsZiwgb3IgcmVuZGVyaW5nIGNvbnRleHQpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbWV0aG9kTmFtZSBNZXRob2QgdG8gY2hlY2sgc3VwcG9ydCBmb3I7XG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgQ291bGQgYmUgb25lIG9mIFwic2V0TGluZURhc2hcIlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW4gfCBudWxsfSBgdHJ1ZWAgaWYgbWV0aG9kIGlzIHN1cHBvcnRlZCAob3IgYXQgbGVhc3QgZXhpc3RzKSxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgYG51bGxgIGlmIGNhbnZhcyBlbGVtZW50IG9yIGNvbnRleHQgY2FuIG5vdCBiZSBpbml0aWFsaXplZFxuICAgICAqL1xuICAgIHN1cHBvcnRzOiBmdW5jdGlvbiAobWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGVsID0gY3JlYXRlQ2FudmFzRWxlbWVudCgpO1xuXG4gICAgICBpZiAoIWVsIHx8ICFlbC5nZXRDb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgY3R4ID0gZWwuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgIGlmICghY3R4KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICBzd2l0Y2ggKG1ldGhvZE5hbWUpIHtcblxuICAgICAgICBjYXNlICdzZXRMaW5lRGFzaCc6XG4gICAgICAgICAgcmV0dXJuIHR5cGVvZiBjdHguc2V0TGluZURhc2ggIT09ICd1bmRlZmluZWQnO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICAvKipcbiAgICogUmV0dXJucyBPYmplY3QgcmVwcmVzZW50YXRpb24gb2YgY2FudmFzXG4gICAqIHRoaXMgYWxpYXMgaXMgcHJvdmlkZWQgYmVjYXVzZSBpZiB5b3UgY2FsbCBKU09OLnN0cmluZ2lmeSBvbiBhbiBpbnN0YW5jZSxcbiAgICogdGhlIHRvSlNPTiBvYmplY3Qgd2lsbCBiZSBpbnZva2VkIGlmIGl0IGV4aXN0cy5cbiAgICogSGF2aW5nIGEgdG9KU09OIG1ldGhvZCBtZWFucyB5b3UgY2FuIGRvIEpTT04uc3RyaW5naWZ5KG15Q2FudmFzKVxuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BlcnRpZXNUb0luY2x1ZGVdIEFueSBwcm9wZXJ0aWVzIHRoYXQgeW91IG1pZ2h0IHdhbnQgdG8gYWRkaXRpb25hbGx5IGluY2x1ZGUgaW4gdGhlIG91dHB1dFxuICAgKiBAcmV0dXJuIHtPYmplY3R9IEpTT04gY29tcGF0aWJsZSBvYmplY3RcbiAgICogQHR1dG9yaWFsIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ZhYnJpYy1pbnRyby1wYXJ0LTMjc2VyaWFsaXphdGlvbn1cbiAgICogQHNlZSB7QGxpbmsgaHR0cDovL2pzZmlkZGxlLm5ldC9mYWJyaWNqcy9wZWM4Ni98anNGaWRkbGUgZGVtb31cbiAgICogQGV4YW1wbGUgPGNhcHRpb24+SlNPTiB3aXRob3V0IGFkZGl0aW9uYWwgcHJvcGVydGllczwvY2FwdGlvbj5cbiAgICogdmFyIGpzb24gPSBjYW52YXMudG9KU09OKCk7XG4gICAqIEBleGFtcGxlIDxjYXB0aW9uPkpTT04gd2l0aCBhZGRpdGlvbmFsIHByb3BlcnRpZXMgaW5jbHVkZWQ8L2NhcHRpb24+XG4gICAqIHZhciBqc29uID0gY2FudmFzLnRvSlNPTihbJ2xvY2tNb3ZlbWVudFgnLCAnbG9ja01vdmVtZW50WScsICdsb2NrUm90YXRpb24nLCAnbG9ja1NjYWxpbmdYJywgJ2xvY2tTY2FsaW5nWSddKTtcbiAgICogQGV4YW1wbGUgPGNhcHRpb24+SlNPTiB3aXRob3V0IGRlZmF1bHQgdmFsdWVzPC9jYXB0aW9uPlxuICAgKiBjYW52YXMuaW5jbHVkZURlZmF1bHRWYWx1ZXMgPSBmYWxzZTtcbiAgICogdmFyIGpzb24gPSBjYW52YXMudG9KU09OKCk7XG4gICAqL1xuICBmYWJyaWMuU3RhdGljQ2FudmFzLnByb3RvdHlwZS50b0pTT04gPSBmYWJyaWMuU3RhdGljQ2FudmFzLnByb3RvdHlwZS50b09iamVjdDtcblxuICBpZiAoZmFicmljLmlzTGlrZWx5Tm9kZSkge1xuICAgIGZhYnJpYy5TdGF0aWNDYW52YXMucHJvdG90eXBlLmNyZWF0ZVBOR1N0cmVhbSA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGltcGwgPSBnZXROb2RlQ2FudmFzKHRoaXMubG93ZXJDYW52YXNFbCk7XG4gICAgICByZXR1cm4gaW1wbCAmJiBpbXBsLmNyZWF0ZVBOR1N0cmVhbSgpO1xuICAgIH07XG4gICAgZmFicmljLlN0YXRpY0NhbnZhcy5wcm90b3R5cGUuY3JlYXRlSlBFR1N0cmVhbSA9IGZ1bmN0aW9uKG9wdHMpIHtcbiAgICAgIHZhciBpbXBsID0gZ2V0Tm9kZUNhbnZhcyh0aGlzLmxvd2VyQ2FudmFzRWwpO1xuICAgICAgcmV0dXJuIGltcGwgJiYgaW1wbC5jcmVhdGVKUEVHU3RyZWFtKG9wdHMpO1xuICAgIH07XG4gIH1cbn0pKCk7XG5cblxuLyoqXG4gKiBCYXNlQnJ1c2ggY2xhc3NcbiAqIEBjbGFzcyBmYWJyaWMuQmFzZUJydXNoXG4gKiBAc2VlIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ZyZWVkcmF3aW5nfEZyZWVkcmF3aW5nIGRlbW99XG4gKi9cbmZhYnJpYy5CYXNlQnJ1c2ggPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcygvKiogQGxlbmRzIGZhYnJpYy5CYXNlQnJ1c2gucHJvdG90eXBlICovIHtcblxuICAvKipcbiAgICogQ29sb3Igb2YgYSBicnVzaFxuICAgKiBAdHlwZSBTdHJpbmdcbiAgICogQGRlZmF1bHRcbiAgICovXG4gIGNvbG9yOiAncmdiKDAsIDAsIDApJyxcblxuICAvKipcbiAgICogV2lkdGggb2YgYSBicnVzaCwgaGFzIHRvIGJlIGEgTnVtYmVyLCBubyBzdHJpbmcgbGl0ZXJhbHNcbiAgICogQHR5cGUgTnVtYmVyXG4gICAqIEBkZWZhdWx0XG4gICAqL1xuICB3aWR0aDogMSxcblxuICAvKipcbiAgICogU2hhZG93IG9iamVjdCByZXByZXNlbnRpbmcgc2hhZG93IG9mIHRoaXMgc2hhcGUuXG4gICAqIDxiPkJhY2t3YXJkcyBpbmNvbXBhdGliaWxpdHkgbm90ZTo8L2I+IFRoaXMgcHJvcGVydHkgcmVwbGFjZXMgXCJzaGFkb3dDb2xvclwiIChTdHJpbmcpLCBcInNoYWRvd09mZnNldFhcIiAoTnVtYmVyKSxcbiAgICogXCJzaGFkb3dPZmZzZXRZXCIgKE51bWJlcikgYW5kIFwic2hhZG93Qmx1clwiIChOdW1iZXIpIHNpbmNlIHYxLjIuMTJcbiAgICogQHR5cGUgZmFicmljLlNoYWRvd1xuICAgKiBAZGVmYXVsdFxuICAgKi9cbiAgc2hhZG93OiBudWxsLFxuXG4gIC8qKlxuICAgKiBMaW5lIGVuZGluZ3Mgc3R5bGUgb2YgYSBicnVzaCAob25lIG9mIFwiYnV0dFwiLCBcInJvdW5kXCIsIFwic3F1YXJlXCIpXG4gICAqIEB0eXBlIFN0cmluZ1xuICAgKiBAZGVmYXVsdFxuICAgKi9cbiAgc3Ryb2tlTGluZUNhcDogJ3JvdW5kJyxcblxuICAvKipcbiAgICogQ29ybmVyIHN0eWxlIG9mIGEgYnJ1c2ggKG9uZSBvZiBcImJldmVsXCIsIFwicm91bmRcIiwgXCJtaXRlclwiKVxuICAgKiBAdHlwZSBTdHJpbmdcbiAgICogQGRlZmF1bHRcbiAgICovXG4gIHN0cm9rZUxpbmVKb2luOiAncm91bmQnLFxuXG4gIC8qKlxuICAgKiBNYXhpbXVtIG1pdGVyIGxlbmd0aCAodXNlZCBmb3Igc3Ryb2tlTGluZUpvaW4gPSBcIm1pdGVyXCIpIG9mIGEgYnJ1c2gnc1xuICAgKiBAdHlwZSBOdW1iZXJcbiAgICogQGRlZmF1bHRcbiAgICovXG4gIHN0cm9rZU1pdGVyTGltaXQ6ICAgICAgICAgMTAsXG5cbiAgLyoqXG4gICAqIFN0cm9rZSBEYXNoIEFycmF5LlxuICAgKiBAdHlwZSBBcnJheVxuICAgKiBAZGVmYXVsdFxuICAgKi9cbiAgc3Ryb2tlRGFzaEFycmF5OiBudWxsLFxuXG4gIC8qKlxuICAgKiBXaGVuIGB0cnVlYCwgdGhlIGZyZWUgZHJhd2luZyBpcyBsaW1pdGVkIHRvIHRoZSB3aGl0ZWJvYXJkIHNpemUuIERlZmF1bHQgdG8gZmFsc2UuXG4gICAqIEB0eXBlIEJvb2xlYW5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgKi9cblxuICBsaW1pdGVkVG9DYW52YXNTaXplOiBmYWxzZSxcblxuXG4gIC8qKlxuICAgKiBTZXRzIGJydXNoIHN0eWxlc1xuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4XG4gICAqL1xuICBfc2V0QnJ1c2hTdHlsZXM6IGZ1bmN0aW9uIChjdHgpIHtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmNvbG9yO1xuICAgIGN0eC5saW5lV2lkdGggPSB0aGlzLndpZHRoO1xuICAgIGN0eC5saW5lQ2FwID0gdGhpcy5zdHJva2VMaW5lQ2FwO1xuICAgIGN0eC5taXRlckxpbWl0ID0gdGhpcy5zdHJva2VNaXRlckxpbWl0O1xuICAgIGN0eC5saW5lSm9pbiA9IHRoaXMuc3Ryb2tlTGluZUpvaW47XG4gICAgY3R4LnNldExpbmVEYXNoKHRoaXMuc3Ryb2tlRGFzaEFycmF5IHx8IFtdKTtcbiAgfSxcblxuICAvKipcbiAgICogU2V0cyB0aGUgdHJhbnNmb3JtYXRpb24gb24gZ2l2ZW4gY29udGV4dFxuICAgKiBAcGFyYW0ge1JlbmRlcmluZ0NvbnRleHQyZH0gY3R4IGNvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc2F2ZUFuZFRyYW5zZm9ybTogZnVuY3Rpb24oY3R4KSB7XG4gICAgdmFyIHYgPSB0aGlzLmNhbnZhcy52aWV3cG9ydFRyYW5zZm9ybTtcbiAgICBjdHguc2F2ZSgpO1xuICAgIGN0eC50cmFuc2Zvcm0odlswXSwgdlsxXSwgdlsyXSwgdlszXSwgdls0XSwgdls1XSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNldHMgYnJ1c2ggc2hhZG93IHN0eWxlc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3NldFNoYWRvdzogZnVuY3Rpb24oKSB7XG4gICAgaWYgKCF0aGlzLnNoYWRvdykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBjYW52YXMgPSB0aGlzLmNhbnZhcyxcbiAgICAgICAgc2hhZG93ID0gdGhpcy5zaGFkb3csXG4gICAgICAgIGN0eCA9IGNhbnZhcy5jb250ZXh0VG9wLFxuICAgICAgICB6b29tID0gY2FudmFzLmdldFpvb20oKTtcbiAgICBpZiAoY2FudmFzICYmIGNhbnZhcy5faXNSZXRpbmFTY2FsaW5nKCkpIHtcbiAgICAgIHpvb20gKj0gZmFicmljLmRldmljZVBpeGVsUmF0aW87XG4gICAgfVxuXG4gICAgY3R4LnNoYWRvd0NvbG9yID0gc2hhZG93LmNvbG9yO1xuICAgIGN0eC5zaGFkb3dCbHVyID0gc2hhZG93LmJsdXIgKiB6b29tO1xuICAgIGN0eC5zaGFkb3dPZmZzZXRYID0gc2hhZG93Lm9mZnNldFggKiB6b29tO1xuICAgIGN0eC5zaGFkb3dPZmZzZXRZID0gc2hhZG93Lm9mZnNldFkgKiB6b29tO1xuICB9LFxuXG4gIG5lZWRzRnVsbFJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGNvbG9yID0gbmV3IGZhYnJpYy5Db2xvcih0aGlzLmNvbG9yKTtcbiAgICByZXR1cm4gY29sb3IuZ2V0QWxwaGEoKSA8IDEgfHwgISF0aGlzLnNoYWRvdztcbiAgfSxcblxuICAvKipcbiAgICogUmVtb3ZlcyBicnVzaCBzaGFkb3cgc3R5bGVzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfcmVzZXRTaGFkb3c6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjdHggPSB0aGlzLmNhbnZhcy5jb250ZXh0VG9wO1xuXG4gICAgY3R4LnNoYWRvd0NvbG9yID0gJyc7XG4gICAgY3R4LnNoYWRvd0JsdXIgPSBjdHguc2hhZG93T2Zmc2V0WCA9IGN0eC5zaGFkb3dPZmZzZXRZID0gMDtcbiAgfSxcblxuICAvKipcbiAgICogQ2hlY2sgaXMgcG9pbnRlciBpcyBvdXRzaWRlIGNhbnZhcyBib3VuZGFyaWVzXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludGVyXG4gICAqIEBwcml2YXRlXG4gICovXG4gIF9pc091dFNpZGVDYW52YXM6IGZ1bmN0aW9uKHBvaW50ZXIpIHtcbiAgICByZXR1cm4gcG9pbnRlci54IDwgMCB8fCBwb2ludGVyLnggPiB0aGlzLmNhbnZhcy5nZXRXaWR0aCgpIHx8IHBvaW50ZXIueSA8IDAgfHwgcG9pbnRlci55ID4gdGhpcy5jYW52YXMuZ2V0SGVpZ2h0KCk7XG4gIH1cbn0pO1xuXG5cbihmdW5jdGlvbigpIHtcbiAgLyoqXG4gICAqIFBlbmNpbEJydXNoIGNsYXNzXG4gICAqIEBjbGFzcyBmYWJyaWMuUGVuY2lsQnJ1c2hcbiAgICogQGV4dGVuZHMgZmFicmljLkJhc2VCcnVzaFxuICAgKi9cbiAgZmFicmljLlBlbmNpbEJydXNoID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3MoZmFicmljLkJhc2VCcnVzaCwgLyoqIEBsZW5kcyBmYWJyaWMuUGVuY2lsQnJ1c2gucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIERpc2NhcmQgcG9pbnRzIHRoYXQgYXJlIGxlc3MgdGhhbiBgZGVjaW1hdGVgIHBpeGVsIGRpc3RhbnQgZnJvbSBlYWNoIG90aGVyXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHQgMC40XG4gICAgICovXG4gICAgZGVjaW1hdGU6IDAuNCxcblxuICAgIC8qKlxuICAgICAqIERyYXdzIGEgc3RyYWlnaHQgbGluZSBiZXR3ZWVuIGxhc3QgcmVjb3JkZWQgcG9pbnQgdG8gY3VycmVudCBwb2ludGVyXG4gICAgICogVXNlZCBmb3IgYHNoaWZ0YCBmdW5jdGlvbmFsaXR5XG4gICAgICpcbiAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBkcmF3U3RyYWlnaHRMaW5lOiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIFRoZSBldmVudCBtb2RpZmllciBrZXkgdGhhdCBtYWtlcyB0aGUgYnJ1c2ggZHJhdyBhIHN0cmFpZ2h0IGxpbmUuXG4gICAgICogSWYgYG51bGxgIG9yICdub25lJyBvciBhbnkgb3RoZXIgc3RyaW5nIHRoYXQgaXMgbm90IGEgbW9kaWZpZXIga2V5IHRoZSBmZWF0dXJlIGlzIGRpc2FibGVkLlxuICAgICAqIEB0eXBlIHsnYWx0S2V5JyB8ICdzaGlmdEtleScgfCAnY3RybEtleScgfCAnbm9uZScgfCB1bmRlZmluZWQgfCBudWxsfVxuICAgICAqL1xuICAgIHN0cmFpZ2h0TGluZUtleTogJ3NoaWZ0S2V5JyxcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtmYWJyaWMuQ2FudmFzfSBjYW52YXNcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUGVuY2lsQnJ1c2h9IEluc3RhbmNlIG9mIGEgcGVuY2lsIGJydXNoXG4gICAgICovXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oY2FudmFzKSB7XG4gICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcbiAgICAgIHRoaXMuX3BvaW50cyA9IFtdO1xuICAgIH0sXG5cbiAgICBuZWVkc0Z1bGxSZW5kZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhbGxTdXBlcignbmVlZHNGdWxsUmVuZGVyJykgfHwgdGhpcy5faGFzU3RyYWlnaHRMaW5lO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VkIGluc2lkZSBvbiBtb3VzZSBkb3duIGFuZCBtb3VzZSBtb3ZlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50ZXJcbiAgICAgKi9cbiAgICBfZHJhd1NlZ21lbnQ6IGZ1bmN0aW9uIChjdHgsIHAxLCBwMikge1xuICAgICAgdmFyIG1pZFBvaW50ID0gcDEubWlkUG9pbnRGcm9tKHAyKTtcbiAgICAgIGN0eC5xdWFkcmF0aWNDdXJ2ZVRvKHAxLngsIHAxLnksIG1pZFBvaW50LngsIG1pZFBvaW50LnkpO1xuICAgICAgcmV0dXJuIG1pZFBvaW50O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VkIG9uIG1vdXNlIGRvd25cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnRlclxuICAgICAqL1xuICAgIG9uTW91c2VEb3duOiBmdW5jdGlvbihwb2ludGVyLCBvcHRpb25zKSB7XG4gICAgICBpZiAoIXRoaXMuY2FudmFzLl9pc01haW5FdmVudChvcHRpb25zLmUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuZHJhd1N0cmFpZ2h0TGluZSA9IG9wdGlvbnMuZVt0aGlzLnN0cmFpZ2h0TGluZUtleV07XG4gICAgICB0aGlzLl9wcmVwYXJlRm9yRHJhd2luZyhwb2ludGVyKTtcbiAgICAgIC8vIGNhcHR1cmUgY29vcmRpbmF0ZXMgaW1tZWRpYXRlbHlcbiAgICAgIC8vIHRoaXMgYWxsb3dzIHRvIGRyYXcgZG90cyAod2hlbiBtb3ZlbWVudCBuZXZlciBvY2N1cnMpXG4gICAgICB0aGlzLl9jYXB0dXJlRHJhd2luZ1BhdGgocG9pbnRlcik7XG4gICAgICB0aGlzLl9yZW5kZXIoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSW52b2tlZCBvbiBtb3VzZSBtb3ZlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50ZXJcbiAgICAgKi9cbiAgICBvbk1vdXNlTW92ZTogZnVuY3Rpb24ocG9pbnRlciwgb3B0aW9ucykge1xuICAgICAgaWYgKCF0aGlzLmNhbnZhcy5faXNNYWluRXZlbnQob3B0aW9ucy5lKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmRyYXdTdHJhaWdodExpbmUgPSBvcHRpb25zLmVbdGhpcy5zdHJhaWdodExpbmVLZXldO1xuICAgICAgaWYgKHRoaXMubGltaXRlZFRvQ2FudmFzU2l6ZSA9PT0gdHJ1ZSAmJiB0aGlzLl9pc091dFNpZGVDYW52YXMocG9pbnRlcikpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX2NhcHR1cmVEcmF3aW5nUGF0aChwb2ludGVyKSAmJiB0aGlzLl9wb2ludHMubGVuZ3RoID4gMSkge1xuICAgICAgICBpZiAodGhpcy5uZWVkc0Z1bGxSZW5kZXIoKSkge1xuICAgICAgICAgIC8vIHJlZHJhdyBjdXJ2ZVxuICAgICAgICAgIC8vIGNsZWFyIHRvcCBjYW52YXNcbiAgICAgICAgICB0aGlzLmNhbnZhcy5jbGVhckNvbnRleHQodGhpcy5jYW52YXMuY29udGV4dFRvcCk7XG4gICAgICAgICAgdGhpcy5fcmVuZGVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMuX3BvaW50cywgbGVuZ3RoID0gcG9pbnRzLmxlbmd0aCwgY3R4ID0gdGhpcy5jYW52YXMuY29udGV4dFRvcDtcbiAgICAgICAgICAvLyBkcmF3IHRoZSBjdXJ2ZSB1cGRhdGVcbiAgICAgICAgICB0aGlzLl9zYXZlQW5kVHJhbnNmb3JtKGN0eCk7XG4gICAgICAgICAgaWYgKHRoaXMub2xkRW5kKSB7XG4gICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjdHgubW92ZVRvKHRoaXMub2xkRW5kLngsIHRoaXMub2xkRW5kLnkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLm9sZEVuZCA9IHRoaXMuX2RyYXdTZWdtZW50KGN0eCwgcG9pbnRzW2xlbmd0aCAtIDJdLCBwb2ludHNbbGVuZ3RoIC0gMV0sIHRydWUpO1xuICAgICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEludm9rZWQgb24gbW91c2UgdXBcbiAgICAgKi9cbiAgICBvbk1vdXNlVXA6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIGlmICghdGhpcy5jYW52YXMuX2lzTWFpbkV2ZW50KG9wdGlvbnMuZSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICB0aGlzLmRyYXdTdHJhaWdodExpbmUgPSBmYWxzZTtcbiAgICAgIHRoaXMub2xkRW5kID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5fZmluYWxpemVBbmRBZGRQYXRoKCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50ZXIgQWN0dWFsIG1vdXNlIHBvc2l0aW9uIHJlbGF0ZWQgdG8gdGhlIGNhbnZhcy5cbiAgICAgKi9cbiAgICBfcHJlcGFyZUZvckRyYXdpbmc6IGZ1bmN0aW9uKHBvaW50ZXIpIHtcblxuICAgICAgdmFyIHAgPSBuZXcgZmFicmljLlBvaW50KHBvaW50ZXIueCwgcG9pbnRlci55KTtcblxuICAgICAgdGhpcy5fcmVzZXQoKTtcbiAgICAgIHRoaXMuX2FkZFBvaW50KHApO1xuICAgICAgdGhpcy5jYW52YXMuY29udGV4dFRvcC5tb3ZlVG8ocC54LCBwLnkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSBwb2ludCBQb2ludCB0byBiZSBhZGRlZCB0byBwb2ludHMgYXJyYXlcbiAgICAgKi9cbiAgICBfYWRkUG9pbnQ6IGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgICBpZiAodGhpcy5fcG9pbnRzLmxlbmd0aCA+IDEgJiYgcG9pbnQuZXEodGhpcy5fcG9pbnRzW3RoaXMuX3BvaW50cy5sZW5ndGggLSAxXSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuZHJhd1N0cmFpZ2h0TGluZSAmJiB0aGlzLl9wb2ludHMubGVuZ3RoID4gMSkge1xuICAgICAgICB0aGlzLl9oYXNTdHJhaWdodExpbmUgPSB0cnVlO1xuICAgICAgICB0aGlzLl9wb2ludHMucG9wKCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9wb2ludHMucHVzaChwb2ludCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2xlYXIgcG9pbnRzIGFycmF5IGFuZCBzZXQgY29udGV4dFRvcCBjYW52YXMgc3R5bGUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5fcG9pbnRzID0gW107XG4gICAgICB0aGlzLl9zZXRCcnVzaFN0eWxlcyh0aGlzLmNhbnZhcy5jb250ZXh0VG9wKTtcbiAgICAgIHRoaXMuX3NldFNoYWRvdygpO1xuICAgICAgdGhpcy5faGFzU3RyYWlnaHRMaW5lID0gZmFsc2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50ZXIgQWN0dWFsIG1vdXNlIHBvc2l0aW9uIHJlbGF0ZWQgdG8gdGhlIGNhbnZhcy5cbiAgICAgKi9cbiAgICBfY2FwdHVyZURyYXdpbmdQYXRoOiBmdW5jdGlvbihwb2ludGVyKSB7XG4gICAgICB2YXIgcG9pbnRlclBvaW50ID0gbmV3IGZhYnJpYy5Qb2ludChwb2ludGVyLngsIHBvaW50ZXIueSk7XG4gICAgICByZXR1cm4gdGhpcy5fYWRkUG9pbnQocG9pbnRlclBvaW50KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRHJhdyBhIHNtb290aCBwYXRoIG9uIHRoZSB0b3BDYW52YXMgdXNpbmcgcXVhZHJhdGljQ3VydmVUb1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IFtjdHhdXG4gICAgICovXG4gICAgX3JlbmRlcjogZnVuY3Rpb24oY3R4KSB7XG4gICAgICB2YXIgaSwgbGVuLFxuICAgICAgICAgIHAxID0gdGhpcy5fcG9pbnRzWzBdLFxuICAgICAgICAgIHAyID0gdGhpcy5fcG9pbnRzWzFdO1xuICAgICAgY3R4ID0gY3R4IHx8IHRoaXMuY2FudmFzLmNvbnRleHRUb3A7XG4gICAgICB0aGlzLl9zYXZlQW5kVHJhbnNmb3JtKGN0eCk7XG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAvL2lmIHdlIG9ubHkgaGF2ZSAyIHBvaW50cyBpbiB0aGUgcGF0aCBhbmQgdGhleSBhcmUgdGhlIHNhbWVcbiAgICAgIC8vaXQgbWVhbnMgdGhhdCB0aGUgdXNlciBvbmx5IGNsaWNrZWQgdGhlIGNhbnZhcyB3aXRob3V0IG1vdmluZyB0aGUgbW91c2VcbiAgICAgIC8vdGhlbiB3ZSBzaG91bGQgYmUgZHJhd2luZyBhIGRvdC4gQSBwYXRoIGlzbid0IGRyYXduIGJldHdlZW4gdHdvIGlkZW50aWNhbCBkb3RzXG4gICAgICAvL3RoYXQncyB3aHkgd2Ugc2V0IHRoZW0gYXBhcnQgYSBiaXRcbiAgICAgIGlmICh0aGlzLl9wb2ludHMubGVuZ3RoID09PSAyICYmIHAxLnggPT09IHAyLnggJiYgcDEueSA9PT0gcDIueSkge1xuICAgICAgICB2YXIgd2lkdGggPSB0aGlzLndpZHRoIC8gMTAwMDtcbiAgICAgICAgcDEgPSBuZXcgZmFicmljLlBvaW50KHAxLngsIHAxLnkpO1xuICAgICAgICBwMiA9IG5ldyBmYWJyaWMuUG9pbnQocDIueCwgcDIueSk7XG4gICAgICAgIHAxLnggLT0gd2lkdGg7XG4gICAgICAgIHAyLnggKz0gd2lkdGg7XG4gICAgICB9XG4gICAgICBjdHgubW92ZVRvKHAxLngsIHAxLnkpO1xuXG4gICAgICBmb3IgKGkgPSAxLCBsZW4gPSB0aGlzLl9wb2ludHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgLy8gd2UgcGljayB0aGUgcG9pbnQgYmV0d2VlbiBwaSArIDEgJiBwaSArIDIgYXMgdGhlXG4gICAgICAgIC8vIGVuZCBwb2ludCBhbmQgcDEgYXMgb3VyIGNvbnRyb2wgcG9pbnQuXG4gICAgICAgIHRoaXMuX2RyYXdTZWdtZW50KGN0eCwgcDEsIHAyKTtcbiAgICAgICAgcDEgPSB0aGlzLl9wb2ludHNbaV07XG4gICAgICAgIHAyID0gdGhpcy5fcG9pbnRzW2kgKyAxXTtcbiAgICAgIH1cbiAgICAgIC8vIERyYXcgbGFzdCBsaW5lIGFzIGEgc3RyYWlnaHQgbGluZSB3aGlsZVxuICAgICAgLy8gd2Ugd2FpdCBmb3IgdGhlIG5leHQgcG9pbnQgdG8gYmUgYWJsZSB0byBjYWxjdWxhdGVcbiAgICAgIC8vIHRoZSBiZXppZXIgY29udHJvbCBwb2ludFxuICAgICAgY3R4LmxpbmVUbyhwMS54LCBwMS55KTtcbiAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHBvaW50cyB0byBTVkcgcGF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBvaW50cyBBcnJheSBvZiBwb2ludHNcbiAgICAgKiBAcmV0dXJuIHsoc3RyaW5nfG51bWJlcilbXVtdfSBTVkcgcGF0aCBjb21tYW5kc1xuICAgICAqL1xuICAgIGNvbnZlcnRQb2ludHNUb1NWR1BhdGg6IGZ1bmN0aW9uIChwb2ludHMpIHtcbiAgICAgIHZhciBjb3JyZWN0aW9uID0gdGhpcy53aWR0aCAvIDEwMDA7XG4gICAgICByZXR1cm4gZmFicmljLnV0aWwuZ2V0U21vb3RoUGF0aEZyb21Qb2ludHMocG9pbnRzLCBjb3JyZWN0aW9uKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyhzdHJpbmd8bnVtYmVyKVtdW119IHBhdGhEYXRhIFNWRyBwYXRoIGNvbW1hbmRzXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgX2lzRW1wdHlTVkdQYXRoOiBmdW5jdGlvbiAocGF0aERhdGEpIHtcbiAgICAgIHZhciBwYXRoU3RyaW5nID0gZmFicmljLnV0aWwuam9pblBhdGgocGF0aERhdGEpO1xuICAgICAgcmV0dXJuIHBhdGhTdHJpbmcgPT09ICdNIDAgMCBRIDAgMCAwIDAgTCAwIDAnO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGZhYnJpYy5QYXRoIG9iamVjdCB0byBhZGQgb24gY2FudmFzXG4gICAgICogQHBhcmFtIHsoc3RyaW5nfG51bWJlcilbXVtdfSBwYXRoRGF0YSBQYXRoIGRhdGFcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUGF0aH0gUGF0aCB0byBhZGQgb24gY2FudmFzXG4gICAgICovXG4gICAgY3JlYXRlUGF0aDogZnVuY3Rpb24ocGF0aERhdGEpIHtcbiAgICAgIHZhciBwYXRoID0gbmV3IGZhYnJpYy5QYXRoKHBhdGhEYXRhLCB7XG4gICAgICAgIGZpbGw6IG51bGwsXG4gICAgICAgIHN0cm9rZTogdGhpcy5jb2xvcixcbiAgICAgICAgc3Ryb2tlV2lkdGg6IHRoaXMud2lkdGgsXG4gICAgICAgIHN0cm9rZUxpbmVDYXA6IHRoaXMuc3Ryb2tlTGluZUNhcCxcbiAgICAgICAgc3Ryb2tlTWl0ZXJMaW1pdDogdGhpcy5zdHJva2VNaXRlckxpbWl0LFxuICAgICAgICBzdHJva2VMaW5lSm9pbjogdGhpcy5zdHJva2VMaW5lSm9pbixcbiAgICAgICAgc3Ryb2tlRGFzaEFycmF5OiB0aGlzLnN0cm9rZURhc2hBcnJheSxcbiAgICAgIH0pO1xuICAgICAgaWYgKHRoaXMuc2hhZG93KSB7XG4gICAgICAgIHRoaXMuc2hhZG93LmFmZmVjdFN0cm9rZSA9IHRydWU7XG4gICAgICAgIHBhdGguc2hhZG93ID0gbmV3IGZhYnJpYy5TaGFkb3codGhpcy5zaGFkb3cpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGF0aDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGVjaW1hdGUgcG9pbnRzIGFycmF5IHdpdGggdGhlIGRlY2ltYXRlIHZhbHVlXG4gICAgICovXG4gICAgZGVjaW1hdGVQb2ludHM6IGZ1bmN0aW9uKHBvaW50cywgZGlzdGFuY2UpIHtcbiAgICAgIGlmIChwb2ludHMubGVuZ3RoIDw9IDIpIHtcbiAgICAgICAgcmV0dXJuIHBvaW50cztcbiAgICAgIH1cbiAgICAgIHZhciB6b29tID0gdGhpcy5jYW52YXMuZ2V0Wm9vbSgpLCBhZGp1c3RlZERpc3RhbmNlID0gTWF0aC5wb3coZGlzdGFuY2UgLyB6b29tLCAyKSxcbiAgICAgICAgICBpLCBsID0gcG9pbnRzLmxlbmd0aCAtIDEsIGxhc3RQb2ludCA9IHBvaW50c1swXSwgbmV3UG9pbnRzID0gW2xhc3RQb2ludF0sXG4gICAgICAgICAgY0Rpc3RhbmNlO1xuICAgICAgZm9yIChpID0gMTsgaSA8IGwgLSAxOyBpKyspIHtcbiAgICAgICAgY0Rpc3RhbmNlID0gTWF0aC5wb3cobGFzdFBvaW50LnggLSBwb2ludHNbaV0ueCwgMikgKyBNYXRoLnBvdyhsYXN0UG9pbnQueSAtIHBvaW50c1tpXS55LCAyKTtcbiAgICAgICAgaWYgKGNEaXN0YW5jZSA+PSBhZGp1c3RlZERpc3RhbmNlKSB7XG4gICAgICAgICAgbGFzdFBvaW50ID0gcG9pbnRzW2ldO1xuICAgICAgICAgIG5ld1BvaW50cy5wdXNoKGxhc3RQb2ludCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8qKlxuICAgICAgICogQWRkIHRoZSBsYXN0IHBvaW50IGZyb20gdGhlIG9yaWdpbmFsIGxpbmUgdG8gdGhlIGVuZCBvZiB0aGUgYXJyYXkuXG4gICAgICAgKiBUaGlzIGVuc3VyZXMgZGVjaW1hdGUgZG9lc24ndCBkZWxldGUgdGhlIGxhc3QgcG9pbnQgb24gdGhlIGxpbmUsIGFuZCBlbnN1cmVzIHRoZSBsaW5lIGlzID4gMSBwb2ludC5cbiAgICAgICAqL1xuICAgICAgbmV3UG9pbnRzLnB1c2gocG9pbnRzW2xdKTtcbiAgICAgIHJldHVybiBuZXdQb2ludHM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE9uIG1vdXNldXAgYWZ0ZXIgZHJhd2luZyB0aGUgcGF0aCBvbiBjb250ZXh0VG9wIGNhbnZhc1xuICAgICAqIHdlIHVzZSB0aGUgcG9pbnRzIGNhcHR1cmVkIHRvIGNyZWF0ZSBhbiBuZXcgZmFicmljIHBhdGggb2JqZWN0XG4gICAgICogYW5kIGFkZCBpdCB0byB0aGUgZmFicmljIGNhbnZhcy5cbiAgICAgKi9cbiAgICBfZmluYWxpemVBbmRBZGRQYXRoOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjdHggPSB0aGlzLmNhbnZhcy5jb250ZXh0VG9wO1xuICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgaWYgKHRoaXMuZGVjaW1hdGUpIHtcbiAgICAgICAgdGhpcy5fcG9pbnRzID0gdGhpcy5kZWNpbWF0ZVBvaW50cyh0aGlzLl9wb2ludHMsIHRoaXMuZGVjaW1hdGUpO1xuICAgICAgfVxuICAgICAgdmFyIHBhdGhEYXRhID0gdGhpcy5jb252ZXJ0UG9pbnRzVG9TVkdQYXRoKHRoaXMuX3BvaW50cyk7XG4gICAgICBpZiAodGhpcy5faXNFbXB0eVNWR1BhdGgocGF0aERhdGEpKSB7XG4gICAgICAgIC8vIGRvIG5vdCBjcmVhdGUgMCB3aWR0aC9oZWlnaHQgcGF0aHMsIGFzIHRoZXkgYXJlXG4gICAgICAgIC8vIHJlbmRlcmVkIGluY29uc2lzdGVudGx5IGFjcm9zcyBicm93c2Vyc1xuICAgICAgICAvLyBGaXJlZm94IDQsIGZvciBleGFtcGxlLCByZW5kZXJzIGEgZG90LFxuICAgICAgICAvLyB3aGVyZWFzIENocm9tZSAxMCByZW5kZXJzIG5vdGhpbmdcbiAgICAgICAgdGhpcy5jYW52YXMucmVxdWVzdFJlbmRlckFsbCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBwYXRoID0gdGhpcy5jcmVhdGVQYXRoKHBhdGhEYXRhKTtcbiAgICAgIHRoaXMuY2FudmFzLmNsZWFyQ29udGV4dCh0aGlzLmNhbnZhcy5jb250ZXh0VG9wKTtcbiAgICAgIHRoaXMuY2FudmFzLmZpcmUoJ2JlZm9yZTpwYXRoOmNyZWF0ZWQnLCB7IHBhdGg6IHBhdGggfSk7XG4gICAgICB0aGlzLmNhbnZhcy5hZGQocGF0aCk7XG4gICAgICB0aGlzLmNhbnZhcy5yZXF1ZXN0UmVuZGVyQWxsKCk7XG4gICAgICBwYXRoLnNldENvb3JkcygpO1xuICAgICAgdGhpcy5fcmVzZXRTaGFkb3coKTtcblxuXG4gICAgICAvLyBmaXJlIGV2ZW50ICdwYXRoJyBjcmVhdGVkXG4gICAgICB0aGlzLmNhbnZhcy5maXJlKCdwYXRoOmNyZWF0ZWQnLCB7IHBhdGg6IHBhdGggfSk7XG4gICAgfVxuICB9KTtcbn0pKCk7XG5cblxuLyoqXG4gKiBDaXJjbGVCcnVzaCBjbGFzc1xuICogQGNsYXNzIGZhYnJpYy5DaXJjbGVCcnVzaFxuICovXG5mYWJyaWMuQ2lyY2xlQnJ1c2ggPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcyhmYWJyaWMuQmFzZUJydXNoLCAvKiogQGxlbmRzIGZhYnJpYy5DaXJjbGVCcnVzaC5wcm90b3R5cGUgKi8ge1xuXG4gIC8qKlxuICAgKiBXaWR0aCBvZiBhIGJydXNoXG4gICAqIEB0eXBlIE51bWJlclxuICAgKiBAZGVmYXVsdFxuICAgKi9cbiAgd2lkdGg6IDEwLFxuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0ge2ZhYnJpYy5DYW52YXN9IGNhbnZhc1xuICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2lyY2xlQnJ1c2h9IEluc3RhbmNlIG9mIGEgY2lyY2xlIGJydXNoXG4gICAqL1xuICBpbml0aWFsaXplOiBmdW5jdGlvbihjYW52YXMpIHtcbiAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcbiAgICB0aGlzLnBvaW50cyA9IFtdO1xuICB9LFxuXG4gIC8qKlxuICAgKiBJbnZva2VkIGluc2lkZSBvbiBtb3VzZSBkb3duIGFuZCBtb3VzZSBtb3ZlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludGVyXG4gICAqL1xuICBkcmF3RG90OiBmdW5jdGlvbihwb2ludGVyKSB7XG4gICAgdmFyIHBvaW50ID0gdGhpcy5hZGRQb2ludChwb2ludGVyKSxcbiAgICAgICAgY3R4ID0gdGhpcy5jYW52YXMuY29udGV4dFRvcDtcbiAgICB0aGlzLl9zYXZlQW5kVHJhbnNmb3JtKGN0eCk7XG4gICAgdGhpcy5kb3QoY3R4LCBwb2ludCk7XG4gICAgY3R4LnJlc3RvcmUoKTtcbiAgfSxcblxuICBkb3Q6IGZ1bmN0aW9uKGN0eCwgcG9pbnQpIHtcbiAgICBjdHguZmlsbFN0eWxlID0gcG9pbnQuZmlsbDtcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LmFyYyhwb2ludC54LCBwb2ludC55LCBwb2ludC5yYWRpdXMsIDAsIE1hdGguUEkgKiAyLCBmYWxzZSk7XG4gICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgIGN0eC5maWxsKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEludm9rZWQgb24gbW91c2UgZG93blxuICAgKi9cbiAgb25Nb3VzZURvd246IGZ1bmN0aW9uKHBvaW50ZXIpIHtcbiAgICB0aGlzLnBvaW50cy5sZW5ndGggPSAwO1xuICAgIHRoaXMuY2FudmFzLmNsZWFyQ29udGV4dCh0aGlzLmNhbnZhcy5jb250ZXh0VG9wKTtcbiAgICB0aGlzLl9zZXRTaGFkb3coKTtcbiAgICB0aGlzLmRyYXdEb3QocG9pbnRlcik7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlbmRlciB0aGUgZnVsbCBzdGF0ZSBvZiB0aGUgYnJ1c2hcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9yZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjdHggID0gdGhpcy5jYW52YXMuY29udGV4dFRvcCwgaSwgbGVuLFxuICAgICAgICBwb2ludHMgPSB0aGlzLnBvaW50cztcbiAgICB0aGlzLl9zYXZlQW5kVHJhbnNmb3JtKGN0eCk7XG4gICAgZm9yIChpID0gMCwgbGVuID0gcG9pbnRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB0aGlzLmRvdChjdHgsIHBvaW50c1tpXSk7XG4gICAgfVxuICAgIGN0eC5yZXN0b3JlKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEludm9rZWQgb24gbW91c2UgbW92ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnRlclxuICAgKi9cbiAgb25Nb3VzZU1vdmU6IGZ1bmN0aW9uKHBvaW50ZXIpIHtcbiAgICBpZiAodGhpcy5saW1pdGVkVG9DYW52YXNTaXplID09PSB0cnVlICYmIHRoaXMuX2lzT3V0U2lkZUNhbnZhcyhwb2ludGVyKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5uZWVkc0Z1bGxSZW5kZXIoKSkge1xuICAgICAgdGhpcy5jYW52YXMuY2xlYXJDb250ZXh0KHRoaXMuY2FudmFzLmNvbnRleHRUb3ApO1xuICAgICAgdGhpcy5hZGRQb2ludChwb2ludGVyKTtcbiAgICAgIHRoaXMuX3JlbmRlcigpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuZHJhd0RvdChwb2ludGVyKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEludm9rZWQgb24gbW91c2UgdXBcbiAgICovXG4gIG9uTW91c2VVcDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIG9yaWdpbmFsUmVuZGVyT25BZGRSZW1vdmUgPSB0aGlzLmNhbnZhcy5yZW5kZXJPbkFkZFJlbW92ZSwgaSwgbGVuO1xuICAgIHRoaXMuY2FudmFzLnJlbmRlck9uQWRkUmVtb3ZlID0gZmFsc2U7XG5cbiAgICB2YXIgY2lyY2xlcyA9IFtdO1xuXG4gICAgZm9yIChpID0gMCwgbGVuID0gdGhpcy5wb2ludHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHZhciBwb2ludCA9IHRoaXMucG9pbnRzW2ldLFxuICAgICAgICAgIGNpcmNsZSA9IG5ldyBmYWJyaWMuQ2lyY2xlKHtcbiAgICAgICAgICAgIHJhZGl1czogcG9pbnQucmFkaXVzLFxuICAgICAgICAgICAgbGVmdDogcG9pbnQueCxcbiAgICAgICAgICAgIHRvcDogcG9pbnQueSxcbiAgICAgICAgICAgIG9yaWdpblg6ICdjZW50ZXInLFxuICAgICAgICAgICAgb3JpZ2luWTogJ2NlbnRlcicsXG4gICAgICAgICAgICBmaWxsOiBwb2ludC5maWxsXG4gICAgICAgICAgfSk7XG5cbiAgICAgIHRoaXMuc2hhZG93ICYmIChjaXJjbGUuc2hhZG93ID0gbmV3IGZhYnJpYy5TaGFkb3codGhpcy5zaGFkb3cpKTtcblxuICAgICAgY2lyY2xlcy5wdXNoKGNpcmNsZSk7XG4gICAgfVxuICAgIHZhciBncm91cCA9IG5ldyBmYWJyaWMuR3JvdXAoY2lyY2xlcyk7XG4gICAgZ3JvdXAuY2FudmFzID0gdGhpcy5jYW52YXM7XG5cbiAgICB0aGlzLmNhbnZhcy5maXJlKCdiZWZvcmU6cGF0aDpjcmVhdGVkJywgeyBwYXRoOiBncm91cCB9KTtcbiAgICB0aGlzLmNhbnZhcy5hZGQoZ3JvdXApO1xuICAgIHRoaXMuY2FudmFzLmZpcmUoJ3BhdGg6Y3JlYXRlZCcsIHsgcGF0aDogZ3JvdXAgfSk7XG5cbiAgICB0aGlzLmNhbnZhcy5jbGVhckNvbnRleHQodGhpcy5jYW52YXMuY29udGV4dFRvcCk7XG4gICAgdGhpcy5fcmVzZXRTaGFkb3coKTtcbiAgICB0aGlzLmNhbnZhcy5yZW5kZXJPbkFkZFJlbW92ZSA9IG9yaWdpbmFsUmVuZGVyT25BZGRSZW1vdmU7XG4gICAgdGhpcy5jYW52YXMucmVxdWVzdFJlbmRlckFsbCgpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnRlclxuICAgKiBAcmV0dXJuIHtmYWJyaWMuUG9pbnR9IEp1c3QgYWRkZWQgcG9pbnRlciBwb2ludFxuICAgKi9cbiAgYWRkUG9pbnQ6IGZ1bmN0aW9uKHBvaW50ZXIpIHtcbiAgICB2YXIgcG9pbnRlclBvaW50ID0gbmV3IGZhYnJpYy5Qb2ludChwb2ludGVyLngsIHBvaW50ZXIueSksXG5cbiAgICAgICAgY2lyY2xlUmFkaXVzID0gZmFicmljLnV0aWwuZ2V0UmFuZG9tSW50KFxuICAgICAgICAgIE1hdGgubWF4KDAsIHRoaXMud2lkdGggLSAyMCksIHRoaXMud2lkdGggKyAyMCkgLyAyLFxuXG4gICAgICAgIGNpcmNsZUNvbG9yID0gbmV3IGZhYnJpYy5Db2xvcih0aGlzLmNvbG9yKVxuICAgICAgICAgIC5zZXRBbHBoYShmYWJyaWMudXRpbC5nZXRSYW5kb21JbnQoMCwgMTAwKSAvIDEwMClcbiAgICAgICAgICAudG9SZ2JhKCk7XG5cbiAgICBwb2ludGVyUG9pbnQucmFkaXVzID0gY2lyY2xlUmFkaXVzO1xuICAgIHBvaW50ZXJQb2ludC5maWxsID0gY2lyY2xlQ29sb3I7XG5cbiAgICB0aGlzLnBvaW50cy5wdXNoKHBvaW50ZXJQb2ludCk7XG5cbiAgICByZXR1cm4gcG9pbnRlclBvaW50O1xuICB9XG59KTtcblxuXG4vKipcbiAqIFNwcmF5QnJ1c2ggY2xhc3NcbiAqIEBjbGFzcyBmYWJyaWMuU3ByYXlCcnVzaFxuICovXG5mYWJyaWMuU3ByYXlCcnVzaCA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzKCBmYWJyaWMuQmFzZUJydXNoLCAvKiogQGxlbmRzIGZhYnJpYy5TcHJheUJydXNoLnByb3RvdHlwZSAqLyB7XG5cbiAgLyoqXG4gICAqIFdpZHRoIG9mIGEgc3ByYXlcbiAgICogQHR5cGUgTnVtYmVyXG4gICAqIEBkZWZhdWx0XG4gICAqL1xuICB3aWR0aDogICAgICAgICAgICAgIDEwLFxuXG4gIC8qKlxuICAgKiBEZW5zaXR5IG9mIGEgc3ByYXkgKG51bWJlciBvZiBkb3RzIHBlciBjaHVuaylcbiAgICogQHR5cGUgTnVtYmVyXG4gICAqIEBkZWZhdWx0XG4gICAqL1xuICBkZW5zaXR5OiAgICAgICAgICAgIDIwLFxuXG4gIC8qKlxuICAgKiBXaWR0aCBvZiBzcHJheSBkb3RzXG4gICAqIEB0eXBlIE51bWJlclxuICAgKiBAZGVmYXVsdFxuICAgKi9cbiAgZG90V2lkdGg6ICAgICAgICAgICAxLFxuXG4gIC8qKlxuICAgKiBXaWR0aCB2YXJpYW5jZSBvZiBzcHJheSBkb3RzXG4gICAqIEB0eXBlIE51bWJlclxuICAgKiBAZGVmYXVsdFxuICAgKi9cbiAgZG90V2lkdGhWYXJpYW5jZTogICAxLFxuXG4gIC8qKlxuICAgKiBXaGV0aGVyIG9wYWNpdHkgb2YgYSBkb3Qgc2hvdWxkIGJlIHJhbmRvbVxuICAgKiBAdHlwZSBCb29sZWFuXG4gICAqIEBkZWZhdWx0XG4gICAqL1xuICByYW5kb21PcGFjaXR5OiAgICAgICAgZmFsc2UsXG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgb3ZlcmxhcHBpbmcgZG90cyAocmVjdGFuZ2xlcykgc2hvdWxkIGJlIHJlbW92ZWQgKGZvciBwZXJmb3JtYW5jZSByZWFzb25zKVxuICAgKiBAdHlwZSBCb29sZWFuXG4gICAqIEBkZWZhdWx0XG4gICAqL1xuICBvcHRpbWl6ZU92ZXJsYXBwaW5nOiAgdHJ1ZSxcblxuICAvKipcbiAgICogQ29uc3RydWN0b3JcbiAgICogQHBhcmFtIHtmYWJyaWMuQ2FudmFzfSBjYW52YXNcbiAgICogQHJldHVybiB7ZmFicmljLlNwcmF5QnJ1c2h9IEluc3RhbmNlIG9mIGEgc3ByYXkgYnJ1c2hcbiAgICovXG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uKGNhbnZhcykge1xuICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xuICAgIHRoaXMuc3ByYXlDaHVua3MgPSBbXTtcbiAgfSxcblxuICAvKipcbiAgICogSW52b2tlZCBvbiBtb3VzZSBkb3duXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludGVyXG4gICAqL1xuICBvbk1vdXNlRG93bjogZnVuY3Rpb24ocG9pbnRlcikge1xuICAgIHRoaXMuc3ByYXlDaHVua3MubGVuZ3RoID0gMDtcbiAgICB0aGlzLmNhbnZhcy5jbGVhckNvbnRleHQodGhpcy5jYW52YXMuY29udGV4dFRvcCk7XG4gICAgdGhpcy5fc2V0U2hhZG93KCk7XG5cbiAgICB0aGlzLmFkZFNwcmF5Q2h1bmsocG9pbnRlcik7XG4gICAgdGhpcy5yZW5kZXIodGhpcy5zcHJheUNodW5rUG9pbnRzKTtcbiAgfSxcblxuICAvKipcbiAgICogSW52b2tlZCBvbiBtb3VzZSBtb3ZlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludGVyXG4gICAqL1xuICBvbk1vdXNlTW92ZTogZnVuY3Rpb24ocG9pbnRlcikge1xuICAgIGlmICh0aGlzLmxpbWl0ZWRUb0NhbnZhc1NpemUgPT09IHRydWUgJiYgdGhpcy5faXNPdXRTaWRlQ2FudmFzKHBvaW50ZXIpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuYWRkU3ByYXlDaHVuayhwb2ludGVyKTtcbiAgICB0aGlzLnJlbmRlcih0aGlzLnNwcmF5Q2h1bmtQb2ludHMpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBJbnZva2VkIG9uIG1vdXNlIHVwXG4gICAqL1xuICBvbk1vdXNlVXA6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBvcmlnaW5hbFJlbmRlck9uQWRkUmVtb3ZlID0gdGhpcy5jYW52YXMucmVuZGVyT25BZGRSZW1vdmU7XG4gICAgdGhpcy5jYW52YXMucmVuZGVyT25BZGRSZW1vdmUgPSBmYWxzZTtcblxuICAgIHZhciByZWN0cyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGlsZW4gPSB0aGlzLnNwcmF5Q2h1bmtzLmxlbmd0aDsgaSA8IGlsZW47IGkrKykge1xuICAgICAgdmFyIHNwcmF5Q2h1bmsgPSB0aGlzLnNwcmF5Q2h1bmtzW2ldO1xuXG4gICAgICBmb3IgKHZhciBqID0gMCwgamxlbiA9IHNwcmF5Q2h1bmsubGVuZ3RoOyBqIDwgamxlbjsgaisrKSB7XG5cbiAgICAgICAgdmFyIHJlY3QgPSBuZXcgZmFicmljLlJlY3Qoe1xuICAgICAgICAgIHdpZHRoOiBzcHJheUNodW5rW2pdLndpZHRoLFxuICAgICAgICAgIGhlaWdodDogc3ByYXlDaHVua1tqXS53aWR0aCxcbiAgICAgICAgICBsZWZ0OiBzcHJheUNodW5rW2pdLnggKyAxLFxuICAgICAgICAgIHRvcDogc3ByYXlDaHVua1tqXS55ICsgMSxcbiAgICAgICAgICBvcmlnaW5YOiAnY2VudGVyJyxcbiAgICAgICAgICBvcmlnaW5ZOiAnY2VudGVyJyxcbiAgICAgICAgICBmaWxsOiB0aGlzLmNvbG9yXG4gICAgICAgIH0pO1xuICAgICAgICByZWN0cy5wdXNoKHJlY3QpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLm9wdGltaXplT3ZlcmxhcHBpbmcpIHtcbiAgICAgIHJlY3RzID0gdGhpcy5fZ2V0T3B0aW1pemVkUmVjdHMocmVjdHMpO1xuICAgIH1cblxuICAgIHZhciBncm91cCA9IG5ldyBmYWJyaWMuR3JvdXAocmVjdHMpO1xuICAgIHRoaXMuc2hhZG93ICYmIGdyb3VwLnNldCgnc2hhZG93JywgbmV3IGZhYnJpYy5TaGFkb3codGhpcy5zaGFkb3cpKTtcbiAgICB0aGlzLmNhbnZhcy5maXJlKCdiZWZvcmU6cGF0aDpjcmVhdGVkJywgeyBwYXRoOiBncm91cCB9KTtcbiAgICB0aGlzLmNhbnZhcy5hZGQoZ3JvdXApO1xuICAgIHRoaXMuY2FudmFzLmZpcmUoJ3BhdGg6Y3JlYXRlZCcsIHsgcGF0aDogZ3JvdXAgfSk7XG5cbiAgICB0aGlzLmNhbnZhcy5jbGVhckNvbnRleHQodGhpcy5jYW52YXMuY29udGV4dFRvcCk7XG4gICAgdGhpcy5fcmVzZXRTaGFkb3coKTtcbiAgICB0aGlzLmNhbnZhcy5yZW5kZXJPbkFkZFJlbW92ZSA9IG9yaWdpbmFsUmVuZGVyT25BZGRSZW1vdmU7XG4gICAgdGhpcy5jYW52YXMucmVxdWVzdFJlbmRlckFsbCgpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSByZWN0c1xuICAgKi9cbiAgX2dldE9wdGltaXplZFJlY3RzOiBmdW5jdGlvbihyZWN0cykge1xuXG4gICAgLy8gYXZvaWQgY3JlYXRpbmcgZHVwbGljYXRlIHJlY3RzIGF0IHRoZSBzYW1lIGNvb3JkaW5hdGVzXG4gICAgdmFyIHVuaXF1ZVJlY3RzID0geyB9LCBrZXksIGksIGxlbjtcblxuICAgIGZvciAoaSA9IDAsIGxlbiA9IHJlY3RzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBrZXkgPSByZWN0c1tpXS5sZWZ0ICsgJycgKyByZWN0c1tpXS50b3A7XG4gICAgICBpZiAoIXVuaXF1ZVJlY3RzW2tleV0pIHtcbiAgICAgICAgdW5pcXVlUmVjdHNba2V5XSA9IHJlY3RzW2ldO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgdW5pcXVlUmVjdHNBcnJheSA9IFtdO1xuICAgIGZvciAoa2V5IGluIHVuaXF1ZVJlY3RzKSB7XG4gICAgICB1bmlxdWVSZWN0c0FycmF5LnB1c2godW5pcXVlUmVjdHNba2V5XSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuaXF1ZVJlY3RzQXJyYXk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlbmRlciBuZXcgY2h1bmsgb2Ygc3ByYXkgYnJ1c2hcbiAgICovXG4gIHJlbmRlcjogZnVuY3Rpb24oc3ByYXlDaHVuaykge1xuICAgIHZhciBjdHggPSB0aGlzLmNhbnZhcy5jb250ZXh0VG9wLCBpLCBsZW47XG4gICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7XG5cbiAgICB0aGlzLl9zYXZlQW5kVHJhbnNmb3JtKGN0eCk7XG5cbiAgICBmb3IgKGkgPSAwLCBsZW4gPSBzcHJheUNodW5rLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB2YXIgcG9pbnQgPSBzcHJheUNodW5rW2ldO1xuICAgICAgaWYgKHR5cGVvZiBwb2ludC5vcGFjaXR5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSBwb2ludC5vcGFjaXR5O1xuICAgICAgfVxuICAgICAgY3R4LmZpbGxSZWN0KHBvaW50LngsIHBvaW50LnksIHBvaW50LndpZHRoLCBwb2ludC53aWR0aCk7XG4gICAgfVxuICAgIGN0eC5yZXN0b3JlKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlbmRlciBhbGwgc3ByYXkgY2h1bmtzXG4gICAqL1xuICBfcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgY3R4ID0gdGhpcy5jYW52YXMuY29udGV4dFRvcCwgaSwgaWxlbjtcbiAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvcjtcblxuICAgIHRoaXMuX3NhdmVBbmRUcmFuc2Zvcm0oY3R4KTtcblxuICAgIGZvciAoaSA9IDAsIGlsZW4gPSB0aGlzLnNwcmF5Q2h1bmtzLmxlbmd0aDsgaSA8IGlsZW47IGkrKykge1xuICAgICAgdGhpcy5yZW5kZXIodGhpcy5zcHJheUNodW5rc1tpXSk7XG4gICAgfVxuICAgIGN0eC5yZXN0b3JlKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludGVyXG4gICAqL1xuICBhZGRTcHJheUNodW5rOiBmdW5jdGlvbihwb2ludGVyKSB7XG4gICAgdGhpcy5zcHJheUNodW5rUG9pbnRzID0gW107XG5cbiAgICB2YXIgeCwgeSwgd2lkdGgsIHJhZGl1cyA9IHRoaXMud2lkdGggLyAyLCBpO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IHRoaXMuZGVuc2l0eTsgaSsrKSB7XG5cbiAgICAgIHggPSBmYWJyaWMudXRpbC5nZXRSYW5kb21JbnQocG9pbnRlci54IC0gcmFkaXVzLCBwb2ludGVyLnggKyByYWRpdXMpO1xuICAgICAgeSA9IGZhYnJpYy51dGlsLmdldFJhbmRvbUludChwb2ludGVyLnkgLSByYWRpdXMsIHBvaW50ZXIueSArIHJhZGl1cyk7XG5cbiAgICAgIGlmICh0aGlzLmRvdFdpZHRoVmFyaWFuY2UpIHtcbiAgICAgICAgd2lkdGggPSBmYWJyaWMudXRpbC5nZXRSYW5kb21JbnQoXG4gICAgICAgICAgLy8gYm90dG9tIGNsYW1wIHdpZHRoIHRvIDFcbiAgICAgICAgICBNYXRoLm1heCgxLCB0aGlzLmRvdFdpZHRoIC0gdGhpcy5kb3RXaWR0aFZhcmlhbmNlKSxcbiAgICAgICAgICB0aGlzLmRvdFdpZHRoICsgdGhpcy5kb3RXaWR0aFZhcmlhbmNlKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB3aWR0aCA9IHRoaXMuZG90V2lkdGg7XG4gICAgICB9XG5cbiAgICAgIHZhciBwb2ludCA9IG5ldyBmYWJyaWMuUG9pbnQoeCwgeSk7XG4gICAgICBwb2ludC53aWR0aCA9IHdpZHRoO1xuXG4gICAgICBpZiAodGhpcy5yYW5kb21PcGFjaXR5KSB7XG4gICAgICAgIHBvaW50Lm9wYWNpdHkgPSBmYWJyaWMudXRpbC5nZXRSYW5kb21JbnQoMCwgMTAwKSAvIDEwMDtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zcHJheUNodW5rUG9pbnRzLnB1c2gocG9pbnQpO1xuICAgIH1cblxuICAgIHRoaXMuc3ByYXlDaHVua3MucHVzaCh0aGlzLnNwcmF5Q2h1bmtQb2ludHMpO1xuICB9XG59KTtcblxuXG4vKipcbiAqIFBhdHRlcm5CcnVzaCBjbGFzc1xuICogQGNsYXNzIGZhYnJpYy5QYXR0ZXJuQnJ1c2hcbiAqIEBleHRlbmRzIGZhYnJpYy5CYXNlQnJ1c2hcbiAqL1xuZmFicmljLlBhdHRlcm5CcnVzaCA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzKGZhYnJpYy5QZW5jaWxCcnVzaCwgLyoqIEBsZW5kcyBmYWJyaWMuUGF0dGVybkJydXNoLnByb3RvdHlwZSAqLyB7XG5cbiAgZ2V0UGF0dGVyblNyYzogZnVuY3Rpb24oKSB7XG5cbiAgICB2YXIgZG90V2lkdGggPSAyMCxcbiAgICAgICAgZG90RGlzdGFuY2UgPSA1LFxuICAgICAgICBwYXR0ZXJuQ2FudmFzID0gZmFicmljLnV0aWwuY3JlYXRlQ2FudmFzRWxlbWVudCgpLFxuICAgICAgICBwYXR0ZXJuQ3R4ID0gcGF0dGVybkNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgcGF0dGVybkNhbnZhcy53aWR0aCA9IHBhdHRlcm5DYW52YXMuaGVpZ2h0ID0gZG90V2lkdGggKyBkb3REaXN0YW5jZTtcblxuICAgIHBhdHRlcm5DdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvcjtcbiAgICBwYXR0ZXJuQ3R4LmJlZ2luUGF0aCgpO1xuICAgIHBhdHRlcm5DdHguYXJjKGRvdFdpZHRoIC8gMiwgZG90V2lkdGggLyAyLCBkb3RXaWR0aCAvIDIsIDAsIE1hdGguUEkgKiAyLCBmYWxzZSk7XG4gICAgcGF0dGVybkN0eC5jbG9zZVBhdGgoKTtcbiAgICBwYXR0ZXJuQ3R4LmZpbGwoKTtcblxuICAgIHJldHVybiBwYXR0ZXJuQ2FudmFzO1xuICB9LFxuXG4gIGdldFBhdHRlcm5TcmNGdW5jdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFN0cmluZyh0aGlzLmdldFBhdHRlcm5TcmMpLnJlcGxhY2UoJ3RoaXMuY29sb3InLCAnXCInICsgdGhpcy5jb2xvciArICdcIicpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIFwicGF0dGVyblwiIGluc3RhbmNlIHByb3BlcnR5XG4gICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHhcbiAgICovXG4gIGdldFBhdHRlcm46IGZ1bmN0aW9uKGN0eCkge1xuICAgIHJldHVybiBjdHguY3JlYXRlUGF0dGVybih0aGlzLnNvdXJjZSB8fCB0aGlzLmdldFBhdHRlcm5TcmMoKSwgJ3JlcGVhdCcpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTZXRzIGJydXNoIHN0eWxlc1xuICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4XG4gICAqL1xuICBfc2V0QnJ1c2hTdHlsZXM6IGZ1bmN0aW9uKGN0eCkge1xuICAgIHRoaXMuY2FsbFN1cGVyKCdfc2V0QnJ1c2hTdHlsZXMnLCBjdHgpO1xuICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMuZ2V0UGF0dGVybihjdHgpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIHBhdGhcbiAgICovXG4gIGNyZWF0ZVBhdGg6IGZ1bmN0aW9uKHBhdGhEYXRhKSB7XG4gICAgdmFyIHBhdGggPSB0aGlzLmNhbGxTdXBlcignY3JlYXRlUGF0aCcsIHBhdGhEYXRhKSxcbiAgICAgICAgdG9wTGVmdCA9IHBhdGguX2dldExlZnRUb3BDb29yZHMoKS5zY2FsYXJBZGQocGF0aC5zdHJva2VXaWR0aCAvIDIpO1xuXG4gICAgcGF0aC5zdHJva2UgPSBuZXcgZmFicmljLlBhdHRlcm4oe1xuICAgICAgc291cmNlOiB0aGlzLnNvdXJjZSB8fCB0aGlzLmdldFBhdHRlcm5TcmNGdW5jdGlvbigpLFxuICAgICAgb2Zmc2V0WDogLXRvcExlZnQueCxcbiAgICAgIG9mZnNldFk6IC10b3BMZWZ0LnlcbiAgICB9KTtcbiAgICByZXR1cm4gcGF0aDtcbiAgfVxufSk7XG5cblxuKGZ1bmN0aW9uKCkge1xuXG4gIHZhciBnZXRQb2ludGVyID0gZmFicmljLnV0aWwuZ2V0UG9pbnRlcixcbiAgICAgIGRlZ3JlZXNUb1JhZGlhbnMgPSBmYWJyaWMudXRpbC5kZWdyZWVzVG9SYWRpYW5zLFxuICAgICAgaXNUb3VjaEV2ZW50ID0gZmFicmljLnV0aWwuaXNUb3VjaEV2ZW50O1xuXG4gIC8qKlxuICAgKiBDYW52YXMgY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5DYW52YXNcbiAgICogQGV4dGVuZHMgZmFicmljLlN0YXRpY0NhbnZhc1xuICAgKiBAdHV0b3JpYWwge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vZmFicmljLWludHJvLXBhcnQtMSNjYW52YXN9XG4gICAqIEBzZWUge0BsaW5rIGZhYnJpYy5DYW52YXMjaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICpcbiAgICogQGZpcmVzIG9iamVjdDptb2RpZmllZCBhdCB0aGUgZW5kIG9mIGEgdHJhbnNmb3JtIG9yIGFueSBjaGFuZ2Ugd2hlbiBzdGF0ZWZ1bGwgaXMgdHJ1ZVxuICAgKiBAZmlyZXMgb2JqZWN0OnJvdGF0aW5nIHdoaWxlIGFuIG9iamVjdCBpcyBiZWluZyByb3RhdGVkIGZyb20gdGhlIGNvbnRyb2xcbiAgICogQGZpcmVzIG9iamVjdDpzY2FsaW5nIHdoaWxlIGFuIG9iamVjdCBpcyBiZWluZyBzY2FsZWQgYnkgY29udHJvbHNcbiAgICogQGZpcmVzIG9iamVjdDptb3Zpbmcgd2hpbGUgYW4gb2JqZWN0IGlzIGJlaW5nIGRyYWdnZWRcbiAgICogQGZpcmVzIG9iamVjdDpza2V3aW5nIHdoaWxlIGFuIG9iamVjdCBpcyBiZWluZyBza2V3ZWQgZnJvbSB0aGUgY29udHJvbHNcbiAgICpcbiAgICogQGZpcmVzIGJlZm9yZTp0cmFuc2Zvcm0gYmVmb3JlIGEgdHJhbnNmb3JtIGlzIGlzIHN0YXJ0ZWRcbiAgICogQGZpcmVzIGJlZm9yZTpzZWxlY3Rpb246Y2xlYXJlZFxuICAgKiBAZmlyZXMgc2VsZWN0aW9uOmNsZWFyZWRcbiAgICogQGZpcmVzIHNlbGVjdGlvbjp1cGRhdGVkXG4gICAqIEBmaXJlcyBzZWxlY3Rpb246Y3JlYXRlZFxuICAgKlxuICAgKiBAZmlyZXMgcGF0aDpjcmVhdGVkIGFmdGVyIGEgZHJhd2luZyBvcGVyYXRpb24gZW5kcyBhbmQgdGhlIHBhdGggaXMgYWRkZWRcbiAgICogQGZpcmVzIG1vdXNlOmRvd25cbiAgICogQGZpcmVzIG1vdXNlOm1vdmVcbiAgICogQGZpcmVzIG1vdXNlOnVwXG4gICAqIEBmaXJlcyBtb3VzZTpkb3duOmJlZm9yZSAgb24gbW91c2UgZG93biwgYmVmb3JlIHRoZSBpbm5lciBmYWJyaWMgbG9naWMgcnVuc1xuICAgKiBAZmlyZXMgbW91c2U6bW92ZTpiZWZvcmUgb24gbW91c2UgbW92ZSwgYmVmb3JlIHRoZSBpbm5lciBmYWJyaWMgbG9naWMgcnVuc1xuICAgKiBAZmlyZXMgbW91c2U6dXA6YmVmb3JlIG9uIG1vdXNlIHVwLCBiZWZvcmUgdGhlIGlubmVyIGZhYnJpYyBsb2dpYyBydW5zXG4gICAqIEBmaXJlcyBtb3VzZTpvdmVyXG4gICAqIEBmaXJlcyBtb3VzZTpvdXRcbiAgICogQGZpcmVzIG1vdXNlOmRibGNsaWNrIHdoZW5ldmVyIGEgbmF0aXZlIGRibCBjbGljayBldmVudCBmaXJlcyBvbiB0aGUgY2FudmFzLlxuICAgKlxuICAgKiBAZmlyZXMgZHJhZ292ZXJcbiAgICogQGZpcmVzIGRyYWdlbnRlclxuICAgKiBAZmlyZXMgZHJhZ2xlYXZlXG4gICAqIEBmaXJlcyBkcm9wOmJlZm9yZSBiZWZvcmUgZHJvcCBldmVudC4gc2FtZSBuYXRpdmUgZXZlbnQuIFRoaXMgaXMgYWRkZWQgdG8gaGFuZGxlIGVkZ2UgY2FzZXNcbiAgICogQGZpcmVzIGRyb3BcbiAgICogQGZpcmVzIGFmdGVyOnJlbmRlciBhdCB0aGUgZW5kIG9mIHRoZSByZW5kZXIgcHJvY2VzcywgcmVjZWl2ZXMgdGhlIGNvbnRleHQgaW4gdGhlIGNhbGxiYWNrXG4gICAqIEBmaXJlcyBiZWZvcmU6cmVuZGVyIGF0IHN0YXJ0IHRoZSByZW5kZXIgcHJvY2VzcywgcmVjZWl2ZXMgdGhlIGNvbnRleHQgaW4gdGhlIGNhbGxiYWNrXG4gICAqXG4gICAqL1xuICBmYWJyaWMuQ2FudmFzID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3MoZmFicmljLlN0YXRpY0NhbnZhcywgLyoqIEBsZW5kcyBmYWJyaWMuQ2FudmFzLnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnQgfCBTdHJpbmd9IGVsICZsdDtjYW52YXM+IGVsZW1lbnQgdG8gaW5pdGlhbGl6ZSBpbnN0YW5jZSBvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IHRoaXNBcmdcbiAgICAgKi9cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbihlbCwgb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyB8fCAob3B0aW9ucyA9IHsgfSk7XG4gICAgICB0aGlzLnJlbmRlckFuZFJlc2V0Qm91bmQgPSB0aGlzLnJlbmRlckFuZFJlc2V0LmJpbmQodGhpcyk7XG4gICAgICB0aGlzLnJlcXVlc3RSZW5kZXJBbGxCb3VuZCA9IHRoaXMucmVxdWVzdFJlbmRlckFsbC5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5faW5pdFN0YXRpYyhlbCwgb3B0aW9ucyk7XG4gICAgICB0aGlzLl9pbml0SW50ZXJhY3RpdmUoKTtcbiAgICAgIHRoaXMuX2NyZWF0ZUNhY2hlQ2FudmFzKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gdHJ1ZSwgb2JqZWN0cyBjYW4gYmUgdHJhbnNmb3JtZWQgYnkgb25lIHNpZGUgKHVucHJvcG9ydGlvbmFsbHkpXG4gICAgICogd2hlbiBkcmFnZ2VkIG9uIHRoZSBjb3JuZXJzIHRoYXQgbm9ybWFsbHkgd291bGQgbm90IGRvIHRoYXQuXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICogQHNpbmNlIGZhYnJpYyA0LjAgLy8gY2hhbmdlZCBuYW1lIGFuZCBkZWZhdWx0IHZhbHVlXG4gICAgICovXG4gICAgdW5pZm9ybVNjYWxpbmc6ICAgICAgdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGljaCBrZXkgc3dpdGNoZXMgdW5pZm9ybSBzY2FsaW5nLlxuICAgICAqIHZhbHVlczogJ2FsdEtleScsICdzaGlmdEtleScsICdjdHJsS2V5Jy5cbiAgICAgKiBJZiBgbnVsbGAgb3IgJ25vbmUnIG9yIGFueSBvdGhlciBzdHJpbmcgdGhhdCBpcyBub3QgYSBtb2RpZmllciBrZXlcbiAgICAgKiBmZWF0dXJlIGlzIGRpc2FibGVkLlxuICAgICAqIHRvdGFsbHkgd3JvbmcgbmFtZWQuIHRoaXMgc291bmRzIGxpa2UgYHVuaWZvcm0gc2NhbGluZ2BcbiAgICAgKiBpZiBDYW52YXMudW5pZm9ybVNjYWxpbmcgaXMgdHJ1ZSwgcHJlc3NpbmcgdGhpcyB3aWxsIHNldCBpdCB0byBmYWxzZVxuICAgICAqIGFuZCB2aWNldmVyc2EuXG4gICAgICogQHNpbmNlIDEuNi4yXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB1bmlTY2FsZUtleTogICAgICAgICAgICdzaGlmdEtleScsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRydWUsIG9iamVjdHMgdXNlIGNlbnRlciBwb2ludCBhcyB0aGUgb3JpZ2luIG9mIHNjYWxlIHRyYW5zZm9ybWF0aW9uLlxuICAgICAqIDxiPkJhY2t3YXJkcyBpbmNvbXBhdGliaWxpdHkgbm90ZTo8L2I+IFRoaXMgcHJvcGVydHkgcmVwbGFjZXMgXCJjZW50ZXJUcmFuc2Zvcm1cIiAoQm9vbGVhbikuXG4gICAgICogQHNpbmNlIDEuMy40XG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgY2VudGVyZWRTY2FsaW5nOiAgICAgICAgZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRydWUsIG9iamVjdHMgdXNlIGNlbnRlciBwb2ludCBhcyB0aGUgb3JpZ2luIG9mIHJvdGF0ZSB0cmFuc2Zvcm1hdGlvbi5cbiAgICAgKiA8Yj5CYWNrd2FyZHMgaW5jb21wYXRpYmlsaXR5IG5vdGU6PC9iPiBUaGlzIHByb3BlcnR5IHJlcGxhY2VzIFwiY2VudGVyVHJhbnNmb3JtXCIgKEJvb2xlYW4pLlxuICAgICAqIEBzaW5jZSAxLjMuNFxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGNlbnRlcmVkUm90YXRpb246ICAgICAgIGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoaWNoIGtleSBlbmFibGUgY2VudGVyZWQgVHJhbnNmb3JtXG4gICAgICogdmFsdWVzOiAnYWx0S2V5JywgJ3NoaWZ0S2V5JywgJ2N0cmxLZXknLlxuICAgICAqIElmIGBudWxsYCBvciAnbm9uZScgb3IgYW55IG90aGVyIHN0cmluZyB0aGF0IGlzIG5vdCBhIG1vZGlmaWVyIGtleVxuICAgICAqIGZlYXR1cmUgaXMgZGlzYWJsZWQgZmVhdHVyZSBkaXNhYmxlZC5cbiAgICAgKiBAc2luY2UgMS42LjJcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGNlbnRlcmVkS2V5OiAgICAgICAgICAgJ2FsdEtleScsXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hpY2gga2V5IGVuYWJsZSBhbHRlcm5hdGUgYWN0aW9uIG9uIGNvcm5lclxuICAgICAqIHZhbHVlczogJ2FsdEtleScsICdzaGlmdEtleScsICdjdHJsS2V5Jy5cbiAgICAgKiBJZiBgbnVsbGAgb3IgJ25vbmUnIG9yIGFueSBvdGhlciBzdHJpbmcgdGhhdCBpcyBub3QgYSBtb2RpZmllciBrZXlcbiAgICAgKiBmZWF0dXJlIGlzIGRpc2FibGVkIGZlYXR1cmUgZGlzYWJsZWQuXG4gICAgICogQHNpbmNlIDEuNi4yXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBhbHRBY3Rpb25LZXk6ICAgICAgICAgICAnc2hpZnRLZXknLFxuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHRoYXQgY2FudmFzIGlzIGludGVyYWN0aXZlLiBUaGlzIHByb3BlcnR5IHNob3VsZCBub3QgYmUgY2hhbmdlZC5cbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBpbnRlcmFjdGl2ZTogICAgICAgICAgICB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoZXRoZXIgZ3JvdXAgc2VsZWN0aW9uIHNob3VsZCBiZSBlbmFibGVkXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc2VsZWN0aW9uOiAgICAgICAgICAgICAgdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGljaCBrZXkgb3Iga2V5cyBlbmFibGUgbXVsdGlwbGUgY2xpY2sgc2VsZWN0aW9uXG4gICAgICogUGFzcyB2YWx1ZSBhcyBhIHN0cmluZyBvciBhcnJheSBvZiBzdHJpbmdzXG4gICAgICogdmFsdWVzOiAnYWx0S2V5JywgJ3NoaWZ0S2V5JywgJ2N0cmxLZXknLlxuICAgICAqIElmIGBudWxsYCBvciBlbXB0eSBvciBjb250YWluaW5nIGFueSBvdGhlciBzdHJpbmcgdGhhdCBpcyBub3QgYSBtb2RpZmllciBrZXlcbiAgICAgKiBmZWF0dXJlIGlzIGRpc2FibGVkLlxuICAgICAqIEBzaW5jZSAxLjYuMlxuICAgICAqIEB0eXBlIFN0cmluZ3xBcnJheVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc2VsZWN0aW9uS2V5OiAgICAgICAgICAgJ3NoaWZ0S2V5JyxcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGljaCBrZXkgZW5hYmxlIGFsdGVybmF0aXZlIHNlbGVjdGlvblxuICAgICAqIGluIGNhc2Ugb2YgdGFyZ2V0IG92ZXJsYXBwaW5nIHdpdGggYWN0aXZlIG9iamVjdFxuICAgICAqIHZhbHVlczogJ2FsdEtleScsICdzaGlmdEtleScsICdjdHJsS2V5Jy5cbiAgICAgKiBGb3IgYSBzZXJpZXMgb2YgcmVhc29uIHRoYXQgY29tZSBmcm9tIHRoZSBnZW5lcmFsIGV4cGVjdGF0aW9ucyBvbiBob3dcbiAgICAgKiB0aGluZ3Mgc2hvdWxkIHdvcmssIHRoaXMgZmVhdHVyZSB3b3JrcyBvbmx5IGZvciBwcmVzZXJ2ZU9iamVjdFN0YWNraW5nIHRydWUuXG4gICAgICogSWYgYG51bGxgIG9yICdub25lJyBvciBhbnkgb3RoZXIgc3RyaW5nIHRoYXQgaXMgbm90IGEgbW9kaWZpZXIga2V5XG4gICAgICogZmVhdHVyZSBpcyBkaXNhYmxlZC5cbiAgICAgKiBAc2luY2UgMS42LjVcbiAgICAgKiBAdHlwZSBudWxsfFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgYWx0U2VsZWN0aW9uS2V5OiAgICAgICAgICAgbnVsbCxcblxuICAgIC8qKlxuICAgICAqIENvbG9yIG9mIHNlbGVjdGlvblxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc2VsZWN0aW9uQ29sb3I6ICAgICAgICAgJ3JnYmEoMTAwLCAxMDAsIDI1NSwgMC4zKScsIC8vIGJsdWVcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgZGFzaCBhcnJheSBwYXR0ZXJuXG4gICAgICogSWYgbm90IGVtcHR5IHRoZSBzZWxlY3Rpb24gYm9yZGVyIGlzIGRhc2hlZFxuICAgICAqIEB0eXBlIEFycmF5XG4gICAgICovXG4gICAgc2VsZWN0aW9uRGFzaEFycmF5OiAgICAgW10sXG5cbiAgICAvKipcbiAgICAgKiBDb2xvciBvZiB0aGUgYm9yZGVyIG9mIHNlbGVjdGlvbiAodXN1YWxseSBzbGlnaHRseSBkYXJrZXIgdGhhbiBjb2xvciBvZiBzZWxlY3Rpb24gaXRzZWxmKVxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc2VsZWN0aW9uQm9yZGVyQ29sb3I6ICAgJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4zKScsXG5cbiAgICAvKipcbiAgICAgKiBXaWR0aCBvZiBhIGxpbmUgdXNlZCBpbiBvYmplY3QvZ3JvdXAgc2VsZWN0aW9uXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzZWxlY3Rpb25MaW5lV2lkdGg6ICAgICAxLFxuXG4gICAgLyoqXG4gICAgICogU2VsZWN0IG9ubHkgc2hhcGVzIHRoYXQgYXJlIGZ1bGx5IGNvbnRhaW5lZCBpbiB0aGUgZHJhZ2dlZCBzZWxlY3Rpb24gcmVjdGFuZ2xlLlxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHNlbGVjdGlvbkZ1bGx5Q29udGFpbmVkOiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgY3Vyc29yIHZhbHVlIHVzZWQgd2hlbiBob3ZlcmluZyBvdmVyIGFuIG9iamVjdCBvbiBjYW52YXNcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGhvdmVyQ3Vyc29yOiAgICAgICAgICAgICdtb3ZlJyxcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgY3Vyc29yIHZhbHVlIHVzZWQgd2hlbiBtb3ZpbmcgYW4gb2JqZWN0IG9uIGNhbnZhc1xuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgbW92ZUN1cnNvcjogICAgICAgICAgICAgJ21vdmUnLFxuXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBjdXJzb3IgdmFsdWUgdXNlZCBmb3IgdGhlIGVudGlyZSBjYW52YXNcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGRlZmF1bHRDdXJzb3I6ICAgICAgICAgICdkZWZhdWx0JyxcblxuICAgIC8qKlxuICAgICAqIEN1cnNvciB2YWx1ZSB1c2VkIGR1cmluZyBmcmVlIGRyYXdpbmdcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGZyZWVEcmF3aW5nQ3Vyc29yOiAgICAgICdjcm9zc2hhaXInLFxuXG4gICAgLyoqXG4gICAgICogQ3Vyc29yIHZhbHVlIHVzZWQgZm9yIGRpc2FibGVkIGVsZW1lbnRzICggY29ybmVycyB3aXRoIGRpc2FibGVkIGFjdGlvbiApXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBub3RBbGxvd2VkQ3Vyc29yOiAgICAgICAgICdub3QtYWxsb3dlZCcsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IGVsZW1lbnQgY2xhc3MgdGhhdCdzIGdpdmVuIHRvIHdyYXBwZXIgKGRpdikgZWxlbWVudCBvZiBjYW52YXNcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGNvbnRhaW5lckNsYXNzOiAgICAgICAgICdjYW52YXMtY29udGFpbmVyJyxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gdHJ1ZSwgb2JqZWN0IGRldGVjdGlvbiBoYXBwZW5zIG9uIHBlci1waXhlbCBiYXNpcyByYXRoZXIgdGhhbiBvbiBwZXItYm91bmRpbmctYm94XG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgcGVyUGl4ZWxUYXJnZXRGaW5kOiAgICAgZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBOdW1iZXIgb2YgcGl4ZWxzIGFyb3VuZCB0YXJnZXQgcGl4ZWwgdG8gdG9sZXJhdGUgKGNvbnNpZGVyIGFjdGl2ZSkgZHVyaW5nIG9iamVjdCBkZXRlY3Rpb25cbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRhcmdldEZpbmRUb2xlcmFuY2U6ICAgIDAsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRydWUsIHRhcmdldCBkZXRlY3Rpb24gaXMgc2tpcHBlZC4gVGFyZ2V0IGRldGVjdGlvbiB3aWxsIHJldHVybiBhbHdheXMgdW5kZWZpbmVkLlxuICAgICAqIGNsaWNrIHNlbGVjdGlvbiB3b24ndCB3b3JrIGFueW1vcmUsIGV2ZW50cyB3aWxsIGZpcmUgd2l0aCBubyB0YXJnZXRzLlxuICAgICAqIGlmIHNvbWV0aGluZyBpcyBzZWxlY3RlZCBiZWZvcmUgc2V0dGluZyBpdCB0byB0cnVlLCBpdCB3aWxsIGJlIGRlc2VsZWN0ZWQgYXQgdGhlIGZpcnN0IGNsaWNrLlxuICAgICAqIGFyZWEgc2VsZWN0aW9uIHdpbGwgc3RpbGwgd29yay4gY2hlY2sgdGhlIGBzZWxlY3Rpb25gIHByb3BlcnR5IHRvby5cbiAgICAgKiBpZiB5b3UgZGVhY3RpdmF0ZSBib3RoLCB5b3Ugc2hvdWxkIGxvb2sgaW50byBzdGF0aWNDYW52YXMuXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc2tpcFRhcmdldEZpbmQ6ICAgICAgICAgZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRydWUsIG1vdXNlIGV2ZW50cyBvbiBjYW52YXMgKG1vdXNlZG93bi9tb3VzZW1vdmUvbW91c2V1cCkgcmVzdWx0IGluIGZyZWUgZHJhd2luZy5cbiAgICAgKiBBZnRlciBtb3VzZWRvd24sIG1vdXNlbW92ZSBjcmVhdGVzIGEgc2hhcGUsXG4gICAgICogYW5kIHRoZW4gbW91c2V1cCBmaW5hbGl6ZXMgaXQgYW5kIGFkZHMgYW4gaW5zdGFuY2Ugb2YgYGZhYnJpYy5QYXRoYCBvbnRvIGNhbnZhcy5cbiAgICAgKiBAdHV0b3JpYWwge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vZmFicmljLWludHJvLXBhcnQtNCNmcmVlX2RyYXdpbmd9XG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgaXNEcmF3aW5nTW9kZTogICAgICAgICAgZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciBvYmplY3RzIHNob3VsZCByZW1haW4gaW4gY3VycmVudCBzdGFjayBwb3NpdGlvbiB3aGVuIHNlbGVjdGVkLlxuICAgICAqIFdoZW4gZmFsc2Ugb2JqZWN0cyBhcmUgYnJvdWdodCB0byB0b3AgYW5kIHJlbmRlcmVkIGFzIHBhcnQgb2YgdGhlIHNlbGVjdGlvbiBncm91cFxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHByZXNlcnZlT2JqZWN0U3RhY2tpbmc6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHRoZSBhbmdsZSB0aGF0IGFuIG9iamVjdCB3aWxsIGxvY2sgdG8gd2hpbGUgcm90YXRpbmcuXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQHNpbmNlIDEuNi43XG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzbmFwQW5nbGU6IDAsXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgdGhlIGRpc3RhbmNlIGZyb20gdGhlIHNuYXBBbmdsZSB0aGUgcm90YXRpb24gd2lsbCBsb2NrIHRvIHRoZSBzbmFwQW5nbGUuXG4gICAgICogV2hlbiBgbnVsbGAsIHRoZSBzbmFwVGhyZXNob2xkIHdpbGwgZGVmYXVsdCB0byB0aGUgc25hcEFuZ2xlLlxuICAgICAqIEB0eXBlIG51bGx8TnVtYmVyXG4gICAgICogQHNpbmNlIDEuNi43XG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzbmFwVGhyZXNob2xkOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIGlmIHRoZSByaWdodCBjbGljayBvbiBjYW52YXMgY2FuIG91dHB1dCB0aGUgY29udGV4dCBtZW51IG9yIG5vdFxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAc2luY2UgMS42LjVcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHN0b3BDb250ZXh0TWVudTogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIGNhbnZhcyBjYW4gZmlyZSByaWdodCBjbGljayBldmVudHNcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQHNpbmNlIDEuNi41XG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBmaXJlUmlnaHRDbGljazogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIGNhbnZhcyBjYW4gZmlyZSBtaWRkbGUgY2xpY2sgZXZlbnRzXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBzaW5jZSAxLjcuOFxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgZmlyZU1pZGRsZUNsaWNrOiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIEtlZXAgdHJhY2sgb2YgdGhlIHN1YlRhcmdldHMgZm9yIE1vdXNlIEV2ZW50c1xuICAgICAqIEB0eXBlIGZhYnJpYy5PYmplY3RbXVxuICAgICAqL1xuICAgIHRhcmdldHM6IFtdLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiB0aGUgb3B0aW9uIGlzIGVuYWJsZWQsIFBvaW50ZXJFdmVudCBpcyB1c2VkIGluc3RlYWQgb2YgTW91c2VFdmVudC5cbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBlbmFibGVQb2ludGVyRXZlbnRzOiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIEtlZXAgdHJhY2sgb2YgdGhlIGhvdmVyZWQgdGFyZ2V0XG4gICAgICogQHR5cGUgZmFicmljLk9iamVjdFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2hvdmVyZWRUYXJnZXQ6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBob2xkIHRoZSBsaXN0IG9mIG5lc3RlZCB0YXJnZXRzIGhvdmVyZWRcbiAgICAgKiBAdHlwZSBmYWJyaWMuT2JqZWN0W11cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9ob3ZlcmVkVGFyZ2V0czogW10sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pbml0SW50ZXJhY3RpdmU6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5fY3VycmVudFRyYW5zZm9ybSA9IG51bGw7XG4gICAgICB0aGlzLl9ncm91cFNlbGVjdG9yID0gbnVsbDtcbiAgICAgIHRoaXMuX2luaXRXcmFwcGVyRWxlbWVudCgpO1xuICAgICAgdGhpcy5fY3JlYXRlVXBwZXJDYW52YXMoKTtcbiAgICAgIHRoaXMuX2luaXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgICB0aGlzLl9pbml0UmV0aW5hU2NhbGluZygpO1xuXG4gICAgICB0aGlzLmZyZWVEcmF3aW5nQnJ1c2ggPSBmYWJyaWMuUGVuY2lsQnJ1c2ggJiYgbmV3IGZhYnJpYy5QZW5jaWxCcnVzaCh0aGlzKTtcblxuICAgICAgdGhpcy5jYWxjT2Zmc2V0KCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERpdmlkZXMgb2JqZWN0cyBpbiB0d28gZ3JvdXBzLCBvbmUgdG8gcmVuZGVyIGltbWVkaWF0ZWx5XG4gICAgICogYW5kIG9uZSB0byByZW5kZXIgYXMgYWN0aXZlR3JvdXAuXG4gICAgICogQHJldHVybiB7QXJyYXl9IG9iamVjdHMgdG8gcmVuZGVyIGltbWVkaWF0ZWx5IGFuZCBwdXNoZXMgdGhlIG90aGVyIGluIHRoZSBhY3RpdmVHcm91cC5cbiAgICAgKi9cbiAgICBfY2hvb3NlT2JqZWN0c1RvUmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBhY3RpdmVPYmplY3RzID0gdGhpcy5nZXRBY3RpdmVPYmplY3RzKCksXG4gICAgICAgICAgb2JqZWN0LCBvYmpzVG9SZW5kZXIsIGFjdGl2ZUdyb3VwT2JqZWN0cztcblxuICAgICAgaWYgKGFjdGl2ZU9iamVjdHMubGVuZ3RoID4gMCAmJiAhdGhpcy5wcmVzZXJ2ZU9iamVjdFN0YWNraW5nKSB7XG4gICAgICAgIG9ianNUb1JlbmRlciA9IFtdO1xuICAgICAgICBhY3RpdmVHcm91cE9iamVjdHMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHRoaXMuX29iamVjdHMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBvYmplY3QgPSB0aGlzLl9vYmplY3RzW2ldO1xuICAgICAgICAgIGlmIChhY3RpdmVPYmplY3RzLmluZGV4T2Yob2JqZWN0KSA9PT0gLTEgKSB7XG4gICAgICAgICAgICBvYmpzVG9SZW5kZXIucHVzaChvYmplY3QpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFjdGl2ZUdyb3VwT2JqZWN0cy5wdXNoKG9iamVjdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChhY3RpdmVPYmplY3RzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICB0aGlzLl9hY3RpdmVPYmplY3QuX29iamVjdHMgPSBhY3RpdmVHcm91cE9iamVjdHM7XG4gICAgICAgIH1cbiAgICAgICAgb2Jqc1RvUmVuZGVyLnB1c2guYXBwbHkob2Jqc1RvUmVuZGVyLCBhY3RpdmVHcm91cE9iamVjdHMpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIG9ianNUb1JlbmRlciA9IHRoaXMuX29iamVjdHM7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2Jqc1RvUmVuZGVyO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIGJvdGggdGhlIHRvcCBjYW52YXMgYW5kIHRoZSBzZWNvbmRhcnkgY29udGFpbmVyIGNhbnZhcy5cbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSBpbnN0YW5jZVxuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICByZW5kZXJBbGw6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLmNvbnRleHRUb3BEaXJ0eSAmJiAhdGhpcy5fZ3JvdXBTZWxlY3RvciAmJiAhdGhpcy5pc0RyYXdpbmdNb2RlKSB7XG4gICAgICAgIHRoaXMuY2xlYXJDb250ZXh0KHRoaXMuY29udGV4dFRvcCk7XG4gICAgICAgIHRoaXMuY29udGV4dFRvcERpcnR5ID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5oYXNMb3N0Q29udGV4dCkge1xuICAgICAgICB0aGlzLnJlbmRlclRvcExheWVyKHRoaXMuY29udGV4dFRvcCk7XG4gICAgICAgIHRoaXMuaGFzTG9zdENvbnRleHQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBjYW52YXNUb0RyYXdPbiA9IHRoaXMuY29udGV4dENvbnRhaW5lcjtcbiAgICAgIHRoaXMucmVuZGVyQ2FudmFzKGNhbnZhc1RvRHJhd09uLCB0aGlzLl9jaG9vc2VPYmplY3RzVG9SZW5kZXIoKSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgcmVuZGVyVG9wTGF5ZXI6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgY3R4LnNhdmUoKTtcbiAgICAgIGlmICh0aGlzLmlzRHJhd2luZ01vZGUgJiYgdGhpcy5faXNDdXJyZW50bHlEcmF3aW5nKSB7XG4gICAgICAgIHRoaXMuZnJlZURyYXdpbmdCcnVzaCAmJiB0aGlzLmZyZWVEcmF3aW5nQnJ1c2guX3JlbmRlcigpO1xuICAgICAgICB0aGlzLmNvbnRleHRUb3BEaXJ0eSA9IHRydWU7XG4gICAgICB9XG4gICAgICAvLyB3ZSByZW5kZXIgdGhlIHRvcCBjb250ZXh0IC0gbGFzdCBvYmplY3RcbiAgICAgIGlmICh0aGlzLnNlbGVjdGlvbiAmJiB0aGlzLl9ncm91cFNlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMuX2RyYXdTZWxlY3Rpb24oY3R4KTtcbiAgICAgICAgdGhpcy5jb250ZXh0VG9wRGlydHkgPSB0cnVlO1xuICAgICAgfVxuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIHJlbmRlciBvbmx5IHRoZSB0b3AgY2FudmFzLlxuICAgICAqIEFsc28gdXNlZCB0byByZW5kZXIgdGhlIGdyb3VwIHNlbGVjdGlvbiBib3guXG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICByZW5kZXJUb3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBjdHggPSB0aGlzLmNvbnRleHRUb3A7XG4gICAgICB0aGlzLmNsZWFyQ29udGV4dChjdHgpO1xuICAgICAgdGhpcy5yZW5kZXJUb3BMYXllcihjdHgpO1xuICAgICAgdGhpcy5maXJlKCdhZnRlcjpyZW5kZXInKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9ub3JtYWxpemVQb2ludGVyOiBmdW5jdGlvbiAob2JqZWN0LCBwb2ludGVyKSB7XG4gICAgICB2YXIgbSA9IG9iamVjdC5jYWxjVHJhbnNmb3JtTWF0cml4KCksXG4gICAgICAgICAgaW52ZXJ0ZWRNID0gZmFicmljLnV0aWwuaW52ZXJ0VHJhbnNmb3JtKG0pLFxuICAgICAgICAgIHZwdFBvaW50ZXIgPSB0aGlzLnJlc3RvcmVQb2ludGVyVnB0KHBvaW50ZXIpO1xuICAgICAgcmV0dXJuIGZhYnJpYy51dGlsLnRyYW5zZm9ybVBvaW50KHZwdFBvaW50ZXIsIGludmVydGVkTSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiBvYmplY3QgaXMgdHJhbnNwYXJlbnQgYXQgYSBjZXJ0YWluIGxvY2F0aW9uXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSB0YXJnZXQgT2JqZWN0IHRvIGNoZWNrXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHggTGVmdCBjb29yZGluYXRlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHkgVG9wIGNvb3JkaW5hdGVcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIGlzVGFyZ2V0VHJhbnNwYXJlbnQ6IGZ1bmN0aW9uICh0YXJnZXQsIHgsIHkpIHtcbiAgICAgIC8vIGluIGNhc2UgdGhlIHRhcmdldCBpcyB0aGUgYWN0aXZlT2JqZWN0LCB3ZSBjYW5ub3QgZXhlY3V0ZSB0aGlzIG9wdGltaXphdGlvblxuICAgICAgLy8gYmVjYXVzZSB3ZSBuZWVkIHRvIGRyYXcgY29udHJvbHMgdG9vLlxuICAgICAgaWYgKHRhcmdldC5zaG91bGRDYWNoZSgpICYmIHRhcmdldC5fY2FjaGVDYW52YXMgJiYgdGFyZ2V0ICE9PSB0aGlzLl9hY3RpdmVPYmplY3QpIHtcbiAgICAgICAgdmFyIG5vcm1hbGl6ZWRQb2ludGVyID0gdGhpcy5fbm9ybWFsaXplUG9pbnRlcih0YXJnZXQsIHt4OiB4LCB5OiB5fSksXG4gICAgICAgICAgICB0YXJnZXRSZWxhdGl2ZVggPSBNYXRoLm1heCh0YXJnZXQuY2FjaGVUcmFuc2xhdGlvblggKyAobm9ybWFsaXplZFBvaW50ZXIueCAqIHRhcmdldC56b29tWCksIDApLFxuICAgICAgICAgICAgdGFyZ2V0UmVsYXRpdmVZID0gTWF0aC5tYXgodGFyZ2V0LmNhY2hlVHJhbnNsYXRpb25ZICsgKG5vcm1hbGl6ZWRQb2ludGVyLnkgKiB0YXJnZXQuem9vbVkpLCAwKTtcblxuICAgICAgICB2YXIgaXNUcmFuc3BhcmVudCA9IGZhYnJpYy51dGlsLmlzVHJhbnNwYXJlbnQoXG4gICAgICAgICAgdGFyZ2V0Ll9jYWNoZUNvbnRleHQsIE1hdGgucm91bmQodGFyZ2V0UmVsYXRpdmVYKSwgTWF0aC5yb3VuZCh0YXJnZXRSZWxhdGl2ZVkpLCB0aGlzLnRhcmdldEZpbmRUb2xlcmFuY2UpO1xuXG4gICAgICAgIHJldHVybiBpc1RyYW5zcGFyZW50O1xuICAgICAgfVxuXG4gICAgICB2YXIgY3R4ID0gdGhpcy5jb250ZXh0Q2FjaGUsXG4gICAgICAgICAgb3JpZ2luYWxDb2xvciA9IHRhcmdldC5zZWxlY3Rpb25CYWNrZ3JvdW5kQ29sb3IsIHYgPSB0aGlzLnZpZXdwb3J0VHJhbnNmb3JtO1xuXG4gICAgICB0YXJnZXQuc2VsZWN0aW9uQmFja2dyb3VuZENvbG9yID0gJyc7XG5cbiAgICAgIHRoaXMuY2xlYXJDb250ZXh0KGN0eCk7XG5cbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICBjdHgudHJhbnNmb3JtKHZbMF0sIHZbMV0sIHZbMl0sIHZbM10sIHZbNF0sIHZbNV0pO1xuICAgICAgdGFyZ2V0LnJlbmRlcihjdHgpO1xuICAgICAgY3R4LnJlc3RvcmUoKTtcblxuICAgICAgdGFyZ2V0LnNlbGVjdGlvbkJhY2tncm91bmRDb2xvciA9IG9yaWdpbmFsQ29sb3I7XG5cbiAgICAgIHZhciBpc1RyYW5zcGFyZW50ID0gZmFicmljLnV0aWwuaXNUcmFuc3BhcmVudChcbiAgICAgICAgY3R4LCB4LCB5LCB0aGlzLnRhcmdldEZpbmRUb2xlcmFuY2UpO1xuXG4gICAgICByZXR1cm4gaXNUcmFuc3BhcmVudDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogdGFrZXMgYW4gZXZlbnQgYW5kIGRldGVybWluZXMgaWYgc2VsZWN0aW9uIGtleSBoYXMgYmVlbiBwcmVzc2VkXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgICAqL1xuICAgIF9pc1NlbGVjdGlvbktleVByZXNzZWQ6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBzZWxlY3Rpb25LZXlQcmVzc2VkID0gZmFsc2U7XG5cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuc2VsZWN0aW9uS2V5KSkge1xuICAgICAgICBzZWxlY3Rpb25LZXlQcmVzc2VkID0gISF0aGlzLnNlbGVjdGlvbktleS5maW5kKGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gZVtrZXldID09PSB0cnVlOyB9KTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBzZWxlY3Rpb25LZXlQcmVzc2VkID0gZVt0aGlzLnNlbGVjdGlvbktleV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxlY3Rpb25LZXlQcmVzc2VkO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSB0YXJnZXRcbiAgICAgKi9cbiAgICBfc2hvdWxkQ2xlYXJTZWxlY3Rpb246IGZ1bmN0aW9uIChlLCB0YXJnZXQpIHtcbiAgICAgIHZhciBhY3RpdmVPYmplY3RzID0gdGhpcy5nZXRBY3RpdmVPYmplY3RzKCksXG4gICAgICAgICAgYWN0aXZlT2JqZWN0ID0gdGhpcy5fYWN0aXZlT2JqZWN0O1xuXG4gICAgICByZXR1cm4gKFxuICAgICAgICAhdGFyZ2V0XG4gICAgICAgIHx8XG4gICAgICAgICh0YXJnZXQgJiZcbiAgICAgICAgICBhY3RpdmVPYmplY3QgJiZcbiAgICAgICAgICBhY3RpdmVPYmplY3RzLmxlbmd0aCA+IDEgJiZcbiAgICAgICAgICBhY3RpdmVPYmplY3RzLmluZGV4T2YodGFyZ2V0KSA9PT0gLTEgJiZcbiAgICAgICAgICBhY3RpdmVPYmplY3QgIT09IHRhcmdldCAmJlxuICAgICAgICAgICF0aGlzLl9pc1NlbGVjdGlvbktleVByZXNzZWQoZSkpXG4gICAgICAgIHx8XG4gICAgICAgICh0YXJnZXQgJiYgIXRhcmdldC5ldmVudGVkKVxuICAgICAgICB8fFxuICAgICAgICAodGFyZ2V0ICYmXG4gICAgICAgICAgIXRhcmdldC5zZWxlY3RhYmxlICYmXG4gICAgICAgICAgYWN0aXZlT2JqZWN0ICYmXG4gICAgICAgICAgYWN0aXZlT2JqZWN0ICE9PSB0YXJnZXQpXG4gICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBjZW50ZXJlZFNjYWxpbmcgZnJvbSBvYmplY3QgY2FuJ3Qgb3ZlcnJpZGUgY2VudGVyZWRTY2FsaW5nIGZyb20gY2FudmFzLlxuICAgICAqIHRoaXMgc2hvdWxkIGJlIGZpeGVkLCBzaW5jZSBvYmplY3Qgc2V0dGluZyBzaG91bGQgdGFrZSBwcmVjZWRlbmNlIG92ZXIgY2FudmFzLlxuICAgICAqIGFsc28gdGhpcyBzaG91bGQgYmUgc29tZXRoaW5nIHRoYXQgd2lsbCBiZSBtaWdyYXRlZCBpbiB0aGUgY29udHJvbCBwcm9wZXJ0aWVzLlxuICAgICAqIGFzIGFiaWxpdHkgdG8gZGVmaW5lIHRoZSBvcmlnaW4gb2YgdGhlIHRyYW5zZm9ybWF0aW9uIHRoYXQgdGhlIGNvbnRyb2wgcHJvdmlkZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gdGFyZ2V0XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGFjdGlvblxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gYWx0S2V5XG4gICAgICovXG4gICAgX3Nob3VsZENlbnRlclRyYW5zZm9ybTogZnVuY3Rpb24gKHRhcmdldCwgYWN0aW9uLCBhbHRLZXkpIHtcbiAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGNlbnRlclRyYW5zZm9ybTtcblxuICAgICAgaWYgKGFjdGlvbiA9PT0gJ3NjYWxlJyB8fCBhY3Rpb24gPT09ICdzY2FsZVgnIHx8IGFjdGlvbiA9PT0gJ3NjYWxlWScgfHwgYWN0aW9uID09PSAncmVzaXppbmcnKSB7XG4gICAgICAgIGNlbnRlclRyYW5zZm9ybSA9IHRoaXMuY2VudGVyZWRTY2FsaW5nIHx8IHRhcmdldC5jZW50ZXJlZFNjYWxpbmc7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChhY3Rpb24gPT09ICdyb3RhdGUnKSB7XG4gICAgICAgIGNlbnRlclRyYW5zZm9ybSA9IHRoaXMuY2VudGVyZWRSb3RhdGlvbiB8fCB0YXJnZXQuY2VudGVyZWRSb3RhdGlvbjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNlbnRlclRyYW5zZm9ybSA/ICFhbHRLZXkgOiBhbHRLZXk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHNob3VsZCBkaXNhcHBlYXIgYmVmb3JlIHJlbGVhc2UgNC4wXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZ2V0T3JpZ2luRnJvbUNvcm5lcjogZnVuY3Rpb24odGFyZ2V0LCBjb3JuZXIpIHtcbiAgICAgIHZhciBvcmlnaW4gPSB7XG4gICAgICAgIHg6IHRhcmdldC5vcmlnaW5YLFxuICAgICAgICB5OiB0YXJnZXQub3JpZ2luWVxuICAgICAgfTtcblxuICAgICAgaWYgKGNvcm5lciA9PT0gJ21sJyB8fCBjb3JuZXIgPT09ICd0bCcgfHwgY29ybmVyID09PSAnYmwnKSB7XG4gICAgICAgIG9yaWdpbi54ID0gJ3JpZ2h0JztcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGNvcm5lciA9PT0gJ21yJyB8fCBjb3JuZXIgPT09ICd0cicgfHwgY29ybmVyID09PSAnYnInKSB7XG4gICAgICAgIG9yaWdpbi54ID0gJ2xlZnQnO1xuICAgICAgfVxuXG4gICAgICBpZiAoY29ybmVyID09PSAndGwnIHx8IGNvcm5lciA9PT0gJ210JyB8fCBjb3JuZXIgPT09ICd0cicpIHtcbiAgICAgICAgb3JpZ2luLnkgPSAnYm90dG9tJztcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGNvcm5lciA9PT0gJ2JsJyB8fCBjb3JuZXIgPT09ICdtYicgfHwgY29ybmVyID09PSAnYnInKSB7XG4gICAgICAgIG9yaWdpbi55ID0gJ3RvcCc7XG4gICAgICB9XG4gICAgICByZXR1cm4gb3JpZ2luO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gYWxyZWFkeVNlbGVjdGVkIHRydWUgaWYgdGFyZ2V0IGlzIGFscmVhZHkgc2VsZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gY29ybmVyIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgY29ybmVyIG1sLCBtciwgdGwgLi4uXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IFt0YXJnZXRdIGluc2VydGVkIGJhY2sgdG8gaGVscCBvdmVycmlkaW5nLiBVbnVzZWRcbiAgICAgKi9cbiAgICBfZ2V0QWN0aW9uRnJvbUNvcm5lcjogZnVuY3Rpb24oYWxyZWFkeVNlbGVjdGVkLCBjb3JuZXIsIGUsIHRhcmdldCkge1xuICAgICAgaWYgKCFjb3JuZXIgfHwgIWFscmVhZHlTZWxlY3RlZCkge1xuICAgICAgICByZXR1cm4gJ2RyYWcnO1xuICAgICAgfVxuICAgICAgdmFyIGNvbnRyb2wgPSB0YXJnZXQuY29udHJvbHNbY29ybmVyXTtcbiAgICAgIHJldHVybiBjb250cm9sLmdldEFjdGlvbk5hbWUoZSwgY29udHJvbCwgdGFyZ2V0KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gdGFyZ2V0XG4gICAgICovXG4gICAgX3NldHVwQ3VycmVudFRyYW5zZm9ybTogZnVuY3Rpb24gKGUsIHRhcmdldCwgYWxyZWFkeVNlbGVjdGVkKSB7XG4gICAgICBpZiAoIXRhcmdldCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBwb2ludGVyID0gdGhpcy5nZXRQb2ludGVyKGUpLCBjb3JuZXIgPSB0YXJnZXQuX19jb3JuZXIsXG4gICAgICAgICAgY29udHJvbCA9IHRhcmdldC5jb250cm9sc1tjb3JuZXJdLFxuICAgICAgICAgIGFjdGlvbkhhbmRsZXIgPSAoYWxyZWFkeVNlbGVjdGVkICYmIGNvcm5lcikgP1xuICAgICAgICAgICAgY29udHJvbC5nZXRBY3Rpb25IYW5kbGVyKGUsIHRhcmdldCwgY29udHJvbCkgOiBmYWJyaWMuY29udHJvbHNVdGlscy5kcmFnSGFuZGxlcixcbiAgICAgICAgICBhY3Rpb24gPSB0aGlzLl9nZXRBY3Rpb25Gcm9tQ29ybmVyKGFscmVhZHlTZWxlY3RlZCwgY29ybmVyLCBlLCB0YXJnZXQpLFxuICAgICAgICAgIG9yaWdpbiA9IHRoaXMuX2dldE9yaWdpbkZyb21Db3JuZXIodGFyZ2V0LCBjb3JuZXIpLFxuICAgICAgICAgIGFsdEtleSA9IGVbdGhpcy5jZW50ZXJlZEtleV0sXG4gICAgICAgICAgdHJhbnNmb3JtID0ge1xuICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgICAgIGFjdGlvbkhhbmRsZXI6IGFjdGlvbkhhbmRsZXIsXG4gICAgICAgICAgICBjb3JuZXI6IGNvcm5lcixcbiAgICAgICAgICAgIHNjYWxlWDogdGFyZ2V0LnNjYWxlWCxcbiAgICAgICAgICAgIHNjYWxlWTogdGFyZ2V0LnNjYWxlWSxcbiAgICAgICAgICAgIHNrZXdYOiB0YXJnZXQuc2tld1gsXG4gICAgICAgICAgICBza2V3WTogdGFyZ2V0LnNrZXdZLFxuICAgICAgICAgICAgLy8gdXNlZCBieSB0cmFuc2F0aW9uXG4gICAgICAgICAgICBvZmZzZXRYOiBwb2ludGVyLnggLSB0YXJnZXQubGVmdCxcbiAgICAgICAgICAgIG9mZnNldFk6IHBvaW50ZXIueSAtIHRhcmdldC50b3AsXG4gICAgICAgICAgICBvcmlnaW5YOiBvcmlnaW4ueCxcbiAgICAgICAgICAgIG9yaWdpblk6IG9yaWdpbi55LFxuICAgICAgICAgICAgZXg6IHBvaW50ZXIueCxcbiAgICAgICAgICAgIGV5OiBwb2ludGVyLnksXG4gICAgICAgICAgICBsYXN0WDogcG9pbnRlci54LFxuICAgICAgICAgICAgbGFzdFk6IHBvaW50ZXIueSxcbiAgICAgICAgICAgIC8vIHVuc3VyZSB0aGV5IGFyZSB1c2VmdWwgYW55bW9yZS5cbiAgICAgICAgICAgIC8vIGxlZnQ6IHRhcmdldC5sZWZ0LFxuICAgICAgICAgICAgLy8gdG9wOiB0YXJnZXQudG9wLFxuICAgICAgICAgICAgdGhldGE6IGRlZ3JlZXNUb1JhZGlhbnModGFyZ2V0LmFuZ2xlKSxcbiAgICAgICAgICAgIC8vIGVuZCBvZiB1bnN1cmVcbiAgICAgICAgICAgIHdpZHRoOiB0YXJnZXQud2lkdGggKiB0YXJnZXQuc2NhbGVYLFxuICAgICAgICAgICAgc2hpZnRLZXk6IGUuc2hpZnRLZXksXG4gICAgICAgICAgICBhbHRLZXk6IGFsdEtleSxcbiAgICAgICAgICAgIG9yaWdpbmFsOiBmYWJyaWMudXRpbC5zYXZlT2JqZWN0VHJhbnNmb3JtKHRhcmdldCksXG4gICAgICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMuX3Nob3VsZENlbnRlclRyYW5zZm9ybSh0YXJnZXQsIGFjdGlvbiwgYWx0S2V5KSkge1xuICAgICAgICB0cmFuc2Zvcm0ub3JpZ2luWCA9ICdjZW50ZXInO1xuICAgICAgICB0cmFuc2Zvcm0ub3JpZ2luWSA9ICdjZW50ZXInO1xuICAgICAgfVxuICAgICAgdHJhbnNmb3JtLm9yaWdpbmFsLm9yaWdpblggPSBvcmlnaW4ueDtcbiAgICAgIHRyYW5zZm9ybS5vcmlnaW5hbC5vcmlnaW5ZID0gb3JpZ2luLnk7XG4gICAgICB0aGlzLl9jdXJyZW50VHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgICAgdGhpcy5fYmVmb3JlVHJhbnNmb3JtKGUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGN1cnNvciB0eXBlIG9mIHRoZSBjYW52YXMgZWxlbWVudFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZSBDdXJzb3IgdHlwZSBvZiB0aGUgY2FudmFzIGVsZW1lbnQuXG4gICAgICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9jc3MzLXVpLyNjdXJzb3JcbiAgICAgKi9cbiAgICBzZXRDdXJzb3I6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgdGhpcy51cHBlckNhbnZhc0VsLnN0eWxlLmN1cnNvciA9IHZhbHVlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggdG8gZHJhdyB0aGUgc2VsZWN0aW9uIG9uXG4gICAgICovXG4gICAgX2RyYXdTZWxlY3Rpb246IGZ1bmN0aW9uIChjdHgpIHtcbiAgICAgIHZhciBzZWxlY3RvciA9IHRoaXMuX2dyb3VwU2VsZWN0b3IsXG4gICAgICAgICAgdmlld3BvcnRTdGFydCA9IG5ldyBmYWJyaWMuUG9pbnQoc2VsZWN0b3IuZXgsIHNlbGVjdG9yLmV5KSxcbiAgICAgICAgICBzdGFydCA9IGZhYnJpYy51dGlsLnRyYW5zZm9ybVBvaW50KHZpZXdwb3J0U3RhcnQsIHRoaXMudmlld3BvcnRUcmFuc2Zvcm0pLFxuICAgICAgICAgIHZpZXdwb3J0RXh0ZW50ID0gbmV3IGZhYnJpYy5Qb2ludChzZWxlY3Rvci5leCArIHNlbGVjdG9yLmxlZnQsIHNlbGVjdG9yLmV5ICsgc2VsZWN0b3IudG9wKSxcbiAgICAgICAgICBleHRlbnQgPSBmYWJyaWMudXRpbC50cmFuc2Zvcm1Qb2ludCh2aWV3cG9ydEV4dGVudCwgdGhpcy52aWV3cG9ydFRyYW5zZm9ybSksXG4gICAgICAgICAgbWluWCA9IE1hdGgubWluKHN0YXJ0LngsIGV4dGVudC54KSxcbiAgICAgICAgICBtaW5ZID0gTWF0aC5taW4oc3RhcnQueSwgZXh0ZW50LnkpLFxuICAgICAgICAgIG1heFggPSBNYXRoLm1heChzdGFydC54LCBleHRlbnQueCksXG4gICAgICAgICAgbWF4WSA9IE1hdGgubWF4KHN0YXJ0LnksIGV4dGVudC55KSxcbiAgICAgICAgICBzdHJva2VPZmZzZXQgPSB0aGlzLnNlbGVjdGlvbkxpbmVXaWR0aCAvIDI7XG5cbiAgICAgIGlmICh0aGlzLnNlbGVjdGlvbkNvbG9yKSB7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLnNlbGVjdGlvbkNvbG9yO1xuICAgICAgICBjdHguZmlsbFJlY3QobWluWCwgbWluWSwgbWF4WCAtIG1pblgsIG1heFkgLSBtaW5ZKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLnNlbGVjdGlvbkxpbmVXaWR0aCB8fCAhdGhpcy5zZWxlY3Rpb25Cb3JkZXJDb2xvcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjdHgubGluZVdpZHRoID0gdGhpcy5zZWxlY3Rpb25MaW5lV2lkdGg7XG4gICAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLnNlbGVjdGlvbkJvcmRlckNvbG9yO1xuXG4gICAgICBtaW5YICs9IHN0cm9rZU9mZnNldDtcbiAgICAgIG1pblkgKz0gc3Ryb2tlT2Zmc2V0O1xuICAgICAgbWF4WCAtPSBzdHJva2VPZmZzZXQ7XG4gICAgICBtYXhZIC09IHN0cm9rZU9mZnNldDtcbiAgICAgIC8vIHNlbGVjdGlvbiBib3JkZXJcbiAgICAgIGZhYnJpYy5PYmplY3QucHJvdG90eXBlLl9zZXRMaW5lRGFzaC5jYWxsKHRoaXMsIGN0eCwgdGhpcy5zZWxlY3Rpb25EYXNoQXJyYXkpO1xuICAgICAgY3R4LnN0cm9rZVJlY3QobWluWCwgbWluWSwgbWF4WCAtIG1pblgsIG1heFkgLSBtaW5ZKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRoYXQgZGV0ZXJtaW5lcyB3aGF0IG9iamVjdCB3ZSBhcmUgY2xpY2tpbmcgb25cbiAgICAgKiB0aGUgc2tpcEdyb3VwIHBhcmFtZXRlciBpcyBmb3IgaW50ZXJuYWwgdXNlLCBpcyBuZWVkZWQgZm9yIHNoaWZ0K2NsaWNrIGFjdGlvblxuICAgICAqIDExLzA5LzIwMTggVE9ETzogd291bGQgYmUgY29vbCBpZiBmaW5kVGFyZ2V0IGNvdWxkIGRpc2Nlcm4gYmV0d2VlbiBiZWluZyBhIGZ1bGwgdGFyZ2V0XG4gICAgICogb3IgdGhlIG91dHNpZGUgcGFydCBvZiB0aGUgY29ybmVyLlxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGUgbW91c2UgZXZlbnRcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHNraXBHcm91cCB3aGVuIHRydWUsIGFjdGl2ZUdyb3VwIGlzIHNraXBwZWQgYW5kIG9ubHkgb2JqZWN0cyBhcmUgdHJhdmVyc2VkIHRocm91Z2hcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGUgdGFyZ2V0IGZvdW5kXG4gICAgICovXG4gICAgZmluZFRhcmdldDogZnVuY3Rpb24gKGUsIHNraXBHcm91cCkge1xuICAgICAgaWYgKHRoaXMuc2tpcFRhcmdldEZpbmQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgaWdub3JlWm9vbSA9IHRydWUsXG4gICAgICAgICAgcG9pbnRlciA9IHRoaXMuZ2V0UG9pbnRlcihlLCBpZ25vcmVab29tKSxcbiAgICAgICAgICBhY3RpdmVPYmplY3QgPSB0aGlzLl9hY3RpdmVPYmplY3QsXG4gICAgICAgICAgYU9iamVjdHMgPSB0aGlzLmdldEFjdGl2ZU9iamVjdHMoKSxcbiAgICAgICAgICBhY3RpdmVUYXJnZXQsIGFjdGl2ZVRhcmdldFN1YnMsXG4gICAgICAgICAgaXNUb3VjaCA9IGlzVG91Y2hFdmVudChlKSxcbiAgICAgICAgICBzaG91bGRMb29rRm9yQWN0aXZlID0gKGFPYmplY3RzLmxlbmd0aCA+IDEgJiYgIXNraXBHcm91cCkgfHwgYU9iamVjdHMubGVuZ3RoID09PSAxO1xuXG4gICAgICAvLyBmaXJzdCBjaGVjayBjdXJyZW50IGdyb3VwIChpZiBvbmUgZXhpc3RzKVxuICAgICAgLy8gYWN0aXZlIGdyb3VwIGRvZXMgbm90IGNoZWNrIHN1YiB0YXJnZXRzIGxpa2Ugbm9ybWFsIGdyb3Vwcy5cbiAgICAgIC8vIGlmIGFjdGl2ZSBncm91cCBqdXN0IGV4aXRzLlxuICAgICAgdGhpcy50YXJnZXRzID0gW107XG5cbiAgICAgIC8vIGlmIHdlIGhpdCB0aGUgY29ybmVyIG9mIGFuIGFjdGl2ZU9iamVjdCwgbGV0J3MgcmV0dXJuIHRoYXQuXG4gICAgICBpZiAoc2hvdWxkTG9va0ZvckFjdGl2ZSAmJiBhY3RpdmVPYmplY3QuX2ZpbmRUYXJnZXRDb3JuZXIocG9pbnRlciwgaXNUb3VjaCkpIHtcbiAgICAgICAgcmV0dXJuIGFjdGl2ZU9iamVjdDtcbiAgICAgIH1cbiAgICAgIGlmIChhT2JqZWN0cy5sZW5ndGggPiAxICYmICFza2lwR3JvdXAgJiYgYWN0aXZlT2JqZWN0ID09PSB0aGlzLl9zZWFyY2hQb3NzaWJsZVRhcmdldHMoW2FjdGl2ZU9iamVjdF0sIHBvaW50ZXIpKSB7XG4gICAgICAgIHJldHVybiBhY3RpdmVPYmplY3Q7XG4gICAgICB9XG4gICAgICBpZiAoYU9iamVjdHMubGVuZ3RoID09PSAxICYmXG4gICAgICAgIGFjdGl2ZU9iamVjdCA9PT0gdGhpcy5fc2VhcmNoUG9zc2libGVUYXJnZXRzKFthY3RpdmVPYmplY3RdLCBwb2ludGVyKSkge1xuICAgICAgICBpZiAoIXRoaXMucHJlc2VydmVPYmplY3RTdGFja2luZykge1xuICAgICAgICAgIHJldHVybiBhY3RpdmVPYmplY3Q7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgYWN0aXZlVGFyZ2V0ID0gYWN0aXZlT2JqZWN0O1xuICAgICAgICAgIGFjdGl2ZVRhcmdldFN1YnMgPSB0aGlzLnRhcmdldHM7XG4gICAgICAgICAgdGhpcy50YXJnZXRzID0gW107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciB0YXJnZXQgPSB0aGlzLl9zZWFyY2hQb3NzaWJsZVRhcmdldHModGhpcy5fb2JqZWN0cywgcG9pbnRlcik7XG4gICAgICBpZiAoZVt0aGlzLmFsdFNlbGVjdGlvbktleV0gJiYgdGFyZ2V0ICYmIGFjdGl2ZVRhcmdldCAmJiB0YXJnZXQgIT09IGFjdGl2ZVRhcmdldCkge1xuICAgICAgICB0YXJnZXQgPSBhY3RpdmVUYXJnZXQ7XG4gICAgICAgIHRoaXMudGFyZ2V0cyA9IGFjdGl2ZVRhcmdldFN1YnM7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgcG9pbnQgaXMgaW5zaWRlIHRoZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtwb2ludGVyXSB4LHkgb2JqZWN0IG9mIHBvaW50IGNvb3JkaW5hdGVzIHdlIHdhbnQgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmogT2JqZWN0IHRvIHRlc3QgYWdhaW5zdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbZ2xvYmFsUG9pbnRlcl0geCx5IG9iamVjdCBvZiBwb2ludCBjb29yZGluYXRlcyByZWxhdGl2ZSB0byBjYW52YXMgdXNlZCB0byBzZWFyY2ggcGVyIHBpeGVsIHRhcmdldC5cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIHBvaW50IGlzIGNvbnRhaW5lZCB3aXRoaW4gYW4gYXJlYSBvZiBnaXZlbiBvYmplY3RcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9jaGVja1RhcmdldDogZnVuY3Rpb24ocG9pbnRlciwgb2JqLCBnbG9iYWxQb2ludGVyKSB7XG4gICAgICBpZiAob2JqICYmXG4gICAgICAgICAgb2JqLnZpc2libGUgJiZcbiAgICAgICAgICBvYmouZXZlbnRlZCAmJlxuICAgICAgICAgIC8vIGh0dHA6Ly93d3cuZ2VvZy51YmMuY2EvY291cnNlcy9rbGluay9naXMubm90ZXMvbmNnaWEvdTMyLmh0bWxcbiAgICAgICAgICAvLyBodHRwOi8vaWRhdi51Y2RhdmlzLmVkdS9+b2tyZXlsb3MvVEFzaGlwL1NwcmluZzIwMDAvUG9pbnRJblBvbHlnb24uaHRtbFxuICAgICAgICAgIG9iai5jb250YWluc1BvaW50KHBvaW50ZXIpXG4gICAgICApIHtcbiAgICAgICAgaWYgKCh0aGlzLnBlclBpeGVsVGFyZ2V0RmluZCB8fCBvYmoucGVyUGl4ZWxUYXJnZXRGaW5kKSAmJiAhb2JqLmlzRWRpdGluZykge1xuICAgICAgICAgIHZhciBpc1RyYW5zcGFyZW50ID0gdGhpcy5pc1RhcmdldFRyYW5zcGFyZW50KG9iaiwgZ2xvYmFsUG9pbnRlci54LCBnbG9iYWxQb2ludGVyLnkpO1xuICAgICAgICAgIGlmICghaXNUcmFuc3BhcmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIHVzZWQgdG8gc2VhcmNoIGluc2lkZSBvYmplY3RzIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIHBvaW50ZXIgaW4gYm91bmRpbmcgYm94IG9yIHRoYXQgY29udGFpbnMgcG9pbnRlck9uQ2FudmFzIHdoZW4gcGFpbnRlZFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtvYmplY3RzXSBvYmplY3RzIGFycmF5IHRvIGxvb2sgaW50b1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbcG9pbnRlcl0geCx5IG9iamVjdCBvZiBwb2ludCBjb29yZGluYXRlcyB3ZSB3YW50IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IG9iamVjdCB0aGF0IGNvbnRhaW5zIHBvaW50ZXJcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9zZWFyY2hQb3NzaWJsZVRhcmdldHM6IGZ1bmN0aW9uKG9iamVjdHMsIHBvaW50ZXIpIHtcbiAgICAgIC8vIENhY2hlIGFsbCB0YXJnZXRzIHdoZXJlIHRoZWlyIGJvdW5kaW5nIGJveCBjb250YWlucyBwb2ludC5cbiAgICAgIHZhciB0YXJnZXQsIGkgPSBvYmplY3RzLmxlbmd0aCwgc3ViVGFyZ2V0O1xuICAgICAgLy8gRG8gbm90IGNoZWNrIGZvciBjdXJyZW50bHkgZ3JvdXBlZCBvYmplY3RzLCBzaW5jZSB3ZSBjaGVjayB0aGUgcGFyZW50IGdyb3VwIGl0c2VsZi5cbiAgICAgIC8vIHVudGlsIHdlIGNhbGwgdGhpcyBmdW5jdGlvbiBzcGVjaWZpY2FsbHkgdG8gc2VhcmNoIGluc2lkZSB0aGUgYWN0aXZlR3JvdXBcbiAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgdmFyIG9ialRvQ2hlY2sgPSBvYmplY3RzW2ldO1xuICAgICAgICB2YXIgcG9pbnRlclRvVXNlID0gb2JqVG9DaGVjay5ncm91cCA/XG4gICAgICAgICAgdGhpcy5fbm9ybWFsaXplUG9pbnRlcihvYmpUb0NoZWNrLmdyb3VwLCBwb2ludGVyKSA6IHBvaW50ZXI7XG4gICAgICAgIGlmICh0aGlzLl9jaGVja1RhcmdldChwb2ludGVyVG9Vc2UsIG9ialRvQ2hlY2ssIHBvaW50ZXIpKSB7XG4gICAgICAgICAgdGFyZ2V0ID0gb2JqZWN0c1tpXTtcbiAgICAgICAgICBpZiAodGFyZ2V0LnN1YlRhcmdldENoZWNrICYmIHRhcmdldCBpbnN0YW5jZW9mIGZhYnJpYy5Hcm91cCkge1xuICAgICAgICAgICAgc3ViVGFyZ2V0ID0gdGhpcy5fc2VhcmNoUG9zc2libGVUYXJnZXRzKHRhcmdldC5fb2JqZWN0cywgcG9pbnRlcik7XG4gICAgICAgICAgICBzdWJUYXJnZXQgJiYgdGhpcy50YXJnZXRzLnB1c2goc3ViVGFyZ2V0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgcG9pbnRlciBjb29yZGluYXRlcyB3aXRob3V0IHRoZSBlZmZlY3Qgb2YgdGhlIHZpZXdwb3J0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50ZXIgd2l0aCBcInhcIiBhbmQgXCJ5XCIgbnVtYmVyIHZhbHVlc1xuICAgICAqIEByZXR1cm4ge09iamVjdH0gb2JqZWN0IHdpdGggXCJ4XCIgYW5kIFwieVwiIG51bWJlciB2YWx1ZXNcbiAgICAgKi9cbiAgICByZXN0b3JlUG9pbnRlclZwdDogZnVuY3Rpb24ocG9pbnRlcikge1xuICAgICAgcmV0dXJuIGZhYnJpYy51dGlsLnRyYW5zZm9ybVBvaW50KFxuICAgICAgICBwb2ludGVyLFxuICAgICAgICBmYWJyaWMudXRpbC5pbnZlcnRUcmFuc2Zvcm0odGhpcy52aWV3cG9ydFRyYW5zZm9ybSlcbiAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgcG9pbnRlciBjb29yZGluYXRlcyByZWxhdGl2ZSB0byBjYW52YXMuXG4gICAgICogQ2FuIHJldHVybiBjb29yZGluYXRlcyB3aXRoIG9yIHdpdGhvdXQgdmlld3BvcnRUcmFuc2Zvcm0uXG4gICAgICogaWdub3JlWm9vbSBmYWxzZSBnaXZlcyBiYWNrIGNvb3JkaW5hdGVzIHRoYXQgcmVwcmVzZW50XG4gICAgICogdGhlIHBvaW50IGNsaWNrZWQgb24gY2FudmFzIGVsZW1lbnQuXG4gICAgICogaWdub3JlWm9vbSB0cnVlIGdpdmVzIGJhY2sgY29vcmRpbmF0ZXMgYWZ0ZXIgYmVpbmcgcHJvY2Vzc2VkXG4gICAgICogYnkgdGhlIHZpZXdwb3J0VHJhbnNmb3JtICggc29ydCBvZiBjb29yZGluYXRlcyBvZiB3aGF0IGlzIGRpc3BsYXllZFxuICAgICAqIG9uIHRoZSBjYW52YXMgd2hlcmUgeW91IGFyZSBjbGlja2luZy5cbiAgICAgKiBpZ25vcmVab29tIHRydWUgPSBIVE1MRWxlbWVudCBjb29yZGluYXRlcyByZWxhdGl2ZSB0byB0b3AsbGVmdFxuICAgICAqIGlnbm9yZVpvb20gZmFsc2UsIGRlZmF1bHQgPSBmYWJyaWMgc3BhY2UgY29vcmRpbmF0ZXMsIHRoZSBzYW1lIHVzZWQgZm9yIHNoYXBlIHBvc2l0aW9uXG4gICAgICogVG8gaW50ZXJhY3Qgd2l0aCB5b3VyIHNoYXBlcyB0b3AgYW5kIGxlZnQgeW91IHdhbnQgdG8gdXNlIGlnbm9yZVpvb20gdHJ1ZVxuICAgICAqIG1vc3Qgb2YgdGhlIHRpbWUsIHdoaWxlIGlnbm9yZVpvb20gZmFsc2Ugd2lsbCBnaXZlIHlvdSBjb29yZGluYXRlc1xuICAgICAqIGNvbXBhdGlibGUgd2l0aCB0aGUgb2JqZWN0Lm9Db29yZHMgc3lzdGVtLlxuICAgICAqIG9mIHRoZSB0aW1lLlxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGlnbm9yZVpvb21cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IG9iamVjdCB3aXRoIFwieFwiIGFuZCBcInlcIiBudW1iZXIgdmFsdWVzXG4gICAgICovXG4gICAgZ2V0UG9pbnRlcjogZnVuY3Rpb24gKGUsIGlnbm9yZVpvb20pIHtcbiAgICAgIC8vIHJldHVybiBjYWNoZWQgdmFsdWVzIGlmIHdlIGFyZSBpbiB0aGUgZXZlbnQgcHJvY2Vzc2luZyBjaGFpblxuICAgICAgaWYgKHRoaXMuX2Fic29sdXRlUG9pbnRlciAmJiAhaWdub3JlWm9vbSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWJzb2x1dGVQb2ludGVyO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX3BvaW50ZXIgJiYgaWdub3JlWm9vbSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcG9pbnRlcjtcbiAgICAgIH1cblxuICAgICAgdmFyIHBvaW50ZXIgPSBnZXRQb2ludGVyKGUpLFxuICAgICAgICAgIHVwcGVyQ2FudmFzRWwgPSB0aGlzLnVwcGVyQ2FudmFzRWwsXG4gICAgICAgICAgYm91bmRzID0gdXBwZXJDYW52YXNFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgICBib3VuZHNXaWR0aCA9IGJvdW5kcy53aWR0aCB8fCAwLFxuICAgICAgICAgIGJvdW5kc0hlaWdodCA9IGJvdW5kcy5oZWlnaHQgfHwgMCxcbiAgICAgICAgICBjc3NTY2FsZTtcblxuICAgICAgaWYgKCFib3VuZHNXaWR0aCB8fCAhYm91bmRzSGVpZ2h0ICkge1xuICAgICAgICBpZiAoJ3RvcCcgaW4gYm91bmRzICYmICdib3R0b20nIGluIGJvdW5kcykge1xuICAgICAgICAgIGJvdW5kc0hlaWdodCA9IE1hdGguYWJzKCBib3VuZHMudG9wIC0gYm91bmRzLmJvdHRvbSApO1xuICAgICAgICB9XG4gICAgICAgIGlmICgncmlnaHQnIGluIGJvdW5kcyAmJiAnbGVmdCcgaW4gYm91bmRzKSB7XG4gICAgICAgICAgYm91bmRzV2lkdGggPSBNYXRoLmFicyggYm91bmRzLnJpZ2h0IC0gYm91bmRzLmxlZnQgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLmNhbGNPZmZzZXQoKTtcbiAgICAgIHBvaW50ZXIueCA9IHBvaW50ZXIueCAtIHRoaXMuX29mZnNldC5sZWZ0O1xuICAgICAgcG9pbnRlci55ID0gcG9pbnRlci55IC0gdGhpcy5fb2Zmc2V0LnRvcDtcbiAgICAgIGlmICghaWdub3JlWm9vbSkge1xuICAgICAgICBwb2ludGVyID0gdGhpcy5yZXN0b3JlUG9pbnRlclZwdChwb2ludGVyKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHJldGluYVNjYWxpbmcgPSB0aGlzLmdldFJldGluYVNjYWxpbmcoKTtcbiAgICAgIGlmIChyZXRpbmFTY2FsaW5nICE9PSAxKSB7XG4gICAgICAgIHBvaW50ZXIueCAvPSByZXRpbmFTY2FsaW5nO1xuICAgICAgICBwb2ludGVyLnkgLz0gcmV0aW5hU2NhbGluZztcbiAgICAgIH1cblxuICAgICAgaWYgKGJvdW5kc1dpZHRoID09PSAwIHx8IGJvdW5kc0hlaWdodCA9PT0gMCkge1xuICAgICAgICAvLyBJZiBib3VuZHMgYXJlIG5vdCBhdmFpbGFibGUgKGkuZS4gbm90IHZpc2libGUpLCBkbyBub3QgYXBwbHkgc2NhbGUuXG4gICAgICAgIGNzc1NjYWxlID0geyB3aWR0aDogMSwgaGVpZ2h0OiAxIH07XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY3NzU2NhbGUgPSB7XG4gICAgICAgICAgd2lkdGg6IHVwcGVyQ2FudmFzRWwud2lkdGggLyBib3VuZHNXaWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IHVwcGVyQ2FudmFzRWwuaGVpZ2h0IC8gYm91bmRzSGVpZ2h0XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHg6IHBvaW50ZXIueCAqIGNzc1NjYWxlLndpZHRoLFxuICAgICAgICB5OiBwb2ludGVyLnkgKiBjc3NTY2FsZS5oZWlnaHRcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHRocm93cyB7Q0FOVkFTX0lOSVRfRVJST1J9IElmIGNhbnZhcyBjYW4gbm90IGJlIGluaXRpYWxpemVkXG4gICAgICovXG4gICAgX2NyZWF0ZVVwcGVyQ2FudmFzOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgbG93ZXJDYW52YXNDbGFzcyA9IHRoaXMubG93ZXJDYW52YXNFbC5jbGFzc05hbWUucmVwbGFjZSgvXFxzKmxvd2VyLWNhbnZhc1xccyovLCAnJyksXG4gICAgICAgICAgbG93ZXJDYW52YXNFbCA9IHRoaXMubG93ZXJDYW52YXNFbCwgdXBwZXJDYW52YXNFbCA9IHRoaXMudXBwZXJDYW52YXNFbDtcblxuICAgICAgLy8gdGhlcmUgaXMgbm8gbmVlZCB0byBjcmVhdGUgYSBuZXcgdXBwZXJDYW52YXMgZWxlbWVudCBpZiB3ZSBoYXZlIGFscmVhZHkgb25lLlxuICAgICAgaWYgKHVwcGVyQ2FudmFzRWwpIHtcbiAgICAgICAgdXBwZXJDYW52YXNFbC5jbGFzc05hbWUgPSAnJztcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB1cHBlckNhbnZhc0VsID0gdGhpcy5fY3JlYXRlQ2FudmFzRWxlbWVudCgpO1xuICAgICAgICB0aGlzLnVwcGVyQ2FudmFzRWwgPSB1cHBlckNhbnZhc0VsO1xuICAgICAgfVxuICAgICAgZmFicmljLnV0aWwuYWRkQ2xhc3ModXBwZXJDYW52YXNFbCwgJ3VwcGVyLWNhbnZhcyAnICsgbG93ZXJDYW52YXNDbGFzcyk7XG5cbiAgICAgIHRoaXMud3JhcHBlckVsLmFwcGVuZENoaWxkKHVwcGVyQ2FudmFzRWwpO1xuXG4gICAgICB0aGlzLl9jb3B5Q2FudmFzU3R5bGUobG93ZXJDYW52YXNFbCwgdXBwZXJDYW52YXNFbCk7XG4gICAgICB0aGlzLl9hcHBseUNhbnZhc1N0eWxlKHVwcGVyQ2FudmFzRWwpO1xuICAgICAgdGhpcy5jb250ZXh0VG9wID0gdXBwZXJDYW52YXNFbC5nZXRDb250ZXh0KCcyZCcpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGNvbnRleHQgb2YgdG9wIGNhbnZhcyB3aGVyZSBpbnRlcmFjdGlvbnMgYXJlIGRyYXduXG4gICAgICogQHJldHVybnMge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cbiAgICAgKi9cbiAgICBnZXRUb3BDb250ZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb250ZXh0VG9wO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9jcmVhdGVDYWNoZUNhbnZhczogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jYWNoZUNhbnZhc0VsID0gdGhpcy5fY3JlYXRlQ2FudmFzRWxlbWVudCgpO1xuICAgICAgdGhpcy5jYWNoZUNhbnZhc0VsLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCB0aGlzLndpZHRoKTtcbiAgICAgIHRoaXMuY2FjaGVDYW52YXNFbC5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIHRoaXMuaGVpZ2h0KTtcbiAgICAgIHRoaXMuY29udGV4dENhY2hlID0gdGhpcy5jYWNoZUNhbnZhc0VsLmdldENvbnRleHQoJzJkJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2luaXRXcmFwcGVyRWxlbWVudDogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy53cmFwcGVyRWwgPSBmYWJyaWMudXRpbC53cmFwRWxlbWVudCh0aGlzLmxvd2VyQ2FudmFzRWwsICdkaXYnLCB7XG4gICAgICAgICdjbGFzcyc6IHRoaXMuY29udGFpbmVyQ2xhc3NcbiAgICAgIH0pO1xuICAgICAgZmFicmljLnV0aWwuc2V0U3R5bGUodGhpcy53cmFwcGVyRWwsIHtcbiAgICAgICAgd2lkdGg6IHRoaXMud2lkdGggKyAncHgnLFxuICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0ICsgJ3B4JyxcbiAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZSdcbiAgICAgIH0pO1xuICAgICAgZmFicmljLnV0aWwubWFrZUVsZW1lbnRVbnNlbGVjdGFibGUodGhpcy53cmFwcGVyRWwpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgY2FudmFzIGVsZW1lbnQgdG8gYXBwbHkgc3R5bGVzIG9uXG4gICAgICovXG4gICAgX2FwcGx5Q2FudmFzU3R5bGU6IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICB2YXIgd2lkdGggPSB0aGlzLndpZHRoIHx8IGVsZW1lbnQud2lkdGgsXG4gICAgICAgICAgaGVpZ2h0ID0gdGhpcy5oZWlnaHQgfHwgZWxlbWVudC5oZWlnaHQ7XG5cbiAgICAgIGZhYnJpYy51dGlsLnNldFN0eWxlKGVsZW1lbnQsIHtcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgIHdpZHRoOiB3aWR0aCArICdweCcsXG4gICAgICAgIGhlaWdodDogaGVpZ2h0ICsgJ3B4JyxcbiAgICAgICAgbGVmdDogMCxcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICAndG91Y2gtYWN0aW9uJzogdGhpcy5hbGxvd1RvdWNoU2Nyb2xsaW5nID8gJ21hbmlwdWxhdGlvbicgOiAnbm9uZScsXG4gICAgICAgICctbXMtdG91Y2gtYWN0aW9uJzogdGhpcy5hbGxvd1RvdWNoU2Nyb2xsaW5nID8gJ21hbmlwdWxhdGlvbicgOiAnbm9uZSdcbiAgICAgIH0pO1xuICAgICAgZWxlbWVudC53aWR0aCA9IHdpZHRoO1xuICAgICAgZWxlbWVudC5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICBmYWJyaWMudXRpbC5tYWtlRWxlbWVudFVuc2VsZWN0YWJsZShlbGVtZW50KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ29weSB0aGUgZW50aXJlIGlubGluZSBzdHlsZSBmcm9tIG9uZSBlbGVtZW50IChmcm9tRWwpIHRvIGFub3RoZXIgKHRvRWwpXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGZyb21FbCBFbGVtZW50IHN0eWxlIGlzIGNvcGllZCBmcm9tXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSB0b0VsIEVsZW1lbnQgY29waWVkIHN0eWxlIGlzIGFwcGxpZWQgdG9cbiAgICAgKi9cbiAgICBfY29weUNhbnZhc1N0eWxlOiBmdW5jdGlvbiAoZnJvbUVsLCB0b0VsKSB7XG4gICAgICB0b0VsLnN0eWxlLmNzc1RleHQgPSBmcm9tRWwuc3R5bGUuY3NzVGV4dDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBjb250ZXh0IG9mIGNhbnZhcyB3aGVyZSBvYmplY3Qgc2VsZWN0aW9uIGlzIGRyYXduXG4gICAgICogQHJldHVybiB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAqL1xuICAgIGdldFNlbGVjdGlvbkNvbnRleHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29udGV4dFRvcDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyAmbHQ7Y2FudmFzPiBlbGVtZW50IG9uIHdoaWNoIG9iamVjdCBzZWxlY3Rpb24gaXMgZHJhd25cbiAgICAgKiBAcmV0dXJuIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgKi9cbiAgICBnZXRTZWxlY3Rpb25FbGVtZW50OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy51cHBlckNhbnZhc0VsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGN1cnJlbnRseSBhY3RpdmUgb2JqZWN0XG4gICAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gYWN0aXZlIG9iamVjdFxuICAgICAqL1xuICAgIGdldEFjdGl2ZU9iamVjdDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2FjdGl2ZU9iamVjdDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBhcnJheSB3aXRoIHRoZSBjdXJyZW50IHNlbGVjdGVkIG9iamVjdHNcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSBhY3RpdmUgb2JqZWN0XG4gICAgICovXG4gICAgZ2V0QWN0aXZlT2JqZWN0czogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGFjdGl2ZSA9IHRoaXMuX2FjdGl2ZU9iamVjdDtcbiAgICAgIGlmIChhY3RpdmUpIHtcbiAgICAgICAgaWYgKGFjdGl2ZS50eXBlID09PSAnYWN0aXZlU2VsZWN0aW9uJyAmJiBhY3RpdmUuX29iamVjdHMpIHtcbiAgICAgICAgICByZXR1cm4gYWN0aXZlLl9vYmplY3RzLnNsaWNlKDApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHJldHVybiBbYWN0aXZlXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIFtdO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gb2JqIE9iamVjdCB0aGF0IHdhcyByZW1vdmVkXG4gICAgICovXG4gICAgX29uT2JqZWN0UmVtb3ZlZDogZnVuY3Rpb24ob2JqKSB7XG4gICAgICAvLyByZW1vdmluZyBhY3RpdmUgb2JqZWN0IHNob3VsZCBmaXJlIFwic2VsZWN0aW9uOmNsZWFyZWRcIiBldmVudHNcbiAgICAgIGlmIChvYmogPT09IHRoaXMuX2FjdGl2ZU9iamVjdCkge1xuICAgICAgICB0aGlzLmZpcmUoJ2JlZm9yZTpzZWxlY3Rpb246Y2xlYXJlZCcsIHsgdGFyZ2V0OiBvYmogfSk7XG4gICAgICAgIHRoaXMuX2Rpc2NhcmRBY3RpdmVPYmplY3QoKTtcbiAgICAgICAgdGhpcy5maXJlKCdzZWxlY3Rpb246Y2xlYXJlZCcsIHsgdGFyZ2V0OiBvYmogfSk7XG4gICAgICAgIG9iai5maXJlKCdkZXNlbGVjdGVkJyk7XG4gICAgICB9XG4gICAgICBpZiAob2JqID09PSB0aGlzLl9ob3ZlcmVkVGFyZ2V0KXtcbiAgICAgICAgdGhpcy5faG92ZXJlZFRhcmdldCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2hvdmVyZWRUYXJnZXRzID0gW107XG4gICAgICB9XG4gICAgICB0aGlzLmNhbGxTdXBlcignX29uT2JqZWN0UmVtb3ZlZCcsIG9iaik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQ29tcGFyZXMgdGhlIG9sZCBhY3RpdmVPYmplY3Qgd2l0aCB0aGUgY3VycmVudCBvbmUgYW5kIGZpcmVzIGNvcnJlY3QgZXZlbnRzXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmogb2xkIGFjdGl2ZU9iamVjdFxuICAgICAqL1xuICAgIF9maXJlU2VsZWN0aW9uRXZlbnRzOiBmdW5jdGlvbihvbGRPYmplY3RzLCBlKSB7XG4gICAgICB2YXIgc29tZXRoaW5nQ2hhbmdlZCA9IGZhbHNlLCBvYmplY3RzID0gdGhpcy5nZXRBY3RpdmVPYmplY3RzKCksXG4gICAgICAgICAgYWRkZWQgPSBbXSwgcmVtb3ZlZCA9IFtdO1xuICAgICAgb2xkT2JqZWN0cy5mb3JFYWNoKGZ1bmN0aW9uKG9sZE9iamVjdCkge1xuICAgICAgICBpZiAob2JqZWN0cy5pbmRleE9mKG9sZE9iamVjdCkgPT09IC0xKSB7XG4gICAgICAgICAgc29tZXRoaW5nQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgb2xkT2JqZWN0LmZpcmUoJ2Rlc2VsZWN0ZWQnLCB7XG4gICAgICAgICAgICBlOiBlLFxuICAgICAgICAgICAgdGFyZ2V0OiBvbGRPYmplY3RcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZW1vdmVkLnB1c2gob2xkT2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBvYmplY3RzLmZvckVhY2goZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIGlmIChvbGRPYmplY3RzLmluZGV4T2Yob2JqZWN0KSA9PT0gLTEpIHtcbiAgICAgICAgICBzb21ldGhpbmdDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICBvYmplY3QuZmlyZSgnc2VsZWN0ZWQnLCB7XG4gICAgICAgICAgICBlOiBlLFxuICAgICAgICAgICAgdGFyZ2V0OiBvYmplY3RcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBhZGRlZC5wdXNoKG9iamVjdCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKG9sZE9iamVjdHMubGVuZ3RoID4gMCAmJiBvYmplY3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgc29tZXRoaW5nQ2hhbmdlZCAmJiB0aGlzLmZpcmUoJ3NlbGVjdGlvbjp1cGRhdGVkJywge1xuICAgICAgICAgIGU6IGUsXG4gICAgICAgICAgc2VsZWN0ZWQ6IGFkZGVkLFxuICAgICAgICAgIGRlc2VsZWN0ZWQ6IHJlbW92ZWQsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAob2JqZWN0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRoaXMuZmlyZSgnc2VsZWN0aW9uOmNyZWF0ZWQnLCB7XG4gICAgICAgICAgZTogZSxcbiAgICAgICAgICBzZWxlY3RlZDogYWRkZWQsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAob2xkT2JqZWN0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRoaXMuZmlyZSgnc2VsZWN0aW9uOmNsZWFyZWQnLCB7XG4gICAgICAgICAgZTogZSxcbiAgICAgICAgICBkZXNlbGVjdGVkOiByZW1vdmVkLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyBnaXZlbiBvYmplY3QgYXMgdGhlIG9ubHkgYWN0aXZlIG9iamVjdCBvbiBjYW52YXNcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IG9iamVjdCBPYmplY3QgdG8gc2V0IGFzIGFuIGFjdGl2ZSBvbmVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBbZV0gRXZlbnQgKHBhc3NlZCBhbG9uZyB3aGVuIGZpcmluZyBcIm9iamVjdDpzZWxlY3RlZFwiKVxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgc2V0QWN0aXZlT2JqZWN0OiBmdW5jdGlvbiAob2JqZWN0LCBlKSB7XG4gICAgICB2YXIgY3VycmVudEFjdGl2ZXMgPSB0aGlzLmdldEFjdGl2ZU9iamVjdHMoKTtcbiAgICAgIHRoaXMuX3NldEFjdGl2ZU9iamVjdChvYmplY3QsIGUpO1xuICAgICAgdGhpcy5fZmlyZVNlbGVjdGlvbkV2ZW50cyhjdXJyZW50QWN0aXZlcywgZSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVGhpcyBpcyBhIHByaXZhdGUgbWV0aG9kIGZvciBub3cuXG4gICAgICogVGhpcyBpcyBzdXBwb3NlZCB0byBiZSBlcXVpdmFsZW50IHRvIHNldEFjdGl2ZU9iamVjdCBidXQgd2l0aG91dCBmaXJpbmdcbiAgICAgKiBhbnkgZXZlbnQuIFRoZXJlIGlzIGNvbW1pdG1lbnQgdG8gaGF2ZSB0aGlzIHN0YXkgdGhpcyB3YXkuXG4gICAgICogVGhpcyBpcyB0aGUgZnVuY3Rpb25hbCBwYXJ0IG9mIHNldEFjdGl2ZU9iamVjdC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgdG8gc2V0IGFzIGFjdGl2ZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IFtlXSBFdmVudCAocGFzc2VkIGFsb25nIHdoZW4gZmlyaW5nIFwib2JqZWN0OnNlbGVjdGVkXCIpXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiB0aGUgc2VsZWN0aW9uIGhhcHBlbmVkXG4gICAgICovXG4gICAgX3NldEFjdGl2ZU9iamVjdDogZnVuY3Rpb24ob2JqZWN0LCBlKSB7XG4gICAgICBpZiAodGhpcy5fYWN0aXZlT2JqZWN0ID09PSBvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLl9kaXNjYXJkQWN0aXZlT2JqZWN0KGUsIG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKG9iamVjdC5vblNlbGVjdCh7IGU6IGUgfSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdGhpcy5fYWN0aXZlT2JqZWN0ID0gb2JqZWN0O1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgYSBwcml2YXRlIG1ldGhvZCBmb3Igbm93LlxuICAgICAqIFRoaXMgaXMgc3VwcG9zZWQgdG8gYmUgZXF1aXZhbGVudCB0byBkaXNjYXJkQWN0aXZlT2JqZWN0IGJ1dCB3aXRob3V0IGZpcmluZ1xuICAgICAqIGFueSBldmVudHMuIFRoZXJlIGlzIGNvbW1pdG1lbnQgdG8gaGF2ZSB0aGlzIHN0YXkgdGhpcyB3YXkuXG4gICAgICogVGhpcyBpcyB0aGUgZnVuY3Rpb25hbCBwYXJ0IG9mIGRpc2NhcmRBY3RpdmVPYmplY3QuXG4gICAgICogQHBhcmFtIHtFdmVudH0gW2VdIEV2ZW50IChwYXNzZWQgYWxvbmcgd2hlbiBmaXJpbmcgXCJvYmplY3Q6ZGVzZWxlY3RlZFwiKVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgdG8gc2V0IGFzIGFjdGl2ZVxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgdGhlIHNlbGVjdGlvbiBoYXBwZW5lZFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2Rpc2NhcmRBY3RpdmVPYmplY3Q6IGZ1bmN0aW9uKGUsIG9iamVjdCkge1xuICAgICAgdmFyIG9iaiA9IHRoaXMuX2FjdGl2ZU9iamVjdDtcbiAgICAgIGlmIChvYmopIHtcbiAgICAgICAgLy8gb25EZXNlbGVjdCByZXR1cm4gVFJVRSB0byBjYW5jZWwgc2VsZWN0aW9uO1xuICAgICAgICBpZiAob2JqLm9uRGVzZWxlY3QoeyBlOiBlLCBvYmplY3Q6IG9iamVjdCB9KSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hY3RpdmVPYmplY3QgPSBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERpc2NhcmRzIGN1cnJlbnRseSBhY3RpdmUgb2JqZWN0IGFuZCBmaXJlIGV2ZW50cy4gSWYgdGhlIGZ1bmN0aW9uIGlzIGNhbGxlZCBieSBmYWJyaWNcbiAgICAgKiBhcyBhIGNvbnNlcXVlbmNlIG9mIGEgbW91c2UgZXZlbnQsIHRoZSBldmVudCBpcyBwYXNzZWQgYXMgYSBwYXJhbWV0ZXIgYW5kXG4gICAgICogc2VudCB0byB0aGUgZmlyZSBmdW5jdGlvbiBmb3IgdGhlIGN1c3RvbSBldmVudHMuIFdoZW4gdXNlZCBhcyBhIG1ldGhvZCB0aGVcbiAgICAgKiBlIHBhcmFtIGRvZXMgbm90IGhhdmUgYW55IGFwcGxpY2F0aW9uLlxuICAgICAqIEBwYXJhbSB7ZXZlbnR9IGVcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGRpc2NhcmRBY3RpdmVPYmplY3Q6IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgY3VycmVudEFjdGl2ZXMgPSB0aGlzLmdldEFjdGl2ZU9iamVjdHMoKSwgYWN0aXZlT2JqZWN0ID0gdGhpcy5nZXRBY3RpdmVPYmplY3QoKTtcbiAgICAgIGlmIChjdXJyZW50QWN0aXZlcy5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5maXJlKCdiZWZvcmU6c2VsZWN0aW9uOmNsZWFyZWQnLCB7IHRhcmdldDogYWN0aXZlT2JqZWN0LCBlOiBlIH0pO1xuICAgICAgfVxuICAgICAgdGhpcy5fZGlzY2FyZEFjdGl2ZU9iamVjdChlKTtcbiAgICAgIHRoaXMuX2ZpcmVTZWxlY3Rpb25FdmVudHMoY3VycmVudEFjdGl2ZXMsIGUpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENsZWFycyBhIGNhbnZhcyBlbGVtZW50IGFuZCByZW1vdmVzIGFsbCBldmVudCBsaXN0ZW5lcnNcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGRpc3Bvc2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB3cmFwcGVyID0gdGhpcy53cmFwcGVyRWw7XG4gICAgICB0aGlzLnJlbW92ZUxpc3RlbmVycygpO1xuICAgICAgd3JhcHBlci5yZW1vdmVDaGlsZCh0aGlzLnVwcGVyQ2FudmFzRWwpO1xuICAgICAgd3JhcHBlci5yZW1vdmVDaGlsZCh0aGlzLmxvd2VyQ2FudmFzRWwpO1xuICAgICAgdGhpcy5jb250ZXh0Q2FjaGUgPSBudWxsO1xuICAgICAgdGhpcy5jb250ZXh0VG9wID0gbnVsbDtcbiAgICAgIFsndXBwZXJDYW52YXNFbCcsICdjYWNoZUNhbnZhc0VsJ10uZm9yRWFjaCgoZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICBmYWJyaWMudXRpbC5jbGVhblVwSnNkb21Ob2RlKHRoaXNbZWxlbWVudF0pO1xuICAgICAgICB0aGlzW2VsZW1lbnRdID0gdW5kZWZpbmVkO1xuICAgICAgfSkuYmluZCh0aGlzKSk7XG4gICAgICBpZiAod3JhcHBlci5wYXJlbnROb2RlKSB7XG4gICAgICAgIHdyYXBwZXIucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQodGhpcy5sb3dlckNhbnZhc0VsLCB0aGlzLndyYXBwZXJFbCk7XG4gICAgICB9XG4gICAgICBkZWxldGUgdGhpcy53cmFwcGVyRWw7XG4gICAgICBmYWJyaWMuU3RhdGljQ2FudmFzLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIGFsbCBjb250ZXh0cyAoYmFja2dyb3VuZCwgbWFpbiwgdG9wKSBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgY2xlYXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIHRoaXMuZGlzY2FyZEFjdGl2ZUdyb3VwKCk7XG4gICAgICB0aGlzLmRpc2NhcmRBY3RpdmVPYmplY3QoKTtcbiAgICAgIHRoaXMuY2xlYXJDb250ZXh0KHRoaXMuY29udGV4dFRvcCk7XG4gICAgICByZXR1cm4gdGhpcy5jYWxsU3VwZXIoJ2NsZWFyJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERyYXdzIG9iamVjdHMnIGNvbnRyb2xzIChib3JkZXJzL2NvbnRyb2xzKVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgY29udHJvbHMgb25cbiAgICAgKi9cbiAgICBkcmF3Q29udHJvbHM6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgdmFyIGFjdGl2ZU9iamVjdCA9IHRoaXMuX2FjdGl2ZU9iamVjdDtcblxuICAgICAgaWYgKGFjdGl2ZU9iamVjdCkge1xuICAgICAgICBhY3RpdmVPYmplY3QuX3JlbmRlckNvbnRyb2xzKGN0eCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3RvT2JqZWN0OiBmdW5jdGlvbihpbnN0YW5jZSwgbWV0aG9kTmFtZSwgcHJvcGVydGllc1RvSW5jbHVkZSkge1xuICAgICAgLy9JZiB0aGUgb2JqZWN0IGlzIHBhcnQgb2YgdGhlIGN1cnJlbnQgc2VsZWN0aW9uIGdyb3VwLCBpdCBzaG91bGRcbiAgICAgIC8vYmUgdHJhbnNmb3JtZWQgYXBwcm9wcmlhdGVseVxuICAgICAgLy9pLmUuIGl0IHNob3VsZCBiZSBzZXJpYWxpc2VkIGFzIGl0IHdvdWxkIGFwcGVhciBpZiB0aGUgc2VsZWN0aW9uIGdyb3VwXG4gICAgICAvL3dlcmUgdG8gYmUgZGVzdHJveWVkLlxuICAgICAgdmFyIG9yaWdpbmFsUHJvcGVydGllcyA9IHRoaXMuX3JlYWxpemVHcm91cFRyYW5zZm9ybU9uT2JqZWN0KGluc3RhbmNlKSxcbiAgICAgICAgICBvYmplY3QgPSB0aGlzLmNhbGxTdXBlcignX3RvT2JqZWN0JywgaW5zdGFuY2UsIG1ldGhvZE5hbWUsIHByb3BlcnRpZXNUb0luY2x1ZGUpO1xuICAgICAgLy9VbmRvIHRoZSBkYW1hZ2Ugd2UgZGlkIGJ5IGNoYW5naW5nIGFsbCBvZiBpdHMgcHJvcGVydGllc1xuICAgICAgdGhpcy5fdW53aW5kR3JvdXBUcmFuc2Zvcm1Pbk9iamVjdChpbnN0YW5jZSwgb3JpZ2luYWxQcm9wZXJ0aWVzKTtcbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlYWxpc2VzIGFuIG9iamVjdCdzIGdyb3VwIHRyYW5zZm9ybWF0aW9uIG9uIGl0XG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IFtpbnN0YW5jZV0gdGhlIG9iamVjdCB0byB0cmFuc2Zvcm0gKGdldHMgbXV0YXRlZClcbiAgICAgKiBAcmV0dXJucyB0aGUgb3JpZ2luYWwgdmFsdWVzIG9mIGluc3RhbmNlIHdoaWNoIHdlcmUgY2hhbmdlZFxuICAgICAqL1xuICAgIF9yZWFsaXplR3JvdXBUcmFuc2Zvcm1Pbk9iamVjdDogZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgICAgIGlmIChpbnN0YW5jZS5ncm91cCAmJiBpbnN0YW5jZS5ncm91cC50eXBlID09PSAnYWN0aXZlU2VsZWN0aW9uJyAmJiB0aGlzLl9hY3RpdmVPYmplY3QgPT09IGluc3RhbmNlLmdyb3VwKSB7XG4gICAgICAgIHZhciBsYXlvdXRQcm9wcyA9IFsnYW5nbGUnLCAnZmxpcFgnLCAnZmxpcFknLCAnbGVmdCcsICdzY2FsZVgnLCAnc2NhbGVZJywgJ3NrZXdYJywgJ3NrZXdZJywgJ3RvcCddO1xuICAgICAgICAvL0NvcHkgYWxsIHRoZSBwb3NpdGlvbmFsbHkgcmVsZXZhbnQgcHJvcGVydGllcyBhY3Jvc3Mgbm93XG4gICAgICAgIHZhciBvcmlnaW5hbFZhbHVlcyA9IHt9O1xuICAgICAgICBsYXlvdXRQcm9wcy5mb3JFYWNoKGZ1bmN0aW9uKHByb3ApIHtcbiAgICAgICAgICBvcmlnaW5hbFZhbHVlc1twcm9wXSA9IGluc3RhbmNlW3Byb3BdO1xuICAgICAgICB9KTtcbiAgICAgICAgZmFicmljLnV0aWwuYWRkVHJhbnNmb3JtVG9PYmplY3QoaW5zdGFuY2UsIHRoaXMuX2FjdGl2ZU9iamVjdC5jYWxjT3duTWF0cml4KCkpO1xuICAgICAgICByZXR1cm4gb3JpZ2luYWxWYWx1ZXM7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlc3RvcmVzIHRoZSBjaGFuZ2VkIHByb3BlcnRpZXMgb2YgaW5zdGFuY2VcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gW2luc3RhbmNlXSB0aGUgb2JqZWN0IHRvIHVuLXRyYW5zZm9ybSAoZ2V0cyBtdXRhdGVkKVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3JpZ2luYWxWYWx1ZXNdIHRoZSBvcmlnaW5hbCB2YWx1ZXMgb2YgaW5zdGFuY2UsIGFzIHJldHVybmVkIGJ5IF9yZWFsaXplR3JvdXBUcmFuc2Zvcm1Pbk9iamVjdFxuICAgICAqL1xuICAgIF91bndpbmRHcm91cFRyYW5zZm9ybU9uT2JqZWN0OiBmdW5jdGlvbihpbnN0YW5jZSwgb3JpZ2luYWxWYWx1ZXMpIHtcbiAgICAgIGlmIChvcmlnaW5hbFZhbHVlcykge1xuICAgICAgICBpbnN0YW5jZS5zZXQob3JpZ2luYWxWYWx1ZXMpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9zZXRTVkdPYmplY3Q6IGZ1bmN0aW9uKG1hcmt1cCwgaW5zdGFuY2UsIHJldml2ZXIpIHtcbiAgICAgIC8vSWYgdGhlIG9iamVjdCBpcyBpbiBhIHNlbGVjdGlvbiBncm91cCwgc2ltdWxhdGUgd2hhdCB3b3VsZCBoYXBwZW4gdG8gdGhhdFxuICAgICAgLy9vYmplY3Qgd2hlbiB0aGUgZ3JvdXAgaXMgZGVzZWxlY3RlZFxuICAgICAgdmFyIG9yaWdpbmFsUHJvcGVydGllcyA9IHRoaXMuX3JlYWxpemVHcm91cFRyYW5zZm9ybU9uT2JqZWN0KGluc3RhbmNlKTtcbiAgICAgIHRoaXMuY2FsbFN1cGVyKCdfc2V0U1ZHT2JqZWN0JywgbWFya3VwLCBpbnN0YW5jZSwgcmV2aXZlcik7XG4gICAgICB0aGlzLl91bndpbmRHcm91cFRyYW5zZm9ybU9uT2JqZWN0KGluc3RhbmNlLCBvcmlnaW5hbFByb3BlcnRpZXMpO1xuICAgIH0sXG5cbiAgICBzZXRWaWV3cG9ydFRyYW5zZm9ybTogZnVuY3Rpb24gKHZwdCkge1xuICAgICAgaWYgKHRoaXMucmVuZGVyT25BZGRSZW1vdmUgJiYgdGhpcy5fYWN0aXZlT2JqZWN0ICYmIHRoaXMuX2FjdGl2ZU9iamVjdC5pc0VkaXRpbmcpIHtcbiAgICAgICAgdGhpcy5fYWN0aXZlT2JqZWN0LmNsZWFyQ29udGV4dFRvcCgpO1xuICAgICAgfVxuICAgICAgZmFicmljLlN0YXRpY0NhbnZhcy5wcm90b3R5cGUuc2V0Vmlld3BvcnRUcmFuc2Zvcm0uY2FsbCh0aGlzLCB2cHQpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gY29weWluZyBzdGF0aWMgcHJvcGVydGllcyBtYW51YWxseSB0byB3b3JrIGFyb3VuZCBPcGVyYSdzIGJ1ZyxcbiAgLy8gd2hlcmUgXCJwcm90b3R5cGVcIiBwcm9wZXJ0eSBpcyBlbnVtZXJhYmxlIGFuZCBvdmVycmlkZXMgZXhpc3RpbmcgcHJvdG90eXBlXG4gIGZvciAodmFyIHByb3AgaW4gZmFicmljLlN0YXRpY0NhbnZhcykge1xuICAgIGlmIChwcm9wICE9PSAncHJvdG90eXBlJykge1xuICAgICAgZmFicmljLkNhbnZhc1twcm9wXSA9IGZhYnJpYy5TdGF0aWNDYW52YXNbcHJvcF07XG4gICAgfVxuICB9XG59KSgpO1xuXG5cbihmdW5jdGlvbigpIHtcblxuICB2YXIgYWRkTGlzdGVuZXIgPSBmYWJyaWMudXRpbC5hZGRMaXN0ZW5lcixcbiAgICAgIHJlbW92ZUxpc3RlbmVyID0gZmFicmljLnV0aWwucmVtb3ZlTGlzdGVuZXIsXG4gICAgICBSSUdIVF9DTElDSyA9IDMsIE1JRERMRV9DTElDSyA9IDIsIExFRlRfQ0xJQ0sgPSAxLFxuICAgICAgYWRkRXZlbnRPcHRpb25zID0geyBwYXNzaXZlOiBmYWxzZSB9O1xuXG4gIGZ1bmN0aW9uIGNoZWNrQ2xpY2soZSwgdmFsdWUpIHtcbiAgICByZXR1cm4gZS5idXR0b24gJiYgKGUuYnV0dG9uID09PSB2YWx1ZSAtIDEpO1xuICB9XG5cbiAgZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZChmYWJyaWMuQ2FudmFzLnByb3RvdHlwZSwgLyoqIEBsZW5kcyBmYWJyaWMuQ2FudmFzLnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBDb250YWlucyB0aGUgaWQgb2YgdGhlIHRvdWNoIGV2ZW50IHRoYXQgb3ducyB0aGUgZmFicmljIHRyYW5zZm9ybVxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgbWFpblRvdWNoSWQ6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIG1vdXNlIGxpc3RlbmVycyB0byBjYW52YXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pbml0RXZlbnRMaXN0ZW5lcnM6IGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIGluIGNhc2Ugd2UgaW5pdGlhbGl6ZWQgdGhlIGNsYXNzIHR3aWNlLiBUaGlzIHNob3VsZCBub3QgaGFwcGVuIG5vcm1hbGx5XG4gICAgICAvLyBidXQgaW4gc29tZSBraW5kIG9mIGFwcGxpY2F0aW9ucyB3aGVyZSB0aGUgY2FudmFzIGVsZW1lbnQgbWF5IGJlIGNoYW5nZWRcbiAgICAgIC8vIHRoaXMgaXMgYSB3b3JrYXJvdW5kIHRvIGhhdmluZyBkb3VibGUgbGlzdGVuZXJzLlxuICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcnMoKTtcbiAgICAgIHRoaXMuX2JpbmRFdmVudHMoKTtcbiAgICAgIHRoaXMuYWRkT3JSZW1vdmUoYWRkTGlzdGVuZXIsICdhZGQnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmV0dXJuIGFuIGV2ZW50IHByZWZpeCBwb2ludGVyIG9yIG1vdXNlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2dldEV2ZW50UHJlZml4OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbmFibGVQb2ludGVyRXZlbnRzID8gJ3BvaW50ZXInIDogJ21vdXNlJztcbiAgICB9LFxuXG4gICAgYWRkT3JSZW1vdmU6IGZ1bmN0aW9uKGZ1bmN0b3IsIGV2ZW50anNGdW5jdG9yKSB7XG4gICAgICB2YXIgY2FudmFzRWxlbWVudCA9IHRoaXMudXBwZXJDYW52YXNFbCxcbiAgICAgICAgICBldmVudFR5cGVQcmVmaXggPSB0aGlzLl9nZXRFdmVudFByZWZpeCgpO1xuICAgICAgZnVuY3RvcihmYWJyaWMud2luZG93LCAncmVzaXplJywgdGhpcy5fb25SZXNpemUpO1xuICAgICAgZnVuY3RvcihjYW52YXNFbGVtZW50LCBldmVudFR5cGVQcmVmaXggKyAnZG93bicsIHRoaXMuX29uTW91c2VEb3duKTtcbiAgICAgIGZ1bmN0b3IoY2FudmFzRWxlbWVudCwgZXZlbnRUeXBlUHJlZml4ICsgJ21vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwgYWRkRXZlbnRPcHRpb25zKTtcbiAgICAgIGZ1bmN0b3IoY2FudmFzRWxlbWVudCwgZXZlbnRUeXBlUHJlZml4ICsgJ291dCcsIHRoaXMuX29uTW91c2VPdXQpO1xuICAgICAgZnVuY3RvcihjYW52YXNFbGVtZW50LCBldmVudFR5cGVQcmVmaXggKyAnZW50ZXInLCB0aGlzLl9vbk1vdXNlRW50ZXIpO1xuICAgICAgZnVuY3RvcihjYW52YXNFbGVtZW50LCAnd2hlZWwnLCB0aGlzLl9vbk1vdXNlV2hlZWwpO1xuICAgICAgZnVuY3RvcihjYW52YXNFbGVtZW50LCAnY29udGV4dG1lbnUnLCB0aGlzLl9vbkNvbnRleHRNZW51KTtcbiAgICAgIGZ1bmN0b3IoY2FudmFzRWxlbWVudCwgJ2RibGNsaWNrJywgdGhpcy5fb25Eb3VibGVDbGljayk7XG4gICAgICBmdW5jdG9yKGNhbnZhc0VsZW1lbnQsICdkcmFnb3ZlcicsIHRoaXMuX29uRHJhZ092ZXIpO1xuICAgICAgZnVuY3RvcihjYW52YXNFbGVtZW50LCAnZHJhZ2VudGVyJywgdGhpcy5fb25EcmFnRW50ZXIpO1xuICAgICAgZnVuY3RvcihjYW52YXNFbGVtZW50LCAnZHJhZ2xlYXZlJywgdGhpcy5fb25EcmFnTGVhdmUpO1xuICAgICAgZnVuY3RvcihjYW52YXNFbGVtZW50LCAnZHJvcCcsIHRoaXMuX29uRHJvcCk7XG4gICAgICBpZiAoIXRoaXMuZW5hYmxlUG9pbnRlckV2ZW50cykge1xuICAgICAgICBmdW5jdG9yKGNhbnZhc0VsZW1lbnQsICd0b3VjaHN0YXJ0JywgdGhpcy5fb25Ub3VjaFN0YXJ0LCBhZGRFdmVudE9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBldmVudGpzICE9PSAndW5kZWZpbmVkJyAmJiBldmVudGpzRnVuY3RvciBpbiBldmVudGpzKSB7XG4gICAgICAgIGV2ZW50anNbZXZlbnRqc0Z1bmN0b3JdKGNhbnZhc0VsZW1lbnQsICdnZXN0dXJlJywgdGhpcy5fb25HZXN0dXJlKTtcbiAgICAgICAgZXZlbnRqc1tldmVudGpzRnVuY3Rvcl0oY2FudmFzRWxlbWVudCwgJ2RyYWcnLCB0aGlzLl9vbkRyYWcpO1xuICAgICAgICBldmVudGpzW2V2ZW50anNGdW5jdG9yXShjYW52YXNFbGVtZW50LCAnb3JpZW50YXRpb24nLCB0aGlzLl9vbk9yaWVudGF0aW9uQ2hhbmdlKTtcbiAgICAgICAgZXZlbnRqc1tldmVudGpzRnVuY3Rvcl0oY2FudmFzRWxlbWVudCwgJ3NoYWtlJywgdGhpcy5fb25TaGFrZSk7XG4gICAgICAgIGV2ZW50anNbZXZlbnRqc0Z1bmN0b3JdKGNhbnZhc0VsZW1lbnQsICdsb25ncHJlc3MnLCB0aGlzLl9vbkxvbmdQcmVzcyk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGV2ZW50IGxpc3RlbmVyc1xuICAgICAqL1xuICAgIHJlbW92ZUxpc3RlbmVyczogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmFkZE9yUmVtb3ZlKHJlbW92ZUxpc3RlbmVyLCAncmVtb3ZlJyk7XG4gICAgICAvLyBpZiB5b3UgZGlzcG9zZSBvbiBhIG1vdXNlRG93biwgYmVmb3JlIG1vdXNlIHVwLCB5b3UgbmVlZCB0byBjbGVhbiBkb2N1bWVudCB0by4uLlxuICAgICAgdmFyIGV2ZW50VHlwZVByZWZpeCA9IHRoaXMuX2dldEV2ZW50UHJlZml4KCk7XG4gICAgICByZW1vdmVMaXN0ZW5lcihmYWJyaWMuZG9jdW1lbnQsIGV2ZW50VHlwZVByZWZpeCArICd1cCcsIHRoaXMuX29uTW91c2VVcCk7XG4gICAgICByZW1vdmVMaXN0ZW5lcihmYWJyaWMuZG9jdW1lbnQsICd0b3VjaGVuZCcsIHRoaXMuX29uVG91Y2hFbmQsIGFkZEV2ZW50T3B0aW9ucyk7XG4gICAgICByZW1vdmVMaXN0ZW5lcihmYWJyaWMuZG9jdW1lbnQsIGV2ZW50VHlwZVByZWZpeCArICdtb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUsIGFkZEV2ZW50T3B0aW9ucyk7XG4gICAgICByZW1vdmVMaXN0ZW5lcihmYWJyaWMuZG9jdW1lbnQsICd0b3VjaG1vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwgYWRkRXZlbnRPcHRpb25zKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfYmluZEV2ZW50czogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5ldmVudHNCb3VuZCkge1xuICAgICAgICAvLyBmb3IgYW55IHJlYXNvbiB3ZSBwYXNzIGhlcmUgdHdpY2Ugd2UgZG8gbm90IHdhbnQgdG8gYmluZCBldmVudHMgdHdpY2UuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuX29uTW91c2VEb3duID0gdGhpcy5fb25Nb3VzZURvd24uYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX29uVG91Y2hTdGFydCA9IHRoaXMuX29uVG91Y2hTdGFydC5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5fb25Nb3VzZU1vdmUgPSB0aGlzLl9vbk1vdXNlTW92ZS5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5fb25Nb3VzZVVwID0gdGhpcy5fb25Nb3VzZVVwLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9vblRvdWNoRW5kID0gdGhpcy5fb25Ub3VjaEVuZC5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5fb25SZXNpemUgPSB0aGlzLl9vblJlc2l6ZS5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5fb25HZXN0dXJlID0gdGhpcy5fb25HZXN0dXJlLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9vbkRyYWcgPSB0aGlzLl9vbkRyYWcuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX29uU2hha2UgPSB0aGlzLl9vblNoYWtlLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9vbkxvbmdQcmVzcyA9IHRoaXMuX29uTG9uZ1ByZXNzLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9vbk9yaWVudGF0aW9uQ2hhbmdlID0gdGhpcy5fb25PcmllbnRhdGlvbkNoYW5nZS5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5fb25Nb3VzZVdoZWVsID0gdGhpcy5fb25Nb3VzZVdoZWVsLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9vbk1vdXNlT3V0ID0gdGhpcy5fb25Nb3VzZU91dC5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5fb25Nb3VzZUVudGVyID0gdGhpcy5fb25Nb3VzZUVudGVyLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9vbkNvbnRleHRNZW51ID0gdGhpcy5fb25Db250ZXh0TWVudS5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5fb25Eb3VibGVDbGljayA9IHRoaXMuX29uRG91YmxlQ2xpY2suYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX29uRHJhZ092ZXIgPSB0aGlzLl9vbkRyYWdPdmVyLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9vbkRyYWdFbnRlciA9IHRoaXMuX3NpbXBsZUV2ZW50SGFuZGxlci5iaW5kKHRoaXMsICdkcmFnZW50ZXInKTtcbiAgICAgIHRoaXMuX29uRHJhZ0xlYXZlID0gdGhpcy5fc2ltcGxlRXZlbnRIYW5kbGVyLmJpbmQodGhpcywgJ2RyYWdsZWF2ZScpO1xuICAgICAgdGhpcy5fb25Ecm9wID0gdGhpcy5fb25Ecm9wLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLmV2ZW50c0JvdW5kID0gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBbZV0gRXZlbnQgb2JqZWN0IGZpcmVkIG9uIEV2ZW50LmpzIGdlc3R1cmVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBbc2VsZl0gSW5uZXIgRXZlbnQgb2JqZWN0XG4gICAgICovXG4gICAgX29uR2VzdHVyZTogZnVuY3Rpb24oZSwgc2VsZikge1xuICAgICAgdGhpcy5fX29uVHJhbnNmb3JtR2VzdHVyZSAmJiB0aGlzLl9fb25UcmFuc2Zvcm1HZXN0dXJlKGUsIHNlbGYpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IFtlXSBFdmVudCBvYmplY3QgZmlyZWQgb24gRXZlbnQuanMgZHJhZ1xuICAgICAqIEBwYXJhbSB7RXZlbnR9IFtzZWxmXSBJbm5lciBFdmVudCBvYmplY3RcbiAgICAgKi9cbiAgICBfb25EcmFnOiBmdW5jdGlvbihlLCBzZWxmKSB7XG4gICAgICB0aGlzLl9fb25EcmFnICYmIHRoaXMuX19vbkRyYWcoZSwgc2VsZik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gW2VdIEV2ZW50IG9iamVjdCBmaXJlZCBvbiB3aGVlbCBldmVudFxuICAgICAqL1xuICAgIF9vbk1vdXNlV2hlZWw6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIHRoaXMuX19vbk1vdXNlV2hlZWwoZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3QgZmlyZWQgb24gbW91c2Vkb3duXG4gICAgICovXG4gICAgX29uTW91c2VPdXQ6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciB0YXJnZXQgPSB0aGlzLl9ob3ZlcmVkVGFyZ2V0O1xuICAgICAgdGhpcy5maXJlKCdtb3VzZTpvdXQnLCB7IHRhcmdldDogdGFyZ2V0LCBlOiBlIH0pO1xuICAgICAgdGhpcy5faG92ZXJlZFRhcmdldCA9IG51bGw7XG4gICAgICB0YXJnZXQgJiYgdGFyZ2V0LmZpcmUoJ21vdXNlb3V0JywgeyBlOiBlIH0pO1xuXG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgdGhpcy5faG92ZXJlZFRhcmdldHMuZm9yRWFjaChmdW5jdGlvbihfdGFyZ2V0KXtcbiAgICAgICAgX3RoaXMuZmlyZSgnbW91c2U6b3V0JywgeyB0YXJnZXQ6IHRhcmdldCwgZTogZSB9KTtcbiAgICAgICAgX3RhcmdldCAmJiB0YXJnZXQuZmlyZSgnbW91c2VvdXQnLCB7IGU6IGUgfSk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuX2hvdmVyZWRUYXJnZXRzID0gW107XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3QgZmlyZWQgb24gbW91c2VlbnRlclxuICAgICAqL1xuICAgIF9vbk1vdXNlRW50ZXI6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIC8vIFRoaXMgZmluZCB0YXJnZXQgYW5kIGNvbnNlcXVlbnQgJ21vdXNlOm92ZXInIGlzIHVzZWQgdG9cbiAgICAgIC8vIGNsZWFyIG9sZCBpbnN0YW5jZXMgb24gaG92ZXJlZCB0YXJnZXQuXG4gICAgICAvLyBjYWxsaW5nIGZpbmRUYXJnZXQgaGFzIHRoZSBzaWRlIGVmZmVjdCBvZiBraWxsaW5nIHRhcmdldC5fX2Nvcm5lci5cbiAgICAgIC8vIGFzIGEgc2hvcnQgdGVybSBmaXggd2UgYXJlIG5vdCBmaXJpbmcgdGhpcyBpZiB3ZSBhcmUgY3VycmVudGx5IHRyYW5zZm9ybWluZy5cbiAgICAgIC8vIGFzIGEgbG9uZyB0ZXJtIGZpeCB3ZSBuZWVkIHRvIHNlcGFyYXRlIHRoZSBhY3Rpb24gb2YgZmluZGluZyBhIHRhcmdldCB3aXRoIHRoZVxuICAgICAgLy8gc2lkZSBlZmZlY3RzIHdlIGFkZGVkIHRvIGl0LlxuICAgICAgaWYgKCF0aGlzLl9jdXJyZW50VHJhbnNmb3JtICYmICF0aGlzLmZpbmRUYXJnZXQoZSkpIHtcbiAgICAgICAgdGhpcy5maXJlKCdtb3VzZTpvdmVyJywgeyB0YXJnZXQ6IG51bGwsIGU6IGUgfSk7XG4gICAgICAgIHRoaXMuX2hvdmVyZWRUYXJnZXQgPSBudWxsO1xuICAgICAgICB0aGlzLl9ob3ZlcmVkVGFyZ2V0cyA9IFtdO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IFtlXSBFdmVudCBvYmplY3QgZmlyZWQgb24gRXZlbnQuanMgb3JpZW50YXRpb24gY2hhbmdlXG4gICAgICogQHBhcmFtIHtFdmVudH0gW3NlbGZdIElubmVyIEV2ZW50IG9iamVjdFxuICAgICAqL1xuICAgIF9vbk9yaWVudGF0aW9uQ2hhbmdlOiBmdW5jdGlvbihlLCBzZWxmKSB7XG4gICAgICB0aGlzLl9fb25PcmllbnRhdGlvbkNoYW5nZSAmJiB0aGlzLl9fb25PcmllbnRhdGlvbkNoYW5nZShlLCBzZWxmKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBbZV0gRXZlbnQgb2JqZWN0IGZpcmVkIG9uIEV2ZW50LmpzIHNoYWtlXG4gICAgICogQHBhcmFtIHtFdmVudH0gW3NlbGZdIElubmVyIEV2ZW50IG9iamVjdFxuICAgICAqL1xuICAgIF9vblNoYWtlOiBmdW5jdGlvbihlLCBzZWxmKSB7XG4gICAgICB0aGlzLl9fb25TaGFrZSAmJiB0aGlzLl9fb25TaGFrZShlLCBzZWxmKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBbZV0gRXZlbnQgb2JqZWN0IGZpcmVkIG9uIEV2ZW50LmpzIHNoYWtlXG4gICAgICogQHBhcmFtIHtFdmVudH0gW3NlbGZdIElubmVyIEV2ZW50IG9iamVjdFxuICAgICAqL1xuICAgIF9vbkxvbmdQcmVzczogZnVuY3Rpb24oZSwgc2VsZikge1xuICAgICAgdGhpcy5fX29uTG9uZ1ByZXNzICYmIHRoaXMuX19vbkxvbmdQcmVzcyhlLCBzZWxmKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcHJldmVudCBkZWZhdWx0IHRvIGFsbG93IGRyb3AgZXZlbnQgdG8gYmUgZmlyZWRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IFtlXSBFdmVudCBvYmplY3QgZmlyZWQgb24gRXZlbnQuanMgc2hha2VcbiAgICAgKi9cbiAgICBfb25EcmFnT3ZlcjogZnVuY3Rpb24oZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdmFyIHRhcmdldCA9IHRoaXMuX3NpbXBsZUV2ZW50SGFuZGxlcignZHJhZ292ZXInLCBlKTtcbiAgICAgIHRoaXMuX2ZpcmVFbnRlckxlYXZlRXZlbnRzKHRhcmdldCwgZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGBkcm9wOmJlZm9yZWAgaXMgYSBhbiBldmVudCB0aGF0IGFsbG93IHlvdSB0byBzY2hlZHVsZSBsb2dpY1xuICAgICAqIGJlZm9yZSB0aGUgYGRyb3BgIGV2ZW50LiBQcmVmZXIgYGRyb3BgIGV2ZW50IGFsd2F5cywgYnV0IGlmIHlvdSBuZWVkXG4gICAgICogdG8gcnVuIHNvbWUgZHJvcC1kaXNhYmxpbmcgbG9naWMgb24gYW4gZXZlbnQsIHNpbmNlIHRoZXJlIGlzIG5vIHdheVxuICAgICAqIHRvIGhhbmRsZSBldmVudCBoYW5kbGVycyBvcmRlcmluZywgdXNlIGBkcm9wOmJlZm9yZWBcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAgICovXG4gICAgX29uRHJvcDogZnVuY3Rpb24gKGUpIHtcbiAgICAgIHRoaXMuX3NpbXBsZUV2ZW50SGFuZGxlcignZHJvcDpiZWZvcmUnLCBlKTtcbiAgICAgIHJldHVybiB0aGlzLl9zaW1wbGVFdmVudEhhbmRsZXIoJ2Ryb3AnLCBlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdCBmaXJlZCBvbiBtb3VzZWRvd25cbiAgICAgKi9cbiAgICBfb25Db250ZXh0TWVudTogZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmICh0aGlzLnN0b3BDb250ZXh0TWVudSkge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3QgZmlyZWQgb24gbW91c2Vkb3duXG4gICAgICovXG4gICAgX29uRG91YmxlQ2xpY2s6IGZ1bmN0aW9uIChlKSB7XG4gICAgICB0aGlzLl9jYWNoZVRyYW5zZm9ybUV2ZW50RGF0YShlKTtcbiAgICAgIHRoaXMuX2hhbmRsZUV2ZW50KGUsICdkYmxjbGljaycpO1xuICAgICAgdGhpcy5fcmVzZXRUcmFuc2Zvcm1FdmVudERhdGEoZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiBhIHRoZSBpZCBvZiBhbiBldmVudC5cbiAgICAgKiByZXR1cm5zIGVpdGhlciB0aGUgcG9pbnRlcklkIG9yIHRoZSBpZGVudGlmaWVyIG9yIDAgZm9yIHRoZSBtb3VzZSBldmVudFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZ0IEV2ZW50IG9iamVjdFxuICAgICAqL1xuICAgIGdldFBvaW50ZXJJZDogZnVuY3Rpb24oZXZ0KSB7XG4gICAgICB2YXIgY2hhbmdlZFRvdWNoZXMgPSBldnQuY2hhbmdlZFRvdWNoZXM7XG5cbiAgICAgIGlmIChjaGFuZ2VkVG91Y2hlcykge1xuICAgICAgICByZXR1cm4gY2hhbmdlZFRvdWNoZXNbMF0gJiYgY2hhbmdlZFRvdWNoZXNbMF0uaWRlbnRpZmllcjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuZW5hYmxlUG9pbnRlckV2ZW50cykge1xuICAgICAgICByZXR1cm4gZXZ0LnBvaW50ZXJJZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIC0xO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIGFuIGV2ZW50IGhhcyB0aGUgaWQgb2YgdGhlIGV2ZW50IHRoYXQgaXMgY29uc2lkZXJlZCBtYWluXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2V2dH0gZXZlbnQgRXZlbnQgb2JqZWN0XG4gICAgICovXG4gICAgX2lzTWFpbkV2ZW50OiBmdW5jdGlvbihldnQpIHtcbiAgICAgIGlmIChldnQuaXNQcmltYXJ5ID09PSB0cnVlKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKGV2dC5pc1ByaW1hcnkgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChldnQudHlwZSA9PT0gJ3RvdWNoZW5kJyAmJiBldnQudG91Y2hlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoZXZ0LmNoYW5nZWRUb3VjaGVzKSB7XG4gICAgICAgIHJldHVybiBldnQuY2hhbmdlZFRvdWNoZXNbMF0uaWRlbnRpZmllciA9PT0gdGhpcy5tYWluVG91Y2hJZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0IGZpcmVkIG9uIG1vdXNlZG93blxuICAgICAqL1xuICAgIF9vblRvdWNoU3RhcnQ6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICh0aGlzLm1haW5Ub3VjaElkID09PSBudWxsKSB7XG4gICAgICAgIHRoaXMubWFpblRvdWNoSWQgPSB0aGlzLmdldFBvaW50ZXJJZChlKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX19vbk1vdXNlRG93bihlKTtcbiAgICAgIHRoaXMuX3Jlc2V0VHJhbnNmb3JtRXZlbnREYXRhKCk7XG4gICAgICB2YXIgY2FudmFzRWxlbWVudCA9IHRoaXMudXBwZXJDYW52YXNFbCxcbiAgICAgICAgICBldmVudFR5cGVQcmVmaXggPSB0aGlzLl9nZXRFdmVudFByZWZpeCgpO1xuICAgICAgYWRkTGlzdGVuZXIoZmFicmljLmRvY3VtZW50LCAndG91Y2hlbmQnLCB0aGlzLl9vblRvdWNoRW5kLCBhZGRFdmVudE9wdGlvbnMpO1xuICAgICAgYWRkTGlzdGVuZXIoZmFicmljLmRvY3VtZW50LCAndG91Y2htb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUsIGFkZEV2ZW50T3B0aW9ucyk7XG4gICAgICAvLyBVbmJpbmQgbW91c2Vkb3duIHRvIHByZXZlbnQgZG91YmxlIHRyaWdnZXJzIGZyb20gdG91Y2ggZGV2aWNlc1xuICAgICAgcmVtb3ZlTGlzdGVuZXIoY2FudmFzRWxlbWVudCwgZXZlbnRUeXBlUHJlZml4ICsgJ2Rvd24nLCB0aGlzLl9vbk1vdXNlRG93bik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3QgZmlyZWQgb24gbW91c2Vkb3duXG4gICAgICovXG4gICAgX29uTW91c2VEb3duOiBmdW5jdGlvbiAoZSkge1xuICAgICAgdGhpcy5fX29uTW91c2VEb3duKGUpO1xuICAgICAgdGhpcy5fcmVzZXRUcmFuc2Zvcm1FdmVudERhdGEoKTtcbiAgICAgIHZhciBjYW52YXNFbGVtZW50ID0gdGhpcy51cHBlckNhbnZhc0VsLFxuICAgICAgICAgIGV2ZW50VHlwZVByZWZpeCA9IHRoaXMuX2dldEV2ZW50UHJlZml4KCk7XG4gICAgICByZW1vdmVMaXN0ZW5lcihjYW52YXNFbGVtZW50LCBldmVudFR5cGVQcmVmaXggKyAnbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlLCBhZGRFdmVudE9wdGlvbnMpO1xuICAgICAgYWRkTGlzdGVuZXIoZmFicmljLmRvY3VtZW50LCBldmVudFR5cGVQcmVmaXggKyAndXAnLCB0aGlzLl9vbk1vdXNlVXApO1xuICAgICAgYWRkTGlzdGVuZXIoZmFicmljLmRvY3VtZW50LCBldmVudFR5cGVQcmVmaXggKyAnbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlLCBhZGRFdmVudE9wdGlvbnMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0IGZpcmVkIG9uIG1vdXNlZG93blxuICAgICAqL1xuICAgIF9vblRvdWNoRW5kOiBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoZS50b3VjaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gaWYgdGhlcmUgYXJlIHN0aWxsIHRvdWNoZXMgc3RvcCBoZXJlXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuX19vbk1vdXNlVXAoZSk7XG4gICAgICB0aGlzLl9yZXNldFRyYW5zZm9ybUV2ZW50RGF0YSgpO1xuICAgICAgdGhpcy5tYWluVG91Y2hJZCA9IG51bGw7XG4gICAgICB2YXIgZXZlbnRUeXBlUHJlZml4ID0gdGhpcy5fZ2V0RXZlbnRQcmVmaXgoKTtcbiAgICAgIHJlbW92ZUxpc3RlbmVyKGZhYnJpYy5kb2N1bWVudCwgJ3RvdWNoZW5kJywgdGhpcy5fb25Ub3VjaEVuZCwgYWRkRXZlbnRPcHRpb25zKTtcbiAgICAgIHJlbW92ZUxpc3RlbmVyKGZhYnJpYy5kb2N1bWVudCwgJ3RvdWNobW92ZScsIHRoaXMuX29uTW91c2VNb3ZlLCBhZGRFdmVudE9wdGlvbnMpO1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIGlmICh0aGlzLl93aWxsQWRkTW91c2VEb3duKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl93aWxsQWRkTW91c2VEb3duKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3dpbGxBZGRNb3VzZURvd24gPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBXYWl0IDQwMG1zIGJlZm9yZSByZWJpbmRpbmcgbW91c2Vkb3duIHRvIHByZXZlbnQgZG91YmxlIHRyaWdnZXJzXG4gICAgICAgIC8vIGZyb20gdG91Y2ggZGV2aWNlc1xuICAgICAgICBhZGRMaXN0ZW5lcihfdGhpcy51cHBlckNhbnZhc0VsLCBldmVudFR5cGVQcmVmaXggKyAnZG93bicsIF90aGlzLl9vbk1vdXNlRG93bik7XG4gICAgICAgIF90aGlzLl93aWxsQWRkTW91c2VEb3duID0gMDtcbiAgICAgIH0sIDQwMCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3QgZmlyZWQgb24gbW91c2V1cFxuICAgICAqL1xuICAgIF9vbk1vdXNlVXA6IGZ1bmN0aW9uIChlKSB7XG4gICAgICB0aGlzLl9fb25Nb3VzZVVwKGUpO1xuICAgICAgdGhpcy5fcmVzZXRUcmFuc2Zvcm1FdmVudERhdGEoKTtcbiAgICAgIHZhciBjYW52YXNFbGVtZW50ID0gdGhpcy51cHBlckNhbnZhc0VsLFxuICAgICAgICAgIGV2ZW50VHlwZVByZWZpeCA9IHRoaXMuX2dldEV2ZW50UHJlZml4KCk7XG4gICAgICBpZiAodGhpcy5faXNNYWluRXZlbnQoZSkpIHtcbiAgICAgICAgcmVtb3ZlTGlzdGVuZXIoZmFicmljLmRvY3VtZW50LCBldmVudFR5cGVQcmVmaXggKyAndXAnLCB0aGlzLl9vbk1vdXNlVXApO1xuICAgICAgICByZW1vdmVMaXN0ZW5lcihmYWJyaWMuZG9jdW1lbnQsIGV2ZW50VHlwZVByZWZpeCArICdtb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUsIGFkZEV2ZW50T3B0aW9ucyk7XG4gICAgICAgIGFkZExpc3RlbmVyKGNhbnZhc0VsZW1lbnQsIGV2ZW50VHlwZVByZWZpeCArICdtb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUsIGFkZEV2ZW50T3B0aW9ucyk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3QgZmlyZWQgb24gbW91c2Vtb3ZlXG4gICAgICovXG4gICAgX29uTW91c2VNb3ZlOiBmdW5jdGlvbiAoZSkge1xuICAgICAgIXRoaXMuYWxsb3dUb3VjaFNjcm9sbGluZyAmJiBlLnByZXZlbnREZWZhdWx0ICYmIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX19vbk1vdXNlTW92ZShlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfb25SZXNpemU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuY2FsY09mZnNldCgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZWNpZGVzIHdoZXRoZXIgdGhlIGNhbnZhcyBzaG91bGQgYmUgcmVkcmF3biBpbiBtb3VzZXVwIGFuZCBtb3VzZWRvd24gZXZlbnRzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxuICAgICAqL1xuICAgIF9zaG91bGRSZW5kZXI6IGZ1bmN0aW9uKHRhcmdldCkge1xuICAgICAgdmFyIGFjdGl2ZU9iamVjdCA9IHRoaXMuX2FjdGl2ZU9iamVjdDtcblxuICAgICAgaWYgKFxuICAgICAgICAhIWFjdGl2ZU9iamVjdCAhPT0gISF0YXJnZXQgfHxcbiAgICAgICAgKGFjdGl2ZU9iamVjdCAmJiB0YXJnZXQgJiYgKGFjdGl2ZU9iamVjdCAhPT0gdGFyZ2V0KSlcbiAgICAgICkge1xuICAgICAgICAvLyB0aGlzIGNvdmVyczogc3dpdGNoIG9mIHRhcmdldCwgZnJvbSB0YXJnZXQgdG8gbm8gdGFyZ2V0LCBzZWxlY3Rpb24gb2YgdGFyZ2V0XG4gICAgICAgIC8vIG11bHRpU2VsZWN0aW9uIHdpdGgga2V5IGFuZCBtb3VzZVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGFjdGl2ZU9iamVjdCAmJiBhY3RpdmVPYmplY3QuaXNFZGl0aW5nKSB7XG4gICAgICAgIC8vIGlmIHdlIG1vdXNlIHVwL2Rvd24gb3ZlciBhIGVkaXRpbmcgdGV4dGJveCBhIGN1cnNvciBjaGFuZ2UsXG4gICAgICAgIC8vIHRoZXJlIGlzIG5vIG5lZWQgdG8gcmUgcmVuZGVyXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRoYXQgZGVmaW5lcyB0aGUgYWN0aW9ucyB3aGVuIG1vdXNlIGlzIHJlbGVhc2VkIG9uIGNhbnZhcy5cbiAgICAgKiBUaGUgbWV0aG9kIHJlc2V0cyB0aGUgY3VycmVudFRyYW5zZm9ybSBwYXJhbWV0ZXJzLCBzdG9yZSB0aGUgaW1hZ2UgY29ybmVyXG4gICAgICogcG9zaXRpb24gaW4gdGhlIGltYWdlIG9iamVjdCBhbmQgcmVuZGVyIHRoZSBjYW52YXMgb24gdG9wLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3QgZmlyZWQgb24gbW91c2V1cFxuICAgICAqL1xuICAgIF9fb25Nb3VzZVVwOiBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIHRhcmdldCwgdHJhbnNmb3JtID0gdGhpcy5fY3VycmVudFRyYW5zZm9ybSxcbiAgICAgICAgICBncm91cFNlbGVjdG9yID0gdGhpcy5fZ3JvdXBTZWxlY3Rvciwgc2hvdWxkUmVuZGVyID0gZmFsc2UsXG4gICAgICAgICAgaXNDbGljayA9ICghZ3JvdXBTZWxlY3RvciB8fCAoZ3JvdXBTZWxlY3Rvci5sZWZ0ID09PSAwICYmIGdyb3VwU2VsZWN0b3IudG9wID09PSAwKSk7XG4gICAgICB0aGlzLl9jYWNoZVRyYW5zZm9ybUV2ZW50RGF0YShlKTtcbiAgICAgIHRhcmdldCA9IHRoaXMuX3RhcmdldDtcbiAgICAgIHRoaXMuX2hhbmRsZUV2ZW50KGUsICd1cDpiZWZvcmUnKTtcbiAgICAgIC8vIGlmIHJpZ2h0L21pZGRsZSBjbGljayBqdXN0IGZpcmUgZXZlbnRzIGFuZCByZXR1cm5cbiAgICAgIC8vIHRhcmdldCB1bmRlZmluZWQgd2lsbCBtYWtlIHRoZSBfaGFuZGxlRXZlbnQgc2VhcmNoIHRoZSB0YXJnZXRcbiAgICAgIGlmIChjaGVja0NsaWNrKGUsIFJJR0hUX0NMSUNLKSkge1xuICAgICAgICBpZiAodGhpcy5maXJlUmlnaHRDbGljaykge1xuICAgICAgICAgIHRoaXMuX2hhbmRsZUV2ZW50KGUsICd1cCcsIFJJR0hUX0NMSUNLLCBpc0NsaWNrKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChjaGVja0NsaWNrKGUsIE1JRERMRV9DTElDSykpIHtcbiAgICAgICAgaWYgKHRoaXMuZmlyZU1pZGRsZUNsaWNrKSB7XG4gICAgICAgICAgdGhpcy5faGFuZGxlRXZlbnQoZSwgJ3VwJywgTUlERExFX0NMSUNLLCBpc0NsaWNrKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9yZXNldFRyYW5zZm9ybUV2ZW50RGF0YSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmlzRHJhd2luZ01vZGUgJiYgdGhpcy5faXNDdXJyZW50bHlEcmF3aW5nKSB7XG4gICAgICAgIHRoaXMuX29uTW91c2VVcEluRHJhd2luZ01vZGUoZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLl9pc01haW5FdmVudChlKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodHJhbnNmb3JtKSB7XG4gICAgICAgIHRoaXMuX2ZpbmFsaXplQ3VycmVudFRyYW5zZm9ybShlKTtcbiAgICAgICAgc2hvdWxkUmVuZGVyID0gdHJhbnNmb3JtLmFjdGlvblBlcmZvcm1lZDtcbiAgICAgIH1cbiAgICAgIGlmICghaXNDbGljaykge1xuICAgICAgICB2YXIgdGFyZ2V0V2FzQWN0aXZlID0gdGFyZ2V0ID09PSB0aGlzLl9hY3RpdmVPYmplY3Q7XG4gICAgICAgIHRoaXMuX21heWJlR3JvdXBPYmplY3RzKGUpO1xuICAgICAgICBpZiAoIXNob3VsZFJlbmRlcikge1xuICAgICAgICAgIHNob3VsZFJlbmRlciA9IChcbiAgICAgICAgICAgIHRoaXMuX3Nob3VsZFJlbmRlcih0YXJnZXQpIHx8XG4gICAgICAgICAgICAoIXRhcmdldFdhc0FjdGl2ZSAmJiB0YXJnZXQgPT09IHRoaXMuX2FjdGl2ZU9iamVjdClcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgY29ybmVyLCBwb2ludGVyO1xuICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICBjb3JuZXIgPSB0YXJnZXQuX2ZpbmRUYXJnZXRDb3JuZXIoXG4gICAgICAgICAgdGhpcy5nZXRQb2ludGVyKGUsIHRydWUpLFxuICAgICAgICAgIGZhYnJpYy51dGlsLmlzVG91Y2hFdmVudChlKVxuICAgICAgICApO1xuICAgICAgICBpZiAodGFyZ2V0LnNlbGVjdGFibGUgJiYgdGFyZ2V0ICE9PSB0aGlzLl9hY3RpdmVPYmplY3QgJiYgdGFyZ2V0LmFjdGl2ZU9uID09PSAndXAnKSB7XG4gICAgICAgICAgdGhpcy5zZXRBY3RpdmVPYmplY3QodGFyZ2V0LCBlKTtcbiAgICAgICAgICBzaG91bGRSZW5kZXIgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHZhciBjb250cm9sID0gdGFyZ2V0LmNvbnRyb2xzW2Nvcm5lcl0sXG4gICAgICAgICAgICAgIG1vdXNlVXBIYW5kbGVyID0gY29udHJvbCAmJiBjb250cm9sLmdldE1vdXNlVXBIYW5kbGVyKGUsIHRhcmdldCwgY29udHJvbCk7XG4gICAgICAgICAgaWYgKG1vdXNlVXBIYW5kbGVyKSB7XG4gICAgICAgICAgICBwb2ludGVyID0gdGhpcy5nZXRQb2ludGVyKGUpO1xuICAgICAgICAgICAgbW91c2VVcEhhbmRsZXIoZSwgdHJhbnNmb3JtLCBwb2ludGVyLngsIHBvaW50ZXIueSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRhcmdldC5pc01vdmluZyA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gaWYgd2UgYXJlIGVuZGluZyB1cCBhIHRyYW5zZm9ybSBvbiBhIGRpZmZlcmVudCBjb250cm9sIG9yIGEgbmV3IG9iamVjdFxuICAgICAgLy8gZmlyZSB0aGUgb3JpZ2luYWwgbW91c2UgdXAgZnJvbSB0aGUgY29ybmVyIHRoYXQgc3RhcnRlZCB0aGUgdHJhbnNmb3JtXG4gICAgICBpZiAodHJhbnNmb3JtICYmICh0cmFuc2Zvcm0udGFyZ2V0ICE9PSB0YXJnZXQgfHwgdHJhbnNmb3JtLmNvcm5lciAhPT0gY29ybmVyKSkge1xuICAgICAgICB2YXIgb3JpZ2luYWxDb250cm9sID0gdHJhbnNmb3JtLnRhcmdldCAmJiB0cmFuc2Zvcm0udGFyZ2V0LmNvbnRyb2xzW3RyYW5zZm9ybS5jb3JuZXJdLFxuICAgICAgICAgICAgb3JpZ2luYWxNb3VzZVVwSGFuZGxlciA9IG9yaWdpbmFsQ29udHJvbCAmJiBvcmlnaW5hbENvbnRyb2wuZ2V0TW91c2VVcEhhbmRsZXIoZSwgdGFyZ2V0LCBjb250cm9sKTtcbiAgICAgICAgcG9pbnRlciA9IHBvaW50ZXIgfHwgdGhpcy5nZXRQb2ludGVyKGUpO1xuICAgICAgICBvcmlnaW5hbE1vdXNlVXBIYW5kbGVyICYmIG9yaWdpbmFsTW91c2VVcEhhbmRsZXIoZSwgdHJhbnNmb3JtLCBwb2ludGVyLngsIHBvaW50ZXIueSk7XG4gICAgICB9XG4gICAgICB0aGlzLl9zZXRDdXJzb3JGcm9tRXZlbnQoZSwgdGFyZ2V0KTtcbiAgICAgIHRoaXMuX2hhbmRsZUV2ZW50KGUsICd1cCcsIExFRlRfQ0xJQ0ssIGlzQ2xpY2spO1xuICAgICAgdGhpcy5fZ3JvdXBTZWxlY3RvciA9IG51bGw7XG4gICAgICB0aGlzLl9jdXJyZW50VHJhbnNmb3JtID0gbnVsbDtcbiAgICAgIC8vIHJlc2V0IHRoZSB0YXJnZXQgaW5mb3JtYXRpb24gYWJvdXQgd2hpY2ggY29ybmVyIGlzIHNlbGVjdGVkXG4gICAgICB0YXJnZXQgJiYgKHRhcmdldC5fX2Nvcm5lciA9IDApO1xuICAgICAgaWYgKHNob3VsZFJlbmRlcikge1xuICAgICAgICB0aGlzLnJlcXVlc3RSZW5kZXJBbGwoKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKCFpc0NsaWNrKSB7XG4gICAgICAgIHRoaXMucmVuZGVyVG9wKCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogSGFuZGxlIGV2ZW50IGZpcmluZyBmb3IgdGFyZ2V0IGFuZCBzdWJ0YXJnZXRzXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBldmVudCBmcm9tIG1vdXNlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50VHlwZSBldmVudCB0byBmaXJlICh1cCwgZG93biBvciBtb3ZlKVxuICAgICAqIEByZXR1cm4ge0ZhYnJpYy5PYmplY3R9IHRhcmdldCByZXR1cm4gdGhlIHRoZSB0YXJnZXQgZm91bmQsIGZvciBpbnRlcm5hbCByZWFzb25zLlxuICAgICAqL1xuICAgIF9zaW1wbGVFdmVudEhhbmRsZXI6IGZ1bmN0aW9uKGV2ZW50VHlwZSwgZSkge1xuICAgICAgdmFyIHRhcmdldCA9IHRoaXMuZmluZFRhcmdldChlKSxcbiAgICAgICAgICB0YXJnZXRzID0gdGhpcy50YXJnZXRzLFxuICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICBlOiBlLFxuICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgICAgICAgICBzdWJUYXJnZXRzOiB0YXJnZXRzLFxuICAgICAgICAgIH07XG4gICAgICB0aGlzLmZpcmUoZXZlbnRUeXBlLCBvcHRpb25zKTtcbiAgICAgIHRhcmdldCAmJiB0YXJnZXQuZmlyZShldmVudFR5cGUsIG9wdGlvbnMpO1xuICAgICAgaWYgKCF0YXJnZXRzKSB7XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRhcmdldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGFyZ2V0c1tpXS5maXJlKGV2ZW50VHlwZSwgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEhhbmRsZSBldmVudCBmaXJpbmcgZm9yIHRhcmdldCBhbmQgc3VidGFyZ2V0c1xuICAgICAqIEBwYXJhbSB7RXZlbnR9IGUgZXZlbnQgZnJvbSBtb3VzZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFR5cGUgZXZlbnQgdG8gZmlyZSAodXAsIGRvd24gb3IgbW92ZSlcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IHRhcmdldE9iaiByZWNlaXZpbmcgZXZlbnRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2J1dHRvbl0gYnV0dG9uIHVzZWQgaW4gdGhlIGV2ZW50IDEgPSBsZWZ0LCAyID0gbWlkZGxlLCAzID0gcmlnaHRcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGlzQ2xpY2sgZm9yIGxlZnQgYnV0dG9uIG9ubHksIGluZGljYXRlcyB0aGF0IHRoZSBtb3VzZSB1cCBoYXBwZW5lZCB3aXRob3V0IG1vdmUuXG4gICAgICovXG4gICAgX2hhbmRsZUV2ZW50OiBmdW5jdGlvbihlLCBldmVudFR5cGUsIGJ1dHRvbiwgaXNDbGljaykge1xuICAgICAgdmFyIHRhcmdldCA9IHRoaXMuX3RhcmdldCxcbiAgICAgICAgICB0YXJnZXRzID0gdGhpcy50YXJnZXRzIHx8IFtdLFxuICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICBlOiBlLFxuICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgICAgICAgICBzdWJUYXJnZXRzOiB0YXJnZXRzLFxuICAgICAgICAgICAgYnV0dG9uOiBidXR0b24gfHwgTEVGVF9DTElDSyxcbiAgICAgICAgICAgIGlzQ2xpY2s6IGlzQ2xpY2sgfHwgZmFsc2UsXG4gICAgICAgICAgICBwb2ludGVyOiB0aGlzLl9wb2ludGVyLFxuICAgICAgICAgICAgYWJzb2x1dGVQb2ludGVyOiB0aGlzLl9hYnNvbHV0ZVBvaW50ZXIsXG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRoaXMuX2N1cnJlbnRUcmFuc2Zvcm1cbiAgICAgICAgICB9O1xuICAgICAgaWYgKGV2ZW50VHlwZSA9PT0gJ3VwJykge1xuICAgICAgICBvcHRpb25zLmN1cnJlbnRUYXJnZXQgPSB0aGlzLmZpbmRUYXJnZXQoZSk7XG4gICAgICAgIG9wdGlvbnMuY3VycmVudFN1YlRhcmdldHMgPSB0aGlzLnRhcmdldHM7XG4gICAgICB9XG4gICAgICB0aGlzLmZpcmUoJ21vdXNlOicgKyBldmVudFR5cGUsIG9wdGlvbnMpO1xuICAgICAgdGFyZ2V0ICYmIHRhcmdldC5maXJlKCdtb3VzZScgKyBldmVudFR5cGUsIG9wdGlvbnMpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0YXJnZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRhcmdldHNbaV0uZmlyZSgnbW91c2UnICsgZXZlbnRUeXBlLCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIHNlbmQgdGhlIG1vdXNlIGV2ZW50IHRoYXQgZ2VuZXJhdGUgdGhlIGZpbmFsaXplIGRvd24sIHNvIGl0IGNhbiBiZSB1c2VkIGluIHRoZSBldmVudFxuICAgICAqL1xuICAgIF9maW5hbGl6ZUN1cnJlbnRUcmFuc2Zvcm06IGZ1bmN0aW9uKGUpIHtcblxuICAgICAgdmFyIHRyYW5zZm9ybSA9IHRoaXMuX2N1cnJlbnRUcmFuc2Zvcm0sXG4gICAgICAgICAgdGFyZ2V0ID0gdHJhbnNmb3JtLnRhcmdldCxcbiAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgZTogZSxcbiAgICAgICAgICAgIHRhcmdldDogdGFyZ2V0LFxuICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2Zvcm0sXG4gICAgICAgICAgICBhY3Rpb246IHRyYW5zZm9ybS5hY3Rpb24sXG4gICAgICAgICAgfTtcblxuICAgICAgaWYgKHRhcmdldC5fc2NhbGluZykge1xuICAgICAgICB0YXJnZXQuX3NjYWxpbmcgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgdGFyZ2V0LnNldENvb3JkcygpO1xuXG4gICAgICBpZiAodHJhbnNmb3JtLmFjdGlvblBlcmZvcm1lZCB8fCAodGhpcy5zdGF0ZWZ1bCAmJiB0YXJnZXQuaGFzU3RhdGVDaGFuZ2VkKCkpKSB7XG4gICAgICAgIHRoaXMuX2ZpcmUoJ21vZGlmaWVkJywgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3QgZmlyZWQgb24gbW91c2Vkb3duXG4gICAgICovXG4gICAgX29uTW91c2VEb3duSW5EcmF3aW5nTW9kZTogZnVuY3Rpb24oZSkge1xuICAgICAgdGhpcy5faXNDdXJyZW50bHlEcmF3aW5nID0gdHJ1ZTtcbiAgICAgIGlmICh0aGlzLmdldEFjdGl2ZU9iamVjdCgpKSB7XG4gICAgICAgIHRoaXMuZGlzY2FyZEFjdGl2ZU9iamVjdChlKS5yZXF1ZXN0UmVuZGVyQWxsKCk7XG4gICAgICB9XG4gICAgICB2YXIgcG9pbnRlciA9IHRoaXMuZ2V0UG9pbnRlcihlKTtcbiAgICAgIHRoaXMuZnJlZURyYXdpbmdCcnVzaC5vbk1vdXNlRG93bihwb2ludGVyLCB7IGU6IGUsIHBvaW50ZXI6IHBvaW50ZXIgfSk7XG4gICAgICB0aGlzLl9oYW5kbGVFdmVudChlLCAnZG93bicpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0IGZpcmVkIG9uIG1vdXNlbW92ZVxuICAgICAqL1xuICAgIF9vbk1vdXNlTW92ZUluRHJhd2luZ01vZGU6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmICh0aGlzLl9pc0N1cnJlbnRseURyYXdpbmcpIHtcbiAgICAgICAgdmFyIHBvaW50ZXIgPSB0aGlzLmdldFBvaW50ZXIoZSk7XG4gICAgICAgIHRoaXMuZnJlZURyYXdpbmdCcnVzaC5vbk1vdXNlTW92ZShwb2ludGVyLCB7IGU6IGUsIHBvaW50ZXI6IHBvaW50ZXIgfSk7XG4gICAgICB9XG4gICAgICB0aGlzLnNldEN1cnNvcih0aGlzLmZyZWVEcmF3aW5nQ3Vyc29yKTtcbiAgICAgIHRoaXMuX2hhbmRsZUV2ZW50KGUsICdtb3ZlJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3QgZmlyZWQgb24gbW91c2V1cFxuICAgICAqL1xuICAgIF9vbk1vdXNlVXBJbkRyYXdpbmdNb2RlOiBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgcG9pbnRlciA9IHRoaXMuZ2V0UG9pbnRlcihlKTtcbiAgICAgIHRoaXMuX2lzQ3VycmVudGx5RHJhd2luZyA9IHRoaXMuZnJlZURyYXdpbmdCcnVzaC5vbk1vdXNlVXAoeyBlOiBlLCBwb2ludGVyOiBwb2ludGVyIH0pO1xuICAgICAgdGhpcy5faGFuZGxlRXZlbnQoZSwgJ3VwJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0aGF0IGRlZmluZXMgdGhlIGFjdGlvbnMgd2hlbiBtb3VzZSBpcyBjbGlja2VkIG9uIGNhbnZhcy5cbiAgICAgKiBUaGUgbWV0aG9kIGluaXRzIHRoZSBjdXJyZW50VHJhbnNmb3JtIHBhcmFtZXRlcnMgYW5kIHJlbmRlcnMgYWxsIHRoZVxuICAgICAqIGNhbnZhcyBzbyB0aGUgY3VycmVudCBpbWFnZSBjYW4gYmUgcGxhY2VkIG9uIHRoZSB0b3AgY2FudmFzIGFuZCB0aGUgcmVzdFxuICAgICAqIGluIG9uIHRoZSBjb250YWluZXIgb25lLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3QgZmlyZWQgb24gbW91c2Vkb3duXG4gICAgICovXG4gICAgX19vbk1vdXNlRG93bjogZnVuY3Rpb24gKGUpIHtcbiAgICAgIHRoaXMuX2NhY2hlVHJhbnNmb3JtRXZlbnREYXRhKGUpO1xuICAgICAgdGhpcy5faGFuZGxlRXZlbnQoZSwgJ2Rvd246YmVmb3JlJyk7XG4gICAgICB2YXIgdGFyZ2V0ID0gdGhpcy5fdGFyZ2V0O1xuICAgICAgLy8gaWYgcmlnaHQgY2xpY2sganVzdCBmaXJlIGV2ZW50c1xuICAgICAgaWYgKGNoZWNrQ2xpY2soZSwgUklHSFRfQ0xJQ0spKSB7XG4gICAgICAgIGlmICh0aGlzLmZpcmVSaWdodENsaWNrKSB7XG4gICAgICAgICAgdGhpcy5faGFuZGxlRXZlbnQoZSwgJ2Rvd24nLCBSSUdIVF9DTElDSyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoY2hlY2tDbGljayhlLCBNSURETEVfQ0xJQ0spKSB7XG4gICAgICAgIGlmICh0aGlzLmZpcmVNaWRkbGVDbGljaykge1xuICAgICAgICAgIHRoaXMuX2hhbmRsZUV2ZW50KGUsICdkb3duJywgTUlERExFX0NMSUNLKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmlzRHJhd2luZ01vZGUpIHtcbiAgICAgICAgdGhpcy5fb25Nb3VzZURvd25JbkRyYXdpbmdNb2RlKGUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5faXNNYWluRXZlbnQoZSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBpZ25vcmUgaWYgc29tZSBvYmplY3QgaXMgYmVpbmcgdHJhbnNmb3JtZWQgYXQgdGhpcyBtb21lbnRcbiAgICAgIGlmICh0aGlzLl9jdXJyZW50VHJhbnNmb3JtKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHBvaW50ZXIgPSB0aGlzLl9wb2ludGVyO1xuICAgICAgLy8gc2F2ZSBwb2ludGVyIGZvciBjaGVjayBpbiBfX29uTW91c2VVcCBldmVudFxuICAgICAgdGhpcy5fcHJldmlvdXNQb2ludGVyID0gcG9pbnRlcjtcbiAgICAgIHZhciBzaG91bGRSZW5kZXIgPSB0aGlzLl9zaG91bGRSZW5kZXIodGFyZ2V0KSxcbiAgICAgICAgICBzaG91bGRHcm91cCA9IHRoaXMuX3Nob3VsZEdyb3VwKGUsIHRhcmdldCk7XG4gICAgICBpZiAodGhpcy5fc2hvdWxkQ2xlYXJTZWxlY3Rpb24oZSwgdGFyZ2V0KSkge1xuICAgICAgICB0aGlzLmRpc2NhcmRBY3RpdmVPYmplY3QoZSk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChzaG91bGRHcm91cCkge1xuICAgICAgICB0aGlzLl9oYW5kbGVHcm91cGluZyhlLCB0YXJnZXQpO1xuICAgICAgICB0YXJnZXQgPSB0aGlzLl9hY3RpdmVPYmplY3Q7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnNlbGVjdGlvbiAmJiAoIXRhcmdldCB8fFxuICAgICAgICAoIXRhcmdldC5zZWxlY3RhYmxlICYmICF0YXJnZXQuaXNFZGl0aW5nICYmIHRhcmdldCAhPT0gdGhpcy5fYWN0aXZlT2JqZWN0KSkpIHtcbiAgICAgICAgdGhpcy5fZ3JvdXBTZWxlY3RvciA9IHtcbiAgICAgICAgICBleDogdGhpcy5fYWJzb2x1dGVQb2ludGVyLngsXG4gICAgICAgICAgZXk6IHRoaXMuX2Fic29sdXRlUG9pbnRlci55LFxuICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICBsZWZ0OiAwXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgdmFyIGFscmVhZHlTZWxlY3RlZCA9IHRhcmdldCA9PT0gdGhpcy5fYWN0aXZlT2JqZWN0O1xuICAgICAgICBpZiAodGFyZ2V0LnNlbGVjdGFibGUgJiYgdGFyZ2V0LmFjdGl2ZU9uID09PSAnZG93bicpIHtcbiAgICAgICAgICB0aGlzLnNldEFjdGl2ZU9iamVjdCh0YXJnZXQsIGUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb3JuZXIgPSB0YXJnZXQuX2ZpbmRUYXJnZXRDb3JuZXIoXG4gICAgICAgICAgdGhpcy5nZXRQb2ludGVyKGUsIHRydWUpLFxuICAgICAgICAgIGZhYnJpYy51dGlsLmlzVG91Y2hFdmVudChlKVxuICAgICAgICApO1xuICAgICAgICB0YXJnZXQuX19jb3JuZXIgPSBjb3JuZXI7XG4gICAgICAgIGlmICh0YXJnZXQgPT09IHRoaXMuX2FjdGl2ZU9iamVjdCAmJiAoY29ybmVyIHx8ICFzaG91bGRHcm91cCkpIHtcbiAgICAgICAgICB0aGlzLl9zZXR1cEN1cnJlbnRUcmFuc2Zvcm0oZSwgdGFyZ2V0LCBhbHJlYWR5U2VsZWN0ZWQpO1xuICAgICAgICAgIHZhciBjb250cm9sID0gdGFyZ2V0LmNvbnRyb2xzW2Nvcm5lcl0sXG4gICAgICAgICAgICAgIHBvaW50ZXIgPSB0aGlzLmdldFBvaW50ZXIoZSksXG4gICAgICAgICAgICAgIG1vdXNlRG93bkhhbmRsZXIgPSBjb250cm9sICYmIGNvbnRyb2wuZ2V0TW91c2VEb3duSGFuZGxlcihlLCB0YXJnZXQsIGNvbnRyb2wpO1xuICAgICAgICAgIGlmIChtb3VzZURvd25IYW5kbGVyKSB7XG4gICAgICAgICAgICBtb3VzZURvd25IYW5kbGVyKGUsIHRoaXMuX2N1cnJlbnRUcmFuc2Zvcm0sIHBvaW50ZXIueCwgcG9pbnRlci55KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuX2hhbmRsZUV2ZW50KGUsICdkb3duJyk7XG4gICAgICAvLyB3ZSBtdXN0IHJlbmRlckFsbCBzbyB0aGF0IHdlIHVwZGF0ZSB0aGUgdmlzdWFsc1xuICAgICAgKHNob3VsZFJlbmRlciB8fCBzaG91bGRHcm91cCkgJiYgdGhpcy5yZXF1ZXN0UmVuZGVyQWxsKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJlc2V0IGNhY2hlIGZvcm0gY29tbW9uIGluZm9ybWF0aW9uIG5lZWRlZCBkdXJpbmcgZXZlbnQgcHJvY2Vzc2luZ1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3Jlc2V0VHJhbnNmb3JtRXZlbnREYXRhOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuX3RhcmdldCA9IG51bGw7XG4gICAgICB0aGlzLl9wb2ludGVyID0gbnVsbDtcbiAgICAgIHRoaXMuX2Fic29sdXRlUG9pbnRlciA9IG51bGw7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhY2hlIGNvbW1vbiBpbmZvcm1hdGlvbiBuZWVkZWQgZHVyaW5nIGV2ZW50IHByb2Nlc3NpbmdcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0IGZpcmVkIG9uIGV2ZW50XG4gICAgICovXG4gICAgX2NhY2hlVHJhbnNmb3JtRXZlbnREYXRhOiBmdW5jdGlvbihlKSB7XG4gICAgICAvLyByZXNldCBpbiBvcmRlciB0byBhdm9pZCBzdGFsZSBjYWNoaW5nXG4gICAgICB0aGlzLl9yZXNldFRyYW5zZm9ybUV2ZW50RGF0YSgpO1xuICAgICAgdGhpcy5fcG9pbnRlciA9IHRoaXMuZ2V0UG9pbnRlcihlLCB0cnVlKTtcbiAgICAgIHRoaXMuX2Fic29sdXRlUG9pbnRlciA9IHRoaXMucmVzdG9yZVBvaW50ZXJWcHQodGhpcy5fcG9pbnRlcik7XG4gICAgICB0aGlzLl90YXJnZXQgPSB0aGlzLl9jdXJyZW50VHJhbnNmb3JtID8gdGhpcy5fY3VycmVudFRyYW5zZm9ybS50YXJnZXQgOiB0aGlzLmZpbmRUYXJnZXQoZSkgfHwgbnVsbDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfYmVmb3JlVHJhbnNmb3JtOiBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgdCA9IHRoaXMuX2N1cnJlbnRUcmFuc2Zvcm07XG4gICAgICB0aGlzLnN0YXRlZnVsICYmIHQudGFyZ2V0LnNhdmVTdGF0ZSgpO1xuICAgICAgdGhpcy5maXJlKCdiZWZvcmU6dHJhbnNmb3JtJywge1xuICAgICAgICBlOiBlLFxuICAgICAgICB0cmFuc2Zvcm06IHQsXG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRoYXQgZGVmaW5lcyB0aGUgYWN0aW9ucyB3aGVuIG1vdXNlIGlzIGhvdmVyaW5nIHRoZSBjYW52YXMuXG4gICAgICogVGhlIGN1cnJlbnRUcmFuc2Zvcm0gcGFyYW1ldGVyIHdpbGwgZGVmaW5lIHdoZXRoZXIgdGhlIHVzZXIgaXMgcm90YXRpbmcvc2NhbGluZy90cmFuc2xhdGluZ1xuICAgICAqIGFuIGltYWdlIG9yIG5laXRoZXIgb2YgdGhlbSAob25seSBob3ZlcmluZykuIEEgZ3JvdXAgc2VsZWN0aW9uIGlzIGFsc28gcG9zc2libGUgYW5kIHdvdWxkIGNhbmNlbFxuICAgICAqIGFsbCBhbnkgb3RoZXIgdHlwZSBvZiBhY3Rpb24uXG4gICAgICogSW4gY2FzZSBvZiBhbiBpbWFnZSB0cmFuc2Zvcm1hdGlvbiBvbmx5IHRoZSB0b3AgY2FudmFzIHdpbGwgYmUgcmVuZGVyZWQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdCBmaXJlZCBvbiBtb3VzZW1vdmVcbiAgICAgKi9cbiAgICBfX29uTW91c2VNb3ZlOiBmdW5jdGlvbiAoZSkge1xuICAgICAgdGhpcy5faGFuZGxlRXZlbnQoZSwgJ21vdmU6YmVmb3JlJyk7XG4gICAgICB0aGlzLl9jYWNoZVRyYW5zZm9ybUV2ZW50RGF0YShlKTtcbiAgICAgIHZhciB0YXJnZXQsIHBvaW50ZXI7XG5cbiAgICAgIGlmICh0aGlzLmlzRHJhd2luZ01vZGUpIHtcbiAgICAgICAgdGhpcy5fb25Nb3VzZU1vdmVJbkRyYXdpbmdNb2RlKGUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5faXNNYWluRXZlbnQoZSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgZ3JvdXBTZWxlY3RvciA9IHRoaXMuX2dyb3VwU2VsZWN0b3I7XG5cbiAgICAgIC8vIFdlIGluaXRpYWxseSBjbGlja2VkIGluIGFuIGVtcHR5IGFyZWEsIHNvIHdlIGRyYXcgYSBib3ggZm9yIG11bHRpcGxlIHNlbGVjdGlvblxuICAgICAgaWYgKGdyb3VwU2VsZWN0b3IpIHtcbiAgICAgICAgcG9pbnRlciA9IHRoaXMuX2Fic29sdXRlUG9pbnRlcjtcblxuICAgICAgICBncm91cFNlbGVjdG9yLmxlZnQgPSBwb2ludGVyLnggLSBncm91cFNlbGVjdG9yLmV4O1xuICAgICAgICBncm91cFNlbGVjdG9yLnRvcCA9IHBvaW50ZXIueSAtIGdyb3VwU2VsZWN0b3IuZXk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJUb3AoKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKCF0aGlzLl9jdXJyZW50VHJhbnNmb3JtKSB7XG4gICAgICAgIHRhcmdldCA9IHRoaXMuZmluZFRhcmdldChlKSB8fCBudWxsO1xuICAgICAgICB0aGlzLl9zZXRDdXJzb3JGcm9tRXZlbnQoZSwgdGFyZ2V0KTtcbiAgICAgICAgdGhpcy5fZmlyZU92ZXJPdXRFdmVudHModGFyZ2V0LCBlKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm1PYmplY3QoZSk7XG4gICAgICB9XG4gICAgICB0aGlzLl9oYW5kbGVFdmVudChlLCAnbW92ZScpO1xuICAgICAgdGhpcy5fcmVzZXRUcmFuc2Zvcm1FdmVudERhdGEoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTWFuYWdlIHRoZSBtb3VzZW91dCwgbW91c2VvdmVyIGV2ZW50cyBmb3IgdGhlIGZhYnJpYyBvYmplY3Qgb24gdGhlIGNhbnZhc1xuICAgICAqIEBwYXJhbSB7RmFicmljLk9iamVjdH0gdGFyZ2V0IHRoZSB0YXJnZXQgd2hlcmUgdGhlIHRhcmdldCBmcm9tIHRoZSBtb3VzZW1vdmUgZXZlbnRcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdCBmaXJlZCBvbiBtb3VzZW1vdmVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9maXJlT3Zlck91dEV2ZW50czogZnVuY3Rpb24odGFyZ2V0LCBlKSB7XG4gICAgICB2YXIgX2hvdmVyZWRUYXJnZXQgPSB0aGlzLl9ob3ZlcmVkVGFyZ2V0LFxuICAgICAgICAgIF9ob3ZlcmVkVGFyZ2V0cyA9IHRoaXMuX2hvdmVyZWRUYXJnZXRzLCB0YXJnZXRzID0gdGhpcy50YXJnZXRzLFxuICAgICAgICAgIGxlbmd0aCA9IE1hdGgubWF4KF9ob3ZlcmVkVGFyZ2V0cy5sZW5ndGgsIHRhcmdldHMubGVuZ3RoKTtcblxuICAgICAgdGhpcy5maXJlU3ludGhldGljSW5PdXRFdmVudHModGFyZ2V0LCBlLCB7XG4gICAgICAgIG9sZFRhcmdldDogX2hvdmVyZWRUYXJnZXQsXG4gICAgICAgIGV2dE91dDogJ21vdXNlb3V0JyxcbiAgICAgICAgY2FudmFzRXZ0T3V0OiAnbW91c2U6b3V0JyxcbiAgICAgICAgZXZ0SW46ICdtb3VzZW92ZXInLFxuICAgICAgICBjYW52YXNFdnRJbjogJ21vdXNlOm92ZXInLFxuICAgICAgfSk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKXtcbiAgICAgICAgdGhpcy5maXJlU3ludGhldGljSW5PdXRFdmVudHModGFyZ2V0c1tpXSwgZSwge1xuICAgICAgICAgIG9sZFRhcmdldDogX2hvdmVyZWRUYXJnZXRzW2ldLFxuICAgICAgICAgIGV2dE91dDogJ21vdXNlb3V0JyxcbiAgICAgICAgICBldnRJbjogJ21vdXNlb3ZlcicsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdGhpcy5faG92ZXJlZFRhcmdldCA9IHRhcmdldDtcbiAgICAgIHRoaXMuX2hvdmVyZWRUYXJnZXRzID0gdGhpcy50YXJnZXRzLmNvbmNhdCgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNYW5hZ2UgdGhlIGRyYWdFbnRlciwgZHJhZ0xlYXZlIGV2ZW50cyBmb3IgdGhlIGZhYnJpYyBvYmplY3RzIG9uIHRoZSBjYW52YXNcbiAgICAgKiBAcGFyYW0ge0ZhYnJpYy5PYmplY3R9IHRhcmdldCB0aGUgdGFyZ2V0IHdoZXJlIHRoZSB0YXJnZXQgZnJvbSB0aGUgb25EcmFnIGV2ZW50XG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3QgZmlyZWQgb24gb25kcmFnXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZmlyZUVudGVyTGVhdmVFdmVudHM6IGZ1bmN0aW9uKHRhcmdldCwgZSkge1xuICAgICAgdmFyIF9kcmFnZ2Vkb3ZlclRhcmdldCA9IHRoaXMuX2RyYWdnZWRvdmVyVGFyZ2V0LFxuICAgICAgICAgIF9ob3ZlcmVkVGFyZ2V0cyA9IHRoaXMuX2hvdmVyZWRUYXJnZXRzLCB0YXJnZXRzID0gdGhpcy50YXJnZXRzLFxuICAgICAgICAgIGxlbmd0aCA9IE1hdGgubWF4KF9ob3ZlcmVkVGFyZ2V0cy5sZW5ndGgsIHRhcmdldHMubGVuZ3RoKTtcblxuICAgICAgdGhpcy5maXJlU3ludGhldGljSW5PdXRFdmVudHModGFyZ2V0LCBlLCB7XG4gICAgICAgIG9sZFRhcmdldDogX2RyYWdnZWRvdmVyVGFyZ2V0LFxuICAgICAgICBldnRPdXQ6ICdkcmFnbGVhdmUnLFxuICAgICAgICBldnRJbjogJ2RyYWdlbnRlcicsXG4gICAgICB9KTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5maXJlU3ludGhldGljSW5PdXRFdmVudHModGFyZ2V0c1tpXSwgZSwge1xuICAgICAgICAgIG9sZFRhcmdldDogX2hvdmVyZWRUYXJnZXRzW2ldLFxuICAgICAgICAgIGV2dE91dDogJ2RyYWdsZWF2ZScsXG4gICAgICAgICAgZXZ0SW46ICdkcmFnZW50ZXInLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2RyYWdnZWRvdmVyVGFyZ2V0ID0gdGFyZ2V0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNYW5hZ2UgdGhlIHN5bnRoZXRpYyBpbi9vdXQgZXZlbnRzIGZvciB0aGUgZmFicmljIG9iamVjdHMgb24gdGhlIGNhbnZhc1xuICAgICAqIEBwYXJhbSB7RmFicmljLk9iamVjdH0gdGFyZ2V0IHRoZSB0YXJnZXQgd2hlcmUgdGhlIHRhcmdldCBmcm9tIHRoZSBzdXBwb3J0ZWQgZXZlbnRzXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3QgZmlyZWRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBmdW5jdGlvbiB0byB3b3JrXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGNvbmZpZy50YXJnZXROYW1lIHByb3BlcnR5IG9uIHRoZSBjYW52YXMgd2hlcmUgdGhlIG9sZCB0YXJnZXQgaXMgc3RvcmVkXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuY2FudmFzRXZ0T3V0XSBuYW1lIG9mIHRoZSBldmVudCB0byBmaXJlIGF0IGNhbnZhcyBsZXZlbCBmb3Igb3V0XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGNvbmZpZy5ldnRPdXQgbmFtZSBvZiB0aGUgZXZlbnQgdG8gZmlyZSBmb3Igb3V0XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuY2FudmFzRXZ0SW5dIG5hbWUgb2YgdGhlIGV2ZW50IHRvIGZpcmUgYXQgY2FudmFzIGxldmVsIGZvciBpblxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjb25maWcuZXZ0SW4gbmFtZSBvZiB0aGUgZXZlbnQgdG8gZmlyZSBmb3IgaW5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGZpcmVTeW50aGV0aWNJbk91dEV2ZW50czogZnVuY3Rpb24odGFyZ2V0LCBlLCBjb25maWcpIHtcbiAgICAgIHZhciBpbk9wdCwgb3V0T3B0LCBvbGRUYXJnZXQgPSBjb25maWcub2xkVGFyZ2V0LCBvdXRGaXJlcywgaW5GaXJlcyxcbiAgICAgICAgICB0YXJnZXRDaGFuZ2VkID0gb2xkVGFyZ2V0ICE9PSB0YXJnZXQsIGNhbnZhc0V2dEluID0gY29uZmlnLmNhbnZhc0V2dEluLCBjYW52YXNFdnRPdXQgPSBjb25maWcuY2FudmFzRXZ0T3V0O1xuICAgICAgaWYgKHRhcmdldENoYW5nZWQpIHtcbiAgICAgICAgaW5PcHQgPSB7IGU6IGUsIHRhcmdldDogdGFyZ2V0LCBwcmV2aW91c1RhcmdldDogb2xkVGFyZ2V0IH07XG4gICAgICAgIG91dE9wdCA9IHsgZTogZSwgdGFyZ2V0OiBvbGRUYXJnZXQsIG5leHRUYXJnZXQ6IHRhcmdldCB9O1xuICAgICAgfVxuICAgICAgaW5GaXJlcyA9IHRhcmdldCAmJiB0YXJnZXRDaGFuZ2VkO1xuICAgICAgb3V0RmlyZXMgPSBvbGRUYXJnZXQgJiYgdGFyZ2V0Q2hhbmdlZDtcbiAgICAgIGlmIChvdXRGaXJlcykge1xuICAgICAgICBjYW52YXNFdnRPdXQgJiYgdGhpcy5maXJlKGNhbnZhc0V2dE91dCwgb3V0T3B0KTtcbiAgICAgICAgb2xkVGFyZ2V0LmZpcmUoY29uZmlnLmV2dE91dCwgb3V0T3B0KTtcbiAgICAgIH1cbiAgICAgIGlmIChpbkZpcmVzKSB7XG4gICAgICAgIGNhbnZhc0V2dEluICYmIHRoaXMuZmlyZShjYW52YXNFdnRJbiwgaW5PcHQpO1xuICAgICAgICB0YXJnZXQuZmlyZShjb25maWcuZXZ0SW4sIGluT3B0KTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRoYXQgZGVmaW5lcyBhY3Rpb25zIHdoZW4gYW4gRXZlbnQgTW91c2UgV2hlZWxcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdCBmaXJlZCBvbiBtb3VzZXVwXG4gICAgICovXG4gICAgX19vbk1vdXNlV2hlZWw6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIHRoaXMuX2NhY2hlVHJhbnNmb3JtRXZlbnREYXRhKGUpO1xuICAgICAgdGhpcy5faGFuZGxlRXZlbnQoZSwgJ3doZWVsJyk7XG4gICAgICB0aGlzLl9yZXNldFRyYW5zZm9ybUV2ZW50RGF0YSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgZmlyZWQgb24gbW91c2Vtb3ZlXG4gICAgICovXG4gICAgX3RyYW5zZm9ybU9iamVjdDogZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIHBvaW50ZXIgPSB0aGlzLmdldFBvaW50ZXIoZSksXG4gICAgICAgICAgdHJhbnNmb3JtID0gdGhpcy5fY3VycmVudFRyYW5zZm9ybTtcblxuICAgICAgdHJhbnNmb3JtLnJlc2V0ID0gZmFsc2U7XG4gICAgICB0cmFuc2Zvcm0uc2hpZnRLZXkgPSBlLnNoaWZ0S2V5O1xuICAgICAgdHJhbnNmb3JtLmFsdEtleSA9IGVbdGhpcy5jZW50ZXJlZEtleV07XG5cbiAgICAgIHRoaXMuX3BlcmZvcm1UcmFuc2Zvcm1BY3Rpb24oZSwgdHJhbnNmb3JtLCBwb2ludGVyKTtcbiAgICAgIHRyYW5zZm9ybS5hY3Rpb25QZXJmb3JtZWQgJiYgdGhpcy5yZXF1ZXN0UmVuZGVyQWxsKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3BlcmZvcm1UcmFuc2Zvcm1BY3Rpb246IGZ1bmN0aW9uKGUsIHRyYW5zZm9ybSwgcG9pbnRlcikge1xuICAgICAgdmFyIHggPSBwb2ludGVyLngsXG4gICAgICAgICAgeSA9IHBvaW50ZXIueSxcbiAgICAgICAgICBhY3Rpb24gPSB0cmFuc2Zvcm0uYWN0aW9uLFxuICAgICAgICAgIGFjdGlvblBlcmZvcm1lZCA9IGZhbHNlLFxuICAgICAgICAgIGFjdGlvbkhhbmRsZXIgPSB0cmFuc2Zvcm0uYWN0aW9uSGFuZGxlcjtcbiAgICAgICAgICAvLyB0aGlzIG9iamVjdCBjb3VsZCBiZSBjcmVhdGVkIGZyb20gdGhlIGZ1bmN0aW9uIGluIHRoZSBjb250cm9sIGhhbmRsZXJzXG5cblxuICAgICAgaWYgKGFjdGlvbkhhbmRsZXIpIHtcbiAgICAgICAgYWN0aW9uUGVyZm9ybWVkID0gYWN0aW9uSGFuZGxlcihlLCB0cmFuc2Zvcm0sIHgsIHkpO1xuICAgICAgfVxuICAgICAgaWYgKGFjdGlvbiA9PT0gJ2RyYWcnICYmIGFjdGlvblBlcmZvcm1lZCkge1xuICAgICAgICB0cmFuc2Zvcm0udGFyZ2V0LmlzTW92aW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zZXRDdXJzb3IodHJhbnNmb3JtLnRhcmdldC5tb3ZlQ3Vyc29yIHx8IHRoaXMubW92ZUN1cnNvcik7XG4gICAgICB9XG4gICAgICB0cmFuc2Zvcm0uYWN0aW9uUGVyZm9ybWVkID0gdHJhbnNmb3JtLmFjdGlvblBlcmZvcm1lZCB8fCBhY3Rpb25QZXJmb3JtZWQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2ZpcmU6IGZhYnJpYy5jb250cm9sc1V0aWxzLmZpcmVFdmVudCxcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGN1cnNvciBkZXBlbmRpbmcgb24gd2hlcmUgdGhlIGNhbnZhcyBpcyBiZWluZyBob3ZlcmVkLlxuICAgICAqIE5vdGU6IHZlcnkgYnVnZ3kgaW4gT3BlcmFcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXQgT2JqZWN0IHRoYXQgdGhlIG1vdXNlIGlzIGhvdmVyaW5nLCBpZiBzby5cbiAgICAgKi9cbiAgICBfc2V0Q3Vyc29yRnJvbUV2ZW50OiBmdW5jdGlvbiAoZSwgdGFyZ2V0KSB7XG4gICAgICBpZiAoIXRhcmdldCkge1xuICAgICAgICB0aGlzLnNldEN1cnNvcih0aGlzLmRlZmF1bHRDdXJzb3IpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgaG92ZXJDdXJzb3IgPSB0YXJnZXQuaG92ZXJDdXJzb3IgfHwgdGhpcy5ob3ZlckN1cnNvcixcbiAgICAgICAgICBhY3RpdmVTZWxlY3Rpb24gPSB0aGlzLl9hY3RpdmVPYmplY3QgJiYgdGhpcy5fYWN0aXZlT2JqZWN0LnR5cGUgPT09ICdhY3RpdmVTZWxlY3Rpb24nID9cbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZU9iamVjdCA6IG51bGwsXG4gICAgICAgICAgLy8gb25seSBzaG93IHByb3BlciBjb3JuZXIgd2hlbiBncm91cCBzZWxlY3Rpb24gaXMgbm90IGFjdGl2ZVxuICAgICAgICAgIGNvcm5lciA9ICghYWN0aXZlU2VsZWN0aW9uIHx8ICFhY3RpdmVTZWxlY3Rpb24uY29udGFpbnModGFyZ2V0KSlcbiAgICAgICAgICAvLyBoZXJlIHdlIGNhbGwgZmluZFRhcmdldENvcm5lciBhbHdheXMgd2l0aCB1bmRlZmluZWQgZm9yIHRoZSB0b3VjaCBwYXJhbWV0ZXIuXG4gICAgICAgICAgLy8gd2UgYXNzdW1lIHRoYXQgaWYgeW91IGFyZSB1c2luZyBhIGN1cnNvciB5b3UgZG8gbm90IG5lZWQgdG8gaW50ZXJhY3Qgd2l0aFxuICAgICAgICAgIC8vIHRoZSBiaWdnZXIgdG91Y2ggYXJlYS5cbiAgICAgICAgICAgICAgICAgICAgJiYgdGFyZ2V0Ll9maW5kVGFyZ2V0Q29ybmVyKHRoaXMuZ2V0UG9pbnRlcihlLCB0cnVlKSk7XG5cbiAgICAgIGlmICghY29ybmVyKSB7XG4gICAgICAgIGlmICh0YXJnZXQuc3ViVGFyZ2V0Q2hlY2spe1xuICAgICAgICAgIC8vIGhvdmVyQ3Vyc29yIHNob3VsZCBjb21lIGZyb20gdG9wLW1vc3Qgc3ViVGFyZ2V0LFxuICAgICAgICAgIC8vIHNvIHdlIHdhbGsgdGhlIGFycmF5IGJhY2t3YXJkc1xuICAgICAgICAgIHRoaXMudGFyZ2V0cy5jb25jYXQoKS5yZXZlcnNlKCkubWFwKGZ1bmN0aW9uKF90YXJnZXQpe1xuICAgICAgICAgICAgaG92ZXJDdXJzb3IgPSBfdGFyZ2V0LmhvdmVyQ3Vyc29yIHx8IGhvdmVyQ3Vyc29yO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0Q3Vyc29yKGhvdmVyQ3Vyc29yKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLnNldEN1cnNvcih0aGlzLmdldENvcm5lckN1cnNvcihjb3JuZXIsIHRhcmdldCwgZSkpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGdldENvcm5lckN1cnNvcjogZnVuY3Rpb24oY29ybmVyLCB0YXJnZXQsIGUpIHtcbiAgICAgIHZhciBjb250cm9sID0gdGFyZ2V0LmNvbnRyb2xzW2Nvcm5lcl07XG4gICAgICByZXR1cm4gY29udHJvbC5jdXJzb3JTdHlsZUhhbmRsZXIoZSwgY29udHJvbCwgdGFyZ2V0KTtcbiAgICB9XG4gIH0pO1xufSkoKTtcblxuXG4oZnVuY3Rpb24oKSB7XG5cbiAgdmFyIG1pbiA9IE1hdGgubWluLFxuICAgICAgbWF4ID0gTWF0aC5tYXg7XG5cbiAgZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZChmYWJyaWMuQ2FudmFzLnByb3RvdHlwZSwgLyoqIEBsZW5kcyBmYWJyaWMuQ2FudmFzLnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSB0YXJnZXRcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIF9zaG91bGRHcm91cDogZnVuY3Rpb24oZSwgdGFyZ2V0KSB7XG4gICAgICB2YXIgYWN0aXZlT2JqZWN0ID0gdGhpcy5fYWN0aXZlT2JqZWN0O1xuICAgICAgcmV0dXJuIGFjdGl2ZU9iamVjdCAmJiB0aGlzLl9pc1NlbGVjdGlvbktleVByZXNzZWQoZSkgJiYgdGFyZ2V0ICYmIHRhcmdldC5zZWxlY3RhYmxlICYmIHRoaXMuc2VsZWN0aW9uICYmXG4gICAgICAgICAgICAoYWN0aXZlT2JqZWN0ICE9PSB0YXJnZXQgfHwgYWN0aXZlT2JqZWN0LnR5cGUgPT09ICdhY3RpdmVTZWxlY3Rpb24nKSAmJiAhdGFyZ2V0Lm9uU2VsZWN0KHsgZTogZSB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gdGFyZ2V0XG4gICAgICovXG4gICAgX2hhbmRsZUdyb3VwaW5nOiBmdW5jdGlvbiAoZSwgdGFyZ2V0KSB7XG4gICAgICB2YXIgYWN0aXZlT2JqZWN0ID0gdGhpcy5fYWN0aXZlT2JqZWN0O1xuICAgICAgLy8gYXZvaWQgbXVsdGkgc2VsZWN0IHdoZW4gc2hpZnQgY2xpY2sgb24gYSBjb3JuZXJcbiAgICAgIGlmIChhY3RpdmVPYmplY3QuX19jb3JuZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHRhcmdldCA9PT0gYWN0aXZlT2JqZWN0KSB7XG4gICAgICAgIC8vIGlmIGl0J3MgYSBncm91cCwgZmluZCB0YXJnZXQgYWdhaW4sIHVzaW5nIGFjdGl2ZUdyb3VwIG9iamVjdHNcbiAgICAgICAgdGFyZ2V0ID0gdGhpcy5maW5kVGFyZ2V0KGUsIHRydWUpO1xuICAgICAgICAvLyBpZiBldmVuIG9iamVjdCBpcyBub3QgZm91bmQgb3Igd2UgYXJlIG9uIGFjdGl2ZU9iamVjdENvcm5lciwgYmFpbCBvdXRcbiAgICAgICAgaWYgKCF0YXJnZXQgfHwgIXRhcmdldC5zZWxlY3RhYmxlKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoYWN0aXZlT2JqZWN0ICYmIGFjdGl2ZU9iamVjdC50eXBlID09PSAnYWN0aXZlU2VsZWN0aW9uJykge1xuICAgICAgICB0aGlzLl91cGRhdGVBY3RpdmVTZWxlY3Rpb24odGFyZ2V0LCBlKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLl9jcmVhdGVBY3RpdmVTZWxlY3Rpb24odGFyZ2V0LCBlKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfdXBkYXRlQWN0aXZlU2VsZWN0aW9uOiBmdW5jdGlvbih0YXJnZXQsIGUpIHtcbiAgICAgIHZhciBhY3RpdmVTZWxlY3Rpb24gPSB0aGlzLl9hY3RpdmVPYmplY3QsXG4gICAgICAgICAgY3VycmVudEFjdGl2ZU9iamVjdHMgPSBhY3RpdmVTZWxlY3Rpb24uX29iamVjdHMuc2xpY2UoMCk7XG4gICAgICBpZiAoYWN0aXZlU2VsZWN0aW9uLmNvbnRhaW5zKHRhcmdldCkpIHtcbiAgICAgICAgYWN0aXZlU2VsZWN0aW9uLnJlbW92ZVdpdGhVcGRhdGUodGFyZ2V0KTtcbiAgICAgICAgdGhpcy5faG92ZXJlZFRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGhpcy5faG92ZXJlZFRhcmdldHMgPSB0aGlzLnRhcmdldHMuY29uY2F0KCk7XG4gICAgICAgIGlmIChhY3RpdmVTZWxlY3Rpb24uc2l6ZSgpID09PSAxKSB7XG4gICAgICAgICAgLy8gYWN0aXZhdGUgbGFzdCByZW1haW5pbmcgb2JqZWN0XG4gICAgICAgICAgdGhpcy5fc2V0QWN0aXZlT2JqZWN0KGFjdGl2ZVNlbGVjdGlvbi5pdGVtKDApLCBlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGFjdGl2ZVNlbGVjdGlvbi5hZGRXaXRoVXBkYXRlKHRhcmdldCk7XG4gICAgICAgIHRoaXMuX2hvdmVyZWRUYXJnZXQgPSBhY3RpdmVTZWxlY3Rpb247XG4gICAgICAgIHRoaXMuX2hvdmVyZWRUYXJnZXRzID0gdGhpcy50YXJnZXRzLmNvbmNhdCgpO1xuICAgICAgfVxuICAgICAgdGhpcy5fZmlyZVNlbGVjdGlvbkV2ZW50cyhjdXJyZW50QWN0aXZlT2JqZWN0cywgZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2NyZWF0ZUFjdGl2ZVNlbGVjdGlvbjogZnVuY3Rpb24odGFyZ2V0LCBlKSB7XG4gICAgICB2YXIgY3VycmVudEFjdGl2ZXMgPSB0aGlzLmdldEFjdGl2ZU9iamVjdHMoKSwgZ3JvdXAgPSB0aGlzLl9jcmVhdGVHcm91cCh0YXJnZXQpO1xuICAgICAgdGhpcy5faG92ZXJlZFRhcmdldCA9IGdyb3VwO1xuICAgICAgLy8gSVNTVUUgNDExNTogc2hvdWxkIHdlIGNvbnNpZGVyIHN1YlRhcmdldHMgaGVyZT9cbiAgICAgIC8vIHRoaXMuX2hvdmVyZWRUYXJnZXRzID0gW107XG4gICAgICAvLyB0aGlzLl9ob3ZlcmVkVGFyZ2V0cyA9IHRoaXMudGFyZ2V0cy5jb25jYXQoKTtcbiAgICAgIHRoaXMuX3NldEFjdGl2ZU9iamVjdChncm91cCwgZSk7XG4gICAgICB0aGlzLl9maXJlU2VsZWN0aW9uRXZlbnRzKGN1cnJlbnRBY3RpdmVzLCBlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0XG4gICAgICovXG4gICAgX2NyZWF0ZUdyb3VwOiBmdW5jdGlvbih0YXJnZXQpIHtcbiAgICAgIHZhciBvYmplY3RzID0gdGhpcy5fb2JqZWN0cyxcbiAgICAgICAgICBpc0FjdGl2ZUxvd2VyID0gb2JqZWN0cy5pbmRleE9mKHRoaXMuX2FjdGl2ZU9iamVjdCkgPCBvYmplY3RzLmluZGV4T2YodGFyZ2V0KSxcbiAgICAgICAgICBncm91cE9iamVjdHMgPSBpc0FjdGl2ZUxvd2VyXG4gICAgICAgICAgICA/IFt0aGlzLl9hY3RpdmVPYmplY3QsIHRhcmdldF1cbiAgICAgICAgICAgIDogW3RhcmdldCwgdGhpcy5fYWN0aXZlT2JqZWN0XTtcbiAgICAgIHRoaXMuX2FjdGl2ZU9iamVjdC5pc0VkaXRpbmcgJiYgdGhpcy5fYWN0aXZlT2JqZWN0LmV4aXRFZGl0aW5nKCk7XG4gICAgICByZXR1cm4gbmV3IGZhYnJpYy5BY3RpdmVTZWxlY3Rpb24oZ3JvdXBPYmplY3RzLCB7XG4gICAgICAgIGNhbnZhczogdGhpc1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBtb3VzZSBldmVudFxuICAgICAqL1xuICAgIF9ncm91cFNlbGVjdGVkT2JqZWN0czogZnVuY3Rpb24gKGUpIHtcblxuICAgICAgdmFyIGdyb3VwID0gdGhpcy5fY29sbGVjdE9iamVjdHMoZSksXG4gICAgICAgICAgYUdyb3VwO1xuXG4gICAgICAvLyBkbyBub3QgY3JlYXRlIGdyb3VwIGZvciAxIGVsZW1lbnQgb25seVxuICAgICAgaWYgKGdyb3VwLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICB0aGlzLnNldEFjdGl2ZU9iamVjdChncm91cFswXSwgZSk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChncm91cC5sZW5ndGggPiAxKSB7XG4gICAgICAgIGFHcm91cCA9IG5ldyBmYWJyaWMuQWN0aXZlU2VsZWN0aW9uKGdyb3VwLnJldmVyc2UoKSwge1xuICAgICAgICAgIGNhbnZhczogdGhpc1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZXRBY3RpdmVPYmplY3QoYUdyb3VwLCBlKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfY29sbGVjdE9iamVjdHM6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBncm91cCA9IFtdLFxuICAgICAgICAgIGN1cnJlbnRPYmplY3QsXG4gICAgICAgICAgeDEgPSB0aGlzLl9ncm91cFNlbGVjdG9yLmV4LFxuICAgICAgICAgIHkxID0gdGhpcy5fZ3JvdXBTZWxlY3Rvci5leSxcbiAgICAgICAgICB4MiA9IHgxICsgdGhpcy5fZ3JvdXBTZWxlY3Rvci5sZWZ0LFxuICAgICAgICAgIHkyID0geTEgKyB0aGlzLl9ncm91cFNlbGVjdG9yLnRvcCxcbiAgICAgICAgICBzZWxlY3Rpb25YMVkxID0gbmV3IGZhYnJpYy5Qb2ludChtaW4oeDEsIHgyKSwgbWluKHkxLCB5MikpLFxuICAgICAgICAgIHNlbGVjdGlvblgyWTIgPSBuZXcgZmFicmljLlBvaW50KG1heCh4MSwgeDIpLCBtYXgoeTEsIHkyKSksXG4gICAgICAgICAgYWxsb3dJbnRlcnNlY3QgPSAhdGhpcy5zZWxlY3Rpb25GdWxseUNvbnRhaW5lZCxcbiAgICAgICAgICBpc0NsaWNrID0geDEgPT09IHgyICYmIHkxID09PSB5MjtcbiAgICAgIC8vIHdlIGl0ZXJhdGUgcmV2ZXJzZSBvcmRlciB0byBjb2xsZWN0IHRvcCBmaXJzdCBpbiBjYXNlIG9mIGNsaWNrLlxuICAgICAgZm9yICh2YXIgaSA9IHRoaXMuX29iamVjdHMubGVuZ3RoOyBpLS07ICkge1xuICAgICAgICBjdXJyZW50T2JqZWN0ID0gdGhpcy5fb2JqZWN0c1tpXTtcblxuICAgICAgICBpZiAoIWN1cnJlbnRPYmplY3QgfHwgIWN1cnJlbnRPYmplY3Quc2VsZWN0YWJsZSB8fCAhY3VycmVudE9iamVjdC52aXNpYmxlKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoKGFsbG93SW50ZXJzZWN0ICYmIGN1cnJlbnRPYmplY3QuaW50ZXJzZWN0c1dpdGhSZWN0KHNlbGVjdGlvblgxWTEsIHNlbGVjdGlvblgyWTIsIHRydWUpKSB8fFxuICAgICAgICAgICAgY3VycmVudE9iamVjdC5pc0NvbnRhaW5lZFdpdGhpblJlY3Qoc2VsZWN0aW9uWDFZMSwgc2VsZWN0aW9uWDJZMiwgdHJ1ZSkgfHxcbiAgICAgICAgICAgIChhbGxvd0ludGVyc2VjdCAmJiBjdXJyZW50T2JqZWN0LmNvbnRhaW5zUG9pbnQoc2VsZWN0aW9uWDFZMSwgbnVsbCwgdHJ1ZSkpIHx8XG4gICAgICAgICAgICAoYWxsb3dJbnRlcnNlY3QgJiYgY3VycmVudE9iamVjdC5jb250YWluc1BvaW50KHNlbGVjdGlvblgyWTIsIG51bGwsIHRydWUpKVxuICAgICAgICApIHtcbiAgICAgICAgICBncm91cC5wdXNoKGN1cnJlbnRPYmplY3QpO1xuICAgICAgICAgIC8vIG9ubHkgYWRkIG9uZSBvYmplY3QgaWYgaXQncyBhIGNsaWNrXG4gICAgICAgICAgaWYgKGlzQ2xpY2spIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZ3JvdXAubGVuZ3RoID4gMSkge1xuICAgICAgICBncm91cCA9IGdyb3VwLmZpbHRlcihmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgICByZXR1cm4gIW9iamVjdC5vblNlbGVjdCh7IGU6IGUgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ3JvdXA7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX21heWJlR3JvdXBPYmplY3RzOiBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAodGhpcy5zZWxlY3Rpb24gJiYgdGhpcy5fZ3JvdXBTZWxlY3Rvcikge1xuICAgICAgICB0aGlzLl9ncm91cFNlbGVjdGVkT2JqZWN0cyhlKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2V0Q3Vyc29yKHRoaXMuZGVmYXVsdEN1cnNvcik7XG4gICAgICAvLyBjbGVhciBzZWxlY3Rpb24gYW5kIGN1cnJlbnQgdHJhbnNmb3JtYXRpb25cbiAgICAgIHRoaXMuX2dyb3VwU2VsZWN0b3IgPSBudWxsO1xuICAgIH1cbiAgfSk7XG5cbn0pKCk7XG5cblxuKGZ1bmN0aW9uICgpIHtcbiAgZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZChmYWJyaWMuU3RhdGljQ2FudmFzLnByb3RvdHlwZSwgLyoqIEBsZW5kcyBmYWJyaWMuU3RhdGljQ2FudmFzLnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBFeHBvcnRzIGNhbnZhcyBlbGVtZW50IHRvIGEgZGF0YXVybCBpbWFnZS4gTm90ZSB0aGF0IHdoZW4gbXVsdGlwbGllciBpcyB1c2VkLCBjcm9wcGluZyBpcyBzY2FsZWQgYXBwcm9wcmlhdGVseVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuZm9ybWF0PXBuZ10gVGhlIGZvcm1hdCBvZiB0aGUgb3V0cHV0IGltYWdlLiBFaXRoZXIgXCJqcGVnXCIgb3IgXCJwbmdcIlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5xdWFsaXR5PTFdIFF1YWxpdHkgbGV2ZWwgKDAuLjEpLiBPbmx5IHVzZWQgZm9yIGpwZWcuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm11bHRpcGxpZXI9MV0gTXVsdGlwbGllciB0byBzY2FsZSBieSwgdG8gaGF2ZSBjb25zaXN0ZW50XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmxlZnRdIENyb3BwaW5nIGxlZnQgb2Zmc2V0LiBJbnRyb2R1Y2VkIGluIHYxLjIuMTRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMudG9wXSBDcm9wcGluZyB0b3Agb2Zmc2V0LiBJbnRyb2R1Y2VkIGluIHYxLjIuMTRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMud2lkdGhdIENyb3BwaW5nIHdpZHRoLiBJbnRyb2R1Y2VkIGluIHYxLjIuMTRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuaGVpZ2h0XSBDcm9wcGluZyBoZWlnaHQuIEludHJvZHVjZWQgaW4gdjEuMi4xNFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuZW5hYmxlUmV0aW5hU2NhbGluZ10gRW5hYmxlIHJldGluYSBzY2FsaW5nIGZvciBjbG9uZSBpbWFnZS4gSW50cm9kdWNlIGluIDIuMC4wXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBSZXR1cm5zIGEgZGF0YTogVVJMIGNvbnRhaW5pbmcgYSByZXByZXNlbnRhdGlvbiBvZiB0aGUgb2JqZWN0IGluIHRoZSBmb3JtYXQgc3BlY2lmaWVkIGJ5IG9wdGlvbnMuZm9ybWF0XG4gICAgICogQHNlZSB7QGxpbmsgaHR0cDovL2pzZmlkZGxlLm5ldC9mYWJyaWNqcy9OZlpWYi98anNGaWRkbGUgZGVtb31cbiAgICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5HZW5lcmF0ZSBqcGVnIGRhdGFVUkwgd2l0aCBsb3dlciBxdWFsaXR5PC9jYXB0aW9uPlxuICAgICAqIHZhciBkYXRhVVJMID0gY2FudmFzLnRvRGF0YVVSTCh7XG4gICAgICogICBmb3JtYXQ6ICdqcGVnJyxcbiAgICAgKiAgIHF1YWxpdHk6IDAuOFxuICAgICAqIH0pO1xuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPkdlbmVyYXRlIGNyb3BwZWQgcG5nIGRhdGFVUkwgKGNsaXBwaW5nIG9mIGNhbnZhcyk8L2NhcHRpb24+XG4gICAgICogdmFyIGRhdGFVUkwgPSBjYW52YXMudG9EYXRhVVJMKHtcbiAgICAgKiAgIGZvcm1hdDogJ3BuZycsXG4gICAgICogICBsZWZ0OiAxMDAsXG4gICAgICogICB0b3A6IDEwMCxcbiAgICAgKiAgIHdpZHRoOiAyMDAsXG4gICAgICogICBoZWlnaHQ6IDIwMFxuICAgICAqIH0pO1xuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPkdlbmVyYXRlIGRvdWJsZSBzY2FsZWQgcG5nIGRhdGFVUkw8L2NhcHRpb24+XG4gICAgICogdmFyIGRhdGFVUkwgPSBjYW52YXMudG9EYXRhVVJMKHtcbiAgICAgKiAgIGZvcm1hdDogJ3BuZycsXG4gICAgICogICBtdWx0aXBsaWVyOiAyXG4gICAgICogfSk7XG4gICAgICovXG4gICAgdG9EYXRhVVJMOiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgb3B0aW9ucyB8fCAob3B0aW9ucyA9IHsgfSk7XG5cbiAgICAgIHZhciBmb3JtYXQgPSBvcHRpb25zLmZvcm1hdCB8fCAncG5nJyxcbiAgICAgICAgICBxdWFsaXR5ID0gb3B0aW9ucy5xdWFsaXR5IHx8IDEsXG4gICAgICAgICAgbXVsdGlwbGllciA9IChvcHRpb25zLm11bHRpcGxpZXIgfHwgMSkgKiAob3B0aW9ucy5lbmFibGVSZXRpbmFTY2FsaW5nID8gdGhpcy5nZXRSZXRpbmFTY2FsaW5nKCkgOiAxKSxcbiAgICAgICAgICBjYW52YXNFbCA9IHRoaXMudG9DYW52YXNFbGVtZW50KG11bHRpcGxpZXIsIG9wdGlvbnMpO1xuICAgICAgcmV0dXJuIGZhYnJpYy51dGlsLnRvRGF0YVVSTChjYW52YXNFbCwgZm9ybWF0LCBxdWFsaXR5KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IEhUTUxDYW52YXMgZWxlbWVudCBwYWludGVkIHdpdGggdGhlIGN1cnJlbnQgY2FudmFzIGNvbnRlbnQuXG4gICAgICogTm8gbmVlZCB0byByZXNpemUgdGhlIGFjdHVhbCBvbmUgb3IgcmVwYWludCBpdC5cbiAgICAgKiBXaWxsIHRyYW5zZmVyIG9iamVjdCBvd25lcnNoaXAgdG8gYSBuZXcgY2FudmFzLCBwYWludCBpdCwgYW5kIHNldCBldmVyeXRoaW5nIGJhY2suXG4gICAgICogVGhpcyBpcyBhbiBpbnRlcm1lZGlhcnkgc3RlcCB1c2VkIHRvIGdldCB0byBhIGRhdGFVcmwgYnV0IGFsc28gaXQgaXMgdXNlZnVsIHRvXG4gICAgICogY3JlYXRlIHF1aWNrIGltYWdlIGNvcGllcyBvZiBhIGNhbnZhcyB3aXRob3V0IHBhc3NpbmcgZm9yIHRoZSBkYXRhVXJsIHN0cmluZ1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbbXVsdGlwbGllcl0gYSB6b29tIGZhY3Rvci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2Nyb3BwaW5nXSBDcm9wcGluZyBpbmZvcm1hdGlvbnNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2Nyb3BwaW5nLmxlZnRdIENyb3BwaW5nIGxlZnQgb2Zmc2V0LlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY3JvcHBpbmcudG9wXSBDcm9wcGluZyB0b3Agb2Zmc2V0LlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY3JvcHBpbmcud2lkdGhdIENyb3BwaW5nIHdpZHRoLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY3JvcHBpbmcuaGVpZ2h0XSBDcm9wcGluZyBoZWlnaHQuXG4gICAgICovXG4gICAgdG9DYW52YXNFbGVtZW50OiBmdW5jdGlvbihtdWx0aXBsaWVyLCBjcm9wcGluZykge1xuICAgICAgbXVsdGlwbGllciA9IG11bHRpcGxpZXIgfHwgMTtcbiAgICAgIGNyb3BwaW5nID0gY3JvcHBpbmcgfHwgeyB9O1xuICAgICAgdmFyIHNjYWxlZFdpZHRoID0gKGNyb3BwaW5nLndpZHRoIHx8IHRoaXMud2lkdGgpICogbXVsdGlwbGllcixcbiAgICAgICAgICBzY2FsZWRIZWlnaHQgPSAoY3JvcHBpbmcuaGVpZ2h0IHx8IHRoaXMuaGVpZ2h0KSAqIG11bHRpcGxpZXIsXG4gICAgICAgICAgem9vbSA9IHRoaXMuZ2V0Wm9vbSgpLFxuICAgICAgICAgIG9yaWdpbmFsV2lkdGggPSB0aGlzLndpZHRoLFxuICAgICAgICAgIG9yaWdpbmFsSGVpZ2h0ID0gdGhpcy5oZWlnaHQsXG4gICAgICAgICAgbmV3Wm9vbSA9IHpvb20gKiBtdWx0aXBsaWVyLFxuICAgICAgICAgIHZwID0gdGhpcy52aWV3cG9ydFRyYW5zZm9ybSxcbiAgICAgICAgICB0cmFuc2xhdGVYID0gKHZwWzRdIC0gKGNyb3BwaW5nLmxlZnQgfHwgMCkpICogbXVsdGlwbGllcixcbiAgICAgICAgICB0cmFuc2xhdGVZID0gKHZwWzVdIC0gKGNyb3BwaW5nLnRvcCB8fCAwKSkgKiBtdWx0aXBsaWVyLFxuICAgICAgICAgIG9yaWdpbmFsSW50ZXJhY3RpdmUgPSB0aGlzLmludGVyYWN0aXZlLFxuICAgICAgICAgIG5ld1ZwID0gW25ld1pvb20sIDAsIDAsIG5ld1pvb20sIHRyYW5zbGF0ZVgsIHRyYW5zbGF0ZVldLFxuICAgICAgICAgIG9yaWdpbmFsUmV0aW5hID0gdGhpcy5lbmFibGVSZXRpbmFTY2FsaW5nLFxuICAgICAgICAgIGNhbnZhc0VsID0gZmFicmljLnV0aWwuY3JlYXRlQ2FudmFzRWxlbWVudCgpLFxuICAgICAgICAgIG9yaWdpbmFsQ29udGV4dFRvcCA9IHRoaXMuY29udGV4dFRvcDtcbiAgICAgIGNhbnZhc0VsLndpZHRoID0gc2NhbGVkV2lkdGg7XG4gICAgICBjYW52YXNFbC5oZWlnaHQgPSBzY2FsZWRIZWlnaHQ7XG4gICAgICB0aGlzLmNvbnRleHRUb3AgPSBudWxsO1xuICAgICAgdGhpcy5lbmFibGVSZXRpbmFTY2FsaW5nID0gZmFsc2U7XG4gICAgICB0aGlzLmludGVyYWN0aXZlID0gZmFsc2U7XG4gICAgICB0aGlzLnZpZXdwb3J0VHJhbnNmb3JtID0gbmV3VnA7XG4gICAgICB0aGlzLndpZHRoID0gc2NhbGVkV2lkdGg7XG4gICAgICB0aGlzLmhlaWdodCA9IHNjYWxlZEhlaWdodDtcbiAgICAgIHRoaXMuY2FsY1ZpZXdwb3J0Qm91bmRhcmllcygpO1xuICAgICAgdGhpcy5yZW5kZXJDYW52YXMoY2FudmFzRWwuZ2V0Q29udGV4dCgnMmQnKSwgdGhpcy5fb2JqZWN0cyk7XG4gICAgICB0aGlzLnZpZXdwb3J0VHJhbnNmb3JtID0gdnA7XG4gICAgICB0aGlzLndpZHRoID0gb3JpZ2luYWxXaWR0aDtcbiAgICAgIHRoaXMuaGVpZ2h0ID0gb3JpZ2luYWxIZWlnaHQ7XG4gICAgICB0aGlzLmNhbGNWaWV3cG9ydEJvdW5kYXJpZXMoKTtcbiAgICAgIHRoaXMuaW50ZXJhY3RpdmUgPSBvcmlnaW5hbEludGVyYWN0aXZlO1xuICAgICAgdGhpcy5lbmFibGVSZXRpbmFTY2FsaW5nID0gb3JpZ2luYWxSZXRpbmE7XG4gICAgICB0aGlzLmNvbnRleHRUb3AgPSBvcmlnaW5hbENvbnRleHRUb3A7XG4gICAgICByZXR1cm4gY2FudmFzRWw7XG4gICAgfSxcbiAgfSk7XG5cbn0pKCk7XG5cblxuZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZChmYWJyaWMuU3RhdGljQ2FudmFzLnByb3RvdHlwZSwgLyoqIEBsZW5kcyBmYWJyaWMuU3RhdGljQ2FudmFzLnByb3RvdHlwZSAqLyB7XG4gIC8qKlxuICAgKiBQb3B1bGF0ZXMgY2FudmFzIHdpdGggZGF0YSBmcm9tIHRoZSBzcGVjaWZpZWQgSlNPTi5cbiAgICogSlNPTiBmb3JtYXQgbXVzdCBjb25mb3JtIHRvIHRoZSBvbmUgb2Yge0BsaW5rIGZhYnJpYy5DYW52YXMjdG9KU09OfVxuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IGpzb24gSlNPTiBzdHJpbmcgb3Igb2JqZWN0XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIENhbGxiYWNrLCBpbnZva2VkIHdoZW4ganNvbiBpcyBwYXJzZWRcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5kIGNvcnJlc3BvbmRpbmcgb2JqZWN0cyAoZS5nOiB7QGxpbmsgZmFicmljLkltYWdlfSlcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJlIGluaXRpYWxpemVkXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXZpdmVyXSBNZXRob2QgZm9yIGZ1cnRoZXIgcGFyc2luZyBvZiBKU09OIGVsZW1lbnRzLCBjYWxsZWQgYWZ0ZXIgZWFjaCBmYWJyaWMgb2JqZWN0IGNyZWF0ZWQuXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IGluc3RhbmNlXG4gICAqIEBjaGFpbmFibGVcbiAgICogQHR1dG9yaWFsIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ZhYnJpYy1pbnRyby1wYXJ0LTMjZGVzZXJpYWxpemF0aW9ufVxuICAgKiBAc2VlIHtAbGluayBodHRwOi8vanNmaWRkbGUubmV0L2ZhYnJpY2pzL2ZtZ1h0L3xqc0ZpZGRsZSBkZW1vfVxuICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5sb2FkRnJvbUpTT048L2NhcHRpb24+XG4gICAqIGNhbnZhcy5sb2FkRnJvbUpTT04oanNvbiwgY2FudmFzLnJlbmRlckFsbC5iaW5kKGNhbnZhcykpO1xuICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5sb2FkRnJvbUpTT04gd2l0aCByZXZpdmVyPC9jYXB0aW9uPlxuICAgKiBjYW52YXMubG9hZEZyb21KU09OKGpzb24sIGNhbnZhcy5yZW5kZXJBbGwuYmluZChjYW52YXMpLCBmdW5jdGlvbihvLCBvYmplY3QpIHtcbiAgICogICAvLyBgb2AgPSBqc29uIG9iamVjdFxuICAgKiAgIC8vIGBvYmplY3RgID0gZmFicmljLk9iamVjdCBpbnN0YW5jZVxuICAgKiAgIC8vIC4uLiBkbyBzb21lIHN0dWZmIC4uLlxuICAgKiB9KTtcbiAgICovXG4gIGxvYWRGcm9tSlNPTjogZnVuY3Rpb24gKGpzb24sIGNhbGxiYWNrLCByZXZpdmVyKSB7XG4gICAgaWYgKCFqc29uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gc2VyaWFsaXplIGlmIGl0IHdhc24ndCBhbHJlYWR5XG4gICAgdmFyIHNlcmlhbGl6ZWQgPSAodHlwZW9mIGpzb24gPT09ICdzdHJpbmcnKVxuICAgICAgPyBKU09OLnBhcnNlKGpzb24pXG4gICAgICA6IGZhYnJpYy51dGlsLm9iamVjdC5jbG9uZShqc29uKTtcblxuICAgIHZhciBfdGhpcyA9IHRoaXMsXG4gICAgICAgIGNsaXBQYXRoID0gc2VyaWFsaXplZC5jbGlwUGF0aCxcbiAgICAgICAgcmVuZGVyT25BZGRSZW1vdmUgPSB0aGlzLnJlbmRlck9uQWRkUmVtb3ZlO1xuXG4gICAgdGhpcy5yZW5kZXJPbkFkZFJlbW92ZSA9IGZhbHNlO1xuXG4gICAgZGVsZXRlIHNlcmlhbGl6ZWQuY2xpcFBhdGg7XG5cbiAgICB0aGlzLl9lbmxpdmVuT2JqZWN0cyhzZXJpYWxpemVkLm9iamVjdHMsIGZ1bmN0aW9uIChlbmxpdmVuZWRPYmplY3RzKSB7XG4gICAgICBfdGhpcy5jbGVhcigpO1xuICAgICAgX3RoaXMuX3NldEJnT3ZlcmxheShzZXJpYWxpemVkLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChjbGlwUGF0aCkge1xuICAgICAgICAgIF90aGlzLl9lbmxpdmVuT2JqZWN0cyhbY2xpcFBhdGhdLCBmdW5jdGlvbiAoZW5saXZlbmVkQ2FudmFzQ2xpcCkge1xuICAgICAgICAgICAgX3RoaXMuY2xpcFBhdGggPSBlbmxpdmVuZWRDYW52YXNDbGlwWzBdO1xuICAgICAgICAgICAgX3RoaXMuX19zZXR1cENhbnZhcy5jYWxsKF90aGlzLCBzZXJpYWxpemVkLCBlbmxpdmVuZWRPYmplY3RzLCByZW5kZXJPbkFkZFJlbW92ZSwgY2FsbGJhY2spO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIF90aGlzLl9fc2V0dXBDYW52YXMuY2FsbChfdGhpcywgc2VyaWFsaXplZCwgZW5saXZlbmVkT2JqZWN0cywgcmVuZGVyT25BZGRSZW1vdmUsIGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSwgcmV2aXZlcik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzZXJpYWxpemVkIE9iamVjdCB3aXRoIGJhY2tncm91bmQgYW5kIG92ZXJsYXkgaW5mb3JtYXRpb25cbiAgICogQHBhcmFtIHtBcnJheX0gcmVzdG9yZWQgY2FudmFzIG9iamVjdHNcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FjaGVkIHJlbmRlck9uQWRkUmVtb3ZlIGNhbGxiYWNrXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIEludm9rZWQgYWZ0ZXIgYWxsIGJhY2tncm91bmQgYW5kIG92ZXJsYXkgaW1hZ2VzL3BhdHRlcm5zIGxvYWRlZFxuICAgKi9cbiAgX19zZXR1cENhbnZhczogZnVuY3Rpb24oc2VyaWFsaXplZCwgZW5saXZlbmVkT2JqZWN0cywgcmVuZGVyT25BZGRSZW1vdmUsIGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICBlbmxpdmVuZWRPYmplY3RzLmZvckVhY2goZnVuY3Rpb24ob2JqLCBpbmRleCkge1xuICAgICAgLy8gd2Ugc3BsaWNlIHRoZSBhcnJheSBqdXN0IGluIGNhc2Ugc29tZSBjdXN0b20gY2xhc3NlcyByZXN0b3JlZCBmcm9tIEpTT05cbiAgICAgIC8vIHdpbGwgYWRkIG1vcmUgb2JqZWN0IHRvIGNhbnZhcyBhdCBjYW52YXMgaW5pdC5cbiAgICAgIF90aGlzLmluc2VydEF0KG9iaiwgaW5kZXgpO1xuICAgIH0pO1xuICAgIHRoaXMucmVuZGVyT25BZGRSZW1vdmUgPSByZW5kZXJPbkFkZFJlbW92ZTtcbiAgICAvLyByZW1vdmUgcGFydHMgaSBjYW5ub3Qgc2V0IGFzIG9wdGlvbnNcbiAgICBkZWxldGUgc2VyaWFsaXplZC5vYmplY3RzO1xuICAgIGRlbGV0ZSBzZXJpYWxpemVkLmJhY2tncm91bmRJbWFnZTtcbiAgICBkZWxldGUgc2VyaWFsaXplZC5vdmVybGF5SW1hZ2U7XG4gICAgZGVsZXRlIHNlcmlhbGl6ZWQuYmFja2dyb3VuZDtcbiAgICBkZWxldGUgc2VyaWFsaXplZC5vdmVybGF5O1xuICAgIC8vIHRoaXMuX2luaXRPcHRpb25zIGRvZXMgdG9vIG1hbnkgdGhpbmdzIHRvIGp1c3RcbiAgICAvLyBjYWxsIGl0LiBOb3JtYWxseSBsb2FkaW5nIGFuIE9iamVjdCBmcm9tIEpTT05cbiAgICAvLyBjcmVhdGUgdGhlIE9iamVjdCBpbnN0YW5jZS4gSGVyZSB0aGUgQ2FudmFzIGlzXG4gICAgLy8gYWxyZWFkeSBhbiBpbnN0YW5jZSBhbmQgd2UgYXJlIGp1c3QgbG9hZGluZyB0aGluZ3Mgb3ZlciBpdFxuICAgIHRoaXMuX3NldE9wdGlvbnMoc2VyaWFsaXplZCk7XG4gICAgdGhpcy5yZW5kZXJBbGwoKTtcbiAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gc2VyaWFsaXplZCBPYmplY3Qgd2l0aCBiYWNrZ3JvdW5kIGFuZCBvdmVybGF5IGluZm9ybWF0aW9uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIEludm9rZWQgYWZ0ZXIgYWxsIGJhY2tncm91bmQgYW5kIG92ZXJsYXkgaW1hZ2VzL3BhdHRlcm5zIGxvYWRlZFxuICAgKi9cbiAgX3NldEJnT3ZlcmxheTogZnVuY3Rpb24oc2VyaWFsaXplZCwgY2FsbGJhY2spIHtcbiAgICB2YXIgbG9hZGVkID0ge1xuICAgICAgYmFja2dyb3VuZENvbG9yOiBmYWxzZSxcbiAgICAgIG92ZXJsYXlDb2xvcjogZmFsc2UsXG4gICAgICBiYWNrZ3JvdW5kSW1hZ2U6IGZhbHNlLFxuICAgICAgb3ZlcmxheUltYWdlOiBmYWxzZVxuICAgIH07XG5cbiAgICBpZiAoIXNlcmlhbGl6ZWQuYmFja2dyb3VuZEltYWdlICYmICFzZXJpYWxpemVkLm92ZXJsYXlJbWFnZSAmJiAhc2VyaWFsaXplZC5iYWNrZ3JvdW5kICYmICFzZXJpYWxpemVkLm92ZXJsYXkpIHtcbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGNiSWZMb2FkZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAobG9hZGVkLmJhY2tncm91bmRJbWFnZSAmJiBsb2FkZWQub3ZlcmxheUltYWdlICYmIGxvYWRlZC5iYWNrZ3JvdW5kQ29sb3IgJiYgbG9hZGVkLm92ZXJsYXlDb2xvcikge1xuICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLl9fc2V0QmdPdmVybGF5KCdiYWNrZ3JvdW5kSW1hZ2UnLCBzZXJpYWxpemVkLmJhY2tncm91bmRJbWFnZSwgbG9hZGVkLCBjYklmTG9hZGVkKTtcbiAgICB0aGlzLl9fc2V0QmdPdmVybGF5KCdvdmVybGF5SW1hZ2UnLCBzZXJpYWxpemVkLm92ZXJsYXlJbWFnZSwgbG9hZGVkLCBjYklmTG9hZGVkKTtcbiAgICB0aGlzLl9fc2V0QmdPdmVybGF5KCdiYWNrZ3JvdW5kQ29sb3InLCBzZXJpYWxpemVkLmJhY2tncm91bmQsIGxvYWRlZCwgY2JJZkxvYWRlZCk7XG4gICAgdGhpcy5fX3NldEJnT3ZlcmxheSgnb3ZlcmxheUNvbG9yJywgc2VyaWFsaXplZC5vdmVybGF5LCBsb2FkZWQsIGNiSWZMb2FkZWQpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydHkgUHJvcGVydHkgdG8gc2V0IChiYWNrZ3JvdW5kSW1hZ2UsIG92ZXJsYXlJbWFnZSwgYmFja2dyb3VuZENvbG9yLCBvdmVybGF5Q29sb3IpXG4gICAqIEBwYXJhbSB7KE9iamVjdHxTdHJpbmcpfSB2YWx1ZSBWYWx1ZSB0byBzZXRcbiAgICogQHBhcmFtIHtPYmplY3R9IGxvYWRlZCBTZXQgbG9hZGVkIHByb3BlcnR5IHRvIHRydWUgaWYgcHJvcGVydHkgaXMgc2V0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjYWxsYmFjayBDYWxsYmFjayBmdW5jdGlvbiB0byBpbnZva2UgYWZ0ZXIgcHJvcGVydHkgaXMgc2V0XG4gICAqL1xuICBfX3NldEJnT3ZlcmxheTogZnVuY3Rpb24ocHJvcGVydHksIHZhbHVlLCBsb2FkZWQsIGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGlmICghdmFsdWUpIHtcbiAgICAgIGxvYWRlZFtwcm9wZXJ0eV0gPSB0cnVlO1xuICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocHJvcGVydHkgPT09ICdiYWNrZ3JvdW5kSW1hZ2UnIHx8IHByb3BlcnR5ID09PSAnb3ZlcmxheUltYWdlJykge1xuICAgICAgZmFicmljLnV0aWwuZW5saXZlbk9iamVjdHMoW3ZhbHVlXSwgZnVuY3Rpb24oZW5saXZlZE9iamVjdCl7XG4gICAgICAgIF90aGlzW3Byb3BlcnR5XSA9IGVubGl2ZWRPYmplY3RbMF07XG4gICAgICAgIGxvYWRlZFtwcm9wZXJ0eV0gPSB0cnVlO1xuICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpc1snc2V0JyArIGZhYnJpYy51dGlsLnN0cmluZy5jYXBpdGFsaXplKHByb3BlcnR5LCB0cnVlKV0odmFsdWUsIGZ1bmN0aW9uKCkge1xuICAgICAgICBsb2FkZWRbcHJvcGVydHldID0gdHJ1ZTtcbiAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gb2JqZWN0c1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcmV2aXZlcl1cbiAgICovXG4gIF9lbmxpdmVuT2JqZWN0czogZnVuY3Rpb24gKG9iamVjdHMsIGNhbGxiYWNrLCByZXZpdmVyKSB7XG4gICAgaWYgKCFvYmplY3RzIHx8IG9iamVjdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhbXSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZmFicmljLnV0aWwuZW5saXZlbk9iamVjdHMob2JqZWN0cywgZnVuY3Rpb24oZW5saXZlbmVkT2JqZWN0cykge1xuICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soZW5saXZlbmVkT2JqZWN0cyk7XG4gICAgfSwgbnVsbCwgcmV2aXZlcik7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBmb3JtYXRcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICovXG4gIF90b0RhdGFVUkw6IGZ1bmN0aW9uIChmb3JtYXQsIGNhbGxiYWNrKSB7XG4gICAgdGhpcy5jbG9uZShmdW5jdGlvbiAoY2xvbmUpIHtcbiAgICAgIGNhbGxiYWNrKGNsb25lLnRvRGF0YVVSTChmb3JtYXQpKTtcbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtTdHJpbmd9IGZvcm1hdFxuICAgKiBAcGFyYW0ge051bWJlcn0gbXVsdGlwbGllclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgKi9cbiAgX3RvRGF0YVVSTFdpdGhNdWx0aXBsaWVyOiBmdW5jdGlvbiAoZm9ybWF0LCBtdWx0aXBsaWVyLCBjYWxsYmFjaykge1xuICAgIHRoaXMuY2xvbmUoZnVuY3Rpb24gKGNsb25lKSB7XG4gICAgICBjYWxsYmFjayhjbG9uZS50b0RhdGFVUkxXaXRoTXVsdGlwbGllcihmb3JtYXQsIG11bHRpcGxpZXIpKTtcbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogQ2xvbmVzIGNhbnZhcyBpbnN0YW5jZVxuICAgKiBAcGFyYW0ge09iamVjdH0gW2NhbGxiYWNrXSBSZWNlaXZlcyBjbG9uZWQgaW5zdGFuY2UgYXMgYSBmaXJzdCBhcmd1bWVudFxuICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcGVydGllc10gQXJyYXkgb2YgcHJvcGVydGllcyB0byBpbmNsdWRlIGluIHRoZSBjbG9uZWQgY2FudmFzIGFuZCBjaGlsZHJlblxuICAgKi9cbiAgY2xvbmU6IGZ1bmN0aW9uIChjYWxsYmFjaywgcHJvcGVydGllcykge1xuICAgIHZhciBkYXRhID0gSlNPTi5zdHJpbmdpZnkodGhpcy50b0pTT04ocHJvcGVydGllcykpO1xuICAgIHRoaXMuY2xvbmVXaXRob3V0RGF0YShmdW5jdGlvbihjbG9uZSkge1xuICAgICAgY2xvbmUubG9hZEZyb21KU09OKGRhdGEsIGZ1bmN0aW9uKCkge1xuICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhjbG9uZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogQ2xvbmVzIGNhbnZhcyBpbnN0YW5jZSB3aXRob3V0IGNsb25pbmcgZXhpc3RpbmcgZGF0YS5cbiAgICogVGhpcyBlc3NlbnRpYWxseSBjb3BpZXMgY2FudmFzIGRpbWVuc2lvbnMsIGNsaXBwaW5nIHByb3BlcnRpZXMsIGV0Yy5cbiAgICogYnV0IGxlYXZlcyBkYXRhIGVtcHR5IChzbyB0aGF0IHlvdSBjYW4gcG9wdWxhdGUgaXQgd2l0aCB5b3VyIG93bilcbiAgICogQHBhcmFtIHtPYmplY3R9IFtjYWxsYmFja10gUmVjZWl2ZXMgY2xvbmVkIGluc3RhbmNlIGFzIGEgZmlyc3QgYXJndW1lbnRcbiAgICovXG4gIGNsb25lV2l0aG91dERhdGE6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgdmFyIGVsID0gZmFicmljLnV0aWwuY3JlYXRlQ2FudmFzRWxlbWVudCgpO1xuXG4gICAgZWwud2lkdGggPSB0aGlzLndpZHRoO1xuICAgIGVsLmhlaWdodCA9IHRoaXMuaGVpZ2h0O1xuXG4gICAgdmFyIGNsb25lID0gbmV3IGZhYnJpYy5DYW52YXMoZWwpO1xuICAgIGlmICh0aGlzLmJhY2tncm91bmRJbWFnZSkge1xuICAgICAgY2xvbmUuc2V0QmFja2dyb3VuZEltYWdlKHRoaXMuYmFja2dyb3VuZEltYWdlLnNyYywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGNsb25lLnJlbmRlckFsbCgpO1xuICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhjbG9uZSk7XG4gICAgICB9KTtcbiAgICAgIGNsb25lLmJhY2tncm91bmRJbWFnZU9wYWNpdHkgPSB0aGlzLmJhY2tncm91bmRJbWFnZU9wYWNpdHk7XG4gICAgICBjbG9uZS5iYWNrZ3JvdW5kSW1hZ2VTdHJldGNoID0gdGhpcy5iYWNrZ3JvdW5kSW1hZ2VTdHJldGNoO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGNsb25lKTtcbiAgICB9XG4gIH1cbn0pO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyA9IGdsb2JhbC5mYWJyaWMgfHwgKGdsb2JhbC5mYWJyaWMgPSB7IH0pLFxuICAgICAgZXh0ZW5kID0gZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZCxcbiAgICAgIGNsb25lID0gZmFicmljLnV0aWwub2JqZWN0LmNsb25lLFxuICAgICAgdG9GaXhlZCA9IGZhYnJpYy51dGlsLnRvRml4ZWQsXG4gICAgICBjYXBpdGFsaXplID0gZmFicmljLnV0aWwuc3RyaW5nLmNhcGl0YWxpemUsXG4gICAgICBkZWdyZWVzVG9SYWRpYW5zID0gZmFicmljLnV0aWwuZGVncmVlc1RvUmFkaWFucyxcbiAgICAgIG9iamVjdENhY2hpbmcgPSAhZmFicmljLmlzTGlrZWx5Tm9kZSxcbiAgICAgIEFMSUFTSU5HX0xJTUlUID0gMjtcblxuICBpZiAoZmFicmljLk9iamVjdCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSb290IG9iamVjdCBjbGFzcyBmcm9tIHdoaWNoIGFsbCAyZCBzaGFwZSBjbGFzc2VzIGluaGVyaXQgZnJvbVxuICAgKiBAY2xhc3MgZmFicmljLk9iamVjdFxuICAgKiBAdHV0b3JpYWwge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vZmFicmljLWludHJvLXBhcnQtMSNvYmplY3RzfVxuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuT2JqZWN0I2luaXRpYWxpemV9IGZvciBjb25zdHJ1Y3RvciBkZWZpbml0aW9uXG4gICAqXG4gICAqIEBmaXJlcyBhZGRlZFxuICAgKiBAZmlyZXMgcmVtb3ZlZFxuICAgKlxuICAgKiBAZmlyZXMgc2VsZWN0ZWRcbiAgICogQGZpcmVzIGRlc2VsZWN0ZWRcbiAgICogQGZpcmVzIG1vZGlmaWVkXG4gICAqIEBmaXJlcyBtb2RpZmllZFxuICAgKiBAZmlyZXMgbW92ZWRcbiAgICogQGZpcmVzIHNjYWxlZFxuICAgKiBAZmlyZXMgcm90YXRlZFxuICAgKiBAZmlyZXMgc2tld2VkXG4gICAqXG4gICAqIEBmaXJlcyByb3RhdGluZ1xuICAgKiBAZmlyZXMgc2NhbGluZ1xuICAgKiBAZmlyZXMgbW92aW5nXG4gICAqIEBmaXJlcyBza2V3aW5nXG4gICAqXG4gICAqIEBmaXJlcyBtb3VzZWRvd25cbiAgICogQGZpcmVzIG1vdXNldXBcbiAgICogQGZpcmVzIG1vdXNlb3ZlclxuICAgKiBAZmlyZXMgbW91c2VvdXRcbiAgICogQGZpcmVzIG1vdXNld2hlZWxcbiAgICogQGZpcmVzIG1vdXNlZGJsY2xpY2tcbiAgICpcbiAgICogQGZpcmVzIGRyYWdvdmVyXG4gICAqIEBmaXJlcyBkcmFnZW50ZXJcbiAgICogQGZpcmVzIGRyYWdsZWF2ZVxuICAgKiBAZmlyZXMgZHJvcFxuICAgKi9cbiAgZmFicmljLk9iamVjdCA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzKGZhYnJpYy5Db21tb25NZXRob2RzLCAvKiogQGxlbmRzIGZhYnJpYy5PYmplY3QucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIFR5cGUgb2YgYW4gb2JqZWN0IChyZWN0LCBjaXJjbGUsIHBhdGgsIGV0Yy4pLlxuICAgICAqIE5vdGUgdGhhdCB0aGlzIHByb3BlcnR5IGlzIG1lYW50IHRvIGJlIHJlYWQtb25seSBhbmQgbm90IG1lYW50IHRvIGJlIG1vZGlmaWVkLlxuICAgICAqIElmIHlvdSBtb2RpZnksIGNlcnRhaW4gcGFydHMgb2YgRmFicmljIChzdWNoIGFzIEpTT04gbG9hZGluZykgd29uJ3Qgd29yayBjb3JyZWN0bHkuXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0eXBlOiAgICAgICAgICAgICAgICAgICAgICdvYmplY3QnLFxuXG4gICAgLyoqXG4gICAgICogSG9yaXpvbnRhbCBvcmlnaW4gb2YgdHJhbnNmb3JtYXRpb24gb2YgYW4gb2JqZWN0IChvbmUgb2YgXCJsZWZ0XCIsIFwicmlnaHRcIiwgXCJjZW50ZXJcIilcbiAgICAgKiBTZWUgaHR0cDovL2pzZmlkZGxlLm5ldC8xb3cwMmdlYS8yNDQvIG9uIGhvdyBvcmlnaW5YL29yaWdpblkgYWZmZWN0IG9iamVjdHMgaW4gZ3JvdXBzXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBvcmlnaW5YOiAgICAgICAgICAgICAgICAgICdsZWZ0JyxcblxuICAgIC8qKlxuICAgICAqIFZlcnRpY2FsIG9yaWdpbiBvZiB0cmFuc2Zvcm1hdGlvbiBvZiBhbiBvYmplY3QgKG9uZSBvZiBcInRvcFwiLCBcImJvdHRvbVwiLCBcImNlbnRlclwiKVxuICAgICAqIFNlZSBodHRwOi8vanNmaWRkbGUubmV0LzFvdzAyZ2VhLzI0NC8gb24gaG93IG9yaWdpblgvb3JpZ2luWSBhZmZlY3Qgb2JqZWN0cyBpbiBncm91cHNcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIG9yaWdpblk6ICAgICAgICAgICAgICAgICAgJ3RvcCcsXG5cbiAgICAvKipcbiAgICAgKiBUb3AgcG9zaXRpb24gb2YgYW4gb2JqZWN0LiBOb3RlIHRoYXQgYnkgZGVmYXVsdCBpdCdzIHJlbGF0aXZlIHRvIG9iamVjdCB0b3AuIFlvdSBjYW4gY2hhbmdlIHRoaXMgYnkgc2V0dGluZyBvcmlnaW5ZPXt0b3AvY2VudGVyL2JvdHRvbX1cbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRvcDogICAgICAgICAgICAgICAgICAgICAgMCxcblxuICAgIC8qKlxuICAgICAqIExlZnQgcG9zaXRpb24gb2YgYW4gb2JqZWN0LiBOb3RlIHRoYXQgYnkgZGVmYXVsdCBpdCdzIHJlbGF0aXZlIHRvIG9iamVjdCBsZWZ0LiBZb3UgY2FuIGNoYW5nZSB0aGlzIGJ5IHNldHRpbmcgb3JpZ2luWD17bGVmdC9jZW50ZXIvcmlnaHR9XG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBsZWZ0OiAgICAgICAgICAgICAgICAgICAgIDAsXG5cbiAgICAvKipcbiAgICAgKiBPYmplY3Qgd2lkdGhcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHdpZHRoOiAgICAgICAgICAgICAgICAgICAgMCxcblxuICAgIC8qKlxuICAgICAqIE9iamVjdCBoZWlnaHRcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGhlaWdodDogICAgICAgICAgICAgICAgICAgMCxcblxuICAgIC8qKlxuICAgICAqIE9iamVjdCBzY2FsZSBmYWN0b3IgKGhvcml6b250YWwpXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzY2FsZVg6ICAgICAgICAgICAgICAgICAgIDEsXG5cbiAgICAvKipcbiAgICAgKiBPYmplY3Qgc2NhbGUgZmFjdG9yICh2ZXJ0aWNhbClcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHNjYWxlWTogICAgICAgICAgICAgICAgICAgMSxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gdHJ1ZSwgYW4gb2JqZWN0IGlzIHJlbmRlcmVkIGFzIGZsaXBwZWQgaG9yaXpvbnRhbGx5XG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgZmxpcFg6ICAgICAgICAgICAgICAgICAgICBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gdHJ1ZSwgYW4gb2JqZWN0IGlzIHJlbmRlcmVkIGFzIGZsaXBwZWQgdmVydGljYWxseVxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGZsaXBZOiAgICAgICAgICAgICAgICAgICAgZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBPcGFjaXR5IG9mIGFuIG9iamVjdFxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgb3BhY2l0eTogICAgICAgICAgICAgICAgICAxLFxuXG4gICAgLyoqXG4gICAgICogQW5nbGUgb2Ygcm90YXRpb24gb2YgYW4gb2JqZWN0IChpbiBkZWdyZWVzKVxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgYW5nbGU6ICAgICAgICAgICAgICAgICAgICAwLFxuXG4gICAgLyoqXG4gICAgICogQW5nbGUgb2Ygc2tldyBvbiB4IGF4ZXMgb2YgYW4gb2JqZWN0IChpbiBkZWdyZWVzKVxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc2tld1g6ICAgICAgICAgICAgICAgICAgICAwLFxuXG4gICAgLyoqXG4gICAgICogQW5nbGUgb2Ygc2tldyBvbiB5IGF4ZXMgb2YgYW4gb2JqZWN0IChpbiBkZWdyZWVzKVxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc2tld1k6ICAgICAgICAgICAgICAgICAgICAwLFxuXG4gICAgLyoqXG4gICAgICogU2l6ZSBvZiBvYmplY3QncyBjb250cm9sbGluZyBjb3JuZXJzIChpbiBwaXhlbHMpXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBjb3JuZXJTaXplOiAgICAgICAgICAgICAgIDEzLFxuXG4gICAgLyoqXG4gICAgICogU2l6ZSBvZiBvYmplY3QncyBjb250cm9sbGluZyBjb3JuZXJzIHdoZW4gdG91Y2ggaW50ZXJhY3Rpb24gaXMgZGV0ZWN0ZWRcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRvdWNoQ29ybmVyU2l6ZTogICAgICAgICAgICAgICAyNCxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gdHJ1ZSwgb2JqZWN0J3MgY29udHJvbGxpbmcgY29ybmVycyBhcmUgcmVuZGVyZWQgYXMgdHJhbnNwYXJlbnQgaW5zaWRlIChpLmUuIHN0cm9rZSBpbnN0ZWFkIG9mIGZpbGwpXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHJhbnNwYXJlbnRDb3JuZXJzOiAgICAgICB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBjdXJzb3IgdmFsdWUgdXNlZCB3aGVuIGhvdmVyaW5nIG92ZXIgdGhpcyBvYmplY3Qgb24gY2FudmFzXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBob3ZlckN1cnNvcjogICAgICAgICAgICAgIG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IGN1cnNvciB2YWx1ZSB1c2VkIHdoZW4gbW92aW5nIHRoaXMgb2JqZWN0IG9uIGNhbnZhc1xuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgbW92ZUN1cnNvcjogICAgICAgICAgICAgICBudWxsLFxuXG4gICAgLyoqXG4gICAgICogUGFkZGluZyBiZXR3ZWVuIG9iamVjdCBhbmQgaXRzIGNvbnRyb2xsaW5nIGJvcmRlcnMgKGluIHBpeGVscylcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHBhZGRpbmc6ICAgICAgICAgICAgICAgICAgMCxcblxuICAgIC8qKlxuICAgICAqIENvbG9yIG9mIGNvbnRyb2xsaW5nIGJvcmRlcnMgb2YgYW4gb2JqZWN0ICh3aGVuIGl0J3MgYWN0aXZlKVxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgYm9yZGVyQ29sb3I6ICAgICAgICAgICAgICAncmdiKDE3OCwyMDQsMjU1KScsXG5cbiAgICAvKipcbiAgICAgKiBBcnJheSBzcGVjaWZ5aW5nIGRhc2ggcGF0dGVybiBvZiBhbiBvYmplY3QncyBib3JkZXJzIChoYXNCb3JkZXIgbXVzdCBiZSB0cnVlKVxuICAgICAqIEBzaW5jZSAxLjYuMlxuICAgICAqIEB0eXBlIEFycmF5XG4gICAgICovXG4gICAgYm9yZGVyRGFzaEFycmF5OiAgICAgICAgICBudWxsLFxuXG4gICAgLyoqXG4gICAgICogQ29sb3Igb2YgY29udHJvbGxpbmcgY29ybmVycyBvZiBhbiBvYmplY3QgKHdoZW4gaXQncyBhY3RpdmUpXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBjb3JuZXJDb2xvcjogICAgICAgICAgICAgICdyZ2IoMTc4LDIwNCwyNTUpJyxcblxuICAgIC8qKlxuICAgICAqIENvbG9yIG9mIGNvbnRyb2xsaW5nIGNvcm5lcnMgb2YgYW4gb2JqZWN0ICh3aGVuIGl0J3MgYWN0aXZlIGFuZCB0cmFuc3BhcmVudENvcm5lcnMgZmFsc2UpXG4gICAgICogQHNpbmNlIDEuNi4yXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBjb3JuZXJTdHJva2VDb2xvcjogICAgICAgIG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBTcGVjaWZ5IHN0eWxlIG9mIGNvbnRyb2wsICdyZWN0JyBvciAnY2lyY2xlJ1xuICAgICAqIEBzaW5jZSAxLjYuMlxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqL1xuICAgIGNvcm5lclN0eWxlOiAgICAgICAgICAncmVjdCcsXG5cbiAgICAvKipcbiAgICAgKiBBcnJheSBzcGVjaWZ5aW5nIGRhc2ggcGF0dGVybiBvZiBhbiBvYmplY3QncyBjb250cm9sIChoYXNCb3JkZXIgbXVzdCBiZSB0cnVlKVxuICAgICAqIEBzaW5jZSAxLjYuMlxuICAgICAqIEB0eXBlIEFycmF5XG4gICAgICovXG4gICAgY29ybmVyRGFzaEFycmF5OiAgICAgICAgICBudWxsLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiB0cnVlLCB0aGlzIG9iamVjdCB3aWxsIHVzZSBjZW50ZXIgcG9pbnQgYXMgdGhlIG9yaWdpbiBvZiB0cmFuc2Zvcm1hdGlvblxuICAgICAqIHdoZW4gYmVpbmcgc2NhbGVkIHZpYSB0aGUgY29udHJvbHMuXG4gICAgICogPGI+QmFja3dhcmRzIGluY29tcGF0aWJpbGl0eSBub3RlOjwvYj4gVGhpcyBwcm9wZXJ0eSByZXBsYWNlcyBcImNlbnRlclRyYW5zZm9ybVwiIChCb29sZWFuKS5cbiAgICAgKiBAc2luY2UgMS4zLjRcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBjZW50ZXJlZFNjYWxpbmc6ICAgICAgICAgIGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiB0cnVlLCB0aGlzIG9iamVjdCB3aWxsIHVzZSBjZW50ZXIgcG9pbnQgYXMgdGhlIG9yaWdpbiBvZiB0cmFuc2Zvcm1hdGlvblxuICAgICAqIHdoZW4gYmVpbmcgcm90YXRlZCB2aWEgdGhlIGNvbnRyb2xzLlxuICAgICAqIDxiPkJhY2t3YXJkcyBpbmNvbXBhdGliaWxpdHkgbm90ZTo8L2I+IFRoaXMgcHJvcGVydHkgcmVwbGFjZXMgXCJjZW50ZXJUcmFuc2Zvcm1cIiAoQm9vbGVhbikuXG4gICAgICogQHNpbmNlIDEuMy40XG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgY2VudGVyZWRSb3RhdGlvbjogICAgICAgICB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogQ29sb3Igb2Ygb2JqZWN0J3MgZmlsbFxuICAgICAqIHRha2VzIGNzcyBjb2xvcnMgaHR0cHM6Ly93d3cudzMub3JnL1RSL2Nzcy1jb2xvci0zL1xuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgZmlsbDogICAgICAgICAgICAgICAgICAgICAncmdiKDAsMCwwKScsXG5cbiAgICAvKipcbiAgICAgKiBGaWxsIHJ1bGUgdXNlZCB0byBmaWxsIGFuIG9iamVjdFxuICAgICAqIGFjY2VwdGVkIHZhbHVlcyBhcmUgbm9uemVybywgZXZlbm9kZFxuICAgICAqIDxiPkJhY2t3YXJkcyBpbmNvbXBhdGliaWxpdHkgbm90ZTo8L2I+IFRoaXMgcHJvcGVydHkgd2FzIHVzZWQgZm9yIHNldHRpbmcgZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uIHVudGlsIHYxLjQuMTIgKHVzZSBgZmFicmljLk9iamVjdCNnbG9iYWxDb21wb3NpdGVPcGVyYXRpb25gIGluc3RlYWQpXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBmaWxsUnVsZTogICAgICAgICAgICAgICAgICdub256ZXJvJyxcblxuICAgIC8qKlxuICAgICAqIENvbXBvc2l0ZSBydWxlIHVzZWQgZm9yIGNhbnZhcyBnbG9iYWxDb21wb3NpdGVPcGVyYXRpb25cbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbjogJ3NvdXJjZS1vdmVyJyxcblxuICAgIC8qKlxuICAgICAqIEJhY2tncm91bmQgY29sb3Igb2YgYW4gb2JqZWN0LlxuICAgICAqIHRha2VzIGNzcyBjb2xvcnMgaHR0cHM6Ly93d3cudzMub3JnL1RSL2Nzcy1jb2xvci0zL1xuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgYmFja2dyb3VuZENvbG9yOiAgICAgICAgICAnJyxcblxuICAgIC8qKlxuICAgICAqIFNlbGVjdGlvbiBCYWNrZ3JvdW5kIGNvbG9yIG9mIGFuIG9iamVjdC4gY29sb3JlZCBsYXllciBiZWhpbmQgdGhlIG9iamVjdCB3aGVuIGl0IGlzIGFjdGl2ZS5cbiAgICAgKiBkb2VzIG5vdCBtaXggZ29vZCB3aXRoIGdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiBtZXRob2RzLlxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc2VsZWN0aW9uQmFja2dyb3VuZENvbG9yOiAgICAgICAgICAnJyxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gZGVmaW5lZCwgYW4gb2JqZWN0IGlzIHJlbmRlcmVkIHZpYSBzdHJva2UgYW5kIHRoaXMgcHJvcGVydHkgc3BlY2lmaWVzIGl0cyBjb2xvclxuICAgICAqIHRha2VzIGNzcyBjb2xvcnMgaHR0cHM6Ly93d3cudzMub3JnL1RSL2Nzcy1jb2xvci0zL1xuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc3Ryb2tlOiAgICAgICAgICAgICAgICAgICBudWxsLFxuXG4gICAgLyoqXG4gICAgICogV2lkdGggb2YgYSBzdHJva2UgdXNlZCB0byByZW5kZXIgdGhpcyBvYmplY3RcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHN0cm9rZVdpZHRoOiAgICAgICAgICAgICAgMSxcblxuICAgIC8qKlxuICAgICAqIEFycmF5IHNwZWNpZnlpbmcgZGFzaCBwYXR0ZXJuIG9mIGFuIG9iamVjdCdzIHN0cm9rZSAoc3Ryb2tlIG11c3QgYmUgZGVmaW5lZClcbiAgICAgKiBAdHlwZSBBcnJheVxuICAgICAqL1xuICAgIHN0cm9rZURhc2hBcnJheTogICAgICAgICAgbnVsbCxcblxuICAgIC8qKlxuICAgICAqIExpbmUgb2Zmc2V0IG9mIGFuIG9iamVjdCdzIHN0cm9rZVxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc3Ryb2tlRGFzaE9mZnNldDogMCxcblxuICAgIC8qKlxuICAgICAqIExpbmUgZW5kaW5ncyBzdHlsZSBvZiBhbiBvYmplY3QncyBzdHJva2UgKG9uZSBvZiBcImJ1dHRcIiwgXCJyb3VuZFwiLCBcInNxdWFyZVwiKVxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc3Ryb2tlTGluZUNhcDogICAgICAgICAgICAnYnV0dCcsXG5cbiAgICAvKipcbiAgICAgKiBDb3JuZXIgc3R5bGUgb2YgYW4gb2JqZWN0J3Mgc3Ryb2tlIChvbmUgb2YgXCJiZXZlbFwiLCBcInJvdW5kXCIsIFwibWl0ZXJcIilcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHN0cm9rZUxpbmVKb2luOiAgICAgICAgICAgJ21pdGVyJyxcblxuICAgIC8qKlxuICAgICAqIE1heGltdW0gbWl0ZXIgbGVuZ3RoICh1c2VkIGZvciBzdHJva2VMaW5lSm9pbiA9IFwibWl0ZXJcIikgb2YgYW4gb2JqZWN0J3Mgc3Ryb2tlXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzdHJva2VNaXRlckxpbWl0OiAgICAgICAgIDQsXG5cbiAgICAvKipcbiAgICAgKiBTaGFkb3cgb2JqZWN0IHJlcHJlc2VudGluZyBzaGFkb3cgb2YgdGhpcyBzaGFwZVxuICAgICAqIEB0eXBlIGZhYnJpYy5TaGFkb3dcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHNoYWRvdzogICAgICAgICAgICAgICAgICAgbnVsbCxcblxuICAgIC8qKlxuICAgICAqIE9wYWNpdHkgb2Ygb2JqZWN0J3MgY29udHJvbGxpbmcgYm9yZGVycyB3aGVuIG9iamVjdCBpcyBhY3RpdmUgYW5kIG1vdmluZ1xuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgYm9yZGVyT3BhY2l0eVdoZW5Nb3Zpbmc6ICAwLjQsXG5cbiAgICAvKipcbiAgICAgKiBTY2FsZSBmYWN0b3Igb2Ygb2JqZWN0J3MgY29udHJvbGxpbmcgYm9yZGVyc1xuICAgICAqIGJpZ2dlciBudW1iZXIgd2lsbCBtYWtlIGEgdGhpY2tlciBib3JkZXJcbiAgICAgKiBib3JkZXIgaXMgMSwgc28gdGhpcyBpcyBiYXNpY2FsbHkgYSBib3JkZXIgdGhpY2tuZXNzXG4gICAgICogc2luY2UgdGhlcmUgaXMgbm8gd2F5IHRvIGNoYW5nZSB0aGUgYm9yZGVyIGl0c2VsZi5cbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGJvcmRlclNjYWxlRmFjdG9yOiAgICAgICAgMSxcblxuICAgIC8qKlxuICAgICAqIE1pbmltdW0gYWxsb3dlZCBzY2FsZSB2YWx1ZSBvZiBhbiBvYmplY3RcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIG1pblNjYWxlTGltaXQ6ICAgICAgICAgICAgMCxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gc2V0IHRvIGBmYWxzZWAsIGFuIG9iamVjdCBjYW4gbm90IGJlIHNlbGVjdGVkIGZvciBtb2RpZmljYXRpb24gKHVzaW5nIGVpdGhlciBwb2ludC1jbGljay1iYXNlZCBvciBncm91cC1iYXNlZCBzZWxlY3Rpb24pLlxuICAgICAqIEJ1dCBldmVudHMgc3RpbGwgZmlyZSBvbiBpdC5cbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzZWxlY3RhYmxlOiAgICAgICAgICAgICAgIHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHNldCB0byBgZmFsc2VgLCBhbiBvYmplY3QgY2FuIG5vdCBiZSBhIHRhcmdldCBvZiBldmVudHMuIEFsbCBldmVudHMgcHJvcGFnYXRlIHRocm91Z2ggaXQuIEludHJvZHVjZWQgaW4gdjEuMy40XG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgZXZlbnRlZDogICAgICAgICAgICAgICAgICB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBzZXQgdG8gYGZhbHNlYCwgYW4gb2JqZWN0IGlzIG5vdCByZW5kZXJlZCBvbiBjYW52YXNcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB2aXNpYmxlOiAgICAgICAgICAgICAgICAgIHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHNldCB0byBgZmFsc2VgLCBvYmplY3QncyBjb250cm9scyBhcmUgbm90IGRpc3BsYXllZCBhbmQgY2FuIG5vdCBiZSB1c2VkIHRvIG1hbmlwdWxhdGUgb2JqZWN0XG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgaGFzQ29udHJvbHM6ICAgICAgICAgICAgICB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBzZXQgdG8gYGZhbHNlYCwgb2JqZWN0J3MgY29udHJvbGxpbmcgYm9yZGVycyBhcmUgbm90IHJlbmRlcmVkXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgaGFzQm9yZGVyczogICAgICAgICAgICAgICB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBzZXQgdG8gYHRydWVgLCBvYmplY3RzIGFyZSBcImZvdW5kXCIgb24gY2FudmFzIG9uIHBlci1waXhlbCBiYXNpcyByYXRoZXIgdGhhbiBhY2NvcmRpbmcgdG8gYm91bmRpbmcgYm94XG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgcGVyUGl4ZWxUYXJnZXRGaW5kOiAgICAgICBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gYGZhbHNlYCwgZGVmYXVsdCBvYmplY3QncyB2YWx1ZXMgYXJlIG5vdCBpbmNsdWRlZCBpbiBpdHMgc2VyaWFsaXphdGlvblxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGluY2x1ZGVEZWZhdWx0VmFsdWVzOiAgICAgdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gYHRydWVgLCBvYmplY3QgaG9yaXpvbnRhbCBtb3ZlbWVudCBpcyBsb2NrZWRcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBsb2NrTW92ZW1lbnRYOiAgICAgICAgICAgIGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBgdHJ1ZWAsIG9iamVjdCB2ZXJ0aWNhbCBtb3ZlbWVudCBpcyBsb2NrZWRcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBsb2NrTW92ZW1lbnRZOiAgICAgICAgICAgIGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBgdHJ1ZWAsIG9iamVjdCByb3RhdGlvbiBpcyBsb2NrZWRcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBsb2NrUm90YXRpb246ICAgICAgICAgICAgIGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBgdHJ1ZWAsIG9iamVjdCBob3Jpem9udGFsIHNjYWxpbmcgaXMgbG9ja2VkXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgbG9ja1NjYWxpbmdYOiAgICAgICAgICAgICBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gYHRydWVgLCBvYmplY3QgdmVydGljYWwgc2NhbGluZyBpcyBsb2NrZWRcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBsb2NrU2NhbGluZ1k6ICAgICAgICAgICAgIGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBgdHJ1ZWAsIG9iamVjdCBob3Jpem9udGFsIHNrZXdpbmcgaXMgbG9ja2VkXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgbG9ja1NrZXdpbmdYOiAgICAgICAgICAgICBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gYHRydWVgLCBvYmplY3QgdmVydGljYWwgc2tld2luZyBpcyBsb2NrZWRcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBsb2NrU2tld2luZ1k6ICAgICAgICAgICAgIGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBgdHJ1ZWAsIG9iamVjdCBjYW5ub3QgYmUgZmxpcHBlZCBieSBzY2FsaW5nIGludG8gbmVnYXRpdmUgdmFsdWVzXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgbG9ja1NjYWxpbmdGbGlwOiAgICAgICAgICBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gYHRydWVgLCBvYmplY3QgaXMgbm90IGV4cG9ydGVkIGluIE9CSkVDVC9KU09OXG4gICAgICogQHNpbmNlIDEuNi4zXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgZXhjbHVkZUZyb21FeHBvcnQ6ICAgICAgICBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gYHRydWVgLCBvYmplY3QgaXMgY2FjaGVkIG9uIGFuIGFkZGl0aW9uYWwgY2FudmFzLlxuICAgICAqIFdoZW4gYGZhbHNlYCwgb2JqZWN0IGlzIG5vdCBjYWNoZWQgdW5sZXNzIG5lY2Vzc2FyeSAoIGNsaXBQYXRoIClcbiAgICAgKiBkZWZhdWx0IHRvIHRydWVcbiAgICAgKiBAc2luY2UgMS43LjBcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAqL1xuICAgIG9iamVjdENhY2hpbmc6ICAgICAgICAgICAgb2JqZWN0Q2FjaGluZyxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gYHRydWVgLCBvYmplY3QgcHJvcGVydGllcyBhcmUgY2hlY2tlZCBmb3IgY2FjaGUgaW52YWxpZGF0aW9uLiBJbiBzb21lIHBhcnRpY3VsYXJcbiAgICAgKiBzaXR1YXRpb24geW91IG1heSB3YW50IHRoaXMgdG8gYmUgZGlzYWJsZWQgKCBzcHJheSBicnVzaCwgdmVyeSBiaWcsIGdyb3VwcylcbiAgICAgKiBvciBpZiB5b3VyIGFwcGxpY2F0aW9uIGRvZXMgbm90IGFsbG93IHlvdSB0byBtb2RpZnkgcHJvcGVydGllcyBmb3IgZ3JvdXBzIGNoaWxkIHlvdSB3YW50XG4gICAgICogdG8gZGlzYWJsZSBpdCBmb3IgZ3JvdXBzLlxuICAgICAqIGRlZmF1bHQgdG8gZmFsc2VcbiAgICAgKiBzaW5jZSAxLjcuMFxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIHN0YXRlZnVsbENhY2hlOiAgICAgICAgICAgIGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBgdHJ1ZWAsIGNhY2hlIGRvZXMgbm90IGdldCB1cGRhdGVkIGR1cmluZyBzY2FsaW5nLiBUaGUgcGljdHVyZSB3aWxsIGdldCBibG9ja3kgaWYgc2NhbGVkXG4gICAgICogdG9vIG11Y2ggYW5kIHdpbGwgYmUgcmVkcmF3biB3aXRoIGNvcnJlY3QgZGV0YWlscyBhdCB0aGUgZW5kIG9mIHNjYWxpbmcuXG4gICAgICogdGhpcyBzZXR0aW5nIGlzIHBlcmZvcm1hbmNlIGFuZCBhcHBsaWNhdGlvbiBkZXBlbmRhbnQuXG4gICAgICogZGVmYXVsdCB0byB0cnVlXG4gICAgICogc2luY2UgMS43LjBcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAqL1xuICAgIG5vU2NhbGVDYWNoZTogICAgICAgICAgICAgIHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIGBmYWxzZWAsIHRoZSBzdG9rZSB3aWR0aCB3aWxsIHNjYWxlIHdpdGggdGhlIG9iamVjdC5cbiAgICAgKiBXaGVuIGB0cnVlYCwgdGhlIHN0cm9rZSB3aWxsIGFsd2F5cyBtYXRjaCB0aGUgZXhhY3QgcGl4ZWwgc2l6ZSBlbnRlcmVkIGZvciBzdHJva2Ugd2lkdGguXG4gICAgICogdGhpcyBQcm9wZXJ0eSBkb2VzIG5vdCB3b3JrIG9uIFRleHQgY2xhc3NlcyBvciBkcmF3aW5nIGNhbGwgdGhhdCB1c2VzIHN0cm9rZVRleHQsZmlsbFRleHQgbWV0aG9kc1xuICAgICAqIGRlZmF1bHQgdG8gZmFsc2VcbiAgICAgKiBAc2luY2UgMi42LjBcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBzdHJva2VVbmlmb3JtOiAgICAgICAgICAgICAgZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHNldCB0byBgdHJ1ZWAsIG9iamVjdCdzIGNhY2hlIHdpbGwgYmUgcmVyZW5kZXJlZCBuZXh0IHJlbmRlciBjYWxsLlxuICAgICAqIHNpbmNlIDEuNy4wXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgKi9cbiAgICBkaXJ0eTogICAgICAgICAgICAgICAgdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIGtlZXBzIHRoZSB2YWx1ZSBvZiB0aGUgbGFzdCBob3ZlcmVkIGNvcm5lciBkdXJpbmcgbW91c2UgbW92ZS5cbiAgICAgKiAwIGlzIG5vIGNvcm5lciwgb3IgJ210JywgJ21sJywgJ210cicgZXRjLi5cbiAgICAgKiBJdCBzaG91bGQgYmUgcHJpdmF0ZSwgYnV0IHRoZXJlIGlzIG5vIGhhcm0gaW4gdXNpbmcgaXQgYXNcbiAgICAgKiBhIHJlYWQtb25seSBwcm9wZXJ0eS5cbiAgICAgKiBAdHlwZSBudW1iZXJ8c3RyaW5nfGFueVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICBfX2Nvcm5lcjogMCxcblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgdGhlIGZpbGwgb3IgdGhlIHN0cm9rZSBpcyBkcmF3biBmaXJzdCAob25lIG9mIFwiZmlsbFwiIG9yIFwic3Ryb2tlXCIpXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBwYWludEZpcnN0OiAgICAgICAgICAgJ2ZpbGwnLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiAnZG93bicsIG9iamVjdCBpcyBzZXQgdG8gYWN0aXZlIG9uIG1vdXNlZG93bi90b3VjaHN0YXJ0XG4gICAgICogV2hlbiAndXAnLCBvYmplY3QgaXMgc2V0IHRvIGFjdGl2ZSBvbiBtb3VzZXVwL3RvdWNoZW5kXG4gICAgICogRXhwZXJpbWVudGFsLiBMZXQncyBzZWUgaWYgdGhpcyBicmVha3MgYW55dGhpbmcgYmVmb3JlIHN1cHBvcnRpbmcgb2ZmaWNpYWxseVxuICAgICAqIEBwcml2YXRlXG4gICAgICogc2luY2UgNC40LjBcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdCAnZG93bidcbiAgICAgKi9cbiAgICBhY3RpdmVPbjogICAgICAgICAgICdkb3duJyxcblxuICAgIC8qKlxuICAgICAqIExpc3Qgb2YgcHJvcGVydGllcyB0byBjb25zaWRlciB3aGVuIGNoZWNraW5nIGlmIHN0YXRlXG4gICAgICogb2YgYW4gb2JqZWN0IGlzIGNoYW5nZWQgKGZhYnJpYy5PYmplY3QjaGFzU3RhdGVDaGFuZ2VkKVxuICAgICAqIGFzIHdlbGwgYXMgZm9yIGhpc3RvcnkgKHVuZG8vcmVkbykgcHVycG9zZXNcbiAgICAgKiBAdHlwZSBBcnJheVxuICAgICAqL1xuICAgIHN0YXRlUHJvcGVydGllczogKFxuICAgICAgJ3RvcCBsZWZ0IHdpZHRoIGhlaWdodCBzY2FsZVggc2NhbGVZIGZsaXBYIGZsaXBZIG9yaWdpblggb3JpZ2luWSB0cmFuc2Zvcm1NYXRyaXggJyArXG4gICAgICAnc3Ryb2tlIHN0cm9rZVdpZHRoIHN0cm9rZURhc2hBcnJheSBzdHJva2VMaW5lQ2FwIHN0cm9rZURhc2hPZmZzZXQgc3Ryb2tlTGluZUpvaW4gc3Ryb2tlTWl0ZXJMaW1pdCAnICtcbiAgICAgICdhbmdsZSBvcGFjaXR5IGZpbGwgZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uIHNoYWRvdyB2aXNpYmxlIGJhY2tncm91bmRDb2xvciAnICtcbiAgICAgICdza2V3WCBza2V3WSBmaWxsUnVsZSBwYWludEZpcnN0IGNsaXBQYXRoIHN0cm9rZVVuaWZvcm0nXG4gICAgKS5zcGxpdCgnICcpLFxuXG4gICAgLyoqXG4gICAgICogTGlzdCBvZiBwcm9wZXJ0aWVzIHRvIGNvbnNpZGVyIHdoZW4gY2hlY2tpbmcgaWYgY2FjaGUgbmVlZHMgcmVmcmVzaFxuICAgICAqIFRob3NlIHByb3BlcnRpZXMgYXJlIGNoZWNrZWQgYnkgc3RhdGVmdWxsQ2FjaGUgT04gKCBvciBsYXp5IG1vZGUgaWYgd2Ugd2FudCApIG9yIGZyb20gc2luZ2xlXG4gICAgICogY2FsbHMgdG8gT2JqZWN0LnNldChrZXksIHZhbHVlKS4gSWYgdGhlIGtleSBpcyBpbiB0aGlzIGxpc3QsIHRoZSBvYmplY3QgaXMgbWFya2VkIGFzIGRpcnR5XG4gICAgICogYW5kIHJlZnJlc2hlZCBhdCB0aGUgbmV4dCByZW5kZXJcbiAgICAgKiBAdHlwZSBBcnJheVxuICAgICAqL1xuICAgIGNhY2hlUHJvcGVydGllczogKFxuICAgICAgJ2ZpbGwgc3Ryb2tlIHN0cm9rZVdpZHRoIHN0cm9rZURhc2hBcnJheSB3aWR0aCBoZWlnaHQgcGFpbnRGaXJzdCBzdHJva2VVbmlmb3JtJyArXG4gICAgICAnIHN0cm9rZUxpbmVDYXAgc3Ryb2tlRGFzaE9mZnNldCBzdHJva2VMaW5lSm9pbiBzdHJva2VNaXRlckxpbWl0IGJhY2tncm91bmRDb2xvciBjbGlwUGF0aCdcbiAgICApLnNwbGl0KCcgJyksXG5cbiAgICAvKipcbiAgICAgKiBMaXN0IG9mIHByb3BlcnRpZXMgdG8gY29uc2lkZXIgZm9yIGFuaW1hdGluZyBjb2xvcnMuXG4gICAgICogQHR5cGUgQXJyYXlcbiAgICAgKi9cbiAgICBjb2xvclByb3BlcnRpZXM6IChcbiAgICAgICdmaWxsIHN0cm9rZSBiYWNrZ3JvdW5kQ29sb3InXG4gICAgKS5zcGxpdCgnICcpLFxuXG4gICAgLyoqXG4gICAgICogYSBmYWJyaWNPYmplY3QgdGhhdCwgd2l0aG91dCBzdHJva2UgZGVmaW5lIGEgY2xpcHBpbmcgYXJlYSB3aXRoIHRoZWlyIHNoYXBlLiBmaWxsZWQgaW4gYmxhY2tcbiAgICAgKiB0aGUgY2xpcFBhdGggb2JqZWN0IGdldHMgdXNlZCB3aGVuIHRoZSBvYmplY3QgaGFzIHJlbmRlcmVkLCBhbmQgdGhlIGNvbnRleHQgaXMgcGxhY2VkIGluIHRoZSBjZW50ZXJcbiAgICAgKiBvZiB0aGUgb2JqZWN0IGNhY2hlQ2FudmFzLlxuICAgICAqIElmIHlvdSB3YW50IDAsMCBvZiBhIGNsaXBQYXRoIHRvIGFsaWduIHdpdGggYW4gb2JqZWN0IGNlbnRlciwgdXNlIGNsaXBQYXRoLm9yaWdpblgvWSB0byAnY2VudGVyJ1xuICAgICAqIEB0eXBlIGZhYnJpYy5PYmplY3RcbiAgICAgKi9cbiAgICBjbGlwUGF0aDogdW5kZWZpbmVkLFxuXG4gICAgLyoqXG4gICAgICogTWVhbmluZ2Z1bCBPTkxZIHdoZW4gdGhlIG9iamVjdCBpcyB1c2VkIGFzIGNsaXBQYXRoLlxuICAgICAqIGlmIHRydWUsIHRoZSBjbGlwUGF0aCB3aWxsIG1ha2UgdGhlIG9iamVjdCBjbGlwIHRvIHRoZSBvdXRzaWRlIG9mIHRoZSBjbGlwUGF0aFxuICAgICAqIHNpbmNlIDIuNC4wXG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgaW52ZXJ0ZWQ6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogTWVhbmluZ2Z1bCBPTkxZIHdoZW4gdGhlIG9iamVjdCBpcyB1c2VkIGFzIGNsaXBQYXRoLlxuICAgICAqIGlmIHRydWUsIHRoZSBjbGlwUGF0aCB3aWxsIGhhdmUgaXRzIHRvcCBhbmQgbGVmdCByZWxhdGl2ZSB0byBjYW52YXMsIGFuZCB3aWxsXG4gICAgICogbm90IGJlIGluZmx1ZW5jZWQgYnkgdGhlIG9iamVjdCB0cmFuc2Zvcm0uIFRoaXMgd2lsbCBtYWtlIHRoZSBjbGlwUGF0aCByZWxhdGl2ZVxuICAgICAqIHRvIHRoZSBjYW52YXMsIGJ1dCBjbGlwcGluZyBqdXN0IGEgcGFydGljdWxhciBvYmplY3QuXG4gICAgICogV0FSTklORyB0aGlzIGlzIGJldGEsIHRoaXMgZmVhdHVyZSBtYXkgY2hhbmdlIG9yIGJlIHJlbmFtZWQuXG4gICAgICogc2luY2UgMi40LjBcbiAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBhYnNvbHV0ZVBvc2l0aW9uZWQ6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAgICovXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5zZXRPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSB0aGUgY2FudmFzIHVzZWQgdG8ga2VlcCB0aGUgY2FjaGVkIGNvcHkgb2YgdGhlIG9iamVjdFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2NyZWF0ZUNhY2hlQ2FudmFzOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuX2NhY2hlUHJvcGVydGllcyA9IHt9O1xuICAgICAgdGhpcy5fY2FjaGVDYW52YXMgPSBmYWJyaWMudXRpbC5jcmVhdGVDYW52YXNFbGVtZW50KCk7XG4gICAgICB0aGlzLl9jYWNoZUNvbnRleHQgPSB0aGlzLl9jYWNoZUNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgdGhpcy5fdXBkYXRlQ2FjaGVDYW52YXMoKTtcbiAgICAgIC8vIGlmIGNhbnZhcyBnZXRzIGNyZWF0ZWQsIGlzIGVtcHR5LCBzbyBkaXJ0eS5cbiAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBMaW1pdCB0aGUgY2FjaGUgZGltZW5zaW9ucyBzbyB0aGF0IFggKiBZIGRvIG5vdCBjcm9zcyBmYWJyaWMucGVyZkxpbWl0U2l6ZVRvdGFsXG4gICAgICogYW5kIGVhY2ggc2lkZSBkbyBub3QgY3Jvc3MgZmFicmljLmNhY2hlU2lkZUxpbWl0XG4gICAgICogdGhvc2UgbnVtYmVycyBhcmUgY29uZmlndXJhYmxlIHNvIHRoYXQgeW91IGNhbiBnZXQgYXMgbXVjaCBkZXRhaWwgYXMgeW91IHdhbnRcbiAgICAgKiBtYWtpbmcgYmFyZ2FpbiB3aXRoIHBlcmZvcm1hbmNlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGltc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkaW1zLndpZHRoIHdpZHRoIG9mIGNhbnZhc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkaW1zLmhlaWdodCBoZWlnaHQgb2YgY2FudmFzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRpbXMuem9vbVggem9vbVggem9vbSB2YWx1ZSB0byB1bnNjYWxlIHRoZSBjYW52YXMgYmVmb3JlIGRyYXdpbmcgY2FjaGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGltcy56b29tWSB6b29tWSB6b29tIHZhbHVlIHRvIHVuc2NhbGUgdGhlIGNhbnZhcyBiZWZvcmUgZHJhd2luZyBjYWNoZVxuICAgICAqIEByZXR1cm4ge09iamVjdH0ud2lkdGggd2lkdGggb2YgY2FudmFzXG4gICAgICogQHJldHVybiB7T2JqZWN0fS5oZWlnaHQgaGVpZ2h0IG9mIGNhbnZhc1xuICAgICAqIEByZXR1cm4ge09iamVjdH0uem9vbVggem9vbVggem9vbSB2YWx1ZSB0byB1bnNjYWxlIHRoZSBjYW52YXMgYmVmb3JlIGRyYXdpbmcgY2FjaGVcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9Lnpvb21ZIHpvb21ZIHpvb20gdmFsdWUgdG8gdW5zY2FsZSB0aGUgY2FudmFzIGJlZm9yZSBkcmF3aW5nIGNhY2hlXG4gICAgICovXG4gICAgX2xpbWl0Q2FjaGVTaXplOiBmdW5jdGlvbihkaW1zKSB7XG4gICAgICB2YXIgcGVyZkxpbWl0U2l6ZVRvdGFsID0gZmFicmljLnBlcmZMaW1pdFNpemVUb3RhbCxcbiAgICAgICAgICB3aWR0aCA9IGRpbXMud2lkdGgsIGhlaWdodCA9IGRpbXMuaGVpZ2h0LFxuICAgICAgICAgIG1heCA9IGZhYnJpYy5tYXhDYWNoZVNpZGVMaW1pdCwgbWluID0gZmFicmljLm1pbkNhY2hlU2lkZUxpbWl0O1xuICAgICAgaWYgKHdpZHRoIDw9IG1heCAmJiBoZWlnaHQgPD0gbWF4ICYmIHdpZHRoICogaGVpZ2h0IDw9IHBlcmZMaW1pdFNpemVUb3RhbCkge1xuICAgICAgICBpZiAod2lkdGggPCBtaW4pIHtcbiAgICAgICAgICBkaW1zLndpZHRoID0gbWluO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoZWlnaHQgPCBtaW4pIHtcbiAgICAgICAgICBkaW1zLmhlaWdodCA9IG1pbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGltcztcbiAgICAgIH1cbiAgICAgIHZhciBhciA9IHdpZHRoIC8gaGVpZ2h0LCBsaW1pdGVkRGltcyA9IGZhYnJpYy51dGlsLmxpbWl0RGltc0J5QXJlYShhciwgcGVyZkxpbWl0U2l6ZVRvdGFsKSxcbiAgICAgICAgICBjYXBWYWx1ZSA9IGZhYnJpYy51dGlsLmNhcFZhbHVlLFxuICAgICAgICAgIHggPSBjYXBWYWx1ZShtaW4sIGxpbWl0ZWREaW1zLngsIG1heCksXG4gICAgICAgICAgeSA9IGNhcFZhbHVlKG1pbiwgbGltaXRlZERpbXMueSwgbWF4KTtcbiAgICAgIGlmICh3aWR0aCA+IHgpIHtcbiAgICAgICAgZGltcy56b29tWCAvPSB3aWR0aCAvIHg7XG4gICAgICAgIGRpbXMud2lkdGggPSB4O1xuICAgICAgICBkaW1zLmNhcHBlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoaGVpZ2h0ID4geSkge1xuICAgICAgICBkaW1zLnpvb21ZIC89IGhlaWdodCAvIHk7XG4gICAgICAgIGRpbXMuaGVpZ2h0ID0geTtcbiAgICAgICAgZGltcy5jYXBwZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRpbXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgZGltZW5zaW9uIGFuZCB0aGUgem9vbSBsZXZlbCBuZWVkZWQgdG8gY3JlYXRlIGEgY2FjaGUgY2FudmFzXG4gICAgICogYmlnIGVub3VnaCB0byBob3N0IHRoZSBvYmplY3QgdG8gYmUgY2FjaGVkLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7T2JqZWN0fS54IHdpZHRoIG9mIG9iamVjdCB0byBiZSBjYWNoZWRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9LnkgaGVpZ2h0IG9mIG9iamVjdCB0byBiZSBjYWNoZWRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9LndpZHRoIHdpZHRoIG9mIGNhbnZhc1xuICAgICAqIEByZXR1cm4ge09iamVjdH0uaGVpZ2h0IGhlaWdodCBvZiBjYW52YXNcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9Lnpvb21YIHpvb21YIHpvb20gdmFsdWUgdG8gdW5zY2FsZSB0aGUgY2FudmFzIGJlZm9yZSBkcmF3aW5nIGNhY2hlXG4gICAgICogQHJldHVybiB7T2JqZWN0fS56b29tWSB6b29tWSB6b29tIHZhbHVlIHRvIHVuc2NhbGUgdGhlIGNhbnZhcyBiZWZvcmUgZHJhd2luZyBjYWNoZVxuICAgICAqL1xuICAgIF9nZXRDYWNoZUNhbnZhc0RpbWVuc2lvbnM6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG9iamVjdFNjYWxlID0gdGhpcy5nZXRUb3RhbE9iamVjdFNjYWxpbmcoKSxcbiAgICAgICAgICAvLyBjYWN1bGF0ZSBkaW1lbnNpb25zIHdpdGhvdXQgc2tld2luZ1xuICAgICAgICAgIGRpbSA9IHRoaXMuX2dldFRyYW5zZm9ybWVkRGltZW5zaW9ucygwLCAwKSxcbiAgICAgICAgICBuZWVkZWRYID0gZGltLnggKiBvYmplY3RTY2FsZS5zY2FsZVggLyB0aGlzLnNjYWxlWCxcbiAgICAgICAgICBuZWVkZWRZID0gZGltLnkgKiBvYmplY3RTY2FsZS5zY2FsZVkgLyB0aGlzLnNjYWxlWTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC8vIGZvciBzdXJlIHRoaXMgQUxJQVNJTkdfTElNSVQgaXMgc2xpZ2h0bHkgY3JlYXRpbmcgcHJvYmxlbVxuICAgICAgICAvLyBpbiBzaXR1YXRpb24gaW4gd2hpY2ggdGhlIGNhY2hlIGNhbnZhcyBnZXRzIGFuIHVwcGVyIGxpbWl0XG4gICAgICAgIC8vIGFsc28gb2JqZWN0U2NhbGUgY29udGFpbnMgYWxyZWFkeSBzY2FsZVggYW5kIHNjYWxlWVxuICAgICAgICB3aWR0aDogbmVlZGVkWCArIEFMSUFTSU5HX0xJTUlULFxuICAgICAgICBoZWlnaHQ6IG5lZWRlZFkgKyBBTElBU0lOR19MSU1JVCxcbiAgICAgICAgem9vbVg6IG9iamVjdFNjYWxlLnNjYWxlWCxcbiAgICAgICAgem9vbVk6IG9iamVjdFNjYWxlLnNjYWxlWSxcbiAgICAgICAgeDogbmVlZGVkWCxcbiAgICAgICAgeTogbmVlZGVkWVxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIGNhbnZhcyBmb3IgY2FjaGVcbiAgICAgKiByZXR1cm5zIHRydWUgb3IgZmFsc2UgaWYgY2FudmFzIG5lZWRlZCByZXNpemUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIHRoZSBjYW52YXMgaGFzIGJlZW4gcmVzaXplZFxuICAgICAqL1xuICAgIF91cGRhdGVDYWNoZUNhbnZhczogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgdGFyZ2V0Q2FudmFzID0gdGhpcy5jYW52YXM7XG4gICAgICBpZiAodGhpcy5ub1NjYWxlQ2FjaGUgJiYgdGFyZ2V0Q2FudmFzICYmIHRhcmdldENhbnZhcy5fY3VycmVudFRyYW5zZm9ybSkge1xuICAgICAgICB2YXIgdGFyZ2V0ID0gdGFyZ2V0Q2FudmFzLl9jdXJyZW50VHJhbnNmb3JtLnRhcmdldCxcbiAgICAgICAgICAgIGFjdGlvbiA9IHRhcmdldENhbnZhcy5fY3VycmVudFRyYW5zZm9ybS5hY3Rpb247XG4gICAgICAgIGlmICh0aGlzID09PSB0YXJnZXQgJiYgYWN0aW9uLnNsaWNlICYmIGFjdGlvbi5zbGljZSgwLCA1KSA9PT0gJ3NjYWxlJykge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuX2NhY2hlQ2FudmFzLFxuICAgICAgICAgIGRpbXMgPSB0aGlzLl9saW1pdENhY2hlU2l6ZSh0aGlzLl9nZXRDYWNoZUNhbnZhc0RpbWVuc2lvbnMoKSksXG4gICAgICAgICAgbWluQ2FjaGVTaXplID0gZmFicmljLm1pbkNhY2hlU2lkZUxpbWl0LFxuICAgICAgICAgIHdpZHRoID0gZGltcy53aWR0aCwgaGVpZ2h0ID0gZGltcy5oZWlnaHQsIGRyYXdpbmdXaWR0aCwgZHJhd2luZ0hlaWdodCxcbiAgICAgICAgICB6b29tWCA9IGRpbXMuem9vbVgsIHpvb21ZID0gZGltcy56b29tWSxcbiAgICAgICAgICBkaW1lbnNpb25zQ2hhbmdlZCA9IHdpZHRoICE9PSB0aGlzLmNhY2hlV2lkdGggfHwgaGVpZ2h0ICE9PSB0aGlzLmNhY2hlSGVpZ2h0LFxuICAgICAgICAgIHpvb21DaGFuZ2VkID0gdGhpcy56b29tWCAhPT0gem9vbVggfHwgdGhpcy56b29tWSAhPT0gem9vbVksXG4gICAgICAgICAgc2hvdWxkUmVkcmF3ID0gZGltZW5zaW9uc0NoYW5nZWQgfHwgem9vbUNoYW5nZWQsXG4gICAgICAgICAgYWRkaXRpb25hbFdpZHRoID0gMCwgYWRkaXRpb25hbEhlaWdodCA9IDAsIHNob3VsZFJlc2l6ZUNhbnZhcyA9IGZhbHNlO1xuICAgICAgaWYgKGRpbWVuc2lvbnNDaGFuZ2VkKSB7XG4gICAgICAgIHZhciBjYW52YXNXaWR0aCA9IHRoaXMuX2NhY2hlQ2FudmFzLndpZHRoLFxuICAgICAgICAgICAgY2FudmFzSGVpZ2h0ID0gdGhpcy5fY2FjaGVDYW52YXMuaGVpZ2h0LFxuICAgICAgICAgICAgc2l6ZUdyb3dpbmcgPSB3aWR0aCA+IGNhbnZhc1dpZHRoIHx8IGhlaWdodCA+IGNhbnZhc0hlaWdodCxcbiAgICAgICAgICAgIHNpemVTaHJpbmtpbmcgPSAod2lkdGggPCBjYW52YXNXaWR0aCAqIDAuOSB8fCBoZWlnaHQgPCBjYW52YXNIZWlnaHQgKiAwLjkpICYmXG4gICAgICAgICAgICAgIGNhbnZhc1dpZHRoID4gbWluQ2FjaGVTaXplICYmIGNhbnZhc0hlaWdodCA+IG1pbkNhY2hlU2l6ZTtcbiAgICAgICAgc2hvdWxkUmVzaXplQ2FudmFzID0gc2l6ZUdyb3dpbmcgfHwgc2l6ZVNocmlua2luZztcbiAgICAgICAgaWYgKHNpemVHcm93aW5nICYmICFkaW1zLmNhcHBlZCAmJiAod2lkdGggPiBtaW5DYWNoZVNpemUgfHwgaGVpZ2h0ID4gbWluQ2FjaGVTaXplKSkge1xuICAgICAgICAgIGFkZGl0aW9uYWxXaWR0aCA9IHdpZHRoICogMC4xO1xuICAgICAgICAgIGFkZGl0aW9uYWxIZWlnaHQgPSBoZWlnaHQgKiAwLjE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgZmFicmljLlRleHQgJiYgdGhpcy5wYXRoKSB7XG4gICAgICAgIHNob3VsZFJlZHJhdyA9IHRydWU7XG4gICAgICAgIHNob3VsZFJlc2l6ZUNhbnZhcyA9IHRydWU7XG4gICAgICAgIGFkZGl0aW9uYWxXaWR0aCArPSB0aGlzLmdldEhlaWdodE9mTGluZSgwKSAqIHRoaXMuem9vbVg7XG4gICAgICAgIGFkZGl0aW9uYWxIZWlnaHQgKz0gdGhpcy5nZXRIZWlnaHRPZkxpbmUoMCkgKiB0aGlzLnpvb21ZO1xuICAgICAgfVxuICAgICAgaWYgKHNob3VsZFJlZHJhdykge1xuICAgICAgICBpZiAoc2hvdWxkUmVzaXplQ2FudmFzKSB7XG4gICAgICAgICAgY2FudmFzLndpZHRoID0gTWF0aC5jZWlsKHdpZHRoICsgYWRkaXRpb25hbFdpZHRoKTtcbiAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCArIGFkZGl0aW9uYWxIZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHRoaXMuX2NhY2hlQ29udGV4dC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCk7XG4gICAgICAgICAgdGhpcy5fY2FjaGVDb250ZXh0LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGRyYXdpbmdXaWR0aCA9IGRpbXMueCAvIDI7XG4gICAgICAgIGRyYXdpbmdIZWlnaHQgPSBkaW1zLnkgLyAyO1xuICAgICAgICB0aGlzLmNhY2hlVHJhbnNsYXRpb25YID0gTWF0aC5yb3VuZChjYW52YXMud2lkdGggLyAyIC0gZHJhd2luZ1dpZHRoKSArIGRyYXdpbmdXaWR0aDtcbiAgICAgICAgdGhpcy5jYWNoZVRyYW5zbGF0aW9uWSA9IE1hdGgucm91bmQoY2FudmFzLmhlaWdodCAvIDIgLSBkcmF3aW5nSGVpZ2h0KSArIGRyYXdpbmdIZWlnaHQ7XG4gICAgICAgIHRoaXMuY2FjaGVXaWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmNhY2hlSGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLl9jYWNoZUNvbnRleHQudHJhbnNsYXRlKHRoaXMuY2FjaGVUcmFuc2xhdGlvblgsIHRoaXMuY2FjaGVUcmFuc2xhdGlvblkpO1xuICAgICAgICB0aGlzLl9jYWNoZUNvbnRleHQuc2NhbGUoem9vbVgsIHpvb21ZKTtcbiAgICAgICAgdGhpcy56b29tWCA9IHpvb21YO1xuICAgICAgICB0aGlzLnpvb21ZID0gem9vbVk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIG9iamVjdCdzIHByb3BlcnRpZXMgZnJvbSBvcHRpb25zXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqL1xuICAgIHNldE9wdGlvbnM6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuX3NldE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICB0aGlzLl9pbml0R3JhZGllbnQob3B0aW9ucy5maWxsLCAnZmlsbCcpO1xuICAgICAgdGhpcy5faW5pdEdyYWRpZW50KG9wdGlvbnMuc3Ryb2tlLCAnc3Ryb2tlJyk7XG4gICAgICB0aGlzLl9pbml0UGF0dGVybihvcHRpb25zLmZpbGwsICdmaWxsJyk7XG4gICAgICB0aGlzLl9pbml0UGF0dGVybihvcHRpb25zLnN0cm9rZSwgJ3N0cm9rZScpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2Zvcm1zIGNvbnRleHQgd2hlbiByZW5kZXJpbmcgYW4gb2JqZWN0XG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0XG4gICAgICovXG4gICAgdHJhbnNmb3JtOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIHZhciBuZWVkRnVsbFRyYW5zZm9ybSA9ICh0aGlzLmdyb3VwICYmICF0aGlzLmdyb3VwLl90cmFuc2Zvcm1Eb25lKSB8fFxuICAgICAgICAgKHRoaXMuZ3JvdXAgJiYgdGhpcy5jYW52YXMgJiYgY3R4ID09PSB0aGlzLmNhbnZhcy5jb250ZXh0VG9wKTtcbiAgICAgIHZhciBtID0gdGhpcy5jYWxjVHJhbnNmb3JtTWF0cml4KCFuZWVkRnVsbFRyYW5zZm9ybSk7XG4gICAgICBjdHgudHJhbnNmb3JtKG1bMF0sIG1bMV0sIG1bMl0sIG1bM10sIG1bNF0sIG1bNV0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wZXJ0aWVzVG9JbmNsdWRlXSBBbnkgcHJvcGVydGllcyB0aGF0IHlvdSBtaWdodCB3YW50IHRvIGFkZGl0aW9uYWxseSBpbmNsdWRlIGluIHRoZSBvdXRwdXRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IE9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRvT2JqZWN0OiBmdW5jdGlvbihwcm9wZXJ0aWVzVG9JbmNsdWRlKSB7XG4gICAgICB2YXIgTlVNX0ZSQUNUSU9OX0RJR0lUUyA9IGZhYnJpYy5PYmplY3QuTlVNX0ZSQUNUSU9OX0RJR0lUUyxcblxuICAgICAgICAgIG9iamVjdCA9IHtcbiAgICAgICAgICAgIHR5cGU6ICAgICAgICAgICAgICAgICAgICAgdGhpcy50eXBlLFxuICAgICAgICAgICAgdmVyc2lvbjogICAgICAgICAgICAgICAgICBmYWJyaWMudmVyc2lvbixcbiAgICAgICAgICAgIG9yaWdpblg6ICAgICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5YLFxuICAgICAgICAgICAgb3JpZ2luWTogICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpblksXG4gICAgICAgICAgICBsZWZ0OiAgICAgICAgICAgICAgICAgICAgIHRvRml4ZWQodGhpcy5sZWZ0LCBOVU1fRlJBQ1RJT05fRElHSVRTKSxcbiAgICAgICAgICAgIHRvcDogICAgICAgICAgICAgICAgICAgICAgdG9GaXhlZCh0aGlzLnRvcCwgTlVNX0ZSQUNUSU9OX0RJR0lUUyksXG4gICAgICAgICAgICB3aWR0aDogICAgICAgICAgICAgICAgICAgIHRvRml4ZWQodGhpcy53aWR0aCwgTlVNX0ZSQUNUSU9OX0RJR0lUUyksXG4gICAgICAgICAgICBoZWlnaHQ6ICAgICAgICAgICAgICAgICAgIHRvRml4ZWQodGhpcy5oZWlnaHQsIE5VTV9GUkFDVElPTl9ESUdJVFMpLFxuICAgICAgICAgICAgZmlsbDogICAgICAgICAgICAgICAgICAgICAodGhpcy5maWxsICYmIHRoaXMuZmlsbC50b09iamVjdCkgPyB0aGlzLmZpbGwudG9PYmplY3QoKSA6IHRoaXMuZmlsbCxcbiAgICAgICAgICAgIHN0cm9rZTogICAgICAgICAgICAgICAgICAgKHRoaXMuc3Ryb2tlICYmIHRoaXMuc3Ryb2tlLnRvT2JqZWN0KSA/IHRoaXMuc3Ryb2tlLnRvT2JqZWN0KCkgOiB0aGlzLnN0cm9rZSxcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAgICAgICAgICAgICAgdG9GaXhlZCh0aGlzLnN0cm9rZVdpZHRoLCBOVU1fRlJBQ1RJT05fRElHSVRTKSxcbiAgICAgICAgICAgIHN0cm9rZURhc2hBcnJheTogICAgICAgICAgdGhpcy5zdHJva2VEYXNoQXJyYXkgPyB0aGlzLnN0cm9rZURhc2hBcnJheS5jb25jYXQoKSA6IHRoaXMuc3Ryb2tlRGFzaEFycmF5LFxuICAgICAgICAgICAgc3Ryb2tlTGluZUNhcDogICAgICAgICAgICB0aGlzLnN0cm9rZUxpbmVDYXAsXG4gICAgICAgICAgICBzdHJva2VEYXNoT2Zmc2V0OiAgICAgICAgIHRoaXMuc3Ryb2tlRGFzaE9mZnNldCxcbiAgICAgICAgICAgIHN0cm9rZUxpbmVKb2luOiAgICAgICAgICAgdGhpcy5zdHJva2VMaW5lSm9pbixcbiAgICAgICAgICAgIHN0cm9rZVVuaWZvcm06ICAgICAgICAgICAgdGhpcy5zdHJva2VVbmlmb3JtLFxuICAgICAgICAgICAgc3Ryb2tlTWl0ZXJMaW1pdDogICAgICAgICB0b0ZpeGVkKHRoaXMuc3Ryb2tlTWl0ZXJMaW1pdCwgTlVNX0ZSQUNUSU9OX0RJR0lUUyksXG4gICAgICAgICAgICBzY2FsZVg6ICAgICAgICAgICAgICAgICAgIHRvRml4ZWQodGhpcy5zY2FsZVgsIE5VTV9GUkFDVElPTl9ESUdJVFMpLFxuICAgICAgICAgICAgc2NhbGVZOiAgICAgICAgICAgICAgICAgICB0b0ZpeGVkKHRoaXMuc2NhbGVZLCBOVU1fRlJBQ1RJT05fRElHSVRTKSxcbiAgICAgICAgICAgIGFuZ2xlOiAgICAgICAgICAgICAgICAgICAgdG9GaXhlZCh0aGlzLmFuZ2xlLCBOVU1fRlJBQ1RJT05fRElHSVRTKSxcbiAgICAgICAgICAgIGZsaXBYOiAgICAgICAgICAgICAgICAgICAgdGhpcy5mbGlwWCxcbiAgICAgICAgICAgIGZsaXBZOiAgICAgICAgICAgICAgICAgICAgdGhpcy5mbGlwWSxcbiAgICAgICAgICAgIG9wYWNpdHk6ICAgICAgICAgICAgICAgICAgdG9GaXhlZCh0aGlzLm9wYWNpdHksIE5VTV9GUkFDVElPTl9ESUdJVFMpLFxuICAgICAgICAgICAgc2hhZG93OiAgICAgICAgICAgICAgICAgICAodGhpcy5zaGFkb3cgJiYgdGhpcy5zaGFkb3cudG9PYmplY3QpID8gdGhpcy5zaGFkb3cudG9PYmplY3QoKSA6IHRoaXMuc2hhZG93LFxuICAgICAgICAgICAgdmlzaWJsZTogICAgICAgICAgICAgICAgICB0aGlzLnZpc2libGUsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICAgICAgICAgIHRoaXMuYmFja2dyb3VuZENvbG9yLFxuICAgICAgICAgICAgZmlsbFJ1bGU6ICAgICAgICAgICAgICAgICB0aGlzLmZpbGxSdWxlLFxuICAgICAgICAgICAgcGFpbnRGaXJzdDogICAgICAgICAgICAgICB0aGlzLnBhaW50Rmlyc3QsXG4gICAgICAgICAgICBnbG9iYWxDb21wb3NpdGVPcGVyYXRpb246IHRoaXMuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uLFxuICAgICAgICAgICAgc2tld1g6ICAgICAgICAgICAgICAgICAgICB0b0ZpeGVkKHRoaXMuc2tld1gsIE5VTV9GUkFDVElPTl9ESUdJVFMpLFxuICAgICAgICAgICAgc2tld1k6ICAgICAgICAgICAgICAgICAgICB0b0ZpeGVkKHRoaXMuc2tld1ksIE5VTV9GUkFDVElPTl9ESUdJVFMpLFxuICAgICAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLmNsaXBQYXRoICYmICF0aGlzLmNsaXBQYXRoLmV4Y2x1ZGVGcm9tRXhwb3J0KSB7XG4gICAgICAgIG9iamVjdC5jbGlwUGF0aCA9IHRoaXMuY2xpcFBhdGgudG9PYmplY3QocHJvcGVydGllc1RvSW5jbHVkZSk7XG4gICAgICAgIG9iamVjdC5jbGlwUGF0aC5pbnZlcnRlZCA9IHRoaXMuY2xpcFBhdGguaW52ZXJ0ZWQ7XG4gICAgICAgIG9iamVjdC5jbGlwUGF0aC5hYnNvbHV0ZVBvc2l0aW9uZWQgPSB0aGlzLmNsaXBQYXRoLmFic29sdXRlUG9zaXRpb25lZDtcbiAgICAgIH1cblxuICAgICAgZmFicmljLnV0aWwucG9wdWxhdGVXaXRoUHJvcGVydGllcyh0aGlzLCBvYmplY3QsIHByb3BlcnRpZXNUb0luY2x1ZGUpO1xuICAgICAgaWYgKCF0aGlzLmluY2x1ZGVEZWZhdWx0VmFsdWVzKSB7XG4gICAgICAgIG9iamVjdCA9IHRoaXMuX3JlbW92ZURlZmF1bHRWYWx1ZXMob2JqZWN0KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyAoZGF0YWxlc3MpIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wZXJ0aWVzVG9JbmNsdWRlXSBBbnkgcHJvcGVydGllcyB0aGF0IHlvdSBtaWdodCB3YW50IHRvIGFkZGl0aW9uYWxseSBpbmNsdWRlIGluIHRoZSBvdXRwdXRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IE9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRvRGF0YWxlc3NPYmplY3Q6IGZ1bmN0aW9uKHByb3BlcnRpZXNUb0luY2x1ZGUpIHtcbiAgICAgIC8vIHdpbGwgYmUgb3ZlcndyaXR0ZW4gYnkgc3ViY2xhc3Nlc1xuICAgICAgcmV0dXJuIHRoaXMudG9PYmplY3QocHJvcGVydGllc1RvSW5jbHVkZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICAgICAqL1xuICAgIF9yZW1vdmVEZWZhdWx0VmFsdWVzOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHZhciBwcm90b3R5cGUgPSBmYWJyaWMudXRpbC5nZXRLbGFzcyhvYmplY3QudHlwZSkucHJvdG90eXBlLFxuICAgICAgICAgIHN0YXRlUHJvcGVydGllcyA9IHByb3RvdHlwZS5zdGF0ZVByb3BlcnRpZXM7XG4gICAgICBzdGF0ZVByb3BlcnRpZXMuZm9yRWFjaChmdW5jdGlvbihwcm9wKSB7XG4gICAgICAgIGlmIChwcm9wID09PSAnbGVmdCcgfHwgcHJvcCA9PT0gJ3RvcCcpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9iamVjdFtwcm9wXSA9PT0gcHJvdG90eXBlW3Byb3BdKSB7XG4gICAgICAgICAgZGVsZXRlIG9iamVjdFtwcm9wXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBiYXNpY2FsbHkgYSBjaGVjayBmb3IgW10gPT09IFtdXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9iamVjdFtwcm9wXSkgJiYgQXJyYXkuaXNBcnJheShwcm90b3R5cGVbcHJvcF0pXG4gICAgICAgICAgJiYgb2JqZWN0W3Byb3BdLmxlbmd0aCA9PT0gMCAmJiBwcm90b3R5cGVbcHJvcF0ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgZGVsZXRlIG9iamVjdFtwcm9wXTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAgICovXG4gICAgdG9TdHJpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICcjPGZhYnJpYy4nICsgY2FwaXRhbGl6ZSh0aGlzLnR5cGUpICsgJz4nO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIG9iamVjdCBzY2FsZSBmYWN0b3IgY291bnRpbmcgYWxzbyB0aGUgZ3JvdXAgc2NhbGluZ1xuICAgICAqIEByZXR1cm4ge09iamVjdH0gb2JqZWN0IHdpdGggc2NhbGVYIGFuZCBzY2FsZVkgcHJvcGVydGllc1xuICAgICAqL1xuICAgIGdldE9iamVjdFNjYWxpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgLy8gaWYgdGhlIG9iamVjdCBpcyBhIHRvcCBsZXZlbCBvbmUsIG9uIHRoZSBjYW52YXMsIHdlIGdvIGZvciBzaW1wbGUgYXJpdG1ldGljXG4gICAgICAvLyBvdGhlcndpc2UgdGhlIGNvbXBsZXggbWV0aG9kIHdpdGggYW5nbGVzIHdpbGwgcmV0dXJuIGFwcHJveGltYXRpb25zIGFuZCBkZWNpbWFsc1xuICAgICAgLy8gYW5kIHdpbGwgbGlrZWx5IGtpbGwgdGhlIGNhY2hlIHdoZW4gbm90IG5lZWRlZFxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhYnJpY2pzL2ZhYnJpYy5qcy9pc3N1ZXMvNzE1N1xuICAgICAgaWYgKCF0aGlzLmdyb3VwKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc2NhbGVYOiB0aGlzLnNjYWxlWCxcbiAgICAgICAgICBzY2FsZVk6IHRoaXMuc2NhbGVZLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgLy8gaWYgd2UgYXJlIGluc2lkZSBhIGdyb3VwIHRvdGFsIHpvb20gY2FsY3VsYXRpb24gaXMgY29tcGxleCwgd2UgZGVmZXIgdG8gZ2VuZXJpYyBtYXRyaWNlc1xuICAgICAgdmFyIG9wdGlvbnMgPSBmYWJyaWMudXRpbC5xckRlY29tcG9zZSh0aGlzLmNhbGNUcmFuc2Zvcm1NYXRyaXgoKSk7XG4gICAgICByZXR1cm4geyBzY2FsZVg6IE1hdGguYWJzKG9wdGlvbnMuc2NhbGVYKSwgc2NhbGVZOiBNYXRoLmFicyhvcHRpb25zLnNjYWxlWSkgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBvYmplY3Qgc2NhbGUgZmFjdG9yIGNvdW50aW5nIGFsc28gdGhlIGdyb3VwIHNjYWxpbmcsIHpvb20gYW5kIHJldGluYVxuICAgICAqIEByZXR1cm4ge09iamVjdH0gb2JqZWN0IHdpdGggc2NhbGVYIGFuZCBzY2FsZVkgcHJvcGVydGllc1xuICAgICAqL1xuICAgIGdldFRvdGFsT2JqZWN0U2NhbGluZzogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2NhbGUgPSB0aGlzLmdldE9iamVjdFNjYWxpbmcoKSwgc2NhbGVYID0gc2NhbGUuc2NhbGVYLCBzY2FsZVkgPSBzY2FsZS5zY2FsZVk7XG4gICAgICBpZiAodGhpcy5jYW52YXMpIHtcbiAgICAgICAgdmFyIHpvb20gPSB0aGlzLmNhbnZhcy5nZXRab29tKCk7XG4gICAgICAgIHZhciByZXRpbmEgPSB0aGlzLmNhbnZhcy5nZXRSZXRpbmFTY2FsaW5nKCk7XG4gICAgICAgIHNjYWxlWCAqPSB6b29tICogcmV0aW5hO1xuICAgICAgICBzY2FsZVkgKj0gem9vbSAqIHJldGluYTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7IHNjYWxlWDogc2NhbGVYLCBzY2FsZVk6IHNjYWxlWSB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIG9iamVjdCBvcGFjaXR5IGNvdW50aW5nIGFsc28gdGhlIGdyb3VwIHByb3BlcnR5XG4gICAgICogQHJldHVybiB7TnVtYmVyfVxuICAgICAqL1xuICAgIGdldE9iamVjdE9wYWNpdHk6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG9wYWNpdHkgPSB0aGlzLm9wYWNpdHk7XG4gICAgICBpZiAodGhpcy5ncm91cCkge1xuICAgICAgICBvcGFjaXR5ICo9IHRoaXMuZ3JvdXAuZ2V0T2JqZWN0T3BhY2l0eSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9wYWNpdHk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGtleVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAgICovXG4gICAgX3NldDogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIHNob3VsZENvbnN0cmFpblZhbHVlID0gKGtleSA9PT0gJ3NjYWxlWCcgfHwga2V5ID09PSAnc2NhbGVZJyksXG4gICAgICAgICAgaXNDaGFuZ2VkID0gdGhpc1trZXldICE9PSB2YWx1ZSwgZ3JvdXBOZWVkc1VwZGF0ZSA9IGZhbHNlO1xuXG4gICAgICBpZiAoc2hvdWxkQ29uc3RyYWluVmFsdWUpIHtcbiAgICAgICAgdmFsdWUgPSB0aGlzLl9jb25zdHJhaW5TY2FsZSh2YWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAoa2V5ID09PSAnc2NhbGVYJyAmJiB2YWx1ZSA8IDApIHtcbiAgICAgICAgdGhpcy5mbGlwWCA9ICF0aGlzLmZsaXBYO1xuICAgICAgICB2YWx1ZSAqPSAtMTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGtleSA9PT0gJ3NjYWxlWScgJiYgdmFsdWUgPCAwKSB7XG4gICAgICAgIHRoaXMuZmxpcFkgPSAhdGhpcy5mbGlwWTtcbiAgICAgICAgdmFsdWUgKj0gLTE7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChrZXkgPT09ICdzaGFkb3cnICYmIHZhbHVlICYmICEodmFsdWUgaW5zdGFuY2VvZiBmYWJyaWMuU2hhZG93KSkge1xuICAgICAgICB2YWx1ZSA9IG5ldyBmYWJyaWMuU2hhZG93KHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGtleSA9PT0gJ2RpcnR5JyAmJiB0aGlzLmdyb3VwKSB7XG4gICAgICAgIHRoaXMuZ3JvdXAuc2V0KCdkaXJ0eScsIHZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgdGhpc1trZXldID0gdmFsdWU7XG5cbiAgICAgIGlmIChpc0NoYW5nZWQpIHtcbiAgICAgICAgZ3JvdXBOZWVkc1VwZGF0ZSA9IHRoaXMuZ3JvdXAgJiYgdGhpcy5ncm91cC5pc09uQUNhY2hlKCk7XG4gICAgICAgIGlmICh0aGlzLmNhY2hlUHJvcGVydGllcy5pbmRleE9mKGtleSkgPiAtMSkge1xuICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgIGdyb3VwTmVlZHNVcGRhdGUgJiYgdGhpcy5ncm91cC5zZXQoJ2RpcnR5JywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZ3JvdXBOZWVkc1VwZGF0ZSAmJiB0aGlzLnN0YXRlUHJvcGVydGllcy5pbmRleE9mKGtleSkgPiAtMSkge1xuICAgICAgICAgIHRoaXMuZ3JvdXAuc2V0KCdkaXJ0eScsIHRydWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVGhpcyBjYWxsYmFjayBmdW5jdGlvbiBpcyBjYWxsZWQgYnkgdGhlIHBhcmVudCBncm91cCBvZiBhbiBvYmplY3QgZXZlcnlcbiAgICAgKiB0aW1lIGEgbm9uLWRlbGVnYXRlZCBwcm9wZXJ0eSBjaGFuZ2VzIG9uIHRoZSBncm91cC4gSXQgaXMgcGFzc2VkIHRoZSBrZXlcbiAgICAgKiBhbmQgdmFsdWUgYXMgcGFyYW1ldGVycy4gTm90IGFkZGluZyBpbiB0aGlzIGZ1bmN0aW9uJ3Mgc2lnbmF0dXJlIHRvIGF2b2lkXG4gICAgICogVHJhdmlzIGJ1aWxkIGVycm9yIGFib3V0IHVudXNlZCB2YXJpYWJsZXMuXG4gICAgICovXG4gICAgc2V0T25Hcm91cDogZnVuY3Rpb24oKSB7XG4gICAgICAvLyBpbXBsZW1lbnRlZCBieSBzdWItY2xhc3NlcywgYXMgbmVlZGVkLlxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdmlld3BvcnRUcmFuc2Zvcm0gZnJvbSBPYmplY3QncyBjYW52YXMgaWYgcG9zc2libGVcbiAgICAgKiBAbWV0aG9kIGdldFZpZXdwb3J0VHJhbnNmb3JtXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy5PYmplY3QucHJvdG90eXBlXG4gICAgICogQHJldHVybiB7QXJyYXl9XG4gICAgICovXG4gICAgZ2V0Vmlld3BvcnRUcmFuc2Zvcm06IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLnZpZXdwb3J0VHJhbnNmb3JtKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhcy52aWV3cG9ydFRyYW5zZm9ybTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWJyaWMuaU1hdHJpeC5jb25jYXQoKTtcbiAgICB9LFxuXG4gICAgLypcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIHJldHVybiBpZiB0aGUgb2JqZWN0IHdvdWxkIGJlIHZpc2libGUgaW4gcmVuZGVyaW5nXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy5PYmplY3QucHJvdG90eXBlXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBpc05vdFZpc2libGU6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMub3BhY2l0eSA9PT0gMCB8fFxuICAgICAgICAoIXRoaXMud2lkdGggJiYgIXRoaXMuaGVpZ2h0ICYmIHRoaXMuc3Ryb2tlV2lkdGggPT09IDApIHx8XG4gICAgICAgICF0aGlzLnZpc2libGU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgYW4gb2JqZWN0IG9uIGEgc3BlY2lmaWVkIGNvbnRleHRcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgcmVuZGVyOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIC8vIGRvIG5vdCByZW5kZXIgaWYgd2lkdGgvaGVpZ2h0IGFyZSB6ZXJvcyBvciBvYmplY3QgaXMgbm90IHZpc2libGVcbiAgICAgIGlmICh0aGlzLmlzTm90VmlzaWJsZSgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy5za2lwT2Zmc2NyZWVuICYmICF0aGlzLmdyb3VwICYmICF0aGlzLmlzT25TY3JlZW4oKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgdGhpcy5fc2V0dXBDb21wb3NpdGVPcGVyYXRpb24oY3R4KTtcbiAgICAgIHRoaXMuZHJhd1NlbGVjdGlvbkJhY2tncm91bmQoY3R4KTtcbiAgICAgIHRoaXMudHJhbnNmb3JtKGN0eCk7XG4gICAgICB0aGlzLl9zZXRPcGFjaXR5KGN0eCk7XG4gICAgICB0aGlzLl9zZXRTaGFkb3coY3R4LCB0aGlzKTtcbiAgICAgIGlmICh0aGlzLnNob3VsZENhY2hlKCkpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJDYWNoZSgpO1xuICAgICAgICB0aGlzLmRyYXdDYWNoZU9uQ2FudmFzKGN0eCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5fcmVtb3ZlQ2FjaGVDYW52YXMoKTtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRyYXdPYmplY3QoY3R4KTtcbiAgICAgICAgaWYgKHRoaXMub2JqZWN0Q2FjaGluZyAmJiB0aGlzLnN0YXRlZnVsbENhY2hlKSB7XG4gICAgICAgICAgdGhpcy5zYXZlU3RhdGUoeyBwcm9wZXJ0eVNldDogJ2NhY2hlUHJvcGVydGllcycgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfSxcblxuICAgIHJlbmRlckNhY2hlOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgIGlmICghdGhpcy5fY2FjaGVDYW52YXMgfHwgIXRoaXMuX2NhY2hlQ29udGV4dCkge1xuICAgICAgICB0aGlzLl9jcmVhdGVDYWNoZUNhbnZhcygpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuaXNDYWNoZURpcnR5KCkpIHtcbiAgICAgICAgdGhpcy5zdGF0ZWZ1bGxDYWNoZSAmJiB0aGlzLnNhdmVTdGF0ZSh7IHByb3BlcnR5U2V0OiAnY2FjaGVQcm9wZXJ0aWVzJyB9KTtcbiAgICAgICAgdGhpcy5kcmF3T2JqZWN0KHRoaXMuX2NhY2hlQ29udGV4dCwgb3B0aW9ucy5mb3JDbGlwcGluZyk7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGNhY2hlQ2FudmFzIGFuZCBpdHMgZGltZW5zaW9ucyBmcm9tIHRoZSBvYmplY3RzXG4gICAgICovXG4gICAgX3JlbW92ZUNhY2hlQ2FudmFzOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuX2NhY2hlQ2FudmFzID0gbnVsbDtcbiAgICAgIHRoaXMuX2NhY2hlQ29udGV4dCA9IG51bGw7XG4gICAgICB0aGlzLmNhY2hlV2lkdGggPSAwO1xuICAgICAgdGhpcy5jYWNoZUhlaWdodCA9IDA7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJldHVybiB0cnVlIGlmIHRoZSBvYmplY3Qgd2lsbCBkcmF3IGEgc3Ryb2tlXG4gICAgICogRG9lcyBub3QgY29uc2lkZXIgdGV4dCBzdHlsZXMuIFRoaXMgaXMganVzdCBhIHNob3J0Y3V0IHVzZWQgYXQgcmVuZGVyaW5nIHRpbWVcbiAgICAgKiBXZSB3YW50IGl0IHRvIGJlIGFuIGFwcHJveGltYXRpb24gYW5kIGJlIGZhc3QuXG4gICAgICogd3JvdGUgdG8gYXZvaWQgZXh0cmEgY2FjaGluZywgaXQgaGFzIHRvIHJldHVybiB0cnVlIHdoZW4gc3Ryb2tlIGhhcHBlbnMsXG4gICAgICogY2FuIGd1ZXNzIHdoZW4gaXQgd2lsbCBub3QgaGFwcGVuIGF0IDEwMCUgY2hhbmNlLCBkb2VzIG5vdCBtYXR0ZXIgaWYgaXQgbWlzc2VzXG4gICAgICogc29tZSB1c2UgY2FzZSB3aGVyZSB0aGUgc3Ryb2tlIGlzIGludmlzaWJsZS5cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAcmV0dXJucyBCb29sZWFuXG4gICAgICovXG4gICAgaGFzU3Ryb2tlOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0cm9rZSAmJiB0aGlzLnN0cm9rZSAhPT0gJ3RyYW5zcGFyZW50JyAmJiB0aGlzLnN0cm9rZVdpZHRoICE9PSAwO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiByZXR1cm4gdHJ1ZSBpZiB0aGUgb2JqZWN0IHdpbGwgZHJhdyBhIGZpbGxcbiAgICAgKiBEb2VzIG5vdCBjb25zaWRlciB0ZXh0IHN0eWxlcy4gVGhpcyBpcyBqdXN0IGEgc2hvcnRjdXQgdXNlZCBhdCByZW5kZXJpbmcgdGltZVxuICAgICAqIFdlIHdhbnQgaXQgdG8gYmUgYW4gYXBwcm94aW1hdGlvbiBhbmQgYmUgZmFzdC5cbiAgICAgKiB3cm90ZSB0byBhdm9pZCBleHRyYSBjYWNoaW5nLCBpdCBoYXMgdG8gcmV0dXJuIHRydWUgd2hlbiBmaWxsIGhhcHBlbnMsXG4gICAgICogY2FuIGd1ZXNzIHdoZW4gaXQgd2lsbCBub3QgaGFwcGVuIGF0IDEwMCUgY2hhbmNlLCBkb2VzIG5vdCBtYXR0ZXIgaWYgaXQgbWlzc2VzXG4gICAgICogc29tZSB1c2UgY2FzZSB3aGVyZSB0aGUgZmlsbCBpcyBpbnZpc2libGUuXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQHJldHVybnMgQm9vbGVhblxuICAgICAqL1xuICAgIGhhc0ZpbGw6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZmlsbCAmJiB0aGlzLmZpbGwgIT09ICd0cmFuc3BhcmVudCc7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gc2V0IHRvIGB0cnVlYCwgZm9yY2UgdGhlIG9iamVjdCB0byBoYXZlIGl0cyBvd24gY2FjaGUsIGV2ZW4gaWYgaXQgaXMgaW5zaWRlIGEgZ3JvdXBcbiAgICAgKiBpdCBtYXkgYmUgbmVlZGVkIHdoZW4geW91ciBvYmplY3QgYmVoYXZlIGluIGEgcGFydGljdWxhciB3YXkgb24gdGhlIGNhY2hlIGFuZCBhbHdheXMgbmVlZHNcbiAgICAgKiBpdHMgb3duIGlzb2xhdGVkIGNhbnZhcyB0byByZW5kZXIgY29ycmVjdGx5LlxuICAgICAqIENyZWF0ZWQgdG8gYmUgb3ZlcnJpZGRlblxuICAgICAqIHNpbmNlIDEuNy4xMlxuICAgICAqIEByZXR1cm5zIEJvb2xlYW5cbiAgICAgKi9cbiAgICBuZWVkc0l0c093bkNhY2hlOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLnBhaW50Rmlyc3QgPT09ICdzdHJva2UnICYmXG4gICAgICAgIHRoaXMuaGFzRmlsbCgpICYmIHRoaXMuaGFzU3Ryb2tlKCkgJiYgdHlwZW9mIHRoaXMuc2hhZG93ID09PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmNsaXBQYXRoKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZWNpZGUgaWYgdGhlIG9iamVjdCBzaG91bGQgY2FjaGUgb3Igbm90LiBDcmVhdGUgaXRzIG93biBjYWNoZSBsZXZlbFxuICAgICAqIG9iamVjdENhY2hpbmcgaXMgYSBnbG9iYWwgZmxhZywgd2lucyBvdmVyIGV2ZXJ5dGhpbmdcbiAgICAgKiBuZWVkc0l0c093bkNhY2hlIHNob3VsZCBiZSB1c2VkIHdoZW4gdGhlIG9iamVjdCBkcmF3aW5nIG1ldGhvZCByZXF1aXJlc1xuICAgICAqIGEgY2FjaGUgc3RlcC4gTm9uZSBvZiB0aGUgZmFicmljIGNsYXNzZXMgcmVxdWlyZXMgaXQuXG4gICAgICogR2VuZXJhbGx5IHlvdSBkbyBub3QgY2FjaGUgb2JqZWN0cyBpbiBncm91cHMgYmVjYXVzZSB0aGUgZ3JvdXAgb3V0c2lkZSBpcyBjYWNoZWQuXG4gICAgICogUmVhZCBhczogY2FjaGUgaWYgaXMgbmVlZGVkLCBvciBpZiB0aGUgZmVhdHVyZSBpcyBlbmFibGVkIGJ1dCB3ZSBhcmUgbm90IGFscmVhZHkgY2FjaGluZy5cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIHNob3VsZENhY2hlOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMub3duQ2FjaGluZyA9IHRoaXMubmVlZHNJdHNPd25DYWNoZSgpIHx8IChcbiAgICAgICAgdGhpcy5vYmplY3RDYWNoaW5nICYmXG4gICAgICAgICghdGhpcy5ncm91cCB8fCAhdGhpcy5ncm91cC5pc09uQUNhY2hlKCkpXG4gICAgICApO1xuICAgICAgcmV0dXJuIHRoaXMub3duQ2FjaGluZztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhpcyBvYmplY3Qgb3IgYSBjaGlsZCBvYmplY3Qgd2lsbCBjYXN0IGEgc2hhZG93XG4gICAgICogdXNlZCBieSBHcm91cC5zaG91bGRDYWNoZSB0byBrbm93IGlmIGNoaWxkIGhhcyBhIHNoYWRvdyByZWN1cnNpdmVseVxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgd2lsbERyYXdTaGFkb3c6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICEhdGhpcy5zaGFkb3cgJiYgKHRoaXMuc2hhZG93Lm9mZnNldFggIT09IDAgfHwgdGhpcy5zaGFkb3cub2Zmc2V0WSAhPT0gMCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGUgdGhlIGRyYXdpbmcgb3BlcmF0aW9uIGZvciBhbiBvYmplY3QgY2xpcFBhdGhcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBjbGlwUGF0aFxuICAgICAqL1xuICAgIGRyYXdDbGlwUGF0aE9uQ2FjaGU6IGZ1bmN0aW9uKGN0eCwgY2xpcFBhdGgpIHtcbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAvLyBERUJVRzogdW5jb21tZW50IHRoaXMgbGluZSwgY29tbWVudCB0aGUgZm9sbG93aW5nXG4gICAgICAvLyBjdHguZ2xvYmFsQWxwaGEgPSAwLjRcbiAgICAgIGlmIChjbGlwUGF0aC5pbnZlcnRlZCkge1xuICAgICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2Rlc3RpbmF0aW9uLW91dCc7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdkZXN0aW5hdGlvbi1pbic7XG4gICAgICB9XG4gICAgICAvL2N0eC5zY2FsZSgxIC8gMiwgMSAvIDIpO1xuICAgICAgaWYgKGNsaXBQYXRoLmFic29sdXRlUG9zaXRpb25lZCkge1xuICAgICAgICB2YXIgbSA9IGZhYnJpYy51dGlsLmludmVydFRyYW5zZm9ybSh0aGlzLmNhbGNUcmFuc2Zvcm1NYXRyaXgoKSk7XG4gICAgICAgIGN0eC50cmFuc2Zvcm0obVswXSwgbVsxXSwgbVsyXSwgbVszXSwgbVs0XSwgbVs1XSk7XG4gICAgICB9XG4gICAgICBjbGlwUGF0aC50cmFuc2Zvcm0oY3R4KTtcbiAgICAgIGN0eC5zY2FsZSgxIC8gY2xpcFBhdGguem9vbVgsIDEgLyBjbGlwUGF0aC56b29tWSk7XG4gICAgICBjdHguZHJhd0ltYWdlKGNsaXBQYXRoLl9jYWNoZUNhbnZhcywgLWNsaXBQYXRoLmNhY2hlVHJhbnNsYXRpb25YLCAtY2xpcFBhdGguY2FjaGVUcmFuc2xhdGlvblkpO1xuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZSB0aGUgZHJhd2luZyBvcGVyYXRpb24gZm9yIGFuIG9iamVjdCBvbiBhIHNwZWNpZmllZCBjb250ZXh0XG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIGRyYXdPYmplY3Q6IGZ1bmN0aW9uKGN0eCwgZm9yQ2xpcHBpbmcpIHtcbiAgICAgIHZhciBvcmlnaW5hbEZpbGwgPSB0aGlzLmZpbGwsIG9yaWdpbmFsU3Ryb2tlID0gdGhpcy5zdHJva2U7XG4gICAgICBpZiAoZm9yQ2xpcHBpbmcpIHtcbiAgICAgICAgdGhpcy5maWxsID0gJ2JsYWNrJztcbiAgICAgICAgdGhpcy5zdHJva2UgPSAnJztcbiAgICAgICAgdGhpcy5fc2V0Q2xpcHBpbmdQcm9wZXJ0aWVzKGN0eCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5fcmVuZGVyQmFja2dyb3VuZChjdHgpO1xuICAgICAgfVxuICAgICAgdGhpcy5fcmVuZGVyKGN0eCk7XG4gICAgICB0aGlzLl9kcmF3Q2xpcFBhdGgoY3R4LCB0aGlzLmNsaXBQYXRoKTtcbiAgICAgIHRoaXMuZmlsbCA9IG9yaWdpbmFsRmlsbDtcbiAgICAgIHRoaXMuc3Ryb2tlID0gb3JpZ2luYWxTdHJva2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFByZXBhcmUgY2xpcFBhdGggc3RhdGUgYW5kIGNhY2hlIGFuZCBkcmF3IGl0IG9uIGluc3RhbmNlJ3MgY2FjaGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4XG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBjbGlwUGF0aFxuICAgICAqL1xuICAgIF9kcmF3Q2xpcFBhdGg6IGZ1bmN0aW9uIChjdHgsIGNsaXBQYXRoKSB7XG4gICAgICBpZiAoIWNsaXBQYXRoKSB7IHJldHVybjsgfVxuICAgICAgLy8gbmVlZGVkIHRvIHNldHVwIGEgY291cGxlIG9mIHZhcmlhYmxlc1xuICAgICAgLy8gcGF0aCBjYW52YXMgZ2V0cyBvdmVycmlkZGVuIHdpdGggdGhpcyBvbmUuXG4gICAgICAvLyBUT0RPIGZpbmQgYSBiZXR0ZXIgc29sdXRpb24/XG4gICAgICBjbGlwUGF0aC5jYW52YXMgPSB0aGlzLmNhbnZhcztcbiAgICAgIGNsaXBQYXRoLnNob3VsZENhY2hlKCk7XG4gICAgICBjbGlwUGF0aC5fdHJhbnNmb3JtRG9uZSA9IHRydWU7XG4gICAgICBjbGlwUGF0aC5yZW5kZXJDYWNoZSh7IGZvckNsaXBwaW5nOiB0cnVlIH0pO1xuICAgICAgdGhpcy5kcmF3Q2xpcFBhdGhPbkNhY2hlKGN0eCwgY2xpcFBhdGgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQYWludCB0aGUgY2FjaGVkIGNvcHkgb2YgdGhlIG9iamVjdCBvbiB0aGUgdGFyZ2V0IGNvbnRleHQuXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIGRyYXdDYWNoZU9uQ2FudmFzOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIGN0eC5zY2FsZSgxIC8gdGhpcy56b29tWCwgMSAvIHRoaXMuem9vbVkpO1xuICAgICAgY3R4LmRyYXdJbWFnZSh0aGlzLl9jYWNoZUNhbnZhcywgLXRoaXMuY2FjaGVUcmFuc2xhdGlvblgsIC10aGlzLmNhY2hlVHJhbnNsYXRpb25ZKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgY2FjaGUgaXMgZGlydHlcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHNraXBDYW52YXMgc2tpcCBjYW52YXMgY2hlY2tzIGJlY2F1c2UgdGhpcyBvYmplY3QgaXMgcGFpbnRlZFxuICAgICAqIG9uIHBhcmVudCBjYW52YXMuXG4gICAgICovXG4gICAgaXNDYWNoZURpcnR5OiBmdW5jdGlvbihza2lwQ2FudmFzKSB7XG4gICAgICBpZiAodGhpcy5pc05vdFZpc2libGUoKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fY2FjaGVDYW52YXMgJiYgdGhpcy5fY2FjaGVDb250ZXh0ICYmICFza2lwQ2FudmFzICYmIHRoaXMuX3VwZGF0ZUNhY2hlQ2FudmFzKCkpIHtcbiAgICAgICAgLy8gaW4gdGhpcyBjYXNlIHRoZSBjb250ZXh0IGlzIGFscmVhZHkgY2xlYXJlZC5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgaWYgKHRoaXMuZGlydHkgfHxcbiAgICAgICAgICAodGhpcy5jbGlwUGF0aCAmJiB0aGlzLmNsaXBQYXRoLmFic29sdXRlUG9zaXRpb25lZCkgfHxcbiAgICAgICAgICAodGhpcy5zdGF0ZWZ1bGxDYWNoZSAmJiB0aGlzLmhhc1N0YXRlQ2hhbmdlZCgnY2FjaGVQcm9wZXJ0aWVzJykpXG4gICAgICAgICkge1xuICAgICAgICAgIGlmICh0aGlzLl9jYWNoZUNhbnZhcyAmJiB0aGlzLl9jYWNoZUNvbnRleHQgJiYgIXNraXBDYW52YXMpIHtcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IHRoaXMuY2FjaGVXaWR0aCAvIHRoaXMuem9vbVg7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5jYWNoZUhlaWdodCAvIHRoaXMuem9vbVk7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZUNvbnRleHQuY2xlYXJSZWN0KC13aWR0aCAvIDIsIC1oZWlnaHQgLyAyLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYSBiYWNrZ3JvdW5kIGZvciB0aGUgb2JqZWN0IGJpZyBhcyBpdHMgdW50cmFuc2Zvcm1lZCBkaW1lbnNpb25zXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgX3JlbmRlckJhY2tncm91bmQ6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgaWYgKCF0aGlzLmJhY2tncm91bmRDb2xvcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgZGltID0gdGhpcy5fZ2V0Tm9uVHJhbnNmb3JtZWREaW1lbnNpb25zKCk7XG4gICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5iYWNrZ3JvdW5kQ29sb3I7XG5cbiAgICAgIGN0eC5maWxsUmVjdChcbiAgICAgICAgLWRpbS54IC8gMixcbiAgICAgICAgLWRpbS55IC8gMixcbiAgICAgICAgZGltLngsXG4gICAgICAgIGRpbS55XG4gICAgICApO1xuICAgICAgLy8gaWYgdGhlcmUgaXMgYmFja2dyb3VuZCBjb2xvciBubyBvdGhlciBzaGFkb3dzXG4gICAgICAvLyBzaG91bGQgYmUgY2FzdGVkXG4gICAgICB0aGlzLl9yZW1vdmVTaGFkb3coY3R4KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgX3NldE9wYWNpdHk6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgaWYgKHRoaXMuZ3JvdXAgJiYgIXRoaXMuZ3JvdXAuX3RyYW5zZm9ybURvbmUpIHtcbiAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gdGhpcy5nZXRPYmplY3RPcGFjaXR5KCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY3R4Lmdsb2JhbEFscGhhICo9IHRoaXMub3BhY2l0eTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgX3NldFN0cm9rZVN0eWxlczogZnVuY3Rpb24oY3R4LCBkZWNsKSB7XG4gICAgICB2YXIgc3Ryb2tlID0gZGVjbC5zdHJva2U7XG4gICAgICBpZiAoc3Ryb2tlKSB7XG4gICAgICAgIGN0eC5saW5lV2lkdGggPSBkZWNsLnN0cm9rZVdpZHRoO1xuICAgICAgICBjdHgubGluZUNhcCA9IGRlY2wuc3Ryb2tlTGluZUNhcDtcbiAgICAgICAgY3R4LmxpbmVEYXNoT2Zmc2V0ID0gZGVjbC5zdHJva2VEYXNoT2Zmc2V0O1xuICAgICAgICBjdHgubGluZUpvaW4gPSBkZWNsLnN0cm9rZUxpbmVKb2luO1xuICAgICAgICBjdHgubWl0ZXJMaW1pdCA9IGRlY2wuc3Ryb2tlTWl0ZXJMaW1pdDtcbiAgICAgICAgaWYgKHN0cm9rZS50b0xpdmUpIHtcbiAgICAgICAgICBpZiAoc3Ryb2tlLmdyYWRpZW50VW5pdHMgPT09ICdwZXJjZW50YWdlJyB8fCBzdHJva2UuZ3JhZGllbnRUcmFuc2Zvcm0gfHwgc3Ryb2tlLnBhdHRlcm5UcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIC8vIG5lZWQgdG8gdHJhbnNmb3JtIGdyYWRpZW50IGluIGEgcGF0dGVybi5cbiAgICAgICAgICAgIC8vIHRoaXMgaXMgYSBzbG93IHByb2Nlc3MuIElmIHlvdSBhcmUgaGl0dGluZyB0aGlzIGNvZGVwYXRoLCBhbmQgdGhlIG9iamVjdFxuICAgICAgICAgICAgLy8gaXMgbm90IHVzaW5nIGNhY2hpbmcsIHlvdSBzaG91bGQgY29uc2lkZXIgc3dpdGNoaW5nIGl0IG9uLlxuICAgICAgICAgICAgLy8gd2UgbmVlZCBhIGNhbnZhcyBhcyBiaWcgYXMgdGhlIGN1cnJlbnQgb2JqZWN0IGNhY2hpbmcgY2FudmFzLlxuICAgICAgICAgICAgdGhpcy5fYXBwbHlQYXR0ZXJuRm9yVHJhbnNmb3JtZWRHcmFkaWVudChjdHgsIHN0cm9rZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gaXMgYSBzaW1wbGUgZ3JhZGllbnQgb3IgcGF0dGVyblxuICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gc3Ryb2tlLnRvTGl2ZShjdHgsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5fYXBwbHlQYXR0ZXJuR3JhZGllbnRUcmFuc2Zvcm0oY3R4LCBzdHJva2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAvLyBpcyBhIGNvbG9yXG4gICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gZGVjbC5zdHJva2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgX3NldEZpbGxTdHlsZXM6IGZ1bmN0aW9uKGN0eCwgZGVjbCkge1xuICAgICAgdmFyIGZpbGwgPSBkZWNsLmZpbGw7XG4gICAgICBpZiAoZmlsbCkge1xuICAgICAgICBpZiAoZmlsbC50b0xpdmUpIHtcbiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gZmlsbC50b0xpdmUoY3R4LCB0aGlzKTtcbiAgICAgICAgICB0aGlzLl9hcHBseVBhdHRlcm5HcmFkaWVudFRyYW5zZm9ybShjdHgsIGRlY2wuZmlsbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGZpbGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgX3NldENsaXBwaW5nUHJvcGVydGllczogZnVuY3Rpb24oY3R4KSB7XG4gICAgICBjdHguZ2xvYmFsQWxwaGEgPSAxO1xuICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJ3RyYW5zcGFyZW50JztcbiAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzAwMDAwMCc7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogU2V0cyBsaW5lIGRhc2hcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gc2V0IHRoZSBkYXNoIGxpbmUgb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBkYXNoQXJyYXkgYXJyYXkgcmVwcmVzZW50aW5nIGRhc2hlc1xuICAgICAqL1xuICAgIF9zZXRMaW5lRGFzaDogZnVuY3Rpb24oY3R4LCBkYXNoQXJyYXkpIHtcbiAgICAgIGlmICghZGFzaEFycmF5IHx8IGRhc2hBcnJheS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gU3BlYyByZXF1aXJlcyB0aGUgY29uY2F0ZW5hdGlvbiBvZiB0d28gY29waWVzIHRoZSBkYXNoIGxpc3Qgd2hlbiB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIGlzIG9kZFxuICAgICAgaWYgKDEgJiBkYXNoQXJyYXkubGVuZ3RoKSB7XG4gICAgICAgIGRhc2hBcnJheS5wdXNoLmFwcGx5KGRhc2hBcnJheSwgZGFzaEFycmF5KTtcbiAgICAgIH1cbiAgICAgIGN0eC5zZXRMaW5lRGFzaChkYXNoQXJyYXkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIGNvbnRyb2xzIGFuZCBib3JkZXJzIGZvciB0aGUgb2JqZWN0XG4gICAgICogdGhlIGNvbnRleHQgaGVyZSBpcyBub3QgdHJhbnNmb3JtZWRcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdHlsZU92ZXJyaWRlXSBwcm9wZXJ0aWVzIHRvIG92ZXJyaWRlIHRoZSBvYmplY3Qgc3R5bGVcbiAgICAgKi9cbiAgICBfcmVuZGVyQ29udHJvbHM6IGZ1bmN0aW9uKGN0eCwgc3R5bGVPdmVycmlkZSkge1xuICAgICAgdmFyIHZwdCA9IHRoaXMuZ2V0Vmlld3BvcnRUcmFuc2Zvcm0oKSxcbiAgICAgICAgICBtYXRyaXggPSB0aGlzLmNhbGNUcmFuc2Zvcm1NYXRyaXgoKSxcbiAgICAgICAgICBvcHRpb25zLCBkcmF3Qm9yZGVycywgZHJhd0NvbnRyb2xzO1xuICAgICAgc3R5bGVPdmVycmlkZSA9IHN0eWxlT3ZlcnJpZGUgfHwgeyB9O1xuICAgICAgZHJhd0JvcmRlcnMgPSB0eXBlb2Ygc3R5bGVPdmVycmlkZS5oYXNCb3JkZXJzICE9PSAndW5kZWZpbmVkJyA/IHN0eWxlT3ZlcnJpZGUuaGFzQm9yZGVycyA6IHRoaXMuaGFzQm9yZGVycztcbiAgICAgIGRyYXdDb250cm9scyA9IHR5cGVvZiBzdHlsZU92ZXJyaWRlLmhhc0NvbnRyb2xzICE9PSAndW5kZWZpbmVkJyA/IHN0eWxlT3ZlcnJpZGUuaGFzQ29udHJvbHMgOiB0aGlzLmhhc0NvbnRyb2xzO1xuICAgICAgbWF0cml4ID0gZmFicmljLnV0aWwubXVsdGlwbHlUcmFuc2Zvcm1NYXRyaWNlcyh2cHQsIG1hdHJpeCk7XG4gICAgICBvcHRpb25zID0gZmFicmljLnV0aWwucXJEZWNvbXBvc2UobWF0cml4KTtcbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICBjdHgudHJhbnNsYXRlKG9wdGlvbnMudHJhbnNsYXRlWCwgb3B0aW9ucy50cmFuc2xhdGVZKTtcbiAgICAgIGN0eC5saW5lV2lkdGggPSAxICogdGhpcy5ib3JkZXJTY2FsZUZhY3RvcjtcbiAgICAgIGlmICghdGhpcy5ncm91cCkge1xuICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSB0aGlzLmlzTW92aW5nID8gdGhpcy5ib3JkZXJPcGFjaXR5V2hlbk1vdmluZyA6IDE7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5mbGlwWCkge1xuICAgICAgICBvcHRpb25zLmFuZ2xlIC09IDE4MDtcbiAgICAgIH1cbiAgICAgIGN0eC5yb3RhdGUoZGVncmVlc1RvUmFkaWFucyh0aGlzLmdyb3VwID8gb3B0aW9ucy5hbmdsZSA6IHRoaXMuYW5nbGUpKTtcbiAgICAgIGlmIChzdHlsZU92ZXJyaWRlLmZvckFjdGl2ZVNlbGVjdGlvbiB8fCB0aGlzLmdyb3VwKSB7XG4gICAgICAgIGRyYXdCb3JkZXJzICYmIHRoaXMuZHJhd0JvcmRlcnNJbkdyb3VwKGN0eCwgb3B0aW9ucywgc3R5bGVPdmVycmlkZSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgZHJhd0JvcmRlcnMgJiYgdGhpcy5kcmF3Qm9yZGVycyhjdHgsIHN0eWxlT3ZlcnJpZGUpO1xuICAgICAgfVxuICAgICAgZHJhd0NvbnRyb2xzICYmIHRoaXMuZHJhd0NvbnRyb2xzKGN0eCwgc3R5bGVPdmVycmlkZSk7XG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfc2V0U2hhZG93OiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIGlmICghdGhpcy5zaGFkb3cpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2hhZG93ID0gdGhpcy5zaGFkb3csIGNhbnZhcyA9IHRoaXMuY2FudmFzLCBzY2FsaW5nLFxuICAgICAgICAgIG11bHRYID0gKGNhbnZhcyAmJiBjYW52YXMudmlld3BvcnRUcmFuc2Zvcm1bMF0pIHx8IDEsXG4gICAgICAgICAgbXVsdFkgPSAoY2FudmFzICYmIGNhbnZhcy52aWV3cG9ydFRyYW5zZm9ybVszXSkgfHwgMTtcbiAgICAgIGlmIChzaGFkb3cubm9uU2NhbGluZykge1xuICAgICAgICBzY2FsaW5nID0geyBzY2FsZVg6IDEsIHNjYWxlWTogMSB9O1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHNjYWxpbmcgPSB0aGlzLmdldE9iamVjdFNjYWxpbmcoKTtcbiAgICAgIH1cbiAgICAgIGlmIChjYW52YXMgJiYgY2FudmFzLl9pc1JldGluYVNjYWxpbmcoKSkge1xuICAgICAgICBtdWx0WCAqPSBmYWJyaWMuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICAgICAgbXVsdFkgKj0gZmFicmljLmRldmljZVBpeGVsUmF0aW87XG4gICAgICB9XG4gICAgICBjdHguc2hhZG93Q29sb3IgPSBzaGFkb3cuY29sb3I7XG4gICAgICBjdHguc2hhZG93Qmx1ciA9IHNoYWRvdy5ibHVyICogZmFicmljLmJyb3dzZXJTaGFkb3dCbHVyQ29uc3RhbnQgKlxuICAgICAgICAobXVsdFggKyBtdWx0WSkgKiAoc2NhbGluZy5zY2FsZVggKyBzY2FsaW5nLnNjYWxlWSkgLyA0O1xuICAgICAgY3R4LnNoYWRvd09mZnNldFggPSBzaGFkb3cub2Zmc2V0WCAqIG11bHRYICogc2NhbGluZy5zY2FsZVg7XG4gICAgICBjdHguc2hhZG93T2Zmc2V0WSA9IHNoYWRvdy5vZmZzZXRZICogbXVsdFkgKiBzY2FsaW5nLnNjYWxlWTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgX3JlbW92ZVNoYWRvdzogZnVuY3Rpb24oY3R4KSB7XG4gICAgICBpZiAoIXRoaXMuc2hhZG93KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY3R4LnNoYWRvd0NvbG9yID0gJyc7XG4gICAgICBjdHguc2hhZG93Qmx1ciA9IGN0eC5zaGFkb3dPZmZzZXRYID0gY3R4LnNoYWRvd09mZnNldFkgPSAwO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZmlsbGVyIGZhYnJpYy5QYXR0ZXJuIG9yIGZhYnJpYy5HcmFkaWVudFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gb2Zmc2V0Lm9mZnNldFggb2Zmc2V0IGZvciB0ZXh0IHJlbmRlcmluZ1xuICAgICAqIEByZXR1cm4ge09iamVjdH0gb2Zmc2V0Lm9mZnNldFkgb2Zmc2V0IGZvciB0ZXh0IHJlbmRlcmluZ1xuICAgICAqL1xuICAgIF9hcHBseVBhdHRlcm5HcmFkaWVudFRyYW5zZm9ybTogZnVuY3Rpb24oY3R4LCBmaWxsZXIpIHtcbiAgICAgIGlmICghZmlsbGVyIHx8ICFmaWxsZXIudG9MaXZlKSB7XG4gICAgICAgIHJldHVybiB7IG9mZnNldFg6IDAsIG9mZnNldFk6IDAgfTtcbiAgICAgIH1cbiAgICAgIHZhciB0ID0gZmlsbGVyLmdyYWRpZW50VHJhbnNmb3JtIHx8IGZpbGxlci5wYXR0ZXJuVHJhbnNmb3JtO1xuICAgICAgdmFyIG9mZnNldFggPSAtdGhpcy53aWR0aCAvIDIgKyBmaWxsZXIub2Zmc2V0WCB8fCAwLFxuICAgICAgICAgIG9mZnNldFkgPSAtdGhpcy5oZWlnaHQgLyAyICsgZmlsbGVyLm9mZnNldFkgfHwgMDtcblxuICAgICAgaWYgKGZpbGxlci5ncmFkaWVudFVuaXRzID09PSAncGVyY2VudGFnZScpIHtcbiAgICAgICAgY3R4LnRyYW5zZm9ybSh0aGlzLndpZHRoLCAwLCAwLCB0aGlzLmhlaWdodCwgb2Zmc2V0WCwgb2Zmc2V0WSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY3R4LnRyYW5zZm9ybSgxLCAwLCAwLCAxLCBvZmZzZXRYLCBvZmZzZXRZKTtcbiAgICAgIH1cbiAgICAgIGlmICh0KSB7XG4gICAgICAgIGN0eC50cmFuc2Zvcm0odFswXSwgdFsxXSwgdFsyXSwgdFszXSwgdFs0XSwgdFs1XSk7XG4gICAgICB9XG4gICAgICByZXR1cm4geyBvZmZzZXRYOiBvZmZzZXRYLCBvZmZzZXRZOiBvZmZzZXRZIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIF9yZW5kZXJQYWludEluT3JkZXI6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgaWYgKHRoaXMucGFpbnRGaXJzdCA9PT0gJ3N0cm9rZScpIHtcbiAgICAgICAgdGhpcy5fcmVuZGVyU3Ryb2tlKGN0eCk7XG4gICAgICAgIHRoaXMuX3JlbmRlckZpbGwoY3R4KTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLl9yZW5kZXJGaWxsKGN0eCk7XG4gICAgICAgIHRoaXMuX3JlbmRlclN0cm9rZShjdHgpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIGZ1bmN0aW9uIHRoYXQgYWN0dWFsbHkgcmVuZGVyIHNvbWV0aGluZyBvbiB0aGUgY29udGV4dC5cbiAgICAgKiBlbXB0eSBoZXJlIHRvIGFsbG93IE9iZWN0cyB0byB3b3JrIG9uIHRlc3RzIHRvIGJlbmNobWFyayBmYWJyaWMgZnVuY3Rpb25hbGl0ZXNcbiAgICAgKiBub3QgcmVsYXRlZCB0byByZW5kZXJpbmdcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgX3JlbmRlcjogZnVuY3Rpb24oLyogY3R4ICovKSB7XG5cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgX3JlbmRlckZpbGw6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgaWYgKCF0aGlzLmZpbGwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgdGhpcy5fc2V0RmlsbFN0eWxlcyhjdHgsIHRoaXMpO1xuICAgICAgaWYgKHRoaXMuZmlsbFJ1bGUgPT09ICdldmVub2RkJykge1xuICAgICAgICBjdHguZmlsbCgnZXZlbm9kZCcpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGN0eC5maWxsKCk7XG4gICAgICB9XG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfcmVuZGVyU3Ryb2tlOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIGlmICghdGhpcy5zdHJva2UgfHwgdGhpcy5zdHJva2VXaWR0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnNoYWRvdyAmJiAhdGhpcy5zaGFkb3cuYWZmZWN0U3Ryb2tlKSB7XG4gICAgICAgIHRoaXMuX3JlbW92ZVNoYWRvdyhjdHgpO1xuICAgICAgfVxuXG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgaWYgKHRoaXMuc3Ryb2tlVW5pZm9ybSAmJiB0aGlzLmdyb3VwKSB7XG4gICAgICAgIHZhciBzY2FsaW5nID0gdGhpcy5nZXRPYmplY3RTY2FsaW5nKCk7XG4gICAgICAgIGN0eC5zY2FsZSgxIC8gc2NhbGluZy5zY2FsZVgsIDEgLyBzY2FsaW5nLnNjYWxlWSk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICh0aGlzLnN0cm9rZVVuaWZvcm0pIHtcbiAgICAgICAgY3R4LnNjYWxlKDEgLyB0aGlzLnNjYWxlWCwgMSAvIHRoaXMuc2NhbGVZKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3NldExpbmVEYXNoKGN0eCwgdGhpcy5zdHJva2VEYXNoQXJyYXkpO1xuICAgICAgdGhpcy5fc2V0U3Ryb2tlU3R5bGVzKGN0eCwgdGhpcyk7XG4gICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHRyeSB0byBwYXRjaCB0aGUgbWlzc2luZyBncmFkaWVudFRyYW5zZm9ybSBvbiBjYW52YXMgZ3JhZGllbnRzLlxuICAgICAqIHRyYW5zZm9ybWluZyBhIGNvbnRleHQgdG8gdHJhbnNmb3JtIHRoZSBncmFkaWVudCwgaXMgZ29pbmcgdG8gdHJhbnNmb3JtIHRoZSBzdHJva2UgdG9vLlxuICAgICAqIHdlIHdhbnQgdG8gdHJhbnNmb3JtIHRoZSBncmFkaWVudCBidXQgbm90IHRoZSBzdHJva2Ugb3BlcmF0aW9uLCBzbyB3ZSBjcmVhdGVcbiAgICAgKiBhIHRyYW5zZm9ybWVkIGdyYWRpZW50IG9uIGEgcGF0dGVybiBhbmQgdGhlbiB3ZSB1c2UgdGhlIHBhdHRlcm4gaW5zdGVhZCBvZiB0aGUgZ3JhZGllbnQuXG4gICAgICogdGhpcyBtZXRob2QgaGFzIGRyd2FiYWNrczogaXMgc2xvdywgaXMgaW4gbG93IHJlc29sdXRpb24sIG5lZWRzIGEgcGF0Y2ggZm9yIHdoZW4gdGhlIHNpemVcbiAgICAgKiBpcyBsaW1pdGVkLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqIEBwYXJhbSB7ZmFicmljLkdyYWRpZW50fSBmaWxsZXIgYSBmYWJyaWMgZ3JhZGllbnQgaW5zdGFuY2VcbiAgICAgKi9cbiAgICBfYXBwbHlQYXR0ZXJuRm9yVHJhbnNmb3JtZWRHcmFkaWVudDogZnVuY3Rpb24oY3R4LCBmaWxsZXIpIHtcbiAgICAgIHZhciBkaW1zID0gdGhpcy5fbGltaXRDYWNoZVNpemUodGhpcy5fZ2V0Q2FjaGVDYW52YXNEaW1lbnNpb25zKCkpLFxuICAgICAgICAgIHBDYW52YXMgPSBmYWJyaWMudXRpbC5jcmVhdGVDYW52YXNFbGVtZW50KCksIHBDdHgsIHJldGluYVNjYWxpbmcgPSB0aGlzLmNhbnZhcy5nZXRSZXRpbmFTY2FsaW5nKCksXG4gICAgICAgICAgd2lkdGggPSBkaW1zLnggLyB0aGlzLnNjYWxlWCAvIHJldGluYVNjYWxpbmcsIGhlaWdodCA9IGRpbXMueSAvIHRoaXMuc2NhbGVZIC8gcmV0aW5hU2NhbGluZztcbiAgICAgIHBDYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICAgIHBDYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgcEN0eCA9IHBDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgIHBDdHguYmVnaW5QYXRoKCk7IHBDdHgubW92ZVRvKDAsIDApOyBwQ3R4LmxpbmVUbyh3aWR0aCwgMCk7IHBDdHgubGluZVRvKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgcEN0eC5saW5lVG8oMCwgaGVpZ2h0KTsgcEN0eC5jbG9zZVBhdGgoKTtcbiAgICAgIHBDdHgudHJhbnNsYXRlKHdpZHRoIC8gMiwgaGVpZ2h0IC8gMik7XG4gICAgICBwQ3R4LnNjYWxlKFxuICAgICAgICBkaW1zLnpvb21YIC8gdGhpcy5zY2FsZVggLyByZXRpbmFTY2FsaW5nLFxuICAgICAgICBkaW1zLnpvb21ZIC8gdGhpcy5zY2FsZVkgLyByZXRpbmFTY2FsaW5nXG4gICAgICApO1xuICAgICAgdGhpcy5fYXBwbHlQYXR0ZXJuR3JhZGllbnRUcmFuc2Zvcm0ocEN0eCwgZmlsbGVyKTtcbiAgICAgIHBDdHguZmlsbFN0eWxlID0gZmlsbGVyLnRvTGl2ZShjdHgpO1xuICAgICAgcEN0eC5maWxsKCk7XG4gICAgICBjdHgudHJhbnNsYXRlKC10aGlzLndpZHRoIC8gMiAtIHRoaXMuc3Ryb2tlV2lkdGggLyAyLCAtdGhpcy5oZWlnaHQgLyAyIC0gdGhpcy5zdHJva2VXaWR0aCAvIDIpO1xuICAgICAgY3R4LnNjYWxlKFxuICAgICAgICByZXRpbmFTY2FsaW5nICogdGhpcy5zY2FsZVggLyBkaW1zLnpvb21YLFxuICAgICAgICByZXRpbmFTY2FsaW5nICogdGhpcy5zY2FsZVkgLyBkaW1zLnpvb21ZXG4gICAgICApO1xuICAgICAgY3R4LnN0cm9rZVN0eWxlID0gcEN0eC5jcmVhdGVQYXR0ZXJuKHBDYW52YXMsICduby1yZXBlYXQnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBhbiBoZWxwZXIgZm9yIHN2ZyBpbXBvcnQuIGl0IHJldHVybnMgdGhlIGNlbnRlciBvZiB0aGUgb2JqZWN0IGluIHRoZSBzdmdcbiAgICAgKiB1bnRyYW5zZm9ybWVkIGNvb3JkaW5hdGVzXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IGNlbnRlciBwb2ludCBmcm9tIGVsZW1lbnQgY29vcmRpbmF0ZXNcbiAgICAgKi9cbiAgICBfZmluZENlbnRlckZyb21FbGVtZW50OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB7IHg6IHRoaXMubGVmdCArIHRoaXMud2lkdGggLyAyLCB5OiB0aGlzLnRvcCArIHRoaXMuaGVpZ2h0IC8gMiB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGFuIGhlbHBlciBmb3Igc3ZnIGltcG9ydC4gaXQgZGVjb21wb3NlIHRoZSB0cmFuc2Zvcm1NYXRyaXhcbiAgICAgKiBhbmQgYXNzaWduIHByb3BlcnRpZXMgdG8gb2JqZWN0LlxuICAgICAqIHVudHJhbnNmb3JtZWQgY29vcmRpbmF0ZXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBfYXNzaWduVHJhbnNmb3JtTWF0cml4UHJvcHM6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMudHJhbnNmb3JtTWF0cml4KSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gZmFicmljLnV0aWwucXJEZWNvbXBvc2UodGhpcy50cmFuc2Zvcm1NYXRyaXgpO1xuICAgICAgICB0aGlzLmZsaXBYID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZmxpcFkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zZXQoJ3NjYWxlWCcsIG9wdGlvbnMuc2NhbGVYKTtcbiAgICAgICAgdGhpcy5zZXQoJ3NjYWxlWScsIG9wdGlvbnMuc2NhbGVZKTtcbiAgICAgICAgdGhpcy5hbmdsZSA9IG9wdGlvbnMuYW5nbGU7XG4gICAgICAgIHRoaXMuc2tld1ggPSBvcHRpb25zLnNrZXdYO1xuICAgICAgICB0aGlzLnNrZXdZID0gMDtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBhbiBoZWxwZXIgZm9yIHN2ZyBpbXBvcnQuIGl0IHJlbW92ZXMgdGhlIHRyYW5zZm9ybSBtYXRyaXhcbiAgICAgKiBhbmQgc2V0IHRvIG9iamVjdCBwcm9wZXJ0aWVzIHRoYXQgZmFicmljanMgY2FuIGhhbmRsZVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByZXNlcnZlQXNwZWN0UmF0aW9PcHRpb25zXG4gICAgICogQHJldHVybiB7dGhpc0FyZ31cbiAgICAgKi9cbiAgICBfcmVtb3ZlVHJhbnNmb3JtTWF0cml4OiBmdW5jdGlvbihwcmVzZXJ2ZUFzcGVjdFJhdGlvT3B0aW9ucykge1xuICAgICAgdmFyIGNlbnRlciA9IHRoaXMuX2ZpbmRDZW50ZXJGcm9tRWxlbWVudCgpO1xuICAgICAgaWYgKHRoaXMudHJhbnNmb3JtTWF0cml4KSB7XG4gICAgICAgIHRoaXMuX2Fzc2lnblRyYW5zZm9ybU1hdHJpeFByb3BzKCk7XG4gICAgICAgIGNlbnRlciA9IGZhYnJpYy51dGlsLnRyYW5zZm9ybVBvaW50KGNlbnRlciwgdGhpcy50cmFuc2Zvcm1NYXRyaXgpO1xuICAgICAgfVxuICAgICAgdGhpcy50cmFuc2Zvcm1NYXRyaXggPSBudWxsO1xuICAgICAgaWYgKHByZXNlcnZlQXNwZWN0UmF0aW9PcHRpb25zKSB7XG4gICAgICAgIHRoaXMuc2NhbGVYICo9IHByZXNlcnZlQXNwZWN0UmF0aW9PcHRpb25zLnNjYWxlWDtcbiAgICAgICAgdGhpcy5zY2FsZVkgKj0gcHJlc2VydmVBc3BlY3RSYXRpb09wdGlvbnMuc2NhbGVZO1xuICAgICAgICB0aGlzLmNyb3BYID0gcHJlc2VydmVBc3BlY3RSYXRpb09wdGlvbnMuY3JvcFg7XG4gICAgICAgIHRoaXMuY3JvcFkgPSBwcmVzZXJ2ZUFzcGVjdFJhdGlvT3B0aW9ucy5jcm9wWTtcbiAgICAgICAgY2VudGVyLnggKz0gcHJlc2VydmVBc3BlY3RSYXRpb09wdGlvbnMub2Zmc2V0TGVmdDtcbiAgICAgICAgY2VudGVyLnkgKz0gcHJlc2VydmVBc3BlY3RSYXRpb09wdGlvbnMub2Zmc2V0VG9wO1xuICAgICAgICB0aGlzLndpZHRoID0gcHJlc2VydmVBc3BlY3RSYXRpb09wdGlvbnMud2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gcHJlc2VydmVBc3BlY3RSYXRpb09wdGlvbnMuaGVpZ2h0O1xuICAgICAgfVxuICAgICAgdGhpcy5zZXRQb3NpdGlvbkJ5T3JpZ2luKGNlbnRlciwgJ2NlbnRlcicsICdjZW50ZXInKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2xvbmVzIGFuIGluc3RhbmNlLCB1c2luZyBhIGNhbGxiYWNrIG1ldGhvZCB3aWxsIHdvcmsgZm9yIGV2ZXJ5IG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsYmFjayBpcyBpbnZva2VkIHdpdGggYSBjbG9uZSBhcyBhIGZpcnN0IGFyZ3VtZW50XG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BlcnRpZXNUb0luY2x1ZGVdIEFueSBwcm9wZXJ0aWVzIHRoYXQgeW91IG1pZ2h0IHdhbnQgdG8gYWRkaXRpb25hbGx5IGluY2x1ZGUgaW4gdGhlIG91dHB1dFxuICAgICAqL1xuICAgIGNsb25lOiBmdW5jdGlvbihjYWxsYmFjaywgcHJvcGVydGllc1RvSW5jbHVkZSkge1xuICAgICAgdmFyIG9iamVjdEZvcm0gPSB0aGlzLnRvT2JqZWN0KHByb3BlcnRpZXNUb0luY2x1ZGUpO1xuICAgICAgaWYgKHRoaXMuY29uc3RydWN0b3IuZnJvbU9iamVjdCkge1xuICAgICAgICB0aGlzLmNvbnN0cnVjdG9yLmZyb21PYmplY3Qob2JqZWN0Rm9ybSwgY2FsbGJhY2spO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGZhYnJpYy5PYmplY3QuX2Zyb21PYmplY3QoJ09iamVjdCcsIG9iamVjdEZvcm0sIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBmYWJyaWMuSW1hZ2Ugb3V0IG9mIGFuIG9iamVjdFxuICAgICAqIG1ha2VzIHVzZSBvZiB0b0NhbnZhc0VsZW1lbnQuXG4gICAgICogT25jZSB0aGlzIG1ldGhvZCB3YXMgYmFzZWQgb24gdG9EYXRhVXJsIGFuZCBsb2FkSW1hZ2UsIHNvIGl0IGFsc28gaGFkIGEgcXVhbGl0eVxuICAgICAqIGFuZCBmb3JtYXQgb3B0aW9uLiB0b0NhbnZhc0VsZW1lbnQgaXMgZmFzdGVyIGFuZCBwcm9kdWNlIG5vIGxvc3Mgb2YgcXVhbGl0eS5cbiAgICAgKiBJZiB5b3UgbmVlZCB0byBnZXQgYSByZWFsIEpwZWcgb3IgUG5nIGZyb20gYW4gb2JqZWN0LCB1c2luZyB0b0RhdGFVUkwgaXMgdGhlIHJpZ2h0IHdheSB0byBkbyBpdC5cbiAgICAgKiB0b0NhbnZhc0VsZW1lbnQgYW5kIHRoZW4gdG9CbG9iIGZyb20gdGhlIG9idGFpbmVkIGNhbnZhcyBpcyBhbHNvIGEgZ29vZCBvcHRpb24uXG4gICAgICogVGhpcyBtZXRob2QgaXMgc3luYyBub3csIGJ1dCBzdGlsbCBzdXBwb3J0IHRoZSBjYWxsYmFjayBiZWNhdXNlIHdlIGRpZCBub3Qgd2FudCB0byBicmVhay5cbiAgICAgKiBXaGVuIGZhYnJpY0pTIDUuMCB3aWxsIGJlIHBsYW5uZWQsIHRoaXMgd2lsbCBwcm9iYWJseSBiZSBjaGFuZ2VkIHRvIG5vdCBoYXZlIGEgY2FsbGJhY2suXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgY2FsbGJhY2ssIGludm9rZWQgd2l0aCBhbiBpbnN0YW5jZSBhcyBhIGZpcnN0IGFyZ3VtZW50XG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBmb3IgY2xvbmUgYXMgaW1hZ2UsIHBhc3NlZCB0byB0b0RhdGFVUkxcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubXVsdGlwbGllcj0xXSBNdWx0aXBsaWVyIHRvIHNjYWxlIGJ5XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmxlZnRdIENyb3BwaW5nIGxlZnQgb2Zmc2V0LiBJbnRyb2R1Y2VkIGluIHYxLjIuMTRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMudG9wXSBDcm9wcGluZyB0b3Agb2Zmc2V0LiBJbnRyb2R1Y2VkIGluIHYxLjIuMTRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMud2lkdGhdIENyb3BwaW5nIHdpZHRoLiBJbnRyb2R1Y2VkIGluIHYxLjIuMTRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuaGVpZ2h0XSBDcm9wcGluZyBoZWlnaHQuIEludHJvZHVjZWQgaW4gdjEuMi4xNFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuZW5hYmxlUmV0aW5hU2NhbGluZ10gRW5hYmxlIHJldGluYSBzY2FsaW5nIGZvciBjbG9uZSBpbWFnZS4gSW50cm9kdWNlIGluIDEuNi40XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy53aXRob3V0VHJhbnNmb3JtXSBSZW1vdmUgY3VycmVudCBvYmplY3QgdHJhbnNmb3JtICggbm8gc2NhbGUgLCBubyBhbmdsZSwgbm8gZmxpcCwgbm8gc2tldyApLiBJbnRyb2R1Y2VkIGluIDIuMy40XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy53aXRob3V0U2hhZG93XSBSZW1vdmUgY3VycmVudCBvYmplY3Qgc2hhZG93LiBJbnRyb2R1Y2VkIGluIDIuNC4yXG4gICAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgICAqL1xuICAgIGNsb25lQXNJbWFnZTogZnVuY3Rpb24oY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgICAgIHZhciBjYW52YXNFbCA9IHRoaXMudG9DYW52YXNFbGVtZW50KG9wdGlvbnMpO1xuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrKG5ldyBmYWJyaWMuSW1hZ2UoY2FudmFzRWwpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBhbiBvYmplY3QgaW50byBhIEhUTUxDYW52YXMgZWxlbWVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIE9wdGlvbnMgb2JqZWN0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm11bHRpcGxpZXI9MV0gTXVsdGlwbGllciB0byBzY2FsZSBieVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5sZWZ0XSBDcm9wcGluZyBsZWZ0IG9mZnNldC4gSW50cm9kdWNlZCBpbiB2MS4yLjE0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnRvcF0gQ3JvcHBpbmcgdG9wIG9mZnNldC4gSW50cm9kdWNlZCBpbiB2MS4yLjE0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLndpZHRoXSBDcm9wcGluZyB3aWR0aC4gSW50cm9kdWNlZCBpbiB2MS4yLjE0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmhlaWdodF0gQ3JvcHBpbmcgaGVpZ2h0LiBJbnRyb2R1Y2VkIGluIHYxLjIuMTRcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmVuYWJsZVJldGluYVNjYWxpbmddIEVuYWJsZSByZXRpbmEgc2NhbGluZyBmb3IgY2xvbmUgaW1hZ2UuIEludHJvZHVjZSBpbiAxLjYuNFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMud2l0aG91dFRyYW5zZm9ybV0gUmVtb3ZlIGN1cnJlbnQgb2JqZWN0IHRyYW5zZm9ybSAoIG5vIHNjYWxlICwgbm8gYW5nbGUsIG5vIGZsaXAsIG5vIHNrZXcgKS4gSW50cm9kdWNlZCBpbiAyLjMuNFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMud2l0aG91dFNoYWRvd10gUmVtb3ZlIGN1cnJlbnQgb2JqZWN0IHNoYWRvdy4gSW50cm9kdWNlZCBpbiAyLjQuMlxuICAgICAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fSBSZXR1cm5zIERPTSBlbGVtZW50IDxjYW52YXM+IHdpdGggdGhlIGZhYnJpYy5PYmplY3RcbiAgICAgKi9cbiAgICB0b0NhbnZhc0VsZW1lbnQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7IH0pO1xuXG4gICAgICB2YXIgdXRpbHMgPSBmYWJyaWMudXRpbCwgb3JpZ1BhcmFtcyA9IHV0aWxzLnNhdmVPYmplY3RUcmFuc2Zvcm0odGhpcyksXG4gICAgICAgICAgb3JpZ2luYWxHcm91cCA9IHRoaXMuZ3JvdXAsXG4gICAgICAgICAgb3JpZ2luYWxTaGFkb3cgPSB0aGlzLnNoYWRvdywgYWJzID0gTWF0aC5hYnMsXG4gICAgICAgICAgbXVsdGlwbGllciA9IChvcHRpb25zLm11bHRpcGxpZXIgfHwgMSkgKiAob3B0aW9ucy5lbmFibGVSZXRpbmFTY2FsaW5nID8gZmFicmljLmRldmljZVBpeGVsUmF0aW8gOiAxKTtcbiAgICAgIGRlbGV0ZSB0aGlzLmdyb3VwO1xuICAgICAgaWYgKG9wdGlvbnMud2l0aG91dFRyYW5zZm9ybSkge1xuICAgICAgICB1dGlscy5yZXNldE9iamVjdFRyYW5zZm9ybSh0aGlzKTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zLndpdGhvdXRTaGFkb3cpIHtcbiAgICAgICAgdGhpcy5zaGFkb3cgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgZWwgPSBmYWJyaWMudXRpbC5jcmVhdGVDYW52YXNFbGVtZW50KCksXG4gICAgICAgICAgLy8gc2tpcCBjYW52YXMgem9vbSBhbmQgY2FsY3VsYXRlIHdpdGggc2V0Q29vcmRzIG5vdy5cbiAgICAgICAgICBib3VuZGluZ1JlY3QgPSB0aGlzLmdldEJvdW5kaW5nUmVjdCh0cnVlLCB0cnVlKSxcbiAgICAgICAgICBzaGFkb3cgPSB0aGlzLnNoYWRvdywgc2NhbGluZyxcbiAgICAgICAgICBzaGFkb3dPZmZzZXQgPSB7IHg6IDAsIHk6IDAgfSwgc2hhZG93Qmx1cixcbiAgICAgICAgICB3aWR0aCwgaGVpZ2h0O1xuXG4gICAgICBpZiAoc2hhZG93KSB7XG4gICAgICAgIHNoYWRvd0JsdXIgPSBzaGFkb3cuYmx1cjtcbiAgICAgICAgaWYgKHNoYWRvdy5ub25TY2FsaW5nKSB7XG4gICAgICAgICAgc2NhbGluZyA9IHsgc2NhbGVYOiAxLCBzY2FsZVk6IDEgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBzY2FsaW5nID0gdGhpcy5nZXRPYmplY3RTY2FsaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29uc2lkZXIgbm9uIHNjYWxpbmcgc2hhZG93LlxuICAgICAgICBzaGFkb3dPZmZzZXQueCA9IDIgKiBNYXRoLnJvdW5kKGFicyhzaGFkb3cub2Zmc2V0WCkgKyBzaGFkb3dCbHVyKSAqIChhYnMoc2NhbGluZy5zY2FsZVgpKTtcbiAgICAgICAgc2hhZG93T2Zmc2V0LnkgPSAyICogTWF0aC5yb3VuZChhYnMoc2hhZG93Lm9mZnNldFkpICsgc2hhZG93Qmx1cikgKiAoYWJzKHNjYWxpbmcuc2NhbGVZKSk7XG4gICAgICB9XG4gICAgICB3aWR0aCA9IGJvdW5kaW5nUmVjdC53aWR0aCArIHNoYWRvd09mZnNldC54O1xuICAgICAgaGVpZ2h0ID0gYm91bmRpbmdSZWN0LmhlaWdodCArIHNoYWRvd09mZnNldC55O1xuICAgICAgLy8gaWYgdGhlIGN1cnJlbnQgd2lkdGgvaGVpZ2h0IGlzIG5vdCBhbiBpbnRlZ2VyXG4gICAgICAvLyB3ZSBuZWVkIHRvIG1ha2UgaXQgc28uXG4gICAgICBlbC53aWR0aCA9IE1hdGguY2VpbCh3aWR0aCk7XG4gICAgICBlbC5oZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0KTtcbiAgICAgIHZhciBjYW52YXMgPSBuZXcgZmFicmljLlN0YXRpY0NhbnZhcyhlbCwge1xuICAgICAgICBlbmFibGVSZXRpbmFTY2FsaW5nOiBmYWxzZSxcbiAgICAgICAgcmVuZGVyT25BZGRSZW1vdmU6IGZhbHNlLFxuICAgICAgICBza2lwT2Zmc2NyZWVuOiBmYWxzZSxcbiAgICAgIH0pO1xuICAgICAgaWYgKG9wdGlvbnMuZm9ybWF0ID09PSAnanBlZycpIHtcbiAgICAgICAgY2FudmFzLmJhY2tncm91bmRDb2xvciA9ICcjZmZmJztcbiAgICAgIH1cbiAgICAgIHRoaXMuc2V0UG9zaXRpb25CeU9yaWdpbihuZXcgZmFicmljLlBvaW50KGNhbnZhcy53aWR0aCAvIDIsIGNhbnZhcy5oZWlnaHQgLyAyKSwgJ2NlbnRlcicsICdjZW50ZXInKTtcblxuICAgICAgdmFyIG9yaWdpbmFsQ2FudmFzID0gdGhpcy5jYW52YXM7XG4gICAgICBjYW52YXMuYWRkKHRoaXMpO1xuICAgICAgdmFyIGNhbnZhc0VsID0gY2FudmFzLnRvQ2FudmFzRWxlbWVudChtdWx0aXBsaWVyIHx8IDEsIG9wdGlvbnMpO1xuICAgICAgdGhpcy5zaGFkb3cgPSBvcmlnaW5hbFNoYWRvdztcbiAgICAgIHRoaXMuc2V0KCdjYW52YXMnLCBvcmlnaW5hbENhbnZhcyk7XG4gICAgICBpZiAob3JpZ2luYWxHcm91cCkge1xuICAgICAgICB0aGlzLmdyb3VwID0gb3JpZ2luYWxHcm91cDtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2V0KG9yaWdQYXJhbXMpLnNldENvb3JkcygpO1xuICAgICAgLy8gY2FudmFzLmRpc3Bvc2Ugd2lsbCBjYWxsIGltYWdlLmRpc3Bvc2UgdGhhdCB3aWxsIG51bGxpZnkgdGhlIGVsZW1lbnRzXG4gICAgICAvLyBzaW5jZSB0aGlzIGNhbnZhcyBpcyBhIHNpbXBsZSBlbGVtZW50IGZvciB0aGUgcHJvY2Vzcywgd2UgcmVtb3ZlIHJlZmVyZW5jZXNcbiAgICAgIC8vIHRvIG9iamVjdHMgaW4gdGhpcyB3YXkgaW4gb3JkZXIgdG8gYXZvaWQgb2JqZWN0IHRyYXNoaW5nLlxuICAgICAgY2FudmFzLl9vYmplY3RzID0gW107XG4gICAgICBjYW52YXMuZGlzcG9zZSgpO1xuICAgICAgY2FudmFzID0gbnVsbDtcblxuICAgICAgcmV0dXJuIGNhbnZhc0VsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBhbiBvYmplY3QgaW50byBhIGRhdGEtdXJsLWxpa2Ugc3RyaW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgT3B0aW9ucyBvYmplY3RcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuZm9ybWF0PXBuZ10gVGhlIGZvcm1hdCBvZiB0aGUgb3V0cHV0IGltYWdlLiBFaXRoZXIgXCJqcGVnXCIgb3IgXCJwbmdcIlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5xdWFsaXR5PTFdIFF1YWxpdHkgbGV2ZWwgKDAuLjEpLiBPbmx5IHVzZWQgZm9yIGpwZWcuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm11bHRpcGxpZXI9MV0gTXVsdGlwbGllciB0byBzY2FsZSBieVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5sZWZ0XSBDcm9wcGluZyBsZWZ0IG9mZnNldC4gSW50cm9kdWNlZCBpbiB2MS4yLjE0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnRvcF0gQ3JvcHBpbmcgdG9wIG9mZnNldC4gSW50cm9kdWNlZCBpbiB2MS4yLjE0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLndpZHRoXSBDcm9wcGluZyB3aWR0aC4gSW50cm9kdWNlZCBpbiB2MS4yLjE0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmhlaWdodF0gQ3JvcHBpbmcgaGVpZ2h0LiBJbnRyb2R1Y2VkIGluIHYxLjIuMTRcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmVuYWJsZVJldGluYVNjYWxpbmddIEVuYWJsZSByZXRpbmEgc2NhbGluZyBmb3IgY2xvbmUgaW1hZ2UuIEludHJvZHVjZSBpbiAxLjYuNFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMud2l0aG91dFRyYW5zZm9ybV0gUmVtb3ZlIGN1cnJlbnQgb2JqZWN0IHRyYW5zZm9ybSAoIG5vIHNjYWxlICwgbm8gYW5nbGUsIG5vIGZsaXAsIG5vIHNrZXcgKS4gSW50cm9kdWNlZCBpbiAyLjMuNFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMud2l0aG91dFNoYWRvd10gUmVtb3ZlIGN1cnJlbnQgb2JqZWN0IHNoYWRvdy4gSW50cm9kdWNlZCBpbiAyLjQuMlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gUmV0dXJucyBhIGRhdGE6IFVSTCBjb250YWluaW5nIGEgcmVwcmVzZW50YXRpb24gb2YgdGhlIG9iamVjdCBpbiB0aGUgZm9ybWF0IHNwZWNpZmllZCBieSBvcHRpb25zLmZvcm1hdFxuICAgICAqL1xuICAgIHRvRGF0YVVSTDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgb3B0aW9ucyB8fCAob3B0aW9ucyA9IHsgfSk7XG4gICAgICByZXR1cm4gZmFicmljLnV0aWwudG9EYXRhVVJMKHRoaXMudG9DYW52YXNFbGVtZW50KG9wdGlvbnMpLCBvcHRpb25zLmZvcm1hdCB8fCAncG5nJywgb3B0aW9ucy5xdWFsaXR5IHx8IDEpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgc3BlY2lmaWVkIHR5cGUgaXMgaWRlbnRpY2FsIHRvIHRoZSB0eXBlIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVHlwZSB0byBjaGVjayBhZ2FpbnN0XG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBpc1R5cGU6IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID4gMSA/IEFycmF5LmZyb20oYXJndW1lbnRzKS5pbmNsdWRlcyh0aGlzLnR5cGUpIDogdGhpcy50eXBlID09PSB0eXBlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGNvbXBsZXhpdHkgb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IGNvbXBsZXhpdHkgb2YgdGhpcyBpbnN0YW5jZSAoaXMgMSB1bmxlc3Mgc3ViY2xhc3NlZClcbiAgICAgKi9cbiAgICBjb21wbGV4aXR5OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wZXJ0aWVzVG9JbmNsdWRlXSBBbnkgcHJvcGVydGllcyB0aGF0IHlvdSBtaWdodCB3YW50IHRvIGFkZGl0aW9uYWxseSBpbmNsdWRlIGluIHRoZSBvdXRwdXRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEpTT05cbiAgICAgKi9cbiAgICB0b0pTT046IGZ1bmN0aW9uKHByb3BlcnRpZXNUb0luY2x1ZGUpIHtcbiAgICAgIC8vIGRlbGVnYXRlLCBub3QgYWxpYXNcbiAgICAgIHJldHVybiB0aGlzLnRvT2JqZWN0KHByb3BlcnRpZXNUb0luY2x1ZGUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIFwiYW5nbGVcIiBvZiBhbiBpbnN0YW5jZSB3aXRoIGNlbnRlcmVkIHJvdGF0aW9uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGFuZ2xlIEFuZ2xlIHZhbHVlIChpbiBkZWdyZWVzKVxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgcm90YXRlOiBmdW5jdGlvbihhbmdsZSkge1xuICAgICAgdmFyIHNob3VsZENlbnRlck9yaWdpbiA9ICh0aGlzLm9yaWdpblggIT09ICdjZW50ZXInIHx8IHRoaXMub3JpZ2luWSAhPT0gJ2NlbnRlcicpICYmIHRoaXMuY2VudGVyZWRSb3RhdGlvbjtcblxuICAgICAgaWYgKHNob3VsZENlbnRlck9yaWdpbikge1xuICAgICAgICB0aGlzLl9zZXRPcmlnaW5Ub0NlbnRlcigpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNldCgnYW5nbGUnLCBhbmdsZSk7XG5cbiAgICAgIGlmIChzaG91bGRDZW50ZXJPcmlnaW4pIHtcbiAgICAgICAgdGhpcy5fcmVzZXRPcmlnaW4oKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENlbnRlcnMgb2JqZWN0IGhvcml6b250YWxseSBvbiBjYW52YXMgdG8gd2hpY2ggaXQgd2FzIGFkZGVkIGxhc3QuXG4gICAgICogWW91IG1pZ2h0IG5lZWQgdG8gY2FsbCBgc2V0Q29vcmRzYCBvbiBhbiBvYmplY3QgYWZ0ZXIgY2VudGVyaW5nLCB0byB1cGRhdGUgY29udHJvbHMgYXJlYS5cbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGNlbnRlckg6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLmNlbnRlck9iamVjdEgodGhpcyk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2VudGVycyBvYmplY3QgaG9yaXpvbnRhbGx5IG9uIGN1cnJlbnQgdmlld3BvcnQgb2YgY2FudmFzIHRvIHdoaWNoIGl0IHdhcyBhZGRlZCBsYXN0LlxuICAgICAqIFlvdSBtaWdodCBuZWVkIHRvIGNhbGwgYHNldENvb3Jkc2Agb24gYW4gb2JqZWN0IGFmdGVyIGNlbnRlcmluZywgdG8gdXBkYXRlIGNvbnRyb2xzIGFyZWEuXG4gICAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICB2aWV3cG9ydENlbnRlckg6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLnZpZXdwb3J0Q2VudGVyT2JqZWN0SCh0aGlzKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDZW50ZXJzIG9iamVjdCB2ZXJ0aWNhbGx5IG9uIGNhbnZhcyB0byB3aGljaCBpdCB3YXMgYWRkZWQgbGFzdC5cbiAgICAgKiBZb3UgbWlnaHQgbmVlZCB0byBjYWxsIGBzZXRDb29yZHNgIG9uIGFuIG9iamVjdCBhZnRlciBjZW50ZXJpbmcsIHRvIHVwZGF0ZSBjb250cm9scyBhcmVhLlxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgY2VudGVyVjogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMuY2VudGVyT2JqZWN0Vih0aGlzKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDZW50ZXJzIG9iamVjdCB2ZXJ0aWNhbGx5IG9uIGN1cnJlbnQgdmlld3BvcnQgb2YgY2FudmFzIHRvIHdoaWNoIGl0IHdhcyBhZGRlZCBsYXN0LlxuICAgICAqIFlvdSBtaWdodCBuZWVkIHRvIGNhbGwgYHNldENvb3Jkc2Agb24gYW4gb2JqZWN0IGFmdGVyIGNlbnRlcmluZywgdG8gdXBkYXRlIGNvbnRyb2xzIGFyZWEuXG4gICAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICB2aWV3cG9ydENlbnRlclY6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLnZpZXdwb3J0Q2VudGVyT2JqZWN0Vih0aGlzKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDZW50ZXJzIG9iamVjdCB2ZXJ0aWNhbGx5IGFuZCBob3Jpem9udGFsbHkgb24gY2FudmFzIHRvIHdoaWNoIGlzIHdhcyBhZGRlZCBsYXN0XG4gICAgICogWW91IG1pZ2h0IG5lZWQgdG8gY2FsbCBgc2V0Q29vcmRzYCBvbiBhbiBvYmplY3QgYWZ0ZXIgY2VudGVyaW5nLCB0byB1cGRhdGUgY29udHJvbHMgYXJlYS5cbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGNlbnRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMuY2VudGVyT2JqZWN0KHRoaXMpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENlbnRlcnMgb2JqZWN0IG9uIGN1cnJlbnQgdmlld3BvcnQgb2YgY2FudmFzIHRvIHdoaWNoIGl0IHdhcyBhZGRlZCBsYXN0LlxuICAgICAqIFlvdSBtaWdodCBuZWVkIHRvIGNhbGwgYHNldENvb3Jkc2Agb24gYW4gb2JqZWN0IGFmdGVyIGNlbnRlcmluZywgdG8gdXBkYXRlIGNvbnRyb2xzIGFyZWEuXG4gICAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICB2aWV3cG9ydENlbnRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMudmlld3BvcnRDZW50ZXJPYmplY3QodGhpcyk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBjb29yZGluYXRlcyBvZiBhIHBvaW50ZXIgcmVsYXRpdmUgdG8gYW4gb2JqZWN0XG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCB0byBvcGVyYXRlIHVwb25cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3BvaW50ZXJdIFBvaW50ZXIgdG8gb3BlcmF0ZSB1cG9uIChpbnN0ZWFkIG9mIGV2ZW50KVxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQ29vcmRpbmF0ZXMgb2YgYSBwb2ludGVyICh4LCB5KVxuICAgICAqL1xuICAgIGdldExvY2FsUG9pbnRlcjogZnVuY3Rpb24oZSwgcG9pbnRlcikge1xuICAgICAgcG9pbnRlciA9IHBvaW50ZXIgfHwgdGhpcy5jYW52YXMuZ2V0UG9pbnRlcihlKTtcbiAgICAgIHZhciBwQ2xpY2tlZCA9IG5ldyBmYWJyaWMuUG9pbnQocG9pbnRlci54LCBwb2ludGVyLnkpLFxuICAgICAgICAgIG9iamVjdExlZnRUb3AgPSB0aGlzLl9nZXRMZWZ0VG9wQ29vcmRzKCk7XG4gICAgICBpZiAodGhpcy5hbmdsZSkge1xuICAgICAgICBwQ2xpY2tlZCA9IGZhYnJpYy51dGlsLnJvdGF0ZVBvaW50KFxuICAgICAgICAgIHBDbGlja2VkLCBvYmplY3RMZWZ0VG9wLCBkZWdyZWVzVG9SYWRpYW5zKC10aGlzLmFuZ2xlKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICB4OiBwQ2xpY2tlZC54IC0gb2JqZWN0TGVmdFRvcC54LFxuICAgICAgICB5OiBwQ2xpY2tlZC55IC0gb2JqZWN0TGVmdFRvcC55XG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIGNhbnZhcyBnbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gZm9yIHNwZWNpZmljIG9iamVjdFxuICAgICAqIGN1c3RvbSBjb21wb3NpdGlvbiBvcGVyYXRpb24gZm9yIHRoZSBwYXJ0aWN1bGFyIG9iamVjdCBjYW4gYmUgc3BlY2lmaWVkIHVzaW5nIGdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiBwcm9wZXJ0eVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggUmVuZGVyaW5nIGNhbnZhcyBjb250ZXh0XG4gICAgICovXG4gICAgX3NldHVwQ29tcG9zaXRlT3BlcmF0aW9uOiBmdW5jdGlvbiAoY3R4KSB7XG4gICAgICBpZiAodGhpcy5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24pIHtcbiAgICAgICAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IHRoaXMuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBjYW5jZWwgaW5zdGFuY2UncyBydW5uaW5nIGFuaW1hdGlvbnNcbiAgICAgKiBvdmVycmlkZSBpZiBuZWNlc3NhcnkgdG8gZGlzcG9zZSBhcnRpZmFjdHMgc3VjaCBhcyBgY2xpcFBhdGhgXG4gICAgICovXG4gICAgZGlzcG9zZTogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGZhYnJpYy5ydW5uaW5nQW5pbWF0aW9ucykge1xuICAgICAgICBmYWJyaWMucnVubmluZ0FuaW1hdGlvbnMuY2FuY2VsQnlUYXJnZXQodGhpcyk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBmYWJyaWMudXRpbC5jcmVhdGVBY2Nlc3NvcnMgJiYgZmFicmljLnV0aWwuY3JlYXRlQWNjZXNzb3JzKGZhYnJpYy5PYmplY3QpO1xuXG4gIGV4dGVuZChmYWJyaWMuT2JqZWN0LnByb3RvdHlwZSwgZmFicmljLk9ic2VydmFibGUpO1xuXG4gIC8qKlxuICAgKiBEZWZpbmVzIHRoZSBudW1iZXIgb2YgZnJhY3Rpb24gZGlnaXRzIHRvIHVzZSB3aGVuIHNlcmlhbGl6aW5nIG9iamVjdCB2YWx1ZXMuXG4gICAqIFlvdSBjYW4gdXNlIGl0IHRvIGluY3JlYXNlL2RlY3JlYXNlIHByZWNpc2lvbiBvZiBzdWNoIHZhbHVlcyBsaWtlIGxlZnQsIHRvcCwgc2NhbGVYLCBzY2FsZVksIGV0Yy5cbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLk9iamVjdFxuICAgKiBAY29uc3RhbnRcbiAgICogQHR5cGUgTnVtYmVyXG4gICAqL1xuICBmYWJyaWMuT2JqZWN0Lk5VTV9GUkFDVElPTl9ESUdJVFMgPSAyO1xuXG4gIC8qKlxuICAgKiBEZWZpbmVzIHdoaWNoIHByb3BlcnRpZXMgc2hvdWxkIGJlIGVubGl2ZW5lZCBmcm9tIHRoZSBvYmplY3QgcGFzc2VkIHRvIHtAbGluayBmYWJyaWMuT2JqZWN0Ll9mcm9tT2JqZWN0fVxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuT2JqZWN0XG4gICAqIEBjb25zdGFudFxuICAgKiBAdHlwZSBzdHJpbmdbXVxuICAgKi9cbiAgZmFicmljLk9iamVjdC5FTkxJVkVOX1BST1BTID0gWydjbGlwUGF0aCddO1xuXG4gIGZhYnJpYy5PYmplY3QuX2Zyb21PYmplY3QgPSBmdW5jdGlvbihjbGFzc05hbWUsIG9iamVjdCwgY2FsbGJhY2ssIGV4dHJhUGFyYW0pIHtcbiAgICB2YXIga2xhc3MgPSBmYWJyaWNbY2xhc3NOYW1lXTtcbiAgICBvYmplY3QgPSBjbG9uZShvYmplY3QsIHRydWUpO1xuICAgIGZhYnJpYy51dGlsLmVubGl2ZW5QYXR0ZXJucyhbb2JqZWN0LmZpbGwsIG9iamVjdC5zdHJva2VdLCBmdW5jdGlvbihwYXR0ZXJucykge1xuICAgICAgaWYgKHR5cGVvZiBwYXR0ZXJuc1swXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgb2JqZWN0LmZpbGwgPSBwYXR0ZXJuc1swXTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgcGF0dGVybnNbMV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIG9iamVjdC5zdHJva2UgPSBwYXR0ZXJuc1sxXTtcbiAgICAgIH1cbiAgICAgIGZhYnJpYy51dGlsLmVubGl2ZW5PYmplY3RFbmxpdmFibGVzKG9iamVjdCwgb2JqZWN0LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpbnN0YW5jZSA9IGV4dHJhUGFyYW0gPyBuZXcga2xhc3Mob2JqZWN0W2V4dHJhUGFyYW1dLCBvYmplY3QpIDogbmV3IGtsYXNzKG9iamVjdCk7XG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGluc3RhbmNlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVbmlxdWUgaWQgdXNlZCBpbnRlcm5hbGx5IHdoZW4gY3JlYXRpbmcgU1ZHIGVsZW1lbnRzXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5PYmplY3RcbiAgICogQHR5cGUgTnVtYmVyXG4gICAqL1xuICBmYWJyaWMuT2JqZWN0Ll9fdWlkID0gMDtcbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oKSB7XG5cbiAgdmFyIGRlZ3JlZXNUb1JhZGlhbnMgPSBmYWJyaWMudXRpbC5kZWdyZWVzVG9SYWRpYW5zLFxuICAgICAgb3JpZ2luWE9mZnNldCA9IHtcbiAgICAgICAgbGVmdDogLTAuNSxcbiAgICAgICAgY2VudGVyOiAwLFxuICAgICAgICByaWdodDogMC41XG4gICAgICB9LFxuICAgICAgb3JpZ2luWU9mZnNldCA9IHtcbiAgICAgICAgdG9wOiAtMC41LFxuICAgICAgICBjZW50ZXI6IDAsXG4gICAgICAgIGJvdHRvbTogMC41XG4gICAgICB9O1xuXG4gIGZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQoZmFicmljLk9iamVjdC5wcm90b3R5cGUsIC8qKiBAbGVuZHMgZmFicmljLk9iamVjdC5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogVHJhbnNsYXRlcyB0aGUgY29vcmRpbmF0ZXMgZnJvbSBhIHNldCBvZiBvcmlnaW4gdG8gYW5vdGhlciAoYmFzZWQgb24gdGhlIG9iamVjdCdzIGRpbWVuc2lvbnMpXG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IHBvaW50IFRoZSBwb2ludCB3aGljaCBjb3JyZXNwb25kcyB0byB0aGUgb3JpZ2luWCBhbmQgb3JpZ2luWSBwYXJhbXNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZnJvbU9yaWdpblggSG9yaXpvbnRhbCBvcmlnaW46ICdsZWZ0JywgJ2NlbnRlcicgb3IgJ3JpZ2h0J1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBmcm9tT3JpZ2luWSBWZXJ0aWNhbCBvcmlnaW46ICd0b3AnLCAnY2VudGVyJyBvciAnYm90dG9tJ1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0b09yaWdpblggSG9yaXpvbnRhbCBvcmlnaW46ICdsZWZ0JywgJ2NlbnRlcicgb3IgJ3JpZ2h0J1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0b09yaWdpblkgVmVydGljYWwgb3JpZ2luOiAndG9wJywgJ2NlbnRlcicgb3IgJ2JvdHRvbSdcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUG9pbnR9XG4gICAgICovXG4gICAgdHJhbnNsYXRlVG9HaXZlbk9yaWdpbjogZnVuY3Rpb24ocG9pbnQsIGZyb21PcmlnaW5YLCBmcm9tT3JpZ2luWSwgdG9PcmlnaW5YLCB0b09yaWdpblkpIHtcbiAgICAgIHZhciB4ID0gcG9pbnQueCxcbiAgICAgICAgICB5ID0gcG9pbnQueSxcbiAgICAgICAgICBvZmZzZXRYLCBvZmZzZXRZLCBkaW07XG5cbiAgICAgIGlmICh0eXBlb2YgZnJvbU9yaWdpblggPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGZyb21PcmlnaW5YID0gb3JpZ2luWE9mZnNldFtmcm9tT3JpZ2luWF07XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgZnJvbU9yaWdpblggLT0gMC41O1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHRvT3JpZ2luWCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdG9PcmlnaW5YID0gb3JpZ2luWE9mZnNldFt0b09yaWdpblhdO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRvT3JpZ2luWCAtPSAwLjU7XG4gICAgICB9XG5cbiAgICAgIG9mZnNldFggPSB0b09yaWdpblggLSBmcm9tT3JpZ2luWDtcblxuICAgICAgaWYgKHR5cGVvZiBmcm9tT3JpZ2luWSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgZnJvbU9yaWdpblkgPSBvcmlnaW5ZT2Zmc2V0W2Zyb21PcmlnaW5ZXTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBmcm9tT3JpZ2luWSAtPSAwLjU7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgdG9PcmlnaW5ZID09PSAnc3RyaW5nJykge1xuICAgICAgICB0b09yaWdpblkgPSBvcmlnaW5ZT2Zmc2V0W3RvT3JpZ2luWV07XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdG9PcmlnaW5ZIC09IDAuNTtcbiAgICAgIH1cblxuICAgICAgb2Zmc2V0WSA9IHRvT3JpZ2luWSAtIGZyb21PcmlnaW5ZO1xuXG4gICAgICBpZiAob2Zmc2V0WCB8fCBvZmZzZXRZKSB7XG4gICAgICAgIGRpbSA9IHRoaXMuX2dldFRyYW5zZm9ybWVkRGltZW5zaW9ucygpO1xuICAgICAgICB4ID0gcG9pbnQueCArIG9mZnNldFggKiBkaW0ueDtcbiAgICAgICAgeSA9IHBvaW50LnkgKyBvZmZzZXRZICogZGltLnk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgZmFicmljLlBvaW50KHgsIHkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2xhdGVzIHRoZSBjb29yZGluYXRlcyBmcm9tIG9yaWdpbiB0byBjZW50ZXIgY29vcmRpbmF0ZXMgKGJhc2VkIG9uIHRoZSBvYmplY3QncyBkaW1lbnNpb25zKVxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSBwb2ludCBUaGUgcG9pbnQgd2hpY2ggY29ycmVzcG9uZHMgdG8gdGhlIG9yaWdpblggYW5kIG9yaWdpblkgcGFyYW1zXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG9yaWdpblggSG9yaXpvbnRhbCBvcmlnaW46ICdsZWZ0JywgJ2NlbnRlcicgb3IgJ3JpZ2h0J1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvcmlnaW5ZIFZlcnRpY2FsIG9yaWdpbjogJ3RvcCcsICdjZW50ZXInIG9yICdib3R0b20nXG4gICAgICogQHJldHVybiB7ZmFicmljLlBvaW50fVxuICAgICAqL1xuICAgIHRyYW5zbGF0ZVRvQ2VudGVyUG9pbnQ6IGZ1bmN0aW9uKHBvaW50LCBvcmlnaW5YLCBvcmlnaW5ZKSB7XG4gICAgICB2YXIgcCA9IHRoaXMudHJhbnNsYXRlVG9HaXZlbk9yaWdpbihwb2ludCwgb3JpZ2luWCwgb3JpZ2luWSwgJ2NlbnRlcicsICdjZW50ZXInKTtcbiAgICAgIGlmICh0aGlzLmFuZ2xlKSB7XG4gICAgICAgIHJldHVybiBmYWJyaWMudXRpbC5yb3RhdGVQb2ludChwLCBwb2ludCwgZGVncmVlc1RvUmFkaWFucyh0aGlzLmFuZ2xlKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVHJhbnNsYXRlcyB0aGUgY29vcmRpbmF0ZXMgZnJvbSBjZW50ZXIgdG8gb3JpZ2luIGNvb3JkaW5hdGVzIChiYXNlZCBvbiB0aGUgb2JqZWN0J3MgZGltZW5zaW9ucylcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gY2VudGVyIFRoZSBwb2ludCB3aGljaCBjb3JyZXNwb25kcyB0byBjZW50ZXIgb2YgdGhlIG9iamVjdFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvcmlnaW5YIEhvcml6b250YWwgb3JpZ2luOiAnbGVmdCcsICdjZW50ZXInIG9yICdyaWdodCdcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gb3JpZ2luWSBWZXJ0aWNhbCBvcmlnaW46ICd0b3AnLCAnY2VudGVyJyBvciAnYm90dG9tJ1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH1cbiAgICAgKi9cbiAgICB0cmFuc2xhdGVUb09yaWdpblBvaW50OiBmdW5jdGlvbihjZW50ZXIsIG9yaWdpblgsIG9yaWdpblkpIHtcbiAgICAgIHZhciBwID0gdGhpcy50cmFuc2xhdGVUb0dpdmVuT3JpZ2luKGNlbnRlciwgJ2NlbnRlcicsICdjZW50ZXInLCBvcmlnaW5YLCBvcmlnaW5ZKTtcbiAgICAgIGlmICh0aGlzLmFuZ2xlKSB7XG4gICAgICAgIHJldHVybiBmYWJyaWMudXRpbC5yb3RhdGVQb2ludChwLCBjZW50ZXIsIGRlZ3JlZXNUb1JhZGlhbnModGhpcy5hbmdsZSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHA7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHJlYWwgY2VudGVyIGNvb3JkaW5hdGVzIG9mIHRoZSBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUG9pbnR9XG4gICAgICovXG4gICAgZ2V0Q2VudGVyUG9pbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGxlZnRUb3AgPSBuZXcgZmFicmljLlBvaW50KHRoaXMubGVmdCwgdGhpcy50b3ApO1xuICAgICAgcmV0dXJuIHRoaXMudHJhbnNsYXRlVG9DZW50ZXJQb2ludChsZWZ0VG9wLCB0aGlzLm9yaWdpblgsIHRoaXMub3JpZ2luWSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBvYmplY3QgYmFzZWQgb24gY2VudGVyIGNvb3JkaW5hdGVzXG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IHBvaW50IFRoZSBwb2ludCB3aGljaCBjb3JyZXNwb25kcyB0byB0aGUgb3JpZ2luWCBhbmQgb3JpZ2luWSBwYXJhbXNcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUG9pbnR9XG4gICAgICovXG4gICAgLy8gZ2V0T3JpZ2luUG9pbnQ6IGZ1bmN0aW9uKGNlbnRlcikge1xuICAgIC8vICAgcmV0dXJuIHRoaXMudHJhbnNsYXRlVG9PcmlnaW5Qb2ludChjZW50ZXIsIHRoaXMub3JpZ2luWCwgdGhpcy5vcmlnaW5ZKTtcbiAgICAvLyB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIG9iamVjdCBhcyBpZiBpdCBoYXMgYSBkaWZmZXJlbnQgb3JpZ2luXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG9yaWdpblggSG9yaXpvbnRhbCBvcmlnaW46ICdsZWZ0JywgJ2NlbnRlcicgb3IgJ3JpZ2h0J1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvcmlnaW5ZIFZlcnRpY2FsIG9yaWdpbjogJ3RvcCcsICdjZW50ZXInIG9yICdib3R0b20nXG4gICAgICogQHJldHVybiB7ZmFicmljLlBvaW50fVxuICAgICAqL1xuICAgIGdldFBvaW50QnlPcmlnaW46IGZ1bmN0aW9uKG9yaWdpblgsIG9yaWdpblkpIHtcbiAgICAgIHZhciBjZW50ZXIgPSB0aGlzLmdldENlbnRlclBvaW50KCk7XG4gICAgICByZXR1cm4gdGhpcy50cmFuc2xhdGVUb09yaWdpblBvaW50KGNlbnRlciwgb3JpZ2luWCwgb3JpZ2luWSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHBvaW50IGluIGxvY2FsIGNvb3JkaW5hdGVzXG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IHBvaW50IFRoZSBwb2ludCByZWxhdGl2ZSB0byB0aGUgZ2xvYmFsIGNvb3JkaW5hdGUgc3lzdGVtXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG9yaWdpblggSG9yaXpvbnRhbCBvcmlnaW46ICdsZWZ0JywgJ2NlbnRlcicgb3IgJ3JpZ2h0J1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvcmlnaW5ZIFZlcnRpY2FsIG9yaWdpbjogJ3RvcCcsICdjZW50ZXInIG9yICdib3R0b20nXG4gICAgICogQHJldHVybiB7ZmFicmljLlBvaW50fVxuICAgICAqL1xuICAgIHRvTG9jYWxQb2ludDogZnVuY3Rpb24ocG9pbnQsIG9yaWdpblgsIG9yaWdpblkpIHtcbiAgICAgIHZhciBjZW50ZXIgPSB0aGlzLmdldENlbnRlclBvaW50KCksXG4gICAgICAgICAgcCwgcDI7XG5cbiAgICAgIGlmICh0eXBlb2Ygb3JpZ2luWCAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIG9yaWdpblkgIT09ICd1bmRlZmluZWQnICkge1xuICAgICAgICBwID0gdGhpcy50cmFuc2xhdGVUb0dpdmVuT3JpZ2luKGNlbnRlciwgJ2NlbnRlcicsICdjZW50ZXInLCBvcmlnaW5YLCBvcmlnaW5ZKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBwID0gbmV3IGZhYnJpYy5Qb2ludCh0aGlzLmxlZnQsIHRoaXMudG9wKTtcbiAgICAgIH1cblxuICAgICAgcDIgPSBuZXcgZmFicmljLlBvaW50KHBvaW50LngsIHBvaW50LnkpO1xuICAgICAgaWYgKHRoaXMuYW5nbGUpIHtcbiAgICAgICAgcDIgPSBmYWJyaWMudXRpbC5yb3RhdGVQb2ludChwMiwgY2VudGVyLCAtZGVncmVlc1RvUmFkaWFucyh0aGlzLmFuZ2xlKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcDIuc3VidHJhY3RFcXVhbHMocCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHBvaW50IGluIGdsb2JhbCBjb29yZGluYXRlc1xuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSBUaGUgcG9pbnQgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGUgc3lzdGVtXG4gICAgICogQHJldHVybiB7ZmFicmljLlBvaW50fVxuICAgICAqL1xuICAgIC8vIHRvR2xvYmFsUG9pbnQ6IGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgLy8gICByZXR1cm4gZmFicmljLnV0aWwucm90YXRlUG9pbnQocG9pbnQsIHRoaXMuZ2V0Q2VudGVyUG9pbnQoKSwgZGVncmVlc1RvUmFkaWFucyh0aGlzLmFuZ2xlKSkuYWRkRXF1YWxzKG5ldyBmYWJyaWMuUG9pbnQodGhpcy5sZWZ0LCB0aGlzLnRvcCkpO1xuICAgIC8vIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBwb3NpdGlvbiBvZiB0aGUgb2JqZWN0IHRha2luZyBpbnRvIGNvbnNpZGVyYXRpb24gdGhlIG9iamVjdCdzIG9yaWdpblxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSBwb3MgVGhlIG5ldyBwb3NpdGlvbiBvZiB0aGUgb2JqZWN0XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG9yaWdpblggSG9yaXpvbnRhbCBvcmlnaW46ICdsZWZ0JywgJ2NlbnRlcicgb3IgJ3JpZ2h0J1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvcmlnaW5ZIFZlcnRpY2FsIG9yaWdpbjogJ3RvcCcsICdjZW50ZXInIG9yICdib3R0b20nXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBzZXRQb3NpdGlvbkJ5T3JpZ2luOiBmdW5jdGlvbihwb3MsIG9yaWdpblgsIG9yaWdpblkpIHtcbiAgICAgIHZhciBjZW50ZXIgPSB0aGlzLnRyYW5zbGF0ZVRvQ2VudGVyUG9pbnQocG9zLCBvcmlnaW5YLCBvcmlnaW5ZKSxcbiAgICAgICAgICBwb3NpdGlvbiA9IHRoaXMudHJhbnNsYXRlVG9PcmlnaW5Qb2ludChjZW50ZXIsIHRoaXMub3JpZ2luWCwgdGhpcy5vcmlnaW5ZKTtcbiAgICAgIHRoaXMuc2V0KCdsZWZ0JywgcG9zaXRpb24ueCk7XG4gICAgICB0aGlzLnNldCgndG9wJywgcG9zaXRpb24ueSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0byBPbmUgb2YgJ2xlZnQnLCAnY2VudGVyJywgJ3JpZ2h0J1xuICAgICAqL1xuICAgIGFkanVzdFBvc2l0aW9uOiBmdW5jdGlvbih0bykge1xuICAgICAgdmFyIGFuZ2xlID0gZGVncmVlc1RvUmFkaWFucyh0aGlzLmFuZ2xlKSxcbiAgICAgICAgICBoeXBvdEZ1bGwgPSB0aGlzLmdldFNjYWxlZFdpZHRoKCksXG4gICAgICAgICAgeEZ1bGwgPSBmYWJyaWMudXRpbC5jb3MoYW5nbGUpICogaHlwb3RGdWxsLFxuICAgICAgICAgIHlGdWxsID0gZmFicmljLnV0aWwuc2luKGFuZ2xlKSAqIGh5cG90RnVsbCxcbiAgICAgICAgICBvZmZzZXRGcm9tLCBvZmZzZXRUbztcblxuICAgICAgLy9UT0RPOiB0aGlzIGZ1bmN0aW9uIGRvZXMgbm90IGNvbnNpZGVyIG1peGVkIHNpdHVhdGlvbiBsaWtlIHRvcCwgY2VudGVyLlxuICAgICAgaWYgKHR5cGVvZiB0aGlzLm9yaWdpblggPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIG9mZnNldEZyb20gPSBvcmlnaW5YT2Zmc2V0W3RoaXMub3JpZ2luWF07XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgb2Zmc2V0RnJvbSA9IHRoaXMub3JpZ2luWCAtIDAuNTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgdG8gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIG9mZnNldFRvID0gb3JpZ2luWE9mZnNldFt0b107XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgb2Zmc2V0VG8gPSB0byAtIDAuNTtcbiAgICAgIH1cbiAgICAgIHRoaXMubGVmdCArPSB4RnVsbCAqIChvZmZzZXRUbyAtIG9mZnNldEZyb20pO1xuICAgICAgdGhpcy50b3AgKz0geUZ1bGwgKiAob2Zmc2V0VG8gLSBvZmZzZXRGcm9tKTtcbiAgICAgIHRoaXMuc2V0Q29vcmRzKCk7XG4gICAgICB0aGlzLm9yaWdpblggPSB0bztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgb3JpZ2luL3Bvc2l0aW9uIG9mIHRoZSBvYmplY3QgdG8gaXQncyBjZW50ZXIgcG9pbnRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgX3NldE9yaWdpblRvQ2VudGVyOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuX29yaWdpbmFsT3JpZ2luWCA9IHRoaXMub3JpZ2luWDtcbiAgICAgIHRoaXMuX29yaWdpbmFsT3JpZ2luWSA9IHRoaXMub3JpZ2luWTtcblxuICAgICAgdmFyIGNlbnRlciA9IHRoaXMuZ2V0Q2VudGVyUG9pbnQoKTtcblxuICAgICAgdGhpcy5vcmlnaW5YID0gJ2NlbnRlcic7XG4gICAgICB0aGlzLm9yaWdpblkgPSAnY2VudGVyJztcblxuICAgICAgdGhpcy5sZWZ0ID0gY2VudGVyLng7XG4gICAgICB0aGlzLnRvcCA9IGNlbnRlci55O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGhlIG9yaWdpbi9wb3NpdGlvbiBvZiB0aGUgb2JqZWN0IHRvIGl0J3Mgb3JpZ2luYWwgb3JpZ2luXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIF9yZXNldE9yaWdpbjogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgb3JpZ2luUG9pbnQgPSB0aGlzLnRyYW5zbGF0ZVRvT3JpZ2luUG9pbnQoXG4gICAgICAgIHRoaXMuZ2V0Q2VudGVyUG9pbnQoKSxcbiAgICAgICAgdGhpcy5fb3JpZ2luYWxPcmlnaW5YLFxuICAgICAgICB0aGlzLl9vcmlnaW5hbE9yaWdpblkpO1xuXG4gICAgICB0aGlzLm9yaWdpblggPSB0aGlzLl9vcmlnaW5hbE9yaWdpblg7XG4gICAgICB0aGlzLm9yaWdpblkgPSB0aGlzLl9vcmlnaW5hbE9yaWdpblk7XG5cbiAgICAgIHRoaXMubGVmdCA9IG9yaWdpblBvaW50Lng7XG4gICAgICB0aGlzLnRvcCA9IG9yaWdpblBvaW50Lnk7XG5cbiAgICAgIHRoaXMuX29yaWdpbmFsT3JpZ2luWCA9IG51bGw7XG4gICAgICB0aGlzLl9vcmlnaW5hbE9yaWdpblkgPSBudWxsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZXRMZWZ0VG9wQ29vcmRzOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnRyYW5zbGF0ZVRvT3JpZ2luUG9pbnQodGhpcy5nZXRDZW50ZXJQb2ludCgpLCAnbGVmdCcsICd0b3AnKTtcbiAgICB9LFxuICB9KTtcblxufSkoKTtcblxuXG4oZnVuY3Rpb24oKSB7XG5cbiAgZnVuY3Rpb24gYXJyYXlGcm9tQ29vcmRzKGNvb3Jkcykge1xuICAgIHJldHVybiBbXG4gICAgICBuZXcgZmFicmljLlBvaW50KGNvb3Jkcy50bC54LCBjb29yZHMudGwueSksXG4gICAgICBuZXcgZmFicmljLlBvaW50KGNvb3Jkcy50ci54LCBjb29yZHMudHIueSksXG4gICAgICBuZXcgZmFicmljLlBvaW50KGNvb3Jkcy5ici54LCBjb29yZHMuYnIueSksXG4gICAgICBuZXcgZmFicmljLlBvaW50KGNvb3Jkcy5ibC54LCBjb29yZHMuYmwueSlcbiAgICBdO1xuICB9XG5cbiAgdmFyIHV0aWwgPSBmYWJyaWMudXRpbCxcbiAgICAgIGRlZ3JlZXNUb1JhZGlhbnMgPSB1dGlsLmRlZ3JlZXNUb1JhZGlhbnMsXG4gICAgICBtdWx0aXBseU1hdHJpY2VzID0gdXRpbC5tdWx0aXBseVRyYW5zZm9ybU1hdHJpY2VzLFxuICAgICAgdHJhbnNmb3JtUG9pbnQgPSB1dGlsLnRyYW5zZm9ybVBvaW50O1xuXG4gIHV0aWwub2JqZWN0LmV4dGVuZChmYWJyaWMuT2JqZWN0LnByb3RvdHlwZSwgLyoqIEBsZW5kcyBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBEZXNjcmliZSBvYmplY3QncyBjb3JuZXIgcG9zaXRpb24gaW4gY2FudmFzIGVsZW1lbnQgY29vcmRpbmF0ZXMuXG4gICAgICogcHJvcGVydGllcyBhcmUgZGVwZW5kaW5nIG9uIGNvbnRyb2wga2V5cyBhbmQgcGFkZGluZyB0aGUgbWFpbiBjb250cm9scy5cbiAgICAgKiBlYWNoIHByb3BlcnR5IGlzIGFuIG9iamVjdCB3aXRoIHgsIHkgYW5kIGNvcm5lci5cbiAgICAgKiBUaGUgYGNvcm5lcmAgcHJvcGVydHkgY29udGFpbnMgaW4gYSBzaW1pbGFyIG1hbm5lciB0aGUgNCBwb2ludHMgb2YgdGhlXG4gICAgICogaW50ZXJhY3RpdmUgYXJlYSBvZiB0aGUgY29ybmVyLlxuICAgICAqIFRoZSBjb29yZGluYXRlcyBkZXBlbmRzIGZyb20gdGhlIGNvbnRyb2xzIHBvc2l0aW9uSGFuZGxlciBhbmQgYXJlIHVzZWRcbiAgICAgKiB0byBkcmF3IGFuZCBsb2NhdGUgY29udHJvbHNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLk9iamVjdC5wcm90b3R5cGVcbiAgICAgKi9cbiAgICBvQ29vcmRzOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogRGVzY3JpYmUgb2JqZWN0J3MgY29ybmVyIHBvc2l0aW9uIGluIGNhbnZhcyBvYmplY3QgYWJzb2x1dGUgY29vcmRpbmF0ZXNcbiAgICAgKiBwcm9wZXJ0aWVzIGFyZSB0bCx0cixibCxiciBhbmQgZGVzY3JpYmUgdGhlIGZvdXIgbWFpbiBjb3JuZXIuXG4gICAgICogZWFjaCBwcm9wZXJ0eSBpcyBhbiBvYmplY3Qgd2l0aCB4LCB5LCBpbnN0YW5jZSBvZiBGYWJyaWMuUG9pbnQuXG4gICAgICogVGhlIGNvb3JkaW5hdGVzIGRlcGVuZHMgZnJvbSB0aGlzIHByb3BlcnRpZXM6IHdpZHRoLCBoZWlnaHQsIHNjYWxlWCwgc2NhbGVZXG4gICAgICogc2tld1gsIHNrZXdZLCBhbmdsZSwgc3Ryb2tlV2lkdGgsIHRvcCwgbGVmdC5cbiAgICAgKiBUaG9zZSBjb29yZGluYXRlcyBhcmUgdXNlZnVsIHRvIHVuZGVyc3RhbmQgd2hlcmUgYW4gb2JqZWN0IGlzLiBUaGV5IGdldCB1cGRhdGVkXG4gICAgICogd2l0aCBvQ29vcmRzIGJ1dCB0aGV5IGRvIG5vdCBuZWVkIHRvIGJlIHVwZGF0ZWQgd2hlbiB6b29tIG9yIHBhbm5pbmcgY2hhbmdlLlxuICAgICAqIFRoZSBjb29yZGluYXRlcyBnZXQgdXBkYXRlZCB3aXRoIEBtZXRob2Qgc2V0Q29vcmRzLlxuICAgICAqIFlvdSBjYW4gY2FsY3VsYXRlIHRoZW0gd2l0aG91dCB1cGRhdGluZyB3aXRoIEBtZXRob2QgY2FsY0FDb29yZHMoKTtcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLk9iamVjdC5wcm90b3R5cGVcbiAgICAgKi9cbiAgICBhQ29vcmRzOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogRGVzY3JpYmUgb2JqZWN0J3MgY29ybmVyIHBvc2l0aW9uIGluIGNhbnZhcyBlbGVtZW50IGNvb3JkaW5hdGVzLlxuICAgICAqIGluY2x1ZGVzIHBhZGRpbmcuIFVzZWQgb2Ygb2JqZWN0IGRldGVjdGlvbi5cbiAgICAgKiBzZXQgYW5kIHJlZnJlc2hlZCB3aXRoIHNldENvb3Jkcy5cbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLk9iamVjdC5wcm90b3R5cGVcbiAgICAgKi9cbiAgICBsaW5lQ29vcmRzOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogc3RvcmFnZSBmb3Igb2JqZWN0IHRyYW5zZm9ybSBtYXRyaXhcbiAgICAgKi9cbiAgICBvd25NYXRyaXhDYWNoZTogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIHN0b3JhZ2UgZm9yIG9iamVjdCBmdWxsIHRyYW5zZm9ybSBtYXRyaXhcbiAgICAgKi9cbiAgICBtYXRyaXhDYWNoZTogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIGN1c3RvbSBjb250cm9scyBpbnRlcmZhY2VcbiAgICAgKiBjb250cm9scyBhcmUgYWRkZWQgYnkgZGVmYXVsdF9jb250cm9scy5qc1xuICAgICAqL1xuICAgIGNvbnRyb2xzOiB7IH0sXG5cbiAgICAvKipcbiAgICAgKiByZXR1cm4gY29ycmVjdCBzZXQgb2YgY29vcmRpbmF0ZXMgZm9yIGludGVyc2VjdGlvblxuICAgICAqIHRoaXMgd2lsbCByZXR1cm4gZWl0aGVyIGFDb29yZHMgb3IgbGluZUNvb3Jkcy5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGFic29sdXRlIHdpbGwgcmV0dXJuIGFDb29yZHMgaWYgdHJ1ZSBvciBsaW5lQ29vcmRzXG4gICAgICogQHJldHVybiB7T2JqZWN0fSB7dGwsIHRyLCBiciwgYmx9IHBvaW50c1xuICAgICAqL1xuICAgIF9nZXRDb29yZHM6IGZ1bmN0aW9uKGFic29sdXRlLCBjYWxjdWxhdGUpIHtcbiAgICAgIGlmIChjYWxjdWxhdGUpIHtcbiAgICAgICAgcmV0dXJuIChhYnNvbHV0ZSA/IHRoaXMuY2FsY0FDb29yZHMoKSA6IHRoaXMuY2FsY0xpbmVDb29yZHMoKSk7XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuYUNvb3JkcyB8fCAhdGhpcy5saW5lQ29vcmRzKSB7XG4gICAgICAgIHRoaXMuc2V0Q29vcmRzKHRydWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChhYnNvbHV0ZSA/IHRoaXMuYUNvb3JkcyA6IHRoaXMubGluZUNvb3Jkcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJldHVybiBjb3JyZWN0IHNldCBvZiBjb29yZGluYXRlcyBmb3IgaW50ZXJzZWN0aW9uXG4gICAgICogdGhpcyB3aWxsIHJldHVybiBlaXRoZXIgYUNvb3JkcyBvciBsaW5lQ29vcmRzLlxuICAgICAqIFRoZSBjb29yZHMgYXJlIHJldHVybmVkIGluIGFuIGFycmF5LlxuICAgICAqIEByZXR1cm4ge0FycmF5fSBbdGwsIHRyLCBiciwgYmxdIG9mIHBvaW50c1xuICAgICAqL1xuICAgIGdldENvb3JkczogZnVuY3Rpb24oYWJzb2x1dGUsIGNhbGN1bGF0ZSkge1xuICAgICAgcmV0dXJuIGFycmF5RnJvbUNvb3Jkcyh0aGlzLl9nZXRDb29yZHMoYWJzb2x1dGUsIGNhbGN1bGF0ZSkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgb2JqZWN0IGludGVyc2VjdHMgd2l0aCBhbiBhcmVhIGZvcm1lZCBieSAyIHBvaW50c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludFRMIHRvcC1sZWZ0IHBvaW50IG9mIGFyZWFcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnRCUiBib3R0b20tcmlnaHQgcG9pbnQgb2YgYXJlYVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2Fic29sdXRlXSB1c2UgY29vcmRpbmF0ZXMgd2l0aG91dCB2aWV3cG9ydFRyYW5zZm9ybVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NhbGN1bGF0ZV0gdXNlIGNvb3JkaW5hdGVzIG9mIGN1cnJlbnQgcG9zaXRpb24gaW5zdGVhZCBvZiAub0Nvb3Jkc1xuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgb2JqZWN0IGludGVyc2VjdHMgd2l0aCBhbiBhcmVhIGZvcm1lZCBieSAyIHBvaW50c1xuICAgICAqL1xuICAgIGludGVyc2VjdHNXaXRoUmVjdDogZnVuY3Rpb24ocG9pbnRUTCwgcG9pbnRCUiwgYWJzb2x1dGUsIGNhbGN1bGF0ZSkge1xuICAgICAgdmFyIGNvb3JkcyA9IHRoaXMuZ2V0Q29vcmRzKGFic29sdXRlLCBjYWxjdWxhdGUpLFxuICAgICAgICAgIGludGVyc2VjdGlvbiA9IGZhYnJpYy5JbnRlcnNlY3Rpb24uaW50ZXJzZWN0UG9seWdvblJlY3RhbmdsZShcbiAgICAgICAgICAgIGNvb3JkcyxcbiAgICAgICAgICAgIHBvaW50VEwsXG4gICAgICAgICAgICBwb2ludEJSXG4gICAgICAgICAgKTtcbiAgICAgIHJldHVybiBpbnRlcnNlY3Rpb24uc3RhdHVzID09PSAnSW50ZXJzZWN0aW9uJztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIG9iamVjdCBpbnRlcnNlY3RzIHdpdGggYW5vdGhlciBvYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgT2JqZWN0IHRvIHRlc3RcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFthYnNvbHV0ZV0gdXNlIGNvb3JkaW5hdGVzIHdpdGhvdXQgdmlld3BvcnRUcmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjYWxjdWxhdGVdIHVzZSBjb29yZGluYXRlcyBvZiBjdXJyZW50IHBvc2l0aW9uIGluc3RlYWQgb2YgLm9Db29yZHNcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIG9iamVjdCBpbnRlcnNlY3RzIHdpdGggYW5vdGhlciBvYmplY3RcbiAgICAgKi9cbiAgICBpbnRlcnNlY3RzV2l0aE9iamVjdDogZnVuY3Rpb24ob3RoZXIsIGFic29sdXRlLCBjYWxjdWxhdGUpIHtcbiAgICAgIHZhciBpbnRlcnNlY3Rpb24gPSBmYWJyaWMuSW50ZXJzZWN0aW9uLmludGVyc2VjdFBvbHlnb25Qb2x5Z29uKFxuICAgICAgICB0aGlzLmdldENvb3JkcyhhYnNvbHV0ZSwgY2FsY3VsYXRlKSxcbiAgICAgICAgb3RoZXIuZ2V0Q29vcmRzKGFic29sdXRlLCBjYWxjdWxhdGUpXG4gICAgICApO1xuXG4gICAgICByZXR1cm4gaW50ZXJzZWN0aW9uLnN0YXR1cyA9PT0gJ0ludGVyc2VjdGlvbidcbiAgICAgICAgfHwgb3RoZXIuaXNDb250YWluZWRXaXRoaW5PYmplY3QodGhpcywgYWJzb2x1dGUsIGNhbGN1bGF0ZSlcbiAgICAgICAgfHwgdGhpcy5pc0NvbnRhaW5lZFdpdGhpbk9iamVjdChvdGhlciwgYWJzb2x1dGUsIGNhbGN1bGF0ZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBvYmplY3QgaXMgZnVsbHkgY29udGFpbmVkIHdpdGhpbiBhcmVhIG9mIGFub3RoZXIgb2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIE9iamVjdCB0byB0ZXN0XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbYWJzb2x1dGVdIHVzZSBjb29yZGluYXRlcyB3aXRob3V0IHZpZXdwb3J0VHJhbnNmb3JtXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY2FsY3VsYXRlXSB1c2UgY29vcmRpbmF0ZXMgb2YgY3VycmVudCBwb3NpdGlvbiBpbnN0ZWFkIG9mIC5vQ29vcmRzXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBvYmplY3QgaXMgZnVsbHkgY29udGFpbmVkIHdpdGhpbiBhcmVhIG9mIGFub3RoZXIgb2JqZWN0XG4gICAgICovXG4gICAgaXNDb250YWluZWRXaXRoaW5PYmplY3Q6IGZ1bmN0aW9uKG90aGVyLCBhYnNvbHV0ZSwgY2FsY3VsYXRlKSB7XG4gICAgICB2YXIgcG9pbnRzID0gdGhpcy5nZXRDb29yZHMoYWJzb2x1dGUsIGNhbGN1bGF0ZSksXG4gICAgICAgICAgb3RoZXJDb29yZHMgPSBhYnNvbHV0ZSA/IG90aGVyLmFDb29yZHMgOiBvdGhlci5saW5lQ29vcmRzLFxuICAgICAgICAgIGkgPSAwLCBsaW5lcyA9IG90aGVyLl9nZXRJbWFnZUxpbmVzKG90aGVyQ29vcmRzKTtcbiAgICAgIGZvciAoOyBpIDwgNDsgaSsrKSB7XG4gICAgICAgIGlmICghb3RoZXIuY29udGFpbnNQb2ludChwb2ludHNbaV0sIGxpbmVzKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBvYmplY3QgaXMgZnVsbHkgY29udGFpbmVkIHdpdGhpbiBhcmVhIGZvcm1lZCBieSAyIHBvaW50c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludFRMIHRvcC1sZWZ0IHBvaW50IG9mIGFyZWFcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnRCUiBib3R0b20tcmlnaHQgcG9pbnQgb2YgYXJlYVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2Fic29sdXRlXSB1c2UgY29vcmRpbmF0ZXMgd2l0aG91dCB2aWV3cG9ydFRyYW5zZm9ybVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NhbGN1bGF0ZV0gdXNlIGNvb3JkaW5hdGVzIG9mIGN1cnJlbnQgcG9zaXRpb24gaW5zdGVhZCBvZiAub0Nvb3Jkc1xuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgb2JqZWN0IGlzIGZ1bGx5IGNvbnRhaW5lZCB3aXRoaW4gYXJlYSBmb3JtZWQgYnkgMiBwb2ludHNcbiAgICAgKi9cbiAgICBpc0NvbnRhaW5lZFdpdGhpblJlY3Q6IGZ1bmN0aW9uKHBvaW50VEwsIHBvaW50QlIsIGFic29sdXRlLCBjYWxjdWxhdGUpIHtcbiAgICAgIHZhciBib3VuZGluZ1JlY3QgPSB0aGlzLmdldEJvdW5kaW5nUmVjdChhYnNvbHV0ZSwgY2FsY3VsYXRlKTtcblxuICAgICAgcmV0dXJuIChcbiAgICAgICAgYm91bmRpbmdSZWN0LmxlZnQgPj0gcG9pbnRUTC54ICYmXG4gICAgICAgIGJvdW5kaW5nUmVjdC5sZWZ0ICsgYm91bmRpbmdSZWN0LndpZHRoIDw9IHBvaW50QlIueCAmJlxuICAgICAgICBib3VuZGluZ1JlY3QudG9wID49IHBvaW50VEwueSAmJlxuICAgICAgICBib3VuZGluZ1JlY3QudG9wICsgYm91bmRpbmdSZWN0LmhlaWdodCA8PSBwb2ludEJSLnlcbiAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBwb2ludCBpcyBpbnNpZGUgdGhlIG9iamVjdFxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSBwb2ludCBQb2ludCB0byBjaGVjayBhZ2FpbnN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtsaW5lc10gb2JqZWN0IHJldHVybmVkIGZyb20gQG1ldGhvZCBfZ2V0SW1hZ2VMaW5lc1xuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2Fic29sdXRlXSB1c2UgY29vcmRpbmF0ZXMgd2l0aG91dCB2aWV3cG9ydFRyYW5zZm9ybVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NhbGN1bGF0ZV0gdXNlIGNvb3JkaW5hdGVzIG9mIGN1cnJlbnQgcG9zaXRpb24gaW5zdGVhZCBvZiAub0Nvb3Jkc1xuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgcG9pbnQgaXMgaW5zaWRlIHRoZSBvYmplY3RcbiAgICAgKi9cbiAgICBjb250YWluc1BvaW50OiBmdW5jdGlvbihwb2ludCwgbGluZXMsIGFic29sdXRlLCBjYWxjdWxhdGUpIHtcbiAgICAgIHZhciBjb29yZHMgPSB0aGlzLl9nZXRDb29yZHMoYWJzb2x1dGUsIGNhbGN1bGF0ZSksXG4gICAgICAgICAgbGluZXMgPSBsaW5lcyB8fCB0aGlzLl9nZXRJbWFnZUxpbmVzKGNvb3JkcyksXG4gICAgICAgICAgeFBvaW50cyA9IHRoaXMuX2ZpbmRDcm9zc1BvaW50cyhwb2ludCwgbGluZXMpO1xuICAgICAgLy8gaWYgeFBvaW50cyBpcyBvZGQgdGhlbiBwb2ludCBpcyBpbnNpZGUgdGhlIG9iamVjdFxuICAgICAgcmV0dXJuICh4UG9pbnRzICE9PSAwICYmIHhQb2ludHMgJSAyID09PSAxKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIG9iamVjdCBpcyBjb250YWluZWQgd2l0aGluIHRoZSBjYW52YXMgd2l0aCBjdXJyZW50IHZpZXdwb3J0VHJhbnNmb3JtXG4gICAgICogdGhlIGNoZWNrIGlzIGRvbmUgc3RvcHBpbmcgYXQgZmlyc3QgcG9pbnQgdGhhdCBhcHBlYXJzIG9uIHNjcmVlblxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NhbGN1bGF0ZV0gdXNlIGNvb3JkaW5hdGVzIG9mIGN1cnJlbnQgcG9zaXRpb24gaW5zdGVhZCBvZiAuYUNvb3Jkc1xuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgb2JqZWN0IGlzIGZ1bGx5IG9yIHBhcnRpYWxseSBjb250YWluZWQgd2l0aGluIGNhbnZhc1xuICAgICAqL1xuICAgIGlzT25TY3JlZW46IGZ1bmN0aW9uKGNhbGN1bGF0ZSkge1xuICAgICAgaWYgKCF0aGlzLmNhbnZhcykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgcG9pbnRUTCA9IHRoaXMuY2FudmFzLnZwdENvb3Jkcy50bCwgcG9pbnRCUiA9IHRoaXMuY2FudmFzLnZwdENvb3Jkcy5icjtcbiAgICAgIHZhciBwb2ludHMgPSB0aGlzLmdldENvb3Jkcyh0cnVlLCBjYWxjdWxhdGUpO1xuICAgICAgLy8gaWYgc29tZSBwb2ludCBpcyBvbiBzY3JlZW4sIHRoZSBvYmplY3QgaXMgb24gc2NyZWVuLlxuICAgICAgaWYgKHBvaW50cy5zb21lKGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgICAgIHJldHVybiBwb2ludC54IDw9IHBvaW50QlIueCAmJiBwb2ludC54ID49IHBvaW50VEwueCAmJlxuICAgICAgICBwb2ludC55IDw9IHBvaW50QlIueSAmJiBwb2ludC55ID49IHBvaW50VEwueTtcbiAgICAgIH0pKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgLy8gbm8gcG9pbnRzIG9uIHNjcmVlbiwgY2hlY2sgaW50ZXJzZWN0aW9uIHdpdGggYWJzb2x1dGUgY29vcmRpbmF0ZXNcbiAgICAgIGlmICh0aGlzLmludGVyc2VjdHNXaXRoUmVjdChwb2ludFRMLCBwb2ludEJSLCB0cnVlLCBjYWxjdWxhdGUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuX2NvbnRhaW5zQ2VudGVyT2ZDYW52YXMocG9pbnRUTCwgcG9pbnRCUiwgY2FsY3VsYXRlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBvYmplY3QgY29udGFpbnMgdGhlIG1pZHBvaW50IGJldHdlZW4gY2FudmFzIGV4dHJlbWl0aWVzXG4gICAgICogRG9lcyBub3QgbWFrZSBzZW5zZSBvdXRzaWRlIHRoZSBjb250ZXh0IG9mIGlzT25TY3JlZW4gYW5kIGlzUGFydGlhbGx5T25TY3JlZW5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RmFicmljLlBvaW50fSBwb2ludFRMIFRvcCBMZWZ0IHBvaW50XG4gICAgICogQHBhcmFtIHtGYWJyaWMuUG9pbnR9IHBvaW50QlIgVG9wIFJpZ2h0IHBvaW50XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBjYWxjdWxhdGUgdXNlIGNvb3JkaW5hdGVzIG9mIGN1cnJlbnQgcG9zaXRpb24gaW5zdGVhZCBvZiAub0Nvb3Jkc1xuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgdGhlIG9iamVjdCBjb250YWlucyB0aGUgcG9pbnRcbiAgICAgKi9cbiAgICBfY29udGFpbnNDZW50ZXJPZkNhbnZhczogZnVuY3Rpb24ocG9pbnRUTCwgcG9pbnRCUiwgY2FsY3VsYXRlKSB7XG4gICAgICAvLyB3b3JzdCBjYXNlIHNjZW5hcmlvIHRoZSBvYmplY3QgaXMgc28gYmlnIHRoYXQgY29udGFpbnMgdGhlIHNjcmVlblxuICAgICAgdmFyIGNlbnRlclBvaW50ID0geyB4OiAocG9pbnRUTC54ICsgcG9pbnRCUi54KSAvIDIsIHk6IChwb2ludFRMLnkgKyBwb2ludEJSLnkpIC8gMiB9O1xuICAgICAgaWYgKHRoaXMuY29udGFpbnNQb2ludChjZW50ZXJQb2ludCwgbnVsbCwgdHJ1ZSwgY2FsY3VsYXRlKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIG9iamVjdCBpcyBwYXJ0aWFsbHkgY29udGFpbmVkIHdpdGhpbiB0aGUgY2FudmFzIHdpdGggY3VycmVudCB2aWV3cG9ydFRyYW5zZm9ybVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NhbGN1bGF0ZV0gdXNlIGNvb3JkaW5hdGVzIG9mIGN1cnJlbnQgcG9zaXRpb24gaW5zdGVhZCBvZiAub0Nvb3Jkc1xuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgb2JqZWN0IGlzIHBhcnRpYWxseSBjb250YWluZWQgd2l0aGluIGNhbnZhc1xuICAgICAqL1xuICAgIGlzUGFydGlhbGx5T25TY3JlZW46IGZ1bmN0aW9uKGNhbGN1bGF0ZSkge1xuICAgICAgaWYgKCF0aGlzLmNhbnZhcykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgcG9pbnRUTCA9IHRoaXMuY2FudmFzLnZwdENvb3Jkcy50bCwgcG9pbnRCUiA9IHRoaXMuY2FudmFzLnZwdENvb3Jkcy5icjtcbiAgICAgIGlmICh0aGlzLmludGVyc2VjdHNXaXRoUmVjdChwb2ludFRMLCBwb2ludEJSLCB0cnVlLCBjYWxjdWxhdGUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgdmFyIGFsbFBvaW50c0FyZU91dHNpZGUgPSB0aGlzLmdldENvb3Jkcyh0cnVlLCBjYWxjdWxhdGUpLmV2ZXJ5KGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgICAgIHJldHVybiAocG9pbnQueCA+PSBwb2ludEJSLnggfHwgcG9pbnQueCA8PSBwb2ludFRMLngpICYmXG4gICAgICAgIChwb2ludC55ID49IHBvaW50QlIueSB8fCBwb2ludC55IDw9IHBvaW50VEwueSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhbGxQb2ludHNBcmVPdXRzaWRlICYmIHRoaXMuX2NvbnRhaW5zQ2VudGVyT2ZDYW52YXMocG9pbnRUTCwgcG9pbnRCUiwgY2FsY3VsYXRlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRoYXQgcmV0dXJucyBhbiBvYmplY3Qgd2l0aCB0aGUgb2JqZWN0IGVkZ2VzIGluIGl0LCBnaXZlbiB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIGNvcm5lcnNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvQ29vcmRzIENvb3JkaW5hdGVzIG9mIHRoZSBvYmplY3QgY29ybmVyc1xuICAgICAqL1xuICAgIF9nZXRJbWFnZUxpbmVzOiBmdW5jdGlvbihvQ29vcmRzKSB7XG5cbiAgICAgIHZhciBsaW5lcyA9IHtcbiAgICAgICAgdG9wbGluZToge1xuICAgICAgICAgIG86IG9Db29yZHMudGwsXG4gICAgICAgICAgZDogb0Nvb3Jkcy50clxuICAgICAgICB9LFxuICAgICAgICByaWdodGxpbmU6IHtcbiAgICAgICAgICBvOiBvQ29vcmRzLnRyLFxuICAgICAgICAgIGQ6IG9Db29yZHMuYnJcbiAgICAgICAgfSxcbiAgICAgICAgYm90dG9tbGluZToge1xuICAgICAgICAgIG86IG9Db29yZHMuYnIsXG4gICAgICAgICAgZDogb0Nvb3Jkcy5ibFxuICAgICAgICB9LFxuICAgICAgICBsZWZ0bGluZToge1xuICAgICAgICAgIG86IG9Db29yZHMuYmwsXG4gICAgICAgICAgZDogb0Nvb3Jkcy50bFxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAvLyAvLyBkZWJ1Z2dpbmdcbiAgICAgIC8vIGlmICh0aGlzLmNhbnZhcy5jb250ZXh0VG9wKSB7XG4gICAgICAvLyAgIHRoaXMuY2FudmFzLmNvbnRleHRUb3AuZmlsbFJlY3QobGluZXMuYm90dG9tbGluZS5kLngsIGxpbmVzLmJvdHRvbWxpbmUuZC55LCAyLCAyKTtcbiAgICAgIC8vICAgdGhpcy5jYW52YXMuY29udGV4dFRvcC5maWxsUmVjdChsaW5lcy5ib3R0b21saW5lLm8ueCwgbGluZXMuYm90dG9tbGluZS5vLnksIDIsIDIpO1xuICAgICAgLy9cbiAgICAgIC8vICAgdGhpcy5jYW52YXMuY29udGV4dFRvcC5maWxsUmVjdChsaW5lcy5sZWZ0bGluZS5kLngsIGxpbmVzLmxlZnRsaW5lLmQueSwgMiwgMik7XG4gICAgICAvLyAgIHRoaXMuY2FudmFzLmNvbnRleHRUb3AuZmlsbFJlY3QobGluZXMubGVmdGxpbmUuby54LCBsaW5lcy5sZWZ0bGluZS5vLnksIDIsIDIpO1xuICAgICAgLy9cbiAgICAgIC8vICAgdGhpcy5jYW52YXMuY29udGV4dFRvcC5maWxsUmVjdChsaW5lcy50b3BsaW5lLmQueCwgbGluZXMudG9wbGluZS5kLnksIDIsIDIpO1xuICAgICAgLy8gICB0aGlzLmNhbnZhcy5jb250ZXh0VG9wLmZpbGxSZWN0KGxpbmVzLnRvcGxpbmUuby54LCBsaW5lcy50b3BsaW5lLm8ueSwgMiwgMik7XG4gICAgICAvL1xuICAgICAgLy8gICB0aGlzLmNhbnZhcy5jb250ZXh0VG9wLmZpbGxSZWN0KGxpbmVzLnJpZ2h0bGluZS5kLngsIGxpbmVzLnJpZ2h0bGluZS5kLnksIDIsIDIpO1xuICAgICAgLy8gICB0aGlzLmNhbnZhcy5jb250ZXh0VG9wLmZpbGxSZWN0KGxpbmVzLnJpZ2h0bGluZS5vLngsIGxpbmVzLnJpZ2h0bGluZS5vLnksIDIsIDIpO1xuICAgICAgLy8gfVxuXG4gICAgICByZXR1cm4gbGluZXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBtZXRob2QgdG8gZGV0ZXJtaW5lIGhvdyBtYW55IGNyb3NzIHBvaW50cyBhcmUgYmV0d2VlbiB0aGUgNCBvYmplY3QgZWRnZXNcbiAgICAgKiBhbmQgdGhlIGhvcml6b250YWwgbGluZSBkZXRlcm1pbmVkIGJ5IGEgcG9pbnQgb24gY2FudmFzXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gcG9pbnQgUG9pbnQgdG8gY2hlY2tcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbGluZXMgQ29vcmRpbmF0ZXMgb2YgdGhlIG9iamVjdCBiZWluZyBldmFsdWF0ZWRcbiAgICAgKi9cbiAgICAvLyByZW1vdmUgeWksIG5vdCB1c2VkIGJ1dCBsZWZ0IGNvZGUgaGVyZSBqdXN0IGluIGNhc2UuXG4gICAgX2ZpbmRDcm9zc1BvaW50czogZnVuY3Rpb24ocG9pbnQsIGxpbmVzKSB7XG4gICAgICB2YXIgYjEsIGIyLCBhMSwgYTIsIHhpLCAvLyB5aSxcbiAgICAgICAgICB4Y291bnQgPSAwLFxuICAgICAgICAgIGlMaW5lO1xuXG4gICAgICBmb3IgKHZhciBsaW5lS2V5IGluIGxpbmVzKSB7XG4gICAgICAgIGlMaW5lID0gbGluZXNbbGluZUtleV07XG4gICAgICAgIC8vIG9wdGltaXNhdGlvbiAxOiBsaW5lIGJlbG93IHBvaW50LiBubyBjcm9zc1xuICAgICAgICBpZiAoKGlMaW5lLm8ueSA8IHBvaW50LnkpICYmIChpTGluZS5kLnkgPCBwb2ludC55KSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIG9wdGltaXNhdGlvbiAyOiBsaW5lIGFib3ZlIHBvaW50LiBubyBjcm9zc1xuICAgICAgICBpZiAoKGlMaW5lLm8ueSA+PSBwb2ludC55KSAmJiAoaUxpbmUuZC55ID49IHBvaW50LnkpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gb3B0aW1pc2F0aW9uIDM6IHZlcnRpY2FsIGxpbmUgY2FzZVxuICAgICAgICBpZiAoKGlMaW5lLm8ueCA9PT0gaUxpbmUuZC54KSAmJiAoaUxpbmUuby54ID49IHBvaW50LngpKSB7XG4gICAgICAgICAgeGkgPSBpTGluZS5vLng7XG4gICAgICAgICAgLy8geWkgPSBwb2ludC55O1xuICAgICAgICB9XG4gICAgICAgIC8vIGNhbGN1bGF0ZSB0aGUgaW50ZXJzZWN0aW9uIHBvaW50XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGIxID0gMDtcbiAgICAgICAgICBiMiA9IChpTGluZS5kLnkgLSBpTGluZS5vLnkpIC8gKGlMaW5lLmQueCAtIGlMaW5lLm8ueCk7XG4gICAgICAgICAgYTEgPSBwb2ludC55IC0gYjEgKiBwb2ludC54O1xuICAgICAgICAgIGEyID0gaUxpbmUuby55IC0gYjIgKiBpTGluZS5vLng7XG5cbiAgICAgICAgICB4aSA9IC0oYTEgLSBhMikgLyAoYjEgLSBiMik7XG4gICAgICAgICAgLy8geWkgPSBhMSArIGIxICogeGk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZG9udCBjb3VudCB4aSA8IHBvaW50LnggY2FzZXNcbiAgICAgICAgaWYgKHhpID49IHBvaW50LngpIHtcbiAgICAgICAgICB4Y291bnQgKz0gMTtcbiAgICAgICAgfVxuICAgICAgICAvLyBvcHRpbWlzYXRpb24gNDogc3BlY2lmaWMgZm9yIHNxdWFyZSBpbWFnZXNcbiAgICAgICAgaWYgKHhjb3VudCA9PT0gMikge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4geGNvdW50O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGNvb3JkaW5hdGVzIG9mIG9iamVjdCdzIGJvdW5kaW5nIHJlY3RhbmdsZSAobGVmdCwgdG9wLCB3aWR0aCwgaGVpZ2h0KVxuICAgICAqIHRoZSBib3ggaXMgaW50ZW5kZWQgYXMgYWxpZ25lZCB0byBheGlzIG9mIGNhbnZhcy5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFthYnNvbHV0ZV0gdXNlIGNvb3JkaW5hdGVzIHdpdGhvdXQgdmlld3BvcnRUcmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjYWxjdWxhdGVdIHVzZSBjb29yZGluYXRlcyBvZiBjdXJyZW50IHBvc2l0aW9uIGluc3RlYWQgb2YgLm9Db29yZHMgLyAuYUNvb3Jkc1xuICAgICAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IHdpdGggbGVmdCwgdG9wLCB3aWR0aCwgaGVpZ2h0IHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICBnZXRCb3VuZGluZ1JlY3Q6IGZ1bmN0aW9uKGFic29sdXRlLCBjYWxjdWxhdGUpIHtcbiAgICAgIHZhciBjb29yZHMgPSB0aGlzLmdldENvb3JkcyhhYnNvbHV0ZSwgY2FsY3VsYXRlKTtcbiAgICAgIHJldHVybiB1dGlsLm1ha2VCb3VuZGluZ0JveEZyb21Qb2ludHMoY29vcmRzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB3aWR0aCBvZiBhbiBvYmplY3QncyBib3VuZGluZyBib3ggY291bnRpbmcgdHJhbnNmb3JtYXRpb25zXG4gICAgICogYmVmb3JlIDIuMCBpdCB3YXMgbmFtZWQgZ2V0V2lkdGgoKTtcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IHdpZHRoIHZhbHVlXG4gICAgICovXG4gICAgZ2V0U2NhbGVkV2lkdGg6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2dldFRyYW5zZm9ybWVkRGltZW5zaW9ucygpLng7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgaGVpZ2h0IG9mIGFuIG9iamVjdCBib3VuZGluZyBib3ggY291bnRpbmcgdHJhbnNmb3JtYXRpb25zXG4gICAgICogYmVmb3JlIDIuMCBpdCB3YXMgbmFtZWQgZ2V0SGVpZ2h0KCk7XG4gICAgICogQHJldHVybiB7TnVtYmVyfSBoZWlnaHQgdmFsdWVcbiAgICAgKi9cbiAgICBnZXRTY2FsZWRIZWlnaHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2dldFRyYW5zZm9ybWVkRGltZW5zaW9ucygpLnk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1ha2VzIHN1cmUgdGhlIHNjYWxlIGlzIHZhbGlkIGFuZCBtb2RpZmllcyBpdCBpZiBuZWNlc3NhcnlcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB2YWx1ZVxuICAgICAqIEByZXR1cm4ge051bWJlcn1cbiAgICAgKi9cbiAgICBfY29uc3RyYWluU2NhbGU6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAoTWF0aC5hYnModmFsdWUpIDwgdGhpcy5taW5TY2FsZUxpbWl0KSB7XG4gICAgICAgIGlmICh2YWx1ZSA8IDApIHtcbiAgICAgICAgICByZXR1cm4gLXRoaXMubWluU2NhbGVMaW1pdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5taW5TY2FsZUxpbWl0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIGlmICh2YWx1ZSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gMC4wMDAxO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTY2FsZXMgYW4gb2JqZWN0IChlcXVhbGx5IGJ5IHggYW5kIHkpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHZhbHVlIFNjYWxlIGZhY3RvclxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgc2NhbGU6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICB0aGlzLl9zZXQoJ3NjYWxlWCcsIHZhbHVlKTtcbiAgICAgIHRoaXMuX3NldCgnc2NhbGVZJywgdmFsdWUpO1xuICAgICAgcmV0dXJuIHRoaXMuc2V0Q29vcmRzKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNjYWxlcyBhbiBvYmplY3QgdG8gYSBnaXZlbiB3aWR0aCwgd2l0aCByZXNwZWN0IHRvIGJvdW5kaW5nIGJveCAoc2NhbGluZyBieSB4L3kgZXF1YWxseSlcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdmFsdWUgTmV3IHdpZHRoIHZhbHVlXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBhYnNvbHV0ZSBpZ25vcmUgdmlld3BvcnRcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHNjYWxlVG9XaWR0aDogZnVuY3Rpb24odmFsdWUsIGFic29sdXRlKSB7XG4gICAgICAvLyBhZGp1c3QgdG8gYm91bmRpbmcgcmVjdCBmYWN0b3Igc28gdGhhdCByb3RhdGVkIHNoYXBlcyB3b3VsZCBmaXQgYXMgd2VsbFxuICAgICAgdmFyIGJvdW5kaW5nUmVjdEZhY3RvciA9IHRoaXMuZ2V0Qm91bmRpbmdSZWN0KGFic29sdXRlKS53aWR0aCAvIHRoaXMuZ2V0U2NhbGVkV2lkdGgoKTtcbiAgICAgIHJldHVybiB0aGlzLnNjYWxlKHZhbHVlIC8gdGhpcy53aWR0aCAvIGJvdW5kaW5nUmVjdEZhY3Rvcik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNjYWxlcyBhbiBvYmplY3QgdG8gYSBnaXZlbiBoZWlnaHQsIHdpdGggcmVzcGVjdCB0byBib3VuZGluZyBib3ggKHNjYWxpbmcgYnkgeC95IGVxdWFsbHkpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHZhbHVlIE5ldyBoZWlnaHQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGFic29sdXRlIGlnbm9yZSB2aWV3cG9ydFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgc2NhbGVUb0hlaWdodDogZnVuY3Rpb24odmFsdWUsIGFic29sdXRlKSB7XG4gICAgICAvLyBhZGp1c3QgdG8gYm91bmRpbmcgcmVjdCBmYWN0b3Igc28gdGhhdCByb3RhdGVkIHNoYXBlcyB3b3VsZCBmaXQgYXMgd2VsbFxuICAgICAgdmFyIGJvdW5kaW5nUmVjdEZhY3RvciA9IHRoaXMuZ2V0Qm91bmRpbmdSZWN0KGFic29sdXRlKS5oZWlnaHQgLyB0aGlzLmdldFNjYWxlZEhlaWdodCgpO1xuICAgICAgcmV0dXJuIHRoaXMuc2NhbGUodmFsdWUgLyB0aGlzLmhlaWdodCAvIGJvdW5kaW5nUmVjdEZhY3Rvcik7XG4gICAgfSxcblxuICAgIGNhbGNMaW5lQ29vcmRzOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciB2cHQgPSB0aGlzLmdldFZpZXdwb3J0VHJhbnNmb3JtKCksXG4gICAgICAgICAgcGFkZGluZyA9IHRoaXMucGFkZGluZywgYW5nbGUgPSBkZWdyZWVzVG9SYWRpYW5zKHRoaXMuYW5nbGUpLFxuICAgICAgICAgIGNvcyA9IHV0aWwuY29zKGFuZ2xlKSwgc2luID0gdXRpbC5zaW4oYW5nbGUpLFxuICAgICAgICAgIGNvc1AgPSBjb3MgKiBwYWRkaW5nLCBzaW5QID0gc2luICogcGFkZGluZywgY29zUFNpblAgPSBjb3NQICsgc2luUCxcbiAgICAgICAgICBjb3NQTWludXNTaW5QID0gY29zUCAtIHNpblAsIGFDb29yZHMgPSB0aGlzLmNhbGNBQ29vcmRzKCk7XG5cbiAgICAgIHZhciBsaW5lQ29vcmRzID0ge1xuICAgICAgICB0bDogdHJhbnNmb3JtUG9pbnQoYUNvb3Jkcy50bCwgdnB0KSxcbiAgICAgICAgdHI6IHRyYW5zZm9ybVBvaW50KGFDb29yZHMudHIsIHZwdCksXG4gICAgICAgIGJsOiB0cmFuc2Zvcm1Qb2ludChhQ29vcmRzLmJsLCB2cHQpLFxuICAgICAgICBicjogdHJhbnNmb3JtUG9pbnQoYUNvb3Jkcy5iciwgdnB0KSxcbiAgICAgIH07XG5cbiAgICAgIGlmIChwYWRkaW5nKSB7XG4gICAgICAgIGxpbmVDb29yZHMudGwueCAtPSBjb3NQTWludXNTaW5QO1xuICAgICAgICBsaW5lQ29vcmRzLnRsLnkgLT0gY29zUFNpblA7XG4gICAgICAgIGxpbmVDb29yZHMudHIueCArPSBjb3NQU2luUDtcbiAgICAgICAgbGluZUNvb3Jkcy50ci55IC09IGNvc1BNaW51c1NpblA7XG4gICAgICAgIGxpbmVDb29yZHMuYmwueCAtPSBjb3NQU2luUDtcbiAgICAgICAgbGluZUNvb3Jkcy5ibC55ICs9IGNvc1BNaW51c1NpblA7XG4gICAgICAgIGxpbmVDb29yZHMuYnIueCArPSBjb3NQTWludXNTaW5QO1xuICAgICAgICBsaW5lQ29vcmRzLmJyLnkgKz0gY29zUFNpblA7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBsaW5lQ29vcmRzO1xuICAgIH0sXG5cbiAgICBjYWxjT0Nvb3JkczogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcm90YXRlTWF0cml4ID0gdGhpcy5fY2FsY1JvdGF0ZU1hdHJpeCgpLFxuICAgICAgICAgIHRyYW5zbGF0ZU1hdHJpeCA9IHRoaXMuX2NhbGNUcmFuc2xhdGVNYXRyaXgoKSxcbiAgICAgICAgICB2cHQgPSB0aGlzLmdldFZpZXdwb3J0VHJhbnNmb3JtKCksXG4gICAgICAgICAgc3RhcnRNYXRyaXggPSBtdWx0aXBseU1hdHJpY2VzKHZwdCwgdHJhbnNsYXRlTWF0cml4KSxcbiAgICAgICAgICBmaW5hbE1hdHJpeCA9IG11bHRpcGx5TWF0cmljZXMoc3RhcnRNYXRyaXgsIHJvdGF0ZU1hdHJpeCksXG4gICAgICAgICAgZmluYWxNYXRyaXggPSBtdWx0aXBseU1hdHJpY2VzKGZpbmFsTWF0cml4LCBbMSAvIHZwdFswXSwgMCwgMCwgMSAvIHZwdFszXSwgMCwgMF0pLFxuICAgICAgICAgIGRpbSA9IHRoaXMuX2NhbGN1bGF0ZUN1cnJlbnREaW1lbnNpb25zKCksXG4gICAgICAgICAgY29vcmRzID0ge307XG4gICAgICB0aGlzLmZvckVhY2hDb250cm9sKGZ1bmN0aW9uKGNvbnRyb2wsIGtleSwgZmFicmljT2JqZWN0KSB7XG4gICAgICAgIGNvb3Jkc1trZXldID0gY29udHJvbC5wb3NpdGlvbkhhbmRsZXIoZGltLCBmaW5hbE1hdHJpeCwgZmFicmljT2JqZWN0KTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBkZWJ1ZyBjb2RlXG4gICAgICAvLyB2YXIgY2FudmFzID0gdGhpcy5jYW52YXM7XG4gICAgICAvLyBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgLy8gICBjYW52YXMuY29udGV4dFRvcC5jbGVhclJlY3QoMCwgMCwgNzAwLCA3MDApO1xuICAgICAgLy8gICBjYW52YXMuY29udGV4dFRvcC5maWxsU3R5bGUgPSAnZ3JlZW4nO1xuICAgICAgLy8gICBPYmplY3Qua2V5cyhjb29yZHMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAvLyAgICAgdmFyIGNvbnRyb2wgPSBjb29yZHNba2V5XTtcbiAgICAgIC8vICAgICBjYW52YXMuY29udGV4dFRvcC5maWxsUmVjdChjb250cm9sLngsIGNvbnRyb2wueSwgMywgMyk7XG4gICAgICAvLyAgIH0pO1xuICAgICAgLy8gfSwgNTApO1xuICAgICAgcmV0dXJuIGNvb3JkcztcbiAgICB9LFxuXG4gICAgY2FsY0FDb29yZHM6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHJvdGF0ZU1hdHJpeCA9IHRoaXMuX2NhbGNSb3RhdGVNYXRyaXgoKSxcbiAgICAgICAgICB0cmFuc2xhdGVNYXRyaXggPSB0aGlzLl9jYWxjVHJhbnNsYXRlTWF0cml4KCksXG4gICAgICAgICAgZmluYWxNYXRyaXggPSBtdWx0aXBseU1hdHJpY2VzKHRyYW5zbGF0ZU1hdHJpeCwgcm90YXRlTWF0cml4KSxcbiAgICAgICAgICBkaW0gPSB0aGlzLl9nZXRUcmFuc2Zvcm1lZERpbWVuc2lvbnMoKSxcbiAgICAgICAgICB3ID0gZGltLnggLyAyLCBoID0gZGltLnkgLyAyO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLy8gY29ybmVyc1xuICAgICAgICB0bDogdHJhbnNmb3JtUG9pbnQoeyB4OiAtdywgeTogLWggfSwgZmluYWxNYXRyaXgpLFxuICAgICAgICB0cjogdHJhbnNmb3JtUG9pbnQoeyB4OiB3LCB5OiAtaCB9LCBmaW5hbE1hdHJpeCksXG4gICAgICAgIGJsOiB0cmFuc2Zvcm1Qb2ludCh7IHg6IC13LCB5OiBoIH0sIGZpbmFsTWF0cml4KSxcbiAgICAgICAgYnI6IHRyYW5zZm9ybVBvaW50KHsgeDogdywgeTogaCB9LCBmaW5hbE1hdHJpeClcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgY29ybmVyIGFuZCBjb250cm9scyBwb3NpdGlvbiBjb29yZGluYXRlcyBiYXNlZCBvbiBjdXJyZW50IGFuZ2xlLCB3aWR0aCBhbmQgaGVpZ2h0LCBsZWZ0IGFuZCB0b3AuXG4gICAgICogb0Nvb3JkcyBhcmUgdXNlZCB0byBmaW5kIHRoZSBjb3JuZXJzXG4gICAgICogYUNvb3JkcyBhcmUgdXNlZCB0byBxdWlja2x5IGZpbmQgYW4gb2JqZWN0IG9uIHRoZSBjYW52YXNcbiAgICAgKiBsaW5lQ29vcmRzIGFyZSB1c2VkIHRvIHF1aWNrbHkgZmluZCBvYmplY3QgZHVyaW5nIHBvaW50ZXIgZXZlbnRzLlxuICAgICAqIFNlZSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2ZhYnJpY2pzL2ZhYnJpYy5qcy93aWtpL1doZW4tdG8tY2FsbC1zZXRDb29yZHN9IGFuZCB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9mYWJyaWMtZ290Y2hhc31cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3NraXBDb3JuZXJzXSBza2lwIGNhbGN1bGF0aW9uIG9mIG9Db29yZHMuXG4gICAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzZXRDb29yZHM6IGZ1bmN0aW9uKHNraXBDb3JuZXJzKSB7XG4gICAgICB0aGlzLmFDb29yZHMgPSB0aGlzLmNhbGNBQ29vcmRzKCk7XG4gICAgICAvLyBpbiBjYXNlIHdlIGFyZSBpbiBhIGdyb3VwLCBmb3IgaG93IHRoZSBpbm5lciBncm91cCB0YXJnZXQgY2hlY2sgd29ya3MsXG4gICAgICAvLyBsaW5lQ29vcmRzIGFyZSBleGFjdGx5IGFDb29yZHMuIFNpbmNlIHRoZSB2cHQgZ2V0cyBhYnNvcmJlZCBieSB0aGUgbm9ybWFsaXplZCBwb2ludGVyLlxuICAgICAgdGhpcy5saW5lQ29vcmRzID0gdGhpcy5ncm91cCA/IHRoaXMuYUNvb3JkcyA6IHRoaXMuY2FsY0xpbmVDb29yZHMoKTtcbiAgICAgIGlmIChza2lwQ29ybmVycykge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIC8vIHNldCBjb29yZGluYXRlcyBvZiB0aGUgZHJhZ2dhYmxlIGJveGVzIGluIHRoZSBjb3JuZXJzIHVzZWQgdG8gc2NhbGUvcm90YXRlIHRoZSBpbWFnZVxuICAgICAgdGhpcy5vQ29vcmRzID0gdGhpcy5jYWxjT0Nvb3JkcygpO1xuICAgICAgdGhpcy5fc2V0Q29ybmVyQ29vcmRzICYmIHRoaXMuX3NldENvcm5lckNvb3JkcygpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGNhbGN1bGF0ZSByb3RhdGlvbiBtYXRyaXggb2YgYW4gb2JqZWN0XG4gICAgICogQHJldHVybiB7QXJyYXl9IHJvdGF0aW9uIG1hdHJpeCBmb3IgdGhlIG9iamVjdFxuICAgICAqL1xuICAgIF9jYWxjUm90YXRlTWF0cml4OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB1dGlsLmNhbGNSb3RhdGVNYXRyaXgodGhpcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGNhbGN1bGF0ZSB0aGUgdHJhbnNsYXRpb24gbWF0cml4IGZvciBhbiBvYmplY3QgdHJhbnNmb3JtXG4gICAgICogQHJldHVybiB7QXJyYXl9IHJvdGF0aW9uIG1hdHJpeCBmb3IgdGhlIG9iamVjdFxuICAgICAqL1xuICAgIF9jYWxjVHJhbnNsYXRlTWF0cml4OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjZW50ZXIgPSB0aGlzLmdldENlbnRlclBvaW50KCk7XG4gICAgICByZXR1cm4gWzEsIDAsIDAsIDEsIGNlbnRlci54LCBjZW50ZXIueV07XG4gICAgfSxcblxuICAgIHRyYW5zZm9ybU1hdHJpeEtleTogZnVuY3Rpb24oc2tpcEdyb3VwKSB7XG4gICAgICB2YXIgc2VwID0gJ18nLCBwcmVmaXggPSAnJztcbiAgICAgIGlmICghc2tpcEdyb3VwICYmIHRoaXMuZ3JvdXApIHtcbiAgICAgICAgcHJlZml4ID0gdGhpcy5ncm91cC50cmFuc2Zvcm1NYXRyaXhLZXkoc2tpcEdyb3VwKSArIHNlcDtcbiAgICAgIH07XG4gICAgICByZXR1cm4gcHJlZml4ICsgdGhpcy50b3AgKyBzZXAgKyB0aGlzLmxlZnQgKyBzZXAgKyB0aGlzLnNjYWxlWCArIHNlcCArIHRoaXMuc2NhbGVZICtcbiAgICAgICAgc2VwICsgdGhpcy5za2V3WCArIHNlcCArIHRoaXMuc2tld1kgKyBzZXAgKyB0aGlzLmFuZ2xlICsgc2VwICsgdGhpcy5vcmlnaW5YICsgc2VwICsgdGhpcy5vcmlnaW5ZICtcbiAgICAgICAgc2VwICsgdGhpcy53aWR0aCArIHNlcCArIHRoaXMuaGVpZ2h0ICsgc2VwICsgdGhpcy5zdHJva2VXaWR0aCArIHRoaXMuZmxpcFggKyB0aGlzLmZsaXBZO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBjYWxjdWxhdGUgdHJhbnNmb3JtIG1hdHJpeCB0aGF0IHJlcHJlc2VudHMgdGhlIGN1cnJlbnQgdHJhbnNmb3JtYXRpb25zIGZyb20gdGhlXG4gICAgICogb2JqZWN0J3MgcHJvcGVydGllcy5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtza2lwR3JvdXBdIHJldHVybiB0cmFuc2Zvcm0gbWF0cml4IGZvciBvYmplY3Qgbm90IGNvdW50aW5nIHBhcmVudCB0cmFuc2Zvcm1hdGlvbnNcbiAgICAgKiBUaGVyZSBhcmUgc29tZSBzaXR1YXRpb24gaW4gd2hpY2ggdGhpcyBpcyB1c2VmdWwgdG8gYXZvaWQgdGhlIGZha2Ugcm90YXRpb24uXG4gICAgICogQHJldHVybiB7QXJyYXl9IHRyYW5zZm9ybSBtYXRyaXggZm9yIHRoZSBvYmplY3RcbiAgICAgKi9cbiAgICBjYWxjVHJhbnNmb3JtTWF0cml4OiBmdW5jdGlvbihza2lwR3JvdXApIHtcbiAgICAgIHZhciBtYXRyaXggPSB0aGlzLmNhbGNPd25NYXRyaXgoKTtcbiAgICAgIGlmIChza2lwR3JvdXAgfHwgIXRoaXMuZ3JvdXApIHtcbiAgICAgICAgcmV0dXJuIG1hdHJpeDtcbiAgICAgIH1cbiAgICAgIHZhciBrZXkgPSB0aGlzLnRyYW5zZm9ybU1hdHJpeEtleShza2lwR3JvdXApLCBjYWNoZSA9IHRoaXMubWF0cml4Q2FjaGUgfHwgKHRoaXMubWF0cml4Q2FjaGUgPSB7fSk7XG4gICAgICBpZiAoY2FjaGUua2V5ID09PSBrZXkpIHtcbiAgICAgICAgcmV0dXJuIGNhY2hlLnZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuZ3JvdXApIHtcbiAgICAgICAgbWF0cml4ID0gbXVsdGlwbHlNYXRyaWNlcyh0aGlzLmdyb3VwLmNhbGNUcmFuc2Zvcm1NYXRyaXgoZmFsc2UpLCBtYXRyaXgpO1xuICAgICAgfVxuICAgICAgY2FjaGUua2V5ID0ga2V5O1xuICAgICAgY2FjaGUudmFsdWUgPSBtYXRyaXg7XG4gICAgICByZXR1cm4gbWF0cml4O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBjYWxjdWxhdGUgdHJhbnNmb3JtIG1hdHJpeCB0aGF0IHJlcHJlc2VudHMgdGhlIGN1cnJlbnQgdHJhbnNmb3JtYXRpb25zIGZyb20gdGhlXG4gICAgICogb2JqZWN0J3MgcHJvcGVydGllcywgdGhpcyBtYXRyaXggZG9lcyBub3QgaW5jbHVkZSB0aGUgZ3JvdXAgdHJhbnNmb3JtYXRpb25cbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gdHJhbnNmb3JtIG1hdHJpeCBmb3IgdGhlIG9iamVjdFxuICAgICAqL1xuICAgIGNhbGNPd25NYXRyaXg6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGtleSA9IHRoaXMudHJhbnNmb3JtTWF0cml4S2V5KHRydWUpLCBjYWNoZSA9IHRoaXMub3duTWF0cml4Q2FjaGUgfHwgKHRoaXMub3duTWF0cml4Q2FjaGUgPSB7fSk7XG4gICAgICBpZiAoY2FjaGUua2V5ID09PSBrZXkpIHtcbiAgICAgICAgcmV0dXJuIGNhY2hlLnZhbHVlO1xuICAgICAgfVxuICAgICAgdmFyIHRNYXRyaXggPSB0aGlzLl9jYWxjVHJhbnNsYXRlTWF0cml4KCksXG4gICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGFuZ2xlOiB0aGlzLmFuZ2xlLFxuICAgICAgICAgICAgdHJhbnNsYXRlWDogdE1hdHJpeFs0XSxcbiAgICAgICAgICAgIHRyYW5zbGF0ZVk6IHRNYXRyaXhbNV0sXG4gICAgICAgICAgICBzY2FsZVg6IHRoaXMuc2NhbGVYLFxuICAgICAgICAgICAgc2NhbGVZOiB0aGlzLnNjYWxlWSxcbiAgICAgICAgICAgIHNrZXdYOiB0aGlzLnNrZXdYLFxuICAgICAgICAgICAgc2tld1k6IHRoaXMuc2tld1ksXG4gICAgICAgICAgICBmbGlwWDogdGhpcy5mbGlwWCxcbiAgICAgICAgICAgIGZsaXBZOiB0aGlzLmZsaXBZLFxuICAgICAgICAgIH07XG4gICAgICBjYWNoZS5rZXkgPSBrZXk7XG4gICAgICBjYWNoZS52YWx1ZSA9IHV0aWwuY29tcG9zZU1hdHJpeChvcHRpb25zKTtcbiAgICAgIHJldHVybiBjYWNoZS52YWx1ZTtcbiAgICB9LFxuXG4gICAgLypcbiAgICAgKiBDYWxjdWxhdGUgb2JqZWN0IGRpbWVuc2lvbnMgZnJvbSBpdHMgcHJvcGVydGllc1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7T2JqZWN0fSAueCB3aWR0aCBkaW1lbnNpb25cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IC55IGhlaWdodCBkaW1lbnNpb25cbiAgICAgKi9cbiAgICBfZ2V0Tm9uVHJhbnNmb3JtZWREaW1lbnNpb25zOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzdHJva2VXaWR0aCA9IHRoaXMuc3Ryb2tlV2lkdGgsXG4gICAgICAgICAgdyA9IHRoaXMud2lkdGggKyBzdHJva2VXaWR0aCxcbiAgICAgICAgICBoID0gdGhpcy5oZWlnaHQgKyBzdHJva2VXaWR0aDtcbiAgICAgIHJldHVybiB7IHg6IHcsIHk6IGggfTtcbiAgICB9LFxuXG4gICAgLypcbiAgICAgKiBDYWxjdWxhdGUgb2JqZWN0IGJvdW5kaW5nIGJveCBkaW1lbnNpb25zIGZyb20gaXRzIHByb3BlcnRpZXMgc2NhbGUsIHNrZXcuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNrZXdYLCBhIHZhbHVlIHRvIG92ZXJyaWRlIGN1cnJlbnQgc2tld1hcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc2tld1ksIGEgdmFsdWUgdG8gb3ZlcnJpZGUgY3VycmVudCBza2V3WVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7T2JqZWN0fSAueCB3aWR0aCBkaW1lbnNpb25cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IC55IGhlaWdodCBkaW1lbnNpb25cbiAgICAgKi9cbiAgICBfZ2V0VHJhbnNmb3JtZWREaW1lbnNpb25zOiBmdW5jdGlvbihza2V3WCwgc2tld1kpIHtcbiAgICAgIGlmICh0eXBlb2Ygc2tld1ggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHNrZXdYID0gdGhpcy5za2V3WDtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2Ygc2tld1kgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHNrZXdZID0gdGhpcy5za2V3WTtcbiAgICAgIH1cbiAgICAgIHZhciBkaW1lbnNpb25zLCBkaW1YLCBkaW1ZLFxuICAgICAgICAgIG5vU2tldyA9IHNrZXdYID09PSAwICYmIHNrZXdZID09PSAwO1xuXG4gICAgICBpZiAodGhpcy5zdHJva2VVbmlmb3JtKSB7XG4gICAgICAgIGRpbVggPSB0aGlzLndpZHRoO1xuICAgICAgICBkaW1ZID0gdGhpcy5oZWlnaHQ7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgZGltZW5zaW9ucyA9IHRoaXMuX2dldE5vblRyYW5zZm9ybWVkRGltZW5zaW9ucygpO1xuICAgICAgICBkaW1YID0gZGltZW5zaW9ucy54O1xuICAgICAgICBkaW1ZID0gZGltZW5zaW9ucy55O1xuICAgICAgfVxuICAgICAgaWYgKG5vU2tldykge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmluYWxpemVEaW1lbnNpb25zKGRpbVggKiB0aGlzLnNjYWxlWCwgZGltWSAqIHRoaXMuc2NhbGVZKTtcbiAgICAgIH1cbiAgICAgIHZhciBiYm94ID0gdXRpbC5zaXplQWZ0ZXJUcmFuc2Zvcm0oZGltWCwgZGltWSwge1xuICAgICAgICBzY2FsZVg6IHRoaXMuc2NhbGVYLFxuICAgICAgICBzY2FsZVk6IHRoaXMuc2NhbGVZLFxuICAgICAgICBza2V3WDogc2tld1gsXG4gICAgICAgIHNrZXdZOiBza2V3WSxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRoaXMuX2ZpbmFsaXplRGltZW5zaW9ucyhiYm94LngsIGJib3gueSk7XG4gICAgfSxcblxuICAgIC8qXG4gICAgICogQ2FsY3VsYXRlIG9iamVjdCBib3VuZGluZyBib3ggZGltZW5zaW9ucyBmcm9tIGl0cyBwcm9wZXJ0aWVzIHNjYWxlLCBza2V3LlxuICAgICAqIEBwYXJhbSBOdW1iZXIgd2lkdGggd2lkdGggb2YgdGhlIGJib3hcbiAgICAgKiBAcGFyYW0gTnVtYmVyIGhlaWdodCBoZWlnaHQgb2YgdGhlIGJib3hcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge09iamVjdH0gLnggZmluYWxpemVkIHdpZHRoIGRpbWVuc2lvblxuICAgICAqIEByZXR1cm4ge09iamVjdH0gLnkgZmluYWxpemVkIGhlaWdodCBkaW1lbnNpb25cbiAgICAgKi9cbiAgICBfZmluYWxpemVEaW1lbnNpb25zOiBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICByZXR1cm4gdGhpcy5zdHJva2VVbmlmb3JtID9cbiAgICAgICAgeyB4OiB3aWR0aCArIHRoaXMuc3Ryb2tlV2lkdGgsIHk6IGhlaWdodCArIHRoaXMuc3Ryb2tlV2lkdGggfVxuICAgICAgICA6XG4gICAgICAgIHsgeDogd2lkdGgsIHk6IGhlaWdodCB9O1xuICAgIH0sXG5cbiAgICAvKlxuICAgICAqIENhbGN1bGF0ZSBvYmplY3QgZGltZW5zaW9ucyBmb3IgY29udHJvbHMgYm94LCBpbmNsdWRpbmcgcGFkZGluZyBhbmQgY2FudmFzIHpvb20uXG4gICAgICogYW5kIGFjdGl2ZSBzZWxlY3Rpb25cbiAgICAgKiBwcml2YXRlXG4gICAgICovXG4gICAgX2NhbGN1bGF0ZUN1cnJlbnREaW1lbnNpb25zOiBmdW5jdGlvbigpICB7XG4gICAgICB2YXIgdnB0ID0gdGhpcy5nZXRWaWV3cG9ydFRyYW5zZm9ybSgpLFxuICAgICAgICAgIGRpbSA9IHRoaXMuX2dldFRyYW5zZm9ybWVkRGltZW5zaW9ucygpLFxuICAgICAgICAgIHAgPSB0cmFuc2Zvcm1Qb2ludChkaW0sIHZwdCwgdHJ1ZSk7XG4gICAgICByZXR1cm4gcC5zY2FsYXJBZGQoMiAqIHRoaXMucGFkZGluZyk7XG4gICAgfSxcbiAgfSk7XG59KSgpO1xuXG5cbmZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQoZmFicmljLk9iamVjdC5wcm90b3R5cGUsIC8qKiBAbGVuZHMgZmFicmljLk9iamVjdC5wcm90b3R5cGUgKi8ge1xuXG4gIC8qKlxuICAgKiBNb3ZlcyBhbiBvYmplY3QgdG8gdGhlIGJvdHRvbSBvZiB0aGUgc3RhY2sgb2YgZHJhd24gb2JqZWN0c1xuICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAqIEBjaGFpbmFibGVcbiAgICovXG4gIHNlbmRUb0JhY2s6IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLmdyb3VwKSB7XG4gICAgICBmYWJyaWMuU3RhdGljQ2FudmFzLnByb3RvdHlwZS5zZW5kVG9CYWNrLmNhbGwodGhpcy5ncm91cCwgdGhpcyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHRoaXMuY2FudmFzKSB7XG4gICAgICB0aGlzLmNhbnZhcy5zZW5kVG9CYWNrKHRoaXMpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvKipcbiAgICogTW92ZXMgYW4gb2JqZWN0IHRvIHRoZSB0b3Agb2YgdGhlIHN0YWNrIG9mIGRyYXduIG9iamVjdHNcbiAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgKiBAY2hhaW5hYmxlXG4gICAqL1xuICBicmluZ1RvRnJvbnQ6IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLmdyb3VwKSB7XG4gICAgICBmYWJyaWMuU3RhdGljQ2FudmFzLnByb3RvdHlwZS5icmluZ1RvRnJvbnQuY2FsbCh0aGlzLmdyb3VwLCB0aGlzKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodGhpcy5jYW52YXMpIHtcbiAgICAgIHRoaXMuY2FudmFzLmJyaW5nVG9Gcm9udCh0aGlzKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIE1vdmVzIGFuIG9iamVjdCBkb3duIGluIHN0YWNrIG9mIGRyYXduIG9iamVjdHNcbiAgICogQHBhcmFtIHtCb29sZWFufSBbaW50ZXJzZWN0aW5nXSBJZiBgdHJ1ZWAsIHNlbmQgb2JqZWN0IGJlaGluZCBuZXh0IGxvd2VyIGludGVyc2VjdGluZyBvYmplY3RcbiAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgKiBAY2hhaW5hYmxlXG4gICAqL1xuICBzZW5kQmFja3dhcmRzOiBmdW5jdGlvbihpbnRlcnNlY3RpbmcpIHtcbiAgICBpZiAodGhpcy5ncm91cCkge1xuICAgICAgZmFicmljLlN0YXRpY0NhbnZhcy5wcm90b3R5cGUuc2VuZEJhY2t3YXJkcy5jYWxsKHRoaXMuZ3JvdXAsIHRoaXMsIGludGVyc2VjdGluZyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHRoaXMuY2FudmFzKSB7XG4gICAgICB0aGlzLmNhbnZhcy5zZW5kQmFja3dhcmRzKHRoaXMsIGludGVyc2VjdGluZyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBNb3ZlcyBhbiBvYmplY3QgdXAgaW4gc3RhY2sgb2YgZHJhd24gb2JqZWN0c1xuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtpbnRlcnNlY3RpbmddIElmIGB0cnVlYCwgc2VuZCBvYmplY3QgaW4gZnJvbnQgb2YgbmV4dCB1cHBlciBpbnRlcnNlY3Rpbmcgb2JqZWN0XG4gICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IHRoaXNBcmdcbiAgICogQGNoYWluYWJsZVxuICAgKi9cbiAgYnJpbmdGb3J3YXJkOiBmdW5jdGlvbihpbnRlcnNlY3RpbmcpIHtcbiAgICBpZiAodGhpcy5ncm91cCkge1xuICAgICAgZmFicmljLlN0YXRpY0NhbnZhcy5wcm90b3R5cGUuYnJpbmdGb3J3YXJkLmNhbGwodGhpcy5ncm91cCwgdGhpcywgaW50ZXJzZWN0aW5nKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodGhpcy5jYW52YXMpIHtcbiAgICAgIHRoaXMuY2FudmFzLmJyaW5nRm9yd2FyZCh0aGlzLCBpbnRlcnNlY3RpbmcpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvKipcbiAgICogTW92ZXMgYW4gb2JqZWN0IHRvIHNwZWNpZmllZCBsZXZlbCBpbiBzdGFjayBvZiBkcmF3biBvYmplY3RzXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBpbmRleCBOZXcgcG9zaXRpb24gb2Ygb2JqZWN0XG4gICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IHRoaXNBcmdcbiAgICogQGNoYWluYWJsZVxuICAgKi9cbiAgbW92ZVRvOiBmdW5jdGlvbihpbmRleCkge1xuICAgIGlmICh0aGlzLmdyb3VwICYmIHRoaXMuZ3JvdXAudHlwZSAhPT0gJ2FjdGl2ZVNlbGVjdGlvbicpIHtcbiAgICAgIGZhYnJpYy5TdGF0aWNDYW52YXMucHJvdG90eXBlLm1vdmVUby5jYWxsKHRoaXMuZ3JvdXAsIHRoaXMsIGluZGV4KTtcbiAgICB9XG4gICAgZWxzZSBpZiAodGhpcy5jYW52YXMpIHtcbiAgICAgIHRoaXMuY2FudmFzLm1vdmVUbyh0aGlzLCBpbmRleCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG59KTtcblxuXG4vKiBfVE9fU1ZHX1NUQVJUXyAqL1xuKGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBnZXRTdmdDb2xvclN0cmluZyhwcm9wLCB2YWx1ZSkge1xuICAgIGlmICghdmFsdWUpIHtcbiAgICAgIHJldHVybiBwcm9wICsgJzogbm9uZTsgJztcbiAgICB9XG4gICAgZWxzZSBpZiAodmFsdWUudG9MaXZlKSB7XG4gICAgICByZXR1cm4gcHJvcCArICc6IHVybCgjU1ZHSURfJyArIHZhbHVlLmlkICsgJyk7ICc7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdmFyIGNvbG9yID0gbmV3IGZhYnJpYy5Db2xvcih2YWx1ZSksXG4gICAgICAgICAgc3RyID0gcHJvcCArICc6ICcgKyBjb2xvci50b1JnYigpICsgJzsgJyxcbiAgICAgICAgICBvcGFjaXR5ID0gY29sb3IuZ2V0QWxwaGEoKTtcbiAgICAgIGlmIChvcGFjaXR5ICE9PSAxKSB7XG4gICAgICAgIC8vY2hhbmdlIHRoZSBjb2xvciBpbiByZ2IgKyBvcGFjaXR5XG4gICAgICAgIHN0ciArPSBwcm9wICsgJy1vcGFjaXR5OiAnICsgb3BhY2l0eS50b1N0cmluZygpICsgJzsgJztcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICB9XG5cbiAgdmFyIHRvRml4ZWQgPSBmYWJyaWMudXRpbC50b0ZpeGVkO1xuXG4gIGZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQoZmFicmljLk9iamVjdC5wcm90b3R5cGUsIC8qKiBAbGVuZHMgZmFicmljLk9iamVjdC5wcm90b3R5cGUgKi8ge1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgc3R5bGVzLXN0cmluZyBmb3Igc3ZnLWV4cG9ydFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gc2tpcFNoYWRvdyBhIGJvb2xlYW4gdG8gc2tpcCBzaGFkb3cgZmlsdGVyIG91dHB1dFxuICAgICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICAgKi9cbiAgICBnZXRTdmdTdHlsZXM6IGZ1bmN0aW9uKHNraXBTaGFkb3cpIHtcblxuICAgICAgdmFyIGZpbGxSdWxlID0gdGhpcy5maWxsUnVsZSA/IHRoaXMuZmlsbFJ1bGUgOiAnbm9uemVybycsXG4gICAgICAgICAgc3Ryb2tlV2lkdGggPSB0aGlzLnN0cm9rZVdpZHRoID8gdGhpcy5zdHJva2VXaWR0aCA6ICcwJyxcbiAgICAgICAgICBzdHJva2VEYXNoQXJyYXkgPSB0aGlzLnN0cm9rZURhc2hBcnJheSA/IHRoaXMuc3Ryb2tlRGFzaEFycmF5LmpvaW4oJyAnKSA6ICdub25lJyxcbiAgICAgICAgICBzdHJva2VEYXNoT2Zmc2V0ID0gdGhpcy5zdHJva2VEYXNoT2Zmc2V0ID8gdGhpcy5zdHJva2VEYXNoT2Zmc2V0IDogJzAnLFxuICAgICAgICAgIHN0cm9rZUxpbmVDYXAgPSB0aGlzLnN0cm9rZUxpbmVDYXAgPyB0aGlzLnN0cm9rZUxpbmVDYXAgOiAnYnV0dCcsXG4gICAgICAgICAgc3Ryb2tlTGluZUpvaW4gPSB0aGlzLnN0cm9rZUxpbmVKb2luID8gdGhpcy5zdHJva2VMaW5lSm9pbiA6ICdtaXRlcicsXG4gICAgICAgICAgc3Ryb2tlTWl0ZXJMaW1pdCA9IHRoaXMuc3Ryb2tlTWl0ZXJMaW1pdCA/IHRoaXMuc3Ryb2tlTWl0ZXJMaW1pdCA6ICc0JyxcbiAgICAgICAgICBvcGFjaXR5ID0gdHlwZW9mIHRoaXMub3BhY2l0eSAhPT0gJ3VuZGVmaW5lZCcgPyB0aGlzLm9wYWNpdHkgOiAnMScsXG4gICAgICAgICAgdmlzaWJpbGl0eSA9IHRoaXMudmlzaWJsZSA/ICcnIDogJyB2aXNpYmlsaXR5OiBoaWRkZW47JyxcbiAgICAgICAgICBmaWx0ZXIgPSBza2lwU2hhZG93ID8gJycgOiB0aGlzLmdldFN2Z0ZpbHRlcigpLFxuICAgICAgICAgIGZpbGwgPSBnZXRTdmdDb2xvclN0cmluZygnZmlsbCcsIHRoaXMuZmlsbCksXG4gICAgICAgICAgc3Ryb2tlID0gZ2V0U3ZnQ29sb3JTdHJpbmcoJ3N0cm9rZScsIHRoaXMuc3Ryb2tlKTtcblxuICAgICAgcmV0dXJuIFtcbiAgICAgICAgc3Ryb2tlLFxuICAgICAgICAnc3Ryb2tlLXdpZHRoOiAnLCBzdHJva2VXaWR0aCwgJzsgJyxcbiAgICAgICAgJ3N0cm9rZS1kYXNoYXJyYXk6ICcsIHN0cm9rZURhc2hBcnJheSwgJzsgJyxcbiAgICAgICAgJ3N0cm9rZS1saW5lY2FwOiAnLCBzdHJva2VMaW5lQ2FwLCAnOyAnLFxuICAgICAgICAnc3Ryb2tlLWRhc2hvZmZzZXQ6ICcsIHN0cm9rZURhc2hPZmZzZXQsICc7ICcsXG4gICAgICAgICdzdHJva2UtbGluZWpvaW46ICcsIHN0cm9rZUxpbmVKb2luLCAnOyAnLFxuICAgICAgICAnc3Ryb2tlLW1pdGVybGltaXQ6ICcsIHN0cm9rZU1pdGVyTGltaXQsICc7ICcsXG4gICAgICAgIGZpbGwsXG4gICAgICAgICdmaWxsLXJ1bGU6ICcsIGZpbGxSdWxlLCAnOyAnLFxuICAgICAgICAnb3BhY2l0eTogJywgb3BhY2l0eSwgJzsnLFxuICAgICAgICBmaWx0ZXIsXG4gICAgICAgIHZpc2liaWxpdHlcbiAgICAgIF0uam9pbignJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgc3R5bGVzLXN0cmluZyBmb3Igc3ZnLWV4cG9ydFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdHlsZSB0aGUgb2JqZWN0IGZyb20gd2hpY2ggdG8gcmV0cmlldmUgc3R5bGUgcHJvcGVydGllc1xuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gdXNlV2hpdGVTcGFjZSBhIGJvb2xlYW4gdG8gaW5jbHVkZSBhbiBhZGRpdGlvbmFsIGF0dHJpYnV0ZSBpbiB0aGUgc3R5bGUuXG4gICAgICogQHJldHVybiB7U3RyaW5nfVxuICAgICAqL1xuICAgIGdldFN2Z1NwYW5TdHlsZXM6IGZ1bmN0aW9uKHN0eWxlLCB1c2VXaGl0ZVNwYWNlKSB7XG4gICAgICB2YXIgdGVybSA9ICc7ICc7XG4gICAgICB2YXIgZm9udEZhbWlseSA9IHN0eWxlLmZvbnRGYW1pbHkgP1xuICAgICAgICAnZm9udC1mYW1pbHk6ICcgKyAoKChzdHlsZS5mb250RmFtaWx5LmluZGV4T2YoJ1xcJycpID09PSAtMSAmJiBzdHlsZS5mb250RmFtaWx5LmluZGV4T2YoJ1wiJykgPT09IC0xKSA/XG4gICAgICAgICAgJ1xcJycgKyBzdHlsZS5mb250RmFtaWx5ICArICdcXCcnIDogc3R5bGUuZm9udEZhbWlseSkpICsgdGVybSA6ICcnO1xuICAgICAgdmFyIHN0cm9rZVdpZHRoID0gc3R5bGUuc3Ryb2tlV2lkdGggPyAnc3Ryb2tlLXdpZHRoOiAnICsgc3R5bGUuc3Ryb2tlV2lkdGggKyB0ZXJtIDogJycsXG4gICAgICAgICAgZm9udEZhbWlseSA9IGZvbnRGYW1pbHksXG4gICAgICAgICAgZm9udFNpemUgPSBzdHlsZS5mb250U2l6ZSA/ICdmb250LXNpemU6ICcgKyBzdHlsZS5mb250U2l6ZSArICdweCcgKyB0ZXJtIDogJycsXG4gICAgICAgICAgZm9udFN0eWxlID0gc3R5bGUuZm9udFN0eWxlID8gJ2ZvbnQtc3R5bGU6ICcgKyBzdHlsZS5mb250U3R5bGUgKyB0ZXJtIDogJycsXG4gICAgICAgICAgZm9udFdlaWdodCA9IHN0eWxlLmZvbnRXZWlnaHQgPyAnZm9udC13ZWlnaHQ6ICcgKyBzdHlsZS5mb250V2VpZ2h0ICsgdGVybSA6ICcnLFxuICAgICAgICAgIGZpbGwgPSBzdHlsZS5maWxsID8gZ2V0U3ZnQ29sb3JTdHJpbmcoJ2ZpbGwnLCBzdHlsZS5maWxsKSA6ICcnLFxuICAgICAgICAgIHN0cm9rZSA9IHN0eWxlLnN0cm9rZSA/IGdldFN2Z0NvbG9yU3RyaW5nKCdzdHJva2UnLCBzdHlsZS5zdHJva2UpIDogJycsXG4gICAgICAgICAgdGV4dERlY29yYXRpb24gPSB0aGlzLmdldFN2Z1RleHREZWNvcmF0aW9uKHN0eWxlKSxcbiAgICAgICAgICBkZWx0YVkgPSBzdHlsZS5kZWx0YVkgPyAnYmFzZWxpbmUtc2hpZnQ6ICcgKyAoLXN0eWxlLmRlbHRhWSkgKyAnOyAnIDogJyc7XG4gICAgICBpZiAodGV4dERlY29yYXRpb24pIHtcbiAgICAgICAgdGV4dERlY29yYXRpb24gPSAndGV4dC1kZWNvcmF0aW9uOiAnICsgdGV4dERlY29yYXRpb24gKyB0ZXJtO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gW1xuICAgICAgICBzdHJva2UsXG4gICAgICAgIHN0cm9rZVdpZHRoLFxuICAgICAgICBmb250RmFtaWx5LFxuICAgICAgICBmb250U2l6ZSxcbiAgICAgICAgZm9udFN0eWxlLFxuICAgICAgICBmb250V2VpZ2h0LFxuICAgICAgICB0ZXh0RGVjb3JhdGlvbixcbiAgICAgICAgZmlsbCxcbiAgICAgICAgZGVsdGFZLFxuICAgICAgICB1c2VXaGl0ZVNwYWNlID8gJ3doaXRlLXNwYWNlOiBwcmU7ICcgOiAnJ1xuICAgICAgXS5qb2luKCcnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0ZXh0LWRlY29yYXRpb24gcHJvcGVydHkgZm9yIHN2Zy1leHBvcnRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3R5bGUgdGhlIG9iamVjdCBmcm9tIHdoaWNoIHRvIHJldHJpZXZlIHN0eWxlIHByb3BlcnRpZXNcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAgICovXG4gICAgZ2V0U3ZnVGV4dERlY29yYXRpb246IGZ1bmN0aW9uKHN0eWxlKSB7XG4gICAgICByZXR1cm4gWydvdmVybGluZScsICd1bmRlcmxpbmUnLCAnbGluZS10aHJvdWdoJ10uZmlsdGVyKGZ1bmN0aW9uKGRlY29yYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHN0eWxlW2RlY29yYXRpb24ucmVwbGFjZSgnLScsICcnKV07XG4gICAgICB9KS5qb2luKCcgJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgZmlsdGVyIGZvciBzdmcgc2hhZG93XG4gICAgICogQHJldHVybiB7U3RyaW5nfVxuICAgICAqL1xuICAgIGdldFN2Z0ZpbHRlcjogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5zaGFkb3cgPyAnZmlsdGVyOiB1cmwoI1NWR0lEXycgKyB0aGlzLnNoYWRvdy5pZCArICcpOycgOiAnJztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBpZCBhdHRyaWJ1dGUgZm9yIHN2ZyBvdXRwdXRcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAgICovXG4gICAgZ2V0U3ZnQ29tbW9uczogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gW1xuICAgICAgICB0aGlzLmlkID8gJ2lkPVwiJyArIHRoaXMuaWQgKyAnXCIgJyA6ICcnLFxuICAgICAgICB0aGlzLmNsaXBQYXRoID8gJ2NsaXAtcGF0aD1cInVybCgjJyArIHRoaXMuY2xpcFBhdGguY2xpcFBhdGhJZCArICcpXCIgJyA6ICcnLFxuICAgICAgXS5qb2luKCcnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cmFuc2Zvcm0tc3RyaW5nIGZvciBzdmctZXhwb3J0XG4gICAgICogQHBhcmFtIHtCb29sZWFufSB1c2UgdGhlIGZ1bGwgdHJhbnNmb3JtIG9yIHRoZSBzaW5nbGUgb2JqZWN0IG9uZS5cbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAgICovXG4gICAgZ2V0U3ZnVHJhbnNmb3JtOiBmdW5jdGlvbihmdWxsLCBhZGRpdGlvbmFsVHJhbnNmb3JtKSB7XG4gICAgICB2YXIgdHJhbnNmb3JtID0gZnVsbCA/IHRoaXMuY2FsY1RyYW5zZm9ybU1hdHJpeCgpIDogdGhpcy5jYWxjT3duTWF0cml4KCksXG4gICAgICAgICAgc3ZnVHJhbnNmb3JtID0gJ3RyYW5zZm9ybT1cIicgKyBmYWJyaWMudXRpbC5tYXRyaXhUb1NWRyh0cmFuc2Zvcm0pO1xuICAgICAgcmV0dXJuIHN2Z1RyYW5zZm9ybSArXG4gICAgICAgIChhZGRpdGlvbmFsVHJhbnNmb3JtIHx8ICcnKSArICdcIiAnO1xuICAgIH0sXG5cbiAgICBfc2V0U1ZHQmc6IGZ1bmN0aW9uKHRleHRCZ1JlY3RzKSB7XG4gICAgICBpZiAodGhpcy5iYWNrZ3JvdW5kQ29sb3IpIHtcbiAgICAgICAgdmFyIE5VTV9GUkFDVElPTl9ESUdJVFMgPSBmYWJyaWMuT2JqZWN0Lk5VTV9GUkFDVElPTl9ESUdJVFM7XG4gICAgICAgIHRleHRCZ1JlY3RzLnB1c2goXG4gICAgICAgICAgJ1xcdFxcdDxyZWN0ICcsXG4gICAgICAgICAgdGhpcy5fZ2V0RmlsbEF0dHJpYnV0ZXModGhpcy5iYWNrZ3JvdW5kQ29sb3IpLFxuICAgICAgICAgICcgeD1cIicsXG4gICAgICAgICAgdG9GaXhlZCgtdGhpcy53aWR0aCAvIDIsIE5VTV9GUkFDVElPTl9ESUdJVFMpLFxuICAgICAgICAgICdcIiB5PVwiJyxcbiAgICAgICAgICB0b0ZpeGVkKC10aGlzLmhlaWdodCAvIDIsIE5VTV9GUkFDVElPTl9ESUdJVFMpLFxuICAgICAgICAgICdcIiB3aWR0aD1cIicsXG4gICAgICAgICAgdG9GaXhlZCh0aGlzLndpZHRoLCBOVU1fRlJBQ1RJT05fRElHSVRTKSxcbiAgICAgICAgICAnXCIgaGVpZ2h0PVwiJyxcbiAgICAgICAgICB0b0ZpeGVkKHRoaXMuaGVpZ2h0LCBOVU1fRlJBQ1RJT05fRElHSVRTKSxcbiAgICAgICAgICAnXCI+PC9yZWN0PlxcbicpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHN2ZyByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXZpdmVyXSBNZXRob2QgZm9yIGZ1cnRoZXIgcGFyc2luZyBvZiBzdmcgcmVwcmVzZW50YXRpb24uXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBzdmcgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b1NWRzogZnVuY3Rpb24ocmV2aXZlcikge1xuICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZUJhc2VTVkdNYXJrdXAodGhpcy5fdG9TVkcocmV2aXZlciksIHsgcmV2aXZlcjogcmV2aXZlciB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBzdmcgY2xpcFBhdGggcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcmV2aXZlcl0gTWV0aG9kIGZvciBmdXJ0aGVyIHBhcnNpbmcgb2Ygc3ZnIHJlcHJlc2VudGF0aW9uLlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gc3ZnIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgdG9DbGlwUGF0aFNWRzogZnVuY3Rpb24ocmV2aXZlcikge1xuICAgICAgcmV0dXJuICdcXHQnICsgdGhpcy5fY3JlYXRlQmFzZUNsaXBQYXRoU1ZHTWFya3VwKHRoaXMuX3RvU1ZHKHJldml2ZXIpLCB7IHJldml2ZXI6IHJldml2ZXIgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2NyZWF0ZUJhc2VDbGlwUGF0aFNWR01hcmt1cDogZnVuY3Rpb24ob2JqZWN0TWFya3VwLCBvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgIHZhciByZXZpdmVyID0gb3B0aW9ucy5yZXZpdmVyLFxuICAgICAgICAgIGFkZGl0aW9uYWxUcmFuc2Zvcm0gPSBvcHRpb25zLmFkZGl0aW9uYWxUcmFuc2Zvcm0gfHwgJycsXG4gICAgICAgICAgY29tbW9uUGllY2VzID0gW1xuICAgICAgICAgICAgdGhpcy5nZXRTdmdUcmFuc2Zvcm0odHJ1ZSwgYWRkaXRpb25hbFRyYW5zZm9ybSksXG4gICAgICAgICAgICB0aGlzLmdldFN2Z0NvbW1vbnMoKSxcbiAgICAgICAgICBdLmpvaW4oJycpLFxuICAgICAgICAgIC8vIGluc2VydCBjb21tb25zIGluIHRoZSBtYXJrdXAsIHN0eWxlIGFuZCBzdmdDb21tb25zXG4gICAgICAgICAgaW5kZXggPSBvYmplY3RNYXJrdXAuaW5kZXhPZignQ09NTU9OX1BBUlRTJyk7XG4gICAgICBvYmplY3RNYXJrdXBbaW5kZXhdID0gY29tbW9uUGllY2VzO1xuICAgICAgcmV0dXJuIHJldml2ZXIgPyByZXZpdmVyKG9iamVjdE1hcmt1cC5qb2luKCcnKSkgOiBvYmplY3RNYXJrdXAuam9pbignJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2NyZWF0ZUJhc2VTVkdNYXJrdXA6IGZ1bmN0aW9uKG9iamVjdE1hcmt1cCwgb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICB2YXIgbm9TdHlsZSA9IG9wdGlvbnMubm9TdHlsZSxcbiAgICAgICAgICByZXZpdmVyID0gb3B0aW9ucy5yZXZpdmVyLFxuICAgICAgICAgIHN0eWxlSW5mbyA9IG5vU3R5bGUgPyAnJyA6ICdzdHlsZT1cIicgKyB0aGlzLmdldFN2Z1N0eWxlcygpICsgJ1wiICcsXG4gICAgICAgICAgc2hhZG93SW5mbyA9IG9wdGlvbnMud2l0aFNoYWRvdyA/ICdzdHlsZT1cIicgKyB0aGlzLmdldFN2Z0ZpbHRlcigpICsgJ1wiICcgOiAnJyxcbiAgICAgICAgICBjbGlwUGF0aCA9IHRoaXMuY2xpcFBhdGgsXG4gICAgICAgICAgdmVjdG9yRWZmZWN0ID0gdGhpcy5zdHJva2VVbmlmb3JtID8gJ3ZlY3Rvci1lZmZlY3Q9XCJub24tc2NhbGluZy1zdHJva2VcIiAnIDogJycsXG4gICAgICAgICAgYWJzb2x1dGVDbGlwUGF0aCA9IGNsaXBQYXRoICYmIGNsaXBQYXRoLmFic29sdXRlUG9zaXRpb25lZCxcbiAgICAgICAgICBzdHJva2UgPSB0aGlzLnN0cm9rZSwgZmlsbCA9IHRoaXMuZmlsbCwgc2hhZG93ID0gdGhpcy5zaGFkb3csXG4gICAgICAgICAgY29tbW9uUGllY2VzLCBtYXJrdXAgPSBbXSwgY2xpcFBhdGhNYXJrdXAsXG4gICAgICAgICAgLy8gaW5zZXJ0IGNvbW1vbnMgaW4gdGhlIG1hcmt1cCwgc3R5bGUgYW5kIHN2Z0NvbW1vbnNcbiAgICAgICAgICBpbmRleCA9IG9iamVjdE1hcmt1cC5pbmRleE9mKCdDT01NT05fUEFSVFMnKSxcbiAgICAgICAgICBhZGRpdGlvbmFsVHJhbnNmb3JtID0gb3B0aW9ucy5hZGRpdGlvbmFsVHJhbnNmb3JtO1xuICAgICAgaWYgKGNsaXBQYXRoKSB7XG4gICAgICAgIGNsaXBQYXRoLmNsaXBQYXRoSWQgPSAnQ0xJUFBBVEhfJyArIGZhYnJpYy5PYmplY3QuX191aWQrKztcbiAgICAgICAgY2xpcFBhdGhNYXJrdXAgPSAnPGNsaXBQYXRoIGlkPVwiJyArIGNsaXBQYXRoLmNsaXBQYXRoSWQgKyAnXCIgPlxcbicgK1xuICAgICAgICAgIGNsaXBQYXRoLnRvQ2xpcFBhdGhTVkcocmV2aXZlcikgK1xuICAgICAgICAgICc8L2NsaXBQYXRoPlxcbic7XG4gICAgICB9XG4gICAgICBpZiAoYWJzb2x1dGVDbGlwUGF0aCkge1xuICAgICAgICBtYXJrdXAucHVzaChcbiAgICAgICAgICAnPGcgJywgc2hhZG93SW5mbywgdGhpcy5nZXRTdmdDb21tb25zKCksICcgPlxcbidcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIG1hcmt1cC5wdXNoKFxuICAgICAgICAnPGcgJyxcbiAgICAgICAgdGhpcy5nZXRTdmdUcmFuc2Zvcm0oZmFsc2UpLFxuICAgICAgICAhYWJzb2x1dGVDbGlwUGF0aCA/IHNoYWRvd0luZm8gKyB0aGlzLmdldFN2Z0NvbW1vbnMoKSA6ICcnLFxuICAgICAgICAnID5cXG4nXG4gICAgICApO1xuICAgICAgY29tbW9uUGllY2VzID0gW1xuICAgICAgICBzdHlsZUluZm8sXG4gICAgICAgIHZlY3RvckVmZmVjdCxcbiAgICAgICAgbm9TdHlsZSA/ICcnIDogdGhpcy5hZGRQYWludE9yZGVyKCksICcgJyxcbiAgICAgICAgYWRkaXRpb25hbFRyYW5zZm9ybSA/ICd0cmFuc2Zvcm09XCInICsgYWRkaXRpb25hbFRyYW5zZm9ybSArICdcIiAnIDogJycsXG4gICAgICBdLmpvaW4oJycpO1xuICAgICAgb2JqZWN0TWFya3VwW2luZGV4XSA9IGNvbW1vblBpZWNlcztcbiAgICAgIGlmIChmaWxsICYmIGZpbGwudG9MaXZlKSB7XG4gICAgICAgIG1hcmt1cC5wdXNoKGZpbGwudG9TVkcodGhpcykpO1xuICAgICAgfVxuICAgICAgaWYgKHN0cm9rZSAmJiBzdHJva2UudG9MaXZlKSB7XG4gICAgICAgIG1hcmt1cC5wdXNoKHN0cm9rZS50b1NWRyh0aGlzKSk7XG4gICAgICB9XG4gICAgICBpZiAoc2hhZG93KSB7XG4gICAgICAgIG1hcmt1cC5wdXNoKHNoYWRvdy50b1NWRyh0aGlzKSk7XG4gICAgICB9XG4gICAgICBpZiAoY2xpcFBhdGgpIHtcbiAgICAgICAgbWFya3VwLnB1c2goY2xpcFBhdGhNYXJrdXApO1xuICAgICAgfVxuICAgICAgbWFya3VwLnB1c2gob2JqZWN0TWFya3VwLmpvaW4oJycpKTtcbiAgICAgIG1hcmt1cC5wdXNoKCc8L2c+XFxuJyk7XG4gICAgICBhYnNvbHV0ZUNsaXBQYXRoICYmIG1hcmt1cC5wdXNoKCc8L2c+XFxuJyk7XG4gICAgICByZXR1cm4gcmV2aXZlciA/IHJldml2ZXIobWFya3VwLmpvaW4oJycpKSA6IG1hcmt1cC5qb2luKCcnKTtcbiAgICB9LFxuXG4gICAgYWRkUGFpbnRPcmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5wYWludEZpcnN0ICE9PSAnZmlsbCcgPyAnIHBhaW50LW9yZGVyPVwiJyArIHRoaXMucGFpbnRGaXJzdCArICdcIiAnIDogJyc7XG4gICAgfVxuICB9KTtcbn0pKCk7XG4vKiBfVE9fU1ZHX0VORF8gKi9cblxuXG4oZnVuY3Rpb24oKSB7XG5cbiAgdmFyIGV4dGVuZCA9IGZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQsXG4gICAgICBvcmlnaW5hbFNldCA9ICdzdGF0ZVByb3BlcnRpZXMnO1xuXG4gIC8qXG4gICAgRGVwZW5kcyBvbiBgc3RhdGVQcm9wZXJ0aWVzYFxuICAqL1xuICBmdW5jdGlvbiBzYXZlUHJvcHMob3JpZ2luLCBkZXN0aW5hdGlvbiwgcHJvcHMpIHtcbiAgICB2YXIgdG1wT2JqID0geyB9LCBkZWVwID0gdHJ1ZTtcbiAgICBwcm9wcy5mb3JFYWNoKGZ1bmN0aW9uKHByb3ApIHtcbiAgICAgIHRtcE9ialtwcm9wXSA9IG9yaWdpbltwcm9wXTtcbiAgICB9KTtcblxuICAgIGV4dGVuZChvcmlnaW5bZGVzdGluYXRpb25dLCB0bXBPYmosIGRlZXApO1xuICB9XG5cbiAgZnVuY3Rpb24gX2lzRXF1YWwob3JpZ1ZhbHVlLCBjdXJyZW50VmFsdWUsIGZpcnN0UGFzcykge1xuICAgIGlmIChvcmlnVmFsdWUgPT09IGN1cnJlbnRWYWx1ZSkge1xuICAgICAgLy8gaWYgdGhlIG9iamVjdHMgYXJlIGlkZW50aWNhbCwgcmV0dXJuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShvcmlnVmFsdWUpKSB7XG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkoY3VycmVudFZhbHVlKSB8fCBvcmlnVmFsdWUubGVuZ3RoICE9PSBjdXJyZW50VmFsdWUubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBvcmlnVmFsdWUubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgaWYgKCFfaXNFcXVhbChvcmlnVmFsdWVbaV0sIGN1cnJlbnRWYWx1ZVtpXSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBlbHNlIGlmIChvcmlnVmFsdWUgJiYgdHlwZW9mIG9yaWdWYWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob3JpZ1ZhbHVlKSwga2V5O1xuICAgICAgaWYgKCFjdXJyZW50VmFsdWUgfHxcbiAgICAgICAgICB0eXBlb2YgY3VycmVudFZhbHVlICE9PSAnb2JqZWN0JyB8fFxuICAgICAgICAgICghZmlyc3RQYXNzICYmIGtleXMubGVuZ3RoICE9PSBPYmplY3Qua2V5cyhjdXJyZW50VmFsdWUpLmxlbmd0aClcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0ga2V5cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAvLyBzaW5jZSBjbGlwUGF0aCBpcyBpbiB0aGUgc3RhdGVmdWxsIGNhY2hlIGxpc3QgYW5kIHRoZSBjbGlwUGF0aCBvYmplY3RzXG4gICAgICAgIC8vIHdvdWxkIGJlIGl0ZXJhdGVkIGFzIGFuIG9iamVjdCwgdGhpcyB3b3VsZCBsZWFkIHRvIHBvc3NpYmxlIGluZmluaXRlIHJlY3Vyc2lvblxuICAgICAgICAvLyB3ZSBkbyBub3Qgd2FudCB0byBjb21wYXJlIHRob3NlLlxuICAgICAgICBpZiAoa2V5ID09PSAnY2FudmFzJyB8fCBrZXkgPT09ICdncm91cCcpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIV9pc0VxdWFsKG9yaWdWYWx1ZVtrZXldLCBjdXJyZW50VmFsdWVba2V5XSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG5cbiAgZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZChmYWJyaWMuT2JqZWN0LnByb3RvdHlwZSwgLyoqIEBsZW5kcyBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgb2JqZWN0IHN0YXRlIChvbmUgb2YgaXRzIHN0YXRlIHByb3BlcnRpZXMpIHdhcyBjaGFuZ2VkXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtwcm9wZXJ0eVNldF0gb3B0aW9uYWwgbmFtZSBmb3IgdGhlIHNldCBvZiBwcm9wZXJ0eSB3ZSB3YW50IHRvIHNhdmVcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIGluc3RhbmNlJyBzdGF0ZSBoYXMgY2hhbmdlZCBzaW5jZSBge0BsaW5rIGZhYnJpYy5PYmplY3Qjc2F2ZVN0YXRlfWAgd2FzIGNhbGxlZFxuICAgICAqL1xuICAgIGhhc1N0YXRlQ2hhbmdlZDogZnVuY3Rpb24ocHJvcGVydHlTZXQpIHtcbiAgICAgIHByb3BlcnR5U2V0ID0gcHJvcGVydHlTZXQgfHwgb3JpZ2luYWxTZXQ7XG4gICAgICB2YXIgZGFzaGVkUHJvcGVydHlTZXQgPSAnXycgKyBwcm9wZXJ0eVNldDtcbiAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzW2Rhc2hlZFByb3BlcnR5U2V0XSkubGVuZ3RoIDwgdGhpc1twcm9wZXJ0eVNldF0ubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuICFfaXNFcXVhbCh0aGlzW2Rhc2hlZFByb3BlcnR5U2V0XSwgdGhpcywgdHJ1ZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNhdmVzIHN0YXRlIG9mIGFuIG9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT2JqZWN0IHdpdGggYWRkaXRpb25hbCBgc3RhdGVQcm9wZXJ0aWVzYCBhcnJheSB0byBpbmNsdWRlIHdoZW4gc2F2aW5nIHN0YXRlXG4gICAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgICAqL1xuICAgIHNhdmVTdGF0ZTogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdmFyIHByb3BlcnR5U2V0ID0gb3B0aW9ucyAmJiBvcHRpb25zLnByb3BlcnR5U2V0IHx8IG9yaWdpbmFsU2V0LFxuICAgICAgICAgIGRlc3RpbmF0aW9uID0gJ18nICsgcHJvcGVydHlTZXQ7XG4gICAgICBpZiAoIXRoaXNbZGVzdGluYXRpb25dKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHVwU3RhdGUob3B0aW9ucyk7XG4gICAgICB9XG4gICAgICBzYXZlUHJvcHModGhpcywgZGVzdGluYXRpb24sIHRoaXNbcHJvcGVydHlTZXRdKTtcbiAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuc3RhdGVQcm9wZXJ0aWVzKSB7XG4gICAgICAgIHNhdmVQcm9wcyh0aGlzLCBkZXN0aW5hdGlvbiwgb3B0aW9ucy5zdGF0ZVByb3BlcnRpZXMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHVwcyBzdGF0ZSBvZiBhbiBvYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9iamVjdCB3aXRoIGFkZGl0aW9uYWwgYHN0YXRlUHJvcGVydGllc2AgYXJyYXkgdG8gaW5jbHVkZSB3aGVuIHNhdmluZyBzdGF0ZVxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IHRoaXNBcmdcbiAgICAgKi9cbiAgICBzZXR1cFN0YXRlOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IH07XG4gICAgICB2YXIgcHJvcGVydHlTZXQgPSBvcHRpb25zLnByb3BlcnR5U2V0IHx8IG9yaWdpbmFsU2V0O1xuICAgICAgb3B0aW9ucy5wcm9wZXJ0eVNldCA9IHByb3BlcnR5U2V0O1xuICAgICAgdGhpc1snXycgKyBwcm9wZXJ0eVNldF0gPSB7IH07XG4gICAgICB0aGlzLnNhdmVTdGF0ZShvcHRpb25zKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfSk7XG59KSgpO1xuXG5cbihmdW5jdGlvbigpIHtcblxuICB2YXIgZGVncmVlc1RvUmFkaWFucyA9IGZhYnJpYy51dGlsLmRlZ3JlZXNUb1JhZGlhbnM7XG5cbiAgZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZChmYWJyaWMuT2JqZWN0LnByb3RvdHlwZSwgLyoqIEBsZW5kcyBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZSAqLyB7XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB3aGljaCBjb3JuZXIgaGFzIGJlZW4gY2xpY2tlZFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50ZXIgVGhlIHBvaW50ZXIgaW5kaWNhdGluZyB0aGUgbW91c2UgcG9zaXRpb25cbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd8Qm9vbGVhbn0gY29ybmVyIGNvZGUgKHRsLCB0ciwgYmwsIGJyLCBldGMuKSwgb3IgZmFsc2UgaWYgbm90aGluZyBpcyBmb3VuZFxuICAgICAqL1xuICAgIF9maW5kVGFyZ2V0Q29ybmVyOiBmdW5jdGlvbihwb2ludGVyLCBmb3JUb3VjaCkge1xuICAgICAgLy8gb2JqZWN0cyBpbiBncm91cCwgYW55a2luZCwgYXJlIG5vdCBzZWxmIG1vZGlmaWNhYmxlLFxuICAgICAgLy8gbXVzdCBub3QgcmV0dXJuIGFuIGhvdmVyZWQgY29ybmVyLlxuICAgICAgaWYgKCF0aGlzLmhhc0NvbnRyb2xzIHx8IHRoaXMuZ3JvdXAgfHwgKCF0aGlzLmNhbnZhcyB8fCB0aGlzLmNhbnZhcy5fYWN0aXZlT2JqZWN0ICE9PSB0aGlzKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHZhciBleCA9IHBvaW50ZXIueCxcbiAgICAgICAgICBleSA9IHBvaW50ZXIueSxcbiAgICAgICAgICB4UG9pbnRzLFxuICAgICAgICAgIGxpbmVzLCBrZXlzID0gT2JqZWN0LmtleXModGhpcy5vQ29vcmRzKSxcbiAgICAgICAgICBqID0ga2V5cy5sZW5ndGggLSAxLCBpO1xuICAgICAgdGhpcy5fX2Nvcm5lciA9IDA7XG5cbiAgICAgIC8vIGN5Y2xlIGluIHJldmVyc2Ugb3JkZXIgc28gd2UgcGljayBmaXJzdCB0aGUgb25lIG9uIHRvcFxuICAgICAgZm9yICg7IGogPj0gMDsgai0tKSB7XG4gICAgICAgIGkgPSBrZXlzW2pdO1xuICAgICAgICBpZiAoIXRoaXMuaXNDb250cm9sVmlzaWJsZShpKSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgbGluZXMgPSB0aGlzLl9nZXRJbWFnZUxpbmVzKGZvclRvdWNoID8gdGhpcy5vQ29vcmRzW2ldLnRvdWNoQ29ybmVyIDogdGhpcy5vQ29vcmRzW2ldLmNvcm5lcik7XG4gICAgICAgIC8vIC8vIGRlYnVnZ2luZ1xuICAgICAgICAvL1xuICAgICAgICAvLyB0aGlzLmNhbnZhcy5jb250ZXh0VG9wLmZpbGxSZWN0KGxpbmVzLmJvdHRvbWxpbmUuZC54LCBsaW5lcy5ib3R0b21saW5lLmQueSwgMiwgMik7XG4gICAgICAgIC8vIHRoaXMuY2FudmFzLmNvbnRleHRUb3AuZmlsbFJlY3QobGluZXMuYm90dG9tbGluZS5vLngsIGxpbmVzLmJvdHRvbWxpbmUuby55LCAyLCAyKTtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gdGhpcy5jYW52YXMuY29udGV4dFRvcC5maWxsUmVjdChsaW5lcy5sZWZ0bGluZS5kLngsIGxpbmVzLmxlZnRsaW5lLmQueSwgMiwgMik7XG4gICAgICAgIC8vIHRoaXMuY2FudmFzLmNvbnRleHRUb3AuZmlsbFJlY3QobGluZXMubGVmdGxpbmUuby54LCBsaW5lcy5sZWZ0bGluZS5vLnksIDIsIDIpO1xuICAgICAgICAvL1xuICAgICAgICAvLyB0aGlzLmNhbnZhcy5jb250ZXh0VG9wLmZpbGxSZWN0KGxpbmVzLnRvcGxpbmUuZC54LCBsaW5lcy50b3BsaW5lLmQueSwgMiwgMik7XG4gICAgICAgIC8vIHRoaXMuY2FudmFzLmNvbnRleHRUb3AuZmlsbFJlY3QobGluZXMudG9wbGluZS5vLngsIGxpbmVzLnRvcGxpbmUuby55LCAyLCAyKTtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gdGhpcy5jYW52YXMuY29udGV4dFRvcC5maWxsUmVjdChsaW5lcy5yaWdodGxpbmUuZC54LCBsaW5lcy5yaWdodGxpbmUuZC55LCAyLCAyKTtcbiAgICAgICAgLy8gdGhpcy5jYW52YXMuY29udGV4dFRvcC5maWxsUmVjdChsaW5lcy5yaWdodGxpbmUuby54LCBsaW5lcy5yaWdodGxpbmUuby55LCAyLCAyKTtcblxuICAgICAgICB4UG9pbnRzID0gdGhpcy5fZmluZENyb3NzUG9pbnRzKHsgeDogZXgsIHk6IGV5IH0sIGxpbmVzKTtcbiAgICAgICAgaWYgKHhQb2ludHMgIT09IDAgJiYgeFBvaW50cyAlIDIgPT09IDEpIHtcbiAgICAgICAgICB0aGlzLl9fY29ybmVyID0gaTtcbiAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxscyBhIGZ1bmN0aW9uIGZvciBlYWNoIGNvbnRyb2wuIFRoZSBmdW5jdGlvbiBnZXRzIGNhbGxlZCxcbiAgICAgKiB3aXRoIHRoZSBjb250cm9sLCB0aGUgb2JqZWN0IHRoYXQgaXMgY2FsbGluZyB0aGUgaXRlcmF0b3IgYW5kIHRoZSBjb250cm9sJ3Mga2V5XG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIHRoZSBjb250cm9scyBvdmVyXG4gICAgICovXG4gICAgZm9yRWFjaENvbnRyb2w6IGZ1bmN0aW9uKGZuKSB7XG4gICAgICBmb3IgKHZhciBpIGluIHRoaXMuY29udHJvbHMpIHtcbiAgICAgICAgZm4odGhpcy5jb250cm9sc1tpXSwgaSwgdGhpcyk7XG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjb29yZGluYXRlcyBvZiB0aGUgZHJhZ2dhYmxlIGJveGVzIGluIHRoZSBjb3JuZXJzIG9mXG4gICAgICogdGhlIGltYWdlIHVzZWQgdG8gc2NhbGUvcm90YXRlIGl0LlxuICAgICAqIG5vdGU6IGlmIHdlIHdvdWxkIHN3aXRjaCB0byBST1VORCBjb3JuZXIgYXJlYSwgYWxsIG9mIHRoaXMgd291bGQgZGlzYXBwZWFyLlxuICAgICAqIGV2ZXJ5dGhpbmcgd291bGQgcmVzb2x2ZSB0byBhIHNpbmdsZSBwb2ludCBhbmQgYSBweXRoYWdvcmVhbiB0aGVvcmVtIGZvciB0aGUgZGlzdGFuY2VcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9zZXRDb3JuZXJDb29yZHM6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGNvb3JkcyA9IHRoaXMub0Nvb3JkcztcblxuICAgICAgZm9yICh2YXIgY29udHJvbCBpbiBjb29yZHMpIHtcbiAgICAgICAgdmFyIGNvbnRyb2xPYmplY3QgPSB0aGlzLmNvbnRyb2xzW2NvbnRyb2xdO1xuICAgICAgICBjb29yZHNbY29udHJvbF0uY29ybmVyID0gY29udHJvbE9iamVjdC5jYWxjQ29ybmVyQ29vcmRzKFxuICAgICAgICAgIHRoaXMuYW5nbGUsIHRoaXMuY29ybmVyU2l6ZSwgY29vcmRzW2NvbnRyb2xdLngsIGNvb3Jkc1tjb250cm9sXS55LCBmYWxzZSk7XG4gICAgICAgIGNvb3Jkc1tjb250cm9sXS50b3VjaENvcm5lciA9IGNvbnRyb2xPYmplY3QuY2FsY0Nvcm5lckNvb3JkcyhcbiAgICAgICAgICB0aGlzLmFuZ2xlLCB0aGlzLnRvdWNoQ29ybmVyU2l6ZSwgY29vcmRzW2NvbnRyb2xdLngsIGNvb3Jkc1tjb250cm9sXS55LCB0cnVlKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYSBjb2xvcmVkIGxheWVyIGJlaGluZCB0aGUgb2JqZWN0LCBpbnNpZGUgaXRzIHNlbGVjdGlvbiBib3JkZXJzLlxuICAgICAqIFJlcXVpcmVzIHB1YmxpYyBvcHRpb25zOiBwYWRkaW5nLCBzZWxlY3Rpb25CYWNrZ3JvdW5kQ29sb3JcbiAgICAgKiB0aGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aGVuIHRoZSBjb250ZXh0IGlzIHRyYW5zZm9ybWVkXG4gICAgICogaGFzIGNoZWNrcyB0byBiZSBza2lwcGVkIHdoZW4gdGhlIG9iamVjdCBpcyBvbiBhIHN0YXRpY0NhbnZhc1xuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byBkcmF3IG9uXG4gICAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBkcmF3U2VsZWN0aW9uQmFja2dyb3VuZDogZnVuY3Rpb24oY3R4KSB7XG4gICAgICBpZiAoIXRoaXMuc2VsZWN0aW9uQmFja2dyb3VuZENvbG9yIHx8XG4gICAgICAgICh0aGlzLmNhbnZhcyAmJiAhdGhpcy5jYW52YXMuaW50ZXJhY3RpdmUpIHx8XG4gICAgICAgICh0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy5fYWN0aXZlT2JqZWN0ICE9PSB0aGlzKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgY3R4LnNhdmUoKTtcbiAgICAgIHZhciBjZW50ZXIgPSB0aGlzLmdldENlbnRlclBvaW50KCksIHdoID0gdGhpcy5fY2FsY3VsYXRlQ3VycmVudERpbWVuc2lvbnMoKSxcbiAgICAgICAgICB2cHQgPSB0aGlzLmNhbnZhcy52aWV3cG9ydFRyYW5zZm9ybTtcbiAgICAgIGN0eC50cmFuc2xhdGUoY2VudGVyLngsIGNlbnRlci55KTtcbiAgICAgIGN0eC5zY2FsZSgxIC8gdnB0WzBdLCAxIC8gdnB0WzNdKTtcbiAgICAgIGN0eC5yb3RhdGUoZGVncmVlc1RvUmFkaWFucyh0aGlzLmFuZ2xlKSk7XG4gICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5zZWxlY3Rpb25CYWNrZ3JvdW5kQ29sb3I7XG4gICAgICBjdHguZmlsbFJlY3QoLXdoLnggLyAyLCAtd2gueSAvIDIsIHdoLngsIHdoLnkpO1xuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyBib3JkZXJzIG9mIGFuIG9iamVjdCdzIGJvdW5kaW5nIGJveC5cbiAgICAgKiBSZXF1aXJlcyBwdWJsaWMgcHJvcGVydGllczogd2lkdGgsIGhlaWdodFxuICAgICAqIFJlcXVpcmVzIHB1YmxpYyBvcHRpb25zOiBwYWRkaW5nLCBib3JkZXJDb2xvclxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byBkcmF3IG9uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0eWxlT3ZlcnJpZGUgb2JqZWN0IHRvIG92ZXJyaWRlIHRoZSBvYmplY3Qgc3R5bGVcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGRyYXdCb3JkZXJzOiBmdW5jdGlvbihjdHgsIHN0eWxlT3ZlcnJpZGUpIHtcbiAgICAgIHN0eWxlT3ZlcnJpZGUgPSBzdHlsZU92ZXJyaWRlIHx8IHt9O1xuICAgICAgdmFyIHdoID0gdGhpcy5fY2FsY3VsYXRlQ3VycmVudERpbWVuc2lvbnMoKSxcbiAgICAgICAgICBzdHJva2VXaWR0aCA9IHRoaXMuYm9yZGVyU2NhbGVGYWN0b3IsXG4gICAgICAgICAgd2lkdGggPSB3aC54ICsgc3Ryb2tlV2lkdGgsXG4gICAgICAgICAgaGVpZ2h0ID0gd2gueSArIHN0cm9rZVdpZHRoLFxuICAgICAgICAgIGhhc0NvbnRyb2xzID0gdHlwZW9mIHN0eWxlT3ZlcnJpZGUuaGFzQ29udHJvbHMgIT09ICd1bmRlZmluZWQnID9cbiAgICAgICAgICAgIHN0eWxlT3ZlcnJpZGUuaGFzQ29udHJvbHMgOiB0aGlzLmhhc0NvbnRyb2xzLFxuICAgICAgICAgIHNob3VsZFN0cm9rZSA9IGZhbHNlO1xuXG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgY3R4LnN0cm9rZVN0eWxlID0gc3R5bGVPdmVycmlkZS5ib3JkZXJDb2xvciB8fCB0aGlzLmJvcmRlckNvbG9yO1xuICAgICAgdGhpcy5fc2V0TGluZURhc2goY3R4LCBzdHlsZU92ZXJyaWRlLmJvcmRlckRhc2hBcnJheSB8fCB0aGlzLmJvcmRlckRhc2hBcnJheSk7XG5cbiAgICAgIGN0eC5zdHJva2VSZWN0KFxuICAgICAgICAtd2lkdGggLyAyLFxuICAgICAgICAtaGVpZ2h0IC8gMixcbiAgICAgICAgd2lkdGgsXG4gICAgICAgIGhlaWdodFxuICAgICAgKTtcblxuICAgICAgaWYgKGhhc0NvbnRyb2xzKSB7XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgdGhpcy5mb3JFYWNoQ29udHJvbChmdW5jdGlvbihjb250cm9sLCBrZXksIGZhYnJpY09iamVjdCkge1xuICAgICAgICAgIC8vIGluIHRoaXMgbW9tZW50LCB0aGUgY3R4IGlzIGNlbnRlcmVkIG9uIHRoZSBvYmplY3QuXG4gICAgICAgICAgLy8gd2lkdGggYW5kIGhlaWdodCBvZiB0aGUgYWJvdmUgZnVuY3Rpb24gYXJlIHRoZSBzaXplIG9mIHRoZSBiYm94LlxuICAgICAgICAgIGlmIChjb250cm9sLndpdGhDb25uZWN0aW9uICYmIGNvbnRyb2wuZ2V0VmlzaWJpbGl0eShmYWJyaWNPYmplY3QsIGtleSkpIHtcbiAgICAgICAgICAgIC8vIHJlc2V0IG1vdmVtZW50IGZvciBlYWNoIGNvbnRyb2xcbiAgICAgICAgICAgIHNob3VsZFN0cm9rZSA9IHRydWU7XG4gICAgICAgICAgICBjdHgubW92ZVRvKGNvbnRyb2wueCAqIHdpZHRoLCBjb250cm9sLnkgKiBoZWlnaHQpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyhcbiAgICAgICAgICAgICAgY29udHJvbC54ICogd2lkdGggKyBjb250cm9sLm9mZnNldFgsXG4gICAgICAgICAgICAgIGNvbnRyb2wueSAqIGhlaWdodCArIGNvbnRyb2wub2Zmc2V0WVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoc2hvdWxkU3Ryb2tlKSB7XG4gICAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERyYXdzIGJvcmRlcnMgb2YgYW4gb2JqZWN0J3MgYm91bmRpbmcgYm94IHdoZW4gaXQgaXMgaW5zaWRlIGEgZ3JvdXAuXG4gICAgICogUmVxdWlyZXMgcHVibGljIHByb3BlcnRpZXM6IHdpZHRoLCBoZWlnaHRcbiAgICAgKiBSZXF1aXJlcyBwdWJsaWMgb3B0aW9uczogcGFkZGluZywgYm9yZGVyQ29sb3JcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gZHJhdyBvblxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIG9iamVjdCByZXByZXNlbnRpbmcgY3VycmVudCBvYmplY3QgcGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdHlsZU92ZXJyaWRlIG9iamVjdCB0byBvdmVycmlkZSB0aGUgb2JqZWN0IHN0eWxlXG4gICAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBkcmF3Qm9yZGVyc0luR3JvdXA6IGZ1bmN0aW9uKGN0eCwgb3B0aW9ucywgc3R5bGVPdmVycmlkZSkge1xuICAgICAgc3R5bGVPdmVycmlkZSA9IHN0eWxlT3ZlcnJpZGUgfHwge307XG4gICAgICB2YXIgYmJveCA9IGZhYnJpYy51dGlsLnNpemVBZnRlclRyYW5zZm9ybSh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgb3B0aW9ucyksXG4gICAgICAgICAgc3Ryb2tlV2lkdGggPSB0aGlzLnN0cm9rZVdpZHRoLFxuICAgICAgICAgIHN0cm9rZVVuaWZvcm0gPSB0aGlzLnN0cm9rZVVuaWZvcm0sXG4gICAgICAgICAgYm9yZGVyU2NhbGVGYWN0b3IgPSB0aGlzLmJvcmRlclNjYWxlRmFjdG9yLFxuICAgICAgICAgIHdpZHRoID1cbiAgICAgICAgICAgIGJib3gueCArIHN0cm9rZVdpZHRoICogKHN0cm9rZVVuaWZvcm0gPyB0aGlzLmNhbnZhcy5nZXRab29tKCkgOiBvcHRpb25zLnNjYWxlWCkgKyBib3JkZXJTY2FsZUZhY3RvcixcbiAgICAgICAgICBoZWlnaHQgPVxuICAgICAgICAgICAgYmJveC55ICsgc3Ryb2tlV2lkdGggKiAoc3Ryb2tlVW5pZm9ybSA/IHRoaXMuY2FudmFzLmdldFpvb20oKSA6IG9wdGlvbnMuc2NhbGVZKSArIGJvcmRlclNjYWxlRmFjdG9yO1xuICAgICAgY3R4LnNhdmUoKTtcbiAgICAgIHRoaXMuX3NldExpbmVEYXNoKGN0eCwgc3R5bGVPdmVycmlkZS5ib3JkZXJEYXNoQXJyYXkgfHwgdGhpcy5ib3JkZXJEYXNoQXJyYXkpO1xuICAgICAgY3R4LnN0cm9rZVN0eWxlID0gc3R5bGVPdmVycmlkZS5ib3JkZXJDb2xvciB8fCB0aGlzLmJvcmRlckNvbG9yO1xuICAgICAgY3R4LnN0cm9rZVJlY3QoXG4gICAgICAgIC13aWR0aCAvIDIsXG4gICAgICAgIC1oZWlnaHQgLyAyLFxuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0XG4gICAgICApO1xuXG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERyYXdzIGNvcm5lcnMgb2YgYW4gb2JqZWN0J3MgYm91bmRpbmcgYm94LlxuICAgICAqIFJlcXVpcmVzIHB1YmxpYyBwcm9wZXJ0aWVzOiB3aWR0aCwgaGVpZ2h0XG4gICAgICogUmVxdWlyZXMgcHVibGljIG9wdGlvbnM6IGNvcm5lclNpemUsIHBhZGRpbmdcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gZHJhdyBvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdHlsZU92ZXJyaWRlIG9iamVjdCB0byBvdmVycmlkZSB0aGUgb2JqZWN0IHN0eWxlXG4gICAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBkcmF3Q29udHJvbHM6IGZ1bmN0aW9uKGN0eCwgc3R5bGVPdmVycmlkZSkge1xuICAgICAgc3R5bGVPdmVycmlkZSA9IHN0eWxlT3ZlcnJpZGUgfHwge307XG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgdmFyIHJldGluYVNjYWxpbmcgPSB0aGlzLmNhbnZhcy5nZXRSZXRpbmFTY2FsaW5nKCksIG1hdHJpeCwgcDtcbiAgICAgIGN0eC5zZXRUcmFuc2Zvcm0ocmV0aW5hU2NhbGluZywgMCwgMCwgcmV0aW5hU2NhbGluZywgMCwgMCk7XG4gICAgICBjdHguc3Ryb2tlU3R5bGUgPSBjdHguZmlsbFN0eWxlID0gc3R5bGVPdmVycmlkZS5jb3JuZXJDb2xvciB8fCB0aGlzLmNvcm5lckNvbG9yO1xuICAgICAgaWYgKCF0aGlzLnRyYW5zcGFyZW50Q29ybmVycykge1xuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBzdHlsZU92ZXJyaWRlLmNvcm5lclN0cm9rZUNvbG9yIHx8IHRoaXMuY29ybmVyU3Ryb2tlQ29sb3I7XG4gICAgICB9XG4gICAgICB0aGlzLl9zZXRMaW5lRGFzaChjdHgsIHN0eWxlT3ZlcnJpZGUuY29ybmVyRGFzaEFycmF5IHx8IHRoaXMuY29ybmVyRGFzaEFycmF5KTtcbiAgICAgIHRoaXMuc2V0Q29vcmRzKCk7XG4gICAgICBpZiAodGhpcy5ncm91cCkge1xuICAgICAgICAvLyBmYWJyaWNKUyBkb2VzIG5vdCByZWFsbHkgc3VwcG9ydCBkcmF3aW5nIGNvbnRyb2xzIGluc2lkZSBncm91cHMsXG4gICAgICAgIC8vIHRoaXMgcGllY2Ugb2YgY29kZSBoZXJlIGhlbHBzIGhhdmluZyBhdCBsZWFzdCB0aGUgY29udHJvbCBpbiBwbGFjZXMuXG4gICAgICAgIC8vIElmIGFuIGFwcGxpY2F0aW9uIG5lZWRzIHRvIHNob3cgc29tZSBvYmplY3RzIGFzIHNlbGVjdGVkIGJlY2F1c2Ugb2Ygc29tZSBVSSBzdGF0ZVxuICAgICAgICAvLyBjYW4gc3RpbGwgY2FsbCBPYmplY3QuX3JlbmRlckNvbnRyb2xzKCkgb24gYW55IG9iamVjdCB0aGV5IGRlc2lyZSwgaW5kZXBlbmRlbnRseSBvZiBncm91cHMuXG4gICAgICAgIC8vIHVzaW5nIG5vIHBhZGRpbmcsIGNpcmN1bGFyIGNvbnRyb2xzIGFuZCBoaWRpbmcgdGhlIHJvdGF0aW5nIGN1cnNvciBpcyBoaWdseSBzdWdnZXN0ZWQsXG4gICAgICAgIG1hdHJpeCA9IHRoaXMuZ3JvdXAuY2FsY1RyYW5zZm9ybU1hdHJpeCgpO1xuICAgICAgfVxuICAgICAgdGhpcy5mb3JFYWNoQ29udHJvbChmdW5jdGlvbihjb250cm9sLCBrZXksIGZhYnJpY09iamVjdCkge1xuICAgICAgICBwID0gZmFicmljT2JqZWN0Lm9Db29yZHNba2V5XTtcbiAgICAgICAgaWYgKGNvbnRyb2wuZ2V0VmlzaWJpbGl0eShmYWJyaWNPYmplY3QsIGtleSkpIHtcbiAgICAgICAgICBpZiAobWF0cml4KSB7XG4gICAgICAgICAgICBwID0gZmFicmljLnV0aWwudHJhbnNmb3JtUG9pbnQocCwgbWF0cml4KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udHJvbC5yZW5kZXIoY3R4LCBwLngsIHAueSwgc3R5bGVPdmVycmlkZSwgZmFicmljT2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjdHgucmVzdG9yZSgpO1xuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBzcGVjaWZpZWQgY29udHJvbCBpcyB2aXNpYmxlLCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGNvbnRyb2xLZXkgVGhlIGtleSBvZiB0aGUgY29udHJvbC4gUG9zc2libGUgdmFsdWVzIGFyZSAndGwnLCAndHInLCAnYnInLCAnYmwnLCAnbWwnLCAnbXQnLCAnbXInLCAnbWInLCAnbXRyJy5cbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gdHJ1ZSBpZiB0aGUgc3BlY2lmaWVkIGNvbnRyb2wgaXMgdmlzaWJsZSwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICovXG4gICAgaXNDb250cm9sVmlzaWJsZTogZnVuY3Rpb24oY29udHJvbEtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuY29udHJvbHNbY29udHJvbEtleV0gJiYgdGhpcy5jb250cm9sc1tjb250cm9sS2V5XS5nZXRWaXNpYmlsaXR5KHRoaXMsIGNvbnRyb2xLZXkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSBzcGVjaWZpZWQgY29udHJvbC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gY29udHJvbEtleSBUaGUga2V5IG9mIHRoZSBjb250cm9sLiBQb3NzaWJsZSB2YWx1ZXMgYXJlICd0bCcsICd0cicsICdicicsICdibCcsICdtbCcsICdtdCcsICdtcicsICdtYicsICdtdHInLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gdmlzaWJsZSB0cnVlIHRvIHNldCB0aGUgc3BlY2lmaWVkIGNvbnRyb2wgdmlzaWJsZSwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzZXRDb250cm9sVmlzaWJsZTogZnVuY3Rpb24oY29udHJvbEtleSwgdmlzaWJsZSkge1xuICAgICAgaWYgKCF0aGlzLl9jb250cm9sc1Zpc2liaWxpdHkpIHtcbiAgICAgICAgdGhpcy5fY29udHJvbHNWaXNpYmlsaXR5ID0ge307XG4gICAgICB9XG4gICAgICB0aGlzLl9jb250cm9sc1Zpc2liaWxpdHlbY29udHJvbEtleV0gPSB2aXNpYmxlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHZpc2liaWxpdHkgc3RhdGUgb2Ygb2JqZWN0IGNvbnRyb2xzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmJsXSB0cnVlIHRvIGVuYWJsZSB0aGUgYm90dG9tLWxlZnQgY29udHJvbCwgZmFsc2UgdG8gZGlzYWJsZSBpdFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuYnJdIHRydWUgdG8gZW5hYmxlIHRoZSBib3R0b20tcmlnaHQgY29udHJvbCwgZmFsc2UgdG8gZGlzYWJsZSBpdFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMubWJdIHRydWUgdG8gZW5hYmxlIHRoZSBtaWRkbGUtYm90dG9tIGNvbnRyb2wsIGZhbHNlIHRvIGRpc2FibGUgaXRcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLm1sXSB0cnVlIHRvIGVuYWJsZSB0aGUgbWlkZGxlLWxlZnQgY29udHJvbCwgZmFsc2UgdG8gZGlzYWJsZSBpdFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMubXJdIHRydWUgdG8gZW5hYmxlIHRoZSBtaWRkbGUtcmlnaHQgY29udHJvbCwgZmFsc2UgdG8gZGlzYWJsZSBpdFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMubXRdIHRydWUgdG8gZW5hYmxlIHRoZSBtaWRkbGUtdG9wIGNvbnRyb2wsIGZhbHNlIHRvIGRpc2FibGUgaXRcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnRsXSB0cnVlIHRvIGVuYWJsZSB0aGUgdG9wLWxlZnQgY29udHJvbCwgZmFsc2UgdG8gZGlzYWJsZSBpdFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMudHJdIHRydWUgdG8gZW5hYmxlIHRoZSB0b3AtcmlnaHQgY29udHJvbCwgZmFsc2UgdG8gZGlzYWJsZSBpdFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMubXRyXSB0cnVlIHRvIGVuYWJsZSB0aGUgbWlkZGxlLXRvcC1yb3RhdGUgY29udHJvbCwgZmFsc2UgdG8gZGlzYWJsZSBpdFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgc2V0Q29udHJvbHNWaXNpYmlsaXR5OiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBvcHRpb25zIHx8IChvcHRpb25zID0geyB9KTtcblxuICAgICAgZm9yICh2YXIgcCBpbiBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuc2V0Q29udHJvbFZpc2libGUocCwgb3B0aW9uc1twXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIGNhbGxlZCBldmVyeSB0aW1lIF9kaXNjYXJkQWN0aXZlT2JqZWN0IG9yIF9zZXRBY3RpdmVPYmplY3RcbiAgICAgKiB0cnkgdG8gdG8gZGVzZWxlY3QgdGhpcyBvYmplY3QuIElmIHRoZSBmdW5jdGlvbiByZXR1cm5zIHRydWUsIHRoZSBwcm9jZXNzIGlzIGNhbmNlbGxlZFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gb3B0aW9ucyBzZW50IGZyb20gdGhlIHVwcGVyIGZ1bmN0aW9uc1xuICAgICAqIEBwYXJhbSB7RXZlbnR9IFtvcHRpb25zLmVdIGV2ZW50IGlmIHRoZSBwcm9jZXNzIGlzIGdlbmVyYXRlZCBieSBhbiBldmVudFxuICAgICAqL1xuICAgIG9uRGVzZWxlY3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgLy8gaW1wbGVtZW50ZWQgYnkgc3ViLWNsYXNzZXMsIGFzIG5lZWRlZC5cbiAgICB9LFxuXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIGNhbGxlZCBldmVyeSB0aW1lIF9kaXNjYXJkQWN0aXZlT2JqZWN0IG9yIF9zZXRBY3RpdmVPYmplY3RcbiAgICAgKiB0cnkgdG8gdG8gc2VsZWN0IHRoaXMgb2JqZWN0LiBJZiB0aGUgZnVuY3Rpb24gcmV0dXJucyB0cnVlLCB0aGUgcHJvY2VzcyBpcyBjYW5jZWxsZWRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIG9wdGlvbnMgc2VudCBmcm9tIHRoZSB1cHBlciBmdW5jdGlvbnNcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBbb3B0aW9ucy5lXSBldmVudCBpZiB0aGUgcHJvY2VzcyBpcyBnZW5lcmF0ZWQgYnkgYW4gZXZlbnRcbiAgICAgKi9cbiAgICBvblNlbGVjdDogZnVuY3Rpb24oKSB7XG4gICAgICAvLyBpbXBsZW1lbnRlZCBieSBzdWItY2xhc3NlcywgYXMgbmVlZGVkLlxuICAgIH1cbiAgfSk7XG59KSgpO1xuXG5cbmZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQoZmFicmljLlN0YXRpY0NhbnZhcy5wcm90b3R5cGUsIC8qKiBAbGVuZHMgZmFicmljLlN0YXRpY0NhbnZhcy5wcm90b3R5cGUgKi8ge1xuXG4gIC8qKlxuICAgKiBBbmltYXRpb24gZHVyYXRpb24gKGluIG1zKSBmb3IgZngqIG1ldGhvZHNcbiAgICogQHR5cGUgTnVtYmVyXG4gICAqIEBkZWZhdWx0XG4gICAqL1xuICBGWF9EVVJBVElPTjogNTAwLFxuXG4gIC8qKlxuICAgKiBDZW50ZXJzIG9iamVjdCBob3Jpem9udGFsbHkgd2l0aCBhbmltYXRpb24uXG4gICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjZW50ZXJcbiAgICogQHBhcmFtIHtPYmplY3R9IFtjYWxsYmFja3NdIENhbGxiYWNrcyBvYmplY3Qgd2l0aCBvcHRpb25hbCBcIm9uQ29tcGxldGVcIiBhbmQvb3IgXCJvbkNoYW5nZVwiIHByb3BlcnRpZXNcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrcy5vbkNvbXBsZXRlXSBJbnZva2VkIG9uIGNvbXBsZXRpb25cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrcy5vbkNoYW5nZV0gSW52b2tlZCBvbiBldmVyeSBzdGVwIG9mIGFuaW1hdGlvblxuICAgKiBAcmV0dXJuIHtmYWJyaWMuQW5pbWF0aW9uQ29udGV4dH0gY29udGV4dFxuICAgKi9cbiAgZnhDZW50ZXJPYmplY3RIOiBmdW5jdGlvbiAob2JqZWN0LCBjYWxsYmFja3MpIHtcbiAgICBjYWxsYmFja3MgPSBjYWxsYmFja3MgfHwgeyB9O1xuXG4gICAgdmFyIGVtcHR5ID0gZnVuY3Rpb24oKSB7IH0sXG4gICAgICAgIG9uQ29tcGxldGUgPSBjYWxsYmFja3Mub25Db21wbGV0ZSB8fCBlbXB0eSxcbiAgICAgICAgb25DaGFuZ2UgPSBjYWxsYmFja3Mub25DaGFuZ2UgfHwgZW1wdHksXG4gICAgICAgIF90aGlzID0gdGhpcztcblxuICAgIHJldHVybiBmYWJyaWMudXRpbC5hbmltYXRlKHtcbiAgICAgIHRhcmdldDogdGhpcyxcbiAgICAgIHN0YXJ0VmFsdWU6IG9iamVjdC5sZWZ0LFxuICAgICAgZW5kVmFsdWU6IHRoaXMuZ2V0Q2VudGVyUG9pbnQoKS54LFxuICAgICAgZHVyYXRpb246IHRoaXMuRlhfRFVSQVRJT04sXG4gICAgICBvbkNoYW5nZTogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgb2JqZWN0LnNldCgnbGVmdCcsIHZhbHVlKTtcbiAgICAgICAgX3RoaXMucmVxdWVzdFJlbmRlckFsbCgpO1xuICAgICAgICBvbkNoYW5nZSgpO1xuICAgICAgfSxcbiAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICBvYmplY3Quc2V0Q29vcmRzKCk7XG4gICAgICAgIG9uQ29tcGxldGUoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogQ2VudGVycyBvYmplY3QgdmVydGljYWxseSB3aXRoIGFuaW1hdGlvbi5cbiAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNlbnRlclxuICAgKiBAcGFyYW0ge09iamVjdH0gW2NhbGxiYWNrc10gQ2FsbGJhY2tzIG9iamVjdCB3aXRoIG9wdGlvbmFsIFwib25Db21wbGV0ZVwiIGFuZC9vciBcIm9uQ2hhbmdlXCIgcHJvcGVydGllc1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tzLm9uQ29tcGxldGVdIEludm9rZWQgb24gY29tcGxldGlvblxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tzLm9uQ2hhbmdlXSBJbnZva2VkIG9uIGV2ZXJ5IHN0ZXAgb2YgYW5pbWF0aW9uXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5BbmltYXRpb25Db250ZXh0fSBjb250ZXh0XG4gICAqL1xuICBmeENlbnRlck9iamVjdFY6IGZ1bmN0aW9uIChvYmplY3QsIGNhbGxiYWNrcykge1xuICAgIGNhbGxiYWNrcyA9IGNhbGxiYWNrcyB8fCB7IH07XG5cbiAgICB2YXIgZW1wdHkgPSBmdW5jdGlvbigpIHsgfSxcbiAgICAgICAgb25Db21wbGV0ZSA9IGNhbGxiYWNrcy5vbkNvbXBsZXRlIHx8IGVtcHR5LFxuICAgICAgICBvbkNoYW5nZSA9IGNhbGxiYWNrcy5vbkNoYW5nZSB8fCBlbXB0eSxcbiAgICAgICAgX3RoaXMgPSB0aGlzO1xuXG4gICAgcmV0dXJuIGZhYnJpYy51dGlsLmFuaW1hdGUoe1xuICAgICAgdGFyZ2V0OiB0aGlzLFxuICAgICAgc3RhcnRWYWx1ZTogb2JqZWN0LnRvcCxcbiAgICAgIGVuZFZhbHVlOiB0aGlzLmdldENlbnRlclBvaW50KCkueSxcbiAgICAgIGR1cmF0aW9uOiB0aGlzLkZYX0RVUkFUSU9OLFxuICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIG9iamVjdC5zZXQoJ3RvcCcsIHZhbHVlKTtcbiAgICAgICAgX3RoaXMucmVxdWVzdFJlbmRlckFsbCgpO1xuICAgICAgICBvbkNoYW5nZSgpO1xuICAgICAgfSxcbiAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICBvYmplY3Quc2V0Q29vcmRzKCk7XG4gICAgICAgIG9uQ29tcGxldGUoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogU2FtZSBhcyBgZmFicmljLkNhbnZhcyNyZW1vdmVgIGJ1dCBhbmltYXRlZFxuICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IG9iamVjdCBPYmplY3QgdG8gcmVtb3ZlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbY2FsbGJhY2tzXSBDYWxsYmFja3Mgb2JqZWN0IHdpdGggb3B0aW9uYWwgXCJvbkNvbXBsZXRlXCIgYW5kL29yIFwib25DaGFuZ2VcIiBwcm9wZXJ0aWVzXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja3Mub25Db21wbGV0ZV0gSW52b2tlZCBvbiBjb21wbGV0aW9uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja3Mub25DaGFuZ2VdIEludm9rZWQgb24gZXZlcnkgc3RlcCBvZiBhbmltYXRpb25cbiAgICogQHJldHVybiB7ZmFicmljLkFuaW1hdGlvbkNvbnRleHR9IGNvbnRleHRcbiAgICovXG4gIGZ4UmVtb3ZlOiBmdW5jdGlvbiAob2JqZWN0LCBjYWxsYmFja3MpIHtcbiAgICBjYWxsYmFja3MgPSBjYWxsYmFja3MgfHwgeyB9O1xuXG4gICAgdmFyIGVtcHR5ID0gZnVuY3Rpb24oKSB7IH0sXG4gICAgICAgIG9uQ29tcGxldGUgPSBjYWxsYmFja3Mub25Db21wbGV0ZSB8fCBlbXB0eSxcbiAgICAgICAgb25DaGFuZ2UgPSBjYWxsYmFja3Mub25DaGFuZ2UgfHwgZW1wdHksXG4gICAgICAgIF90aGlzID0gdGhpcztcblxuICAgIHJldHVybiBmYWJyaWMudXRpbC5hbmltYXRlKHtcbiAgICAgIHRhcmdldDogdGhpcyxcbiAgICAgIHN0YXJ0VmFsdWU6IG9iamVjdC5vcGFjaXR5LFxuICAgICAgZW5kVmFsdWU6IDAsXG4gICAgICBkdXJhdGlvbjogdGhpcy5GWF9EVVJBVElPTixcbiAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBvYmplY3Quc2V0KCdvcGFjaXR5JywgdmFsdWUpO1xuICAgICAgICBfdGhpcy5yZXF1ZXN0UmVuZGVyQWxsKCk7XG4gICAgICAgIG9uQ2hhbmdlKCk7XG4gICAgICB9LFxuICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5yZW1vdmUob2JqZWN0KTtcbiAgICAgICAgb25Db21wbGV0ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcblxuZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZChmYWJyaWMuT2JqZWN0LnByb3RvdHlwZSwgLyoqIEBsZW5kcyBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZSAqLyB7XG4gIC8qKlxuICAgKiBBbmltYXRlcyBvYmplY3QncyBwcm9wZXJ0aWVzXG4gICAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdH0gcHJvcGVydHkgUHJvcGVydHkgdG8gYW5pbWF0ZSAoaWYgc3RyaW5nKSBvciBwcm9wZXJ0aWVzIHRvIGFuaW1hdGUgKGlmIG9iamVjdClcbiAgICogQHBhcmFtIHtOdW1iZXJ8T2JqZWN0fSB2YWx1ZSBWYWx1ZSB0byBhbmltYXRlIHByb3BlcnR5IHRvIChpZiBzdHJpbmcgd2FzIGdpdmVuIGZpcnN0KSBvciBvcHRpb25zIG9iamVjdFxuICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAqIEB0dXRvcmlhbCB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9mYWJyaWMtaW50cm8tcGFydC0yI2FuaW1hdGlvbn1cbiAgICogQHJldHVybiB7ZmFicmljLkFuaW1hdGlvbkNvbnRleHQgfCBmYWJyaWMuQW5pbWF0aW9uQ29udGV4dFtdfSBhbmltYXRpb24gY29udGV4dCAob3IgYW4gYXJyYXkgaWYgcGFzc2VkIG11bHRpcGxlIHByb3BlcnRpZXMpXG4gICAqXG4gICAqIEFzIG9iamVjdCDigJQgbXVsdGlwbGUgcHJvcGVydGllc1xuICAgKlxuICAgKiBvYmplY3QuYW5pbWF0ZSh7IGxlZnQ6IC4uLiwgdG9wOiAuLi4gfSk7XG4gICAqIG9iamVjdC5hbmltYXRlKHsgbGVmdDogLi4uLCB0b3A6IC4uLiB9LCB7IGR1cmF0aW9uOiAuLi4gfSk7XG4gICAqXG4gICAqIEFzIHN0cmluZyDigJQgb25lIHByb3BlcnR5XG4gICAqXG4gICAqIG9iamVjdC5hbmltYXRlKCdsZWZ0JywgLi4uKTtcbiAgICogb2JqZWN0LmFuaW1hdGUoJ2xlZnQnLCB7IGR1cmF0aW9uOiAuLi4gfSk7XG4gICAqXG4gICAqL1xuICBhbmltYXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGFyZ3VtZW50c1swXSAmJiB0eXBlb2YgYXJndW1lbnRzWzBdID09PSAnb2JqZWN0Jykge1xuICAgICAgdmFyIHByb3BzVG9BbmltYXRlID0gW10sIHByb3AsIHNraXBDYWxsYmFja3MsIG91dCA9IFtdO1xuICAgICAgZm9yIChwcm9wIGluIGFyZ3VtZW50c1swXSkge1xuICAgICAgICBwcm9wc1RvQW5pbWF0ZS5wdXNoKHByb3ApO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHByb3BzVG9BbmltYXRlLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHByb3AgPSBwcm9wc1RvQW5pbWF0ZVtpXTtcbiAgICAgICAgc2tpcENhbGxiYWNrcyA9IGkgIT09IGxlbiAtIDE7XG4gICAgICAgIG91dC5wdXNoKHRoaXMuX2FuaW1hdGUocHJvcCwgYXJndW1lbnRzWzBdW3Byb3BdLCBhcmd1bWVudHNbMV0sIHNraXBDYWxsYmFja3MpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuX2FuaW1hdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eSBQcm9wZXJ0eSB0byBhbmltYXRlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0byBWYWx1ZSB0byBhbmltYXRlIHRvXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICogQHBhcmFtIHtCb29sZWFufSBbc2tpcENhbGxiYWNrc10gV2hlbiB0cnVlLCBjYWxsYmFja3MgbGlrZSBvbmNoYW5nZSBhbmQgb25jb21wbGV0ZSBhcmUgbm90IGludm9rZWRcbiAgICovXG4gIF9hbmltYXRlOiBmdW5jdGlvbihwcm9wZXJ0eSwgdG8sIG9wdGlvbnMsIHNraXBDYWxsYmFja3MpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzLCBwcm9wUGFpcjtcblxuICAgIHRvID0gdG8udG9TdHJpbmcoKTtcblxuICAgIGlmICghb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IHsgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBvcHRpb25zID0gZmFicmljLnV0aWwub2JqZWN0LmNsb25lKG9wdGlvbnMpO1xuICAgIH1cblxuICAgIGlmICh+cHJvcGVydHkuaW5kZXhPZignLicpKSB7XG4gICAgICBwcm9wUGFpciA9IHByb3BlcnR5LnNwbGl0KCcuJyk7XG4gICAgfVxuXG4gICAgdmFyIHByb3BJc0NvbG9yID1cbiAgICAgIF90aGlzLmNvbG9yUHJvcGVydGllcy5pbmRleE9mKHByb3BlcnR5KSA+IC0xIHx8XG4gICAgICAocHJvcFBhaXIgJiYgX3RoaXMuY29sb3JQcm9wZXJ0aWVzLmluZGV4T2YocHJvcFBhaXJbMV0pID4gLTEpO1xuXG4gICAgdmFyIGN1cnJlbnRWYWx1ZSA9IHByb3BQYWlyXG4gICAgICA/IHRoaXMuZ2V0KHByb3BQYWlyWzBdKVtwcm9wUGFpclsxXV1cbiAgICAgIDogdGhpcy5nZXQocHJvcGVydHkpO1xuXG4gICAgaWYgKCEoJ2Zyb20nIGluIG9wdGlvbnMpKSB7XG4gICAgICBvcHRpb25zLmZyb20gPSBjdXJyZW50VmFsdWU7XG4gICAgfVxuXG4gICAgaWYgKCFwcm9wSXNDb2xvcikge1xuICAgICAgaWYgKH50by5pbmRleE9mKCc9JykpIHtcbiAgICAgICAgdG8gPSBjdXJyZW50VmFsdWUgKyBwYXJzZUZsb2F0KHRvLnJlcGxhY2UoJz0nLCAnJykpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRvID0gcGFyc2VGbG9hdCh0byk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIF9vcHRpb25zID0ge1xuICAgICAgdGFyZ2V0OiB0aGlzLFxuICAgICAgc3RhcnRWYWx1ZTogb3B0aW9ucy5mcm9tLFxuICAgICAgZW5kVmFsdWU6IHRvLFxuICAgICAgYnlWYWx1ZTogb3B0aW9ucy5ieSxcbiAgICAgIGVhc2luZzogb3B0aW9ucy5lYXNpbmcsXG4gICAgICBkdXJhdGlvbjogb3B0aW9ucy5kdXJhdGlvbixcbiAgICAgIGFib3J0OiBvcHRpb25zLmFib3J0ICYmIGZ1bmN0aW9uKHZhbHVlLCB2YWx1ZVByb2dyZXNzLCB0aW1lUHJvZ3Jlc3MpIHtcbiAgICAgICAgcmV0dXJuIG9wdGlvbnMuYWJvcnQuY2FsbChfdGhpcywgdmFsdWUsIHZhbHVlUHJvZ3Jlc3MsIHRpbWVQcm9ncmVzcyk7XG4gICAgICB9LFxuICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uICh2YWx1ZSwgdmFsdWVQcm9ncmVzcywgdGltZVByb2dyZXNzKSB7XG4gICAgICAgIGlmIChwcm9wUGFpcikge1xuICAgICAgICAgIF90aGlzW3Byb3BQYWlyWzBdXVtwcm9wUGFpclsxXV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBfdGhpcy5zZXQocHJvcGVydHksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2tpcENhbGxiYWNrcykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zLm9uQ2hhbmdlICYmIG9wdGlvbnMub25DaGFuZ2UodmFsdWUsIHZhbHVlUHJvZ3Jlc3MsIHRpbWVQcm9ncmVzcyk7XG4gICAgICB9LFxuICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24gKHZhbHVlLCB2YWx1ZVByb2dyZXNzLCB0aW1lUHJvZ3Jlc3MpIHtcbiAgICAgICAgaWYgKHNraXBDYWxsYmFja3MpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcy5zZXRDb29yZHMoKTtcbiAgICAgICAgb3B0aW9ucy5vbkNvbXBsZXRlICYmIG9wdGlvbnMub25Db21wbGV0ZSh2YWx1ZSwgdmFsdWVQcm9ncmVzcywgdGltZVByb2dyZXNzKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKHByb3BJc0NvbG9yKSB7XG4gICAgICByZXR1cm4gZmFicmljLnV0aWwuYW5pbWF0ZUNvbG9yKF9vcHRpb25zLnN0YXJ0VmFsdWUsIF9vcHRpb25zLmVuZFZhbHVlLCBfb3B0aW9ucy5kdXJhdGlvbiwgX29wdGlvbnMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJldHVybiBmYWJyaWMudXRpbC5hbmltYXRlKF9vcHRpb25zKTtcbiAgICB9XG4gIH1cbn0pO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyA9IGdsb2JhbC5mYWJyaWMgfHwgKGdsb2JhbC5mYWJyaWMgPSB7IH0pLFxuICAgICAgZXh0ZW5kID0gZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZCxcbiAgICAgIGNsb25lID0gZmFicmljLnV0aWwub2JqZWN0LmNsb25lLFxuICAgICAgY29vcmRQcm9wcyA9IHsgeDE6IDEsIHgyOiAxLCB5MTogMSwgeTI6IDEgfTtcblxuICBpZiAoZmFicmljLkxpbmUpIHtcbiAgICBmYWJyaWMud2FybignZmFicmljLkxpbmUgaXMgYWxyZWFkeSBkZWZpbmVkJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIExpbmUgY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5MaW5lXG4gICAqIEBleHRlbmRzIGZhYnJpYy5PYmplY3RcbiAgICogQHNlZSB7QGxpbmsgZmFicmljLkxpbmUjaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICovXG4gIGZhYnJpYy5MaW5lID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3MoZmFicmljLk9iamVjdCwgLyoqIEBsZW5kcyBmYWJyaWMuTGluZS5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogVHlwZSBvZiBhbiBvYmplY3RcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHR5cGU6ICdsaW5lJyxcblxuICAgIC8qKlxuICAgICAqIHggdmFsdWUgb3IgZmlyc3QgbGluZSBlZGdlXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB4MTogMCxcblxuICAgIC8qKlxuICAgICAqIHkgdmFsdWUgb3IgZmlyc3QgbGluZSBlZGdlXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB5MTogMCxcblxuICAgIC8qKlxuICAgICAqIHggdmFsdWUgb3Igc2Vjb25kIGxpbmUgZWRnZVxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgeDI6IDAsXG5cbiAgICAvKipcbiAgICAgKiB5IHZhbHVlIG9yIHNlY29uZCBsaW5lIGVkZ2VcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHkyOiAwLFxuXG4gICAgY2FjaGVQcm9wZXJ0aWVzOiBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZS5jYWNoZVByb3BlcnRpZXMuY29uY2F0KCd4MScsICd4MicsICd5MScsICd5MicpLFxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcG9pbnRzXSBBcnJheSBvZiBwb2ludHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAgICogQHJldHVybiB7ZmFicmljLkxpbmV9IHRoaXNBcmdcbiAgICAgKi9cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbihwb2ludHMsIG9wdGlvbnMpIHtcbiAgICAgIGlmICghcG9pbnRzKSB7XG4gICAgICAgIHBvaW50cyA9IFswLCAwLCAwLCAwXTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jYWxsU3VwZXIoJ2luaXRpYWxpemUnLCBvcHRpb25zKTtcblxuICAgICAgdGhpcy5zZXQoJ3gxJywgcG9pbnRzWzBdKTtcbiAgICAgIHRoaXMuc2V0KCd5MScsIHBvaW50c1sxXSk7XG4gICAgICB0aGlzLnNldCgneDInLCBwb2ludHNbMl0pO1xuICAgICAgdGhpcy5zZXQoJ3kyJywgcG9pbnRzWzNdKTtcblxuICAgICAgdGhpcy5fc2V0V2lkdGhIZWlnaHQob3B0aW9ucyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zXG4gICAgICovXG4gICAgX3NldFdpZHRoSGVpZ2h0OiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBvcHRpb25zIHx8IChvcHRpb25zID0geyB9KTtcblxuICAgICAgdGhpcy53aWR0aCA9IE1hdGguYWJzKHRoaXMueDIgLSB0aGlzLngxKTtcbiAgICAgIHRoaXMuaGVpZ2h0ID0gTWF0aC5hYnModGhpcy55MiAtIHRoaXMueTEpO1xuXG4gICAgICB0aGlzLmxlZnQgPSAnbGVmdCcgaW4gb3B0aW9uc1xuICAgICAgICA/IG9wdGlvbnMubGVmdFxuICAgICAgICA6IHRoaXMuX2dldExlZnRUb09yaWdpblgoKTtcblxuICAgICAgdGhpcy50b3AgPSAndG9wJyBpbiBvcHRpb25zXG4gICAgICAgID8gb3B0aW9ucy50b3BcbiAgICAgICAgOiB0aGlzLl9nZXRUb3BUb09yaWdpblkoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5XG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgICAqL1xuICAgIF9zZXQ6IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgIHRoaXMuY2FsbFN1cGVyKCdfc2V0Jywga2V5LCB2YWx1ZSk7XG4gICAgICBpZiAodHlwZW9mIGNvb3JkUHJvcHNba2V5XSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhpcy5fc2V0V2lkdGhIZWlnaHQoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge051bWJlcn0gbGVmdFRvT3JpZ2luWCBEaXN0YW5jZSBmcm9tIGxlZnQgZWRnZSBvZiBjYW52YXMgdG8gb3JpZ2luWCBvZiBMaW5lLlxuICAgICAqL1xuICAgIF9nZXRMZWZ0VG9PcmlnaW5YOiBtYWtlRWRnZVRvT3JpZ2luR2V0dGVyKFxuICAgICAgeyAvLyBwcm9wZXJ0eSBuYW1lc1xuICAgICAgICBvcmlnaW46ICdvcmlnaW5YJyxcbiAgICAgICAgYXhpczE6ICd4MScsXG4gICAgICAgIGF4aXMyOiAneDInLFxuICAgICAgICBkaW1lbnNpb246ICd3aWR0aCdcbiAgICAgIH0sXG4gICAgICB7IC8vIHBvc3NpYmxlIHZhbHVlcyBvZiBvcmlnaW5cbiAgICAgICAgbmVhcmVzdDogJ2xlZnQnLFxuICAgICAgICBjZW50ZXI6ICdjZW50ZXInLFxuICAgICAgICBmYXJ0aGVzdDogJ3JpZ2h0J1xuICAgICAgfVxuICAgICksXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge051bWJlcn0gdG9wVG9PcmlnaW5ZIERpc3RhbmNlIGZyb20gdG9wIGVkZ2Ugb2YgY2FudmFzIHRvIG9yaWdpblkgb2YgTGluZS5cbiAgICAgKi9cbiAgICBfZ2V0VG9wVG9PcmlnaW5ZOiBtYWtlRWRnZVRvT3JpZ2luR2V0dGVyKFxuICAgICAgeyAvLyBwcm9wZXJ0eSBuYW1lc1xuICAgICAgICBvcmlnaW46ICdvcmlnaW5ZJyxcbiAgICAgICAgYXhpczE6ICd5MScsXG4gICAgICAgIGF4aXMyOiAneTInLFxuICAgICAgICBkaW1lbnNpb246ICdoZWlnaHQnXG4gICAgICB9LFxuICAgICAgeyAvLyBwb3NzaWJsZSB2YWx1ZXMgb2Ygb3JpZ2luXG4gICAgICAgIG5lYXJlc3Q6ICd0b3AnLFxuICAgICAgICBjZW50ZXI6ICdjZW50ZXInLFxuICAgICAgICBmYXJ0aGVzdDogJ2JvdHRvbSdcbiAgICAgIH1cbiAgICApLFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgX3JlbmRlcjogZnVuY3Rpb24oY3R4KSB7XG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG5cblxuICAgICAgdmFyIHAgPSB0aGlzLmNhbGNMaW5lUG9pbnRzKCk7XG4gICAgICBjdHgubW92ZVRvKHAueDEsIHAueTEpO1xuICAgICAgY3R4LmxpbmVUbyhwLngyLCBwLnkyKTtcblxuICAgICAgY3R4LmxpbmVXaWR0aCA9IHRoaXMuc3Ryb2tlV2lkdGg7XG5cbiAgICAgIC8vIFRPRE86IHRlc3QgdGhpc1xuICAgICAgLy8gbWFrZSBzdXJlIHNldHRpbmcgXCJmaWxsXCIgY2hhbmdlcyBjb2xvciBvZiBhIGxpbmVcbiAgICAgIC8vIChieSBjb3B5aW5nIGZpbGxTdHlsZSB0byBzdHJva2VTdHlsZSwgc2luY2UgbGluZSBpcyBzdHJva2VkLCBub3QgZmlsbGVkKVxuICAgICAgdmFyIG9yaWdTdHJva2VTdHlsZSA9IGN0eC5zdHJva2VTdHlsZTtcbiAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMuc3Ryb2tlIHx8IGN0eC5maWxsU3R5bGU7XG4gICAgICB0aGlzLnN0cm9rZSAmJiB0aGlzLl9yZW5kZXJTdHJva2UoY3R4KTtcbiAgICAgIGN0eC5zdHJva2VTdHlsZSA9IG9yaWdTdHJva2VTdHlsZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBhbiBoZWxwZXIgZm9yIHN2ZyBpbXBvcnQuIGl0IHJldHVybnMgdGhlIGNlbnRlciBvZiB0aGUgb2JqZWN0IGluIHRoZSBzdmdcbiAgICAgKiB1bnRyYW5zZm9ybWVkIGNvb3JkaW5hdGVzXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IGNlbnRlciBwb2ludCBmcm9tIGVsZW1lbnQgY29vcmRpbmF0ZXNcbiAgICAgKi9cbiAgICBfZmluZENlbnRlckZyb21FbGVtZW50OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHg6ICh0aGlzLngxICsgdGhpcy54MikgLyAyLFxuICAgICAgICB5OiAodGhpcy55MSArIHRoaXMueTIpIC8gMixcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQG1ldGhvZCB0b09iamVjdFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wZXJ0aWVzVG9JbmNsdWRlXSBBbnkgcHJvcGVydGllcyB0aGF0IHlvdSBtaWdodCB3YW50IHRvIGFkZGl0aW9uYWxseSBpbmNsdWRlIGluIHRoZSBvdXRwdXRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRvT2JqZWN0OiBmdW5jdGlvbihwcm9wZXJ0aWVzVG9JbmNsdWRlKSB7XG4gICAgICByZXR1cm4gZXh0ZW5kKHRoaXMuY2FsbFN1cGVyKCd0b09iamVjdCcsIHByb3BlcnRpZXNUb0luY2x1ZGUpLCB0aGlzLmNhbGNMaW5lUG9pbnRzKCkpO1xuICAgIH0sXG5cbiAgICAvKlxuICAgICAqIENhbGN1bGF0ZSBvYmplY3QgZGltZW5zaW9ucyBmcm9tIGl0cyBwcm9wZXJ0aWVzXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZ2V0Tm9uVHJhbnNmb3JtZWREaW1lbnNpb25zOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBkaW0gPSB0aGlzLmNhbGxTdXBlcignX2dldE5vblRyYW5zZm9ybWVkRGltZW5zaW9ucycpO1xuICAgICAgaWYgKHRoaXMuc3Ryb2tlTGluZUNhcCA9PT0gJ2J1dHQnKSB7XG4gICAgICAgIGlmICh0aGlzLndpZHRoID09PSAwKSB7XG4gICAgICAgICAgZGltLnkgLT0gdGhpcy5zdHJva2VXaWR0aDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5oZWlnaHQgPT09IDApIHtcbiAgICAgICAgICBkaW0ueCAtPSB0aGlzLnN0cm9rZVdpZHRoO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZGltO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZWNhbGN1bGF0ZXMgbGluZSBwb2ludHMgZ2l2ZW4gd2lkdGggYW5kIGhlaWdodFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY2FsY0xpbmVQb2ludHM6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHhNdWx0ID0gdGhpcy54MSA8PSB0aGlzLngyID8gLTEgOiAxLFxuICAgICAgICAgIHlNdWx0ID0gdGhpcy55MSA8PSB0aGlzLnkyID8gLTEgOiAxLFxuICAgICAgICAgIHgxID0gKHhNdWx0ICogdGhpcy53aWR0aCAqIDAuNSksXG4gICAgICAgICAgeTEgPSAoeU11bHQgKiB0aGlzLmhlaWdodCAqIDAuNSksXG4gICAgICAgICAgeDIgPSAoeE11bHQgKiB0aGlzLndpZHRoICogLTAuNSksXG4gICAgICAgICAgeTIgPSAoeU11bHQgKiB0aGlzLmhlaWdodCAqIC0wLjUpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB4MTogeDEsXG4gICAgICAgIHgyOiB4MixcbiAgICAgICAgeTE6IHkxLFxuICAgICAgICB5MjogeTJcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qIF9UT19TVkdfU1RBUlRfICovXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBzdmcgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gYW4gYXJyYXkgb2Ygc3RyaW5ncyB3aXRoIHRoZSBzcGVjaWZpYyBzdmcgcmVwcmVzZW50YXRpb25cbiAgICAgKiBvZiB0aGUgaW5zdGFuY2VcbiAgICAgKi9cbiAgICBfdG9TVkc6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHAgPSB0aGlzLmNhbGNMaW5lUG9pbnRzKCk7XG4gICAgICByZXR1cm4gW1xuICAgICAgICAnPGxpbmUgJywgJ0NPTU1PTl9QQVJUUycsXG4gICAgICAgICd4MT1cIicsIHAueDEsXG4gICAgICAgICdcIiB5MT1cIicsIHAueTEsXG4gICAgICAgICdcIiB4Mj1cIicsIHAueDIsXG4gICAgICAgICdcIiB5Mj1cIicsIHAueTIsXG4gICAgICAgICdcIiAvPlxcbidcbiAgICAgIF07XG4gICAgfSxcbiAgICAvKiBfVE9fU1ZHX0VORF8gKi9cbiAgfSk7XG5cbiAgLyogX0ZST01fU1ZHX1NUQVJUXyAqL1xuICAvKipcbiAgICogTGlzdCBvZiBhdHRyaWJ1dGUgbmFtZXMgdG8gYWNjb3VudCBmb3Igd2hlbiBwYXJzaW5nIFNWRyBlbGVtZW50ICh1c2VkIGJ5IHtAbGluayBmYWJyaWMuTGluZS5mcm9tRWxlbWVudH0pXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5MaW5lXG4gICAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHL3NoYXBlcy5odG1sI0xpbmVFbGVtZW50XG4gICAqL1xuICBmYWJyaWMuTGluZS5BVFRSSUJVVEVfTkFNRVMgPSBmYWJyaWMuU0hBUkVEX0FUVFJJQlVURVMuY29uY2F0KCd4MSB5MSB4MiB5Micuc3BsaXQoJyAnKSk7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgZmFicmljLkxpbmUgaW5zdGFuY2UgZnJvbSBhbiBTVkcgZWxlbWVudFxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuTGluZVxuICAgKiBAcGFyYW0ge1NWR0VsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCB0byBwYXJzZVxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gY2FsbGJhY2sgZnVuY3Rpb24gaW52b2tlZCBhZnRlciBwYXJzaW5nXG4gICAqL1xuICBmYWJyaWMuTGluZS5mcm9tRWxlbWVudCA9IGZ1bmN0aW9uKGVsZW1lbnQsIGNhbGxiYWNrLCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyB9O1xuICAgIHZhciBwYXJzZWRBdHRyaWJ1dGVzID0gZmFicmljLnBhcnNlQXR0cmlidXRlcyhlbGVtZW50LCBmYWJyaWMuTGluZS5BVFRSSUJVVEVfTkFNRVMpLFxuICAgICAgICBwb2ludHMgPSBbXG4gICAgICAgICAgcGFyc2VkQXR0cmlidXRlcy54MSB8fCAwLFxuICAgICAgICAgIHBhcnNlZEF0dHJpYnV0ZXMueTEgfHwgMCxcbiAgICAgICAgICBwYXJzZWRBdHRyaWJ1dGVzLngyIHx8IDAsXG4gICAgICAgICAgcGFyc2VkQXR0cmlidXRlcy55MiB8fCAwXG4gICAgICAgIF07XG4gICAgY2FsbGJhY2sobmV3IGZhYnJpYy5MaW5lKHBvaW50cywgZXh0ZW5kKHBhcnNlZEF0dHJpYnV0ZXMsIG9wdGlvbnMpKSk7XG4gIH07XG4gIC8qIF9GUk9NX1NWR19FTkRfICovXG5cbiAgLyoqXG4gICAqIFJldHVybnMgZmFicmljLkxpbmUgaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLkxpbmVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY3JlYXRlIGFuIGluc3RhbmNlIGZyb21cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2NhbGxiYWNrXSBpbnZva2VkIHdpdGggbmV3IGluc3RhbmNlIGFzIGZpcnN0IGFyZ3VtZW50XG4gICAqL1xuICBmYWJyaWMuTGluZS5mcm9tT2JqZWN0ID0gZnVuY3Rpb24ob2JqZWN0LCBjYWxsYmFjaykge1xuICAgIGZ1bmN0aW9uIF9jYWxsYmFjayhpbnN0YW5jZSkge1xuICAgICAgZGVsZXRlIGluc3RhbmNlLnBvaW50cztcbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGluc3RhbmNlKTtcbiAgICB9O1xuICAgIHZhciBvcHRpb25zID0gY2xvbmUob2JqZWN0LCB0cnVlKTtcbiAgICBvcHRpb25zLnBvaW50cyA9IFtvYmplY3QueDEsIG9iamVjdC55MSwgb2JqZWN0LngyLCBvYmplY3QueTJdO1xuICAgIGZhYnJpYy5PYmplY3QuX2Zyb21PYmplY3QoJ0xpbmUnLCBvcHRpb25zLCBfY2FsbGJhY2ssICdwb2ludHMnKTtcbiAgfTtcblxuICAvKipcbiAgICogUHJvZHVjZXMgYSBmdW5jdGlvbiB0aGF0IGNhbGN1bGF0ZXMgZGlzdGFuY2UgZnJvbSBjYW52YXMgZWRnZSB0byBMaW5lIG9yaWdpbi5cbiAgICovXG4gIGZ1bmN0aW9uIG1ha2VFZGdlVG9PcmlnaW5HZXR0ZXIocHJvcGVydHlOYW1lcywgb3JpZ2luVmFsdWVzKSB7XG4gICAgdmFyIG9yaWdpbiA9IHByb3BlcnR5TmFtZXMub3JpZ2luLFxuICAgICAgICBheGlzMSA9IHByb3BlcnR5TmFtZXMuYXhpczEsXG4gICAgICAgIGF4aXMyID0gcHJvcGVydHlOYW1lcy5heGlzMixcbiAgICAgICAgZGltZW5zaW9uID0gcHJvcGVydHlOYW1lcy5kaW1lbnNpb24sXG4gICAgICAgIG5lYXJlc3QgPSBvcmlnaW5WYWx1ZXMubmVhcmVzdCxcbiAgICAgICAgY2VudGVyID0gb3JpZ2luVmFsdWVzLmNlbnRlcixcbiAgICAgICAgZmFydGhlc3QgPSBvcmlnaW5WYWx1ZXMuZmFydGhlc3Q7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICBzd2l0Y2ggKHRoaXMuZ2V0KG9yaWdpbikpIHtcbiAgICAgICAgY2FzZSBuZWFyZXN0OlxuICAgICAgICAgIHJldHVybiBNYXRoLm1pbih0aGlzLmdldChheGlzMSksIHRoaXMuZ2V0KGF4aXMyKSk7XG4gICAgICAgIGNhc2UgY2VudGVyOlxuICAgICAgICAgIHJldHVybiBNYXRoLm1pbih0aGlzLmdldChheGlzMSksIHRoaXMuZ2V0KGF4aXMyKSkgKyAoMC41ICogdGhpcy5nZXQoZGltZW5zaW9uKSk7XG4gICAgICAgIGNhc2UgZmFydGhlc3Q6XG4gICAgICAgICAgcmV0dXJuIE1hdGgubWF4KHRoaXMuZ2V0KGF4aXMxKSwgdGhpcy5nZXQoYXhpczIpKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gIH1cblxufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyA9IGdsb2JhbC5mYWJyaWMgfHwgKGdsb2JhbC5mYWJyaWMgPSB7IH0pLFxuICAgICAgZGVncmVlc1RvUmFkaWFucyA9IGZhYnJpYy51dGlsLmRlZ3JlZXNUb1JhZGlhbnM7XG5cbiAgaWYgKGZhYnJpYy5DaXJjbGUpIHtcbiAgICBmYWJyaWMud2FybignZmFicmljLkNpcmNsZSBpcyBhbHJlYWR5IGRlZmluZWQuJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIENpcmNsZSBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkNpcmNsZVxuICAgKiBAZXh0ZW5kcyBmYWJyaWMuT2JqZWN0XG4gICAqIEBzZWUge0BsaW5rIGZhYnJpYy5DaXJjbGUjaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICovXG4gIGZhYnJpYy5DaXJjbGUgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcyhmYWJyaWMuT2JqZWN0LCAvKiogQGxlbmRzIGZhYnJpYy5DaXJjbGUucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIFR5cGUgb2YgYW4gb2JqZWN0XG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0eXBlOiAnY2lyY2xlJyxcblxuICAgIC8qKlxuICAgICAqIFJhZGl1cyBvZiB0aGlzIGNpcmNsZVxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgcmFkaXVzOiAwLFxuXG4gICAgLyoqXG4gICAgICogZGVncmVlcyBvZiBzdGFydCBvZiB0aGUgY2lyY2xlLlxuICAgICAqIHByb2JhYmx5IHdpbGwgY2hhbmdlIHRvIGRlZ3JlZXMgaW4gbmV4dCBtYWpvciB2ZXJzaW9uXG4gICAgICogQHR5cGUgTnVtYmVyIDAgLSAzNTlcbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgc3RhcnRBbmdsZTogMCxcblxuICAgIC8qKlxuICAgICAqIEVuZCBhbmdsZSBvZiB0aGUgY2lyY2xlXG4gICAgICogcHJvYmFibHkgd2lsbCBjaGFuZ2UgdG8gZGVncmVlcyBpbiBuZXh0IG1ham9yIHZlcnNpb25cbiAgICAgKiBAdHlwZSBOdW1iZXIgMSAtIDM2MFxuICAgICAqIEBkZWZhdWx0IDM2MFxuICAgICAqL1xuICAgIGVuZEFuZ2xlOiAzNjAsXG5cbiAgICBjYWNoZVByb3BlcnRpZXM6IGZhYnJpYy5PYmplY3QucHJvdG90eXBlLmNhY2hlUHJvcGVydGllcy5jb25jYXQoJ3JhZGl1cycsICdzdGFydEFuZ2xlJywgJ2VuZEFuZ2xlJyksXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlXG4gICAgICogQHJldHVybiB7ZmFicmljLkNpcmNsZX0gdGhpc0FyZ1xuICAgICAqL1xuICAgIF9zZXQ6IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgIHRoaXMuY2FsbFN1cGVyKCdfc2V0Jywga2V5LCB2YWx1ZSk7XG5cbiAgICAgIGlmIChrZXkgPT09ICdyYWRpdXMnKSB7XG4gICAgICAgIHRoaXMuc2V0UmFkaXVzKHZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BlcnRpZXNUb0luY2x1ZGVdIEFueSBwcm9wZXJ0aWVzIHRoYXQgeW91IG1pZ2h0IHdhbnQgdG8gYWRkaXRpb25hbGx5IGluY2x1ZGUgaW4gdGhlIG91dHB1dFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgdG9PYmplY3Q6IGZ1bmN0aW9uKHByb3BlcnRpZXNUb0luY2x1ZGUpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhbGxTdXBlcigndG9PYmplY3QnLCBbJ3JhZGl1cycsICdzdGFydEFuZ2xlJywgJ2VuZEFuZ2xlJ10uY29uY2F0KHByb3BlcnRpZXNUb0luY2x1ZGUpKTtcbiAgICB9LFxuXG4gICAgLyogX1RPX1NWR19TVEFSVF8gKi9cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgc3ZnIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHJldHVybiB7QXJyYXl9IGFuIGFycmF5IG9mIHN0cmluZ3Mgd2l0aCB0aGUgc3BlY2lmaWMgc3ZnIHJlcHJlc2VudGF0aW9uXG4gICAgICogb2YgdGhlIGluc3RhbmNlXG4gICAgICovXG4gICAgX3RvU1ZHOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzdmdTdHJpbmcsIHggPSAwLCB5ID0gMCxcbiAgICAgICAgICBhbmdsZSA9ICh0aGlzLmVuZEFuZ2xlIC0gdGhpcy5zdGFydEFuZ2xlKSAlIDM2MDtcblxuICAgICAgaWYgKGFuZ2xlID09PSAwKSB7XG4gICAgICAgIHN2Z1N0cmluZyA9IFtcbiAgICAgICAgICAnPGNpcmNsZSAnLCAnQ09NTU9OX1BBUlRTJyxcbiAgICAgICAgICAnY3g9XCInICsgeCArICdcIiBjeT1cIicgKyB5ICsgJ1wiICcsXG4gICAgICAgICAgJ3I9XCInLCB0aGlzLnJhZGl1cyxcbiAgICAgICAgICAnXCIgLz5cXG4nXG4gICAgICAgIF07XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdmFyIHN0YXJ0ID0gZGVncmVlc1RvUmFkaWFucyh0aGlzLnN0YXJ0QW5nbGUpLFxuICAgICAgICAgICAgZW5kID0gZGVncmVlc1RvUmFkaWFucyh0aGlzLmVuZEFuZ2xlKSxcbiAgICAgICAgICAgIHJhZGl1cyA9IHRoaXMucmFkaXVzLFxuICAgICAgICAgICAgc3RhcnRYID0gZmFicmljLnV0aWwuY29zKHN0YXJ0KSAqIHJhZGl1cyxcbiAgICAgICAgICAgIHN0YXJ0WSA9IGZhYnJpYy51dGlsLnNpbihzdGFydCkgKiByYWRpdXMsXG4gICAgICAgICAgICBlbmRYID0gZmFicmljLnV0aWwuY29zKGVuZCkgKiByYWRpdXMsXG4gICAgICAgICAgICBlbmRZID0gZmFicmljLnV0aWwuc2luKGVuZCkgKiByYWRpdXMsXG4gICAgICAgICAgICBsYXJnZUZsYWcgPSBhbmdsZSA+IDE4MCA/ICcxJyA6ICcwJztcbiAgICAgICAgc3ZnU3RyaW5nID0gW1xuICAgICAgICAgICc8cGF0aCBkPVwiTSAnICsgc3RhcnRYICsgJyAnICsgc3RhcnRZLFxuICAgICAgICAgICcgQSAnICsgcmFkaXVzICsgJyAnICsgcmFkaXVzLFxuICAgICAgICAgICcgMCAnLCArbGFyZ2VGbGFnICsgJyAxJywgJyAnICsgZW5kWCArICcgJyArIGVuZFksXG4gICAgICAgICAgJ1wiICcsICdDT01NT05fUEFSVFMnLCAnIC8+XFxuJ1xuICAgICAgICBdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN2Z1N0cmluZztcbiAgICB9LFxuICAgIC8qIF9UT19TVkdfRU5EXyAqL1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IGNvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgX3JlbmRlcjogZnVuY3Rpb24oY3R4KSB7XG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICBjdHguYXJjKFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICB0aGlzLnJhZGl1cyxcbiAgICAgICAgZGVncmVlc1RvUmFkaWFucyh0aGlzLnN0YXJ0QW5nbGUpLFxuICAgICAgICBkZWdyZWVzVG9SYWRpYW5zKHRoaXMuZW5kQW5nbGUpLFxuICAgICAgICBmYWxzZVxuICAgICAgKTtcbiAgICAgIHRoaXMuX3JlbmRlclBhaW50SW5PcmRlcihjdHgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGhvcml6b250YWwgcmFkaXVzIG9mIGFuIG9iamVjdCAoYWNjb3JkaW5nIHRvIGhvdyBhbiBvYmplY3QgaXMgc2NhbGVkKVxuICAgICAqIEByZXR1cm4ge051bWJlcn1cbiAgICAgKi9cbiAgICBnZXRSYWRpdXNYOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgncmFkaXVzJykgKiB0aGlzLmdldCgnc2NhbGVYJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdmVydGljYWwgcmFkaXVzIG9mIGFuIG9iamVjdCAoYWNjb3JkaW5nIHRvIGhvdyBhbiBvYmplY3QgaXMgc2NhbGVkKVxuICAgICAqIEByZXR1cm4ge051bWJlcn1cbiAgICAgKi9cbiAgICBnZXRSYWRpdXNZOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgncmFkaXVzJykgKiB0aGlzLmdldCgnc2NhbGVZJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgcmFkaXVzIG9mIGFuIG9iamVjdCAoYW5kIHVwZGF0ZXMgd2lkdGggYWNjb3JkaW5nbHkpXG4gICAgICogQHJldHVybiB7ZmFicmljLkNpcmNsZX0gdGhpc0FyZ1xuICAgICAqL1xuICAgIHNldFJhZGl1czogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHRoaXMucmFkaXVzID0gdmFsdWU7XG4gICAgICByZXR1cm4gdGhpcy5zZXQoJ3dpZHRoJywgdmFsdWUgKiAyKS5zZXQoJ2hlaWdodCcsIHZhbHVlICogMik7XG4gICAgfSxcbiAgfSk7XG5cbiAgLyogX0ZST01fU1ZHX1NUQVJUXyAqL1xuICAvKipcbiAgICogTGlzdCBvZiBhdHRyaWJ1dGUgbmFtZXMgdG8gYWNjb3VudCBmb3Igd2hlbiBwYXJzaW5nIFNWRyBlbGVtZW50ICh1c2VkIGJ5IHtAbGluayBmYWJyaWMuQ2lyY2xlLmZyb21FbGVtZW50fSlcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLkNpcmNsZVxuICAgKiBAc2VlOiBodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcvc2hhcGVzLmh0bWwjQ2lyY2xlRWxlbWVudFxuICAgKi9cbiAgZmFicmljLkNpcmNsZS5BVFRSSUJVVEVfTkFNRVMgPSBmYWJyaWMuU0hBUkVEX0FUVFJJQlVURVMuY29uY2F0KCdjeCBjeSByJy5zcGxpdCgnICcpKTtcblxuICAvKipcbiAgICogUmV0dXJucyB7QGxpbmsgZmFicmljLkNpcmNsZX0gaW5zdGFuY2UgZnJvbSBhbiBTVkcgZWxlbWVudFxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuQ2lyY2xlXG4gICAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gZWxlbWVudCBFbGVtZW50IHRvIHBhcnNlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gT3B0aW9ucyBjYWxsYmFjayBpbnZva2VkIGFmdGVyIHBhcnNpbmcgaXMgZmluaXNoZWRcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdmFsdWUgb2YgYHJgIGF0dHJpYnV0ZSBpcyBtaXNzaW5nIG9yIGludmFsaWRcbiAgICovXG4gIGZhYnJpYy5DaXJjbGUuZnJvbUVsZW1lbnQgPSBmdW5jdGlvbihlbGVtZW50LCBjYWxsYmFjaykge1xuICAgIHZhciBwYXJzZWRBdHRyaWJ1dGVzID0gZmFicmljLnBhcnNlQXR0cmlidXRlcyhlbGVtZW50LCBmYWJyaWMuQ2lyY2xlLkFUVFJJQlVURV9OQU1FUyk7XG5cbiAgICBpZiAoIWlzVmFsaWRSYWRpdXMocGFyc2VkQXR0cmlidXRlcykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigndmFsdWUgb2YgYHJgIGF0dHJpYnV0ZSBpcyByZXF1aXJlZCBhbmQgY2FuIG5vdCBiZSBuZWdhdGl2ZScpO1xuICAgIH1cblxuICAgIHBhcnNlZEF0dHJpYnV0ZXMubGVmdCA9IChwYXJzZWRBdHRyaWJ1dGVzLmxlZnQgfHwgMCkgLSBwYXJzZWRBdHRyaWJ1dGVzLnJhZGl1cztcbiAgICBwYXJzZWRBdHRyaWJ1dGVzLnRvcCA9IChwYXJzZWRBdHRyaWJ1dGVzLnRvcCB8fCAwKSAtIHBhcnNlZEF0dHJpYnV0ZXMucmFkaXVzO1xuICAgIGNhbGxiYWNrKG5ldyBmYWJyaWMuQ2lyY2xlKHBhcnNlZEF0dHJpYnV0ZXMpKTtcbiAgfTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGZ1bmN0aW9uIGlzVmFsaWRSYWRpdXMoYXR0cmlidXRlcykge1xuICAgIHJldHVybiAoKCdyYWRpdXMnIGluIGF0dHJpYnV0ZXMpICYmIChhdHRyaWJ1dGVzLnJhZGl1cyA+PSAwKSk7XG4gIH1cbiAgLyogX0ZST01fU1ZHX0VORF8gKi9cblxuICAvKipcbiAgICogUmV0dXJucyB7QGxpbmsgZmFicmljLkNpcmNsZX0gaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLkNpcmNsZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIGludm9rZWQgd2l0aCBuZXcgaW5zdGFuY2UgYXMgZmlyc3QgYXJndW1lbnRcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIGZhYnJpYy5DaXJjbGUuZnJvbU9iamVjdCA9IGZ1bmN0aW9uKG9iamVjdCwgY2FsbGJhY2spIHtcbiAgICBmYWJyaWMuT2JqZWN0Ll9mcm9tT2JqZWN0KCdDaXJjbGUnLCBvYmplY3QsIGNhbGxiYWNrKTtcbiAgfTtcblxufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyA9IGdsb2JhbC5mYWJyaWMgfHwgKGdsb2JhbC5mYWJyaWMgPSB7IH0pO1xuXG4gIGlmIChmYWJyaWMuVHJpYW5nbGUpIHtcbiAgICBmYWJyaWMud2FybignZmFicmljLlRyaWFuZ2xlIGlzIGFscmVhZHkgZGVmaW5lZCcpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBUcmlhbmdsZSBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLlRyaWFuZ2xlXG4gICAqIEBleHRlbmRzIGZhYnJpYy5PYmplY3RcbiAgICogQHJldHVybiB7ZmFicmljLlRyaWFuZ2xlfSB0aGlzQXJnXG4gICAqIEBzZWUge0BsaW5rIGZhYnJpYy5UcmlhbmdsZSNpbml0aWFsaXplfSBmb3IgY29uc3RydWN0b3IgZGVmaW5pdGlvblxuICAgKi9cbiAgZmFicmljLlRyaWFuZ2xlID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3MoZmFicmljLk9iamVjdCwgLyoqIEBsZW5kcyBmYWJyaWMuVHJpYW5nbGUucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIFR5cGUgb2YgYW4gb2JqZWN0XG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0eXBlOiAndHJpYW5nbGUnLFxuXG4gICAgLyoqXG4gICAgICogV2lkdGggaXMgc2V0IHRvIDEwMCB0byBjb21wZW5zYXRlIHRoZSBvbGQgaW5pdGlhbGl6ZSBjb2RlIHRoYXQgd2FzIHNldHRpbmcgaXQgdG8gMTAwXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB3aWR0aDogMTAwLFxuXG4gICAgLyoqXG4gICAgICogSGVpZ2h0IGlzIHNldCB0byAxMDAgdG8gY29tcGVuc2F0ZSB0aGUgb2xkIGluaXRpYWxpemUgY29kZSB0aGF0IHdhcyBzZXR0aW5nIGl0IHRvIDEwMFxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgaGVpZ2h0OiAxMDAsXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfcmVuZGVyOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIHZhciB3aWR0aEJ5MiA9IHRoaXMud2lkdGggLyAyLFxuICAgICAgICAgIGhlaWdodEJ5MiA9IHRoaXMuaGVpZ2h0IC8gMjtcblxuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgY3R4Lm1vdmVUbygtd2lkdGhCeTIsIGhlaWdodEJ5Mik7XG4gICAgICBjdHgubGluZVRvKDAsIC1oZWlnaHRCeTIpO1xuICAgICAgY3R4LmxpbmVUbyh3aWR0aEJ5MiwgaGVpZ2h0QnkyKTtcbiAgICAgIGN0eC5jbG9zZVBhdGgoKTtcblxuICAgICAgdGhpcy5fcmVuZGVyUGFpbnRJbk9yZGVyKGN0eCk7XG4gICAgfSxcblxuICAgIC8qIF9UT19TVkdfU1RBUlRfICovXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBzdmcgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gYW4gYXJyYXkgb2Ygc3RyaW5ncyB3aXRoIHRoZSBzcGVjaWZpYyBzdmcgcmVwcmVzZW50YXRpb25cbiAgICAgKiBvZiB0aGUgaW5zdGFuY2VcbiAgICAgKi9cbiAgICBfdG9TVkc6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHdpZHRoQnkyID0gdGhpcy53aWR0aCAvIDIsXG4gICAgICAgICAgaGVpZ2h0QnkyID0gdGhpcy5oZWlnaHQgLyAyLFxuICAgICAgICAgIHBvaW50cyA9IFtcbiAgICAgICAgICAgIC13aWR0aEJ5MiArICcgJyArIGhlaWdodEJ5MixcbiAgICAgICAgICAgICcwICcgKyAtaGVpZ2h0QnkyLFxuICAgICAgICAgICAgd2lkdGhCeTIgKyAnICcgKyBoZWlnaHRCeTJcbiAgICAgICAgICBdLmpvaW4oJywnKTtcbiAgICAgIHJldHVybiBbXG4gICAgICAgICc8cG9seWdvbiAnLCAnQ09NTU9OX1BBUlRTJyxcbiAgICAgICAgJ3BvaW50cz1cIicsIHBvaW50cyxcbiAgICAgICAgJ1wiIC8+J1xuICAgICAgXTtcbiAgICB9LFxuICAgIC8qIF9UT19TVkdfRU5EXyAqL1xuICB9KTtcblxuICAvKipcbiAgICogUmV0dXJucyB7QGxpbmsgZmFicmljLlRyaWFuZ2xlfSBpbnN0YW5jZSBmcm9tIGFuIG9iamVjdCByZXByZXNlbnRhdGlvblxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuVHJpYW5nbGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY3JlYXRlIGFuIGluc3RhbmNlIGZyb21cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2NhbGxiYWNrXSBpbnZva2VkIHdpdGggbmV3IGluc3RhbmNlIGFzIGZpcnN0IGFyZ3VtZW50XG4gICAqL1xuICBmYWJyaWMuVHJpYW5nbGUuZnJvbU9iamVjdCA9IGZ1bmN0aW9uKG9iamVjdCwgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gZmFicmljLk9iamVjdC5fZnJvbU9iamVjdCgnVHJpYW5nbGUnLCBvYmplY3QsIGNhbGxiYWNrKTtcbiAgfTtcblxufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyA9IGdsb2JhbC5mYWJyaWMgfHwgKGdsb2JhbC5mYWJyaWMgPSB7IH0pLFxuICAgICAgcGlCeTIgICA9IE1hdGguUEkgKiAyO1xuXG4gIGlmIChmYWJyaWMuRWxsaXBzZSkge1xuICAgIGZhYnJpYy53YXJuKCdmYWJyaWMuRWxsaXBzZSBpcyBhbHJlYWR5IGRlZmluZWQuJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEVsbGlwc2UgY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5FbGxpcHNlXG4gICAqIEBleHRlbmRzIGZhYnJpYy5PYmplY3RcbiAgICogQHJldHVybiB7ZmFicmljLkVsbGlwc2V9IHRoaXNBcmdcbiAgICogQHNlZSB7QGxpbmsgZmFicmljLkVsbGlwc2UjaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICovXG4gIGZhYnJpYy5FbGxpcHNlID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3MoZmFicmljLk9iamVjdCwgLyoqIEBsZW5kcyBmYWJyaWMuRWxsaXBzZS5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogVHlwZSBvZiBhbiBvYmplY3RcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHR5cGU6ICdlbGxpcHNlJyxcblxuICAgIC8qKlxuICAgICAqIEhvcml6b250YWwgcmFkaXVzXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICByeDogICAwLFxuXG4gICAgLyoqXG4gICAgICogVmVydGljYWwgcmFkaXVzXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICByeTogICAwLFxuXG4gICAgY2FjaGVQcm9wZXJ0aWVzOiBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZS5jYWNoZVByb3BlcnRpZXMuY29uY2F0KCdyeCcsICdyeScpLFxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAgICogQHJldHVybiB7ZmFicmljLkVsbGlwc2V9IHRoaXNBcmdcbiAgICAgKi9cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICB0aGlzLmNhbGxTdXBlcignaW5pdGlhbGl6ZScsIG9wdGlvbnMpO1xuICAgICAgdGhpcy5zZXQoJ3J4Jywgb3B0aW9ucyAmJiBvcHRpb25zLnJ4IHx8IDApO1xuICAgICAgdGhpcy5zZXQoJ3J5Jywgb3B0aW9ucyAmJiBvcHRpb25zLnJ5IHx8IDApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlXG4gICAgICogQHJldHVybiB7ZmFicmljLkVsbGlwc2V9IHRoaXNBcmdcbiAgICAgKi9cbiAgICBfc2V0OiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICB0aGlzLmNhbGxTdXBlcignX3NldCcsIGtleSwgdmFsdWUpO1xuICAgICAgc3dpdGNoIChrZXkpIHtcblxuICAgICAgICBjYXNlICdyeCc6XG4gICAgICAgICAgdGhpcy5yeCA9IHZhbHVlO1xuICAgICAgICAgIHRoaXMuc2V0KCd3aWR0aCcsIHZhbHVlICogMik7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAncnknOlxuICAgICAgICAgIHRoaXMucnkgPSB2YWx1ZTtcbiAgICAgICAgICB0aGlzLnNldCgnaGVpZ2h0JywgdmFsdWUgKiAyKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgaG9yaXpvbnRhbCByYWRpdXMgb2YgYW4gb2JqZWN0IChhY2NvcmRpbmcgdG8gaG93IGFuIG9iamVjdCBpcyBzY2FsZWQpXG4gICAgICogQHJldHVybiB7TnVtYmVyfVxuICAgICAqL1xuICAgIGdldFJ4OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgncngnKSAqIHRoaXMuZ2V0KCdzY2FsZVgnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBWZXJ0aWNhbCByYWRpdXMgb2YgYW4gb2JqZWN0IChhY2NvcmRpbmcgdG8gaG93IGFuIG9iamVjdCBpcyBzY2FsZWQpXG4gICAgICogQHJldHVybiB7TnVtYmVyfVxuICAgICAqL1xuICAgIGdldFJ5OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgncnknKSAqIHRoaXMuZ2V0KCdzY2FsZVknKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcGVydGllc1RvSW5jbHVkZV0gQW55IHByb3BlcnRpZXMgdGhhdCB5b3UgbWlnaHQgd2FudCB0byBhZGRpdGlvbmFsbHkgaW5jbHVkZSBpbiB0aGUgb3V0cHV0XG4gICAgICogQHJldHVybiB7T2JqZWN0fSBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b09iamVjdDogZnVuY3Rpb24ocHJvcGVydGllc1RvSW5jbHVkZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FsbFN1cGVyKCd0b09iamVjdCcsIFsncngnLCAncnknXS5jb25jYXQocHJvcGVydGllc1RvSW5jbHVkZSkpO1xuICAgIH0sXG5cbiAgICAvKiBfVE9fU1ZHX1NUQVJUXyAqL1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgc3ZnIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHJldHVybiB7QXJyYXl9IGFuIGFycmF5IG9mIHN0cmluZ3Mgd2l0aCB0aGUgc3BlY2lmaWMgc3ZnIHJlcHJlc2VudGF0aW9uXG4gICAgICogb2YgdGhlIGluc3RhbmNlXG4gICAgICovXG4gICAgX3RvU1ZHOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBbXG4gICAgICAgICc8ZWxsaXBzZSAnLCAnQ09NTU9OX1BBUlRTJyxcbiAgICAgICAgJ2N4PVwiMFwiIGN5PVwiMFwiICcsXG4gICAgICAgICdyeD1cIicsIHRoaXMucngsXG4gICAgICAgICdcIiByeT1cIicsIHRoaXMucnksXG4gICAgICAgICdcIiAvPlxcbidcbiAgICAgIF07XG4gICAgfSxcbiAgICAvKiBfVE9fU1ZHX0VORF8gKi9cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBjb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIF9yZW5kZXI6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgY3R4LnNhdmUoKTtcbiAgICAgIGN0eC50cmFuc2Zvcm0oMSwgMCwgMCwgdGhpcy5yeSAvIHRoaXMucngsIDAsIDApO1xuICAgICAgY3R4LmFyYyhcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgdGhpcy5yeCxcbiAgICAgICAgMCxcbiAgICAgICAgcGlCeTIsXG4gICAgICAgIGZhbHNlKTtcbiAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICB0aGlzLl9yZW5kZXJQYWludEluT3JkZXIoY3R4KTtcbiAgICB9LFxuICB9KTtcblxuICAvKiBfRlJPTV9TVkdfU1RBUlRfICovXG4gIC8qKlxuICAgKiBMaXN0IG9mIGF0dHJpYnV0ZSBuYW1lcyB0byBhY2NvdW50IGZvciB3aGVuIHBhcnNpbmcgU1ZHIGVsZW1lbnQgKHVzZWQgYnkge0BsaW5rIGZhYnJpYy5FbGxpcHNlLmZyb21FbGVtZW50fSlcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLkVsbGlwc2VcbiAgICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcvc2hhcGVzLmh0bWwjRWxsaXBzZUVsZW1lbnRcbiAgICovXG4gIGZhYnJpYy5FbGxpcHNlLkFUVFJJQlVURV9OQU1FUyA9IGZhYnJpYy5TSEFSRURfQVRUUklCVVRFUy5jb25jYXQoJ2N4IGN5IHJ4IHJ5Jy5zcGxpdCgnICcpKTtcblxuICAvKipcbiAgICogUmV0dXJucyB7QGxpbmsgZmFicmljLkVsbGlwc2V9IGluc3RhbmNlIGZyb20gYW4gU1ZHIGVsZW1lbnRcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLkVsbGlwc2VcbiAgICogQHBhcmFtIHtTVkdFbGVtZW50fSBlbGVtZW50IEVsZW1lbnQgdG8gcGFyc2VcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBPcHRpb25zIGNhbGxiYWNrIGludm9rZWQgYWZ0ZXIgcGFyc2luZyBpcyBmaW5pc2hlZFxuICAgKiBAcmV0dXJuIHtmYWJyaWMuRWxsaXBzZX1cbiAgICovXG4gIGZhYnJpYy5FbGxpcHNlLmZyb21FbGVtZW50ID0gZnVuY3Rpb24oZWxlbWVudCwgY2FsbGJhY2spIHtcblxuICAgIHZhciBwYXJzZWRBdHRyaWJ1dGVzID0gZmFicmljLnBhcnNlQXR0cmlidXRlcyhlbGVtZW50LCBmYWJyaWMuRWxsaXBzZS5BVFRSSUJVVEVfTkFNRVMpO1xuXG4gICAgcGFyc2VkQXR0cmlidXRlcy5sZWZ0ID0gKHBhcnNlZEF0dHJpYnV0ZXMubGVmdCB8fCAwKSAtIHBhcnNlZEF0dHJpYnV0ZXMucng7XG4gICAgcGFyc2VkQXR0cmlidXRlcy50b3AgPSAocGFyc2VkQXR0cmlidXRlcy50b3AgfHwgMCkgLSBwYXJzZWRBdHRyaWJ1dGVzLnJ5O1xuICAgIGNhbGxiYWNrKG5ldyBmYWJyaWMuRWxsaXBzZShwYXJzZWRBdHRyaWJ1dGVzKSk7XG4gIH07XG4gIC8qIF9GUk9NX1NWR19FTkRfICovXG5cbiAgLyoqXG4gICAqIFJldHVybnMge0BsaW5rIGZhYnJpYy5FbGxpcHNlfSBpbnN0YW5jZSBmcm9tIGFuIG9iamVjdCByZXByZXNlbnRhdGlvblxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuRWxsaXBzZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIGludm9rZWQgd2l0aCBuZXcgaW5zdGFuY2UgYXMgZmlyc3QgYXJndW1lbnRcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIGZhYnJpYy5FbGxpcHNlLmZyb21PYmplY3QgPSBmdW5jdGlvbihvYmplY3QsIGNhbGxiYWNrKSB7XG4gICAgZmFicmljLk9iamVjdC5fZnJvbU9iamVjdCgnRWxsaXBzZScsIG9iamVjdCwgY2FsbGJhY2spO1xuICB9O1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSksXG4gICAgICBleHRlbmQgPSBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kO1xuXG4gIGlmIChmYWJyaWMuUmVjdCkge1xuICAgIGZhYnJpYy53YXJuKCdmYWJyaWMuUmVjdCBpcyBhbHJlYWR5IGRlZmluZWQnKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmVjdGFuZ2xlIGNsYXNzXG4gICAqIEBjbGFzcyBmYWJyaWMuUmVjdFxuICAgKiBAZXh0ZW5kcyBmYWJyaWMuT2JqZWN0XG4gICAqIEByZXR1cm4ge2ZhYnJpYy5SZWN0fSB0aGlzQXJnXG4gICAqIEBzZWUge0BsaW5rIGZhYnJpYy5SZWN0I2luaXRpYWxpemV9IGZvciBjb25zdHJ1Y3RvciBkZWZpbml0aW9uXG4gICAqL1xuICBmYWJyaWMuUmVjdCA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzKGZhYnJpYy5PYmplY3QsIC8qKiBAbGVuZHMgZmFicmljLlJlY3QucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIExpc3Qgb2YgcHJvcGVydGllcyB0byBjb25zaWRlciB3aGVuIGNoZWNraW5nIGlmIHN0YXRlIG9mIGFuIG9iamVjdCBpcyBjaGFuZ2VkICh7QGxpbmsgZmFicmljLk9iamVjdCNoYXNTdGF0ZUNoYW5nZWR9KVxuICAgICAqIGFzIHdlbGwgYXMgZm9yIGhpc3RvcnkgKHVuZG8vcmVkbykgcHVycG9zZXNcbiAgICAgKiBAdHlwZSBBcnJheVxuICAgICAqL1xuICAgIHN0YXRlUHJvcGVydGllczogZmFicmljLk9iamVjdC5wcm90b3R5cGUuc3RhdGVQcm9wZXJ0aWVzLmNvbmNhdCgncngnLCAncnknKSxcblxuICAgIC8qKlxuICAgICAqIFR5cGUgb2YgYW4gb2JqZWN0XG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0eXBlOiAncmVjdCcsXG5cbiAgICAvKipcbiAgICAgKiBIb3Jpem9udGFsIGJvcmRlciByYWRpdXNcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHJ4OiAgIDAsXG5cbiAgICAvKipcbiAgICAgKiBWZXJ0aWNhbCBib3JkZXIgcmFkaXVzXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICByeTogICAwLFxuXG4gICAgY2FjaGVQcm9wZXJ0aWVzOiBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZS5jYWNoZVByb3BlcnRpZXMuY29uY2F0KCdyeCcsICdyeScpLFxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAgICogQHJldHVybiB7T2JqZWN0fSB0aGlzQXJnXG4gICAgICovXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdGhpcy5jYWxsU3VwZXIoJ2luaXRpYWxpemUnLCBvcHRpb25zKTtcbiAgICAgIHRoaXMuX2luaXRSeFJ5KCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIHJ4L3J5IGF0dHJpYnV0ZXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pbml0UnhSeTogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5yeCAmJiAhdGhpcy5yeSkge1xuICAgICAgICB0aGlzLnJ5ID0gdGhpcy5yeDtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHRoaXMucnkgJiYgIXRoaXMucngpIHtcbiAgICAgICAgdGhpcy5yeCA9IHRoaXMucnk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIF9yZW5kZXI6IGZ1bmN0aW9uKGN0eCkge1xuXG4gICAgICAvLyAxeDEgY2FzZSAodXNlZCBpbiBzcHJheSBicnVzaCkgb3B0aW1pemF0aW9uIHdhcyByZW1vdmVkIGJlY2F1c2VcbiAgICAgIC8vIHdpdGggY2FjaGluZyBhbmQgaGlnaGVyIHpvb20gbGV2ZWwgdGhpcyBtYWtlcyBtb3JlIGRhbWFnZSB0aGFuIGhlbHBcblxuICAgICAgdmFyIHJ4ID0gdGhpcy5yeCA/IE1hdGgubWluKHRoaXMucngsIHRoaXMud2lkdGggLyAyKSA6IDAsXG4gICAgICAgICAgcnkgPSB0aGlzLnJ5ID8gTWF0aC5taW4odGhpcy5yeSwgdGhpcy5oZWlnaHQgLyAyKSA6IDAsXG4gICAgICAgICAgdyA9IHRoaXMud2lkdGgsXG4gICAgICAgICAgaCA9IHRoaXMuaGVpZ2h0LFxuICAgICAgICAgIHggPSAtdGhpcy53aWR0aCAvIDIsXG4gICAgICAgICAgeSA9IC10aGlzLmhlaWdodCAvIDIsXG4gICAgICAgICAgaXNSb3VuZGVkID0gcnggIT09IDAgfHwgcnkgIT09IDAsXG4gICAgICAgICAgLyogXCJtYWdpYyBudW1iZXJcIiBmb3IgYmV6aWVyIGFwcHJveGltYXRpb25zIG9mIGFyY3MgKGh0dHA6Ly9pdGMua3R1Lmx0L2l0YzM1NC9SaXNrdXMzNTQucGRmKSAqL1xuICAgICAgICAgIGsgPSAxIC0gMC41NTIyODQ3NDk4O1xuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuXG4gICAgICBjdHgubW92ZVRvKHggKyByeCwgeSk7XG5cbiAgICAgIGN0eC5saW5lVG8oeCArIHcgLSByeCwgeSk7XG4gICAgICBpc1JvdW5kZWQgJiYgY3R4LmJlemllckN1cnZlVG8oeCArIHcgLSBrICogcngsIHksIHggKyB3LCB5ICsgayAqIHJ5LCB4ICsgdywgeSArIHJ5KTtcblxuICAgICAgY3R4LmxpbmVUbyh4ICsgdywgeSArIGggLSByeSk7XG4gICAgICBpc1JvdW5kZWQgJiYgY3R4LmJlemllckN1cnZlVG8oeCArIHcsIHkgKyBoIC0gayAqIHJ5LCB4ICsgdyAtIGsgKiByeCwgeSArIGgsIHggKyB3IC0gcngsIHkgKyBoKTtcblxuICAgICAgY3R4LmxpbmVUbyh4ICsgcngsIHkgKyBoKTtcbiAgICAgIGlzUm91bmRlZCAmJiBjdHguYmV6aWVyQ3VydmVUbyh4ICsgayAqIHJ4LCB5ICsgaCwgeCwgeSArIGggLSBrICogcnksIHgsIHkgKyBoIC0gcnkpO1xuXG4gICAgICBjdHgubGluZVRvKHgsIHkgKyByeSk7XG4gICAgICBpc1JvdW5kZWQgJiYgY3R4LmJlemllckN1cnZlVG8oeCwgeSArIGsgKiByeSwgeCArIGsgKiByeCwgeSwgeCArIHJ4LCB5KTtcblxuICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuXG4gICAgICB0aGlzLl9yZW5kZXJQYWludEluT3JkZXIoY3R4KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcGVydGllc1RvSW5jbHVkZV0gQW55IHByb3BlcnRpZXMgdGhhdCB5b3UgbWlnaHQgd2FudCB0byBhZGRpdGlvbmFsbHkgaW5jbHVkZSBpbiB0aGUgb3V0cHV0XG4gICAgICogQHJldHVybiB7T2JqZWN0fSBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b09iamVjdDogZnVuY3Rpb24ocHJvcGVydGllc1RvSW5jbHVkZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FsbFN1cGVyKCd0b09iamVjdCcsIFsncngnLCAncnknXS5jb25jYXQocHJvcGVydGllc1RvSW5jbHVkZSkpO1xuICAgIH0sXG5cbiAgICAvKiBfVE9fU1ZHX1NUQVJUXyAqL1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgc3ZnIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHJldHVybiB7QXJyYXl9IGFuIGFycmF5IG9mIHN0cmluZ3Mgd2l0aCB0aGUgc3BlY2lmaWMgc3ZnIHJlcHJlc2VudGF0aW9uXG4gICAgICogb2YgdGhlIGluc3RhbmNlXG4gICAgICovXG4gICAgX3RvU1ZHOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciB4ID0gLXRoaXMud2lkdGggLyAyLCB5ID0gLXRoaXMuaGVpZ2h0IC8gMjtcbiAgICAgIHJldHVybiBbXG4gICAgICAgICc8cmVjdCAnLCAnQ09NTU9OX1BBUlRTJyxcbiAgICAgICAgJ3g9XCInLCB4LCAnXCIgeT1cIicsIHksXG4gICAgICAgICdcIiByeD1cIicsIHRoaXMucngsICdcIiByeT1cIicsIHRoaXMucnksXG4gICAgICAgICdcIiB3aWR0aD1cIicsIHRoaXMud2lkdGgsICdcIiBoZWlnaHQ9XCInLCB0aGlzLmhlaWdodCxcbiAgICAgICAgJ1wiIC8+XFxuJ1xuICAgICAgXTtcbiAgICB9LFxuICAgIC8qIF9UT19TVkdfRU5EXyAqL1xuICB9KTtcblxuICAvKiBfRlJPTV9TVkdfU1RBUlRfICovXG4gIC8qKlxuICAgKiBMaXN0IG9mIGF0dHJpYnV0ZSBuYW1lcyB0byBhY2NvdW50IGZvciB3aGVuIHBhcnNpbmcgU1ZHIGVsZW1lbnQgKHVzZWQgYnkgYGZhYnJpYy5SZWN0LmZyb21FbGVtZW50YClcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLlJlY3RcbiAgICogQHNlZTogaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHL3NoYXBlcy5odG1sI1JlY3RFbGVtZW50XG4gICAqL1xuICBmYWJyaWMuUmVjdC5BVFRSSUJVVEVfTkFNRVMgPSBmYWJyaWMuU0hBUkVEX0FUVFJJQlVURVMuY29uY2F0KCd4IHkgcnggcnkgd2lkdGggaGVpZ2h0Jy5zcGxpdCgnICcpKTtcblxuICAvKipcbiAgICogUmV0dXJucyB7QGxpbmsgZmFicmljLlJlY3R9IGluc3RhbmNlIGZyb20gYW4gU1ZHIGVsZW1lbnRcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLlJlY3RcbiAgICogQHBhcmFtIHtTVkdFbGVtZW50fSBlbGVtZW50IEVsZW1lbnQgdG8gcGFyc2VcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgY2FsbGJhY2sgZnVuY3Rpb24gaW52b2tlZCBhZnRlciBwYXJzaW5nXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICovXG4gIGZhYnJpYy5SZWN0LmZyb21FbGVtZW50ID0gZnVuY3Rpb24oZWxlbWVudCwgY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhudWxsKTtcbiAgICB9XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyB9O1xuXG4gICAgdmFyIHBhcnNlZEF0dHJpYnV0ZXMgPSBmYWJyaWMucGFyc2VBdHRyaWJ1dGVzKGVsZW1lbnQsIGZhYnJpYy5SZWN0LkFUVFJJQlVURV9OQU1FUyk7XG4gICAgcGFyc2VkQXR0cmlidXRlcy5sZWZ0ID0gcGFyc2VkQXR0cmlidXRlcy5sZWZ0IHx8IDA7XG4gICAgcGFyc2VkQXR0cmlidXRlcy50b3AgID0gcGFyc2VkQXR0cmlidXRlcy50b3AgIHx8IDA7XG4gICAgcGFyc2VkQXR0cmlidXRlcy5oZWlnaHQgID0gcGFyc2VkQXR0cmlidXRlcy5oZWlnaHQgfHwgMDtcbiAgICBwYXJzZWRBdHRyaWJ1dGVzLndpZHRoICA9IHBhcnNlZEF0dHJpYnV0ZXMud2lkdGggfHwgMDtcbiAgICB2YXIgcmVjdCA9IG5ldyBmYWJyaWMuUmVjdChleHRlbmQoKG9wdGlvbnMgPyBmYWJyaWMudXRpbC5vYmplY3QuY2xvbmUob3B0aW9ucykgOiB7IH0pLCBwYXJzZWRBdHRyaWJ1dGVzKSk7XG4gICAgcmVjdC52aXNpYmxlID0gcmVjdC52aXNpYmxlICYmIHJlY3Qud2lkdGggPiAwICYmIHJlY3QuaGVpZ2h0ID4gMDtcbiAgICBjYWxsYmFjayhyZWN0KTtcbiAgfTtcbiAgLyogX0ZST01fU1ZHX0VORF8gKi9cblxuICAvKipcbiAgICogUmV0dXJucyB7QGxpbmsgZmFicmljLlJlY3R9IGluc3RhbmNlIGZyb20gYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5SZWN0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBmcm9tXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gQ2FsbGJhY2sgdG8gaW52b2tlIHdoZW4gYW4gZmFicmljLlJlY3QgaW5zdGFuY2UgaXMgY3JlYXRlZFxuICAgKi9cbiAgZmFicmljLlJlY3QuZnJvbU9iamVjdCA9IGZ1bmN0aW9uKG9iamVjdCwgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gZmFicmljLk9iamVjdC5fZnJvbU9iamVjdCgnUmVjdCcsIG9iamVjdCwgY2FsbGJhY2spO1xuICB9O1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSksXG4gICAgICBleHRlbmQgPSBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kLFxuICAgICAgbWluID0gZmFicmljLnV0aWwuYXJyYXkubWluLFxuICAgICAgbWF4ID0gZmFicmljLnV0aWwuYXJyYXkubWF4LFxuICAgICAgdG9GaXhlZCA9IGZhYnJpYy51dGlsLnRvRml4ZWQsXG4gICAgICBwcm9qZWN0U3Ryb2tlT25Qb2ludHMgPSBmYWJyaWMudXRpbC5wcm9qZWN0U3Ryb2tlT25Qb2ludHM7XG5cbiAgaWYgKGZhYnJpYy5Qb2x5bGluZSkge1xuICAgIGZhYnJpYy53YXJuKCdmYWJyaWMuUG9seWxpbmUgaXMgYWxyZWFkeSBkZWZpbmVkJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFBvbHlsaW5lIGNsYXNzXG4gICAqIEBjbGFzcyBmYWJyaWMuUG9seWxpbmVcbiAgICogQGV4dGVuZHMgZmFicmljLk9iamVjdFxuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuUG9seWxpbmUjaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICovXG4gIGZhYnJpYy5Qb2x5bGluZSA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzKGZhYnJpYy5PYmplY3QsIC8qKiBAbGVuZHMgZmFicmljLlBvbHlsaW5lLnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBUeXBlIG9mIGFuIG9iamVjdFxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHlwZTogJ3BvbHlsaW5lJyxcblxuICAgIC8qKlxuICAgICAqIFBvaW50cyBhcnJheVxuICAgICAqIEB0eXBlIEFycmF5XG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBwb2ludHM6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBXQVJOSU5HOiBGZWF0dXJlIGluIHByb2dyZXNzXG4gICAgICogQ2FsY3VsYXRlIHRoZSBleGFjdCBib3VuZGluZyBib3ggdGFraW5nIGluIGFjY291bnQgc3Ryb2tlV2lkdGggb24gYWN1dGUgYW5nbGVzXG4gICAgICogdGhpcyB3aWxsIGJlIHR1cm5lZCB0byB0cnVlIGJ5IGRlZmF1bHQgb24gZmFicmljIDYuMFxuICAgICAqIG1heWJlIHdpbGwgYmUgbGVmdCBpbiBhcyBhbiBvcHRpbWl6YXRpb24gc2luY2UgY2FsY3VsYXRpb25zIG1heSBiZSBzbG93XG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBleGFjdEJvdW5kaW5nQm94OiBmYWxzZSxcblxuICAgIGNhY2hlUHJvcGVydGllczogZmFicmljLk9iamVjdC5wcm90b3R5cGUuY2FjaGVQcm9wZXJ0aWVzLmNvbmNhdCgncG9pbnRzJyksXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBvaW50cyBBcnJheSBvZiBwb2ludHMgKHdoZXJlIGVhY2ggcG9pbnQgaXMgYW4gb2JqZWN0IHdpdGggeCBhbmQgeSlcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAgICogQHJldHVybiB7ZmFicmljLlBvbHlsaW5lfSB0aGlzQXJnXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiB2YXIgcG9seSA9IG5ldyBmYWJyaWMuUG9seWxpbmUoW1xuICAgICAqICAgICB7IHg6IDEwLCB5OiAxMCB9LFxuICAgICAqICAgICB7IHg6IDUwLCB5OiAzMCB9LFxuICAgICAqICAgICB7IHg6IDQwLCB5OiA3MCB9LFxuICAgICAqICAgICB7IHg6IDYwLCB5OiA1MCB9LFxuICAgICAqICAgICB7IHg6IDEwMCwgeTogMTUwIH0sXG4gICAgICogICAgIHsgeDogNDAsIHk6IDEwMCB9XG4gICAgICogICBdLCB7XG4gICAgICogICBzdHJva2U6ICdyZWQnLFxuICAgICAqICAgbGVmdDogMTAwLFxuICAgICAqICAgdG9wOiAxMDBcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbihwb2ludHMsIG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgdGhpcy5wb2ludHMgPSBwb2ludHMgfHwgW107XG4gICAgICB0aGlzLmNhbGxTdXBlcignaW5pdGlhbGl6ZScsIG9wdGlvbnMpO1xuICAgICAgdGhpcy5fc2V0UG9zaXRpb25EaW1lbnNpb25zKG9wdGlvbnMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9wcm9qZWN0U3Ryb2tlT25Qb2ludHM6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBwcm9qZWN0U3Ryb2tlT25Qb2ludHModGhpcy5wb2ludHMsIHRoaXMsIHRydWUpO1xuICAgIH0sXG5cbiAgICBfc2V0UG9zaXRpb25EaW1lbnNpb25zOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICB2YXIgY2FsY0RpbSA9IHRoaXMuX2NhbGNEaW1lbnNpb25zKG9wdGlvbnMpLCBjb3JyZWN0TGVmdFRvcCxcbiAgICAgICAgICBjb3JyZWN0U2l6ZSA9IHRoaXMuZXhhY3RCb3VuZGluZ0JveCA/IHRoaXMuc3Ryb2tlV2lkdGggOiAwO1xuICAgICAgdGhpcy53aWR0aCA9IGNhbGNEaW0ud2lkdGggLSBjb3JyZWN0U2l6ZTtcbiAgICAgIHRoaXMuaGVpZ2h0ID0gY2FsY0RpbS5oZWlnaHQgLSBjb3JyZWN0U2l6ZTtcbiAgICAgIGlmICghb3B0aW9ucy5mcm9tU1ZHKSB7XG4gICAgICAgIGNvcnJlY3RMZWZ0VG9wID0gdGhpcy50cmFuc2xhdGVUb0dpdmVuT3JpZ2luKFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIC8vIHRoaXMgbG9va3MgYmFkLCBidXQgaXMgb25lIHdheSB0byBrZWVwIGl0IG9wdGlvbmFsIGZvciBub3cuXG4gICAgICAgICAgICB4OiBjYWxjRGltLmxlZnQgLSB0aGlzLnN0cm9rZVdpZHRoIC8gMiArIGNvcnJlY3RTaXplIC8gMixcbiAgICAgICAgICAgIHk6IGNhbGNEaW0udG9wIC0gdGhpcy5zdHJva2VXaWR0aCAvIDIgKyBjb3JyZWN0U2l6ZSAvIDJcbiAgICAgICAgICB9LFxuICAgICAgICAgICdsZWZ0JyxcbiAgICAgICAgICAndG9wJyxcbiAgICAgICAgICB0aGlzLm9yaWdpblgsXG4gICAgICAgICAgdGhpcy5vcmlnaW5ZXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnMubGVmdCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhpcy5sZWZ0ID0gb3B0aW9ucy5mcm9tU1ZHID8gY2FsY0RpbS5sZWZ0IDogY29ycmVjdExlZnRUb3AueDtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy50b3AgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRoaXMudG9wID0gb3B0aW9ucy5mcm9tU1ZHID8gY2FsY0RpbS50b3AgOiBjb3JyZWN0TGVmdFRvcC55O1xuICAgICAgfVxuICAgICAgdGhpcy5wYXRoT2Zmc2V0ID0ge1xuICAgICAgICB4OiBjYWxjRGltLmxlZnQgKyB0aGlzLndpZHRoIC8gMiArIGNvcnJlY3RTaXplIC8gMixcbiAgICAgICAgeTogY2FsY0RpbS50b3AgKyB0aGlzLmhlaWdodCAvIDIgKyBjb3JyZWN0U2l6ZSAvIDJcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgcG9seWdvbiBtaW4gYW5kIG1heCBwb2ludCBmcm9tIHBvaW50cyBhcnJheSxcbiAgICAgKiByZXR1cm5pbmcgYW4gb2JqZWN0IHdpdGggbGVmdCwgdG9wLCB3aWR0aCwgaGVpZ2h0IHRvIG1lYXN1cmUgdGhlXG4gICAgICogcG9seWdvbiBzaXplXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBvYmplY3QubGVmdCBYIGNvb3JkaW5hdGUgb2YgdGhlIHBvbHlnb24gbGVmdG1vc3QgcG9pbnRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IG9iamVjdC50b3AgWSBjb29yZGluYXRlIG9mIHRoZSBwb2x5Z29uIHRvcG1vc3QgcG9pbnRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IG9iamVjdC53aWR0aCBkaXN0YW5jZSBiZXR3ZWVuIFggY29vcmRpbmF0ZXMgb2YgdGhlIHBvbHlnb24gbGVmdG1vc3QgYW5kIHJpZ2h0bW9zdCBwb2ludFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gb2JqZWN0LmhlaWdodCBkaXN0YW5jZSBiZXR3ZWVuIFkgY29vcmRpbmF0ZXMgb2YgdGhlIHBvbHlnb24gdG9wbW9zdCBhbmQgYm90dG9tbW9zdCBwb2ludFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2NhbGNEaW1lbnNpb25zOiBmdW5jdGlvbigpIHtcblxuICAgICAgdmFyIHBvaW50cyA9IHRoaXMuZXhhY3RCb3VuZGluZ0JveCA/IHRoaXMuX3Byb2plY3RTdHJva2VPblBvaW50cygpIDogdGhpcy5wb2ludHMsXG4gICAgICAgICAgbWluWCA9IG1pbihwb2ludHMsICd4JykgfHwgMCxcbiAgICAgICAgICBtaW5ZID0gbWluKHBvaW50cywgJ3knKSB8fCAwLFxuICAgICAgICAgIG1heFggPSBtYXgocG9pbnRzLCAneCcpIHx8IDAsXG4gICAgICAgICAgbWF4WSA9IG1heChwb2ludHMsICd5JykgfHwgMCxcbiAgICAgICAgICB3aWR0aCA9IChtYXhYIC0gbWluWCksXG4gICAgICAgICAgaGVpZ2h0ID0gKG1heFkgLSBtaW5ZKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbGVmdDogbWluWCxcbiAgICAgICAgdG9wOiBtaW5ZLFxuICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcGVydGllc1RvSW5jbHVkZV0gQW55IHByb3BlcnRpZXMgdGhhdCB5b3UgbWlnaHQgd2FudCB0byBhZGRpdGlvbmFsbHkgaW5jbHVkZSBpbiB0aGUgb3V0cHV0XG4gICAgICogQHJldHVybiB7T2JqZWN0fSBPYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b09iamVjdDogZnVuY3Rpb24ocHJvcGVydGllc1RvSW5jbHVkZSkge1xuICAgICAgcmV0dXJuIGV4dGVuZCh0aGlzLmNhbGxTdXBlcigndG9PYmplY3QnLCBwcm9wZXJ0aWVzVG9JbmNsdWRlKSwge1xuICAgICAgICBwb2ludHM6IHRoaXMucG9pbnRzLmNvbmNhdCgpXG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyogX1RPX1NWR19TVEFSVF8gKi9cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHN2ZyByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEByZXR1cm4ge0FycmF5fSBhbiBhcnJheSBvZiBzdHJpbmdzIHdpdGggdGhlIHNwZWNpZmljIHN2ZyByZXByZXNlbnRhdGlvblxuICAgICAqIG9mIHRoZSBpbnN0YW5jZVxuICAgICAqL1xuICAgIF90b1NWRzogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcG9pbnRzID0gW10sIGRpZmZYID0gdGhpcy5wYXRoT2Zmc2V0LngsIGRpZmZZID0gdGhpcy5wYXRoT2Zmc2V0LnksXG4gICAgICAgICAgTlVNX0ZSQUNUSU9OX0RJR0lUUyA9IGZhYnJpYy5PYmplY3QuTlVNX0ZSQUNUSU9OX0RJR0lUUztcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMucG9pbnRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHBvaW50cy5wdXNoKFxuICAgICAgICAgIHRvRml4ZWQodGhpcy5wb2ludHNbaV0ueCAtIGRpZmZYLCBOVU1fRlJBQ1RJT05fRElHSVRTKSwgJywnLFxuICAgICAgICAgIHRvRml4ZWQodGhpcy5wb2ludHNbaV0ueSAtIGRpZmZZLCBOVU1fRlJBQ1RJT05fRElHSVRTKSwgJyAnXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gW1xuICAgICAgICAnPCcgKyB0aGlzLnR5cGUgKyAnICcsICdDT01NT05fUEFSVFMnLFxuICAgICAgICAncG9pbnRzPVwiJywgcG9pbnRzLmpvaW4oJycpLFxuICAgICAgICAnXCIgLz5cXG4nXG4gICAgICBdO1xuICAgIH0sXG4gICAgLyogX1RPX1NWR19FTkRfICovXG5cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIGNvbW1vblJlbmRlcjogZnVuY3Rpb24oY3R4KSB7XG4gICAgICB2YXIgcG9pbnQsIGxlbiA9IHRoaXMucG9pbnRzLmxlbmd0aCxcbiAgICAgICAgICB4ID0gdGhpcy5wYXRoT2Zmc2V0LngsXG4gICAgICAgICAgeSA9IHRoaXMucGF0aE9mZnNldC55O1xuXG4gICAgICBpZiAoIWxlbiB8fCBpc05hTih0aGlzLnBvaW50c1tsZW4gLSAxXS55KSkge1xuICAgICAgICAvLyBkbyBub3QgZHJhdyBpZiBubyBwb2ludHMgb3Igb2RkIHBvaW50c1xuICAgICAgICAvLyBOYU4gY29tZXMgZnJvbSBwYXJzZUZsb2F0IG9mIGEgZW1wdHkgc3RyaW5nIGluIHBhcnNlclxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICBjdHgubW92ZVRvKHRoaXMucG9pbnRzWzBdLnggLSB4LCB0aGlzLnBvaW50c1swXS55IC0geSk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHBvaW50ID0gdGhpcy5wb2ludHNbaV07XG4gICAgICAgIGN0eC5saW5lVG8ocG9pbnQueCAtIHgsIHBvaW50LnkgLSB5KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfcmVuZGVyOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIGlmICghdGhpcy5jb21tb25SZW5kZXIoY3R4KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLl9yZW5kZXJQYWludEluT3JkZXIoY3R4KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBjb21wbGV4aXR5IG9mIGFuIGluc3RhbmNlXG4gICAgICogQHJldHVybiB7TnVtYmVyfSBjb21wbGV4aXR5IG9mIHRoaXMgaW5zdGFuY2VcbiAgICAgKi9cbiAgICBjb21wbGV4aXR5OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgncG9pbnRzJykubGVuZ3RoO1xuICAgIH1cbiAgfSk7XG5cbiAgLyogX0ZST01fU1ZHX1NUQVJUXyAqL1xuICAvKipcbiAgICogTGlzdCBvZiBhdHRyaWJ1dGUgbmFtZXMgdG8gYWNjb3VudCBmb3Igd2hlbiBwYXJzaW5nIFNWRyBlbGVtZW50ICh1c2VkIGJ5IHtAbGluayBmYWJyaWMuUG9seWxpbmUuZnJvbUVsZW1lbnR9KVxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuUG9seWxpbmVcbiAgICogQHNlZTogaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHL3NoYXBlcy5odG1sI1BvbHlsaW5lRWxlbWVudFxuICAgKi9cbiAgZmFicmljLlBvbHlsaW5lLkFUVFJJQlVURV9OQU1FUyA9IGZhYnJpYy5TSEFSRURfQVRUUklCVVRFUy5jb25jYXQoKTtcblxuICAvKipcbiAgICogUmV0dXJucyBmYWJyaWMuUG9seWxpbmUgaW5zdGFuY2UgZnJvbSBhbiBTVkcgZWxlbWVudFxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuUG9seWxpbmVcbiAgICogQHBhcmFtIHtTVkdFbGVtZW50fSBlbGVtZW50IEVsZW1lbnQgdG8gcGFyc2VyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGNhbGxiYWNrIGZ1bmN0aW9uIGludm9rZWQgYWZ0ZXIgcGFyc2luZ1xuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAqL1xuICBmYWJyaWMuUG9seWxpbmUuZnJvbUVsZW1lbnRHZW5lcmF0b3IgPSBmdW5jdGlvbihfY2xhc3MpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oZWxlbWVudCwgY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgICAgIGlmICghZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCk7XG4gICAgICB9XG4gICAgICBvcHRpb25zIHx8IChvcHRpb25zID0geyB9KTtcblxuICAgICAgdmFyIHBvaW50cyA9IGZhYnJpYy5wYXJzZVBvaW50c0F0dHJpYnV0ZShlbGVtZW50LmdldEF0dHJpYnV0ZSgncG9pbnRzJykpLFxuICAgICAgICAgIHBhcnNlZEF0dHJpYnV0ZXMgPSBmYWJyaWMucGFyc2VBdHRyaWJ1dGVzKGVsZW1lbnQsIGZhYnJpY1tfY2xhc3NdLkFUVFJJQlVURV9OQU1FUyk7XG4gICAgICBwYXJzZWRBdHRyaWJ1dGVzLmZyb21TVkcgPSB0cnVlO1xuICAgICAgY2FsbGJhY2sobmV3IGZhYnJpY1tfY2xhc3NdKHBvaW50cywgZXh0ZW5kKHBhcnNlZEF0dHJpYnV0ZXMsIG9wdGlvbnMpKSk7XG4gICAgfTtcbiAgfTtcblxuICBmYWJyaWMuUG9seWxpbmUuZnJvbUVsZW1lbnQgPSBmYWJyaWMuUG9seWxpbmUuZnJvbUVsZW1lbnRHZW5lcmF0b3IoJ1BvbHlsaW5lJyk7XG5cbiAgLyogX0ZST01fU1ZHX0VORF8gKi9cblxuICAvKipcbiAgICogUmV0dXJucyBmYWJyaWMuUG9seWxpbmUgaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLlBvbHlsaW5lXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBmcm9tXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gQ2FsbGJhY2sgdG8gaW52b2tlIHdoZW4gYW4gZmFicmljLlBhdGggaW5zdGFuY2UgaXMgY3JlYXRlZFxuICAgKi9cbiAgZmFicmljLlBvbHlsaW5lLmZyb21PYmplY3QgPSBmdW5jdGlvbihvYmplY3QsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIGZhYnJpYy5PYmplY3QuX2Zyb21PYmplY3QoJ1BvbHlsaW5lJywgb2JqZWN0LCBjYWxsYmFjaywgJ3BvaW50cycpO1xuICB9O1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHt9KSxcbiAgICAgIHByb2plY3RTdHJva2VPblBvaW50cyA9IGZhYnJpYy51dGlsLnByb2plY3RTdHJva2VPblBvaW50cztcblxuICBpZiAoZmFicmljLlBvbHlnb24pIHtcbiAgICBmYWJyaWMud2FybignZmFicmljLlBvbHlnb24gaXMgYWxyZWFkeSBkZWZpbmVkJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFBvbHlnb24gY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5Qb2x5Z29uXG4gICAqIEBleHRlbmRzIGZhYnJpYy5Qb2x5bGluZVxuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuUG9seWdvbiNpbml0aWFsaXplfSBmb3IgY29uc3RydWN0b3IgZGVmaW5pdGlvblxuICAgKi9cbiAgZmFicmljLlBvbHlnb24gPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcyhmYWJyaWMuUG9seWxpbmUsIC8qKiBAbGVuZHMgZmFicmljLlBvbHlnb24ucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIFR5cGUgb2YgYW4gb2JqZWN0XG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0eXBlOiAncG9seWdvbicsXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9wcm9qZWN0U3Ryb2tlT25Qb2ludHM6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBwcm9qZWN0U3Ryb2tlT25Qb2ludHModGhpcy5wb2ludHMsIHRoaXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfcmVuZGVyOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIGlmICghdGhpcy5jb21tb25SZW5kZXIoY3R4KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICB0aGlzLl9yZW5kZXJQYWludEluT3JkZXIoY3R4KTtcbiAgICB9LFxuXG4gIH0pO1xuXG4gIC8qIF9GUk9NX1NWR19TVEFSVF8gKi9cbiAgLyoqXG4gICAqIExpc3Qgb2YgYXR0cmlidXRlIG5hbWVzIHRvIGFjY291bnQgZm9yIHdoZW4gcGFyc2luZyBTVkcgZWxlbWVudCAodXNlZCBieSBgZmFicmljLlBvbHlnb24uZnJvbUVsZW1lbnRgKVxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuUG9seWdvblxuICAgKiBAc2VlOiBodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcvc2hhcGVzLmh0bWwjUG9seWdvbkVsZW1lbnRcbiAgICovXG4gIGZhYnJpYy5Qb2x5Z29uLkFUVFJJQlVURV9OQU1FUyA9IGZhYnJpYy5TSEFSRURfQVRUUklCVVRFUy5jb25jYXQoKTtcblxuICAvKipcbiAgICogUmV0dXJucyB7QGxpbmsgZmFicmljLlBvbHlnb259IGluc3RhbmNlIGZyb20gYW4gU1ZHIGVsZW1lbnRcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLlBvbHlnb25cbiAgICogQHBhcmFtIHtTVkdFbGVtZW50fSBlbGVtZW50IEVsZW1lbnQgdG8gcGFyc2VcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgY2FsbGJhY2sgZnVuY3Rpb24gaW52b2tlZCBhZnRlciBwYXJzaW5nXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICovXG4gIGZhYnJpYy5Qb2x5Z29uLmZyb21FbGVtZW50ID0gZmFicmljLlBvbHlsaW5lLmZyb21FbGVtZW50R2VuZXJhdG9yKCdQb2x5Z29uJyk7XG4gIC8qIF9GUk9NX1NWR19FTkRfICovXG5cbiAgLyoqXG4gICAqIFJldHVybnMgZmFicmljLlBvbHlnb24gaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLlBvbHlnb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY3JlYXRlIGFuIGluc3RhbmNlIGZyb21cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBDYWxsYmFjayB0byBpbnZva2Ugd2hlbiBhbiBmYWJyaWMuUGF0aCBpbnN0YW5jZSBpcyBjcmVhdGVkXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBmYWJyaWMuUG9seWdvbi5mcm9tT2JqZWN0ID0gZnVuY3Rpb24ob2JqZWN0LCBjYWxsYmFjaykge1xuICAgIGZhYnJpYy5PYmplY3QuX2Zyb21PYmplY3QoJ1BvbHlnb24nLCBvYmplY3QsIGNhbGxiYWNrLCAncG9pbnRzJyk7XG4gIH07XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBmYWJyaWMgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIG1pbiA9IGZhYnJpYy51dGlsLmFycmF5Lm1pbixcbiAgICAgIG1heCA9IGZhYnJpYy51dGlsLmFycmF5Lm1heCxcbiAgICAgIGV4dGVuZCA9IGZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQsXG4gICAgICBjbG9uZSA9IGZhYnJpYy51dGlsLm9iamVjdC5jbG9uZSxcbiAgICAgIHRvRml4ZWQgPSBmYWJyaWMudXRpbC50b0ZpeGVkO1xuXG4gIGlmIChmYWJyaWMuUGF0aCkge1xuICAgIGZhYnJpYy53YXJuKCdmYWJyaWMuUGF0aCBpcyBhbHJlYWR5IGRlZmluZWQnKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUGF0aCBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLlBhdGhcbiAgICogQGV4dGVuZHMgZmFicmljLk9iamVjdFxuICAgKiBAdHV0b3JpYWwge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vZmFicmljLWludHJvLXBhcnQtMSNwYXRoX2FuZF9wYXRoZ3JvdXB9XG4gICAqIEBzZWUge0BsaW5rIGZhYnJpYy5QYXRoI2luaXRpYWxpemV9IGZvciBjb25zdHJ1Y3RvciBkZWZpbml0aW9uXG4gICAqL1xuICBmYWJyaWMuUGF0aCA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzKGZhYnJpYy5PYmplY3QsIC8qKiBAbGVuZHMgZmFicmljLlBhdGgucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIFR5cGUgb2YgYW4gb2JqZWN0XG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0eXBlOiAncGF0aCcsXG5cbiAgICAvKipcbiAgICAgKiBBcnJheSBvZiBwYXRoIHBvaW50c1xuICAgICAqIEB0eXBlIEFycmF5XG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBwYXRoOiBudWxsLFxuXG4gICAgY2FjaGVQcm9wZXJ0aWVzOiBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZS5jYWNoZVByb3BlcnRpZXMuY29uY2F0KCdwYXRoJywgJ2ZpbGxSdWxlJyksXG5cbiAgICBzdGF0ZVByb3BlcnRpZXM6IGZhYnJpYy5PYmplY3QucHJvdG90eXBlLnN0YXRlUHJvcGVydGllcy5jb25jYXQoJ3BhdGgnKSxcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheXxTdHJpbmd9IHBhdGggUGF0aCBkYXRhIChzZXF1ZW5jZSBvZiBjb29yZGluYXRlcyBhbmQgY29ycmVzcG9uZGluZyBcImNvbW1hbmRcIiB0b2tlbnMpXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5QYXRofSB0aGlzQXJnXG4gICAgICovXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gKHBhdGgsIG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSBjbG9uZShvcHRpb25zIHx8IHt9KTtcbiAgICAgIGRlbGV0ZSBvcHRpb25zLnBhdGg7XG4gICAgICB0aGlzLmNhbGxTdXBlcignaW5pdGlhbGl6ZScsIG9wdGlvbnMpO1xuICAgICAgdGhpcy5fc2V0UGF0aChwYXRoIHx8IFtdLCBvcHRpb25zKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgKiBAcHJpdmF0ZVxuICAgICogQHBhcmFtIHtBcnJheXxTdHJpbmd9IHBhdGggUGF0aCBkYXRhIChzZXF1ZW5jZSBvZiBjb29yZGluYXRlcyBhbmQgY29ycmVzcG9uZGluZyBcImNvbW1hbmRcIiB0b2tlbnMpXG4gICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAgKi9cbiAgICBfc2V0UGF0aDogZnVuY3Rpb24gKHBhdGgsIG9wdGlvbnMpIHtcbiAgICAgIHRoaXMucGF0aCA9IGZhYnJpYy51dGlsLm1ha2VQYXRoU2ltcGxlcihcbiAgICAgICAgQXJyYXkuaXNBcnJheShwYXRoKSA/IHBhdGggOiBmYWJyaWMudXRpbC5wYXJzZVBhdGgocGF0aClcbiAgICAgICk7XG5cbiAgICAgIGZhYnJpYy5Qb2x5bGluZS5wcm90b3R5cGUuX3NldFBvc2l0aW9uRGltZW5zaW9ucy5jYWxsKHRoaXMsIG9wdGlvbnMgfHwge30pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggY29udGV4dCB0byByZW5kZXIgcGF0aCBvblxuICAgICAqL1xuICAgIF9yZW5kZXJQYXRoQ29tbWFuZHM6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgdmFyIGN1cnJlbnQsIC8vIGN1cnJlbnQgaW5zdHJ1Y3Rpb25cbiAgICAgICAgICBzdWJwYXRoU3RhcnRYID0gMCxcbiAgICAgICAgICBzdWJwYXRoU3RhcnRZID0gMCxcbiAgICAgICAgICB4ID0gMCwgLy8gY3VycmVudCB4XG4gICAgICAgICAgeSA9IDAsIC8vIGN1cnJlbnQgeVxuICAgICAgICAgIGNvbnRyb2xYID0gMCwgLy8gY3VycmVudCBjb250cm9sIHBvaW50IHhcbiAgICAgICAgICBjb250cm9sWSA9IDAsIC8vIGN1cnJlbnQgY29udHJvbCBwb2ludCB5XG4gICAgICAgICAgbCA9IC10aGlzLnBhdGhPZmZzZXQueCxcbiAgICAgICAgICB0ID0gLXRoaXMucGF0aE9mZnNldC55O1xuXG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLnBhdGgubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcblxuICAgICAgICBjdXJyZW50ID0gdGhpcy5wYXRoW2ldO1xuXG4gICAgICAgIHN3aXRjaCAoY3VycmVudFswXSkgeyAvLyBmaXJzdCBsZXR0ZXJcblxuICAgICAgICAgIGNhc2UgJ0wnOiAvLyBsaW5ldG8sIGFic29sdXRlXG4gICAgICAgICAgICB4ID0gY3VycmVudFsxXTtcbiAgICAgICAgICAgIHkgPSBjdXJyZW50WzJdO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyh4ICsgbCwgeSArIHQpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdNJzogLy8gbW92ZVRvLCBhYnNvbHV0ZVxuICAgICAgICAgICAgeCA9IGN1cnJlbnRbMV07XG4gICAgICAgICAgICB5ID0gY3VycmVudFsyXTtcbiAgICAgICAgICAgIHN1YnBhdGhTdGFydFggPSB4O1xuICAgICAgICAgICAgc3VicGF0aFN0YXJ0WSA9IHk7XG4gICAgICAgICAgICBjdHgubW92ZVRvKHggKyBsLCB5ICsgdCk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ0MnOiAvLyBiZXppZXJDdXJ2ZVRvLCBhYnNvbHV0ZVxuICAgICAgICAgICAgeCA9IGN1cnJlbnRbNV07XG4gICAgICAgICAgICB5ID0gY3VycmVudFs2XTtcbiAgICAgICAgICAgIGNvbnRyb2xYID0gY3VycmVudFszXTtcbiAgICAgICAgICAgIGNvbnRyb2xZID0gY3VycmVudFs0XTtcbiAgICAgICAgICAgIGN0eC5iZXppZXJDdXJ2ZVRvKFxuICAgICAgICAgICAgICBjdXJyZW50WzFdICsgbCxcbiAgICAgICAgICAgICAgY3VycmVudFsyXSArIHQsXG4gICAgICAgICAgICAgIGNvbnRyb2xYICsgbCxcbiAgICAgICAgICAgICAgY29udHJvbFkgKyB0LFxuICAgICAgICAgICAgICB4ICsgbCxcbiAgICAgICAgICAgICAgeSArIHRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ1EnOiAvLyBxdWFkcmF0aWNDdXJ2ZVRvLCBhYnNvbHV0ZVxuICAgICAgICAgICAgY3R4LnF1YWRyYXRpY0N1cnZlVG8oXG4gICAgICAgICAgICAgIGN1cnJlbnRbMV0gKyBsLFxuICAgICAgICAgICAgICBjdXJyZW50WzJdICsgdCxcbiAgICAgICAgICAgICAgY3VycmVudFszXSArIGwsXG4gICAgICAgICAgICAgIGN1cnJlbnRbNF0gKyB0XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgeCA9IGN1cnJlbnRbM107XG4gICAgICAgICAgICB5ID0gY3VycmVudFs0XTtcbiAgICAgICAgICAgIGNvbnRyb2xYID0gY3VycmVudFsxXTtcbiAgICAgICAgICAgIGNvbnRyb2xZID0gY3VycmVudFsyXTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAneic6XG4gICAgICAgICAgY2FzZSAnWic6XG4gICAgICAgICAgICB4ID0gc3VicGF0aFN0YXJ0WDtcbiAgICAgICAgICAgIHkgPSBzdWJwYXRoU3RhcnRZO1xuICAgICAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IGNvbnRleHQgdG8gcmVuZGVyIHBhdGggb25cbiAgICAgKi9cbiAgICBfcmVuZGVyOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIHRoaXMuX3JlbmRlclBhdGhDb21tYW5kcyhjdHgpO1xuICAgICAgdGhpcy5fcmVuZGVyUGFpbnRJbk9yZGVyKGN0eCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b1N0cmluZzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gJyM8ZmFicmljLlBhdGggKCcgKyB0aGlzLmNvbXBsZXhpdHkoKSArXG4gICAgICAgICcpOiB7IFwidG9wXCI6ICcgKyB0aGlzLnRvcCArICcsIFwibGVmdFwiOiAnICsgdGhpcy5sZWZ0ICsgJyB9Pic7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BlcnRpZXNUb0luY2x1ZGVdIEFueSBwcm9wZXJ0aWVzIHRoYXQgeW91IG1pZ2h0IHdhbnQgdG8gYWRkaXRpb25hbGx5IGluY2x1ZGUgaW4gdGhlIG91dHB1dFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgdG9PYmplY3Q6IGZ1bmN0aW9uKHByb3BlcnRpZXNUb0luY2x1ZGUpIHtcbiAgICAgIHJldHVybiBleHRlbmQodGhpcy5jYWxsU3VwZXIoJ3RvT2JqZWN0JywgcHJvcGVydGllc1RvSW5jbHVkZSksIHtcbiAgICAgICAgcGF0aDogdGhpcy5wYXRoLm1hcChmdW5jdGlvbihpdGVtKSB7IHJldHVybiBpdGVtLnNsaWNlKCk7IH0pLFxuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgZGF0YWxlc3Mgb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BlcnRpZXNUb0luY2x1ZGVdIEFueSBwcm9wZXJ0aWVzIHRoYXQgeW91IG1pZ2h0IHdhbnQgdG8gYWRkaXRpb25hbGx5IGluY2x1ZGUgaW4gdGhlIG91dHB1dFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgdG9EYXRhbGVzc09iamVjdDogZnVuY3Rpb24ocHJvcGVydGllc1RvSW5jbHVkZSkge1xuICAgICAgdmFyIG8gPSB0aGlzLnRvT2JqZWN0KFsnc291cmNlUGF0aCddLmNvbmNhdChwcm9wZXJ0aWVzVG9JbmNsdWRlKSk7XG4gICAgICBpZiAoby5zb3VyY2VQYXRoKSB7XG4gICAgICAgIGRlbGV0ZSBvLnBhdGg7XG4gICAgICB9XG4gICAgICByZXR1cm4gbztcbiAgICB9LFxuXG4gICAgLyogX1RPX1NWR19TVEFSVF8gKi9cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHN2ZyByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEByZXR1cm4ge0FycmF5fSBhbiBhcnJheSBvZiBzdHJpbmdzIHdpdGggdGhlIHNwZWNpZmljIHN2ZyByZXByZXNlbnRhdGlvblxuICAgICAqIG9mIHRoZSBpbnN0YW5jZVxuICAgICAqL1xuICAgIF90b1NWRzogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcGF0aCA9IGZhYnJpYy51dGlsLmpvaW5QYXRoKHRoaXMucGF0aCk7XG4gICAgICByZXR1cm4gW1xuICAgICAgICAnPHBhdGggJywgJ0NPTU1PTl9QQVJUUycsXG4gICAgICAgICdkPVwiJywgcGF0aCxcbiAgICAgICAgJ1wiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiAnLFxuICAgICAgICAnLz5cXG4nXG4gICAgICBdO1xuICAgIH0sXG5cbiAgICBfZ2V0T2Zmc2V0VHJhbnNmb3JtOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBkaWdpdHMgPSBmYWJyaWMuT2JqZWN0Lk5VTV9GUkFDVElPTl9ESUdJVFM7XG4gICAgICByZXR1cm4gJyB0cmFuc2xhdGUoJyArIHRvRml4ZWQoLXRoaXMucGF0aE9mZnNldC54LCBkaWdpdHMpICsgJywgJyArXG4gICAgICAgICAgdG9GaXhlZCgtdGhpcy5wYXRoT2Zmc2V0LnksIGRpZ2l0cykgKyAnKSc7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgc3ZnIGNsaXBQYXRoIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3Jldml2ZXJdIE1ldGhvZCBmb3IgZnVydGhlciBwYXJzaW5nIG9mIHN2ZyByZXByZXNlbnRhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IHN2ZyByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRvQ2xpcFBhdGhTVkc6IGZ1bmN0aW9uKHJldml2ZXIpIHtcbiAgICAgIHZhciBhZGRpdGlvbmFsVHJhbnNmb3JtID0gdGhpcy5fZ2V0T2Zmc2V0VHJhbnNmb3JtKCk7XG4gICAgICByZXR1cm4gJ1xcdCcgKyB0aGlzLl9jcmVhdGVCYXNlQ2xpcFBhdGhTVkdNYXJrdXAoXG4gICAgICAgIHRoaXMuX3RvU1ZHKCksIHsgcmV2aXZlcjogcmV2aXZlciwgYWRkaXRpb25hbFRyYW5zZm9ybTogYWRkaXRpb25hbFRyYW5zZm9ybSB9XG4gICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHN2ZyByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXZpdmVyXSBNZXRob2QgZm9yIGZ1cnRoZXIgcGFyc2luZyBvZiBzdmcgcmVwcmVzZW50YXRpb24uXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBzdmcgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b1NWRzogZnVuY3Rpb24ocmV2aXZlcikge1xuICAgICAgdmFyIGFkZGl0aW9uYWxUcmFuc2Zvcm0gPSB0aGlzLl9nZXRPZmZzZXRUcmFuc2Zvcm0oKTtcbiAgICAgIHJldHVybiB0aGlzLl9jcmVhdGVCYXNlU1ZHTWFya3VwKHRoaXMuX3RvU1ZHKCksIHsgcmV2aXZlcjogcmV2aXZlciwgYWRkaXRpb25hbFRyYW5zZm9ybTogYWRkaXRpb25hbFRyYW5zZm9ybSAgfSk7XG4gICAgfSxcbiAgICAvKiBfVE9fU1ZHX0VORF8gKi9cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgbnVtYmVyIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlIGNvbXBsZXhpdHlcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IGNvbXBsZXhpdHkgb2YgdGhpcyBpbnN0YW5jZVxuICAgICAqL1xuICAgIGNvbXBsZXhpdHk6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMucGF0aC5sZW5ndGg7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2NhbGNEaW1lbnNpb25zOiBmdW5jdGlvbigpIHtcblxuICAgICAgdmFyIGFYID0gW10sXG4gICAgICAgICAgYVkgPSBbXSxcbiAgICAgICAgICBjdXJyZW50LCAvLyBjdXJyZW50IGluc3RydWN0aW9uXG4gICAgICAgICAgc3VicGF0aFN0YXJ0WCA9IDAsXG4gICAgICAgICAgc3VicGF0aFN0YXJ0WSA9IDAsXG4gICAgICAgICAgeCA9IDAsIC8vIGN1cnJlbnQgeFxuICAgICAgICAgIHkgPSAwLCAvLyBjdXJyZW50IHlcbiAgICAgICAgICBib3VuZHM7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLnBhdGgubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcblxuICAgICAgICBjdXJyZW50ID0gdGhpcy5wYXRoW2ldO1xuXG4gICAgICAgIHN3aXRjaCAoY3VycmVudFswXSkgeyAvLyBmaXJzdCBsZXR0ZXJcblxuICAgICAgICAgIGNhc2UgJ0wnOiAvLyBsaW5ldG8sIGFic29sdXRlXG4gICAgICAgICAgICB4ID0gY3VycmVudFsxXTtcbiAgICAgICAgICAgIHkgPSBjdXJyZW50WzJdO1xuICAgICAgICAgICAgYm91bmRzID0gW107XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ00nOiAvLyBtb3ZlVG8sIGFic29sdXRlXG4gICAgICAgICAgICB4ID0gY3VycmVudFsxXTtcbiAgICAgICAgICAgIHkgPSBjdXJyZW50WzJdO1xuICAgICAgICAgICAgc3VicGF0aFN0YXJ0WCA9IHg7XG4gICAgICAgICAgICBzdWJwYXRoU3RhcnRZID0geTtcbiAgICAgICAgICAgIGJvdW5kcyA9IFtdO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdDJzogLy8gYmV6aWVyQ3VydmVUbywgYWJzb2x1dGVcbiAgICAgICAgICAgIGJvdW5kcyA9IGZhYnJpYy51dGlsLmdldEJvdW5kc09mQ3VydmUoeCwgeSxcbiAgICAgICAgICAgICAgY3VycmVudFsxXSxcbiAgICAgICAgICAgICAgY3VycmVudFsyXSxcbiAgICAgICAgICAgICAgY3VycmVudFszXSxcbiAgICAgICAgICAgICAgY3VycmVudFs0XSxcbiAgICAgICAgICAgICAgY3VycmVudFs1XSxcbiAgICAgICAgICAgICAgY3VycmVudFs2XVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHggPSBjdXJyZW50WzVdO1xuICAgICAgICAgICAgeSA9IGN1cnJlbnRbNl07XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ1EnOiAvLyBxdWFkcmF0aWNDdXJ2ZVRvLCBhYnNvbHV0ZVxuICAgICAgICAgICAgYm91bmRzID0gZmFicmljLnV0aWwuZ2V0Qm91bmRzT2ZDdXJ2ZSh4LCB5LFxuICAgICAgICAgICAgICBjdXJyZW50WzFdLFxuICAgICAgICAgICAgICBjdXJyZW50WzJdLFxuICAgICAgICAgICAgICBjdXJyZW50WzFdLFxuICAgICAgICAgICAgICBjdXJyZW50WzJdLFxuICAgICAgICAgICAgICBjdXJyZW50WzNdLFxuICAgICAgICAgICAgICBjdXJyZW50WzRdXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgeCA9IGN1cnJlbnRbM107XG4gICAgICAgICAgICB5ID0gY3VycmVudFs0XTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAneic6XG4gICAgICAgICAgY2FzZSAnWic6XG4gICAgICAgICAgICB4ID0gc3VicGF0aFN0YXJ0WDtcbiAgICAgICAgICAgIHkgPSBzdWJwYXRoU3RhcnRZO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgYm91bmRzLmZvckVhY2goZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgICAgICAgYVgucHVzaChwb2ludC54KTtcbiAgICAgICAgICBhWS5wdXNoKHBvaW50LnkpO1xuICAgICAgICB9KTtcbiAgICAgICAgYVgucHVzaCh4KTtcbiAgICAgICAgYVkucHVzaCh5KTtcbiAgICAgIH1cblxuICAgICAgdmFyIG1pblggPSBtaW4oYVgpIHx8IDAsXG4gICAgICAgICAgbWluWSA9IG1pbihhWSkgfHwgMCxcbiAgICAgICAgICBtYXhYID0gbWF4KGFYKSB8fCAwLFxuICAgICAgICAgIG1heFkgPSBtYXgoYVkpIHx8IDAsXG4gICAgICAgICAgZGVsdGFYID0gbWF4WCAtIG1pblgsXG4gICAgICAgICAgZGVsdGFZID0gbWF4WSAtIG1pblk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxlZnQ6IG1pblgsXG4gICAgICAgIHRvcDogbWluWSxcbiAgICAgICAgd2lkdGg6IGRlbHRhWCxcbiAgICAgICAgaGVpZ2h0OiBkZWx0YVlcbiAgICAgIH07XG4gICAgfVxuICB9KTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBmYWJyaWMuUGF0aCBmcm9tIGFuIG9iamVjdFxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuUGF0aFxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gQ2FsbGJhY2sgdG8gaW52b2tlIHdoZW4gYW4gZmFicmljLlBhdGggaW5zdGFuY2UgaXMgY3JlYXRlZFxuICAgKi9cbiAgZmFicmljLlBhdGguZnJvbU9iamVjdCA9IGZ1bmN0aW9uKG9iamVjdCwgY2FsbGJhY2spIHtcbiAgICBpZiAodHlwZW9mIG9iamVjdC5zb3VyY2VQYXRoID09PSAnc3RyaW5nJykge1xuICAgICAgdmFyIHBhdGhVcmwgPSBvYmplY3Quc291cmNlUGF0aDtcbiAgICAgIGZhYnJpYy5sb2FkU1ZHRnJvbVVSTChwYXRoVXJsLCBmdW5jdGlvbiAoZWxlbWVudHMpIHtcbiAgICAgICAgdmFyIHBhdGggPSBlbGVtZW50c1swXTtcbiAgICAgICAgcGF0aC5zZXRPcHRpb25zKG9iamVjdCk7XG4gICAgICAgIGlmIChvYmplY3QuY2xpcFBhdGgpIHtcbiAgICAgICAgICBmYWJyaWMudXRpbC5lbmxpdmVuT2JqZWN0cyhbb2JqZWN0LmNsaXBQYXRoXSwgZnVuY3Rpb24oZWxpdmVuZWRPYmplY3RzKSB7XG4gICAgICAgICAgICBwYXRoLmNsaXBQYXRoID0gZWxpdmVuZWRPYmplY3RzWzBdO1xuICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2socGF0aCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2socGF0aCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGZhYnJpYy5PYmplY3QuX2Zyb21PYmplY3QoJ1BhdGgnLCBvYmplY3QsIGNhbGxiYWNrLCAncGF0aCcpO1xuICAgIH1cbiAgfTtcblxuICAvKiBfRlJPTV9TVkdfU1RBUlRfICovXG4gIC8qKlxuICAgKiBMaXN0IG9mIGF0dHJpYnV0ZSBuYW1lcyB0byBhY2NvdW50IGZvciB3aGVuIHBhcnNpbmcgU1ZHIGVsZW1lbnQgKHVzZWQgYnkgYGZhYnJpYy5QYXRoLmZyb21FbGVtZW50YClcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLlBhdGhcbiAgICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcvcGF0aHMuaHRtbCNQYXRoRWxlbWVudFxuICAgKi9cbiAgZmFicmljLlBhdGguQVRUUklCVVRFX05BTUVTID0gZmFicmljLlNIQVJFRF9BVFRSSUJVVEVTLmNvbmNhdChbJ2QnXSk7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgZmFicmljLlBhdGggZnJvbSBhbiBTVkcgPHBhdGg+IGVsZW1lbnRcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLlBhdGhcbiAgICogQHBhcmFtIHtTVkdFbGVtZW50fSBlbGVtZW50IHRvIHBhcnNlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIENhbGxiYWNrIHRvIGludm9rZSB3aGVuIGFuIGZhYnJpYy5QYXRoIGluc3RhbmNlIGlzIGNyZWF0ZWRcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIE9wdGlvbnMgY2FsbGJhY2sgaW52b2tlZCBhZnRlciBwYXJzaW5nIGlzIGZpbmlzaGVkXG4gICAqL1xuICBmYWJyaWMuUGF0aC5mcm9tRWxlbWVudCA9IGZ1bmN0aW9uKGVsZW1lbnQsIGNhbGxiYWNrLCBvcHRpb25zKSB7XG4gICAgdmFyIHBhcnNlZEF0dHJpYnV0ZXMgPSBmYWJyaWMucGFyc2VBdHRyaWJ1dGVzKGVsZW1lbnQsIGZhYnJpYy5QYXRoLkFUVFJJQlVURV9OQU1FUyk7XG4gICAgcGFyc2VkQXR0cmlidXRlcy5mcm9tU1ZHID0gdHJ1ZTtcbiAgICBjYWxsYmFjayhuZXcgZmFicmljLlBhdGgocGFyc2VkQXR0cmlidXRlcy5kLCBleHRlbmQocGFyc2VkQXR0cmlidXRlcywgb3B0aW9ucykpKTtcbiAgfTtcbiAgLyogX0ZST01fU1ZHX0VORF8gKi9cblxufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyA9IGdsb2JhbC5mYWJyaWMgfHwgKGdsb2JhbC5mYWJyaWMgPSB7IH0pLFxuICAgICAgbWluID0gZmFicmljLnV0aWwuYXJyYXkubWluLFxuICAgICAgbWF4ID0gZmFicmljLnV0aWwuYXJyYXkubWF4O1xuXG4gIGlmIChmYWJyaWMuR3JvdXApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogR3JvdXAgY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5Hcm91cFxuICAgKiBAZXh0ZW5kcyBmYWJyaWMuT2JqZWN0XG4gICAqIEBtaXhlcyBmYWJyaWMuQ29sbGVjdGlvblxuICAgKiBAdHV0b3JpYWwge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vZmFicmljLWludHJvLXBhcnQtMyNncm91cHN9XG4gICAqIEBzZWUge0BsaW5rIGZhYnJpYy5Hcm91cCNpbml0aWFsaXplfSBmb3IgY29uc3RydWN0b3IgZGVmaW5pdGlvblxuICAgKi9cbiAgZmFicmljLkdyb3VwID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3MoZmFicmljLk9iamVjdCwgZmFicmljLkNvbGxlY3Rpb24sIC8qKiBAbGVuZHMgZmFicmljLkdyb3VwLnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBUeXBlIG9mIGFuIG9iamVjdFxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHlwZTogJ2dyb3VwJyxcblxuICAgIC8qKlxuICAgICAqIFdpZHRoIG9mIHN0cm9rZVxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc3Ryb2tlV2lkdGg6IDAsXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgaWYgY2xpY2ssIG1vdXNlb3ZlciwgbW91c2VvdXQgZXZlbnRzICYgaG92ZXJDdXJzb3Igc2hvdWxkIGFsc28gY2hlY2sgZm9yIHN1YnRhcmdldHNcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzdWJUYXJnZXRDaGVjazogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBHcm91cHMgYXJlIGNvbnRhaW5lciwgZG8gbm90IHJlbmRlciBhbnl0aGluZyBvbiB0aGV5ciBvd24sIGVuY2Ugbm8gY2FjaGUgcHJvcGVydGllc1xuICAgICAqIEB0eXBlIEFycmF5XG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBjYWNoZVByb3BlcnRpZXM6IFtdLFxuXG4gICAgLyoqXG4gICAgICogc2V0T25Hcm91cCBpcyBhIG1ldGhvZCB1c2VkIGZvciBUZXh0Qm94IHRoYXQgaXMgbm8gbW9yZSB1c2VkIHNpbmNlIDIuMC4wIFRoZSBiZWhhdmlvciBpcyBzdGlsbFxuICAgICAqIGF2YWlsYWJsZSBzZXR0aW5nIHRoaXMgYm9vbGVhbiB0byB0cnVlLlxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHVzZVNldE9uR3JvdXA6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0cyBHcm91cCBvYmplY3RzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2lzQWxyZWFkeUdyb3VwZWRdIGlmIHRydWUsIG9iamVjdHMgaGF2ZSBiZWVuIGdyb3VwZWQgYWxyZWFkeS5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IHRoaXNBcmdcbiAgICAgKi9cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbihvYmplY3RzLCBvcHRpb25zLCBpc0FscmVhZHlHcm91cGVkKSB7XG4gICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgIHRoaXMuX29iamVjdHMgPSBbXTtcbiAgICAgIC8vIGlmIG9iamVjdHMgZW5jbG9zZWQgaW4gYSBncm91cCBoYXZlIGJlZW4gZ3JvdXBlZCBhbHJlYWR5LFxuICAgICAgLy8gd2UgY2Fubm90IGNoYW5nZSBwcm9wZXJ0aWVzIG9mIG9iamVjdHMuXG4gICAgICAvLyBUaHVzIHdlIG5lZWQgdG8gc2V0IG9wdGlvbnMgdG8gZ3JvdXAgd2l0aG91dCBvYmplY3RzLFxuICAgICAgaXNBbHJlYWR5R3JvdXBlZCAmJiB0aGlzLmNhbGxTdXBlcignaW5pdGlhbGl6ZScsIG9wdGlvbnMpO1xuICAgICAgdGhpcy5fb2JqZWN0cyA9IG9iamVjdHMgfHwgW107XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy5fb2JqZWN0cy5sZW5ndGg7IGktLTsgKSB7XG4gICAgICAgIHRoaXMuX29iamVjdHNbaV0uZ3JvdXAgPSB0aGlzO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzQWxyZWFkeUdyb3VwZWQpIHtcbiAgICAgICAgdmFyIGNlbnRlciA9IG9wdGlvbnMgJiYgb3B0aW9ucy5jZW50ZXJQb2ludDtcbiAgICAgICAgLy8gd2Ugd2FudCB0byBzZXQgb3JpZ2lucyBiZWZvcmUgY2FsY3VsYXRpbmcgdGhlIGJvdW5kaW5nIGJveC5cbiAgICAgICAgLy8gc28gdGhhdCB0aGUgdG9wbGVmdCBjYW4gYmUgc2V0IHdpdGggdGhhdCBpbiBtaW5kLlxuICAgICAgICAvLyBpZiBzcGVjaWZpYyB0b3AgYW5kIGxlZnQgYXJlIHBhc3NlZCwgYXJlIG92ZXJ3cml0dGVuIGxhdGVyXG4gICAgICAgIC8vIHdpdGggdGhlIGNhbGxTdXBlcignaW5pdGlhbGl6ZScsIG9wdGlvbnMpXG4gICAgICAgIGlmIChvcHRpb25zLm9yaWdpblggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRoaXMub3JpZ2luWCA9IG9wdGlvbnMub3JpZ2luWDtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5vcmlnaW5ZICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0aGlzLm9yaWdpblkgPSBvcHRpb25zLm9yaWdpblk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgY29taW5nIGZyb20gc3ZnIGkgZG8gbm90IHdhbnQgdG8gY2FsYyBib3VuZHMuXG4gICAgICAgIC8vIGkgYXNzdW1lIHdpZHRoIGFuZCBoZWlnaHQgYXJlIHBhc3NlZCBhbG9uZyBvcHRpb25zXG4gICAgICAgIGNlbnRlciB8fCB0aGlzLl9jYWxjQm91bmRzKCk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZU9iamVjdHNDb29yZHMoY2VudGVyKTtcbiAgICAgICAgZGVsZXRlIG9wdGlvbnMuY2VudGVyUG9pbnQ7XG4gICAgICAgIHRoaXMuY2FsbFN1cGVyKCdpbml0aWFsaXplJywgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlT2JqZWN0c0FDb29yZHMoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZXRDb29yZHMoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfdXBkYXRlT2JqZWN0c0FDb29yZHM6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNraXBDb250cm9scyA9IHRydWU7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy5fb2JqZWN0cy5sZW5ndGg7IGktLTsgKXtcbiAgICAgICAgdGhpcy5fb2JqZWN0c1tpXS5zZXRDb29yZHMoc2tpcENvbnRyb2xzKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtza2lwQ29vcmRzQ2hhbmdlXSBpZiB0cnVlLCBjb29yZGluYXRlcyBvZiBvYmplY3RzIGVuY2xvc2VkIGluIGEgZ3JvdXAgZG8gbm90IGNoYW5nZVxuICAgICAqL1xuICAgIF91cGRhdGVPYmplY3RzQ29vcmRzOiBmdW5jdGlvbihjZW50ZXIpIHtcbiAgICAgIHZhciBjZW50ZXIgPSBjZW50ZXIgfHwgdGhpcy5nZXRDZW50ZXJQb2ludCgpO1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMuX29iamVjdHMubGVuZ3RoOyBpLS07ICl7XG4gICAgICAgIHRoaXMuX3VwZGF0ZU9iamVjdENvb3Jkcyh0aGlzLl9vYmplY3RzW2ldLCBjZW50ZXIpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gY2VudGVyLCBjdXJyZW50IGNlbnRlciBvZiBncm91cC5cbiAgICAgKi9cbiAgICBfdXBkYXRlT2JqZWN0Q29vcmRzOiBmdW5jdGlvbihvYmplY3QsIGNlbnRlcikge1xuICAgICAgdmFyIG9iamVjdExlZnQgPSBvYmplY3QubGVmdCxcbiAgICAgICAgICBvYmplY3RUb3AgPSBvYmplY3QudG9wLFxuICAgICAgICAgIHNraXBDb250cm9scyA9IHRydWU7XG5cbiAgICAgIG9iamVjdC5zZXQoe1xuICAgICAgICBsZWZ0OiBvYmplY3RMZWZ0IC0gY2VudGVyLngsXG4gICAgICAgIHRvcDogb2JqZWN0VG9wIC0gY2VudGVyLnlcbiAgICAgIH0pO1xuICAgICAgb2JqZWN0Lmdyb3VwID0gdGhpcztcbiAgICAgIG9iamVjdC5zZXRDb29yZHMoc2tpcENvbnRyb2xzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBzdHJpbmcgcmVwcmVzZW5hdGlvbiBvZiBhIGdyb3VwXG4gICAgICogQHJldHVybiB7U3RyaW5nfVxuICAgICAqL1xuICAgIHRvU3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAnIzxmYWJyaWMuR3JvdXA6ICgnICsgdGhpcy5jb21wbGV4aXR5KCkgKyAnKT4nO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGFuIG9iamVjdCB0byBhIGdyb3VwOyBUaGVuIHJlY2FsY3VsYXRlcyBncm91cCdzIGRpbWVuc2lvbiwgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Hcm91cH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBhZGRXaXRoVXBkYXRlOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHZhciBuZXN0ZWQgPSAhIXRoaXMuZ3JvdXA7XG4gICAgICB0aGlzLl9yZXN0b3JlT2JqZWN0c1N0YXRlKCk7XG4gICAgICBmYWJyaWMudXRpbC5yZXNldE9iamVjdFRyYW5zZm9ybSh0aGlzKTtcbiAgICAgIGlmIChvYmplY3QpIHtcbiAgICAgICAgaWYgKG5lc3RlZCkge1xuICAgICAgICAgIC8vIGlmIHRoaXMgZ3JvdXAgaXMgaW5zaWRlIGFub3RoZXIgZ3JvdXAsIHdlIG5lZWQgdG8gcHJlIHRyYW5zZm9ybSB0aGUgb2JqZWN0XG4gICAgICAgICAgZmFicmljLnV0aWwucmVtb3ZlVHJhbnNmb3JtRnJvbU9iamVjdChvYmplY3QsIHRoaXMuZ3JvdXAuY2FsY1RyYW5zZm9ybU1hdHJpeCgpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9vYmplY3RzLnB1c2gob2JqZWN0KTtcbiAgICAgICAgb2JqZWN0Lmdyb3VwID0gdGhpcztcbiAgICAgICAgb2JqZWN0Ll9zZXQoJ2NhbnZhcycsIHRoaXMuY2FudmFzKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2NhbGNCb3VuZHMoKTtcbiAgICAgIHRoaXMuX3VwZGF0ZU9iamVjdHNDb29yZHMoKTtcbiAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgaWYgKG5lc3RlZCkge1xuICAgICAgICB0aGlzLmdyb3VwLmFkZFdpdGhVcGRhdGUoKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLnNldENvb3JkcygpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYW4gb2JqZWN0IGZyb20gYSBncm91cDsgVGhlbiByZWNhbGN1bGF0ZXMgZ3JvdXAncyBkaW1lbnNpb24sIHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuR3JvdXB9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgcmVtb3ZlV2l0aFVwZGF0ZTogZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICB0aGlzLl9yZXN0b3JlT2JqZWN0c1N0YXRlKCk7XG4gICAgICBmYWJyaWMudXRpbC5yZXNldE9iamVjdFRyYW5zZm9ybSh0aGlzKTtcblxuICAgICAgdGhpcy5yZW1vdmUob2JqZWN0KTtcbiAgICAgIHRoaXMuX2NhbGNCb3VuZHMoKTtcbiAgICAgIHRoaXMuX3VwZGF0ZU9iamVjdHNDb29yZHMoKTtcbiAgICAgIHRoaXMuc2V0Q29vcmRzKCk7XG4gICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9vbk9iamVjdEFkZGVkOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgb2JqZWN0Lmdyb3VwID0gdGhpcztcbiAgICAgIG9iamVjdC5fc2V0KCdjYW52YXMnLCB0aGlzLmNhbnZhcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX29uT2JqZWN0UmVtb3ZlZDogZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgIGRlbGV0ZSBvYmplY3QuZ3JvdXA7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3NldDogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIGkgPSB0aGlzLl9vYmplY3RzLmxlbmd0aDtcbiAgICAgIGlmICh0aGlzLnVzZVNldE9uR3JvdXApIHtcbiAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgIHRoaXMuX29iamVjdHNbaV0uc2V0T25Hcm91cChrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGtleSA9PT0gJ2NhbnZhcycpIHtcbiAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgIHRoaXMuX29iamVjdHNbaV0uX3NldChrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZmFicmljLk9iamVjdC5wcm90b3R5cGUuX3NldC5jYWxsKHRoaXMsIGtleSwgdmFsdWUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wZXJ0aWVzVG9JbmNsdWRlXSBBbnkgcHJvcGVydGllcyB0aGF0IHlvdSBtaWdodCB3YW50IHRvIGFkZGl0aW9uYWxseSBpbmNsdWRlIGluIHRoZSBvdXRwdXRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRvT2JqZWN0OiBmdW5jdGlvbihwcm9wZXJ0aWVzVG9JbmNsdWRlKSB7XG4gICAgICB2YXIgX2luY2x1ZGVEZWZhdWx0VmFsdWVzID0gdGhpcy5pbmNsdWRlRGVmYXVsdFZhbHVlcztcbiAgICAgIHZhciBvYmpzVG9PYmplY3QgPSB0aGlzLl9vYmplY3RzXG4gICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgIHJldHVybiAhb2JqLmV4Y2x1ZGVGcm9tRXhwb3J0O1xuICAgICAgICB9KVxuICAgICAgICAubWFwKGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICB2YXIgb3JpZ2luYWxEZWZhdWx0cyA9IG9iai5pbmNsdWRlRGVmYXVsdFZhbHVlcztcbiAgICAgICAgICBvYmouaW5jbHVkZURlZmF1bHRWYWx1ZXMgPSBfaW5jbHVkZURlZmF1bHRWYWx1ZXM7XG4gICAgICAgICAgdmFyIF9vYmogPSBvYmoudG9PYmplY3QocHJvcGVydGllc1RvSW5jbHVkZSk7XG4gICAgICAgICAgb2JqLmluY2x1ZGVEZWZhdWx0VmFsdWVzID0gb3JpZ2luYWxEZWZhdWx0cztcbiAgICAgICAgICByZXR1cm4gX29iajtcbiAgICAgICAgfSk7XG4gICAgICB2YXIgb2JqID0gZmFicmljLk9iamVjdC5wcm90b3R5cGUudG9PYmplY3QuY2FsbCh0aGlzLCBwcm9wZXJ0aWVzVG9JbmNsdWRlKTtcbiAgICAgIG9iai5vYmplY3RzID0gb2Jqc1RvT2JqZWN0O1xuICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2UsIGluIGRhdGFsZXNzIG1vZGUuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BlcnRpZXNUb0luY2x1ZGVdIEFueSBwcm9wZXJ0aWVzIHRoYXQgeW91IG1pZ2h0IHdhbnQgdG8gYWRkaXRpb25hbGx5IGluY2x1ZGUgaW4gdGhlIG91dHB1dFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgdG9EYXRhbGVzc09iamVjdDogZnVuY3Rpb24ocHJvcGVydGllc1RvSW5jbHVkZSkge1xuICAgICAgdmFyIG9ianNUb09iamVjdCwgc291cmNlUGF0aCA9IHRoaXMuc291cmNlUGF0aDtcbiAgICAgIGlmIChzb3VyY2VQYXRoKSB7XG4gICAgICAgIG9ianNUb09iamVjdCA9IHNvdXJjZVBhdGg7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdmFyIF9pbmNsdWRlRGVmYXVsdFZhbHVlcyA9IHRoaXMuaW5jbHVkZURlZmF1bHRWYWx1ZXM7XG4gICAgICAgIG9ianNUb09iamVjdCA9IHRoaXMuX29iamVjdHMubWFwKGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgIHZhciBvcmlnaW5hbERlZmF1bHRzID0gb2JqLmluY2x1ZGVEZWZhdWx0VmFsdWVzO1xuICAgICAgICAgIG9iai5pbmNsdWRlRGVmYXVsdFZhbHVlcyA9IF9pbmNsdWRlRGVmYXVsdFZhbHVlcztcbiAgICAgICAgICB2YXIgX29iaiA9IG9iai50b0RhdGFsZXNzT2JqZWN0KHByb3BlcnRpZXNUb0luY2x1ZGUpO1xuICAgICAgICAgIG9iai5pbmNsdWRlRGVmYXVsdFZhbHVlcyA9IG9yaWdpbmFsRGVmYXVsdHM7XG4gICAgICAgICAgcmV0dXJuIF9vYmo7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdmFyIG9iaiA9IGZhYnJpYy5PYmplY3QucHJvdG90eXBlLnRvRGF0YWxlc3NPYmplY3QuY2FsbCh0aGlzLCBwcm9wZXJ0aWVzVG9JbmNsdWRlKTtcbiAgICAgIG9iai5vYmplY3RzID0gb2Jqc1RvT2JqZWN0O1xuICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyBpbnN0YW5jZSBvbiBhIGdpdmVuIGNvbnRleHRcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IGNvbnRleHQgdG8gcmVuZGVyIGluc3RhbmNlIG9uXG4gICAgICovXG4gICAgcmVuZGVyOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIHRoaXMuX3RyYW5zZm9ybURvbmUgPSB0cnVlO1xuICAgICAgdGhpcy5jYWxsU3VwZXIoJ3JlbmRlcicsIGN0eCk7XG4gICAgICB0aGlzLl90cmFuc2Zvcm1Eb25lID0gZmFsc2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERlY2lkZSBpZiB0aGUgb2JqZWN0IHNob3VsZCBjYWNoZSBvciBub3QuIENyZWF0ZSBpdHMgb3duIGNhY2hlIGxldmVsXG4gICAgICogbmVlZHNJdHNPd25DYWNoZSBzaG91bGQgYmUgdXNlZCB3aGVuIHRoZSBvYmplY3QgZHJhd2luZyBtZXRob2QgcmVxdWlyZXNcbiAgICAgKiBhIGNhY2hlIHN0ZXAuIE5vbmUgb2YgdGhlIGZhYnJpYyBjbGFzc2VzIHJlcXVpcmVzIGl0LlxuICAgICAqIEdlbmVyYWxseSB5b3UgZG8gbm90IGNhY2hlIG9iamVjdHMgaW4gZ3JvdXBzIGJlY2F1c2UgdGhlIGdyb3VwIGlzIGFscmVhZHkgY2FjaGVkLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgc2hvdWxkQ2FjaGU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG93bkNhY2hlID0gZmFicmljLk9iamVjdC5wcm90b3R5cGUuc2hvdWxkQ2FjaGUuY2FsbCh0aGlzKTtcbiAgICAgIGlmIChvd25DYWNoZSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5fb2JqZWN0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgIGlmICh0aGlzLl9vYmplY3RzW2ldLndpbGxEcmF3U2hhZG93KCkpIHtcbiAgICAgICAgICAgIHRoaXMub3duQ2FjaGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG93bkNhY2hlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB0aGlzIG9iamVjdCBvciBhIGNoaWxkIG9iamVjdCB3aWxsIGNhc3QgYSBzaGFkb3dcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIHdpbGxEcmF3U2hhZG93OiBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChmYWJyaWMuT2JqZWN0LnByb3RvdHlwZS53aWxsRHJhd1NoYWRvdy5jYWxsKHRoaXMpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMuX29iamVjdHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgaWYgKHRoaXMuX29iamVjdHNbaV0ud2lsbERyYXdTaGFkb3coKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHRoaXMgZ3JvdXAgb3IgaXRzIHBhcmVudCBncm91cCBhcmUgY2FjaGluZywgcmVjdXJzaXZlbHkgdXBcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIGlzT25BQ2FjaGU6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMub3duQ2FjaGluZyB8fCAodGhpcy5ncm91cCAmJiB0aGlzLmdyb3VwLmlzT25BQ2FjaGUoKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGUgdGhlIGRyYXdpbmcgb3BlcmF0aW9uIGZvciBhbiBvYmplY3Qgb24gYSBzcGVjaWZpZWQgY29udGV4dFxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBkcmF3T2JqZWN0OiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLl9vYmplY3RzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHRoaXMuX29iamVjdHNbaV0ucmVuZGVyKGN0eCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9kcmF3Q2xpcFBhdGgoY3R4LCB0aGlzLmNsaXBQYXRoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgY2FjaGUgaXMgZGlydHlcbiAgICAgKi9cbiAgICBpc0NhY2hlRGlydHk6IGZ1bmN0aW9uKHNraXBDYW52YXMpIHtcbiAgICAgIGlmICh0aGlzLmNhbGxTdXBlcignaXNDYWNoZURpcnR5Jywgc2tpcENhbnZhcykpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuc3RhdGVmdWxsQ2FjaGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMuX29iamVjdHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgaWYgKHRoaXMuX29iamVjdHNbaV0uaXNDYWNoZURpcnR5KHRydWUpKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX2NhY2hlQ2FudmFzKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGlzIGdyb3VwIGhhcyBub3QgYSBjYWNoZSBjYW52YXMgdGhlcmUgaXMgbm90aGluZyB0byBjbGVhblxuICAgICAgICAgICAgdmFyIHggPSB0aGlzLmNhY2hlV2lkdGggLyB0aGlzLnpvb21YLCB5ID0gdGhpcy5jYWNoZUhlaWdodCAvIHRoaXMuem9vbVk7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZUNvbnRleHQuY2xlYXJSZWN0KC14IC8gMiwgLXkgLyAyLCB4LCB5KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVzdG9yZXMgb3JpZ2luYWwgc3RhdGUgb2YgZWFjaCBvZiBncm91cCBvYmplY3RzIChvcmlnaW5hbCBzdGF0ZSBpcyB0aGF0IHdoaWNoIHdhcyBiZWZvcmUgZ3JvdXAgd2FzIGNyZWF0ZWQpLlxuICAgICAqIGlmIHRoZSBuZXN0ZWQgYm9vbGVhbiBpcyB0cnVlLCB0aGUgb3JpZ2luYWwgc3RhdGUgd2lsbCBiZSByZXN0b3JlZCBqdXN0IGZvciB0aGVcbiAgICAgKiBmaXJzdCBncm91cCBhbmQgbm90IGZvciBhbGwgdGhlIGdyb3VwIGNoYWluXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IG5lc3RlZCB0ZWxsIHRoZSBmdW5jdGlvbiB0byByZXN0b3JlIG9iamVjdCBzdGF0ZSB1cCB0byB0aGUgcGFyZW50IGdyb3VwIGFuZCBub3QgbW9yZVxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Hcm91cH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBfcmVzdG9yZU9iamVjdHNTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZ3JvdXBNYXRyaXggPSB0aGlzLmNhbGNPd25NYXRyaXgoKTtcbiAgICAgIHRoaXMuX29iamVjdHMuZm9yRWFjaChmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgLy8gaW5zdGVhZCBvZiB1c2luZyBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGZhYnJpYy51dGlsLmFkZFRyYW5zZm9ybVRvT2JqZWN0KG9iamVjdCwgZ3JvdXBNYXRyaXgpO1xuICAgICAgICBkZWxldGUgb2JqZWN0Lmdyb3VwO1xuICAgICAgICBvYmplY3Quc2V0Q29vcmRzKCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyBhIGdyb3VwIChyZXN0b3Jpbmcgc3RhdGUgb2YgaXRzIG9iamVjdHMpXG4gICAgICogQHJldHVybiB7ZmFicmljLkdyb3VwfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgLy8gd2hlbiBncm91cCBpcyBkZXN0cm95ZWQgb2JqZWN0cyBuZWVkcyB0byBnZXQgYSByZXBhaW50IHRvIGJlIGV2ZW50dWFsbHlcbiAgICAgIC8vIGRpc3BsYXllZCBvbiBjYW52YXMuXG4gICAgICB0aGlzLl9vYmplY3RzLmZvckVhY2goZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIG9iamVjdC5zZXQoJ2RpcnR5JywgdHJ1ZSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0aGlzLl9yZXN0b3JlT2JqZWN0c1N0YXRlKCk7XG4gICAgfSxcblxuICAgIGRpc3Bvc2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuY2FsbFN1cGVyKCdkaXNwb3NlJyk7XG4gICAgICB0aGlzLmZvckVhY2hPYmplY3QoZnVuY3Rpb24gKG9iamVjdCkge1xuICAgICAgICBvYmplY3QuZGlzcG9zZSAmJiBvYmplY3QuZGlzcG9zZSgpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLl9vYmplY3RzID0gW107XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIG1ha2UgYSBncm91cCBhbiBhY3RpdmUgc2VsZWN0aW9uLCByZW1vdmUgdGhlIGdyb3VwIGZyb20gY2FudmFzXG4gICAgICogdGhlIGdyb3VwIGhhcyB0byBiZSBvbiBjYW52YXMgZm9yIHRoaXMgdG8gd29yay5cbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQWN0aXZlU2VsZWN0aW9ufSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHRvQWN0aXZlU2VsZWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICghdGhpcy5jYW52YXMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIG9iamVjdHMgPSB0aGlzLl9vYmplY3RzLCBjYW52YXMgPSB0aGlzLmNhbnZhcztcbiAgICAgIHRoaXMuX29iamVjdHMgPSBbXTtcbiAgICAgIHZhciBvcHRpb25zID0gdGhpcy50b09iamVjdCgpO1xuICAgICAgZGVsZXRlIG9wdGlvbnMub2JqZWN0cztcbiAgICAgIHZhciBhY3RpdmVTZWxlY3Rpb24gPSBuZXcgZmFicmljLkFjdGl2ZVNlbGVjdGlvbihbXSk7XG4gICAgICBhY3RpdmVTZWxlY3Rpb24uc2V0KG9wdGlvbnMpO1xuICAgICAgYWN0aXZlU2VsZWN0aW9uLnR5cGUgPSAnYWN0aXZlU2VsZWN0aW9uJztcbiAgICAgIGNhbnZhcy5yZW1vdmUodGhpcyk7XG4gICAgICBvYmplY3RzLmZvckVhY2goZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIG9iamVjdC5ncm91cCA9IGFjdGl2ZVNlbGVjdGlvbjtcbiAgICAgICAgb2JqZWN0LmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgY2FudmFzLmFkZChvYmplY3QpO1xuICAgICAgfSk7XG4gICAgICBhY3RpdmVTZWxlY3Rpb24uY2FudmFzID0gY2FudmFzO1xuICAgICAgYWN0aXZlU2VsZWN0aW9uLl9vYmplY3RzID0gb2JqZWN0cztcbiAgICAgIGNhbnZhcy5fYWN0aXZlT2JqZWN0ID0gYWN0aXZlU2VsZWN0aW9uO1xuICAgICAgYWN0aXZlU2VsZWN0aW9uLnNldENvb3JkcygpO1xuICAgICAgcmV0dXJuIGFjdGl2ZVNlbGVjdGlvbjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgYSBncm91cCAocmVzdG9yaW5nIHN0YXRlIG9mIGl0cyBvYmplY3RzKVxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Hcm91cH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICB1bmdyb3VwT25DYW52YXM6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3Jlc3RvcmVPYmplY3RzU3RhdGUoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyBjb29yZGluYXRlcyBvZiBhbGwgb2JqZWN0cyBpbnNpZGUgZ3JvdXBcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuR3JvdXB9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgc2V0T2JqZWN0c0Nvb3JkczogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2tpcENvbnRyb2xzID0gdHJ1ZTtcbiAgICAgIHRoaXMuZm9yRWFjaE9iamVjdChmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgb2JqZWN0LnNldENvb3Jkcyhza2lwQ29udHJvbHMpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfY2FsY0JvdW5kczogZnVuY3Rpb24ob25seVdpZHRoSGVpZ2h0KSB7XG4gICAgICB2YXIgYVggPSBbXSxcbiAgICAgICAgICBhWSA9IFtdLFxuICAgICAgICAgIG8sIHByb3AsIGNvb3JkcyxcbiAgICAgICAgICBwcm9wcyA9IFsndHInLCAnYnInLCAnYmwnLCAndGwnXSxcbiAgICAgICAgICBpID0gMCwgaUxlbiA9IHRoaXMuX29iamVjdHMubGVuZ3RoLFxuICAgICAgICAgIGosIGpMZW4gPSBwcm9wcy5sZW5ndGg7XG5cbiAgICAgIGZvciAoIDsgaSA8IGlMZW47ICsraSkge1xuICAgICAgICBvID0gdGhpcy5fb2JqZWN0c1tpXTtcbiAgICAgICAgY29vcmRzID0gby5jYWxjQUNvb3JkcygpO1xuICAgICAgICBmb3IgKGogPSAwOyBqIDwgakxlbjsgaisrKSB7XG4gICAgICAgICAgcHJvcCA9IHByb3BzW2pdO1xuICAgICAgICAgIGFYLnB1c2goY29vcmRzW3Byb3BdLngpO1xuICAgICAgICAgIGFZLnB1c2goY29vcmRzW3Byb3BdLnkpO1xuICAgICAgICB9XG4gICAgICAgIG8uYUNvb3JkcyA9IGNvb3JkcztcbiAgICAgIH1cblxuICAgICAgdGhpcy5fZ2V0Qm91bmRzKGFYLCBhWSwgb25seVdpZHRoSGVpZ2h0KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZ2V0Qm91bmRzOiBmdW5jdGlvbihhWCwgYVksIG9ubHlXaWR0aEhlaWdodCkge1xuICAgICAgdmFyIG1pblhZID0gbmV3IGZhYnJpYy5Qb2ludChtaW4oYVgpLCBtaW4oYVkpKSxcbiAgICAgICAgICBtYXhYWSA9IG5ldyBmYWJyaWMuUG9pbnQobWF4KGFYKSwgbWF4KGFZKSksXG4gICAgICAgICAgdG9wID0gbWluWFkueSB8fCAwLCBsZWZ0ID0gbWluWFkueCB8fCAwLFxuICAgICAgICAgIHdpZHRoID0gKG1heFhZLnggLSBtaW5YWS54KSB8fCAwLFxuICAgICAgICAgIGhlaWdodCA9IChtYXhYWS55IC0gbWluWFkueSkgfHwgMDtcbiAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgaWYgKCFvbmx5V2lkdGhIZWlnaHQpIHtcbiAgICAgICAgLy8gdGhlIGJvdW5kaW5nIGJveCBhbHdheXMgZmluZHMgdGhlIHRvcGxlZnQgbW9zdCBjb3JuZXIuXG4gICAgICAgIC8vIHdoYXRldmVyIGlzIHRoZSBncm91cCBvcmlnaW4sIHdlIHNldCB1cCBoZXJlIHRoZSBsZWZ0L3RvcCBwb3NpdGlvbi5cbiAgICAgICAgdGhpcy5zZXRQb3NpdGlvbkJ5T3JpZ2luKHsgeDogbGVmdCwgeTogdG9wIH0sICdsZWZ0JywgJ3RvcCcpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKiBfVE9fU1ZHX1NUQVJUXyAqL1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgc3ZnIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3Jldml2ZXJdIE1ldGhvZCBmb3IgZnVydGhlciBwYXJzaW5nIG9mIHN2ZyByZXByZXNlbnRhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IHN2ZyByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIF90b1NWRzogZnVuY3Rpb24ocmV2aXZlcikge1xuICAgICAgdmFyIHN2Z1N0cmluZyA9IFsnPGcgJywgJ0NPTU1PTl9QQVJUUycsICcgPlxcbiddO1xuXG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5fb2JqZWN0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBzdmdTdHJpbmcucHVzaCgnXFx0XFx0JywgdGhpcy5fb2JqZWN0c1tpXS50b1NWRyhyZXZpdmVyKSk7XG4gICAgICB9XG4gICAgICBzdmdTdHJpbmcucHVzaCgnPC9nPlxcbicpO1xuICAgICAgcmV0dXJuIHN2Z1N0cmluZztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBzdHlsZXMtc3RyaW5nIGZvciBzdmctZXhwb3J0LCBzcGVjaWZpYyB2ZXJzaW9uIGZvciBncm91cFxuICAgICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICAgKi9cbiAgICBnZXRTdmdTdHlsZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG9wYWNpdHkgPSB0eXBlb2YgdGhpcy5vcGFjaXR5ICE9PSAndW5kZWZpbmVkJyAmJiB0aGlzLm9wYWNpdHkgIT09IDEgP1xuICAgICAgICAgICAgJ29wYWNpdHk6ICcgKyB0aGlzLm9wYWNpdHkgKyAnOycgOiAnJyxcbiAgICAgICAgICB2aXNpYmlsaXR5ID0gdGhpcy52aXNpYmxlID8gJycgOiAnIHZpc2liaWxpdHk6IGhpZGRlbjsnO1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgb3BhY2l0eSxcbiAgICAgICAgdGhpcy5nZXRTdmdGaWx0ZXIoKSxcbiAgICAgICAgdmlzaWJpbGl0eVxuICAgICAgXS5qb2luKCcnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBzdmcgY2xpcFBhdGggcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcmV2aXZlcl0gTWV0aG9kIGZvciBmdXJ0aGVyIHBhcnNpbmcgb2Ygc3ZnIHJlcHJlc2VudGF0aW9uLlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gc3ZnIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgdG9DbGlwUGF0aFNWRzogZnVuY3Rpb24ocmV2aXZlcikge1xuICAgICAgdmFyIHN2Z1N0cmluZyA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5fb2JqZWN0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBzdmdTdHJpbmcucHVzaCgnXFx0JywgdGhpcy5fb2JqZWN0c1tpXS50b0NsaXBQYXRoU1ZHKHJldml2ZXIpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZUJhc2VDbGlwUGF0aFNWR01hcmt1cChzdmdTdHJpbmcsIHsgcmV2aXZlcjogcmV2aXZlciB9KTtcbiAgICB9LFxuICAgIC8qIF9UT19TVkdfRU5EXyAqL1xuICB9KTtcblxuICAvKipcbiAgICogUmV0dXJucyB7QGxpbmsgZmFicmljLkdyb3VwfSBpbnN0YW5jZSBmcm9tIGFuIG9iamVjdCByZXByZXNlbnRhdGlvblxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuR3JvdXBcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY3JlYXRlIGEgZ3JvdXAgZnJvbVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIENhbGxiYWNrIHRvIGludm9rZSB3aGVuIGFuIGdyb3VwIGluc3RhbmNlIGlzIGNyZWF0ZWRcbiAgICovXG4gIGZhYnJpYy5Hcm91cC5mcm9tT2JqZWN0ID0gZnVuY3Rpb24ob2JqZWN0LCBjYWxsYmFjaykge1xuICAgIHZhciBvYmplY3RzID0gb2JqZWN0Lm9iamVjdHMsXG4gICAgICAgIG9wdGlvbnMgPSBmYWJyaWMudXRpbC5vYmplY3QuY2xvbmUob2JqZWN0LCB0cnVlKTtcbiAgICBkZWxldGUgb3B0aW9ucy5vYmplY3RzO1xuICAgIGlmICh0eXBlb2Ygb2JqZWN0cyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGl0IGhhcyB0byBiZSBhbiB1cmwgb3Igc29tZXRoaW5nIHdlbnQgd3JvbmcuXG4gICAgICBmYWJyaWMubG9hZFNWR0Zyb21VUkwob2JqZWN0cywgZnVuY3Rpb24gKGVsZW1lbnRzKSB7XG4gICAgICAgIHZhciBncm91cCA9IGZhYnJpYy51dGlsLmdyb3VwU1ZHRWxlbWVudHMoZWxlbWVudHMsIG9iamVjdCwgb2JqZWN0cyk7XG4gICAgICAgIHZhciBjbGlwUGF0aCA9IG9wdGlvbnMuY2xpcFBhdGg7XG4gICAgICAgIGRlbGV0ZSBvcHRpb25zLmNsaXBQYXRoO1xuICAgICAgICBncm91cC5zZXQob3B0aW9ucyk7XG4gICAgICAgIGlmIChjbGlwUGF0aCkge1xuICAgICAgICAgIGZhYnJpYy51dGlsLmVubGl2ZW5PYmplY3RzKFtjbGlwUGF0aF0sIGZ1bmN0aW9uKGVsaXZlbmVkT2JqZWN0cykge1xuICAgICAgICAgICAgZ3JvdXAuY2xpcFBhdGggPSBlbGl2ZW5lZE9iamVjdHNbMF07XG4gICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhncm91cCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soZ3JvdXApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZmFicmljLnV0aWwuZW5saXZlbk9iamVjdHMob2JqZWN0cywgZnVuY3Rpb24gKGVubGl2ZW5lZE9iamVjdHMpIHtcbiAgICAgIGZhYnJpYy51dGlsLmVubGl2ZW5PYmplY3RFbmxpdmFibGVzKG9iamVjdCwgb3B0aW9ucywgZnVuY3Rpb24gKCkge1xuICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhuZXcgZmFicmljLkdyb3VwKGVubGl2ZW5lZE9iamVjdHMsIG9wdGlvbnMsIHRydWUpKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyA9IGdsb2JhbC5mYWJyaWMgfHwgKGdsb2JhbC5mYWJyaWMgPSB7IH0pO1xuXG4gIGlmIChmYWJyaWMuQWN0aXZlU2VsZWN0aW9uKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEdyb3VwIGNsYXNzXG4gICAqIEBjbGFzcyBmYWJyaWMuQWN0aXZlU2VsZWN0aW9uXG4gICAqIEBleHRlbmRzIGZhYnJpYy5Hcm91cFxuICAgKiBAdHV0b3JpYWwge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vZmFicmljLWludHJvLXBhcnQtMyNncm91cHN9XG4gICAqIEBzZWUge0BsaW5rIGZhYnJpYy5BY3RpdmVTZWxlY3Rpb24jaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICovXG4gIGZhYnJpYy5BY3RpdmVTZWxlY3Rpb24gPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcyhmYWJyaWMuR3JvdXAsIC8qKiBAbGVuZHMgZmFicmljLkFjdGl2ZVNlbGVjdGlvbi5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogVHlwZSBvZiBhbiBvYmplY3RcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHR5cGU6ICdhY3RpdmVTZWxlY3Rpb24nLFxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0cyBBY3RpdmVTZWxlY3Rpb24gb2JqZWN0c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IHRoaXNBcmdcbiAgICAgKi9cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbihvYmplY3RzLCBvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgIHRoaXMuX29iamVjdHMgPSBvYmplY3RzIHx8IFtdO1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMuX29iamVjdHMubGVuZ3RoOyBpLS07ICkge1xuICAgICAgICB0aGlzLl9vYmplY3RzW2ldLmdyb3VwID0gdGhpcztcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMub3JpZ2luWCkge1xuICAgICAgICB0aGlzLm9yaWdpblggPSBvcHRpb25zLm9yaWdpblg7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucy5vcmlnaW5ZKSB7XG4gICAgICAgIHRoaXMub3JpZ2luWSA9IG9wdGlvbnMub3JpZ2luWTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2NhbGNCb3VuZHMoKTtcbiAgICAgIHRoaXMuX3VwZGF0ZU9iamVjdHNDb29yZHMoKTtcbiAgICAgIGZhYnJpYy5PYmplY3QucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICAgIHRoaXMuc2V0Q29vcmRzKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoYW5nZSB0ZSBhY3RpdmVTZWxlY3Rpb24gdG8gYSBub3JtYWwgZ3JvdXAsXG4gICAgICogSGlnaCBsZXZlbCBmdW5jdGlvbiB0aGF0IGF1dG9tYXRpY2FsbHkgYWRkcyBpdCB0byBjYW52YXMgYXNcbiAgICAgKiBhY3RpdmUgb2JqZWN0LiBubyBldmVudHMgZmlyZWQuXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQHJldHVybiB7ZmFicmljLkdyb3VwfVxuICAgICAqL1xuICAgIHRvR3JvdXA6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG9iamVjdHMgPSB0aGlzLl9vYmplY3RzLmNvbmNhdCgpO1xuICAgICAgdGhpcy5fb2JqZWN0cyA9IFtdO1xuICAgICAgdmFyIG9wdGlvbnMgPSBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZS50b09iamVjdC5jYWxsKHRoaXMpO1xuICAgICAgdmFyIG5ld0dyb3VwID0gbmV3IGZhYnJpYy5Hcm91cChbXSk7XG4gICAgICBkZWxldGUgb3B0aW9ucy50eXBlO1xuICAgICAgbmV3R3JvdXAuc2V0KG9wdGlvbnMpO1xuICAgICAgb2JqZWN0cy5mb3JFYWNoKGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICBvYmplY3QuY2FudmFzLnJlbW92ZShvYmplY3QpO1xuICAgICAgICBvYmplY3QuZ3JvdXAgPSBuZXdHcm91cDtcbiAgICAgIH0pO1xuICAgICAgbmV3R3JvdXAuX29iamVjdHMgPSBvYmplY3RzO1xuICAgICAgaWYgKCF0aGlzLmNhbnZhcykge1xuICAgICAgICByZXR1cm4gbmV3R3JvdXA7XG4gICAgICB9XG4gICAgICB2YXIgY2FudmFzID0gdGhpcy5jYW52YXM7XG4gICAgICBjYW52YXMuYWRkKG5ld0dyb3VwKTtcbiAgICAgIGNhbnZhcy5fYWN0aXZlT2JqZWN0ID0gbmV3R3JvdXA7XG4gICAgICBuZXdHcm91cC5zZXRDb29yZHMoKTtcbiAgICAgIHJldHVybiBuZXdHcm91cDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSWYgcmV0dXJucyB0cnVlLCBkZXNlbGVjdGlvbiBpcyBjYW5jZWxsZWQuXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gW2NhbmNlbF1cbiAgICAgKi9cbiAgICBvbkRlc2VsZWN0OiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIGdyb3VwXG4gICAgICogQHJldHVybiB7U3RyaW5nfVxuICAgICAqL1xuICAgIHRvU3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAnIzxmYWJyaWMuQWN0aXZlU2VsZWN0aW9uOiAoJyArIHRoaXMuY29tcGxleGl0eSgpICsgJyk+JztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGVjaWRlIGlmIHRoZSBvYmplY3Qgc2hvdWxkIGNhY2hlIG9yIG5vdC4gQ3JlYXRlIGl0cyBvd24gY2FjaGUgbGV2ZWxcbiAgICAgKiBvYmplY3RDYWNoaW5nIGlzIGEgZ2xvYmFsIGZsYWcsIHdpbnMgb3ZlciBldmVyeXRoaW5nXG4gICAgICogbmVlZHNJdHNPd25DYWNoZSBzaG91bGQgYmUgdXNlZCB3aGVuIHRoZSBvYmplY3QgZHJhd2luZyBtZXRob2QgcmVxdWlyZXNcbiAgICAgKiBhIGNhY2hlIHN0ZXAuIE5vbmUgb2YgdGhlIGZhYnJpYyBjbGFzc2VzIHJlcXVpcmVzIGl0LlxuICAgICAqIEdlbmVyYWxseSB5b3UgZG8gbm90IGNhY2hlIG9iamVjdHMgaW4gZ3JvdXBzIGJlY2F1c2UgdGhlIGdyb3VwIG91dHNpZGUgaXMgY2FjaGVkLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgc2hvdWxkQ2FjaGU6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB0aGlzIGdyb3VwIG9yIGl0cyBwYXJlbnQgZ3JvdXAgYXJlIGNhY2hpbmcsIHJlY3Vyc2l2ZWx5IHVwXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBpc09uQUNhY2hlOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyBjb250cm9scyBhbmQgYm9yZGVycyBmb3IgdGhlIG9iamVjdFxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0eWxlT3ZlcnJpZGVdIHByb3BlcnRpZXMgdG8gb3ZlcnJpZGUgdGhlIG9iamVjdCBzdHlsZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY2hpbGRyZW5PdmVycmlkZV0gcHJvcGVydGllcyB0byBvdmVycmlkZSB0aGUgY2hpbGRyZW4gb3ZlcnJpZGVzXG4gICAgICovXG4gICAgX3JlbmRlckNvbnRyb2xzOiBmdW5jdGlvbihjdHgsIHN0eWxlT3ZlcnJpZGUsIGNoaWxkcmVuT3ZlcnJpZGUpIHtcbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICBjdHguZ2xvYmFsQWxwaGEgPSB0aGlzLmlzTW92aW5nID8gdGhpcy5ib3JkZXJPcGFjaXR5V2hlbk1vdmluZyA6IDE7XG4gICAgICB0aGlzLmNhbGxTdXBlcignX3JlbmRlckNvbnRyb2xzJywgY3R4LCBzdHlsZU92ZXJyaWRlKTtcbiAgICAgIGNoaWxkcmVuT3ZlcnJpZGUgPSBjaGlsZHJlbk92ZXJyaWRlIHx8IHsgfTtcbiAgICAgIGlmICh0eXBlb2YgY2hpbGRyZW5PdmVycmlkZS5oYXNDb250cm9scyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY2hpbGRyZW5PdmVycmlkZS5oYXNDb250cm9scyA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgY2hpbGRyZW5PdmVycmlkZS5mb3JBY3RpdmVTZWxlY3Rpb24gPSB0cnVlO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMuX29iamVjdHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdGhpcy5fb2JqZWN0c1tpXS5fcmVuZGVyQ29udHJvbHMoY3R4LCBjaGlsZHJlbk92ZXJyaWRlKTtcbiAgICAgIH1cbiAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfSxcbiAgfSk7XG5cbiAgLyoqXG4gICAqIFJldHVybnMge0BsaW5rIGZhYnJpYy5BY3RpdmVTZWxlY3Rpb259IGluc3RhbmNlIGZyb20gYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5BY3RpdmVTZWxlY3Rpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY3JlYXRlIGEgZ3JvdXAgZnJvbVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIENhbGxiYWNrIHRvIGludm9rZSB3aGVuIGFuIEFjdGl2ZVNlbGVjdGlvbiBpbnN0YW5jZSBpcyBjcmVhdGVkXG4gICAqL1xuICBmYWJyaWMuQWN0aXZlU2VsZWN0aW9uLmZyb21PYmplY3QgPSBmdW5jdGlvbihvYmplY3QsIGNhbGxiYWNrKSB7XG4gICAgZmFicmljLnV0aWwuZW5saXZlbk9iamVjdHMob2JqZWN0Lm9iamVjdHMsIGZ1bmN0aW9uKGVubGl2ZW5lZE9iamVjdHMpIHtcbiAgICAgIGRlbGV0ZSBvYmplY3Qub2JqZWN0cztcbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKG5ldyBmYWJyaWMuQWN0aXZlU2VsZWN0aW9uKGVubGl2ZW5lZE9iamVjdHMsIG9iamVjdCwgdHJ1ZSkpO1xuICAgIH0pO1xuICB9O1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZXh0ZW5kID0gZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZDtcblxuICBpZiAoIWdsb2JhbC5mYWJyaWMpIHtcbiAgICBnbG9iYWwuZmFicmljID0geyB9O1xuICB9XG5cbiAgaWYgKGdsb2JhbC5mYWJyaWMuSW1hZ2UpIHtcbiAgICBmYWJyaWMud2FybignZmFicmljLkltYWdlIGlzIGFscmVhZHkgZGVmaW5lZC4nKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogSW1hZ2UgY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5JbWFnZVxuICAgKiBAZXh0ZW5kcyBmYWJyaWMuT2JqZWN0XG4gICAqIEB0dXRvcmlhbCB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9mYWJyaWMtaW50cm8tcGFydC0xI2ltYWdlc31cbiAgICogQHNlZSB7QGxpbmsgZmFicmljLkltYWdlI2luaXRpYWxpemV9IGZvciBjb25zdHJ1Y3RvciBkZWZpbml0aW9uXG4gICAqL1xuICBmYWJyaWMuSW1hZ2UgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcyhmYWJyaWMuT2JqZWN0LCAvKiogQGxlbmRzIGZhYnJpYy5JbWFnZS5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogVHlwZSBvZiBhbiBvYmplY3RcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHR5cGU6ICdpbWFnZScsXG5cbiAgICAvKipcbiAgICAgKiBXaWR0aCBvZiBhIHN0cm9rZS5cbiAgICAgKiBGb3IgaW1hZ2UgcXVhbGl0eSBhIHN0cm9rZSBtdWx0aXBsZSBvZiAyIGdpdmVzIGJldHRlciByZXN1bHRzLlxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc3Ryb2tlV2lkdGg6IDAsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIGNhbGxpbmcge0BsaW5rIGZhYnJpYy5JbWFnZS5nZXRTcmN9LCByZXR1cm4gdmFsdWUgZnJvbSBlbGVtZW50IHNyYyB3aXRoIGBlbGVtZW50LmdldEF0dHJpYnV0ZSgnc3JjJylgLlxuICAgICAqIFRoaXMgYWxsb3dzIGZvciByZWxhdGl2ZSB1cmxzIGFzIGltYWdlIHNyYy5cbiAgICAgKiBAc2luY2UgMi43LjBcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzcmNGcm9tQXR0cmlidXRlOiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIHByaXZhdGVcbiAgICAgKiBjb250YWlucyBsYXN0IHZhbHVlIG9mIHNjYWxlWCB0byBkZXRlY3RcbiAgICAgKiBpZiB0aGUgSW1hZ2UgZ290IHJlc2l6ZWQgYWZ0ZXIgdGhlIGxhc3QgUmVuZGVyXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICovXG4gICAgX2xhc3RTY2FsZVg6IDEsXG5cbiAgICAvKipcbiAgICAgKiBwcml2YXRlXG4gICAgICogY29udGFpbnMgbGFzdCB2YWx1ZSBvZiBzY2FsZVkgdG8gZGV0ZWN0XG4gICAgICogaWYgdGhlIEltYWdlIGdvdCByZXNpemVkIGFmdGVyIHRoZSBsYXN0IFJlbmRlclxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqL1xuICAgIF9sYXN0U2NhbGVZOiAxLFxuXG4gICAgLyoqXG4gICAgICogcHJpdmF0ZVxuICAgICAqIGNvbnRhaW5zIGxhc3QgdmFsdWUgb2Ygc2NhbGluZyBhcHBsaWVkIGJ5IHRoZSBhcHBseSBmaWx0ZXIgY2hhaW5cbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKi9cbiAgICBfZmlsdGVyU2NhbGluZ1g6IDEsXG5cbiAgICAvKipcbiAgICAgKiBwcml2YXRlXG4gICAgICogY29udGFpbnMgbGFzdCB2YWx1ZSBvZiBzY2FsaW5nIGFwcGxpZWQgYnkgdGhlIGFwcGx5IGZpbHRlciBjaGFpblxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqL1xuICAgIF9maWx0ZXJTY2FsaW5nWTogMSxcblxuICAgIC8qKlxuICAgICAqIG1pbmltdW0gc2NhbGUgZmFjdG9yIHVuZGVyIHdoaWNoIGFueSByZXNpemVGaWx0ZXIgaXMgdHJpZ2dlcmVkIHRvIHJlc2l6ZSB0aGUgaW1hZ2VcbiAgICAgKiAwIHdpbGwgZGlzYWJsZSB0aGUgYXV0b21hdGljIHJlc2l6ZS4gMSB3aWxsIHRyaWdnZXIgYXV0b21hdGljYWxseSBhbHdheXMuXG4gICAgICogbnVtYmVyIGJpZ2dlciB0aGFuIDEgYXJlIG5vdCBpbXBsZW1lbnRlZCB5ZXQuXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICovXG4gICAgbWluaW11bVNjYWxlVHJpZ2dlcjogMC41LFxuXG4gICAgLyoqXG4gICAgICogTGlzdCBvZiBwcm9wZXJ0aWVzIHRvIGNvbnNpZGVyIHdoZW4gY2hlY2tpbmcgaWZcbiAgICAgKiBzdGF0ZSBvZiBhbiBvYmplY3QgaXMgY2hhbmdlZCAoe0BsaW5rIGZhYnJpYy5PYmplY3QjaGFzU3RhdGVDaGFuZ2VkfSlcbiAgICAgKiBhcyB3ZWxsIGFzIGZvciBoaXN0b3J5ICh1bmRvL3JlZG8pIHB1cnBvc2VzXG4gICAgICogQHR5cGUgQXJyYXlcbiAgICAgKi9cbiAgICBzdGF0ZVByb3BlcnRpZXM6IGZhYnJpYy5PYmplY3QucHJvdG90eXBlLnN0YXRlUHJvcGVydGllcy5jb25jYXQoJ2Nyb3BYJywgJ2Nyb3BZJyksXG5cbiAgICAvKipcbiAgICAgKiBMaXN0IG9mIHByb3BlcnRpZXMgdG8gY29uc2lkZXIgd2hlbiBjaGVja2luZyBpZiBjYWNoZSBuZWVkcyByZWZyZXNoXG4gICAgICogVGhvc2UgcHJvcGVydGllcyBhcmUgY2hlY2tlZCBieSBzdGF0ZWZ1bGxDYWNoZSBPTiAoIG9yIGxhenkgbW9kZSBpZiB3ZSB3YW50ICkgb3IgZnJvbSBzaW5nbGVcbiAgICAgKiBjYWxscyB0byBPYmplY3Quc2V0KGtleSwgdmFsdWUpLiBJZiB0aGUga2V5IGlzIGluIHRoaXMgbGlzdCwgdGhlIG9iamVjdCBpcyBtYXJrZWQgYXMgZGlydHlcbiAgICAgKiBhbmQgcmVmcmVzaGVkIGF0IHRoZSBuZXh0IHJlbmRlclxuICAgICAqIEB0eXBlIEFycmF5XG4gICAgICovXG4gICAgY2FjaGVQcm9wZXJ0aWVzOiBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZS5jYWNoZVByb3BlcnRpZXMuY29uY2F0KCdjcm9wWCcsICdjcm9wWScpLFxuXG4gICAgLyoqXG4gICAgICoga2V5IHVzZWQgdG8gcmV0cmlldmUgdGhlIHRleHR1cmUgcmVwcmVzZW50aW5nIHRoaXMgaW1hZ2VcbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGNhY2hlS2V5OiAnJyxcblxuICAgIC8qKlxuICAgICAqIEltYWdlIGNyb3AgaW4gcGl4ZWxzIGZyb20gb3JpZ2luYWwgaW1hZ2Ugc2l6ZS5cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGNyb3BYOiAwLFxuXG4gICAgLyoqXG4gICAgICogSW1hZ2UgY3JvcCBpbiBwaXhlbHMgZnJvbSBvcmlnaW5hbCBpbWFnZSBzaXplLlxuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgY3JvcFk6IDAsXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGlzIGNhbnZhcyB3aWxsIHVzZSBpbWFnZSBzbW9vdGhpbmcgd2hlbiBwYWludGluZyB0aGlzIGltYWdlLlxuICAgICAqIEFsc28gaW5mbHVlbmNlIGlmIHRoZSBjYWNoZUNhbnZhcyBmb3IgdGhpcyBpbWFnZSB1c2VzIGltYWdlU21vb3RoaW5nXG4gICAgICogQHNpbmNlIDQuMC4wLWJldGEuMTFcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBpbWFnZVNtb290aGluZzogdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yXG4gICAgICogSW1hZ2UgY2FuIGJlIGluaXRpYWxpemVkIHdpdGggYW55IGNhbnZhcyBkcmF3YWJsZSBvciBhIHN0cmluZy5cbiAgICAgKiBUaGUgc3RyaW5nIHNob3VsZCBiZSBhIHVybCBhbmQgd2lsbCBiZSBsb2FkZWQgYXMgYW4gaW1hZ2UuXG4gICAgICogQ2FudmFzIGFuZCBJbWFnZSBlbGVtZW50IHdvcmsgb3V0IG9mIHRoZSBib3gsIHdoaWxlIHZpZGVvcyByZXF1aXJlIGV4dHJhIGNvZGUgdG8gd29yay5cbiAgICAgKiBQbGVhc2UgY2hlY2sgdmlkZW8gZWxlbWVudCBldmVudHMgZm9yIHNlZWtpbmcuXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50IHwgSFRNTENhbnZhc0VsZW1lbnQgfCBIVE1MVmlkZW9FbGVtZW50IHwgU3RyaW5nfSBlbGVtZW50IEltYWdlIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2NhbGxiYWNrXSBjYWxsYmFjayBmdW5jdGlvbiB0byBjYWxsIGFmdGVyIGV2ZW50dWFsIGZpbHRlcnMgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuSW1hZ2V9IHRoaXNBcmdcbiAgICAgKi9cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICBvcHRpb25zIHx8IChvcHRpb25zID0geyB9KTtcbiAgICAgIHRoaXMuZmlsdGVycyA9IFtdO1xuICAgICAgdGhpcy5jYWNoZUtleSA9ICd0ZXh0dXJlJyArIGZhYnJpYy5PYmplY3QuX191aWQrKztcbiAgICAgIHRoaXMuY2FsbFN1cGVyKCdpbml0aWFsaXplJywgb3B0aW9ucyk7XG4gICAgICB0aGlzLl9pbml0RWxlbWVudChlbGVtZW50LCBvcHRpb25zKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBpbWFnZSBlbGVtZW50IHdoaWNoIHRoaXMgaW5zdGFuY2UgaWYgYmFzZWQgb25cbiAgICAgKiBAcmV0dXJuIHtIVE1MSW1hZ2VFbGVtZW50fSBJbWFnZSBlbGVtZW50XG4gICAgICovXG4gICAgZ2V0RWxlbWVudDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZWxlbWVudCB8fCB7fTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyBpbWFnZSBlbGVtZW50IGZvciB0aGlzIGluc3RhbmNlIHRvIGEgc3BlY2lmaWVkIG9uZS5cbiAgICAgKiBJZiBmaWx0ZXJzIGRlZmluZWQgdGhleSBhcmUgYXBwbGllZCB0byBuZXcgaW1hZ2UuXG4gICAgICogWW91IG1pZ2h0IG5lZWQgdG8gY2FsbCBgY2FudmFzLnJlbmRlckFsbGAgYW5kIGBvYmplY3Quc2V0Q29vcmRzYCBhZnRlciByZXBsYWNpbmcsIHRvIHJlbmRlciBuZXcgaW1hZ2UgYW5kIHVwZGF0ZSBjb250cm9scyBhcmVhLlxuICAgICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudH0gZWxlbWVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuSW1hZ2V9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgc2V0RWxlbWVudDogZnVuY3Rpb24oZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgdGhpcy5yZW1vdmVUZXh0dXJlKHRoaXMuY2FjaGVLZXkpO1xuICAgICAgdGhpcy5yZW1vdmVUZXh0dXJlKHRoaXMuY2FjaGVLZXkgKyAnX2ZpbHRlcmVkJyk7XG4gICAgICB0aGlzLl9lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgIHRoaXMuX29yaWdpbmFsRWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICB0aGlzLl9pbml0Q29uZmlnKG9wdGlvbnMpO1xuICAgICAgaWYgKHRoaXMuZmlsdGVycy5sZW5ndGggIT09IDApIHtcbiAgICAgICAgdGhpcy5hcHBseUZpbHRlcnMoKTtcbiAgICAgIH1cbiAgICAgIC8vIHJlc2l6ZUZpbHRlcnMgd29yayBvbiB0aGUgYWxyZWFkeSBmaWx0ZXJlZCBjb3B5LlxuICAgICAgLy8gd2UgbmVlZCB0byBhcHBseSByZXNpemVGaWx0ZXJzIEFGVEVSIG5vcm1hbCBmaWx0ZXJzLlxuICAgICAgLy8gYXBwbHlSZXNpemVGaWx0ZXJzIGlzIHJ1biBtb3JlIG9mdGVuIHRoYW4gbm9ybWFsIGZpbHRlcnNcbiAgICAgIC8vIGFuZCBpcyB0cmlnZ2VyZWQgYnkgdXNlciBpbnRlcmFjdGlvbnMgcmF0aGVyIHRoYW4gZGV2IGNvZGVcbiAgICAgIGlmICh0aGlzLnJlc2l6ZUZpbHRlcikge1xuICAgICAgICB0aGlzLmFwcGx5UmVzaXplRmlsdGVycygpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERlbGV0ZSBhIHNpbmdsZSB0ZXh0dXJlIGlmIGluIHdlYmdsIG1vZGVcbiAgICAgKi9cbiAgICByZW1vdmVUZXh0dXJlOiBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHZhciBiYWNrZW5kID0gZmFicmljLmZpbHRlckJhY2tlbmQ7XG4gICAgICBpZiAoYmFja2VuZCAmJiBiYWNrZW5kLmV2aWN0Q2FjaGVzRm9yS2V5KSB7XG4gICAgICAgIGJhY2tlbmQuZXZpY3RDYWNoZXNGb3JLZXkoa2V5KTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGVsZXRlIHRleHR1cmVzLCByZWZlcmVuY2UgdG8gZWxlbWVudHMgYW5kIGV2ZW50dWFsbHkgSlNET00gY2xlYW51cFxuICAgICAqL1xuICAgIGRpc3Bvc2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuY2FsbFN1cGVyKCdkaXNwb3NlJyk7XG4gICAgICB0aGlzLnJlbW92ZVRleHR1cmUodGhpcy5jYWNoZUtleSk7XG4gICAgICB0aGlzLnJlbW92ZVRleHR1cmUodGhpcy5jYWNoZUtleSArICdfZmlsdGVyZWQnKTtcbiAgICAgIHRoaXMuX2NhY2hlQ29udGV4dCA9IHVuZGVmaW5lZDtcbiAgICAgIFsnX29yaWdpbmFsRWxlbWVudCcsICdfZWxlbWVudCcsICdfZmlsdGVyZWRFbCcsICdfY2FjaGVDYW52YXMnXS5mb3JFYWNoKChmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgIGZhYnJpYy51dGlsLmNsZWFuVXBKc2RvbU5vZGUodGhpc1tlbGVtZW50XSk7XG4gICAgICAgIHRoaXNbZWxlbWVudF0gPSB1bmRlZmluZWQ7XG4gICAgICB9KS5iaW5kKHRoaXMpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjcm9zc09yaWdpbiB2YWx1ZSAob2YgdGhlIGNvcnJlc3BvbmRpbmcgaW1hZ2UgZWxlbWVudClcbiAgICAgKi9cbiAgICBnZXRDcm9zc09yaWdpbjogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fb3JpZ2luYWxFbGVtZW50ICYmICh0aGlzLl9vcmlnaW5hbEVsZW1lbnQuY3Jvc3NPcmlnaW4gfHwgbnVsbCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgb3JpZ2luYWwgc2l6ZSBvZiBhbiBpbWFnZVxuICAgICAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IHdpdGggXCJ3aWR0aFwiIGFuZCBcImhlaWdodFwiIHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICBnZXRPcmlnaW5hbFNpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmdldEVsZW1lbnQoKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHdpZHRoOiBlbGVtZW50Lm5hdHVyYWxXaWR0aCB8fCBlbGVtZW50LndpZHRoLFxuICAgICAgICBoZWlnaHQ6IGVsZW1lbnQubmF0dXJhbEhlaWdodCB8fCBlbGVtZW50LmhlaWdodFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgX3N0cm9rZTogZnVuY3Rpb24oY3R4KSB7XG4gICAgICBpZiAoIXRoaXMuc3Ryb2tlIHx8IHRoaXMuc3Ryb2tlV2lkdGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIHcgPSB0aGlzLndpZHRoIC8gMiwgaCA9IHRoaXMuaGVpZ2h0IC8gMjtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5tb3ZlVG8oLXcsIC1oKTtcbiAgICAgIGN0eC5saW5lVG8odywgLWgpO1xuICAgICAgY3R4LmxpbmVUbyh3LCBoKTtcbiAgICAgIGN0eC5saW5lVG8oLXcsIGgpO1xuICAgICAgY3R4LmxpbmVUbygtdywgLWgpO1xuICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wZXJ0aWVzVG9JbmNsdWRlXSBBbnkgcHJvcGVydGllcyB0aGF0IHlvdSBtaWdodCB3YW50IHRvIGFkZGl0aW9uYWxseSBpbmNsdWRlIGluIHRoZSBvdXRwdXRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IE9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRvT2JqZWN0OiBmdW5jdGlvbihwcm9wZXJ0aWVzVG9JbmNsdWRlKSB7XG4gICAgICB2YXIgZmlsdGVycyA9IFtdO1xuXG4gICAgICB0aGlzLmZpbHRlcnMuZm9yRWFjaChmdW5jdGlvbihmaWx0ZXJPYmopIHtcbiAgICAgICAgaWYgKGZpbHRlck9iaikge1xuICAgICAgICAgIGZpbHRlcnMucHVzaChmaWx0ZXJPYmoudG9PYmplY3QoKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdmFyIG9iamVjdCA9IGV4dGVuZChcbiAgICAgICAgdGhpcy5jYWxsU3VwZXIoXG4gICAgICAgICAgJ3RvT2JqZWN0JyxcbiAgICAgICAgICBbJ2Nyb3BYJywgJ2Nyb3BZJ10uY29uY2F0KHByb3BlcnRpZXNUb0luY2x1ZGUpXG4gICAgICAgICksIHtcbiAgICAgICAgICBzcmM6IHRoaXMuZ2V0U3JjKCksXG4gICAgICAgICAgY3Jvc3NPcmlnaW46IHRoaXMuZ2V0Q3Jvc3NPcmlnaW4oKSxcbiAgICAgICAgICBmaWx0ZXJzOiBmaWx0ZXJzLFxuICAgICAgICB9KTtcbiAgICAgIGlmICh0aGlzLnJlc2l6ZUZpbHRlcikge1xuICAgICAgICBvYmplY3QucmVzaXplRmlsdGVyID0gdGhpcy5yZXNpemVGaWx0ZXIudG9PYmplY3QoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiBhbiBpbWFnZSBoYXMgY3JvcCBhcHBsaWVkLCBpbnNwZWN0aW5nIHZhbHVlcyBvZiBjcm9wWCxjcm9wWSx3aWR0aCxoZWlnaHQuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBoYXNDcm9wOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmNyb3BYIHx8IHRoaXMuY3JvcFkgfHwgdGhpcy53aWR0aCA8IHRoaXMuX2VsZW1lbnQud2lkdGggfHwgdGhpcy5oZWlnaHQgPCB0aGlzLl9lbGVtZW50LmhlaWdodDtcbiAgICB9LFxuXG4gICAgLyogX1RPX1NWR19TVEFSVF8gKi9cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHN2ZyByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEByZXR1cm4ge0FycmF5fSBhbiBhcnJheSBvZiBzdHJpbmdzIHdpdGggdGhlIHNwZWNpZmljIHN2ZyByZXByZXNlbnRhdGlvblxuICAgICAqIG9mIHRoZSBpbnN0YW5jZVxuICAgICAqL1xuICAgIF90b1NWRzogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc3ZnU3RyaW5nID0gW10sIGltYWdlTWFya3VwID0gW10sIHN0cm9rZVN2ZywgZWxlbWVudCA9IHRoaXMuX2VsZW1lbnQsXG4gICAgICAgICAgeCA9IC10aGlzLndpZHRoIC8gMiwgeSA9IC10aGlzLmhlaWdodCAvIDIsIGNsaXBQYXRoID0gJycsIGltYWdlUmVuZGVyaW5nID0gJyc7XG4gICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuaGFzQ3JvcCgpKSB7XG4gICAgICAgIHZhciBjbGlwUGF0aElkID0gZmFicmljLk9iamVjdC5fX3VpZCsrO1xuICAgICAgICBzdmdTdHJpbmcucHVzaChcbiAgICAgICAgICAnPGNsaXBQYXRoIGlkPVwiaW1hZ2VDcm9wXycgKyBjbGlwUGF0aElkICsgJ1wiPlxcbicsXG4gICAgICAgICAgJ1xcdDxyZWN0IHg9XCInICsgeCArICdcIiB5PVwiJyArIHkgKyAnXCIgd2lkdGg9XCInICsgdGhpcy53aWR0aCArICdcIiBoZWlnaHQ9XCInICsgdGhpcy5oZWlnaHQgKyAnXCIgLz5cXG4nLFxuICAgICAgICAgICc8L2NsaXBQYXRoPlxcbidcbiAgICAgICAgKTtcbiAgICAgICAgY2xpcFBhdGggPSAnIGNsaXAtcGF0aD1cInVybCgjaW1hZ2VDcm9wXycgKyBjbGlwUGF0aElkICsgJylcIiAnO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLmltYWdlU21vb3RoaW5nKSB7XG4gICAgICAgIGltYWdlUmVuZGVyaW5nID0gJ1wiIGltYWdlLXJlbmRlcmluZz1cIm9wdGltaXplU3BlZWQnO1xuICAgICAgfVxuICAgICAgaW1hZ2VNYXJrdXAucHVzaCgnXFx0PGltYWdlICcsICdDT01NT05fUEFSVFMnLCAneGxpbms6aHJlZj1cIicsIHRoaXMuZ2V0U3ZnU3JjKHRydWUpLFxuICAgICAgICAnXCIgeD1cIicsIHggLSB0aGlzLmNyb3BYLCAnXCIgeT1cIicsIHkgLSB0aGlzLmNyb3BZLFxuICAgICAgICAvLyB3ZSdyZSBlc3NlbnRpYWxseSBtb3Zpbmcgb3JpZ2luIG9mIHRyYW5zZm9ybWF0aW9uIGZyb20gdG9wL2xlZnQgY29ybmVyIHRvIHRoZSBjZW50ZXIgb2YgdGhlIHNoYXBlXG4gICAgICAgIC8vIGJ5IHdyYXBwaW5nIGl0IGluIGNvbnRhaW5lciA8Zz4gZWxlbWVudCB3aXRoIGFjdHVhbCB0cmFuc2Zvcm1hdGlvbiwgdGhlbiBvZmZzZXR0aW5nIG9iamVjdCB0byB0aGUgdG9wL2xlZnRcbiAgICAgICAgLy8gc28gdGhhdCBvYmplY3QncyBjZW50ZXIgYWxpZ25zIHdpdGggY29udGFpbmVyJ3MgbGVmdC90b3BcbiAgICAgICAgJ1wiIHdpZHRoPVwiJywgZWxlbWVudC53aWR0aCB8fCBlbGVtZW50Lm5hdHVyYWxXaWR0aCxcbiAgICAgICAgJ1wiIGhlaWdodD1cIicsIGVsZW1lbnQuaGVpZ2h0IHx8IGVsZW1lbnQuaGVpZ2h0LFxuICAgICAgICBpbWFnZVJlbmRlcmluZyxcbiAgICAgICAgJ1wiJywgY2xpcFBhdGgsXG4gICAgICAgICc+PC9pbWFnZT5cXG4nKTtcblxuICAgICAgaWYgKHRoaXMuc3Ryb2tlIHx8IHRoaXMuc3Ryb2tlRGFzaEFycmF5KSB7XG4gICAgICAgIHZhciBvcmlnRmlsbCA9IHRoaXMuZmlsbDtcbiAgICAgICAgdGhpcy5maWxsID0gbnVsbDtcbiAgICAgICAgc3Ryb2tlU3ZnID0gW1xuICAgICAgICAgICdcXHQ8cmVjdCAnLFxuICAgICAgICAgICd4PVwiJywgeCwgJ1wiIHk9XCInLCB5LFxuICAgICAgICAgICdcIiB3aWR0aD1cIicsIHRoaXMud2lkdGgsICdcIiBoZWlnaHQ9XCInLCB0aGlzLmhlaWdodCxcbiAgICAgICAgICAnXCIgc3R5bGU9XCInLCB0aGlzLmdldFN2Z1N0eWxlcygpLFxuICAgICAgICAgICdcIi8+XFxuJ1xuICAgICAgICBdO1xuICAgICAgICB0aGlzLmZpbGwgPSBvcmlnRmlsbDtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnBhaW50Rmlyc3QgIT09ICdmaWxsJykge1xuICAgICAgICBzdmdTdHJpbmcgPSBzdmdTdHJpbmcuY29uY2F0KHN0cm9rZVN2ZywgaW1hZ2VNYXJrdXApO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHN2Z1N0cmluZyA9IHN2Z1N0cmluZy5jb25jYXQoaW1hZ2VNYXJrdXAsIHN0cm9rZVN2Zyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3ZnU3RyaW5nO1xuICAgIH0sXG4gICAgLyogX1RPX1NWR19FTkRfICovXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHNvdXJjZSBvZiBhbiBpbWFnZVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZmlsdGVyZWQgaW5kaWNhdGVzIGlmIHRoZSBzcmMgaXMgbmVlZGVkIGZvciBzdmdcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IFNvdXJjZSBvZiBhbiBpbWFnZVxuICAgICAqL1xuICAgIGdldFNyYzogZnVuY3Rpb24oZmlsdGVyZWQpIHtcbiAgICAgIHZhciBlbGVtZW50ID0gZmlsdGVyZWQgPyB0aGlzLl9lbGVtZW50IDogdGhpcy5fb3JpZ2luYWxFbGVtZW50O1xuICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQudG9EYXRhVVJMKSB7XG4gICAgICAgICAgcmV0dXJuIGVsZW1lbnQudG9EYXRhVVJMKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zcmNGcm9tQXR0cmlidXRlKSB7XG4gICAgICAgICAgcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdzcmMnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZWxlbWVudC5zcmM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5zcmMgfHwgJyc7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgc291cmNlIG9mIGFuIGltYWdlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHNyYyBTb3VyY2Ugc3RyaW5nIChVUkwpXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBDYWxsYmFjayBpcyBpbnZva2VkIHdoZW4gaW1hZ2UgaGFzIGJlZW4gbG9hZGVkIChhbmQgYWxsIGZpbHRlcnMgaGF2ZSBiZWVuIGFwcGxpZWQpXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5jcm9zc09yaWdpbl0gY3Jvc3NPcmlnaW4gdmFsdWUgKG9uZSBvZiBcIlwiLCBcImFub255bW91c1wiLCBcInVzZS1jcmVkZW50aWFsc1wiKVxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9IVE1ML0NPUlNfc2V0dGluZ3NfYXR0cmlidXRlc1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5JbWFnZX0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzZXRTcmM6IGZ1bmN0aW9uKHNyYywgY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgICAgIGZhYnJpYy51dGlsLmxvYWRJbWFnZShzcmMsIGZ1bmN0aW9uKGltZywgaXNFcnJvcikge1xuICAgICAgICB0aGlzLnNldEVsZW1lbnQoaW1nLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5fc2V0V2lkdGhIZWlnaHQoKTtcbiAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2sodGhpcywgaXNFcnJvcik7XG4gICAgICB9LCB0aGlzLCBvcHRpb25zICYmIG9wdGlvbnMuY3Jvc3NPcmlnaW4pO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBTdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b1N0cmluZzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gJyM8ZmFicmljLkltYWdlOiB7IHNyYzogXCInICsgdGhpcy5nZXRTcmMoKSArICdcIiB9Pic7XG4gICAgfSxcblxuICAgIGFwcGx5UmVzaXplRmlsdGVyczogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZmlsdGVyID0gdGhpcy5yZXNpemVGaWx0ZXIsXG4gICAgICAgICAgbWluaW11bVNjYWxlID0gdGhpcy5taW5pbXVtU2NhbGVUcmlnZ2VyLFxuICAgICAgICAgIG9iamVjdFNjYWxlID0gdGhpcy5nZXRUb3RhbE9iamVjdFNjYWxpbmcoKSxcbiAgICAgICAgICBzY2FsZVggPSBvYmplY3RTY2FsZS5zY2FsZVgsXG4gICAgICAgICAgc2NhbGVZID0gb2JqZWN0U2NhbGUuc2NhbGVZLFxuICAgICAgICAgIGVsZW1lbnRUb0ZpbHRlciA9IHRoaXMuX2ZpbHRlcmVkRWwgfHwgdGhpcy5fb3JpZ2luYWxFbGVtZW50O1xuICAgICAgaWYgKHRoaXMuZ3JvdXApIHtcbiAgICAgICAgdGhpcy5zZXQoJ2RpcnR5JywgdHJ1ZSk7XG4gICAgICB9XG4gICAgICBpZiAoIWZpbHRlciB8fCAoc2NhbGVYID4gbWluaW11bVNjYWxlICYmIHNjYWxlWSA+IG1pbmltdW1TY2FsZSkpIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IGVsZW1lbnRUb0ZpbHRlcjtcbiAgICAgICAgdGhpcy5fZmlsdGVyU2NhbGluZ1ggPSAxO1xuICAgICAgICB0aGlzLl9maWx0ZXJTY2FsaW5nWSA9IDE7XG4gICAgICAgIHRoaXMuX2xhc3RTY2FsZVggPSBzY2FsZVg7XG4gICAgICAgIHRoaXMuX2xhc3RTY2FsZVkgPSBzY2FsZVk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghZmFicmljLmZpbHRlckJhY2tlbmQpIHtcbiAgICAgICAgZmFicmljLmZpbHRlckJhY2tlbmQgPSBmYWJyaWMuaW5pdEZpbHRlckJhY2tlbmQoKTtcbiAgICAgIH1cbiAgICAgIHZhciBjYW52YXNFbCA9IGZhYnJpYy51dGlsLmNyZWF0ZUNhbnZhc0VsZW1lbnQoKSxcbiAgICAgICAgICBjYWNoZUtleSA9IHRoaXMuX2ZpbHRlcmVkRWwgPyAodGhpcy5jYWNoZUtleSArICdfZmlsdGVyZWQnKSA6IHRoaXMuY2FjaGVLZXksXG4gICAgICAgICAgc291cmNlV2lkdGggPSBlbGVtZW50VG9GaWx0ZXIud2lkdGgsIHNvdXJjZUhlaWdodCA9IGVsZW1lbnRUb0ZpbHRlci5oZWlnaHQ7XG4gICAgICBjYW52YXNFbC53aWR0aCA9IHNvdXJjZVdpZHRoO1xuICAgICAgY2FudmFzRWwuaGVpZ2h0ID0gc291cmNlSGVpZ2h0O1xuICAgICAgdGhpcy5fZWxlbWVudCA9IGNhbnZhc0VsO1xuICAgICAgdGhpcy5fbGFzdFNjYWxlWCA9IGZpbHRlci5zY2FsZVggPSBzY2FsZVg7XG4gICAgICB0aGlzLl9sYXN0U2NhbGVZID0gZmlsdGVyLnNjYWxlWSA9IHNjYWxlWTtcbiAgICAgIGZhYnJpYy5maWx0ZXJCYWNrZW5kLmFwcGx5RmlsdGVycyhcbiAgICAgICAgW2ZpbHRlcl0sIGVsZW1lbnRUb0ZpbHRlciwgc291cmNlV2lkdGgsIHNvdXJjZUhlaWdodCwgdGhpcy5fZWxlbWVudCwgY2FjaGVLZXkpO1xuICAgICAgdGhpcy5fZmlsdGVyU2NhbGluZ1ggPSBjYW52YXNFbC53aWR0aCAvIHRoaXMuX29yaWdpbmFsRWxlbWVudC53aWR0aDtcbiAgICAgIHRoaXMuX2ZpbHRlclNjYWxpbmdZID0gY2FudmFzRWwuaGVpZ2h0IC8gdGhpcy5fb3JpZ2luYWxFbGVtZW50LmhlaWdodDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyBmaWx0ZXJzIGFzc2lnbmVkIHRvIHRoaXMgaW1hZ2UgKGZyb20gXCJmaWx0ZXJzXCIgYXJyYXkpIG9yIGZyb20gZmlsdGVyIHBhcmFtXG4gICAgICogQG1ldGhvZCBhcHBseUZpbHRlcnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBmaWx0ZXJzIHRvIGJlIGFwcGxpZWRcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGZvclJlc2l6aW5nIHNwZWNpZnkgaWYgdGhlIGZpbHRlciBvcGVyYXRpb24gaXMgYSByZXNpemUgb3BlcmF0aW9uXG4gICAgICogQHJldHVybiB7dGhpc0FyZ30gcmV0dXJuIHRoZSBmYWJyaWMuSW1hZ2Ugb2JqZWN0XG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGFwcGx5RmlsdGVyczogZnVuY3Rpb24oZmlsdGVycykge1xuXG4gICAgICBmaWx0ZXJzID0gZmlsdGVycyB8fCB0aGlzLmZpbHRlcnMgfHwgW107XG4gICAgICBmaWx0ZXJzID0gZmlsdGVycy5maWx0ZXIoZnVuY3Rpb24oZmlsdGVyKSB7IHJldHVybiBmaWx0ZXIgJiYgIWZpbHRlci5pc05ldXRyYWxTdGF0ZSgpOyB9KTtcbiAgICAgIHRoaXMuc2V0KCdkaXJ0eScsIHRydWUpO1xuXG4gICAgICAvLyBuZWVkcyB0byBjbGVhciBvdXQgb3IgV0VCR0wgd2lsbCBub3QgcmVzaXplIGNvcnJlY3RseVxuICAgICAgdGhpcy5yZW1vdmVUZXh0dXJlKHRoaXMuY2FjaGVLZXkgKyAnX2ZpbHRlcmVkJyk7XG5cbiAgICAgIGlmIChmaWx0ZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fb3JpZ2luYWxFbGVtZW50O1xuICAgICAgICB0aGlzLl9maWx0ZXJlZEVsID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZmlsdGVyU2NhbGluZ1ggPSAxO1xuICAgICAgICB0aGlzLl9maWx0ZXJTY2FsaW5nWSA9IDE7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICB2YXIgaW1nRWxlbWVudCA9IHRoaXMuX29yaWdpbmFsRWxlbWVudCxcbiAgICAgICAgICBzb3VyY2VXaWR0aCA9IGltZ0VsZW1lbnQubmF0dXJhbFdpZHRoIHx8IGltZ0VsZW1lbnQud2lkdGgsXG4gICAgICAgICAgc291cmNlSGVpZ2h0ID0gaW1nRWxlbWVudC5uYXR1cmFsSGVpZ2h0IHx8IGltZ0VsZW1lbnQuaGVpZ2h0O1xuXG4gICAgICBpZiAodGhpcy5fZWxlbWVudCA9PT0gdGhpcy5fb3JpZ2luYWxFbGVtZW50KSB7XG4gICAgICAgIC8vIGlmIHRoZSBlbGVtZW50IGlzIHRoZSBzYW1lIHdlIG5lZWQgdG8gY3JlYXRlIGEgbmV3IGVsZW1lbnRcbiAgICAgICAgdmFyIGNhbnZhc0VsID0gZmFicmljLnV0aWwuY3JlYXRlQ2FudmFzRWxlbWVudCgpO1xuICAgICAgICBjYW52YXNFbC53aWR0aCA9IHNvdXJjZVdpZHRoO1xuICAgICAgICBjYW52YXNFbC5oZWlnaHQgPSBzb3VyY2VIZWlnaHQ7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSBjYW52YXNFbDtcbiAgICAgICAgdGhpcy5fZmlsdGVyZWRFbCA9IGNhbnZhc0VsO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIC8vIGNsZWFyIHRoZSBleGlzdGluZyBlbGVtZW50IHRvIGdldCBuZXcgZmlsdGVyIGRhdGFcbiAgICAgICAgLy8gYWxzbyBkZXJlZmVyZW5jZSB0aGUgZXZlbnR1YWwgcmVzaXplZCBfZWxlbWVudFxuICAgICAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZmlsdGVyZWRFbDtcbiAgICAgICAgdGhpcy5fZmlsdGVyZWRFbC5nZXRDb250ZXh0KCcyZCcpLmNsZWFyUmVjdCgwLCAwLCBzb3VyY2VXaWR0aCwgc291cmNlSGVpZ2h0KTtcbiAgICAgICAgLy8gd2UgYWxzbyBuZWVkIHRvIHJlc2l6ZSBhZ2FpbiBhdCBuZXh0IHJlbmRlckFsbCwgc28gcmVtb3ZlIHNhdmVkIF9sYXN0U2NhbGVYL1lcbiAgICAgICAgdGhpcy5fbGFzdFNjYWxlWCA9IDE7XG4gICAgICAgIHRoaXMuX2xhc3RTY2FsZVkgPSAxO1xuICAgICAgfVxuICAgICAgaWYgKCFmYWJyaWMuZmlsdGVyQmFja2VuZCkge1xuICAgICAgICBmYWJyaWMuZmlsdGVyQmFja2VuZCA9IGZhYnJpYy5pbml0RmlsdGVyQmFja2VuZCgpO1xuICAgICAgfVxuICAgICAgZmFicmljLmZpbHRlckJhY2tlbmQuYXBwbHlGaWx0ZXJzKFxuICAgICAgICBmaWx0ZXJzLCB0aGlzLl9vcmlnaW5hbEVsZW1lbnQsIHNvdXJjZVdpZHRoLCBzb3VyY2VIZWlnaHQsIHRoaXMuX2VsZW1lbnQsIHRoaXMuY2FjaGVLZXkpO1xuICAgICAgaWYgKHRoaXMuX29yaWdpbmFsRWxlbWVudC53aWR0aCAhPT0gdGhpcy5fZWxlbWVudC53aWR0aCB8fFxuICAgICAgICB0aGlzLl9vcmlnaW5hbEVsZW1lbnQuaGVpZ2h0ICE9PSB0aGlzLl9lbGVtZW50LmhlaWdodCkge1xuICAgICAgICB0aGlzLl9maWx0ZXJTY2FsaW5nWCA9IHRoaXMuX2VsZW1lbnQud2lkdGggLyB0aGlzLl9vcmlnaW5hbEVsZW1lbnQud2lkdGg7XG4gICAgICAgIHRoaXMuX2ZpbHRlclNjYWxpbmdZID0gdGhpcy5fZWxlbWVudC5oZWlnaHQgLyB0aGlzLl9vcmlnaW5hbEVsZW1lbnQuaGVpZ2h0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIF9yZW5kZXI6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgZmFicmljLnV0aWwuc2V0SW1hZ2VTbW9vdGhpbmcoY3R4LCB0aGlzLmltYWdlU21vb3RoaW5nKTtcbiAgICAgIGlmICh0aGlzLmlzTW92aW5nICE9PSB0cnVlICYmIHRoaXMucmVzaXplRmlsdGVyICYmIHRoaXMuX25lZWRzUmVzaXplKCkpIHtcbiAgICAgICAgdGhpcy5hcHBseVJlc2l6ZUZpbHRlcnMoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3N0cm9rZShjdHgpO1xuICAgICAgdGhpcy5fcmVuZGVyUGFpbnRJbk9yZGVyKGN0eCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFBhaW50IHRoZSBjYWNoZWQgY29weSBvZiB0aGUgb2JqZWN0IG9uIHRoZSB0YXJnZXQgY29udGV4dC5cbiAgICAgKiBpdCB3aWxsIHNldCB0aGUgaW1hZ2VTbW9vdGhpbmcgZm9yIHRoZSBkcmF3IG9wZXJhdGlvblxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBkcmF3Q2FjaGVPbkNhbnZhczogZnVuY3Rpb24oY3R4KSB7XG4gICAgICBmYWJyaWMudXRpbC5zZXRJbWFnZVNtb290aGluZyhjdHgsIHRoaXMuaW1hZ2VTbW9vdGhpbmcpO1xuICAgICAgZmFicmljLk9iamVjdC5wcm90b3R5cGUuZHJhd0NhY2hlT25DYW52YXMuY2FsbCh0aGlzLCBjdHgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZWNpZGUgaWYgdGhlIG9iamVjdCBzaG91bGQgY2FjaGUgb3Igbm90LiBDcmVhdGUgaXRzIG93biBjYWNoZSBsZXZlbFxuICAgICAqIG5lZWRzSXRzT3duQ2FjaGUgc2hvdWxkIGJlIHVzZWQgd2hlbiB0aGUgb2JqZWN0IGRyYXdpbmcgbWV0aG9kIHJlcXVpcmVzXG4gICAgICogYSBjYWNoZSBzdGVwLiBOb25lIG9mIHRoZSBmYWJyaWMgY2xhc3NlcyByZXF1aXJlcyBpdC5cbiAgICAgKiBHZW5lcmFsbHkgeW91IGRvIG5vdCBjYWNoZSBvYmplY3RzIGluIGdyb3VwcyBiZWNhdXNlIHRoZSBncm91cCBvdXRzaWRlIGlzIGNhY2hlZC5cbiAgICAgKiBUaGlzIGlzIHRoZSBzcGVjaWFsIGltYWdlIHZlcnNpb24gd2hlcmUgd2Ugd291bGQgbGlrZSB0byBhdm9pZCBjYWNoaW5nIHdoZXJlIHBvc3NpYmxlLlxuICAgICAqIEVzc2VudGlhbGx5IGltYWdlcyBkbyBub3QgYmVuZWZpdCBmcm9tIGNhY2hpbmcuIFRoZXkgbWF5IHJlcXVpcmUgY2FjaGluZywgYW5kIGluIHRoYXRcbiAgICAgKiBjYXNlIHdlIGRvIGl0LiBBbHNvIGNhY2hpbmcgYW4gaW1hZ2UgdXN1YWxseSBlbmRzIGluIGEgbG9zcyBvZiBkZXRhaWxzLlxuICAgICAqIEEgZnVsbCBwZXJmb3JtYW5jZSBhdWRpdCBzaG91bGQgYmUgZG9uZS5cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIHNob3VsZENhY2hlOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLm5lZWRzSXRzT3duQ2FjaGUoKTtcbiAgICB9LFxuXG4gICAgX3JlbmRlckZpbGw6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgdmFyIGVsZW1lbnRUb0RyYXcgPSB0aGlzLl9lbGVtZW50O1xuICAgICAgaWYgKCFlbGVtZW50VG9EcmF3KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBzY2FsZVggPSB0aGlzLl9maWx0ZXJTY2FsaW5nWCwgc2NhbGVZID0gdGhpcy5fZmlsdGVyU2NhbGluZ1ksXG4gICAgICAgICAgdyA9IHRoaXMud2lkdGgsIGggPSB0aGlzLmhlaWdodCwgbWluID0gTWF0aC5taW4sIG1heCA9IE1hdGgubWF4LFxuICAgICAgICAgIC8vIGNyb3AgdmFsdWVzIGNhbm5vdCBiZSBsZXNzZXIgdGhhbiAwLlxuICAgICAgICAgIGNyb3BYID0gbWF4KHRoaXMuY3JvcFgsIDApLCBjcm9wWSA9IG1heCh0aGlzLmNyb3BZLCAwKSxcbiAgICAgICAgICBlbFdpZHRoID0gZWxlbWVudFRvRHJhdy5uYXR1cmFsV2lkdGggfHwgZWxlbWVudFRvRHJhdy53aWR0aCxcbiAgICAgICAgICBlbEhlaWdodCA9IGVsZW1lbnRUb0RyYXcubmF0dXJhbEhlaWdodCB8fCBlbGVtZW50VG9EcmF3LmhlaWdodCxcbiAgICAgICAgICBzWCA9IGNyb3BYICogc2NhbGVYLFxuICAgICAgICAgIHNZID0gY3JvcFkgKiBzY2FsZVksXG4gICAgICAgICAgLy8gdGhlIHdpZHRoIGhlaWdodCBjYW5ub3QgZXhjZWVkIGVsZW1lbnQgd2lkdGgvaGVpZ2h0LCBzdGFydGluZyBmcm9tIHRoZSBjcm9wIG9mZnNldC5cbiAgICAgICAgICBzVyA9IG1pbih3ICogc2NhbGVYLCBlbFdpZHRoIC0gc1gpLFxuICAgICAgICAgIHNIID0gbWluKGggKiBzY2FsZVksIGVsSGVpZ2h0IC0gc1kpLFxuICAgICAgICAgIHggPSAtdyAvIDIsIHkgPSAtaCAvIDIsXG4gICAgICAgICAgbWF4RGVzdFcgPSBtaW4odywgZWxXaWR0aCAvIHNjYWxlWCAtIGNyb3BYKSxcbiAgICAgICAgICBtYXhEZXN0SCA9IG1pbihoLCBlbEhlaWdodCAvIHNjYWxlWSAtIGNyb3BZKTtcblxuICAgICAgZWxlbWVudFRvRHJhdyAmJiBjdHguZHJhd0ltYWdlKGVsZW1lbnRUb0RyYXcsIHNYLCBzWSwgc1csIHNILCB4LCB5LCBtYXhEZXN0VywgbWF4RGVzdEgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBuZWVkZWQgdG8gY2hlY2sgaWYgaW1hZ2UgbmVlZHMgcmVzaXplXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfbmVlZHNSZXNpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNjYWxlID0gdGhpcy5nZXRUb3RhbE9iamVjdFNjYWxpbmcoKTtcbiAgICAgIHJldHVybiAoc2NhbGUuc2NhbGVYICE9PSB0aGlzLl9sYXN0U2NhbGVYIHx8IHNjYWxlLnNjYWxlWSAhPT0gdGhpcy5fbGFzdFNjYWxlWSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3Jlc2V0V2lkdGhIZWlnaHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5zZXQodGhpcy5nZXRPcmlnaW5hbFNpemUoKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRoZSBJbWFnZSBjbGFzcydzIGluaXRpYWxpemF0aW9uIG1ldGhvZC4gVGhpcyBtZXRob2QgaXMgYXV0b21hdGljYWxseVxuICAgICAqIGNhbGxlZCBieSB0aGUgY29uc3RydWN0b3IuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR8U3RyaW5nfSBlbGVtZW50IFRoZSBlbGVtZW50IHJlcHJlc2VudGluZyB0aGUgaW1hZ2VcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAgICovXG4gICAgX2luaXRFbGVtZW50OiBmdW5jdGlvbihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICB0aGlzLnNldEVsZW1lbnQoZmFicmljLnV0aWwuZ2V0QnlJZChlbGVtZW50KSwgb3B0aW9ucyk7XG4gICAgICBmYWJyaWMudXRpbC5hZGRDbGFzcyh0aGlzLmdldEVsZW1lbnQoKSwgZmFicmljLkltYWdlLkNTU19DQU5WQVMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKi9cbiAgICBfaW5pdENvbmZpZzogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgb3B0aW9ucyB8fCAob3B0aW9ucyA9IHsgfSk7XG4gICAgICB0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICB0aGlzLl9zZXRXaWR0aEhlaWdodChvcHRpb25zKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBmaWx0ZXJzIHRvIGJlIGluaXRpYWxpemVkXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2sgdG8gaW52b2tlIHdoZW4gYWxsIGZhYnJpYy5JbWFnZS5maWx0ZXJzIGluc3RhbmNlcyBhcmUgY3JlYXRlZFxuICAgICAqL1xuICAgIF9pbml0RmlsdGVyczogZnVuY3Rpb24oZmlsdGVycywgY2FsbGJhY2spIHtcbiAgICAgIGlmIChmaWx0ZXJzICYmIGZpbHRlcnMubGVuZ3RoKSB7XG4gICAgICAgIGZhYnJpYy51dGlsLmVubGl2ZW5PYmplY3RzKGZpbHRlcnMsIGZ1bmN0aW9uKGVubGl2ZW5lZE9iamVjdHMpIHtcbiAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhlbmxpdmVuZWRPYmplY3RzKTtcbiAgICAgICAgfSwgJ2ZhYnJpYy5JbWFnZS5maWx0ZXJzJyk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBTZXQgdGhlIHdpZHRoIGFuZCB0aGUgaGVpZ2h0IG9mIHRoZSBpbWFnZSBvYmplY3QsIHVzaW5nIHRoZSBlbGVtZW50IG9yIHRoZVxuICAgICAqIG9wdGlvbnMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPYmplY3Qgd2l0aCB3aWR0aC9oZWlnaHQgcHJvcGVydGllc1xuICAgICAqL1xuICAgIF9zZXRXaWR0aEhlaWdodDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgb3B0aW9ucyB8fCAob3B0aW9ucyA9IHsgfSk7XG4gICAgICB2YXIgZWwgPSB0aGlzLmdldEVsZW1lbnQoKTtcbiAgICAgIHRoaXMud2lkdGggPSBvcHRpb25zLndpZHRoIHx8IGVsLm5hdHVyYWxXaWR0aCB8fCBlbC53aWR0aCB8fCAwO1xuICAgICAgdGhpcy5oZWlnaHQgPSBvcHRpb25zLmhlaWdodCB8fCBlbC5uYXR1cmFsSGVpZ2h0IHx8IGVsLmhlaWdodCB8fCAwO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgb2Zmc2V0IGZvciBjZW50ZXIgYW5kIHNjYWxlIGZhY3RvciBmb3IgdGhlIGltYWdlIGluIG9yZGVyIHRvIHJlc3BlY3RcbiAgICAgKiB0aGUgcHJlc2VydmVBc3BlY3RSYXRpbyBhdHRyaWJ1dGVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge09iamVjdH1cbiAgICAgKi9cbiAgICBwYXJzZVByZXNlcnZlQXNwZWN0UmF0aW9BdHRyaWJ1dGU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHBBUiA9IGZhYnJpYy51dGlsLnBhcnNlUHJlc2VydmVBc3BlY3RSYXRpb0F0dHJpYnV0ZSh0aGlzLnByZXNlcnZlQXNwZWN0UmF0aW8gfHwgJycpLFxuICAgICAgICAgIHJXaWR0aCA9IHRoaXMuX2VsZW1lbnQud2lkdGgsIHJIZWlnaHQgPSB0aGlzLl9lbGVtZW50LmhlaWdodCxcbiAgICAgICAgICBzY2FsZVggPSAxLCBzY2FsZVkgPSAxLCBvZmZzZXRMZWZ0ID0gMCwgb2Zmc2V0VG9wID0gMCwgY3JvcFggPSAwLCBjcm9wWSA9IDAsXG4gICAgICAgICAgb2Zmc2V0LCBwV2lkdGggPSB0aGlzLndpZHRoLCBwSGVpZ2h0ID0gdGhpcy5oZWlnaHQsIHBhcnNlZEF0dHJpYnV0ZXMgPSB7IHdpZHRoOiBwV2lkdGgsIGhlaWdodDogcEhlaWdodCB9O1xuICAgICAgaWYgKHBBUiAmJiAocEFSLmFsaWduWCAhPT0gJ25vbmUnIHx8IHBBUi5hbGlnblkgIT09ICdub25lJykpIHtcbiAgICAgICAgaWYgKHBBUi5tZWV0T3JTbGljZSA9PT0gJ21lZXQnKSB7XG4gICAgICAgICAgc2NhbGVYID0gc2NhbGVZID0gZmFicmljLnV0aWwuZmluZFNjYWxlVG9GaXQodGhpcy5fZWxlbWVudCwgcGFyc2VkQXR0cmlidXRlcyk7XG4gICAgICAgICAgb2Zmc2V0ID0gKHBXaWR0aCAtIHJXaWR0aCAqIHNjYWxlWCkgLyAyO1xuICAgICAgICAgIGlmIChwQVIuYWxpZ25YID09PSAnTWluJykge1xuICAgICAgICAgICAgb2Zmc2V0TGVmdCA9IC1vZmZzZXQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwQVIuYWxpZ25YID09PSAnTWF4Jykge1xuICAgICAgICAgICAgb2Zmc2V0TGVmdCA9IG9mZnNldDtcbiAgICAgICAgICB9XG4gICAgICAgICAgb2Zmc2V0ID0gKHBIZWlnaHQgLSBySGVpZ2h0ICogc2NhbGVZKSAvIDI7XG4gICAgICAgICAgaWYgKHBBUi5hbGlnblkgPT09ICdNaW4nKSB7XG4gICAgICAgICAgICBvZmZzZXRUb3AgPSAtb2Zmc2V0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocEFSLmFsaWduWSA9PT0gJ01heCcpIHtcbiAgICAgICAgICAgIG9mZnNldFRvcCA9IG9mZnNldDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBBUi5tZWV0T3JTbGljZSA9PT0gJ3NsaWNlJykge1xuICAgICAgICAgIHNjYWxlWCA9IHNjYWxlWSA9IGZhYnJpYy51dGlsLmZpbmRTY2FsZVRvQ292ZXIodGhpcy5fZWxlbWVudCwgcGFyc2VkQXR0cmlidXRlcyk7XG4gICAgICAgICAgb2Zmc2V0ID0gcldpZHRoIC0gcFdpZHRoIC8gc2NhbGVYO1xuICAgICAgICAgIGlmIChwQVIuYWxpZ25YID09PSAnTWlkJykge1xuICAgICAgICAgICAgY3JvcFggPSBvZmZzZXQgLyAyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocEFSLmFsaWduWCA9PT0gJ01heCcpIHtcbiAgICAgICAgICAgIGNyb3BYID0gb2Zmc2V0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBvZmZzZXQgPSBySGVpZ2h0IC0gcEhlaWdodCAvIHNjYWxlWTtcbiAgICAgICAgICBpZiAocEFSLmFsaWduWSA9PT0gJ01pZCcpIHtcbiAgICAgICAgICAgIGNyb3BZID0gb2Zmc2V0IC8gMjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHBBUi5hbGlnblkgPT09ICdNYXgnKSB7XG4gICAgICAgICAgICBjcm9wWSA9IG9mZnNldDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcldpZHRoID0gcFdpZHRoIC8gc2NhbGVYO1xuICAgICAgICAgIHJIZWlnaHQgPSBwSGVpZ2h0IC8gc2NhbGVZO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgc2NhbGVYID0gcFdpZHRoIC8gcldpZHRoO1xuICAgICAgICBzY2FsZVkgPSBwSGVpZ2h0IC8gckhlaWdodDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHdpZHRoOiByV2lkdGgsXG4gICAgICAgIGhlaWdodDogckhlaWdodCxcbiAgICAgICAgc2NhbGVYOiBzY2FsZVgsXG4gICAgICAgIHNjYWxlWTogc2NhbGVZLFxuICAgICAgICBvZmZzZXRMZWZ0OiBvZmZzZXRMZWZ0LFxuICAgICAgICBvZmZzZXRUb3A6IG9mZnNldFRvcCxcbiAgICAgICAgY3JvcFg6IGNyb3BYLFxuICAgICAgICBjcm9wWTogY3JvcFlcbiAgICAgIH07XG4gICAgfVxuICB9KTtcblxuICAvKipcbiAgICogRGVmYXVsdCBDU1MgY2xhc3MgbmFtZSBmb3IgY2FudmFzXG4gICAqIEBzdGF0aWNcbiAgICogQHR5cGUgU3RyaW5nXG4gICAqIEBkZWZhdWx0XG4gICAqL1xuICBmYWJyaWMuSW1hZ2UuQ1NTX0NBTlZBUyA9ICdjYW52YXMtaW1nJztcblxuICAvKipcbiAgICogQWxpYXMgZm9yIGdldFNyY1xuICAgKiBAc3RhdGljXG4gICAqL1xuICBmYWJyaWMuSW1hZ2UucHJvdG90eXBlLmdldFN2Z1NyYyA9IGZhYnJpYy5JbWFnZS5wcm90b3R5cGUuZ2V0U3JjO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIGZhYnJpYy5JbWFnZSBmcm9tIGl0cyBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsYmFjayB0byBpbnZva2Ugd2hlbiBhbiBpbWFnZSBpbnN0YW5jZSBpcyBjcmVhdGVkXG4gICAqL1xuICBmYWJyaWMuSW1hZ2UuZnJvbU9iamVjdCA9IGZ1bmN0aW9uKF9vYmplY3QsIGNhbGxiYWNrKSB7XG4gICAgdmFyIG9iamVjdCA9IGZhYnJpYy51dGlsLm9iamVjdC5jbG9uZShfb2JqZWN0KTtcbiAgICBmYWJyaWMudXRpbC5sb2FkSW1hZ2Uob2JqZWN0LnNyYywgZnVuY3Rpb24oaW1nLCBpc0Vycm9yKSB7XG4gICAgICBpZiAoaXNFcnJvcikge1xuICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhudWxsLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZmFicmljLkltYWdlLnByb3RvdHlwZS5faW5pdEZpbHRlcnMuY2FsbChvYmplY3QsIG9iamVjdC5maWx0ZXJzLCBmdW5jdGlvbihmaWx0ZXJzKSB7XG4gICAgICAgIG9iamVjdC5maWx0ZXJzID0gZmlsdGVycyB8fCBbXTtcbiAgICAgICAgZmFicmljLkltYWdlLnByb3RvdHlwZS5faW5pdEZpbHRlcnMuY2FsbChvYmplY3QsIFtvYmplY3QucmVzaXplRmlsdGVyXSwgZnVuY3Rpb24ocmVzaXplRmlsdGVycykge1xuICAgICAgICAgIG9iamVjdC5yZXNpemVGaWx0ZXIgPSByZXNpemVGaWx0ZXJzWzBdO1xuICAgICAgICAgIGZhYnJpYy51dGlsLmVubGl2ZW5PYmplY3RFbmxpdmFibGVzKG9iamVjdCwgb2JqZWN0LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaW1hZ2UgPSBuZXcgZmFicmljLkltYWdlKGltZywgb2JqZWN0KTtcbiAgICAgICAgICAgIGNhbGxiYWNrKGltYWdlLCBmYWxzZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSwgbnVsbCwgb2JqZWN0LmNyb3NzT3JpZ2luKTtcbiAgfTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBmYWJyaWMuSW1hZ2UgZnJvbSBhbiBVUkwgc3RyaW5nXG4gICAqIEBzdGF0aWNcbiAgICogQHBhcmFtIHtTdHJpbmd9IHVybCBVUkwgdG8gY3JlYXRlIGFuIGltYWdlIGZyb21cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBDYWxsYmFjayB0byBpbnZva2Ugd2hlbiBpbWFnZSBpcyBjcmVhdGVkIChuZXdseSBjcmVhdGVkIGltYWdlIGlzIHBhc3NlZCBhcyBhIGZpcnN0IGFyZ3VtZW50KS4gU2Vjb25kIGFyZ3VtZW50IGlzIGEgYm9vbGVhbiBpbmRpY2F0aW5nIGlmIGFuIGVycm9yIG9jY3VycmVkIG9yIG5vdC5cbiAgICogQHBhcmFtIHtPYmplY3R9IFtpbWdPcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgKi9cbiAgZmFicmljLkltYWdlLmZyb21VUkwgPSBmdW5jdGlvbih1cmwsIGNhbGxiYWNrLCBpbWdPcHRpb25zKSB7XG4gICAgZmFicmljLnV0aWwubG9hZEltYWdlKHVybCwgZnVuY3Rpb24oaW1nLCBpc0Vycm9yKSB7XG4gICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhuZXcgZmFicmljLkltYWdlKGltZywgaW1nT3B0aW9ucyksIGlzRXJyb3IpO1xuICAgIH0sIG51bGwsIGltZ09wdGlvbnMgJiYgaW1nT3B0aW9ucy5jcm9zc09yaWdpbik7XG4gIH07XG5cbiAgLyogX0ZST01fU1ZHX1NUQVJUXyAqL1xuICAvKipcbiAgICogTGlzdCBvZiBhdHRyaWJ1dGUgbmFtZXMgdG8gYWNjb3VudCBmb3Igd2hlbiBwYXJzaW5nIFNWRyBlbGVtZW50ICh1c2VkIGJ5IHtAbGluayBmYWJyaWMuSW1hZ2UuZnJvbUVsZW1lbnR9KVxuICAgKiBAc3RhdGljXG4gICAqIEBzZWUge0BsaW5rIGh0dHA6Ly93d3cudzMub3JnL1RSL1NWRy9zdHJ1Y3QuaHRtbCNJbWFnZUVsZW1lbnR9XG4gICAqL1xuICBmYWJyaWMuSW1hZ2UuQVRUUklCVVRFX05BTUVTID1cbiAgICBmYWJyaWMuU0hBUkVEX0FUVFJJQlVURVMuY29uY2F0KFxuICAgICAgJ3ggeSB3aWR0aCBoZWlnaHQgcHJlc2VydmVBc3BlY3RSYXRpbyB4bGluazpocmVmIGNyb3NzT3JpZ2luIGltYWdlLXJlbmRlcmluZycuc3BsaXQoJyAnKVxuICAgICk7XG5cbiAgLyoqXG4gICAqIFJldHVybnMge0BsaW5rIGZhYnJpYy5JbWFnZX0gaW5zdGFuY2UgZnJvbSBhbiBTVkcgZWxlbWVudFxuICAgKiBAc3RhdGljXG4gICAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gZWxlbWVudCBFbGVtZW50IHRvIHBhcnNlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2sgdG8gZXhlY3V0ZSB3aGVuIGZhYnJpYy5JbWFnZSBvYmplY3QgaXMgY3JlYXRlZFxuICAgKiBAcmV0dXJuIHtmYWJyaWMuSW1hZ2V9IEluc3RhbmNlIG9mIGZhYnJpYy5JbWFnZVxuICAgKi9cbiAgZmFicmljLkltYWdlLmZyb21FbGVtZW50ID0gZnVuY3Rpb24oZWxlbWVudCwgY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgICB2YXIgcGFyc2VkQXR0cmlidXRlcyA9IGZhYnJpYy5wYXJzZUF0dHJpYnV0ZXMoZWxlbWVudCwgZmFicmljLkltYWdlLkFUVFJJQlVURV9OQU1FUyk7XG4gICAgZmFicmljLkltYWdlLmZyb21VUkwocGFyc2VkQXR0cmlidXRlc1sneGxpbms6aHJlZiddLCBjYWxsYmFjayxcbiAgICAgIGV4dGVuZCgob3B0aW9ucyA/IGZhYnJpYy51dGlsLm9iamVjdC5jbG9uZShvcHRpb25zKSA6IHsgfSksIHBhcnNlZEF0dHJpYnV0ZXMpKTtcbiAgfTtcbiAgLyogX0ZST01fU1ZHX0VORF8gKi9cblxufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbmZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQoZmFicmljLk9iamVjdC5wcm90b3R5cGUsIC8qKiBAbGVuZHMgZmFicmljLk9iamVjdC5wcm90b3R5cGUgKi8ge1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IGFuZ2xlIHZhbHVlXG4gICAqL1xuICBfZ2V0QW5nbGVWYWx1ZUZvclN0cmFpZ2h0ZW46IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhbmdsZSA9IHRoaXMuYW5nbGUgJSAzNjA7XG4gICAgaWYgKGFuZ2xlID4gMCkge1xuICAgICAgcmV0dXJuIE1hdGgucm91bmQoKGFuZ2xlIC0gMSkgLyA5MCkgKiA5MDtcbiAgICB9XG4gICAgcmV0dXJuIE1hdGgucm91bmQoYW5nbGUgLyA5MCkgKiA5MDtcbiAgfSxcblxuICAvKipcbiAgICogU3RyYWlnaHRlbnMgYW4gb2JqZWN0IChyb3RhdGluZyBpdCBmcm9tIGN1cnJlbnQgYW5nbGUgdG8gb25lIG9mIDAsIDkwLCAxODAsIDI3MCwgZXRjLiBkZXBlbmRpbmcgb24gd2hpY2ggaXMgY2xvc2VyKVxuICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAqIEBjaGFpbmFibGVcbiAgICovXG4gIHN0cmFpZ2h0ZW46IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnJvdGF0ZSh0aGlzLl9nZXRBbmdsZVZhbHVlRm9yU3RyYWlnaHRlbigpKTtcbiAgfSxcblxuICAvKipcbiAgICogU2FtZSBhcyB7QGxpbmsgZmFicmljLk9iamVjdC5wcm90b3R5cGUuc3RyYWlnaHRlbn0gYnV0IHdpdGggYW5pbWF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjYWxsYmFja3MgT2JqZWN0IHdpdGggY2FsbGJhY2sgZnVuY3Rpb25zXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja3Mub25Db21wbGV0ZV0gSW52b2tlZCBvbiBjb21wbGV0aW9uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja3Mub25DaGFuZ2VdIEludm9rZWQgb24gZXZlcnkgc3RlcCBvZiBhbmltYXRpb25cbiAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgKi9cbiAgZnhTdHJhaWdodGVuOiBmdW5jdGlvbihjYWxsYmFja3MpIHtcbiAgICBjYWxsYmFja3MgPSBjYWxsYmFja3MgfHwgeyB9O1xuXG4gICAgdmFyIGVtcHR5ID0gZnVuY3Rpb24oKSB7IH0sXG4gICAgICAgIG9uQ29tcGxldGUgPSBjYWxsYmFja3Mub25Db21wbGV0ZSB8fCBlbXB0eSxcbiAgICAgICAgb25DaGFuZ2UgPSBjYWxsYmFja3Mub25DaGFuZ2UgfHwgZW1wdHksXG4gICAgICAgIF90aGlzID0gdGhpcztcblxuICAgIHJldHVybiBmYWJyaWMudXRpbC5hbmltYXRlKHtcbiAgICAgIHRhcmdldDogdGhpcyxcbiAgICAgIHN0YXJ0VmFsdWU6IHRoaXMuZ2V0KCdhbmdsZScpLFxuICAgICAgZW5kVmFsdWU6IHRoaXMuX2dldEFuZ2xlVmFsdWVGb3JTdHJhaWdodGVuKCksXG4gICAgICBkdXJhdGlvbjogdGhpcy5GWF9EVVJBVElPTixcbiAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBfdGhpcy5yb3RhdGUodmFsdWUpO1xuICAgICAgICBvbkNoYW5nZSgpO1xuICAgICAgfSxcbiAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICBfdGhpcy5zZXRDb29yZHMoKTtcbiAgICAgICAgb25Db21wbGV0ZSgpO1xuICAgICAgfSxcbiAgICB9KTtcbiAgfVxufSk7XG5cbmZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQoZmFicmljLlN0YXRpY0NhbnZhcy5wcm90b3R5cGUsIC8qKiBAbGVuZHMgZmFicmljLlN0YXRpY0NhbnZhcy5wcm90b3R5cGUgKi8ge1xuXG4gIC8qKlxuICAgKiBTdHJhaWdodGVucyBvYmplY3QsIHRoZW4gcmVyZW5kZXJzIGNhbnZhc1xuICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IG9iamVjdCBPYmplY3QgdG8gc3RyYWlnaHRlblxuICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSB0aGlzQXJnXG4gICAqIEBjaGFpbmFibGVcbiAgICovXG4gIHN0cmFpZ2h0ZW5PYmplY3Q6IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICBvYmplY3Quc3RyYWlnaHRlbigpO1xuICAgIHRoaXMucmVxdWVzdFJlbmRlckFsbCgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTYW1lIGFzIHtAbGluayBmYWJyaWMuQ2FudmFzLnByb3RvdHlwZS5zdHJhaWdodGVuT2JqZWN0fSwgYnV0IGFuaW1hdGVkXG4gICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gb2JqZWN0IE9iamVjdCB0byBzdHJhaWdodGVuXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IHRoaXNBcmdcbiAgICovXG4gIGZ4U3RyYWlnaHRlbk9iamVjdDogZnVuY3Rpb24gKG9iamVjdCkge1xuICAgIHJldHVybiBvYmplY3QuZnhTdHJhaWdodGVuKHtcbiAgICAgIG9uQ2hhbmdlOiB0aGlzLnJlcXVlc3RSZW5kZXJBbGxCb3VuZFxuICAgIH0pO1xuICB9XG59KTtcblxuXG4oZnVuY3Rpb24oKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAgKiBUZXN0cyBpZiB3ZWJnbCBzdXBwb3J0cyBjZXJ0YWluIHByZWNpc2lvblxuICAgKiBAcGFyYW0ge1dlYkdMfSBDYW52YXMgV2ViR0wgY29udGV4dCB0byB0ZXN0IG9uXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBQcmVjaXNpb24gdG8gdGVzdCBjYW4gYmUgYW55IG9mIGZvbGxvd2luZzogJ2xvd3AnLCAnbWVkaXVtcCcsICdoaWdocCdcbiAgICogQHJldHVybnMge0Jvb2xlYW59IFdoZXRoZXIgdGhlIHVzZXIncyBicm93c2VyIFdlYkdMIHN1cHBvcnRzIGdpdmVuIHByZWNpc2lvbi5cbiAgICovXG4gIGZ1bmN0aW9uIHRlc3RQcmVjaXNpb24oZ2wsIHByZWNpc2lvbil7XG4gICAgdmFyIGZyYWdtZW50U291cmNlID0gJ3ByZWNpc2lvbiAnICsgcHJlY2lzaW9uICsgJyBmbG9hdDtcXG52b2lkIG1haW4oKXt9JztcbiAgICB2YXIgZnJhZ21lbnRTaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIoZ2wuRlJBR01FTlRfU0hBREVSKTtcbiAgICBnbC5zaGFkZXJTb3VyY2UoZnJhZ21lbnRTaGFkZXIsIGZyYWdtZW50U291cmNlKTtcbiAgICBnbC5jb21waWxlU2hhZGVyKGZyYWdtZW50U2hhZGVyKTtcbiAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcihmcmFnbWVudFNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEluZGljYXRlIHdoZXRoZXIgdGhpcyBmaWx0ZXJpbmcgYmFja2VuZCBpcyBzdXBwb3J0ZWQgYnkgdGhlIHVzZXIncyBicm93c2VyLlxuICAgKiBAcGFyYW0ge051bWJlcn0gdGlsZVNpemUgY2hlY2sgaWYgdGhlIHRpbGVTaXplIGlzIHN1cHBvcnRlZFxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gV2hldGhlciB0aGUgdXNlcidzIGJyb3dzZXIgc3VwcG9ydHMgV2ViR0wuXG4gICAqL1xuICBmYWJyaWMuaXNXZWJnbFN1cHBvcnRlZCA9IGZ1bmN0aW9uKHRpbGVTaXplKSB7XG4gICAgaWYgKGZhYnJpYy5pc0xpa2VseU5vZGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdGlsZVNpemUgPSB0aWxlU2l6ZSB8fCBmYWJyaWMuV2ViZ2xGaWx0ZXJCYWNrZW5kLnByb3RvdHlwZS50aWxlU2l6ZTtcbiAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgdmFyIGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJykgfHwgY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcpO1xuICAgIHZhciBpc1N1cHBvcnRlZCA9IGZhbHNlO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgIGlmIChnbCkge1xuICAgICAgZmFicmljLm1heFRleHR1cmVTaXplID0gZ2wuZ2V0UGFyYW1ldGVyKGdsLk1BWF9URVhUVVJFX1NJWkUpO1xuICAgICAgaXNTdXBwb3J0ZWQgPSBmYWJyaWMubWF4VGV4dHVyZVNpemUgPj0gdGlsZVNpemU7XG4gICAgICB2YXIgcHJlY2lzaW9ucyA9IFsnaGlnaHAnLCAnbWVkaXVtcCcsICdsb3dwJ107XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDM7IGkrKyl7XG4gICAgICAgIGlmICh0ZXN0UHJlY2lzaW9uKGdsLCBwcmVjaXNpb25zW2ldKSl7XG4gICAgICAgICAgZmFicmljLndlYkdsUHJlY2lzaW9uID0gcHJlY2lzaW9uc1tpXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5pc1N1cHBvcnRlZCA9IGlzU3VwcG9ydGVkO1xuICAgIHJldHVybiBpc1N1cHBvcnRlZDtcbiAgfTtcblxuICBmYWJyaWMuV2ViZ2xGaWx0ZXJCYWNrZW5kID0gV2ViZ2xGaWx0ZXJCYWNrZW5kO1xuXG4gIC8qKlxuICAgKiBXZWJHTCBmaWx0ZXIgYmFja2VuZC5cbiAgICovXG4gIGZ1bmN0aW9uIFdlYmdsRmlsdGVyQmFja2VuZChvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy50aWxlU2l6ZSkge1xuICAgICAgdGhpcy50aWxlU2l6ZSA9IG9wdGlvbnMudGlsZVNpemU7XG4gICAgfVxuICAgIHRoaXMuc2V0dXBHTENvbnRleHQodGhpcy50aWxlU2l6ZSwgdGhpcy50aWxlU2l6ZSk7XG4gICAgdGhpcy5jYXB0dXJlR1BVSW5mbygpO1xuICB9O1xuXG4gIFdlYmdsRmlsdGVyQmFja2VuZC5wcm90b3R5cGUgPSAvKiogQGxlbmRzIGZhYnJpYy5XZWJnbEZpbHRlckJhY2tlbmQucHJvdG90eXBlICovIHtcblxuICAgIHRpbGVTaXplOiAyMDQ4LFxuXG4gICAgLyoqXG4gICAgICogRXhwZXJpbWVudGFsLiBUaGlzIG9iamVjdCBpcyBhIHNvcnQgb2YgcmVwb3NpdG9yeSBvZiBoZWxwIGxheWVycyB1c2VkIHRvIGF2b2lkXG4gICAgICogb2YgcmVjcmVhdGluZyB0aGVtIGR1cmluZyBmcmVxdWVudCBmaWx0ZXJpbmcuIElmIHlvdSBhcmUgcHJldmlld2luZyBhIGZpbHRlciB3aXRoXG4gICAgICogYSBzbGlkZXIgeW91IHByb2JhYmx5IGRvIG5vdCB3YW50IHRvIGNyZWF0ZSBoZWxwIGxheWVycyBldmVyeSBmaWx0ZXIgc3RlcC5cbiAgICAgKiBpbiB0aGlzIG9iamVjdCB0aGVyZSB3aWxsIGJlIGFwcGVuZGVkIHNvbWUgY2FudmFzZXMsIGNyZWF0ZWQgb25jZSwgcmVzaXplZCBzb21ldGltZXNcbiAgICAgKiBjbGVhcmVkIG5ldmVyLiBDbGVhcmluZyBpcyBsZWZ0IHRvIHRoZSBkZXZlbG9wZXIuXG4gICAgICoqL1xuICAgIHJlc291cmNlczoge1xuXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHVwIGEgV2ViR0wgY29udGV4dCBzdWl0YWJsZSBmb3IgZmlsdGVyaW5nLCBhbmQgYmluZCBhbnkgbmVlZGVkIGV2ZW50IGhhbmRsZXJzLlxuICAgICAqL1xuICAgIHNldHVwR0xDb250ZXh0OiBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgIHRoaXMuY3JlYXRlV2ViR0xDYW52YXMod2lkdGgsIGhlaWdodCk7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgIHRoaXMuYVBvc2l0aW9uID0gbmV3IEZsb2F0MzJBcnJheShbMCwgMCwgMCwgMSwgMSwgMCwgMSwgMV0pO1xuICAgICAgdGhpcy5jaG9vc2VGYXN0ZXN0Q29weUdMVG8yRE1ldGhvZCh3aWR0aCwgaGVpZ2h0KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUGljayBhIG1ldGhvZCB0byBjb3B5IGRhdGEgZnJvbSBHTCBjb250ZXh0IHRvIDJkIGNhbnZhcy4gIEluIHNvbWUgYnJvd3NlcnMgdXNpbmdcbiAgICAgKiBwdXRJbWFnZURhdGEgaXMgZmFzdGVyIHRoYW4gZHJhd0ltYWdlIGZvciB0aGF0IHNwZWNpZmljIG9wZXJhdGlvbi5cbiAgICAgKi9cbiAgICBjaG9vc2VGYXN0ZXN0Q29weUdMVG8yRE1ldGhvZDogZnVuY3Rpb24od2lkdGgsIGhlaWdodCkge1xuICAgICAgdmFyIGNhbk1lYXN1cmVQZXJmID0gdHlwZW9mIHdpbmRvdy5wZXJmb3JtYW5jZSAhPT0gJ3VuZGVmaW5lZCcsIGNhblVzZUltYWdlRGF0YTtcbiAgICAgIHRyeSB7XG4gICAgICAgIG5ldyBJbWFnZURhdGEoMSwgMSk7XG4gICAgICAgIGNhblVzZUltYWdlRGF0YSA9IHRydWU7XG4gICAgICB9XG4gICAgICBjYXRjaCAoZSkge1xuICAgICAgICBjYW5Vc2VJbWFnZURhdGEgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgdmFyIGNhblVzZUFycmF5QnVmZmVyID0gdHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJztcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgdmFyIGNhblVzZVVpbnQ4Q2xhbXBlZCA9IHR5cGVvZiBVaW50OENsYW1wZWRBcnJheSAhPT0gJ3VuZGVmaW5lZCc7XG5cbiAgICAgIGlmICghKGNhbk1lYXN1cmVQZXJmICYmIGNhblVzZUltYWdlRGF0YSAmJiBjYW5Vc2VBcnJheUJ1ZmZlciAmJiBjYW5Vc2VVaW50OENsYW1wZWQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHRhcmdldENhbnZhcyA9IGZhYnJpYy51dGlsLmNyZWF0ZUNhbnZhc0VsZW1lbnQoKTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgdmFyIGltYWdlQnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKHdpZHRoICogaGVpZ2h0ICogNCk7XG4gICAgICBpZiAoZmFicmljLmZvcmNlR0xQdXRJbWFnZURhdGEpIHtcbiAgICAgICAgdGhpcy5pbWFnZUJ1ZmZlciA9IGltYWdlQnVmZmVyO1xuICAgICAgICB0aGlzLmNvcHlHTFRvMkQgPSBjb3B5R0xUbzJEUHV0SW1hZ2VEYXRhO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgdGVzdENvbnRleHQgPSB7XG4gICAgICAgIGltYWdlQnVmZmVyOiBpbWFnZUJ1ZmZlcixcbiAgICAgICAgZGVzdGluYXRpb25XaWR0aDogd2lkdGgsXG4gICAgICAgIGRlc3RpbmF0aW9uSGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgIHRhcmdldENhbnZhczogdGFyZ2V0Q2FudmFzXG4gICAgICB9O1xuICAgICAgdmFyIHN0YXJ0VGltZSwgZHJhd0ltYWdlVGltZSwgcHV0SW1hZ2VEYXRhVGltZTtcbiAgICAgIHRhcmdldENhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgdGFyZ2V0Q2FudmFzLmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgc3RhcnRUaW1lID0gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgY29weUdMVG8yRERyYXdJbWFnZS5jYWxsKHRlc3RDb250ZXh0LCB0aGlzLmdsLCB0ZXN0Q29udGV4dCk7XG4gICAgICBkcmF3SW1hZ2VUaW1lID0gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnRUaW1lO1xuXG4gICAgICBzdGFydFRpbWUgPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBjb3B5R0xUbzJEUHV0SW1hZ2VEYXRhLmNhbGwodGVzdENvbnRleHQsIHRoaXMuZ2wsIHRlc3RDb250ZXh0KTtcbiAgICAgIHB1dEltYWdlRGF0YVRpbWUgPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydFRpbWU7XG5cbiAgICAgIGlmIChkcmF3SW1hZ2VUaW1lID4gcHV0SW1hZ2VEYXRhVGltZSkge1xuICAgICAgICB0aGlzLmltYWdlQnVmZmVyID0gaW1hZ2VCdWZmZXI7XG4gICAgICAgIHRoaXMuY29weUdMVG8yRCA9IGNvcHlHTFRvMkRQdXRJbWFnZURhdGE7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5jb3B5R0xUbzJEID0gY29weUdMVG8yRERyYXdJbWFnZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgY2FudmFzIGVsZW1lbnQgYW5kIGFzc29jaWF0ZWQgV2ViR0wgY29udGV4dCBhbmQgYXR0YWNoZXMgdGhlbSBhc1xuICAgICAqIGNsYXNzIHByb3BlcnRpZXMgdG8gdGhlIEdMRmlsdGVyQmFja2VuZCBjbGFzcy5cbiAgICAgKi9cbiAgICBjcmVhdGVXZWJHTENhbnZhczogZnVuY3Rpb24od2lkdGgsIGhlaWdodCkge1xuICAgICAgdmFyIGNhbnZhcyA9IGZhYnJpYy51dGlsLmNyZWF0ZUNhbnZhc0VsZW1lbnQoKTtcbiAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgIHZhciBnbE9wdGlvbnMgPSB7XG4gICAgICAgICAgICBhbHBoYTogdHJ1ZSxcbiAgICAgICAgICAgIHByZW11bHRpcGxpZWRBbHBoYTogZmFsc2UsXG4gICAgICAgICAgICBkZXB0aDogZmFsc2UsXG4gICAgICAgICAgICBzdGVuY2lsOiBmYWxzZSxcbiAgICAgICAgICAgIGFudGlhbGlhczogZmFsc2VcbiAgICAgICAgICB9LFxuICAgICAgICAgIGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJywgZ2xPcHRpb25zKTtcbiAgICAgIGlmICghZ2wpIHtcbiAgICAgICAgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJywgZ2xPcHRpb25zKTtcbiAgICAgIH1cbiAgICAgIGlmICghZ2wpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZ2wuY2xlYXJDb2xvcigwLCAwLCAwLCAwKTtcbiAgICAgIC8vIHRoaXMgY2FudmFzIGNhbiBmaXJlIHdlYmdsY29udGV4dGxvc3QgYW5kIHdlYmdsY29udGV4dHJlc3RvcmVkXG4gICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcbiAgICAgIHRoaXMuZ2wgPSBnbDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQXR0ZW1wdHMgdG8gYXBwbHkgdGhlIHJlcXVlc3RlZCBmaWx0ZXJzIHRvIHRoZSBzb3VyY2UgcHJvdmlkZWQsIGRyYXdpbmcgdGhlIGZpbHRlcmVkIG91dHB1dFxuICAgICAqIHRvIHRoZSBwcm92aWRlZCB0YXJnZXQgY2FudmFzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtBcnJheX0gZmlsdGVycyBUaGUgZmlsdGVycyB0byBhcHBseS5cbiAgICAgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9IHNvdXJjZSBUaGUgc291cmNlIHRvIGJlIGZpbHRlcmVkLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB3aWR0aCBUaGUgd2lkdGggb2YgdGhlIHNvdXJjZSBpbnB1dC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gaGVpZ2h0IFRoZSBoZWlnaHQgb2YgdGhlIHNvdXJjZSBpbnB1dC5cbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSB0YXJnZXRDYW52YXMgVGhlIGRlc3RpbmF0aW9uIGZvciBmaWx0ZXJlZCBvdXRwdXQgdG8gYmUgZHJhd24uXG4gICAgICogQHBhcmFtIHtTdHJpbmd8dW5kZWZpbmVkfSBjYWNoZUtleSBBIGtleSB1c2VkIHRvIGNhY2hlIHJlc291cmNlcyByZWxhdGVkIHRvIHRoZSBzb3VyY2UuIElmXG4gICAgICogb21pdHRlZCwgY2FjaGluZyB3aWxsIGJlIHNraXBwZWQuXG4gICAgICovXG4gICAgYXBwbHlGaWx0ZXJzOiBmdW5jdGlvbihmaWx0ZXJzLCBzb3VyY2UsIHdpZHRoLCBoZWlnaHQsIHRhcmdldENhbnZhcywgY2FjaGVLZXkpIHtcbiAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICB2YXIgY2FjaGVkVGV4dHVyZTtcbiAgICAgIGlmIChjYWNoZUtleSkge1xuICAgICAgICBjYWNoZWRUZXh0dXJlID0gdGhpcy5nZXRDYWNoZWRUZXh0dXJlKGNhY2hlS2V5LCBzb3VyY2UpO1xuICAgICAgfVxuICAgICAgdmFyIHBpcGVsaW5lU3RhdGUgPSB7XG4gICAgICAgIG9yaWdpbmFsV2lkdGg6IHNvdXJjZS53aWR0aCB8fCBzb3VyY2Uub3JpZ2luYWxXaWR0aCxcbiAgICAgICAgb3JpZ2luYWxIZWlnaHQ6IHNvdXJjZS5oZWlnaHQgfHwgc291cmNlLm9yaWdpbmFsSGVpZ2h0LFxuICAgICAgICBzb3VyY2VXaWR0aDogd2lkdGgsXG4gICAgICAgIHNvdXJjZUhlaWdodDogaGVpZ2h0LFxuICAgICAgICBkZXN0aW5hdGlvbldpZHRoOiB3aWR0aCxcbiAgICAgICAgZGVzdGluYXRpb25IZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgY29udGV4dDogZ2wsXG4gICAgICAgIHNvdXJjZVRleHR1cmU6IHRoaXMuY3JlYXRlVGV4dHVyZShnbCwgd2lkdGgsIGhlaWdodCwgIWNhY2hlZFRleHR1cmUgJiYgc291cmNlKSxcbiAgICAgICAgdGFyZ2V0VGV4dHVyZTogdGhpcy5jcmVhdGVUZXh0dXJlKGdsLCB3aWR0aCwgaGVpZ2h0KSxcbiAgICAgICAgb3JpZ2luYWxUZXh0dXJlOiBjYWNoZWRUZXh0dXJlIHx8XG4gICAgICAgICAgdGhpcy5jcmVhdGVUZXh0dXJlKGdsLCB3aWR0aCwgaGVpZ2h0LCAhY2FjaGVkVGV4dHVyZSAmJiBzb3VyY2UpLFxuICAgICAgICBwYXNzZXM6IGZpbHRlcnMubGVuZ3RoLFxuICAgICAgICB3ZWJnbDogdHJ1ZSxcbiAgICAgICAgYVBvc2l0aW9uOiB0aGlzLmFQb3NpdGlvbixcbiAgICAgICAgcHJvZ3JhbUNhY2hlOiB0aGlzLnByb2dyYW1DYWNoZSxcbiAgICAgICAgcGFzczogMCxcbiAgICAgICAgZmlsdGVyQmFja2VuZDogdGhpcyxcbiAgICAgICAgdGFyZ2V0Q2FudmFzOiB0YXJnZXRDYW52YXNcbiAgICAgIH07XG4gICAgICB2YXIgdGVtcEZibyA9IGdsLmNyZWF0ZUZyYW1lYnVmZmVyKCk7XG4gICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIHRlbXBGYm8pO1xuICAgICAgZmlsdGVycy5mb3JFYWNoKGZ1bmN0aW9uKGZpbHRlcikgeyBmaWx0ZXIgJiYgZmlsdGVyLmFwcGx5VG8ocGlwZWxpbmVTdGF0ZSk7IH0pO1xuICAgICAgcmVzaXplQ2FudmFzSWZOZWVkZWQocGlwZWxpbmVTdGF0ZSk7XG4gICAgICB0aGlzLmNvcHlHTFRvMkQoZ2wsIHBpcGVsaW5lU3RhdGUpO1xuICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgbnVsbCk7XG4gICAgICBnbC5kZWxldGVUZXh0dXJlKHBpcGVsaW5lU3RhdGUuc291cmNlVGV4dHVyZSk7XG4gICAgICBnbC5kZWxldGVUZXh0dXJlKHBpcGVsaW5lU3RhdGUudGFyZ2V0VGV4dHVyZSk7XG4gICAgICBnbC5kZWxldGVGcmFtZWJ1ZmZlcih0ZW1wRmJvKTtcbiAgICAgIHRhcmdldENhbnZhcy5nZXRDb250ZXh0KCcyZCcpLnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTtcbiAgICAgIHJldHVybiBwaXBlbGluZVN0YXRlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZXRhY2ggZXZlbnQgbGlzdGVuZXJzLCByZW1vdmUgcmVmZXJlbmNlcywgYW5kIGNsZWFuIHVwIGNhY2hlcy5cbiAgICAgKi9cbiAgICBkaXNwb3NlOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLmNhbnZhcykge1xuICAgICAgICB0aGlzLmNhbnZhcyA9IG51bGw7XG4gICAgICAgIHRoaXMuZ2wgPSBudWxsO1xuICAgICAgfVxuICAgICAgdGhpcy5jbGVhcldlYkdMQ2FjaGVzKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFdpcGUgb3V0IFdlYkdMLXJlbGF0ZWQgY2FjaGVzLlxuICAgICAqL1xuICAgIGNsZWFyV2ViR0xDYWNoZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5wcm9ncmFtQ2FjaGUgPSB7fTtcbiAgICAgIHRoaXMudGV4dHVyZUNhY2hlID0ge307XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIFdlYkdMIHRleHR1cmUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQWNjZXB0cyBzcGVjaWZpYyBkaW1lbnNpb25zIHRvIGluaXRpYWxpemUgdGhlIHRleHR1cmUgdG8gb3IgYSBzb3VyY2UgaW1hZ2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNvbnRleHQgdG8gdXNlIGZvciBjcmVhdGluZyB0aGUgdGV4dHVyZS5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gd2lkdGggVGhlIHdpZHRoIHRvIGluaXRpYWxpemUgdGhlIHRleHR1cmUgYXQuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGhlaWdodCBUaGUgaGVpZ2h0IHRvIGluaXRpYWxpemUgdGhlIHRleHR1cmUuXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fSB0ZXh0dXJlSW1hZ2VTb3VyY2UgQSBzb3VyY2UgZm9yIHRoZSB0ZXh0dXJlIGRhdGEuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGZpbHRlclR5cGUgZ2wuTkVBUkVTVCBvciBnbC5MSU5FQVIgdXN1YWxseSwgd2ViZ2wgbnVtZXJpIGNvbnN0YW50c1xuICAgICAqIEByZXR1cm5zIHtXZWJHTFRleHR1cmV9XG4gICAgICovXG4gICAgY3JlYXRlVGV4dHVyZTogZnVuY3Rpb24oZ2wsIHdpZHRoLCBoZWlnaHQsIHRleHR1cmVJbWFnZVNvdXJjZSwgZmlsdGVyVHlwZSkge1xuICAgICAgdmFyIHRleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XG4gICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlKTtcbiAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBmaWx0ZXJUeXBlIHx8IGdsLk5FQVJFU1QpO1xuICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGZpbHRlclR5cGUgfHwgZ2wuTkVBUkVTVCk7XG4gICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1QsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgaWYgKHRleHR1cmVJbWFnZVNvdXJjZSkge1xuICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIHRleHR1cmVJbWFnZVNvdXJjZSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5SR0JBLCB3aWR0aCwgaGVpZ2h0LCAwLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBudWxsKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYW4gYmUgb3B0aW9uYWxseSB1c2VkIHRvIGdldCBhIHRleHR1cmUgZnJvbSB0aGUgY2FjaGUgYXJyYXlcbiAgICAgKlxuICAgICAqIElmIGFuIGV4aXN0aW5nIHRleHR1cmUgaXMgbm90IGZvdW5kLCBhIG5ldyB0ZXh0dXJlIGlzIGNyZWF0ZWQgYW5kIGNhY2hlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB1bmlxdWVJZCBBIGNhY2hlIGtleSB0byB1c2UgdG8gZmluZCBhbiBleGlzdGluZyB0ZXh0dXJlLlxuICAgICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH0gdGV4dHVyZUltYWdlU291cmNlIEEgc291cmNlIHRvIHVzZSB0byBjcmVhdGUgdGhlXG4gICAgICogdGV4dHVyZSBjYWNoZSBlbnRyeSBpZiBvbmUgZG9lcyBub3QgYWxyZWFkeSBleGlzdC5cbiAgICAgKi9cbiAgICBnZXRDYWNoZWRUZXh0dXJlOiBmdW5jdGlvbih1bmlxdWVJZCwgdGV4dHVyZUltYWdlU291cmNlKSB7XG4gICAgICBpZiAodGhpcy50ZXh0dXJlQ2FjaGVbdW5pcXVlSWRdKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRleHR1cmVDYWNoZVt1bmlxdWVJZF07XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLmNyZWF0ZVRleHR1cmUoXG4gICAgICAgICAgdGhpcy5nbCwgdGV4dHVyZUltYWdlU291cmNlLndpZHRoLCB0ZXh0dXJlSW1hZ2VTb3VyY2UuaGVpZ2h0LCB0ZXh0dXJlSW1hZ2VTb3VyY2UpO1xuICAgICAgICB0aGlzLnRleHR1cmVDYWNoZVt1bmlxdWVJZF0gPSB0ZXh0dXJlO1xuICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2xlYXIgb3V0IGNhY2hlZCByZXNvdXJjZXMgcmVsYXRlZCB0byBhIHNvdXJjZSBpbWFnZSB0aGF0IGhhcyBiZWVuXG4gICAgICogZmlsdGVyZWQgcHJldmlvdXNseS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjYWNoZUtleSBUaGUgY2FjaGUga2V5IHByb3ZpZGVkIHdoZW4gdGhlIHNvdXJjZSBpbWFnZSB3YXMgZmlsdGVyZWQuXG4gICAgICovXG4gICAgZXZpY3RDYWNoZXNGb3JLZXk6IGZ1bmN0aW9uKGNhY2hlS2V5KSB7XG4gICAgICBpZiAodGhpcy50ZXh0dXJlQ2FjaGVbY2FjaGVLZXldKSB7XG4gICAgICAgIHRoaXMuZ2wuZGVsZXRlVGV4dHVyZSh0aGlzLnRleHR1cmVDYWNoZVtjYWNoZUtleV0pO1xuICAgICAgICBkZWxldGUgdGhpcy50ZXh0dXJlQ2FjaGVbY2FjaGVLZXldO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBjb3B5R0xUbzJEOiBjb3B5R0xUbzJERHJhd0ltYWdlLFxuXG4gICAgLyoqXG4gICAgICogQXR0ZW1wdCB0byBleHRyYWN0IEdQVSBpbmZvcm1hdGlvbiBzdHJpbmdzIGZyb20gYSBXZWJHTCBjb250ZXh0LlxuICAgICAqXG4gICAgICogVXNlZnVsIGluZm9ybWF0aW9uIHdoZW4gZGVidWdnaW5nIG9yIGJsYWNrbGlzdGluZyBzcGVjaWZpYyBHUFVzLlxuICAgICAqXG4gICAgICogQHJldHVybnMge09iamVjdH0gQSBHUFUgaW5mbyBvYmplY3Qgd2l0aCByZW5kZXJlciBhbmQgdmVuZG9yIHN0cmluZ3MuXG4gICAgICovXG4gICAgY2FwdHVyZUdQVUluZm86IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuZ3B1SW5mbykge1xuICAgICAgICByZXR1cm4gdGhpcy5ncHVJbmZvO1xuICAgICAgfVxuICAgICAgdmFyIGdsID0gdGhpcy5nbCwgZ3B1SW5mbyA9IHsgcmVuZGVyZXI6ICcnLCB2ZW5kb3I6ICcnIH07XG4gICAgICBpZiAoIWdsKSB7XG4gICAgICAgIHJldHVybiBncHVJbmZvO1xuICAgICAgfVxuICAgICAgdmFyIGV4dCA9IGdsLmdldEV4dGVuc2lvbignV0VCR0xfZGVidWdfcmVuZGVyZXJfaW5mbycpO1xuICAgICAgaWYgKGV4dCkge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSBnbC5nZXRQYXJhbWV0ZXIoZXh0LlVOTUFTS0VEX1JFTkRFUkVSX1dFQkdMKTtcbiAgICAgICAgdmFyIHZlbmRvciA9IGdsLmdldFBhcmFtZXRlcihleHQuVU5NQVNLRURfVkVORE9SX1dFQkdMKTtcbiAgICAgICAgaWYgKHJlbmRlcmVyKSB7XG4gICAgICAgICAgZ3B1SW5mby5yZW5kZXJlciA9IHJlbmRlcmVyLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZlbmRvcikge1xuICAgICAgICAgIGdwdUluZm8udmVuZG9yID0gdmVuZG9yLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuZ3B1SW5mbyA9IGdwdUluZm87XG4gICAgICByZXR1cm4gZ3B1SW5mbztcbiAgICB9LFxuICB9O1xufSkoKTtcblxuZnVuY3Rpb24gcmVzaXplQ2FudmFzSWZOZWVkZWQocGlwZWxpbmVTdGF0ZSkge1xuICB2YXIgdGFyZ2V0Q2FudmFzID0gcGlwZWxpbmVTdGF0ZS50YXJnZXRDYW52YXMsXG4gICAgICB3aWR0aCA9IHRhcmdldENhbnZhcy53aWR0aCwgaGVpZ2h0ID0gdGFyZ2V0Q2FudmFzLmhlaWdodCxcbiAgICAgIGRXaWR0aCA9IHBpcGVsaW5lU3RhdGUuZGVzdGluYXRpb25XaWR0aCxcbiAgICAgIGRIZWlnaHQgPSBwaXBlbGluZVN0YXRlLmRlc3RpbmF0aW9uSGVpZ2h0O1xuXG4gIGlmICh3aWR0aCAhPT0gZFdpZHRoIHx8IGhlaWdodCAhPT0gZEhlaWdodCkge1xuICAgIHRhcmdldENhbnZhcy53aWR0aCA9IGRXaWR0aDtcbiAgICB0YXJnZXRDYW52YXMuaGVpZ2h0ID0gZEhlaWdodDtcbiAgfVxufVxuXG4vKipcbiAqIENvcHkgYW4gaW5wdXQgV2ViR0wgY2FudmFzIG9uIHRvIGFuIG91dHB1dCAyRCBjYW52YXMuXG4gKlxuICogVGhlIFdlYkdMIGNhbnZhcyBpcyBhc3N1bWVkIHRvIGJlIHVwc2lkZSBkb3duLCB3aXRoIHRoZSB0b3AtbGVmdCBwaXhlbCBvZiB0aGVcbiAqIGRlc2lyZWQgb3V0cHV0IGltYWdlIGFwcGVhcmluZyBpbiB0aGUgYm90dG9tLWxlZnQgY29ybmVyIG9mIHRoZSBXZWJHTCBjYW52YXMuXG4gKlxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IHNvdXJjZUNvbnRleHQgVGhlIFdlYkdMIGNvbnRleHQgdG8gY29weSBmcm9tLlxuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gdGFyZ2V0Q2FudmFzIFRoZSAyRCB0YXJnZXQgY2FudmFzIHRvIGNvcHkgb24gdG8uXG4gKiBAcGFyYW0ge09iamVjdH0gcGlwZWxpbmVTdGF0ZSBUaGUgMkQgdGFyZ2V0IGNhbnZhcyB0byBjb3B5IG9uIHRvLlxuICovXG5mdW5jdGlvbiBjb3B5R0xUbzJERHJhd0ltYWdlKGdsLCBwaXBlbGluZVN0YXRlKSB7XG4gIHZhciBnbENhbnZhcyA9IGdsLmNhbnZhcywgdGFyZ2V0Q2FudmFzID0gcGlwZWxpbmVTdGF0ZS50YXJnZXRDYW52YXMsXG4gICAgICBjdHggPSB0YXJnZXRDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgY3R4LnRyYW5zbGF0ZSgwLCB0YXJnZXRDYW52YXMuaGVpZ2h0KTsgLy8gbW92ZSBpdCBkb3duIGFnYWluXG4gIGN0eC5zY2FsZSgxLCAtMSk7IC8vIHZlcnRpY2FsIGZsaXBcbiAgLy8gd2hlcmUgaXMgbXkgaW1hZ2Ugb24gdGhlIGJpZyBnbGNhbnZhcz9cbiAgdmFyIHNvdXJjZVkgPSBnbENhbnZhcy5oZWlnaHQgLSB0YXJnZXRDYW52YXMuaGVpZ2h0O1xuICBjdHguZHJhd0ltYWdlKGdsQ2FudmFzLCAwLCBzb3VyY2VZLCB0YXJnZXRDYW52YXMud2lkdGgsIHRhcmdldENhbnZhcy5oZWlnaHQsIDAsIDAsXG4gICAgdGFyZ2V0Q2FudmFzLndpZHRoLCB0YXJnZXRDYW52YXMuaGVpZ2h0KTtcbn1cblxuLyoqXG4gKiBDb3B5IGFuIGlucHV0IFdlYkdMIGNhbnZhcyBvbiB0byBhbiBvdXRwdXQgMkQgY2FudmFzIHVzaW5nIDJkIGNhbnZhcycgcHV0SW1hZ2VEYXRhXG4gKiBBUEkuIE1lYXN1cmFibHkgZmFzdGVyIHRoYW4gdXNpbmcgY3R4LmRyYXdJbWFnZSBpbiBGaXJlZm94ICh2ZXJzaW9uIDU0IG9uIE9TWCBTaWVycmEpLlxuICpcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBzb3VyY2VDb250ZXh0IFRoZSBXZWJHTCBjb250ZXh0IHRvIGNvcHkgZnJvbS5cbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IHRhcmdldENhbnZhcyBUaGUgMkQgdGFyZ2V0IGNhbnZhcyB0byBjb3B5IG9uIHRvLlxuICogQHBhcmFtIHtPYmplY3R9IHBpcGVsaW5lU3RhdGUgVGhlIDJEIHRhcmdldCBjYW52YXMgdG8gY29weSBvbiB0by5cbiAqL1xuZnVuY3Rpb24gY29weUdMVG8yRFB1dEltYWdlRGF0YShnbCwgcGlwZWxpbmVTdGF0ZSkge1xuICB2YXIgdGFyZ2V0Q2FudmFzID0gcGlwZWxpbmVTdGF0ZS50YXJnZXRDYW52YXMsIGN0eCA9IHRhcmdldENhbnZhcy5nZXRDb250ZXh0KCcyZCcpLFxuICAgICAgZFdpZHRoID0gcGlwZWxpbmVTdGF0ZS5kZXN0aW5hdGlvbldpZHRoLFxuICAgICAgZEhlaWdodCA9IHBpcGVsaW5lU3RhdGUuZGVzdGluYXRpb25IZWlnaHQsXG4gICAgICBudW1CeXRlcyA9IGRXaWR0aCAqIGRIZWlnaHQgKiA0O1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICB2YXIgdTggPSBuZXcgVWludDhBcnJheSh0aGlzLmltYWdlQnVmZmVyLCAwLCBudW1CeXRlcyk7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICB2YXIgdThDbGFtcGVkID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHRoaXMuaW1hZ2VCdWZmZXIsIDAsIG51bUJ5dGVzKTtcblxuICBnbC5yZWFkUGl4ZWxzKDAsIDAsIGRXaWR0aCwgZEhlaWdodCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgdTgpO1xuICB2YXIgaW1nRGF0YSA9IG5ldyBJbWFnZURhdGEodThDbGFtcGVkLCBkV2lkdGgsIGRIZWlnaHQpO1xuICBjdHgucHV0SW1hZ2VEYXRhKGltZ0RhdGEsIDAsIDApO1xufVxuXG5cbihmdW5jdGlvbigpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIG5vb3AgPSBmdW5jdGlvbigpIHt9O1xuXG4gIGZhYnJpYy5DYW52YXMyZEZpbHRlckJhY2tlbmQgPSBDYW52YXMyZEZpbHRlckJhY2tlbmQ7XG5cbiAgLyoqXG4gICAqIENhbnZhcyAyRCBmaWx0ZXIgYmFja2VuZC5cbiAgICovXG4gIGZ1bmN0aW9uIENhbnZhczJkRmlsdGVyQmFja2VuZCgpIHt9O1xuXG4gIENhbnZhczJkRmlsdGVyQmFja2VuZC5wcm90b3R5cGUgPSAvKiogQGxlbmRzIGZhYnJpYy5DYW52YXMyZEZpbHRlckJhY2tlbmQucHJvdG90eXBlICovIHtcbiAgICBldmljdENhY2hlc0ZvcktleTogbm9vcCxcbiAgICBkaXNwb3NlOiBub29wLFxuICAgIGNsZWFyV2ViR0xDYWNoZXM6IG5vb3AsXG5cbiAgICAvKipcbiAgICAgKiBFeHBlcmltZW50YWwuIFRoaXMgb2JqZWN0IGlzIGEgc29ydCBvZiByZXBvc2l0b3J5IG9mIGhlbHAgbGF5ZXJzIHVzZWQgdG8gYXZvaWRcbiAgICAgKiBvZiByZWNyZWF0aW5nIHRoZW0gZHVyaW5nIGZyZXF1ZW50IGZpbHRlcmluZy4gSWYgeW91IGFyZSBwcmV2aWV3aW5nIGEgZmlsdGVyIHdpdGhcbiAgICAgKiBhIHNsaWRlciB5b3UgcHJvYmFibHkgZG8gbm90IHdhbnQgdG8gY3JlYXRlIGhlbHAgbGF5ZXJzIGV2ZXJ5IGZpbHRlciBzdGVwLlxuICAgICAqIGluIHRoaXMgb2JqZWN0IHRoZXJlIHdpbGwgYmUgYXBwZW5kZWQgc29tZSBjYW52YXNlcywgY3JlYXRlZCBvbmNlLCByZXNpemVkIHNvbWV0aW1lc1xuICAgICAqIGNsZWFyZWQgbmV2ZXIuIENsZWFyaW5nIGlzIGxlZnQgdG8gdGhlIGRldmVsb3Blci5cbiAgICAgKiovXG4gICAgcmVzb3VyY2VzOiB7XG5cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQXBwbHkgYSBzZXQgb2YgZmlsdGVycyBhZ2FpbnN0IGEgc291cmNlIGltYWdlIGFuZCBkcmF3IHRoZSBmaWx0ZXJlZCBvdXRwdXRcbiAgICAgKiB0byB0aGUgcHJvdmlkZWQgZGVzdGluYXRpb24gY2FudmFzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFbmhhbmNlZEZpbHRlcn0gZmlsdGVycyBUaGUgZmlsdGVyIHRvIGFwcGx5LlxuICAgICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH0gc291cmNlRWxlbWVudCBUaGUgc291cmNlIHRvIGJlIGZpbHRlcmVkLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzb3VyY2VXaWR0aCBUaGUgd2lkdGggb2YgdGhlIHNvdXJjZSBpbnB1dC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc291cmNlSGVpZ2h0IFRoZSBoZWlnaHQgb2YgdGhlIHNvdXJjZSBpbnB1dC5cbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSB0YXJnZXRDYW52YXMgVGhlIGRlc3RpbmF0aW9uIGZvciBmaWx0ZXJlZCBvdXRwdXQgdG8gYmUgZHJhd24uXG4gICAgICovXG4gICAgYXBwbHlGaWx0ZXJzOiBmdW5jdGlvbihmaWx0ZXJzLCBzb3VyY2VFbGVtZW50LCBzb3VyY2VXaWR0aCwgc291cmNlSGVpZ2h0LCB0YXJnZXRDYW52YXMpIHtcbiAgICAgIHZhciBjdHggPSB0YXJnZXRDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgIGN0eC5kcmF3SW1hZ2Uoc291cmNlRWxlbWVudCwgMCwgMCwgc291cmNlV2lkdGgsIHNvdXJjZUhlaWdodCk7XG4gICAgICB2YXIgaW1hZ2VEYXRhID0gY3R4LmdldEltYWdlRGF0YSgwLCAwLCBzb3VyY2VXaWR0aCwgc291cmNlSGVpZ2h0KTtcbiAgICAgIHZhciBvcmlnaW5hbEltYWdlRGF0YSA9IGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgc291cmNlV2lkdGgsIHNvdXJjZUhlaWdodCk7XG4gICAgICB2YXIgcGlwZWxpbmVTdGF0ZSA9IHtcbiAgICAgICAgc291cmNlV2lkdGg6IHNvdXJjZVdpZHRoLFxuICAgICAgICBzb3VyY2VIZWlnaHQ6IHNvdXJjZUhlaWdodCxcbiAgICAgICAgaW1hZ2VEYXRhOiBpbWFnZURhdGEsXG4gICAgICAgIG9yaWdpbmFsRWw6IHNvdXJjZUVsZW1lbnQsXG4gICAgICAgIG9yaWdpbmFsSW1hZ2VEYXRhOiBvcmlnaW5hbEltYWdlRGF0YSxcbiAgICAgICAgY2FudmFzRWw6IHRhcmdldENhbnZhcyxcbiAgICAgICAgY3R4OiBjdHgsXG4gICAgICAgIGZpbHRlckJhY2tlbmQ6IHRoaXMsXG4gICAgICB9O1xuICAgICAgZmlsdGVycy5mb3JFYWNoKGZ1bmN0aW9uKGZpbHRlcikgeyBmaWx0ZXIuYXBwbHlUbyhwaXBlbGluZVN0YXRlKTsgfSk7XG4gICAgICBpZiAocGlwZWxpbmVTdGF0ZS5pbWFnZURhdGEud2lkdGggIT09IHNvdXJjZVdpZHRoIHx8IHBpcGVsaW5lU3RhdGUuaW1hZ2VEYXRhLmhlaWdodCAhPT0gc291cmNlSGVpZ2h0KSB7XG4gICAgICAgIHRhcmdldENhbnZhcy53aWR0aCA9IHBpcGVsaW5lU3RhdGUuaW1hZ2VEYXRhLndpZHRoO1xuICAgICAgICB0YXJnZXRDYW52YXMuaGVpZ2h0ID0gcGlwZWxpbmVTdGF0ZS5pbWFnZURhdGEuaGVpZ2h0O1xuICAgICAgfVxuICAgICAgY3R4LnB1dEltYWdlRGF0YShwaXBlbGluZVN0YXRlLmltYWdlRGF0YSwgMCwgMCk7XG4gICAgICByZXR1cm4gcGlwZWxpbmVTdGF0ZTtcbiAgICB9LFxuXG4gIH07XG59KSgpO1xuXG5cbi8qKlxuICogQG5hbWVzcGFjZSBmYWJyaWMuSW1hZ2UuZmlsdGVyc1xuICogQG1lbWJlck9mIGZhYnJpYy5JbWFnZVxuICogQHR1dG9yaWFsIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ZhYnJpYy1pbnRyby1wYXJ0LTIjaW1hZ2VfZmlsdGVyc31cbiAqIEBzZWUge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vaW1hZ2UtZmlsdGVyc3xJbWFnZUZpbHRlcnMgZGVtb31cbiAqL1xuZmFicmljLkltYWdlID0gZmFicmljLkltYWdlIHx8IHsgfTtcbmZhYnJpYy5JbWFnZS5maWx0ZXJzID0gZmFicmljLkltYWdlLmZpbHRlcnMgfHwgeyB9O1xuXG4vKipcbiAqIFJvb3QgZmlsdGVyIGNsYXNzIGZyb20gd2hpY2ggYWxsIGZpbHRlciBjbGFzc2VzIGluaGVyaXQgZnJvbVxuICogQGNsYXNzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXJcbiAqIEBtZW1iZXJPZiBmYWJyaWMuSW1hZ2UuZmlsdGVyc1xuICovXG5mYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3MoLyoqIEBsZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyLnByb3RvdHlwZSAqLyB7XG5cbiAgLyoqXG4gICAqIEZpbHRlciB0eXBlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gICAqIEBkZWZhdWx0XG4gICAqL1xuICB0eXBlOiAnQmFzZUZpbHRlcicsXG5cbiAgLyoqXG4gICAqIEFycmF5IG9mIGF0dHJpYnV0ZXMgdG8gc2VuZCB3aXRoIGJ1ZmZlcnMuIGRvIG5vdCBtb2RpZnlcbiAgICogQHByaXZhdGVcbiAgICovXG5cbiAgdmVydGV4U291cmNlOiAnYXR0cmlidXRlIHZlYzIgYVBvc2l0aW9uO1xcbicgK1xuICAgICd2YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbicgK1xuICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAndlRleENvb3JkID0gYVBvc2l0aW9uO1xcbicgK1xuICAgICAgJ2dsX1Bvc2l0aW9uID0gdmVjNChhUG9zaXRpb24gKiAyLjAgLSAxLjAsIDAuMCwgMS4wKTtcXG4nICtcbiAgICAnfScsXG5cbiAgZnJhZ21lbnRTb3VyY2U6ICdwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuJyArXG4gICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbicgK1xuICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAnZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQpO1xcbicgK1xuICAgICd9JyxcblxuICAvKipcbiAgICogQ29uc3RydWN0b3JcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgKi9cbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zKSB7XG4gICAgICB0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBTZXRzIGZpbHRlcidzIHByb3BlcnRpZXMgZnJvbSBvcHRpb25zXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICovXG4gIHNldE9wdGlvbnM6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICBmb3IgKHZhciBwcm9wIGluIG9wdGlvbnMpIHtcbiAgICAgIHRoaXNbcHJvcF0gPSBvcHRpb25zW3Byb3BdO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQ29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlciBwcm9ncmFtLlxuICAgKlxuICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHRvIHVzZSBmb3Igc2hhZGVyIGNvbXBpbGF0aW9uLlxuICAgKiBAcGFyYW0ge1N0cmluZ30gZnJhZ21lbnRTb3VyY2UgZnJhZ21lbnRTaGFkZXIgc291cmNlIGZvciBjb21waWxhdGlvblxuICAgKiBAcGFyYW0ge1N0cmluZ30gdmVydGV4U291cmNlIHZlcnRleFNoYWRlciBzb3VyY2UgZm9yIGNvbXBpbGF0aW9uXG4gICAqL1xuICBjcmVhdGVQcm9ncmFtOiBmdW5jdGlvbihnbCwgZnJhZ21lbnRTb3VyY2UsIHZlcnRleFNvdXJjZSkge1xuICAgIGZyYWdtZW50U291cmNlID0gZnJhZ21lbnRTb3VyY2UgfHwgdGhpcy5mcmFnbWVudFNvdXJjZTtcbiAgICB2ZXJ0ZXhTb3VyY2UgPSB2ZXJ0ZXhTb3VyY2UgfHwgdGhpcy52ZXJ0ZXhTb3VyY2U7XG4gICAgaWYgKGZhYnJpYy53ZWJHbFByZWNpc2lvbiAhPT0gJ2hpZ2hwJyl7XG4gICAgICBmcmFnbWVudFNvdXJjZSA9IGZyYWdtZW50U291cmNlLnJlcGxhY2UoXG4gICAgICAgIC9wcmVjaXNpb24gaGlnaHAgZmxvYXQvZyxcbiAgICAgICAgJ3ByZWNpc2lvbiAnICsgZmFicmljLndlYkdsUHJlY2lzaW9uICsgJyBmbG9hdCdcbiAgICAgICk7XG4gICAgfVxuICAgIHZhciB2ZXJ0ZXhTaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIoZ2wuVkVSVEVYX1NIQURFUik7XG4gICAgZ2wuc2hhZGVyU291cmNlKHZlcnRleFNoYWRlciwgdmVydGV4U291cmNlKTtcbiAgICBnbC5jb21waWxlU2hhZGVyKHZlcnRleFNoYWRlcik7XG4gICAgaWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIodmVydGV4U2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci10ZW1wbGF0ZVxuICAgICAgICAnVmVydGV4IHNoYWRlciBjb21waWxlIGVycm9yIGZvciAnICsgdGhpcy50eXBlICsgJzogJyArXG4gICAgICAgIGdsLmdldFNoYWRlckluZm9Mb2codmVydGV4U2hhZGVyKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICB2YXIgZnJhZ21lbnRTaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIoZ2wuRlJBR01FTlRfU0hBREVSKTtcbiAgICBnbC5zaGFkZXJTb3VyY2UoZnJhZ21lbnRTaGFkZXIsIGZyYWdtZW50U291cmNlKTtcbiAgICBnbC5jb21waWxlU2hhZGVyKGZyYWdtZW50U2hhZGVyKTtcbiAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcihmcmFnbWVudFNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItdGVtcGxhdGVcbiAgICAgICAgJ0ZyYWdtZW50IHNoYWRlciBjb21waWxlIGVycm9yIGZvciAnICsgdGhpcy50eXBlICsgJzogJyArXG4gICAgICAgIGdsLmdldFNoYWRlckluZm9Mb2coZnJhZ21lbnRTaGFkZXIpXG4gICAgICApO1xuICAgIH1cblxuICAgIHZhciBwcm9ncmFtID0gZ2wuY3JlYXRlUHJvZ3JhbSgpO1xuICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCB2ZXJ0ZXhTaGFkZXIpO1xuICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBmcmFnbWVudFNoYWRlcik7XG4gICAgZ2wubGlua1Byb2dyYW0ocHJvZ3JhbSk7XG4gICAgaWYgKCFnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkxJTktfU1RBVFVTKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLXRlbXBsYXRlXG4gICAgICAgICdTaGFkZXIgbGluayBlcnJvciBmb3IgXCIke3RoaXMudHlwZX1cIiAnICtcbiAgICAgICAgZ2wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdmFyIGF0dHJpYnV0ZUxvY2F0aW9ucyA9IHRoaXMuZ2V0QXR0cmlidXRlTG9jYXRpb25zKGdsLCBwcm9ncmFtKTtcbiAgICB2YXIgdW5pZm9ybUxvY2F0aW9ucyA9IHRoaXMuZ2V0VW5pZm9ybUxvY2F0aW9ucyhnbCwgcHJvZ3JhbSkgfHwgeyB9O1xuICAgIHVuaWZvcm1Mb2NhdGlvbnMudVN0ZXBXID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1U3RlcFcnKTtcbiAgICB1bmlmb3JtTG9jYXRpb25zLnVTdGVwSCA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndVN0ZXBIJyk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByb2dyYW06IHByb2dyYW0sXG4gICAgICBhdHRyaWJ1dGVMb2NhdGlvbnM6IGF0dHJpYnV0ZUxvY2F0aW9ucyxcbiAgICAgIHVuaWZvcm1Mb2NhdGlvbnM6IHVuaWZvcm1Mb2NhdGlvbnNcbiAgICB9O1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm4gYSBtYXAgb2YgYXR0cmlidXRlIG5hbWVzIHRvIFdlYkdMQXR0cmlidXRlTG9jYXRpb24gb2JqZWN0cy5cbiAgICpcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhlIHNoYWRlciBwcm9ncmFtLlxuICAgKiBAcGFyYW0ge1dlYkdMU2hhZGVyUHJvZ3JhbX0gcHJvZ3JhbSBUaGUgc2hhZGVyIHByb2dyYW0gZnJvbSB3aGljaCB0byB0YWtlIGF0dHJpYnV0ZSBsb2NhdGlvbnMuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IEEgbWFwIG9mIGF0dHJpYnV0ZSBuYW1lcyB0byBhdHRyaWJ1dGUgbG9jYXRpb25zLlxuICAgKi9cbiAgZ2V0QXR0cmlidXRlTG9jYXRpb25zOiBmdW5jdGlvbihnbCwgcHJvZ3JhbSkge1xuICAgIHJldHVybiB7XG4gICAgICBhUG9zaXRpb246IGdsLmdldEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sICdhUG9zaXRpb24nKSxcbiAgICB9O1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm4gYSBtYXAgb2YgdW5pZm9ybSBuYW1lcyB0byBXZWJHTFVuaWZvcm1Mb2NhdGlvbiBvYmplY3RzLlxuICAgKlxuICAgKiBJbnRlbmRlZCB0byBiZSBvdmVycmlkZGVuIGJ5IHN1YmNsYXNzZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoZSBzaGFkZXIgcHJvZ3JhbS5cbiAgICogQHBhcmFtIHtXZWJHTFNoYWRlclByb2dyYW19IHByb2dyYW0gVGhlIHNoYWRlciBwcm9ncmFtIGZyb20gd2hpY2ggdG8gdGFrZSB1bmlmb3JtIGxvY2F0aW9ucy5cbiAgICogQHJldHVybnMge09iamVjdH0gQSBtYXAgb2YgdW5pZm9ybSBuYW1lcyB0byB1bmlmb3JtIGxvY2F0aW9ucy5cbiAgICovXG4gIGdldFVuaWZvcm1Mb2NhdGlvbnM6IGZ1bmN0aW9uICgvKiBnbCwgcHJvZ3JhbSAqLykge1xuICAgIC8vIGluIGNhc2UgaSBkbyBub3QgbmVlZCBhbnkgc3BlY2lhbCB1bmlmb3JtIGkgbmVlZCB0byByZXR1cm4gYW4gZW1wdHkgb2JqZWN0XG4gICAgcmV0dXJuIHsgfTtcbiAgfSxcblxuICAvKipcbiAgICogU2VuZCBhdHRyaWJ1dGUgZGF0YSBmcm9tIHRoaXMgZmlsdGVyIHRvIGl0cyBzaGFkZXIgcHJvZ3JhbSBvbiB0aGUgR1BVLlxuICAgKlxuICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGUgc2hhZGVyIHByb2dyYW0uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhdHRyaWJ1dGVMb2NhdGlvbnMgQSBtYXAgb2Ygc2hhZGVyIGF0dHJpYnV0ZSBuYW1lcyB0byB0aGVpciBsb2NhdGlvbnMuXG4gICAqL1xuICBzZW5kQXR0cmlidXRlRGF0YTogZnVuY3Rpb24oZ2wsIGF0dHJpYnV0ZUxvY2F0aW9ucywgYVBvc2l0aW9uRGF0YSkge1xuICAgIHZhciBhdHRyaWJ1dGVMb2NhdGlvbiA9IGF0dHJpYnV0ZUxvY2F0aW9ucy5hUG9zaXRpb247XG4gICAgdmFyIGJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBidWZmZXIpO1xuICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGF0dHJpYnV0ZUxvY2F0aW9uKTtcbiAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGF0dHJpYnV0ZUxvY2F0aW9uLCAyLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xuICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBhUG9zaXRpb25EYXRhLCBnbC5TVEFUSUNfRFJBVyk7XG4gIH0sXG5cbiAgX3NldHVwRnJhbWVCdWZmZXI6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICB2YXIgZ2wgPSBvcHRpb25zLmNvbnRleHQsIHdpZHRoLCBoZWlnaHQ7XG4gICAgaWYgKG9wdGlvbnMucGFzc2VzID4gMSkge1xuICAgICAgd2lkdGggPSBvcHRpb25zLmRlc3RpbmF0aW9uV2lkdGg7XG4gICAgICBoZWlnaHQgPSBvcHRpb25zLmRlc3RpbmF0aW9uSGVpZ2h0O1xuICAgICAgaWYgKG9wdGlvbnMuc291cmNlV2lkdGggIT09IHdpZHRoIHx8IG9wdGlvbnMuc291cmNlSGVpZ2h0ICE9PSBoZWlnaHQpIHtcbiAgICAgICAgZ2wuZGVsZXRlVGV4dHVyZShvcHRpb25zLnRhcmdldFRleHR1cmUpO1xuICAgICAgICBvcHRpb25zLnRhcmdldFRleHR1cmUgPSBvcHRpb25zLmZpbHRlckJhY2tlbmQuY3JlYXRlVGV4dHVyZShnbCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICB9XG4gICAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAsIGdsLlRFWFRVUkVfMkQsXG4gICAgICAgIG9wdGlvbnMudGFyZ2V0VGV4dHVyZSwgMCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgLy8gZHJhdyBsYXN0IGZpbHRlciBvbiBjYW52YXMgYW5kIG5vdCB0byBmcmFtZWJ1ZmZlci5cbiAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgbnVsbCk7XG4gICAgICBnbC5maW5pc2goKTtcbiAgICB9XG4gIH0sXG5cbiAgX3N3YXBUZXh0dXJlczogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIG9wdGlvbnMucGFzc2VzLS07XG4gICAgb3B0aW9ucy5wYXNzKys7XG4gICAgdmFyIHRlbXAgPSBvcHRpb25zLnRhcmdldFRleHR1cmU7XG4gICAgb3B0aW9ucy50YXJnZXRUZXh0dXJlID0gb3B0aW9ucy5zb3VyY2VUZXh0dXJlO1xuICAgIG9wdGlvbnMuc291cmNlVGV4dHVyZSA9IHRlbXA7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdlbmVyaWMgaXNOZXV0cmFsIGltcGxlbWVudGF0aW9uIGZvciBvbmUgcGFyYW1ldGVyIGJhc2VkIGZpbHRlcnMuXG4gICAqIFVzZWQgb25seSBpbiBpbWFnZSBhcHBseUZpbHRlcnMgdG8gZGlzY2FyZCBmaWx0ZXJzIHRoYXQgd2lsbCBub3QgaGF2ZSBhbiBlZmZlY3RcbiAgICogb24gdGhlIGltYWdlXG4gICAqIE90aGVyIGZpbHRlcnMgbWF5IG5lZWQgdGhlaXIgb3duIHZlcnNpb24gKCBDb2xvck1hdHJpeCwgSHVlUm90YXRpb24sIGdhbW1hLCBDb21wb3NlZEZpbHRlciApXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqKi9cbiAgaXNOZXV0cmFsU3RhdGU6IGZ1bmN0aW9uKC8qIG9wdGlvbnMgKi8pIHtcbiAgICB2YXIgbWFpbiA9IHRoaXMubWFpblBhcmFtZXRlcixcbiAgICAgICAgX2NsYXNzID0gZmFicmljLkltYWdlLmZpbHRlcnNbdGhpcy50eXBlXS5wcm90b3R5cGU7XG4gICAgaWYgKG1haW4pIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KF9jbGFzc1ttYWluXSkpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IF9jbGFzc1ttYWluXS5sZW5ndGg7IGktLTspIHtcbiAgICAgICAgICBpZiAodGhpc1ttYWluXVtpXSAhPT0gX2NsYXNzW21haW5dW2ldKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBfY2xhc3NbbWFpbl0gPT09IHRoaXNbbWFpbl07XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQXBwbHkgdGhpcyBmaWx0ZXIgdG8gdGhlIGlucHV0IGltYWdlIGRhdGEgcHJvdmlkZWQuXG4gICAqXG4gICAqIERldGVybWluZXMgd2hldGhlciB0byB1c2UgV2ViR0wgb3IgQ2FudmFzMkQgYmFzZWQgb24gdGhlIG9wdGlvbnMud2ViZ2wgZmxhZy5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IG9wdGlvbnMucGFzc2VzIFRoZSBudW1iZXIgb2YgZmlsdGVycyByZW1haW5pbmcgdG8gYmUgZXhlY3V0ZWRcbiAgICogQHBhcmFtIHtCb29sZWFufSBvcHRpb25zLndlYmdsIFdoZXRoZXIgdG8gdXNlIHdlYmdsIHRvIHJlbmRlciB0aGUgZmlsdGVyLlxuICAgKiBAcGFyYW0ge1dlYkdMVGV4dHVyZX0gb3B0aW9ucy5zb3VyY2VUZXh0dXJlIFRoZSB0ZXh0dXJlIHNldHVwIGFzIHRoZSBzb3VyY2UgdG8gYmUgZmlsdGVyZWQuXG4gICAqIEBwYXJhbSB7V2ViR0xUZXh0dXJlfSBvcHRpb25zLnRhcmdldFRleHR1cmUgVGhlIHRleHR1cmUgd2hlcmUgZmlsdGVyZWQgb3V0cHV0IHNob3VsZCBiZSBkcmF3bi5cbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IG9wdGlvbnMuY29udGV4dCBUaGUgR0wgY29udGV4dCB1c2VkIGZvciByZW5kZXJpbmcuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLnByb2dyYW1DYWNoZSBBIG1hcCBvZiBjb21waWxlZCBzaGFkZXIgcHJvZ3JhbXMsIGtleWVkIGJ5IGZpbHRlciB0eXBlLlxuICAgKi9cbiAgYXBwbHlUbzogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zLndlYmdsKSB7XG4gICAgICB0aGlzLl9zZXR1cEZyYW1lQnVmZmVyKG9wdGlvbnMpO1xuICAgICAgdGhpcy5hcHBseVRvV2ViR0wob3B0aW9ucyk7XG4gICAgICB0aGlzLl9zd2FwVGV4dHVyZXMob3B0aW9ucyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5hcHBseVRvMmQob3B0aW9ucyk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgdGhlIGNhY2hlZCBzaGFkZXIuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBvcHRpb25zLmNvbnRleHQgVGhlIEdMIGNvbnRleHQgdXNlZCBmb3IgcmVuZGVyaW5nLlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucy5wcm9ncmFtQ2FjaGUgQSBtYXAgb2YgY29tcGlsZWQgc2hhZGVyIHByb2dyYW1zLCBrZXllZCBieSBmaWx0ZXIgdHlwZS5cbiAgICovXG4gIHJldHJpZXZlU2hhZGVyOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zLnByb2dyYW1DYWNoZS5oYXNPd25Qcm9wZXJ0eSh0aGlzLnR5cGUpKSB7XG4gICAgICBvcHRpb25zLnByb2dyYW1DYWNoZVt0aGlzLnR5cGVdID0gdGhpcy5jcmVhdGVQcm9ncmFtKG9wdGlvbnMuY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBvcHRpb25zLnByb2dyYW1DYWNoZVt0aGlzLnR5cGVdO1xuICB9LFxuXG4gIC8qKlxuICAgKiBBcHBseSB0aGlzIGZpbHRlciB1c2luZyB3ZWJnbC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IG9wdGlvbnMucGFzc2VzIFRoZSBudW1iZXIgb2YgZmlsdGVycyByZW1haW5pbmcgdG8gYmUgZXhlY3V0ZWRcbiAgICogQHBhcmFtIHtCb29sZWFufSBvcHRpb25zLndlYmdsIFdoZXRoZXIgdG8gdXNlIHdlYmdsIHRvIHJlbmRlciB0aGUgZmlsdGVyLlxuICAgKiBAcGFyYW0ge1dlYkdMVGV4dHVyZX0gb3B0aW9ucy5vcmlnaW5hbFRleHR1cmUgVGhlIHRleHR1cmUgb2YgdGhlIG9yaWdpbmFsIGlucHV0IGltYWdlLlxuICAgKiBAcGFyYW0ge1dlYkdMVGV4dHVyZX0gb3B0aW9ucy5zb3VyY2VUZXh0dXJlIFRoZSB0ZXh0dXJlIHNldHVwIGFzIHRoZSBzb3VyY2UgdG8gYmUgZmlsdGVyZWQuXG4gICAqIEBwYXJhbSB7V2ViR0xUZXh0dXJlfSBvcHRpb25zLnRhcmdldFRleHR1cmUgVGhlIHRleHR1cmUgd2hlcmUgZmlsdGVyZWQgb3V0cHV0IHNob3VsZCBiZSBkcmF3bi5cbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IG9wdGlvbnMuY29udGV4dCBUaGUgR0wgY29udGV4dCB1c2VkIGZvciByZW5kZXJpbmcuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLnByb2dyYW1DYWNoZSBBIG1hcCBvZiBjb21waWxlZCBzaGFkZXIgcHJvZ3JhbXMsIGtleWVkIGJ5IGZpbHRlciB0eXBlLlxuICAgKi9cbiAgYXBwbHlUb1dlYkdMOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgdmFyIGdsID0gb3B0aW9ucy5jb250ZXh0O1xuICAgIHZhciBzaGFkZXIgPSB0aGlzLnJldHJpZXZlU2hhZGVyKG9wdGlvbnMpO1xuICAgIGlmIChvcHRpb25zLnBhc3MgPT09IDAgJiYgb3B0aW9ucy5vcmlnaW5hbFRleHR1cmUpIHtcbiAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIG9wdGlvbnMub3JpZ2luYWxUZXh0dXJlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBvcHRpb25zLnNvdXJjZVRleHR1cmUpO1xuICAgIH1cbiAgICBnbC51c2VQcm9ncmFtKHNoYWRlci5wcm9ncmFtKTtcbiAgICB0aGlzLnNlbmRBdHRyaWJ1dGVEYXRhKGdsLCBzaGFkZXIuYXR0cmlidXRlTG9jYXRpb25zLCBvcHRpb25zLmFQb3NpdGlvbik7XG5cbiAgICBnbC51bmlmb3JtMWYoc2hhZGVyLnVuaWZvcm1Mb2NhdGlvbnMudVN0ZXBXLCAxIC8gb3B0aW9ucy5zb3VyY2VXaWR0aCk7XG4gICAgZ2wudW5pZm9ybTFmKHNoYWRlci51bmlmb3JtTG9jYXRpb25zLnVTdGVwSCwgMSAvIG9wdGlvbnMuc291cmNlSGVpZ2h0KTtcblxuICAgIHRoaXMuc2VuZFVuaWZvcm1EYXRhKGdsLCBzaGFkZXIudW5pZm9ybUxvY2F0aW9ucyk7XG4gICAgZ2wudmlld3BvcnQoMCwgMCwgb3B0aW9ucy5kZXN0aW5hdGlvbldpZHRoLCBvcHRpb25zLmRlc3RpbmF0aW9uSGVpZ2h0KTtcbiAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX1NUUklQLCAwLCA0KTtcbiAgfSxcblxuICBiaW5kQWRkaXRpb25hbFRleHR1cmU6IGZ1bmN0aW9uKGdsLCB0ZXh0dXJlLCB0ZXh0dXJlVW5pdCkge1xuICAgIGdsLmFjdGl2ZVRleHR1cmUodGV4dHVyZVVuaXQpO1xuICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmUpO1xuICAgIC8vIHJlc2V0IGFjdGl2ZSB0ZXh0dXJlIHRvIDAgYXMgdXN1YWxcbiAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwKTtcbiAgfSxcblxuICB1bmJpbmRBZGRpdGlvbmFsVGV4dHVyZTogZnVuY3Rpb24oZ2wsIHRleHR1cmVVbml0KSB7XG4gICAgZ2wuYWN0aXZlVGV4dHVyZSh0ZXh0dXJlVW5pdCk7XG4gICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgbnVsbCk7XG4gICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCk7XG4gIH0sXG5cbiAgZ2V0TWFpblBhcmFtZXRlcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXNbdGhpcy5tYWluUGFyYW1ldGVyXTtcbiAgfSxcblxuICBzZXRNYWluUGFyYW1ldGVyOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHRoaXNbdGhpcy5tYWluUGFyYW1ldGVyXSA9IHZhbHVlO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTZW5kIHVuaWZvcm0gZGF0YSBmcm9tIHRoaXMgZmlsdGVyIHRvIGl0cyBzaGFkZXIgcHJvZ3JhbSBvbiB0aGUgR1BVLlxuICAgKlxuICAgKiBJbnRlbmRlZCB0byBiZSBvdmVycmlkZGVuIGJ5IHN1YmNsYXNzZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoZSBzaGFkZXIgcHJvZ3JhbS5cbiAgICogQHBhcmFtIHtPYmplY3R9IHVuaWZvcm1Mb2NhdGlvbnMgQSBtYXAgb2Ygc2hhZGVyIHVuaWZvcm0gbmFtZXMgdG8gdGhlaXIgbG9jYXRpb25zLlxuICAgKi9cbiAgc2VuZFVuaWZvcm1EYXRhOiBmdW5jdGlvbigvKiBnbCwgdW5pZm9ybUxvY2F0aW9ucyAqLykge1xuICAgIC8vIEludGVudGlvbmFsbHkgbGVmdCBibGFuay4gIE92ZXJyaWRlIG1lIGluIHN1YmNsYXNzZXMuXG4gIH0sXG5cbiAgLyoqXG4gICAqIElmIG5lZWRlZCBieSBhIDJkIGZpbHRlciwgdGhpcyBmdW5jdGlvbnMgY2FuIGNyZWF0ZSBhbiBoZWxwZXIgY2FudmFzIHRvIGJlIHVzZWRcbiAgICogcmVtZW1iZXIgdGhhdCBvcHRpb25zLnRhcmdldENhbnZhcyBpcyBhdmFpbGFibGUgZm9yIHVzZSB0aWxsIGVuZCBvZiBjaGFpbi5cbiAgICovXG4gIGNyZWF0ZUhlbHBMYXllcjogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucy5oZWxwTGF5ZXIpIHtcbiAgICAgIHZhciBoZWxwTGF5ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgIGhlbHBMYXllci53aWR0aCA9IG9wdGlvbnMuc291cmNlV2lkdGg7XG4gICAgICBoZWxwTGF5ZXIuaGVpZ2h0ID0gb3B0aW9ucy5zb3VyY2VIZWlnaHQ7XG4gICAgICBvcHRpb25zLmhlbHBMYXllciA9IGhlbHBMYXllcjtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybnMgb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAqL1xuICB0b09iamVjdDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIG9iamVjdCA9IHsgdHlwZTogdGhpcy50eXBlIH0sIG1haW5QID0gdGhpcy5tYWluUGFyYW1ldGVyO1xuICAgIGlmIChtYWluUCkge1xuICAgICAgb2JqZWN0W21haW5QXSA9IHRoaXNbbWFpblBdO1xuICAgIH1cbiAgICByZXR1cm4gb2JqZWN0O1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgKiBAcmV0dXJuIHtPYmplY3R9IEpTT05cbiAgICovXG4gIHRvSlNPTjogZnVuY3Rpb24oKSB7XG4gICAgLy8gZGVsZWdhdGUsIG5vdCBhbGlhc1xuICAgIHJldHVybiB0aGlzLnRvT2JqZWN0KCk7XG4gIH1cbn0pO1xuXG5mYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyLmZyb21PYmplY3QgPSBmdW5jdGlvbihvYmplY3QsIGNhbGxiYWNrKSB7XG4gIHZhciBmaWx0ZXIgPSBuZXcgZmFicmljLkltYWdlLmZpbHRlcnNbb2JqZWN0LnR5cGVdKG9iamVjdCk7XG4gIGNhbGxiYWNrICYmIGNhbGxiYWNrKGZpbHRlcik7XG4gIHJldHVybiBmaWx0ZXI7XG59O1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyAgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIGZpbHRlcnMgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycyxcbiAgICAgIGNyZWF0ZUNsYXNzID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3M7XG5cbiAgLyoqXG4gICAqIENvbG9yIE1hdHJpeCBmaWx0ZXIgY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkNvbG9yTWF0cml4XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuSW1hZ2UuZmlsdGVyc1xuICAgKiBAZXh0ZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyXG4gICAqIEBzZWUge0BsaW5rIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkNvbG9yTWF0cml4I2luaXRpYWxpemV9IGZvciBjb25zdHJ1Y3RvciBkZWZpbml0aW9uXG4gICAqIEBzZWUge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vaW1hZ2UtZmlsdGVyc3xJbWFnZUZpbHRlcnMgZGVtb31cbiAgICogQHNlZSB7QExpbmsgaHR0cDovL3d3dy53ZWJ3YXNwLmNvLnVrL3R1dG9yaWFscy8yMTkvQ29sb3JfTWF0cml4X0ZpbHRlci5waHB9XG4gICAqIEBzZWUge0BMaW5rIGh0dHA6Ly9waG9ib3NsYWIub3JnL2xvZy8yMDEzLzExL2Zhc3QtaW1hZ2UtZmlsdGVycy13aXRoLXdlYmdsfVxuICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5Lb2RhY2hyb21lIGZpbHRlcjwvY2FwdGlvbj5cbiAgICogdmFyIGZpbHRlciA9IG5ldyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db2xvck1hdHJpeCh7XG4gICAqICBtYXRyaXg6IFtcbiAgICAgICAxLjEyODU1ODIzOTY1OTM1MjUsIC0wLjM5NjczODIyODM2MDEzNDgsIC0wLjAzOTkyNTU5MTcyOTIxNzkzLCAwLCA2My43Mjk1ODc2MjE5NjUwMixcbiAgICAgICAtMC4xNjQwNDMzOTk2MjI0NDYxNiwgMS4wODM1MjUxNTY2MjkxMzA0LCAtMC4wNTQ5ODgwNTExNTYzMzEzMiwgMCwgMjQuNzMyNDA3ODk2NzA2MjAzLFxuICAgICAgIC0wLjE2Nzg2MDEwNzA2MTU1NzYzLCAtMC41NjAzNDE2Mjc3Njk1MjQ4LCAxLjYwMTQ4NTA3NjE5NjQ5NDMsIDAsIDM1LjYyOTgyODA3NDYwOTQ2LFxuICAgICAgIDAsIDAsIDAsIDEsIDBcbiAgICAgIF1cbiAgICogfSk7XG4gICAqIG9iamVjdC5maWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgICogb2JqZWN0LmFwcGx5RmlsdGVycygpO1xuICAgKi9cbiAgZmlsdGVycy5Db2xvck1hdHJpeCA9IGNyZWF0ZUNsYXNzKGZpbHRlcnMuQmFzZUZpbHRlciwgLyoqIEBsZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db2xvck1hdHJpeC5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogRmlsdGVyIHR5cGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHlwZTogJ0NvbG9yTWF0cml4JyxcblxuICAgIGZyYWdtZW50U291cmNlOiAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbicgK1xuICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAndW5pZm9ybSBtYXQ0IHVDb2xvck1hdHJpeDtcXG4nICtcbiAgICAgICd1bmlmb3JtIHZlYzQgdUNvbnN0YW50cztcXG4nICtcbiAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICd2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQpO1xcbicgK1xuICAgICAgICAnY29sb3IgKj0gdUNvbG9yTWF0cml4O1xcbicgK1xuICAgICAgICAnY29sb3IgKz0gdUNvbnN0YW50cztcXG4nICtcbiAgICAgICAgJ2dsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbicgK1xuICAgICAgJ30nLFxuXG4gICAgLyoqXG4gICAgICogQ29sb3JtYXRyaXggZm9yIHBpeGVscy5cbiAgICAgKiBhcnJheSBvZiAyMCBmbG9hdHMuIE51bWJlcnMgaW4gcG9zaXRpb25zIDQsIDksIDE0LCAxOSBsb29zZSBtZWFuaW5nXG4gICAgICogb3V0c2lkZSB0aGUgLTEsIDEgcmFuZ2UuXG4gICAgICogMC4wMDM5MjE1Njg2IGlzIHRoZSBwYXJ0IG9mIDEgdGhhdCBnZXQgdHJhbnNsYXRlZCB0byAxIGluIDJkXG4gICAgICogQHBhcmFtIHtBcnJheX0gbWF0cml4IGFycmF5IG9mIDIwIG51bWJlcnMuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBtYXRyaXg6IFtcbiAgICAgIDEsIDAsIDAsIDAsIDAsXG4gICAgICAwLCAxLCAwLCAwLCAwLFxuICAgICAgMCwgMCwgMSwgMCwgMCxcbiAgICAgIDAsIDAsIDAsIDEsIDBcbiAgICBdLFxuXG4gICAgbWFpblBhcmFtZXRlcjogJ21hdHJpeCcsXG5cbiAgICAvKipcbiAgICAgKiBMb2NrIHRoZSBjb2xvcm1hdHJpeCBvbiB0aGUgY29sb3IgcGFydCwgc2tpcHBpbmcgYWxwaGEsIG1haW5seSBmb3Igbm9uIHdlYmdsIHNjZW5hcmlvXG4gICAgICogdG8gc2F2ZSBzb21lIGNhbGN1bGF0aW9uXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgKi9cbiAgICBjb2xvcnNPbmx5OiB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAgICovXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdGhpcy5jYWxsU3VwZXIoJ2luaXRpYWxpemUnLCBvcHRpb25zKTtcbiAgICAgIC8vIGNyZWF0ZSBhIG5ldyBhcnJheSBpbnN0ZWFkIG11dGF0aW5nIHRoZSBwcm90b3R5cGUgd2l0aCBwdXNoXG4gICAgICB0aGlzLm1hdHJpeCA9IHRoaXMubWF0cml4LnNsaWNlKDApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBcHBseSB0aGUgQ29sb3JNYXRyaXggb3BlcmF0aW9uIHRvIGEgVWludDhBcnJheSByZXByZXNlbnRpbmcgdGhlIHBpeGVscyBvZiBhbiBpbWFnZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHBhcmFtIHtJbWFnZURhdGF9IG9wdGlvbnMuaW1hZ2VEYXRhIFRoZSBVaW50OEFycmF5IHRvIGJlIGZpbHRlcmVkLlxuICAgICAqL1xuICAgIGFwcGx5VG8yZDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdmFyIGltYWdlRGF0YSA9IG9wdGlvbnMuaW1hZ2VEYXRhLFxuICAgICAgICAgIGRhdGEgPSBpbWFnZURhdGEuZGF0YSxcbiAgICAgICAgICBpTGVuID0gZGF0YS5sZW5ndGgsXG4gICAgICAgICAgbSA9IHRoaXMubWF0cml4LFxuICAgICAgICAgIHIsIGcsIGIsIGEsIGksIGNvbG9yc09ubHkgPSB0aGlzLmNvbG9yc09ubHk7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBpTGVuOyBpICs9IDQpIHtcbiAgICAgICAgciA9IGRhdGFbaV07XG4gICAgICAgIGcgPSBkYXRhW2kgKyAxXTtcbiAgICAgICAgYiA9IGRhdGFbaSArIDJdO1xuICAgICAgICBpZiAoY29sb3JzT25seSkge1xuICAgICAgICAgIGRhdGFbaV0gPSByICogbVswXSArIGcgKiBtWzFdICsgYiAqIG1bMl0gKyBtWzRdICogMjU1O1xuICAgICAgICAgIGRhdGFbaSArIDFdID0gciAqIG1bNV0gKyBnICogbVs2XSArIGIgKiBtWzddICsgbVs5XSAqIDI1NTtcbiAgICAgICAgICBkYXRhW2kgKyAyXSA9IHIgKiBtWzEwXSArIGcgKiBtWzExXSArIGIgKiBtWzEyXSArIG1bMTRdICogMjU1O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGEgPSBkYXRhW2kgKyAzXTtcbiAgICAgICAgICBkYXRhW2ldID0gciAqIG1bMF0gKyBnICogbVsxXSArIGIgKiBtWzJdICsgYSAqIG1bM10gKyBtWzRdICogMjU1O1xuICAgICAgICAgIGRhdGFbaSArIDFdID0gciAqIG1bNV0gKyBnICogbVs2XSArIGIgKiBtWzddICsgYSAqIG1bOF0gKyBtWzldICogMjU1O1xuICAgICAgICAgIGRhdGFbaSArIDJdID0gciAqIG1bMTBdICsgZyAqIG1bMTFdICsgYiAqIG1bMTJdICsgYSAqIG1bMTNdICsgbVsxNF0gKiAyNTU7XG4gICAgICAgICAgZGF0YVtpICsgM10gPSByICogbVsxNV0gKyBnICogbVsxNl0gKyBiICogbVsxN10gKyBhICogbVsxOF0gKyBtWzE5XSAqIDI1NTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gV2ViR0wgdW5pZm9ybSBsb2NhdGlvbnMgZm9yIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtXZWJHTFNoYWRlclByb2dyYW19IHByb2dyYW0gVGhpcyBmaWx0ZXIncyBjb21waWxlZCBzaGFkZXIgcHJvZ3JhbS5cbiAgICAgKi9cbiAgICBnZXRVbmlmb3JtTG9jYXRpb25zOiBmdW5jdGlvbihnbCwgcHJvZ3JhbSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdUNvbG9yTWF0cml4OiBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VDb2xvck1hdHJpeCcpLFxuICAgICAgICB1Q29uc3RhbnRzOiBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VDb25zdGFudHMnKSxcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNlbmQgZGF0YSBmcm9tIHRoaXMgZmlsdGVyIHRvIGl0cyBzaGFkZXIgcHJvZ3JhbSdzIHVuaWZvcm1zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHVuaWZvcm1Mb2NhdGlvbnMgQSBtYXAgb2Ygc3RyaW5nIHVuaWZvcm0gbmFtZXMgdG8gV2ViR0xVbmlmb3JtTG9jYXRpb24gb2JqZWN0c1xuICAgICAqL1xuICAgIHNlbmRVbmlmb3JtRGF0YTogZnVuY3Rpb24oZ2wsIHVuaWZvcm1Mb2NhdGlvbnMpIHtcbiAgICAgIHZhciBtID0gdGhpcy5tYXRyaXgsXG4gICAgICAgICAgbWF0cml4ID0gW1xuICAgICAgICAgICAgbVswXSwgbVsxXSwgbVsyXSwgbVszXSxcbiAgICAgICAgICAgIG1bNV0sIG1bNl0sIG1bN10sIG1bOF0sXG4gICAgICAgICAgICBtWzEwXSwgbVsxMV0sIG1bMTJdLCBtWzEzXSxcbiAgICAgICAgICAgIG1bMTVdLCBtWzE2XSwgbVsxN10sIG1bMThdXG4gICAgICAgICAgXSxcbiAgICAgICAgICBjb25zdGFudHMgPSBbbVs0XSwgbVs5XSwgbVsxNF0sIG1bMTldXTtcbiAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYodW5pZm9ybUxvY2F0aW9ucy51Q29sb3JNYXRyaXgsIGZhbHNlLCBtYXRyaXgpO1xuICAgICAgZ2wudW5pZm9ybTRmdih1bmlmb3JtTG9jYXRpb25zLnVDb25zdGFudHMsIGNvbnN0YW50cyk7XG4gICAgfSxcbiAgfSk7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgZmlsdGVyIGluc3RhbmNlIGZyb20gYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uXG4gICAqIEBzdGF0aWNcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY3JlYXRlIGFuIGluc3RhbmNlIGZyb21cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2NhbGxiYWNrXSBmdW5jdGlvbiB0byBpbnZva2UgYWZ0ZXIgZmlsdGVyIGNyZWF0aW9uXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JbWFnZS5maWx0ZXJzLkNvbG9yTWF0cml4fSBJbnN0YW5jZSBvZiBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db2xvck1hdHJpeFxuICAgKi9cbiAgZmFicmljLkltYWdlLmZpbHRlcnMuQ29sb3JNYXRyaXguZnJvbU9iamVjdCA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXIuZnJvbU9iamVjdDtcbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBmYWJyaWMgID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSksXG4gICAgICBmaWx0ZXJzID0gZmFicmljLkltYWdlLmZpbHRlcnMsXG4gICAgICBjcmVhdGVDbGFzcyA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzO1xuXG4gIC8qKlxuICAgKiBCcmlnaHRuZXNzIGZpbHRlciBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkltYWdlLmZpbHRlcnMuQnJpZ2h0bmVzc1xuICAgKiBAbWVtYmVyT2YgZmFicmljLkltYWdlLmZpbHRlcnNcbiAgICogQGV4dGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlclxuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CcmlnaHRuZXNzI2luaXRpYWxpemV9IGZvciBjb25zdHJ1Y3RvciBkZWZpbml0aW9uXG4gICAqIEBzZWUge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vaW1hZ2UtZmlsdGVyc3xJbWFnZUZpbHRlcnMgZGVtb31cbiAgICogQGV4YW1wbGVcbiAgICogdmFyIGZpbHRlciA9IG5ldyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CcmlnaHRuZXNzKHtcbiAgICogICBicmlnaHRuZXNzOiAwLjA1XG4gICAqIH0pO1xuICAgKiBvYmplY3QuZmlsdGVycy5wdXNoKGZpbHRlcik7XG4gICAqIG9iamVjdC5hcHBseUZpbHRlcnMoKTtcbiAgICovXG4gIGZpbHRlcnMuQnJpZ2h0bmVzcyA9IGNyZWF0ZUNsYXNzKGZpbHRlcnMuQmFzZUZpbHRlciwgLyoqIEBsZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CcmlnaHRuZXNzLnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgdHlwZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0eXBlOiAnQnJpZ2h0bmVzcycsXG5cbiAgICAvKipcbiAgICAgKiBGcmFnbWVudCBzb3VyY2UgZm9yIHRoZSBicmlnaHRuZXNzIHByb2dyYW1cbiAgICAgKi9cbiAgICBmcmFnbWVudFNvdXJjZTogJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4nICtcbiAgICAgICd1bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZTtcXG4nICtcbiAgICAgICd1bmlmb3JtIGZsb2F0IHVCcmlnaHRuZXNzO1xcbicgK1xuICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAndmVjNCBjb2xvciA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKTtcXG4nICtcbiAgICAgICAgJ2NvbG9yLnJnYiArPSB1QnJpZ2h0bmVzcztcXG4nICtcbiAgICAgICAgJ2dsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbicgK1xuICAgICAgJ30nLFxuXG4gICAgLyoqXG4gICAgICogQnJpZ2h0bmVzcyB2YWx1ZSwgZnJvbSAtMSB0byAxLlxuICAgICAqIHRyYW5zbGF0ZWQgdG8gLTI1NSB0byAyNTUgZm9yIDJkXG4gICAgICogMC4wMDM5MjE1Njg2IGlzIHRoZSBwYXJ0IG9mIDEgdGhhdCBnZXQgdHJhbnNsYXRlZCB0byAxIGluIDJkXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGJyaWdodG5lc3NcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGJyaWdodG5lc3M6IDAsXG5cbiAgICAvKipcbiAgICAgKiBEZXNjcmliZSB0aGUgcHJvcGVydHkgdGhhdCBpcyB0aGUgZmlsdGVyIHBhcmFtZXRlclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBtYWluUGFyYW1ldGVyOiAnYnJpZ2h0bmVzcycsXG5cbiAgICAvKipcbiAgICAqIEFwcGx5IHRoZSBCcmlnaHRuZXNzIG9wZXJhdGlvbiB0byBhIFVpbnQ4Q2xhbXBlZEFycmF5IHJlcHJlc2VudGluZyB0aGUgcGl4ZWxzIG9mIGFuIGltYWdlLlxuICAgICpcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgKiBAcGFyYW0ge0ltYWdlRGF0YX0gb3B0aW9ucy5pbWFnZURhdGEgVGhlIFVpbnQ4Q2xhbXBlZEFycmF5IHRvIGJlIGZpbHRlcmVkLlxuICAgICovXG4gICAgYXBwbHlUbzJkOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBpZiAodGhpcy5icmlnaHRuZXNzID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBpbWFnZURhdGEgPSBvcHRpb25zLmltYWdlRGF0YSxcbiAgICAgICAgICBkYXRhID0gaW1hZ2VEYXRhLmRhdGEsIGksIGxlbiA9IGRhdGEubGVuZ3RoLFxuICAgICAgICAgIGJyaWdodG5lc3MgPSBNYXRoLnJvdW5kKHRoaXMuYnJpZ2h0bmVzcyAqIDI1NSk7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICAgICAgZGF0YVtpXSA9IGRhdGFbaV0gKyBicmlnaHRuZXNzO1xuICAgICAgICBkYXRhW2kgKyAxXSA9IGRhdGFbaSArIDFdICsgYnJpZ2h0bmVzcztcbiAgICAgICAgZGF0YVtpICsgMl0gPSBkYXRhW2kgKyAyXSArIGJyaWdodG5lc3M7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiBXZWJHTCB1bmlmb3JtIGxvY2F0aW9ucyBmb3IgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge1dlYkdMU2hhZGVyUHJvZ3JhbX0gcHJvZ3JhbSBUaGlzIGZpbHRlcidzIGNvbXBpbGVkIHNoYWRlciBwcm9ncmFtLlxuICAgICAqL1xuICAgIGdldFVuaWZvcm1Mb2NhdGlvbnM6IGZ1bmN0aW9uKGdsLCBwcm9ncmFtKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB1QnJpZ2h0bmVzczogZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1QnJpZ2h0bmVzcycpLFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2VuZCBkYXRhIGZyb20gdGhpcyBmaWx0ZXIgdG8gaXRzIHNoYWRlciBwcm9ncmFtJ3MgdW5pZm9ybXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdW5pZm9ybUxvY2F0aW9ucyBBIG1hcCBvZiBzdHJpbmcgdW5pZm9ybSBuYW1lcyB0byBXZWJHTFVuaWZvcm1Mb2NhdGlvbiBvYmplY3RzXG4gICAgICovXG4gICAgc2VuZFVuaWZvcm1EYXRhOiBmdW5jdGlvbihnbCwgdW5pZm9ybUxvY2F0aW9ucykge1xuICAgICAgZ2wudW5pZm9ybTFmKHVuaWZvcm1Mb2NhdGlvbnMudUJyaWdodG5lc3MsIHRoaXMuYnJpZ2h0bmVzcyk7XG4gICAgfSxcbiAgfSk7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgZmlsdGVyIGluc3RhbmNlIGZyb20gYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uXG4gICAqIEBzdGF0aWNcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY3JlYXRlIGFuIGluc3RhbmNlIGZyb21cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2NhbGxiYWNrXSB0byBiZSBpbnZva2VkIGFmdGVyIGZpbHRlciBjcmVhdGlvblxuICAgKiBAcmV0dXJuIHtmYWJyaWMuSW1hZ2UuZmlsdGVycy5CcmlnaHRuZXNzfSBJbnN0YW5jZSBvZiBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CcmlnaHRuZXNzXG4gICAqL1xuICBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CcmlnaHRuZXNzLmZyb21PYmplY3QgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyLmZyb21PYmplY3Q7XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBmYWJyaWMgID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSksXG4gICAgICBleHRlbmQgPSBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kLFxuICAgICAgZmlsdGVycyA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLFxuICAgICAgY3JlYXRlQ2xhc3MgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcztcblxuICAvKipcbiAgICogQWRhcHRlZCBmcm9tIDxhIGhyZWY9XCJodHRwOi8vd3d3Lmh0bWw1cm9ja3MuY29tL2VuL3R1dG9yaWFscy9jYW52YXMvaW1hZ2VmaWx0ZXJzL1wiPmh0bWw1cm9ja3MgYXJ0aWNsZTwvYT5cbiAgICogQGNsYXNzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkNvbnZvbHV0ZVxuICAgKiBAbWVtYmVyT2YgZmFicmljLkltYWdlLmZpbHRlcnNcbiAgICogQGV4dGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlclxuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db252b2x1dGUjaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICogQHNlZSB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9pbWFnZS1maWx0ZXJzfEltYWdlRmlsdGVycyBkZW1vfVxuICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5TaGFycGVuIGZpbHRlcjwvY2FwdGlvbj5cbiAgICogdmFyIGZpbHRlciA9IG5ldyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db252b2x1dGUoe1xuICAgKiAgIG1hdHJpeDogWyAwLCAtMSwgIDAsXG4gICAqICAgICAgICAgICAgLTEsICA1LCAtMSxcbiAgICogICAgICAgICAgICAgMCwgLTEsICAwIF1cbiAgICogfSk7XG4gICAqIG9iamVjdC5maWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgICogb2JqZWN0LmFwcGx5RmlsdGVycygpO1xuICAgKiBjYW52YXMucmVuZGVyQWxsKCk7XG4gICAqIEBleGFtcGxlIDxjYXB0aW9uPkJsdXIgZmlsdGVyPC9jYXB0aW9uPlxuICAgKiB2YXIgZmlsdGVyID0gbmV3IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkNvbnZvbHV0ZSh7XG4gICAqICAgbWF0cml4OiBbIDEvOSwgMS85LCAxLzksXG4gICAqICAgICAgICAgICAgIDEvOSwgMS85LCAxLzksXG4gICAqICAgICAgICAgICAgIDEvOSwgMS85LCAxLzkgXVxuICAgKiB9KTtcbiAgICogb2JqZWN0LmZpbHRlcnMucHVzaChmaWx0ZXIpO1xuICAgKiBvYmplY3QuYXBwbHlGaWx0ZXJzKCk7XG4gICAqIGNhbnZhcy5yZW5kZXJBbGwoKTtcbiAgICogQGV4YW1wbGUgPGNhcHRpb24+RW1ib3NzIGZpbHRlcjwvY2FwdGlvbj5cbiAgICogdmFyIGZpbHRlciA9IG5ldyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db252b2x1dGUoe1xuICAgKiAgIG1hdHJpeDogWyAxLCAgIDEsICAxLFxuICAgKiAgICAgICAgICAgICAxLCAwLjcsIC0xLFxuICAgKiAgICAgICAgICAgIC0xLCAgLTEsIC0xIF1cbiAgICogfSk7XG4gICAqIG9iamVjdC5maWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgICogb2JqZWN0LmFwcGx5RmlsdGVycygpO1xuICAgKiBjYW52YXMucmVuZGVyQWxsKCk7XG4gICAqIEBleGFtcGxlIDxjYXB0aW9uPkVtYm9zcyBmaWx0ZXIgd2l0aCBvcGFxdWVuZXNzPC9jYXB0aW9uPlxuICAgKiB2YXIgZmlsdGVyID0gbmV3IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkNvbnZvbHV0ZSh7XG4gICAqICAgb3BhcXVlOiB0cnVlLFxuICAgKiAgIG1hdHJpeDogWyAxLCAgIDEsICAxLFxuICAgKiAgICAgICAgICAgICAxLCAwLjcsIC0xLFxuICAgKiAgICAgICAgICAgIC0xLCAgLTEsIC0xIF1cbiAgICogfSk7XG4gICAqIG9iamVjdC5maWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgICogb2JqZWN0LmFwcGx5RmlsdGVycygpO1xuICAgKiBjYW52YXMucmVuZGVyQWxsKCk7XG4gICAqL1xuICBmaWx0ZXJzLkNvbnZvbHV0ZSA9IGNyZWF0ZUNsYXNzKGZpbHRlcnMuQmFzZUZpbHRlciwgLyoqIEBsZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db252b2x1dGUucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIEZpbHRlciB0eXBlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHR5cGU6ICdDb252b2x1dGUnLFxuXG4gICAgLypcbiAgICAgKiBPcGFxdWUgdmFsdWUgKHRydWUvZmFsc2UpXG4gICAgICovXG4gICAgb3BhcXVlOiBmYWxzZSxcblxuICAgIC8qXG4gICAgICogbWF0cml4IGZvciB0aGUgZmlsdGVyLCBtYXggOXg5XG4gICAgICovXG4gICAgbWF0cml4OiBbMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMF0sXG5cbiAgICAvKipcbiAgICAgKiBGcmFnbWVudCBzb3VyY2UgZm9yIHRoZSBicmlnaHRuZXNzIHByb2dyYW1cbiAgICAgKi9cbiAgICBmcmFnbWVudFNvdXJjZToge1xuICAgICAgQ29udm9sdXRlXzNfMTogJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBmbG9hdCB1TWF0cml4WzldO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBmbG9hdCB1U3RlcFc7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIGZsb2F0IHVTdGVwSDtcXG4nICtcbiAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICAgJ3ZlYzQgY29sb3IgPSB2ZWM0KDAsIDAsIDAsIDApO1xcbicgK1xuICAgICAgICAgICdmb3IgKGZsb2F0IGggPSAwLjA7IGggPCAzLjA7IGgrPTEuMCkge1xcbicgK1xuICAgICAgICAgICAgJ2ZvciAoZmxvYXQgdyA9IDAuMDsgdyA8IDMuMDsgdys9MS4wKSB7XFxuJyArXG4gICAgICAgICAgICAgICd2ZWMyIG1hdHJpeFBvcyA9IHZlYzIodVN0ZXBXICogKHcgLSAxKSwgdVN0ZXBIICogKGggLSAxKSk7XFxuJyArXG4gICAgICAgICAgICAgICdjb2xvciArPSB0ZXh0dXJlMkQodVRleHR1cmUsIHZUZXhDb29yZCArIG1hdHJpeFBvcykgKiB1TWF0cml4W2ludChoICogMy4wICsgdyldO1xcbicgK1xuICAgICAgICAgICAgJ31cXG4nICtcbiAgICAgICAgICAnfVxcbicgK1xuICAgICAgICAgICdnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG4nICtcbiAgICAgICAgJ30nLFxuICAgICAgQ29udm9sdXRlXzNfMDogJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBmbG9hdCB1TWF0cml4WzldO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBmbG9hdCB1U3RlcFc7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIGZsb2F0IHVTdGVwSDtcXG4nICtcbiAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICAgJ3ZlYzQgY29sb3IgPSB2ZWM0KDAsIDAsIDAsIDEpO1xcbicgK1xuICAgICAgICAgICdmb3IgKGZsb2F0IGggPSAwLjA7IGggPCAzLjA7IGgrPTEuMCkge1xcbicgK1xuICAgICAgICAgICAgJ2ZvciAoZmxvYXQgdyA9IDAuMDsgdyA8IDMuMDsgdys9MS4wKSB7XFxuJyArXG4gICAgICAgICAgICAgICd2ZWMyIG1hdHJpeFBvcyA9IHZlYzIodVN0ZXBXICogKHcgLSAxLjApLCB1U3RlcEggKiAoaCAtIDEuMCkpO1xcbicgK1xuICAgICAgICAgICAgICAnY29sb3IucmdiICs9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkICsgbWF0cml4UG9zKS5yZ2IgKiB1TWF0cml4W2ludChoICogMy4wICsgdyldO1xcbicgK1xuICAgICAgICAgICAgJ31cXG4nICtcbiAgICAgICAgICAnfVxcbicgK1xuICAgICAgICAgICdmbG9hdCBhbHBoYSA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKS5hO1xcbicgK1xuICAgICAgICAgICdnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG4nICtcbiAgICAgICAgICAnZ2xfRnJhZ0NvbG9yLmEgPSBhbHBoYTtcXG4nICtcbiAgICAgICAgJ30nLFxuICAgICAgQ29udm9sdXRlXzVfMTogJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBmbG9hdCB1TWF0cml4WzI1XTtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gZmxvYXQgdVN0ZXBXO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBmbG9hdCB1U3RlcEg7XFxuJyArXG4gICAgICAgICd2YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbicgK1xuICAgICAgICAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAgICd2ZWM0IGNvbG9yID0gdmVjNCgwLCAwLCAwLCAwKTtcXG4nICtcbiAgICAgICAgICAnZm9yIChmbG9hdCBoID0gMC4wOyBoIDwgNS4wOyBoKz0xLjApIHtcXG4nICtcbiAgICAgICAgICAgICdmb3IgKGZsb2F0IHcgPSAwLjA7IHcgPCA1LjA7IHcrPTEuMCkge1xcbicgK1xuICAgICAgICAgICAgICAndmVjMiBtYXRyaXhQb3MgPSB2ZWMyKHVTdGVwVyAqICh3IC0gMi4wKSwgdVN0ZXBIICogKGggLSAyLjApKTtcXG4nICtcbiAgICAgICAgICAgICAgJ2NvbG9yICs9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkICsgbWF0cml4UG9zKSAqIHVNYXRyaXhbaW50KGggKiA1LjAgKyB3KV07XFxuJyArXG4gICAgICAgICAgICAnfVxcbicgK1xuICAgICAgICAgICd9XFxuJyArXG4gICAgICAgICAgJ2dsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbicgK1xuICAgICAgICAnfScsXG4gICAgICBDb252b2x1dGVfNV8wOiAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgICAndW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIGZsb2F0IHVNYXRyaXhbMjVdO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBmbG9hdCB1U3RlcFc7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIGZsb2F0IHVTdGVwSDtcXG4nICtcbiAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICAgJ3ZlYzQgY29sb3IgPSB2ZWM0KDAsIDAsIDAsIDEpO1xcbicgK1xuICAgICAgICAgICdmb3IgKGZsb2F0IGggPSAwLjA7IGggPCA1LjA7IGgrPTEuMCkge1xcbicgK1xuICAgICAgICAgICAgJ2ZvciAoZmxvYXQgdyA9IDAuMDsgdyA8IDUuMDsgdys9MS4wKSB7XFxuJyArXG4gICAgICAgICAgICAgICd2ZWMyIG1hdHJpeFBvcyA9IHZlYzIodVN0ZXBXICogKHcgLSAyLjApLCB1U3RlcEggKiAoaCAtIDIuMCkpO1xcbicgK1xuICAgICAgICAgICAgICAnY29sb3IucmdiICs9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkICsgbWF0cml4UG9zKS5yZ2IgKiB1TWF0cml4W2ludChoICogNS4wICsgdyldO1xcbicgK1xuICAgICAgICAgICAgJ31cXG4nICtcbiAgICAgICAgICAnfVxcbicgK1xuICAgICAgICAgICdmbG9hdCBhbHBoYSA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKS5hO1xcbicgK1xuICAgICAgICAgICdnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG4nICtcbiAgICAgICAgICAnZ2xfRnJhZ0NvbG9yLmEgPSBhbHBoYTtcXG4nICtcbiAgICAgICAgJ30nLFxuICAgICAgQ29udm9sdXRlXzdfMTogJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBmbG9hdCB1TWF0cml4WzQ5XTtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gZmxvYXQgdVN0ZXBXO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBmbG9hdCB1U3RlcEg7XFxuJyArXG4gICAgICAgICd2YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbicgK1xuICAgICAgICAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAgICd2ZWM0IGNvbG9yID0gdmVjNCgwLCAwLCAwLCAwKTtcXG4nICtcbiAgICAgICAgICAnZm9yIChmbG9hdCBoID0gMC4wOyBoIDwgNy4wOyBoKz0xLjApIHtcXG4nICtcbiAgICAgICAgICAgICdmb3IgKGZsb2F0IHcgPSAwLjA7IHcgPCA3LjA7IHcrPTEuMCkge1xcbicgK1xuICAgICAgICAgICAgICAndmVjMiBtYXRyaXhQb3MgPSB2ZWMyKHVTdGVwVyAqICh3IC0gMy4wKSwgdVN0ZXBIICogKGggLSAzLjApKTtcXG4nICtcbiAgICAgICAgICAgICAgJ2NvbG9yICs9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkICsgbWF0cml4UG9zKSAqIHVNYXRyaXhbaW50KGggKiA3LjAgKyB3KV07XFxuJyArXG4gICAgICAgICAgICAnfVxcbicgK1xuICAgICAgICAgICd9XFxuJyArXG4gICAgICAgICAgJ2dsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbicgK1xuICAgICAgICAnfScsXG4gICAgICBDb252b2x1dGVfN18wOiAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgICAndW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIGZsb2F0IHVNYXRyaXhbNDldO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBmbG9hdCB1U3RlcFc7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIGZsb2F0IHVTdGVwSDtcXG4nICtcbiAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICAgJ3ZlYzQgY29sb3IgPSB2ZWM0KDAsIDAsIDAsIDEpO1xcbicgK1xuICAgICAgICAgICdmb3IgKGZsb2F0IGggPSAwLjA7IGggPCA3LjA7IGgrPTEuMCkge1xcbicgK1xuICAgICAgICAgICAgJ2ZvciAoZmxvYXQgdyA9IDAuMDsgdyA8IDcuMDsgdys9MS4wKSB7XFxuJyArXG4gICAgICAgICAgICAgICd2ZWMyIG1hdHJpeFBvcyA9IHZlYzIodVN0ZXBXICogKHcgLSAzLjApLCB1U3RlcEggKiAoaCAtIDMuMCkpO1xcbicgK1xuICAgICAgICAgICAgICAnY29sb3IucmdiICs9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkICsgbWF0cml4UG9zKS5yZ2IgKiB1TWF0cml4W2ludChoICogNy4wICsgdyldO1xcbicgK1xuICAgICAgICAgICAgJ31cXG4nICtcbiAgICAgICAgICAnfVxcbicgK1xuICAgICAgICAgICdmbG9hdCBhbHBoYSA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKS5hO1xcbicgK1xuICAgICAgICAgICdnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG4nICtcbiAgICAgICAgICAnZ2xfRnJhZ0NvbG9yLmEgPSBhbHBoYTtcXG4nICtcbiAgICAgICAgJ30nLFxuICAgICAgQ29udm9sdXRlXzlfMTogJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBmbG9hdCB1TWF0cml4WzgxXTtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gZmxvYXQgdVN0ZXBXO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBmbG9hdCB1U3RlcEg7XFxuJyArXG4gICAgICAgICd2YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbicgK1xuICAgICAgICAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAgICd2ZWM0IGNvbG9yID0gdmVjNCgwLCAwLCAwLCAwKTtcXG4nICtcbiAgICAgICAgICAnZm9yIChmbG9hdCBoID0gMC4wOyBoIDwgOS4wOyBoKz0xLjApIHtcXG4nICtcbiAgICAgICAgICAgICdmb3IgKGZsb2F0IHcgPSAwLjA7IHcgPCA5LjA7IHcrPTEuMCkge1xcbicgK1xuICAgICAgICAgICAgICAndmVjMiBtYXRyaXhQb3MgPSB2ZWMyKHVTdGVwVyAqICh3IC0gNC4wKSwgdVN0ZXBIICogKGggLSA0LjApKTtcXG4nICtcbiAgICAgICAgICAgICAgJ2NvbG9yICs9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkICsgbWF0cml4UG9zKSAqIHVNYXRyaXhbaW50KGggKiA5LjAgKyB3KV07XFxuJyArXG4gICAgICAgICAgICAnfVxcbicgK1xuICAgICAgICAgICd9XFxuJyArXG4gICAgICAgICAgJ2dsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbicgK1xuICAgICAgICAnfScsXG4gICAgICBDb252b2x1dGVfOV8wOiAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgICAndW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIGZsb2F0IHVNYXRyaXhbODFdO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBmbG9hdCB1U3RlcFc7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIGZsb2F0IHVTdGVwSDtcXG4nICtcbiAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICAgJ3ZlYzQgY29sb3IgPSB2ZWM0KDAsIDAsIDAsIDEpO1xcbicgK1xuICAgICAgICAgICdmb3IgKGZsb2F0IGggPSAwLjA7IGggPCA5LjA7IGgrPTEuMCkge1xcbicgK1xuICAgICAgICAgICAgJ2ZvciAoZmxvYXQgdyA9IDAuMDsgdyA8IDkuMDsgdys9MS4wKSB7XFxuJyArXG4gICAgICAgICAgICAgICd2ZWMyIG1hdHJpeFBvcyA9IHZlYzIodVN0ZXBXICogKHcgLSA0LjApLCB1U3RlcEggKiAoaCAtIDQuMCkpO1xcbicgK1xuICAgICAgICAgICAgICAnY29sb3IucmdiICs9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkICsgbWF0cml4UG9zKS5yZ2IgKiB1TWF0cml4W2ludChoICogOS4wICsgdyldO1xcbicgK1xuICAgICAgICAgICAgJ31cXG4nICtcbiAgICAgICAgICAnfVxcbicgK1xuICAgICAgICAgICdmbG9hdCBhbHBoYSA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKS5hO1xcbicgK1xuICAgICAgICAgICdnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG4nICtcbiAgICAgICAgICAnZ2xfRnJhZ0NvbG9yLmEgPSBhbHBoYTtcXG4nICtcbiAgICAgICAgJ30nLFxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db252b2x1dGUucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMub3BhcXVlPWZhbHNlXSBPcGFxdWUgdmFsdWUgKHRydWUvZmFsc2UpXG4gICAgICogQHBhcmFtIHtBcnJheX0gW29wdGlvbnMubWF0cml4XSBGaWx0ZXIgbWF0cml4XG4gICAgICovXG5cblxuICAgIC8qKlxuICAgICogUmV0cmlldmVzIHRoZSBjYWNoZWQgc2hhZGVyLlxuICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBvcHRpb25zLmNvbnRleHQgVGhlIEdMIGNvbnRleHQgdXNlZCBmb3IgcmVuZGVyaW5nLlxuICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMucHJvZ3JhbUNhY2hlIEEgbWFwIG9mIGNvbXBpbGVkIHNoYWRlciBwcm9ncmFtcywga2V5ZWQgYnkgZmlsdGVyIHR5cGUuXG4gICAgKi9cbiAgICByZXRyaWV2ZVNoYWRlcjogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdmFyIHNpemUgPSBNYXRoLnNxcnQodGhpcy5tYXRyaXgubGVuZ3RoKTtcbiAgICAgIHZhciBjYWNoZUtleSA9IHRoaXMudHlwZSArICdfJyArIHNpemUgKyAnXycgKyAodGhpcy5vcGFxdWUgPyAxIDogMCk7XG4gICAgICB2YXIgc2hhZGVyU291cmNlID0gdGhpcy5mcmFnbWVudFNvdXJjZVtjYWNoZUtleV07XG4gICAgICBpZiAoIW9wdGlvbnMucHJvZ3JhbUNhY2hlLmhhc093blByb3BlcnR5KGNhY2hlS2V5KSkge1xuICAgICAgICBvcHRpb25zLnByb2dyYW1DYWNoZVtjYWNoZUtleV0gPSB0aGlzLmNyZWF0ZVByb2dyYW0ob3B0aW9ucy5jb250ZXh0LCBzaGFkZXJTb3VyY2UpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9wdGlvbnMucHJvZ3JhbUNhY2hlW2NhY2hlS2V5XTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQXBwbHkgdGhlIEJyaWdodG5lc3Mgb3BlcmF0aW9uIHRvIGEgVWludDhDbGFtcGVkQXJyYXkgcmVwcmVzZW50aW5nIHRoZSBwaXhlbHMgb2YgYW4gaW1hZ2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7SW1hZ2VEYXRhfSBvcHRpb25zLmltYWdlRGF0YSBUaGUgVWludDhDbGFtcGVkQXJyYXkgdG8gYmUgZmlsdGVyZWQuXG4gICAgICovXG4gICAgYXBwbHlUbzJkOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICB2YXIgaW1hZ2VEYXRhID0gb3B0aW9ucy5pbWFnZURhdGEsXG4gICAgICAgICAgZGF0YSA9IGltYWdlRGF0YS5kYXRhLFxuICAgICAgICAgIHdlaWdodHMgPSB0aGlzLm1hdHJpeCxcbiAgICAgICAgICBzaWRlID0gTWF0aC5yb3VuZChNYXRoLnNxcnQod2VpZ2h0cy5sZW5ndGgpKSxcbiAgICAgICAgICBoYWxmU2lkZSA9IE1hdGguZmxvb3Ioc2lkZSAvIDIpLFxuICAgICAgICAgIHN3ID0gaW1hZ2VEYXRhLndpZHRoLFxuICAgICAgICAgIHNoID0gaW1hZ2VEYXRhLmhlaWdodCxcbiAgICAgICAgICBvdXRwdXQgPSBvcHRpb25zLmN0eC5jcmVhdGVJbWFnZURhdGEoc3csIHNoKSxcbiAgICAgICAgICBkc3QgPSBvdXRwdXQuZGF0YSxcbiAgICAgICAgICAvLyBnbyB0aHJvdWdoIHRoZSBkZXN0aW5hdGlvbiBpbWFnZSBwaXhlbHNcbiAgICAgICAgICBhbHBoYUZhYyA9IHRoaXMub3BhcXVlID8gMSA6IDAsXG4gICAgICAgICAgciwgZywgYiwgYSwgZHN0T2ZmLFxuICAgICAgICAgIHNjeCwgc2N5LCBzcmNPZmYsIHd0LFxuICAgICAgICAgIHgsIHksIGN4LCBjeTtcblxuICAgICAgZm9yICh5ID0gMDsgeSA8IHNoOyB5KyspIHtcbiAgICAgICAgZm9yICh4ID0gMDsgeCA8IHN3OyB4KyspIHtcbiAgICAgICAgICBkc3RPZmYgPSAoeSAqIHN3ICsgeCkgKiA0O1xuICAgICAgICAgIC8vIGNhbGN1bGF0ZSB0aGUgd2VpZ2hlZCBzdW0gb2YgdGhlIHNvdXJjZSBpbWFnZSBwaXhlbHMgdGhhdFxuICAgICAgICAgIC8vIGZhbGwgdW5kZXIgdGhlIGNvbnZvbHV0aW9uIG1hdHJpeFxuICAgICAgICAgIHIgPSAwOyBnID0gMDsgYiA9IDA7IGEgPSAwO1xuXG4gICAgICAgICAgZm9yIChjeSA9IDA7IGN5IDwgc2lkZTsgY3krKykge1xuICAgICAgICAgICAgZm9yIChjeCA9IDA7IGN4IDwgc2lkZTsgY3grKykge1xuICAgICAgICAgICAgICBzY3kgPSB5ICsgY3kgLSBoYWxmU2lkZTtcbiAgICAgICAgICAgICAgc2N4ID0geCArIGN4IC0gaGFsZlNpZGU7XG5cbiAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1kZXB0aFxuICAgICAgICAgICAgICBpZiAoc2N5IDwgMCB8fCBzY3kgPj0gc2ggfHwgc2N4IDwgMCB8fCBzY3ggPj0gc3cpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHNyY09mZiA9IChzY3kgKiBzdyArIHNjeCkgKiA0O1xuICAgICAgICAgICAgICB3dCA9IHdlaWdodHNbY3kgKiBzaWRlICsgY3hdO1xuXG4gICAgICAgICAgICAgIHIgKz0gZGF0YVtzcmNPZmZdICogd3Q7XG4gICAgICAgICAgICAgIGcgKz0gZGF0YVtzcmNPZmYgKyAxXSAqIHd0O1xuICAgICAgICAgICAgICBiICs9IGRhdGFbc3JjT2ZmICsgMl0gKiB3dDtcbiAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1kZXB0aFxuICAgICAgICAgICAgICBpZiAoIWFscGhhRmFjKSB7XG4gICAgICAgICAgICAgICAgYSArPSBkYXRhW3NyY09mZiArIDNdICogd3Q7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZHN0W2RzdE9mZl0gPSByO1xuICAgICAgICAgIGRzdFtkc3RPZmYgKyAxXSA9IGc7XG4gICAgICAgICAgZHN0W2RzdE9mZiArIDJdID0gYjtcbiAgICAgICAgICBpZiAoIWFscGhhRmFjKSB7XG4gICAgICAgICAgICBkc3RbZHN0T2ZmICsgM10gPSBhO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRzdFtkc3RPZmYgKyAzXSA9IGRhdGFbZHN0T2ZmICsgM107XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBvcHRpb25zLmltYWdlRGF0YSA9IG91dHB1dDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIFdlYkdMIHVuaWZvcm0gbG9jYXRpb25zIGZvciB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgR0wgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7V2ViR0xTaGFkZXJQcm9ncmFtfSBwcm9ncmFtIFRoaXMgZmlsdGVyJ3MgY29tcGlsZWQgc2hhZGVyIHByb2dyYW0uXG4gICAgICovXG4gICAgZ2V0VW5pZm9ybUxvY2F0aW9uczogZnVuY3Rpb24oZ2wsIHByb2dyYW0pIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVNYXRyaXg6IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndU1hdHJpeCcpLFxuICAgICAgICB1T3BhcXVlOiBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VPcGFxdWUnKSxcbiAgICAgICAgdUhhbGZTaXplOiBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VIYWxmU2l6ZScpLFxuICAgICAgICB1U2l6ZTogZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1U2l6ZScpLFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2VuZCBkYXRhIGZyb20gdGhpcyBmaWx0ZXIgdG8gaXRzIHNoYWRlciBwcm9ncmFtJ3MgdW5pZm9ybXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdW5pZm9ybUxvY2F0aW9ucyBBIG1hcCBvZiBzdHJpbmcgdW5pZm9ybSBuYW1lcyB0byBXZWJHTFVuaWZvcm1Mb2NhdGlvbiBvYmplY3RzXG4gICAgICovXG4gICAgc2VuZFVuaWZvcm1EYXRhOiBmdW5jdGlvbihnbCwgdW5pZm9ybUxvY2F0aW9ucykge1xuICAgICAgZ2wudW5pZm9ybTFmdih1bmlmb3JtTG9jYXRpb25zLnVNYXRyaXgsIHRoaXMubWF0cml4KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IE9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRvT2JqZWN0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBleHRlbmQodGhpcy5jYWxsU3VwZXIoJ3RvT2JqZWN0JyksIHtcbiAgICAgICAgb3BhcXVlOiB0aGlzLm9wYXF1ZSxcbiAgICAgICAgbWF0cml4OiB0aGlzLm1hdHJpeFxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICAvKipcbiAgICogUmV0dXJucyBmaWx0ZXIgaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIHRvIGJlIGludm9rZWQgYWZ0ZXIgZmlsdGVyIGNyZWF0aW9uXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JbWFnZS5maWx0ZXJzLkNvbnZvbHV0ZX0gSW5zdGFuY2Ugb2YgZmFicmljLkltYWdlLmZpbHRlcnMuQ29udm9sdXRlXG4gICAqL1xuICBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db252b2x1dGUuZnJvbU9iamVjdCA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXIuZnJvbU9iamVjdDtcblxufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyAgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIGZpbHRlcnMgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycyxcbiAgICAgIGNyZWF0ZUNsYXNzID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3M7XG5cbiAgLyoqXG4gICAqIEdyYXlzY2FsZSBpbWFnZSBmaWx0ZXIgY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkdyYXlzY2FsZVxuICAgKiBAbWVtYmVyT2YgZmFicmljLkltYWdlLmZpbHRlcnNcbiAgICogQGV4dGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlclxuICAgKiBAc2VlIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ltYWdlLWZpbHRlcnN8SW1hZ2VGaWx0ZXJzIGRlbW99XG4gICAqIEBleGFtcGxlXG4gICAqIHZhciBmaWx0ZXIgPSBuZXcgZmFicmljLkltYWdlLmZpbHRlcnMuR3JheXNjYWxlKCk7XG4gICAqIG9iamVjdC5maWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgICogb2JqZWN0LmFwcGx5RmlsdGVycygpO1xuICAgKi9cbiAgZmlsdGVycy5HcmF5c2NhbGUgPSBjcmVhdGVDbGFzcyhmaWx0ZXJzLkJhc2VGaWx0ZXIsIC8qKiBAbGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuR3JheXNjYWxlLnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgdHlwZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0eXBlOiAnR3JheXNjYWxlJyxcblxuICAgIGZyYWdtZW50U291cmNlOiB7XG4gICAgICBhdmVyYWdlOiAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgICAndW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuJyArXG4gICAgICAgICd2YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbicgK1xuICAgICAgICAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAgICd2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQpO1xcbicgK1xuICAgICAgICAgICdmbG9hdCBhdmVyYWdlID0gKGNvbG9yLnIgKyBjb2xvci5iICsgY29sb3IuZykgLyAzLjA7XFxuJyArXG4gICAgICAgICAgJ2dsX0ZyYWdDb2xvciA9IHZlYzQoYXZlcmFnZSwgYXZlcmFnZSwgYXZlcmFnZSwgY29sb3IuYSk7XFxuJyArXG4gICAgICAgICd9JyxcbiAgICAgIGxpZ2h0bmVzczogJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBpbnQgdU1vZGU7XFxuJyArXG4gICAgICAgICd2YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbicgK1xuICAgICAgICAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAgICd2ZWM0IGNvbCA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKTtcXG4nICtcbiAgICAgICAgICAnZmxvYXQgYXZlcmFnZSA9IChtYXgobWF4KGNvbC5yLCBjb2wuZyksY29sLmIpICsgbWluKG1pbihjb2wuciwgY29sLmcpLGNvbC5iKSkgLyAyLjA7XFxuJyArXG4gICAgICAgICAgJ2dsX0ZyYWdDb2xvciA9IHZlYzQoYXZlcmFnZSwgYXZlcmFnZSwgYXZlcmFnZSwgY29sLmEpO1xcbicgK1xuICAgICAgICAnfScsXG4gICAgICBsdW1pbm9zaXR5OiAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgICAndW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIGludCB1TW9kZTtcXG4nICtcbiAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICAgJ3ZlYzQgY29sID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQpO1xcbicgK1xuICAgICAgICAgICdmbG9hdCBhdmVyYWdlID0gMC4yMSAqIGNvbC5yICsgMC43MiAqIGNvbC5nICsgMC4wNyAqIGNvbC5iO1xcbicgK1xuICAgICAgICAgICdnbF9GcmFnQ29sb3IgPSB2ZWM0KGF2ZXJhZ2UsIGF2ZXJhZ2UsIGF2ZXJhZ2UsIGNvbC5hKTtcXG4nICtcbiAgICAgICAgJ30nLFxuICAgIH0sXG5cblxuICAgIC8qKlxuICAgICAqIEdyYXlzY2FsZSBtb2RlLCBiZXR3ZWVuICdhdmVyYWdlJywgJ2xpZ2h0bmVzcycsICdsdW1pbm9zaXR5J1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBtb2RlOiAnYXZlcmFnZScsXG5cbiAgICBtYWluUGFyYW1ldGVyOiAnbW9kZScsXG5cbiAgICAvKipcbiAgICAgKiBBcHBseSB0aGUgR3JheXNjYWxlIG9wZXJhdGlvbiB0byBhIFVpbnQ4QXJyYXkgcmVwcmVzZW50aW5nIHRoZSBwaXhlbHMgb2YgYW4gaW1hZ2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7SW1hZ2VEYXRhfSBvcHRpb25zLmltYWdlRGF0YSBUaGUgVWludDhBcnJheSB0byBiZSBmaWx0ZXJlZC5cbiAgICAgKi9cbiAgICBhcHBseVRvMmQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBpbWFnZURhdGEgPSBvcHRpb25zLmltYWdlRGF0YSxcbiAgICAgICAgICBkYXRhID0gaW1hZ2VEYXRhLmRhdGEsIGksXG4gICAgICAgICAgbGVuID0gZGF0YS5sZW5ndGgsIHZhbHVlLFxuICAgICAgICAgIG1vZGUgPSB0aGlzLm1vZGU7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICAgICAgaWYgKG1vZGUgPT09ICdhdmVyYWdlJykge1xuICAgICAgICAgIHZhbHVlID0gKGRhdGFbaV0gKyBkYXRhW2kgKyAxXSArIGRhdGFbaSArIDJdKSAvIDM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobW9kZSA9PT0gJ2xpZ2h0bmVzcycpIHtcbiAgICAgICAgICB2YWx1ZSA9IChNYXRoLm1pbihkYXRhW2ldLCBkYXRhW2kgKyAxXSwgZGF0YVtpICsgMl0pICtcbiAgICAgICAgICAgIE1hdGgubWF4KGRhdGFbaV0sIGRhdGFbaSArIDFdLCBkYXRhW2kgKyAyXSkpIC8gMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtb2RlID09PSAnbHVtaW5vc2l0eScpIHtcbiAgICAgICAgICB2YWx1ZSA9IDAuMjEgKiBkYXRhW2ldICsgMC43MiAqIGRhdGFbaSArIDFdICsgMC4wNyAqIGRhdGFbaSArIDJdO1xuICAgICAgICB9XG4gICAgICAgIGRhdGFbaV0gPSB2YWx1ZTtcbiAgICAgICAgZGF0YVtpICsgMV0gPSB2YWx1ZTtcbiAgICAgICAgZGF0YVtpICsgMl0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBjYWNoZWQgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IG9wdGlvbnMuY29udGV4dCBUaGUgR0wgY29udGV4dCB1c2VkIGZvciByZW5kZXJpbmcuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMucHJvZ3JhbUNhY2hlIEEgbWFwIG9mIGNvbXBpbGVkIHNoYWRlciBwcm9ncmFtcywga2V5ZWQgYnkgZmlsdGVyIHR5cGUuXG4gICAgICovXG4gICAgcmV0cmlldmVTaGFkZXI6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBjYWNoZUtleSA9IHRoaXMudHlwZSArICdfJyArIHRoaXMubW9kZTtcbiAgICAgIGlmICghb3B0aW9ucy5wcm9ncmFtQ2FjaGUuaGFzT3duUHJvcGVydHkoY2FjaGVLZXkpKSB7XG4gICAgICAgIHZhciBzaGFkZXJTb3VyY2UgPSB0aGlzLmZyYWdtZW50U291cmNlW3RoaXMubW9kZV07XG4gICAgICAgIG9wdGlvbnMucHJvZ3JhbUNhY2hlW2NhY2hlS2V5XSA9IHRoaXMuY3JlYXRlUHJvZ3JhbShvcHRpb25zLmNvbnRleHQsIHNoYWRlclNvdXJjZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gb3B0aW9ucy5wcm9ncmFtQ2FjaGVbY2FjaGVLZXldO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gV2ViR0wgdW5pZm9ybSBsb2NhdGlvbnMgZm9yIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtXZWJHTFNoYWRlclByb2dyYW19IHByb2dyYW0gVGhpcyBmaWx0ZXIncyBjb21waWxlZCBzaGFkZXIgcHJvZ3JhbS5cbiAgICAgKi9cbiAgICBnZXRVbmlmb3JtTG9jYXRpb25zOiBmdW5jdGlvbihnbCwgcHJvZ3JhbSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdU1vZGU6IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndU1vZGUnKSxcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNlbmQgZGF0YSBmcm9tIHRoaXMgZmlsdGVyIHRvIGl0cyBzaGFkZXIgcHJvZ3JhbSdzIHVuaWZvcm1zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHVuaWZvcm1Mb2NhdGlvbnMgQSBtYXAgb2Ygc3RyaW5nIHVuaWZvcm0gbmFtZXMgdG8gV2ViR0xVbmlmb3JtTG9jYXRpb24gb2JqZWN0c1xuICAgICAqL1xuICAgIHNlbmRVbmlmb3JtRGF0YTogZnVuY3Rpb24oZ2wsIHVuaWZvcm1Mb2NhdGlvbnMpIHtcbiAgICAgIC8vIGRlZmF1bHQgYXZlcmFnZSBtb2RlLlxuICAgICAgdmFyIG1vZGUgPSAxO1xuICAgICAgZ2wudW5pZm9ybTFpKHVuaWZvcm1Mb2NhdGlvbnMudU1vZGUsIG1vZGUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHcmF5c2NhbGUgZmlsdGVyIGlzTmV1dHJhbFN0YXRlIGltcGxlbWVudGF0aW9uXG4gICAgICogVGhlIGZpbHRlciBpcyBuZXZlciBuZXV0cmFsXG4gICAgICogb24gdGhlIGltYWdlXG4gICAgICoqL1xuICAgIGlzTmV1dHJhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuICB9KTtcblxuICAvKipcbiAgICogUmV0dXJucyBmaWx0ZXIgaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIHRvIGJlIGludm9rZWQgYWZ0ZXIgZmlsdGVyIGNyZWF0aW9uXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JbWFnZS5maWx0ZXJzLkdyYXlzY2FsZX0gSW5zdGFuY2Ugb2YgZmFicmljLkltYWdlLmZpbHRlcnMuR3JheXNjYWxlXG4gICAqL1xuICBmYWJyaWMuSW1hZ2UuZmlsdGVycy5HcmF5c2NhbGUuZnJvbU9iamVjdCA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXIuZnJvbU9iamVjdDtcblxufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyAgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIGZpbHRlcnMgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycyxcbiAgICAgIGNyZWF0ZUNsYXNzID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3M7XG5cbiAgLyoqXG4gICAqIEludmVydCBmaWx0ZXIgY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkludmVydFxuICAgKiBAbWVtYmVyT2YgZmFicmljLkltYWdlLmZpbHRlcnNcbiAgICogQGV4dGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlclxuICAgKiBAc2VlIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ltYWdlLWZpbHRlcnN8SW1hZ2VGaWx0ZXJzIGRlbW99XG4gICAqIEBleGFtcGxlXG4gICAqIHZhciBmaWx0ZXIgPSBuZXcgZmFicmljLkltYWdlLmZpbHRlcnMuSW52ZXJ0KCk7XG4gICAqIG9iamVjdC5maWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgICogb2JqZWN0LmFwcGx5RmlsdGVycyhjYW52YXMucmVuZGVyQWxsLmJpbmQoY2FudmFzKSk7XG4gICAqL1xuICBmaWx0ZXJzLkludmVydCA9IGNyZWF0ZUNsYXNzKGZpbHRlcnMuQmFzZUZpbHRlciwgLyoqIEBsZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5JbnZlcnQucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIEZpbHRlciB0eXBlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHR5cGU6ICdJbnZlcnQnLFxuXG4gICAgZnJhZ21lbnRTb3VyY2U6ICdwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuJyArXG4gICAgICAndW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuJyArXG4gICAgICAndW5pZm9ybSBpbnQgdUludmVydDtcXG4nICtcbiAgICAgICd2YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbicgK1xuICAgICAgJ3ZvaWQgbWFpbigpIHtcXG4nICtcbiAgICAgICAgJ3ZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVRleHR1cmUsIHZUZXhDb29yZCk7XFxuJyArXG4gICAgICAgICdpZiAodUludmVydCA9PSAxKSB7XFxuJyArXG4gICAgICAgICAgJ2dsX0ZyYWdDb2xvciA9IHZlYzQoMS4wIC0gY29sb3IuciwxLjAgLWNvbG9yLmcsMS4wIC1jb2xvci5iLGNvbG9yLmEpO1xcbicgK1xuICAgICAgICAnfSBlbHNlIHtcXG4nICtcbiAgICAgICAgICAnZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxuJyArXG4gICAgICAgICd9XFxuJyArXG4gICAgICAnfScsXG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgaW52ZXJ0LiBpZiBmYWxzZSwgZG9lcyBub3RoaW5nXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBpbnZlcnRcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGludmVydDogdHJ1ZSxcblxuICAgIG1haW5QYXJhbWV0ZXI6ICdpbnZlcnQnLFxuXG4gICAgLyoqXG4gICAgICogQXBwbHkgdGhlIEludmVydCBvcGVyYXRpb24gdG8gYSBVaW50OEFycmF5IHJlcHJlc2VudGluZyB0aGUgcGl4ZWxzIG9mIGFuIGltYWdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge0ltYWdlRGF0YX0gb3B0aW9ucy5pbWFnZURhdGEgVGhlIFVpbnQ4QXJyYXkgdG8gYmUgZmlsdGVyZWQuXG4gICAgICovXG4gICAgYXBwbHlUbzJkOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICB2YXIgaW1hZ2VEYXRhID0gb3B0aW9ucy5pbWFnZURhdGEsXG4gICAgICAgICAgZGF0YSA9IGltYWdlRGF0YS5kYXRhLCBpLFxuICAgICAgICAgIGxlbiA9IGRhdGEubGVuZ3RoO1xuICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgICAgIGRhdGFbaV0gPSAyNTUgLSBkYXRhW2ldO1xuICAgICAgICBkYXRhW2kgKyAxXSA9IDI1NSAtIGRhdGFbaSArIDFdO1xuICAgICAgICBkYXRhW2kgKyAyXSA9IDI1NSAtIGRhdGFbaSArIDJdO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbnZlcnQgZmlsdGVyIGlzTmV1dHJhbFN0YXRlIGltcGxlbWVudGF0aW9uXG4gICAgICogVXNlZCBvbmx5IGluIGltYWdlIGFwcGx5RmlsdGVycyB0byBkaXNjYXJkIGZpbHRlcnMgdGhhdCB3aWxsIG5vdCBoYXZlIGFuIGVmZmVjdFxuICAgICAqIG9uIHRoZSBpbWFnZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICoqL1xuICAgIGlzTmV1dHJhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAhdGhpcy5pbnZlcnQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiBXZWJHTCB1bmlmb3JtIGxvY2F0aW9ucyBmb3IgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge1dlYkdMU2hhZGVyUHJvZ3JhbX0gcHJvZ3JhbSBUaGlzIGZpbHRlcidzIGNvbXBpbGVkIHNoYWRlciBwcm9ncmFtLlxuICAgICAqL1xuICAgIGdldFVuaWZvcm1Mb2NhdGlvbnM6IGZ1bmN0aW9uKGdsLCBwcm9ncmFtKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB1SW52ZXJ0OiBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VJbnZlcnQnKSxcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNlbmQgZGF0YSBmcm9tIHRoaXMgZmlsdGVyIHRvIGl0cyBzaGFkZXIgcHJvZ3JhbSdzIHVuaWZvcm1zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHVuaWZvcm1Mb2NhdGlvbnMgQSBtYXAgb2Ygc3RyaW5nIHVuaWZvcm0gbmFtZXMgdG8gV2ViR0xVbmlmb3JtTG9jYXRpb24gb2JqZWN0c1xuICAgICAqL1xuICAgIHNlbmRVbmlmb3JtRGF0YTogZnVuY3Rpb24oZ2wsIHVuaWZvcm1Mb2NhdGlvbnMpIHtcbiAgICAgIGdsLnVuaWZvcm0xaSh1bmlmb3JtTG9jYXRpb25zLnVJbnZlcnQsIHRoaXMuaW52ZXJ0KTtcbiAgICB9LFxuICB9KTtcblxuICAvKipcbiAgICogUmV0dXJucyBmaWx0ZXIgaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIHRvIGJlIGludm9rZWQgYWZ0ZXIgZmlsdGVyIGNyZWF0aW9uXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JbWFnZS5maWx0ZXJzLkludmVydH0gSW5zdGFuY2Ugb2YgZmFicmljLkltYWdlLmZpbHRlcnMuSW52ZXJ0XG4gICAqL1xuICBmYWJyaWMuSW1hZ2UuZmlsdGVycy5JbnZlcnQuZnJvbU9iamVjdCA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXIuZnJvbU9iamVjdDtcblxuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljICA9IGdsb2JhbC5mYWJyaWMgfHwgKGdsb2JhbC5mYWJyaWMgPSB7IH0pLFxuICAgICAgZXh0ZW5kID0gZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZCxcbiAgICAgIGZpbHRlcnMgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycyxcbiAgICAgIGNyZWF0ZUNsYXNzID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3M7XG5cbiAgLyoqXG4gICAqIE5vaXNlIGZpbHRlciBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkltYWdlLmZpbHRlcnMuTm9pc2VcbiAgICogQG1lbWJlck9mIGZhYnJpYy5JbWFnZS5maWx0ZXJzXG4gICAqIEBleHRlbmRzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXJcbiAgICogQHNlZSB7QGxpbmsgZmFicmljLkltYWdlLmZpbHRlcnMuTm9pc2UjaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICogQHNlZSB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9pbWFnZS1maWx0ZXJzfEltYWdlRmlsdGVycyBkZW1vfVxuICAgKiBAZXhhbXBsZVxuICAgKiB2YXIgZmlsdGVyID0gbmV3IGZhYnJpYy5JbWFnZS5maWx0ZXJzLk5vaXNlKHtcbiAgICogICBub2lzZTogNzAwXG4gICAqIH0pO1xuICAgKiBvYmplY3QuZmlsdGVycy5wdXNoKGZpbHRlcik7XG4gICAqIG9iamVjdC5hcHBseUZpbHRlcnMoKTtcbiAgICogY2FudmFzLnJlbmRlckFsbCgpO1xuICAgKi9cbiAgZmlsdGVycy5Ob2lzZSA9IGNyZWF0ZUNsYXNzKGZpbHRlcnMuQmFzZUZpbHRlciwgLyoqIEBsZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Ob2lzZS5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogRmlsdGVyIHR5cGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHlwZTogJ05vaXNlJyxcblxuICAgIC8qKlxuICAgICAqIEZyYWdtZW50IHNvdXJjZSBmb3IgdGhlIG5vaXNlIHByb2dyYW1cbiAgICAgKi9cbiAgICBmcmFnbWVudFNvdXJjZTogJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4nICtcbiAgICAgICd1bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZTtcXG4nICtcbiAgICAgICd1bmlmb3JtIGZsb2F0IHVTdGVwSDtcXG4nICtcbiAgICAgICd1bmlmb3JtIGZsb2F0IHVOb2lzZTtcXG4nICtcbiAgICAgICd1bmlmb3JtIGZsb2F0IHVTZWVkO1xcbicgK1xuICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAnZmxvYXQgcmFuZCh2ZWMyIGNvLCBmbG9hdCBzZWVkLCBmbG9hdCB2U2NhbGUpIHtcXG4nICtcbiAgICAgICAgJ3JldHVybiBmcmFjdChzaW4oZG90KGNvLnh5ICogdlNjYWxlICx2ZWMyKDEyLjk4OTggLCA3OC4yMzMpKSkgKiA0Mzc1OC41NDUzICogKHNlZWQgKyAwLjAxKSAvIDIuMCk7XFxuJyArXG4gICAgICAnfVxcbicgK1xuICAgICAgJ3ZvaWQgbWFpbigpIHtcXG4nICtcbiAgICAgICAgJ3ZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVRleHR1cmUsIHZUZXhDb29yZCk7XFxuJyArXG4gICAgICAgICdjb2xvci5yZ2IgKz0gKDAuNSAtIHJhbmQodlRleENvb3JkLCB1U2VlZCwgMC4xIC8gdVN0ZXBIKSkgKiB1Tm9pc2U7XFxuJyArXG4gICAgICAgICdnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG4nICtcbiAgICAgICd9JyxcblxuICAgIC8qKlxuICAgICAqIERlc2NyaWJlIHRoZSBwcm9wZXJ0eSB0aGF0IGlzIHRoZSBmaWx0ZXIgcGFyYW1ldGVyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIG1haW5QYXJhbWV0ZXI6ICdub2lzZScsXG5cbiAgICAvKipcbiAgICAgKiBOb2lzZSB2YWx1ZSwgZnJvbVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBub2lzZVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgbm9pc2U6IDAsXG5cbiAgICAvKipcbiAgICAgKiBBcHBseSB0aGUgQnJpZ2h0bmVzcyBvcGVyYXRpb24gdG8gYSBVaW50OENsYW1wZWRBcnJheSByZXByZXNlbnRpbmcgdGhlIHBpeGVscyBvZiBhbiBpbWFnZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHBhcmFtIHtJbWFnZURhdGF9IG9wdGlvbnMuaW1hZ2VEYXRhIFRoZSBVaW50OENsYW1wZWRBcnJheSB0byBiZSBmaWx0ZXJlZC5cbiAgICAgKi9cbiAgICBhcHBseVRvMmQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIGlmICh0aGlzLm5vaXNlID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBpbWFnZURhdGEgPSBvcHRpb25zLmltYWdlRGF0YSxcbiAgICAgICAgICBkYXRhID0gaW1hZ2VEYXRhLmRhdGEsIGksIGxlbiA9IGRhdGEubGVuZ3RoLFxuICAgICAgICAgIG5vaXNlID0gdGhpcy5ub2lzZSwgcmFuZDtcblxuICAgICAgZm9yIChpID0gMCwgbGVuID0gZGF0YS5sZW5ndGg7IGkgPCBsZW47IGkgKz0gNCkge1xuXG4gICAgICAgIHJhbmQgPSAoMC41IC0gTWF0aC5yYW5kb20oKSkgKiBub2lzZTtcblxuICAgICAgICBkYXRhW2ldICs9IHJhbmQ7XG4gICAgICAgIGRhdGFbaSArIDFdICs9IHJhbmQ7XG4gICAgICAgIGRhdGFbaSArIDJdICs9IHJhbmQ7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiBXZWJHTCB1bmlmb3JtIGxvY2F0aW9ucyBmb3IgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge1dlYkdMU2hhZGVyUHJvZ3JhbX0gcHJvZ3JhbSBUaGlzIGZpbHRlcidzIGNvbXBpbGVkIHNoYWRlciBwcm9ncmFtLlxuICAgICAqL1xuICAgIGdldFVuaWZvcm1Mb2NhdGlvbnM6IGZ1bmN0aW9uKGdsLCBwcm9ncmFtKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB1Tm9pc2U6IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndU5vaXNlJyksXG4gICAgICAgIHVTZWVkOiBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VTZWVkJyksXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZW5kIGRhdGEgZnJvbSB0aGlzIGZpbHRlciB0byBpdHMgc2hhZGVyIHByb2dyYW0ncyB1bmlmb3Jtcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgR0wgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB1bmlmb3JtTG9jYXRpb25zIEEgbWFwIG9mIHN0cmluZyB1bmlmb3JtIG5hbWVzIHRvIFdlYkdMVW5pZm9ybUxvY2F0aW9uIG9iamVjdHNcbiAgICAgKi9cbiAgICBzZW5kVW5pZm9ybURhdGE6IGZ1bmN0aW9uKGdsLCB1bmlmb3JtTG9jYXRpb25zKSB7XG4gICAgICBnbC51bmlmb3JtMWYodW5pZm9ybUxvY2F0aW9ucy51Tm9pc2UsIHRoaXMubm9pc2UgLyAyNTUpO1xuICAgICAgZ2wudW5pZm9ybTFmKHVuaWZvcm1Mb2NhdGlvbnMudVNlZWQsIE1hdGgucmFuZG9tKCkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgdG9PYmplY3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGV4dGVuZCh0aGlzLmNhbGxTdXBlcigndG9PYmplY3QnKSwge1xuICAgICAgICBub2lzZTogdGhpcy5ub2lzZVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICAvKipcbiAgICogUmV0dXJucyBmaWx0ZXIgaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIHRvIGJlIGludm9rZWQgYWZ0ZXIgZmlsdGVyIGNyZWF0aW9uXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JbWFnZS5maWx0ZXJzLk5vaXNlfSBJbnN0YW5jZSBvZiBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Ob2lzZVxuICAgKi9cbiAgZmFicmljLkltYWdlLmZpbHRlcnMuTm9pc2UuZnJvbU9iamVjdCA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXIuZnJvbU9iamVjdDtcblxufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyAgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIGZpbHRlcnMgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycyxcbiAgICAgIGNyZWF0ZUNsYXNzID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3M7XG5cbiAgLyoqXG4gICAqIFBpeGVsYXRlIGZpbHRlciBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkltYWdlLmZpbHRlcnMuUGl4ZWxhdGVcbiAgICogQG1lbWJlck9mIGZhYnJpYy5JbWFnZS5maWx0ZXJzXG4gICAqIEBleHRlbmRzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXJcbiAgICogQHNlZSB7QGxpbmsgZmFicmljLkltYWdlLmZpbHRlcnMuUGl4ZWxhdGUjaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICogQHNlZSB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9pbWFnZS1maWx0ZXJzfEltYWdlRmlsdGVycyBkZW1vfVxuICAgKiBAZXhhbXBsZVxuICAgKiB2YXIgZmlsdGVyID0gbmV3IGZhYnJpYy5JbWFnZS5maWx0ZXJzLlBpeGVsYXRlKHtcbiAgICogICBibG9ja3NpemU6IDhcbiAgICogfSk7XG4gICAqIG9iamVjdC5maWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgICogb2JqZWN0LmFwcGx5RmlsdGVycygpO1xuICAgKi9cbiAgZmlsdGVycy5QaXhlbGF0ZSA9IGNyZWF0ZUNsYXNzKGZpbHRlcnMuQmFzZUZpbHRlciwgLyoqIEBsZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5QaXhlbGF0ZS5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogRmlsdGVyIHR5cGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHlwZTogJ1BpeGVsYXRlJyxcblxuICAgIGJsb2Nrc2l6ZTogNCxcblxuICAgIG1haW5QYXJhbWV0ZXI6ICdibG9ja3NpemUnLFxuXG4gICAgLyoqXG4gICAgICogRnJhZ21lbnQgc291cmNlIGZvciB0aGUgUGl4ZWxhdGUgcHJvZ3JhbVxuICAgICAqL1xuICAgIGZyYWdtZW50U291cmNlOiAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbicgK1xuICAgICAgJ3VuaWZvcm0gZmxvYXQgdUJsb2Nrc2l6ZTtcXG4nICtcbiAgICAgICd1bmlmb3JtIGZsb2F0IHVTdGVwVztcXG4nICtcbiAgICAgICd1bmlmb3JtIGZsb2F0IHVTdGVwSDtcXG4nICtcbiAgICAgICd2YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbicgK1xuICAgICAgJ3ZvaWQgbWFpbigpIHtcXG4nICtcbiAgICAgICAgJ2Zsb2F0IGJsb2NrVyA9IHVCbG9ja3NpemUgKiB1U3RlcFc7XFxuJyArXG4gICAgICAgICdmbG9hdCBibG9ja0ggPSB1QmxvY2tzaXplICogdVN0ZXBXO1xcbicgK1xuICAgICAgICAnaW50IHBvc1ggPSBpbnQodlRleENvb3JkLnggLyBibG9ja1cpO1xcbicgK1xuICAgICAgICAnaW50IHBvc1kgPSBpbnQodlRleENvb3JkLnkgLyBibG9ja0gpO1xcbicgK1xuICAgICAgICAnZmxvYXQgZnBvc1ggPSBmbG9hdChwb3NYKTtcXG4nICtcbiAgICAgICAgJ2Zsb2F0IGZwb3NZID0gZmxvYXQocG9zWSk7XFxuJyArXG4gICAgICAgICd2ZWMyIHNxdWFyZUNvb3JkcyA9IHZlYzIoZnBvc1ggKiBibG9ja1csIGZwb3NZICogYmxvY2tIKTtcXG4nICtcbiAgICAgICAgJ3ZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVRleHR1cmUsIHNxdWFyZUNvb3Jkcyk7XFxuJyArXG4gICAgICAgICdnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG4nICtcbiAgICAgICd9JyxcblxuICAgIC8qKlxuICAgICAqIEFwcGx5IHRoZSBQaXhlbGF0ZSBvcGVyYXRpb24gdG8gYSBVaW50OENsYW1wZWRBcnJheSByZXByZXNlbnRpbmcgdGhlIHBpeGVscyBvZiBhbiBpbWFnZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHBhcmFtIHtJbWFnZURhdGF9IG9wdGlvbnMuaW1hZ2VEYXRhIFRoZSBVaW50OENsYW1wZWRBcnJheSB0byBiZSBmaWx0ZXJlZC5cbiAgICAgKi9cbiAgICBhcHBseVRvMmQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBpbWFnZURhdGEgPSBvcHRpb25zLmltYWdlRGF0YSxcbiAgICAgICAgICBkYXRhID0gaW1hZ2VEYXRhLmRhdGEsXG4gICAgICAgICAgaUxlbiA9IGltYWdlRGF0YS5oZWlnaHQsXG4gICAgICAgICAgakxlbiA9IGltYWdlRGF0YS53aWR0aCxcbiAgICAgICAgICBpbmRleCwgaSwgaiwgciwgZywgYiwgYSxcbiAgICAgICAgICBfaSwgX2osIF9pTGVuLCBfakxlbjtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IGlMZW47IGkgKz0gdGhpcy5ibG9ja3NpemUpIHtcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IGpMZW47IGogKz0gdGhpcy5ibG9ja3NpemUpIHtcblxuICAgICAgICAgIGluZGV4ID0gKGkgKiA0KSAqIGpMZW4gKyAoaiAqIDQpO1xuXG4gICAgICAgICAgciA9IGRhdGFbaW5kZXhdO1xuICAgICAgICAgIGcgPSBkYXRhW2luZGV4ICsgMV07XG4gICAgICAgICAgYiA9IGRhdGFbaW5kZXggKyAyXTtcbiAgICAgICAgICBhID0gZGF0YVtpbmRleCArIDNdO1xuXG4gICAgICAgICAgX2lMZW4gPSBNYXRoLm1pbihpICsgdGhpcy5ibG9ja3NpemUsIGlMZW4pO1xuICAgICAgICAgIF9qTGVuID0gTWF0aC5taW4oaiArIHRoaXMuYmxvY2tzaXplLCBqTGVuKTtcbiAgICAgICAgICBmb3IgKF9pID0gaTsgX2kgPCBfaUxlbjsgX2krKykge1xuICAgICAgICAgICAgZm9yIChfaiA9IGo7IF9qIDwgX2pMZW47IF9qKyspIHtcbiAgICAgICAgICAgICAgaW5kZXggPSAoX2kgKiA0KSAqIGpMZW4gKyAoX2ogKiA0KTtcbiAgICAgICAgICAgICAgZGF0YVtpbmRleF0gPSByO1xuICAgICAgICAgICAgICBkYXRhW2luZGV4ICsgMV0gPSBnO1xuICAgICAgICAgICAgICBkYXRhW2luZGV4ICsgMl0gPSBiO1xuICAgICAgICAgICAgICBkYXRhW2luZGV4ICsgM10gPSBhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZSB3aGVuIHRoZSBmaWx0ZXIgaXMgbm90IGdvbm5hIGFwcGx5IGNoYW5nZXMgdG8gdGhlIGltYWdlXG4gICAgICoqL1xuICAgIGlzTmV1dHJhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmJsb2Nrc2l6ZSA9PT0gMTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIFdlYkdMIHVuaWZvcm0gbG9jYXRpb25zIGZvciB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgR0wgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7V2ViR0xTaGFkZXJQcm9ncmFtfSBwcm9ncmFtIFRoaXMgZmlsdGVyJ3MgY29tcGlsZWQgc2hhZGVyIHByb2dyYW0uXG4gICAgICovXG4gICAgZ2V0VW5pZm9ybUxvY2F0aW9uczogZnVuY3Rpb24oZ2wsIHByb2dyYW0pIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVCbG9ja3NpemU6IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndUJsb2Nrc2l6ZScpLFxuICAgICAgICB1U3RlcFc6IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndVN0ZXBXJyksXG4gICAgICAgIHVTdGVwSDogZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1U3RlcEgnKSxcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNlbmQgZGF0YSBmcm9tIHRoaXMgZmlsdGVyIHRvIGl0cyBzaGFkZXIgcHJvZ3JhbSdzIHVuaWZvcm1zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHVuaWZvcm1Mb2NhdGlvbnMgQSBtYXAgb2Ygc3RyaW5nIHVuaWZvcm0gbmFtZXMgdG8gV2ViR0xVbmlmb3JtTG9jYXRpb24gb2JqZWN0c1xuICAgICAqL1xuICAgIHNlbmRVbmlmb3JtRGF0YTogZnVuY3Rpb24oZ2wsIHVuaWZvcm1Mb2NhdGlvbnMpIHtcbiAgICAgIGdsLnVuaWZvcm0xZih1bmlmb3JtTG9jYXRpb25zLnVCbG9ja3NpemUsIHRoaXMuYmxvY2tzaXplKTtcbiAgICB9LFxuICB9KTtcblxuICAvKipcbiAgICogUmV0dXJucyBmaWx0ZXIgaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIHRvIGJlIGludm9rZWQgYWZ0ZXIgZmlsdGVyIGNyZWF0aW9uXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JbWFnZS5maWx0ZXJzLlBpeGVsYXRlfSBJbnN0YW5jZSBvZiBmYWJyaWMuSW1hZ2UuZmlsdGVycy5QaXhlbGF0ZVxuICAgKi9cbiAgZmFicmljLkltYWdlLmZpbHRlcnMuUGl4ZWxhdGUuZnJvbU9iamVjdCA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXIuZnJvbU9iamVjdDtcblxufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyAgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIGV4dGVuZCA9IGZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQsXG4gICAgICBmaWx0ZXJzID0gZmFicmljLkltYWdlLmZpbHRlcnMsXG4gICAgICBjcmVhdGVDbGFzcyA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzO1xuXG4gIC8qKlxuICAgKiBSZW1vdmUgd2hpdGUgZmlsdGVyIGNsYXNzXG4gICAqIEBjbGFzcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5SZW1vdmVDb2xvclxuICAgKiBAbWVtYmVyT2YgZmFicmljLkltYWdlLmZpbHRlcnNcbiAgICogQGV4dGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlclxuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuSW1hZ2UuZmlsdGVycy5SZW1vdmVDb2xvciNpbml0aWFsaXplfSBmb3IgY29uc3RydWN0b3IgZGVmaW5pdGlvblxuICAgKiBAc2VlIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ltYWdlLWZpbHRlcnN8SW1hZ2VGaWx0ZXJzIGRlbW99XG4gICAqIEBleGFtcGxlXG4gICAqIHZhciBmaWx0ZXIgPSBuZXcgZmFicmljLkltYWdlLmZpbHRlcnMuUmVtb3ZlQ29sb3Ioe1xuICAgKiAgIHRocmVzaG9sZDogMC4yLFxuICAgKiB9KTtcbiAgICogb2JqZWN0LmZpbHRlcnMucHVzaChmaWx0ZXIpO1xuICAgKiBvYmplY3QuYXBwbHlGaWx0ZXJzKCk7XG4gICAqIGNhbnZhcy5yZW5kZXJBbGwoKTtcbiAgICovXG4gIGZpbHRlcnMuUmVtb3ZlQ29sb3IgPSBjcmVhdGVDbGFzcyhmaWx0ZXJzLkJhc2VGaWx0ZXIsIC8qKiBAbGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuUmVtb3ZlQ29sb3IucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIEZpbHRlciB0eXBlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHR5cGU6ICdSZW1vdmVDb2xvcicsXG5cbiAgICAvKipcbiAgICAgKiBDb2xvciB0byByZW1vdmUsIGluIGFueSBmb3JtYXQgdW5kZXJzdG9vZCBieSBmYWJyaWMuQ29sb3IuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGNvbG9yOiAnI0ZGRkZGRicsXG5cbiAgICAvKipcbiAgICAgKiBGcmFnbWVudCBzb3VyY2UgZm9yIHRoZSBicmlnaHRuZXNzIHByb2dyYW1cbiAgICAgKi9cbiAgICBmcmFnbWVudFNvdXJjZTogJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4nICtcbiAgICAgICd1bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZTtcXG4nICtcbiAgICAgICd1bmlmb3JtIHZlYzQgdUxvdztcXG4nICtcbiAgICAgICd1bmlmb3JtIHZlYzQgdUhpZ2g7XFxuJyArXG4gICAgICAndmFyeWluZyB2ZWMyIHZUZXhDb29yZDtcXG4nICtcbiAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICdnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVRleHR1cmUsIHZUZXhDb29yZCk7XFxuJyArXG4gICAgICAgICdpZihhbGwoZ3JlYXRlclRoYW4oZ2xfRnJhZ0NvbG9yLnJnYix1TG93LnJnYikpICYmIGFsbChncmVhdGVyVGhhbih1SGlnaC5yZ2IsZ2xfRnJhZ0NvbG9yLnJnYikpKSB7XFxuJyArXG4gICAgICAgICAgJ2dsX0ZyYWdDb2xvci5hID0gMC4wO1xcbicgK1xuICAgICAgICAnfVxcbicgK1xuICAgICAgJ30nLFxuXG4gICAgLyoqXG4gICAgICogZGlzdGFuY2UgdG8gYWN0dWFsIGNvbG9yLCBhcyB2YWx1ZSB1cCBvciBkb3duIGZyb20gZWFjaCByLGcsYlxuICAgICAqIGJldHdlZW4gMCBhbmQgMVxuICAgICAqKi9cbiAgICBkaXN0YW5jZTogMC4wMixcblxuICAgIC8qKlxuICAgICAqIEZvciBjb2xvciB0byByZW1vdmUgaW5zaWRlIGRpc3RhbmNlLCB1c2UgYWxwaGEgY2hhbm5lbCBmb3IgYSBzbW9vdGhlciBkZWxldGlvblxuICAgICAqIE5PVCBJTVBMRU1FTlRFRCBZRVRcbiAgICAgKiovXG4gICAgdXNlQWxwaGE6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLkltYWdlLmZpbHRlcnMuUmVtb3ZlV2hpdGUucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5jb2xvcj0jUlJHR0JCXSBUaHJlc2hvbGQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuZGlzdGFuY2U9MTBdIERpc3RhbmNlIHZhbHVlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGZpbHRlciB0byBjYW52YXMgZWxlbWVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjYW52YXNFbCBDYW52YXMgZWxlbWVudCB0byBhcHBseSBmaWx0ZXIgdG9cbiAgICAgKi9cbiAgICBhcHBseVRvMmQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBpbWFnZURhdGEgPSBvcHRpb25zLmltYWdlRGF0YSxcbiAgICAgICAgICBkYXRhID0gaW1hZ2VEYXRhLmRhdGEsIGksXG4gICAgICAgICAgZGlzdGFuY2UgPSB0aGlzLmRpc3RhbmNlICogMjU1LFxuICAgICAgICAgIHIsIGcsIGIsXG4gICAgICAgICAgc291cmNlID0gbmV3IGZhYnJpYy5Db2xvcih0aGlzLmNvbG9yKS5nZXRTb3VyY2UoKSxcbiAgICAgICAgICBsb3dDID0gW1xuICAgICAgICAgICAgc291cmNlWzBdIC0gZGlzdGFuY2UsXG4gICAgICAgICAgICBzb3VyY2VbMV0gLSBkaXN0YW5jZSxcbiAgICAgICAgICAgIHNvdXJjZVsyXSAtIGRpc3RhbmNlLFxuICAgICAgICAgIF0sXG4gICAgICAgICAgaGlnaEMgPSBbXG4gICAgICAgICAgICBzb3VyY2VbMF0gKyBkaXN0YW5jZSxcbiAgICAgICAgICAgIHNvdXJjZVsxXSArIGRpc3RhbmNlLFxuICAgICAgICAgICAgc291cmNlWzJdICsgZGlzdGFuY2UsXG4gICAgICAgICAgXTtcblxuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkgKz0gNCkge1xuICAgICAgICByID0gZGF0YVtpXTtcbiAgICAgICAgZyA9IGRhdGFbaSArIDFdO1xuICAgICAgICBiID0gZGF0YVtpICsgMl07XG5cbiAgICAgICAgaWYgKHIgPiBsb3dDWzBdICYmXG4gICAgICAgICAgICBnID4gbG93Q1sxXSAmJlxuICAgICAgICAgICAgYiA+IGxvd0NbMl0gJiZcbiAgICAgICAgICAgIHIgPCBoaWdoQ1swXSAmJlxuICAgICAgICAgICAgZyA8IGhpZ2hDWzFdICYmXG4gICAgICAgICAgICBiIDwgaGlnaENbMl0pIHtcbiAgICAgICAgICBkYXRhW2kgKyAzXSA9IDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIFdlYkdMIHVuaWZvcm0gbG9jYXRpb25zIGZvciB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgR0wgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7V2ViR0xTaGFkZXJQcm9ncmFtfSBwcm9ncmFtIFRoaXMgZmlsdGVyJ3MgY29tcGlsZWQgc2hhZGVyIHByb2dyYW0uXG4gICAgICovXG4gICAgZ2V0VW5pZm9ybUxvY2F0aW9uczogZnVuY3Rpb24oZ2wsIHByb2dyYW0pIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVMb3c6IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndUxvdycpLFxuICAgICAgICB1SGlnaDogZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1SGlnaCcpLFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2VuZCBkYXRhIGZyb20gdGhpcyBmaWx0ZXIgdG8gaXRzIHNoYWRlciBwcm9ncmFtJ3MgdW5pZm9ybXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdW5pZm9ybUxvY2F0aW9ucyBBIG1hcCBvZiBzdHJpbmcgdW5pZm9ybSBuYW1lcyB0byBXZWJHTFVuaWZvcm1Mb2NhdGlvbiBvYmplY3RzXG4gICAgICovXG4gICAgc2VuZFVuaWZvcm1EYXRhOiBmdW5jdGlvbihnbCwgdW5pZm9ybUxvY2F0aW9ucykge1xuICAgICAgdmFyIHNvdXJjZSA9IG5ldyBmYWJyaWMuQ29sb3IodGhpcy5jb2xvcikuZ2V0U291cmNlKCksXG4gICAgICAgICAgZGlzdGFuY2UgPSBwYXJzZUZsb2F0KHRoaXMuZGlzdGFuY2UpLFxuICAgICAgICAgIGxvd0MgPSBbXG4gICAgICAgICAgICAwICsgc291cmNlWzBdIC8gMjU1IC0gZGlzdGFuY2UsXG4gICAgICAgICAgICAwICsgc291cmNlWzFdIC8gMjU1IC0gZGlzdGFuY2UsXG4gICAgICAgICAgICAwICsgc291cmNlWzJdIC8gMjU1IC0gZGlzdGFuY2UsXG4gICAgICAgICAgICAxXG4gICAgICAgICAgXSxcbiAgICAgICAgICBoaWdoQyA9IFtcbiAgICAgICAgICAgIHNvdXJjZVswXSAvIDI1NSArIGRpc3RhbmNlLFxuICAgICAgICAgICAgc291cmNlWzFdIC8gMjU1ICsgZGlzdGFuY2UsXG4gICAgICAgICAgICBzb3VyY2VbMl0gLyAyNTUgKyBkaXN0YW5jZSxcbiAgICAgICAgICAgIDFcbiAgICAgICAgICBdO1xuICAgICAgZ2wudW5pZm9ybTRmdih1bmlmb3JtTG9jYXRpb25zLnVMb3csIGxvd0MpO1xuICAgICAgZ2wudW5pZm9ybTRmdih1bmlmb3JtTG9jYXRpb25zLnVIaWdoLCBoaWdoQyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBPYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b09iamVjdDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZXh0ZW5kKHRoaXMuY2FsbFN1cGVyKCd0b09iamVjdCcpLCB7XG4gICAgICAgIGNvbG9yOiB0aGlzLmNvbG9yLFxuICAgICAgICBkaXN0YW5jZTogdGhpcy5kaXN0YW5jZVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICAvKipcbiAgICogUmV0dXJucyBmaWx0ZXIgaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIHRvIGJlIGludm9rZWQgYWZ0ZXIgZmlsdGVyIGNyZWF0aW9uXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JbWFnZS5maWx0ZXJzLlJlbW92ZUNvbG9yfSBJbnN0YW5jZSBvZiBmYWJyaWMuSW1hZ2UuZmlsdGVycy5SZW1vdmVXaGl0ZVxuICAgKi9cbiAgZmFicmljLkltYWdlLmZpbHRlcnMuUmVtb3ZlQ29sb3IuZnJvbU9iamVjdCA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXIuZnJvbU9iamVjdDtcblxufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyAgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIGZpbHRlcnMgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycyxcbiAgICAgIGNyZWF0ZUNsYXNzID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3M7XG5cbiAgdmFyIG1hdHJpY2VzID0ge1xuICAgIEJyb3duaWU6IFtcbiAgICAgIDAuNTk5NzAsMC4zNDU1MywtMC4yNzA4MiwwLDAuMTg2LFxuICAgICAgLTAuMDM3NzAsMC44NjA5NSwwLjE1MDU5LDAsLTAuMTQ0OSxcbiAgICAgIDAuMjQxMTMsLTAuMDc0NDEsMC40NDk3MiwwLC0wLjAyOTY1LFxuICAgICAgMCwwLDAsMSwwXG4gICAgXSxcbiAgICBWaW50YWdlOiBbXG4gICAgICAwLjYyNzkzLDAuMzIwMjEsLTAuMDM5NjUsMCwwLjAzNzg0LFxuICAgICAgMC4wMjU3OCwwLjY0NDExLDAuMDMyNTksMCwwLjAyOTI2LFxuICAgICAgMC4wNDY2MCwtMC4wODUxMiwwLjUyNDE2LDAsMC4wMjAyMyxcbiAgICAgIDAsMCwwLDEsMFxuICAgIF0sXG4gICAgS29kYWNocm9tZTogW1xuICAgICAgMS4xMjg1NSwtMC4zOTY3MywtMC4wMzk5MiwwLDAuMjQ5OTEsXG4gICAgICAtMC4xNjQwNCwxLjA4MzUyLC0wLjA1NDk4LDAsMC4wOTY5OCxcbiAgICAgIC0wLjE2Nzg2LC0wLjU2MDM0LDEuNjAxNDgsMCwwLjEzOTcyLFxuICAgICAgMCwwLDAsMSwwXG4gICAgXSxcbiAgICBUZWNobmljb2xvcjogW1xuICAgICAgMS45MTI1MiwtMC44NTQ1MywtMC4wOTE1NSwwLDAuMDQ2MjQsXG4gICAgICAtMC4zMDg3OCwxLjc2NTg5LC0wLjEwNjAxLDAsLTAuMjc1ODksXG4gICAgICAtMC4yMzExMCwtMC43NTAxOCwxLjg0NzU5LDAsMC4xMjEzNyxcbiAgICAgIDAsMCwwLDEsMFxuICAgIF0sXG4gICAgUG9sYXJvaWQ6IFtcbiAgICAgIDEuNDM4LC0wLjA2MiwtMC4wNjIsMCwwLFxuICAgICAgLTAuMTIyLDEuMzc4LC0wLjEyMiwwLDAsXG4gICAgICAtMC4wMTYsLTAuMDE2LDEuNDgzLDAsMCxcbiAgICAgIDAsMCwwLDEsMFxuICAgIF0sXG4gICAgU2VwaWE6IFtcbiAgICAgIDAuMzkzLCAwLjc2OSwgMC4xODksIDAsIDAsXG4gICAgICAwLjM0OSwgMC42ODYsIDAuMTY4LCAwLCAwLFxuICAgICAgMC4yNzIsIDAuNTM0LCAwLjEzMSwgMCwgMCxcbiAgICAgIDAsIDAsIDAsIDEsIDBcbiAgICBdLFxuICAgIEJsYWNrV2hpdGU6IFtcbiAgICAgIDEuNSwgMS41LCAxLjUsIDAsIC0xLFxuICAgICAgMS41LCAxLjUsIDEuNSwgMCwgLTEsXG4gICAgICAxLjUsIDEuNSwgMS41LCAwLCAtMSxcbiAgICAgIDAsIDAsIDAsIDEsIDAsXG4gICAgXVxuICB9O1xuXG4gIGZvciAodmFyIGtleSBpbiBtYXRyaWNlcykge1xuICAgIGZpbHRlcnNba2V5XSA9IGNyZWF0ZUNsYXNzKGZpbHRlcnMuQ29sb3JNYXRyaXgsIC8qKiBAbGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuU2VwaWEucHJvdG90eXBlICovIHtcblxuICAgICAgLyoqXG4gICAgICAgKiBGaWx0ZXIgdHlwZVxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAgICAgICAqIEBkZWZhdWx0XG4gICAgICAgKi9cbiAgICAgIHR5cGU6IGtleSxcblxuICAgICAgLyoqXG4gICAgICAgKiBDb2xvcm1hdHJpeCBmb3IgdGhlIGVmZmVjdFxuICAgICAgICogYXJyYXkgb2YgMjAgZmxvYXRzLiBOdW1iZXJzIGluIHBvc2l0aW9ucyA0LCA5LCAxNCwgMTkgbG9vc2UgbWVhbmluZ1xuICAgICAgICogb3V0c2lkZSB0aGUgLTEsIDEgcmFuZ2UuXG4gICAgICAgKiBAcGFyYW0ge0FycmF5fSBtYXRyaXggYXJyYXkgb2YgMjAgbnVtYmVycy5cbiAgICAgICAqIEBkZWZhdWx0XG4gICAgICAgKi9cbiAgICAgIG1hdHJpeDogbWF0cmljZXNba2V5XSxcblxuICAgICAgLyoqXG4gICAgICAgKiBMb2NrIHRoZSBtYXRyaXggZXhwb3J0IGZvciB0aGlzIGtpbmQgb2Ygc3RhdGljLCBwYXJhbWV0ZXIgbGVzcyBmaWx0ZXJzLlxuICAgICAgICovXG4gICAgICBtYWluUGFyYW1ldGVyOiBmYWxzZSxcbiAgICAgIC8qKlxuICAgICAgICogTG9jayB0aGUgY29sb3JtYXRyaXggb24gdGhlIGNvbG9yIHBhcnQsIHNraXBwaW5nIGFscGhhXG4gICAgICAgKi9cbiAgICAgIGNvbG9yc09ubHk6IHRydWUsXG5cbiAgICB9KTtcbiAgICBmYWJyaWMuSW1hZ2UuZmlsdGVyc1trZXldLmZyb21PYmplY3QgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyLmZyb21PYmplY3Q7XG4gIH1cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljID0gZ2xvYmFsLmZhYnJpYyxcbiAgICAgIGZpbHRlcnMgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycyxcbiAgICAgIGNyZWF0ZUNsYXNzID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3M7XG5cbiAgLyoqXG4gICAqIENvbG9yIEJsZW5kIGZpbHRlciBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkltYWdlLmZpbHRlci5CbGVuZENvbG9yXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuSW1hZ2UuZmlsdGVyc1xuICAgKiBAZXh0ZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyXG4gICAqIEBleGFtcGxlXG4gICAqIHZhciBmaWx0ZXIgPSBuZXcgZmFicmljLkltYWdlLmZpbHRlcnMuQmxlbmRDb2xvcih7XG4gICAqICBjb2xvcjogJyMwMDAnLFxuICAgKiAgbW9kZTogJ211bHRpcGx5J1xuICAgKiB9KTtcbiAgICpcbiAgICogdmFyIGZpbHRlciA9IG5ldyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CbGVuZEltYWdlKHtcbiAgICogIGltYWdlOiBmYWJyaWNJbWFnZU9iamVjdCxcbiAgICogIG1vZGU6ICdtdWx0aXBseScsXG4gICAqICBhbHBoYTogMC41XG4gICAqIH0pO1xuICAgKiBvYmplY3QuZmlsdGVycy5wdXNoKGZpbHRlcik7XG4gICAqIG9iamVjdC5hcHBseUZpbHRlcnMoKTtcbiAgICogY2FudmFzLnJlbmRlckFsbCgpO1xuICAgKi9cblxuICBmaWx0ZXJzLkJsZW5kQ29sb3IgPSBjcmVhdGVDbGFzcyhmaWx0ZXJzLkJhc2VGaWx0ZXIsIC8qKiBAbGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuQmxlbmQucHJvdG90eXBlICovIHtcbiAgICB0eXBlOiAnQmxlbmRDb2xvcicsXG5cbiAgICAvKipcbiAgICAgKiBDb2xvciB0byBtYWtlIHRoZSBibGVuZCBvcGVyYXRpb24gd2l0aC4gZGVmYXVsdCB0byBhIHJlZGRpc2ggY29sb3Igc2luY2UgYmxhY2sgb3Igd2hpdGVcbiAgICAgKiBnaXZlcyBhbHdheXMgc3Ryb25nIHJlc3VsdC5cbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqKi9cbiAgICBjb2xvcjogJyNGOTVDNjMnLFxuXG4gICAgLyoqXG4gICAgICogQmxlbmQgbW9kZSBmb3IgdGhlIGZpbHRlcjogb25lIG9mIG11bHRpcGx5LCBhZGQsIGRpZmYsIHNjcmVlbiwgc3VidHJhY3QsXG4gICAgICogZGFya2VuLCBsaWdodGVuLCBvdmVybGF5LCBleGNsdXNpb24sIHRpbnQuXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKiovXG4gICAgbW9kZTogJ211bHRpcGx5JyxcblxuICAgIC8qKlxuICAgICAqIGFscGhhIHZhbHVlLiByZXByZXNlbnQgdGhlIHN0cmVuZ3RoIG9mIHRoZSBibGVuZCBjb2xvciBvcGVyYXRpb24uXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKiovXG4gICAgYWxwaGE6IDEsXG5cbiAgICAvKipcbiAgICAgKiBGcmFnbWVudCBzb3VyY2UgZm9yIHRoZSBNdWx0aXBseSBwcm9ncmFtXG4gICAgICovXG4gICAgZnJhZ21lbnRTb3VyY2U6IHtcbiAgICAgIG11bHRpcGx5OiAnZ2xfRnJhZ0NvbG9yLnJnYiAqPSB1Q29sb3IucmdiO1xcbicsXG4gICAgICBzY3JlZW46ICdnbF9GcmFnQ29sb3IucmdiID0gMS4wIC0gKDEuMCAtIGdsX0ZyYWdDb2xvci5yZ2IpICogKDEuMCAtIHVDb2xvci5yZ2IpO1xcbicsXG4gICAgICBhZGQ6ICdnbF9GcmFnQ29sb3IucmdiICs9IHVDb2xvci5yZ2I7XFxuJyxcbiAgICAgIGRpZmY6ICdnbF9GcmFnQ29sb3IucmdiID0gYWJzKGdsX0ZyYWdDb2xvci5yZ2IgLSB1Q29sb3IucmdiKTtcXG4nLFxuICAgICAgc3VidHJhY3Q6ICdnbF9GcmFnQ29sb3IucmdiIC09IHVDb2xvci5yZ2I7XFxuJyxcbiAgICAgIGxpZ2h0ZW46ICdnbF9GcmFnQ29sb3IucmdiID0gbWF4KGdsX0ZyYWdDb2xvci5yZ2IsIHVDb2xvci5yZ2IpO1xcbicsXG4gICAgICBkYXJrZW46ICdnbF9GcmFnQ29sb3IucmdiID0gbWluKGdsX0ZyYWdDb2xvci5yZ2IsIHVDb2xvci5yZ2IpO1xcbicsXG4gICAgICBleGNsdXNpb246ICdnbF9GcmFnQ29sb3IucmdiICs9IHVDb2xvci5yZ2IgLSAyLjAgKiAodUNvbG9yLnJnYiAqIGdsX0ZyYWdDb2xvci5yZ2IpO1xcbicsXG4gICAgICBvdmVybGF5OiAnaWYgKHVDb2xvci5yIDwgMC41KSB7XFxuJyArXG4gICAgICAgICAgJ2dsX0ZyYWdDb2xvci5yICo9IDIuMCAqIHVDb2xvci5yO1xcbicgK1xuICAgICAgICAnfSBlbHNlIHtcXG4nICtcbiAgICAgICAgICAnZ2xfRnJhZ0NvbG9yLnIgPSAxLjAgLSAyLjAgKiAoMS4wIC0gZ2xfRnJhZ0NvbG9yLnIpICogKDEuMCAtIHVDb2xvci5yKTtcXG4nICtcbiAgICAgICAgJ31cXG4nICtcbiAgICAgICAgJ2lmICh1Q29sb3IuZyA8IDAuNSkge1xcbicgK1xuICAgICAgICAgICdnbF9GcmFnQ29sb3IuZyAqPSAyLjAgKiB1Q29sb3IuZztcXG4nICtcbiAgICAgICAgJ30gZWxzZSB7XFxuJyArXG4gICAgICAgICAgJ2dsX0ZyYWdDb2xvci5nID0gMS4wIC0gMi4wICogKDEuMCAtIGdsX0ZyYWdDb2xvci5nKSAqICgxLjAgLSB1Q29sb3IuZyk7XFxuJyArXG4gICAgICAgICd9XFxuJyArXG4gICAgICAgICdpZiAodUNvbG9yLmIgPCAwLjUpIHtcXG4nICtcbiAgICAgICAgICAnZ2xfRnJhZ0NvbG9yLmIgKj0gMi4wICogdUNvbG9yLmI7XFxuJyArXG4gICAgICAgICd9IGVsc2Uge1xcbicgK1xuICAgICAgICAgICdnbF9GcmFnQ29sb3IuYiA9IDEuMCAtIDIuMCAqICgxLjAgLSBnbF9GcmFnQ29sb3IuYikgKiAoMS4wIC0gdUNvbG9yLmIpO1xcbicgK1xuICAgICAgICAnfVxcbicsXG4gICAgICB0aW50OiAnZ2xfRnJhZ0NvbG9yLnJnYiAqPSAoMS4wIC0gdUNvbG9yLmEpO1xcbicgK1xuICAgICAgICAnZ2xfRnJhZ0NvbG9yLnJnYiArPSB1Q29sb3IucmdiO1xcbicsXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGJ1aWxkIHRoZSBmcmFnbWVudCBzb3VyY2UgZm9yIHRoZSBmaWx0ZXJzLCBqb2luaW5nIHRoZSBjb21tb24gcGFydCB3aXRoXG4gICAgICogdGhlIHNwZWNpZmljIG9uZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbW9kZSB0aGUgbW9kZSBvZiB0aGUgZmlsdGVyLCBhIGtleSBvZiB0aGlzLmZyYWdtZW50U291cmNlXG4gICAgICogQHJldHVybiB7U3RyaW5nfSB0aGUgc291cmNlIHRvIGJlIGNvbXBpbGVkXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBidWlsZFNvdXJjZTogZnVuY3Rpb24obW9kZSkge1xuICAgICAgcmV0dXJuICdwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZTtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gdmVjNCB1Q29sb3I7XFxuJyArXG4gICAgICAgICd2YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbicgK1xuICAgICAgICAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAgICd2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQpO1xcbicgK1xuICAgICAgICAgICdnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG4nICtcbiAgICAgICAgICAnaWYgKGNvbG9yLmEgPiAwLjApIHtcXG4nICtcbiAgICAgICAgICAgIHRoaXMuZnJhZ21lbnRTb3VyY2VbbW9kZV0gK1xuICAgICAgICAgICd9XFxuJyArXG4gICAgICAgICd9JztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBjYWNoZWQgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IG9wdGlvbnMuY29udGV4dCBUaGUgR0wgY29udGV4dCB1c2VkIGZvciByZW5kZXJpbmcuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMucHJvZ3JhbUNhY2hlIEEgbWFwIG9mIGNvbXBpbGVkIHNoYWRlciBwcm9ncmFtcywga2V5ZWQgYnkgZmlsdGVyIHR5cGUuXG4gICAgICovXG4gICAgcmV0cmlldmVTaGFkZXI6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBjYWNoZUtleSA9IHRoaXMudHlwZSArICdfJyArIHRoaXMubW9kZSwgc2hhZGVyU291cmNlO1xuICAgICAgaWYgKCFvcHRpb25zLnByb2dyYW1DYWNoZS5oYXNPd25Qcm9wZXJ0eShjYWNoZUtleSkpIHtcbiAgICAgICAgc2hhZGVyU291cmNlID0gdGhpcy5idWlsZFNvdXJjZSh0aGlzLm1vZGUpO1xuICAgICAgICBvcHRpb25zLnByb2dyYW1DYWNoZVtjYWNoZUtleV0gPSB0aGlzLmNyZWF0ZVByb2dyYW0ob3B0aW9ucy5jb250ZXh0LCBzaGFkZXJTb3VyY2UpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9wdGlvbnMucHJvZ3JhbUNhY2hlW2NhY2hlS2V5XTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQXBwbHkgdGhlIEJsZW5kIG9wZXJhdGlvbiB0byBhIFVpbnQ4Q2xhbXBlZEFycmF5IHJlcHJlc2VudGluZyB0aGUgcGl4ZWxzIG9mIGFuIGltYWdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge0ltYWdlRGF0YX0gb3B0aW9ucy5pbWFnZURhdGEgVGhlIFVpbnQ4Q2xhbXBlZEFycmF5IHRvIGJlIGZpbHRlcmVkLlxuICAgICAqL1xuICAgIGFwcGx5VG8yZDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdmFyIGltYWdlRGF0YSA9IG9wdGlvbnMuaW1hZ2VEYXRhLFxuICAgICAgICAgIGRhdGEgPSBpbWFnZURhdGEuZGF0YSwgaUxlbiA9IGRhdGEubGVuZ3RoLFxuICAgICAgICAgIHRyLCB0ZywgdGIsXG4gICAgICAgICAgciwgZywgYixcbiAgICAgICAgICBzb3VyY2UsIGFscGhhMSA9IDEgLSB0aGlzLmFscGhhO1xuXG4gICAgICBzb3VyY2UgPSBuZXcgZmFicmljLkNvbG9yKHRoaXMuY29sb3IpLmdldFNvdXJjZSgpO1xuICAgICAgdHIgPSBzb3VyY2VbMF0gKiB0aGlzLmFscGhhO1xuICAgICAgdGcgPSBzb3VyY2VbMV0gKiB0aGlzLmFscGhhO1xuICAgICAgdGIgPSBzb3VyY2VbMl0gKiB0aGlzLmFscGhhO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlMZW47IGkgKz0gNCkge1xuXG4gICAgICAgIHIgPSBkYXRhW2ldO1xuICAgICAgICBnID0gZGF0YVtpICsgMV07XG4gICAgICAgIGIgPSBkYXRhW2kgKyAyXTtcblxuICAgICAgICBzd2l0Y2ggKHRoaXMubW9kZSkge1xuICAgICAgICAgIGNhc2UgJ211bHRpcGx5JzpcbiAgICAgICAgICAgIGRhdGFbaV0gPSByICogdHIgLyAyNTU7XG4gICAgICAgICAgICBkYXRhW2kgKyAxXSA9IGcgKiB0ZyAvIDI1NTtcbiAgICAgICAgICAgIGRhdGFbaSArIDJdID0gYiAqIHRiIC8gMjU1O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnc2NyZWVuJzpcbiAgICAgICAgICAgIGRhdGFbaV0gPSAyNTUgLSAoMjU1IC0gcikgKiAoMjU1IC0gdHIpIC8gMjU1O1xuICAgICAgICAgICAgZGF0YVtpICsgMV0gPSAyNTUgLSAoMjU1IC0gZykgKiAoMjU1IC0gdGcpIC8gMjU1O1xuICAgICAgICAgICAgZGF0YVtpICsgMl0gPSAyNTUgLSAoMjU1IC0gYikgKiAoMjU1IC0gdGIpIC8gMjU1O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnYWRkJzpcbiAgICAgICAgICAgIGRhdGFbaV0gPSByICsgdHI7XG4gICAgICAgICAgICBkYXRhW2kgKyAxXSA9IGcgKyB0ZztcbiAgICAgICAgICAgIGRhdGFbaSArIDJdID0gYiArIHRiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnZGlmZic6XG4gICAgICAgICAgY2FzZSAnZGlmZmVyZW5jZSc6XG4gICAgICAgICAgICBkYXRhW2ldID0gTWF0aC5hYnMociAtIHRyKTtcbiAgICAgICAgICAgIGRhdGFbaSArIDFdID0gTWF0aC5hYnMoZyAtIHRnKTtcbiAgICAgICAgICAgIGRhdGFbaSArIDJdID0gTWF0aC5hYnMoYiAtIHRiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3N1YnRyYWN0JzpcbiAgICAgICAgICAgIGRhdGFbaV0gPSByIC0gdHI7XG4gICAgICAgICAgICBkYXRhW2kgKyAxXSA9IGcgLSB0ZztcbiAgICAgICAgICAgIGRhdGFbaSArIDJdID0gYiAtIHRiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnZGFya2VuJzpcbiAgICAgICAgICAgIGRhdGFbaV0gPSBNYXRoLm1pbihyLCB0cik7XG4gICAgICAgICAgICBkYXRhW2kgKyAxXSA9IE1hdGgubWluKGcsIHRnKTtcbiAgICAgICAgICAgIGRhdGFbaSArIDJdID0gTWF0aC5taW4oYiwgdGIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnbGlnaHRlbic6XG4gICAgICAgICAgICBkYXRhW2ldID0gTWF0aC5tYXgociwgdHIpO1xuICAgICAgICAgICAgZGF0YVtpICsgMV0gPSBNYXRoLm1heChnLCB0Zyk7XG4gICAgICAgICAgICBkYXRhW2kgKyAyXSA9IE1hdGgubWF4KGIsIHRiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ292ZXJsYXknOlxuICAgICAgICAgICAgZGF0YVtpXSA9IHRyIDwgMTI4ID8gKDIgKiByICogdHIgLyAyNTUpIDogKDI1NSAtIDIgKiAoMjU1IC0gcikgKiAoMjU1IC0gdHIpIC8gMjU1KTtcbiAgICAgICAgICAgIGRhdGFbaSArIDFdID0gdGcgPCAxMjggPyAoMiAqIGcgKiB0ZyAvIDI1NSkgOiAoMjU1IC0gMiAqICgyNTUgLSBnKSAqICgyNTUgLSB0ZykgLyAyNTUpO1xuICAgICAgICAgICAgZGF0YVtpICsgMl0gPSB0YiA8IDEyOCA/ICgyICogYiAqIHRiIC8gMjU1KSA6ICgyNTUgLSAyICogKDI1NSAtIGIpICogKDI1NSAtIHRiKSAvIDI1NSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdleGNsdXNpb24nOlxuICAgICAgICAgICAgZGF0YVtpXSA9IHRyICsgciAtICgoMiAqIHRyICogcikgLyAyNTUpO1xuICAgICAgICAgICAgZGF0YVtpICsgMV0gPSB0ZyArIGcgLSAoKDIgKiB0ZyAqIGcpIC8gMjU1KTtcbiAgICAgICAgICAgIGRhdGFbaSArIDJdID0gdGIgKyBiIC0gKCgyICogdGIgKiBiKSAvIDI1NSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICd0aW50JzpcbiAgICAgICAgICAgIGRhdGFbaV0gPSB0ciArIHIgKiBhbHBoYTE7XG4gICAgICAgICAgICBkYXRhW2kgKyAxXSA9IHRnICsgZyAqIGFscGhhMTtcbiAgICAgICAgICAgIGRhdGFbaSArIDJdID0gdGIgKyBiICogYWxwaGExO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiBXZWJHTCB1bmlmb3JtIGxvY2F0aW9ucyBmb3IgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge1dlYkdMU2hhZGVyUHJvZ3JhbX0gcHJvZ3JhbSBUaGlzIGZpbHRlcidzIGNvbXBpbGVkIHNoYWRlciBwcm9ncmFtLlxuICAgICAqL1xuICAgIGdldFVuaWZvcm1Mb2NhdGlvbnM6IGZ1bmN0aW9uKGdsLCBwcm9ncmFtKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB1Q29sb3I6IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndUNvbG9yJyksXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZW5kIGRhdGEgZnJvbSB0aGlzIGZpbHRlciB0byBpdHMgc2hhZGVyIHByb2dyYW0ncyB1bmlmb3Jtcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgR0wgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB1bmlmb3JtTG9jYXRpb25zIEEgbWFwIG9mIHN0cmluZyB1bmlmb3JtIG5hbWVzIHRvIFdlYkdMVW5pZm9ybUxvY2F0aW9uIG9iamVjdHNcbiAgICAgKi9cbiAgICBzZW5kVW5pZm9ybURhdGE6IGZ1bmN0aW9uKGdsLCB1bmlmb3JtTG9jYXRpb25zKSB7XG4gICAgICB2YXIgc291cmNlID0gbmV3IGZhYnJpYy5Db2xvcih0aGlzLmNvbG9yKS5nZXRTb3VyY2UoKTtcbiAgICAgIHNvdXJjZVswXSA9IHRoaXMuYWxwaGEgKiBzb3VyY2VbMF0gLyAyNTU7XG4gICAgICBzb3VyY2VbMV0gPSB0aGlzLmFscGhhICogc291cmNlWzFdIC8gMjU1O1xuICAgICAgc291cmNlWzJdID0gdGhpcy5hbHBoYSAqIHNvdXJjZVsyXSAvIDI1NTtcbiAgICAgIHNvdXJjZVszXSA9IHRoaXMuYWxwaGE7XG4gICAgICBnbC51bmlmb3JtNGZ2KHVuaWZvcm1Mb2NhdGlvbnMudUNvbG9yLCBzb3VyY2UpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgdG9PYmplY3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgICBjb2xvcjogdGhpcy5jb2xvcixcbiAgICAgICAgbW9kZTogdGhpcy5tb2RlLFxuICAgICAgICBhbHBoYTogdGhpcy5hbHBoYVxuICAgICAgfTtcbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGZpbHRlciBpbnN0YW5jZSBmcm9tIGFuIG9iamVjdCByZXByZXNlbnRhdGlvblxuICAgKiBAc3RhdGljXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBmcm9tXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYWxsYmFja10gdG8gYmUgaW52b2tlZCBhZnRlciBmaWx0ZXIgY3JlYXRpb25cbiAgICogQHJldHVybiB7ZmFicmljLkltYWdlLmZpbHRlcnMuQmxlbmRDb2xvcn0gSW5zdGFuY2Ugb2YgZmFicmljLkltYWdlLmZpbHRlcnMuQmxlbmRDb2xvclxuICAgKi9cbiAgZmFicmljLkltYWdlLmZpbHRlcnMuQmxlbmRDb2xvci5mcm9tT2JqZWN0ID0gZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlci5mcm9tT2JqZWN0O1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyA9IGdsb2JhbC5mYWJyaWMsXG4gICAgICBmaWx0ZXJzID0gZmFicmljLkltYWdlLmZpbHRlcnMsXG4gICAgICBjcmVhdGVDbGFzcyA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzO1xuXG4gIC8qKlxuICAgKiBJbWFnZSBCbGVuZCBmaWx0ZXIgY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5JbWFnZS5maWx0ZXIuQmxlbmRJbWFnZVxuICAgKiBAbWVtYmVyT2YgZmFicmljLkltYWdlLmZpbHRlcnNcbiAgICogQGV4dGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlclxuICAgKiBAZXhhbXBsZVxuICAgKiB2YXIgZmlsdGVyID0gbmV3IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJsZW5kQ29sb3Ioe1xuICAgKiAgY29sb3I6ICcjMDAwJyxcbiAgICogIG1vZGU6ICdtdWx0aXBseSdcbiAgICogfSk7XG4gICAqXG4gICAqIHZhciBmaWx0ZXIgPSBuZXcgZmFicmljLkltYWdlLmZpbHRlcnMuQmxlbmRJbWFnZSh7XG4gICAqICBpbWFnZTogZmFicmljSW1hZ2VPYmplY3QsXG4gICAqICBtb2RlOiAnbXVsdGlwbHknLFxuICAgKiAgYWxwaGE6IDAuNVxuICAgKiB9KTtcbiAgICogb2JqZWN0LmZpbHRlcnMucHVzaChmaWx0ZXIpO1xuICAgKiBvYmplY3QuYXBwbHlGaWx0ZXJzKCk7XG4gICAqIGNhbnZhcy5yZW5kZXJBbGwoKTtcbiAgICovXG5cbiAgZmlsdGVycy5CbGVuZEltYWdlID0gY3JlYXRlQ2xhc3MoZmlsdGVycy5CYXNlRmlsdGVyLCAvKiogQGxlbmRzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJsZW5kSW1hZ2UucHJvdG90eXBlICovIHtcbiAgICB0eXBlOiAnQmxlbmRJbWFnZScsXG5cbiAgICAvKipcbiAgICAgKiBDb2xvciB0byBtYWtlIHRoZSBibGVuZCBvcGVyYXRpb24gd2l0aC4gZGVmYXVsdCB0byBhIHJlZGRpc2ggY29sb3Igc2luY2UgYmxhY2sgb3Igd2hpdGVcbiAgICAgKiBnaXZlcyBhbHdheXMgc3Ryb25nIHJlc3VsdC5cbiAgICAgKiovXG4gICAgaW1hZ2U6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBCbGVuZCBtb2RlIGZvciB0aGUgZmlsdGVyIChvbmUgb2YgXCJtdWx0aXBseVwiLCBcIm1hc2tcIilcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqKi9cbiAgICBtb2RlOiAnbXVsdGlwbHknLFxuXG4gICAgLyoqXG4gICAgICogYWxwaGEgdmFsdWUuIHJlcHJlc2VudCB0aGUgc3RyZW5ndGggb2YgdGhlIGJsZW5kIGltYWdlIG9wZXJhdGlvbi5cbiAgICAgKiBub3QgaW1wbGVtZW50ZWQuXG4gICAgICoqL1xuICAgIGFscGhhOiAxLFxuXG4gICAgdmVydGV4U291cmNlOiAnYXR0cmlidXRlIHZlYzIgYVBvc2l0aW9uO1xcbicgK1xuICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAndmFyeWluZyB2ZWMyIHZUZXhDb29yZDI7XFxuJyArXG4gICAgICAndW5pZm9ybSBtYXQzIHVUcmFuc2Zvcm1NYXRyaXg7XFxuJyArXG4gICAgICAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAndlRleENvb3JkID0gYVBvc2l0aW9uO1xcbicgK1xuICAgICAgICAndlRleENvb3JkMiA9ICh1VHJhbnNmb3JtTWF0cml4ICogdmVjMyhhUG9zaXRpb24sIDEuMCkpLnh5O1xcbicgK1xuICAgICAgICAnZ2xfUG9zaXRpb24gPSB2ZWM0KGFQb3NpdGlvbiAqIDIuMCAtIDEuMCwgMC4wLCAxLjApO1xcbicgK1xuICAgICAgJ30nLFxuXG4gICAgLyoqXG4gICAgICogRnJhZ21lbnQgc291cmNlIGZvciB0aGUgTXVsdGlwbHkgcHJvZ3JhbVxuICAgICAqL1xuICAgIGZyYWdtZW50U291cmNlOiB7XG4gICAgICBtdWx0aXBseTogJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBzYW1wbGVyMkQgdUltYWdlO1xcbicgK1xuICAgICAgICAndW5pZm9ybSB2ZWM0IHVDb2xvcjtcXG4nICtcbiAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAgICd2YXJ5aW5nIHZlYzIgdlRleENvb3JkMjtcXG4nICtcbiAgICAgICAgJ3ZvaWQgbWFpbigpIHtcXG4nICtcbiAgICAgICAgICAndmVjNCBjb2xvciA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKTtcXG4nICtcbiAgICAgICAgICAndmVjNCBjb2xvcjIgPSB0ZXh0dXJlMkQodUltYWdlLCB2VGV4Q29vcmQyKTtcXG4nICtcbiAgICAgICAgICAnY29sb3IucmdiYSAqPSBjb2xvcjIucmdiYTtcXG4nICtcbiAgICAgICAgICAnZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxuJyArXG4gICAgICAgICd9JyxcbiAgICAgIG1hc2s6ICdwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZTtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVJbWFnZTtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gdmVjNCB1Q29sb3I7XFxuJyArXG4gICAgICAgICd2YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbicgK1xuICAgICAgICAndmFyeWluZyB2ZWMyIHZUZXhDb29yZDI7XFxuJyArXG4gICAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICAgJ3ZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVRleHR1cmUsIHZUZXhDb29yZCk7XFxuJyArXG4gICAgICAgICAgJ3ZlYzQgY29sb3IyID0gdGV4dHVyZTJEKHVJbWFnZSwgdlRleENvb3JkMik7XFxuJyArXG4gICAgICAgICAgJ2NvbG9yLmEgPSBjb2xvcjIuYTtcXG4nICtcbiAgICAgICAgICAnZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxuJyArXG4gICAgICAgICd9JyxcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBjYWNoZWQgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IG9wdGlvbnMuY29udGV4dCBUaGUgR0wgY29udGV4dCB1c2VkIGZvciByZW5kZXJpbmcuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMucHJvZ3JhbUNhY2hlIEEgbWFwIG9mIGNvbXBpbGVkIHNoYWRlciBwcm9ncmFtcywga2V5ZWQgYnkgZmlsdGVyIHR5cGUuXG4gICAgICovXG4gICAgcmV0cmlldmVTaGFkZXI6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBjYWNoZUtleSA9IHRoaXMudHlwZSArICdfJyArIHRoaXMubW9kZTtcbiAgICAgIHZhciBzaGFkZXJTb3VyY2UgPSB0aGlzLmZyYWdtZW50U291cmNlW3RoaXMubW9kZV07XG4gICAgICBpZiAoIW9wdGlvbnMucHJvZ3JhbUNhY2hlLmhhc093blByb3BlcnR5KGNhY2hlS2V5KSkge1xuICAgICAgICBvcHRpb25zLnByb2dyYW1DYWNoZVtjYWNoZUtleV0gPSB0aGlzLmNyZWF0ZVByb2dyYW0ob3B0aW9ucy5jb250ZXh0LCBzaGFkZXJTb3VyY2UpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9wdGlvbnMucHJvZ3JhbUNhY2hlW2NhY2hlS2V5XTtcbiAgICB9LFxuXG4gICAgYXBwbHlUb1dlYkdMOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAvLyBsb2FkIHRleHR1cmUgdG8gYmxlbmQuXG4gICAgICB2YXIgZ2wgPSBvcHRpb25zLmNvbnRleHQsXG4gICAgICAgICAgdGV4dHVyZSA9IHRoaXMuY3JlYXRlVGV4dHVyZShvcHRpb25zLmZpbHRlckJhY2tlbmQsIHRoaXMuaW1hZ2UpO1xuICAgICAgdGhpcy5iaW5kQWRkaXRpb25hbFRleHR1cmUoZ2wsIHRleHR1cmUsIGdsLlRFWFRVUkUxKTtcbiAgICAgIHRoaXMuY2FsbFN1cGVyKCdhcHBseVRvV2ViR0wnLCBvcHRpb25zKTtcbiAgICAgIHRoaXMudW5iaW5kQWRkaXRpb25hbFRleHR1cmUoZ2wsIGdsLlRFWFRVUkUxKTtcbiAgICB9LFxuXG4gICAgY3JlYXRlVGV4dHVyZTogZnVuY3Rpb24oYmFja2VuZCwgaW1hZ2UpIHtcbiAgICAgIHJldHVybiBiYWNrZW5kLmdldENhY2hlZFRleHR1cmUoaW1hZ2UuY2FjaGVLZXksIGltYWdlLl9lbGVtZW50KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIGEgdHJhbnNmb3JtTWF0cml4IHRvIGFkYXB0IHRoZSBpbWFnZSB0byBibGVuZCBvdmVyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gb3B0aW9ucy5jb250ZXh0IFRoZSBHTCBjb250ZXh0IHVzZWQgZm9yIHJlbmRlcmluZy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucy5wcm9ncmFtQ2FjaGUgQSBtYXAgb2YgY29tcGlsZWQgc2hhZGVyIHByb2dyYW1zLCBrZXllZCBieSBmaWx0ZXIgdHlwZS5cbiAgICAgKi9cbiAgICBjYWxjdWxhdGVNYXRyaXg6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGltYWdlID0gdGhpcy5pbWFnZSxcbiAgICAgICAgICB3aWR0aCA9IGltYWdlLl9lbGVtZW50LndpZHRoLFxuICAgICAgICAgIGhlaWdodCA9IGltYWdlLl9lbGVtZW50LmhlaWdodDtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIDEgLyBpbWFnZS5zY2FsZVgsIDAsIDAsXG4gICAgICAgIDAsIDEgLyBpbWFnZS5zY2FsZVksIDAsXG4gICAgICAgIC1pbWFnZS5sZWZ0IC8gd2lkdGgsIC1pbWFnZS50b3AgLyBoZWlnaHQsIDFcbiAgICAgIF07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFwcGx5IHRoZSBCbGVuZCBvcGVyYXRpb24gdG8gYSBVaW50OENsYW1wZWRBcnJheSByZXByZXNlbnRpbmcgdGhlIHBpeGVscyBvZiBhbiBpbWFnZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHBhcmFtIHtJbWFnZURhdGF9IG9wdGlvbnMuaW1hZ2VEYXRhIFRoZSBVaW50OENsYW1wZWRBcnJheSB0byBiZSBmaWx0ZXJlZC5cbiAgICAgKi9cbiAgICBhcHBseVRvMmQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBpbWFnZURhdGEgPSBvcHRpb25zLmltYWdlRGF0YSxcbiAgICAgICAgICByZXNvdXJjZXMgPSBvcHRpb25zLmZpbHRlckJhY2tlbmQucmVzb3VyY2VzLFxuICAgICAgICAgIGRhdGEgPSBpbWFnZURhdGEuZGF0YSwgaUxlbiA9IGRhdGEubGVuZ3RoLFxuICAgICAgICAgIHdpZHRoID0gaW1hZ2VEYXRhLndpZHRoLFxuICAgICAgICAgIGhlaWdodCA9IGltYWdlRGF0YS5oZWlnaHQsXG4gICAgICAgICAgdHIsIHRnLCB0YiwgdGEsXG4gICAgICAgICAgciwgZywgYiwgYSxcbiAgICAgICAgICBjYW52YXMxLCBjb250ZXh0LCBpbWFnZSA9IHRoaXMuaW1hZ2UsIGJsZW5kRGF0YTtcblxuICAgICAgaWYgKCFyZXNvdXJjZXMuYmxlbmRJbWFnZSkge1xuICAgICAgICByZXNvdXJjZXMuYmxlbmRJbWFnZSA9IGZhYnJpYy51dGlsLmNyZWF0ZUNhbnZhc0VsZW1lbnQoKTtcbiAgICAgIH1cbiAgICAgIGNhbnZhczEgPSByZXNvdXJjZXMuYmxlbmRJbWFnZTtcbiAgICAgIGNvbnRleHQgPSBjYW52YXMxLmdldENvbnRleHQoJzJkJyk7XG4gICAgICBpZiAoY2FudmFzMS53aWR0aCAhPT0gd2lkdGggfHwgY2FudmFzMS5oZWlnaHQgIT09IGhlaWdodCkge1xuICAgICAgICBjYW52YXMxLndpZHRoID0gd2lkdGg7XG4gICAgICAgIGNhbnZhczEuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgfVxuICAgICAgY29udGV4dC5zZXRUcmFuc2Zvcm0oaW1hZ2Uuc2NhbGVYLCAwLCAwLCBpbWFnZS5zY2FsZVksIGltYWdlLmxlZnQsIGltYWdlLnRvcCk7XG4gICAgICBjb250ZXh0LmRyYXdJbWFnZShpbWFnZS5fZWxlbWVudCwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICBibGVuZERhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCB3aWR0aCwgaGVpZ2h0KS5kYXRhO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpTGVuOyBpICs9IDQpIHtcblxuICAgICAgICByID0gZGF0YVtpXTtcbiAgICAgICAgZyA9IGRhdGFbaSArIDFdO1xuICAgICAgICBiID0gZGF0YVtpICsgMl07XG4gICAgICAgIGEgPSBkYXRhW2kgKyAzXTtcblxuICAgICAgICB0ciA9IGJsZW5kRGF0YVtpXTtcbiAgICAgICAgdGcgPSBibGVuZERhdGFbaSArIDFdO1xuICAgICAgICB0YiA9IGJsZW5kRGF0YVtpICsgMl07XG4gICAgICAgIHRhID0gYmxlbmREYXRhW2kgKyAzXTtcblxuICAgICAgICBzd2l0Y2ggKHRoaXMubW9kZSkge1xuICAgICAgICAgIGNhc2UgJ211bHRpcGx5JzpcbiAgICAgICAgICAgIGRhdGFbaV0gPSByICogdHIgLyAyNTU7XG4gICAgICAgICAgICBkYXRhW2kgKyAxXSA9IGcgKiB0ZyAvIDI1NTtcbiAgICAgICAgICAgIGRhdGFbaSArIDJdID0gYiAqIHRiIC8gMjU1O1xuICAgICAgICAgICAgZGF0YVtpICsgM10gPSBhICogdGEgLyAyNTU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdtYXNrJzpcbiAgICAgICAgICAgIGRhdGFbaSArIDNdID0gdGE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gV2ViR0wgdW5pZm9ybSBsb2NhdGlvbnMgZm9yIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtXZWJHTFNoYWRlclByb2dyYW19IHByb2dyYW0gVGhpcyBmaWx0ZXIncyBjb21waWxlZCBzaGFkZXIgcHJvZ3JhbS5cbiAgICAgKi9cbiAgICBnZXRVbmlmb3JtTG9jYXRpb25zOiBmdW5jdGlvbihnbCwgcHJvZ3JhbSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdVRyYW5zZm9ybU1hdHJpeDogZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1VHJhbnNmb3JtTWF0cml4JyksXG4gICAgICAgIHVJbWFnZTogZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1SW1hZ2UnKSxcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNlbmQgZGF0YSBmcm9tIHRoaXMgZmlsdGVyIHRvIGl0cyBzaGFkZXIgcHJvZ3JhbSdzIHVuaWZvcm1zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHVuaWZvcm1Mb2NhdGlvbnMgQSBtYXAgb2Ygc3RyaW5nIHVuaWZvcm0gbmFtZXMgdG8gV2ViR0xVbmlmb3JtTG9jYXRpb24gb2JqZWN0c1xuICAgICAqL1xuICAgIHNlbmRVbmlmb3JtRGF0YTogZnVuY3Rpb24oZ2wsIHVuaWZvcm1Mb2NhdGlvbnMpIHtcbiAgICAgIHZhciBtYXRyaXggPSB0aGlzLmNhbGN1bGF0ZU1hdHJpeCgpO1xuICAgICAgZ2wudW5pZm9ybTFpKHVuaWZvcm1Mb2NhdGlvbnMudUltYWdlLCAxKTsgLy8gdGV4dHVyZSB1bml0IDEuXG4gICAgICBnbC51bmlmb3JtTWF0cml4M2Z2KHVuaWZvcm1Mb2NhdGlvbnMudVRyYW5zZm9ybU1hdHJpeCwgZmFsc2UsIG1hdHJpeCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBPYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b09iamVjdDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgIGltYWdlOiB0aGlzLmltYWdlICYmIHRoaXMuaW1hZ2UudG9PYmplY3QoKSxcbiAgICAgICAgbW9kZTogdGhpcy5tb2RlLFxuICAgICAgICBhbHBoYTogdGhpcy5hbHBoYVxuICAgICAgfTtcbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGZpbHRlciBpbnN0YW5jZSBmcm9tIGFuIG9iamVjdCByZXByZXNlbnRhdGlvblxuICAgKiBAc3RhdGljXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBmcm9tXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIHRvIGJlIGludm9rZWQgYWZ0ZXIgZmlsdGVyIGNyZWF0aW9uXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JbWFnZS5maWx0ZXJzLkJsZW5kSW1hZ2V9IEluc3RhbmNlIG9mIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJsZW5kSW1hZ2VcbiAgICovXG4gIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJsZW5kSW1hZ2UuZnJvbU9iamVjdCA9IGZ1bmN0aW9uKG9iamVjdCwgY2FsbGJhY2spIHtcbiAgICBmYWJyaWMuSW1hZ2UuZnJvbU9iamVjdChvYmplY3QuaW1hZ2UsIGZ1bmN0aW9uKGltYWdlKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IGZhYnJpYy51dGlsLm9iamVjdC5jbG9uZShvYmplY3QpO1xuICAgICAgb3B0aW9ucy5pbWFnZSA9IGltYWdlO1xuICAgICAgY2FsbGJhY2sobmV3IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJsZW5kSW1hZ2Uob3B0aW9ucykpO1xuICAgIH0pO1xuICB9O1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljICA9IGdsb2JhbC5mYWJyaWMgfHwgKGdsb2JhbC5mYWJyaWMgPSB7IH0pLCBwb3cgPSBNYXRoLnBvdywgZmxvb3IgPSBNYXRoLmZsb29yLFxuICAgICAgc3FydCA9IE1hdGguc3FydCwgYWJzID0gTWF0aC5hYnMsIHJvdW5kID0gTWF0aC5yb3VuZCwgc2luID0gTWF0aC5zaW4sXG4gICAgICBjZWlsID0gTWF0aC5jZWlsLFxuICAgICAgZmlsdGVycyA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLFxuICAgICAgY3JlYXRlQ2xhc3MgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcztcblxuICAvKipcbiAgICogUmVzaXplIGltYWdlIGZpbHRlciBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkltYWdlLmZpbHRlcnMuUmVzaXplXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuSW1hZ2UuZmlsdGVyc1xuICAgKiBAZXh0ZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyXG4gICAqIEBzZWUge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vaW1hZ2UtZmlsdGVyc3xJbWFnZUZpbHRlcnMgZGVtb31cbiAgICogQGV4YW1wbGVcbiAgICogdmFyIGZpbHRlciA9IG5ldyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5SZXNpemUoKTtcbiAgICogb2JqZWN0LmZpbHRlcnMucHVzaChmaWx0ZXIpO1xuICAgKiBvYmplY3QuYXBwbHlGaWx0ZXJzKGNhbnZhcy5yZW5kZXJBbGwuYmluZChjYW52YXMpKTtcbiAgICovXG4gIGZpbHRlcnMuUmVzaXplID0gY3JlYXRlQ2xhc3MoZmlsdGVycy5CYXNlRmlsdGVyLCAvKiogQGxlbmRzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLlJlc2l6ZS5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogRmlsdGVyIHR5cGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHlwZTogJ1Jlc2l6ZScsXG5cbiAgICAvKipcbiAgICAgKiBSZXNpemUgdHlwZVxuICAgICAqIGZvciB3ZWJnbCByZXNpemVUeXBlIGlzIGp1c3QgbGFuY3pvcywgZm9yIGNhbnZhczJkIGNhbiBiZTpcbiAgICAgKiBiaWxpbmVhciwgaGVybWl0ZSwgc2xpY2VIYWNrLCBsYW5jem9zLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSByZXNpemVUeXBlXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICByZXNpemVUeXBlOiAnaGVybWl0ZScsXG5cbiAgICAvKipcbiAgICAgKiBTY2FsZSBmYWN0b3IgZm9yIHJlc2l6aW5nLCB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGVYXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzY2FsZVg6IDEsXG5cbiAgICAvKipcbiAgICAgKiBTY2FsZSBmYWN0b3IgZm9yIHJlc2l6aW5nLCB5IGF4aXNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGVZXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzY2FsZVk6IDEsXG5cbiAgICAvKipcbiAgICAgKiBMYW5jem9zTG9iZXMgcGFyYW1ldGVyIGZvciBsYW5jem9zIGZpbHRlciwgdmFsaWQgZm9yIHJlc2l6ZVR5cGUgbGFuY3pvc1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsYW5jem9zTG9iZXNcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGxhbmN6b3NMb2JlczogMyxcblxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIFdlYkdMIHVuaWZvcm0gbG9jYXRpb25zIGZvciB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgR0wgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7V2ViR0xTaGFkZXJQcm9ncmFtfSBwcm9ncmFtIFRoaXMgZmlsdGVyJ3MgY29tcGlsZWQgc2hhZGVyIHByb2dyYW0uXG4gICAgICovXG4gICAgZ2V0VW5pZm9ybUxvY2F0aW9uczogZnVuY3Rpb24oZ2wsIHByb2dyYW0pIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVEZWx0YTogZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1RGVsdGEnKSxcbiAgICAgICAgdVRhcHM6IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndVRhcHMnKSxcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNlbmQgZGF0YSBmcm9tIHRoaXMgZmlsdGVyIHRvIGl0cyBzaGFkZXIgcHJvZ3JhbSdzIHVuaWZvcm1zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHVuaWZvcm1Mb2NhdGlvbnMgQSBtYXAgb2Ygc3RyaW5nIHVuaWZvcm0gbmFtZXMgdG8gV2ViR0xVbmlmb3JtTG9jYXRpb24gb2JqZWN0c1xuICAgICAqL1xuICAgIHNlbmRVbmlmb3JtRGF0YTogZnVuY3Rpb24oZ2wsIHVuaWZvcm1Mb2NhdGlvbnMpIHtcbiAgICAgIGdsLnVuaWZvcm0yZnYodW5pZm9ybUxvY2F0aW9ucy51RGVsdGEsIHRoaXMuaG9yaXpvbnRhbCA/IFsxIC8gdGhpcy53aWR0aCwgMF0gOiBbMCwgMSAvIHRoaXMuaGVpZ2h0XSk7XG4gICAgICBnbC51bmlmb3JtMWZ2KHVuaWZvcm1Mb2NhdGlvbnMudVRhcHMsIHRoaXMudGFwcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgY2FjaGVkIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBvcHRpb25zLmNvbnRleHQgVGhlIEdMIGNvbnRleHQgdXNlZCBmb3IgcmVuZGVyaW5nLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLnByb2dyYW1DYWNoZSBBIG1hcCBvZiBjb21waWxlZCBzaGFkZXIgcHJvZ3JhbXMsIGtleWVkIGJ5IGZpbHRlciB0eXBlLlxuICAgICAqL1xuICAgIHJldHJpZXZlU2hhZGVyOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICB2YXIgZmlsdGVyV2luZG93ID0gdGhpcy5nZXRGaWx0ZXJXaW5kb3coKSwgY2FjaGVLZXkgPSB0aGlzLnR5cGUgKyAnXycgKyBmaWx0ZXJXaW5kb3c7XG4gICAgICBpZiAoIW9wdGlvbnMucHJvZ3JhbUNhY2hlLmhhc093blByb3BlcnR5KGNhY2hlS2V5KSkge1xuICAgICAgICB2YXIgZnJhZ21lbnRTaGFkZXIgPSB0aGlzLmdlbmVyYXRlU2hhZGVyKGZpbHRlcldpbmRvdyk7XG4gICAgICAgIG9wdGlvbnMucHJvZ3JhbUNhY2hlW2NhY2hlS2V5XSA9IHRoaXMuY3JlYXRlUHJvZ3JhbShvcHRpb25zLmNvbnRleHQsIGZyYWdtZW50U2hhZGVyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvcHRpb25zLnByb2dyYW1DYWNoZVtjYWNoZUtleV07XG4gICAgfSxcblxuICAgIGdldEZpbHRlcldpbmRvdzogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2NhbGUgPSB0aGlzLnRlbXBTY2FsZTtcbiAgICAgIHJldHVybiBNYXRoLmNlaWwodGhpcy5sYW5jem9zTG9iZXMgLyBzY2FsZSk7XG4gICAgfSxcblxuICAgIGdldFRhcHM6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGxvYmVGdW5jdGlvbiA9IHRoaXMubGFuY3pvc0NyZWF0ZSh0aGlzLmxhbmN6b3NMb2JlcyksIHNjYWxlID0gdGhpcy50ZW1wU2NhbGUsXG4gICAgICAgICAgZmlsdGVyV2luZG93ID0gdGhpcy5nZXRGaWx0ZXJXaW5kb3coKSwgdGFwcyA9IG5ldyBBcnJheShmaWx0ZXJXaW5kb3cpO1xuICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gZmlsdGVyV2luZG93OyBpKyspIHtcbiAgICAgICAgdGFwc1tpIC0gMV0gPSBsb2JlRnVuY3Rpb24oaSAqIHNjYWxlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0YXBzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSB2ZXJ0ZXggYW5kIHNoYWRlciBzb3VyY2VzIGZyb20gdGhlIG5lY2Vzc2FyeSBzdGVwcyBudW1iZXJzXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGZpbHRlcldpbmRvd1xuICAgICAqL1xuICAgIGdlbmVyYXRlU2hhZGVyOiBmdW5jdGlvbihmaWx0ZXJXaW5kb3cpIHtcbiAgICAgIHZhciBvZmZzZXRzID0gbmV3IEFycmF5KGZpbHRlcldpbmRvdyksXG4gICAgICAgICAgZnJhZ21lbnRTaGFkZXIgPSB0aGlzLmZyYWdtZW50U291cmNlVE9QLCBmaWx0ZXJXaW5kb3c7XG5cbiAgICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IGZpbHRlcldpbmRvdzsgaSsrKSB7XG4gICAgICAgIG9mZnNldHNbaSAtIDFdID0gaSArICcuMCAqIHVEZWx0YSc7XG4gICAgICB9XG5cbiAgICAgIGZyYWdtZW50U2hhZGVyICs9ICd1bmlmb3JtIGZsb2F0IHVUYXBzWycgKyBmaWx0ZXJXaW5kb3cgKyAnXTtcXG4nO1xuICAgICAgZnJhZ21lbnRTaGFkZXIgKz0gJ3ZvaWQgbWFpbigpIHtcXG4nO1xuICAgICAgZnJhZ21lbnRTaGFkZXIgKz0gJyAgdmVjNCBjb2xvciA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKTtcXG4nO1xuICAgICAgZnJhZ21lbnRTaGFkZXIgKz0gJyAgZmxvYXQgc3VtID0gMS4wO1xcbic7XG5cbiAgICAgIG9mZnNldHMuZm9yRWFjaChmdW5jdGlvbihvZmZzZXQsIGkpIHtcbiAgICAgICAgZnJhZ21lbnRTaGFkZXIgKz0gJyAgY29sb3IgKz0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQgKyAnICsgb2Zmc2V0ICsgJykgKiB1VGFwc1snICsgaSArICddO1xcbic7XG4gICAgICAgIGZyYWdtZW50U2hhZGVyICs9ICcgIGNvbG9yICs9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkIC0gJyArIG9mZnNldCArICcpICogdVRhcHNbJyArIGkgKyAnXTtcXG4nO1xuICAgICAgICBmcmFnbWVudFNoYWRlciArPSAnICBzdW0gKz0gMi4wICogdVRhcHNbJyArIGkgKyAnXTtcXG4nO1xuICAgICAgfSk7XG4gICAgICBmcmFnbWVudFNoYWRlciArPSAnICBnbF9GcmFnQ29sb3IgPSBjb2xvciAvIHN1bTtcXG4nO1xuICAgICAgZnJhZ21lbnRTaGFkZXIgKz0gJ30nO1xuICAgICAgcmV0dXJuIGZyYWdtZW50U2hhZGVyO1xuICAgIH0sXG5cbiAgICBmcmFnbWVudFNvdXJjZVRPUDogJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4nICtcbiAgICAgICd1bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZTtcXG4nICtcbiAgICAgICd1bmlmb3JtIHZlYzIgdURlbHRhO1xcbicgK1xuICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyxcblxuICAgIC8qKlxuICAgICAqIEFwcGx5IHRoZSByZXNpemUgZmlsdGVyIHRvIHRoZSBpbWFnZVxuICAgICAqIERldGVybWluZXMgd2hldGhlciB0byB1c2UgV2ViR0wgb3IgQ2FudmFzMkQgYmFzZWQgb24gdGhlIG9wdGlvbnMud2ViZ2wgZmxhZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG9wdGlvbnMucGFzc2VzIFRoZSBudW1iZXIgb2YgZmlsdGVycyByZW1haW5pbmcgdG8gYmUgZXhlY3V0ZWRcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IG9wdGlvbnMud2ViZ2wgV2hldGhlciB0byB1c2Ugd2ViZ2wgdG8gcmVuZGVyIHRoZSBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtXZWJHTFRleHR1cmV9IG9wdGlvbnMuc291cmNlVGV4dHVyZSBUaGUgdGV4dHVyZSBzZXR1cCBhcyB0aGUgc291cmNlIHRvIGJlIGZpbHRlcmVkLlxuICAgICAqIEBwYXJhbSB7V2ViR0xUZXh0dXJlfSBvcHRpb25zLnRhcmdldFRleHR1cmUgVGhlIHRleHR1cmUgd2hlcmUgZmlsdGVyZWQgb3V0cHV0IHNob3VsZCBiZSBkcmF3bi5cbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gb3B0aW9ucy5jb250ZXh0IFRoZSBHTCBjb250ZXh0IHVzZWQgZm9yIHJlbmRlcmluZy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucy5wcm9ncmFtQ2FjaGUgQSBtYXAgb2YgY29tcGlsZWQgc2hhZGVyIHByb2dyYW1zLCBrZXllZCBieSBmaWx0ZXIgdHlwZS5cbiAgICAgKi9cbiAgICBhcHBseVRvOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBpZiAob3B0aW9ucy53ZWJnbCkge1xuICAgICAgICBvcHRpb25zLnBhc3NlcysrO1xuICAgICAgICB0aGlzLndpZHRoID0gb3B0aW9ucy5zb3VyY2VXaWR0aDtcbiAgICAgICAgdGhpcy5ob3Jpem9udGFsID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kVyA9IE1hdGgucm91bmQodGhpcy53aWR0aCAqIHRoaXMuc2NhbGVYKTtcbiAgICAgICAgdGhpcy5kSCA9IG9wdGlvbnMuc291cmNlSGVpZ2h0O1xuICAgICAgICB0aGlzLnRlbXBTY2FsZSA9IHRoaXMuZFcgLyB0aGlzLndpZHRoO1xuICAgICAgICB0aGlzLnRhcHMgPSB0aGlzLmdldFRhcHMoKTtcbiAgICAgICAgb3B0aW9ucy5kZXN0aW5hdGlvbldpZHRoID0gdGhpcy5kVztcbiAgICAgICAgdGhpcy5fc2V0dXBGcmFtZUJ1ZmZlcihvcHRpb25zKTtcbiAgICAgICAgdGhpcy5hcHBseVRvV2ViR0wob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX3N3YXBUZXh0dXJlcyhvcHRpb25zKTtcbiAgICAgICAgb3B0aW9ucy5zb3VyY2VXaWR0aCA9IG9wdGlvbnMuZGVzdGluYXRpb25XaWR0aDtcblxuICAgICAgICB0aGlzLmhlaWdodCA9IG9wdGlvbnMuc291cmNlSGVpZ2h0O1xuICAgICAgICB0aGlzLmhvcml6b250YWwgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kSCA9IE1hdGgucm91bmQodGhpcy5oZWlnaHQgKiB0aGlzLnNjYWxlWSk7XG4gICAgICAgIHRoaXMudGVtcFNjYWxlID0gdGhpcy5kSCAvIHRoaXMuaGVpZ2h0O1xuICAgICAgICB0aGlzLnRhcHMgPSB0aGlzLmdldFRhcHMoKTtcbiAgICAgICAgb3B0aW9ucy5kZXN0aW5hdGlvbkhlaWdodCA9IHRoaXMuZEg7XG4gICAgICAgIHRoaXMuX3NldHVwRnJhbWVCdWZmZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuYXBwbHlUb1dlYkdMKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl9zd2FwVGV4dHVyZXMob3B0aW9ucyk7XG4gICAgICAgIG9wdGlvbnMuc291cmNlSGVpZ2h0ID0gb3B0aW9ucy5kZXN0aW5hdGlvbkhlaWdodDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLmFwcGx5VG8yZChvcHRpb25zKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgaXNOZXV0cmFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2NhbGVYID09PSAxICYmIHRoaXMuc2NhbGVZID09PSAxO1xuICAgIH0sXG5cbiAgICBsYW5jem9zQ3JlYXRlOiBmdW5jdGlvbihsb2Jlcykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHgpIHtcbiAgICAgICAgaWYgKHggPj0gbG9iZXMgfHwgeCA8PSAtbG9iZXMpIHtcbiAgICAgICAgICByZXR1cm4gMC4wO1xuICAgICAgICB9XG4gICAgICAgIGlmICh4IDwgMS4xOTIwOTI5MEUtMDcgJiYgeCA+IC0xLjE5MjA5MjkwRS0wNykge1xuICAgICAgICAgIHJldHVybiAxLjA7XG4gICAgICAgIH1cbiAgICAgICAgeCAqPSBNYXRoLlBJO1xuICAgICAgICB2YXIgeHggPSB4IC8gbG9iZXM7XG4gICAgICAgIHJldHVybiAoc2luKHgpIC8geCkgKiBzaW4oeHgpIC8geHg7XG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGZpbHRlciB0byBjYW52YXMgZWxlbWVudFxuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMuSW1hZ2UuZmlsdGVycy5SZXNpemUucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNhbnZhc0VsIENhbnZhcyBlbGVtZW50IHRvIGFwcGx5IGZpbHRlciB0b1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZVhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGVZXG4gICAgICovXG4gICAgYXBwbHlUbzJkOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICB2YXIgaW1hZ2VEYXRhID0gb3B0aW9ucy5pbWFnZURhdGEsXG4gICAgICAgICAgc2NhbGVYID0gdGhpcy5zY2FsZVgsXG4gICAgICAgICAgc2NhbGVZID0gdGhpcy5zY2FsZVk7XG5cbiAgICAgIHRoaXMucmNwU2NhbGVYID0gMSAvIHNjYWxlWDtcbiAgICAgIHRoaXMucmNwU2NhbGVZID0gMSAvIHNjYWxlWTtcblxuICAgICAgdmFyIG9XID0gaW1hZ2VEYXRhLndpZHRoLCBvSCA9IGltYWdlRGF0YS5oZWlnaHQsXG4gICAgICAgICAgZFcgPSByb3VuZChvVyAqIHNjYWxlWCksIGRIID0gcm91bmQob0ggKiBzY2FsZVkpLFxuICAgICAgICAgIG5ld0RhdGE7XG5cbiAgICAgIGlmICh0aGlzLnJlc2l6ZVR5cGUgPT09ICdzbGljZUhhY2snKSB7XG4gICAgICAgIG5ld0RhdGEgPSB0aGlzLnNsaWNlQnlUd28ob3B0aW9ucywgb1csIG9ILCBkVywgZEgpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodGhpcy5yZXNpemVUeXBlID09PSAnaGVybWl0ZScpIHtcbiAgICAgICAgbmV3RGF0YSA9IHRoaXMuaGVybWl0ZUZhc3RSZXNpemUob3B0aW9ucywgb1csIG9ILCBkVywgZEgpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodGhpcy5yZXNpemVUeXBlID09PSAnYmlsaW5lYXInKSB7XG4gICAgICAgIG5ld0RhdGEgPSB0aGlzLmJpbGluZWFyRmlsdGVyaW5nKG9wdGlvbnMsIG9XLCBvSCwgZFcsIGRIKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHRoaXMucmVzaXplVHlwZSA9PT0gJ2xhbmN6b3MnKSB7XG4gICAgICAgIG5ld0RhdGEgPSB0aGlzLmxhbmN6b3NSZXNpemUob3B0aW9ucywgb1csIG9ILCBkVywgZEgpO1xuICAgICAgfVxuICAgICAgb3B0aW9ucy5pbWFnZURhdGEgPSBuZXdEYXRhO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgc2xpY2VCeVR3b1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjYW52YXNFbCBDYW52YXMgZWxlbWVudCB0byBhcHBseSBmaWx0ZXIgdG9cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gb1cgT3JpZ2luYWwgV2lkdGhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gb0ggT3JpZ2luYWwgSGVpZ2h0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGRXIERlc3RpbmF0aW9uIFdpZHRoXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGRIIERlc3RpbmF0aW9uIEhlaWdodFxuICAgICAqIEByZXR1cm5zIHtJbWFnZURhdGF9XG4gICAgICovXG4gICAgc2xpY2VCeVR3bzogZnVuY3Rpb24ob3B0aW9ucywgb1csIG9ILCBkVywgZEgpIHtcbiAgICAgIHZhciBpbWFnZURhdGEgPSBvcHRpb25zLmltYWdlRGF0YSxcbiAgICAgICAgICBtdWx0ID0gMC41LCBkb25lVyA9IGZhbHNlLCBkb25lSCA9IGZhbHNlLCBzdGVwVyA9IG9XICogbXVsdCxcbiAgICAgICAgICBzdGVwSCA9IG9IICogbXVsdCwgcmVzb3VyY2VzID0gZmFicmljLmZpbHRlckJhY2tlbmQucmVzb3VyY2VzLFxuICAgICAgICAgIHRtcENhbnZhcywgY3R4LCBzWCA9IDAsIHNZID0gMCwgZFggPSBvVywgZFkgPSAwO1xuICAgICAgaWYgKCFyZXNvdXJjZXMuc2xpY2VCeVR3bykge1xuICAgICAgICByZXNvdXJjZXMuc2xpY2VCeVR3byA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgfVxuICAgICAgdG1wQ2FudmFzID0gcmVzb3VyY2VzLnNsaWNlQnlUd287XG4gICAgICBpZiAodG1wQ2FudmFzLndpZHRoIDwgb1cgKiAxLjUgfHwgdG1wQ2FudmFzLmhlaWdodCA8IG9IKSB7XG4gICAgICAgIHRtcENhbnZhcy53aWR0aCA9IG9XICogMS41O1xuICAgICAgICB0bXBDYW52YXMuaGVpZ2h0ID0gb0g7XG4gICAgICB9XG4gICAgICBjdHggPSB0bXBDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgb1cgKiAxLjUsIG9IKTtcbiAgICAgIGN0eC5wdXRJbWFnZURhdGEoaW1hZ2VEYXRhLCAwLCAwKTtcblxuICAgICAgZFcgPSBmbG9vcihkVyk7XG4gICAgICBkSCA9IGZsb29yKGRIKTtcblxuICAgICAgd2hpbGUgKCFkb25lVyB8fCAhZG9uZUgpIHtcbiAgICAgICAgb1cgPSBzdGVwVztcbiAgICAgICAgb0ggPSBzdGVwSDtcbiAgICAgICAgaWYgKGRXIDwgZmxvb3Ioc3RlcFcgKiBtdWx0KSkge1xuICAgICAgICAgIHN0ZXBXID0gZmxvb3Ioc3RlcFcgKiBtdWx0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBzdGVwVyA9IGRXO1xuICAgICAgICAgIGRvbmVXID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZEggPCBmbG9vcihzdGVwSCAqIG11bHQpKSB7XG4gICAgICAgICAgc3RlcEggPSBmbG9vcihzdGVwSCAqIG11bHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHN0ZXBIID0gZEg7XG4gICAgICAgICAgZG9uZUggPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGN0eC5kcmF3SW1hZ2UodG1wQ2FudmFzLCBzWCwgc1ksIG9XLCBvSCwgZFgsIGRZLCBzdGVwVywgc3RlcEgpO1xuICAgICAgICBzWCA9IGRYO1xuICAgICAgICBzWSA9IGRZO1xuICAgICAgICBkWSArPSBzdGVwSDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjdHguZ2V0SW1hZ2VEYXRhKHNYLCBzWSwgZFcsIGRIKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRmlsdGVyIGxhbmN6b3NSZXNpemVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY2FudmFzRWwgQ2FudmFzIGVsZW1lbnQgdG8gYXBwbHkgZmlsdGVyIHRvXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG9XIE9yaWdpbmFsIFdpZHRoXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG9IIE9yaWdpbmFsIEhlaWdodFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBkVyBEZXN0aW5hdGlvbiBXaWR0aFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBkSCBEZXN0aW5hdGlvbiBIZWlnaHRcbiAgICAgKiBAcmV0dXJucyB7SW1hZ2VEYXRhfVxuICAgICAqL1xuICAgIGxhbmN6b3NSZXNpemU6IGZ1bmN0aW9uKG9wdGlvbnMsIG9XLCBvSCwgZFcsIGRIKSB7XG5cbiAgICAgIGZ1bmN0aW9uIHByb2Nlc3ModSkge1xuICAgICAgICB2YXIgdiwgaSwgd2VpZ2h0LCBpZHgsIGEsIHJlZCwgZ3JlZW4sXG4gICAgICAgICAgICBibHVlLCBhbHBoYSwgZlgsIGZZO1xuICAgICAgICBjZW50ZXIueCA9ICh1ICsgMC41KSAqIHJhdGlvWDtcbiAgICAgICAgaWNlbnRlci54ID0gZmxvb3IoY2VudGVyLngpO1xuICAgICAgICBmb3IgKHYgPSAwOyB2IDwgZEg7IHYrKykge1xuICAgICAgICAgIGNlbnRlci55ID0gKHYgKyAwLjUpICogcmF0aW9ZO1xuICAgICAgICAgIGljZW50ZXIueSA9IGZsb29yKGNlbnRlci55KTtcbiAgICAgICAgICBhID0gMDsgcmVkID0gMDsgZ3JlZW4gPSAwOyBibHVlID0gMDsgYWxwaGEgPSAwO1xuICAgICAgICAgIGZvciAoaSA9IGljZW50ZXIueCAtIHJhbmdlMlg7IGkgPD0gaWNlbnRlci54ICsgcmFuZ2UyWDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSA8IDAgfHwgaSA+PSBvVykge1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZYID0gZmxvb3IoMTAwMCAqIGFicyhpIC0gY2VudGVyLngpKTtcbiAgICAgICAgICAgIGlmICghY2FjaGVMYW5jW2ZYXSkge1xuICAgICAgICAgICAgICBjYWNoZUxhbmNbZlhdID0geyB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IGljZW50ZXIueSAtIHJhbmdlMlk7IGogPD0gaWNlbnRlci55ICsgcmFuZ2UyWTsgaisrKSB7XG4gICAgICAgICAgICAgIGlmIChqIDwgMCB8fCBqID49IG9IKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZlkgPSBmbG9vcigxMDAwICogYWJzKGogLSBjZW50ZXIueSkpO1xuICAgICAgICAgICAgICBpZiAoIWNhY2hlTGFuY1tmWF1bZlldKSB7XG4gICAgICAgICAgICAgICAgY2FjaGVMYW5jW2ZYXVtmWV0gPSBsYW5jem9zKHNxcnQocG93KGZYICogcmNwUmF0aW9YLCAyKSArIHBvdyhmWSAqIHJjcFJhdGlvWSwgMikpIC8gMTAwMCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgd2VpZ2h0ID0gY2FjaGVMYW5jW2ZYXVtmWV07XG4gICAgICAgICAgICAgIGlmICh3ZWlnaHQgPiAwKSB7XG4gICAgICAgICAgICAgICAgaWR4ID0gKGogKiBvVyArIGkpICogNDtcbiAgICAgICAgICAgICAgICBhICs9IHdlaWdodDtcbiAgICAgICAgICAgICAgICByZWQgKz0gd2VpZ2h0ICogc3JjRGF0YVtpZHhdO1xuICAgICAgICAgICAgICAgIGdyZWVuICs9IHdlaWdodCAqIHNyY0RhdGFbaWR4ICsgMV07XG4gICAgICAgICAgICAgICAgYmx1ZSArPSB3ZWlnaHQgKiBzcmNEYXRhW2lkeCArIDJdO1xuICAgICAgICAgICAgICAgIGFscGhhICs9IHdlaWdodCAqIHNyY0RhdGFbaWR4ICsgM107XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWR4ID0gKHYgKiBkVyArIHUpICogNDtcbiAgICAgICAgICBkZXN0RGF0YVtpZHhdID0gcmVkIC8gYTtcbiAgICAgICAgICBkZXN0RGF0YVtpZHggKyAxXSA9IGdyZWVuIC8gYTtcbiAgICAgICAgICBkZXN0RGF0YVtpZHggKyAyXSA9IGJsdWUgLyBhO1xuICAgICAgICAgIGRlc3REYXRhW2lkeCArIDNdID0gYWxwaGEgLyBhO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCsrdSA8IGRXKSB7XG4gICAgICAgICAgcmV0dXJuIHByb2Nlc3ModSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGRlc3RJbWc7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIHNyY0RhdGEgPSBvcHRpb25zLmltYWdlRGF0YS5kYXRhLFxuICAgICAgICAgIGRlc3RJbWcgPSBvcHRpb25zLmN0eC5jcmVhdGVJbWFnZURhdGEoZFcsIGRIKSxcbiAgICAgICAgICBkZXN0RGF0YSA9IGRlc3RJbWcuZGF0YSxcbiAgICAgICAgICBsYW5jem9zID0gdGhpcy5sYW5jem9zQ3JlYXRlKHRoaXMubGFuY3pvc0xvYmVzKSxcbiAgICAgICAgICByYXRpb1ggPSB0aGlzLnJjcFNjYWxlWCwgcmF0aW9ZID0gdGhpcy5yY3BTY2FsZVksXG4gICAgICAgICAgcmNwUmF0aW9YID0gMiAvIHRoaXMucmNwU2NhbGVYLCByY3BSYXRpb1kgPSAyIC8gdGhpcy5yY3BTY2FsZVksXG4gICAgICAgICAgcmFuZ2UyWCA9IGNlaWwocmF0aW9YICogdGhpcy5sYW5jem9zTG9iZXMgLyAyKSxcbiAgICAgICAgICByYW5nZTJZID0gY2VpbChyYXRpb1kgKiB0aGlzLmxhbmN6b3NMb2JlcyAvIDIpLFxuICAgICAgICAgIGNhY2hlTGFuYyA9IHsgfSwgY2VudGVyID0geyB9LCBpY2VudGVyID0geyB9O1xuXG4gICAgICByZXR1cm4gcHJvY2VzcygwKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogYmlsaW5lYXJGaWx0ZXJpbmdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY2FudmFzRWwgQ2FudmFzIGVsZW1lbnQgdG8gYXBwbHkgZmlsdGVyIHRvXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG9XIE9yaWdpbmFsIFdpZHRoXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG9IIE9yaWdpbmFsIEhlaWdodFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBkVyBEZXN0aW5hdGlvbiBXaWR0aFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBkSCBEZXN0aW5hdGlvbiBIZWlnaHRcbiAgICAgKiBAcmV0dXJucyB7SW1hZ2VEYXRhfVxuICAgICAqL1xuICAgIGJpbGluZWFyRmlsdGVyaW5nOiBmdW5jdGlvbihvcHRpb25zLCBvVywgb0gsIGRXLCBkSCkge1xuICAgICAgdmFyIGEsIGIsIGMsIGQsIHgsIHksIGksIGosIHhEaWZmLCB5RGlmZiwgY2hubCxcbiAgICAgICAgICBjb2xvciwgb2Zmc2V0ID0gMCwgb3JpZ1BpeCwgcmF0aW9YID0gdGhpcy5yY3BTY2FsZVgsXG4gICAgICAgICAgcmF0aW9ZID0gdGhpcy5yY3BTY2FsZVksXG4gICAgICAgICAgdzQgPSA0ICogKG9XIC0gMSksIGltZyA9IG9wdGlvbnMuaW1hZ2VEYXRhLFxuICAgICAgICAgIHBpeGVscyA9IGltZy5kYXRhLCBkZXN0SW1hZ2UgPSBvcHRpb25zLmN0eC5jcmVhdGVJbWFnZURhdGEoZFcsIGRIKSxcbiAgICAgICAgICBkZXN0UGl4ZWxzID0gZGVzdEltYWdlLmRhdGE7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgZEg7IGkrKykge1xuICAgICAgICBmb3IgKGogPSAwOyBqIDwgZFc7IGorKykge1xuICAgICAgICAgIHggPSBmbG9vcihyYXRpb1ggKiBqKTtcbiAgICAgICAgICB5ID0gZmxvb3IocmF0aW9ZICogaSk7XG4gICAgICAgICAgeERpZmYgPSByYXRpb1ggKiBqIC0geDtcbiAgICAgICAgICB5RGlmZiA9IHJhdGlvWSAqIGkgLSB5O1xuICAgICAgICAgIG9yaWdQaXggPSA0ICogKHkgKiBvVyArIHgpO1xuXG4gICAgICAgICAgZm9yIChjaG5sID0gMDsgY2hubCA8IDQ7IGNobmwrKykge1xuICAgICAgICAgICAgYSA9IHBpeGVsc1tvcmlnUGl4ICsgY2hubF07XG4gICAgICAgICAgICBiID0gcGl4ZWxzW29yaWdQaXggKyA0ICsgY2hubF07XG4gICAgICAgICAgICBjID0gcGl4ZWxzW29yaWdQaXggKyB3NCArIGNobmxdO1xuICAgICAgICAgICAgZCA9IHBpeGVsc1tvcmlnUGl4ICsgdzQgKyA0ICsgY2hubF07XG4gICAgICAgICAgICBjb2xvciA9IGEgKiAoMSAtIHhEaWZmKSAqICgxIC0geURpZmYpICsgYiAqIHhEaWZmICogKDEgLSB5RGlmZikgK1xuICAgICAgICAgICAgICAgICAgICBjICogeURpZmYgKiAoMSAtIHhEaWZmKSArIGQgKiB4RGlmZiAqIHlEaWZmO1xuICAgICAgICAgICAgZGVzdFBpeGVsc1tvZmZzZXQrK10gPSBjb2xvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBkZXN0SW1hZ2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGhlcm1pdGVGYXN0UmVzaXplXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNhbnZhc0VsIENhbnZhcyBlbGVtZW50IHRvIGFwcGx5IGZpbHRlciB0b1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBvVyBPcmlnaW5hbCBXaWR0aFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBvSCBPcmlnaW5hbCBIZWlnaHRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZFcgRGVzdGluYXRpb24gV2lkdGhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZEggRGVzdGluYXRpb24gSGVpZ2h0XG4gICAgICogQHJldHVybnMge0ltYWdlRGF0YX1cbiAgICAgKi9cbiAgICBoZXJtaXRlRmFzdFJlc2l6ZTogZnVuY3Rpb24ob3B0aW9ucywgb1csIG9ILCBkVywgZEgpIHtcbiAgICAgIHZhciByYXRpb1cgPSB0aGlzLnJjcFNjYWxlWCwgcmF0aW9IID0gdGhpcy5yY3BTY2FsZVksXG4gICAgICAgICAgcmF0aW9XSGFsZiA9IGNlaWwocmF0aW9XIC8gMiksXG4gICAgICAgICAgcmF0aW9ISGFsZiA9IGNlaWwocmF0aW9IIC8gMiksXG4gICAgICAgICAgaW1nID0gb3B0aW9ucy5pbWFnZURhdGEsIGRhdGEgPSBpbWcuZGF0YSxcbiAgICAgICAgICBpbWcyID0gb3B0aW9ucy5jdHguY3JlYXRlSW1hZ2VEYXRhKGRXLCBkSCksIGRhdGEyID0gaW1nMi5kYXRhO1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBkSDsgaisrKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZFc7IGkrKykge1xuICAgICAgICAgIHZhciB4MiA9IChpICsgaiAqIGRXKSAqIDQsIHdlaWdodCA9IDAsIHdlaWdodHMgPSAwLCB3ZWlnaHRzQWxwaGEgPSAwLFxuICAgICAgICAgICAgICBneFIgPSAwLCBneEcgPSAwLCBneEIgPSAwLCBneEEgPSAwLCBjZW50ZXJZID0gKGogKyAwLjUpICogcmF0aW9IO1xuICAgICAgICAgIGZvciAodmFyIHl5ID0gZmxvb3IoaiAqIHJhdGlvSCk7IHl5IDwgKGogKyAxKSAqIHJhdGlvSDsgeXkrKykge1xuICAgICAgICAgICAgdmFyIGR5ID0gYWJzKGNlbnRlclkgLSAoeXkgKyAwLjUpKSAvIHJhdGlvSEhhbGYsXG4gICAgICAgICAgICAgICAgY2VudGVyWCA9IChpICsgMC41KSAqIHJhdGlvVywgdzAgPSBkeSAqIGR5O1xuICAgICAgICAgICAgZm9yICh2YXIgeHggPSBmbG9vcihpICogcmF0aW9XKTsgeHggPCAoaSArIDEpICogcmF0aW9XOyB4eCsrKSB7XG4gICAgICAgICAgICAgIHZhciBkeCA9IGFicyhjZW50ZXJYIC0gKHh4ICsgMC41KSkgLyByYXRpb1dIYWxmLFxuICAgICAgICAgICAgICAgICAgdyA9IHNxcnQodzAgKyBkeCAqIGR4KTtcbiAgICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWRlcHRoICovXG4gICAgICAgICAgICAgIGlmICh3ID4gMSAmJiB3IDwgLTEpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAvL2hlcm1pdGUgZmlsdGVyXG4gICAgICAgICAgICAgIHdlaWdodCA9IDIgKiB3ICogdyAqIHcgLSAzICogdyAqIHcgKyAxO1xuICAgICAgICAgICAgICBpZiAod2VpZ2h0ID4gMCkge1xuICAgICAgICAgICAgICAgIGR4ID0gNCAqICh4eCArIHl5ICogb1cpO1xuICAgICAgICAgICAgICAgIC8vYWxwaGFcbiAgICAgICAgICAgICAgICBneEEgKz0gd2VpZ2h0ICogZGF0YVtkeCArIDNdO1xuICAgICAgICAgICAgICAgIHdlaWdodHNBbHBoYSArPSB3ZWlnaHQ7XG4gICAgICAgICAgICAgICAgLy9jb2xvcnNcbiAgICAgICAgICAgICAgICBpZiAoZGF0YVtkeCArIDNdIDwgMjU1KSB7XG4gICAgICAgICAgICAgICAgICB3ZWlnaHQgPSB3ZWlnaHQgKiBkYXRhW2R4ICsgM10gLyAyNTA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGd4UiArPSB3ZWlnaHQgKiBkYXRhW2R4XTtcbiAgICAgICAgICAgICAgICBneEcgKz0gd2VpZ2h0ICogZGF0YVtkeCArIDFdO1xuICAgICAgICAgICAgICAgIGd4QiArPSB3ZWlnaHQgKiBkYXRhW2R4ICsgMl07XG4gICAgICAgICAgICAgICAgd2VpZ2h0cyArPSB3ZWlnaHQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBtYXgtZGVwdGggKi9cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZGF0YTJbeDJdID0gZ3hSIC8gd2VpZ2h0cztcbiAgICAgICAgICBkYXRhMlt4MiArIDFdID0gZ3hHIC8gd2VpZ2h0cztcbiAgICAgICAgICBkYXRhMlt4MiArIDJdID0gZ3hCIC8gd2VpZ2h0cztcbiAgICAgICAgICBkYXRhMlt4MiArIDNdID0gZ3hBIC8gd2VpZ2h0c0FscGhhO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gaW1nMjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IE9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRvT2JqZWN0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgc2NhbGVYOiB0aGlzLnNjYWxlWCxcbiAgICAgICAgc2NhbGVZOiB0aGlzLnNjYWxlWSxcbiAgICAgICAgcmVzaXplVHlwZTogdGhpcy5yZXNpemVUeXBlLFxuICAgICAgICBsYW5jem9zTG9iZXM6IHRoaXMubGFuY3pvc0xvYmVzXG4gICAgICB9O1xuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgZmlsdGVyIGluc3RhbmNlIGZyb20gYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uXG4gICAqIEBzdGF0aWNcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY3JlYXRlIGFuIGluc3RhbmNlIGZyb21cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSB0byBiZSBpbnZva2VkIGFmdGVyIGZpbHRlciBjcmVhdGlvblxuICAgKiBAcmV0dXJuIHtmYWJyaWMuSW1hZ2UuZmlsdGVycy5SZXNpemV9IEluc3RhbmNlIG9mIGZhYnJpYy5JbWFnZS5maWx0ZXJzLlJlc2l6ZVxuICAgKi9cbiAgZmFicmljLkltYWdlLmZpbHRlcnMuUmVzaXplLmZyb21PYmplY3QgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyLmZyb21PYmplY3Q7XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBmYWJyaWMgID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSksXG4gICAgICBmaWx0ZXJzID0gZmFicmljLkltYWdlLmZpbHRlcnMsXG4gICAgICBjcmVhdGVDbGFzcyA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzO1xuXG4gIC8qKlxuICAgKiBDb250cmFzdCBmaWx0ZXIgY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkNvbnRyYXN0XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuSW1hZ2UuZmlsdGVyc1xuICAgKiBAZXh0ZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyXG4gICAqIEBzZWUge0BsaW5rIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkNvbnRyYXN0I2luaXRpYWxpemV9IGZvciBjb25zdHJ1Y3RvciBkZWZpbml0aW9uXG4gICAqIEBzZWUge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vaW1hZ2UtZmlsdGVyc3xJbWFnZUZpbHRlcnMgZGVtb31cbiAgICogQGV4YW1wbGVcbiAgICogdmFyIGZpbHRlciA9IG5ldyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db250cmFzdCh7XG4gICAqICAgY29udHJhc3Q6IDAuMjVcbiAgICogfSk7XG4gICAqIG9iamVjdC5maWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgICogb2JqZWN0LmFwcGx5RmlsdGVycygpO1xuICAgKi9cbiAgZmlsdGVycy5Db250cmFzdCA9IGNyZWF0ZUNsYXNzKGZpbHRlcnMuQmFzZUZpbHRlciwgLyoqIEBsZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db250cmFzdC5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogRmlsdGVyIHR5cGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHlwZTogJ0NvbnRyYXN0JyxcblxuICAgIGZyYWdtZW50U291cmNlOiAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbicgK1xuICAgICAgJ3VuaWZvcm0gZmxvYXQgdUNvbnRyYXN0O1xcbicgK1xuICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAndmVjNCBjb2xvciA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKTtcXG4nICtcbiAgICAgICAgJ2Zsb2F0IGNvbnRyYXN0RiA9IDEuMDE1ICogKHVDb250cmFzdCArIDEuMCkgLyAoMS4wICogKDEuMDE1IC0gdUNvbnRyYXN0KSk7XFxuJyArXG4gICAgICAgICdjb2xvci5yZ2IgPSBjb250cmFzdEYgKiAoY29sb3IucmdiIC0gMC41KSArIDAuNTtcXG4nICtcbiAgICAgICAgJ2dsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbicgK1xuICAgICAgJ30nLFxuXG4gICAgLyoqXG4gICAgICogY29udHJhc3QgdmFsdWUsIHJhbmdlIGZyb20gLTEgdG8gMS5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gY29udHJhc3RcbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgY29udHJhc3Q6IDAsXG5cbiAgICBtYWluUGFyYW1ldGVyOiAnY29udHJhc3QnLFxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLkltYWdlLmZpbHRlcnMuQ29udHJhc3QucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5jb250cmFzdD0wXSBWYWx1ZSB0byBjb250cmFzdCB0aGUgaW1hZ2UgdXAgKC0xLi4uMSlcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAgKiBBcHBseSB0aGUgQ29udHJhc3Qgb3BlcmF0aW9uIHRvIGEgVWludDhBcnJheSByZXByZXNlbnRpbmcgdGhlIHBpeGVscyBvZiBhbiBpbWFnZS5cbiAgICAgICpcbiAgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgICogQHBhcmFtIHtJbWFnZURhdGF9IG9wdGlvbnMuaW1hZ2VEYXRhIFRoZSBVaW50OEFycmF5IHRvIGJlIGZpbHRlcmVkLlxuICAgICAgKi9cbiAgICBhcHBseVRvMmQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIGlmICh0aGlzLmNvbnRyYXN0ID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBpbWFnZURhdGEgPSBvcHRpb25zLmltYWdlRGF0YSwgaSwgbGVuLFxuICAgICAgICAgIGRhdGEgPSBpbWFnZURhdGEuZGF0YSwgbGVuID0gZGF0YS5sZW5ndGgsXG4gICAgICAgICAgY29udHJhc3QgPSBNYXRoLmZsb29yKHRoaXMuY29udHJhc3QgKiAyNTUpLFxuICAgICAgICAgIGNvbnRyYXN0RiA9IDI1OSAqIChjb250cmFzdCArIDI1NSkgLyAoMjU1ICogKDI1OSAtIGNvbnRyYXN0KSk7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgICAgICBkYXRhW2ldID0gY29udHJhc3RGICogKGRhdGFbaV0gLSAxMjgpICsgMTI4O1xuICAgICAgICBkYXRhW2kgKyAxXSA9IGNvbnRyYXN0RiAqIChkYXRhW2kgKyAxXSAtIDEyOCkgKyAxMjg7XG4gICAgICAgIGRhdGFbaSArIDJdID0gY29udHJhc3RGICogKGRhdGFbaSArIDJdIC0gMTI4KSArIDEyODtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIFdlYkdMIHVuaWZvcm0gbG9jYXRpb25zIGZvciB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgR0wgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7V2ViR0xTaGFkZXJQcm9ncmFtfSBwcm9ncmFtIFRoaXMgZmlsdGVyJ3MgY29tcGlsZWQgc2hhZGVyIHByb2dyYW0uXG4gICAgICovXG4gICAgZ2V0VW5pZm9ybUxvY2F0aW9uczogZnVuY3Rpb24oZ2wsIHByb2dyYW0pIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVDb250cmFzdDogZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1Q29udHJhc3QnKSxcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNlbmQgZGF0YSBmcm9tIHRoaXMgZmlsdGVyIHRvIGl0cyBzaGFkZXIgcHJvZ3JhbSdzIHVuaWZvcm1zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHVuaWZvcm1Mb2NhdGlvbnMgQSBtYXAgb2Ygc3RyaW5nIHVuaWZvcm0gbmFtZXMgdG8gV2ViR0xVbmlmb3JtTG9jYXRpb24gb2JqZWN0c1xuICAgICAqL1xuICAgIHNlbmRVbmlmb3JtRGF0YTogZnVuY3Rpb24oZ2wsIHVuaWZvcm1Mb2NhdGlvbnMpIHtcbiAgICAgIGdsLnVuaWZvcm0xZih1bmlmb3JtTG9jYXRpb25zLnVDb250cmFzdCwgdGhpcy5jb250cmFzdCk7XG4gICAgfSxcbiAgfSk7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgZmlsdGVyIGluc3RhbmNlIGZyb20gYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uXG4gICAqIEBzdGF0aWNcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY3JlYXRlIGFuIGluc3RhbmNlIGZyb21cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2NhbGxiYWNrXSB0byBiZSBpbnZva2VkIGFmdGVyIGZpbHRlciBjcmVhdGlvblxuICAgKiBAcmV0dXJuIHtmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db250cmFzdH0gSW5zdGFuY2Ugb2YgZmFicmljLkltYWdlLmZpbHRlcnMuQ29udHJhc3RcbiAgICovXG4gIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkNvbnRyYXN0LmZyb21PYmplY3QgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyLmZyb21PYmplY3Q7XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBmYWJyaWMgID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSksXG4gICAgICBmaWx0ZXJzID0gZmFicmljLkltYWdlLmZpbHRlcnMsXG4gICAgICBjcmVhdGVDbGFzcyA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzO1xuXG4gIC8qKlxuICAgKiBTYXR1cmF0ZSBmaWx0ZXIgY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLlNhdHVyYXRpb25cbiAgICogQG1lbWJlck9mIGZhYnJpYy5JbWFnZS5maWx0ZXJzXG4gICAqIEBleHRlbmRzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXJcbiAgICogQHNlZSB7QGxpbmsgZmFicmljLkltYWdlLmZpbHRlcnMuU2F0dXJhdGlvbiNpbml0aWFsaXplfSBmb3IgY29uc3RydWN0b3IgZGVmaW5pdGlvblxuICAgKiBAc2VlIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ltYWdlLWZpbHRlcnN8SW1hZ2VGaWx0ZXJzIGRlbW99XG4gICAqIEBleGFtcGxlXG4gICAqIHZhciBmaWx0ZXIgPSBuZXcgZmFicmljLkltYWdlLmZpbHRlcnMuU2F0dXJhdGlvbih7XG4gICAqICAgc2F0dXJhdGlvbjogMVxuICAgKiB9KTtcbiAgICogb2JqZWN0LmZpbHRlcnMucHVzaChmaWx0ZXIpO1xuICAgKiBvYmplY3QuYXBwbHlGaWx0ZXJzKCk7XG4gICAqL1xuICBmaWx0ZXJzLlNhdHVyYXRpb24gPSBjcmVhdGVDbGFzcyhmaWx0ZXJzLkJhc2VGaWx0ZXIsIC8qKiBAbGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuU2F0dXJhdGlvbi5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogRmlsdGVyIHR5cGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHlwZTogJ1NhdHVyYXRpb24nLFxuXG4gICAgZnJhZ21lbnRTb3VyY2U6ICdwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuJyArXG4gICAgICAndW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuJyArXG4gICAgICAndW5pZm9ybSBmbG9hdCB1U2F0dXJhdGlvbjtcXG4nICtcbiAgICAgICd2YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbicgK1xuICAgICAgJ3ZvaWQgbWFpbigpIHtcXG4nICtcbiAgICAgICAgJ3ZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVRleHR1cmUsIHZUZXhDb29yZCk7XFxuJyArXG4gICAgICAgICdmbG9hdCByZ01heCA9IG1heChjb2xvci5yLCBjb2xvci5nKTtcXG4nICtcbiAgICAgICAgJ2Zsb2F0IHJnYk1heCA9IG1heChyZ01heCwgY29sb3IuYik7XFxuJyArXG4gICAgICAgICdjb2xvci5yICs9IHJnYk1heCAhPSBjb2xvci5yID8gKHJnYk1heCAtIGNvbG9yLnIpICogdVNhdHVyYXRpb24gOiAwLjAwO1xcbicgK1xuICAgICAgICAnY29sb3IuZyArPSByZ2JNYXggIT0gY29sb3IuZyA/IChyZ2JNYXggLSBjb2xvci5nKSAqIHVTYXR1cmF0aW9uIDogMC4wMDtcXG4nICtcbiAgICAgICAgJ2NvbG9yLmIgKz0gcmdiTWF4ICE9IGNvbG9yLmIgPyAocmdiTWF4IC0gY29sb3IuYikgKiB1U2F0dXJhdGlvbiA6IDAuMDA7XFxuJyArXG4gICAgICAgICdnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG4nICtcbiAgICAgICd9JyxcblxuICAgIC8qKlxuICAgICAqIFNhdHVyYXRpb24gdmFsdWUsIGZyb20gLTEgdG8gMS5cbiAgICAgKiBJbmNyZWFzZXMvZGVjcmVhc2VzIHRoZSBjb2xvciBzYXR1cmF0aW9uLlxuICAgICAqIEEgdmFsdWUgb2YgMCBoYXMgbm8gZWZmZWN0LlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzYXR1cmF0aW9uXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzYXR1cmF0aW9uOiAwLFxuXG4gICAgbWFpblBhcmFtZXRlcjogJ3NhdHVyYXRpb24nLFxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLkltYWdlLmZpbHRlcnMuU2F0dXJhdGUucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5zYXR1cmF0ZT0wXSBWYWx1ZSB0byBzYXR1cmF0ZSB0aGUgaW1hZ2UgKC0xLi4uMSlcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFwcGx5IHRoZSBTYXR1cmF0aW9uIG9wZXJhdGlvbiB0byBhIFVpbnQ4Q2xhbXBlZEFycmF5IHJlcHJlc2VudGluZyB0aGUgcGl4ZWxzIG9mIGFuIGltYWdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge0ltYWdlRGF0YX0gb3B0aW9ucy5pbWFnZURhdGEgVGhlIFVpbnQ4Q2xhbXBlZEFycmF5IHRvIGJlIGZpbHRlcmVkLlxuICAgICAqL1xuICAgIGFwcGx5VG8yZDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgaWYgKHRoaXMuc2F0dXJhdGlvbiA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgaW1hZ2VEYXRhID0gb3B0aW9ucy5pbWFnZURhdGEsXG4gICAgICAgICAgZGF0YSA9IGltYWdlRGF0YS5kYXRhLCBsZW4gPSBkYXRhLmxlbmd0aCxcbiAgICAgICAgICBhZGp1c3QgPSAtdGhpcy5zYXR1cmF0aW9uLCBpLCBtYXg7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgICAgICBtYXggPSBNYXRoLm1heChkYXRhW2ldLCBkYXRhW2kgKyAxXSwgZGF0YVtpICsgMl0pO1xuICAgICAgICBkYXRhW2ldICs9IG1heCAhPT0gZGF0YVtpXSA/IChtYXggLSBkYXRhW2ldKSAqIGFkanVzdCA6IDA7XG4gICAgICAgIGRhdGFbaSArIDFdICs9IG1heCAhPT0gZGF0YVtpICsgMV0gPyAobWF4IC0gZGF0YVtpICsgMV0pICogYWRqdXN0IDogMDtcbiAgICAgICAgZGF0YVtpICsgMl0gKz0gbWF4ICE9PSBkYXRhW2kgKyAyXSA/IChtYXggLSBkYXRhW2kgKyAyXSkgKiBhZGp1c3QgOiAwO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gV2ViR0wgdW5pZm9ybSBsb2NhdGlvbnMgZm9yIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtXZWJHTFNoYWRlclByb2dyYW19IHByb2dyYW0gVGhpcyBmaWx0ZXIncyBjb21waWxlZCBzaGFkZXIgcHJvZ3JhbS5cbiAgICAgKi9cbiAgICBnZXRVbmlmb3JtTG9jYXRpb25zOiBmdW5jdGlvbihnbCwgcHJvZ3JhbSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdVNhdHVyYXRpb246IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndVNhdHVyYXRpb24nKSxcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNlbmQgZGF0YSBmcm9tIHRoaXMgZmlsdGVyIHRvIGl0cyBzaGFkZXIgcHJvZ3JhbSdzIHVuaWZvcm1zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHVuaWZvcm1Mb2NhdGlvbnMgQSBtYXAgb2Ygc3RyaW5nIHVuaWZvcm0gbmFtZXMgdG8gV2ViR0xVbmlmb3JtTG9jYXRpb24gb2JqZWN0c1xuICAgICAqL1xuICAgIHNlbmRVbmlmb3JtRGF0YTogZnVuY3Rpb24oZ2wsIHVuaWZvcm1Mb2NhdGlvbnMpIHtcbiAgICAgIGdsLnVuaWZvcm0xZih1bmlmb3JtTG9jYXRpb25zLnVTYXR1cmF0aW9uLCAtdGhpcy5zYXR1cmF0aW9uKTtcbiAgICB9LFxuICB9KTtcblxuICAvKipcbiAgICogUmV0dXJucyBmaWx0ZXIgaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIHRvIGJlIGludm9rZWQgYWZ0ZXIgZmlsdGVyIGNyZWF0aW9uXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JbWFnZS5maWx0ZXJzLlNhdHVyYXRpb259IEluc3RhbmNlIG9mIGZhYnJpYy5JbWFnZS5maWx0ZXJzLlNhdHVyYXRlXG4gICAqL1xuICBmYWJyaWMuSW1hZ2UuZmlsdGVycy5TYXR1cmF0aW9uLmZyb21PYmplY3QgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyLmZyb21PYmplY3Q7XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBmYWJyaWMgID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSksXG4gICAgICBmaWx0ZXJzID0gZmFicmljLkltYWdlLmZpbHRlcnMsXG4gICAgICBjcmVhdGVDbGFzcyA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzO1xuXG4gIC8qKlxuICAgKiBWaWJyYW5jZSBmaWx0ZXIgY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLlZpYnJhbmNlXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuSW1hZ2UuZmlsdGVyc1xuICAgKiBAZXh0ZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyXG4gICAqIEBzZWUge0BsaW5rIGZhYnJpYy5JbWFnZS5maWx0ZXJzLlZpYnJhbmNlI2luaXRpYWxpemV9IGZvciBjb25zdHJ1Y3RvciBkZWZpbml0aW9uXG4gICAqIEBzZWUge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vaW1hZ2UtZmlsdGVyc3xJbWFnZUZpbHRlcnMgZGVtb31cbiAgICogQGV4YW1wbGVcbiAgICogdmFyIGZpbHRlciA9IG5ldyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5WaWJyYW5jZSh7XG4gICAqICAgdmlicmFuY2U6IDFcbiAgICogfSk7XG4gICAqIG9iamVjdC5maWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgICogb2JqZWN0LmFwcGx5RmlsdGVycygpO1xuICAgKi9cbiAgZmlsdGVycy5WaWJyYW5jZSA9IGNyZWF0ZUNsYXNzKGZpbHRlcnMuQmFzZUZpbHRlciwgLyoqIEBsZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5WaWJyYW5jZS5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogRmlsdGVyIHR5cGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHlwZTogJ1ZpYnJhbmNlJyxcblxuICAgIGZyYWdtZW50U291cmNlOiAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbicgK1xuICAgICAgJ3VuaWZvcm0gZmxvYXQgdVZpYnJhbmNlO1xcbicgK1xuICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAndmVjNCBjb2xvciA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKTtcXG4nICtcbiAgICAgICAgJ2Zsb2F0IG1heCA9IG1heChjb2xvci5yLCBtYXgoY29sb3IuZywgY29sb3IuYikpO1xcbicgK1xuICAgICAgICAnZmxvYXQgYXZnID0gKGNvbG9yLnIgKyBjb2xvci5nICsgY29sb3IuYikgLyAzLjA7XFxuJyArXG4gICAgICAgICdmbG9hdCBhbXQgPSAoYWJzKG1heCAtIGF2ZykgKiAyLjApICogdVZpYnJhbmNlO1xcbicgK1xuICAgICAgICAnY29sb3IuciArPSBtYXggIT0gY29sb3IuciA/IChtYXggLSBjb2xvci5yKSAqIGFtdCA6IDAuMDA7XFxuJyArXG4gICAgICAgICdjb2xvci5nICs9IG1heCAhPSBjb2xvci5nID8gKG1heCAtIGNvbG9yLmcpICogYW10IDogMC4wMDtcXG4nICtcbiAgICAgICAgJ2NvbG9yLmIgKz0gbWF4ICE9IGNvbG9yLmIgPyAobWF4IC0gY29sb3IuYikgKiBhbXQgOiAwLjAwO1xcbicgK1xuICAgICAgICAnZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxuJyArXG4gICAgICAnfScsXG5cbiAgICAvKipcbiAgICAgKiBWaWJyYW5jZSB2YWx1ZSwgZnJvbSAtMSB0byAxLlxuICAgICAqIEluY3JlYXNlcy9kZWNyZWFzZXMgdGhlIHNhdHVyYXRpb24gb2YgbW9yZSBtdXRlZCBjb2xvcnMgd2l0aCBsZXNzIGVmZmVjdCBvbiBzYXR1cmF0ZWQgY29sb3JzLlxuICAgICAqIEEgdmFsdWUgb2YgMCBoYXMgbm8gZWZmZWN0LlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB2aWJyYW5jZVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdmlicmFuY2U6IDAsXG5cbiAgICBtYWluUGFyYW1ldGVyOiAndmlicmFuY2UnLFxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLkltYWdlLmZpbHRlcnMuVmlicmFuY2UucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy52aWJyYW5jZT0wXSBWaWJyYW5jZSB2YWx1ZSBmb3IgdGhlIGltYWdlIChiZXR3ZWVuIC0xIGFuZCAxKVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQXBwbHkgdGhlIFZpYnJhbmNlIG9wZXJhdGlvbiB0byBhIFVpbnQ4Q2xhbXBlZEFycmF5IHJlcHJlc2VudGluZyB0aGUgcGl4ZWxzIG9mIGFuIGltYWdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge0ltYWdlRGF0YX0gb3B0aW9ucy5pbWFnZURhdGEgVGhlIFVpbnQ4Q2xhbXBlZEFycmF5IHRvIGJlIGZpbHRlcmVkLlxuICAgICAqL1xuICAgIGFwcGx5VG8yZDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgaWYgKHRoaXMudmlicmFuY2UgPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIGltYWdlRGF0YSA9IG9wdGlvbnMuaW1hZ2VEYXRhLFxuICAgICAgICAgIGRhdGEgPSBpbWFnZURhdGEuZGF0YSwgbGVuID0gZGF0YS5sZW5ndGgsXG4gICAgICAgICAgYWRqdXN0ID0gLXRoaXMudmlicmFuY2UsIGksIG1heCwgYXZnLCBhbXQ7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgICAgICBtYXggPSBNYXRoLm1heChkYXRhW2ldLCBkYXRhW2kgKyAxXSwgZGF0YVtpICsgMl0pO1xuICAgICAgICBhdmcgPSAoZGF0YVtpXSArIGRhdGFbaSArIDFdICsgZGF0YVtpICsgMl0pIC8gMztcbiAgICAgICAgYW10ID0gKChNYXRoLmFicyhtYXggLSBhdmcpICogMiAvIDI1NSkgKiBhZGp1c3QpO1xuICAgICAgICBkYXRhW2ldICs9IG1heCAhPT0gZGF0YVtpXSA/IChtYXggLSBkYXRhW2ldKSAqIGFtdCA6IDA7XG4gICAgICAgIGRhdGFbaSArIDFdICs9IG1heCAhPT0gZGF0YVtpICsgMV0gPyAobWF4IC0gZGF0YVtpICsgMV0pICogYW10IDogMDtcbiAgICAgICAgZGF0YVtpICsgMl0gKz0gbWF4ICE9PSBkYXRhW2kgKyAyXSA/IChtYXggLSBkYXRhW2kgKyAyXSkgKiBhbXQgOiAwO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gV2ViR0wgdW5pZm9ybSBsb2NhdGlvbnMgZm9yIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtXZWJHTFNoYWRlclByb2dyYW19IHByb2dyYW0gVGhpcyBmaWx0ZXIncyBjb21waWxlZCBzaGFkZXIgcHJvZ3JhbS5cbiAgICAgKi9cbiAgICBnZXRVbmlmb3JtTG9jYXRpb25zOiBmdW5jdGlvbihnbCwgcHJvZ3JhbSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdVZpYnJhbmNlOiBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VWaWJyYW5jZScpLFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2VuZCBkYXRhIGZyb20gdGhpcyBmaWx0ZXIgdG8gaXRzIHNoYWRlciBwcm9ncmFtJ3MgdW5pZm9ybXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdW5pZm9ybUxvY2F0aW9ucyBBIG1hcCBvZiBzdHJpbmcgdW5pZm9ybSBuYW1lcyB0byBXZWJHTFVuaWZvcm1Mb2NhdGlvbiBvYmplY3RzXG4gICAgICovXG4gICAgc2VuZFVuaWZvcm1EYXRhOiBmdW5jdGlvbihnbCwgdW5pZm9ybUxvY2F0aW9ucykge1xuICAgICAgZ2wudW5pZm9ybTFmKHVuaWZvcm1Mb2NhdGlvbnMudVZpYnJhbmNlLCAtdGhpcy52aWJyYW5jZSk7XG4gICAgfSxcbiAgfSk7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgZmlsdGVyIGluc3RhbmNlIGZyb20gYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uXG4gICAqIEBzdGF0aWNcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY3JlYXRlIGFuIGluc3RhbmNlIGZyb21cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSB0byBiZSBpbnZva2VkIGFmdGVyIGZpbHRlciBjcmVhdGlvblxuICAgKiBAcmV0dXJuIHtmYWJyaWMuSW1hZ2UuZmlsdGVycy5WaWJyYW5jZX0gSW5zdGFuY2Ugb2YgZmFicmljLkltYWdlLmZpbHRlcnMuVmlicmFuY2VcbiAgICovXG4gIGZhYnJpYy5JbWFnZS5maWx0ZXJzLlZpYnJhbmNlLmZyb21PYmplY3QgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyLmZyb21PYmplY3Q7XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBmYWJyaWMgID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSksXG4gICAgICBmaWx0ZXJzID0gZmFicmljLkltYWdlLmZpbHRlcnMsXG4gICAgICBjcmVhdGVDbGFzcyA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzO1xuXG4gIC8qKlxuICAgKiBCbHVyIGZpbHRlciBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkltYWdlLmZpbHRlcnMuQmx1clxuICAgKiBAbWVtYmVyT2YgZmFicmljLkltYWdlLmZpbHRlcnNcbiAgICogQGV4dGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlclxuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CbHVyI2luaXRpYWxpemV9IGZvciBjb25zdHJ1Y3RvciBkZWZpbml0aW9uXG4gICAqIEBzZWUge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vaW1hZ2UtZmlsdGVyc3xJbWFnZUZpbHRlcnMgZGVtb31cbiAgICogQGV4YW1wbGVcbiAgICogdmFyIGZpbHRlciA9IG5ldyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CbHVyKHtcbiAgICogICBibHVyOiAwLjVcbiAgICogfSk7XG4gICAqIG9iamVjdC5maWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgICogb2JqZWN0LmFwcGx5RmlsdGVycygpO1xuICAgKiBjYW52YXMucmVuZGVyQWxsKCk7XG4gICAqL1xuICBmaWx0ZXJzLkJsdXIgPSBjcmVhdGVDbGFzcyhmaWx0ZXJzLkJhc2VGaWx0ZXIsIC8qKiBAbGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuQmx1ci5wcm90b3R5cGUgKi8ge1xuXG4gICAgdHlwZTogJ0JsdXInLFxuXG4gICAgLypcbidnbF9GcmFnQ29sb3IgPSB2ZWM0KDAuMCk7JyxcbidnbF9GcmFnQ29sb3IgKz0gdGV4dHVyZTJEKHRleHR1cmUsIHZUZXhDb29yZCArIC03ICogdURlbHRhKSowLjAwNDQyOTkxMjEwNTUxMTMyNjU7JyxcbidnbF9GcmFnQ29sb3IgKz0gdGV4dHVyZTJEKHRleHR1cmUsIHZUZXhDb29yZCArIC02ICogdURlbHRhKSowLjAwODk1NzgxMjExNzk0OycsXG4nZ2xfRnJhZ0NvbG9yICs9IHRleHR1cmUyRCh0ZXh0dXJlLCB2VGV4Q29vcmQgKyAtNSAqIHVEZWx0YSkqMC4wMjE1OTYzODY2MDUzOycsXG4nZ2xfRnJhZ0NvbG9yICs9IHRleHR1cmUyRCh0ZXh0dXJlLCB2VGV4Q29vcmQgKyAtNCAqIHVEZWx0YSkqMC4wNDQzNjgzMzM4NzE4OycsXG4nZ2xfRnJhZ0NvbG9yICs9IHRleHR1cmUyRCh0ZXh0dXJlLCB2VGV4Q29vcmQgKyAtMyAqIHVEZWx0YSkqMC4wNzc2NzQ0MjE5OTMzOycsXG4nZ2xfRnJhZ0NvbG9yICs9IHRleHR1cmUyRCh0ZXh0dXJlLCB2VGV4Q29vcmQgKyAtMiAqIHVEZWx0YSkqMC4xMTU4NzY2MjExMDU7JyxcbidnbF9GcmFnQ29sb3IgKz0gdGV4dHVyZTJEKHRleHR1cmUsIHZUZXhDb29yZCArIC0xICogdURlbHRhKSowLjE0NzMwODA1NjEyMTsnLFxuJ2dsX0ZyYWdDb2xvciArPSB0ZXh0dXJlMkQodGV4dHVyZSwgdlRleENvb3JkICAgICAgICAgICAgICApKjAuMTU5NTc2OTEyMTYxOycsXG4nZ2xfRnJhZ0NvbG9yICs9IHRleHR1cmUyRCh0ZXh0dXJlLCB2VGV4Q29vcmQgKyAxICogdURlbHRhKSowLjE0NzMwODA1NjEyMTsnLFxuJ2dsX0ZyYWdDb2xvciArPSB0ZXh0dXJlMkQodGV4dHVyZSwgdlRleENvb3JkICsgMiAqIHVEZWx0YSkqMC4xMTU4NzY2MjExMDU7JyxcbidnbF9GcmFnQ29sb3IgKz0gdGV4dHVyZTJEKHRleHR1cmUsIHZUZXhDb29yZCArIDMgKiB1RGVsdGEpKjAuMDc3Njc0NDIxOTkzMzsnLFxuJ2dsX0ZyYWdDb2xvciArPSB0ZXh0dXJlMkQodGV4dHVyZSwgdlRleENvb3JkICsgNCAqIHVEZWx0YSkqMC4wNDQzNjgzMzM4NzE4OycsXG4nZ2xfRnJhZ0NvbG9yICs9IHRleHR1cmUyRCh0ZXh0dXJlLCB2VGV4Q29vcmQgKyA1ICogdURlbHRhKSowLjAyMTU5NjM4NjYwNTM7JyxcbidnbF9GcmFnQ29sb3IgKz0gdGV4dHVyZTJEKHRleHR1cmUsIHZUZXhDb29yZCArIDYgKiB1RGVsdGEpKjAuMDA4OTU3ODEyMTE3OTQ7JyxcbidnbF9GcmFnQ29sb3IgKz0gdGV4dHVyZTJEKHRleHR1cmUsIHZUZXhDb29yZCArIDcgKiB1RGVsdGEpKjAuMDA0NDI5OTEyMTA1NTExMzI2NTsnLFxuKi9cblxuICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICBmcmFnbWVudFNvdXJjZTogJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4nICtcbiAgICAgICd1bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZTtcXG4nICtcbiAgICAgICd1bmlmb3JtIHZlYzIgdURlbHRhO1xcbicgK1xuICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAnY29uc3QgZmxvYXQgblNhbXBsZXMgPSAxNS4wO1xcbicgK1xuICAgICAgJ3ZlYzMgdjNvZmZzZXQgPSB2ZWMzKDEyLjk4OTgsIDc4LjIzMywgMTUxLjcxODIpO1xcbicgK1xuICAgICAgJ2Zsb2F0IHJhbmRvbSh2ZWMzIHNjYWxlKSB7XFxuJyArXG4gICAgICAgIC8qIHVzZSB0aGUgZnJhZ21lbnQgcG9zaXRpb24gZm9yIGEgZGlmZmVyZW50IHNlZWQgcGVyLXBpeGVsICovXG4gICAgICAgICdyZXR1cm4gZnJhY3Qoc2luKGRvdChnbF9GcmFnQ29vcmQueHl6LCBzY2FsZSkpICogNDM3NTguNTQ1Myk7XFxuJyArXG4gICAgICAnfVxcbicgK1xuICAgICAgJ3ZvaWQgbWFpbigpIHtcXG4nICtcbiAgICAgICAgJ3ZlYzQgY29sb3IgPSB2ZWM0KDAuMCk7XFxuJyArXG4gICAgICAgICdmbG9hdCB0b3RhbCA9IDAuMDtcXG4nICtcbiAgICAgICAgJ2Zsb2F0IG9mZnNldCA9IHJhbmRvbSh2M29mZnNldCk7XFxuJyArXG4gICAgICAgICdmb3IgKGZsb2F0IHQgPSAtblNhbXBsZXM7IHQgPD0gblNhbXBsZXM7IHQrKykge1xcbicgK1xuICAgICAgICAgICdmbG9hdCBwZXJjZW50ID0gKHQgKyBvZmZzZXQgLSAwLjUpIC8gblNhbXBsZXM7XFxuJyArXG4gICAgICAgICAgJ2Zsb2F0IHdlaWdodCA9IDEuMCAtIGFicyhwZXJjZW50KTtcXG4nICtcbiAgICAgICAgICAnY29sb3IgKz0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQgKyB1RGVsdGEgKiBwZXJjZW50KSAqIHdlaWdodDtcXG4nICtcbiAgICAgICAgICAndG90YWwgKz0gd2VpZ2h0O1xcbicgK1xuICAgICAgICAnfVxcbicgK1xuICAgICAgICAnZ2xfRnJhZ0NvbG9yID0gY29sb3IgLyB0b3RhbDtcXG4nICtcbiAgICAgICd9JyxcbiAgICAvKiBlc2xpbnQtZW5hYmxlIG1heC1sZW4gKi9cblxuICAgIC8qKlxuICAgICAqIGJsdXIgdmFsdWUsIGluIHBlcmNlbnRhZ2Ugb2YgaW1hZ2UgZGltZW5zaW9ucy5cbiAgICAgKiBzcGVjaWZpYyB0byBrZWVwIHRoZSBpbWFnZSBibHVyIGNvbnN0YW50IGF0IGRpZmZlcmVudCByZXNvbHV0aW9uc1xuICAgICAqIHJhbmdlIGJldHdlZW4gMCBhbmQgMS5cbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGJsdXI6IDAsXG5cbiAgICBtYWluUGFyYW1ldGVyOiAnYmx1cicsXG5cbiAgICBhcHBseVRvOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBpZiAob3B0aW9ucy53ZWJnbCkge1xuICAgICAgICAvLyB0aGlzIGFzcGVjdFJhdGlvIGlzIHVzZWQgdG8gZ2l2ZSB0aGUgc2FtZSBibHVyIHRvIHZlcnRpY2FsIGFuZCBob3Jpem9udGFsXG4gICAgICAgIHRoaXMuYXNwZWN0UmF0aW8gPSBvcHRpb25zLnNvdXJjZVdpZHRoIC8gb3B0aW9ucy5zb3VyY2VIZWlnaHQ7XG4gICAgICAgIG9wdGlvbnMucGFzc2VzKys7XG4gICAgICAgIHRoaXMuX3NldHVwRnJhbWVCdWZmZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuaG9yaXpvbnRhbCA9IHRydWU7XG4gICAgICAgIHRoaXMuYXBwbHlUb1dlYkdMKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl9zd2FwVGV4dHVyZXMob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX3NldHVwRnJhbWVCdWZmZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuaG9yaXpvbnRhbCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFwcGx5VG9XZWJHTChvcHRpb25zKTtcbiAgICAgICAgdGhpcy5fc3dhcFRleHR1cmVzKG9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuYXBwbHlUbzJkKG9wdGlvbnMpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBhcHBseVRvMmQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIC8vIHBhaW50IGNhbnZhc0VsIHdpdGggY3VycmVudCBpbWFnZSBkYXRhLlxuICAgICAgLy9vcHRpb25zLmN0eC5wdXRJbWFnZURhdGEob3B0aW9ucy5pbWFnZURhdGEsIDAsIDApO1xuICAgICAgb3B0aW9ucy5pbWFnZURhdGEgPSB0aGlzLnNpbXBsZUJsdXIob3B0aW9ucyk7XG4gICAgfSxcblxuICAgIHNpbXBsZUJsdXI6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciByZXNvdXJjZXMgPSBvcHRpb25zLmZpbHRlckJhY2tlbmQucmVzb3VyY2VzLCBjYW52YXMxLCBjYW52YXMyLFxuICAgICAgICAgIHdpZHRoID0gb3B0aW9ucy5pbWFnZURhdGEud2lkdGgsXG4gICAgICAgICAgaGVpZ2h0ID0gb3B0aW9ucy5pbWFnZURhdGEuaGVpZ2h0O1xuXG4gICAgICBpZiAoIXJlc291cmNlcy5ibHVyTGF5ZXIxKSB7XG4gICAgICAgIHJlc291cmNlcy5ibHVyTGF5ZXIxID0gZmFicmljLnV0aWwuY3JlYXRlQ2FudmFzRWxlbWVudCgpO1xuICAgICAgICByZXNvdXJjZXMuYmx1ckxheWVyMiA9IGZhYnJpYy51dGlsLmNyZWF0ZUNhbnZhc0VsZW1lbnQoKTtcbiAgICAgIH1cbiAgICAgIGNhbnZhczEgPSByZXNvdXJjZXMuYmx1ckxheWVyMTtcbiAgICAgIGNhbnZhczIgPSByZXNvdXJjZXMuYmx1ckxheWVyMjtcbiAgICAgIGlmIChjYW52YXMxLndpZHRoICE9PSB3aWR0aCB8fCBjYW52YXMxLmhlaWdodCAhPT0gaGVpZ2h0KSB7XG4gICAgICAgIGNhbnZhczIud2lkdGggPSBjYW52YXMxLndpZHRoID0gd2lkdGg7XG4gICAgICAgIGNhbnZhczIuaGVpZ2h0ID0gY2FudmFzMS5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICB9XG4gICAgICB2YXIgY3R4MSA9IGNhbnZhczEuZ2V0Q29udGV4dCgnMmQnKSxcbiAgICAgICAgICBjdHgyID0gY2FudmFzMi5nZXRDb250ZXh0KCcyZCcpLFxuICAgICAgICAgIG5TYW1wbGVzID0gMTUsXG4gICAgICAgICAgcmFuZG9tLCBwZXJjZW50LCBqLCBpLFxuICAgICAgICAgIGJsdXIgPSB0aGlzLmJsdXIgKiAwLjA2ICogMC41O1xuXG4gICAgICAvLyBsb2FkIGZpcnN0IGNhbnZhc1xuICAgICAgY3R4MS5wdXRJbWFnZURhdGEob3B0aW9ucy5pbWFnZURhdGEsIDAsIDApO1xuICAgICAgY3R4Mi5jbGVhclJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICAgIGZvciAoaSA9IC1uU2FtcGxlczsgaSA8PSBuU2FtcGxlczsgaSsrKSB7XG4gICAgICAgIHJhbmRvbSA9IChNYXRoLnJhbmRvbSgpIC0gMC41KSAvIDQ7XG4gICAgICAgIHBlcmNlbnQgPSBpIC8gblNhbXBsZXM7XG4gICAgICAgIGogPSBibHVyICogcGVyY2VudCAqIHdpZHRoICsgcmFuZG9tO1xuICAgICAgICBjdHgyLmdsb2JhbEFscGhhID0gMSAtIE1hdGguYWJzKHBlcmNlbnQpO1xuICAgICAgICBjdHgyLmRyYXdJbWFnZShjYW52YXMxLCBqLCByYW5kb20pO1xuICAgICAgICBjdHgxLmRyYXdJbWFnZShjYW52YXMyLCAwLCAwKTtcbiAgICAgICAgY3R4Mi5nbG9iYWxBbHBoYSA9IDE7XG4gICAgICAgIGN0eDIuY2xlYXJSZWN0KDAsIDAsIGNhbnZhczIud2lkdGgsIGNhbnZhczIuaGVpZ2h0KTtcbiAgICAgIH1cbiAgICAgIGZvciAoaSA9IC1uU2FtcGxlczsgaSA8PSBuU2FtcGxlczsgaSsrKSB7XG4gICAgICAgIHJhbmRvbSA9IChNYXRoLnJhbmRvbSgpIC0gMC41KSAvIDQ7XG4gICAgICAgIHBlcmNlbnQgPSBpIC8gblNhbXBsZXM7XG4gICAgICAgIGogPSBibHVyICogcGVyY2VudCAqIGhlaWdodCArIHJhbmRvbTtcbiAgICAgICAgY3R4Mi5nbG9iYWxBbHBoYSA9IDEgLSBNYXRoLmFicyhwZXJjZW50KTtcbiAgICAgICAgY3R4Mi5kcmF3SW1hZ2UoY2FudmFzMSwgcmFuZG9tLCBqKTtcbiAgICAgICAgY3R4MS5kcmF3SW1hZ2UoY2FudmFzMiwgMCwgMCk7XG4gICAgICAgIGN0eDIuZ2xvYmFsQWxwaGEgPSAxO1xuICAgICAgICBjdHgyLmNsZWFyUmVjdCgwLCAwLCBjYW52YXMyLndpZHRoLCBjYW52YXMyLmhlaWdodCk7XG4gICAgICB9XG4gICAgICBvcHRpb25zLmN0eC5kcmF3SW1hZ2UoY2FudmFzMSwgMCwgMCk7XG4gICAgICB2YXIgbmV3SW1hZ2VEYXRhID0gb3B0aW9ucy5jdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIGNhbnZhczEud2lkdGgsIGNhbnZhczEuaGVpZ2h0KTtcbiAgICAgIGN0eDEuZ2xvYmFsQWxwaGEgPSAxO1xuICAgICAgY3R4MS5jbGVhclJlY3QoMCwgMCwgY2FudmFzMS53aWR0aCwgY2FudmFzMS5oZWlnaHQpO1xuICAgICAgcmV0dXJuIG5ld0ltYWdlRGF0YTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIFdlYkdMIHVuaWZvcm0gbG9jYXRpb25zIGZvciB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgR0wgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7V2ViR0xTaGFkZXJQcm9ncmFtfSBwcm9ncmFtIFRoaXMgZmlsdGVyJ3MgY29tcGlsZWQgc2hhZGVyIHByb2dyYW0uXG4gICAgICovXG4gICAgZ2V0VW5pZm9ybUxvY2F0aW9uczogZnVuY3Rpb24oZ2wsIHByb2dyYW0pIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRlbHRhOiBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VEZWx0YScpLFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2VuZCBkYXRhIGZyb20gdGhpcyBmaWx0ZXIgdG8gaXRzIHNoYWRlciBwcm9ncmFtJ3MgdW5pZm9ybXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdW5pZm9ybUxvY2F0aW9ucyBBIG1hcCBvZiBzdHJpbmcgdW5pZm9ybSBuYW1lcyB0byBXZWJHTFVuaWZvcm1Mb2NhdGlvbiBvYmplY3RzXG4gICAgICovXG4gICAgc2VuZFVuaWZvcm1EYXRhOiBmdW5jdGlvbihnbCwgdW5pZm9ybUxvY2F0aW9ucykge1xuICAgICAgdmFyIGRlbHRhID0gdGhpcy5jaG9vc2VSaWdodERlbHRhKCk7XG4gICAgICBnbC51bmlmb3JtMmZ2KHVuaWZvcm1Mb2NhdGlvbnMuZGVsdGEsIGRlbHRhKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogY2hvb3NlIHJpZ2h0IHZhbHVlIG9mIGltYWdlIHBlcmNlbnRhZ2UgdG8gYmx1ciB3aXRoXG4gICAgICogQHJldHVybnMge0FycmF5fSBhIG51bWVyaWMgYXJyYXkgd2l0aCBkZWx0YSB2YWx1ZXNcbiAgICAgKi9cbiAgICBjaG9vc2VSaWdodERlbHRhOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBibHVyU2NhbGUgPSAxLCBkZWx0YSA9IFswLCAwXSwgYmx1cjtcbiAgICAgIGlmICh0aGlzLmhvcml6b250YWwpIHtcbiAgICAgICAgaWYgKHRoaXMuYXNwZWN0UmF0aW8gPiAxKSB7XG4gICAgICAgICAgLy8gaW1hZ2UgaXMgd2lkZSwgaSB3YW50IHRvIHNocmluayByYWRpdXMgaG9yaXpvbnRhbFxuICAgICAgICAgIGJsdXJTY2FsZSA9IDEgLyB0aGlzLmFzcGVjdFJhdGlvO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgaWYgKHRoaXMuYXNwZWN0UmF0aW8gPCAxKSB7XG4gICAgICAgICAgLy8gaW1hZ2UgaXMgdGFsbCwgaSB3YW50IHRvIHNocmluayByYWRpdXMgdmVydGljYWxcbiAgICAgICAgICBibHVyU2NhbGUgPSB0aGlzLmFzcGVjdFJhdGlvO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBibHVyID0gYmx1clNjYWxlICogdGhpcy5ibHVyICogMC4xMjtcbiAgICAgIGlmICh0aGlzLmhvcml6b250YWwpIHtcbiAgICAgICAgZGVsdGFbMF0gPSBibHVyO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGRlbHRhWzFdID0gYmx1cjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZWx0YTtcbiAgICB9LFxuICB9KTtcblxuICAvKipcbiAgICogRGVzZXJpYWxpemUgYSBKU09OIGRlZmluaXRpb24gb2YgYSBCbHVyRmlsdGVyIGludG8gYSBjb25jcmV0ZSBpbnN0YW5jZS5cbiAgICovXG4gIGZpbHRlcnMuQmx1ci5mcm9tT2JqZWN0ID0gZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlci5mcm9tT2JqZWN0O1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljICA9IGdsb2JhbC5mYWJyaWMgfHwgKGdsb2JhbC5mYWJyaWMgPSB7IH0pLFxuICAgICAgZmlsdGVycyA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLFxuICAgICAgY3JlYXRlQ2xhc3MgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcztcblxuICAvKipcbiAgICogR2FtbWEgZmlsdGVyIGNsYXNzXG4gICAqIEBjbGFzcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5HYW1tYVxuICAgKiBAbWVtYmVyT2YgZmFicmljLkltYWdlLmZpbHRlcnNcbiAgICogQGV4dGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlclxuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuSW1hZ2UuZmlsdGVycy5HYW1tYSNpbml0aWFsaXplfSBmb3IgY29uc3RydWN0b3IgZGVmaW5pdGlvblxuICAgKiBAc2VlIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ltYWdlLWZpbHRlcnN8SW1hZ2VGaWx0ZXJzIGRlbW99XG4gICAqIEBleGFtcGxlXG4gICAqIHZhciBmaWx0ZXIgPSBuZXcgZmFicmljLkltYWdlLmZpbHRlcnMuR2FtbWEoe1xuICAgKiAgIGdhbW1hOiBbMSwgMC41LCAyLjFdXG4gICAqIH0pO1xuICAgKiBvYmplY3QuZmlsdGVycy5wdXNoKGZpbHRlcik7XG4gICAqIG9iamVjdC5hcHBseUZpbHRlcnMoKTtcbiAgICovXG4gIGZpbHRlcnMuR2FtbWEgPSBjcmVhdGVDbGFzcyhmaWx0ZXJzLkJhc2VGaWx0ZXIsIC8qKiBAbGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuR2FtbWEucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIEZpbHRlciB0eXBlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHR5cGU6ICdHYW1tYScsXG5cbiAgICBmcmFnbWVudFNvdXJjZTogJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4nICtcbiAgICAgICd1bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZTtcXG4nICtcbiAgICAgICd1bmlmb3JtIHZlYzMgdUdhbW1hO1xcbicgK1xuICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAndmVjNCBjb2xvciA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKTtcXG4nICtcbiAgICAgICAgJ3ZlYzMgY29ycmVjdGlvbiA9ICgxLjAgLyB1R2FtbWEpO1xcbicgK1xuICAgICAgICAnY29sb3IuciA9IHBvdyhjb2xvci5yLCBjb3JyZWN0aW9uLnIpO1xcbicgK1xuICAgICAgICAnY29sb3IuZyA9IHBvdyhjb2xvci5nLCBjb3JyZWN0aW9uLmcpO1xcbicgK1xuICAgICAgICAnY29sb3IuYiA9IHBvdyhjb2xvci5iLCBjb3JyZWN0aW9uLmIpO1xcbicgK1xuICAgICAgICAnZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxuJyArXG4gICAgICAgICdnbF9GcmFnQ29sb3IucmdiICo9IGNvbG9yLmE7XFxuJyArXG4gICAgICAnfScsXG5cbiAgICAvKipcbiAgICAgKiBHYW1tYSBhcnJheSB2YWx1ZSwgZnJvbSAwLjAxIHRvIDIuMi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBnYW1tYVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgZ2FtbWE6IFsxLCAxLCAxXSxcblxuICAgIC8qKlxuICAgICAqIERlc2NyaWJlIHRoZSBwcm9wZXJ0eSB0aGF0IGlzIHRoZSBmaWx0ZXIgcGFyYW1ldGVyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIG1haW5QYXJhbWV0ZXI6ICdnYW1tYScsXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKi9cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICB0aGlzLmdhbW1hID0gWzEsIDEsIDFdO1xuICAgICAgZmlsdGVycy5CYXNlRmlsdGVyLnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFwcGx5IHRoZSBHYW1tYSBvcGVyYXRpb24gdG8gYSBVaW50OEFycmF5IHJlcHJlc2VudGluZyB0aGUgcGl4ZWxzIG9mIGFuIGltYWdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge0ltYWdlRGF0YX0gb3B0aW9ucy5pbWFnZURhdGEgVGhlIFVpbnQ4QXJyYXkgdG8gYmUgZmlsdGVyZWQuXG4gICAgICovXG4gICAgYXBwbHlUbzJkOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICB2YXIgaW1hZ2VEYXRhID0gb3B0aW9ucy5pbWFnZURhdGEsIGRhdGEgPSBpbWFnZURhdGEuZGF0YSxcbiAgICAgICAgICBnYW1tYSA9IHRoaXMuZ2FtbWEsIGxlbiA9IGRhdGEubGVuZ3RoLFxuICAgICAgICAgIHJJbnYgPSAxIC8gZ2FtbWFbMF0sIGdJbnYgPSAxIC8gZ2FtbWFbMV0sXG4gICAgICAgICAgYkludiA9IDEgLyBnYW1tYVsyXSwgaTtcblxuICAgICAgaWYgKCF0aGlzLnJWYWxzKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICB0aGlzLnJWYWxzID0gbmV3IFVpbnQ4QXJyYXkoMjU2KTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgIHRoaXMuZ1ZhbHMgPSBuZXcgVWludDhBcnJheSgyNTYpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgdGhpcy5iVmFscyA9IG5ldyBVaW50OEFycmF5KDI1Nik7XG4gICAgICB9XG5cbiAgICAgIC8vIFRoaXMgaXMgYW4gb3B0aW1pemF0aW9uIC0gcHJlLWNvbXB1dGUgYSBsb29rLXVwIHRhYmxlIGZvciBlYWNoIGNvbG9yIGNoYW5uZWxcbiAgICAgIC8vIGluc3RlYWQgb2YgcGVyZm9ybWluZyB0aGVzZSBwb3cgY2FsbHMgZm9yIGVhY2ggcGl4ZWwgaW4gdGhlIGltYWdlLlxuICAgICAgZm9yIChpID0gMCwgbGVuID0gMjU2OyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdGhpcy5yVmFsc1tpXSA9IE1hdGgucG93KGkgLyAyNTUsIHJJbnYpICogMjU1O1xuICAgICAgICB0aGlzLmdWYWxzW2ldID0gTWF0aC5wb3coaSAvIDI1NSwgZ0ludikgKiAyNTU7XG4gICAgICAgIHRoaXMuYlZhbHNbaV0gPSBNYXRoLnBvdyhpIC8gMjU1LCBiSW52KSAqIDI1NTtcbiAgICAgIH1cbiAgICAgIGZvciAoaSA9IDAsIGxlbiA9IGRhdGEubGVuZ3RoOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICAgICAgZGF0YVtpXSA9IHRoaXMuclZhbHNbZGF0YVtpXV07XG4gICAgICAgIGRhdGFbaSArIDFdID0gdGhpcy5nVmFsc1tkYXRhW2kgKyAxXV07XG4gICAgICAgIGRhdGFbaSArIDJdID0gdGhpcy5iVmFsc1tkYXRhW2kgKyAyXV07XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiBXZWJHTCB1bmlmb3JtIGxvY2F0aW9ucyBmb3IgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge1dlYkdMU2hhZGVyUHJvZ3JhbX0gcHJvZ3JhbSBUaGlzIGZpbHRlcidzIGNvbXBpbGVkIHNoYWRlciBwcm9ncmFtLlxuICAgICAqL1xuICAgIGdldFVuaWZvcm1Mb2NhdGlvbnM6IGZ1bmN0aW9uKGdsLCBwcm9ncmFtKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB1R2FtbWE6IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndUdhbW1hJyksXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZW5kIGRhdGEgZnJvbSB0aGlzIGZpbHRlciB0byBpdHMgc2hhZGVyIHByb2dyYW0ncyB1bmlmb3Jtcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgR0wgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB1bmlmb3JtTG9jYXRpb25zIEEgbWFwIG9mIHN0cmluZyB1bmlmb3JtIG5hbWVzIHRvIFdlYkdMVW5pZm9ybUxvY2F0aW9uIG9iamVjdHNcbiAgICAgKi9cbiAgICBzZW5kVW5pZm9ybURhdGE6IGZ1bmN0aW9uKGdsLCB1bmlmb3JtTG9jYXRpb25zKSB7XG4gICAgICBnbC51bmlmb3JtM2Z2KHVuaWZvcm1Mb2NhdGlvbnMudUdhbW1hLCB0aGlzLmdhbW1hKTtcbiAgICB9LFxuICB9KTtcblxuICAvKipcbiAgICogUmV0dXJucyBmaWx0ZXIgaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIHRvIGJlIGludm9rZWQgYWZ0ZXIgZmlsdGVyIGNyZWF0aW9uXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JbWFnZS5maWx0ZXJzLkdhbW1hfSBJbnN0YW5jZSBvZiBmYWJyaWMuSW1hZ2UuZmlsdGVycy5HYW1tYVxuICAgKi9cbiAgZmFicmljLkltYWdlLmZpbHRlcnMuR2FtbWEuZnJvbU9iamVjdCA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXIuZnJvbU9iamVjdDtcblxufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyAgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIGZpbHRlcnMgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycyxcbiAgICAgIGNyZWF0ZUNsYXNzID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3M7XG5cbiAgLyoqXG4gICAqIEEgY29udGFpbmVyIGNsYXNzIHRoYXQga25vd3MgaG93IHRvIGFwcGx5IGEgc2VxdWVuY2Ugb2YgZmlsdGVycyB0byBhbiBpbnB1dCBpbWFnZS5cbiAgICovXG4gIGZpbHRlcnMuQ29tcG9zZWQgPSBjcmVhdGVDbGFzcyhmaWx0ZXJzLkJhc2VGaWx0ZXIsIC8qKiBAbGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuQ29tcG9zZWQucHJvdG90eXBlICovIHtcblxuICAgIHR5cGU6ICdDb21wb3NlZCcsXG5cbiAgICAvKipcbiAgICAgKiBBIG5vbiBzcGFyc2UgYXJyYXkgb2YgZmlsdGVycyB0byBhcHBseVxuICAgICAqL1xuICAgIHN1YkZpbHRlcnM6IFtdLFxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAgICovXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdGhpcy5jYWxsU3VwZXIoJ2luaXRpYWxpemUnLCBvcHRpb25zKTtcbiAgICAgIC8vIGNyZWF0ZSBhIG5ldyBhcnJheSBpbnN0ZWFkIG11dGF0aW5nIHRoZSBwcm90b3R5cGUgd2l0aCBwdXNoXG4gICAgICB0aGlzLnN1YkZpbHRlcnMgPSB0aGlzLnN1YkZpbHRlcnMuc2xpY2UoMCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFwcGx5IHRoaXMgY29udGFpbmVyJ3MgZmlsdGVycyB0byB0aGUgaW5wdXQgaW1hZ2UgcHJvdmlkZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBvcHRpb25zLnBhc3NlcyBUaGUgbnVtYmVyIG9mIGZpbHRlcnMgcmVtYWluaW5nIHRvIGJlIGFwcGxpZWQuXG4gICAgICovXG4gICAgYXBwbHlUbzogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgb3B0aW9ucy5wYXNzZXMgKz0gdGhpcy5zdWJGaWx0ZXJzLmxlbmd0aCAtIDE7XG4gICAgICB0aGlzLnN1YkZpbHRlcnMuZm9yRWFjaChmdW5jdGlvbihmaWx0ZXIpIHtcbiAgICAgICAgZmlsdGVyLmFwcGx5VG8ob3B0aW9ucyk7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2VyaWFsaXplIHRoaXMgZmlsdGVyIGludG8gSlNPTi5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IEEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGlzIGZpbHRlci5cbiAgICAgKi9cbiAgICB0b09iamVjdDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZCh0aGlzLmNhbGxTdXBlcigndG9PYmplY3QnKSwge1xuICAgICAgICBzdWJGaWx0ZXJzOiB0aGlzLnN1YkZpbHRlcnMubWFwKGZ1bmN0aW9uKGZpbHRlcikgeyByZXR1cm4gZmlsdGVyLnRvT2JqZWN0KCk7IH0pLFxuICAgICAgfSk7XG4gICAgfSxcblxuICAgIGlzTmV1dHJhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAhdGhpcy5zdWJGaWx0ZXJzLnNvbWUoZnVuY3Rpb24oZmlsdGVyKSB7IHJldHVybiAhZmlsdGVyLmlzTmV1dHJhbFN0YXRlKCk7IH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIERlc2VyaWFsaXplIGEgSlNPTiBkZWZpbml0aW9uIG9mIGEgQ29tcG9zZWRGaWx0ZXIgaW50byBhIGNvbmNyZXRlIGluc3RhbmNlLlxuICAgKi9cbiAgZmFicmljLkltYWdlLmZpbHRlcnMuQ29tcG9zZWQuZnJvbU9iamVjdCA9IGZ1bmN0aW9uKG9iamVjdCwgY2FsbGJhY2spIHtcbiAgICB2YXIgZmlsdGVycyA9IG9iamVjdC5zdWJGaWx0ZXJzIHx8IFtdLFxuICAgICAgICBzdWJGaWx0ZXJzID0gZmlsdGVycy5tYXAoZnVuY3Rpb24oZmlsdGVyKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBmYWJyaWMuSW1hZ2UuZmlsdGVyc1tmaWx0ZXIudHlwZV0oZmlsdGVyKTtcbiAgICAgICAgfSksXG4gICAgICAgIGluc3RhbmNlID0gbmV3IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkNvbXBvc2VkKHsgc3ViRmlsdGVyczogc3ViRmlsdGVycyB9KTtcbiAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhpbnN0YW5jZSk7XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9O1xufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyAgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIGZpbHRlcnMgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycyxcbiAgICAgIGNyZWF0ZUNsYXNzID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3M7XG5cbiAgLyoqXG4gICAqIEh1ZVJvdGF0aW9uIGZpbHRlciBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkltYWdlLmZpbHRlcnMuSHVlUm90YXRpb25cbiAgICogQG1lbWJlck9mIGZhYnJpYy5JbWFnZS5maWx0ZXJzXG4gICAqIEBleHRlbmRzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXJcbiAgICogQHNlZSB7QGxpbmsgZmFicmljLkltYWdlLmZpbHRlcnMuSHVlUm90YXRpb24jaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICogQHNlZSB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9pbWFnZS1maWx0ZXJzfEltYWdlRmlsdGVycyBkZW1vfVxuICAgKiBAZXhhbXBsZVxuICAgKiB2YXIgZmlsdGVyID0gbmV3IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkh1ZVJvdGF0aW9uKHtcbiAgICogICByb3RhdGlvbjogLTAuNVxuICAgKiB9KTtcbiAgICogb2JqZWN0LmZpbHRlcnMucHVzaChmaWx0ZXIpO1xuICAgKiBvYmplY3QuYXBwbHlGaWx0ZXJzKCk7XG4gICAqL1xuICBmaWx0ZXJzLkh1ZVJvdGF0aW9uID0gY3JlYXRlQ2xhc3MoZmlsdGVycy5Db2xvck1hdHJpeCwgLyoqIEBsZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5IdWVSb3RhdGlvbi5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogRmlsdGVyIHR5cGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHlwZTogJ0h1ZVJvdGF0aW9uJyxcblxuICAgIC8qKlxuICAgICAqIEh1ZVJvdGF0aW9uIHZhbHVlLCBmcm9tIC0xIHRvIDEuXG4gICAgICogdGhlIHVuaXQgaXMgcmFkaWFuc1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBteVBhcmFtZXRlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgcm90YXRpb246IDAsXG5cbiAgICAvKipcbiAgICAgKiBEZXNjcmliZSB0aGUgcHJvcGVydHkgdGhhdCBpcyB0aGUgZmlsdGVyIHBhcmFtZXRlclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBtYWluUGFyYW1ldGVyOiAncm90YXRpb24nLFxuXG4gICAgY2FsY3VsYXRlTWF0cml4OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciByYWQgPSB0aGlzLnJvdGF0aW9uICogTWF0aC5QSSwgY29zID0gZmFicmljLnV0aWwuY29zKHJhZCksIHNpbiA9IGZhYnJpYy51dGlsLnNpbihyYWQpLFxuICAgICAgICAgIGFUaGlyZCA9IDEgLyAzLCBhVGhpcmRTcXRTaW4gPSBNYXRoLnNxcnQoYVRoaXJkKSAqIHNpbiwgT25lTWludXNDb3MgPSAxIC0gY29zO1xuICAgICAgdGhpcy5tYXRyaXggPSBbXG4gICAgICAgIDEsIDAsIDAsIDAsIDAsXG4gICAgICAgIDAsIDEsIDAsIDAsIDAsXG4gICAgICAgIDAsIDAsIDEsIDAsIDAsXG4gICAgICAgIDAsIDAsIDAsIDEsIDBcbiAgICAgIF07XG4gICAgICB0aGlzLm1hdHJpeFswXSA9IGNvcyArIE9uZU1pbnVzQ29zIC8gMztcbiAgICAgIHRoaXMubWF0cml4WzFdID0gYVRoaXJkICogT25lTWludXNDb3MgLSBhVGhpcmRTcXRTaW47XG4gICAgICB0aGlzLm1hdHJpeFsyXSA9IGFUaGlyZCAqIE9uZU1pbnVzQ29zICsgYVRoaXJkU3F0U2luO1xuICAgICAgdGhpcy5tYXRyaXhbNV0gPSBhVGhpcmQgKiBPbmVNaW51c0NvcyArIGFUaGlyZFNxdFNpbjtcbiAgICAgIHRoaXMubWF0cml4WzZdID0gY29zICsgYVRoaXJkICogT25lTWludXNDb3M7XG4gICAgICB0aGlzLm1hdHJpeFs3XSA9IGFUaGlyZCAqIE9uZU1pbnVzQ29zIC0gYVRoaXJkU3F0U2luO1xuICAgICAgdGhpcy5tYXRyaXhbMTBdID0gYVRoaXJkICogT25lTWludXNDb3MgLSBhVGhpcmRTcXRTaW47XG4gICAgICB0aGlzLm1hdHJpeFsxMV0gPSBhVGhpcmQgKiBPbmVNaW51c0NvcyArIGFUaGlyZFNxdFNpbjtcbiAgICAgIHRoaXMubWF0cml4WzEyXSA9IGNvcyArIGFUaGlyZCAqIE9uZU1pbnVzQ29zO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBIdWVSb3RhdGlvbiBpc05ldXRyYWxTdGF0ZSBpbXBsZW1lbnRhdGlvblxuICAgICAqIFVzZWQgb25seSBpbiBpbWFnZSBhcHBseUZpbHRlcnMgdG8gZGlzY2FyZCBmaWx0ZXJzIHRoYXQgd2lsbCBub3QgaGF2ZSBhbiBlZmZlY3RcbiAgICAgKiBvbiB0aGUgaW1hZ2VcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqKi9cbiAgICBpc05ldXRyYWxTdGF0ZTogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdGhpcy5jYWxjdWxhdGVNYXRyaXgoKTtcbiAgICAgIHJldHVybiBmaWx0ZXJzLkJhc2VGaWx0ZXIucHJvdG90eXBlLmlzTmV1dHJhbFN0YXRlLmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFwcGx5IHRoaXMgZmlsdGVyIHRvIHRoZSBpbnB1dCBpbWFnZSBkYXRhIHByb3ZpZGVkLlxuICAgICAqXG4gICAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRvIHVzZSBXZWJHTCBvciBDYW52YXMyRCBiYXNlZCBvbiB0aGUgb3B0aW9ucy53ZWJnbCBmbGFnLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gb3B0aW9ucy5wYXNzZXMgVGhlIG51bWJlciBvZiBmaWx0ZXJzIHJlbWFpbmluZyB0byBiZSBleGVjdXRlZFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gb3B0aW9ucy53ZWJnbCBXaGV0aGVyIHRvIHVzZSB3ZWJnbCB0byByZW5kZXIgdGhlIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge1dlYkdMVGV4dHVyZX0gb3B0aW9ucy5zb3VyY2VUZXh0dXJlIFRoZSB0ZXh0dXJlIHNldHVwIGFzIHRoZSBzb3VyY2UgdG8gYmUgZmlsdGVyZWQuXG4gICAgICogQHBhcmFtIHtXZWJHTFRleHR1cmV9IG9wdGlvbnMudGFyZ2V0VGV4dHVyZSBUaGUgdGV4dHVyZSB3aGVyZSBmaWx0ZXJlZCBvdXRwdXQgc2hvdWxkIGJlIGRyYXduLlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBvcHRpb25zLmNvbnRleHQgVGhlIEdMIGNvbnRleHQgdXNlZCBmb3IgcmVuZGVyaW5nLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLnByb2dyYW1DYWNoZSBBIG1hcCBvZiBjb21waWxlZCBzaGFkZXIgcHJvZ3JhbXMsIGtleWVkIGJ5IGZpbHRlciB0eXBlLlxuICAgICAqL1xuICAgIGFwcGx5VG86IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuY2FsY3VsYXRlTWF0cml4KCk7XG4gICAgICBmaWx0ZXJzLkJhc2VGaWx0ZXIucHJvdG90eXBlLmFwcGx5VG8uY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICB9LFxuXG4gIH0pO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGZpbHRlciBpbnN0YW5jZSBmcm9tIGFuIG9iamVjdCByZXByZXNlbnRhdGlvblxuICAgKiBAc3RhdGljXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBmcm9tXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYWxsYmFja10gdG8gYmUgaW52b2tlZCBhZnRlciBmaWx0ZXIgY3JlYXRpb25cbiAgICogQHJldHVybiB7ZmFicmljLkltYWdlLmZpbHRlcnMuSHVlUm90YXRpb259IEluc3RhbmNlIG9mIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkh1ZVJvdGF0aW9uXG4gICAqL1xuICBmYWJyaWMuSW1hZ2UuZmlsdGVycy5IdWVSb3RhdGlvbi5mcm9tT2JqZWN0ID0gZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlci5mcm9tT2JqZWN0O1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSksXG4gICAgICBjbG9uZSA9IGZhYnJpYy51dGlsLm9iamVjdC5jbG9uZTtcblxuICBpZiAoZmFicmljLlRleHQpIHtcbiAgICBmYWJyaWMud2FybignZmFicmljLlRleHQgaXMgYWxyZWFkeSBkZWZpbmVkJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGFkZGl0aW9uYWxQcm9wcyA9XG4gICAgKCdmb250RmFtaWx5IGZvbnRXZWlnaHQgZm9udFNpemUgdGV4dCB1bmRlcmxpbmUgb3ZlcmxpbmUgbGluZXRocm91Z2gnICtcbiAgICAnIHRleHRBbGlnbiBmb250U3R5bGUgbGluZUhlaWdodCB0ZXh0QmFja2dyb3VuZENvbG9yIGNoYXJTcGFjaW5nIHN0eWxlcycgK1xuICAgICcgZGlyZWN0aW9uIHBhdGggcGF0aFN0YXJ0T2Zmc2V0IHBhdGhTaWRlIHBhdGhBbGlnbicpLnNwbGl0KCcgJyk7XG5cbiAgLyoqXG4gICAqIFRleHQgY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5UZXh0XG4gICAqIEBleHRlbmRzIGZhYnJpYy5PYmplY3RcbiAgICogQHJldHVybiB7ZmFicmljLlRleHR9IHRoaXNBcmdcbiAgICogQHR1dG9yaWFsIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ZhYnJpYy1pbnRyby1wYXJ0LTIjdGV4dH1cbiAgICogQHNlZSB7QGxpbmsgZmFicmljLlRleHQjaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICovXG4gIGZhYnJpYy5UZXh0ID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3MoZmFicmljLk9iamVjdCwgLyoqIEBsZW5kcyBmYWJyaWMuVGV4dC5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydGllcyB3aGljaCB3aGVuIHNldCBjYXVzZSBvYmplY3QgdG8gY2hhbmdlIGRpbWVuc2lvbnNcbiAgICAgKiBAdHlwZSBBcnJheVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2RpbWVuc2lvbkFmZmVjdGluZ1Byb3BzOiBbXG4gICAgICAnZm9udFNpemUnLFxuICAgICAgJ2ZvbnRXZWlnaHQnLFxuICAgICAgJ2ZvbnRGYW1pbHknLFxuICAgICAgJ2ZvbnRTdHlsZScsXG4gICAgICAnbGluZUhlaWdodCcsXG4gICAgICAndGV4dCcsXG4gICAgICAnY2hhclNwYWNpbmcnLFxuICAgICAgJ3RleHRBbGlnbicsXG4gICAgICAnc3R5bGVzJyxcbiAgICAgICdwYXRoJyxcbiAgICAgICdwYXRoU3RhcnRPZmZzZXQnLFxuICAgICAgJ3BhdGhTaWRlJyxcbiAgICAgICdwYXRoQWxpZ24nXG4gICAgXSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3JlTmV3bGluZTogL1xccj9cXG4vLFxuXG4gICAgLyoqXG4gICAgICogVXNlIHRoaXMgcmVndWxhciBleHByZXNzaW9uIHRvIGZpbHRlciBmb3Igd2hpdGVzcGFjZXMgdGhhdCBpcyBub3QgYSBuZXcgbGluZS5cbiAgICAgKiBNb3N0bHkgdXNlZCB3aGVuIHRleHQgaXMgJ2p1c3RpZnknIGFsaWduZWQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVTcGFjZXNBbmRUYWJzOiAvWyBcXHRcXHJdL2csXG5cbiAgICAvKipcbiAgICAgKiBVc2UgdGhpcyByZWd1bGFyIGV4cHJlc3Npb24gdG8gZmlsdGVyIGZvciB3aGl0ZXNwYWNlIHRoYXQgaXMgbm90IGEgbmV3IGxpbmUuXG4gICAgICogTW9zdGx5IHVzZWQgd2hlbiB0ZXh0IGlzICdqdXN0aWZ5JyBhbGlnbmVkLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3JlU3BhY2VBbmRUYWI6IC9bIFxcdFxccl0vLFxuXG4gICAgLyoqXG4gICAgICogVXNlIHRoaXMgcmVndWxhciBleHByZXNzaW9uIHRvIGZpbHRlciBjb25zZWN1dGl2ZSBncm91cHMgb2Ygbm9uIHNwYWNlcy5cbiAgICAgKiBNb3N0bHkgdXNlZCB3aGVuIHRleHQgaXMgJ2p1c3RpZnknIGFsaWduZWQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVXb3JkczogL1xcUysvZyxcblxuICAgIC8qKlxuICAgICAqIFR5cGUgb2YgYW4gb2JqZWN0XG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0eXBlOiAgICAgICAgICAgICAgICAgJ3RleHQnLFxuXG4gICAgLyoqXG4gICAgICogRm9udCBzaXplIChpbiBwaXhlbHMpXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBmb250U2l6ZTogICAgICAgICAgICAgNDAsXG5cbiAgICAvKipcbiAgICAgKiBGb250IHdlaWdodCAoZS5nLiBib2xkLCBub3JtYWwsIDQwMCwgNjAwLCA4MDApXG4gICAgICogQHR5cGUgeyhOdW1iZXJ8U3RyaW5nKX1cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGZvbnRXZWlnaHQ6ICAgICAgICAgICAnbm9ybWFsJyxcblxuICAgIC8qKlxuICAgICAqIEZvbnQgZmFtaWx5XG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBmb250RmFtaWx5OiAgICAgICAgICAgJ1RpbWVzIE5ldyBSb21hbicsXG5cbiAgICAvKipcbiAgICAgKiBUZXh0IGRlY29yYXRpb24gdW5kZXJsaW5lLlxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHVuZGVybGluZTogICAgICAgZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBUZXh0IGRlY29yYXRpb24gb3ZlcmxpbmUuXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgb3ZlcmxpbmU6ICAgICAgIGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogVGV4dCBkZWNvcmF0aW9uIGxpbmV0aHJvdWdoLlxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGxpbmV0aHJvdWdoOiAgICAgICBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIFRleHQgYWxpZ25tZW50LiBQb3NzaWJsZSB2YWx1ZXM6IFwibGVmdFwiLCBcImNlbnRlclwiLCBcInJpZ2h0XCIsIFwianVzdGlmeVwiLFxuICAgICAqIFwianVzdGlmeS1sZWZ0XCIsIFwianVzdGlmeS1jZW50ZXJcIiBvciBcImp1c3RpZnktcmlnaHRcIi5cbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRleHRBbGlnbjogICAgICAgICAgICAnbGVmdCcsXG5cbiAgICAvKipcbiAgICAgKiBGb250IHN0eWxlIC4gUG9zc2libGUgdmFsdWVzOiBcIlwiLCBcIm5vcm1hbFwiLCBcIml0YWxpY1wiIG9yIFwib2JsaXF1ZVwiLlxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgZm9udFN0eWxlOiAgICAgICAgICAgICdub3JtYWwnLFxuXG4gICAgLyoqXG4gICAgICogTGluZSBoZWlnaHRcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGxpbmVIZWlnaHQ6ICAgICAgICAgICAxLjE2LFxuXG4gICAgLyoqXG4gICAgICogU3VwZXJzY3JpcHQgc2NoZW1hIG9iamVjdCAobWluaW11bSBvdmVybGFwKVxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzdXBlcnNjcmlwdDoge1xuICAgICAgc2l6ZTogICAgICAwLjYwLCAvLyBmb250U2l6ZSBmYWN0b3JcbiAgICAgIGJhc2VsaW5lOiAtMC4zNSAgLy8gYmFzZWxpbmUtc2hpZnQgZmFjdG9yICh1cHdhcmRzKVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTdWJzY3JpcHQgc2NoZW1hIG9iamVjdCAobWluaW11bSBvdmVybGFwKVxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzdWJzY3JpcHQ6IHtcbiAgICAgIHNpemU6ICAgICAgMC42MCwgLy8gZm9udFNpemUgZmFjdG9yXG4gICAgICBiYXNlbGluZTogIDAuMTEgIC8vIGJhc2VsaW5lLXNoaWZ0IGZhY3RvciAoZG93bndhcmRzKVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBCYWNrZ3JvdW5kIGNvbG9yIG9mIHRleHQgbGluZXNcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHRleHRCYWNrZ3JvdW5kQ29sb3I6ICAnJyxcblxuICAgIC8qKlxuICAgICAqIExpc3Qgb2YgcHJvcGVydGllcyB0byBjb25zaWRlciB3aGVuIGNoZWNraW5nIGlmXG4gICAgICogc3RhdGUgb2YgYW4gb2JqZWN0IGlzIGNoYW5nZWQgKHtAbGluayBmYWJyaWMuT2JqZWN0I2hhc1N0YXRlQ2hhbmdlZH0pXG4gICAgICogYXMgd2VsbCBhcyBmb3IgaGlzdG9yeSAodW5kby9yZWRvKSBwdXJwb3Nlc1xuICAgICAqIEB0eXBlIEFycmF5XG4gICAgICovXG4gICAgc3RhdGVQcm9wZXJ0aWVzOiBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZS5zdGF0ZVByb3BlcnRpZXMuY29uY2F0KGFkZGl0aW9uYWxQcm9wcyksXG5cbiAgICAvKipcbiAgICAgKiBMaXN0IG9mIHByb3BlcnRpZXMgdG8gY29uc2lkZXIgd2hlbiBjaGVja2luZyBpZiBjYWNoZSBuZWVkcyByZWZyZXNoXG4gICAgICogQHR5cGUgQXJyYXlcbiAgICAgKi9cbiAgICBjYWNoZVByb3BlcnRpZXM6IGZhYnJpYy5PYmplY3QucHJvdG90eXBlLmNhY2hlUHJvcGVydGllcy5jb25jYXQoYWRkaXRpb25hbFByb3BzKSxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gZGVmaW5lZCwgYW4gb2JqZWN0IGlzIHJlbmRlcmVkIHZpYSBzdHJva2UgYW5kIHRoaXMgcHJvcGVydHkgc3BlY2lmaWVzIGl0cyBjb2xvci5cbiAgICAgKiA8Yj5CYWNrd2FyZHMgaW5jb21wYXRpYmlsaXR5IG5vdGU6PC9iPiBUaGlzIHByb3BlcnR5IHdhcyBuYW1lZCBcInN0cm9rZVN0eWxlXCIgdW50aWwgdjEuMS42XG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzdHJva2U6ICAgICAgICAgICAgICAgbnVsbCxcblxuICAgIC8qKlxuICAgICAqIFNoYWRvdyBvYmplY3QgcmVwcmVzZW50aW5nIHNoYWRvdyBvZiB0aGlzIHNoYXBlLlxuICAgICAqIDxiPkJhY2t3YXJkcyBpbmNvbXBhdGliaWxpdHkgbm90ZTo8L2I+IFRoaXMgcHJvcGVydHkgd2FzIG5hbWVkIFwidGV4dFNoYWRvd1wiIChTdHJpbmcpIHVudGlsIHYxLjIuMTFcbiAgICAgKiBAdHlwZSBmYWJyaWMuU2hhZG93XG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzaGFkb3c6ICAgICAgICAgICAgICAgbnVsbCxcblxuICAgIC8qKlxuICAgICAqIGZhYnJpYy5QYXRoIHRoYXQgdGhlIHRleHQgc2hvdWxkIGZvbGxvdy5cbiAgICAgKiBzaW5jZSA0LjYuMCB0aGUgcGF0aCB3aWxsIGJlIGRyYXduIGF1dG9tYXRpY2FsbHkuXG4gICAgICogaWYgeW91IHdhbnQgdG8gbWFrZSB0aGUgcGF0aCB2aXNpYmxlLCBnaXZlIGl0IGEgc3Ryb2tlIGFuZCBzdHJva2VXaWR0aCBvciBmaWxsIHZhbHVlXG4gICAgICogaWYgeW91IHdhbnQgaXQgdG8gYmUgaGlkZGVuLCBhc3NpZ24gdmlzaWJsZSA9IGZhbHNlIHRvIHRoZSBwYXRoLlxuICAgICAqIFRoaXMgZmVhdHVyZSBpcyBpbiBCRVRBLCBhbmQgU1ZHIGltcG9ydC9leHBvcnQgaXMgbm90IHlldCBzdXBwb3J0ZWQuXG4gICAgICogQHR5cGUgZmFicmljLlBhdGhcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHZhciB0ZXh0UGF0aCA9IG5ldyBmYWJyaWMuVGV4dCgnVGV4dCBvbiBhIHBhdGgnLCB7XG4gICAgICogICAgIHRvcDogMTUwLFxuICAgICAqICAgICBsZWZ0OiAxNTAsXG4gICAgICogICAgIHRleHRBbGlnbjogJ2NlbnRlcicsXG4gICAgICogICAgIGNoYXJTcGFjaW5nOiAtNTAsXG4gICAgICogICAgIHBhdGg6IG5ldyBmYWJyaWMuUGF0aCgnTSAwIDAgQyA1MCAtMTAwIDE1MCAtMTAwIDIwMCAwJywge1xuICAgICAqICAgICAgICAgc3Ryb2tlV2lkdGg6IDEsXG4gICAgICogICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgICAqICAgICB9KSxcbiAgICAgKiAgICAgcGF0aFNpZGU6ICdsZWZ0JyxcbiAgICAgKiAgICAgcGF0aFN0YXJ0T2Zmc2V0OiAwXG4gICAgICogfSk7XG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBwYXRoOiAgICAgICAgICAgICAgIG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBPZmZzZXQgYW1vdW50IGZvciB0ZXh0IHBhdGggc3RhcnRpbmcgcG9zaXRpb25cbiAgICAgKiBPbmx5IHVzZWQgd2hlbiB0ZXh0IGhhcyBhIHBhdGhcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHBhdGhTdGFydE9mZnNldDogICAgICAgICAgICAgICAwLFxuXG4gICAgLyoqXG4gICAgICogV2hpY2ggc2lkZSBvZiB0aGUgcGF0aCB0aGUgdGV4dCBzaG91bGQgYmUgZHJhd24gb24uXG4gICAgICogT25seSB1c2VkIHdoZW4gdGV4dCBoYXMgYSBwYXRoXG4gICAgICogQHR5cGUge1N0cmluZ30gJ2xlZnR8cmlnaHQnXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBwYXRoU2lkZTogICAgICAgICAgICAgICAnbGVmdCcsXG5cbiAgICAvKipcbiAgICAgKiBIb3cgdGV4dCBpcyBhbGlnbmVkIHRvIHRoZSBwYXRoLiBUaGlzIHByb3BlcnR5IGRldGVybWluZXNcbiAgICAgKiB0aGUgcGVycGVuZGljdWxhciBwb3NpdGlvbiBvZiBlYWNoIGNoYXJhY3RlciByZWxhdGl2ZSB0byB0aGUgcGF0aC5cbiAgICAgKiAob25lIG9mIFwiYmFzZWxpbmVcIiwgXCJjZW50ZXJcIiwgXCJhc2NlbmRlclwiLCBcImRlc2NlbmRlclwiKVxuICAgICAqIFRoaXMgZmVhdHVyZSBpcyBpbiBCRVRBLCBhbmQgaXRzIGJlaGF2aW9yIG1heSBjaGFuZ2VcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHBhdGhBbGlnbjogICAgICAgICAgICAgICAnYmFzZWxpbmUnLFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZm9udFNpemVGcmFjdGlvbjogMC4yMjIsXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9mZnNldHM6IHtcbiAgICAgIHVuZGVybGluZTogMC4xMCxcbiAgICAgIGxpbmV0aHJvdWdoOiAtMC4zMTUsXG4gICAgICBvdmVybGluZTogLTAuODhcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVGV4dCBMaW5lIHByb3BvcnRpb24gdG8gZm9udCBTaXplIChpbiBwaXhlbHMpXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBfZm9udFNpemVNdWx0OiAgICAgICAgICAgICAxLjEzLFxuXG4gICAgLyoqXG4gICAgICogYWRkaXRpb25hbCBzcGFjZSBiZXR3ZWVuIGNoYXJhY3RlcnNcbiAgICAgKiBleHByZXNzZWQgaW4gdGhvdXNhbmRzIG9mIGVtIHVuaXRcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGNoYXJTcGFjaW5nOiAgICAgICAgICAgICAwLFxuXG4gICAgLyoqXG4gICAgICogT2JqZWN0IGNvbnRhaW5pbmcgY2hhcmFjdGVyIHN0eWxlcyAtIHRvcC1sZXZlbCBwcm9wZXJ0aWVzIC0+IGxpbmUgbnVtYmVycyxcbiAgICAgKiAybmQtbGV2ZWwgcHJvcGVydGllcyAtIGNoYXJhY3RlciBudW1iZXJzXG4gICAgICogQHR5cGUgT2JqZWN0XG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzdHlsZXM6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBSZWZlcmVuY2UgdG8gYSBjb250ZXh0IHRvIG1lYXN1cmUgdGV4dCBjaGFyIG9yIGNvdXBsZSBvZiBjaGFyc1xuICAgICAqIHRoZSBjYWNoZUNvbnRleHQgb2YgdGhlIGNhbnZhcyB3aWxsIGJlIHVzZWQgb3IgYSBmcmVzaGx5IGNyZWF0ZWQgb25lIGlmIHRoZSBvYmplY3QgaXMgbm90IG9uIGNhbnZhc1xuICAgICAqIG9uY2UgY3JlYXRlZCBpdCB3aWxsIGJlIHJlZmVyZW5jZWQgb24gZmFicmljLl9tZWFzdXJpbmdDb250ZXh0IHRvIGF2b2lkIGNyZWF0aW5nIGEgY2FudmFzIGZvciBldmVyeVxuICAgICAqIHRleHQgb2JqZWN0IGNyZWF0ZWQuXG4gICAgICogQHR5cGUge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIF9tZWFzdXJpbmdDb250ZXh0OiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogQmFzZWxpbmUgc2hpZnQsIHN0eWxlcyBvbmx5LCBrZWVwIGF0IDAgZm9yIHRoZSBtYWluIHRleHQgb2JqZWN0XG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGRlbHRhWTogMCxcblxuICAgIC8qKlxuICAgICAqIFdBUk5JTkc6IEVYUEVSSU1FTlRBTC4gTk9UIFNVUFBPUlRFRCBZRVRcbiAgICAgKiBkZXRlcm1pbmUgdGhlIGRpcmVjdGlvbiBvZiB0aGUgdGV4dC5cbiAgICAgKiBUaGlzIGhhcyB0byBiZSBzZXQgbWFudWFsbHkgdG9nZXRoZXIgd2l0aCB0ZXh0QWxpZ24gYW5kIG9yaWdpblggZm9yIHByb3BlclxuICAgICAqIGV4cGVyaWVuY2UuXG4gICAgICogc29tZSBpbnRlcmVzdGluZyBsaW5rIGZvciB0aGUgZnV0dXJlXG4gICAgICogaHR0cHM6Ly93d3cudzMub3JnL0ludGVybmF0aW9uYWwvcXVlc3Rpb25zL3FhLWJpZGktdW5pY29kZS1jb250cm9sc1xuICAgICAqIEBzaW5jZSA0LjUuMFxuICAgICAqIEB0eXBlIHtTdHJpbmd9ICdsdHJ8cnRsJ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgZGlyZWN0aW9uOiAnbHRyJyxcblxuICAgIC8qKlxuICAgICAqIEFycmF5IG9mIHByb3BlcnRpZXMgdGhhdCBkZWZpbmUgYSBzdHlsZSB1bml0IChvZiAnc3R5bGVzJykuXG4gICAgICogQHR5cGUge0FycmF5fVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgX3N0eWxlUHJvcGVydGllczogW1xuICAgICAgJ3N0cm9rZScsXG4gICAgICAnc3Ryb2tlV2lkdGgnLFxuICAgICAgJ2ZpbGwnLFxuICAgICAgJ2ZvbnRGYW1pbHknLFxuICAgICAgJ2ZvbnRTaXplJyxcbiAgICAgICdmb250V2VpZ2h0JyxcbiAgICAgICdmb250U3R5bGUnLFxuICAgICAgJ3VuZGVybGluZScsXG4gICAgICAnb3ZlcmxpbmUnLFxuICAgICAgJ2xpbmV0aHJvdWdoJyxcbiAgICAgICdkZWx0YVknLFxuICAgICAgJ3RleHRCYWNrZ3JvdW5kQ29sb3InLFxuICAgIF0sXG5cbiAgICAvKipcbiAgICAgKiBjb250YWlucyBjaGFyYWN0ZXJzIGJvdW5kaW5nIGJveGVzXG4gICAgICovXG4gICAgX19jaGFyQm91bmRzOiBbXSxcblxuICAgIC8qKlxuICAgICAqIHVzZSB0aGlzIHNpemUgd2hlbiBtZWFzdXJpbmcgdGV4dC4gVG8gYXZvaWQgSUUxMSByb3VuZGluZyBlcnJvcnNcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBkZWZhdWx0XG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBDQUNIRV9GT05UX1NJWkU6IDQwMCxcblxuICAgIC8qKlxuICAgICAqIGNvbnRhaW5zIHRoZSBtaW4gdGV4dCB3aWR0aCB0byBhdm9pZCBnZXR0aW5nIDBcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgTUlOX1RFWFRfV0lEVEg6IDIsXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0IFRleHQgc3RyaW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5UZXh0fSB0aGlzQXJnXG4gICAgICovXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24odGV4dCwgb3B0aW9ucykge1xuICAgICAgdGhpcy5zdHlsZXMgPSBvcHRpb25zID8gKG9wdGlvbnMuc3R5bGVzIHx8IHsgfSkgOiB7IH07XG4gICAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgICAgdGhpcy5fX3NraXBEaW1lbnNpb24gPSB0cnVlO1xuICAgICAgdGhpcy5jYWxsU3VwZXIoJ2luaXRpYWxpemUnLCBvcHRpb25zKTtcbiAgICAgIGlmICh0aGlzLnBhdGgpIHtcbiAgICAgICAgdGhpcy5zZXRQYXRoSW5mbygpO1xuICAgICAgfVxuICAgICAgdGhpcy5fX3NraXBEaW1lbnNpb24gPSBmYWxzZTtcbiAgICAgIHRoaXMuaW5pdERpbWVuc2lvbnMoKTtcbiAgICAgIHRoaXMuc2V0Q29vcmRzKCk7XG4gICAgICB0aGlzLnNldHVwU3RhdGUoeyBwcm9wZXJ0eVNldDogJ19kaW1lbnNpb25BZmZlY3RpbmdQcm9wcycgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIElmIHRleHQgaGFzIGEgcGF0aCwgaXQgd2lsbCBhZGQgdGhlIGV4dHJhIGluZm9ybWF0aW9uIG5lZWRlZFxuICAgICAqIGZvciBwYXRoIGFuZCB0ZXh0IGNhbGN1bGF0aW9uc1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5UZXh0fSB0aGlzQXJnXG4gICAgICovXG4gICAgc2V0UGF0aEluZm86IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHBhdGggPSB0aGlzLnBhdGg7XG4gICAgICBpZiAocGF0aCkge1xuICAgICAgICBwYXRoLnNlZ21lbnRzSW5mbyA9IGZhYnJpYy51dGlsLmdldFBhdGhTZWdtZW50c0luZm8ocGF0aC5wYXRoKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGEgY29udGV4dCBmb3IgbWVhc3VyZW1lbnQgb2YgdGV4dCBzdHJpbmcuXG4gICAgICogaWYgY3JlYXRlZCBpdCBnZXRzIHN0b3JlZCBmb3IgcmV1c2VcbiAgICAgKiB0aGlzIGlzIGZvciBpbnRlcm5hbCB1c2UsIHBsZWFzZSBkbyBub3QgdXNlIGl0XG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdGV4dCBUZXh0IHN0cmluZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuVGV4dH0gdGhpc0FyZ1xuICAgICAqL1xuICAgIGdldE1lYXN1cmluZ0NvbnRleHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgLy8gaWYgd2UgZGlkIG5vdCByZXR1cm4gd2UgaGF2ZSB0byBtZWFzdXJlIHNvbWV0aGluZy5cbiAgICAgIGlmICghZmFicmljLl9tZWFzdXJpbmdDb250ZXh0KSB7XG4gICAgICAgIGZhYnJpYy5fbWVhc3VyaW5nQ29udGV4dCA9IHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLmNvbnRleHRDYWNoZSB8fFxuICAgICAgICAgIGZhYnJpYy51dGlsLmNyZWF0ZUNhbnZhc0VsZW1lbnQoKS5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhYnJpYy5fbWVhc3VyaW5nQ29udGV4dDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBEaXZpZGVzIHRleHQgaW50byBsaW5lcyBvZiB0ZXh0IGFuZCBsaW5lcyBvZiBncmFwaGVtZXMuXG4gICAgICovXG4gICAgX3NwbGl0VGV4dDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbmV3TGluZXMgPSB0aGlzLl9zcGxpdFRleHRJbnRvTGluZXModGhpcy50ZXh0KTtcbiAgICAgIHRoaXMudGV4dExpbmVzID0gbmV3TGluZXMubGluZXM7XG4gICAgICB0aGlzLl90ZXh0TGluZXMgPSBuZXdMaW5lcy5ncmFwaGVtZUxpbmVzO1xuICAgICAgdGhpcy5fdW53cmFwcGVkVGV4dExpbmVzID0gbmV3TGluZXMuX3Vud3JhcHBlZExpbmVzO1xuICAgICAgdGhpcy5fdGV4dCA9IG5ld0xpbmVzLmdyYXBoZW1lVGV4dDtcbiAgICAgIHJldHVybiBuZXdMaW5lcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBvciB1cGRhdGUgdGV4dCBkaW1lbnNpb25zLlxuICAgICAqIFVwZGF0ZXMgdGhpcy53aWR0aCBhbmQgdGhpcy5oZWlnaHQgd2l0aCB0aGUgcHJvcGVyIHZhbHVlcy5cbiAgICAgKiBEb2VzIG5vdCByZXR1cm4gZGltZW5zaW9ucy5cbiAgICAgKi9cbiAgICBpbml0RGltZW5zaW9uczogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5fX3NraXBEaW1lbnNpb24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5fc3BsaXRUZXh0KCk7XG4gICAgICB0aGlzLl9jbGVhckNhY2hlKCk7XG4gICAgICBpZiAodGhpcy5wYXRoKSB7XG4gICAgICAgIHRoaXMud2lkdGggPSB0aGlzLnBhdGgud2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5wYXRoLmhlaWdodDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLndpZHRoID0gdGhpcy5jYWxjVGV4dFdpZHRoKCkgfHwgdGhpcy5jdXJzb3JXaWR0aCB8fCB0aGlzLk1JTl9URVhUX1dJRFRIO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMuY2FsY1RleHRIZWlnaHQoKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnRleHRBbGlnbi5pbmRleE9mKCdqdXN0aWZ5JykgIT09IC0xKSB7XG4gICAgICAgIC8vIG9uY2UgdGV4dCBpcyBtZWFzdXJlZCB3ZSBuZWVkIHRvIG1ha2Ugc3BhY2UgZmF0dGVyIHRvIG1ha2UganVzdGlmaWVkIHRleHQuXG4gICAgICAgIHRoaXMuZW5sYXJnZVNwYWNlcygpO1xuICAgICAgfVxuICAgICAgdGhpcy5zYXZlU3RhdGUoeyBwcm9wZXJ0eVNldDogJ19kaW1lbnNpb25BZmZlY3RpbmdQcm9wcycgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEVubGFyZ2Ugc3BhY2UgYm94ZXMgYW5kIHNoaWZ0IHRoZSBvdGhlcnNcbiAgICAgKi9cbiAgICBlbmxhcmdlU3BhY2VzOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBkaWZmU3BhY2UsIGN1cnJlbnRMaW5lV2lkdGgsIG51bWJlck9mU3BhY2VzLCBhY2N1bXVsYXRlZFNwYWNlLCBsaW5lLCBjaGFyQm91bmQsIHNwYWNlcztcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLl90ZXh0TGluZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgaWYgKHRoaXMudGV4dEFsaWduICE9PSAnanVzdGlmeScgJiYgKGkgPT09IGxlbiAtIDEgfHwgdGhpcy5pc0VuZE9mV3JhcHBpbmcoaSkpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgYWNjdW11bGF0ZWRTcGFjZSA9IDA7XG4gICAgICAgIGxpbmUgPSB0aGlzLl90ZXh0TGluZXNbaV07XG4gICAgICAgIGN1cnJlbnRMaW5lV2lkdGggPSB0aGlzLmdldExpbmVXaWR0aChpKTtcbiAgICAgICAgaWYgKGN1cnJlbnRMaW5lV2lkdGggPCB0aGlzLndpZHRoICYmIChzcGFjZXMgPSB0aGlzLnRleHRMaW5lc1tpXS5tYXRjaCh0aGlzLl9yZVNwYWNlc0FuZFRhYnMpKSkge1xuICAgICAgICAgIG51bWJlck9mU3BhY2VzID0gc3BhY2VzLmxlbmd0aDtcbiAgICAgICAgICBkaWZmU3BhY2UgPSAodGhpcy53aWR0aCAtIGN1cnJlbnRMaW5lV2lkdGgpIC8gbnVtYmVyT2ZTcGFjZXM7XG4gICAgICAgICAgZm9yICh2YXIgaiA9IDAsIGpsZW4gPSBsaW5lLmxlbmd0aDsgaiA8PSBqbGVuOyBqKyspIHtcbiAgICAgICAgICAgIGNoYXJCb3VuZCA9IHRoaXMuX19jaGFyQm91bmRzW2ldW2pdO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3JlU3BhY2VBbmRUYWIudGVzdChsaW5lW2pdKSkge1xuICAgICAgICAgICAgICBjaGFyQm91bmQud2lkdGggKz0gZGlmZlNwYWNlO1xuICAgICAgICAgICAgICBjaGFyQm91bmQua2VybmVkV2lkdGggKz0gZGlmZlNwYWNlO1xuICAgICAgICAgICAgICBjaGFyQm91bmQubGVmdCArPSBhY2N1bXVsYXRlZFNwYWNlO1xuICAgICAgICAgICAgICBhY2N1bXVsYXRlZFNwYWNlICs9IGRpZmZTcGFjZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBjaGFyQm91bmQubGVmdCArPSBhY2N1bXVsYXRlZFNwYWNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZXRlY3QgaWYgdGhlIHRleHQgbGluZSBpcyBlbmRlZCB3aXRoIGFuIGhhcmQgYnJlYWtcbiAgICAgKiB0ZXh0IGFuZCBpdGV4dCBkbyBub3QgaGF2ZSB3cmFwcGluZywgcmV0dXJuIGZhbHNlXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBpc0VuZE9mV3JhcHBpbmc6IGZ1bmN0aW9uKGxpbmVJbmRleCkge1xuICAgICAgcmV0dXJuIGxpbmVJbmRleCA9PT0gdGhpcy5fdGV4dExpbmVzLmxlbmd0aCAtIDE7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERldGVjdCBpZiBhIGxpbmUgaGFzIGEgbGluZWJyZWFrIGFuZCBzbyB3ZSBuZWVkIHRvIGFjY291bnQgZm9yIGl0IHdoZW4gbW92aW5nXG4gICAgICogYW5kIGNvdW50aW5nIHN0eWxlLlxuICAgICAqIEl0IHJldHVybiBhbHdheXMgZm9yIHRleHQgYW5kIEl0ZXh0LlxuICAgICAqIEByZXR1cm4gTnVtYmVyXG4gICAgICovXG4gICAgbWlzc2luZ05ld2xpbmVPZmZzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBTdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGV4dCBvYmplY3RcbiAgICAgKi9cbiAgICB0b1N0cmluZzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gJyM8ZmFicmljLlRleHQgKCcgKyB0aGlzLmNvbXBsZXhpdHkoKSArXG4gICAgICAgICcpOiB7IFwidGV4dFwiOiBcIicgKyB0aGlzLnRleHQgKyAnXCIsIFwiZm9udEZhbWlseVwiOiBcIicgKyB0aGlzLmZvbnRGYW1pbHkgKyAnXCIgfT4nO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGRpbWVuc2lvbiBhbmQgdGhlIHpvb20gbGV2ZWwgbmVlZGVkIHRvIGNyZWF0ZSBhIGNhY2hlIGNhbnZhc1xuICAgICAqIGJpZyBlbm91Z2ggdG8gaG9zdCB0aGUgb2JqZWN0IHRvIGJlIGNhY2hlZC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkaW0ueCB3aWR0aCBvZiBvYmplY3QgdG8gYmUgY2FjaGVkXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRpbS55IGhlaWdodCBvZiBvYmplY3QgdG8gYmUgY2FjaGVkXG4gICAgICogQHJldHVybiB7T2JqZWN0fS53aWR0aCB3aWR0aCBvZiBjYW52YXNcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9LmhlaWdodCBoZWlnaHQgb2YgY2FudmFzXG4gICAgICogQHJldHVybiB7T2JqZWN0fS56b29tWCB6b29tWCB6b29tIHZhbHVlIHRvIHVuc2NhbGUgdGhlIGNhbnZhcyBiZWZvcmUgZHJhd2luZyBjYWNoZVxuICAgICAqIEByZXR1cm4ge09iamVjdH0uem9vbVkgem9vbVkgem9vbSB2YWx1ZSB0byB1bnNjYWxlIHRoZSBjYW52YXMgYmVmb3JlIGRyYXdpbmcgY2FjaGVcbiAgICAgKi9cbiAgICBfZ2V0Q2FjaGVDYW52YXNEaW1lbnNpb25zOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBkaW1zID0gdGhpcy5jYWxsU3VwZXIoJ19nZXRDYWNoZUNhbnZhc0RpbWVuc2lvbnMnKTtcbiAgICAgIHZhciBmb250U2l6ZSA9IHRoaXMuZm9udFNpemU7XG4gICAgICBkaW1zLndpZHRoICs9IGZvbnRTaXplICogZGltcy56b29tWDtcbiAgICAgIGRpbXMuaGVpZ2h0ICs9IGZvbnRTaXplICogZGltcy56b29tWTtcbiAgICAgIHJldHVybiBkaW1zO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfcmVuZGVyOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIHZhciBwYXRoID0gdGhpcy5wYXRoO1xuICAgICAgcGF0aCAmJiAhcGF0aC5pc05vdFZpc2libGUoKSAmJiBwYXRoLl9yZW5kZXIoY3R4KTtcbiAgICAgIHRoaXMuX3NldFRleHRTdHlsZXMoY3R4KTtcbiAgICAgIHRoaXMuX3JlbmRlclRleHRMaW5lc0JhY2tncm91bmQoY3R4KTtcbiAgICAgIHRoaXMuX3JlbmRlclRleHREZWNvcmF0aW9uKGN0eCwgJ3VuZGVybGluZScpO1xuICAgICAgdGhpcy5fcmVuZGVyVGV4dChjdHgpO1xuICAgICAgdGhpcy5fcmVuZGVyVGV4dERlY29yYXRpb24oY3R4LCAnb3ZlcmxpbmUnKTtcbiAgICAgIHRoaXMuX3JlbmRlclRleHREZWNvcmF0aW9uKGN0eCwgJ2xpbmV0aHJvdWdoJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIF9yZW5kZXJUZXh0OiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIGlmICh0aGlzLnBhaW50Rmlyc3QgPT09ICdzdHJva2UnKSB7XG4gICAgICAgIHRoaXMuX3JlbmRlclRleHRTdHJva2UoY3R4KTtcbiAgICAgICAgdGhpcy5fcmVuZGVyVGV4dEZpbGwoY3R4KTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLl9yZW5kZXJUZXh0RmlsbChjdHgpO1xuICAgICAgICB0aGlzLl9yZW5kZXJUZXh0U3Ryb2tlKGN0eCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgZm9udCBwYXJhbWV0ZXIgb2YgdGhlIGNvbnRleHQgd2l0aCB0aGUgb2JqZWN0IHByb3BlcnRpZXMgb3Igd2l0aCBjaGFyU3R5bGVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NoYXJTdHlsZV0gb2JqZWN0IHdpdGggZm9udCBzdHlsZSBwcm9wZXJ0aWVzXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjaGFyU3R5bGUuZm9udEZhbWlseV0gRm9udCBGYW1pbHlcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2NoYXJTdHlsZS5mb250U2l6ZV0gRm9udCBzaXplIGluIHBpeGVscy4gKCB3aXRob3V0IHB4IHN1ZmZpeCApXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjaGFyU3R5bGUuZm9udFdlaWdodF0gRm9udCB3ZWlnaHRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NoYXJTdHlsZS5mb250U3R5bGVdIEZvbnQgc3R5bGUgKGl0YWxpY3xub3JtYWwpXG4gICAgICovXG4gICAgX3NldFRleHRTdHlsZXM6IGZ1bmN0aW9uKGN0eCwgY2hhclN0eWxlLCBmb3JNZWFzdXJpbmcpIHtcbiAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSAnYWxwaGFiZXRpY2FsJztcbiAgICAgIGlmICh0aGlzLnBhdGgpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLnBhdGhBbGlnbikge1xuICAgICAgICAgIGNhc2UgJ2NlbnRlcic6XG4gICAgICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdhc2NlbmRlcic6XG4gICAgICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gJ3RvcCc7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdkZXNjZW5kZXInOlxuICAgICAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9ICdib3R0b20nO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGN0eC5mb250ID0gdGhpcy5fZ2V0Rm9udERlY2xhcmF0aW9uKGNoYXJTdHlsZSwgZm9yTWVhc3VyaW5nKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogY2FsY3VsYXRlIGFuZCByZXR1cm4gdGhlIHRleHQgV2lkdGggbWVhc3VyaW5nIGVhY2ggbGluZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IE1heGltdW0gd2lkdGggb2YgZmFicmljLlRleHQgb2JqZWN0XG4gICAgICovXG4gICAgY2FsY1RleHRXaWR0aDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbWF4V2lkdGggPSB0aGlzLmdldExpbmVXaWR0aCgwKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDEsIGxlbiA9IHRoaXMuX3RleHRMaW5lcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgY3VycmVudExpbmVXaWR0aCA9IHRoaXMuZ2V0TGluZVdpZHRoKGkpO1xuICAgICAgICBpZiAoY3VycmVudExpbmVXaWR0aCA+IG1heFdpZHRoKSB7XG4gICAgICAgICAgbWF4V2lkdGggPSBjdXJyZW50TGluZVdpZHRoO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbWF4V2lkdGg7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1ldGhvZCBNZXRob2QgbmFtZSAoXCJmaWxsVGV4dFwiIG9yIFwic3Ryb2tlVGV4dFwiKVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbGluZSBUZXh0IHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsZWZ0IExlZnQgcG9zaXRpb24gb2YgdGV4dFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0b3AgVG9wIHBvc2l0aW9uIG9mIHRleHRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4IEluZGV4IG9mIGEgbGluZSBpbiBhIHRleHRcbiAgICAgKi9cbiAgICBfcmVuZGVyVGV4dExpbmU6IGZ1bmN0aW9uKG1ldGhvZCwgY3R4LCBsaW5lLCBsZWZ0LCB0b3AsIGxpbmVJbmRleCkge1xuICAgICAgdGhpcy5fcmVuZGVyQ2hhcnMobWV0aG9kLCBjdHgsIGxpbmUsIGxlZnQsIHRvcCwgbGluZUluZGV4KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgdGV4dCBiYWNrZ3JvdW5kIGZvciBsaW5lcywgdGFraW5nIGNhcmUgb2Ygc3R5bGVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfcmVuZGVyVGV4dExpbmVzQmFja2dyb3VuZDogZnVuY3Rpb24oY3R4KSB7XG4gICAgICBpZiAoIXRoaXMudGV4dEJhY2tncm91bmRDb2xvciAmJiAhdGhpcy5zdHlsZUhhcygndGV4dEJhY2tncm91bmRDb2xvcicpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBoZWlnaHRPZkxpbmUsXG4gICAgICAgICAgbGluZUxlZnRPZmZzZXQsIG9yaWdpbmFsRmlsbCA9IGN0eC5maWxsU3R5bGUsXG4gICAgICAgICAgbGluZSwgbGFzdENvbG9yLFxuICAgICAgICAgIGxlZnRPZmZzZXQgPSB0aGlzLl9nZXRMZWZ0T2Zmc2V0KCksXG4gICAgICAgICAgbGluZVRvcE9mZnNldCA9IHRoaXMuX2dldFRvcE9mZnNldCgpLFxuICAgICAgICAgIGJveFN0YXJ0ID0gMCwgYm94V2lkdGggPSAwLCBjaGFyQm94LCBjdXJyZW50Q29sb3IsIHBhdGggPSB0aGlzLnBhdGgsXG4gICAgICAgICAgZHJhd1N0YXJ0O1xuXG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5fdGV4dExpbmVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGhlaWdodE9mTGluZSA9IHRoaXMuZ2V0SGVpZ2h0T2ZMaW5lKGkpO1xuICAgICAgICBpZiAoIXRoaXMudGV4dEJhY2tncm91bmRDb2xvciAmJiAhdGhpcy5zdHlsZUhhcygndGV4dEJhY2tncm91bmRDb2xvcicsIGkpKSB7XG4gICAgICAgICAgbGluZVRvcE9mZnNldCArPSBoZWlnaHRPZkxpbmU7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgbGluZSA9IHRoaXMuX3RleHRMaW5lc1tpXTtcbiAgICAgICAgbGluZUxlZnRPZmZzZXQgPSB0aGlzLl9nZXRMaW5lTGVmdE9mZnNldChpKTtcbiAgICAgICAgYm94V2lkdGggPSAwO1xuICAgICAgICBib3hTdGFydCA9IDA7XG4gICAgICAgIGxhc3RDb2xvciA9IHRoaXMuZ2V0VmFsdWVPZlByb3BlcnR5QXQoaSwgMCwgJ3RleHRCYWNrZ3JvdW5kQ29sb3InKTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDAsIGpsZW4gPSBsaW5lLmxlbmd0aDsgaiA8IGpsZW47IGorKykge1xuICAgICAgICAgIGNoYXJCb3ggPSB0aGlzLl9fY2hhckJvdW5kc1tpXVtqXTtcbiAgICAgICAgICBjdXJyZW50Q29sb3IgPSB0aGlzLmdldFZhbHVlT2ZQcm9wZXJ0eUF0KGksIGosICd0ZXh0QmFja2dyb3VuZENvbG9yJyk7XG4gICAgICAgICAgaWYgKHBhdGgpIHtcbiAgICAgICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgICAgICBjdHgudHJhbnNsYXRlKGNoYXJCb3gucmVuZGVyTGVmdCwgY2hhckJveC5yZW5kZXJUb3ApO1xuICAgICAgICAgICAgY3R4LnJvdGF0ZShjaGFyQm94LmFuZ2xlKTtcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBjdXJyZW50Q29sb3I7XG4gICAgICAgICAgICBjdXJyZW50Q29sb3IgJiYgY3R4LmZpbGxSZWN0KFxuICAgICAgICAgICAgICAtY2hhckJveC53aWR0aCAvIDIsXG4gICAgICAgICAgICAgIC1oZWlnaHRPZkxpbmUgLyB0aGlzLmxpbmVIZWlnaHQgKiAoMSAtIHRoaXMuX2ZvbnRTaXplRnJhY3Rpb24pLFxuICAgICAgICAgICAgICBjaGFyQm94LndpZHRoLFxuICAgICAgICAgICAgICBoZWlnaHRPZkxpbmUgLyB0aGlzLmxpbmVIZWlnaHRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChjdXJyZW50Q29sb3IgIT09IGxhc3RDb2xvcikge1xuICAgICAgICAgICAgZHJhd1N0YXJ0ID0gbGVmdE9mZnNldCArIGxpbmVMZWZ0T2Zmc2V0ICsgYm94U3RhcnQ7XG4gICAgICAgICAgICBpZiAodGhpcy5kaXJlY3Rpb24gPT09ICdydGwnKSB7XG4gICAgICAgICAgICAgIGRyYXdTdGFydCA9IHRoaXMud2lkdGggLSBkcmF3U3RhcnQgLSBib3hXaWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBsYXN0Q29sb3I7XG4gICAgICAgICAgICBsYXN0Q29sb3IgJiYgY3R4LmZpbGxSZWN0KFxuICAgICAgICAgICAgICBkcmF3U3RhcnQsXG4gICAgICAgICAgICAgIGxpbmVUb3BPZmZzZXQsXG4gICAgICAgICAgICAgIGJveFdpZHRoLFxuICAgICAgICAgICAgICBoZWlnaHRPZkxpbmUgLyB0aGlzLmxpbmVIZWlnaHRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBib3hTdGFydCA9IGNoYXJCb3gubGVmdDtcbiAgICAgICAgICAgIGJveFdpZHRoID0gY2hhckJveC53aWR0aDtcbiAgICAgICAgICAgIGxhc3RDb2xvciA9IGN1cnJlbnRDb2xvcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBib3hXaWR0aCArPSBjaGFyQm94Lmtlcm5lZFdpZHRoO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY3VycmVudENvbG9yICYmICFwYXRoKSB7XG4gICAgICAgICAgZHJhd1N0YXJ0ID0gbGVmdE9mZnNldCArIGxpbmVMZWZ0T2Zmc2V0ICsgYm94U3RhcnQ7XG4gICAgICAgICAgaWYgKHRoaXMuZGlyZWN0aW9uID09PSAncnRsJykge1xuICAgICAgICAgICAgZHJhd1N0YXJ0ID0gdGhpcy53aWR0aCAtIGRyYXdTdGFydCAtIGJveFdpZHRoO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gY3VycmVudENvbG9yO1xuICAgICAgICAgIGN0eC5maWxsUmVjdChcbiAgICAgICAgICAgIGRyYXdTdGFydCxcbiAgICAgICAgICAgIGxpbmVUb3BPZmZzZXQsXG4gICAgICAgICAgICBib3hXaWR0aCxcbiAgICAgICAgICAgIGhlaWdodE9mTGluZSAvIHRoaXMubGluZUhlaWdodFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgbGluZVRvcE9mZnNldCArPSBoZWlnaHRPZkxpbmU7XG4gICAgICB9XG4gICAgICBjdHguZmlsbFN0eWxlID0gb3JpZ2luYWxGaWxsO1xuICAgICAgLy8gaWYgdGhlcmUgaXMgdGV4dCBiYWNrZ3JvdW5kIGNvbG9yIG5vXG4gICAgICAvLyBvdGhlciBzaGFkb3dzIHNob3VsZCBiZSBjYXN0ZWRcbiAgICAgIHRoaXMuX3JlbW92ZVNoYWRvdyhjdHgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkZWNsIHN0eWxlIGRlY2xhcmF0aW9uIGZvciBjYWNoZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBkZWNsLmZvbnRGYW1pbHkgZm9udEZhbWlseVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBkZWNsLmZvbnRTdHlsZSBmb250U3R5bGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZGVjbC5mb250V2VpZ2h0IGZvbnRXZWlnaHRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IHJlZmVyZW5jZSB0byBjYWNoZVxuICAgICAqL1xuICAgIGdldEZvbnRDYWNoZTogZnVuY3Rpb24oZGVjbCkge1xuICAgICAgdmFyIGZvbnRGYW1pbHkgPSBkZWNsLmZvbnRGYW1pbHkudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmICghZmFicmljLmNoYXJXaWR0aHNDYWNoZVtmb250RmFtaWx5XSkge1xuICAgICAgICBmYWJyaWMuY2hhcldpZHRoc0NhY2hlW2ZvbnRGYW1pbHldID0geyB9O1xuICAgICAgfVxuICAgICAgdmFyIGNhY2hlID0gZmFicmljLmNoYXJXaWR0aHNDYWNoZVtmb250RmFtaWx5XSxcbiAgICAgICAgICBjYWNoZVByb3AgPSBkZWNsLmZvbnRTdHlsZS50b0xvd2VyQ2FzZSgpICsgJ18nICsgKGRlY2wuZm9udFdlaWdodCArICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKCFjYWNoZVtjYWNoZVByb3BdKSB7XG4gICAgICAgIGNhY2hlW2NhY2hlUHJvcF0gPSB7IH07XG4gICAgICB9XG4gICAgICByZXR1cm4gY2FjaGVbY2FjaGVQcm9wXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogbWVhc3VyZSBhbmQgcmV0dXJuIHRoZSB3aWR0aCBvZiBhIHNpbmdsZSBjaGFyYWN0ZXIuXG4gICAgICogcG9zc2libHkgb3ZlcnJpZGRlbiB0byBhY2NvbW1vZGF0ZSBkaWZmZXJlbnQgbWVhc3VyZSBsb2dpYyBvclxuICAgICAqIHRvIGhvb2sgc29tZSBleHRlcm5hbCBsaWIgZm9yIGNoYXJhY3RlciBtZWFzdXJlbWVudFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IF9jaGFyLCBjaGFyIHRvIGJlIG1lYXN1cmVkXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNoYXJTdHlsZSBzdHlsZSBvZiBjaGFyIHRvIGJlIG1lYXN1cmVkXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtwcmV2aW91c0NoYXJdIHByZXZpb3VzIGNoYXJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3ByZXZDaGFyU3R5bGVdIHN0eWxlIG9mIHByZXZpb3VzIGNoYXJcbiAgICAgKi9cbiAgICBfbWVhc3VyZUNoYXI6IGZ1bmN0aW9uKF9jaGFyLCBjaGFyU3R5bGUsIHByZXZpb3VzQ2hhciwgcHJldkNoYXJTdHlsZSkge1xuICAgICAgLy8gZmlyc3QgaSB0cnkgdG8gcmV0dXJuIGZyb20gY2FjaGVcbiAgICAgIHZhciBmb250Q2FjaGUgPSB0aGlzLmdldEZvbnRDYWNoZShjaGFyU3R5bGUpLCBmb250RGVjbGFyYXRpb24gPSB0aGlzLl9nZXRGb250RGVjbGFyYXRpb24oY2hhclN0eWxlKSxcbiAgICAgICAgICBwcmV2aW91c0ZvbnREZWNsYXJhdGlvbiA9IHRoaXMuX2dldEZvbnREZWNsYXJhdGlvbihwcmV2Q2hhclN0eWxlKSwgY291cGxlID0gcHJldmlvdXNDaGFyICsgX2NoYXIsXG4gICAgICAgICAgc3R5bGVzQXJlRXF1YWwgPSBmb250RGVjbGFyYXRpb24gPT09IHByZXZpb3VzRm9udERlY2xhcmF0aW9uLCB3aWR0aCwgY291cGxlV2lkdGgsIHByZXZpb3VzV2lkdGgsXG4gICAgICAgICAgZm9udE11bHRpcGxpZXIgPSBjaGFyU3R5bGUuZm9udFNpemUgLyB0aGlzLkNBQ0hFX0ZPTlRfU0laRSwga2VybmVkV2lkdGg7XG5cbiAgICAgIGlmIChwcmV2aW91c0NoYXIgJiYgZm9udENhY2hlW3ByZXZpb3VzQ2hhcl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwcmV2aW91c1dpZHRoID0gZm9udENhY2hlW3ByZXZpb3VzQ2hhcl07XG4gICAgICB9XG4gICAgICBpZiAoZm9udENhY2hlW19jaGFyXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGtlcm5lZFdpZHRoID0gd2lkdGggPSBmb250Q2FjaGVbX2NoYXJdO1xuICAgICAgfVxuICAgICAgaWYgKHN0eWxlc0FyZUVxdWFsICYmIGZvbnRDYWNoZVtjb3VwbGVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY291cGxlV2lkdGggPSBmb250Q2FjaGVbY291cGxlXTtcbiAgICAgICAga2VybmVkV2lkdGggPSBjb3VwbGVXaWR0aCAtIHByZXZpb3VzV2lkdGg7XG4gICAgICB9XG4gICAgICBpZiAod2lkdGggPT09IHVuZGVmaW5lZCB8fCBwcmV2aW91c1dpZHRoID09PSB1bmRlZmluZWQgfHwgY291cGxlV2lkdGggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YXIgY3R4ID0gdGhpcy5nZXRNZWFzdXJpbmdDb250ZXh0KCk7XG4gICAgICAgIC8vIHNlbmQgYSBUUlVFIHRvIHNwZWNpZnkgbWVhc3VyaW5nIGZvbnQgc2l6ZSBDQUNIRV9GT05UX1NJWkVcbiAgICAgICAgdGhpcy5fc2V0VGV4dFN0eWxlcyhjdHgsIGNoYXJTdHlsZSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgICBpZiAod2lkdGggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBrZXJuZWRXaWR0aCA9IHdpZHRoID0gY3R4Lm1lYXN1cmVUZXh0KF9jaGFyKS53aWR0aDtcbiAgICAgICAgZm9udENhY2hlW19jaGFyXSA9IHdpZHRoO1xuICAgICAgfVxuICAgICAgaWYgKHByZXZpb3VzV2lkdGggPT09IHVuZGVmaW5lZCAmJiBzdHlsZXNBcmVFcXVhbCAmJiBwcmV2aW91c0NoYXIpIHtcbiAgICAgICAgcHJldmlvdXNXaWR0aCA9IGN0eC5tZWFzdXJlVGV4dChwcmV2aW91c0NoYXIpLndpZHRoO1xuICAgICAgICBmb250Q2FjaGVbcHJldmlvdXNDaGFyXSA9IHByZXZpb3VzV2lkdGg7XG4gICAgICB9XG4gICAgICBpZiAoc3R5bGVzQXJlRXF1YWwgJiYgY291cGxlV2lkdGggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyB3ZSBjYW4gbWVhc3VyZSB0aGUga2VybmluZyBjb3VwbGUgYW5kIHN1YnRyYWN0IHRoZSB3aWR0aCBvZiB0aGUgcHJldmlvdXMgY2hhcmFjdGVyXG4gICAgICAgIGNvdXBsZVdpZHRoID0gY3R4Lm1lYXN1cmVUZXh0KGNvdXBsZSkud2lkdGg7XG4gICAgICAgIGZvbnRDYWNoZVtjb3VwbGVdID0gY291cGxlV2lkdGg7XG4gICAgICAgIGtlcm5lZFdpZHRoID0gY291cGxlV2lkdGggLSBwcmV2aW91c1dpZHRoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHsgd2lkdGg6IHdpZHRoICogZm9udE11bHRpcGxpZXIsIGtlcm5lZFdpZHRoOiBrZXJuZWRXaWR0aCAqIGZvbnRNdWx0aXBsaWVyIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGhlaWdodCBvZiBjaGFyYWN0ZXIgYXQgZ2l2ZW4gcG9zaXRpb25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZSB0aGUgbGluZSBpbmRleCBudW1iZXJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gX2NoYXIgdGhlIGNoYXJhY3RlciBpbmRleCBudW1iZXJcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IGZvbnRTaXplIG9mIHRoZSBjaGFyYWN0ZXJcbiAgICAgKi9cbiAgICBnZXRIZWlnaHRPZkNoYXI6IGZ1bmN0aW9uKGxpbmUsIF9jaGFyKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRWYWx1ZU9mUHJvcGVydHlBdChsaW5lLCBfY2hhciwgJ2ZvbnRTaXplJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIG1lYXN1cmUgYSB0ZXh0IGxpbmUgbWVhc3VyaW5nIGFsbCBjaGFyYWN0ZXJzLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSW5kZXggbGluZSBudW1iZXJcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IExpbmUgd2lkdGhcbiAgICAgKi9cbiAgICBtZWFzdXJlTGluZTogZnVuY3Rpb24obGluZUluZGV4KSB7XG4gICAgICB2YXIgbGluZUluZm8gPSB0aGlzLl9tZWFzdXJlTGluZShsaW5lSW5kZXgpO1xuICAgICAgaWYgKHRoaXMuY2hhclNwYWNpbmcgIT09IDApIHtcbiAgICAgICAgbGluZUluZm8ud2lkdGggLT0gdGhpcy5fZ2V0V2lkdGhPZkNoYXJTcGFjaW5nKCk7XG4gICAgICB9XG4gICAgICBpZiAobGluZUluZm8ud2lkdGggPCAwKSB7XG4gICAgICAgIGxpbmVJbmZvLndpZHRoID0gMDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBsaW5lSW5mbztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogbWVhc3VyZSBldmVyeSBncmFwaGVtZSBvZiBhIGxpbmUsIHBvcHVsYXRpbmcgX19jaGFyQm91bmRzXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxpbmVJbmRleFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gb2JqZWN0LndpZHRoIHRvdGFsIHdpZHRoIG9mIGNoYXJhY3RlcnNcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IG9iamVjdC53aWR0aE9mU3BhY2VzIGxlbmd0aCBvZiBjaGFycyB0aGF0IG1hdGNoIHRoaXMuX3JlU3BhY2VzQW5kVGFic1xuICAgICAqL1xuICAgIF9tZWFzdXJlTGluZTogZnVuY3Rpb24obGluZUluZGV4KSB7XG4gICAgICB2YXIgd2lkdGggPSAwLCBpLCBncmFwaGVtZSwgbGluZSA9IHRoaXMuX3RleHRMaW5lc1tsaW5lSW5kZXhdLCBwcmV2R3JhcGhlbWUsXG4gICAgICAgICAgZ3JhcGhlbWVJbmZvLCBudW1PZlNwYWNlcyA9IDAsIGxpbmVCb3VuZHMgPSBuZXcgQXJyYXkobGluZS5sZW5ndGgpLFxuICAgICAgICAgIHBvc2l0aW9uSW5QYXRoID0gMCwgc3RhcnRpbmdQb2ludCwgdG90YWxQYXRoTGVuZ3RoLCBwYXRoID0gdGhpcy5wYXRoLFxuICAgICAgICAgIHJldmVyc2UgPSB0aGlzLnBhdGhTaWRlID09PSAncmlnaHQnO1xuXG4gICAgICB0aGlzLl9fY2hhckJvdW5kc1tsaW5lSW5kZXhdID0gbGluZUJvdW5kcztcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBsaW5lLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGdyYXBoZW1lID0gbGluZVtpXTtcbiAgICAgICAgZ3JhcGhlbWVJbmZvID0gdGhpcy5fZ2V0R3JhcGhlbWVCb3goZ3JhcGhlbWUsIGxpbmVJbmRleCwgaSwgcHJldkdyYXBoZW1lKTtcbiAgICAgICAgbGluZUJvdW5kc1tpXSA9IGdyYXBoZW1lSW5mbztcbiAgICAgICAgd2lkdGggKz0gZ3JhcGhlbWVJbmZvLmtlcm5lZFdpZHRoO1xuICAgICAgICBwcmV2R3JhcGhlbWUgPSBncmFwaGVtZTtcbiAgICAgIH1cbiAgICAgIC8vIHRoaXMgbGF0ZXN0IGJvdW5kIGJveCByZXByZXNlbnQgdGhlIGxhc3QgY2hhcmFjdGVyIG9mIHRoZSBsaW5lXG4gICAgICAvLyB0byBzaW1wbGlmeSBjdXJzb3IgaGFuZGxpbmcgaW4gaW50ZXJhY3RpdmUgbW9kZS5cbiAgICAgIGxpbmVCb3VuZHNbaV0gPSB7XG4gICAgICAgIGxlZnQ6IGdyYXBoZW1lSW5mbyA/IGdyYXBoZW1lSW5mby5sZWZ0ICsgZ3JhcGhlbWVJbmZvLndpZHRoIDogMCxcbiAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgIGtlcm5lZFdpZHRoOiAwLFxuICAgICAgICBoZWlnaHQ6IHRoaXMuZm9udFNpemVcbiAgICAgIH07XG4gICAgICBpZiAocGF0aCkge1xuICAgICAgICB0b3RhbFBhdGhMZW5ndGggPSBwYXRoLnNlZ21lbnRzSW5mb1twYXRoLnNlZ21lbnRzSW5mby5sZW5ndGggLSAxXS5sZW5ndGg7XG4gICAgICAgIHN0YXJ0aW5nUG9pbnQgPSBmYWJyaWMudXRpbC5nZXRQb2ludE9uUGF0aChwYXRoLnBhdGgsIDAsIHBhdGguc2VnbWVudHNJbmZvKTtcbiAgICAgICAgc3RhcnRpbmdQb2ludC54ICs9IHBhdGgucGF0aE9mZnNldC54O1xuICAgICAgICBzdGFydGluZ1BvaW50LnkgKz0gcGF0aC5wYXRoT2Zmc2V0Lnk7XG4gICAgICAgIHN3aXRjaCAodGhpcy50ZXh0QWxpZ24pIHtcbiAgICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgICAgIHBvc2l0aW9uSW5QYXRoID0gcmV2ZXJzZSA/ICh0b3RhbFBhdGhMZW5ndGggLSB3aWR0aCkgOiAwO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnY2VudGVyJzpcbiAgICAgICAgICAgIHBvc2l0aW9uSW5QYXRoID0gKHRvdGFsUGF0aExlbmd0aCAtIHdpZHRoKSAvIDI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgICBwb3NpdGlvbkluUGF0aCA9IHJldmVyc2UgPyAwIDogKHRvdGFsUGF0aExlbmd0aCAtIHdpZHRoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIC8vdG9kbyAtIGFkZCBzdXBwb3J0IGZvciBqdXN0aWZ5XG4gICAgICAgIH1cbiAgICAgICAgcG9zaXRpb25JblBhdGggKz0gdGhpcy5wYXRoU3RhcnRPZmZzZXQgKiAocmV2ZXJzZSA/IC0xIDogMSk7XG4gICAgICAgIGZvciAoaSA9IHJldmVyc2UgPyBsaW5lLmxlbmd0aCAtIDEgOiAwO1xuICAgICAgICAgIHJldmVyc2UgPyBpID49IDAgOiBpIDwgbGluZS5sZW5ndGg7XG4gICAgICAgICAgcmV2ZXJzZSA/IGktLSA6IGkrKykge1xuICAgICAgICAgIGdyYXBoZW1lSW5mbyA9IGxpbmVCb3VuZHNbaV07XG4gICAgICAgICAgaWYgKHBvc2l0aW9uSW5QYXRoID4gdG90YWxQYXRoTGVuZ3RoKSB7XG4gICAgICAgICAgICBwb3NpdGlvbkluUGF0aCAlPSB0b3RhbFBhdGhMZW5ndGg7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKHBvc2l0aW9uSW5QYXRoIDwgMCkge1xuICAgICAgICAgICAgcG9zaXRpb25JblBhdGggKz0gdG90YWxQYXRoTGVuZ3RoO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBpdCB3b3VsZCBwcm9iYWJseSBtdWNoIGZhc3RlciB0byBzZW5kIGFsbCB0aGUgZ3JhcGhlbWUgcG9zaXRpb24gZm9yIGEgbGluZVxuICAgICAgICAgIC8vIGFuZCBjYWxjdWxhdGUgcGF0aCBwb3NpdGlvbi9hbmdsZSBhdCBvbmNlLlxuICAgICAgICAgIHRoaXMuX3NldEdyYXBoZW1lT25QYXRoKHBvc2l0aW9uSW5QYXRoLCBncmFwaGVtZUluZm8sIHN0YXJ0aW5nUG9pbnQpO1xuICAgICAgICAgIHBvc2l0aW9uSW5QYXRoICs9IGdyYXBoZW1lSW5mby5rZXJuZWRXaWR0aDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHsgd2lkdGg6IHdpZHRoLCBudW1PZlNwYWNlczogbnVtT2ZTcGFjZXMgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBhbmdsZSAgYW5kIHRoZSBsZWZ0LHRvcCBwb3NpdGlvbiBvZiB0aGUgY2hhciB0aGF0IGZvbGxvdyBhIHBhdGguXG4gICAgICogSXQgYXBwZW5kcyBpdCB0byBncmFwaGVtZUluZm8gdG8gYmUgcmV1c2VkIGxhdGVyIGF0IHJlbmRlcmluZ1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHBvc2l0aW9uSW5QYXRoIHRvIGJlIG1lYXN1cmVkXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGdyYXBoZW1lSW5mbyBjdXJyZW50IGdyYXBoZW1lIGJveCBpbmZvcm1hdGlvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGFydGluZ1BvaW50IHBvc2l0aW9uIG9mIHRoZSBwb2ludFxuICAgICAqL1xuICAgIF9zZXRHcmFwaGVtZU9uUGF0aDogZnVuY3Rpb24ocG9zaXRpb25JblBhdGgsIGdyYXBoZW1lSW5mbywgc3RhcnRpbmdQb2ludCkge1xuICAgICAgdmFyIGNlbnRlclBvc2l0aW9uID0gcG9zaXRpb25JblBhdGggKyBncmFwaGVtZUluZm8ua2VybmVkV2lkdGggLyAyLFxuICAgICAgICAgIHBhdGggPSB0aGlzLnBhdGg7XG5cbiAgICAgIC8vIHdlIGFyZSBhdCBjdXJyZW50UG9zaXRpb25PblBhdGguIHdlIHdhbnQgdG8ga25vdyB3aGF0IHBvaW50IG9uIHRoZSBwYXRoIGlzLlxuICAgICAgdmFyIGluZm8gPSBmYWJyaWMudXRpbC5nZXRQb2ludE9uUGF0aChwYXRoLnBhdGgsIGNlbnRlclBvc2l0aW9uLCBwYXRoLnNlZ21lbnRzSW5mbyk7XG4gICAgICBncmFwaGVtZUluZm8ucmVuZGVyTGVmdCA9IGluZm8ueCAtIHN0YXJ0aW5nUG9pbnQueDtcbiAgICAgIGdyYXBoZW1lSW5mby5yZW5kZXJUb3AgPSBpbmZvLnkgLSBzdGFydGluZ1BvaW50Lnk7XG4gICAgICBncmFwaGVtZUluZm8uYW5nbGUgPSBpbmZvLmFuZ2xlICsgKHRoaXMucGF0aFNpZGUgPT09ICAncmlnaHQnID8gTWF0aC5QSSA6IDApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNZWFzdXJlIGFuZCByZXR1cm4gdGhlIGluZm8gb2YgYSBzaW5nbGUgZ3JhcGhlbWUuXG4gICAgICogbmVlZHMgdGhlIHRoZSBpbmZvIG9mIHByZXZpb3VzIGdyYXBoZW1lcyBhbHJlYWR5IGZpbGxlZFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGdyYXBoZW1lIHRvIGJlIG1lYXN1cmVkXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxpbmVJbmRleCBpbmRleCBvZiB0aGUgbGluZSB3aGVyZSB0aGUgY2hhciBpc1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBjaGFySW5kZXggcG9zaXRpb24gaW4gdGhlIGxpbmVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW3ByZXZHcmFwaGVtZV0gY2hhcmFjdGVyIHByZWNlZGluZyB0aGUgb25lIHRvIGJlIG1lYXN1cmVkXG4gICAgICovXG4gICAgX2dldEdyYXBoZW1lQm94OiBmdW5jdGlvbihncmFwaGVtZSwgbGluZUluZGV4LCBjaGFySW5kZXgsIHByZXZHcmFwaGVtZSwgc2tpcExlZnQpIHtcbiAgICAgIHZhciBzdHlsZSA9IHRoaXMuZ2V0Q29tcGxldGVTdHlsZURlY2xhcmF0aW9uKGxpbmVJbmRleCwgY2hhckluZGV4KSxcbiAgICAgICAgICBwcmV2U3R5bGUgPSBwcmV2R3JhcGhlbWUgPyB0aGlzLmdldENvbXBsZXRlU3R5bGVEZWNsYXJhdGlvbihsaW5lSW5kZXgsIGNoYXJJbmRleCAtIDEpIDogeyB9LFxuICAgICAgICAgIGluZm8gPSB0aGlzLl9tZWFzdXJlQ2hhcihncmFwaGVtZSwgc3R5bGUsIHByZXZHcmFwaGVtZSwgcHJldlN0eWxlKSxcbiAgICAgICAgICBrZXJuZWRXaWR0aCA9IGluZm8ua2VybmVkV2lkdGgsXG4gICAgICAgICAgd2lkdGggPSBpbmZvLndpZHRoLCBjaGFyU3BhY2luZztcblxuICAgICAgaWYgKHRoaXMuY2hhclNwYWNpbmcgIT09IDApIHtcbiAgICAgICAgY2hhclNwYWNpbmcgPSB0aGlzLl9nZXRXaWR0aE9mQ2hhclNwYWNpbmcoKTtcbiAgICAgICAgd2lkdGggKz0gY2hhclNwYWNpbmc7XG4gICAgICAgIGtlcm5lZFdpZHRoICs9IGNoYXJTcGFjaW5nO1xuICAgICAgfVxuXG4gICAgICB2YXIgYm94ID0ge1xuICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgIGxlZnQ6IDAsXG4gICAgICAgIGhlaWdodDogc3R5bGUuZm9udFNpemUsXG4gICAgICAgIGtlcm5lZFdpZHRoOiBrZXJuZWRXaWR0aCxcbiAgICAgICAgZGVsdGFZOiBzdHlsZS5kZWx0YVksXG4gICAgICB9O1xuICAgICAgaWYgKGNoYXJJbmRleCA+IDAgJiYgIXNraXBMZWZ0KSB7XG4gICAgICAgIHZhciBwcmV2aW91c0JveCA9IHRoaXMuX19jaGFyQm91bmRzW2xpbmVJbmRleF1bY2hhckluZGV4IC0gMV07XG4gICAgICAgIGJveC5sZWZ0ID0gcHJldmlvdXNCb3gubGVmdCArIHByZXZpb3VzQm94LndpZHRoICsgaW5mby5rZXJuZWRXaWR0aCAtIGluZm8ud2lkdGg7XG4gICAgICB9XG4gICAgICByZXR1cm4gYm94O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgaGVpZ2h0IG9mIGxpbmUgYXQgJ2xpbmVJbmRleCdcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4IGluZGV4IG9mIGxpbmUgdG8gY2FsY3VsYXRlXG4gICAgICogQHJldHVybiB7TnVtYmVyfVxuICAgICAqL1xuICAgIGdldEhlaWdodE9mTGluZTogZnVuY3Rpb24obGluZUluZGV4KSB7XG4gICAgICBpZiAodGhpcy5fX2xpbmVIZWlnaHRzW2xpbmVJbmRleF0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX19saW5lSGVpZ2h0c1tsaW5lSW5kZXhdO1xuICAgICAgfVxuXG4gICAgICB2YXIgbGluZSA9IHRoaXMuX3RleHRMaW5lc1tsaW5lSW5kZXhdLFxuICAgICAgICAgIC8vIGNoYXIgMCBpcyBtZWFzdXJlZCBiZWZvcmUgdGhlIGxpbmUgY3ljbGUgYmVjYXVzZSBpdCBubmVkcyB0byBjaGFyXG4gICAgICAgICAgLy8gZW1wdHlsaW5lc1xuICAgICAgICAgIG1heEhlaWdodCA9IHRoaXMuZ2V0SGVpZ2h0T2ZDaGFyKGxpbmVJbmRleCwgMCk7XG4gICAgICBmb3IgKHZhciBpID0gMSwgbGVuID0gbGluZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBtYXhIZWlnaHQgPSBNYXRoLm1heCh0aGlzLmdldEhlaWdodE9mQ2hhcihsaW5lSW5kZXgsIGkpLCBtYXhIZWlnaHQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5fX2xpbmVIZWlnaHRzW2xpbmVJbmRleF0gPSBtYXhIZWlnaHQgKiB0aGlzLmxpbmVIZWlnaHQgKiB0aGlzLl9mb250U2l6ZU11bHQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0ZXh0IGJveCBoZWlnaHRcbiAgICAgKi9cbiAgICBjYWxjVGV4dEhlaWdodDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbGluZUhlaWdodCwgaGVpZ2h0ID0gMDtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLl90ZXh0TGluZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgbGluZUhlaWdodCA9IHRoaXMuZ2V0SGVpZ2h0T2ZMaW5lKGkpO1xuICAgICAgICBoZWlnaHQgKz0gKGkgPT09IGxlbiAtIDEgPyBsaW5lSGVpZ2h0IC8gdGhpcy5saW5lSGVpZ2h0IDogbGluZUhlaWdodCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGVpZ2h0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge051bWJlcn0gTGVmdCBvZmZzZXRcbiAgICAgKi9cbiAgICBfZ2V0TGVmdE9mZnNldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5kaXJlY3Rpb24gPT09ICdsdHInID8gLXRoaXMud2lkdGggLyAyIDogdGhpcy53aWR0aCAvIDI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7TnVtYmVyfSBUb3Agb2Zmc2V0XG4gICAgICovXG4gICAgX2dldFRvcE9mZnNldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gLXRoaXMuaGVpZ2h0IC8gMjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1ldGhvZCBNZXRob2QgbmFtZSAoXCJmaWxsVGV4dFwiIG9yIFwic3Ryb2tlVGV4dFwiKVxuICAgICAqL1xuICAgIF9yZW5kZXJUZXh0Q29tbW9uOiBmdW5jdGlvbihjdHgsIG1ldGhvZCkge1xuICAgICAgY3R4LnNhdmUoKTtcbiAgICAgIHZhciBsaW5lSGVpZ2h0cyA9IDAsIGxlZnQgPSB0aGlzLl9nZXRMZWZ0T2Zmc2V0KCksIHRvcCA9IHRoaXMuX2dldFRvcE9mZnNldCgpO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMuX3RleHRMaW5lcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgaGVpZ2h0T2ZMaW5lID0gdGhpcy5nZXRIZWlnaHRPZkxpbmUoaSksXG4gICAgICAgICAgICBtYXhIZWlnaHQgPSBoZWlnaHRPZkxpbmUgLyB0aGlzLmxpbmVIZWlnaHQsXG4gICAgICAgICAgICBsZWZ0T2Zmc2V0ID0gdGhpcy5fZ2V0TGluZUxlZnRPZmZzZXQoaSk7XG4gICAgICAgIHRoaXMuX3JlbmRlclRleHRMaW5lKFxuICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICBjdHgsXG4gICAgICAgICAgdGhpcy5fdGV4dExpbmVzW2ldLFxuICAgICAgICAgIGxlZnQgKyBsZWZ0T2Zmc2V0LFxuICAgICAgICAgIHRvcCArIGxpbmVIZWlnaHRzICsgbWF4SGVpZ2h0LFxuICAgICAgICAgIGlcbiAgICAgICAgKTtcbiAgICAgICAgbGluZUhlaWdodHMgKz0gaGVpZ2h0T2ZMaW5lO1xuICAgICAgfVxuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgX3JlbmRlclRleHRGaWxsOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIGlmICghdGhpcy5maWxsICYmICF0aGlzLnN0eWxlSGFzKCdmaWxsJykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9yZW5kZXJUZXh0Q29tbW9uKGN0eCwgJ2ZpbGxUZXh0Jyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIF9yZW5kZXJUZXh0U3Ryb2tlOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIGlmICgoIXRoaXMuc3Ryb2tlIHx8IHRoaXMuc3Ryb2tlV2lkdGggPT09IDApICYmIHRoaXMuaXNFbXB0eVN0eWxlcygpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuc2hhZG93ICYmICF0aGlzLnNoYWRvdy5hZmZlY3RTdHJva2UpIHtcbiAgICAgICAgdGhpcy5fcmVtb3ZlU2hhZG93KGN0eCk7XG4gICAgICB9XG5cbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICB0aGlzLl9zZXRMaW5lRGFzaChjdHgsIHRoaXMuc3Ryb2tlRGFzaEFycmF5KTtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIHRoaXMuX3JlbmRlclRleHRDb21tb24oY3R4LCAnc3Ryb2tlVGV4dCcpO1xuICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbWV0aG9kIGZpbGxUZXh0IG9yIHN0cm9rZVRleHQuXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGxpbmUgQ29udGVudCBvZiB0aGUgbGluZSwgc3BsaXR0ZWQgaW4gYW4gYXJyYXkgYnkgZ3JhcGhlbWVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGVmdFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0b3BcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4XG4gICAgICovXG4gICAgX3JlbmRlckNoYXJzOiBmdW5jdGlvbihtZXRob2QsIGN0eCwgbGluZSwgbGVmdCwgdG9wLCBsaW5lSW5kZXgpIHtcbiAgICAgIC8vIHNldCBwcm9wZXIgbGluZSBvZmZzZXRcbiAgICAgIHZhciBsaW5lSGVpZ2h0ID0gdGhpcy5nZXRIZWlnaHRPZkxpbmUobGluZUluZGV4KSxcbiAgICAgICAgICBpc0p1c3RpZnkgPSB0aGlzLnRleHRBbGlnbi5pbmRleE9mKCdqdXN0aWZ5JykgIT09IC0xLFxuICAgICAgICAgIGFjdHVhbFN0eWxlLFxuICAgICAgICAgIG5leHRTdHlsZSxcbiAgICAgICAgICBjaGFyc1RvUmVuZGVyID0gJycsXG4gICAgICAgICAgY2hhckJveCxcbiAgICAgICAgICBib3hXaWR0aCA9IDAsXG4gICAgICAgICAgdGltZVRvUmVuZGVyLFxuICAgICAgICAgIHBhdGggPSB0aGlzLnBhdGgsXG4gICAgICAgICAgc2hvcnRDdXQgPSAhaXNKdXN0aWZ5ICYmIHRoaXMuY2hhclNwYWNpbmcgPT09IDAgJiYgdGhpcy5pc0VtcHR5U3R5bGVzKGxpbmVJbmRleCkgJiYgIXBhdGgsXG4gICAgICAgICAgaXNMdHIgPSB0aGlzLmRpcmVjdGlvbiA9PT0gJ2x0cicsIHNpZ24gPSB0aGlzLmRpcmVjdGlvbiA9PT0gJ2x0cicgPyAxIDogLTEsXG4gICAgICAgICAgZHJhd2luZ0xlZnQsIGN1cnJlbnREaXJlY3Rpb24gPSBjdHguY2FudmFzLmdldEF0dHJpYnV0ZSgnZGlyJyk7XG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgaWYgKGN1cnJlbnREaXJlY3Rpb24gIT09IHRoaXMuZGlyZWN0aW9uKSB7XG4gICAgICAgIGN0eC5jYW52YXMuc2V0QXR0cmlidXRlKCdkaXInLCBpc0x0ciA/ICdsdHInIDogJ3J0bCcpO1xuICAgICAgICBjdHguZGlyZWN0aW9uID0gaXNMdHIgPyAnbHRyJyA6ICdydGwnO1xuICAgICAgICBjdHgudGV4dEFsaWduID0gaXNMdHIgPyAnbGVmdCcgOiAncmlnaHQnO1xuICAgICAgfVxuICAgICAgdG9wIC09IGxpbmVIZWlnaHQgKiB0aGlzLl9mb250U2l6ZUZyYWN0aW9uIC8gdGhpcy5saW5lSGVpZ2h0O1xuICAgICAgaWYgKHNob3J0Q3V0KSB7XG4gICAgICAgIC8vIHJlbmRlciBhbGwgdGhlIGxpbmUgaW4gb25lIHBhc3Mgd2l0aG91dCBjaGVja2luZ1xuICAgICAgICAvLyBkcmF3aW5nTGVmdCA9IGlzTHRyID8gbGVmdCA6IGxlZnQgLSB0aGlzLmdldExpbmVXaWR0aChsaW5lSW5kZXgpO1xuICAgICAgICB0aGlzLl9yZW5kZXJDaGFyKG1ldGhvZCwgY3R4LCBsaW5lSW5kZXgsIDAsIGxpbmUuam9pbignJyksIGxlZnQsIHRvcCwgbGluZUhlaWdodCk7XG4gICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBsaW5lLmxlbmd0aCAtIDE7IGkgPD0gbGVuOyBpKyspIHtcbiAgICAgICAgdGltZVRvUmVuZGVyID0gaSA9PT0gbGVuIHx8IHRoaXMuY2hhclNwYWNpbmcgfHwgcGF0aDtcbiAgICAgICAgY2hhcnNUb1JlbmRlciArPSBsaW5lW2ldO1xuICAgICAgICBjaGFyQm94ID0gdGhpcy5fX2NoYXJCb3VuZHNbbGluZUluZGV4XVtpXTtcbiAgICAgICAgaWYgKGJveFdpZHRoID09PSAwKSB7XG4gICAgICAgICAgbGVmdCArPSBzaWduICogKGNoYXJCb3gua2VybmVkV2lkdGggLSBjaGFyQm94LndpZHRoKTtcbiAgICAgICAgICBib3hXaWR0aCArPSBjaGFyQm94LndpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGJveFdpZHRoICs9IGNoYXJCb3gua2VybmVkV2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzSnVzdGlmeSAmJiAhdGltZVRvUmVuZGVyKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX3JlU3BhY2VBbmRUYWIudGVzdChsaW5lW2ldKSkge1xuICAgICAgICAgICAgdGltZVRvUmVuZGVyID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aW1lVG9SZW5kZXIpIHtcbiAgICAgICAgICAvLyBpZiB3ZSBoYXZlIGNoYXJTcGFjaW5nLCB3ZSByZW5kZXIgY2hhciBieSBjaGFyXG4gICAgICAgICAgYWN0dWFsU3R5bGUgPSBhY3R1YWxTdHlsZSB8fCB0aGlzLmdldENvbXBsZXRlU3R5bGVEZWNsYXJhdGlvbihsaW5lSW5kZXgsIGkpO1xuICAgICAgICAgIG5leHRTdHlsZSA9IHRoaXMuZ2V0Q29tcGxldGVTdHlsZURlY2xhcmF0aW9uKGxpbmVJbmRleCwgaSArIDEpO1xuICAgICAgICAgIHRpbWVUb1JlbmRlciA9IGZhYnJpYy51dGlsLmhhc1N0eWxlQ2hhbmdlZChhY3R1YWxTdHlsZSwgbmV4dFN0eWxlLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRpbWVUb1JlbmRlcikge1xuICAgICAgICAgIGlmIChwYXRoKSB7XG4gICAgICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZShjaGFyQm94LnJlbmRlckxlZnQsIGNoYXJCb3gucmVuZGVyVG9wKTtcbiAgICAgICAgICAgIGN0eC5yb3RhdGUoY2hhckJveC5hbmdsZSk7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJDaGFyKG1ldGhvZCwgY3R4LCBsaW5lSW5kZXgsIGksIGNoYXJzVG9SZW5kZXIsIC1ib3hXaWR0aCAvIDIsIDAsIGxpbmVIZWlnaHQpO1xuICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkcmF3aW5nTGVmdCA9IGxlZnQ7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJDaGFyKG1ldGhvZCwgY3R4LCBsaW5lSW5kZXgsIGksIGNoYXJzVG9SZW5kZXIsIGRyYXdpbmdMZWZ0LCB0b3AsIGxpbmVIZWlnaHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjaGFyc1RvUmVuZGVyID0gJyc7XG4gICAgICAgICAgYWN0dWFsU3R5bGUgPSBuZXh0U3R5bGU7XG4gICAgICAgICAgbGVmdCArPSBzaWduICogYm94V2lkdGg7XG4gICAgICAgICAgYm94V2lkdGggPSAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHRyeSB0byBwYXRjaCB0aGUgbWlzc2luZyBncmFkaWVudFRyYW5zZm9ybSBvbiBjYW52YXMgZ3JhZGllbnRzLlxuICAgICAqIHRyYW5zZm9ybWluZyBhIGNvbnRleHQgdG8gdHJhbnNmb3JtIHRoZSBncmFkaWVudCwgaXMgZ29pbmcgdG8gdHJhbnNmb3JtIHRoZSBzdHJva2UgdG9vLlxuICAgICAqIHdlIHdhbnQgdG8gdHJhbnNmb3JtIHRoZSBncmFkaWVudCBidXQgbm90IHRoZSBzdHJva2Ugb3BlcmF0aW9uLCBzbyB3ZSBjcmVhdGVcbiAgICAgKiBhIHRyYW5zZm9ybWVkIGdyYWRpZW50IG9uIGEgcGF0dGVybiBhbmQgdGhlbiB3ZSB1c2UgdGhlIHBhdHRlcm4gaW5zdGVhZCBvZiB0aGUgZ3JhZGllbnQuXG4gICAgICogdGhpcyBtZXRob2QgaGFzIGRyYXdiYWNrczogaXMgc2xvdywgaXMgaW4gbG93IHJlc29sdXRpb24sIG5lZWRzIGEgcGF0Y2ggZm9yIHdoZW4gdGhlIHNpemVcbiAgICAgKiBpcyBsaW1pdGVkLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtmYWJyaWMuR3JhZGllbnR9IGZpbGxlciBhIGZhYnJpYyBncmFkaWVudCBpbnN0YW5jZVxuICAgICAqIEByZXR1cm4ge0NhbnZhc1BhdHRlcm59IGEgcGF0dGVybiB0byB1c2UgYXMgZmlsbC9zdHJva2Ugc3R5bGVcbiAgICAgKi9cbiAgICBfYXBwbHlQYXR0ZXJuR3JhZGllbnRUcmFuc2Zvcm1UZXh0OiBmdW5jdGlvbihmaWxsZXIpIHtcbiAgICAgIHZhciBwQ2FudmFzID0gZmFicmljLnV0aWwuY3JlYXRlQ2FudmFzRWxlbWVudCgpLCBwQ3R4LFxuICAgICAgICAgIC8vIFRPRE86IHZlcmlmeSBjb21wYXRpYmlsaXR5IHdpdGggc3Ryb2tlVW5pZm9ybVxuICAgICAgICAgIHdpZHRoID0gdGhpcy53aWR0aCArIHRoaXMuc3Ryb2tlV2lkdGgsIGhlaWdodCA9IHRoaXMuaGVpZ2h0ICsgdGhpcy5zdHJva2VXaWR0aDtcbiAgICAgIHBDYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICAgIHBDYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgcEN0eCA9IHBDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgIHBDdHguYmVnaW5QYXRoKCk7IHBDdHgubW92ZVRvKDAsIDApOyBwQ3R4LmxpbmVUbyh3aWR0aCwgMCk7IHBDdHgubGluZVRvKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgcEN0eC5saW5lVG8oMCwgaGVpZ2h0KTsgcEN0eC5jbG9zZVBhdGgoKTtcbiAgICAgIHBDdHgudHJhbnNsYXRlKHdpZHRoIC8gMiwgaGVpZ2h0IC8gMik7XG4gICAgICBwQ3R4LmZpbGxTdHlsZSA9IGZpbGxlci50b0xpdmUocEN0eCk7XG4gICAgICB0aGlzLl9hcHBseVBhdHRlcm5HcmFkaWVudFRyYW5zZm9ybShwQ3R4LCBmaWxsZXIpO1xuICAgICAgcEN0eC5maWxsKCk7XG4gICAgICByZXR1cm4gcEN0eC5jcmVhdGVQYXR0ZXJuKHBDYW52YXMsICduby1yZXBlYXQnKTtcbiAgICB9LFxuXG4gICAgaGFuZGxlRmlsbGVyOiBmdW5jdGlvbihjdHgsIHByb3BlcnR5LCBmaWxsZXIpIHtcbiAgICAgIHZhciBvZmZzZXRYLCBvZmZzZXRZO1xuICAgICAgaWYgKGZpbGxlci50b0xpdmUpIHtcbiAgICAgICAgaWYgKGZpbGxlci5ncmFkaWVudFVuaXRzID09PSAncGVyY2VudGFnZScgfHwgZmlsbGVyLmdyYWRpZW50VHJhbnNmb3JtIHx8IGZpbGxlci5wYXR0ZXJuVHJhbnNmb3JtKSB7XG4gICAgICAgICAgLy8gbmVlZCB0byB0cmFuc2Zvcm0gZ3JhZGllbnQgaW4gYSBwYXR0ZXJuLlxuICAgICAgICAgIC8vIHRoaXMgaXMgYSBzbG93IHByb2Nlc3MuIElmIHlvdSBhcmUgaGl0dGluZyB0aGlzIGNvZGVwYXRoLCBhbmQgdGhlIG9iamVjdFxuICAgICAgICAgIC8vIGlzIG5vdCB1c2luZyBjYWNoaW5nLCB5b3Ugc2hvdWxkIGNvbnNpZGVyIHN3aXRjaGluZyBpdCBvbi5cbiAgICAgICAgICAvLyB3ZSBuZWVkIGEgY2FudmFzIGFzIGJpZyBhcyB0aGUgY3VycmVudCBvYmplY3QgY2FjaGluZyBjYW52YXMuXG4gICAgICAgICAgb2Zmc2V0WCA9IC10aGlzLndpZHRoIC8gMjtcbiAgICAgICAgICBvZmZzZXRZID0gLXRoaXMuaGVpZ2h0IC8gMjtcbiAgICAgICAgICBjdHgudHJhbnNsYXRlKG9mZnNldFgsIG9mZnNldFkpO1xuICAgICAgICAgIGN0eFtwcm9wZXJ0eV0gPSB0aGlzLl9hcHBseVBhdHRlcm5HcmFkaWVudFRyYW5zZm9ybVRleHQoZmlsbGVyKTtcbiAgICAgICAgICByZXR1cm4geyBvZmZzZXRYOiBvZmZzZXRYLCBvZmZzZXRZOiBvZmZzZXRZIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgLy8gaXMgYSBzaW1wbGUgZ3JhZGllbnQgb3IgcGF0dGVyblxuICAgICAgICAgIGN0eFtwcm9wZXJ0eV0gPSBmaWxsZXIudG9MaXZlKGN0eCwgdGhpcyk7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2FwcGx5UGF0dGVybkdyYWRpZW50VHJhbnNmb3JtKGN0eCwgZmlsbGVyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIC8vIGlzIGEgY29sb3JcbiAgICAgICAgY3R4W3Byb3BlcnR5XSA9IGZpbGxlcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7IG9mZnNldFg6IDAsIG9mZnNldFk6IDAgfTtcbiAgICB9LFxuXG4gICAgX3NldFN0cm9rZVN0eWxlczogZnVuY3Rpb24oY3R4LCBkZWNsKSB7XG4gICAgICBjdHgubGluZVdpZHRoID0gZGVjbC5zdHJva2VXaWR0aDtcbiAgICAgIGN0eC5saW5lQ2FwID0gdGhpcy5zdHJva2VMaW5lQ2FwO1xuICAgICAgY3R4LmxpbmVEYXNoT2Zmc2V0ID0gdGhpcy5zdHJva2VEYXNoT2Zmc2V0O1xuICAgICAgY3R4LmxpbmVKb2luID0gdGhpcy5zdHJva2VMaW5lSm9pbjtcbiAgICAgIGN0eC5taXRlckxpbWl0ID0gdGhpcy5zdHJva2VNaXRlckxpbWl0O1xuICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlRmlsbGVyKGN0eCwgJ3N0cm9rZVN0eWxlJywgZGVjbC5zdHJva2UpO1xuICAgIH0sXG5cbiAgICBfc2V0RmlsbFN0eWxlczogZnVuY3Rpb24oY3R4LCBkZWNsKSB7XG4gICAgICByZXR1cm4gdGhpcy5oYW5kbGVGaWxsZXIoY3R4LCAnZmlsbFN0eWxlJywgZGVjbC5maWxsKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbWV0aG9kXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSW5kZXhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gY2hhckluZGV4XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IF9jaGFyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxlZnQgTGVmdCBjb29yZGluYXRlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHRvcCBUb3AgY29vcmRpbmF0ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSGVpZ2h0IEhlaWdodCBvZiB0aGUgbGluZVxuICAgICAqL1xuICAgIF9yZW5kZXJDaGFyOiBmdW5jdGlvbihtZXRob2QsIGN0eCwgbGluZUluZGV4LCBjaGFySW5kZXgsIF9jaGFyLCBsZWZ0LCB0b3ApIHtcbiAgICAgIHZhciBkZWNsID0gdGhpcy5fZ2V0U3R5bGVEZWNsYXJhdGlvbihsaW5lSW5kZXgsIGNoYXJJbmRleCksXG4gICAgICAgICAgZnVsbERlY2wgPSB0aGlzLmdldENvbXBsZXRlU3R5bGVEZWNsYXJhdGlvbihsaW5lSW5kZXgsIGNoYXJJbmRleCksXG4gICAgICAgICAgc2hvdWxkRmlsbCA9IG1ldGhvZCA9PT0gJ2ZpbGxUZXh0JyAmJiBmdWxsRGVjbC5maWxsLFxuICAgICAgICAgIHNob3VsZFN0cm9rZSA9IG1ldGhvZCA9PT0gJ3N0cm9rZVRleHQnICYmIGZ1bGxEZWNsLnN0cm9rZSAmJiBmdWxsRGVjbC5zdHJva2VXaWR0aCxcbiAgICAgICAgICBmaWxsT2Zmc2V0cywgc3Ryb2tlT2Zmc2V0cztcblxuICAgICAgaWYgKCFzaG91bGRTdHJva2UgJiYgIXNob3VsZEZpbGwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY3R4LnNhdmUoKTtcblxuICAgICAgc2hvdWxkRmlsbCAmJiAoZmlsbE9mZnNldHMgPSB0aGlzLl9zZXRGaWxsU3R5bGVzKGN0eCwgZnVsbERlY2wpKTtcbiAgICAgIHNob3VsZFN0cm9rZSAmJiAoc3Ryb2tlT2Zmc2V0cyA9IHRoaXMuX3NldFN0cm9rZVN0eWxlcyhjdHgsIGZ1bGxEZWNsKSk7XG5cbiAgICAgIGN0eC5mb250ID0gdGhpcy5fZ2V0Rm9udERlY2xhcmF0aW9uKGZ1bGxEZWNsKTtcblxuXG4gICAgICBpZiAoZGVjbCAmJiBkZWNsLnRleHRCYWNrZ3JvdW5kQ29sb3IpIHtcbiAgICAgICAgdGhpcy5fcmVtb3ZlU2hhZG93KGN0eCk7XG4gICAgICB9XG4gICAgICBpZiAoZGVjbCAmJiBkZWNsLmRlbHRhWSkge1xuICAgICAgICB0b3AgKz0gZGVjbC5kZWx0YVk7XG4gICAgICB9XG4gICAgICBzaG91bGRGaWxsICYmIGN0eC5maWxsVGV4dChfY2hhciwgbGVmdCAtIGZpbGxPZmZzZXRzLm9mZnNldFgsIHRvcCAtIGZpbGxPZmZzZXRzLm9mZnNldFkpO1xuICAgICAgc2hvdWxkU3Ryb2tlICYmIGN0eC5zdHJva2VUZXh0KF9jaGFyLCBsZWZ0IC0gc3Ryb2tlT2Zmc2V0cy5vZmZzZXRYLCB0b3AgLSBzdHJva2VPZmZzZXRzLm9mZnNldFkpO1xuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVHVybnMgdGhlIGNoYXJhY3RlciBpbnRvIGEgJ3N1cGVyaW9yIGZpZ3VyZScgKGkuZS4gJ3N1cGVyc2NyaXB0JylcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc3RhcnQgc2VsZWN0aW9uIHN0YXJ0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGVuZCBzZWxlY3Rpb24gZW5kXG4gICAgICogQHJldHVybnMge2ZhYnJpYy5UZXh0fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHNldFN1cGVyc2NyaXB0OiBmdW5jdGlvbihzdGFydCwgZW5kKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2V0U2NyaXB0KHN0YXJ0LCBlbmQsIHRoaXMuc3VwZXJzY3JpcHQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUdXJucyB0aGUgY2hhcmFjdGVyIGludG8gYW4gJ2luZmVyaW9yIGZpZ3VyZScgKGkuZS4gJ3N1YnNjcmlwdCcpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHN0YXJ0IHNlbGVjdGlvbiBzdGFydFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBlbmQgc2VsZWN0aW9uIGVuZFxuICAgICAqIEByZXR1cm5zIHtmYWJyaWMuVGV4dH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzZXRTdWJzY3JpcHQ6IGZ1bmN0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zZXRTY3JpcHQoc3RhcnQsIGVuZCwgdGhpcy5zdWJzY3JpcHQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzICdzY2hlbWEnIGF0IGdpdmVuIHBvc2l0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc3RhcnQgc2VsZWN0aW9uIHN0YXJ0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGVuZCBzZWxlY3Rpb24gZW5kXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNjaGVtYVxuICAgICAqIEByZXR1cm5zIHtmYWJyaWMuVGV4dH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBfc2V0U2NyaXB0OiBmdW5jdGlvbihzdGFydCwgZW5kLCBzY2hlbWEpIHtcbiAgICAgIHZhciBsb2MgPSB0aGlzLmdldDJEQ3Vyc29yTG9jYXRpb24oc3RhcnQsIHRydWUpLFxuICAgICAgICAgIGZvbnRTaXplID0gdGhpcy5nZXRWYWx1ZU9mUHJvcGVydHlBdChsb2MubGluZUluZGV4LCBsb2MuY2hhckluZGV4LCAnZm9udFNpemUnKSxcbiAgICAgICAgICBkeSA9IHRoaXMuZ2V0VmFsdWVPZlByb3BlcnR5QXQobG9jLmxpbmVJbmRleCwgbG9jLmNoYXJJbmRleCwgJ2RlbHRhWScpLFxuICAgICAgICAgIHN0eWxlID0geyBmb250U2l6ZTogZm9udFNpemUgKiBzY2hlbWEuc2l6ZSwgZGVsdGFZOiBkeSArIGZvbnRTaXplICogc2NoZW1hLmJhc2VsaW5lIH07XG4gICAgICB0aGlzLnNldFNlbGVjdGlvblN0eWxlcyhzdHlsZSwgc3RhcnQsIGVuZCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4IGluZGV4IHRleHQgbGluZVxuICAgICAqIEByZXR1cm4ge051bWJlcn0gTGluZSBsZWZ0IG9mZnNldFxuICAgICAqL1xuICAgIF9nZXRMaW5lTGVmdE9mZnNldDogZnVuY3Rpb24obGluZUluZGV4KSB7XG4gICAgICB2YXIgbGluZVdpZHRoID0gdGhpcy5nZXRMaW5lV2lkdGgobGluZUluZGV4KSxcbiAgICAgICAgICBsaW5lRGlmZiA9IHRoaXMud2lkdGggLSBsaW5lV2lkdGgsIHRleHRBbGlnbiA9IHRoaXMudGV4dEFsaWduLCBkaXJlY3Rpb24gPSB0aGlzLmRpcmVjdGlvbixcbiAgICAgICAgICBpc0VuZE9mV3JhcHBpbmcsIGxlZnRPZmZzZXQgPSAwLCBpc0VuZE9mV3JhcHBpbmcgPSB0aGlzLmlzRW5kT2ZXcmFwcGluZyhsaW5lSW5kZXgpO1xuICAgICAgaWYgKHRleHRBbGlnbiA9PT0gJ2p1c3RpZnknXG4gICAgICAgIHx8ICh0ZXh0QWxpZ24gPT09ICdqdXN0aWZ5LWNlbnRlcicgJiYgIWlzRW5kT2ZXcmFwcGluZylcbiAgICAgICAgfHwgKHRleHRBbGlnbiA9PT0gJ2p1c3RpZnktcmlnaHQnICYmICFpc0VuZE9mV3JhcHBpbmcpXG4gICAgICAgIHx8ICh0ZXh0QWxpZ24gPT09ICdqdXN0aWZ5LWxlZnQnICYmICFpc0VuZE9mV3JhcHBpbmcpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG4gICAgICBpZiAodGV4dEFsaWduID09PSAnY2VudGVyJykge1xuICAgICAgICBsZWZ0T2Zmc2V0ID0gbGluZURpZmYgLyAyO1xuICAgICAgfVxuICAgICAgaWYgKHRleHRBbGlnbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICBsZWZ0T2Zmc2V0ID0gbGluZURpZmY7XG4gICAgICB9XG4gICAgICBpZiAodGV4dEFsaWduID09PSAnanVzdGlmeS1jZW50ZXInKSB7XG4gICAgICAgIGxlZnRPZmZzZXQgPSBsaW5lRGlmZiAvIDI7XG4gICAgICB9XG4gICAgICBpZiAodGV4dEFsaWduID09PSAnanVzdGlmeS1yaWdodCcpIHtcbiAgICAgICAgbGVmdE9mZnNldCA9IGxpbmVEaWZmO1xuICAgICAgfVxuICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ3J0bCcpIHtcbiAgICAgICAgbGVmdE9mZnNldCAtPSBsaW5lRGlmZjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBsZWZ0T2Zmc2V0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9jbGVhckNhY2hlOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuX19saW5lV2lkdGhzID0gW107XG4gICAgICB0aGlzLl9fbGluZUhlaWdodHMgPSBbXTtcbiAgICAgIHRoaXMuX19jaGFyQm91bmRzID0gW107XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3Nob3VsZENsZWFyRGltZW5zaW9uQ2FjaGU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNob3VsZENsZWFyID0gdGhpcy5fZm9yY2VDbGVhckNhY2hlO1xuICAgICAgc2hvdWxkQ2xlYXIgfHwgKHNob3VsZENsZWFyID0gdGhpcy5oYXNTdGF0ZUNoYW5nZWQoJ19kaW1lbnNpb25BZmZlY3RpbmdQcm9wcycpKTtcbiAgICAgIGlmIChzaG91bGRDbGVhcikge1xuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fZm9yY2VDbGVhckNhY2hlID0gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2hvdWxkQ2xlYXI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1lYXN1cmUgYSBzaW5nbGUgbGluZSBnaXZlbiBpdHMgaW5kZXguIFVzZWQgdG8gY2FsY3VsYXRlIHRoZSBpbml0aWFsXG4gICAgICogdGV4dCBib3VuZGluZyBib3guIFRoZSB2YWx1ZXMgYXJlIGNhbGN1bGF0ZWQgYW5kIHN0b3JlZCBpbiBfX2xpbmVXaWR0aHMgY2FjaGUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4IGxpbmUgbnVtYmVyXG4gICAgICogQHJldHVybiB7TnVtYmVyfSBMaW5lIHdpZHRoXG4gICAgICovXG4gICAgZ2V0TGluZVdpZHRoOiBmdW5jdGlvbihsaW5lSW5kZXgpIHtcbiAgICAgIGlmICh0aGlzLl9fbGluZVdpZHRoc1tsaW5lSW5kZXhdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX19saW5lV2lkdGhzW2xpbmVJbmRleF07XG4gICAgICB9XG5cbiAgICAgIHZhciBsaW5lSW5mbyA9IHRoaXMubWVhc3VyZUxpbmUobGluZUluZGV4KTtcbiAgICAgIHZhciB3aWR0aCA9IGxpbmVJbmZvLndpZHRoO1xuICAgICAgdGhpcy5fX2xpbmVXaWR0aHNbbGluZUluZGV4XSA9IHdpZHRoO1xuICAgICAgcmV0dXJuIHdpZHRoO1xuICAgIH0sXG5cbiAgICBfZ2V0V2lkdGhPZkNoYXJTcGFjaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLmNoYXJTcGFjaW5nICE9PSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZvbnRTaXplICogdGhpcy5jaGFyU3BhY2luZyAvIDEwMDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gMDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSB2YWx1ZSBvZiBwcm9wZXJ0eSBhdCBnaXZlbiBjaGFyYWN0ZXIgcG9zaXRpb25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4IHRoZSBsaW5lIG51bWJlclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBjaGFySW5kZXggdGhlIGNoYXJhY3RlciBudW1iZXJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydHkgdGhlIHByb3BlcnR5IG5hbWVcbiAgICAgKiBAcmV0dXJucyB0aGUgdmFsdWUgb2YgJ3Byb3BlcnR5J1xuICAgICAqL1xuICAgIGdldFZhbHVlT2ZQcm9wZXJ0eUF0OiBmdW5jdGlvbihsaW5lSW5kZXgsIGNoYXJJbmRleCwgcHJvcGVydHkpIHtcbiAgICAgIHZhciBjaGFyU3R5bGUgPSB0aGlzLl9nZXRTdHlsZURlY2xhcmF0aW9uKGxpbmVJbmRleCwgY2hhckluZGV4KTtcbiAgICAgIGlmIChjaGFyU3R5bGUgJiYgdHlwZW9mIGNoYXJTdHlsZVtwcm9wZXJ0eV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBjaGFyU3R5bGVbcHJvcGVydHldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXNbcHJvcGVydHldO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfcmVuZGVyVGV4dERlY29yYXRpb246IGZ1bmN0aW9uKGN0eCwgdHlwZSkge1xuICAgICAgaWYgKCF0aGlzW3R5cGVdICYmICF0aGlzLnN0eWxlSGFzKHR5cGUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBoZWlnaHRPZkxpbmUsIHNpemUsIF9zaXplLFxuICAgICAgICAgIGxpbmVMZWZ0T2Zmc2V0LCBkeSwgX2R5LFxuICAgICAgICAgIGxpbmUsIGxhc3REZWNvcmF0aW9uLFxuICAgICAgICAgIGxlZnRPZmZzZXQgPSB0aGlzLl9nZXRMZWZ0T2Zmc2V0KCksXG4gICAgICAgICAgdG9wT2Zmc2V0ID0gdGhpcy5fZ2V0VG9wT2Zmc2V0KCksIHRvcCxcbiAgICAgICAgICBib3hTdGFydCwgYm94V2lkdGgsIGNoYXJCb3gsIGN1cnJlbnREZWNvcmF0aW9uLFxuICAgICAgICAgIG1heEhlaWdodCwgY3VycmVudEZpbGwsIGxhc3RGaWxsLCBwYXRoID0gdGhpcy5wYXRoLFxuICAgICAgICAgIGNoYXJTcGFjaW5nID0gdGhpcy5fZ2V0V2lkdGhPZkNoYXJTcGFjaW5nKCksXG4gICAgICAgICAgb2Zmc2V0WSA9IHRoaXMub2Zmc2V0c1t0eXBlXTtcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMuX3RleHRMaW5lcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBoZWlnaHRPZkxpbmUgPSB0aGlzLmdldEhlaWdodE9mTGluZShpKTtcbiAgICAgICAgaWYgKCF0aGlzW3R5cGVdICYmICF0aGlzLnN0eWxlSGFzKHR5cGUsIGkpKSB7XG4gICAgICAgICAgdG9wT2Zmc2V0ICs9IGhlaWdodE9mTGluZTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBsaW5lID0gdGhpcy5fdGV4dExpbmVzW2ldO1xuICAgICAgICBtYXhIZWlnaHQgPSBoZWlnaHRPZkxpbmUgLyB0aGlzLmxpbmVIZWlnaHQ7XG4gICAgICAgIGxpbmVMZWZ0T2Zmc2V0ID0gdGhpcy5fZ2V0TGluZUxlZnRPZmZzZXQoaSk7XG4gICAgICAgIGJveFN0YXJ0ID0gMDtcbiAgICAgICAgYm94V2lkdGggPSAwO1xuICAgICAgICBsYXN0RGVjb3JhdGlvbiA9IHRoaXMuZ2V0VmFsdWVPZlByb3BlcnR5QXQoaSwgMCwgdHlwZSk7XG4gICAgICAgIGxhc3RGaWxsID0gdGhpcy5nZXRWYWx1ZU9mUHJvcGVydHlBdChpLCAwLCAnZmlsbCcpO1xuICAgICAgICB0b3AgPSB0b3BPZmZzZXQgKyBtYXhIZWlnaHQgKiAoMSAtIHRoaXMuX2ZvbnRTaXplRnJhY3Rpb24pO1xuICAgICAgICBzaXplID0gdGhpcy5nZXRIZWlnaHRPZkNoYXIoaSwgMCk7XG4gICAgICAgIGR5ID0gdGhpcy5nZXRWYWx1ZU9mUHJvcGVydHlBdChpLCAwLCAnZGVsdGFZJyk7XG4gICAgICAgIGZvciAodmFyIGogPSAwLCBqbGVuID0gbGluZS5sZW5ndGg7IGogPCBqbGVuOyBqKyspIHtcbiAgICAgICAgICBjaGFyQm94ID0gdGhpcy5fX2NoYXJCb3VuZHNbaV1bal07XG4gICAgICAgICAgY3VycmVudERlY29yYXRpb24gPSB0aGlzLmdldFZhbHVlT2ZQcm9wZXJ0eUF0KGksIGosIHR5cGUpO1xuICAgICAgICAgIGN1cnJlbnRGaWxsID0gdGhpcy5nZXRWYWx1ZU9mUHJvcGVydHlBdChpLCBqLCAnZmlsbCcpO1xuICAgICAgICAgIF9zaXplID0gdGhpcy5nZXRIZWlnaHRPZkNoYXIoaSwgaik7XG4gICAgICAgICAgX2R5ID0gdGhpcy5nZXRWYWx1ZU9mUHJvcGVydHlBdChpLCBqLCAnZGVsdGFZJyk7XG4gICAgICAgICAgaWYgKHBhdGggJiYgY3VycmVudERlY29yYXRpb24gJiYgY3VycmVudEZpbGwpIHtcbiAgICAgICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gbGFzdEZpbGw7XG4gICAgICAgICAgICBjdHgudHJhbnNsYXRlKGNoYXJCb3gucmVuZGVyTGVmdCwgY2hhckJveC5yZW5kZXJUb3ApO1xuICAgICAgICAgICAgY3R4LnJvdGF0ZShjaGFyQm94LmFuZ2xlKTtcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdChcbiAgICAgICAgICAgICAgLWNoYXJCb3gua2VybmVkV2lkdGggLyAyLFxuICAgICAgICAgICAgICBvZmZzZXRZICogX3NpemUgKyBfZHksXG4gICAgICAgICAgICAgIGNoYXJCb3gua2VybmVkV2lkdGgsXG4gICAgICAgICAgICAgIHRoaXMuZm9udFNpemUgLyAxNVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgICAgKGN1cnJlbnREZWNvcmF0aW9uICE9PSBsYXN0RGVjb3JhdGlvbiB8fCBjdXJyZW50RmlsbCAhPT0gbGFzdEZpbGwgfHwgX3NpemUgIT09IHNpemUgfHwgX2R5ICE9PSBkeSlcbiAgICAgICAgICAgICYmIGJveFdpZHRoID4gMFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdmFyIGRyYXdTdGFydCA9IGxlZnRPZmZzZXQgKyBsaW5lTGVmdE9mZnNldCArIGJveFN0YXJ0O1xuICAgICAgICAgICAgaWYgKHRoaXMuZGlyZWN0aW9uID09PSAncnRsJykge1xuICAgICAgICAgICAgICBkcmF3U3RhcnQgPSB0aGlzLndpZHRoIC0gZHJhd1N0YXJ0IC0gYm94V2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobGFzdERlY29yYXRpb24gJiYgbGFzdEZpbGwpIHtcbiAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGxhc3RGaWxsO1xuICAgICAgICAgICAgICBjdHguZmlsbFJlY3QoXG4gICAgICAgICAgICAgICAgZHJhd1N0YXJ0LFxuICAgICAgICAgICAgICAgIHRvcCArIG9mZnNldFkgKiBzaXplICsgZHksXG4gICAgICAgICAgICAgICAgYm94V2lkdGgsXG4gICAgICAgICAgICAgICAgdGhpcy5mb250U2l6ZSAvIDE1XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBib3hTdGFydCA9IGNoYXJCb3gubGVmdDtcbiAgICAgICAgICAgIGJveFdpZHRoID0gY2hhckJveC53aWR0aDtcbiAgICAgICAgICAgIGxhc3REZWNvcmF0aW9uID0gY3VycmVudERlY29yYXRpb247XG4gICAgICAgICAgICBsYXN0RmlsbCA9IGN1cnJlbnRGaWxsO1xuICAgICAgICAgICAgc2l6ZSA9IF9zaXplO1xuICAgICAgICAgICAgZHkgPSBfZHk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYm94V2lkdGggKz0gY2hhckJveC5rZXJuZWRXaWR0aDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRyYXdTdGFydCA9IGxlZnRPZmZzZXQgKyBsaW5lTGVmdE9mZnNldCArIGJveFN0YXJ0O1xuICAgICAgICBpZiAodGhpcy5kaXJlY3Rpb24gPT09ICdydGwnKSB7XG4gICAgICAgICAgZHJhd1N0YXJ0ID0gdGhpcy53aWR0aCAtIGRyYXdTdGFydCAtIGJveFdpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBjdXJyZW50RmlsbDtcbiAgICAgICAgY3VycmVudERlY29yYXRpb24gJiYgY3VycmVudEZpbGwgJiYgY3R4LmZpbGxSZWN0KFxuICAgICAgICAgIGRyYXdTdGFydCxcbiAgICAgICAgICB0b3AgKyBvZmZzZXRZICogc2l6ZSArIGR5LFxuICAgICAgICAgIGJveFdpZHRoIC0gY2hhclNwYWNpbmcsXG4gICAgICAgICAgdGhpcy5mb250U2l6ZSAvIDE1XG4gICAgICAgICk7XG4gICAgICAgIHRvcE9mZnNldCArPSBoZWlnaHRPZkxpbmU7XG4gICAgICB9XG4gICAgICAvLyBpZiB0aGVyZSBpcyB0ZXh0IGJhY2tncm91bmQgY29sb3Igbm9cbiAgICAgIC8vIG90aGVyIHNoYWRvd3Mgc2hvdWxkIGJlIGNhc3RlZFxuICAgICAgdGhpcy5fcmVtb3ZlU2hhZG93KGN0eCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJldHVybiBmb250IGRlY2xhcmF0aW9uIHN0cmluZyBmb3IgY2FudmFzIGNvbnRleHRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0eWxlT2JqZWN0XSBvYmplY3RcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBmb250IGRlY2xhcmF0aW9uIGZvcm1hdHRlZCBmb3IgY2FudmFzIGNvbnRleHQuXG4gICAgICovXG4gICAgX2dldEZvbnREZWNsYXJhdGlvbjogZnVuY3Rpb24oc3R5bGVPYmplY3QsIGZvck1lYXN1cmluZykge1xuICAgICAgdmFyIHN0eWxlID0gc3R5bGVPYmplY3QgfHwgdGhpcywgZmFtaWx5ID0gdGhpcy5mb250RmFtaWx5LFxuICAgICAgICAgIGZvbnRJc0dlbmVyaWMgPSBmYWJyaWMuVGV4dC5nZW5lcmljRm9udHMuaW5kZXhPZihmYW1pbHkudG9Mb3dlckNhc2UoKSkgPiAtMTtcbiAgICAgIHZhciBmb250RmFtaWx5ID0gZmFtaWx5ID09PSB1bmRlZmluZWQgfHxcbiAgICAgIGZhbWlseS5pbmRleE9mKCdcXCcnKSA+IC0xIHx8IGZhbWlseS5pbmRleE9mKCcsJykgPiAtMSB8fFxuICAgICAgZmFtaWx5LmluZGV4T2YoJ1wiJykgPiAtMSB8fCBmb250SXNHZW5lcmljXG4gICAgICAgID8gc3R5bGUuZm9udEZhbWlseSA6ICdcIicgKyBzdHlsZS5mb250RmFtaWx5ICsgJ1wiJztcbiAgICAgIHJldHVybiBbXG4gICAgICAgIC8vIG5vZGUtY2FudmFzIG5lZWRzIFwid2VpZ2h0IHN0eWxlXCIsIHdoaWxlIGJyb3dzZXJzIG5lZWQgXCJzdHlsZSB3ZWlnaHRcIlxuICAgICAgICAvLyB2ZXJpZnkgaWYgdGhpcyBjYW4gYmUgZml4ZWQgaW4gSlNET01cbiAgICAgICAgKGZhYnJpYy5pc0xpa2VseU5vZGUgPyBzdHlsZS5mb250V2VpZ2h0IDogc3R5bGUuZm9udFN0eWxlKSxcbiAgICAgICAgKGZhYnJpYy5pc0xpa2VseU5vZGUgPyBzdHlsZS5mb250U3R5bGUgOiBzdHlsZS5mb250V2VpZ2h0KSxcbiAgICAgICAgZm9yTWVhc3VyaW5nID8gdGhpcy5DQUNIRV9GT05UX1NJWkUgKyAncHgnIDogc3R5bGUuZm9udFNpemUgKyAncHgnLFxuICAgICAgICBmb250RmFtaWx5XG4gICAgICBdLmpvaW4oJyAnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0ZXh0IGluc3RhbmNlIG9uIGEgc3BlY2lmaWVkIGNvbnRleHRcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgcmVuZGVyOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIC8vIGRvIG5vdCByZW5kZXIgaWYgb2JqZWN0IGlzIG5vdCB2aXNpYmxlXG4gICAgICBpZiAoIXRoaXMudmlzaWJsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMuc2tpcE9mZnNjcmVlbiAmJiAhdGhpcy5ncm91cCAmJiAhdGhpcy5pc09uU2NyZWVuKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX3Nob3VsZENsZWFyRGltZW5zaW9uQ2FjaGUoKSkge1xuICAgICAgICB0aGlzLmluaXREaW1lbnNpb25zKCk7XG4gICAgICB9XG4gICAgICB0aGlzLmNhbGxTdXBlcigncmVuZGVyJywgY3R4KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdGV4dCBhcyBhbiBhcnJheSBvZiBsaW5lcy5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdGV4dCB0ZXh0IHRvIHNwbGl0XG4gICAgICogQHJldHVybnMge0FycmF5fSBMaW5lcyBpbiB0aGUgdGV4dFxuICAgICAqL1xuICAgIF9zcGxpdFRleHRJbnRvTGluZXM6IGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgIHZhciBsaW5lcyA9IHRleHQuc3BsaXQodGhpcy5fcmVOZXdsaW5lKSxcbiAgICAgICAgICBuZXdMaW5lcyA9IG5ldyBBcnJheShsaW5lcy5sZW5ndGgpLFxuICAgICAgICAgIG5ld0xpbmUgPSBbJ1xcbiddLFxuICAgICAgICAgIG5ld1RleHQgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbmV3TGluZXNbaV0gPSBmYWJyaWMudXRpbC5zdHJpbmcuZ3JhcGhlbWVTcGxpdChsaW5lc1tpXSk7XG4gICAgICAgIG5ld1RleHQgPSBuZXdUZXh0LmNvbmNhdChuZXdMaW5lc1tpXSwgbmV3TGluZSk7XG4gICAgICB9XG4gICAgICBuZXdUZXh0LnBvcCgpO1xuICAgICAgcmV0dXJuIHsgX3Vud3JhcHBlZExpbmVzOiBuZXdMaW5lcywgbGluZXM6IGxpbmVzLCBncmFwaGVtZVRleHQ6IG5ld1RleHQsIGdyYXBoZW1lTGluZXM6IG5ld0xpbmVzIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BlcnRpZXNUb0luY2x1ZGVdIEFueSBwcm9wZXJ0aWVzIHRoYXQgeW91IG1pZ2h0IHdhbnQgdG8gYWRkaXRpb25hbGx5IGluY2x1ZGUgaW4gdGhlIG91dHB1dFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgdG9PYmplY3Q6IGZ1bmN0aW9uKHByb3BlcnRpZXNUb0luY2x1ZGUpIHtcbiAgICAgIHZhciBhbGxQcm9wZXJ0aWVzID0gYWRkaXRpb25hbFByb3BzLmNvbmNhdChwcm9wZXJ0aWVzVG9JbmNsdWRlKTtcbiAgICAgIHZhciBvYmogPSB0aGlzLmNhbGxTdXBlcigndG9PYmplY3QnLCBhbGxQcm9wZXJ0aWVzKTtcbiAgICAgIG9iai5zdHlsZXMgPSBmYWJyaWMudXRpbC5zdHlsZXNUb0FycmF5KHRoaXMuc3R5bGVzLCB0aGlzLnRleHQpO1xuICAgICAgaWYgKG9iai5wYXRoKSB7XG4gICAgICAgIG9iai5wYXRoID0gdGhpcy5wYXRoLnRvT2JqZWN0KCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHByb3BlcnR5IHRvIGEgZ2l2ZW4gdmFsdWUuIFdoZW4gY2hhbmdpbmcgcG9zaXRpb24vZGltZW5zaW9uIC1yZWxhdGVkIHByb3BlcnRpZXMgKGxlZnQsIHRvcCwgc2NhbGUsIGFuZ2xlLCBldGMuKSBgc2V0YCBkb2VzIG5vdCB1cGRhdGUgcG9zaXRpb24gb2Ygb2JqZWN0J3MgYm9yZGVycy9jb250cm9scy4gSWYgeW91IG5lZWQgdG8gdXBkYXRlIHRob3NlLCBjYWxsIGBzZXRDb29yZHMoKWAuXG4gICAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBrZXkgUHJvcGVydHkgbmFtZSBvciBvYmplY3QgKGlmIG9iamVjdCwgaXRlcmF0ZSBvdmVyIHRoZSBvYmplY3QgcHJvcGVydGllcylcbiAgICAgKiBAcGFyYW0ge09iamVjdHxGdW5jdGlvbn0gdmFsdWUgUHJvcGVydHkgdmFsdWUgKGlmIGZ1bmN0aW9uLCB0aGUgdmFsdWUgaXMgcGFzc2VkIGludG8gaXQgYW5kIGl0cyByZXR1cm4gdmFsdWUgaXMgdXNlZCBhcyBhIG5ldyBvbmUpXG4gICAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzZXQ6IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgIHRoaXMuY2FsbFN1cGVyKCdzZXQnLCBrZXksIHZhbHVlKTtcbiAgICAgIHZhciBuZWVkc0RpbXMgPSBmYWxzZTtcbiAgICAgIHZhciBpc0FkZGluZ1BhdGggPSBmYWxzZTtcbiAgICAgIGlmICh0eXBlb2Yga2V5ID09PSAnb2JqZWN0Jykge1xuICAgICAgICBmb3IgKHZhciBfa2V5IGluIGtleSkge1xuICAgICAgICAgIGlmIChfa2V5ID09PSAncGF0aCcpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0UGF0aEluZm8oKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbmVlZHNEaW1zID0gbmVlZHNEaW1zIHx8IHRoaXMuX2RpbWVuc2lvbkFmZmVjdGluZ1Byb3BzLmluZGV4T2YoX2tleSkgIT09IC0xO1xuICAgICAgICAgIGlzQWRkaW5nUGF0aCA9IGlzQWRkaW5nUGF0aCB8fCBfa2V5ID09PSAncGF0aCc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBuZWVkc0RpbXMgPSB0aGlzLl9kaW1lbnNpb25BZmZlY3RpbmdQcm9wcy5pbmRleE9mKGtleSkgIT09IC0xO1xuICAgICAgICBpc0FkZGluZ1BhdGggPSBrZXkgPT09ICdwYXRoJztcbiAgICAgIH1cbiAgICAgIGlmIChpc0FkZGluZ1BhdGgpIHtcbiAgICAgICAgdGhpcy5zZXRQYXRoSW5mbygpO1xuICAgICAgfVxuICAgICAgaWYgKG5lZWRzRGltcykge1xuICAgICAgICB0aGlzLmluaXREaW1lbnNpb25zKCk7XG4gICAgICAgIHRoaXMuc2V0Q29vcmRzKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBjb21wbGV4aXR5IG9mIGFuIGluc3RhbmNlXG4gICAgICogQHJldHVybiB7TnVtYmVyfSBjb21wbGV4aXR5XG4gICAgICovXG4gICAgY29tcGxleGl0eTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG4gIH0pO1xuXG4gIC8qIF9GUk9NX1NWR19TVEFSVF8gKi9cbiAgLyoqXG4gICAqIExpc3Qgb2YgYXR0cmlidXRlIG5hbWVzIHRvIGFjY291bnQgZm9yIHdoZW4gcGFyc2luZyBTVkcgZWxlbWVudCAodXNlZCBieSB7QGxpbmsgZmFicmljLlRleHQuZnJvbUVsZW1lbnR9KVxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuVGV4dFxuICAgKiBAc2VlOiBodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcvdGV4dC5odG1sI1RleHRFbGVtZW50XG4gICAqL1xuICBmYWJyaWMuVGV4dC5BVFRSSUJVVEVfTkFNRVMgPSBmYWJyaWMuU0hBUkVEX0FUVFJJQlVURVMuY29uY2F0KFxuICAgICd4IHkgZHggZHkgZm9udC1mYW1pbHkgZm9udC1zdHlsZSBmb250LXdlaWdodCBmb250LXNpemUgbGV0dGVyLXNwYWNpbmcgdGV4dC1kZWNvcmF0aW9uIHRleHQtYW5jaG9yJy5zcGxpdCgnICcpKTtcblxuICAvKipcbiAgICogRGVmYXVsdCBTVkcgZm9udCBzaXplXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5UZXh0XG4gICAqL1xuICBmYWJyaWMuVGV4dC5ERUZBVUxUX1NWR19GT05UX1NJWkUgPSAxNjtcblxuICAvKipcbiAgICogUmV0dXJucyBmYWJyaWMuVGV4dCBpbnN0YW5jZSBmcm9tIGFuIFNWRyBlbGVtZW50ICg8Yj5ub3QgeWV0IGltcGxlbWVudGVkPC9iPilcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLlRleHRcbiAgICogQHBhcmFtIHtTVkdFbGVtZW50fSBlbGVtZW50IEVsZW1lbnQgdG8gcGFyc2VcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgY2FsbGJhY2sgZnVuY3Rpb24gaW52b2tlZCBhZnRlciBwYXJzaW5nXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICovXG4gIGZhYnJpYy5UZXh0LmZyb21FbGVtZW50ID0gZnVuY3Rpb24oZWxlbWVudCwgY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhudWxsKTtcbiAgICB9XG5cbiAgICB2YXIgcGFyc2VkQXR0cmlidXRlcyA9IGZhYnJpYy5wYXJzZUF0dHJpYnV0ZXMoZWxlbWVudCwgZmFicmljLlRleHQuQVRUUklCVVRFX05BTUVTKSxcbiAgICAgICAgcGFyc2VkQW5jaG9yID0gcGFyc2VkQXR0cmlidXRlcy50ZXh0QW5jaG9yIHx8ICdsZWZ0JztcbiAgICBvcHRpb25zID0gZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZCgob3B0aW9ucyA/IGNsb25lKG9wdGlvbnMpIDogeyB9KSwgcGFyc2VkQXR0cmlidXRlcyk7XG5cbiAgICBvcHRpb25zLnRvcCA9IG9wdGlvbnMudG9wIHx8IDA7XG4gICAgb3B0aW9ucy5sZWZ0ID0gb3B0aW9ucy5sZWZ0IHx8IDA7XG4gICAgaWYgKHBhcnNlZEF0dHJpYnV0ZXMudGV4dERlY29yYXRpb24pIHtcbiAgICAgIHZhciB0ZXh0RGVjb3JhdGlvbiA9IHBhcnNlZEF0dHJpYnV0ZXMudGV4dERlY29yYXRpb247XG4gICAgICBpZiAodGV4dERlY29yYXRpb24uaW5kZXhPZigndW5kZXJsaW5lJykgIT09IC0xKSB7XG4gICAgICAgIG9wdGlvbnMudW5kZXJsaW5lID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0ZXh0RGVjb3JhdGlvbi5pbmRleE9mKCdvdmVybGluZScpICE9PSAtMSkge1xuICAgICAgICBvcHRpb25zLm92ZXJsaW5lID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0ZXh0RGVjb3JhdGlvbi5pbmRleE9mKCdsaW5lLXRocm91Z2gnKSAhPT0gLTEpIHtcbiAgICAgICAgb3B0aW9ucy5saW5ldGhyb3VnaCA9IHRydWU7XG4gICAgICB9XG4gICAgICBkZWxldGUgb3B0aW9ucy50ZXh0RGVjb3JhdGlvbjtcbiAgICB9XG4gICAgaWYgKCdkeCcgaW4gcGFyc2VkQXR0cmlidXRlcykge1xuICAgICAgb3B0aW9ucy5sZWZ0ICs9IHBhcnNlZEF0dHJpYnV0ZXMuZHg7XG4gICAgfVxuICAgIGlmICgnZHknIGluIHBhcnNlZEF0dHJpYnV0ZXMpIHtcbiAgICAgIG9wdGlvbnMudG9wICs9IHBhcnNlZEF0dHJpYnV0ZXMuZHk7XG4gICAgfVxuICAgIGlmICghKCdmb250U2l6ZScgaW4gb3B0aW9ucykpIHtcbiAgICAgIG9wdGlvbnMuZm9udFNpemUgPSBmYWJyaWMuVGV4dC5ERUZBVUxUX1NWR19GT05UX1NJWkU7XG4gICAgfVxuXG4gICAgdmFyIHRleHRDb250ZW50ID0gJyc7XG5cbiAgICAvLyBUaGUgWE1MIGlzIG5vdCBwcm9wZXJseSBwYXJzZWQgaW4gSUU5IHNvIGEgd29ya2Fyb3VuZCB0byBnZXRcbiAgICAvLyB0ZXh0Q29udGVudCBpcyB0aHJvdWdoIGZpcnN0Q2hpbGQuZGF0YS4gQW5vdGhlciB3b3JrYXJvdW5kIHdvdWxkIGJlXG4gICAgLy8gdG8gY29udmVydCBYTUwgbG9hZGVkIGZyb20gYSBmaWxlIHRvIGJlIGNvbnZlcnRlZCB1c2luZyBET01QYXJzZXIgKHNhbWUgd2F5IGxvYWRTVkdGcm9tU3RyaW5nKCkgZG9lcylcbiAgICBpZiAoISgndGV4dENvbnRlbnQnIGluIGVsZW1lbnQpKSB7XG4gICAgICBpZiAoJ2ZpcnN0Q2hpbGQnIGluIGVsZW1lbnQgJiYgZWxlbWVudC5maXJzdENoaWxkICE9PSBudWxsKSB7XG4gICAgICAgIGlmICgnZGF0YScgaW4gZWxlbWVudC5maXJzdENoaWxkICYmIGVsZW1lbnQuZmlyc3RDaGlsZC5kYXRhICE9PSBudWxsKSB7XG4gICAgICAgICAgdGV4dENvbnRlbnQgPSBlbGVtZW50LmZpcnN0Q2hpbGQuZGF0YTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRleHRDb250ZW50ID0gZWxlbWVudC50ZXh0Q29udGVudDtcbiAgICB9XG5cbiAgICB0ZXh0Q29udGVudCA9IHRleHRDb250ZW50LnJlcGxhY2UoL15cXHMrfFxccyskfFxcbisvZywgJycpLnJlcGxhY2UoL1xccysvZywgJyAnKTtcbiAgICB2YXIgb3JpZ2luYWxTdHJva2VXaWR0aCA9IG9wdGlvbnMuc3Ryb2tlV2lkdGg7XG4gICAgb3B0aW9ucy5zdHJva2VXaWR0aCA9IDA7XG5cbiAgICB2YXIgdGV4dCA9IG5ldyBmYWJyaWMuVGV4dCh0ZXh0Q29udGVudCwgb3B0aW9ucyksXG4gICAgICAgIHRleHRIZWlnaHRTY2FsZUZhY3RvciA9IHRleHQuZ2V0U2NhbGVkSGVpZ2h0KCkgLyB0ZXh0LmhlaWdodCxcbiAgICAgICAgbGluZUhlaWdodERpZmYgPSAodGV4dC5oZWlnaHQgKyB0ZXh0LnN0cm9rZVdpZHRoKSAqIHRleHQubGluZUhlaWdodCAtIHRleHQuaGVpZ2h0LFxuICAgICAgICBzY2FsZWREaWZmID0gbGluZUhlaWdodERpZmYgKiB0ZXh0SGVpZ2h0U2NhbGVGYWN0b3IsXG4gICAgICAgIHRleHRIZWlnaHQgPSB0ZXh0LmdldFNjYWxlZEhlaWdodCgpICsgc2NhbGVkRGlmZixcbiAgICAgICAgb2ZmWCA9IDA7XG4gICAgLypcbiAgICAgIEFkanVzdCBwb3NpdGlvbmluZzpcbiAgICAgICAgeC95IGF0dHJpYnV0ZXMgaW4gU1ZHIGNvcnJlc3BvbmQgdG8gdGhlIGJvdHRvbS1sZWZ0IGNvcm5lciBvZiB0ZXh0IGJvdW5kaW5nIGJveFxuICAgICAgICBmYWJyaWMgb3V0cHV0IGJ5IGRlZmF1bHQgYXQgdG9wLCBsZWZ0LlxuICAgICovXG4gICAgaWYgKHBhcnNlZEFuY2hvciA9PT0gJ2NlbnRlcicpIHtcbiAgICAgIG9mZlggPSB0ZXh0LmdldFNjYWxlZFdpZHRoKCkgLyAyO1xuICAgIH1cbiAgICBpZiAocGFyc2VkQW5jaG9yID09PSAncmlnaHQnKSB7XG4gICAgICBvZmZYID0gdGV4dC5nZXRTY2FsZWRXaWR0aCgpO1xuICAgIH1cbiAgICB0ZXh0LnNldCh7XG4gICAgICBsZWZ0OiB0ZXh0LmxlZnQgLSBvZmZYLFxuICAgICAgdG9wOiB0ZXh0LnRvcCAtICh0ZXh0SGVpZ2h0IC0gdGV4dC5mb250U2l6ZSAqICgwLjA3ICsgdGV4dC5fZm9udFNpemVGcmFjdGlvbikpIC8gdGV4dC5saW5lSGVpZ2h0LFxuICAgICAgc3Ryb2tlV2lkdGg6IHR5cGVvZiBvcmlnaW5hbFN0cm9rZVdpZHRoICE9PSAndW5kZWZpbmVkJyA/IG9yaWdpbmFsU3Ryb2tlV2lkdGggOiAxLFxuICAgIH0pO1xuICAgIGNhbGxiYWNrKHRleHQpO1xuICB9O1xuICAvKiBfRlJPTV9TVkdfRU5EXyAqL1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGZhYnJpYy5UZXh0IGluc3RhbmNlIGZyb20gYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5UZXh0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgcGxhaW4ganMgT2JqZWN0IHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBmcm9tXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gQ2FsbGJhY2sgdG8gaW52b2tlIHdoZW4gYW4gZmFicmljLlRleHQgaW5zdGFuY2UgaXMgY3JlYXRlZFxuICAgKi9cbiAgZmFicmljLlRleHQuZnJvbU9iamVjdCA9IGZ1bmN0aW9uKG9iamVjdCwgY2FsbGJhY2spIHtcbiAgICB2YXIgb2JqZWN0Q29weSA9IGNsb25lKG9iamVjdCksIHBhdGggPSBvYmplY3QucGF0aDtcbiAgICBkZWxldGUgb2JqZWN0Q29weS5wYXRoO1xuICAgIHJldHVybiBmYWJyaWMuT2JqZWN0Ll9mcm9tT2JqZWN0KCdUZXh0Jywgb2JqZWN0Q29weSwgZnVuY3Rpb24odGV4dEluc3RhbmNlKSB7XG4gICAgICB0ZXh0SW5zdGFuY2Uuc3R5bGVzID0gZmFicmljLnV0aWwuc3R5bGVzRnJvbUFycmF5KG9iamVjdC5zdHlsZXMsIG9iamVjdC50ZXh0KTtcbiAgICAgIGlmIChwYXRoKSB7XG4gICAgICAgIGZhYnJpYy5PYmplY3QuX2Zyb21PYmplY3QoJ1BhdGgnLCBwYXRoLCBmdW5jdGlvbihwYXRoSW5zdGFuY2UpIHtcbiAgICAgICAgICB0ZXh0SW5zdGFuY2Uuc2V0KCdwYXRoJywgcGF0aEluc3RhbmNlKTtcbiAgICAgICAgICBjYWxsYmFjayh0ZXh0SW5zdGFuY2UpO1xuICAgICAgICB9LCAncGF0aCcpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKHRleHRJbnN0YW5jZSk7XG4gICAgICB9XG4gICAgfSwgJ3RleHQnKTtcbiAgfTtcblxuICBmYWJyaWMuVGV4dC5nZW5lcmljRm9udHMgPSBbJ3NhbnMtc2VyaWYnLCAnc2VyaWYnLCAnY3Vyc2l2ZScsICdmYW50YXN5JywgJ21vbm9zcGFjZSddO1xuXG4gIGZhYnJpYy51dGlsLmNyZWF0ZUFjY2Vzc29ycyAmJiBmYWJyaWMudXRpbC5jcmVhdGVBY2Nlc3NvcnMoZmFicmljLlRleHQpO1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKCkge1xuICBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kKGZhYnJpYy5UZXh0LnByb3RvdHlwZSwgLyoqIEBsZW5kcyBmYWJyaWMuVGV4dC5wcm90b3R5cGUgKi8ge1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiBvYmplY3QgaGFzIG5vIHN0eWxpbmcgb3Igbm8gc3R5bGluZyBpbiBhIGxpbmVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4ICwgbGluZUluZGV4IGlzIG9uIHdyYXBwZWQgbGluZXMuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBpc0VtcHR5U3R5bGVzOiBmdW5jdGlvbihsaW5lSW5kZXgpIHtcbiAgICAgIGlmICghdGhpcy5zdHlsZXMpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGxpbmVJbmRleCAhPT0gJ3VuZGVmaW5lZCcgJiYgIXRoaXMuc3R5bGVzW2xpbmVJbmRleF0pIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICB2YXIgb2JqID0gdHlwZW9mIGxpbmVJbmRleCA9PT0gJ3VuZGVmaW5lZCcgPyB0aGlzLnN0eWxlcyA6IHsgbGluZTogdGhpcy5zdHlsZXNbbGluZUluZGV4XSB9O1xuICAgICAgZm9yICh2YXIgcDEgaW4gb2JqKSB7XG4gICAgICAgIGZvciAodmFyIHAyIGluIG9ialtwMV0pIHtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICAgICAgICBmb3IgKHZhciBwMyBpbiBvYmpbcDFdW3AyXSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiBvYmplY3QgaGFzIGEgc3R5bGUgcHJvcGVydHkgb3IgaGFzIGl0IGluYSBzcGVjaWZpZWQgbGluZVxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBkZXRlY3QgaWYgYSB0ZXh0IHdpbGwgdXNlIGEgcGFydGljdWxhciBwcm9wZXJ0eSBvciBub3QuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5IHRvIGNoZWNrIGZvclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSW5kZXggdG8gY2hlY2sgdGhlIHN0eWxlIG9uXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBzdHlsZUhhczogZnVuY3Rpb24ocHJvcGVydHksIGxpbmVJbmRleCkge1xuICAgICAgaWYgKCF0aGlzLnN0eWxlcyB8fCAhcHJvcGVydHkgfHwgcHJvcGVydHkgPT09ICcnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgbGluZUluZGV4ICE9PSAndW5kZWZpbmVkJyAmJiAhdGhpcy5zdHlsZXNbbGluZUluZGV4XSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgb2JqID0gdHlwZW9mIGxpbmVJbmRleCA9PT0gJ3VuZGVmaW5lZCcgPyB0aGlzLnN0eWxlcyA6IHsgMDogdGhpcy5zdHlsZXNbbGluZUluZGV4XSB9O1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICBmb3IgKHZhciBwMSBpbiBvYmopIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgIGZvciAodmFyIHAyIGluIG9ialtwMV0pIHtcbiAgICAgICAgICBpZiAodHlwZW9mIG9ialtwMV1bcDJdW3Byb3BlcnR5XSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBjaGFyYWN0ZXJzIGluIGEgdGV4dCBoYXZlIGEgdmFsdWUgZm9yIGEgcHJvcGVydHlcbiAgICAgKiB3aG9zZSB2YWx1ZSBtYXRjaGVzIHRoZSB0ZXh0Ym94J3MgdmFsdWUgZm9yIHRoYXQgcHJvcGVydHkuICBJZiBzbyxcbiAgICAgKiB0aGUgY2hhcmFjdGVyLWxldmVsIHByb3BlcnR5IGlzIGRlbGV0ZWQuICBJZiB0aGUgY2hhcmFjdGVyXG4gICAgICogaGFzIG5vIG90aGVyIHByb3BlcnRpZXMsIHRoZW4gaXQgaXMgYWxzbyBkZWxldGVkLiAgRmluYWxseSxcbiAgICAgKiBpZiB0aGUgbGluZSBjb250YWluaW5nIHRoYXQgY2hhcmFjdGVyIGhhcyBubyBvdGhlciBjaGFyYWN0ZXJzXG4gICAgICogdGhlbiBpdCBhbHNvIGlzIGRlbGV0ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgVGhlIHByb3BlcnR5IHRvIGNvbXBhcmUgYmV0d2VlbiBjaGFyYWN0ZXJzIGFuZCB0ZXh0LlxuICAgICAqL1xuICAgIGNsZWFuU3R5bGU6IGZ1bmN0aW9uKHByb3BlcnR5KSB7XG4gICAgICBpZiAoIXRoaXMuc3R5bGVzIHx8ICFwcm9wZXJ0eSB8fCBwcm9wZXJ0eSA9PT0gJycpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIG9iaiA9IHRoaXMuc3R5bGVzLCBzdHlsZXNDb3VudCA9IDAsIGxldHRlckNvdW50LCBzdHlsZVByb3BlcnR5VmFsdWUsXG4gICAgICAgICAgYWxsU3R5bGVPYmplY3RQcm9wZXJ0aWVzTWF0Y2ggPSB0cnVlLCBncmFwaGVtZUNvdW50ID0gMCwgc3R5bGVPYmplY3Q7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgIGZvciAodmFyIHAxIGluIG9iaikge1xuICAgICAgICBsZXR0ZXJDb3VudCA9IDA7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICBmb3IgKHZhciBwMiBpbiBvYmpbcDFdKSB7XG4gICAgICAgICAgdmFyIHN0eWxlT2JqZWN0ID0gb2JqW3AxXVtwMl0sXG4gICAgICAgICAgICAgIHN0eWxlUHJvcGVydHlIYXNCZWVuU2V0ID0gc3R5bGVPYmplY3QuaGFzT3duUHJvcGVydHkocHJvcGVydHkpO1xuXG4gICAgICAgICAgc3R5bGVzQ291bnQrKztcblxuICAgICAgICAgIGlmIChzdHlsZVByb3BlcnR5SGFzQmVlblNldCkge1xuICAgICAgICAgICAgaWYgKCFzdHlsZVByb3BlcnR5VmFsdWUpIHtcbiAgICAgICAgICAgICAgc3R5bGVQcm9wZXJ0eVZhbHVlID0gc3R5bGVPYmplY3RbcHJvcGVydHldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc3R5bGVPYmplY3RbcHJvcGVydHldICE9PSBzdHlsZVByb3BlcnR5VmFsdWUpIHtcbiAgICAgICAgICAgICAgYWxsU3R5bGVPYmplY3RQcm9wZXJ0aWVzTWF0Y2ggPSBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHN0eWxlT2JqZWN0W3Byb3BlcnR5XSA9PT0gdGhpc1twcm9wZXJ0eV0pIHtcbiAgICAgICAgICAgICAgZGVsZXRlIHN0eWxlT2JqZWN0W3Byb3BlcnR5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhbGxTdHlsZU9iamVjdFByb3BlcnRpZXNNYXRjaCA9IGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhzdHlsZU9iamVjdCkubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICBsZXR0ZXJDb3VudCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRlbGV0ZSBvYmpbcDFdW3AyXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGV0dGVyQ291bnQgPT09IDApIHtcbiAgICAgICAgICBkZWxldGUgb2JqW3AxXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gaWYgZXZlcnkgZ3JhcGhlbWUgaGFzIHRoZSBzYW1lIHN0eWxlIHNldCB0aGVuXG4gICAgICAvLyBkZWxldGUgdGhvc2Ugc3R5bGVzIGFuZCBzZXQgaXQgb24gdGhlIHBhcmVudFxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl90ZXh0TGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZ3JhcGhlbWVDb3VudCArPSB0aGlzLl90ZXh0TGluZXNbaV0ubGVuZ3RoO1xuICAgICAgfVxuICAgICAgaWYgKGFsbFN0eWxlT2JqZWN0UHJvcGVydGllc01hdGNoICYmIHN0eWxlc0NvdW50ID09PSBncmFwaGVtZUNvdW50KSB7XG4gICAgICAgIHRoaXNbcHJvcGVydHldID0gc3R5bGVQcm9wZXJ0eVZhbHVlO1xuICAgICAgICB0aGlzLnJlbW92ZVN0eWxlKHByb3BlcnR5KTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgc3R5bGUgcHJvcGVydHkgb3IgcHJvcGVydGllcyBmcm9tIGFsbCBpbmRpdmlkdWFsIGNoYXJhY3RlciBzdHlsZXNcbiAgICAgKiBpbiBhIHRleHQgb2JqZWN0LiAgRGVsZXRlcyB0aGUgY2hhcmFjdGVyIHN0eWxlIG9iamVjdCBpZiBpdCBjb250YWlucyBubyBvdGhlciBzdHlsZVxuICAgICAqIHByb3BzLiAgRGVsZXRlcyBhIGxpbmUgc3R5bGUgb2JqZWN0IGlmIGl0IGNvbnRhaW5zIG5vIG90aGVyIGNoYXJhY3RlciBzdHlsZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcHMgVGhlIHByb3BlcnR5IHRvIHJlbW92ZSBmcm9tIGNoYXJhY3RlciBzdHlsZXMuXG4gICAgICovXG4gICAgcmVtb3ZlU3R5bGU6IGZ1bmN0aW9uKHByb3BlcnR5KSB7XG4gICAgICBpZiAoIXRoaXMuc3R5bGVzIHx8ICFwcm9wZXJ0eSB8fCBwcm9wZXJ0eSA9PT0gJycpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIG9iaiA9IHRoaXMuc3R5bGVzLCBsaW5lLCBsaW5lTnVtLCBjaGFyTnVtO1xuICAgICAgZm9yIChsaW5lTnVtIGluIG9iaikge1xuICAgICAgICBsaW5lID0gb2JqW2xpbmVOdW1dO1xuICAgICAgICBmb3IgKGNoYXJOdW0gaW4gbGluZSkge1xuICAgICAgICAgIGRlbGV0ZSBsaW5lW2NoYXJOdW1dW3Byb3BlcnR5XTtcbiAgICAgICAgICBpZiAoT2JqZWN0LmtleXMobGluZVtjaGFyTnVtXSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBkZWxldGUgbGluZVtjaGFyTnVtXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKGxpbmUpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGRlbGV0ZSBvYmpbbGluZU51bV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZXh0ZW5kU3R5bGVzOiBmdW5jdGlvbihpbmRleCwgc3R5bGVzKSB7XG4gICAgICB2YXIgbG9jID0gdGhpcy5nZXQyREN1cnNvckxvY2F0aW9uKGluZGV4KTtcblxuICAgICAgaWYgKCF0aGlzLl9nZXRMaW5lU3R5bGUobG9jLmxpbmVJbmRleCkpIHtcbiAgICAgICAgdGhpcy5fc2V0TGluZVN0eWxlKGxvYy5saW5lSW5kZXgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuX2dldFN0eWxlRGVjbGFyYXRpb24obG9jLmxpbmVJbmRleCwgbG9jLmNoYXJJbmRleCkpIHtcbiAgICAgICAgdGhpcy5fc2V0U3R5bGVEZWNsYXJhdGlvbihsb2MubGluZUluZGV4LCBsb2MuY2hhckluZGV4LCB7fSk7XG4gICAgICB9XG5cbiAgICAgIGZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQodGhpcy5fZ2V0U3R5bGVEZWNsYXJhdGlvbihsb2MubGluZUluZGV4LCBsb2MuY2hhckluZGV4KSwgc3R5bGVzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyAyZCByZXByZXNlbnRhdGlvbiAobGluZUluZGV4IGFuZCBjaGFySW5kZXgpIG9mIGN1cnNvciAob3Igc2VsZWN0aW9uIHN0YXJ0KVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc2VsZWN0aW9uU3RhcnRdIE9wdGlvbmFsIGluZGV4LiBXaGVuIG5vdCBnaXZlbiwgY3VycmVudCBzZWxlY3Rpb25TdGFydCBpcyB1c2VkLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3NraXBXcmFwcGluZ10gY29uc2lkZXIgdGhlIGxvY2F0aW9uIGZvciB1bndyYXBwZWQgbGluZXMuIHVzZWZ1bCB0byBtYW5hZ2Ugc3R5bGVzLlxuICAgICAqL1xuICAgIGdldDJEQ3Vyc29yTG9jYXRpb246IGZ1bmN0aW9uKHNlbGVjdGlvblN0YXJ0LCBza2lwV3JhcHBpbmcpIHtcbiAgICAgIGlmICh0eXBlb2Ygc2VsZWN0aW9uU3RhcnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHNlbGVjdGlvblN0YXJ0ID0gdGhpcy5zZWxlY3Rpb25TdGFydDtcbiAgICAgIH1cbiAgICAgIHZhciBsaW5lcyA9IHNraXBXcmFwcGluZyA/IHRoaXMuX3Vud3JhcHBlZFRleHRMaW5lcyA6IHRoaXMuX3RleHRMaW5lcyxcbiAgICAgICAgICBsZW4gPSBsaW5lcy5sZW5ndGg7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGlmIChzZWxlY3Rpb25TdGFydCA8PSBsaW5lc1tpXS5sZW5ndGgpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGluZUluZGV4OiBpLFxuICAgICAgICAgICAgY2hhckluZGV4OiBzZWxlY3Rpb25TdGFydFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgc2VsZWN0aW9uU3RhcnQgLT0gbGluZXNbaV0ubGVuZ3RoICsgdGhpcy5taXNzaW5nTmV3bGluZU9mZnNldChpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxpbmVJbmRleDogaSAtIDEsXG4gICAgICAgIGNoYXJJbmRleDogbGluZXNbaSAtIDFdLmxlbmd0aCA8IHNlbGVjdGlvblN0YXJ0ID8gbGluZXNbaSAtIDFdLmxlbmd0aCA6IHNlbGVjdGlvblN0YXJ0XG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHN0eWxlIG9mIGEgY3VycmVudCBzZWxlY3Rpb24vY3Vyc29yIChhdCB0aGUgc3RhcnQgcG9zaXRpb24pXG4gICAgICogaWYgc3RhcnRJbmRleCBvciBlbmRJbmRleCBhcmUgbm90IHByb3ZpZGVkLCBzZWxlY3Rpb25TdGFydCBvciBzZWxlY3Rpb25FbmQgd2lsbCBiZSB1c2VkLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3RhcnRJbmRleF0gU3RhcnQgaW5kZXggdG8gZ2V0IHN0eWxlcyBhdFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbZW5kSW5kZXhdIEVuZCBpbmRleCB0byBnZXQgc3R5bGVzIGF0LCBpZiBub3Qgc3BlY2lmaWVkIHNlbGVjdGlvbkVuZCBvciBzdGFydEluZGV4ICsgMVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbXBsZXRlXSBnZXQgZnVsbCBzdHlsZSBvciBub3RcbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gc3R5bGVzIGFuIGFycmF5IHdpdGggb25lLCB6ZXJvIG9yIG1vcmUgU3R5bGUgb2JqZWN0c1xuICAgICAqL1xuICAgIGdldFNlbGVjdGlvblN0eWxlczogZnVuY3Rpb24oc3RhcnRJbmRleCwgZW5kSW5kZXgsIGNvbXBsZXRlKSB7XG4gICAgICBpZiAodHlwZW9mIHN0YXJ0SW5kZXggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHN0YXJ0SW5kZXggPSB0aGlzLnNlbGVjdGlvblN0YXJ0IHx8IDA7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGVuZEluZGV4ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBlbmRJbmRleCA9IHRoaXMuc2VsZWN0aW9uRW5kIHx8IHN0YXJ0SW5kZXg7XG4gICAgICB9XG4gICAgICB2YXIgc3R5bGVzID0gW107XG4gICAgICBmb3IgKHZhciBpID0gc3RhcnRJbmRleDsgaSA8IGVuZEluZGV4OyBpKyspIHtcbiAgICAgICAgc3R5bGVzLnB1c2godGhpcy5nZXRTdHlsZUF0UG9zaXRpb24oaSwgY29tcGxldGUpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHlsZXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldHMgc3R5bGUgb2YgYSBjdXJyZW50IHNlbGVjdGlvbi9jdXJzb3IgcG9zaXRpb25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcG9zaXRpb24gIHRvIGdldCBzdHlsZXMgYXRcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb21wbGV0ZV0gZnVsbCBzdHlsZSBpZiB0cnVlXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBzdHlsZSBTdHlsZSBvYmplY3QgYXQgYSBzcGVjaWZpZWQgaW5kZXhcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGdldFN0eWxlQXRQb3NpdGlvbjogZnVuY3Rpb24ocG9zaXRpb24sIGNvbXBsZXRlKSB7XG4gICAgICB2YXIgbG9jID0gdGhpcy5nZXQyREN1cnNvckxvY2F0aW9uKHBvc2l0aW9uKSxcbiAgICAgICAgICBzdHlsZSA9IGNvbXBsZXRlID8gdGhpcy5nZXRDb21wbGV0ZVN0eWxlRGVjbGFyYXRpb24obG9jLmxpbmVJbmRleCwgbG9jLmNoYXJJbmRleCkgOlxuICAgICAgICAgICAgdGhpcy5fZ2V0U3R5bGVEZWNsYXJhdGlvbihsb2MubGluZUluZGV4LCBsb2MuY2hhckluZGV4KTtcbiAgICAgIHJldHVybiBzdHlsZSB8fCB7fTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyBzdHlsZSBvZiBhIGN1cnJlbnQgc2VsZWN0aW9uLCBpZiBubyBzZWxlY3Rpb24gZXhpc3QsIGRvIG5vdCBzZXQgYW55dGhpbmcuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdHlsZXNdIFN0eWxlcyBvYmplY3RcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3N0YXJ0SW5kZXhdIFN0YXJ0IGluZGV4IHRvIGdldCBzdHlsZXMgYXRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2VuZEluZGV4XSBFbmQgaW5kZXggdG8gZ2V0IHN0eWxlcyBhdCwgaWYgbm90IHNwZWNpZmllZCBzZWxlY3Rpb25FbmQgb3Igc3RhcnRJbmRleCArIDFcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuSVRleHR9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgc2V0U2VsZWN0aW9uU3R5bGVzOiBmdW5jdGlvbihzdHlsZXMsIHN0YXJ0SW5kZXgsIGVuZEluZGV4KSB7XG4gICAgICBpZiAodHlwZW9mIHN0YXJ0SW5kZXggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHN0YXJ0SW5kZXggPSB0aGlzLnNlbGVjdGlvblN0YXJ0IHx8IDA7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGVuZEluZGV4ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBlbmRJbmRleCA9IHRoaXMuc2VsZWN0aW9uRW5kIHx8IHN0YXJ0SW5kZXg7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBpID0gc3RhcnRJbmRleDsgaSA8IGVuZEluZGV4OyBpKyspIHtcbiAgICAgICAgdGhpcy5fZXh0ZW5kU3R5bGVzKGksIHN0eWxlcyk7XG4gICAgICB9XG4gICAgICAvKiBub3QgaW5jbHVkZWQgaW4gX2V4dGVuZFN0eWxlcyB0byBhdm9pZCBjbGVhcmluZyBjYWNoZSBtb3JlIHRoYW4gb25jZSAqL1xuICAgICAgdGhpcy5fZm9yY2VDbGVhckNhY2hlID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBnZXQgdGhlIHJlZmVyZW5jZSwgbm90IGEgY2xvbmUsIG9mIHRoZSBzdHlsZSBvYmplY3QgZm9yIGEgZ2l2ZW4gY2hhcmFjdGVyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxpbmVJbmRleFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBjaGFySW5kZXhcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IHN0eWxlIG9iamVjdFxuICAgICAqL1xuICAgIF9nZXRTdHlsZURlY2xhcmF0aW9uOiBmdW5jdGlvbihsaW5lSW5kZXgsIGNoYXJJbmRleCkge1xuICAgICAgdmFyIGxpbmVTdHlsZSA9IHRoaXMuc3R5bGVzICYmIHRoaXMuc3R5bGVzW2xpbmVJbmRleF07XG4gICAgICBpZiAoIWxpbmVTdHlsZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBsaW5lU3R5bGVbY2hhckluZGV4XTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmV0dXJuIGEgbmV3IG9iamVjdCB0aGF0IGNvbnRhaW5zIGFsbCB0aGUgc3R5bGUgcHJvcGVydHkgZm9yIGEgY2hhcmFjdGVyXG4gICAgICogdGhlIG9iamVjdCByZXR1cm5lZCBpcyBuZXdseSBjcmVhdGVkXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxpbmVJbmRleCBvZiB0aGUgbGluZSB3aGVyZSB0aGUgY2hhcmFjdGVyIGlzXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGNoYXJJbmRleCBwb3NpdGlvbiBvZiB0aGUgY2hhcmFjdGVyIG9uIHRoZSBsaW5lXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBzdHlsZSBvYmplY3RcbiAgICAgKi9cbiAgICBnZXRDb21wbGV0ZVN0eWxlRGVjbGFyYXRpb246IGZ1bmN0aW9uKGxpbmVJbmRleCwgY2hhckluZGV4KSB7XG4gICAgICB2YXIgc3R5bGUgPSB0aGlzLl9nZXRTdHlsZURlY2xhcmF0aW9uKGxpbmVJbmRleCwgY2hhckluZGV4KSB8fCB7IH0sXG4gICAgICAgICAgc3R5bGVPYmplY3QgPSB7IH0sIHByb3A7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3N0eWxlUHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBwcm9wID0gdGhpcy5fc3R5bGVQcm9wZXJ0aWVzW2ldO1xuICAgICAgICBzdHlsZU9iamVjdFtwcm9wXSA9IHR5cGVvZiBzdHlsZVtwcm9wXSA9PT0gJ3VuZGVmaW5lZCcgPyB0aGlzW3Byb3BdIDogc3R5bGVbcHJvcF07XG4gICAgICB9XG4gICAgICByZXR1cm4gc3R5bGVPYmplY3Q7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSW5kZXhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gY2hhckluZGV4XG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0eWxlXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2V0U3R5bGVEZWNsYXJhdGlvbjogZnVuY3Rpb24obGluZUluZGV4LCBjaGFySW5kZXgsIHN0eWxlKSB7XG4gICAgICB0aGlzLnN0eWxlc1tsaW5lSW5kZXhdW2NoYXJJbmRleF0gPSBzdHlsZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGNoYXJJbmRleFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2RlbGV0ZVN0eWxlRGVjbGFyYXRpb246IGZ1bmN0aW9uKGxpbmVJbmRleCwgY2hhckluZGV4KSB7XG4gICAgICBkZWxldGUgdGhpcy5zdHlsZXNbbGluZUluZGV4XVtjaGFySW5kZXhdO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4XG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gaWYgdGhlIGxpbmUgZXhpc3RzIG9yIG5vdFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2dldExpbmVTdHlsZTogZnVuY3Rpb24obGluZUluZGV4KSB7XG4gICAgICByZXR1cm4gISF0aGlzLnN0eWxlc1tsaW5lSW5kZXhdO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGxpbmUgc3R5bGUgdG8gYW4gZW1wdHkgb2JqZWN0IHNvIHRoYXQgaXMgaW5pdGlhbGl6ZWRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2V0TGluZVN0eWxlOiBmdW5jdGlvbihsaW5lSW5kZXgpIHtcbiAgICAgIHRoaXMuc3R5bGVzW2xpbmVJbmRleF0gPSB7fTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxpbmVJbmRleFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2RlbGV0ZUxpbmVTdHlsZTogZnVuY3Rpb24obGluZUluZGV4KSB7XG4gICAgICBkZWxldGUgdGhpcy5zdHlsZXNbbGluZUluZGV4XTtcbiAgICB9XG4gIH0pO1xufSkoKTtcblxuXG4oZnVuY3Rpb24oKSB7XG5cbiAgZnVuY3Rpb24gcGFyc2VEZWNvcmF0aW9uKG9iamVjdCkge1xuICAgIGlmIChvYmplY3QudGV4dERlY29yYXRpb24pIHtcbiAgICAgIG9iamVjdC50ZXh0RGVjb3JhdGlvbi5pbmRleE9mKCd1bmRlcmxpbmUnKSA+IC0xICYmIChvYmplY3QudW5kZXJsaW5lID0gdHJ1ZSk7XG4gICAgICBvYmplY3QudGV4dERlY29yYXRpb24uaW5kZXhPZignbGluZS10aHJvdWdoJykgPiAtMSAmJiAob2JqZWN0LmxpbmV0aHJvdWdoID0gdHJ1ZSk7XG4gICAgICBvYmplY3QudGV4dERlY29yYXRpb24uaW5kZXhPZignb3ZlcmxpbmUnKSA+IC0xICYmIChvYmplY3Qub3ZlcmxpbmUgPSB0cnVlKTtcbiAgICAgIGRlbGV0ZSBvYmplY3QudGV4dERlY29yYXRpb247XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIElUZXh0IGNsYXNzIChpbnRyb2R1Y2VkIGluIDxiPnYxLjQ8L2I+KSBFdmVudHMgYXJlIGFsc28gZmlyZWQgd2l0aCBcInRleHQ6XCJcbiAgICogcHJlZml4IHdoZW4gb2JzZXJ2aW5nIGNhbnZhcy5cbiAgICogQGNsYXNzIGZhYnJpYy5JVGV4dFxuICAgKiBAZXh0ZW5kcyBmYWJyaWMuVGV4dFxuICAgKiBAbWl4ZXMgZmFicmljLk9ic2VydmFibGVcbiAgICpcbiAgICogQGZpcmVzIGNoYW5nZWRcbiAgICogQGZpcmVzIHNlbGVjdGlvbjpjaGFuZ2VkXG4gICAqIEBmaXJlcyBlZGl0aW5nOmVudGVyZWRcbiAgICogQGZpcmVzIGVkaXRpbmc6ZXhpdGVkXG4gICAqXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JVGV4dH0gdGhpc0FyZ1xuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuSVRleHQjaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICpcbiAgICogPHA+U3VwcG9ydGVkIGtleSBjb21iaW5hdGlvbnM6PC9wPlxuICAgKiA8cHJlPlxuICAgKiAgIE1vdmUgY3Vyc29yOiAgICAgICAgICAgICAgICAgICAgbGVmdCwgcmlnaHQsIHVwLCBkb3duXG4gICAqICAgU2VsZWN0IGNoYXJhY3RlcjogICAgICAgICAgICAgICBzaGlmdCArIGxlZnQsIHNoaWZ0ICsgcmlnaHRcbiAgICogICBTZWxlY3QgdGV4dCB2ZXJ0aWNhbGx5OiAgICAgICAgIHNoaWZ0ICsgdXAsIHNoaWZ0ICsgZG93blxuICAgKiAgIE1vdmUgY3Vyc29yIGJ5IHdvcmQ6ICAgICAgICAgICAgYWx0ICsgbGVmdCwgYWx0ICsgcmlnaHRcbiAgICogICBTZWxlY3Qgd29yZHM6ICAgICAgICAgICAgICAgICAgIHNoaWZ0ICsgYWx0ICsgbGVmdCwgc2hpZnQgKyBhbHQgKyByaWdodFxuICAgKiAgIE1vdmUgY3Vyc29yIHRvIGxpbmUgc3RhcnQvZW5kOiAgY21kICsgbGVmdCwgY21kICsgcmlnaHQgb3IgaG9tZSwgZW5kXG4gICAqICAgU2VsZWN0IHRpbGwgc3RhcnQvZW5kIG9mIGxpbmU6ICBjbWQgKyBzaGlmdCArIGxlZnQsIGNtZCArIHNoaWZ0ICsgcmlnaHQgb3Igc2hpZnQgKyBob21lLCBzaGlmdCArIGVuZFxuICAgKiAgIEp1bXAgdG8gc3RhcnQvZW5kIG9mIHRleHQ6ICAgICAgY21kICsgdXAsIGNtZCArIGRvd25cbiAgICogICBTZWxlY3QgdGlsbCBzdGFydC9lbmQgb2YgdGV4dDogIGNtZCArIHNoaWZ0ICsgdXAsIGNtZCArIHNoaWZ0ICsgZG93biBvciBzaGlmdCArIHBnVXAsIHNoaWZ0ICsgcGdEb3duXG4gICAqICAgRGVsZXRlIGNoYXJhY3RlcjogICAgICAgICAgICAgICBiYWNrc3BhY2VcbiAgICogICBEZWxldGUgd29yZDogICAgICAgICAgICAgICAgICAgIGFsdCArIGJhY2tzcGFjZVxuICAgKiAgIERlbGV0ZSBsaW5lOiAgICAgICAgICAgICAgICAgICAgY21kICsgYmFja3NwYWNlXG4gICAqICAgRm9yd2FyZCBkZWxldGU6ICAgICAgICAgICAgICAgICBkZWxldGVcbiAgICogICBDb3B5IHRleHQ6ICAgICAgICAgICAgICAgICAgICAgIGN0cmwvY21kICsgY1xuICAgKiAgIFBhc3RlIHRleHQ6ICAgICAgICAgICAgICAgICAgICAgY3RybC9jbWQgKyB2XG4gICAqICAgQ3V0IHRleHQ6ICAgICAgICAgICAgICAgICAgICAgICBjdHJsL2NtZCArIHhcbiAgICogICBTZWxlY3QgZW50aXJlIHRleHQ6ICAgICAgICAgICAgIGN0cmwvY21kICsgYVxuICAgKiAgIFF1aXQgZWRpdGluZyAgICAgICAgICAgICAgICAgICAgdGFiIG9yIGVzY1xuICAgKiA8L3ByZT5cbiAgICpcbiAgICogPHA+U3VwcG9ydGVkIG1vdXNlL3RvdWNoIGNvbWJpbmF0aW9uPC9wPlxuICAgKiA8cHJlPlxuICAgKiAgIFBvc2l0aW9uIGN1cnNvcjogICAgICAgICAgICAgICAgY2xpY2svdG91Y2hcbiAgICogICBDcmVhdGUgc2VsZWN0aW9uOiAgICAgICAgICAgICAgIGNsaWNrL3RvdWNoICYgZHJhZ1xuICAgKiAgIENyZWF0ZSBzZWxlY3Rpb246ICAgICAgICAgICAgICAgY2xpY2sgJiBzaGlmdCArIGNsaWNrXG4gICAqICAgU2VsZWN0IHdvcmQ6ICAgICAgICAgICAgICAgICAgICBkb3VibGUgY2xpY2tcbiAgICogICBTZWxlY3QgbGluZTogICAgICAgICAgICAgICAgICAgIHRyaXBsZSBjbGlja1xuICAgKiA8L3ByZT5cbiAgICovXG4gIGZhYnJpYy5JVGV4dCA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzKGZhYnJpYy5UZXh0LCBmYWJyaWMuT2JzZXJ2YWJsZSwgLyoqIEBsZW5kcyBmYWJyaWMuSVRleHQucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIFR5cGUgb2YgYW4gb2JqZWN0XG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0eXBlOiAnaS10ZXh0JyxcblxuICAgIC8qKlxuICAgICAqIEluZGV4IHdoZXJlIHRleHQgc2VsZWN0aW9uIHN0YXJ0cyAob3Igd2hlcmUgY3Vyc29yIGlzIHdoZW4gdGhlcmUgaXMgbm8gc2VsZWN0aW9uKVxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc2VsZWN0aW9uU3RhcnQ6IDAsXG5cbiAgICAvKipcbiAgICAgKiBJbmRleCB3aGVyZSB0ZXh0IHNlbGVjdGlvbiBlbmRzXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzZWxlY3Rpb25FbmQ6IDAsXG5cbiAgICAvKipcbiAgICAgKiBDb2xvciBvZiB0ZXh0IHNlbGVjdGlvblxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc2VsZWN0aW9uQ29sb3I6ICdyZ2JhKDE3LDExOSwyNTUsMC4zKScsXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0ZXh0IGlzIGluIGVkaXRpbmcgbW9kZVxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGlzRWRpdGluZzogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciBhIHRleHQgY2FuIGJlIGVkaXRlZFxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGVkaXRhYmxlOiB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogQm9yZGVyIGNvbG9yIG9mIHRleHQgb2JqZWN0IHdoaWxlIGl0J3MgaW4gZWRpdGluZyBtb2RlXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBlZGl0aW5nQm9yZGVyQ29sb3I6ICdyZ2JhKDEwMiwxNTMsMjU1LDAuMjUpJyxcblxuICAgIC8qKlxuICAgICAqIFdpZHRoIG9mIGN1cnNvciAoaW4gcHgpXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBjdXJzb3JXaWR0aDogMixcblxuICAgIC8qKlxuICAgICAqIENvbG9yIG9mIHRleHQgY3Vyc29yIGNvbG9yIGluIGVkaXRpbmcgbW9kZS5cbiAgICAgKiBpZiBub3Qgc2V0IChkZWZhdWx0KSB3aWxsIHRha2UgY29sb3IgZnJvbSB0aGUgdGV4dC5cbiAgICAgKiBpZiBzZXQgdG8gYSBjb2xvciB2YWx1ZSB0aGF0IGZhYnJpYyBjYW4gdW5kZXJzdGFuZCwgaXQgd2lsbFxuICAgICAqIGJlIHVzZWQgaW5zdGVhZCBvZiB0aGUgY29sb3Igb2YgdGhlIHRleHQgYXQgdGhlIGN1cnJlbnQgcG9zaXRpb24uXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBjdXJzb3JDb2xvcjogJycsXG5cbiAgICAvKipcbiAgICAgKiBEZWxheSBiZXR3ZWVuIGN1cnNvciBibGluayAoaW4gbXMpXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBjdXJzb3JEZWxheTogMTAwMCxcblxuICAgIC8qKlxuICAgICAqIER1cmF0aW9uIG9mIGN1cnNvciBmYWRlaW4gKGluIG1zKVxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgY3Vyc29yRHVyYXRpb246IDYwMCxcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIGludGVybmFsIHRleHQgY2hhciB3aWR0aHMgY2FuIGJlIGNhY2hlZFxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGNhY2hpbmc6IHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBET00gY29udGFpbmVyIHRvIGFwcGVuZCB0aGUgaGlkZGVuVGV4dGFyZWEuXG4gICAgICogQW4gYWx0ZXJuYXRpdmUgdG8gYXR0YWNoaW5nIHRvIHRoZSBkb2N1bWVudC5ib2R5LlxuICAgICAqIFVzZWZ1bCB0byByZWR1Y2UgbGFnZ2lzaCByZWRyYXcgb2YgdGhlIGZ1bGwgZG9jdW1lbnQuYm9keSB0cmVlIGFuZFxuICAgICAqIGFsc28gd2l0aCBtb2RhbHMgZXZlbnQgY2FwdHVyaW5nIHRoYXQgd29uJ3QgbGV0IHRoZSB0ZXh0YXJlYSB0YWtlIGZvY3VzLlxuICAgICAqIEB0eXBlIEhUTUxFbGVtZW50XG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBoaWRkZW5UZXh0YXJlYUNvbnRhaW5lcjogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3JlU3BhY2U6IC9cXHN8XFxuLyxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2N1cnJlbnRDdXJzb3JPcGFjaXR5OiAwLFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2VsZWN0aW9uRGlyZWN0aW9uOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfYWJvcnRDdXJzb3JBbmltYXRpb246IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfX3dpZHRoT2ZTcGFjZTogW10sXG5cbiAgICAvKipcbiAgICAgKiBIZWxwcyBkZXRlcm1pbmluZyB3aGVuIHRoZSB0ZXh0IGlzIGluIGNvbXBvc2l0aW9uLCBzbyB0aGF0IHRoZSBjdXJzb3JcbiAgICAgKiByZW5kZXJpbmcgaXMgYWx0ZXJlZC5cbiAgICAgKi9cbiAgICBpbkNvbXBvc2l0aW9uTW9kZTogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0IFRleHQgc3RyaW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5JVGV4dH0gdGhpc0FyZ1xuICAgICAqL1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKHRleHQsIG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuY2FsbFN1cGVyKCdpbml0aWFsaXplJywgdGV4dCwgb3B0aW9ucyk7XG4gICAgICB0aGlzLmluaXRCZWhhdmlvcigpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHNlbGVjdGlvbiBzdGFydCAobGVmdCBib3VuZGFyeSBvZiBhIHNlbGVjdGlvbilcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gaW5kZXggSW5kZXggdG8gc2V0IHNlbGVjdGlvbiBzdGFydCB0b1xuICAgICAqL1xuICAgIHNldFNlbGVjdGlvblN0YXJ0OiBmdW5jdGlvbihpbmRleCkge1xuICAgICAgaW5kZXggPSBNYXRoLm1heChpbmRleCwgMCk7XG4gICAgICB0aGlzLl91cGRhdGVBbmRGaXJlKCdzZWxlY3Rpb25TdGFydCcsIGluZGV4KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyBzZWxlY3Rpb24gZW5kIChyaWdodCBib3VuZGFyeSBvZiBhIHNlbGVjdGlvbilcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gaW5kZXggSW5kZXggdG8gc2V0IHNlbGVjdGlvbiBlbmQgdG9cbiAgICAgKi9cbiAgICBzZXRTZWxlY3Rpb25FbmQ6IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICBpbmRleCA9IE1hdGgubWluKGluZGV4LCB0aGlzLnRleHQubGVuZ3RoKTtcbiAgICAgIHRoaXMuX3VwZGF0ZUFuZEZpcmUoJ3NlbGVjdGlvbkVuZCcsIGluZGV4KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydHkgJ3NlbGVjdGlvblN0YXJ0JyBvciAnc2VsZWN0aW9uRW5kJ1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBpbmRleCBuZXcgcG9zaXRpb24gb2YgcHJvcGVydHlcbiAgICAgKi9cbiAgICBfdXBkYXRlQW5kRmlyZTogZnVuY3Rpb24ocHJvcGVydHksIGluZGV4KSB7XG4gICAgICBpZiAodGhpc1twcm9wZXJ0eV0gIT09IGluZGV4KSB7XG4gICAgICAgIHRoaXMuX2ZpcmVTZWxlY3Rpb25DaGFuZ2VkKCk7XG4gICAgICAgIHRoaXNbcHJvcGVydHldID0gaW5kZXg7XG4gICAgICB9XG4gICAgICB0aGlzLl91cGRhdGVUZXh0YXJlYSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBGaXJlcyB0aGUgZXZlbiBvZiBzZWxlY3Rpb24gY2hhbmdlZFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2ZpcmVTZWxlY3Rpb25DaGFuZ2VkOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuZmlyZSgnc2VsZWN0aW9uOmNoYW5nZWQnKTtcbiAgICAgIHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLmZpcmUoJ3RleHQ6c2VsZWN0aW9uOmNoYW5nZWQnLCB7IHRhcmdldDogdGhpcyB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSB0ZXh0IGRpbWVuc2lvbnMuIFJlbmRlciBhbGwgdGV4dCBvbiBnaXZlbiBjb250ZXh0XG4gICAgICogb3Igb24gYSBvZmZzY3JlZW4gY2FudmFzIHRvIGdldCB0aGUgdGV4dCB3aWR0aCB3aXRoIG1lYXN1cmVUZXh0LlxuICAgICAqIFVwZGF0ZXMgdGhpcy53aWR0aCBhbmQgdGhpcy5oZWlnaHQgd2l0aCB0aGUgcHJvcGVyIHZhbHVlcy5cbiAgICAgKiBEb2VzIG5vdCByZXR1cm4gZGltZW5zaW9ucy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGluaXREaW1lbnNpb25zOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuaXNFZGl0aW5nICYmIHRoaXMuaW5pdERlbGF5ZWRDdXJzb3IoKTtcbiAgICAgIHRoaXMuY2xlYXJDb250ZXh0VG9wKCk7XG4gICAgICB0aGlzLmNhbGxTdXBlcignaW5pdERpbWVuc2lvbnMnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgcmVuZGVyOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIHRoaXMuY2xlYXJDb250ZXh0VG9wKCk7XG4gICAgICB0aGlzLmNhbGxTdXBlcigncmVuZGVyJywgY3R4KTtcbiAgICAgIC8vIGNsZWFyIHRoZSBjdXJzb3JPZmZzZXRDYWNoZSwgc28gd2UgZW5zdXJlIHRvIGNhbGN1bGF0ZSBvbmNlIHBlciByZW5kZXJDdXJzb3JcbiAgICAgIC8vIHRoZSBjb3JyZWN0IHBvc2l0aW9uIGJ1dCBub3QgYXQgZXZlcnkgY3Vyc29yIGFuaW1hdGlvbi5cbiAgICAgIHRoaXMuY3Vyc29yT2Zmc2V0Q2FjaGUgPSB7IH07XG4gICAgICB0aGlzLnJlbmRlckN1cnNvck9yU2VsZWN0aW9uKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIF9yZW5kZXI6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgdGhpcy5jYWxsU3VwZXIoJ19yZW5kZXInLCBjdHgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQcmVwYXJlIGFuZCBjbGVhbiB0aGUgY29udGV4dFRvcFxuICAgICAqL1xuICAgIGNsZWFyQ29udGV4dFRvcDogZnVuY3Rpb24oc2tpcFJlc3RvcmUpIHtcbiAgICAgIGlmICghdGhpcy5pc0VkaXRpbmcgfHwgIXRoaXMuY2FudmFzIHx8ICF0aGlzLmNhbnZhcy5jb250ZXh0VG9wKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBjdHggPSB0aGlzLmNhbnZhcy5jb250ZXh0VG9wLCB2ID0gdGhpcy5jYW52YXMudmlld3BvcnRUcmFuc2Zvcm07XG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgY3R4LnRyYW5zZm9ybSh2WzBdLCB2WzFdLCB2WzJdLCB2WzNdLCB2WzRdLCB2WzVdKTtcbiAgICAgIHRoaXMudHJhbnNmb3JtKGN0eCk7XG4gICAgICB0aGlzLl9jbGVhclRleHRBcmVhKGN0eCk7XG4gICAgICBza2lwUmVzdG9yZSB8fCBjdHgucmVzdG9yZSgpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogUmVuZGVycyBjdXJzb3Igb3Igc2VsZWN0aW9uIChkZXBlbmRpbmcgb24gd2hhdCBleGlzdHMpXG4gICAgICogaXQgZG9lcyBvbiB0aGUgY29udGV4dFRvcC4gSWYgY29udGV4dFRvcCBpcyBub3QgYXZhaWxhYmxlLCBkbyBub3RoaW5nLlxuICAgICAqL1xuICAgIHJlbmRlckN1cnNvck9yU2VsZWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICghdGhpcy5pc0VkaXRpbmcgfHwgIXRoaXMuY2FudmFzIHx8ICF0aGlzLmNhbnZhcy5jb250ZXh0VG9wKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBib3VuZGFyaWVzID0gdGhpcy5fZ2V0Q3Vyc29yQm91bmRhcmllcygpLFxuICAgICAgICAgIGN0eCA9IHRoaXMuY2FudmFzLmNvbnRleHRUb3A7XG4gICAgICB0aGlzLmNsZWFyQ29udGV4dFRvcCh0cnVlKTtcbiAgICAgIGlmICh0aGlzLnNlbGVjdGlvblN0YXJ0ID09PSB0aGlzLnNlbGVjdGlvbkVuZCkge1xuICAgICAgICB0aGlzLnJlbmRlckN1cnNvcihib3VuZGFyaWVzLCBjdHgpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMucmVuZGVyU2VsZWN0aW9uKGJvdW5kYXJpZXMsIGN0eCk7XG4gICAgICB9XG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH0sXG5cbiAgICBfY2xlYXJUZXh0QXJlYTogZnVuY3Rpb24oY3R4KSB7XG4gICAgICAvLyB3ZSBhZGQgNCBwaXhlbCwgdG8gYmUgc3VyZSB0byBkbyBub3QgbGVhdmUgYW55IHBpeGVsIG91dFxuICAgICAgdmFyIHdpZHRoID0gdGhpcy53aWR0aCArIDQsIGhlaWdodCA9IHRoaXMuaGVpZ2h0ICsgNDtcbiAgICAgIGN0eC5jbGVhclJlY3QoLXdpZHRoIC8gMiwgLWhlaWdodCAvIDIsIHdpZHRoLCBoZWlnaHQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGN1cnNvciBib3VuZGFyaWVzIChsZWZ0LCB0b3AsIGxlZnRPZmZzZXQsIHRvcE9mZnNldClcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGNoYXJzIEFycmF5IG9mIGNoYXJhY3RlcnNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZU9mQm91bmRhcmllc1xuICAgICAqL1xuICAgIF9nZXRDdXJzb3JCb3VuZGFyaWVzOiBmdW5jdGlvbihwb3NpdGlvbikge1xuXG4gICAgICAvLyBsZWZ0L3RvcCBhcmUgbGVmdC90b3Agb2YgZW50aXJlIHRleHQgYm94XG4gICAgICAvLyBsZWZ0T2Zmc2V0L3RvcE9mZnNldCBhcmUgb2Zmc2V0IGZyb20gdGhhdCBsZWZ0L3RvcCBwb2ludCBvZiBhIHRleHQgYm94XG5cbiAgICAgIGlmICh0eXBlb2YgcG9zaXRpb24gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHBvc2l0aW9uID0gdGhpcy5zZWxlY3Rpb25TdGFydDtcbiAgICAgIH1cblxuICAgICAgdmFyIGxlZnQgPSB0aGlzLl9nZXRMZWZ0T2Zmc2V0KCksXG4gICAgICAgICAgdG9wID0gdGhpcy5fZ2V0VG9wT2Zmc2V0KCksXG4gICAgICAgICAgb2Zmc2V0cyA9IHRoaXMuX2dldEN1cnNvckJvdW5kYXJpZXNPZmZzZXRzKHBvc2l0aW9uKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICAgIHRvcDogdG9wLFxuICAgICAgICBsZWZ0T2Zmc2V0OiBvZmZzZXRzLmxlZnQsXG4gICAgICAgIHRvcE9mZnNldDogb2Zmc2V0cy50b3BcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2dldEN1cnNvckJvdW5kYXJpZXNPZmZzZXRzOiBmdW5jdGlvbihwb3NpdGlvbikge1xuICAgICAgaWYgKHRoaXMuY3Vyc29yT2Zmc2V0Q2FjaGUgJiYgJ3RvcCcgaW4gdGhpcy5jdXJzb3JPZmZzZXRDYWNoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJzb3JPZmZzZXRDYWNoZTtcbiAgICAgIH1cbiAgICAgIHZhciBsaW5lTGVmdE9mZnNldCxcbiAgICAgICAgICBsaW5lSW5kZXgsXG4gICAgICAgICAgY2hhckluZGV4LFxuICAgICAgICAgIHRvcE9mZnNldCA9IDAsXG4gICAgICAgICAgbGVmdE9mZnNldCA9IDAsXG4gICAgICAgICAgYm91bmRhcmllcyxcbiAgICAgICAgICBjdXJzb3JQb3NpdGlvbiA9IHRoaXMuZ2V0MkRDdXJzb3JMb2NhdGlvbihwb3NpdGlvbik7XG4gICAgICBjaGFySW5kZXggPSBjdXJzb3JQb3NpdGlvbi5jaGFySW5kZXg7XG4gICAgICBsaW5lSW5kZXggPSBjdXJzb3JQb3NpdGlvbi5saW5lSW5kZXg7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVJbmRleDsgaSsrKSB7XG4gICAgICAgIHRvcE9mZnNldCArPSB0aGlzLmdldEhlaWdodE9mTGluZShpKTtcbiAgICAgIH1cbiAgICAgIGxpbmVMZWZ0T2Zmc2V0ID0gdGhpcy5fZ2V0TGluZUxlZnRPZmZzZXQobGluZUluZGV4KTtcbiAgICAgIHZhciBib3VuZCA9IHRoaXMuX19jaGFyQm91bmRzW2xpbmVJbmRleF1bY2hhckluZGV4XTtcbiAgICAgIGJvdW5kICYmIChsZWZ0T2Zmc2V0ID0gYm91bmQubGVmdCk7XG4gICAgICBpZiAodGhpcy5jaGFyU3BhY2luZyAhPT0gMCAmJiBjaGFySW5kZXggPT09IHRoaXMuX3RleHRMaW5lc1tsaW5lSW5kZXhdLmxlbmd0aCkge1xuICAgICAgICBsZWZ0T2Zmc2V0IC09IHRoaXMuX2dldFdpZHRoT2ZDaGFyU3BhY2luZygpO1xuICAgICAgfVxuICAgICAgYm91bmRhcmllcyA9IHtcbiAgICAgICAgdG9wOiB0b3BPZmZzZXQsXG4gICAgICAgIGxlZnQ6IGxpbmVMZWZ0T2Zmc2V0ICsgKGxlZnRPZmZzZXQgPiAwID8gbGVmdE9mZnNldCA6IDApLFxuICAgICAgfTtcbiAgICAgIGlmICh0aGlzLmRpcmVjdGlvbiA9PT0gJ3J0bCcpIHtcbiAgICAgICAgYm91bmRhcmllcy5sZWZ0ICo9IC0xO1xuICAgICAgfVxuICAgICAgdGhpcy5jdXJzb3JPZmZzZXRDYWNoZSA9IGJvdW5kYXJpZXM7XG4gICAgICByZXR1cm4gdGhpcy5jdXJzb3JPZmZzZXRDYWNoZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyBjdXJzb3JcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYm91bmRhcmllc1xuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggdHJhbnNmb3JtZWQgY29udGV4dCB0byBkcmF3IG9uXG4gICAgICovXG4gICAgcmVuZGVyQ3Vyc29yOiBmdW5jdGlvbihib3VuZGFyaWVzLCBjdHgpIHtcbiAgICAgIHZhciBjdXJzb3JMb2NhdGlvbiA9IHRoaXMuZ2V0MkRDdXJzb3JMb2NhdGlvbigpLFxuICAgICAgICAgIGxpbmVJbmRleCA9IGN1cnNvckxvY2F0aW9uLmxpbmVJbmRleCxcbiAgICAgICAgICBjaGFySW5kZXggPSBjdXJzb3JMb2NhdGlvbi5jaGFySW5kZXggPiAwID8gY3Vyc29yTG9jYXRpb24uY2hhckluZGV4IC0gMSA6IDAsXG4gICAgICAgICAgY2hhckhlaWdodCA9IHRoaXMuZ2V0VmFsdWVPZlByb3BlcnR5QXQobGluZUluZGV4LCBjaGFySW5kZXgsICdmb250U2l6ZScpLFxuICAgICAgICAgIG11bHRpcGxpZXIgPSB0aGlzLnNjYWxlWCAqIHRoaXMuY2FudmFzLmdldFpvb20oKSxcbiAgICAgICAgICBjdXJzb3JXaWR0aCA9IHRoaXMuY3Vyc29yV2lkdGggLyBtdWx0aXBsaWVyLFxuICAgICAgICAgIHRvcE9mZnNldCA9IGJvdW5kYXJpZXMudG9wT2Zmc2V0LFxuICAgICAgICAgIGR5ID0gdGhpcy5nZXRWYWx1ZU9mUHJvcGVydHlBdChsaW5lSW5kZXgsIGNoYXJJbmRleCwgJ2RlbHRhWScpO1xuICAgICAgdG9wT2Zmc2V0ICs9ICgxIC0gdGhpcy5fZm9udFNpemVGcmFjdGlvbikgKiB0aGlzLmdldEhlaWdodE9mTGluZShsaW5lSW5kZXgpIC8gdGhpcy5saW5lSGVpZ2h0XG4gICAgICAgIC0gY2hhckhlaWdodCAqICgxIC0gdGhpcy5fZm9udFNpemVGcmFjdGlvbik7XG5cbiAgICAgIGlmICh0aGlzLmluQ29tcG9zaXRpb25Nb2RlKSB7XG4gICAgICAgIHRoaXMucmVuZGVyU2VsZWN0aW9uKGJvdW5kYXJpZXMsIGN0eCk7XG4gICAgICB9XG4gICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5jdXJzb3JDb2xvciB8fCB0aGlzLmdldFZhbHVlT2ZQcm9wZXJ0eUF0KGxpbmVJbmRleCwgY2hhckluZGV4LCAnZmlsbCcpO1xuICAgICAgY3R4Lmdsb2JhbEFscGhhID0gdGhpcy5fX2lzTW91c2Vkb3duID8gMSA6IHRoaXMuX2N1cnJlbnRDdXJzb3JPcGFjaXR5O1xuICAgICAgY3R4LmZpbGxSZWN0KFxuICAgICAgICBib3VuZGFyaWVzLmxlZnQgKyBib3VuZGFyaWVzLmxlZnRPZmZzZXQgLSBjdXJzb3JXaWR0aCAvIDIsXG4gICAgICAgIHRvcE9mZnNldCArIGJvdW5kYXJpZXMudG9wICsgZHksXG4gICAgICAgIGN1cnNvcldpZHRoLFxuICAgICAgICBjaGFySGVpZ2h0KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0ZXh0IHNlbGVjdGlvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBib3VuZGFyaWVzIE9iamVjdCB3aXRoIGxlZnQvdG9wL2xlZnRPZmZzZXQvdG9wT2Zmc2V0XG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCB0cmFuc2Zvcm1lZCBjb250ZXh0IHRvIGRyYXcgb25cbiAgICAgKi9cbiAgICByZW5kZXJTZWxlY3Rpb246IGZ1bmN0aW9uKGJvdW5kYXJpZXMsIGN0eCkge1xuXG4gICAgICB2YXIgc2VsZWN0aW9uU3RhcnQgPSB0aGlzLmluQ29tcG9zaXRpb25Nb2RlID8gdGhpcy5oaWRkZW5UZXh0YXJlYS5zZWxlY3Rpb25TdGFydCA6IHRoaXMuc2VsZWN0aW9uU3RhcnQsXG4gICAgICAgICAgc2VsZWN0aW9uRW5kID0gdGhpcy5pbkNvbXBvc2l0aW9uTW9kZSA/IHRoaXMuaGlkZGVuVGV4dGFyZWEuc2VsZWN0aW9uRW5kIDogdGhpcy5zZWxlY3Rpb25FbmQsXG4gICAgICAgICAgaXNKdXN0aWZ5ID0gdGhpcy50ZXh0QWxpZ24uaW5kZXhPZignanVzdGlmeScpICE9PSAtMSxcbiAgICAgICAgICBzdGFydCA9IHRoaXMuZ2V0MkRDdXJzb3JMb2NhdGlvbihzZWxlY3Rpb25TdGFydCksXG4gICAgICAgICAgZW5kID0gdGhpcy5nZXQyREN1cnNvckxvY2F0aW9uKHNlbGVjdGlvbkVuZCksXG4gICAgICAgICAgc3RhcnRMaW5lID0gc3RhcnQubGluZUluZGV4LFxuICAgICAgICAgIGVuZExpbmUgPSBlbmQubGluZUluZGV4LFxuICAgICAgICAgIHN0YXJ0Q2hhciA9IHN0YXJ0LmNoYXJJbmRleCA8IDAgPyAwIDogc3RhcnQuY2hhckluZGV4LFxuICAgICAgICAgIGVuZENoYXIgPSBlbmQuY2hhckluZGV4IDwgMCA/IDAgOiBlbmQuY2hhckluZGV4O1xuXG4gICAgICBmb3IgKHZhciBpID0gc3RhcnRMaW5lOyBpIDw9IGVuZExpbmU7IGkrKykge1xuICAgICAgICB2YXIgbGluZU9mZnNldCA9IHRoaXMuX2dldExpbmVMZWZ0T2Zmc2V0KGkpIHx8IDAsXG4gICAgICAgICAgICBsaW5lSGVpZ2h0ID0gdGhpcy5nZXRIZWlnaHRPZkxpbmUoaSksXG4gICAgICAgICAgICByZWFsTGluZUhlaWdodCA9IDAsIGJveFN0YXJ0ID0gMCwgYm94RW5kID0gMDtcblxuICAgICAgICBpZiAoaSA9PT0gc3RhcnRMaW5lKSB7XG4gICAgICAgICAgYm94U3RhcnQgPSB0aGlzLl9fY2hhckJvdW5kc1tzdGFydExpbmVdW3N0YXJ0Q2hhcl0ubGVmdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA+PSBzdGFydExpbmUgJiYgaSA8IGVuZExpbmUpIHtcbiAgICAgICAgICBib3hFbmQgPSBpc0p1c3RpZnkgJiYgIXRoaXMuaXNFbmRPZldyYXBwaW5nKGkpID8gdGhpcy53aWR0aCA6IHRoaXMuZ2V0TGluZVdpZHRoKGkpIHx8IDU7IC8vIFdURiBpcyB0aGlzIDU/XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaSA9PT0gZW5kTGluZSkge1xuICAgICAgICAgIGlmIChlbmRDaGFyID09PSAwKSB7XG4gICAgICAgICAgICBib3hFbmQgPSB0aGlzLl9fY2hhckJvdW5kc1tlbmRMaW5lXVtlbmRDaGFyXS5sZWZ0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBjaGFyU3BhY2luZyA9IHRoaXMuX2dldFdpZHRoT2ZDaGFyU3BhY2luZygpO1xuICAgICAgICAgICAgYm94RW5kID0gdGhpcy5fX2NoYXJCb3VuZHNbZW5kTGluZV1bZW5kQ2hhciAtIDFdLmxlZnRcbiAgICAgICAgICAgICAgKyB0aGlzLl9fY2hhckJvdW5kc1tlbmRMaW5lXVtlbmRDaGFyIC0gMV0ud2lkdGggLSBjaGFyU3BhY2luZztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVhbExpbmVIZWlnaHQgPSBsaW5lSGVpZ2h0O1xuICAgICAgICBpZiAodGhpcy5saW5lSGVpZ2h0IDwgMSB8fCAoaSA9PT0gZW5kTGluZSAmJiB0aGlzLmxpbmVIZWlnaHQgPiAxKSkge1xuICAgICAgICAgIGxpbmVIZWlnaHQgLz0gdGhpcy5saW5lSGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIHZhciBkcmF3U3RhcnQgPSBib3VuZGFyaWVzLmxlZnQgKyBsaW5lT2Zmc2V0ICsgYm94U3RhcnQsXG4gICAgICAgICAgICBkcmF3V2lkdGggPSBib3hFbmQgLSBib3hTdGFydCxcbiAgICAgICAgICAgIGRyYXdIZWlnaHQgPSBsaW5lSGVpZ2h0LCBleHRyYVRvcCA9IDA7XG4gICAgICAgIGlmICh0aGlzLmluQ29tcG9zaXRpb25Nb2RlKSB7XG4gICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuY29tcG9zaXRpb25Db2xvciB8fCAnYmxhY2snO1xuICAgICAgICAgIGRyYXdIZWlnaHQgPSAxO1xuICAgICAgICAgIGV4dHJhVG9wID0gbGluZUhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5zZWxlY3Rpb25Db2xvcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kaXJlY3Rpb24gPT09ICdydGwnKSB7XG4gICAgICAgICAgZHJhd1N0YXJ0ID0gdGhpcy53aWR0aCAtIGRyYXdTdGFydCAtIGRyYXdXaWR0aDtcbiAgICAgICAgfVxuICAgICAgICBjdHguZmlsbFJlY3QoXG4gICAgICAgICAgZHJhd1N0YXJ0LFxuICAgICAgICAgIGJvdW5kYXJpZXMudG9wICsgYm91bmRhcmllcy50b3BPZmZzZXQgKyBleHRyYVRvcCxcbiAgICAgICAgICBkcmF3V2lkdGgsXG4gICAgICAgICAgZHJhd0hlaWdodCk7XG4gICAgICAgIGJvdW5kYXJpZXMudG9wT2Zmc2V0ICs9IHJlYWxMaW5lSGVpZ2h0O1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBIaWdoIGxldmVsIGZ1bmN0aW9uIHRvIGtub3cgdGhlIGhlaWdodCBvZiB0aGUgY3Vyc29yLlxuICAgICAqIHRoZSBjdXJyZW50Q2hhciBpcyB0aGUgb25lIHRoYXQgcHJlY2VkZXMgdGhlIGN1cnNvclxuICAgICAqIFJldHVybnMgZm9udFNpemUgb2YgY2hhciBhdCB0aGUgY3VycmVudCBjdXJzb3JcbiAgICAgKiBVbnVzZWQgZnJvbSB0aGUgbGlicmFyeSwgaXMgZm9yIHRoZSBlbmQgdXNlclxuICAgICAqIEByZXR1cm4ge051bWJlcn0gQ2hhcmFjdGVyIGZvbnQgc2l6ZVxuICAgICAqL1xuICAgIGdldEN1cnJlbnRDaGFyRm9udFNpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGNwID0gdGhpcy5fZ2V0Q3VycmVudENoYXJJbmRleCgpO1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0VmFsdWVPZlByb3BlcnR5QXQoY3AubCwgY3AuYywgJ2ZvbnRTaXplJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEhpZ2ggbGV2ZWwgZnVuY3Rpb24gdG8ga25vdyB0aGUgY29sb3Igb2YgdGhlIGN1cnNvci5cbiAgICAgKiB0aGUgY3VycmVudENoYXIgaXMgdGhlIG9uZSB0aGF0IHByZWNlZGVzIHRoZSBjdXJzb3JcbiAgICAgKiBSZXR1cm5zIGNvbG9yIChmaWxsKSBvZiBjaGFyIGF0IHRoZSBjdXJyZW50IGN1cnNvclxuICAgICAqIGlmIHRoZSB0ZXh0IG9iamVjdCBoYXMgYSBwYXR0ZXJuIG9yIGdyYWRpZW50IGZvciBmaWxsZXIsIGl0IHdpbGwgcmV0dXJuIHRoYXQuXG4gICAgICogVW51c2VkIGJ5IHRoZSBsaWJyYXJ5LCBpcyBmb3IgdGhlIGVuZCB1c2VyXG4gICAgICogQHJldHVybiB7U3RyaW5nIHwgZmFicmljLkdyYWRpZW50IHwgZmFicmljLlBhdHRlcm59IENoYXJhY3RlciBjb2xvciAoZmlsbClcbiAgICAgKi9cbiAgICBnZXRDdXJyZW50Q2hhckNvbG9yOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjcCA9IHRoaXMuX2dldEN1cnJlbnRDaGFySW5kZXgoKTtcbiAgICAgIHJldHVybiB0aGlzLmdldFZhbHVlT2ZQcm9wZXJ0eUF0KGNwLmwsIGNwLmMsICdmaWxsJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGN1cnNvciBwb3NpdGlvbiBmb3IgdGhlIGdldEN1cnJlbnQuLiBmdW5jdGlvbnNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZXRDdXJyZW50Q2hhckluZGV4OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjdXJzb3JQb3NpdGlvbiA9IHRoaXMuZ2V0MkRDdXJzb3JMb2NhdGlvbih0aGlzLnNlbGVjdGlvblN0YXJ0LCB0cnVlKSxcbiAgICAgICAgICBjaGFySW5kZXggPSBjdXJzb3JQb3NpdGlvbi5jaGFySW5kZXggPiAwID8gY3Vyc29yUG9zaXRpb24uY2hhckluZGV4IC0gMSA6IDA7XG4gICAgICByZXR1cm4geyBsOiBjdXJzb3JQb3NpdGlvbi5saW5lSW5kZXgsIGM6IGNoYXJJbmRleCB9O1xuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgZmFicmljLklUZXh0IGluc3RhbmNlIGZyb20gYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5JVGV4dFxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIGludm9rZWQgd2l0aCBuZXcgaW5zdGFuY2UgYXMgYXJndW1lbnRcbiAgICovXG4gIGZhYnJpYy5JVGV4dC5mcm9tT2JqZWN0ID0gZnVuY3Rpb24ob2JqZWN0LCBjYWxsYmFjaykge1xuICAgIHZhciBzdHlsZXMgPSBmYWJyaWMudXRpbC5zdHlsZXNGcm9tQXJyYXkob2JqZWN0LnN0eWxlcywgb2JqZWN0LnRleHQpO1xuICAgIC8vY29weSBvYmplY3QgdG8gcHJldmVudCBtdXRhdGlvblxuICAgIHZhciBvYmpDb3B5ID0gT2JqZWN0LmFzc2lnbih7fSwgb2JqZWN0LCB7IHN0eWxlczogc3R5bGVzIH0pO1xuICAgIHBhcnNlRGVjb3JhdGlvbihvYmpDb3B5KTtcbiAgICBpZiAob2JqQ29weS5zdHlsZXMpIHtcbiAgICAgIGZvciAodmFyIGkgaW4gb2JqQ29weS5zdHlsZXMpIHtcbiAgICAgICAgZm9yICh2YXIgaiBpbiBvYmpDb3B5LnN0eWxlc1tpXSkge1xuICAgICAgICAgIHBhcnNlRGVjb3JhdGlvbihvYmpDb3B5LnN0eWxlc1tpXVtqXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZmFicmljLk9iamVjdC5fZnJvbU9iamVjdCgnSVRleHQnLCBvYmpDb3B5LCBjYWxsYmFjaywgJ3RleHQnKTtcbiAgfTtcbn0pKCk7XG5cblxuKGZ1bmN0aW9uKCkge1xuXG4gIHZhciBjbG9uZSA9IGZhYnJpYy51dGlsLm9iamVjdC5jbG9uZTtcblxuICBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kKGZhYnJpYy5JVGV4dC5wcm90b3R5cGUsIC8qKiBAbGVuZHMgZmFicmljLklUZXh0LnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhbGwgdGhlIGludGVyYWN0aXZlIGJlaGF2aW9yIG9mIElUZXh0XG4gICAgICovXG4gICAgaW5pdEJlaGF2aW9yOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuaW5pdEFkZGVkSGFuZGxlcigpO1xuICAgICAgdGhpcy5pbml0UmVtb3ZlZEhhbmRsZXIoKTtcbiAgICAgIHRoaXMuaW5pdEN1cnNvclNlbGVjdGlvbkhhbmRsZXJzKCk7XG4gICAgICB0aGlzLmluaXREb3VibGVDbGlja1NpbXVsYXRpb24oKTtcbiAgICAgIHRoaXMubW91c2VNb3ZlSGFuZGxlciA9IHRoaXMubW91c2VNb3ZlSGFuZGxlci5iaW5kKHRoaXMpO1xuICAgIH0sXG5cbiAgICBvbkRlc2VsZWN0OiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuaXNFZGl0aW5nICYmIHRoaXMuZXhpdEVkaXRpbmcoKTtcbiAgICAgIHRoaXMuc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgXCJhZGRlZFwiIGV2ZW50IGhhbmRsZXJcbiAgICAgKi9cbiAgICBpbml0QWRkZWRIYW5kbGVyOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICB0aGlzLm9uKCdhZGRlZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgY2FudmFzID0gX3RoaXMuY2FudmFzO1xuICAgICAgICBpZiAoY2FudmFzKSB7XG4gICAgICAgICAgaWYgKCFjYW52YXMuX2hhc0lUZXh0SGFuZGxlcnMpIHtcbiAgICAgICAgICAgIGNhbnZhcy5faGFzSVRleHRIYW5kbGVycyA9IHRydWU7XG4gICAgICAgICAgICBfdGhpcy5faW5pdENhbnZhc0hhbmRsZXJzKGNhbnZhcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhbnZhcy5faVRleHRJbnN0YW5jZXMgPSBjYW52YXMuX2lUZXh0SW5zdGFuY2VzIHx8IFtdO1xuICAgICAgICAgIGNhbnZhcy5faVRleHRJbnN0YW5jZXMucHVzaChfdGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBpbml0UmVtb3ZlZEhhbmRsZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIHRoaXMub24oJ3JlbW92ZWQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGNhbnZhcyA9IF90aGlzLmNhbnZhcztcbiAgICAgICAgaWYgKGNhbnZhcykge1xuICAgICAgICAgIGNhbnZhcy5faVRleHRJbnN0YW5jZXMgPSBjYW52YXMuX2lUZXh0SW5zdGFuY2VzIHx8IFtdO1xuICAgICAgICAgIGZhYnJpYy51dGlsLnJlbW92ZUZyb21BcnJheShjYW52YXMuX2lUZXh0SW5zdGFuY2VzLCBfdGhpcyk7XG4gICAgICAgICAgaWYgKGNhbnZhcy5faVRleHRJbnN0YW5jZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjYW52YXMuX2hhc0lUZXh0SGFuZGxlcnMgPSBmYWxzZTtcbiAgICAgICAgICAgIF90aGlzLl9yZW1vdmVDYW52YXNIYW5kbGVycyhjYW52YXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJlZ2lzdGVyIGNhbnZhcyBldmVudCB0byBtYW5hZ2UgZXhpdGluZyBvbiBvdGhlciBpbnN0YW5jZXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pbml0Q2FudmFzSGFuZGxlcnM6IGZ1bmN0aW9uKGNhbnZhcykge1xuICAgICAgY2FudmFzLl9tb3VzZVVwSVRleHRIYW5kbGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChjYW52YXMuX2lUZXh0SW5zdGFuY2VzKSB7XG4gICAgICAgICAgY2FudmFzLl9pVGV4dEluc3RhbmNlcy5mb3JFYWNoKGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgICAgb2JqLl9faXNNb3VzZWRvd24gPSBmYWxzZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGNhbnZhcy5vbignbW91c2U6dXAnLCBjYW52YXMuX21vdXNlVXBJVGV4dEhhbmRsZXIpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiByZW1vdmUgY2FudmFzIGV2ZW50IHRvIG1hbmFnZSBleGl0aW5nIG9uIG90aGVyIGluc3RhbmNlc1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3JlbW92ZUNhbnZhc0hhbmRsZXJzOiBmdW5jdGlvbihjYW52YXMpIHtcbiAgICAgIGNhbnZhcy5vZmYoJ21vdXNlOnVwJywgY2FudmFzLl9tb3VzZVVwSVRleHRIYW5kbGVyKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfdGljazogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLl9jdXJyZW50VGlja1N0YXRlID0gdGhpcy5fYW5pbWF0ZUN1cnNvcih0aGlzLCAxLCB0aGlzLmN1cnNvckR1cmF0aW9uLCAnX29uVGlja0NvbXBsZXRlJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2FuaW1hdGVDdXJzb3I6IGZ1bmN0aW9uKG9iaiwgdGFyZ2V0T3BhY2l0eSwgZHVyYXRpb24sIGNvbXBsZXRlTWV0aG9kKSB7XG5cbiAgICAgIHZhciB0aWNrU3RhdGU7XG5cbiAgICAgIHRpY2tTdGF0ZSA9IHtcbiAgICAgICAgaXNBYm9ydGVkOiBmYWxzZSxcbiAgICAgICAgYWJvcnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHRoaXMuaXNBYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIG9iai5hbmltYXRlKCdfY3VycmVudEN1cnNvck9wYWNpdHknLCB0YXJnZXRPcGFjaXR5LCB7XG4gICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbixcbiAgICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKCF0aWNrU3RhdGUuaXNBYm9ydGVkKSB7XG4gICAgICAgICAgICBvYmpbY29tcGxldGVNZXRob2RdKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgLy8gd2UgZG8gbm90IHdhbnQgdG8gYW5pbWF0ZSBhIHNlbGVjdGlvbiwgb25seSBjdXJzb3JcbiAgICAgICAgICBpZiAob2JqLmNhbnZhcyAmJiBvYmouc2VsZWN0aW9uU3RhcnQgPT09IG9iai5zZWxlY3Rpb25FbmQpIHtcbiAgICAgICAgICAgIG9iai5yZW5kZXJDdXJzb3JPclNlbGVjdGlvbigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYWJvcnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiB0aWNrU3RhdGUuaXNBYm9ydGVkO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0aWNrU3RhdGU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX29uVGlja0NvbXBsZXRlOiBmdW5jdGlvbigpIHtcblxuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMuX2N1cnNvclRpbWVvdXQxKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9jdXJzb3JUaW1lb3V0MSk7XG4gICAgICB9XG4gICAgICB0aGlzLl9jdXJzb3JUaW1lb3V0MSA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIF90aGlzLl9jdXJyZW50VGlja0NvbXBsZXRlU3RhdGUgPSBfdGhpcy5fYW5pbWF0ZUN1cnNvcihfdGhpcywgMCwgdGhpcy5jdXJzb3JEdXJhdGlvbiAvIDIsICdfdGljaycpO1xuICAgICAgfSwgMTAwKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgZGVsYXllZCBjdXJzb3JcbiAgICAgKi9cbiAgICBpbml0RGVsYXllZEN1cnNvcjogZnVuY3Rpb24ocmVzdGFydCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcyxcbiAgICAgICAgICBkZWxheSA9IHJlc3RhcnQgPyAwIDogdGhpcy5jdXJzb3JEZWxheTtcblxuICAgICAgdGhpcy5hYm9ydEN1cnNvckFuaW1hdGlvbigpO1xuICAgICAgdGhpcy5fY3VycmVudEN1cnNvck9wYWNpdHkgPSAxO1xuICAgICAgdGhpcy5fY3Vyc29yVGltZW91dDIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBfdGhpcy5fdGljaygpO1xuICAgICAgfSwgZGVsYXkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBYm9ydHMgY3Vyc29yIGFuaW1hdGlvbiBhbmQgY2xlYXJzIGFsbCB0aW1lb3V0c1xuICAgICAqL1xuICAgIGFib3J0Q3Vyc29yQW5pbWF0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzaG91bGRDbGVhciA9IHRoaXMuX2N1cnJlbnRUaWNrU3RhdGUgfHwgdGhpcy5fY3VycmVudFRpY2tDb21wbGV0ZVN0YXRlLFxuICAgICAgICAgIGNhbnZhcyA9IHRoaXMuY2FudmFzO1xuICAgICAgdGhpcy5fY3VycmVudFRpY2tTdGF0ZSAmJiB0aGlzLl9jdXJyZW50VGlja1N0YXRlLmFib3J0KCk7XG4gICAgICB0aGlzLl9jdXJyZW50VGlja0NvbXBsZXRlU3RhdGUgJiYgdGhpcy5fY3VycmVudFRpY2tDb21wbGV0ZVN0YXRlLmFib3J0KCk7XG5cbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9jdXJzb3JUaW1lb3V0MSk7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5fY3Vyc29yVGltZW91dDIpO1xuXG4gICAgICB0aGlzLl9jdXJyZW50Q3Vyc29yT3BhY2l0eSA9IDA7XG4gICAgICAvLyB0byBjbGVhciBqdXN0IGl0ZXh0IGFyZWEgd2UgbmVlZCB0byB0cmFuc2Zvcm0gdGhlIGNvbnRleHRcbiAgICAgIC8vIGl0IG1heSBub3QgYmUgd29ydGggaXRcbiAgICAgIGlmIChzaG91bGRDbGVhciAmJiBjYW52YXMpIHtcbiAgICAgICAgY2FudmFzLmNsZWFyQ29udGV4dChjYW52YXMuY29udGV4dFRvcCB8fCBjYW52YXMuY29udGV4dENvbnRhaW5lcik7XG4gICAgICB9XG5cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2VsZWN0cyBlbnRpcmUgdGV4dFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5JVGV4dH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzZWxlY3RBbGw6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5zZWxlY3Rpb25TdGFydCA9IDA7XG4gICAgICB0aGlzLnNlbGVjdGlvbkVuZCA9IHRoaXMuX3RleHQubGVuZ3RoO1xuICAgICAgdGhpcy5fZmlyZVNlbGVjdGlvbkNoYW5nZWQoKTtcbiAgICAgIHRoaXMuX3VwZGF0ZVRleHRhcmVhKCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBzZWxlY3RlZCB0ZXh0XG4gICAgICogQHJldHVybiB7U3RyaW5nfVxuICAgICAqL1xuICAgIGdldFNlbGVjdGVkVGV4dDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdGV4dC5zbGljZSh0aGlzLnNlbGVjdGlvblN0YXJ0LCB0aGlzLnNlbGVjdGlvbkVuZCkuam9pbignJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEZpbmQgbmV3IHNlbGVjdGlvbiBpbmRleCByZXByZXNlbnRpbmcgc3RhcnQgb2YgY3VycmVudCB3b3JkIGFjY29yZGluZyB0byBjdXJyZW50IHNlbGVjdGlvbiBpbmRleFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzdGFydEZyb20gQ3VycmVudCBzZWxlY3Rpb24gaW5kZXhcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IE5ldyBzZWxlY3Rpb24gaW5kZXhcbiAgICAgKi9cbiAgICBmaW5kV29yZEJvdW5kYXJ5TGVmdDogZnVuY3Rpb24oc3RhcnRGcm9tKSB7XG4gICAgICB2YXIgb2Zmc2V0ID0gMCwgaW5kZXggPSBzdGFydEZyb20gLSAxO1xuXG4gICAgICAvLyByZW1vdmUgc3BhY2UgYmVmb3JlIGN1cnNvciBmaXJzdFxuICAgICAgaWYgKHRoaXMuX3JlU3BhY2UudGVzdCh0aGlzLl90ZXh0W2luZGV4XSkpIHtcbiAgICAgICAgd2hpbGUgKHRoaXMuX3JlU3BhY2UudGVzdCh0aGlzLl90ZXh0W2luZGV4XSkpIHtcbiAgICAgICAgICBvZmZzZXQrKztcbiAgICAgICAgICBpbmRleC0tO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3aGlsZSAoL1xcUy8udGVzdCh0aGlzLl90ZXh0W2luZGV4XSkgJiYgaW5kZXggPiAtMSkge1xuICAgICAgICBvZmZzZXQrKztcbiAgICAgICAgaW5kZXgtLTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN0YXJ0RnJvbSAtIG9mZnNldDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRmluZCBuZXcgc2VsZWN0aW9uIGluZGV4IHJlcHJlc2VudGluZyBlbmQgb2YgY3VycmVudCB3b3JkIGFjY29yZGluZyB0byBjdXJyZW50IHNlbGVjdGlvbiBpbmRleFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzdGFydEZyb20gQ3VycmVudCBzZWxlY3Rpb24gaW5kZXhcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IE5ldyBzZWxlY3Rpb24gaW5kZXhcbiAgICAgKi9cbiAgICBmaW5kV29yZEJvdW5kYXJ5UmlnaHQ6IGZ1bmN0aW9uKHN0YXJ0RnJvbSkge1xuICAgICAgdmFyIG9mZnNldCA9IDAsIGluZGV4ID0gc3RhcnRGcm9tO1xuXG4gICAgICAvLyByZW1vdmUgc3BhY2UgYWZ0ZXIgY3Vyc29yIGZpcnN0XG4gICAgICBpZiAodGhpcy5fcmVTcGFjZS50ZXN0KHRoaXMuX3RleHRbaW5kZXhdKSkge1xuICAgICAgICB3aGlsZSAodGhpcy5fcmVTcGFjZS50ZXN0KHRoaXMuX3RleHRbaW5kZXhdKSkge1xuICAgICAgICAgIG9mZnNldCsrO1xuICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHdoaWxlICgvXFxTLy50ZXN0KHRoaXMuX3RleHRbaW5kZXhdKSAmJiBpbmRleCA8IHRoaXMuX3RleHQubGVuZ3RoKSB7XG4gICAgICAgIG9mZnNldCsrO1xuICAgICAgICBpbmRleCsrO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3RhcnRGcm9tICsgb2Zmc2V0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBGaW5kIG5ldyBzZWxlY3Rpb24gaW5kZXggcmVwcmVzZW50aW5nIHN0YXJ0IG9mIGN1cnJlbnQgbGluZSBhY2NvcmRpbmcgdG8gY3VycmVudCBzZWxlY3Rpb24gaW5kZXhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc3RhcnRGcm9tIEN1cnJlbnQgc2VsZWN0aW9uIGluZGV4XG4gICAgICogQHJldHVybiB7TnVtYmVyfSBOZXcgc2VsZWN0aW9uIGluZGV4XG4gICAgICovXG4gICAgZmluZExpbmVCb3VuZGFyeUxlZnQ6IGZ1bmN0aW9uKHN0YXJ0RnJvbSkge1xuICAgICAgdmFyIG9mZnNldCA9IDAsIGluZGV4ID0gc3RhcnRGcm9tIC0gMTtcblxuICAgICAgd2hpbGUgKCEvXFxuLy50ZXN0KHRoaXMuX3RleHRbaW5kZXhdKSAmJiBpbmRleCA+IC0xKSB7XG4gICAgICAgIG9mZnNldCsrO1xuICAgICAgICBpbmRleC0tO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3RhcnRGcm9tIC0gb2Zmc2V0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBGaW5kIG5ldyBzZWxlY3Rpb24gaW5kZXggcmVwcmVzZW50aW5nIGVuZCBvZiBjdXJyZW50IGxpbmUgYWNjb3JkaW5nIHRvIGN1cnJlbnQgc2VsZWN0aW9uIGluZGV4XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHN0YXJ0RnJvbSBDdXJyZW50IHNlbGVjdGlvbiBpbmRleFxuICAgICAqIEByZXR1cm4ge051bWJlcn0gTmV3IHNlbGVjdGlvbiBpbmRleFxuICAgICAqL1xuICAgIGZpbmRMaW5lQm91bmRhcnlSaWdodDogZnVuY3Rpb24oc3RhcnRGcm9tKSB7XG4gICAgICB2YXIgb2Zmc2V0ID0gMCwgaW5kZXggPSBzdGFydEZyb207XG5cbiAgICAgIHdoaWxlICghL1xcbi8udGVzdCh0aGlzLl90ZXh0W2luZGV4XSkgJiYgaW5kZXggPCB0aGlzLl90ZXh0Lmxlbmd0aCkge1xuICAgICAgICBvZmZzZXQrKztcbiAgICAgICAgaW5kZXgrKztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN0YXJ0RnJvbSArIG9mZnNldDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRmluZHMgaW5kZXggY29ycmVzcG9uZGluZyB0byBiZWdpbm5pbmcgb3IgZW5kIG9mIGEgd29yZFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzZWxlY3Rpb25TdGFydCBJbmRleCBvZiBhIGNoYXJhY3RlclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBkaXJlY3Rpb24gMSBvciAtMVxuICAgICAqIEByZXR1cm4ge051bWJlcn0gSW5kZXggb2YgdGhlIGJlZ2lubmluZyBvciBlbmQgb2YgYSB3b3JkXG4gICAgICovXG4gICAgc2VhcmNoV29yZEJvdW5kYXJ5OiBmdW5jdGlvbihzZWxlY3Rpb25TdGFydCwgZGlyZWN0aW9uKSB7XG4gICAgICB2YXIgdGV4dCA9IHRoaXMuX3RleHQsXG4gICAgICAgICAgaW5kZXggICAgID0gdGhpcy5fcmVTcGFjZS50ZXN0KHRleHRbc2VsZWN0aW9uU3RhcnRdKSA/IHNlbGVjdGlvblN0YXJ0IC0gMSA6IHNlbGVjdGlvblN0YXJ0LFxuICAgICAgICAgIF9jaGFyICAgICA9IHRleHRbaW5kZXhdLFxuICAgICAgICAgIC8vIHdyb25nXG4gICAgICAgICAgcmVOb25Xb3JkID0gZmFicmljLnJlTm9uV29yZDtcblxuICAgICAgd2hpbGUgKCFyZU5vbldvcmQudGVzdChfY2hhcikgJiYgaW5kZXggPiAwICYmIGluZGV4IDwgdGV4dC5sZW5ndGgpIHtcbiAgICAgICAgaW5kZXggKz0gZGlyZWN0aW9uO1xuICAgICAgICBfY2hhciA9IHRleHRbaW5kZXhdO1xuICAgICAgfVxuICAgICAgaWYgKHJlTm9uV29yZC50ZXN0KF9jaGFyKSkge1xuICAgICAgICBpbmRleCArPSBkaXJlY3Rpb24gPT09IDEgPyAwIDogMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbmRleDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2VsZWN0cyBhIHdvcmQgYmFzZWQgb24gdGhlIGluZGV4XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNlbGVjdGlvblN0YXJ0IEluZGV4IG9mIGEgY2hhcmFjdGVyXG4gICAgICovXG4gICAgc2VsZWN0V29yZDogZnVuY3Rpb24oc2VsZWN0aW9uU3RhcnQpIHtcbiAgICAgIHNlbGVjdGlvblN0YXJ0ID0gc2VsZWN0aW9uU3RhcnQgfHwgdGhpcy5zZWxlY3Rpb25TdGFydDtcbiAgICAgIHZhciBuZXdTZWxlY3Rpb25TdGFydCA9IHRoaXMuc2VhcmNoV29yZEJvdW5kYXJ5KHNlbGVjdGlvblN0YXJ0LCAtMSksIC8qIHNlYXJjaCBiYWNrd2FyZHMgKi9cbiAgICAgICAgICBuZXdTZWxlY3Rpb25FbmQgPSB0aGlzLnNlYXJjaFdvcmRCb3VuZGFyeShzZWxlY3Rpb25TdGFydCwgMSk7IC8qIHNlYXJjaCBmb3J3YXJkICovXG5cbiAgICAgIHRoaXMuc2VsZWN0aW9uU3RhcnQgPSBuZXdTZWxlY3Rpb25TdGFydDtcbiAgICAgIHRoaXMuc2VsZWN0aW9uRW5kID0gbmV3U2VsZWN0aW9uRW5kO1xuICAgICAgdGhpcy5fZmlyZVNlbGVjdGlvbkNoYW5nZWQoKTtcbiAgICAgIHRoaXMuX3VwZGF0ZVRleHRhcmVhKCk7XG4gICAgICB0aGlzLnJlbmRlckN1cnNvck9yU2VsZWN0aW9uKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNlbGVjdHMgYSBsaW5lIGJhc2VkIG9uIHRoZSBpbmRleFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzZWxlY3Rpb25TdGFydCBJbmRleCBvZiBhIGNoYXJhY3RlclxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5JVGV4dH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzZWxlY3RMaW5lOiBmdW5jdGlvbihzZWxlY3Rpb25TdGFydCkge1xuICAgICAgc2VsZWN0aW9uU3RhcnQgPSBzZWxlY3Rpb25TdGFydCB8fCB0aGlzLnNlbGVjdGlvblN0YXJ0O1xuICAgICAgdmFyIG5ld1NlbGVjdGlvblN0YXJ0ID0gdGhpcy5maW5kTGluZUJvdW5kYXJ5TGVmdChzZWxlY3Rpb25TdGFydCksXG4gICAgICAgICAgbmV3U2VsZWN0aW9uRW5kID0gdGhpcy5maW5kTGluZUJvdW5kYXJ5UmlnaHQoc2VsZWN0aW9uU3RhcnQpO1xuXG4gICAgICB0aGlzLnNlbGVjdGlvblN0YXJ0ID0gbmV3U2VsZWN0aW9uU3RhcnQ7XG4gICAgICB0aGlzLnNlbGVjdGlvbkVuZCA9IG5ld1NlbGVjdGlvbkVuZDtcbiAgICAgIHRoaXMuX2ZpcmVTZWxlY3Rpb25DaGFuZ2VkKCk7XG4gICAgICB0aGlzLl91cGRhdGVUZXh0YXJlYSgpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEVudGVycyBlZGl0aW5nIHN0YXRlXG4gICAgICogQHJldHVybiB7ZmFicmljLklUZXh0fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGVudGVyRWRpdGluZzogZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKHRoaXMuaXNFZGl0aW5nIHx8ICF0aGlzLmVkaXRhYmxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuY2FudmFzKSB7XG4gICAgICAgIHRoaXMuY2FudmFzLmNhbGNPZmZzZXQoKTtcbiAgICAgICAgdGhpcy5leGl0RWRpdGluZ09uT3RoZXJzKHRoaXMuY2FudmFzKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5pc0VkaXRpbmcgPSB0cnVlO1xuXG4gICAgICB0aGlzLmluaXRIaWRkZW5UZXh0YXJlYShlKTtcbiAgICAgIHRoaXMuaGlkZGVuVGV4dGFyZWEuZm9jdXMoKTtcbiAgICAgIHRoaXMuaGlkZGVuVGV4dGFyZWEudmFsdWUgPSB0aGlzLnRleHQ7XG4gICAgICB0aGlzLl91cGRhdGVUZXh0YXJlYSgpO1xuICAgICAgdGhpcy5fc2F2ZUVkaXRpbmdQcm9wcygpO1xuICAgICAgdGhpcy5fc2V0RWRpdGluZ1Byb3BzKCk7XG4gICAgICB0aGlzLl90ZXh0QmVmb3JlRWRpdCA9IHRoaXMudGV4dDtcblxuICAgICAgdGhpcy5fdGljaygpO1xuICAgICAgdGhpcy5maXJlKCdlZGl0aW5nOmVudGVyZWQnKTtcbiAgICAgIHRoaXMuX2ZpcmVTZWxlY3Rpb25DaGFuZ2VkKCk7XG4gICAgICBpZiAoIXRoaXMuY2FudmFzKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgdGhpcy5jYW52YXMuZmlyZSgndGV4dDplZGl0aW5nOmVudGVyZWQnLCB7IHRhcmdldDogdGhpcyB9KTtcbiAgICAgIHRoaXMuaW5pdE1vdXNlTW92ZUhhbmRsZXIoKTtcbiAgICAgIHRoaXMuY2FudmFzLnJlcXVlc3RSZW5kZXJBbGwoKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBleGl0RWRpdGluZ09uT3RoZXJzOiBmdW5jdGlvbihjYW52YXMpIHtcbiAgICAgIGlmIChjYW52YXMuX2lUZXh0SW5zdGFuY2VzKSB7XG4gICAgICAgIGNhbnZhcy5faVRleHRJbnN0YW5jZXMuZm9yRWFjaChmdW5jdGlvbihvYmopIHtcbiAgICAgICAgICBvYmouc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICBpZiAob2JqLmlzRWRpdGluZykge1xuICAgICAgICAgICAgb2JqLmV4aXRFZGl0aW5nKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgXCJtb3VzZW1vdmVcIiBldmVudCBoYW5kbGVyXG4gICAgICovXG4gICAgaW5pdE1vdXNlTW92ZUhhbmRsZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5jYW52YXMub24oJ21vdXNlOm1vdmUnLCB0aGlzLm1vdXNlTW92ZUhhbmRsZXIpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG1vdXNlTW92ZUhhbmRsZXI6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIGlmICghdGhpcy5fX2lzTW91c2Vkb3duIHx8ICF0aGlzLmlzRWRpdGluZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIHJlZ2FpbiBmb2N1c1xuICAgICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gdGhpcy5oaWRkZW5UZXh0YXJlYSAmJiB0aGlzLmhpZGRlblRleHRhcmVhLmZvY3VzKCk7XG5cbiAgICAgIHZhciBuZXdTZWxlY3Rpb25TdGFydCA9IHRoaXMuZ2V0U2VsZWN0aW9uU3RhcnRGcm9tUG9pbnRlcihvcHRpb25zLmUpLFxuICAgICAgICAgIGN1cnJlbnRTdGFydCA9IHRoaXMuc2VsZWN0aW9uU3RhcnQsXG4gICAgICAgICAgY3VycmVudEVuZCA9IHRoaXMuc2VsZWN0aW9uRW5kO1xuICAgICAgaWYgKFxuICAgICAgICAobmV3U2VsZWN0aW9uU3RhcnQgIT09IHRoaXMuX19zZWxlY3Rpb25TdGFydE9uTW91c2VEb3duIHx8IGN1cnJlbnRTdGFydCA9PT0gY3VycmVudEVuZClcbiAgICAgICAgJiZcbiAgICAgICAgKGN1cnJlbnRTdGFydCA9PT0gbmV3U2VsZWN0aW9uU3RhcnQgfHwgY3VycmVudEVuZCA9PT0gbmV3U2VsZWN0aW9uU3RhcnQpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKG5ld1NlbGVjdGlvblN0YXJ0ID4gdGhpcy5fX3NlbGVjdGlvblN0YXJ0T25Nb3VzZURvd24pIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25TdGFydCA9IHRoaXMuX19zZWxlY3Rpb25TdGFydE9uTW91c2VEb3duO1xuICAgICAgICB0aGlzLnNlbGVjdGlvbkVuZCA9IG5ld1NlbGVjdGlvblN0YXJ0O1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uU3RhcnQgPSBuZXdTZWxlY3Rpb25TdGFydDtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25FbmQgPSB0aGlzLl9fc2VsZWN0aW9uU3RhcnRPbk1vdXNlRG93bjtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnNlbGVjdGlvblN0YXJ0ICE9PSBjdXJyZW50U3RhcnQgfHwgdGhpcy5zZWxlY3Rpb25FbmQgIT09IGN1cnJlbnRFbmQpIHtcbiAgICAgICAgdGhpcy5yZXN0YXJ0Q3Vyc29ySWZOZWVkZWQoKTtcbiAgICAgICAgdGhpcy5fZmlyZVNlbGVjdGlvbkNoYW5nZWQoKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlVGV4dGFyZWEoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJDdXJzb3JPclNlbGVjdGlvbigpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9zZXRFZGl0aW5nUHJvcHM6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5ob3ZlckN1cnNvciA9ICd0ZXh0JztcblxuICAgICAgaWYgKHRoaXMuY2FudmFzKSB7XG4gICAgICAgIHRoaXMuY2FudmFzLmRlZmF1bHRDdXJzb3IgPSB0aGlzLmNhbnZhcy5tb3ZlQ3Vyc29yID0gJ3RleHQnO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmJvcmRlckNvbG9yID0gdGhpcy5lZGl0aW5nQm9yZGVyQ29sb3I7XG4gICAgICB0aGlzLmhhc0NvbnRyb2xzID0gdGhpcy5zZWxlY3RhYmxlID0gZmFsc2U7XG4gICAgICB0aGlzLmxvY2tNb3ZlbWVudFggPSB0aGlzLmxvY2tNb3ZlbWVudFkgPSB0cnVlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBjb252ZXJ0IGZyb20gdGV4dGFyZWEgdG8gZ3JhcGhlbWUgaW5kZXhlc1xuICAgICAqL1xuICAgIGZyb21TdHJpbmdUb0dyYXBoZW1lU2VsZWN0aW9uOiBmdW5jdGlvbihzdGFydCwgZW5kLCB0ZXh0KSB7XG4gICAgICB2YXIgc21hbGxlclRleHRTdGFydCA9IHRleHQuc2xpY2UoMCwgc3RhcnQpLFxuICAgICAgICAgIGdyYXBoZW1lU3RhcnQgPSBmYWJyaWMudXRpbC5zdHJpbmcuZ3JhcGhlbWVTcGxpdChzbWFsbGVyVGV4dFN0YXJ0KS5sZW5ndGg7XG4gICAgICBpZiAoc3RhcnQgPT09IGVuZCkge1xuICAgICAgICByZXR1cm4geyBzZWxlY3Rpb25TdGFydDogZ3JhcGhlbWVTdGFydCwgc2VsZWN0aW9uRW5kOiBncmFwaGVtZVN0YXJ0IH07XG4gICAgICB9XG4gICAgICB2YXIgc21hbGxlclRleHRFbmQgPSB0ZXh0LnNsaWNlKHN0YXJ0LCBlbmQpLFxuICAgICAgICAgIGdyYXBoZW1lRW5kID0gZmFicmljLnV0aWwuc3RyaW5nLmdyYXBoZW1lU3BsaXQoc21hbGxlclRleHRFbmQpLmxlbmd0aDtcbiAgICAgIHJldHVybiB7IHNlbGVjdGlvblN0YXJ0OiBncmFwaGVtZVN0YXJ0LCBzZWxlY3Rpb25FbmQ6IGdyYXBoZW1lU3RhcnQgKyBncmFwaGVtZUVuZCB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBjb252ZXJ0IGZyb20gZmFicmljIHRvIHRleHRhcmVhIHZhbHVlc1xuICAgICAqL1xuICAgIGZyb21HcmFwaGVtZVRvU3RyaW5nU2VsZWN0aW9uOiBmdW5jdGlvbihzdGFydCwgZW5kLCBfdGV4dCkge1xuICAgICAgdmFyIHNtYWxsZXJUZXh0U3RhcnQgPSBfdGV4dC5zbGljZSgwLCBzdGFydCksXG4gICAgICAgICAgZ3JhcGhlbWVTdGFydCA9IHNtYWxsZXJUZXh0U3RhcnQuam9pbignJykubGVuZ3RoO1xuICAgICAgaWYgKHN0YXJ0ID09PSBlbmQpIHtcbiAgICAgICAgcmV0dXJuIHsgc2VsZWN0aW9uU3RhcnQ6IGdyYXBoZW1lU3RhcnQsIHNlbGVjdGlvbkVuZDogZ3JhcGhlbWVTdGFydCB9O1xuICAgICAgfVxuICAgICAgdmFyIHNtYWxsZXJUZXh0RW5kID0gX3RleHQuc2xpY2Uoc3RhcnQsIGVuZCksXG4gICAgICAgICAgZ3JhcGhlbWVFbmQgPSBzbWFsbGVyVGV4dEVuZC5qb2luKCcnKS5sZW5ndGg7XG4gICAgICByZXR1cm4geyBzZWxlY3Rpb25TdGFydDogZ3JhcGhlbWVTdGFydCwgc2VsZWN0aW9uRW5kOiBncmFwaGVtZVN0YXJ0ICsgZ3JhcGhlbWVFbmQgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfdXBkYXRlVGV4dGFyZWE6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5jdXJzb3JPZmZzZXRDYWNoZSA9IHsgfTtcbiAgICAgIGlmICghdGhpcy5oaWRkZW5UZXh0YXJlYSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuaW5Db21wb3NpdGlvbk1vZGUpIHtcbiAgICAgICAgdmFyIG5ld1NlbGVjdGlvbiA9IHRoaXMuZnJvbUdyYXBoZW1lVG9TdHJpbmdTZWxlY3Rpb24odGhpcy5zZWxlY3Rpb25TdGFydCwgdGhpcy5zZWxlY3Rpb25FbmQsIHRoaXMuX3RleHQpO1xuICAgICAgICB0aGlzLmhpZGRlblRleHRhcmVhLnNlbGVjdGlvblN0YXJ0ID0gbmV3U2VsZWN0aW9uLnNlbGVjdGlvblN0YXJ0O1xuICAgICAgICB0aGlzLmhpZGRlblRleHRhcmVhLnNlbGVjdGlvbkVuZCA9IG5ld1NlbGVjdGlvbi5zZWxlY3Rpb25FbmQ7XG4gICAgICB9XG4gICAgICB0aGlzLnVwZGF0ZVRleHRhcmVhUG9zaXRpb24oKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB1cGRhdGVGcm9tVGV4dEFyZWE6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCF0aGlzLmhpZGRlblRleHRhcmVhKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuY3Vyc29yT2Zmc2V0Q2FjaGUgPSB7IH07XG4gICAgICB0aGlzLnRleHQgPSB0aGlzLmhpZGRlblRleHRhcmVhLnZhbHVlO1xuICAgICAgaWYgKHRoaXMuX3Nob3VsZENsZWFyRGltZW5zaW9uQ2FjaGUoKSkge1xuICAgICAgICB0aGlzLmluaXREaW1lbnNpb25zKCk7XG4gICAgICAgIHRoaXMuc2V0Q29vcmRzKCk7XG4gICAgICB9XG4gICAgICB2YXIgbmV3U2VsZWN0aW9uID0gdGhpcy5mcm9tU3RyaW5nVG9HcmFwaGVtZVNlbGVjdGlvbihcbiAgICAgICAgdGhpcy5oaWRkZW5UZXh0YXJlYS5zZWxlY3Rpb25TdGFydCwgdGhpcy5oaWRkZW5UZXh0YXJlYS5zZWxlY3Rpb25FbmQsIHRoaXMuaGlkZGVuVGV4dGFyZWEudmFsdWUpO1xuICAgICAgdGhpcy5zZWxlY3Rpb25FbmQgPSB0aGlzLnNlbGVjdGlvblN0YXJ0ID0gbmV3U2VsZWN0aW9uLnNlbGVjdGlvbkVuZDtcbiAgICAgIGlmICghdGhpcy5pbkNvbXBvc2l0aW9uTW9kZSkge1xuICAgICAgICB0aGlzLnNlbGVjdGlvblN0YXJ0ID0gbmV3U2VsZWN0aW9uLnNlbGVjdGlvblN0YXJ0O1xuICAgICAgfVxuICAgICAgdGhpcy51cGRhdGVUZXh0YXJlYVBvc2l0aW9uKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdXBkYXRlVGV4dGFyZWFQb3NpdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5zZWxlY3Rpb25TdGFydCA9PT0gdGhpcy5zZWxlY3Rpb25FbmQpIHtcbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5fY2FsY1RleHRhcmVhUG9zaXRpb24oKTtcbiAgICAgICAgdGhpcy5oaWRkZW5UZXh0YXJlYS5zdHlsZS5sZWZ0ID0gc3R5bGUubGVmdDtcbiAgICAgICAgdGhpcy5oaWRkZW5UZXh0YXJlYS5zdHlsZS50b3AgPSBzdHlsZS50b3A7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBzdHlsZSBjb250YWlucyBzdHlsZSBmb3IgaGlkZGVuVGV4dGFyZWFcbiAgICAgKi9cbiAgICBfY2FsY1RleHRhcmVhUG9zaXRpb246IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCF0aGlzLmNhbnZhcykge1xuICAgICAgICByZXR1cm4geyB4OiAxLCB5OiAxIH07XG4gICAgICB9XG4gICAgICB2YXIgZGVzaXJlZFBvc2l0aW9uID0gdGhpcy5pbkNvbXBvc2l0aW9uTW9kZSA/IHRoaXMuY29tcG9zaXRpb25TdGFydCA6IHRoaXMuc2VsZWN0aW9uU3RhcnQsXG4gICAgICAgICAgYm91bmRhcmllcyA9IHRoaXMuX2dldEN1cnNvckJvdW5kYXJpZXMoZGVzaXJlZFBvc2l0aW9uKSxcbiAgICAgICAgICBjdXJzb3JMb2NhdGlvbiA9IHRoaXMuZ2V0MkRDdXJzb3JMb2NhdGlvbihkZXNpcmVkUG9zaXRpb24pLFxuICAgICAgICAgIGxpbmVJbmRleCA9IGN1cnNvckxvY2F0aW9uLmxpbmVJbmRleCxcbiAgICAgICAgICBjaGFySW5kZXggPSBjdXJzb3JMb2NhdGlvbi5jaGFySW5kZXgsXG4gICAgICAgICAgY2hhckhlaWdodCA9IHRoaXMuZ2V0VmFsdWVPZlByb3BlcnR5QXQobGluZUluZGV4LCBjaGFySW5kZXgsICdmb250U2l6ZScpICogdGhpcy5saW5lSGVpZ2h0LFxuICAgICAgICAgIGxlZnRPZmZzZXQgPSBib3VuZGFyaWVzLmxlZnRPZmZzZXQsXG4gICAgICAgICAgbSA9IHRoaXMuY2FsY1RyYW5zZm9ybU1hdHJpeCgpLFxuICAgICAgICAgIHAgPSB7XG4gICAgICAgICAgICB4OiBib3VuZGFyaWVzLmxlZnQgKyBsZWZ0T2Zmc2V0LFxuICAgICAgICAgICAgeTogYm91bmRhcmllcy50b3AgKyBib3VuZGFyaWVzLnRvcE9mZnNldCArIGNoYXJIZWlnaHRcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJldGluYVNjYWxpbmcgPSB0aGlzLmNhbnZhcy5nZXRSZXRpbmFTY2FsaW5nKCksXG4gICAgICAgICAgdXBwZXJDYW52YXMgPSB0aGlzLmNhbnZhcy51cHBlckNhbnZhc0VsLFxuICAgICAgICAgIHVwcGVyQ2FudmFzV2lkdGggPSB1cHBlckNhbnZhcy53aWR0aCAvIHJldGluYVNjYWxpbmcsXG4gICAgICAgICAgdXBwZXJDYW52YXNIZWlnaHQgPSB1cHBlckNhbnZhcy5oZWlnaHQgLyByZXRpbmFTY2FsaW5nLFxuICAgICAgICAgIG1heFdpZHRoID0gdXBwZXJDYW52YXNXaWR0aCAtIGNoYXJIZWlnaHQsXG4gICAgICAgICAgbWF4SGVpZ2h0ID0gdXBwZXJDYW52YXNIZWlnaHQgLSBjaGFySGVpZ2h0LFxuICAgICAgICAgIHNjYWxlWCA9IHVwcGVyQ2FudmFzLmNsaWVudFdpZHRoIC8gdXBwZXJDYW52YXNXaWR0aCxcbiAgICAgICAgICBzY2FsZVkgPSB1cHBlckNhbnZhcy5jbGllbnRIZWlnaHQgLyB1cHBlckNhbnZhc0hlaWdodDtcblxuICAgICAgcCA9IGZhYnJpYy51dGlsLnRyYW5zZm9ybVBvaW50KHAsIG0pO1xuICAgICAgcCA9IGZhYnJpYy51dGlsLnRyYW5zZm9ybVBvaW50KHAsIHRoaXMuY2FudmFzLnZpZXdwb3J0VHJhbnNmb3JtKTtcbiAgICAgIHAueCAqPSBzY2FsZVg7XG4gICAgICBwLnkgKj0gc2NhbGVZO1xuICAgICAgaWYgKHAueCA8IDApIHtcbiAgICAgICAgcC54ID0gMDtcbiAgICAgIH1cbiAgICAgIGlmIChwLnggPiBtYXhXaWR0aCkge1xuICAgICAgICBwLnggPSBtYXhXaWR0aDtcbiAgICAgIH1cbiAgICAgIGlmIChwLnkgPCAwKSB7XG4gICAgICAgIHAueSA9IDA7XG4gICAgICB9XG4gICAgICBpZiAocC55ID4gbWF4SGVpZ2h0KSB7XG4gICAgICAgIHAueSA9IG1heEhlaWdodDtcbiAgICAgIH1cblxuICAgICAgLy8gYWRkIGNhbnZhcyBvZmZzZXQgb24gZG9jdW1lbnRcbiAgICAgIHAueCArPSB0aGlzLmNhbnZhcy5fb2Zmc2V0LmxlZnQ7XG4gICAgICBwLnkgKz0gdGhpcy5jYW52YXMuX29mZnNldC50b3A7XG5cbiAgICAgIHJldHVybiB7IGxlZnQ6IHAueCArICdweCcsIHRvcDogcC55ICsgJ3B4JywgZm9udFNpemU6IGNoYXJIZWlnaHQgKyAncHgnLCBjaGFySGVpZ2h0OiBjaGFySGVpZ2h0IH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3NhdmVFZGl0aW5nUHJvcHM6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5fc2F2ZWRQcm9wcyA9IHtcbiAgICAgICAgaGFzQ29udHJvbHM6IHRoaXMuaGFzQ29udHJvbHMsXG4gICAgICAgIGJvcmRlckNvbG9yOiB0aGlzLmJvcmRlckNvbG9yLFxuICAgICAgICBsb2NrTW92ZW1lbnRYOiB0aGlzLmxvY2tNb3ZlbWVudFgsXG4gICAgICAgIGxvY2tNb3ZlbWVudFk6IHRoaXMubG9ja01vdmVtZW50WSxcbiAgICAgICAgaG92ZXJDdXJzb3I6IHRoaXMuaG92ZXJDdXJzb3IsXG4gICAgICAgIHNlbGVjdGFibGU6IHRoaXMuc2VsZWN0YWJsZSxcbiAgICAgICAgZGVmYXVsdEN1cnNvcjogdGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMuZGVmYXVsdEN1cnNvcixcbiAgICAgICAgbW92ZUN1cnNvcjogdGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMubW92ZUN1cnNvclxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVzdG9yZUVkaXRpbmdQcm9wczogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIXRoaXMuX3NhdmVkUHJvcHMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmhvdmVyQ3Vyc29yID0gdGhpcy5fc2F2ZWRQcm9wcy5ob3ZlckN1cnNvcjtcbiAgICAgIHRoaXMuaGFzQ29udHJvbHMgPSB0aGlzLl9zYXZlZFByb3BzLmhhc0NvbnRyb2xzO1xuICAgICAgdGhpcy5ib3JkZXJDb2xvciA9IHRoaXMuX3NhdmVkUHJvcHMuYm9yZGVyQ29sb3I7XG4gICAgICB0aGlzLnNlbGVjdGFibGUgPSB0aGlzLl9zYXZlZFByb3BzLnNlbGVjdGFibGU7XG4gICAgICB0aGlzLmxvY2tNb3ZlbWVudFggPSB0aGlzLl9zYXZlZFByb3BzLmxvY2tNb3ZlbWVudFg7XG4gICAgICB0aGlzLmxvY2tNb3ZlbWVudFkgPSB0aGlzLl9zYXZlZFByb3BzLmxvY2tNb3ZlbWVudFk7XG5cbiAgICAgIGlmICh0aGlzLmNhbnZhcykge1xuICAgICAgICB0aGlzLmNhbnZhcy5kZWZhdWx0Q3Vyc29yID0gdGhpcy5fc2F2ZWRQcm9wcy5kZWZhdWx0Q3Vyc29yO1xuICAgICAgICB0aGlzLmNhbnZhcy5tb3ZlQ3Vyc29yID0gdGhpcy5fc2F2ZWRQcm9wcy5tb3ZlQ3Vyc29yO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBFeGl0cyBmcm9tIGVkaXRpbmcgc3RhdGVcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuSVRleHR9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgZXhpdEVkaXRpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGlzVGV4dENoYW5nZWQgPSAodGhpcy5fdGV4dEJlZm9yZUVkaXQgIT09IHRoaXMudGV4dCk7XG4gICAgICB2YXIgaGlkZGVuVGV4dGFyZWEgPSB0aGlzLmhpZGRlblRleHRhcmVhO1xuICAgICAgdGhpcy5zZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5pc0VkaXRpbmcgPSBmYWxzZTtcblxuICAgICAgdGhpcy5zZWxlY3Rpb25FbmQgPSB0aGlzLnNlbGVjdGlvblN0YXJ0O1xuXG4gICAgICBpZiAoaGlkZGVuVGV4dGFyZWEpIHtcbiAgICAgICAgaGlkZGVuVGV4dGFyZWEuYmx1ciAmJiBoaWRkZW5UZXh0YXJlYS5ibHVyKCk7XG4gICAgICAgIGhpZGRlblRleHRhcmVhLnBhcmVudE5vZGUgJiYgaGlkZGVuVGV4dGFyZWEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChoaWRkZW5UZXh0YXJlYSk7XG4gICAgICB9XG4gICAgICB0aGlzLmhpZGRlblRleHRhcmVhID0gbnVsbDtcbiAgICAgIHRoaXMuYWJvcnRDdXJzb3JBbmltYXRpb24oKTtcbiAgICAgIHRoaXMuX3Jlc3RvcmVFZGl0aW5nUHJvcHMoKTtcbiAgICAgIHRoaXMuX2N1cnJlbnRDdXJzb3JPcGFjaXR5ID0gMDtcbiAgICAgIGlmICh0aGlzLl9zaG91bGRDbGVhckRpbWVuc2lvbkNhY2hlKCkpIHtcbiAgICAgICAgdGhpcy5pbml0RGltZW5zaW9ucygpO1xuICAgICAgICB0aGlzLnNldENvb3JkcygpO1xuICAgICAgfVxuICAgICAgdGhpcy5maXJlKCdlZGl0aW5nOmV4aXRlZCcpO1xuICAgICAgaXNUZXh0Q2hhbmdlZCAmJiB0aGlzLmZpcmUoJ21vZGlmaWVkJyk7XG4gICAgICBpZiAodGhpcy5jYW52YXMpIHtcbiAgICAgICAgdGhpcy5jYW52YXMub2ZmKCdtb3VzZTptb3ZlJywgdGhpcy5tb3VzZU1vdmVIYW5kbGVyKTtcbiAgICAgICAgdGhpcy5jYW52YXMuZmlyZSgndGV4dDplZGl0aW5nOmV4aXRlZCcsIHsgdGFyZ2V0OiB0aGlzIH0pO1xuICAgICAgICBpc1RleHRDaGFuZ2VkICYmIHRoaXMuY2FudmFzLmZpcmUoJ29iamVjdDptb2RpZmllZCcsIHsgdGFyZ2V0OiB0aGlzIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3JlbW92ZUV4dHJhbmVvdXNTdHlsZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgZm9yICh2YXIgcHJvcCBpbiB0aGlzLnN0eWxlcykge1xuICAgICAgICBpZiAoIXRoaXMuX3RleHRMaW5lc1twcm9wXSkge1xuICAgICAgICAgIGRlbGV0ZSB0aGlzLnN0eWxlc1twcm9wXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiByZW1vdmUgYW5kIHJlZmxvdyBhIHN0eWxlIGJsb2NrIGZyb20gc3RhcnQgdG8gZW5kLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzdGFydCBsaW5lYXIgc3RhcnQgcG9zaXRpb24gZm9yIHJlbW92YWwgKGluY2x1ZGVkIGluIHJlbW92YWwpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGVuZCBsaW5lYXIgZW5kIHBvc2l0aW9uIGZvciByZW1vdmFsICggZXhjbHVkZWQgZnJvbSByZW1vdmFsIClcbiAgICAgKi9cbiAgICByZW1vdmVTdHlsZUZyb21UbzogZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGN1cnNvclN0YXJ0ID0gdGhpcy5nZXQyREN1cnNvckxvY2F0aW9uKHN0YXJ0LCB0cnVlKSxcbiAgICAgICAgICBjdXJzb3JFbmQgPSB0aGlzLmdldDJEQ3Vyc29yTG9jYXRpb24oZW5kLCB0cnVlKSxcbiAgICAgICAgICBsaW5lU3RhcnQgPSBjdXJzb3JTdGFydC5saW5lSW5kZXgsXG4gICAgICAgICAgY2hhclN0YXJ0ID0gY3Vyc29yU3RhcnQuY2hhckluZGV4LFxuICAgICAgICAgIGxpbmVFbmQgPSBjdXJzb3JFbmQubGluZUluZGV4LFxuICAgICAgICAgIGNoYXJFbmQgPSBjdXJzb3JFbmQuY2hhckluZGV4LFxuICAgICAgICAgIGksIHN0eWxlT2JqO1xuICAgICAgaWYgKGxpbmVTdGFydCAhPT0gbGluZUVuZCkge1xuICAgICAgICAvLyBzdGVwMSByZW1vdmUgdGhlIHRyYWlsaW5nIG9mIGxpbmVTdGFydFxuICAgICAgICBpZiAodGhpcy5zdHlsZXNbbGluZVN0YXJ0XSkge1xuICAgICAgICAgIGZvciAoaSA9IGNoYXJTdGFydDsgaSA8IHRoaXMuX3Vud3JhcHBlZFRleHRMaW5lc1tsaW5lU3RhcnRdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5zdHlsZXNbbGluZVN0YXJ0XVtpXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gc3RlcDIgbW92ZSB0aGUgdHJhaWxpbmcgb2YgbGluZUVuZCB0byBsaW5lU3RhcnQgaWYgbmVlZGVkXG4gICAgICAgIGlmICh0aGlzLnN0eWxlc1tsaW5lRW5kXSkge1xuICAgICAgICAgIGZvciAoaSA9IGNoYXJFbmQ7IGkgPCB0aGlzLl91bndyYXBwZWRUZXh0TGluZXNbbGluZUVuZF0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHN0eWxlT2JqID0gdGhpcy5zdHlsZXNbbGluZUVuZF1baV07XG4gICAgICAgICAgICBpZiAoc3R5bGVPYmopIHtcbiAgICAgICAgICAgICAgdGhpcy5zdHlsZXNbbGluZVN0YXJ0XSB8fCAodGhpcy5zdHlsZXNbbGluZVN0YXJ0XSA9IHsgfSk7XG4gICAgICAgICAgICAgIHRoaXMuc3R5bGVzW2xpbmVTdGFydF1bY2hhclN0YXJ0ICsgaSAtIGNoYXJFbmRdID0gc3R5bGVPYmo7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHN0ZXAzIGRldGVjdHMgbGluZXMgd2lsbCBiZSBjb21wbGV0ZWx5IHJlbW92ZWQuXG4gICAgICAgIGZvciAoaSA9IGxpbmVTdGFydCArIDE7IGkgPD0gbGluZUVuZDsgaSsrKSB7XG4gICAgICAgICAgZGVsZXRlIHRoaXMuc3R5bGVzW2ldO1xuICAgICAgICB9XG4gICAgICAgIC8vIHN0ZXA0IHNoaWZ0IHJlbWFpbmluZyBsaW5lcy5cbiAgICAgICAgdGhpcy5zaGlmdExpbmVTdHlsZXMobGluZUVuZCwgbGluZVN0YXJ0IC0gbGluZUVuZCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgLy8gcmVtb3ZlIGFuZCBzaGlmdCBsZWZ0IG9uIHRoZSBzYW1lIGxpbmVcbiAgICAgICAgaWYgKHRoaXMuc3R5bGVzW2xpbmVTdGFydF0pIHtcbiAgICAgICAgICBzdHlsZU9iaiA9IHRoaXMuc3R5bGVzW2xpbmVTdGFydF07XG4gICAgICAgICAgdmFyIGRpZmYgPSBjaGFyRW5kIC0gY2hhclN0YXJ0LCBudW1lcmljQ2hhciwgX2NoYXI7XG4gICAgICAgICAgZm9yIChpID0gY2hhclN0YXJ0OyBpIDwgY2hhckVuZDsgaSsrKSB7XG4gICAgICAgICAgICBkZWxldGUgc3R5bGVPYmpbaV07XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvciAoX2NoYXIgaW4gdGhpcy5zdHlsZXNbbGluZVN0YXJ0XSkge1xuICAgICAgICAgICAgbnVtZXJpY0NoYXIgPSBwYXJzZUludChfY2hhciwgMTApO1xuICAgICAgICAgICAgaWYgKG51bWVyaWNDaGFyID49IGNoYXJFbmQpIHtcbiAgICAgICAgICAgICAgc3R5bGVPYmpbbnVtZXJpY0NoYXIgLSBkaWZmXSA9IHN0eWxlT2JqW19jaGFyXTtcbiAgICAgICAgICAgICAgZGVsZXRlIHN0eWxlT2JqW19jaGFyXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2hpZnRzIGxpbmUgc3R5bGVzIHVwIG9yIGRvd25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4IEluZGV4IG9mIGEgbGluZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXQgQ2FuIGFueSBudW1iZXI/XG4gICAgICovXG4gICAgc2hpZnRMaW5lU3R5bGVzOiBmdW5jdGlvbihsaW5lSW5kZXgsIG9mZnNldCkge1xuICAgICAgLy8gc2hpZnQgYWxsIGxpbmUgc3R5bGVzIGJ5IG9mZnNldCB1cHdhcmQgb3IgZG93bndhcmRcbiAgICAgIC8vIGRvIG5vdCBjbG9uZSBkZWVwLiB3ZSBuZWVkIG5ldyBhcnJheSwgbm90IG5ldyBzdHlsZSBvYmplY3RzXG4gICAgICB2YXIgY2xvbmVkU3R5bGVzID0gY2xvbmUodGhpcy5zdHlsZXMpO1xuICAgICAgZm9yICh2YXIgbGluZSBpbiB0aGlzLnN0eWxlcykge1xuICAgICAgICB2YXIgbnVtZXJpY0xpbmUgPSBwYXJzZUludChsaW5lLCAxMCk7XG4gICAgICAgIGlmIChudW1lcmljTGluZSA+IGxpbmVJbmRleCkge1xuICAgICAgICAgIHRoaXMuc3R5bGVzW251bWVyaWNMaW5lICsgb2Zmc2V0XSA9IGNsb25lZFN0eWxlc1tudW1lcmljTGluZV07XG4gICAgICAgICAgaWYgKCFjbG9uZWRTdHlsZXNbbnVtZXJpY0xpbmUgLSBvZmZzZXRdKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5zdHlsZXNbbnVtZXJpY0xpbmVdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICByZXN0YXJ0Q3Vyc29ySWZOZWVkZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCF0aGlzLl9jdXJyZW50VGlja1N0YXRlIHx8IHRoaXMuX2N1cnJlbnRUaWNrU3RhdGUuaXNBYm9ydGVkXG4gICAgICAgIHx8ICF0aGlzLl9jdXJyZW50VGlja0NvbXBsZXRlU3RhdGUgfHwgdGhpcy5fY3VycmVudFRpY2tDb21wbGV0ZVN0YXRlLmlzQWJvcnRlZFxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuaW5pdERlbGF5ZWRDdXJzb3IoKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlIGluc2VydGlvbiBvZiBtb3JlIGNvbnNlY3V0aXZlIHN0eWxlIGxpbmVzIGZvciB3aGVuIG9uZSBvciBtb3JlXG4gICAgICogbmV3bGluZXMgZ2V0cyBhZGRlZCB0byB0aGUgdGV4dC4gU2luY2UgY3VycmVudCBzdHlsZSBuZWVkcyB0byBiZSBzaGlmdGVkXG4gICAgICogZmlyc3Qgd2Ugc2hpZnQgdGhlIGN1cnJlbnQgc3R5bGUgb2YgdGhlIG51bWJlciBsaW5lcyBuZWVkZWQsIHRoZW4gd2UgYWRkXG4gICAgICogbmV3IGxpbmVzIGZyb20gdGhlIGxhc3QgdG8gdGhlIGZpcnN0LlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSW5kZXggSW5kZXggb2YgYSBsaW5lXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGNoYXJJbmRleCBJbmRleCBvZiBhIGNoYXJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcXR5IG51bWJlciBvZiBsaW5lcyB0byBhZGRcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBjb3BpZWRTdHlsZSBBcnJheSBvZiBvYmplY3RzIHN0eWxlc1xuICAgICAqL1xuICAgIGluc2VydE5ld2xpbmVTdHlsZU9iamVjdDogZnVuY3Rpb24obGluZUluZGV4LCBjaGFySW5kZXgsIHF0eSwgY29waWVkU3R5bGUpIHtcbiAgICAgIHZhciBjdXJyZW50Q2hhclN0eWxlLFxuICAgICAgICAgIG5ld0xpbmVTdHlsZXMgPSB7fSxcbiAgICAgICAgICBzb21ldGhpbmdBZGRlZCA9IGZhbHNlLFxuICAgICAgICAgIGlzRW5kT2ZMaW5lID0gdGhpcy5fdW53cmFwcGVkVGV4dExpbmVzW2xpbmVJbmRleF0ubGVuZ3RoID09PSBjaGFySW5kZXg7XG5cbiAgICAgIHF0eSB8fCAocXR5ID0gMSk7XG4gICAgICB0aGlzLnNoaWZ0TGluZVN0eWxlcyhsaW5lSW5kZXgsIHF0eSk7XG4gICAgICBpZiAodGhpcy5zdHlsZXNbbGluZUluZGV4XSkge1xuICAgICAgICBjdXJyZW50Q2hhclN0eWxlID0gdGhpcy5zdHlsZXNbbGluZUluZGV4XVtjaGFySW5kZXggPT09IDAgPyBjaGFySW5kZXggOiBjaGFySW5kZXggLSAxXTtcbiAgICAgIH1cbiAgICAgIC8vIHdlIGNsb25lIHN0eWxlcyBvZiBhbGwgY2hhcnNcbiAgICAgIC8vIGFmdGVyIGN1cnNvciBvbnRvIHRoZSBjdXJyZW50IGxpbmVcbiAgICAgIGZvciAodmFyIGluZGV4IGluIHRoaXMuc3R5bGVzW2xpbmVJbmRleF0pIHtcbiAgICAgICAgdmFyIG51bUluZGV4ID0gcGFyc2VJbnQoaW5kZXgsIDEwKTtcbiAgICAgICAgaWYgKG51bUluZGV4ID49IGNoYXJJbmRleCkge1xuICAgICAgICAgIHNvbWV0aGluZ0FkZGVkID0gdHJ1ZTtcbiAgICAgICAgICBuZXdMaW5lU3R5bGVzW251bUluZGV4IC0gY2hhckluZGV4XSA9IHRoaXMuc3R5bGVzW2xpbmVJbmRleF1baW5kZXhdO1xuICAgICAgICAgIC8vIHJlbW92ZSBsaW5lcyBmcm9tIHRoZSBwcmV2aW91cyBsaW5lIHNpbmNlIHRoZXkncmUgb24gYSBuZXcgbGluZSBub3dcbiAgICAgICAgICBpZiAoIShpc0VuZE9mTGluZSAmJiBjaGFySW5kZXggPT09IDApKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5zdHlsZXNbbGluZUluZGV4XVtpbmRleF07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgc3R5bGVDYXJyaWVkT3ZlciA9IGZhbHNlO1xuICAgICAgaWYgKHNvbWV0aGluZ0FkZGVkICYmICFpc0VuZE9mTGluZSkge1xuICAgICAgICAvLyBpZiBpcyBlbmQgb2YgbGluZSwgdGhlIGV4dHJhIHN0eWxlIHdlIGNvcGllZFxuICAgICAgICAvLyBpcyBwcm9iYWJseSBub3Qgc29tZXRoaW5nIHdlIHdhbnRcbiAgICAgICAgdGhpcy5zdHlsZXNbbGluZUluZGV4ICsgcXR5XSA9IG5ld0xpbmVTdHlsZXM7XG4gICAgICAgIHN0eWxlQ2FycmllZE92ZXIgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHN0eWxlQ2FycmllZE92ZXIpIHtcbiAgICAgICAgLy8gc2tpcCB0aGUgbGFzdCBsaW5lIG9mIHNpbmNlIHdlIGFscmVhZHkgcHJlcGFyZWQgaXQuXG4gICAgICAgIHF0eS0tO1xuICAgICAgfVxuICAgICAgLy8gZm9yIHRoZSBhbGwgdGhlIGxpbmVzIG9yIGFsbCB0aGUgb3RoZXIgbGluZXNcbiAgICAgIC8vIHdlIGNsb25lIGN1cnJlbnQgY2hhciBzdHlsZSBvbnRvIHRoZSBuZXh0IChvdGhlcndpc2UgZW1wdHkpIGxpbmVcbiAgICAgIHdoaWxlIChxdHkgPiAwKSB7XG4gICAgICAgIGlmIChjb3BpZWRTdHlsZSAmJiBjb3BpZWRTdHlsZVtxdHkgLSAxXSkge1xuICAgICAgICAgIHRoaXMuc3R5bGVzW2xpbmVJbmRleCArIHF0eV0gPSB7IDA6IGNsb25lKGNvcGllZFN0eWxlW3F0eSAtIDFdKSB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGN1cnJlbnRDaGFyU3R5bGUpIHtcbiAgICAgICAgICB0aGlzLnN0eWxlc1tsaW5lSW5kZXggKyBxdHldID0geyAwOiBjbG9uZShjdXJyZW50Q2hhclN0eWxlKSB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSB0aGlzLnN0eWxlc1tsaW5lSW5kZXggKyBxdHldO1xuICAgICAgICB9XG4gICAgICAgIHF0eS0tO1xuICAgICAgfVxuICAgICAgdGhpcy5fZm9yY2VDbGVhckNhY2hlID0gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSW5zZXJ0cyBzdHlsZSBvYmplY3QgZm9yIGEgZ2l2ZW4gbGluZS9jaGFyIGluZGV4XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxpbmVJbmRleCBJbmRleCBvZiBhIGxpbmVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gY2hhckluZGV4IEluZGV4IG9mIGEgY2hhclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBxdWFudGl0eSBudW1iZXIgU3R5bGUgb2JqZWN0IHRvIGluc2VydCwgaWYgZ2l2ZW5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBjb3BpZWRTdHlsZSBhcnJheSBvZiBzdHlsZSBvYmplY3RzXG4gICAgICovXG4gICAgaW5zZXJ0Q2hhclN0eWxlT2JqZWN0OiBmdW5jdGlvbihsaW5lSW5kZXgsIGNoYXJJbmRleCwgcXVhbnRpdHksIGNvcGllZFN0eWxlKSB7XG4gICAgICBpZiAoIXRoaXMuc3R5bGVzKSB7XG4gICAgICAgIHRoaXMuc3R5bGVzID0ge307XG4gICAgICB9XG4gICAgICB2YXIgY3VycmVudExpbmVTdHlsZXMgICAgICAgPSB0aGlzLnN0eWxlc1tsaW5lSW5kZXhdLFxuICAgICAgICAgIGN1cnJlbnRMaW5lU3R5bGVzQ2xvbmVkID0gY3VycmVudExpbmVTdHlsZXMgPyBjbG9uZShjdXJyZW50TGluZVN0eWxlcykgOiB7fTtcblxuICAgICAgcXVhbnRpdHkgfHwgKHF1YW50aXR5ID0gMSk7XG4gICAgICAvLyBzaGlmdCBhbGwgY2hhciBzdHlsZXMgYnkgcXVhbnRpdHkgZm9yd2FyZFxuICAgICAgLy8gMCwxLDIsMyAtPiAoY2hhckluZGV4PTIpIC0+IDAsMSwzLDQgLT4gKGluc2VydCAyKSAtPiAwLDEsMiwzLDRcbiAgICAgIGZvciAodmFyIGluZGV4IGluIGN1cnJlbnRMaW5lU3R5bGVzQ2xvbmVkKSB7XG4gICAgICAgIHZhciBudW1lcmljSW5kZXggPSBwYXJzZUludChpbmRleCwgMTApO1xuICAgICAgICBpZiAobnVtZXJpY0luZGV4ID49IGNoYXJJbmRleCkge1xuICAgICAgICAgIGN1cnJlbnRMaW5lU3R5bGVzW251bWVyaWNJbmRleCArIHF1YW50aXR5XSA9IGN1cnJlbnRMaW5lU3R5bGVzQ2xvbmVkW251bWVyaWNJbmRleF07XG4gICAgICAgICAgLy8gb25seSBkZWxldGUgdGhlIHN0eWxlIGlmIHRoZXJlIHdhcyBub3RoaW5nIG1vdmVkIHRoZXJlXG4gICAgICAgICAgaWYgKCFjdXJyZW50TGluZVN0eWxlc0Nsb25lZFtudW1lcmljSW5kZXggLSBxdWFudGl0eV0pIHtcbiAgICAgICAgICAgIGRlbGV0ZSBjdXJyZW50TGluZVN0eWxlc1tudW1lcmljSW5kZXhdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5fZm9yY2VDbGVhckNhY2hlID0gdHJ1ZTtcbiAgICAgIGlmIChjb3BpZWRTdHlsZSkge1xuICAgICAgICB3aGlsZSAocXVhbnRpdHktLSkge1xuICAgICAgICAgIGlmICghT2JqZWN0LmtleXMoY29waWVkU3R5bGVbcXVhbnRpdHldKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIXRoaXMuc3R5bGVzW2xpbmVJbmRleF0pIHtcbiAgICAgICAgICAgIHRoaXMuc3R5bGVzW2xpbmVJbmRleF0gPSB7fTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5zdHlsZXNbbGluZUluZGV4XVtjaGFySW5kZXggKyBxdWFudGl0eV0gPSBjbG9uZShjb3BpZWRTdHlsZVtxdWFudGl0eV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghY3VycmVudExpbmVTdHlsZXMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIG5ld1N0eWxlID0gY3VycmVudExpbmVTdHlsZXNbY2hhckluZGV4ID8gY2hhckluZGV4IC0gMSA6IDFdO1xuICAgICAgd2hpbGUgKG5ld1N0eWxlICYmIHF1YW50aXR5LS0pIHtcbiAgICAgICAgdGhpcy5zdHlsZXNbbGluZUluZGV4XVtjaGFySW5kZXggKyBxdWFudGl0eV0gPSBjbG9uZShuZXdTdHlsZSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEluc2VydHMgc3R5bGUgb2JqZWN0KHMpXG4gICAgICogQHBhcmFtIHtBcnJheX0gaW5zZXJ0ZWRUZXh0IENoYXJhY3RlcnMgYXQgdGhlIGxvY2F0aW9uIHdoZXJlIHN0eWxlIGlzIGluc2VydGVkXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHN0YXJ0IGN1cnNvciBpbmRleCBmb3IgaW5zZXJ0aW5nIHN0eWxlXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2NvcGllZFN0eWxlXSBhcnJheSBvZiBzdHlsZSBvYmplY3RzIHRvIGluc2VydC5cbiAgICAgKi9cbiAgICBpbnNlcnROZXdTdHlsZUJsb2NrOiBmdW5jdGlvbihpbnNlcnRlZFRleHQsIHN0YXJ0LCBjb3BpZWRTdHlsZSkge1xuICAgICAgdmFyIGN1cnNvckxvYyA9IHRoaXMuZ2V0MkRDdXJzb3JMb2NhdGlvbihzdGFydCwgdHJ1ZSksXG4gICAgICAgICAgYWRkZWRMaW5lcyA9IFswXSwgbGluZXNMZW5ndGggPSAwO1xuICAgICAgLy8gZ2V0IGFuIGFycmF5IG9mIGhvdyBtYW55IGNoYXIgcGVyIGxpbmVzIGFyZSBiZWluZyBhZGRlZC5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5zZXJ0ZWRUZXh0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpbnNlcnRlZFRleHRbaV0gPT09ICdcXG4nKSB7XG4gICAgICAgICAgbGluZXNMZW5ndGgrKztcbiAgICAgICAgICBhZGRlZExpbmVzW2xpbmVzTGVuZ3RoXSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgYWRkZWRMaW5lc1tsaW5lc0xlbmd0aF0rKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gZm9yIHRoZSBmaXJzdCBsaW5lIGNvcHkgdGhlIHN0eWxlIGZyb20gdGhlIGN1cnJlbnQgY2hhciBwb3NpdGlvbi5cbiAgICAgIGlmIChhZGRlZExpbmVzWzBdID4gMCkge1xuICAgICAgICB0aGlzLmluc2VydENoYXJTdHlsZU9iamVjdChjdXJzb3JMb2MubGluZUluZGV4LCBjdXJzb3JMb2MuY2hhckluZGV4LCBhZGRlZExpbmVzWzBdLCBjb3BpZWRTdHlsZSk7XG4gICAgICAgIGNvcGllZFN0eWxlID0gY29waWVkU3R5bGUgJiYgY29waWVkU3R5bGUuc2xpY2UoYWRkZWRMaW5lc1swXSArIDEpO1xuICAgICAgfVxuICAgICAgbGluZXNMZW5ndGggJiYgdGhpcy5pbnNlcnROZXdsaW5lU3R5bGVPYmplY3QoXG4gICAgICAgIGN1cnNvckxvYy5saW5lSW5kZXgsIGN1cnNvckxvYy5jaGFySW5kZXggKyBhZGRlZExpbmVzWzBdLCBsaW5lc0xlbmd0aCk7XG4gICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGxpbmVzTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGFkZGVkTGluZXNbaV0gPiAwKSB7XG4gICAgICAgICAgdGhpcy5pbnNlcnRDaGFyU3R5bGVPYmplY3QoY3Vyc29yTG9jLmxpbmVJbmRleCArIGksIDAsIGFkZGVkTGluZXNbaV0sIGNvcGllZFN0eWxlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjb3BpZWRTdHlsZSkge1xuICAgICAgICAgIC8vIHRoaXMgdGVzdCBpcyByZXF1aXJlZCBpbiBvcmRlciB0byBjbG9zZSAjNjg0MVxuICAgICAgICAgIC8vIHdoZW4gYSBwYXN0ZWQgYnVmZmVyIGJlZ2lucyB3aXRoIGEgbmV3bGluZSB0aGVuXG4gICAgICAgICAgLy8gdGhpcy5zdHlsZXNbY3Vyc29yTG9jLmxpbmVJbmRleCArIGldIGFuZCBjb3BpZWRTdHlsZVswXVxuICAgICAgICAgIC8vIG1heSBiZSB1bmRlZmluZWQgZm9yIHNvbWUgcmVhc29uXG4gICAgICAgICAgaWYgKHRoaXMuc3R5bGVzW2N1cnNvckxvYy5saW5lSW5kZXggKyBpXSAmJiBjb3BpZWRTdHlsZVswXSkge1xuICAgICAgICAgICAgdGhpcy5zdHlsZXNbY3Vyc29yTG9jLmxpbmVJbmRleCArIGldWzBdID0gY29waWVkU3R5bGVbMF07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvcGllZFN0eWxlID0gY29waWVkU3R5bGUgJiYgY29waWVkU3R5bGUuc2xpY2UoYWRkZWRMaW5lc1tpXSArIDEpO1xuICAgICAgfVxuICAgICAgLy8gd2UgdXNlIGkgb3V0c2lkZSB0aGUgbG9vcCB0byBnZXQgaXQgbGlrZSBsaW5lc0xlbmd0aFxuICAgICAgaWYgKGFkZGVkTGluZXNbaV0gPiAwKSB7XG4gICAgICAgIHRoaXMuaW5zZXJ0Q2hhclN0eWxlT2JqZWN0KGN1cnNvckxvYy5saW5lSW5kZXggKyBpLCAwLCBhZGRlZExpbmVzW2ldLCBjb3BpZWRTdHlsZSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc2VsZWN0aW9uU3RhcnQgYW5kIHNlbGVjdGlvbkVuZCBhY2NvcmRpbmcgdG8gdGhlIG5ldyBwb3NpdGlvbiBvZiBjdXJzb3JcbiAgICAgKiBtaW1pYyB0aGUga2V5IC0gbW91c2UgbmF2aWdhdGlvbiB3aGVuIHNoaWZ0IGlzIHByZXNzZWQuXG4gICAgICovXG4gICAgc2V0U2VsZWN0aW9uU3RhcnRFbmRXaXRoU2hpZnQ6IGZ1bmN0aW9uKHN0YXJ0LCBlbmQsIG5ld1NlbGVjdGlvbikge1xuICAgICAgaWYgKG5ld1NlbGVjdGlvbiA8PSBzdGFydCkge1xuICAgICAgICBpZiAoZW5kID09PSBzdGFydCkge1xuICAgICAgICAgIHRoaXMuX3NlbGVjdGlvbkRpcmVjdGlvbiA9ICdsZWZ0JztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl9zZWxlY3Rpb25EaXJlY3Rpb24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgICB0aGlzLl9zZWxlY3Rpb25EaXJlY3Rpb24gPSAnbGVmdCc7XG4gICAgICAgICAgdGhpcy5zZWxlY3Rpb25FbmQgPSBzdGFydDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlbGVjdGlvblN0YXJ0ID0gbmV3U2VsZWN0aW9uO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAobmV3U2VsZWN0aW9uID4gc3RhcnQgJiYgbmV3U2VsZWN0aW9uIDwgZW5kKSB7XG4gICAgICAgIGlmICh0aGlzLl9zZWxlY3Rpb25EaXJlY3Rpb24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgICB0aGlzLnNlbGVjdGlvbkVuZCA9IG5ld1NlbGVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNlbGVjdGlvblN0YXJ0ID0gbmV3U2VsZWN0aW9uO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgLy8gbmV3U2VsZWN0aW9uIGlzID4gc2VsZWN0aW9uIHN0YXJ0IGFuZCBlbmRcbiAgICAgICAgaWYgKGVuZCA9PT0gc3RhcnQpIHtcbiAgICAgICAgICB0aGlzLl9zZWxlY3Rpb25EaXJlY3Rpb24gPSAncmlnaHQnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX3NlbGVjdGlvbkRpcmVjdGlvbiA9PT0gJ2xlZnQnKSB7XG4gICAgICAgICAgdGhpcy5fc2VsZWN0aW9uRGlyZWN0aW9uID0gJ3JpZ2h0JztcbiAgICAgICAgICB0aGlzLnNlbGVjdGlvblN0YXJ0ID0gZW5kO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uRW5kID0gbmV3U2VsZWN0aW9uO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBzZXRTZWxlY3Rpb25JbkJvdW5kYXJpZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGxlbmd0aCA9IHRoaXMudGV4dC5sZW5ndGg7XG4gICAgICBpZiAodGhpcy5zZWxlY3Rpb25TdGFydCA+IGxlbmd0aCkge1xuICAgICAgICB0aGlzLnNlbGVjdGlvblN0YXJ0ID0gbGVuZ3RoO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodGhpcy5zZWxlY3Rpb25TdGFydCA8IDApIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25TdGFydCA9IDA7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5zZWxlY3Rpb25FbmQgPiBsZW5ndGgpIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25FbmQgPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICh0aGlzLnNlbGVjdGlvbkVuZCA8IDApIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25FbmQgPSAwO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59KSgpO1xuXG5cbmZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQoZmFicmljLklUZXh0LnByb3RvdHlwZSwgLyoqIEBsZW5kcyBmYWJyaWMuSVRleHQucHJvdG90eXBlICovIHtcbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIFwiZGJjbGlja1wiIGV2ZW50IGhhbmRsZXJcbiAgICovXG4gIGluaXREb3VibGVDbGlja1NpbXVsYXRpb246IGZ1bmN0aW9uKCkge1xuXG4gICAgLy8gZm9yIGRvdWJsZSBjbGlja1xuICAgIHRoaXMuX19sYXN0Q2xpY2tUaW1lID0gK25ldyBEYXRlKCk7XG5cbiAgICAvLyBmb3IgdHJpcGxlIGNsaWNrXG4gICAgdGhpcy5fX2xhc3RMYXN0Q2xpY2tUaW1lID0gK25ldyBEYXRlKCk7XG5cbiAgICB0aGlzLl9fbGFzdFBvaW50ZXIgPSB7IH07XG5cbiAgICB0aGlzLm9uKCdtb3VzZWRvd24nLCB0aGlzLm9uTW91c2VEb3duKTtcbiAgfSxcblxuICAvKipcbiAgICogRGVmYXVsdCBldmVudCBoYW5kbGVyIHRvIHNpbXVsYXRlIHRyaXBsZSBjbGlja1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgb25Nb3VzZURvd246IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICBpZiAoIXRoaXMuY2FudmFzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX19uZXdDbGlja1RpbWUgPSArbmV3IERhdGUoKTtcbiAgICB2YXIgbmV3UG9pbnRlciA9IG9wdGlvbnMucG9pbnRlcjtcbiAgICBpZiAodGhpcy5pc1RyaXBsZUNsaWNrKG5ld1BvaW50ZXIpKSB7XG4gICAgICB0aGlzLmZpcmUoJ3RyaXBsZWNsaWNrJywgb3B0aW9ucyk7XG4gICAgICB0aGlzLl9zdG9wRXZlbnQob3B0aW9ucy5lKTtcbiAgICB9XG4gICAgdGhpcy5fX2xhc3RMYXN0Q2xpY2tUaW1lID0gdGhpcy5fX2xhc3RDbGlja1RpbWU7XG4gICAgdGhpcy5fX2xhc3RDbGlja1RpbWUgPSB0aGlzLl9fbmV3Q2xpY2tUaW1lO1xuICAgIHRoaXMuX19sYXN0UG9pbnRlciA9IG5ld1BvaW50ZXI7XG4gICAgdGhpcy5fX2xhc3RJc0VkaXRpbmcgPSB0aGlzLmlzRWRpdGluZztcbiAgICB0aGlzLl9fbGFzdFNlbGVjdGVkID0gdGhpcy5zZWxlY3RlZDtcbiAgfSxcblxuICBpc1RyaXBsZUNsaWNrOiBmdW5jdGlvbihuZXdQb2ludGVyKSB7XG4gICAgcmV0dXJuIHRoaXMuX19uZXdDbGlja1RpbWUgLSB0aGlzLl9fbGFzdENsaWNrVGltZSA8IDUwMCAmJlxuICAgICAgICB0aGlzLl9fbGFzdENsaWNrVGltZSAtIHRoaXMuX19sYXN0TGFzdENsaWNrVGltZSA8IDUwMCAmJlxuICAgICAgICB0aGlzLl9fbGFzdFBvaW50ZXIueCA9PT0gbmV3UG9pbnRlci54ICYmXG4gICAgICAgIHRoaXMuX19sYXN0UG9pbnRlci55ID09PSBuZXdQb2ludGVyLnk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc3RvcEV2ZW50OiBmdW5jdGlvbihlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCAmJiBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24gJiYgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfSxcblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgZXZlbnQgaGFuZGxlcnMgcmVsYXRlZCB0byBjdXJzb3Igb3Igc2VsZWN0aW9uXG4gICAqL1xuICBpbml0Q3Vyc29yU2VsZWN0aW9uSGFuZGxlcnM6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaW5pdE1vdXNlZG93bkhhbmRsZXIoKTtcbiAgICB0aGlzLmluaXRNb3VzZXVwSGFuZGxlcigpO1xuICAgIHRoaXMuaW5pdENsaWNrcygpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IGhhbmRsZXIgZm9yIGRvdWJsZSBjbGljaywgc2VsZWN0IGEgd29yZFxuICAgKi9cbiAgZG91YmxlQ2xpY2tIYW5kbGVyOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgaWYgKCF0aGlzLmlzRWRpdGluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnNlbGVjdFdvcmQodGhpcy5nZXRTZWxlY3Rpb25TdGFydEZyb21Qb2ludGVyKG9wdGlvbnMuZSkpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IGhhbmRsZXIgZm9yIHRyaXBsZSBjbGljaywgc2VsZWN0IGEgbGluZVxuICAgKi9cbiAgdHJpcGxlQ2xpY2tIYW5kbGVyOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgaWYgKCF0aGlzLmlzRWRpdGluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnNlbGVjdExpbmUodGhpcy5nZXRTZWxlY3Rpb25TdGFydEZyb21Qb2ludGVyKG9wdGlvbnMuZSkpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBkb3VibGUgYW5kIHRyaXBsZSBjbGljayBldmVudCBoYW5kbGVyc1xuICAgKi9cbiAgaW5pdENsaWNrczogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5vbignbW91c2VkYmxjbGljaycsIHRoaXMuZG91YmxlQ2xpY2tIYW5kbGVyKTtcbiAgICB0aGlzLm9uKCd0cmlwbGVjbGljaycsIHRoaXMudHJpcGxlQ2xpY2tIYW5kbGVyKTtcbiAgfSxcblxuICAvKipcbiAgICogRGVmYXVsdCBldmVudCBoYW5kbGVyIGZvciB0aGUgYmFzaWMgZnVuY3Rpb25hbGl0aWVzIG5lZWRlZCBvbiBfbW91c2VEb3duXG4gICAqIGNhbiBiZSBvdmVycmlkZGVuIHRvIGRvIHNvbWV0aGluZyBkaWZmZXJlbnQuXG4gICAqIFNjb3BlIG9mIHRoaXMgaW1wbGVtZW50YXRpb24gaXM6IGZpbmQgdGhlIGNsaWNrIHBvc2l0aW9uLCBzZXQgc2VsZWN0aW9uU3RhcnRcbiAgICogZmluZCBzZWxlY3Rpb25FbmQsIGluaXRpYWxpemUgdGhlIGRyYXdpbmcgb2YgZWl0aGVyIGN1cnNvciBvciBzZWxlY3Rpb24gYXJlYVxuICAgKiBpbml0aWFsaXppbmcgYSBtb3VzZWREb3duIG9uIGEgdGV4dCBhcmVhIHdpbGwgY2FuY2VsIGZhYnJpY2pzIGtub3dsZWRnZSBvZlxuICAgKiBjdXJyZW50IGNvbXBvc2l0aW9uTW9kZS4gSXQgd2lsbCBiZSBzZXQgdG8gZmFsc2UuXG4gICAqL1xuICBfbW91c2VEb3duSGFuZGxlcjogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIGlmICghdGhpcy5jYW52YXMgfHwgIXRoaXMuZWRpdGFibGUgfHwgKG9wdGlvbnMuZS5idXR0b24gJiYgb3B0aW9ucy5lLmJ1dHRvbiAhPT0gMSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9faXNNb3VzZWRvd24gPSB0cnVlO1xuXG4gICAgaWYgKHRoaXMuc2VsZWN0ZWQpIHtcbiAgICAgIHRoaXMuaW5Db21wb3NpdGlvbk1vZGUgPSBmYWxzZTtcbiAgICAgIHRoaXMuc2V0Q3Vyc29yQnlDbGljayhvcHRpb25zLmUpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmlzRWRpdGluZykge1xuICAgICAgdGhpcy5fX3NlbGVjdGlvblN0YXJ0T25Nb3VzZURvd24gPSB0aGlzLnNlbGVjdGlvblN0YXJ0O1xuICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uU3RhcnQgPT09IHRoaXMuc2VsZWN0aW9uRW5kKSB7XG4gICAgICAgIHRoaXMuYWJvcnRDdXJzb3JBbmltYXRpb24oKTtcbiAgICAgIH1cbiAgICAgIHRoaXMucmVuZGVyQ3Vyc29yT3JTZWxlY3Rpb24oKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIERlZmF1bHQgZXZlbnQgaGFuZGxlciBmb3IgdGhlIGJhc2ljIGZ1bmN0aW9uYWxpdGllcyBuZWVkZWQgb24gbW91c2Vkb3duOmJlZm9yZVxuICAgKiBjYW4gYmUgb3ZlcnJpZGRlbiB0byBkbyBzb21ldGhpbmcgZGlmZmVyZW50LlxuICAgKiBTY29wZSBvZiB0aGlzIGltcGxlbWVudGF0aW9uIGlzOiB2ZXJpZnkgdGhlIG9iamVjdCBpcyBhbHJlYWR5IHNlbGVjdGVkIHdoZW4gbW91c2luZyBkb3duXG4gICAqL1xuICBfbW91c2VEb3duSGFuZGxlckJlZm9yZTogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIGlmICghdGhpcy5jYW52YXMgfHwgIXRoaXMuZWRpdGFibGUgfHwgKG9wdGlvbnMuZS5idXR0b24gJiYgb3B0aW9ucy5lLmJ1dHRvbiAhPT0gMSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gd2Ugd2FudCB0byBhdm9pZCB0aGF0IGFuIG9iamVjdCB0aGF0IHdhcyBzZWxlY3RlZCBhbmQgdGhlbiBiZWNvbWVzIHVuc2VsZWN0YWJsZSxcbiAgICAvLyBtYXkgdHJpZ2dlciBlZGl0aW5nIG1vZGUgaW4gc29tZSB3YXkuXG4gICAgdGhpcy5zZWxlY3RlZCA9IHRoaXMgPT09IHRoaXMuY2FudmFzLl9hY3RpdmVPYmplY3Q7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIFwibW91c2Vkb3duXCIgZXZlbnQgaGFuZGxlclxuICAgKi9cbiAgaW5pdE1vdXNlZG93bkhhbmRsZXI6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMub24oJ21vdXNlZG93bicsIHRoaXMuX21vdXNlRG93bkhhbmRsZXIpO1xuICAgIHRoaXMub24oJ21vdXNlZG93bjpiZWZvcmUnLCB0aGlzLl9tb3VzZURvd25IYW5kbGVyQmVmb3JlKTtcbiAgfSxcblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgXCJtb3VzZXVwXCIgZXZlbnQgaGFuZGxlclxuICAgKi9cbiAgaW5pdE1vdXNldXBIYW5kbGVyOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLm9uKCdtb3VzZXVwJywgdGhpcy5tb3VzZVVwSGFuZGxlcik7XG4gIH0sXG5cbiAgLyoqXG4gICAqIHN0YW5kYXJkIGhhbmRsZXIgZm9yIG1vdXNlIHVwLCBvdmVycmlkYWJsZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgbW91c2VVcEhhbmRsZXI6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICB0aGlzLl9faXNNb3VzZWRvd24gPSBmYWxzZTtcbiAgICBpZiAoIXRoaXMuZWRpdGFibGUgfHwgdGhpcy5ncm91cCB8fFxuICAgICAgKG9wdGlvbnMudHJhbnNmb3JtICYmIG9wdGlvbnMudHJhbnNmb3JtLmFjdGlvblBlcmZvcm1lZCkgfHxcbiAgICAgIChvcHRpb25zLmUuYnV0dG9uICYmIG9wdGlvbnMuZS5idXR0b24gIT09IDEpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY2FudmFzKSB7XG4gICAgICB2YXIgY3VycmVudEFjdGl2ZSA9IHRoaXMuY2FudmFzLl9hY3RpdmVPYmplY3Q7XG4gICAgICBpZiAoY3VycmVudEFjdGl2ZSAmJiBjdXJyZW50QWN0aXZlICE9PSB0aGlzKSB7XG4gICAgICAgIC8vIGF2b2lkIHJ1bm5pbmcgdGhpcyBsb2dpYyB3aGVuIHRoZXJlIGlzIGFuIGFjdGl2ZSBvYmplY3RcbiAgICAgICAgLy8gdGhpcyBiZWNhdXNlIGlzIHBvc3NpYmxlIHdpdGggc2hpZnQgY2xpY2sgYW5kIGZhc3QgY2xpY2tzLFxuICAgICAgICAvLyB0byByYXBpZGx5IGRlc2VsZWN0IGFuZCByZXNlbGVjdCB0aGlzIG9iamVjdCBhbmQgdHJpZ2dlciBhbiBlbnRlckVkaXRcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLl9fbGFzdFNlbGVjdGVkICYmICF0aGlzLl9fY29ybmVyKSB7XG4gICAgICB0aGlzLnNlbGVjdGVkID0gZmFsc2U7XG4gICAgICB0aGlzLl9fbGFzdFNlbGVjdGVkID0gZmFsc2U7XG4gICAgICB0aGlzLmVudGVyRWRpdGluZyhvcHRpb25zLmUpO1xuICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uU3RhcnQgPT09IHRoaXMuc2VsZWN0aW9uRW5kKSB7XG4gICAgICAgIHRoaXMuaW5pdERlbGF5ZWRDdXJzb3IodHJ1ZSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5yZW5kZXJDdXJzb3JPclNlbGVjdGlvbigpO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuc2VsZWN0ZWQgPSB0cnVlO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQ2hhbmdlcyBjdXJzb3IgbG9jYXRpb24gaW4gYSB0ZXh0IGRlcGVuZGluZyBvbiBwYXNzZWQgcG9pbnRlciAoeC95KSBvYmplY3RcbiAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICovXG4gIHNldEN1cnNvckJ5Q2xpY2s6IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgbmV3U2VsZWN0aW9uID0gdGhpcy5nZXRTZWxlY3Rpb25TdGFydEZyb21Qb2ludGVyKGUpLFxuICAgICAgICBzdGFydCA9IHRoaXMuc2VsZWN0aW9uU3RhcnQsIGVuZCA9IHRoaXMuc2VsZWN0aW9uRW5kO1xuICAgIGlmIChlLnNoaWZ0S2V5KSB7XG4gICAgICB0aGlzLnNldFNlbGVjdGlvblN0YXJ0RW5kV2l0aFNoaWZ0KHN0YXJ0LCBlbmQsIG5ld1NlbGVjdGlvbik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5zZWxlY3Rpb25TdGFydCA9IG5ld1NlbGVjdGlvbjtcbiAgICAgIHRoaXMuc2VsZWN0aW9uRW5kID0gbmV3U2VsZWN0aW9uO1xuICAgIH1cbiAgICBpZiAodGhpcy5pc0VkaXRpbmcpIHtcbiAgICAgIHRoaXMuX2ZpcmVTZWxlY3Rpb25DaGFuZ2VkKCk7XG4gICAgICB0aGlzLl91cGRhdGVUZXh0YXJlYSgpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogUmV0dXJucyBpbmRleCBvZiBhIGNoYXJhY3RlciBjb3JyZXNwb25kaW5nIHRvIHdoZXJlIGFuIG9iamVjdCB3YXMgY2xpY2tlZFxuICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IEluZGV4IG9mIGEgY2hhcmFjdGVyXG4gICAqL1xuICBnZXRTZWxlY3Rpb25TdGFydEZyb21Qb2ludGVyOiBmdW5jdGlvbihlKSB7XG4gICAgdmFyIG1vdXNlT2Zmc2V0ID0gdGhpcy5nZXRMb2NhbFBvaW50ZXIoZSksXG4gICAgICAgIHByZXZXaWR0aCA9IDAsXG4gICAgICAgIHdpZHRoID0gMCxcbiAgICAgICAgaGVpZ2h0ID0gMCxcbiAgICAgICAgY2hhckluZGV4ID0gMCxcbiAgICAgICAgbGluZUluZGV4ID0gMCxcbiAgICAgICAgbGluZUxlZnRPZmZzZXQsXG4gICAgICAgIGxpbmU7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMuX3RleHRMaW5lcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKGhlaWdodCA8PSBtb3VzZU9mZnNldC55KSB7XG4gICAgICAgIGhlaWdodCArPSB0aGlzLmdldEhlaWdodE9mTGluZShpKSAqIHRoaXMuc2NhbGVZO1xuICAgICAgICBsaW5lSW5kZXggPSBpO1xuICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICBjaGFySW5kZXggKz0gdGhpcy5fdGV4dExpbmVzW2kgLSAxXS5sZW5ndGggKyB0aGlzLm1pc3NpbmdOZXdsaW5lT2Zmc2V0KGkgLSAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBsaW5lTGVmdE9mZnNldCA9IHRoaXMuX2dldExpbmVMZWZ0T2Zmc2V0KGxpbmVJbmRleCk7XG4gICAgd2lkdGggPSBsaW5lTGVmdE9mZnNldCAqIHRoaXMuc2NhbGVYO1xuICAgIGxpbmUgPSB0aGlzLl90ZXh0TGluZXNbbGluZUluZGV4XTtcbiAgICAvLyBoYW5kbGluZyBvZiBSVEw6IGluIG9yZGVyIHRvIGdldCB0aGluZ3Mgd29yayBjb3JyZWN0bHksXG4gICAgLy8gd2UgYXNzdW1lIFJUTCB3cml0aW5nIGlzIG1pcnJvcmVkIGNvbXBhcmVkIHRvIExUUiB3cml0aW5nLlxuICAgIC8vIHNvIGluIHBvc2l0aW9uIGRldGVjdGlvbiB3ZSBtaXJyb3IgdGhlIFggb2Zmc2V0LCBhbmQgd2hlbiBpcyB0aW1lXG4gICAgLy8gb2YgcmVuZGVyaW5nIGl0LCB3ZSBtaXJyb3IgaXQgYWdhaW4uXG4gICAgaWYgKHRoaXMuZGlyZWN0aW9uID09PSAncnRsJykge1xuICAgICAgbW91c2VPZmZzZXQueCA9IHRoaXMud2lkdGggKiB0aGlzLnNjYWxlWCAtIG1vdXNlT2Zmc2V0LnggKyB3aWR0aDtcbiAgICB9XG4gICAgZm9yICh2YXIgaiA9IDAsIGpsZW4gPSBsaW5lLmxlbmd0aDsgaiA8IGpsZW47IGorKykge1xuICAgICAgcHJldldpZHRoID0gd2lkdGg7XG4gICAgICAvLyBpIHJlbW92ZWQgc29tZXRoaW5nIGFib3V0IGZsaXBYIGhlcmUsIGNoZWNrLlxuICAgICAgd2lkdGggKz0gdGhpcy5fX2NoYXJCb3VuZHNbbGluZUluZGV4XVtqXS5rZXJuZWRXaWR0aCAqIHRoaXMuc2NhbGVYO1xuICAgICAgaWYgKHdpZHRoIDw9IG1vdXNlT2Zmc2V0LngpIHtcbiAgICAgICAgY2hhckluZGV4Kys7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9nZXROZXdTZWxlY3Rpb25TdGFydEZyb21PZmZzZXQobW91c2VPZmZzZXQsIHByZXZXaWR0aCwgd2lkdGgsIGNoYXJJbmRleCwgamxlbik7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZ2V0TmV3U2VsZWN0aW9uU3RhcnRGcm9tT2Zmc2V0OiBmdW5jdGlvbihtb3VzZU9mZnNldCwgcHJldldpZHRoLCB3aWR0aCwgaW5kZXgsIGpsZW4pIHtcbiAgICAvLyB3ZSBuZWVkIE1hdGguYWJzIGJlY2F1c2Ugd2hlbiB3aWR0aCBpcyBhZnRlciB0aGUgbGFzdCBjaGFyLCB0aGUgb2Zmc2V0IGlzIGdpdmVuIGFzIDEsIHdoaWxlIGlzIDBcbiAgICB2YXIgZGlzdGFuY2VCdHdMYXN0Q2hhckFuZEN1cnNvciA9IG1vdXNlT2Zmc2V0LnggLSBwcmV2V2lkdGgsXG4gICAgICAgIGRpc3RhbmNlQnR3TmV4dENoYXJBbmRDdXJzb3IgPSB3aWR0aCAtIG1vdXNlT2Zmc2V0LngsXG4gICAgICAgIG9mZnNldCA9IGRpc3RhbmNlQnR3TmV4dENoYXJBbmRDdXJzb3IgPiBkaXN0YW5jZUJ0d0xhc3RDaGFyQW5kQ3Vyc29yIHx8XG4gICAgICAgICAgZGlzdGFuY2VCdHdOZXh0Q2hhckFuZEN1cnNvciA8IDAgPyAwIDogMSxcbiAgICAgICAgbmV3U2VsZWN0aW9uU3RhcnQgPSBpbmRleCArIG9mZnNldDtcbiAgICAvLyBpZiBvYmplY3QgaXMgaG9yaXpvbnRhbGx5IGZsaXBwZWQsIG1pcnJvciBjdXJzb3IgbG9jYXRpb24gZnJvbSB0aGUgZW5kXG4gICAgaWYgKHRoaXMuZmxpcFgpIHtcbiAgICAgIG5ld1NlbGVjdGlvblN0YXJ0ID0gamxlbiAtIG5ld1NlbGVjdGlvblN0YXJ0O1xuICAgIH1cblxuICAgIGlmIChuZXdTZWxlY3Rpb25TdGFydCA+IHRoaXMuX3RleHQubGVuZ3RoKSB7XG4gICAgICBuZXdTZWxlY3Rpb25TdGFydCA9IHRoaXMuX3RleHQubGVuZ3RoO1xuICAgIH1cblxuICAgIHJldHVybiBuZXdTZWxlY3Rpb25TdGFydDtcbiAgfVxufSk7XG5cblxuZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZChmYWJyaWMuSVRleHQucHJvdG90eXBlLCAvKiogQGxlbmRzIGZhYnJpYy5JVGV4dC5wcm90b3R5cGUgKi8ge1xuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBoaWRkZW4gdGV4dGFyZWEgKG5lZWRlZCB0byBicmluZyB1cCBrZXlib2FyZCBpbiBpT1MpXG4gICAqL1xuICBpbml0SGlkZGVuVGV4dGFyZWE6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaGlkZGVuVGV4dGFyZWEgPSBmYWJyaWMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcbiAgICB0aGlzLmhpZGRlblRleHRhcmVhLnNldEF0dHJpYnV0ZSgnYXV0b2NhcGl0YWxpemUnLCAnb2ZmJyk7XG4gICAgdGhpcy5oaWRkZW5UZXh0YXJlYS5zZXRBdHRyaWJ1dGUoJ2F1dG9jb3JyZWN0JywgJ29mZicpO1xuICAgIHRoaXMuaGlkZGVuVGV4dGFyZWEuc2V0QXR0cmlidXRlKCdhdXRvY29tcGxldGUnLCAnb2ZmJyk7XG4gICAgdGhpcy5oaWRkZW5UZXh0YXJlYS5zZXRBdHRyaWJ1dGUoJ3NwZWxsY2hlY2snLCAnZmFsc2UnKTtcbiAgICB0aGlzLmhpZGRlblRleHRhcmVhLnNldEF0dHJpYnV0ZSgnZGF0YS1mYWJyaWMtaGlkZGVudGV4dGFyZWEnLCAnJyk7XG4gICAgdGhpcy5oaWRkZW5UZXh0YXJlYS5zZXRBdHRyaWJ1dGUoJ3dyYXAnLCAnb2ZmJyk7XG4gICAgdmFyIHN0eWxlID0gdGhpcy5fY2FsY1RleHRhcmVhUG9zaXRpb24oKTtcbiAgICAvLyBsaW5lLWhlaWdodDogMXB4OyB3YXMgcmVtb3ZlZCBmcm9tIHRoZSBzdHlsZSB0byBmaXggdGhpczpcbiAgICAvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD04NzA5NjZcbiAgICB0aGlzLmhpZGRlblRleHRhcmVhLnN0eWxlLmNzc1RleHQgPSAncG9zaXRpb246IGFic29sdXRlOyB0b3A6ICcgKyBzdHlsZS50b3AgK1xuICAgICc7IGxlZnQ6ICcgKyBzdHlsZS5sZWZ0ICsgJzsgei1pbmRleDogLTk5OTsgb3BhY2l0eTogMDsgd2lkdGg6IDFweDsgaGVpZ2h0OiAxcHg7IGZvbnQtc2l6ZTogMXB4OycgK1xuICAgICcgcGFkZGluZy10b3A6ICcgKyBzdHlsZS5mb250U2l6ZSArICc7JztcblxuICAgIGlmICh0aGlzLmhpZGRlblRleHRhcmVhQ29udGFpbmVyKSB7XG4gICAgICB0aGlzLmhpZGRlblRleHRhcmVhQ29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuaGlkZGVuVGV4dGFyZWEpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGZhYnJpYy5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuaGlkZGVuVGV4dGFyZWEpO1xuICAgIH1cblxuICAgIGZhYnJpYy51dGlsLmFkZExpc3RlbmVyKHRoaXMuaGlkZGVuVGV4dGFyZWEsICdrZXlkb3duJywgdGhpcy5vbktleURvd24uYmluZCh0aGlzKSk7XG4gICAgZmFicmljLnV0aWwuYWRkTGlzdGVuZXIodGhpcy5oaWRkZW5UZXh0YXJlYSwgJ2tleXVwJywgdGhpcy5vbktleVVwLmJpbmQodGhpcykpO1xuICAgIGZhYnJpYy51dGlsLmFkZExpc3RlbmVyKHRoaXMuaGlkZGVuVGV4dGFyZWEsICdpbnB1dCcsIHRoaXMub25JbnB1dC5iaW5kKHRoaXMpKTtcbiAgICBmYWJyaWMudXRpbC5hZGRMaXN0ZW5lcih0aGlzLmhpZGRlblRleHRhcmVhLCAnY29weScsIHRoaXMuY29weS5iaW5kKHRoaXMpKTtcbiAgICBmYWJyaWMudXRpbC5hZGRMaXN0ZW5lcih0aGlzLmhpZGRlblRleHRhcmVhLCAnY3V0JywgdGhpcy5jb3B5LmJpbmQodGhpcykpO1xuICAgIGZhYnJpYy51dGlsLmFkZExpc3RlbmVyKHRoaXMuaGlkZGVuVGV4dGFyZWEsICdwYXN0ZScsIHRoaXMucGFzdGUuYmluZCh0aGlzKSk7XG4gICAgZmFicmljLnV0aWwuYWRkTGlzdGVuZXIodGhpcy5oaWRkZW5UZXh0YXJlYSwgJ2NvbXBvc2l0aW9uc3RhcnQnLCB0aGlzLm9uQ29tcG9zaXRpb25TdGFydC5iaW5kKHRoaXMpKTtcbiAgICBmYWJyaWMudXRpbC5hZGRMaXN0ZW5lcih0aGlzLmhpZGRlblRleHRhcmVhLCAnY29tcG9zaXRpb251cGRhdGUnLCB0aGlzLm9uQ29tcG9zaXRpb25VcGRhdGUuYmluZCh0aGlzKSk7XG4gICAgZmFicmljLnV0aWwuYWRkTGlzdGVuZXIodGhpcy5oaWRkZW5UZXh0YXJlYSwgJ2NvbXBvc2l0aW9uZW5kJywgdGhpcy5vbkNvbXBvc2l0aW9uRW5kLmJpbmQodGhpcykpO1xuXG4gICAgaWYgKCF0aGlzLl9jbGlja0hhbmRsZXJJbml0aWFsaXplZCAmJiB0aGlzLmNhbnZhcykge1xuICAgICAgZmFicmljLnV0aWwuYWRkTGlzdGVuZXIodGhpcy5jYW52YXMudXBwZXJDYW52YXNFbCwgJ2NsaWNrJywgdGhpcy5vbkNsaWNrLmJpbmQodGhpcykpO1xuICAgICAgdGhpcy5fY2xpY2tIYW5kbGVySW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogRm9yIGZ1bmN0aW9uYWxpdGllcyBvbiBrZXlEb3duXG4gICAqIE1hcCBhIHNwZWNpYWwga2V5IHRvIGEgZnVuY3Rpb24gb2YgdGhlIGluc3RhbmNlL3Byb3RvdHlwZVxuICAgKiBJZiB5b3UgbmVlZCBkaWZmZXJlbnQgYmVoYXZpb3VyIGZvciBFU0Mgb3IgVEFCIG9yIGFycm93cywgeW91IGhhdmUgdG8gY2hhbmdlXG4gICAqIHRoaXMgbWFwIHNldHRpbmcgdGhlIG5hbWUgb2YgYSBmdW5jdGlvbiB0aGF0IHlvdSBidWlsZCBvbiB0aGUgZmFicmljLkl0ZXh0IG9yXG4gICAqIHlvdXIgcHJvdG90eXBlLlxuICAgKiB0aGUgbWFwIGNoYW5nZSB3aWxsIGFmZmVjdCBhbGwgSW5zdGFuY2VzIHVubGVzcyB5b3UgbmVlZCBmb3Igb25seSBzb21lIHRleHQgSW5zdGFuY2VzXG4gICAqIGluIHRoYXQgY2FzZSB5b3UgaGF2ZSB0byBjbG9uZSB0aGlzIG9iamVjdCBhbmQgYXNzaWduIHlvdXIgSW5zdGFuY2UuXG4gICAqIHRoaXMua2V5c01hcCA9IGZhYnJpYy51dGlsLm9iamVjdC5jbG9uZSh0aGlzLmtleXNNYXApO1xuICAgKiBUaGUgZnVuY3Rpb24gbXVzdCBiZSBpbiBmYWJyaWMuSXRleHQucHJvdG90eXBlLm15RnVuY3Rpb24gQW5kIHdpbGwgcmVjZWl2ZSBldmVudCBhcyBhcmdzWzBdXG4gICAqL1xuICBrZXlzTWFwOiB7XG4gICAgOTogICdleGl0RWRpdGluZycsXG4gICAgMjc6ICdleGl0RWRpdGluZycsXG4gICAgMzM6ICdtb3ZlQ3Vyc29yVXAnLFxuICAgIDM0OiAnbW92ZUN1cnNvckRvd24nLFxuICAgIDM1OiAnbW92ZUN1cnNvclJpZ2h0JyxcbiAgICAzNjogJ21vdmVDdXJzb3JMZWZ0JyxcbiAgICAzNzogJ21vdmVDdXJzb3JMZWZ0JyxcbiAgICAzODogJ21vdmVDdXJzb3JVcCcsXG4gICAgMzk6ICdtb3ZlQ3Vyc29yUmlnaHQnLFxuICAgIDQwOiAnbW92ZUN1cnNvckRvd24nLFxuICB9LFxuXG4gIGtleXNNYXBSdGw6IHtcbiAgICA5OiAgJ2V4aXRFZGl0aW5nJyxcbiAgICAyNzogJ2V4aXRFZGl0aW5nJyxcbiAgICAzMzogJ21vdmVDdXJzb3JVcCcsXG4gICAgMzQ6ICdtb3ZlQ3Vyc29yRG93bicsXG4gICAgMzU6ICdtb3ZlQ3Vyc29yTGVmdCcsXG4gICAgMzY6ICdtb3ZlQ3Vyc29yUmlnaHQnLFxuICAgIDM3OiAnbW92ZUN1cnNvclJpZ2h0JyxcbiAgICAzODogJ21vdmVDdXJzb3JVcCcsXG4gICAgMzk6ICdtb3ZlQ3Vyc29yTGVmdCcsXG4gICAgNDA6ICdtb3ZlQ3Vyc29yRG93bicsXG4gIH0sXG5cbiAgLyoqXG4gICAqIEZvciBmdW5jdGlvbmFsaXRpZXMgb24ga2V5VXAgKyBjdHJsIHx8IGNtZFxuICAgKi9cbiAgY3RybEtleXNNYXBVcDoge1xuICAgIDY3OiAnY29weScsXG4gICAgODg6ICdjdXQnXG4gIH0sXG5cbiAgLyoqXG4gICAqIEZvciBmdW5jdGlvbmFsaXRpZXMgb24ga2V5RG93biArIGN0cmwgfHwgY21kXG4gICAqL1xuICBjdHJsS2V5c01hcERvd246IHtcbiAgICA2NTogJ3NlbGVjdEFsbCdcbiAgfSxcblxuICBvbkNsaWNrOiBmdW5jdGlvbigpIHtcbiAgICAvLyBObyBuZWVkIHRvIHRyaWdnZXIgY2xpY2sgZXZlbnQgaGVyZSwgZm9jdXMgaXMgZW5vdWdoIHRvIGhhdmUgdGhlIGtleWJvYXJkIGFwcGVhciBvbiBBbmRyb2lkXG4gICAgdGhpcy5oaWRkZW5UZXh0YXJlYSAmJiB0aGlzLmhpZGRlblRleHRhcmVhLmZvY3VzKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEhhbmRsZXMga2V5ZG93biBldmVudFxuICAgKiBvbmx5IHVzZWQgZm9yIGFycm93cyBhbmQgY29tYmluYXRpb24gb2YgbW9kaWZpZXIga2V5cy5cbiAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICovXG4gIG9uS2V5RG93bjogZnVuY3Rpb24oZSkge1xuICAgIGlmICghdGhpcy5pc0VkaXRpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGtleU1hcCA9IHRoaXMuZGlyZWN0aW9uID09PSAncnRsJyA/IHRoaXMua2V5c01hcFJ0bCA6IHRoaXMua2V5c01hcDtcbiAgICBpZiAoZS5rZXlDb2RlIGluIGtleU1hcCkge1xuICAgICAgdGhpc1trZXlNYXBbZS5rZXlDb2RlXV0oZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKChlLmtleUNvZGUgaW4gdGhpcy5jdHJsS2V5c01hcERvd24pICYmIChlLmN0cmxLZXkgfHwgZS5tZXRhS2V5KSkge1xuICAgICAgdGhpc1t0aGlzLmN0cmxLZXlzTWFwRG93bltlLmtleUNvZGVdXShlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmIChlLmtleUNvZGUgPj0gMzMgJiYgZS5rZXlDb2RlIDw9IDQwKSB7XG4gICAgICAvLyBpZiBpIHByZXNzIGFuIGFycm93IGtleSBqdXN0IHVwZGF0ZSBzZWxlY3Rpb25cbiAgICAgIHRoaXMuaW5Db21wb3NpdGlvbk1vZGUgPSBmYWxzZTtcbiAgICAgIHRoaXMuY2xlYXJDb250ZXh0VG9wKCk7XG4gICAgICB0aGlzLnJlbmRlckN1cnNvck9yU2VsZWN0aW9uKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMucmVxdWVzdFJlbmRlckFsbCgpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogSGFuZGxlcyBrZXl1cCBldmVudFxuICAgKiBXZSBoYW5kbGUgS2V5VXAgYmVjYXVzZSBpZTExIGFuZCBlZGdlIGhhdmUgZGlmZmljdWx0aWVzIGNvcHkvcGFzdGluZ1xuICAgKiBpZiBhIGNvcHkvY3V0IGV2ZW50IGZpcmVkLCBrZXl1cCBpcyBkaXNtaXNzZWRcbiAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICovXG4gIG9uS2V5VXA6IGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAoIXRoaXMuaXNFZGl0aW5nIHx8IHRoaXMuX2NvcHlEb25lIHx8IHRoaXMuaW5Db21wb3NpdGlvbk1vZGUpIHtcbiAgICAgIHRoaXMuX2NvcHlEb25lID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICgoZS5rZXlDb2RlIGluIHRoaXMuY3RybEtleXNNYXBVcCkgJiYgKGUuY3RybEtleSB8fCBlLm1ldGFLZXkpKSB7XG4gICAgICB0aGlzW3RoaXMuY3RybEtleXNNYXBVcFtlLmtleUNvZGVdXShlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLnJlcXVlc3RSZW5kZXJBbGwoKTtcbiAgfSxcblxuICAvKipcbiAgICogSGFuZGxlcyBvbklucHV0IGV2ZW50XG4gICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqL1xuICBvbklucHV0OiBmdW5jdGlvbihlKSB7XG4gICAgdmFyIGZyb21QYXN0ZSA9IHRoaXMuZnJvbVBhc3RlO1xuICAgIHRoaXMuZnJvbVBhc3RlID0gZmFsc2U7XG4gICAgZSAmJiBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGlmICghdGhpcy5pc0VkaXRpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gZGVjaXNpb25zIGFib3V0IHN0eWxlIGNoYW5nZXMuXG4gICAgdmFyIG5leHRUZXh0ID0gdGhpcy5fc3BsaXRUZXh0SW50b0xpbmVzKHRoaXMuaGlkZGVuVGV4dGFyZWEudmFsdWUpLmdyYXBoZW1lVGV4dCxcbiAgICAgICAgY2hhckNvdW50ID0gdGhpcy5fdGV4dC5sZW5ndGgsXG4gICAgICAgIG5leHRDaGFyQ291bnQgPSBuZXh0VGV4dC5sZW5ndGgsXG4gICAgICAgIHJlbW92ZWRUZXh0LCBpbnNlcnRlZFRleHQsXG4gICAgICAgIGNoYXJEaWZmID0gbmV4dENoYXJDb3VudCAtIGNoYXJDb3VudCxcbiAgICAgICAgc2VsZWN0aW9uU3RhcnQgPSB0aGlzLnNlbGVjdGlvblN0YXJ0LCBzZWxlY3Rpb25FbmQgPSB0aGlzLnNlbGVjdGlvbkVuZCxcbiAgICAgICAgc2VsZWN0aW9uID0gc2VsZWN0aW9uU3RhcnQgIT09IHNlbGVjdGlvbkVuZCxcbiAgICAgICAgY29waWVkU3R5bGUsIHJlbW92ZUZyb20sIHJlbW92ZVRvO1xuICAgIGlmICh0aGlzLmhpZGRlblRleHRhcmVhLnZhbHVlID09PSAnJykge1xuICAgICAgdGhpcy5zdHlsZXMgPSB7IH07XG4gICAgICB0aGlzLnVwZGF0ZUZyb21UZXh0QXJlYSgpO1xuICAgICAgdGhpcy5maXJlKCdjaGFuZ2VkJyk7XG4gICAgICBpZiAodGhpcy5jYW52YXMpIHtcbiAgICAgICAgdGhpcy5jYW52YXMuZmlyZSgndGV4dDpjaGFuZ2VkJywgeyB0YXJnZXQ6IHRoaXMgfSk7XG4gICAgICAgIHRoaXMuY2FudmFzLnJlcXVlc3RSZW5kZXJBbGwoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgdGV4dGFyZWFTZWxlY3Rpb24gPSB0aGlzLmZyb21TdHJpbmdUb0dyYXBoZW1lU2VsZWN0aW9uKFxuICAgICAgdGhpcy5oaWRkZW5UZXh0YXJlYS5zZWxlY3Rpb25TdGFydCxcbiAgICAgIHRoaXMuaGlkZGVuVGV4dGFyZWEuc2VsZWN0aW9uRW5kLFxuICAgICAgdGhpcy5oaWRkZW5UZXh0YXJlYS52YWx1ZVxuICAgICk7XG4gICAgdmFyIGJhY2tEZWxldGUgPSBzZWxlY3Rpb25TdGFydCA+IHRleHRhcmVhU2VsZWN0aW9uLnNlbGVjdGlvblN0YXJ0O1xuXG4gICAgaWYgKHNlbGVjdGlvbikge1xuICAgICAgcmVtb3ZlZFRleHQgPSB0aGlzLl90ZXh0LnNsaWNlKHNlbGVjdGlvblN0YXJ0LCBzZWxlY3Rpb25FbmQpO1xuICAgICAgY2hhckRpZmYgKz0gc2VsZWN0aW9uRW5kIC0gc2VsZWN0aW9uU3RhcnQ7XG4gICAgfVxuICAgIGVsc2UgaWYgKG5leHRDaGFyQ291bnQgPCBjaGFyQ291bnQpIHtcbiAgICAgIGlmIChiYWNrRGVsZXRlKSB7XG4gICAgICAgIHJlbW92ZWRUZXh0ID0gdGhpcy5fdGV4dC5zbGljZShzZWxlY3Rpb25FbmQgKyBjaGFyRGlmZiwgc2VsZWN0aW9uRW5kKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZW1vdmVkVGV4dCA9IHRoaXMuX3RleHQuc2xpY2Uoc2VsZWN0aW9uU3RhcnQsIHNlbGVjdGlvblN0YXJ0IC0gY2hhckRpZmYpO1xuICAgICAgfVxuICAgIH1cbiAgICBpbnNlcnRlZFRleHQgPSBuZXh0VGV4dC5zbGljZSh0ZXh0YXJlYVNlbGVjdGlvbi5zZWxlY3Rpb25FbmQgLSBjaGFyRGlmZiwgdGV4dGFyZWFTZWxlY3Rpb24uc2VsZWN0aW9uRW5kKTtcbiAgICBpZiAocmVtb3ZlZFRleHQgJiYgcmVtb3ZlZFRleHQubGVuZ3RoKSB7XG4gICAgICBpZiAoaW5zZXJ0ZWRUZXh0Lmxlbmd0aCkge1xuICAgICAgICAvLyBsZXQncyBjb3B5IHNvbWUgc3R5bGUgYmVmb3JlIGRlbGV0aW5nLlxuICAgICAgICAvLyB3ZSB3YW50IHRvIGNvcHkgdGhlIHN0eWxlIGJlZm9yZSB0aGUgY3Vyc29yIE9SIHRoZSBzdHlsZSBhdCB0aGUgY3Vyc29yIGlmIHNlbGVjdGlvblxuICAgICAgICAvLyBpcyBiaWdnZXIgdGhhbiAwLlxuICAgICAgICBjb3BpZWRTdHlsZSA9IHRoaXMuZ2V0U2VsZWN0aW9uU3R5bGVzKHNlbGVjdGlvblN0YXJ0LCBzZWxlY3Rpb25TdGFydCArIDEsIGZhbHNlKTtcbiAgICAgICAgLy8gbm93IGR1cGxpY2F0ZSB0aGUgc3R5bGUgb25lIGZvciBlYWNoIGluc2VydGVkIHRleHQuXG4gICAgICAgIGNvcGllZFN0eWxlID0gaW5zZXJ0ZWRUZXh0Lm1hcChmdW5jdGlvbigpIHtcbiAgICAgICAgICAvLyB0aGlzIHJldHVybiBhbiBhcnJheSBvZiByZWZlcmVuY2VzLCBidXQgdGhhdCBpcyBmaW5lIHNpbmNlIHdlIGFyZVxuICAgICAgICAgIC8vIGNvcHlpbmcgdGhlIHN0eWxlIGxhdGVyLlxuICAgICAgICAgIHJldHVybiBjb3BpZWRTdHlsZVswXTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoc2VsZWN0aW9uKSB7XG4gICAgICAgIHJlbW92ZUZyb20gPSBzZWxlY3Rpb25TdGFydDtcbiAgICAgICAgcmVtb3ZlVG8gPSBzZWxlY3Rpb25FbmQ7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChiYWNrRGVsZXRlKSB7XG4gICAgICAgIC8vIGRldGVjdCBkaWZmZXJlbmNlcyBiZXR3ZWVuIGZvcndhcmREZWxldGUgYW5kIGJhY2tEZWxldGVcbiAgICAgICAgcmVtb3ZlRnJvbSA9IHNlbGVjdGlvbkVuZCAtIHJlbW92ZWRUZXh0Lmxlbmd0aDtcbiAgICAgICAgcmVtb3ZlVG8gPSBzZWxlY3Rpb25FbmQ7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmVtb3ZlRnJvbSA9IHNlbGVjdGlvbkVuZDtcbiAgICAgICAgcmVtb3ZlVG8gPSBzZWxlY3Rpb25FbmQgKyByZW1vdmVkVGV4dC5sZW5ndGg7XG4gICAgICB9XG4gICAgICB0aGlzLnJlbW92ZVN0eWxlRnJvbVRvKHJlbW92ZUZyb20sIHJlbW92ZVRvKTtcbiAgICB9XG4gICAgaWYgKGluc2VydGVkVGV4dC5sZW5ndGgpIHtcbiAgICAgIGlmIChmcm9tUGFzdGUgJiYgaW5zZXJ0ZWRUZXh0LmpvaW4oJycpID09PSBmYWJyaWMuY29waWVkVGV4dCAmJiAhZmFicmljLmRpc2FibGVTdHlsZUNvcHlQYXN0ZSkge1xuICAgICAgICBjb3BpZWRTdHlsZSA9IGZhYnJpYy5jb3BpZWRUZXh0U3R5bGU7XG4gICAgICB9XG4gICAgICB0aGlzLmluc2VydE5ld1N0eWxlQmxvY2soaW5zZXJ0ZWRUZXh0LCBzZWxlY3Rpb25TdGFydCwgY29waWVkU3R5bGUpO1xuICAgIH1cbiAgICB0aGlzLnVwZGF0ZUZyb21UZXh0QXJlYSgpO1xuICAgIHRoaXMuZmlyZSgnY2hhbmdlZCcpO1xuICAgIGlmICh0aGlzLmNhbnZhcykge1xuICAgICAgdGhpcy5jYW52YXMuZmlyZSgndGV4dDpjaGFuZ2VkJywgeyB0YXJnZXQ6IHRoaXMgfSk7XG4gICAgICB0aGlzLmNhbnZhcy5yZXF1ZXN0UmVuZGVyQWxsKCk7XG4gICAgfVxuICB9LFxuICAvKipcbiAgICogQ29tcG9zaXRpb24gc3RhcnRcbiAgICovXG4gIG9uQ29tcG9zaXRpb25TdGFydDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5pbkNvbXBvc2l0aW9uTW9kZSA9IHRydWU7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENvbXBvc2l0aW9uIGVuZFxuICAgKi9cbiAgb25Db21wb3NpdGlvbkVuZDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5pbkNvbXBvc2l0aW9uTW9kZSA9IGZhbHNlO1xuICB9LFxuXG4gIC8vIC8qKlxuICAvLyAgKiBDb21wb3NpdGlvbiB1cGRhdGVcbiAgLy8gICovXG4gIG9uQ29tcG9zaXRpb25VcGRhdGU6IGZ1bmN0aW9uKGUpIHtcbiAgICB0aGlzLmNvbXBvc2l0aW9uU3RhcnQgPSBlLnRhcmdldC5zZWxlY3Rpb25TdGFydDtcbiAgICB0aGlzLmNvbXBvc2l0aW9uRW5kID0gZS50YXJnZXQuc2VsZWN0aW9uRW5kO1xuICAgIHRoaXMudXBkYXRlVGV4dGFyZWFQb3NpdGlvbigpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDb3BpZXMgc2VsZWN0ZWQgdGV4dFxuICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKi9cbiAgY29weTogZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuc2VsZWN0aW9uU3RhcnQgPT09IHRoaXMuc2VsZWN0aW9uRW5kKSB7XG4gICAgICAvL2RvIG5vdCBjdXQtY29weSBpZiBubyBzZWxlY3Rpb25cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmYWJyaWMuY29waWVkVGV4dCA9IHRoaXMuZ2V0U2VsZWN0ZWRUZXh0KCk7XG4gICAgaWYgKCFmYWJyaWMuZGlzYWJsZVN0eWxlQ29weVBhc3RlKSB7XG4gICAgICBmYWJyaWMuY29waWVkVGV4dFN0eWxlID0gdGhpcy5nZXRTZWxlY3Rpb25TdHlsZXModGhpcy5zZWxlY3Rpb25TdGFydCwgdGhpcy5zZWxlY3Rpb25FbmQsIHRydWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGZhYnJpYy5jb3BpZWRUZXh0U3R5bGUgPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLl9jb3B5RG9uZSA9IHRydWU7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFBhc3RlcyB0ZXh0XG4gICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqL1xuICBwYXN0ZTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5mcm9tUGFzdGUgPSB0cnVlO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKiBAcmV0dXJuIHtPYmplY3R9IENsaXBib2FyZCBkYXRhIG9iamVjdFxuICAgKi9cbiAgX2dldENsaXBib2FyZERhdGE6IGZ1bmN0aW9uKGUpIHtcbiAgICByZXR1cm4gKGUgJiYgZS5jbGlwYm9hcmREYXRhKSB8fCBmYWJyaWMud2luZG93LmNsaXBib2FyZERhdGE7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEZpbmRzIHRoZSB3aWR0aCBpbiBwaXhlbHMgYmVmb3JlIHRoZSBjdXJzb3Igb24gdGhlIHNhbWUgbGluZVxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4XG4gICAqIEBwYXJhbSB7TnVtYmVyfSBjaGFySW5kZXhcbiAgICogQHJldHVybiB7TnVtYmVyfSB3aWR0aEJlZm9yZUN1cnNvciB3aWR0aCBiZWZvcmUgY3Vyc29yXG4gICAqL1xuICBfZ2V0V2lkdGhCZWZvcmVDdXJzb3I6IGZ1bmN0aW9uKGxpbmVJbmRleCwgY2hhckluZGV4KSB7XG4gICAgdmFyIHdpZHRoQmVmb3JlQ3Vyc29yID0gdGhpcy5fZ2V0TGluZUxlZnRPZmZzZXQobGluZUluZGV4KSwgYm91bmQ7XG5cbiAgICBpZiAoY2hhckluZGV4ID4gMCkge1xuICAgICAgYm91bmQgPSB0aGlzLl9fY2hhckJvdW5kc1tsaW5lSW5kZXhdW2NoYXJJbmRleCAtIDFdO1xuICAgICAgd2lkdGhCZWZvcmVDdXJzb3IgKz0gYm91bmQubGVmdCArIGJvdW5kLndpZHRoO1xuICAgIH1cbiAgICByZXR1cm4gd2lkdGhCZWZvcmVDdXJzb3I7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgc3RhcnQgb2Zmc2V0IG9mIGEgc2VsZWN0aW9uXG4gICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gaXNSaWdodFxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAqL1xuICBnZXREb3duQ3Vyc29yT2Zmc2V0OiBmdW5jdGlvbihlLCBpc1JpZ2h0KSB7XG4gICAgdmFyIHNlbGVjdGlvblByb3AgPSB0aGlzLl9nZXRTZWxlY3Rpb25Gb3JPZmZzZXQoZSwgaXNSaWdodCksXG4gICAgICAgIGN1cnNvckxvY2F0aW9uID0gdGhpcy5nZXQyREN1cnNvckxvY2F0aW9uKHNlbGVjdGlvblByb3ApLFxuICAgICAgICBsaW5lSW5kZXggPSBjdXJzb3JMb2NhdGlvbi5saW5lSW5kZXg7XG4gICAgLy8gaWYgb24gbGFzdCBsaW5lLCBkb3duIGN1cnNvciBnb2VzIHRvIGVuZCBvZiBsaW5lXG4gICAgaWYgKGxpbmVJbmRleCA9PT0gdGhpcy5fdGV4dExpbmVzLmxlbmd0aCAtIDEgfHwgZS5tZXRhS2V5IHx8IGUua2V5Q29kZSA9PT0gMzQpIHtcbiAgICAgIC8vIG1vdmUgdG8gdGhlIGVuZCBvZiBhIHRleHRcbiAgICAgIHJldHVybiB0aGlzLl90ZXh0Lmxlbmd0aCAtIHNlbGVjdGlvblByb3A7XG4gICAgfVxuICAgIHZhciBjaGFySW5kZXggPSBjdXJzb3JMb2NhdGlvbi5jaGFySW5kZXgsXG4gICAgICAgIHdpZHRoQmVmb3JlQ3Vyc29yID0gdGhpcy5fZ2V0V2lkdGhCZWZvcmVDdXJzb3IobGluZUluZGV4LCBjaGFySW5kZXgpLFxuICAgICAgICBpbmRleE9uT3RoZXJMaW5lID0gdGhpcy5fZ2V0SW5kZXhPbkxpbmUobGluZUluZGV4ICsgMSwgd2lkdGhCZWZvcmVDdXJzb3IpLFxuICAgICAgICB0ZXh0QWZ0ZXJDdXJzb3IgPSB0aGlzLl90ZXh0TGluZXNbbGluZUluZGV4XS5zbGljZShjaGFySW5kZXgpO1xuICAgIHJldHVybiB0ZXh0QWZ0ZXJDdXJzb3IubGVuZ3RoICsgaW5kZXhPbk90aGVyTGluZSArIDEgKyB0aGlzLm1pc3NpbmdOZXdsaW5lT2Zmc2V0KGxpbmVJbmRleCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIHByaXZhdGVcbiAgICogSGVscHMgZmluZGluZyBpZiB0aGUgb2Zmc2V0IHNob3VsZCBiZSBjb3VudGVkIGZyb20gU3RhcnQgb3IgRW5kXG4gICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gaXNSaWdodFxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAqL1xuICBfZ2V0U2VsZWN0aW9uRm9yT2Zmc2V0OiBmdW5jdGlvbihlLCBpc1JpZ2h0KSB7XG4gICAgaWYgKGUuc2hpZnRLZXkgJiYgdGhpcy5zZWxlY3Rpb25TdGFydCAhPT0gdGhpcy5zZWxlY3Rpb25FbmQgJiYgaXNSaWdodCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0aW9uRW5kO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnNlbGVjdGlvblN0YXJ0O1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICogQHBhcmFtIHtCb29sZWFufSBpc1JpZ2h0XG4gICAqIEByZXR1cm4ge051bWJlcn1cbiAgICovXG4gIGdldFVwQ3Vyc29yT2Zmc2V0OiBmdW5jdGlvbihlLCBpc1JpZ2h0KSB7XG4gICAgdmFyIHNlbGVjdGlvblByb3AgPSB0aGlzLl9nZXRTZWxlY3Rpb25Gb3JPZmZzZXQoZSwgaXNSaWdodCksXG4gICAgICAgIGN1cnNvckxvY2F0aW9uID0gdGhpcy5nZXQyREN1cnNvckxvY2F0aW9uKHNlbGVjdGlvblByb3ApLFxuICAgICAgICBsaW5lSW5kZXggPSBjdXJzb3JMb2NhdGlvbi5saW5lSW5kZXg7XG4gICAgaWYgKGxpbmVJbmRleCA9PT0gMCB8fCBlLm1ldGFLZXkgfHwgZS5rZXlDb2RlID09PSAzMykge1xuICAgICAgLy8gaWYgb24gZmlyc3QgbGluZSwgdXAgY3Vyc29yIGdvZXMgdG8gc3RhcnQgb2YgbGluZVxuICAgICAgcmV0dXJuIC1zZWxlY3Rpb25Qcm9wO1xuICAgIH1cbiAgICB2YXIgY2hhckluZGV4ID0gY3Vyc29yTG9jYXRpb24uY2hhckluZGV4LFxuICAgICAgICB3aWR0aEJlZm9yZUN1cnNvciA9IHRoaXMuX2dldFdpZHRoQmVmb3JlQ3Vyc29yKGxpbmVJbmRleCwgY2hhckluZGV4KSxcbiAgICAgICAgaW5kZXhPbk90aGVyTGluZSA9IHRoaXMuX2dldEluZGV4T25MaW5lKGxpbmVJbmRleCAtIDEsIHdpZHRoQmVmb3JlQ3Vyc29yKSxcbiAgICAgICAgdGV4dEJlZm9yZUN1cnNvciA9IHRoaXMuX3RleHRMaW5lc1tsaW5lSW5kZXhdLnNsaWNlKDAsIGNoYXJJbmRleCksXG4gICAgICAgIG1pc3NpbmdOZXdsaW5lT2Zmc2V0ID0gdGhpcy5taXNzaW5nTmV3bGluZU9mZnNldChsaW5lSW5kZXggLSAxKTtcbiAgICAvLyByZXR1cm4gYSBuZWdhdGl2ZSBvZmZzZXRcbiAgICByZXR1cm4gLXRoaXMuX3RleHRMaW5lc1tsaW5lSW5kZXggLSAxXS5sZW5ndGhcbiAgICAgKyBpbmRleE9uT3RoZXJMaW5lIC0gdGV4dEJlZm9yZUN1cnNvci5sZW5ndGggKyAoMSAtIG1pc3NpbmdOZXdsaW5lT2Zmc2V0KTtcbiAgfSxcblxuICAvKipcbiAgICogZm9yIGEgZ2l2ZW4gd2lkdGggaXQgZm91bmRzIHRoZSBtYXRjaGluZyBjaGFyYWN0ZXIuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZ2V0SW5kZXhPbkxpbmU6IGZ1bmN0aW9uKGxpbmVJbmRleCwgd2lkdGgpIHtcblxuICAgIHZhciBsaW5lID0gdGhpcy5fdGV4dExpbmVzW2xpbmVJbmRleF0sXG4gICAgICAgIGxpbmVMZWZ0T2Zmc2V0ID0gdGhpcy5fZ2V0TGluZUxlZnRPZmZzZXQobGluZUluZGV4KSxcbiAgICAgICAgd2lkdGhPZkNoYXJzT25MaW5lID0gbGluZUxlZnRPZmZzZXQsXG4gICAgICAgIGluZGV4T25MaW5lID0gMCwgY2hhcldpZHRoLCBmb3VuZE1hdGNoO1xuXG4gICAgZm9yICh2YXIgaiA9IDAsIGpsZW4gPSBsaW5lLmxlbmd0aDsgaiA8IGpsZW47IGorKykge1xuICAgICAgY2hhcldpZHRoID0gdGhpcy5fX2NoYXJCb3VuZHNbbGluZUluZGV4XVtqXS53aWR0aDtcbiAgICAgIHdpZHRoT2ZDaGFyc09uTGluZSArPSBjaGFyV2lkdGg7XG4gICAgICBpZiAod2lkdGhPZkNoYXJzT25MaW5lID4gd2lkdGgpIHtcbiAgICAgICAgZm91bmRNYXRjaCA9IHRydWU7XG4gICAgICAgIHZhciBsZWZ0RWRnZSA9IHdpZHRoT2ZDaGFyc09uTGluZSAtIGNoYXJXaWR0aCxcbiAgICAgICAgICAgIHJpZ2h0RWRnZSA9IHdpZHRoT2ZDaGFyc09uTGluZSxcbiAgICAgICAgICAgIG9mZnNldEZyb21MZWZ0RWRnZSA9IE1hdGguYWJzKGxlZnRFZGdlIC0gd2lkdGgpLFxuICAgICAgICAgICAgb2Zmc2V0RnJvbVJpZ2h0RWRnZSA9IE1hdGguYWJzKHJpZ2h0RWRnZSAtIHdpZHRoKTtcblxuICAgICAgICBpbmRleE9uTGluZSA9IG9mZnNldEZyb21SaWdodEVkZ2UgPCBvZmZzZXRGcm9tTGVmdEVkZ2UgPyBqIDogKGogLSAxKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gcmVhY2hlZCBlbmRcbiAgICBpZiAoIWZvdW5kTWF0Y2gpIHtcbiAgICAgIGluZGV4T25MaW5lID0gbGluZS5sZW5ndGggLSAxO1xuICAgIH1cblxuICAgIHJldHVybiBpbmRleE9uTGluZTtcbiAgfSxcblxuXG4gIC8qKlxuICAgKiBNb3ZlcyBjdXJzb3IgZG93blxuICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKi9cbiAgbW92ZUN1cnNvckRvd246IGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAodGhpcy5zZWxlY3Rpb25TdGFydCA+PSB0aGlzLl90ZXh0Lmxlbmd0aCAmJiB0aGlzLnNlbGVjdGlvbkVuZCA+PSB0aGlzLl90ZXh0Lmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9tb3ZlQ3Vyc29yVXBPckRvd24oJ0Rvd24nLCBlKTtcbiAgfSxcblxuICAvKipcbiAgICogTW92ZXMgY3Vyc29yIHVwXG4gICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqL1xuICBtb3ZlQ3Vyc29yVXA6IGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAodGhpcy5zZWxlY3Rpb25TdGFydCA9PT0gMCAmJiB0aGlzLnNlbGVjdGlvbkVuZCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9tb3ZlQ3Vyc29yVXBPckRvd24oJ1VwJywgZSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIE1vdmVzIGN1cnNvciB1cCBvciBkb3duLCBmaXJlcyB0aGUgZXZlbnRzXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBkaXJlY3Rpb24gJ1VwJyBvciAnRG93bidcbiAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICovXG4gIF9tb3ZlQ3Vyc29yVXBPckRvd246IGZ1bmN0aW9uKGRpcmVjdGlvbiwgZSkge1xuICAgIC8vIGdldFVwQ3Vyc29yT2Zmc2V0XG4gICAgLy8gZ2V0RG93bkN1cnNvck9mZnNldFxuICAgIHZhciBhY3Rpb24gPSAnZ2V0JyArIGRpcmVjdGlvbiArICdDdXJzb3JPZmZzZXQnLFxuICAgICAgICBvZmZzZXQgPSB0aGlzW2FjdGlvbl0oZSwgdGhpcy5fc2VsZWN0aW9uRGlyZWN0aW9uID09PSAncmlnaHQnKTtcbiAgICBpZiAoZS5zaGlmdEtleSkge1xuICAgICAgdGhpcy5tb3ZlQ3Vyc29yV2l0aFNoaWZ0KG9mZnNldCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5tb3ZlQ3Vyc29yV2l0aG91dFNoaWZ0KG9mZnNldCk7XG4gICAgfVxuICAgIGlmIChvZmZzZXQgIT09IDApIHtcbiAgICAgIHRoaXMuc2V0U2VsZWN0aW9uSW5Cb3VuZGFyaWVzKCk7XG4gICAgICB0aGlzLmFib3J0Q3Vyc29yQW5pbWF0aW9uKCk7XG4gICAgICB0aGlzLl9jdXJyZW50Q3Vyc29yT3BhY2l0eSA9IDE7XG4gICAgICB0aGlzLmluaXREZWxheWVkQ3Vyc29yKCk7XG4gICAgICB0aGlzLl9maXJlU2VsZWN0aW9uQ2hhbmdlZCgpO1xuICAgICAgdGhpcy5fdXBkYXRlVGV4dGFyZWEoKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIE1vdmVzIGN1cnNvciB3aXRoIHNoaWZ0XG4gICAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXRcbiAgICovXG4gIG1vdmVDdXJzb3JXaXRoU2hpZnQ6IGZ1bmN0aW9uKG9mZnNldCkge1xuICAgIHZhciBuZXdTZWxlY3Rpb24gPSB0aGlzLl9zZWxlY3Rpb25EaXJlY3Rpb24gPT09ICdsZWZ0J1xuICAgICAgPyB0aGlzLnNlbGVjdGlvblN0YXJ0ICsgb2Zmc2V0XG4gICAgICA6IHRoaXMuc2VsZWN0aW9uRW5kICsgb2Zmc2V0O1xuICAgIHRoaXMuc2V0U2VsZWN0aW9uU3RhcnRFbmRXaXRoU2hpZnQodGhpcy5zZWxlY3Rpb25TdGFydCwgdGhpcy5zZWxlY3Rpb25FbmQsIG5ld1NlbGVjdGlvbik7XG4gICAgcmV0dXJuIG9mZnNldCAhPT0gMDtcbiAgfSxcblxuICAvKipcbiAgICogTW92ZXMgY3Vyc29yIHVwIHdpdGhvdXQgc2hpZnRcbiAgICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldFxuICAgKi9cbiAgbW92ZUN1cnNvcldpdGhvdXRTaGlmdDogZnVuY3Rpb24ob2Zmc2V0KSB7XG4gICAgaWYgKG9mZnNldCA8IDApIHtcbiAgICAgIHRoaXMuc2VsZWN0aW9uU3RhcnQgKz0gb2Zmc2V0O1xuICAgICAgdGhpcy5zZWxlY3Rpb25FbmQgPSB0aGlzLnNlbGVjdGlvblN0YXJ0O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuc2VsZWN0aW9uRW5kICs9IG9mZnNldDtcbiAgICAgIHRoaXMuc2VsZWN0aW9uU3RhcnQgPSB0aGlzLnNlbGVjdGlvbkVuZDtcbiAgICB9XG4gICAgcmV0dXJuIG9mZnNldCAhPT0gMDtcbiAgfSxcblxuICAvKipcbiAgICogTW92ZXMgY3Vyc29yIGxlZnRcbiAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICovXG4gIG1vdmVDdXJzb3JMZWZ0OiBmdW5jdGlvbihlKSB7XG4gICAgaWYgKHRoaXMuc2VsZWN0aW9uU3RhcnQgPT09IDAgJiYgdGhpcy5zZWxlY3Rpb25FbmQgPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fbW92ZUN1cnNvckxlZnRPclJpZ2h0KCdMZWZ0JywgZSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgYSBjaGFuZ2UgaGFwcGVuZWRcbiAgICovXG4gIF9tb3ZlOiBmdW5jdGlvbihlLCBwcm9wLCBkaXJlY3Rpb24pIHtcbiAgICB2YXIgbmV3VmFsdWU7XG4gICAgaWYgKGUuYWx0S2V5KSB7XG4gICAgICBuZXdWYWx1ZSA9IHRoaXNbJ2ZpbmRXb3JkQm91bmRhcnknICsgZGlyZWN0aW9uXSh0aGlzW3Byb3BdKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZS5tZXRhS2V5IHx8IGUua2V5Q29kZSA9PT0gMzUgfHwgIGUua2V5Q29kZSA9PT0gMzYgKSB7XG4gICAgICBuZXdWYWx1ZSA9IHRoaXNbJ2ZpbmRMaW5lQm91bmRhcnknICsgZGlyZWN0aW9uXSh0aGlzW3Byb3BdKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzW3Byb3BdICs9IGRpcmVjdGlvbiA9PT0gJ0xlZnQnID8gLTEgOiAxO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgbmV3VmFsdWUgIT09ICd1bmRlZmluZWQnICYmIHRoaXNbcHJvcF0gIT09IG5ld1ZhbHVlKSB7XG4gICAgICB0aGlzW3Byb3BdID0gbmV3VmFsdWU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfbW92ZUxlZnQ6IGZ1bmN0aW9uKGUsIHByb3ApIHtcbiAgICByZXR1cm4gdGhpcy5fbW92ZShlLCBwcm9wLCAnTGVmdCcpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX21vdmVSaWdodDogZnVuY3Rpb24oZSwgcHJvcCkge1xuICAgIHJldHVybiB0aGlzLl9tb3ZlKGUsIHByb3AsICdSaWdodCcpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBNb3ZlcyBjdXJzb3IgbGVmdCB3aXRob3V0IGtlZXBpbmcgc2VsZWN0aW9uXG4gICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICovXG4gIG1vdmVDdXJzb3JMZWZ0V2l0aG91dFNoaWZ0OiBmdW5jdGlvbihlKSB7XG4gICAgdmFyIGNoYW5nZSA9IHRydWU7XG4gICAgdGhpcy5fc2VsZWN0aW9uRGlyZWN0aW9uID0gJ2xlZnQnO1xuXG4gICAgLy8gb25seSBtb3ZlIGN1cnNvciB3aGVuIHRoZXJlIGlzIG5vIHNlbGVjdGlvbixcbiAgICAvLyBvdGhlcndpc2Ugd2UgZGlzY2FyZCBpdCwgYW5kIGxlYXZlIGN1cnNvciBvbiBzYW1lIHBsYWNlXG4gICAgaWYgKHRoaXMuc2VsZWN0aW9uRW5kID09PSB0aGlzLnNlbGVjdGlvblN0YXJ0ICYmIHRoaXMuc2VsZWN0aW9uU3RhcnQgIT09IDApIHtcbiAgICAgIGNoYW5nZSA9IHRoaXMuX21vdmVMZWZ0KGUsICdzZWxlY3Rpb25TdGFydCcpO1xuXG4gICAgfVxuICAgIHRoaXMuc2VsZWN0aW9uRW5kID0gdGhpcy5zZWxlY3Rpb25TdGFydDtcbiAgICByZXR1cm4gY2hhbmdlO1xuICB9LFxuXG4gIC8qKlxuICAgKiBNb3ZlcyBjdXJzb3IgbGVmdCB3aGlsZSBrZWVwaW5nIHNlbGVjdGlvblxuICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAqL1xuICBtb3ZlQ3Vyc29yTGVmdFdpdGhTaGlmdDogZnVuY3Rpb24oZSkge1xuICAgIGlmICh0aGlzLl9zZWxlY3Rpb25EaXJlY3Rpb24gPT09ICdyaWdodCcgJiYgdGhpcy5zZWxlY3Rpb25TdGFydCAhPT0gdGhpcy5zZWxlY3Rpb25FbmQpIHtcbiAgICAgIHJldHVybiB0aGlzLl9tb3ZlTGVmdChlLCAnc2VsZWN0aW9uRW5kJyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHRoaXMuc2VsZWN0aW9uU3RhcnQgIT09IDApe1xuICAgICAgdGhpcy5fc2VsZWN0aW9uRGlyZWN0aW9uID0gJ2xlZnQnO1xuICAgICAgcmV0dXJuIHRoaXMuX21vdmVMZWZ0KGUsICdzZWxlY3Rpb25TdGFydCcpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogTW92ZXMgY3Vyc29yIHJpZ2h0XG4gICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqL1xuICBtb3ZlQ3Vyc29yUmlnaHQ6IGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAodGhpcy5zZWxlY3Rpb25TdGFydCA+PSB0aGlzLl90ZXh0Lmxlbmd0aCAmJiB0aGlzLnNlbGVjdGlvbkVuZCA+PSB0aGlzLl90ZXh0Lmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9tb3ZlQ3Vyc29yTGVmdE9yUmlnaHQoJ1JpZ2h0JywgZSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIE1vdmVzIGN1cnNvciByaWdodCBvciBMZWZ0LCBmaXJlcyBldmVudFxuICAgKiBAcGFyYW0ge1N0cmluZ30gZGlyZWN0aW9uICdMZWZ0JywgJ1JpZ2h0J1xuICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKi9cbiAgX21vdmVDdXJzb3JMZWZ0T3JSaWdodDogZnVuY3Rpb24oZGlyZWN0aW9uLCBlKSB7XG4gICAgdmFyIGFjdGlvbk5hbWUgPSAnbW92ZUN1cnNvcicgKyBkaXJlY3Rpb24gKyAnV2l0aCc7XG4gICAgdGhpcy5fY3VycmVudEN1cnNvck9wYWNpdHkgPSAxO1xuXG4gICAgaWYgKGUuc2hpZnRLZXkpIHtcbiAgICAgIGFjdGlvbk5hbWUgKz0gJ1NoaWZ0JztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBhY3Rpb25OYW1lICs9ICdvdXRTaGlmdCc7XG4gICAgfVxuICAgIGlmICh0aGlzW2FjdGlvbk5hbWVdKGUpKSB7XG4gICAgICB0aGlzLmFib3J0Q3Vyc29yQW5pbWF0aW9uKCk7XG4gICAgICB0aGlzLmluaXREZWxheWVkQ3Vyc29yKCk7XG4gICAgICB0aGlzLl9maXJlU2VsZWN0aW9uQ2hhbmdlZCgpO1xuICAgICAgdGhpcy5fdXBkYXRlVGV4dGFyZWEoKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIE1vdmVzIGN1cnNvciByaWdodCB3aGlsZSBrZWVwaW5nIHNlbGVjdGlvblxuICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAqL1xuICBtb3ZlQ3Vyc29yUmlnaHRXaXRoU2hpZnQ6IGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAodGhpcy5fc2VsZWN0aW9uRGlyZWN0aW9uID09PSAnbGVmdCcgJiYgdGhpcy5zZWxlY3Rpb25TdGFydCAhPT0gdGhpcy5zZWxlY3Rpb25FbmQpIHtcbiAgICAgIHJldHVybiB0aGlzLl9tb3ZlUmlnaHQoZSwgJ3NlbGVjdGlvblN0YXJ0Jyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHRoaXMuc2VsZWN0aW9uRW5kICE9PSB0aGlzLl90ZXh0Lmxlbmd0aCkge1xuICAgICAgdGhpcy5fc2VsZWN0aW9uRGlyZWN0aW9uID0gJ3JpZ2h0JztcbiAgICAgIHJldHVybiB0aGlzLl9tb3ZlUmlnaHQoZSwgJ3NlbGVjdGlvbkVuZCcpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogTW92ZXMgY3Vyc29yIHJpZ2h0IHdpdGhvdXQga2VlcGluZyBzZWxlY3Rpb25cbiAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICovXG4gIG1vdmVDdXJzb3JSaWdodFdpdGhvdXRTaGlmdDogZnVuY3Rpb24oZSkge1xuICAgIHZhciBjaGFuZ2VkID0gdHJ1ZTtcbiAgICB0aGlzLl9zZWxlY3Rpb25EaXJlY3Rpb24gPSAncmlnaHQnO1xuXG4gICAgaWYgKHRoaXMuc2VsZWN0aW9uU3RhcnQgPT09IHRoaXMuc2VsZWN0aW9uRW5kKSB7XG4gICAgICBjaGFuZ2VkID0gdGhpcy5fbW92ZVJpZ2h0KGUsICdzZWxlY3Rpb25TdGFydCcpO1xuICAgICAgdGhpcy5zZWxlY3Rpb25FbmQgPSB0aGlzLnNlbGVjdGlvblN0YXJ0O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuc2VsZWN0aW9uU3RhcnQgPSB0aGlzLnNlbGVjdGlvbkVuZDtcbiAgICB9XG4gICAgcmV0dXJuIGNoYW5nZWQ7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgY2hhcmFjdGVycyBmcm9tIHN0YXJ0L2VuZFxuICAgKiBzdGFydC9lbmQgYXIgcGVyIGdyYXBoZW1lIHBvc2l0aW9uIGluIF90ZXh0IGFycmF5LlxuICAgKlxuICAgKiBAcGFyYW0ge051bWJlcn0gc3RhcnRcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGVuZCBkZWZhdWx0IHRvIHN0YXJ0ICsgMVxuICAgKi9cbiAgcmVtb3ZlQ2hhcnM6IGZ1bmN0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgICBpZiAodHlwZW9mIGVuZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGVuZCA9IHN0YXJ0ICsgMTtcbiAgICB9XG4gICAgdGhpcy5yZW1vdmVTdHlsZUZyb21UbyhzdGFydCwgZW5kKTtcbiAgICB0aGlzLl90ZXh0LnNwbGljZShzdGFydCwgZW5kIC0gc3RhcnQpO1xuICAgIHRoaXMudGV4dCA9IHRoaXMuX3RleHQuam9pbignJyk7XG4gICAgdGhpcy5zZXQoJ2RpcnR5JywgdHJ1ZSk7XG4gICAgaWYgKHRoaXMuX3Nob3VsZENsZWFyRGltZW5zaW9uQ2FjaGUoKSkge1xuICAgICAgdGhpcy5pbml0RGltZW5zaW9ucygpO1xuICAgICAgdGhpcy5zZXRDb29yZHMoKTtcbiAgICB9XG4gICAgdGhpcy5fcmVtb3ZlRXh0cmFuZW91c1N0eWxlcygpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBpbnNlcnQgY2hhcmFjdGVycyBhdCBzdGFydCBwb3NpdGlvbiwgYmVmb3JlIHN0YXJ0IHBvc2l0aW9uLlxuICAgKiBzdGFydCAgZXF1YWwgMSBpdCBtZWFucyB0aGUgdGV4dCBnZXQgaW5zZXJ0ZWQgYmV0d2VlbiBhY3R1YWwgZ3JhcGhlbWUgMCBhbmQgMVxuICAgKiBpZiBzdHlsZSBhcnJheSBpcyBwcm92aWRlZCwgaXQgbXVzdCBiZSBhcyB0aGUgc2FtZSBsZW5ndGggb2YgdGV4dCBpbiBncmFwaGVtZXNcbiAgICogaWYgZW5kIGlzIHByb3ZpZGVkIGFuZCBpcyBiaWdnZXIgdGhhbiBzdGFydCwgb2xkIHRleHQgaXMgcmVwbGFjZWQuXG4gICAqIHN0YXJ0L2VuZCBhciBwZXIgZ3JhcGhlbWUgcG9zaXRpb24gaW4gX3RleHQgYXJyYXkuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0IHRleHQgdG8gaW5zZXJ0XG4gICAqIEBwYXJhbSB7QXJyYXl9IHN0eWxlIGFycmF5IG9mIHN0eWxlIG9iamVjdHNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHN0YXJ0XG4gICAqIEBwYXJhbSB7TnVtYmVyfSBlbmQgZGVmYXVsdCB0byBzdGFydCArIDFcbiAgICovXG4gIGluc2VydENoYXJzOiBmdW5jdGlvbih0ZXh0LCBzdHlsZSwgc3RhcnQsIGVuZCkge1xuICAgIGlmICh0eXBlb2YgZW5kID09PSAndW5kZWZpbmVkJykge1xuICAgICAgZW5kID0gc3RhcnQ7XG4gICAgfVxuICAgIGlmIChlbmQgPiBzdGFydCkge1xuICAgICAgdGhpcy5yZW1vdmVTdHlsZUZyb21UbyhzdGFydCwgZW5kKTtcbiAgICB9XG4gICAgdmFyIGdyYXBoZW1lcyA9IGZhYnJpYy51dGlsLnN0cmluZy5ncmFwaGVtZVNwbGl0KHRleHQpO1xuICAgIHRoaXMuaW5zZXJ0TmV3U3R5bGVCbG9jayhncmFwaGVtZXMsIHN0YXJ0LCBzdHlsZSk7XG4gICAgdGhpcy5fdGV4dCA9IFtdLmNvbmNhdCh0aGlzLl90ZXh0LnNsaWNlKDAsIHN0YXJ0KSwgZ3JhcGhlbWVzLCB0aGlzLl90ZXh0LnNsaWNlKGVuZCkpO1xuICAgIHRoaXMudGV4dCA9IHRoaXMuX3RleHQuam9pbignJyk7XG4gICAgdGhpcy5zZXQoJ2RpcnR5JywgdHJ1ZSk7XG4gICAgaWYgKHRoaXMuX3Nob3VsZENsZWFyRGltZW5zaW9uQ2FjaGUoKSkge1xuICAgICAgdGhpcy5pbml0RGltZW5zaW9ucygpO1xuICAgICAgdGhpcy5zZXRDb29yZHMoKTtcbiAgICB9XG4gICAgdGhpcy5fcmVtb3ZlRXh0cmFuZW91c1N0eWxlcygpO1xuICB9LFxuXG59KTtcblxuXG4vKiBfVE9fU1ZHX1NUQVJUXyAqL1xuKGZ1bmN0aW9uKCkge1xuICB2YXIgdG9GaXhlZCA9IGZhYnJpYy51dGlsLnRvRml4ZWQsXG4gICAgICBtdWx0aXBsZVNwYWNlc1JlZ2V4ID0gLyAgKy9nO1xuXG4gIGZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQoZmFicmljLlRleHQucHJvdG90eXBlLCAvKiogQGxlbmRzIGZhYnJpYy5UZXh0LnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIFNWRyByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXZpdmVyXSBNZXRob2QgZm9yIGZ1cnRoZXIgcGFyc2luZyBvZiBzdmcgcmVwcmVzZW50YXRpb24uXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBzdmcgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICBfdG9TVkc6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG9mZnNldHMgPSB0aGlzLl9nZXRTVkdMZWZ0VG9wT2Zmc2V0cygpLFxuICAgICAgICAgIHRleHRBbmRCZyA9IHRoaXMuX2dldFNWR1RleHRBbmRCZyhvZmZzZXRzLnRleHRUb3AsIG9mZnNldHMudGV4dExlZnQpO1xuICAgICAgcmV0dXJuIHRoaXMuX3dyYXBTVkdUZXh0QW5kQmcodGV4dEFuZEJnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBzdmcgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcmV2aXZlcl0gTWV0aG9kIGZvciBmdXJ0aGVyIHBhcnNpbmcgb2Ygc3ZnIHJlcHJlc2VudGF0aW9uLlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gc3ZnIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgdG9TVkc6IGZ1bmN0aW9uKHJldml2ZXIpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jcmVhdGVCYXNlU1ZHTWFya3VwKFxuICAgICAgICB0aGlzLl90b1NWRygpLFxuICAgICAgICB7IHJldml2ZXI6IHJldml2ZXIsIG5vU3R5bGU6IHRydWUsIHdpdGhTaGFkb3c6IHRydWUgfVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZ2V0U1ZHTGVmdFRvcE9mZnNldHM6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGV4dExlZnQ6IC10aGlzLndpZHRoIC8gMixcbiAgICAgICAgdGV4dFRvcDogLXRoaXMuaGVpZ2h0IC8gMixcbiAgICAgICAgbGluZVRvcDogdGhpcy5nZXRIZWlnaHRPZkxpbmUoMClcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3dyYXBTVkdUZXh0QW5kQmc6IGZ1bmN0aW9uKHRleHRBbmRCZykge1xuICAgICAgdmFyIG5vU2hhZG93ID0gdHJ1ZSxcbiAgICAgICAgICB0ZXh0RGVjb3JhdGlvbiA9IHRoaXMuZ2V0U3ZnVGV4dERlY29yYXRpb24odGhpcyk7XG4gICAgICByZXR1cm4gW1xuICAgICAgICB0ZXh0QW5kQmcudGV4dEJnUmVjdHMuam9pbignJyksXG4gICAgICAgICdcXHRcXHQ8dGV4dCB4bWw6c3BhY2U9XCJwcmVzZXJ2ZVwiICcsXG4gICAgICAgICh0aGlzLmZvbnRGYW1pbHkgPyAnZm9udC1mYW1pbHk9XCInICsgdGhpcy5mb250RmFtaWx5LnJlcGxhY2UoL1wiL2csICdcXCcnKSArICdcIiAnIDogJycpLFxuICAgICAgICAodGhpcy5mb250U2l6ZSA/ICdmb250LXNpemU9XCInICsgdGhpcy5mb250U2l6ZSArICdcIiAnIDogJycpLFxuICAgICAgICAodGhpcy5mb250U3R5bGUgPyAnZm9udC1zdHlsZT1cIicgKyB0aGlzLmZvbnRTdHlsZSArICdcIiAnIDogJycpLFxuICAgICAgICAodGhpcy5mb250V2VpZ2h0ID8gJ2ZvbnQtd2VpZ2h0PVwiJyArIHRoaXMuZm9udFdlaWdodCArICdcIiAnIDogJycpLFxuICAgICAgICAodGV4dERlY29yYXRpb24gPyAndGV4dC1kZWNvcmF0aW9uPVwiJyArIHRleHREZWNvcmF0aW9uICsgJ1wiICcgOiAnJyksXG4gICAgICAgICdzdHlsZT1cIicsIHRoaXMuZ2V0U3ZnU3R5bGVzKG5vU2hhZG93KSwgJ1wiJywgdGhpcy5hZGRQYWludE9yZGVyKCksICcgPicsXG4gICAgICAgIHRleHRBbmRCZy50ZXh0U3BhbnMuam9pbignJyksXG4gICAgICAgICc8L3RleHQ+XFxuJ1xuICAgICAgXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdGV4dFRvcE9mZnNldCBUZXh0IHRvcCBvZmZzZXRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdGV4dExlZnRPZmZzZXQgVGV4dCBsZWZ0IG9mZnNldFxuICAgICAqIEByZXR1cm4ge09iamVjdH1cbiAgICAgKi9cbiAgICBfZ2V0U1ZHVGV4dEFuZEJnOiBmdW5jdGlvbih0ZXh0VG9wT2Zmc2V0LCB0ZXh0TGVmdE9mZnNldCkge1xuICAgICAgdmFyIHRleHRTcGFucyA9IFtdLFxuICAgICAgICAgIHRleHRCZ1JlY3RzID0gW10sXG4gICAgICAgICAgaGVpZ2h0ID0gdGV4dFRvcE9mZnNldCwgbGluZU9mZnNldDtcbiAgICAgIC8vIGJvdW5kaW5nLWJveCBiYWNrZ3JvdW5kXG4gICAgICB0aGlzLl9zZXRTVkdCZyh0ZXh0QmdSZWN0cyk7XG5cbiAgICAgIC8vIHRleHQgYW5kIHRleHQtYmFja2dyb3VuZFxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMuX3RleHRMaW5lcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBsaW5lT2Zmc2V0ID0gdGhpcy5fZ2V0TGluZUxlZnRPZmZzZXQoaSk7XG4gICAgICAgIGlmICh0aGlzLnRleHRCYWNrZ3JvdW5kQ29sb3IgfHwgdGhpcy5zdHlsZUhhcygndGV4dEJhY2tncm91bmRDb2xvcicsIGkpKSB7XG4gICAgICAgICAgdGhpcy5fc2V0U1ZHVGV4dExpbmVCZyh0ZXh0QmdSZWN0cywgaSwgdGV4dExlZnRPZmZzZXQgKyBsaW5lT2Zmc2V0LCBoZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NldFNWR1RleHRMaW5lVGV4dCh0ZXh0U3BhbnMsIGksIHRleHRMZWZ0T2Zmc2V0ICsgbGluZU9mZnNldCwgaGVpZ2h0KTtcbiAgICAgICAgaGVpZ2h0ICs9IHRoaXMuZ2V0SGVpZ2h0T2ZMaW5lKGkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0ZXh0U3BhbnM6IHRleHRTcGFucyxcbiAgICAgICAgdGV4dEJnUmVjdHM6IHRleHRCZ1JlY3RzXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9jcmVhdGVUZXh0Q2hhclNwYW46IGZ1bmN0aW9uKF9jaGFyLCBzdHlsZURlY2wsIGxlZnQsIHRvcCkge1xuICAgICAgdmFyIHNob3VsZFVzZVdoaXRlc3BhY2UgPSBfY2hhciAhPT0gX2NoYXIudHJpbSgpIHx8IF9jaGFyLm1hdGNoKG11bHRpcGxlU3BhY2VzUmVnZXgpLFxuICAgICAgICAgIHN0eWxlUHJvcHMgPSB0aGlzLmdldFN2Z1NwYW5TdHlsZXMoc3R5bGVEZWNsLCBzaG91bGRVc2VXaGl0ZXNwYWNlKSxcbiAgICAgICAgICBmaWxsU3R5bGVzID0gc3R5bGVQcm9wcyA/ICdzdHlsZT1cIicgKyBzdHlsZVByb3BzICsgJ1wiJyA6ICcnLFxuICAgICAgICAgIGR5ID0gc3R5bGVEZWNsLmRlbHRhWSwgZHlTcGFuID0gJycsXG4gICAgICAgICAgTlVNX0ZSQUNUSU9OX0RJR0lUUyA9IGZhYnJpYy5PYmplY3QuTlVNX0ZSQUNUSU9OX0RJR0lUUztcbiAgICAgIGlmIChkeSkge1xuICAgICAgICBkeVNwYW4gPSAnIGR5PVwiJyArIHRvRml4ZWQoZHksIE5VTV9GUkFDVElPTl9ESUdJVFMpICsgJ1wiICc7XG4gICAgICB9XG4gICAgICByZXR1cm4gW1xuICAgICAgICAnPHRzcGFuIHg9XCInLCB0b0ZpeGVkKGxlZnQsIE5VTV9GUkFDVElPTl9ESUdJVFMpLCAnXCIgeT1cIicsXG4gICAgICAgIHRvRml4ZWQodG9wLCBOVU1fRlJBQ1RJT05fRElHSVRTKSwgJ1wiICcsIGR5U3BhbixcbiAgICAgICAgZmlsbFN0eWxlcywgJz4nLFxuICAgICAgICBmYWJyaWMudXRpbC5zdHJpbmcuZXNjYXBlWG1sKF9jaGFyKSxcbiAgICAgICAgJzwvdHNwYW4+J1xuICAgICAgXS5qb2luKCcnKTtcbiAgICB9LFxuXG4gICAgX3NldFNWR1RleHRMaW5lVGV4dDogZnVuY3Rpb24odGV4dFNwYW5zLCBsaW5lSW5kZXgsIHRleHRMZWZ0T2Zmc2V0LCB0ZXh0VG9wT2Zmc2V0KSB7XG4gICAgICAvLyBzZXQgcHJvcGVyIGxpbmUgb2Zmc2V0XG4gICAgICB2YXIgbGluZUhlaWdodCA9IHRoaXMuZ2V0SGVpZ2h0T2ZMaW5lKGxpbmVJbmRleCksXG4gICAgICAgICAgaXNKdXN0aWZ5ID0gdGhpcy50ZXh0QWxpZ24uaW5kZXhPZignanVzdGlmeScpICE9PSAtMSxcbiAgICAgICAgICBhY3R1YWxTdHlsZSxcbiAgICAgICAgICBuZXh0U3R5bGUsXG4gICAgICAgICAgY2hhcnNUb1JlbmRlciA9ICcnLFxuICAgICAgICAgIGNoYXJCb3gsIHN0eWxlLFxuICAgICAgICAgIGJveFdpZHRoID0gMCxcbiAgICAgICAgICBsaW5lID0gdGhpcy5fdGV4dExpbmVzW2xpbmVJbmRleF0sXG4gICAgICAgICAgdGltZVRvUmVuZGVyO1xuXG4gICAgICB0ZXh0VG9wT2Zmc2V0ICs9IGxpbmVIZWlnaHQgKiAoMSAtIHRoaXMuX2ZvbnRTaXplRnJhY3Rpb24pIC8gdGhpcy5saW5lSGVpZ2h0O1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGxpbmUubGVuZ3RoIC0gMTsgaSA8PSBsZW47IGkrKykge1xuICAgICAgICB0aW1lVG9SZW5kZXIgPSBpID09PSBsZW4gfHwgdGhpcy5jaGFyU3BhY2luZztcbiAgICAgICAgY2hhcnNUb1JlbmRlciArPSBsaW5lW2ldO1xuICAgICAgICBjaGFyQm94ID0gdGhpcy5fX2NoYXJCb3VuZHNbbGluZUluZGV4XVtpXTtcbiAgICAgICAgaWYgKGJveFdpZHRoID09PSAwKSB7XG4gICAgICAgICAgdGV4dExlZnRPZmZzZXQgKz0gY2hhckJveC5rZXJuZWRXaWR0aCAtIGNoYXJCb3gud2lkdGg7XG4gICAgICAgICAgYm94V2lkdGggKz0gY2hhckJveC53aWR0aDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBib3hXaWR0aCArPSBjaGFyQm94Lmtlcm5lZFdpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0p1c3RpZnkgJiYgIXRpbWVUb1JlbmRlcikge1xuICAgICAgICAgIGlmICh0aGlzLl9yZVNwYWNlQW5kVGFiLnRlc3QobGluZVtpXSkpIHtcbiAgICAgICAgICAgIHRpbWVUb1JlbmRlciA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghdGltZVRvUmVuZGVyKSB7XG4gICAgICAgICAgLy8gaWYgd2UgaGF2ZSBjaGFyU3BhY2luZywgd2UgcmVuZGVyIGNoYXIgYnkgY2hhclxuICAgICAgICAgIGFjdHVhbFN0eWxlID0gYWN0dWFsU3R5bGUgfHwgdGhpcy5nZXRDb21wbGV0ZVN0eWxlRGVjbGFyYXRpb24obGluZUluZGV4LCBpKTtcbiAgICAgICAgICBuZXh0U3R5bGUgPSB0aGlzLmdldENvbXBsZXRlU3R5bGVEZWNsYXJhdGlvbihsaW5lSW5kZXgsIGkgKyAxKTtcbiAgICAgICAgICB0aW1lVG9SZW5kZXIgPSBmYWJyaWMudXRpbC5oYXNTdHlsZUNoYW5nZWQoYWN0dWFsU3R5bGUsIG5leHRTdHlsZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRpbWVUb1JlbmRlcikge1xuICAgICAgICAgIHN0eWxlID0gdGhpcy5fZ2V0U3R5bGVEZWNsYXJhdGlvbihsaW5lSW5kZXgsIGkpIHx8IHsgfTtcbiAgICAgICAgICB0ZXh0U3BhbnMucHVzaCh0aGlzLl9jcmVhdGVUZXh0Q2hhclNwYW4oY2hhcnNUb1JlbmRlciwgc3R5bGUsIHRleHRMZWZ0T2Zmc2V0LCB0ZXh0VG9wT2Zmc2V0KSk7XG4gICAgICAgICAgY2hhcnNUb1JlbmRlciA9ICcnO1xuICAgICAgICAgIGFjdHVhbFN0eWxlID0gbmV4dFN0eWxlO1xuICAgICAgICAgIHRleHRMZWZ0T2Zmc2V0ICs9IGJveFdpZHRoO1xuICAgICAgICAgIGJveFdpZHRoID0gMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBfcHVzaFRleHRCZ1JlY3Q6IGZ1bmN0aW9uKHRleHRCZ1JlY3RzLCBjb2xvciwgbGVmdCwgdG9wLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICB2YXIgTlVNX0ZSQUNUSU9OX0RJR0lUUyA9IGZhYnJpYy5PYmplY3QuTlVNX0ZSQUNUSU9OX0RJR0lUUztcbiAgICAgIHRleHRCZ1JlY3RzLnB1c2goXG4gICAgICAgICdcXHRcXHQ8cmVjdCAnLFxuICAgICAgICB0aGlzLl9nZXRGaWxsQXR0cmlidXRlcyhjb2xvciksXG4gICAgICAgICcgeD1cIicsXG4gICAgICAgIHRvRml4ZWQobGVmdCwgTlVNX0ZSQUNUSU9OX0RJR0lUUyksXG4gICAgICAgICdcIiB5PVwiJyxcbiAgICAgICAgdG9GaXhlZCh0b3AsIE5VTV9GUkFDVElPTl9ESUdJVFMpLFxuICAgICAgICAnXCIgd2lkdGg9XCInLFxuICAgICAgICB0b0ZpeGVkKHdpZHRoLCBOVU1fRlJBQ1RJT05fRElHSVRTKSxcbiAgICAgICAgJ1wiIGhlaWdodD1cIicsXG4gICAgICAgIHRvRml4ZWQoaGVpZ2h0LCBOVU1fRlJBQ1RJT05fRElHSVRTKSxcbiAgICAgICAgJ1wiPjwvcmVjdD5cXG4nKTtcbiAgICB9LFxuXG4gICAgX3NldFNWR1RleHRMaW5lQmc6IGZ1bmN0aW9uKHRleHRCZ1JlY3RzLCBpLCBsZWZ0T2Zmc2V0LCB0ZXh0VG9wT2Zmc2V0KSB7XG4gICAgICB2YXIgbGluZSA9IHRoaXMuX3RleHRMaW5lc1tpXSxcbiAgICAgICAgICBoZWlnaHRPZkxpbmUgPSB0aGlzLmdldEhlaWdodE9mTGluZShpKSAvIHRoaXMubGluZUhlaWdodCxcbiAgICAgICAgICBib3hXaWR0aCA9IDAsXG4gICAgICAgICAgYm94U3RhcnQgPSAwLFxuICAgICAgICAgIGNoYXJCb3gsIGN1cnJlbnRDb2xvcixcbiAgICAgICAgICBsYXN0Q29sb3IgPSB0aGlzLmdldFZhbHVlT2ZQcm9wZXJ0eUF0KGksIDAsICd0ZXh0QmFja2dyb3VuZENvbG9yJyk7XG4gICAgICBmb3IgKHZhciBqID0gMCwgamxlbiA9IGxpbmUubGVuZ3RoOyBqIDwgamxlbjsgaisrKSB7XG4gICAgICAgIGNoYXJCb3ggPSB0aGlzLl9fY2hhckJvdW5kc1tpXVtqXTtcbiAgICAgICAgY3VycmVudENvbG9yID0gdGhpcy5nZXRWYWx1ZU9mUHJvcGVydHlBdChpLCBqLCAndGV4dEJhY2tncm91bmRDb2xvcicpO1xuICAgICAgICBpZiAoY3VycmVudENvbG9yICE9PSBsYXN0Q29sb3IpIHtcbiAgICAgICAgICBsYXN0Q29sb3IgJiYgdGhpcy5fcHVzaFRleHRCZ1JlY3QodGV4dEJnUmVjdHMsIGxhc3RDb2xvciwgbGVmdE9mZnNldCArIGJveFN0YXJ0LFxuICAgICAgICAgICAgdGV4dFRvcE9mZnNldCwgYm94V2lkdGgsIGhlaWdodE9mTGluZSk7XG4gICAgICAgICAgYm94U3RhcnQgPSBjaGFyQm94LmxlZnQ7XG4gICAgICAgICAgYm94V2lkdGggPSBjaGFyQm94LndpZHRoO1xuICAgICAgICAgIGxhc3RDb2xvciA9IGN1cnJlbnRDb2xvcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBib3hXaWR0aCArPSBjaGFyQm94Lmtlcm5lZFdpZHRoO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjdXJyZW50Q29sb3IgJiYgdGhpcy5fcHVzaFRleHRCZ1JlY3QodGV4dEJnUmVjdHMsIGN1cnJlbnRDb2xvciwgbGVmdE9mZnNldCArIGJveFN0YXJ0LFxuICAgICAgICB0ZXh0VG9wT2Zmc2V0LCBib3hXaWR0aCwgaGVpZ2h0T2ZMaW5lKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQWRvYmUgSWxsdXN0cmF0b3IgKGF0IGxlYXN0IENTNSkgaXMgdW5hYmxlIHRvIHJlbmRlciByZ2JhKCktYmFzZWQgZmlsbCB2YWx1ZXNcbiAgICAgKiB3ZSB3b3JrIGFyb3VuZCBpdCBieSBcIm1vdmluZ1wiIGFscGhhIGNoYW5uZWwgaW50byBvcGFjaXR5IGF0dHJpYnV0ZSBhbmQgc2V0dGluZyBmaWxsJ3MgYWxwaGEgdG8gMVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlXG4gICAgICogQHJldHVybiB7U3RyaW5nfVxuICAgICAqL1xuICAgIF9nZXRGaWxsQXR0cmlidXRlczogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHZhciBmaWxsQ29sb3IgPSAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykgPyBuZXcgZmFicmljLkNvbG9yKHZhbHVlKSA6ICcnO1xuICAgICAgaWYgKCFmaWxsQ29sb3IgfHwgIWZpbGxDb2xvci5nZXRTb3VyY2UoKSB8fCBmaWxsQ29sb3IuZ2V0QWxwaGEoKSA9PT0gMSkge1xuICAgICAgICByZXR1cm4gJ2ZpbGw9XCInICsgdmFsdWUgKyAnXCInO1xuICAgICAgfVxuICAgICAgcmV0dXJuICdvcGFjaXR5PVwiJyArIGZpbGxDb2xvci5nZXRBbHBoYSgpICsgJ1wiIGZpbGw9XCInICsgZmlsbENvbG9yLnNldEFscGhhKDEpLnRvUmdiKCkgKyAnXCInO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZXRTVkdMaW5lVG9wT2Zmc2V0OiBmdW5jdGlvbihsaW5lSW5kZXgpIHtcbiAgICAgIHZhciBsaW5lVG9wT2Zmc2V0ID0gMCwgbGFzdEhlaWdodCA9IDA7XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxpbmVJbmRleDsgaisrKSB7XG4gICAgICAgIGxpbmVUb3BPZmZzZXQgKz0gdGhpcy5nZXRIZWlnaHRPZkxpbmUoaik7XG4gICAgICB9XG4gICAgICBsYXN0SGVpZ2h0ID0gdGhpcy5nZXRIZWlnaHRPZkxpbmUoaik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsaW5lVG9wOiBsaW5lVG9wT2Zmc2V0LFxuICAgICAgICBvZmZzZXQ6ICh0aGlzLl9mb250U2l6ZU11bHQgLSB0aGlzLl9mb250U2l6ZUZyYWN0aW9uKSAqIGxhc3RIZWlnaHQgLyAodGhpcy5saW5lSGVpZ2h0ICogdGhpcy5fZm9udFNpemVNdWx0KVxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBzdHlsZXMtc3RyaW5nIGZvciBzdmctZXhwb3J0XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBza2lwU2hhZG93IGEgYm9vbGVhbiB0byBza2lwIHNoYWRvdyBmaWx0ZXIgb3V0cHV0XG4gICAgICogQHJldHVybiB7U3RyaW5nfVxuICAgICAqL1xuICAgIGdldFN2Z1N0eWxlczogZnVuY3Rpb24oc2tpcFNoYWRvdykge1xuICAgICAgdmFyIHN2Z1N0eWxlID0gZmFicmljLk9iamVjdC5wcm90b3R5cGUuZ2V0U3ZnU3R5bGVzLmNhbGwodGhpcywgc2tpcFNoYWRvdyk7XG4gICAgICByZXR1cm4gc3ZnU3R5bGUgKyAnIHdoaXRlLXNwYWNlOiBwcmU7JztcbiAgICB9LFxuICB9KTtcbn0pKCk7XG4vKiBfVE9fU1ZHX0VORF8gKi9cblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBmYWJyaWMgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0ge30pO1xuXG4gIC8qKlxuICAgKiBUZXh0Ym94IGNsYXNzLCBiYXNlZCBvbiBJVGV4dCwgYWxsb3dzIHRoZSB1c2VyIHRvIHJlc2l6ZSB0aGUgdGV4dCByZWN0YW5nbGVcbiAgICogYW5kIHdyYXBzIGxpbmVzIGF1dG9tYXRpY2FsbHkuIFRleHRib3hlcyBoYXZlIHRoZWlyIFkgc2NhbGluZyBsb2NrZWQsIHRoZVxuICAgKiB1c2VyIGNhbiBvbmx5IGNoYW5nZSB3aWR0aC4gSGVpZ2h0IGlzIGFkanVzdGVkIGF1dG9tYXRpY2FsbHkgYmFzZWQgb24gdGhlXG4gICAqIHdyYXBwaW5nIG9mIGxpbmVzLlxuICAgKiBAY2xhc3MgZmFicmljLlRleHRib3hcbiAgICogQGV4dGVuZHMgZmFicmljLklUZXh0XG4gICAqIEBtaXhlcyBmYWJyaWMuT2JzZXJ2YWJsZVxuICAgKiBAcmV0dXJuIHtmYWJyaWMuVGV4dGJveH0gdGhpc0FyZ1xuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuVGV4dGJveCNpbml0aWFsaXplfSBmb3IgY29uc3RydWN0b3IgZGVmaW5pdGlvblxuICAgKi9cbiAgZmFicmljLlRleHRib3ggPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcyhmYWJyaWMuSVRleHQsIGZhYnJpYy5PYnNlcnZhYmxlLCB7XG5cbiAgICAvKipcbiAgICAgKiBUeXBlIG9mIGFuIG9iamVjdFxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHlwZTogJ3RleHRib3gnLFxuXG4gICAgLyoqXG4gICAgICogTWluaW11bSB3aWR0aCBvZiB0ZXh0Ym94LCBpbiBwaXhlbHMuXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBtaW5XaWR0aDogMjAsXG5cbiAgICAvKipcbiAgICAgKiBNaW5pbXVtIGNhbGN1bGF0ZWQgd2lkdGggb2YgYSB0ZXh0Ym94LCBpbiBwaXhlbHMuXG4gICAgICogZml4ZWQgdG8gMiBzbyB0aGF0IGFuIGVtcHR5IHRleHRib3ggY2Fubm90IGdvIHRvIDBcbiAgICAgKiBhbmQgaXMgc3RpbGwgc2VsZWN0YWJsZSB3aXRob3V0IHRleHQuXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBkeW5hbWljTWluV2lkdGg6IDIsXG5cbiAgICAvKipcbiAgICAgKiBDYWNoZWQgYXJyYXkgb2YgdGV4dCB3cmFwcGluZy5cbiAgICAgKiBAdHlwZSBBcnJheVxuICAgICAqL1xuICAgIF9fY2FjaGVkTGluZXM6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZSBzdGFuZGFyZCBPYmplY3QgY2xhc3MgdmFsdWVzXG4gICAgICovXG4gICAgbG9ja1NjYWxpbmdGbGlwOiB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGUgc3RhbmRhcmQgT2JqZWN0IGNsYXNzIHZhbHVlc1xuICAgICAqIFRleHRib3ggbmVlZHMgdGhpcyBvbiBmYWxzZVxuICAgICAqL1xuICAgIG5vU2NhbGVDYWNoZTogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0aWVzIHdoaWNoIHdoZW4gc2V0IGNhdXNlIG9iamVjdCB0byBjaGFuZ2UgZGltZW5zaW9uc1xuICAgICAqIEB0eXBlIE9iamVjdFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2RpbWVuc2lvbkFmZmVjdGluZ1Byb3BzOiBmYWJyaWMuVGV4dC5wcm90b3R5cGUuX2RpbWVuc2lvbkFmZmVjdGluZ1Byb3BzLmNvbmNhdCgnd2lkdGgnKSxcblxuICAgIC8qKlxuICAgICAqIFVzZSB0aGlzIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byBzcGxpdCBzdHJpbmdzIGluIGJyZWFrYWJsZSBsaW5lc1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3dvcmRKb2luZXJzOiAvWyBcXHRcXHJdLyxcblxuICAgIC8qKlxuICAgICAqIFVzZSB0aGlzIGJvb2xlYW4gcHJvcGVydHkgaW4gb3JkZXIgdG8gc3BsaXQgc3RyaW5ncyB0aGF0IGhhdmUgbm8gd2hpdGUgc3BhY2UgY29uY2VwdC5cbiAgICAgKiB0aGlzIGlzIGEgY2hlYXAgd2F5IHRvIGhlbHAgd2l0aCBjaGluZXNlL2phcGFuZXNlXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBzaW5jZSAyLjYuMFxuICAgICAqL1xuICAgIHNwbGl0QnlHcmFwaGVtZTogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBVbmxpa2Ugc3VwZXJjbGFzcydzIHZlcnNpb24gb2YgdGhpcyBmdW5jdGlvbiwgVGV4dGJveCBkb2VzIG5vdCB1cGRhdGVcbiAgICAgKiBpdHMgd2lkdGguXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBpbml0RGltZW5zaW9uczogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5fX3NraXBEaW1lbnNpb24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5pc0VkaXRpbmcgJiYgdGhpcy5pbml0RGVsYXllZEN1cnNvcigpO1xuICAgICAgdGhpcy5jbGVhckNvbnRleHRUb3AoKTtcbiAgICAgIHRoaXMuX2NsZWFyQ2FjaGUoKTtcbiAgICAgIC8vIGNsZWFyIGR5bmFtaWNNaW5XaWR0aCBhcyBpdCB3aWxsIGJlIGRpZmZlcmVudCBhZnRlciB3ZSByZS13cmFwIGxpbmVcbiAgICAgIHRoaXMuZHluYW1pY01pbldpZHRoID0gMDtcbiAgICAgIC8vIHdyYXAgbGluZXNcbiAgICAgIHRoaXMuX3N0eWxlTWFwID0gdGhpcy5fZ2VuZXJhdGVTdHlsZU1hcCh0aGlzLl9zcGxpdFRleHQoKSk7XG4gICAgICAvLyBpZiBhZnRlciB3cmFwcGluZywgdGhlIHdpZHRoIGlzIHNtYWxsZXIgdGhhbiBkeW5hbWljTWluV2lkdGgsIGNoYW5nZSB0aGUgd2lkdGggYW5kIHJlLXdyYXBcbiAgICAgIGlmICh0aGlzLmR5bmFtaWNNaW5XaWR0aCA+IHRoaXMud2lkdGgpIHtcbiAgICAgICAgdGhpcy5fc2V0KCd3aWR0aCcsIHRoaXMuZHluYW1pY01pbldpZHRoKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnRleHRBbGlnbi5pbmRleE9mKCdqdXN0aWZ5JykgIT09IC0xKSB7XG4gICAgICAgIC8vIG9uY2UgdGV4dCBpcyBtZWFzdXJlZCB3ZSBuZWVkIHRvIG1ha2Ugc3BhY2UgZmF0dGVyIHRvIG1ha2UganVzdGlmaWVkIHRleHQuXG4gICAgICAgIHRoaXMuZW5sYXJnZVNwYWNlcygpO1xuICAgICAgfVxuICAgICAgLy8gY2xlYXIgY2FjaGUgYW5kIHJlLWNhbGN1bGF0ZSBoZWlnaHRcbiAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5jYWxjVGV4dEhlaWdodCgpO1xuICAgICAgdGhpcy5zYXZlU3RhdGUoeyBwcm9wZXJ0eVNldDogJ19kaW1lbnNpb25BZmZlY3RpbmdQcm9wcycgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIGFuIG9iamVjdCB0aGF0IHRyYW5zbGF0ZXMgdGhlIHN0eWxlIG9iamVjdCBzbyB0aGF0IGl0IGlzXG4gICAgICogYnJva2VuIHVwIGJ5IHZpc3VhbCBsaW5lcyAobmV3IGxpbmVzIGFuZCBhdXRvbWF0aWMgd3JhcHBpbmcpLlxuICAgICAqIFRoZSBvcmlnaW5hbCB0ZXh0IHN0eWxlcyBvYmplY3QgaXMgYnJva2VuIHVwIGJ5IGFjdHVhbCBsaW5lcyAobmV3IGxpbmVzIG9ubHkpLFxuICAgICAqIHdoaWNoIGlzIG9ubHkgc3VmZmljaWVudCBmb3IgVGV4dCAvIElUZXh0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZ2VuZXJhdGVTdHlsZU1hcDogZnVuY3Rpb24odGV4dEluZm8pIHtcbiAgICAgIHZhciByZWFsTGluZUNvdW50ICAgICA9IDAsXG4gICAgICAgICAgcmVhbExpbmVDaGFyQ291bnQgPSAwLFxuICAgICAgICAgIGNoYXJDb3VudCAgICAgICAgID0gMCxcbiAgICAgICAgICBtYXAgICAgICAgICAgICAgICA9IHt9O1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRleHRJbmZvLmdyYXBoZW1lTGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHRleHRJbmZvLmdyYXBoZW1lVGV4dFtjaGFyQ291bnRdID09PSAnXFxuJyAmJiBpID4gMCkge1xuICAgICAgICAgIHJlYWxMaW5lQ2hhckNvdW50ID0gMDtcbiAgICAgICAgICBjaGFyQ291bnQrKztcbiAgICAgICAgICByZWFsTGluZUNvdW50Kys7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXRoaXMuc3BsaXRCeUdyYXBoZW1lICYmIHRoaXMuX3JlU3BhY2VBbmRUYWIudGVzdCh0ZXh0SW5mby5ncmFwaGVtZVRleHRbY2hhckNvdW50XSkgJiYgaSA+IDApIHtcbiAgICAgICAgICAvLyB0aGlzIGNhc2UgZGVhbHMgd2l0aCBzcGFjZSdzIHRoYXQgYXJlIHJlbW92ZWQgZnJvbSBlbmQgb2YgbGluZXMgd2hlbiB3cmFwcGluZ1xuICAgICAgICAgIHJlYWxMaW5lQ2hhckNvdW50Kys7XG4gICAgICAgICAgY2hhckNvdW50Kys7XG4gICAgICAgIH1cblxuICAgICAgICBtYXBbaV0gPSB7IGxpbmU6IHJlYWxMaW5lQ291bnQsIG9mZnNldDogcmVhbExpbmVDaGFyQ291bnQgfTtcblxuICAgICAgICBjaGFyQ291bnQgKz0gdGV4dEluZm8uZ3JhcGhlbWVMaW5lc1tpXS5sZW5ndGg7XG4gICAgICAgIHJlYWxMaW5lQ2hhckNvdW50ICs9IHRleHRJbmZvLmdyYXBoZW1lTGluZXNbaV0ubGVuZ3RoO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbWFwO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgb2JqZWN0IGhhcyBhIHN0eWxlIHByb3BlcnR5IG9yIGhhcyBpdCBvbiBhIHNwZWNpZmllZCBsaW5lXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxpbmVJbmRleFxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgc3R5bGVIYXM6IGZ1bmN0aW9uKHByb3BlcnR5LCBsaW5lSW5kZXgpIHtcbiAgICAgIGlmICh0aGlzLl9zdHlsZU1hcCAmJiAhdGhpcy5pc1dyYXBwaW5nKSB7XG4gICAgICAgIHZhciBtYXAgPSB0aGlzLl9zdHlsZU1hcFtsaW5lSW5kZXhdO1xuICAgICAgICBpZiAobWFwKSB7XG4gICAgICAgICAgbGluZUluZGV4ID0gbWFwLmxpbmU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWJyaWMuVGV4dC5wcm90b3R5cGUuc3R5bGVIYXMuY2FsbCh0aGlzLCBwcm9wZXJ0eSwgbGluZUluZGV4KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIG9iamVjdCBoYXMgbm8gc3R5bGluZyBvciBubyBzdHlsaW5nIGluIGEgbGluZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSW5kZXggLCBsaW5lSW5kZXggaXMgb24gd3JhcHBlZCBsaW5lcy5cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIGlzRW1wdHlTdHlsZXM6IGZ1bmN0aW9uKGxpbmVJbmRleCkge1xuICAgICAgaWYgKCF0aGlzLnN0eWxlcykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBvZmZzZXQgPSAwLCBuZXh0TGluZUluZGV4ID0gbGluZUluZGV4ICsgMSwgbmV4dE9mZnNldCwgb2JqLCBzaG91bGRMaW1pdCA9IGZhbHNlLFxuICAgICAgICAgIG1hcCA9IHRoaXMuX3N0eWxlTWFwW2xpbmVJbmRleF0sIG1hcE5leHRMaW5lID0gdGhpcy5fc3R5bGVNYXBbbGluZUluZGV4ICsgMV07XG4gICAgICBpZiAobWFwKSB7XG4gICAgICAgIGxpbmVJbmRleCA9IG1hcC5saW5lO1xuICAgICAgICBvZmZzZXQgPSBtYXAub2Zmc2V0O1xuICAgICAgfVxuICAgICAgaWYgKG1hcE5leHRMaW5lKSB7XG4gICAgICAgIG5leHRMaW5lSW5kZXggPSBtYXBOZXh0TGluZS5saW5lO1xuICAgICAgICBzaG91bGRMaW1pdCA9IG5leHRMaW5lSW5kZXggPT09IGxpbmVJbmRleDtcbiAgICAgICAgbmV4dE9mZnNldCA9IG1hcE5leHRMaW5lLm9mZnNldDtcbiAgICAgIH1cbiAgICAgIG9iaiA9IHR5cGVvZiBsaW5lSW5kZXggPT09ICd1bmRlZmluZWQnID8gdGhpcy5zdHlsZXMgOiB7IGxpbmU6IHRoaXMuc3R5bGVzW2xpbmVJbmRleF0gfTtcbiAgICAgIGZvciAodmFyIHAxIGluIG9iaikge1xuICAgICAgICBmb3IgKHZhciBwMiBpbiBvYmpbcDFdKSB7XG4gICAgICAgICAgaWYgKHAyID49IG9mZnNldCAmJiAoIXNob3VsZExpbWl0IHx8IHAyIDwgbmV4dE9mZnNldCkpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuICAgICAgICAgICAgZm9yICh2YXIgcDMgaW4gb2JqW3AxXVtwMl0pIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSW5kZXhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gY2hhckluZGV4XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZ2V0U3R5bGVEZWNsYXJhdGlvbjogZnVuY3Rpb24obGluZUluZGV4LCBjaGFySW5kZXgpIHtcbiAgICAgIGlmICh0aGlzLl9zdHlsZU1hcCAmJiAhdGhpcy5pc1dyYXBwaW5nKSB7XG4gICAgICAgIHZhciBtYXAgPSB0aGlzLl9zdHlsZU1hcFtsaW5lSW5kZXhdO1xuICAgICAgICBpZiAoIW1hcCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGxpbmVJbmRleCA9IG1hcC5saW5lO1xuICAgICAgICBjaGFySW5kZXggPSBtYXAub2Zmc2V0ICsgY2hhckluZGV4O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuY2FsbFN1cGVyKCdfZ2V0U3R5bGVEZWNsYXJhdGlvbicsIGxpbmVJbmRleCwgY2hhckluZGV4KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxpbmVJbmRleFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBjaGFySW5kZXhcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3R5bGVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9zZXRTdHlsZURlY2xhcmF0aW9uOiBmdW5jdGlvbihsaW5lSW5kZXgsIGNoYXJJbmRleCwgc3R5bGUpIHtcbiAgICAgIHZhciBtYXAgPSB0aGlzLl9zdHlsZU1hcFtsaW5lSW5kZXhdO1xuICAgICAgbGluZUluZGV4ID0gbWFwLmxpbmU7XG4gICAgICBjaGFySW5kZXggPSBtYXAub2Zmc2V0ICsgY2hhckluZGV4O1xuXG4gICAgICB0aGlzLnN0eWxlc1tsaW5lSW5kZXhdW2NoYXJJbmRleF0gPSBzdHlsZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxpbmVJbmRleFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBjaGFySW5kZXhcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9kZWxldGVTdHlsZURlY2xhcmF0aW9uOiBmdW5jdGlvbihsaW5lSW5kZXgsIGNoYXJJbmRleCkge1xuICAgICAgdmFyIG1hcCA9IHRoaXMuX3N0eWxlTWFwW2xpbmVJbmRleF07XG4gICAgICBsaW5lSW5kZXggPSBtYXAubGluZTtcbiAgICAgIGNoYXJJbmRleCA9IG1hcC5vZmZzZXQgKyBjaGFySW5kZXg7XG4gICAgICBkZWxldGUgdGhpcy5zdHlsZXNbbGluZUluZGV4XVtjaGFySW5kZXhdO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBwcm9iYWJseSBicm9rZW4gbmVlZCBhIGZpeFxuICAgICAqIFJldHVybnMgdGhlIHJlYWwgc3R5bGUgbGluZSB0aGF0IGNvcnJlc3BvbmQgdG8gdGhlIHdyYXBwZWQgbGluZUluZGV4IGxpbmVcbiAgICAgKiBVc2VkIGp1c3QgdG8gdmVyaWZ5IGlmIHRoZSBsaW5lIGRvZXMgZXhpc3Qgb3Igbm90LlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSW5kZXhcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gaWYgdGhlIGxpbmUgZXhpc3RzIG9yIG5vdFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2dldExpbmVTdHlsZTogZnVuY3Rpb24obGluZUluZGV4KSB7XG4gICAgICB2YXIgbWFwID0gdGhpcy5fc3R5bGVNYXBbbGluZUluZGV4XTtcbiAgICAgIHJldHVybiAhIXRoaXMuc3R5bGVzW21hcC5saW5lXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBsaW5lIHN0eWxlIHRvIGFuIGVtcHR5IG9iamVjdCBzbyB0aGF0IGlzIGluaXRpYWxpemVkXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxpbmVJbmRleFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdHlsZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3NldExpbmVTdHlsZTogZnVuY3Rpb24obGluZUluZGV4KSB7XG4gICAgICB2YXIgbWFwID0gdGhpcy5fc3R5bGVNYXBbbGluZUluZGV4XTtcbiAgICAgIHRoaXMuc3R5bGVzW21hcC5saW5lXSA9IHt9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBXcmFwcyB0ZXh0IHVzaW5nIHRoZSAnd2lkdGgnIHByb3BlcnR5IG9mIFRleHRib3guIEZpcnN0IHRoaXMgZnVuY3Rpb25cbiAgICAgKiBzcGxpdHMgdGV4dCBvbiBuZXdsaW5lcywgc28gd2UgcHJlc2VydmUgbmV3bGluZXMgZW50ZXJlZCBieSB0aGUgdXNlci5cbiAgICAgKiBUaGVuIGl0IHdyYXBzIGVhY2ggbGluZSB1c2luZyB0aGUgd2lkdGggb2YgdGhlIFRleHRib3ggYnkgY2FsbGluZ1xuICAgICAqIF93cmFwTGluZSgpLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGxpbmVzIFRoZSBzdHJpbmcgYXJyYXkgb2YgdGV4dCB0aGF0IGlzIHNwbGl0IGludG8gbGluZXNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZGVzaXJlZFdpZHRoIHdpZHRoIHlvdSB3YW50IHRvIHdyYXAgdG9cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IEFycmF5IG9mIGxpbmVzXG4gICAgICovXG4gICAgX3dyYXBUZXh0OiBmdW5jdGlvbihsaW5lcywgZGVzaXJlZFdpZHRoKSB7XG4gICAgICB2YXIgd3JhcHBlZCA9IFtdLCBpO1xuICAgICAgdGhpcy5pc1dyYXBwaW5nID0gdHJ1ZTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB3cmFwcGVkID0gd3JhcHBlZC5jb25jYXQodGhpcy5fd3JhcExpbmUobGluZXNbaV0sIGksIGRlc2lyZWRXaWR0aCkpO1xuICAgICAgfVxuICAgICAgdGhpcy5pc1dyYXBwaW5nID0gZmFsc2U7XG4gICAgICByZXR1cm4gd3JhcHBlZDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRvIG1lYXN1cmUgYSBzdHJpbmcgb2YgdGV4dCwgZ2l2ZW4gaXRzIGxpbmVJbmRleCBhbmQgY2hhckluZGV4IG9mZnNldFxuICAgICAqIGl0IGdldHMgY2FsbGVkIHdoZW4gY2hhckJvdW5kcyBhcmUgbm90IGF2YWlsYWJsZSB5ZXQuXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxpbmVJbmRleFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjaGFyT2Zmc2V0XG4gICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9tZWFzdXJlV29yZDogZnVuY3Rpb24od29yZCwgbGluZUluZGV4LCBjaGFyT2Zmc2V0KSB7XG4gICAgICB2YXIgd2lkdGggPSAwLCBwcmV2R3JhcGhlbWUsIHNraXBMZWZ0ID0gdHJ1ZTtcbiAgICAgIGNoYXJPZmZzZXQgPSBjaGFyT2Zmc2V0IHx8IDA7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gd29yZC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgYm94ID0gdGhpcy5fZ2V0R3JhcGhlbWVCb3god29yZFtpXSwgbGluZUluZGV4LCBpICsgY2hhck9mZnNldCwgcHJldkdyYXBoZW1lLCBza2lwTGVmdCk7XG4gICAgICAgIHdpZHRoICs9IGJveC5rZXJuZWRXaWR0aDtcbiAgICAgICAgcHJldkdyYXBoZW1lID0gd29yZFtpXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3aWR0aDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogV3JhcHMgYSBsaW5lIG9mIHRleHQgdXNpbmcgdGhlIHdpZHRoIG9mIHRoZSBUZXh0Ym94IGFuZCBhIGNvbnRleHQuXG4gICAgICogQHBhcmFtIHtBcnJheX0gbGluZSBUaGUgZ3JhcGhlbWUgYXJyYXkgdGhhdCByZXByZXNlbnQgdGhlIGxpbmVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGRlc2lyZWRXaWR0aCB3aWR0aCB5b3Ugd2FudCB0byB3cmFwIHRoZSBsaW5lIHRvXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHJlc2VydmVkU3BhY2Ugc3BhY2UgdG8gcmVtb3ZlIGZyb20gd3JhcHBpbmcgZm9yIGN1c3RvbSBmdW5jdGlvbmFsaXRpZXNcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IEFycmF5IG9mIGxpbmUocykgaW50byB3aGljaCB0aGUgZ2l2ZW4gdGV4dCBpcyB3cmFwcGVkXG4gICAgICogdG8uXG4gICAgICovXG4gICAgX3dyYXBMaW5lOiBmdW5jdGlvbihfbGluZSwgbGluZUluZGV4LCBkZXNpcmVkV2lkdGgsIHJlc2VydmVkU3BhY2UpIHtcbiAgICAgIHZhciBsaW5lV2lkdGggPSAwLFxuICAgICAgICAgIHNwbGl0QnlHcmFwaGVtZSA9IHRoaXMuc3BsaXRCeUdyYXBoZW1lLFxuICAgICAgICAgIGdyYXBoZW1lTGluZXMgPSBbXSxcbiAgICAgICAgICBsaW5lID0gW10sXG4gICAgICAgICAgLy8gc3BhY2VzIGluIGRpZmZlcmVudCBsYW5ndWFnZXM/XG4gICAgICAgICAgd29yZHMgPSBzcGxpdEJ5R3JhcGhlbWUgPyBmYWJyaWMudXRpbC5zdHJpbmcuZ3JhcGhlbWVTcGxpdChfbGluZSkgOiBfbGluZS5zcGxpdCh0aGlzLl93b3JkSm9pbmVycyksXG4gICAgICAgICAgd29yZCA9ICcnLFxuICAgICAgICAgIG9mZnNldCA9IDAsXG4gICAgICAgICAgaW5maXggPSBzcGxpdEJ5R3JhcGhlbWUgPyAnJyA6ICcgJyxcbiAgICAgICAgICB3b3JkV2lkdGggPSAwLFxuICAgICAgICAgIGluZml4V2lkdGggPSAwLFxuICAgICAgICAgIGxhcmdlc3RXb3JkV2lkdGggPSAwLFxuICAgICAgICAgIGxpbmVKdXN0U3RhcnRlZCA9IHRydWUsXG4gICAgICAgICAgYWRkaXRpb25hbFNwYWNlID0gdGhpcy5fZ2V0V2lkdGhPZkNoYXJTcGFjaW5nKCksXG4gICAgICAgICAgcmVzZXJ2ZWRTcGFjZSA9IHJlc2VydmVkU3BhY2UgfHwgMDtcbiAgICAgIC8vIGZpeCBhIGRpZmZlcmVuY2UgYmV0d2VlbiBzcGxpdCBhbmQgZ3JhcGhlbWVTcGxpdFxuICAgICAgaWYgKHdvcmRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB3b3Jkcy5wdXNoKFtdKTtcbiAgICAgIH1cbiAgICAgIGRlc2lyZWRXaWR0aCAtPSByZXNlcnZlZFNwYWNlO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3b3Jkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBpZiB1c2luZyBzcGxpdEJ5R3JhcGhlbWUgd29yZHMgYXJlIGFscmVhZHkgaW4gZ3JhcGhlbWVzLlxuICAgICAgICB3b3JkID0gc3BsaXRCeUdyYXBoZW1lID8gd29yZHNbaV0gOiBmYWJyaWMudXRpbC5zdHJpbmcuZ3JhcGhlbWVTcGxpdCh3b3Jkc1tpXSk7XG4gICAgICAgIHdvcmRXaWR0aCA9IHRoaXMuX21lYXN1cmVXb3JkKHdvcmQsIGxpbmVJbmRleCwgb2Zmc2V0KTtcbiAgICAgICAgb2Zmc2V0ICs9IHdvcmQubGVuZ3RoO1xuXG4gICAgICAgIGxpbmVXaWR0aCArPSBpbmZpeFdpZHRoICsgd29yZFdpZHRoIC0gYWRkaXRpb25hbFNwYWNlO1xuICAgICAgICBpZiAobGluZVdpZHRoID4gZGVzaXJlZFdpZHRoICYmICFsaW5lSnVzdFN0YXJ0ZWQpIHtcbiAgICAgICAgICBncmFwaGVtZUxpbmVzLnB1c2gobGluZSk7XG4gICAgICAgICAgbGluZSA9IFtdO1xuICAgICAgICAgIGxpbmVXaWR0aCA9IHdvcmRXaWR0aDtcbiAgICAgICAgICBsaW5lSnVzdFN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGxpbmVXaWR0aCArPSBhZGRpdGlvbmFsU3BhY2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWxpbmVKdXN0U3RhcnRlZCAmJiAhc3BsaXRCeUdyYXBoZW1lKSB7XG4gICAgICAgICAgbGluZS5wdXNoKGluZml4KTtcbiAgICAgICAgfVxuICAgICAgICBsaW5lID0gbGluZS5jb25jYXQod29yZCk7XG5cbiAgICAgICAgaW5maXhXaWR0aCA9IHNwbGl0QnlHcmFwaGVtZSA/IDAgOiB0aGlzLl9tZWFzdXJlV29yZChbaW5maXhdLCBsaW5lSW5kZXgsIG9mZnNldCk7XG4gICAgICAgIG9mZnNldCsrO1xuICAgICAgICBsaW5lSnVzdFN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgLy8ga2VlcCB0cmFjayBvZiBsYXJnZXN0IHdvcmRcbiAgICAgICAgaWYgKHdvcmRXaWR0aCA+IGxhcmdlc3RXb3JkV2lkdGgpIHtcbiAgICAgICAgICBsYXJnZXN0V29yZFdpZHRoID0gd29yZFdpZHRoO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGkgJiYgZ3JhcGhlbWVMaW5lcy5wdXNoKGxpbmUpO1xuXG4gICAgICBpZiAobGFyZ2VzdFdvcmRXaWR0aCArIHJlc2VydmVkU3BhY2UgPiB0aGlzLmR5bmFtaWNNaW5XaWR0aCkge1xuICAgICAgICB0aGlzLmR5bmFtaWNNaW5XaWR0aCA9IGxhcmdlc3RXb3JkV2lkdGggLSBhZGRpdGlvbmFsU3BhY2UgKyByZXNlcnZlZFNwYWNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGdyYXBoZW1lTGluZXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERldGVjdCBpZiB0aGUgdGV4dCBsaW5lIGlzIGVuZGVkIHdpdGggYW4gaGFyZCBicmVha1xuICAgICAqIHRleHQgYW5kIGl0ZXh0IGRvIG5vdCBoYXZlIHdyYXBwaW5nLCByZXR1cm4gZmFsc2VcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4IHRleHQgdG8gc3BsaXRcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIGlzRW5kT2ZXcmFwcGluZzogZnVuY3Rpb24obGluZUluZGV4KSB7XG4gICAgICBpZiAoIXRoaXMuX3N0eWxlTWFwW2xpbmVJbmRleCArIDFdKSB7XG4gICAgICAgIC8vIGlzIGxhc3QgbGluZSwgcmV0dXJuIHRydWU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX3N0eWxlTWFwW2xpbmVJbmRleCArIDFdLmxpbmUgIT09IHRoaXMuX3N0eWxlTWFwW2xpbmVJbmRleF0ubGluZSkge1xuICAgICAgICAvLyB0aGlzIGlzIGxhc3QgbGluZSBiZWZvcmUgYSBsaW5lIGJyZWFrLCByZXR1cm4gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERldGVjdCBpZiBhIGxpbmUgaGFzIGEgbGluZWJyZWFrIGFuZCBzbyB3ZSBuZWVkIHRvIGFjY291bnQgZm9yIGl0IHdoZW4gbW92aW5nXG4gICAgICogYW5kIGNvdW50aW5nIHN0eWxlLlxuICAgICAqIEByZXR1cm4gTnVtYmVyXG4gICAgICovXG4gICAgbWlzc2luZ05ld2xpbmVPZmZzZXQ6IGZ1bmN0aW9uKGxpbmVJbmRleCkge1xuICAgICAgaWYgKHRoaXMuc3BsaXRCeUdyYXBoZW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzRW5kT2ZXcmFwcGluZyhsaW5lSW5kZXgpID8gMSA6IDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gMTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgKiBHZXRzIGxpbmVzIG9mIHRleHQgdG8gcmVuZGVyIGluIHRoZSBUZXh0Ym94LiBUaGlzIGZ1bmN0aW9uIGNhbGN1bGF0ZXNcbiAgICAqIHRleHQgd3JhcHBpbmcgb24gdGhlIGZseSBldmVyeSB0aW1lIGl0IGlzIGNhbGxlZC5cbiAgICAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0IHRleHQgdG8gc3BsaXRcbiAgICAqIEByZXR1cm5zIHtBcnJheX0gQXJyYXkgb2YgbGluZXMgaW4gdGhlIFRleHRib3guXG4gICAgKiBAb3ZlcnJpZGVcbiAgICAqL1xuICAgIF9zcGxpdFRleHRJbnRvTGluZXM6IGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgIHZhciBuZXdUZXh0ID0gZmFicmljLlRleHQucHJvdG90eXBlLl9zcGxpdFRleHRJbnRvTGluZXMuY2FsbCh0aGlzLCB0ZXh0KSxcbiAgICAgICAgICBncmFwaGVtZUxpbmVzID0gdGhpcy5fd3JhcFRleHQobmV3VGV4dC5saW5lcywgdGhpcy53aWR0aCksXG4gICAgICAgICAgbGluZXMgPSBuZXcgQXJyYXkoZ3JhcGhlbWVMaW5lcy5sZW5ndGgpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBncmFwaGVtZUxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxpbmVzW2ldID0gZ3JhcGhlbWVMaW5lc1tpXS5qb2luKCcnKTtcbiAgICAgIH1cbiAgICAgIG5ld1RleHQubGluZXMgPSBsaW5lcztcbiAgICAgIG5ld1RleHQuZ3JhcGhlbWVMaW5lcyA9IGdyYXBoZW1lTGluZXM7XG4gICAgICByZXR1cm4gbmV3VGV4dDtcbiAgICB9LFxuXG4gICAgZ2V0TWluV2lkdGg6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIE1hdGgubWF4KHRoaXMubWluV2lkdGgsIHRoaXMuZHluYW1pY01pbldpZHRoKTtcbiAgICB9LFxuXG4gICAgX3JlbW92ZUV4dHJhbmVvdXNTdHlsZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGxpbmVzVG9LZWVwID0ge307XG4gICAgICBmb3IgKHZhciBwcm9wIGluIHRoaXMuX3N0eWxlTWFwKSB7XG4gICAgICAgIGlmICh0aGlzLl90ZXh0TGluZXNbcHJvcF0pIHtcbiAgICAgICAgICBsaW5lc1RvS2VlcFt0aGlzLl9zdHlsZU1hcFtwcm9wXS5saW5lXSA9IDE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZvciAodmFyIHByb3AgaW4gdGhpcy5zdHlsZXMpIHtcbiAgICAgICAgaWYgKCFsaW5lc1RvS2VlcFtwcm9wXSkge1xuICAgICAgICAgIGRlbGV0ZSB0aGlzLnN0eWxlc1twcm9wXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEBtZXRob2QgdG9PYmplY3RcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcGVydGllc1RvSW5jbHVkZV0gQW55IHByb3BlcnRpZXMgdGhhdCB5b3UgbWlnaHQgd2FudCB0byBhZGRpdGlvbmFsbHkgaW5jbHVkZSBpbiB0aGUgb3V0cHV0XG4gICAgICogQHJldHVybiB7T2JqZWN0fSBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b09iamVjdDogZnVuY3Rpb24ocHJvcGVydGllc1RvSW5jbHVkZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FsbFN1cGVyKCd0b09iamVjdCcsIFsnbWluV2lkdGgnLCAnc3BsaXRCeUdyYXBoZW1lJ10uY29uY2F0KHByb3BlcnRpZXNUb0luY2x1ZGUpKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGZhYnJpYy5UZXh0Ym94IGluc3RhbmNlIGZyb20gYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5UZXh0Ym94XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBmcm9tXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gQ2FsbGJhY2sgdG8gaW52b2tlIHdoZW4gYW4gZmFicmljLlRleHRib3ggaW5zdGFuY2UgaXMgY3JlYXRlZFxuICAgKi9cbiAgZmFicmljLlRleHRib3guZnJvbU9iamVjdCA9IGZ1bmN0aW9uKG9iamVjdCwgY2FsbGJhY2spIHtcbiAgICB2YXIgc3R5bGVzID0gZmFicmljLnV0aWwuc3R5bGVzRnJvbUFycmF5KG9iamVjdC5zdHlsZXMsIG9iamVjdC50ZXh0KTtcbiAgICAvL2NvcHkgb2JqZWN0IHRvIHByZXZlbnQgbXV0YXRpb25cbiAgICB2YXIgb2JqQ29weSA9IE9iamVjdC5hc3NpZ24oe30sIG9iamVjdCwgeyBzdHlsZXM6IHN0eWxlcyB9KTtcbiAgICByZXR1cm4gZmFicmljLk9iamVjdC5fZnJvbU9iamVjdCgnVGV4dGJveCcsIG9iakNvcHksIGNhbGxiYWNrLCAndGV4dCcpO1xuICB9O1xufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbigpIHtcblxuICB2YXIgY29udHJvbHNVdGlscyA9IGZhYnJpYy5jb250cm9sc1V0aWxzLFxuICAgICAgc2NhbGVTa2V3U3R5bGVIYW5kbGVyID0gY29udHJvbHNVdGlscy5zY2FsZVNrZXdDdXJzb3JTdHlsZUhhbmRsZXIsXG4gICAgICBzY2FsZVN0eWxlSGFuZGxlciA9IGNvbnRyb2xzVXRpbHMuc2NhbGVDdXJzb3JTdHlsZUhhbmRsZXIsXG4gICAgICBzY2FsaW5nRXF1YWxseSA9IGNvbnRyb2xzVXRpbHMuc2NhbGluZ0VxdWFsbHksXG4gICAgICBzY2FsaW5nWU9yU2tld2luZ1ggPSBjb250cm9sc1V0aWxzLnNjYWxpbmdZT3JTa2V3aW5nWCxcbiAgICAgIHNjYWxpbmdYT3JTa2V3aW5nWSA9IGNvbnRyb2xzVXRpbHMuc2NhbGluZ1hPclNrZXdpbmdZLFxuICAgICAgc2NhbGVPclNrZXdBY3Rpb25OYW1lID0gY29udHJvbHNVdGlscy5zY2FsZU9yU2tld0FjdGlvbk5hbWUsXG4gICAgICBvYmplY3RDb250cm9scyA9IGZhYnJpYy5PYmplY3QucHJvdG90eXBlLmNvbnRyb2xzO1xuXG4gIG9iamVjdENvbnRyb2xzLm1sID0gbmV3IGZhYnJpYy5Db250cm9sKHtcbiAgICB4OiAtMC41LFxuICAgIHk6IDAsXG4gICAgY3Vyc29yU3R5bGVIYW5kbGVyOiBzY2FsZVNrZXdTdHlsZUhhbmRsZXIsXG4gICAgYWN0aW9uSGFuZGxlcjogc2NhbGluZ1hPclNrZXdpbmdZLFxuICAgIGdldEFjdGlvbk5hbWU6IHNjYWxlT3JTa2V3QWN0aW9uTmFtZSxcbiAgfSk7XG5cbiAgb2JqZWN0Q29udHJvbHMubXIgPSBuZXcgZmFicmljLkNvbnRyb2woe1xuICAgIHg6IDAuNSxcbiAgICB5OiAwLFxuICAgIGN1cnNvclN0eWxlSGFuZGxlcjogc2NhbGVTa2V3U3R5bGVIYW5kbGVyLFxuICAgIGFjdGlvbkhhbmRsZXI6IHNjYWxpbmdYT3JTa2V3aW5nWSxcbiAgICBnZXRBY3Rpb25OYW1lOiBzY2FsZU9yU2tld0FjdGlvbk5hbWUsXG4gIH0pO1xuXG4gIG9iamVjdENvbnRyb2xzLm1iID0gbmV3IGZhYnJpYy5Db250cm9sKHtcbiAgICB4OiAwLFxuICAgIHk6IDAuNSxcbiAgICBjdXJzb3JTdHlsZUhhbmRsZXI6IHNjYWxlU2tld1N0eWxlSGFuZGxlcixcbiAgICBhY3Rpb25IYW5kbGVyOiBzY2FsaW5nWU9yU2tld2luZ1gsXG4gICAgZ2V0QWN0aW9uTmFtZTogc2NhbGVPclNrZXdBY3Rpb25OYW1lLFxuICB9KTtcblxuICBvYmplY3RDb250cm9scy5tdCA9IG5ldyBmYWJyaWMuQ29udHJvbCh7XG4gICAgeDogMCxcbiAgICB5OiAtMC41LFxuICAgIGN1cnNvclN0eWxlSGFuZGxlcjogc2NhbGVTa2V3U3R5bGVIYW5kbGVyLFxuICAgIGFjdGlvbkhhbmRsZXI6IHNjYWxpbmdZT3JTa2V3aW5nWCxcbiAgICBnZXRBY3Rpb25OYW1lOiBzY2FsZU9yU2tld0FjdGlvbk5hbWUsXG4gIH0pO1xuXG4gIG9iamVjdENvbnRyb2xzLnRsID0gbmV3IGZhYnJpYy5Db250cm9sKHtcbiAgICB4OiAtMC41LFxuICAgIHk6IC0wLjUsXG4gICAgY3Vyc29yU3R5bGVIYW5kbGVyOiBzY2FsZVN0eWxlSGFuZGxlcixcbiAgICBhY3Rpb25IYW5kbGVyOiBzY2FsaW5nRXF1YWxseVxuICB9KTtcblxuICBvYmplY3RDb250cm9scy50ciA9IG5ldyBmYWJyaWMuQ29udHJvbCh7XG4gICAgeDogMC41LFxuICAgIHk6IC0wLjUsXG4gICAgY3Vyc29yU3R5bGVIYW5kbGVyOiBzY2FsZVN0eWxlSGFuZGxlcixcbiAgICBhY3Rpb25IYW5kbGVyOiBzY2FsaW5nRXF1YWxseVxuICB9KTtcblxuICBvYmplY3RDb250cm9scy5ibCA9IG5ldyBmYWJyaWMuQ29udHJvbCh7XG4gICAgeDogLTAuNSxcbiAgICB5OiAwLjUsXG4gICAgY3Vyc29yU3R5bGVIYW5kbGVyOiBzY2FsZVN0eWxlSGFuZGxlcixcbiAgICBhY3Rpb25IYW5kbGVyOiBzY2FsaW5nRXF1YWxseVxuICB9KTtcblxuICBvYmplY3RDb250cm9scy5iciA9IG5ldyBmYWJyaWMuQ29udHJvbCh7XG4gICAgeDogMC41LFxuICAgIHk6IDAuNSxcbiAgICBjdXJzb3JTdHlsZUhhbmRsZXI6IHNjYWxlU3R5bGVIYW5kbGVyLFxuICAgIGFjdGlvbkhhbmRsZXI6IHNjYWxpbmdFcXVhbGx5XG4gIH0pO1xuXG4gIG9iamVjdENvbnRyb2xzLm10ciA9IG5ldyBmYWJyaWMuQ29udHJvbCh7XG4gICAgeDogMCxcbiAgICB5OiAtMC41LFxuICAgIGFjdGlvbkhhbmRsZXI6IGNvbnRyb2xzVXRpbHMucm90YXRpb25XaXRoU25hcHBpbmcsXG4gICAgY3Vyc29yU3R5bGVIYW5kbGVyOiBjb250cm9sc1V0aWxzLnJvdGF0aW9uU3R5bGVIYW5kbGVyLFxuICAgIG9mZnNldFk6IC00MCxcbiAgICB3aXRoQ29ubmVjdGlvbjogdHJ1ZSxcbiAgICBhY3Rpb25OYW1lOiAncm90YXRlJyxcbiAgfSk7XG5cbiAgaWYgKGZhYnJpYy5UZXh0Ym94KSB7XG4gICAgLy8gdGhpcyBpcyBicmVha2luZyB0aGUgcHJvdG90eXBlIGluaGVyaXRhbmNlLCBubyB0aW1lIC8gaWRlYXMgdG8gZml4IGl0LlxuICAgIC8vIGlzIGltcG9ydGFudCB0byBkb2N1bWVudCB0aGF0IGlmIHlvdSB3YW50IHRvIGhhdmUgYWxsIG9iamVjdHMgdG8gaGF2ZSBhXG4gICAgLy8gc3BlY2lmaWMgY3VzdG9tIGNvbnRyb2wsIHlvdSBoYXZlIHRvIGFkZCBpdCB0byBPYmplY3QgcHJvdG90eXBlIGFuZCB0byBUZXh0Ym94XG4gICAgLy8gcHJvdG90eXBlLiBUaGUgY29udHJvbHMgYXJlIHNoYXJlZCBhcyByZWZlcmVuY2VzLiBTbyBjaGFuZ2VzIHRvIGNvbnRyb2wgYHRyYFxuICAgIC8vIGNhbiBzdGlsbCBhcHBseSB0byBhbGwgb2JqZWN0cyBpZiBuZWVkZWQuXG4gICAgdmFyIHRleHRCb3hDb250cm9scyA9IGZhYnJpYy5UZXh0Ym94LnByb3RvdHlwZS5jb250cm9scyA9IHsgfTtcblxuICAgIHRleHRCb3hDb250cm9scy5tdHIgPSBvYmplY3RDb250cm9scy5tdHI7XG4gICAgdGV4dEJveENvbnRyb2xzLnRyID0gb2JqZWN0Q29udHJvbHMudHI7XG4gICAgdGV4dEJveENvbnRyb2xzLmJyID0gb2JqZWN0Q29udHJvbHMuYnI7XG4gICAgdGV4dEJveENvbnRyb2xzLnRsID0gb2JqZWN0Q29udHJvbHMudGw7XG4gICAgdGV4dEJveENvbnRyb2xzLmJsID0gb2JqZWN0Q29udHJvbHMuYmw7XG4gICAgdGV4dEJveENvbnRyb2xzLm10ID0gb2JqZWN0Q29udHJvbHMubXQ7XG4gICAgdGV4dEJveENvbnRyb2xzLm1iID0gb2JqZWN0Q29udHJvbHMubWI7XG5cbiAgICB0ZXh0Qm94Q29udHJvbHMubXIgPSBuZXcgZmFicmljLkNvbnRyb2woe1xuICAgICAgeDogMC41LFxuICAgICAgeTogMCxcbiAgICAgIGFjdGlvbkhhbmRsZXI6IGNvbnRyb2xzVXRpbHMuY2hhbmdlV2lkdGgsXG4gICAgICBjdXJzb3JTdHlsZUhhbmRsZXI6IHNjYWxlU2tld1N0eWxlSGFuZGxlcixcbiAgICAgIGFjdGlvbk5hbWU6ICdyZXNpemluZycsXG4gICAgfSk7XG5cbiAgICB0ZXh0Qm94Q29udHJvbHMubWwgPSBuZXcgZmFicmljLkNvbnRyb2woe1xuICAgICAgeDogLTAuNSxcbiAgICAgIHk6IDAsXG4gICAgICBhY3Rpb25IYW5kbGVyOiBjb250cm9sc1V0aWxzLmNoYW5nZVdpZHRoLFxuICAgICAgY3Vyc29yU3R5bGVIYW5kbGVyOiBzY2FsZVNrZXdTdHlsZUhhbmRsZXIsXG4gICAgICBhY3Rpb25OYW1lOiAncmVzaXppbmcnLFxuICAgIH0pO1xuICB9XG59KSgpO1xuXG4iLCJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vYmFyLmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vYmFyLmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9jb2xvclBpY2tCdXR0b24uY3NzXCI7XG4gICAgICBcbiAgICAgIFxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtID0gc3R5bGVUYWdUcmFuc2Zvcm1Gbjtcbm9wdGlvbnMuc2V0QXR0cmlidXRlcyA9IHNldEF0dHJpYnV0ZXM7XG5cbiAgICAgIG9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG4gICAgXG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9jb2xvclBpY2tCdXR0b24uY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL29iamVjdFByb3BlcnRpZXMuY3NzXCI7XG4gICAgICBcbiAgICAgIFxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtID0gc3R5bGVUYWdUcmFuc2Zvcm1Gbjtcbm9wdGlvbnMuc2V0QXR0cmlidXRlcyA9IHNldEF0dHJpYnV0ZXM7XG5cbiAgICAgIG9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG4gICAgXG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9vYmplY3RQcm9wZXJ0aWVzLmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9idXR0b24uY3NzXCI7XG4gICAgICBcbiAgICAgIFxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtID0gc3R5bGVUYWdUcmFuc2Zvcm1Gbjtcbm9wdGlvbnMuc2V0QXR0cmlidXRlcyA9IHNldEF0dHJpYnV0ZXM7XG5cbiAgICAgIG9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG4gICAgXG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9idXR0b24uY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3Rvb2x0aXAuY3NzXCI7XG4gICAgICBcbiAgICAgIFxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtID0gc3R5bGVUYWdUcmFuc2Zvcm1Gbjtcbm9wdGlvbnMuc2V0QXR0cmlidXRlcyA9IHNldEF0dHJpYnV0ZXM7XG5cbiAgICAgIG9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG4gICAgXG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi90b29sdGlwLmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgc3R5bGVzSW5ET00gPSBbXTtcbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRE9NLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRE9NW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXhCeUlkZW50aWZpZXIgPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM10sXG4gICAgICBzdXBwb3J0czogaXRlbVs0XSxcbiAgICAgIGxheWVyOiBpdGVtWzVdXG4gICAgfTtcbiAgICBpZiAoaW5kZXhCeUlkZW50aWZpZXIgIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHVwZGF0ZXIgPSBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKTtcbiAgICAgIG9wdGlvbnMuYnlJbmRleCA9IGk7XG4gICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoaSwgMCwge1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiB1cGRhdGVyLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5mdW5jdGlvbiBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBhcGkgPSBvcHRpb25zLmRvbUFQSShvcHRpb25zKTtcbiAgYXBpLnVwZGF0ZShvYmopO1xuICB2YXIgdXBkYXRlciA9IGZ1bmN0aW9uIHVwZGF0ZXIobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCAmJiBuZXdPYmouc3VwcG9ydHMgPT09IG9iai5zdXBwb3J0cyAmJiBuZXdPYmoubGF5ZXIgPT09IG9iai5sYXllcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhcGkudXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZW1vdmUoKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiB1cGRhdGVyO1xufVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG4gICAgICBpZiAoc3R5bGVzSW5ET01bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRE9NW19pbmRleF0udXBkYXRlcigpO1xuICAgICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIG1lbW8gPSB7fTtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBnZXRUYXJnZXQodGFyZ2V0KSB7XG4gIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xuXG4gICAgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcbiAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICB9XG4gIHJldHVybiBtZW1vW3RhcmdldF07XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0QnlTZWxlY3RvcihpbnNlcnQsIHN0eWxlKSB7XG4gIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQoaW5zZXJ0KTtcbiAgaWYgKCF0YXJnZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICB9XG4gIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydEJ5U2VsZWN0b3I7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gIG9wdGlvbnMuc2V0QXR0cmlidXRlcyhlbGVtZW50LCBvcHRpb25zLmF0dHJpYnV0ZXMpO1xuICBvcHRpb25zLmluc2VydChlbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xuICByZXR1cm4gZWxlbWVudDtcbn1cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0U3R5bGVFbGVtZW50OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcyhzdHlsZUVsZW1lbnQpIHtcbiAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSBcInVuZGVmaW5lZFwiID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuICBpZiAobm9uY2UpIHtcbiAgICBzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgbm9uY2UpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlczsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gXCJcIjtcbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KG9iai5zdXBwb3J0cywgXCIpIHtcIik7XG4gIH1cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpO1xuICB9XG4gIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2Ygb2JqLmxheWVyICE9PSBcInVuZGVmaW5lZFwiO1xuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwiQGxheWVyXCIuY29uY2F0KG9iai5sYXllci5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KG9iai5sYXllcikgOiBcIlwiLCBcIiB7XCIpO1xuICB9XG4gIGNzcyArPSBvYmouY3NzO1xuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcbiAgaWYgKHNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9XG5cbiAgLy8gRm9yIG9sZCBJRVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG4gIG9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG59XG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGVFbGVtZW50LnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgc3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBkb21BUEkob3B0aW9ucykge1xuICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkge30sXG4gICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHt9XG4gICAgfTtcbiAgfVxuICB2YXIgc3R5bGVFbGVtZW50ID0gb3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gIHJldHVybiB7XG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUob2JqKSB7XG4gICAgICBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaik7XG4gICAgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xuICAgIH1cbiAgfTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZG9tQVBJOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50KSB7XG4gIGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgICBzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gc3R5bGVUYWdUcmFuc2Zvcm07IiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMjQgMjRcXFwiPjxwYXRoIGQ9XFxcIk0xMi41MDEgMTQuNzkybDMuODU0IDMuODU0LS43MDcuNzA3TDEzIDE2LjcwNVYyM2gtMXYtNi4yOTNsLTIuNjQ2IDIuNjQ2LS43MDctLjcwN3pNOC42NDcgNi4zNTRsMy44NTQgMy44NTQgMy44NTQtMy44NTQtLjcwNy0uNzA3TDEzIDguMjk1VjJoLTF2Ni4yOTNMOS4zNTQgNS42NDd6TTYgMTNoMTN2LTFINnpcXFwiPjwvcGF0aD48cGF0aCBmaWxsPVxcXCJub25lXFxcIiBkPVxcXCJNMCAwaDI0djI0SDB6XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAyNCAyNFxcXCI+PHBhdGggZD1cXFwiTTE2LjcwNyAxMkgyM3YxaC02LjI5NWwyLjY0OCAyLjY0Ny0uNzA3LjcwNy0zLjg1NC0zLjg1MyAzLjg1NC0zLjg1NC43MDcuNzA3ek01LjY0NyA5LjM1NEw4LjI5MyAxMkgydjFoNi4yOTVsLTIuNjQ4IDIuNjQ3LjcwNy43MDcgMy44NTQtMy44NTMtMy44NTQtMy44NTR6TTEyIDE5aDFWNmgtMXpcXFwiPjwvcGF0aD48cGF0aCBmaWxsPVxcXCJub25lXFxcIiBkPVxcXCJNMCAwaDI0djI0SDB6XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAyNCAyNFxcXCI+PHBhdGggZD1cXFwiTTEzIDN2MTIuMjk0bDIuNjQ3LTIuNjQ3LjcwNy43MDctMy44NTMgMy44NTQtMy44NTQtMy44NTQuNzA3LS43MDdMMTIgMTUuMjkyVjN6TTYgMjFoMTN2LTFINnpcXFwiPjwvcGF0aD48cGF0aCBmaWxsPVxcXCJub25lXFxcIiBkPVxcXCJNMCAwaDI0djI0SDB6XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAyNCAyNFxcXCI+PHBhdGggZD1cXFwiTTIyIDVIMTJWNGgxMHptMCAzaC04djFoOHptMCA1di0xaC02djF6TTIgMTdoMjB2LTFIMnptMCA0aDIwdi0xSDJ6bS4yMzQtOEw3LjA0MiAyLjA0OWguOTE2TDEyLjc2NiAxM2gtMS4wOTNMOS45MTcgOUg1LjA4M2wtMS43NTYgNHptMy4yODgtNWgzLjk1Nkw3LjUgMy40OTR6XFxcIj48L3BhdGg+PHBhdGggZmlsbD1cXFwibm9uZVxcXCIgZD1cXFwiTTAgMGgyNHYyNEgwelxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMjQgMjRcXFwiPjxwYXRoIGQ9XFxcIk0xOC44NyA2aDEuMDA3bC0uOTg4IDE2LjAxNUExLjA1MSAxLjA1MSAwIDAgMSAxNy44NCAyM0g2LjE1OGExLjA1MiAxLjA1MiAwIDAgMS0xLjA0OC0uOTg0di0uMDAxTDQuMTIzIDZoMS4wMDNsLjk4MiAxNS45NTNhLjA1LjA1IDAgMCAwIC4wNS4wNDdoMTEuNjgzek05LjUgMTlhLjUuNSAwIDAgMCAuNS0uNXYtMTBhLjUuNSAwIDAgMC0xIDB2MTBhLjUuNSAwIDAgMCAuNS41em01IDBhLjUuNSAwIDAgMCAuNS0uNXYtMTBhLjUuNSAwIDAgMC0xIDB2MTBhLjUuNSAwIDAgMCAuNS41ek01LjA2NCA1SDNWNGg1di0uNzVBMS4yNTEgMS4yNTEgMCAwIDEgOS4yNSAyaDUuNUExLjI1MSAxLjI1MSAwIDAgMSAxNiAzLjI1VjRoNXYxSDUuMDY0ek05IDRoNnYtLjc1YS4yNS4yNSAwIDAgMC0uMjUtLjI1aC01LjVhLjI1LjI1IDAgMCAwLS4yNS4yNXpcXFwiPjwvcGF0aD48cGF0aCBmaWxsPVxcXCJub25lXFxcIiBkPVxcXCJNMCAwaDI0djI0SDB6XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJpbXBvcnQgQmFyIGZyb20gXCIuL2NvbXBvbmVudHMvQmFyL0JhclwiXHJcbmltcG9ydCBMb2FkZXIgZnJvbSBcIi4vY29tcG9uZW50cy9Mb2FkZXJcIlxyXG5pbXBvcnQgT2JqZWN0UHJvcGVydGllcyBmcm9tIFwiLi9jb21wb25lbnRzL09iamVjdFByb3BlcnRpZXMvT2JqZWN0UHJvcGVydGllc1wiXHJcbmltcG9ydCBXaWRnZXRDYW52YXMgZnJvbSBcIi4vY29tcG9uZW50cy9XaWRnZXRDYW52YXMvV2lkZ2V0Q2FudmFzXCJcclxuaW1wb3J0IHsgZ2V0Q29sb3JzLCBnZXREYXRhLCBnZXRQcmljZUVsZW1lbnQgfSBmcm9tIFwiLi9yZXNvdXJjZXMvY29uc3RhbnRzXCJcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2lkZ2V0IHtcclxuXHRwcml2YXRlIF9lbGVtZW50OiBIVE1MRGl2RWxlbWVudFxyXG5cdHByaXZhdGUgX3VwYmFyOiBCYXJcclxuXHRwcml2YXRlIF9jYW52YXM6IFdpZGdldENhbnZhc1xyXG5cdHByaXZhdGUgX29iamVjdFByb3BlcnRpZXNCYXI6IE9iamVjdFByb3BlcnRpZXNcclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdHRoaXMuX2VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXHJcblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKS5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtZW50KVxyXG5cdFx0dGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiY29udGFpbmVyQ29sXCIpXHJcblx0fVxyXG5cdGFzeW5jIGluaXRpYWxpemUoKSB7XHJcblx0XHR0aGlzLl9jYW52YXMgPSBuZXcgV2lkZ2V0Q2FudmFzKHRoaXMuX2VsZW1lbnQpXHJcblx0XHRjb25zdCBsb2FkZXIgPSBuZXcgTG9hZGVyKHRoaXMuX2VsZW1lbnQpXHJcblx0XHRhd2FpdCBnZXREYXRhKClcclxuXHRcdGxvYWRlci5oaWRlKClcclxuXHRcdGdldENvbG9ycygpXHJcblx0XHR0aGlzLl91cGJhciA9IG5ldyBCYXIodGhpcy5fZWxlbWVudCwgdGhpcy5fY2FudmFzKVxyXG5cdFx0dGhpcy5fb2JqZWN0UHJvcGVydGllc0JhciA9IG5ldyBPYmplY3RQcm9wZXJ0aWVzKFxyXG5cdFx0XHR0aGlzLl9lbGVtZW50LFxyXG5cdFx0XHR0aGlzLl9jYW52YXNcclxuXHRcdClcclxuXHR9XHJcblxyXG5cdGxvYWRGb250cyhmb250czogc3RyaW5nW10pIHtcclxuXHRcdGZvbnRzLm1hcCgoZm9udCkgPT4ge1xyXG5cdFx0XHRjb25zdCBwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIilcclxuXHRcdFx0cC5pbm5lckhUTUwgPSBgJmVuc3A7YFxyXG5cdFx0XHRwLnN0eWxlLmZvbnRGYW1pbHkgPSBmb250XHJcblx0XHRcdHAuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCJcclxuXHRcdFx0dGhpcy5fZWxlbWVudC5hcHBlbmRDaGlsZChwKVxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdGdldENhbnZhcygpOiBXaWRnZXRDYW52YXMge1xyXG5cdFx0cmV0dXJuIHRoaXMuX2NhbnZhc1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgXCIuL2Jhci5jc3NcIlxyXG5pbXBvcnQgVG9vbHRpcCBmcm9tIFwiLi4vVUkvVG9vbHRpcC9Ub29sdGlwXCJcclxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwiLi4vVUkvQnV0dG9uL0J1dHRvblwiXHJcbmltcG9ydCBXaWRnZXRDYW52YXMgZnJvbSBcIi4uL1dpZGdldENhbnZhcy9XaWRnZXRDYW52YXNcIlxyXG5pbXBvcnQgeyBmYWJyaWMgfSBmcm9tIFwiZmFicmljXCJcclxuaW1wb3J0IEFkZFRleHRJY29uIGZyb20gXCIuLi8uLi9pY29ucy90ZXh0LnN2Z1wiXHJcbmltcG9ydCBUcmFzaEljb24gZnJvbSBcIi4uLy4uL2ljb25zL3RyYXNoLnN2Z1wiXHJcbmltcG9ydCBDZW50ZXJIb3Jpem9udGFsSWNvbiBmcm9tIFwiLi4vLi4vaWNvbnMvY2VudGVyLWhvcml6b250YWwuc3ZnXCJcclxuaW1wb3J0IENlbnRlclZlcnRpY2FsSWNvbiBmcm9tIFwiLi4vLi4vaWNvbnMvY2VudGVyLXZlcnRpY2FsLnN2Z1wiXHJcbmltcG9ydCBEb3dubG9hZEljb24gZnJvbSBcIi4uLy4uL2ljb25zL2Rvd25sb2FkLnN2Z1wiXHJcbmltcG9ydCBEb3dubG9hZGVyIGZyb20gXCIuL0Rvd25sb2RlclwiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXIge1xyXG5cdF9lbGVtZW50OiBIVE1MRGl2RWxlbWVudFxyXG5cdF9kb3dubG9hZGVyOiBEb3dubG9hZGVyXHJcblx0Y29uc3RydWN0b3IobW91bnRFbGVtZW50OiBIVE1MRGl2RWxlbWVudCwgY2FudmFzOiBXaWRnZXRDYW52YXMpIHtcclxuXHRcdHRoaXMuX2VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXHJcblx0XHRtb3VudEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5fZWxlbWVudClcclxuXHRcdHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmFkZChcImJhclwiKVxyXG5cdFx0dGhpcy5fZG93bmxvYWRlciA9IG5ldyBEb3dubG9hZGVyKG1vdW50RWxlbWVudClcclxuXHJcblx0XHRjb25zdCBidXR0b25zID0gW1xyXG5cdFx0XHR7XHJcblx0XHRcdFx0bmFtZTogXCLQlNC+0LHQsNCy0LjRgtGMINGC0LXQutGB0YJcIixcclxuXHRcdFx0XHRmdW5jOiAoKSA9PiB7XHJcblx0XHRcdFx0XHRjYW52YXMuYWRkVGV4dChcItCi0LXQutGB0YJcIilcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdGljb246IEFkZFRleHRJY29uLFxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0bmFtZTogXCLQktGL0YDQsNCy0L3Rj9GC0Ywg0L/QviDQs9C+0YDQuNC30L7QvdGC0LDQu9C4XCIsXHJcblx0XHRcdFx0ZnVuYzogKCkgPT4ge1xyXG5cdFx0XHRcdFx0Y2FudmFzLl9zZWxlY3RlZE9iamVjdHM/Lm1hcCgob2JqKSA9PiB7XHJcblx0XHRcdFx0XHRcdGNhbnZhcy5hbGlnbk9iamVjdChvYmosIHRydWUsIGZhbHNlKVxyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdGljb246IENlbnRlckhvcml6b250YWxJY29uLFxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0bmFtZTogXCLQktGL0YDQsNCy0L3Rj9GC0Ywg0L/QviDQstC10YDRgtC40LrQsNC70LhcIixcclxuXHRcdFx0XHRmdW5jOiAoKSA9PiB7XHJcblx0XHRcdFx0XHRjYW52YXMuX3NlbGVjdGVkT2JqZWN0cz8ubWFwKChvYmopID0+IHtcclxuXHRcdFx0XHRcdFx0Y2FudmFzLmFsaWduT2JqZWN0KG9iaiwgZmFsc2UsIHRydWUpXHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0aWNvbjogQ2VudGVyVmVydGljYWxJY29uLFxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0bmFtZTogXCLQodC+0YXRgNCw0L3QuNGC0Ywg0LIgUE5HXCIsXHJcblx0XHRcdFx0ZnVuYzogKCkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5fZG93bmxvYWRlci5kb3dsb2FkKHRoaXMuX2Rvd25sb2FkZXIucmVuZGVyKGNhbnZhcykpXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRpY29uOiBEb3dubG9hZEljb24sXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRuYW1lOiBcItCj0LTQsNC70LjRgtGMINGN0LvQtdC80LXQvdGCXCIsXHJcblx0XHRcdFx0ZnVuYzogKCkgPT4ge1xyXG5cdFx0XHRcdFx0Y2FudmFzLmRlbGV0ZUxhc3RBY3RpdmVPYmplY3QoKVxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0aWNvbjogVHJhc2hJY29uLFxyXG5cdFx0XHR9LFxyXG5cdFx0XVxyXG5cdFx0YnV0dG9ucy5tYXAoKG9iaikgPT4ge1xyXG5cdFx0XHRjb25zdCBidXR0b24gPSBuZXcgQnV0dG9uKFwiXCIsIG9iai5mdW5jLCB0aGlzLl9lbGVtZW50KVxyXG5cdFx0XHRidXR0b24uZ2V0RWxlbWVudCgpLmlubmVySFRNTCA9IG9iai5pY29uXHJcblx0XHRcdG5ldyBUb29sdGlwKG9iai5uYW1lLCBidXR0b24uZ2V0RWxlbWVudCgpKVxyXG5cdFx0fSlcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0IFdpZGdldENhbnZhcyBmcm9tIFwiLi4vV2lkZ2V0Q2FudmFzL1dpZGdldENhbnZhc1wiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEb3dubG9hZGVye1xyXG4gICAgX2VsZW1lbnQ6IEhUTUxBbmNob3JFbGVtZW50XHJcbiAgICBjb25zdHJ1Y3Rvcihtb3VudFBsYWNlOiBIVE1MRWxlbWVudCl7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKVxyXG4gICAgICAgIG1vdW50UGxhY2UuYXBwZW5kQ2hpbGQodGhpcy5fZWxlbWVudClcclxuICAgIH1cclxuICAgIHJlbmRlcihjYW52YXM6IFdpZGdldENhbnZhcywgcmVuZGVyQ29udHJvbHMgPSB0cnVlKXtcclxuICAgICAgICBpZihyZW5kZXJDb250cm9scyl7XHJcbiAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICByZXR1cm4gY2FudmFzLl9jYW52YXNFbGVtZW50LnRvRGF0YVVSTChcImltYWdlL3BuZ1wiKSAvLyBzYXZlIHdpdGggY29udHJvbHNcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIGNhbnZhcy5fY2FudmFzLnRvRGF0YVVSTCh7XHJcbiAgICAgICAgICAgICAgICBmb3JtYXQ6ICdwbmcnLFxyXG4gICAgICAgICAgICAgICAgbXVsdGlwbGllcjogMixcclxuICAgICAgICAgICAgICAgIHdpdGhvdXRUcmFuc2Zvcm06IHRydWUsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGRvd2xvYWQoYmxvYkltYWdlOiBzdHJpbmcpe1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQuaHJlZiA9IGJsb2JJbWFnZVxyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQuZG93bmxvYWQgPSAnTkVPTkVTLlJVLnBuZydcclxuICAgICAgICB0aGlzLl9lbGVtZW50LmNsaWNrKClcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlbGVjdCB7XHJcblx0cHJpdmF0ZSBfZWxlbWVudDogSFRNTERpdkVsZW1lbnRcclxuXHRjcmVhdGVMb2FkZXJMYWJlbCA9ICgpID0+IHtcclxuXHRcdGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxyXG5cdFx0bGFiZWwudGV4dENvbnRlbnQgPSBcItCj0YLQvtGH0L3Rj9C10Lwg0LTQsNC90L3Ri9C1XCJcclxuXHRcdGxhYmVsLmNsYXNzTGlzdC5hZGQoXCJ0ZXh0XCIpXHJcblx0XHRyZXR1cm4gbGFiZWxcclxuXHR9XHJcblx0Y3JlYXRlTG9hZGVyID0gKCkgPT4ge1xyXG5cdFx0Y29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxyXG5cdFx0dGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibG9hZGVyXCIpXHJcblx0XHRkaXYuaW5zZXJ0QWRqYWNlbnRIVE1MKFxyXG5cdFx0XHRcImFmdGVyYmVnaW5cIixcclxuXHJcblx0XHRcdGA8ZGl2XHJcblx0XHRcdFx0Y2xhc3M9XCJsb2FkZXJcIlxyXG5cdFx0XHRcdHRpdGxlPVwiMFwiPlxyXG5cdFx0XHRcdDxzdmdcclxuXHRcdFx0XHRcdHZlcnNpb249XCIxLjFcIlxyXG5cdFx0XHRcdFx0aWQ9XCJsb2FkZXItMVwiXHJcblx0XHRcdFx0XHR4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcclxuXHRcdFx0XHRcdHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiXHJcblx0XHRcdFx0XHR4PVwiMHB4XCJcclxuXHRcdFx0XHRcdHk9XCIwcHhcIlxyXG5cdFx0XHRcdFx0d2lkdGg9XCI0MHB4XCJcclxuXHRcdFx0XHRcdGhlaWdodD1cIjQwcHhcIlxyXG5cdFx0XHRcdFx0dmlld0JveD1cIjAgMCA0MCA0MFwiXHJcblx0XHRcdFx0XHRlbmFibGUtYmFja2dyb3VuZD1cIm5ldyAwIDAgNDAgNDBcIlxyXG5cdFx0XHRcdFx0eG1sOnNwYWNlPVwicHJlc2VydmVcIj5cclxuXHRcdFx0XHRcdDxwYXRoXHJcblx0XHRcdFx0XHRcdG9wYWNpdHk9XCIwLjJcIlxyXG5cdFx0XHRcdFx0XHRmaWxsPVwid2hpdGVcIlxyXG5cdFx0XHRcdFx0XHRkPVwiTTIwLjIwMSw1LjE2OWMtOC4yNTQsMC0xNC45NDYsNi42OTItMTQuOTQ2LDE0Ljk0NmMwLDguMjU1LDYuNjkyLDE0Ljk0NiwxNC45NDYsMTQuOTQ2XHJcbiAgICBzMTQuOTQ2LTYuNjkxLDE0Ljk0Ni0xNC45NDZDMzUuMTQ2LDExLjg2MSwyOC40NTUsNS4xNjksMjAuMjAxLDUuMTY5eiBNMjAuMjAxLDMxLjc0OWMtNi40MjUsMC0xMS42MzQtNS4yMDgtMTEuNjM0LTExLjYzNFxyXG4gICAgYzAtNi40MjUsNS4yMDktMTEuNjM0LDExLjYzNC0xMS42MzRjNi40MjUsMCwxMS42MzMsNS4yMDksMTEuNjMzLDExLjYzNEMzMS44MzQsMjYuNTQxLDI2LjYyNiwzMS43NDksMjAuMjAxLDMxLjc0OXpcIlxyXG5cdFx0XHRcdFx0Lz5cclxuXHRcdFx0XHRcdDxwYXRoXHJcblx0XHRcdFx0XHRcdGZpbGw9XCJ3aGl0ZVwiXHJcblx0XHRcdFx0XHRcdGQ9XCJNMjYuMDEzLDEwLjA0N2wxLjY1NC0yLjg2NmMtMi4xOTgtMS4yNzItNC43NDMtMi4wMTItNy40NjYtMi4wMTJoMHYzLjMxMmgwXHJcbiAgICBDMjIuMzIsOC40ODEsMjQuMzAxLDkuMDU3LDI2LjAxMywxMC4wNDd6XCI+XHJcblx0XHRcdFx0XHRcdDxhbmltYXRlVHJhbnNmb3JtXHJcblx0XHRcdFx0XHRcdFx0YXR0cmlidXRlVHlwZT1cInhtbFwiXHJcblx0XHRcdFx0XHRcdFx0YXR0cmlidXRlTmFtZT1cInRyYW5zZm9ybVwiXHJcblx0XHRcdFx0XHRcdFx0dHlwZT1cInJvdGF0ZVwiXHJcblx0XHRcdFx0XHRcdFx0ZnJvbT1cIjAgMjAgMjBcIlxyXG5cdFx0XHRcdFx0XHRcdHRvPVwiMzYwIDIwIDIwXCJcclxuXHRcdFx0XHRcdFx0XHRkdXI9XCIwLjVzXCJcclxuXHRcdFx0XHRcdFx0XHRyZXBlYXRDb3VudD1cImluZGVmaW5pdGVcIlxyXG5cdFx0XHRcdFx0XHQvPlxyXG5cdFx0XHRcdFx0PC9wYXRoPlxyXG5cdFx0XHRcdDwvc3ZnPlxyXG5cdFx0XHQ8L2Rpdj5gXHJcblx0XHQpXHJcblx0XHRyZXR1cm4gZGl2XHJcblx0fVxyXG5cdGhpZGUgPSAoKSA9PiB7XHJcblx0XHR0aGlzLl9lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIlxyXG5cdH1cclxuXHRjb25zdHJ1Y3Rvcihtb3VudFBsYWNlOiBIVE1MRWxlbWVudCkge1xyXG5cdFx0dGhpcy5fZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcclxuXHRcdHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmFkZChcImNvbnRhaW5lclJvd1wiKVxyXG5cdFx0dGhpcy5fZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUxvYWRlckxhYmVsKCkpXHJcblx0XHR0aGlzLl9lbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlTG9hZGVyKCkpXHJcblx0XHRtb3VudFBsYWNlLmFwcGVuZENoaWxkKHRoaXMuX2VsZW1lbnQpXHJcblx0fVxyXG59XHJcbiIsImltcG9ydCB7IGdldENvbG9ycyB9IGZyb20gXCIuLi8uLi8uLi9yZXNvdXJjZXMvY29uc3RhbnRzXCJcclxuaW1wb3J0IFNoYWRvd1RleHQgZnJvbSBcIi4uLy4uL1NoYWRvd1RleHRcIlxyXG5pbXBvcnQgQnV0dG9uIGZyb20gXCIuLi8uLi9VSS9CdXR0b24vQnV0dG9uXCJcclxuaW1wb3J0IFRvb2x0aXAgZnJvbSBcIi4uLy4uL1VJL1Rvb2x0aXAvVG9vbHRpcFwiXHJcbmltcG9ydCBXaWRnZXRDYW52YXMgZnJvbSBcIi4uLy4uL1dpZGdldENhbnZhcy9XaWRnZXRDYW52YXNcIlxyXG5pbXBvcnQgXCIuL2NvbG9yUGlja0J1dHRvbi5jc3NcIlxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb2xvclBpY2tCdXR0b25zIHtcclxuXHRlbGVtZW50OiBIVE1MRGl2RWxlbWVudFxyXG5cdGNvbnN0cnVjdG9yKGNhbnZhczogV2lkZ2V0Q2FudmFzKSB7XHJcblx0XHRjb25zdCBjb2xvcnMgPSBnZXRDb2xvcnMoKVxyXG5cdFx0dGhpcy5lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxyXG5cdFx0dGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJjb2xvclBpY2tCdXR0b25zXCIpXHJcblx0XHRPYmplY3Qua2V5cyhjb2xvcnMpLm1hcCgoY29sb3JLZXk6IHN0cmluZywgaW5kZXg6IG51bWJlcikgPT4ge1xyXG5cdFx0XHRjb25zdCBjb2xvciA9IE9iamVjdC52YWx1ZXMoY29sb3JzKVtpbmRleF1cclxuXHRcdFx0Y29uc3QgYnV0dG9uID0gbmV3IEJ1dHRvbihcclxuXHRcdFx0XHRcIlwiLFxyXG5cdFx0XHRcdCgpID0+IHtcclxuXHRcdFx0XHRcdGNhbnZhcz8uX3NlbGVjdGVkT2JqZWN0cz8ubWFwKChvYmo6IFNoYWRvd1RleHQpID0+IHtcclxuXHRcdFx0XHRcdFx0b2JqLmNoYW5nZVNoYWRvdyhjb2xvciBhcyBzdHJpbmcpXHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0Y2FudmFzLnVwZGF0ZSgpXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHR0aGlzLmVsZW1lbnRcclxuXHRcdFx0KVxyXG5cdFx0XHRidXR0b24uZ2V0RWxlbWVudCgpLmNsYXNzTGlzdC5hZGQoXCJjb2xvckJ1dHRvblwiKVxyXG5cdFx0XHRuZXcgVG9vbHRpcChjb2xvcktleSwgYnV0dG9uLmdldEVsZW1lbnQoKSlcclxuXHRcdFx0YnV0dG9uLmdldEVsZW1lbnQoKS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvciBhcyBzdHJpbmdcclxuXHRcdH0pXHJcblx0fVxyXG59XHJcbiIsImltcG9ydCB7XG5cdGZvbnRzLFxuXHRnZXRQcmljZUVsZW1lbnQsXG5cdGdldFByaWNlVGV4dFNpemUsXG59IGZyb20gXCIuLi8uLi9yZXNvdXJjZXMvY29uc3RhbnRzXCJcbmltcG9ydCBTaGFkb3dUZXh0IGZyb20gXCIuLi9TaGFkb3dUZXh0XCJcbmltcG9ydCBCdXR0b24gZnJvbSBcIi4uL1VJL0J1dHRvbi9CdXR0b25cIlxuaW1wb3J0IFRvb2x0aXAgZnJvbSBcIi4uL1VJL1Rvb2x0aXAvVG9vbHRpcFwiXG5pbXBvcnQgV2lkZ2V0Q2FudmFzIGZyb20gXCIuLi9XaWRnZXRDYW52YXMvV2lkZ2V0Q2FudmFzXCJcbmltcG9ydCBDb2xvclBpY2tCdXR0b25zIGZyb20gXCIuL0NvbG9yQnV0dG9ucy9Db2xvclBpY2tCdXR0b25zXCJcbmltcG9ydCBcIi4vb2JqZWN0UHJvcGVydGllcy5jc3NcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPYmplY3RQcm9wZXJ0aWVzIHtcblx0cHJpdmF0ZSBfZWxlbWVudDogSFRNTERpdkVsZW1lbnRcblx0cHJpdmF0ZSBfY2FudmFzOiBXaWRnZXRDYW52YXNcblx0Y29uc3RydWN0b3IobW91bnRFbGVtZW50OiBIVE1MRGl2RWxlbWVudCwgY2FudmFzOiBXaWRnZXRDYW52YXMpIHtcblx0XHR0aGlzLl9lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuXHRcdHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm9iamVjdFByb3BlcnRpZXNcIiwgXCJoaWRkZW5cIilcblx0XHR0aGlzLl9jYW52YXMgPSBjYW52YXNcblx0XHRtb3VudEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5fZWxlbWVudClcblxuXHRcdGNhbnZhcy5fY2FudmFzLm9uKFwic2VsZWN0aW9uOmNyZWF0ZWRcIiwgKCkgPT4ge1xuXHRcdFx0dGhpcy51cGRhdGVWaXNpYmlsaXR5KClcblx0XHR9KVxuXHRcdGNhbnZhcy5fY2FudmFzLm9uKFwic2VsZWN0aW9uOmNsZWFyZWRcIiwgKCkgPT4ge1xuXHRcdFx0dGhpcy51cGRhdGVWaXNpYmlsaXR5KClcblx0XHR9KVxuXG5cdFx0dGhpcy5vcHRpb25UZXh0KClcblx0XHR0aGlzLm9wdGlvbkNvbG9ycygpXG5cdFx0dGhpcy5vcHRpb25Gb250cygpXG5cdFx0dGhpcy5vcHRpb25QcmljZSgpXG5cdH1cblx0YWRkT3B0aW9uRGl2KCkge1xuXHRcdGNvbnN0IG9wdGlvbkRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcblx0XHRvcHRpb25EaXYuY2xhc3NMaXN0LmFkZChcIm9wdGlvblwiKVxuXHRcdHJldHVybiBvcHRpb25EaXZcblx0fVxuXHRhZGRPcHRpb24obGFiZWxUZXh0OiBzdHJpbmcgPSBcIlwiKSB7XG5cdFx0Y29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG5cdFx0Y29uc3QgbGFiZWxUZXh0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpXG5cblx0XHRsYWJlbFRleHRFbGVtZW50LnRleHRDb250ZW50ID0gbGFiZWxUZXh0XG5cdFx0bGFiZWxUZXh0RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwidGV4dFwiKVxuXHRcdGxhYmVsVGV4dEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImxhYmVsVGV4dFwiKVxuXHRcdGxhYmVsLmFwcGVuZENoaWxkKGxhYmVsVGV4dEVsZW1lbnQpXG5cblx0XHRsYWJlbC5jbGFzc0xpc3QuYWRkKFwibGFiZWxcIilcblx0XHR0aGlzLl9lbGVtZW50LmFwcGVuZENoaWxkKGxhYmVsKVxuXHRcdGNvbnN0IG9wdGlvbiA9IHRoaXMuYWRkT3B0aW9uRGl2KClcblx0XHRsYWJlbC5hcHBlbmRDaGlsZChvcHRpb24pXG5cblx0XHRyZXR1cm4gb3B0aW9uXG5cdH1cblx0YWRkUmFuZ2UoXG5cdFx0bWluOiBzdHJpbmcsXG5cdFx0bWF4OiBzdHJpbmcsXG5cdFx0c3RlcDogc3RyaW5nLFxuXHRcdG1vdW50RWxlbWVudDogSFRNTERpdkVsZW1lbnRcblx0KSB7XG5cdFx0Y29uc3QgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIilcblx0XHRyYW5nZS50eXBlID0gXCJyYW5nZVwiXG5cdFx0cmFuZ2UubWluID0gbWluXG5cdFx0cmFuZ2UubWF4ID0gbWF4XG5cdFx0cmFuZ2Uuc3RlcCA9IHN0ZXBcblx0XHRtb3VudEVsZW1lbnQuYXBwZW5kQ2hpbGQocmFuZ2UpXG5cdH1cblx0dXBkYXRlVmlzaWJpbGl0eSgpIHtcblx0XHR0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoXCJoaWRkZW5cIilcblx0XHR0aGlzLnNob3dQcmljZSgpXG5cdH1cblx0b3B0aW9uVGV4dCgpIHtcblx0XHRjb25zdCBvcHRpb25FbGVtZW50ID0gdGhpcy5hZGRPcHRpb24oXCLQotC10LrRgdGCXCIpXG5cdFx0Y29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIilcblx0XHRpbnB1dC5jbGFzc0xpc3QuYWRkKFwidGV4dGFyZWFcIilcblx0XHRpbnB1dC5wbGFjZWhvbGRlciA9IFwi0JLQsNGIINGC0LXQutGB0YJcIlxuXHRcdG9wdGlvbkVsZW1lbnQuYXBwZW5kQ2hpbGQoaW5wdXQpXG5cdFx0aW5wdXQub25pbnB1dCA9IChlKSA9PiB7XG5cdFx0XHRjb25zdCB2YWx1ZSA9IChlLnRhcmdldCBhcyBIVE1MVGV4dEFyZWFFbGVtZW50KS52YWx1ZVxuXHRcdFx0dGhpcy5fY2FudmFzLl9zZWxlY3RlZE9iamVjdHMubWFwKChvYmo6IFNoYWRvd1RleHQpID0+IHtcblx0XHRcdFx0b2JqLmNoYW5nZVRleHQodmFsdWUpXG5cdFx0XHR9KVxuXHRcdFx0dGhpcy5fY2FudmFzLnVwZGF0ZSgpXG5cdFx0fVxuXHRcdHRoaXMuX2NhbnZhcy5fY2FudmFzLm9uKFwic2VsZWN0aW9uOnVwZGF0ZWRcIiwgKCkgPT4ge1xuXHRcdFx0aW5wdXQudmFsdWUgPSAoXG5cdFx0XHRcdHRoaXMuX2NhbnZhcy5fc2VsZWN0ZWRPYmplY3RzWzBdIGFzIFNoYWRvd1RleHRcblx0XHRcdCkuZ2V0VGV4dCgpXG5cdFx0fSlcblx0XHR0aGlzLl9jYW52YXMuX2NhbnZhcy5vbihcInNlbGVjdGlvbjpjcmVhdGVkXCIsICgpID0+IHtcblx0XHRcdGlucHV0LnZhbHVlID0gKFxuXHRcdFx0XHR0aGlzLl9jYW52YXMuX3NlbGVjdGVkT2JqZWN0c1swXSBhcyBTaGFkb3dUZXh0XG5cdFx0XHQpLmdldFRleHQoKVxuXHRcdH0pIC8vICDQntCx0L3QvtCy0LvQtdC90LjQtSDQtNCw0L3QvdGL0YUg0YLQtdC60YHRgtCwINC/0YDQuCDQstGL0LTQtdC70LXQvdC40Lhcblx0fVxuXHRvcHRpb25Db2xvcnMoKSB7XG5cdFx0Y29uc3Qgb3B0aW9uRWxlbWVudCA9IHRoaXMuYWRkT3B0aW9uKFwi0KbQstC10YJcIilcblx0XHRjb25zdCBjb2xvclBpY2tCdXR0b25zID0gbmV3IENvbG9yUGlja0J1dHRvbnModGhpcy5fY2FudmFzKVxuXHRcdG9wdGlvbkVsZW1lbnQuYXBwZW5kQ2hpbGQoY29sb3JQaWNrQnV0dG9ucy5lbGVtZW50KVxuXHR9XG5cblx0b3B0aW9uRm9udHMoKSB7XG5cdFx0Y29uc3Qgb3B0aW9uID0gdGhpcy5hZGRPcHRpb24oXCLQqNGA0LjRhNGCXCIpXG5cdFx0b3B0aW9uLmNsYXNzTGlzdC5hZGQoXCJmb250T3B0aW9uXCIpXG5cdFx0Zm9udHMubWFwKChmb250KSA9PiB7XG5cdFx0XHRjb25zdCBidXR0b24gPSBuZXcgQnV0dG9uKFxuXHRcdFx0XHRmb250LFxuXHRcdFx0XHQoKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5fY2FudmFzLl9zZWxlY3RlZE9iamVjdHMubWFwKChvYmo6IFNoYWRvd1RleHQpID0+IHtcblx0XHRcdFx0XHRcdG9iai5jaGFuZ2VGb250KGZvbnQpXG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0XHR0aGlzLl9jYW52YXMudXBkYXRlKClcblx0XHRcdFx0XHR0aGlzLnNob3dQcmljZSgpXG5cdFx0XHRcdH0sXG5cdFx0XHRcdG9wdGlvblxuXHRcdFx0KVxuXHRcdFx0YnV0dG9uLmdldEVsZW1lbnQoKS5jbGFzc0xpc3QuYWRkKFwiZm9udE9wdGlvbkJ1dHRvblwiKVxuXHRcdFx0YnV0dG9uLmdldEVsZW1lbnQoKS5zdHlsZS5mb250RmFtaWx5ID0gZm9udFxuXHRcdH0pXG5cdH1cblx0Y2hhbmdlU2hhZG93KGNvbG9yOiBzdHJpbmcpIHtcblx0XHR0aGlzLl9jYW52YXMuX3NlbGVjdGVkT2JqZWN0cy5tYXAoKG9iajogU2hhZG93VGV4dCkgPT4ge1xuXHRcdFx0b2JqLmNoYW5nZVNoYWRvdyhjb2xvcilcblx0XHRcdG9iai5kaXJ0eSA9IHRydWVcblx0XHR9KVxuXHRcdHRoaXMuX2NhbnZhcy51cGRhdGUoKVxuXHR9XG5cdG9wdGlvblByaWNlKCkge1xuXHRcdGNvbnN0IG9wdGlvbiA9IHRoaXMuYWRkT3B0aW9uKFwi0KHRgtC+0LjQvNC+0YHRgtGMXCIpXG5cdFx0Y29uc3QgcHJpY2VEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG5cdFx0cHJpY2VEaXYuY2xhc3NMaXN0LmFkZChcInByaWNlRGl2XCIpXG5cdFx0cHJpY2VEaXYudGV4dENvbnRlbnQgPSBcIlwiXG5cdFx0b3B0aW9uLmFwcGVuZENoaWxkKHByaWNlRGl2KVxuXG5cdFx0dGhpcy5fY2FudmFzLl9jYW52YXMub24oXCJvYmplY3Q6bW9kaWZpZWRcIiwgKCkgPT4ge1xuXHRcdFx0dGhpcy5zaG93UHJpY2UoKVxuXHRcdH0pXG5cdH1cblx0c2hvd1ByaWNlKCkge1xuXHRcdGNvbnN0IHNlbGVjdGlvbiA9IHRoaXMuX2NhbnZhcy5zZWxlY3RBbGwoKVxuXHRcdHNlbGVjdGlvbi51bmdyb3VwT25DYW52YXMoKVxuXHRcdGxldCBwcmljZSA9IDBcblx0XHRsZXQgZWxlbWVudHMgPSAwXG5cdFx0bGV0IHdpZHRoID0gTnVtYmVyLnBhcnNlRmxvYXQoXG5cdFx0XHQoXG5cdFx0XHRcdE1hdGgucm91bmQoKHNlbGVjdGlvbi53aWR0aCArIE51bWJlci5FUFNJTE9OKSAqIDEwMCkgLyAxMDBcblx0XHRcdCkudG9TdHJpbmcoKVxuXHRcdClcblx0XHRsZXQgaGVpZ2h0ID0gTnVtYmVyLnBhcnNlRmxvYXQoXG5cdFx0XHQoXG5cdFx0XHRcdE1hdGgucm91bmQoKHNlbGVjdGlvbi5oZWlnaHQgKyBOdW1iZXIuRVBTSUxPTikgKiAxMDApIC8gMTAwXG5cdFx0XHQpLnRvU3RyaW5nKClcblx0XHQpXG5cblx0XHRzZWxlY3Rpb24uZ2V0T2JqZWN0cygpLm1hcCgob2JqKSA9PiB7XG5cdFx0XHRpZiAob2JqIGluc3RhbmNlb2YgU2hhZG93VGV4dCkge1xuXHRcdFx0XHRlbGVtZW50cyArPSBvYmouZ2V0VGV4dCgpLnRyaW0oKS5yZXBsYWNlKFwiIFwiLCBcIlwiKS5sZW5ndGhcblx0XHRcdH1cblx0XHR9KVxuXHRcdHByaWNlID1cblx0XHRcdHdpZHRoICogZ2V0UHJpY2VUZXh0U2l6ZSgpICtcblx0XHRcdGhlaWdodCAqIGdldFByaWNlVGV4dFNpemUoKSArXG5cdFx0XHRlbGVtZW50cyAqIGdldFByaWNlRWxlbWVudCgpXG5cdFx0cHJpY2UgPSBNYXRoLmZsb29yKHByaWNlKVxuXHRcdGNvbnN0IHByaWNlRGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcmljZURpdlwiKVxuXHRcdHByaWNlICYmIChwcmljZURpdi50ZXh0Q29udGVudCA9IHByaWNlPy50b1N0cmluZygpICsgXCIg0YAuXCIpXG5cblx0XHRjb25zdCB0b29sdGlwUHJpY2UgPSBuZXcgVG9vbHRpcChcblx0XHRcdFwi0J/RgNC40LzQtdGA0L3QsNGPINGB0YLQvtC40LzQvtGB0YLRjCDQstGL0LLQtdGB0LrQuFwiLFxuXHRcdFx0cHJpY2VEaXYgYXMgSFRNTERpdkVsZW1lbnRcblx0XHQpXG5cdH1cbn1cbiIsImltcG9ydCB7ZmFicmljfSBmcm9tIFwiZmFicmljXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNoYWRvd1RleHQgZXh0ZW5kcyBmYWJyaWMuR3JvdXAge1xyXG4gICAgcHJpdmF0ZSBfY29sb3JPZlNoYWRvdzogc3RyaW5nXHJcbiAgICBjb25zdHJ1Y3Rvcih0ZXh0Pzogc3RyaW5nLCBzaGFkb3dTdHJlbmd0aDogbnVtYmVyID0gNSwgY29sb3JPZlNoYWRvdz86IHN0cmluZykge1xyXG4gICAgICAgIHN1cGVyKClcclxuICAgICAgICB0aGlzLl9jb2xvck9mU2hhZG93ID0gY29sb3JPZlNoYWRvd1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hhZG93U3RyZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLmFkZFdpdGhVcGRhdGUoIG5ldyBmYWJyaWMuVGV4dCh0ZXh0LCB7ZmlsbDogJ3doaXRlJ30pKVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNoYW5nZVNoYWRvdygpXHJcbiAgICB9XHJcbiAgICBjaGFuZ2VTaGFkb3coY29sb3JPZlNoYWRvdyA9IHRoaXMuX2NvbG9yT2ZTaGFkb3cpe1xyXG4gICAgICAgICAgICB0aGlzLmdldE9iamVjdHMoKS5tYXAoKHRleHRPYmosIGkpPT57XHJcbiAgICAgICAgICAgICAgICB0ZXh0T2JqLnNoYWRvdyA9IG5ldyBmYWJyaWMuU2hhZG93KHtcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogY29sb3JPZlNoYWRvdyxcclxuICAgICAgICAgICAgICAgICAgICBibHVyOiBpKjMsXHJcbiAgICAgICAgICAgICAgICAgICAgbm9uU2NhbGluZzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB0ZXh0T2JqLnNldCh7ZGlydHk6IHRydWV9KVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZVxyXG4gICAgICAgICAgICBcclxuICAgIH1cclxuICAgIGNoYW5nZVRleHQodGV4dDogc3RyaW5nID0gXCJcIil7XHJcbiAgICAgICAgdGhpcy5nZXRPYmplY3RzKCkubWFwKCh0ZXh0T2JqOiBmYWJyaWMuVGV4dCk9PntcclxuICAgICAgICAgICAgdGV4dE9iai5zZXQoe3RleHQ6IHRleHR9KVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy5hZGRXaXRoVXBkYXRlKClcclxuICAgIH1cclxuICAgIGdldFRleHQoKXtcclxuICAgICAgICByZXR1cm4gKHRoaXMuZ2V0T2JqZWN0cygpWzBdIGFzIGZhYnJpYy5UZXh0KS50ZXh0XHJcbiAgICB9XHJcbiAgICBjaGFuZ2VGb250KGZvbnQ6IHN0cmluZyl7XHJcbiAgICAgICAgdGhpcy5nZXRPYmplY3RzKCkubWFwKCh0ZXh0T2JqOiBmYWJyaWMuVGV4dCk9PntcclxuICAgICAgICAgICAgdGV4dE9iai5zZXQoe2ZvbnRGYW1pbHk6IGZvbnR9KVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy5zZXQoJ2RpcnR5JywgdHJ1ZSlcclxuICAgICAgICB0aGlzLmFkZFdpdGhVcGRhdGUoKVxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCAnLi9idXR0b24uY3NzJ1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnV0dG9uIHtcbiAgICBwcml2YXRlIF90ZXh0OiBzdHJpbmdcbiAgICBwcml2YXRlIF9vbkNsaWNrOiBGdW5jdGlvblxuICAgIHByaXZhdGUgX2J1dHRvbkRpdjogSFRNTEJ1dHRvbkVsZW1lbnRcblxuICAgIGNvbnN0cnVjdG9yKHRleHQ6IHN0cmluZyA9IFwiXCIsIG9uY2xpY2s6IEZ1bmN0aW9uLCBtb3VudFBsYWNlOiBIVE1MRWxlbWVudCkge1xuIFxuICAgICAgICB0aGlzLl90ZXh0ID0gdGV4dFxuICAgICAgICB0aGlzLl9vbkNsaWNrID0gb25jbGlja1xuICAgICAgICB0aGlzLl9idXR0b25EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKVxuICAgICAgICB0aGlzLl9idXR0b25EaXYuY2xhc3NMaXN0LmFkZCgnYnRuJylcbiAgICAgICAgdGhpcy5fYnV0dG9uRGl2LnRleHRDb250ZW50ID0gdGV4dFxuICAgICAgICB0aGlzLl9idXR0b25EaXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e29uY2xpY2soKX0pXG4gICAgICAgIG1vdW50UGxhY2UuYXBwZW5kQ2hpbGQodGhpcy5fYnV0dG9uRGl2KVxuICAgIH1cblxuICAgIGdldCB0ZXh0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGV4dDtcbiAgICAgIH1cbiAgICBzZXQgdGV4dCh0ZXh0KXtcbiAgICAgICAgdGhpcy5fdGV4dCA9IHRleHRcbiAgICB9XG4gICAgXG4gICAgZ2V0RWxlbWVudCgpe1xuICAgICAgICByZXR1cm4gdGhpcy5fYnV0dG9uRGl2XG4gICAgfVxufSIsImltcG9ydCAnLi90b29sdGlwLmNzcydcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVG9vbHRpcCB7XHJcbiAgICBwcml2YXRlIF90ZXh0OiBzdHJpbmdcclxuICAgIHByaXZhdGUgX3NwYW5FbGVtZW50OiBIVE1MU3BhbkVsZW1lbnRcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih0ZXh0OiBzdHJpbmcsIG1vdW50UGxhY2U6IEhUTUxFbGVtZW50KSB7XHJcbiBcclxuICAgICAgICB0aGlzLl90ZXh0ID0gdGV4dFxyXG4gICAgICAgIHRoaXMuX3NwYW5FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpXHJcbiAgICAgICAgdGhpcy5fc3BhbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCgndG9vbHRpcFRleHQnKVxyXG4gICAgICAgIHRoaXMuX3NwYW5FbGVtZW50LnRleHRDb250ZW50ID0gdGV4dFxyXG4gICAgICAgIG1vdW50UGxhY2UuY2xhc3NMaXN0LmFkZCgndG9vbHRpcCcpXHJcbiAgICAgICAgdGhpcy5vbkhvdmVyU2hvd0hpZ2hlcihtb3VudFBsYWNlKVxyXG4gICAgICAgIG1vdW50UGxhY2UuYXBwZW5kQ2hpbGQodGhpcy5fc3BhbkVsZW1lbnQpXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHRleHQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RleHQ7XHJcbiAgICAgIH1cclxuICAgIHNldCB0ZXh0KHRleHQpe1xyXG4gICAgICAgIHRoaXMuX3RleHQgPSB0ZXh0XHJcbiAgICB9XHJcbiAgICBvbkhvdmVyU2hvd0hpZ2hlcihodG1sRWw6IEhUTUxFbGVtZW50LCBvbmhvdmVyWmluZGV4ID0gJzUnLCBub2hvdmVyWmluZGV4ID0gJzEnKXtcclxuICAgICAgICBodG1sRWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgKCk9PntcclxuICAgICAgICAgICAgaHRtbEVsLnN0eWxlLnpJbmRleCA9IG9uaG92ZXJaaW5kZXhcclxuICAgICAgICB9KVxyXG4gICAgICAgIGh0bWxFbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsICgpPT57XHJcbiAgICAgICAgICAgIGh0bWxFbC5zdHlsZS56SW5kZXggPSBub2hvdmVyWmluZGV4XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufSIsImltcG9ydCB7ZmFicmljfSBmcm9tIFwiZmFicmljXCI7XHJcbmltcG9ydCB7IGNvbG9yU2NoZW1lIH0gZnJvbSBcIi4uLy4uL3Jlc291cmNlcy9jb25zdGFudHNcIjtcclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gT2JqZWN0T3B0aW9ucygpe1xyXG4gICAgXHJcbiAgICBjb25zdCBmb250Rm9yQ29udHJvbHMgPSAnMTJweCBBcmlhbCdcclxuICAgIGNvbnN0IHBhZGRpbmcgPSA4XHJcblxyXG4gICAgZmFicmljLk9iamVjdC5wcm90b3R5cGUub2JqZWN0Q2FjaGluZyA9IGZhbHNlXHJcbiAgICBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZS5jb250cm9scy5oID0gbmV3IGZhYnJpYy5Db250cm9sKHtcclxuICAgICAgICB4OiAtMC41LFxyXG4gICAgICAgIGN1cnNvclN0eWxlOiAncG9pbnRlcicsXHJcbiAgICAgICAgXHJcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbihjdHgsIGxlZnQsIHRvcCwgc3R5bGVPdmVycmlkZSwgZmFicmljT2JqZWN0KSB7XHJcbiAgICAgICAgICAgIGN0eC5mb250ID0gZm9udEZvckNvbnRyb2xzO1xyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gY29sb3JTY2hlbWUuYmx1ZTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSBzaXplVG9TdHJpbmcoZmFicmljT2JqZWN0LmdldFNjYWxlZFdpZHRoKCkpXHJcbiAgICAgICAgICAgIGNvbnN0IHRleHRXaWR0aCA9IGN0eC5tZWFzdXJlVGV4dCh0ZXh0KS53aWR0aFxyXG4gICAgICAgICAgICBjb25zdCB0ZXh0SGVpZ2h0ID0gY3R4Lm1lYXN1cmVUZXh0KCdNJykud2lkdGggKiAxLjJcclxuICAgICAgICAgICAgY29uc3QgeCA9IChsZWZ0ICsgZmFicmljT2JqZWN0LmdldFNjYWxlZFdpZHRoKCkvMiktICh0ZXh0V2lkdGgvMilcclxuICAgICAgICAgICAgY29uc3QgeSA9IHRvcCArIGZhYnJpY09iamVjdC5nZXRTY2FsZWRIZWlnaHQoKS8yK3RleHRIZWlnaHQgKyBwYWRkaW5nXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjdHguZmlsbFRleHQodGV4dCwgeCwgeSk7XHJcbiAgICAgICAgfSxcclxuICAgIH0pXHJcblxyXG4gICAgZmFicmljLk9iamVjdC5wcm90b3R5cGUuY29udHJvbHMudyA9IG5ldyBmYWJyaWMuQ29udHJvbCh7XHJcbiAgICAgICAgeTogLTAuNSxcclxuICAgICAgICBjdXJzb3JTdHlsZTogJ3BvaW50ZXInLFxyXG4gICAgICAgIFxyXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24oY3R4LCBsZWZ0LCB0b3AsIHN0eWxlT3ZlcnJpZGUsIGZhYnJpY09iamVjdCkge1xyXG4gICAgICAgICAgICBjdHguZm9udCA9IGZvbnRGb3JDb250cm9scztcclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yU2NoZW1lLmJsdWU7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gc2l6ZVRvU3RyaW5nKGZhYnJpY09iamVjdC5nZXRTY2FsZWRIZWlnaHQoKSlcclxuICAgICAgICAgICAgY29uc3QgdGV4dFdpZHRoID0gY3R4Lm1lYXN1cmVUZXh0KHRleHQpLndpZHRoXHJcbiAgICAgICAgICAgIGNvbnN0IHRleHRIZWlnaHQgPSBjdHgubWVhc3VyZVRleHQoJ00nKS53aWR0aCAqIDEuMlxyXG4gICAgICAgICAgICBjb25zdCB4ID0gbGVmdCAtIGZhYnJpY09iamVjdC5nZXRTY2FsZWRXaWR0aCgpLzIgLSBwYWRkaW5nIC0gdGV4dEhlaWdodC8yIFxyXG4gICAgICAgICAgICBjb25zdCB5ID0gdG9wICsgZmFicmljT2JqZWN0LmdldFNjYWxlZEhlaWdodCgpLzIgKyB0ZXh0V2lkdGgvMlxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgY3R4LnNhdmUoKVxyXG4gICAgICAgICAgICBjdHgucm90YXRlKC1NYXRoLlBJLzIpXHJcbiAgICAgICAgICAgIGN0eC5maWxsVGV4dCh0ZXh0LCAteSwgeCk7XHJcbiAgICAgICAgICAgIGN0eC5yZXN0b3JlKClcclxuICAgICAgICB9LFxyXG4gICAgfSlcclxuXHJcbiAgICBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZS5zZXRDb250cm9sc1Zpc2liaWxpdHkoe1xyXG4gICAgICAgIG1iOiBmYWxzZSxcclxuICAgICAgICBtbDogZmFsc2UsXHJcbiAgICAgICAgbXI6IGZhbHNlLFxyXG4gICAgICAgIG10OiBmYWxzZSxcclxuICAgICAgICBtdHI6IGZhbHNlXHJcbiAgICB9KVxyXG4gICAgZmFicmljLk9iamVjdC5wcm90b3R5cGUuY29ybmVyQ29sb3IgPSBjb2xvclNjaGVtZS5ibHVlXHJcbiAgICBmdW5jdGlvbiBzaXplVG9TdHJpbmcoc2l6ZTogbnVtYmVyKXtcclxuICAgICAgIHJldHVybiBzaXplLnRvRml4ZWQoMikudG9TdHJpbmcoKS5yZXBsYWNlKCcuJywgJywnKSArICcg0LzQvCdcclxuICAgIH1cclxufVxyXG5cclxuIiwiaW1wb3J0IHsgUG9pbnQsIFNpemUgfSBmcm9tICcuLi8uLi9yZXNvdXJjZXMvdHlwZXMnO1xuaW1wb3J0IHtmYWJyaWN9IGZyb20gXCJmYWJyaWNcIjtcbmltcG9ydCBTaGFkb3dUZXh0IGZyb20gJy4uL1NoYWRvd1RleHQnO1xuaW1wb3J0IHsgY29sb3JTY2hlbWUsIGZvbnRzIH0gZnJvbSAnLi4vLi4vcmVzb3VyY2VzL2NvbnN0YW50cyc7XG5pbXBvcnQgT2JqZWN0T3B0aW9ucyBmcm9tICcuL09iamVjdENvbnRyb2xzJztcblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXaWRnZXRDYW52YXN7XG4gICAgX2NhbnZhc0VsZW1lbnQ6IEhUTUxDYW52YXNFbGVtZW50XG4gICAgX2NhbnZhczogZmFicmljLkNhbnZhc1xuICAgIF9zZWxlY3RlZE9iamVjdHM6IGZhYnJpYy5PYmplY3RbXVxuICAgIGNvbnN0cnVjdG9yKG1vdW50RWxlbWVudDogSFRNTERpdkVsZW1lbnQpe1xuICAgICAgICBjb25zdCBjYW52YXNDbGFzcyA9ICdjYW52YXNGYWJyaWMnXG4gICAgICAgIHRoaXMubWFrZUNhbnZhc0Rpdihtb3VudEVsZW1lbnQsIGNhbnZhc0NsYXNzKVxuICAgICAgICB0aGlzLl9jYW52YXMgPSBuZXcgZmFicmljLkNhbnZhcyhjYW52YXNDbGFzcyk7XG4gICAgICAgIHRoaXMuX2NhbnZhcy5zZXRCYWNrZ3JvdW5kQ29sb3IoJyMxMDEwMTAnLCAoKT0+e30pXG4gICAgICAgIHRoaXMuX2NhbnZhcy5zZXREaW1lbnNpb25zKHtoZWlnaHQ6NTAwLCB3aWR0aDo1MDB9KVxuICAgICAgICB0aGlzLl9jYW52YXMub24oJ3NlbGVjdGlvbjpjcmVhdGVkJywgKCk9Pnt0aGlzLl9zZWxlY3RlZE9iamVjdHM9dGhpcy5fY2FudmFzLmdldEFjdGl2ZU9iamVjdHMoKX0gKVxuICAgICAgICB0aGlzLl9jYW52YXMub24oJ3NlbGVjdGlvbjp1cGRhdGVkJywgKCk9Pnt0aGlzLl9zZWxlY3RlZE9iamVjdHM9dGhpcy5fY2FudmFzLmdldEFjdGl2ZU9iamVjdHMoKX0gKVxuICAgICAgICB0aGlzLl9jYW52YXMub24oJ3NlbGVjdGlvbjpjbGVhcmVkJywgKCk9Pnt0aGlzLl9zZWxlY3RlZE9iamVjdHM9bnVsbH0pXG4gICAgICAgIHRoaXMuX2NhbnZhcy5vbigncm90YXRpbmcnLCAoKT0+e3RoaXMuX3NlbGVjdGVkT2JqZWN0cy5tYXAob2JqPT57b2JqLnNldENvb3JkcygpfSl9KVxuICAgICAgICBPYmplY3RPcHRpb25zKClcbiAgICB9XG4gICAgXG5cbiAgICBwcml2YXRlIG1ha2VDYW52YXNEaXYobW91bnRFbGVtZW50OkhUTUxEaXZFbGVtZW50LCBjYW52YXNDbGFzczogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpXG4gICAgICAgIG1vdW50RWxlbWVudC5hcHBlbmRDaGlsZChjYW52YXMpXG4gICAgICAgIGNhbnZhcy5pZCA9IGNhbnZhc0NsYXNzXG4gICAgICAgIHRoaXMuX2NhbnZhc0VsZW1lbnQgPSBjYW52YXNcbiAgICAgICBcbiAgICB9XG4gICAgcmVzaXplKHc6bnVtYmVyLCBoOm51bWJlcil7XG4gICAgICAgIHRoaXMuX2NhbnZhcy5zZXRXaWR0aCh3KVxuICAgICAgICB0aGlzLl9jYW52YXMuc2V0SGVpZ2h0KGgpXG4gICAgICAgIHRoaXMudXBkYXRlKClcbiAgICB9XG4gICAgZ2V0U2l6ZSgpe1xuICAgICAgICBjb25zdCBzOlNpemUgPSB7XG4gICAgICAgICAgICB3aWR0aDogIHRoaXMuX2NhbnZhcy53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogIHRoaXMuX2NhbnZhcy5oZWlnaHRcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc1xuICAgIH1cbiAgICBnZXRDZW50ZXIoKXtcbiAgICAgICAgY29uc3QgYzpQb2ludCA9IHtcbiAgICAgICAgICAgIHg6IHRoaXMuZ2V0U2l6ZSgpLndpZHRoIC8gMixcbiAgICAgICAgICAgIHk6ICB0aGlzLmdldFNpemUoKS5oZWlnaHQgLyAyXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNcbiAgICB9XG4gICAgYWRkVG9TY2VuZSggb2JqZWN0OiBmYWJyaWMuT2JqZWN0W10sIHNob3VsZFJlbmRlcjogYm9vbGVhbiA9IHRydWUpe1xuICAgICAgICB0aGlzLl9jYW52YXMuYWRkKC4uLm9iamVjdClcbiAgICAgICAgc2hvdWxkUmVuZGVyICAmJiB0aGlzLnVwZGF0ZSgpXG4gICAgfVxuICAgIGFkZFJlY3QodzpudW1iZXIsaDpudW1iZXIsIGNvbG9yOiBzdHJpbmcgPSAnYmx1ZScpe1xuICAgICAgICB2YXIgcmVjdCA9IG5ldyBmYWJyaWMuUmVjdCh7XG4gICAgICAgICAgICBsZWZ0OiB0aGlzLmdldENlbnRlcigpLngsIFxuICAgICAgICAgICAgdG9wOiB0aGlzLmdldENlbnRlcigpLnksXG4gICAgICAgICAgICBmaWxsOiAndHJhbnNwYXJlbnQnLFxuICAgICAgICAgICAgd2lkdGg6IHcsXG4gICAgICAgICAgICBoZWlnaHQ6IGgsXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogMSxcbiAgICAgICAgICAgIHN0cm9rZTogY29sb3IsXG4gICAgICAgICAgICBzdHJva2VVbmlmb3JtOiB0cnVlXG4gICAgICAgICAgICBcbiAgICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hZGRUb1NjZW5lKFtyZWN0XSlcblxuICAgICAgICByZXR1cm4gcmVjdFxuICAgIH1cbiAgICBhZGRUZXh0KHRleHQ6IHN0cmluZyl7XG4gICAgICAgIGNvbnN0IHRleHRFbGVtZW50ID0gbmV3IFNoYWRvd1RleHQodGV4dCwgOCwgJ3JlZCcpXG4gICAgICAgIHRleHRFbGVtZW50LmNoYW5nZUZvbnQoZm9udHNbMF0pXG4gICAgICAgIC8qdGhpcy5fY2FudmFzLm9uKFwiYmVmb3JlOnNlbGVjdGlvbjpjbGVhcmVkXCIsICgpPT57XG4gICAgICAgICAgICBpZih0aGlzLl9zZWxlY3RlZE9iamVjdHNbMF0uY29uc3RydWN0b3IucHJvdG90eXBlLnR5cGU9PSdpLXRleHQnKXtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0RWwgPSB0aGlzLl9zZWxlY3RlZE9iamVjdHNbMF0gYXMgZmFicmljLklUZXh0XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gKSovXG4gICAgICAgIHRoaXMuYWxpZ25PYmplY3QodGV4dEVsZW1lbnQpXG4gICAgICAgIHRoaXMuYWRkVG9TY2VuZShbIHRleHRFbGVtZW50XSlcbiAgICAgICAgdGV4dEVsZW1lbnQuY2hhbmdlU2hhZG93KCdyZWQnKVxuICAgICAgIHJldHVybiB0ZXh0RWxlbWVudFxuICAgIH1cbiAgICBhbGlnbk9iamVjdChvYmplY3Q6IGZhYnJpYy5PYmplY3QsIGhvcml6b250YWw6Ym9vbGVhbiA9dHJ1ZSwgdmVydGljYWw6IGJvb2xlYW4gPSB0cnVlKXtcbiAgICAgICAgdmVydGljYWwgICYmICAgb2JqZWN0LnNldCgnbGVmdCcsIHRoaXMuX2NhbnZhcy53aWR0aCAvIDIgLSBvYmplY3QuZ2V0U2NhbGVkV2lkdGgoKSAvIDIpXG4gICAgICAgIGhvcml6b250YWwgICAgJiYgICBvYmplY3Quc2V0KCd0b3AnLCB0aGlzLl9jYW52YXMuaGVpZ2h0IC8gMiAtIG9iamVjdC5nZXRTY2FsZWRIZWlnaHQoKSAvIDIpICAgIFxuICAgICAgICB0aGlzLnVwZGF0ZSgpXG4gICAgICAgIFxuICAgIH1cbiAgICBkZWxldGVMYXN0QWN0aXZlT2JqZWN0KCl7XG4gICAgICAgIHRoaXMuX3NlbGVjdGVkT2JqZWN0cyAmJiB0aGlzLl9jYW52YXMucmVtb3ZlKC4uLnRoaXMuX3NlbGVjdGVkT2JqZWN0cylcbiAgICB9XG4gICAgdXBkYXRlKCl7XG4gICAgICAgIHRoaXMuX2NhbnZhcy5yZW5kZXJBbGwoKVxuICAgIH1cbiAgICBzZWxlY3RBbGwoKXtcbiAgICAgICAgcmV0dXJuIG5ldyBmYWJyaWMuQWN0aXZlU2VsZWN0aW9uKHRoaXMuX2NhbnZhcy5nZXRPYmplY3RzKCksIHtjYW52YXM6IHRoaXMuX2NhbnZhc30pXG4gICAgfVxufSIsIi8vaW1wb3J0c1xyXG5pbXBvcnQgXCIuLi9zcmMvc3R5bGVzL3N0eWxlLmNzc1wiXHJcbmltcG9ydCB7IGZvbnRzIH0gZnJvbSBcIi4vcmVzb3VyY2VzL2NvbnN0YW50c1wiXHJcblxyXG5pbXBvcnQgV2lkZ2V0IGZyb20gXCIuL1dpZGdldFwiXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBvbmxvYWQpXHJcblxyXG5jb25zdCB3aWRnZXQgPSBuZXcgV2lkZ2V0KClcclxud2lkZ2V0LmxvYWRGb250cyhmb250cylcclxuXHJcbmZ1bmN0aW9uIG9ubG9hZCgpIHtcclxuXHR3aWRnZXQuaW5pdGlhbGl6ZSgpXHJcbn1cclxuIiwiZXhwb3J0IGNvbnN0IGJhc2VMb2NhdGlvbiA9IFwiLm5lb25XaWRnZXRcIlxyXG5leHBvcnQgY29uc3Qgc2VydmVyVXJsID0gXCJodHRwczovL25lb24td2lkZ2V0LWJhY2sub25yZW5kZXIuY29tXCJcclxuZXhwb3J0IGNvbnN0IGJhc2VGb250ID0gXCJJbnRlckxpZ2h0XCJcclxuZXhwb3J0IGNvbnN0IGZvbnRzID0gW1xyXG5cdFwiTUFERUxpa2VzXCIsXHJcblx0XCJSb3NhTWFyZW5hXCIsXHJcblx0XCJWZWxlc1wiLFxyXG5cdFwiUEZIYW5kYm9va1Byb1wiLFxyXG5cdFwiTmlja2FpbmxleVwiLFxyXG5cdFwiU3R1ZGlvU2NyaXB0Q1RUXCIsXHJcblx0XCJMRFNsZW5kZXJcIixcclxuXHRcIkhlbHZldGljYVwiLFxyXG5cdFwiQ2l0cmljYUN5cmlsbGljXCIsXHJcblx0XCJCbG9nZ2VyU2Fuc1wiLFxyXG5cdFwiQmlyY2hcIixcclxuXHRcIkFtZXJpY2FuUmV0cm9cIixcclxuXVxyXG5cclxuZXhwb3J0IGNvbnN0IGNvbG9ycyA9IHtcclxuXHTQmtGA0LDRgdC90YvQuTogXCJyZ2IoMjU1LDAsMClcIixcclxuXHTQntGA0LDQvdC20LXQstGL0Lk6IFwicmdiKDI1NSwxNjUsMClcIixcclxuXHTQpNGD0LrRgdC40Y86IFwicmdiKDI1NSwwLDI1NSlcIixcclxuXHTQoNC+0LfQvtCy0YvQuTogXCJyZ2IoMjU1LDE5MiwyMDMpXCIsXHJcblx00JbQtdC70YLRi9C5OiBcInJnYigyNTUsMjM1LDApXCIsXHJcblx00JvQsNC50LzQvtCy0YvQuTogXCJyZ2IoMjU1LDI1NSwxMDIpXCIsXHJcblx00KTQuNC+0LvQtdGC0L7QstGL0Lk6IFwicmdiKDEyOCwgMCwgMTI4KVwiLFxyXG5cdNCh0LjQvdC40Lk6IFwicmdiKDAsMCwxMzkpXCIsXHJcblx00JPQvtC70YPQsdC+0Lk6IFwicmdiKDE3MywgMjE2LCAyMzApXCIsXHJcblx00JfQtdC70LXQvdGL0Lk6IFwicmdiKDUwLDIwNSw1MClcIixcclxuXHRcItCi0LXQv9C70YvQuSDQsdC10LvRi9C5XCI6IFwicmdiKDI1MywgMjQ0LCAyMjApXCIsXHJcblx0XCLQpdC+0LvQvtC00L3Ri9C5INCx0LXQu9GL0LlcIjogXCJyZ2IoMjQ0LCAyNTMsIDI1NSlcIixcclxufVxyXG5leHBvcnQgY29uc3QgY29sb3JTY2hlbWUgPSB7XHJcblx0Ymx1ZTogXCJyZ2IoMTUzLCAyMDQsIDI1NSlcIixcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHByaWNlcyA9IHtcclxuXHRwcmljZTFtbTogNSxcclxuXHRwcmljZWZvckVsZW1lbnQ6IDE1MCxcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGdldFByaWNlRWxlbWVudCA9ICgpID0+IHtcclxuXHRjb25zdCBkYXRhID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImRhdGFcIikpXHJcblx0aWYgKCFkYXRhKSB7XHJcblx0XHRyZXR1cm4gcHJpY2VzLnByaWNlZm9yRWxlbWVudFxyXG5cdH1cclxuXHRyZXR1cm4gZGF0YVswXVsxXVxyXG59XHJcbmV4cG9ydCBjb25zdCBnZXRQcmljZVRleHRTaXplID0gKCkgPT4ge1xyXG5cdGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiZGF0YVwiKSlcclxuXHRpZiAoIWRhdGEpIHtcclxuXHRcdHJldHVybiBwcmljZXMucHJpY2UxbW1cclxuXHR9XHJcblx0cmV0dXJuIGRhdGFbMV1bMV1cclxufVxyXG5leHBvcnQgY29uc3QgZ2V0Q29sb3JzID0gKCkgPT4ge1xyXG5cdGxldCByZXNwb25zZTogYW55ID0ge31cclxuXHRjb25zdCBkYXRhID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImRhdGFcIikpXHJcblx0aWYgKCFkYXRhKSB7XHJcblx0XHRyZXR1cm4gY29sb3JzXHJcblx0fVxyXG5cclxuXHRkYXRhWzJdLm1hcCgoY29sOiBzdHJpbmdbXSwgaTogbnVtYmVyKSA9PiB7XHJcblx0XHRpZiAoaSAhPSAwKSB7XHJcblx0XHRcdHJlc3BvbnNlW2RhdGFbMl1baV1dID0gXCJyZ2IoXCIgKyBkYXRhWzNdW2ldICsgXCIpXCJcclxuXHRcdH1cclxuXHR9KVxyXG5cdHJldHVybiByZXNwb25zZVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0RGF0YSA9IGFzeW5jICgpID0+IHtcclxuXHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNlcnZlclVybCArIFwiL2RhdGFcIiwge1xyXG5cdFx0bWV0aG9kOiBcIkdFVFwiLFxyXG5cdFx0bW9kZTogXCJjb3JzXCIsXHJcblx0fSlcclxuXHRjb25zdCBqc29uID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXHJcblx0Y29uc29sZS5sb2coanNvbilcclxuXHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImRhdGFcIiwgSlNPTi5zdHJpbmdpZnkoanNvbikpXHJcbn1cclxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbi8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBfX3dlYnBhY2tfbW9kdWxlc19fO1xuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdClcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYztcblx0aWYgKCFzY3JpcHRVcmwpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGlmKHNjcmlwdHMubGVuZ3RoKSB7XG5cdFx0XHR2YXIgaSA9IHNjcmlwdHMubGVuZ3RoIC0gMTtcblx0XHRcdHdoaWxlIChpID4gLTEgJiYgIXNjcmlwdFVybCkgc2NyaXB0VXJsID0gc2NyaXB0c1tpLS1dLnNyYztcblx0XHR9XG5cdH1cbn1cbi8vIFdoZW4gc3VwcG9ydGluZyBicm93c2VycyB3aGVyZSBhbiBhdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3V0cHV0LnB1YmxpY1BhdGggbWFudWFsbHkgdmlhIGNvbmZpZ3VyYXRpb25cbi8vIG9yIHBhc3MgYW4gZW1wdHkgc3RyaW5nIChcIlwiKSBhbmQgc2V0IHRoZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB2YXJpYWJsZSBmcm9tIHlvdXIgY29kZSB0byB1c2UgeW91ciBvd24gbG9naWMuXG5pZiAoIXNjcmlwdFVybCkgdGhyb3cgbmV3IEVycm9yKFwiQXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7XG5zY3JpcHRVcmwgPSBzY3JpcHRVcmwucmVwbGFjZSgvIy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcL1teXFwvXSskLywgXCIvXCIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gc2NyaXB0VXJsOyIsIl9fd2VicGFja19yZXF1aXJlX18uYiA9IGRvY3VtZW50LmJhc2VVUkkgfHwgc2VsZi5sb2NhdGlvbi5ocmVmO1xuXG4vLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuLy8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4vLyBbcmVzb2x2ZSwgcmVqZWN0LCBQcm9taXNlXSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbnZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG5cdDE3OTogMFxufTtcblxuLy8gbm8gY2h1bmsgb24gZGVtYW5kIGxvYWRpbmdcblxuLy8gbm8gcHJlZmV0Y2hpbmdcblxuLy8gbm8gcHJlbG9hZGVkXG5cbi8vIG5vIEhNUlxuXG4vLyBubyBITVIgbWFuaWZlc3RcblxuLy8gbm8gb24gY2h1bmtzIGxvYWRlZFxuXG4vLyBubyBqc29ucCBmdW5jdGlvbiIsIl9fd2VicGFja19yZXF1aXJlX18ubmMgPSB1bmRlZmluZWQ7IiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBpcyByZWZlcmVuY2VkIGJ5IG90aGVyIG1vZHVsZXMgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxudmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2MDcpO1xuIl0sIm5hbWVzIjpbIl9fX0NTU19MT0FERVJfRVhQT1JUX19fIiwicHVzaCIsIm1vZHVsZSIsImlkIiwiX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzBfX18iLCJVUkwiLCJfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMV9fXyIsIl9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8yX19fIiwiX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzNfX18iLCJfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfNF9fXyIsIl9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF81X19fIiwiX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzZfX18iLCJfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfN19fXyIsIl9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF84X19fIiwiX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzlfX18iLCJfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMTBfX18iLCJfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMTFfX18iLCJfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMTJfX18iLCJfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8wX19fIiwiX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMV9fXyIsIl9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzJfX18iLCJfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8zX19fIiwiX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfNF9fXyIsIl9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzVfX18iLCJfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF82X19fIiwiX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfN19fXyIsIl9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzhfX18iLCJfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF85X19fIiwiX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMTBfX18iLCJfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8xMV9fXyIsIl9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzEyX19fIiwiZXhwb3J0cyIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJsaXN0IiwidG9TdHJpbmciLCJ0aGlzIiwibWFwIiwiaXRlbSIsImNvbnRlbnQiLCJuZWVkTGF5ZXIiLCJjb25jYXQiLCJsZW5ndGgiLCJqb2luIiwiaSIsIm1vZHVsZXMiLCJtZWRpYSIsImRlZHVwZSIsInN1cHBvcnRzIiwibGF5ZXIiLCJ1bmRlZmluZWQiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwiayIsIl9rIiwidXJsIiwib3B0aW9ucyIsIlN0cmluZyIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwidGVzdCIsInNsaWNlIiwiaGFzaCIsIm5lZWRRdW90ZXMiLCJyZXBsYWNlIiwiY3NzTWFwcGluZyIsImJ0b2EiLCJiYXNlNjQiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYXRhIiwic291cmNlTWFwcGluZyIsImdsb2JhbCIsInNxcnQiLCJhdGFuMiIsInBvdyIsIlBpQnkxODAiLCJQaUJ5MiIsImNvdWxkVXNlQXR0YWNoRXZlbnQiLCJ0b3VjaEV2ZW50cyIsInBhcnNlRWwiLCJzdXBwb3J0c09wYWNpdHkiLCJzdXBwb3J0c0ZpbHRlcnMiLCJyZU9wYWNpdHkiLCJzZXRPcGFjaXR5IiwicHJvdG8iLCJtaW4iLCJtYXgiLCJkZWdyZWVzVG9SYWRpYW5zIiwib3JpZ2luWE9mZnNldCIsIm9yaWdpbllPZmZzZXQiLCJjbG9uZSIsInRvRml4ZWQiLCJtdWx0aXBsZVNwYWNlc1JlZ2V4IiwiZmFicmljIiwidmVyc2lvbiIsImRvY3VtZW50Iiwid2luZG93IiwiSFRNTERvY3VtZW50IiwiRG9jdW1lbnQiLCJpbXBsZW1lbnRhdGlvbiIsImNyZWF0ZUhUTUxEb2N1bWVudCIsInZpcnR1YWxXaW5kb3ciLCJKU0RPTSIsImRlY29kZVVSSUNvbXBvbmVudCIsImZlYXR1cmVzIiwiRmV0Y2hFeHRlcm5hbFJlc291cmNlcyIsInJlc291cmNlcyIsImpzZG9tSW1wbEZvcldyYXBwZXIiLCJub2RlQ2FudmFzIiwiRE9NUGFyc2VyIiwiY29weUdMVG8yRERyYXdJbWFnZSIsImdsIiwicGlwZWxpbmVTdGF0ZSIsImdsQ2FudmFzIiwiY2FudmFzIiwidGFyZ2V0Q2FudmFzIiwiY3R4IiwiZ2V0Q29udGV4dCIsInRyYW5zbGF0ZSIsImhlaWdodCIsInNjYWxlIiwic291cmNlWSIsImRyYXdJbWFnZSIsIndpZHRoIiwiY29weUdMVG8yRFB1dEltYWdlRGF0YSIsImRXaWR0aCIsImRlc3RpbmF0aW9uV2lkdGgiLCJkSGVpZ2h0IiwiZGVzdGluYXRpb25IZWlnaHQiLCJudW1CeXRlcyIsInU4IiwiVWludDhBcnJheSIsImltYWdlQnVmZmVyIiwidThDbGFtcGVkIiwiVWludDhDbGFtcGVkQXJyYXkiLCJyZWFkUGl4ZWxzIiwiUkdCQSIsIlVOU0lHTkVEX0JZVEUiLCJpbWdEYXRhIiwiSW1hZ2VEYXRhIiwicHV0SW1hZ2VEYXRhIiwiaXNUb3VjaFN1cHBvcnRlZCIsIm5hdmlnYXRvciIsIm1heFRvdWNoUG9pbnRzIiwiaXNMaWtlbHlOb2RlIiwiQnVmZmVyIiwiU0hBUkVEX0FUVFJJQlVURVMiLCJEUEkiLCJyZU51bSIsImNvbW1hV3NwIiwicmVQYXRoQ29tbWFuZCIsInJlTm9uV29yZCIsImZvbnRQYXRocyIsImlNYXRyaXgiLCJzdmdOUyIsInBlcmZMaW1pdFNpemVUb3RhbCIsIm1heENhY2hlU2lkZUxpbWl0IiwibWluQ2FjaGVTaWRlTGltaXQiLCJjaGFyV2lkdGhzQ2FjaGUiLCJ0ZXh0dXJlU2l6ZSIsImRpc2FibGVTdHlsZUNvcHlQYXN0ZSIsImVuYWJsZUdMRmlsdGVyaW5nIiwiZGV2aWNlUGl4ZWxSYXRpbyIsIndlYmtpdERldmljZVBpeGVsUmF0aW8iLCJtb3pEZXZpY2VQaXhlbFJhdGlvIiwiYnJvd3NlclNoYWRvd0JsdXJDb25zdGFudCIsImFyY1RvU2VnbWVudHNDYWNoZSIsImJvdW5kc09mQ3VydmVDYWNoZSIsImNhY2hlc0JvdW5kc09mQ3VydmUiLCJmb3JjZUdMUHV0SW1hZ2VEYXRhIiwiaW5pdEZpbHRlckJhY2tlbmQiLCJpc1dlYmdsU3VwcG9ydGVkIiwiY29uc29sZSIsImxvZyIsIm1heFRleHR1cmVTaXplIiwiV2ViZ2xGaWx0ZXJCYWNrZW5kIiwidGlsZVNpemUiLCJDYW52YXMyZEZpbHRlckJhY2tlbmQiLCJfcmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2ZW50TmFtZSIsImhhbmRsZXIiLCJfX2V2ZW50TGlzdGVuZXJzIiwiZXZlbnRMaXN0ZW5lciIsImluZGV4T2YiLCJ1dGlsIiwiYXJyYXkiLCJmaWxsIiwiX29uY2UiLCJfaGFuZGxlciIsImFwcGx5IiwiYXJndW1lbnRzIiwib2ZmIiwiYmluZCIsIm9uIiwiT2JzZXJ2YWJsZSIsImZpcmUiLCJsaXN0ZW5lcnNGb3JFdmVudCIsImxlbiIsImNhbGwiLCJmaWx0ZXIiLCJ2YWx1ZSIsInByb3AiLCJvbmNlIiwiQ29sbGVjdGlvbiIsIl9vYmplY3RzIiwiYWRkIiwiX29uT2JqZWN0QWRkZWQiLCJyZW5kZXJPbkFkZFJlbW92ZSIsInJlcXVlc3RSZW5kZXJBbGwiLCJpbnNlcnRBdCIsIm9iamVjdCIsImluZGV4Iiwibm9uU3BsaWNpbmciLCJvYmplY3RzIiwic3BsaWNlIiwicmVtb3ZlIiwic29tZXRoaW5nUmVtb3ZlZCIsIl9vbk9iamVjdFJlbW92ZWQiLCJmb3JFYWNoT2JqZWN0IiwiY2FsbGJhY2siLCJjb250ZXh0IiwiZ2V0T2JqZWN0cyIsInR5cGUiLCJvIiwiaXNFbXB0eSIsInNpemUiLCJjb250YWlucyIsImRlZXAiLCJzb21lIiwib2JqIiwiY29tcGxleGl0eSIsInJlZHVjZSIsIm1lbW8iLCJjdXJyZW50IiwiQ29tbW9uTWV0aG9kcyIsIl9zZXRPcHRpb25zIiwic2V0IiwiX2luaXRHcmFkaWVudCIsImZpbGxlciIsInByb3BlcnR5IiwiY29sb3JTdG9wcyIsIkdyYWRpZW50IiwiX2luaXRQYXR0ZXJuIiwic291cmNlIiwiUGF0dGVybiIsIl9zZXRPYmplY3QiLCJfc2V0Iiwia2V5IiwidG9nZ2xlIiwiZ2V0IiwiTWF0aCIsIlBJIiwiY29zIiwiYW5nbGUiLCJzaW4iLCJzaWduIiwicmVtb3ZlRnJvbUFycmF5IiwiaWR4IiwiZ2V0UmFuZG9tSW50IiwiZmxvb3IiLCJyYW5kb20iLCJkZWdyZWVzIiwicmFkaWFuc1RvRGVncmVlcyIsInJhZGlhbnMiLCJyb3RhdGVQb2ludCIsInBvaW50Iiwib3JpZ2luIiwibmV3UG9pbnQiLCJQb2ludCIsIngiLCJ5IiwidiIsInJvdGF0ZVZlY3RvciIsImFkZEVxdWFscyIsInZlY3RvciIsImNyZWF0ZVZlY3RvciIsImZyb20iLCJ0byIsImNhbGNBbmdsZUJldHdlZW5WZWN0b3JzIiwiYSIsImIiLCJhY29zIiwiaHlwb3QiLCJnZXRIYXRWZWN0b3IiLCJtdWx0aXBseSIsImdldEJpc2VjdG9yIiwiQSIsIkIiLCJDIiwiQUIiLCJBQyIsImFscGhhIiwicGhpIiwicHJvamVjdFN0cm9rZU9uUG9pbnRzIiwicG9pbnRzIiwib3BlblBhdGgiLCJjb29yZHMiLCJzIiwic3Ryb2tlV2lkdGgiLCJzdHJva2VVbmlmb3JtU2NhbGFyIiwic3Ryb2tlVW5pZm9ybSIsInNjYWxlWCIsInNjYWxlWSIsImdldFN0cm9rZUhhdFZlY3RvciIsInNjYWxhciIsImZvckVhY2giLCJwIiwibWl0ZXJWZWN0b3IiLCJiaXNlY3RvciIsImJpc2VjdG9yVmVjdG9yIiwic3Ryb2tlTGluZUpvaW4iLCJzdHJva2VNaXRlckxpbWl0Iiwic3VidHJhY3QiLCJTUVJUMiIsInRyYW5zZm9ybVBvaW50IiwidCIsImlnbm9yZU9mZnNldCIsIm1ha2VCb3VuZGluZ0JveEZyb21Qb2ludHMiLCJ0cmFuc2Zvcm0iLCJ4UG9pbnRzIiwibWluWCIsInlQb2ludHMiLCJtaW5ZIiwibGVmdCIsInRvcCIsImludmVydFRyYW5zZm9ybSIsInIiLCJudW1iZXIiLCJmcmFjdGlvbkRpZ2l0cyIsInBhcnNlRmxvYXQiLCJOdW1iZXIiLCJwYXJzZVVuaXQiLCJmb250U2l6ZSIsInVuaXQiLCJleGVjIiwiVGV4dCIsIkRFRkFVTFRfU1ZHX0ZPTlRfU0laRSIsImZhbHNlRnVuY3Rpb24iLCJnZXRLbGFzcyIsIm5hbWVzcGFjZSIsInN0cmluZyIsImNhbWVsaXplIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJyZXNvbHZlTmFtZXNwYWNlIiwiZ2V0U3ZnQXR0cmlidXRlcyIsImF0dHJpYnV0ZXMiLCJwYXJ0cyIsInNwbGl0IiwibG9hZEltYWdlIiwiY3Jvc3NPcmlnaW4iLCJpbWciLCJjcmVhdGVJbWFnZSIsIm9uTG9hZENhbGxiYWNrIiwib25sb2FkIiwib25lcnJvciIsInNyYyIsInN1YnN0cmluZyIsImxvYWRJbWFnZUluRG9tIiwiZGl2IiwiY3JlYXRlRWxlbWVudCIsInN0eWxlIiwicG9zaXRpb24iLCJhcHBlbmRDaGlsZCIsInF1ZXJ5U2VsZWN0b3IiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJlbmxpdmVuT2JqZWN0cyIsInJldml2ZXIiLCJlbmxpdmVuZWRPYmplY3RzIiwibnVtTG9hZGVkT2JqZWN0cyIsIm51bVRvdGFsT2JqZWN0cyIsIm9uTG9hZGVkIiwiZnJvbU9iamVjdCIsImVycm9yIiwiZW5saXZlbk9iamVjdEVubGl2YWJsZXMiLCJlbmxpdmVuUHJvcHMiLCJPYmplY3QiLCJFTkxJVkVOX1BST1BTIiwiZW5saXZlZFByb3BzIiwiZW5saXZlblBhdHRlcm5zIiwicGF0dGVybnMiLCJudW1Mb2FkZWRQYXR0ZXJucyIsIm51bVBhdHRlcm5zIiwiZW5saXZlbmVkUGF0dGVybnMiLCJwYXR0ZXJuIiwiZ3JvdXBTVkdFbGVtZW50cyIsImVsZW1lbnRzIiwicGF0aCIsInNvdXJjZVBhdGgiLCJjZW50ZXJQb2ludCIsIkdyb3VwIiwicG9wdWxhdGVXaXRoUHJvcGVydGllcyIsImRlc3RpbmF0aW9uIiwicHJvcGVydGllcyIsIkFycmF5IiwiaXNBcnJheSIsImNyZWF0ZUNhbnZhc0VsZW1lbnQiLCJjb3B5Q2FudmFzRWxlbWVudCIsIm5ld0NhbnZhcyIsInRvRGF0YVVSTCIsImNhbnZhc0VsIiwiZm9ybWF0IiwicXVhbGl0eSIsIm11bHRpcGx5VHJhbnNmb3JtTWF0cmljZXMiLCJpczJ4MiIsInFyRGVjb21wb3NlIiwiZGVub20iLCJza2V3WCIsInNrZXdZIiwidHJhbnNsYXRlWCIsInRyYW5zbGF0ZVkiLCJjYWxjUm90YXRlTWF0cml4IiwidGhldGEiLCJjYWxjRGltZW5zaW9uc01hdHJpeCIsInNjYWxlTWF0cml4IiwiZmxpcFgiLCJmbGlwWSIsInRhbiIsImNvbXBvc2VNYXRyaXgiLCJtYXRyaXgiLCJyZXNldE9iamVjdFRyYW5zZm9ybSIsInRhcmdldCIsInJvdGF0ZSIsInNhdmVPYmplY3RUcmFuc2Zvcm0iLCJpc1RyYW5zcGFyZW50IiwidG9sZXJhbmNlIiwiX2lzVHJhbnNwYXJlbnQiLCJpbWFnZURhdGEiLCJnZXRJbWFnZURhdGEiLCJsIiwicGFyc2VQcmVzZXJ2ZUFzcGVjdFJhdGlvQXR0cmlidXRlIiwiYXR0cmlidXRlIiwiYWxpZ24iLCJtZWV0T3JTbGljZSIsImFzcGVjdFJhdGlvQXR0cnMiLCJwb3AiLCJhbGlnblgiLCJhbGlnblkiLCJjbGVhckZhYnJpY0ZvbnRDYWNoZSIsImZvbnRGYW1pbHkiLCJ0b0xvd2VyQ2FzZSIsImxpbWl0RGltc0J5QXJlYSIsImFyIiwibWF4aW11bUFyZWEiLCJyb3VnaFdpZHRoIiwicGVyZkxpbWl0U2l6ZVkiLCJjYXBWYWx1ZSIsImZpbmRTY2FsZVRvRml0IiwiZmluZFNjYWxlVG9Db3ZlciIsIm1hdHJpeFRvU1ZHIiwiTlVNX0ZSQUNUSU9OX0RJR0lUUyIsInJlbW92ZVRyYW5zZm9ybUZyb21PYmplY3QiLCJpbnZlcnRlZCIsImZpbmFsVHJhbnNmb3JtIiwiY2FsY093bk1hdHJpeCIsImFwcGx5VHJhbnNmb3JtVG9PYmplY3QiLCJhZGRUcmFuc2Zvcm1Ub09iamVjdCIsImNlbnRlciIsInNldFBvc2l0aW9uQnlPcmlnaW4iLCJzaXplQWZ0ZXJUcmFuc2Zvcm0iLCJkaW1YIiwiZGltWSIsInRyYW5zZm9ybU1hdHJpeCIsImJib3giLCJtZXJnZUNsaXBQYXRocyIsImMxIiwiYzIiLCJjYWxjVHJhbnNmb3JtTWF0cml4IiwiY2xpcFBhdGgiLCJoYXNTdHlsZUNoYW5nZWQiLCJwcmV2U3R5bGUiLCJ0aGlzU3R5bGUiLCJmb3JUZXh0U3BhbnMiLCJzdHJva2UiLCJmb250V2VpZ2h0IiwiZm9udFN0eWxlIiwidGV4dEJhY2tncm91bmRDb2xvciIsImRlbHRhWSIsIm92ZXJsaW5lIiwidW5kZXJsaW5lIiwibGluZXRocm91Z2giLCJzdHlsZXNUb0FycmF5Iiwic3R5bGVzIiwidGV4dCIsInRleHRMaW5lcyIsImNoYXJJbmRleCIsInN0eWxlc0FycmF5IiwiYyIsImtleXMiLCJzdGFydCIsImVuZCIsInN0eWxlc0Zyb21BcnJheSIsInN0eWxlSW5kZXgiLCJzdHlsZXNPYmplY3QiLCJhc3NpZ24iLCJfam9pbiIsInByb3RvdHlwZSIsImNvbW1hbmRMZW5ndGhzIiwibSIsImgiLCJxIiwicmVwZWF0ZWRDb21tYW5kcyIsIk0iLCJzZWdtZW50VG9CZXppZXIiLCJ0aDIiLCJ0aDMiLCJjb3NUaCIsInNpblRoIiwicngiLCJyeSIsImN4MSIsImN5MSIsIm1UIiwiZnJvbVgiLCJmcm9tWSIsImNvc3RoMiIsInNpbnRoMiIsImNvc3RoMyIsInNpbnRoMyIsInRvWCIsInRvWSIsImNhbGNWZWN0b3JBbmdsZSIsInV4IiwidXkiLCJ2eCIsInZ5IiwidGEiLCJ0YiIsImZyb21BcmNUb0JlemllcnMiLCJmeCIsImZ5Iiwicm90IiwibGFyZ2UiLCJzd2VlcCIsInNlZ3NOb3JtIiwicm90YXRlWCIsInRoIiwicHgiLCJweSIsInJ4MiIsImFicyIsInJ5MiIsInB5MiIsInB4MiIsInBsIiwicm9vdCIsImN4IiwiY3kiLCJtVGhldGEiLCJkdGhldGEiLCJzZWdtZW50cyIsImNlaWwiLCJyZXN1bHQiLCJtRGVsdGEiLCJhcmNUb1NlZ21lbnRzIiwiY2FsY0xpbmVMZW5ndGgiLCJ4MSIsInkxIiwieDIiLCJ5MiIsImdldFBvaW50T25DdWJpY0Jlemllckl0ZXJhdG9yIiwicDF4IiwicDF5IiwicDJ4IiwicDJ5IiwicDN4IiwicDN5IiwicDR4IiwicDR5IiwicGN0IiwiQ0IyIiwiYzMiLCJDQjMiLCJjNCIsIkNCNCIsImdldFRhbmdlbnRDdWJpY0l0ZXJhdG9yIiwiaW52VCIsInRhbmdlbnRYIiwidGFuZ2VudFkiLCJnZXRQb2ludE9uUXVhZHJhdGljQmV6aWVySXRlcmF0b3IiLCJRQjIiLCJRQjMiLCJnZXRUYW5nZW50UXVhZHJhdGljSXRlcmF0b3IiLCJwYXRoSXRlcmF0b3IiLCJpdGVyYXRvciIsInBlcmMiLCJ0ZW1wUCIsInRtcExlbiIsImdldFBhdGhTZWdtZW50c0luZm8iLCJ0ZW1wSW5mbyIsImFuZ2xlRmluZGVyIiwidG90YWxMZW5ndGgiLCJpbmZvIiwiY29tbWFuZCIsImRlc3RYIiwiZGVzdFkiLCJqb2luUGF0aCIsInBhdGhEYXRhIiwic2VnbWVudCIsInBhcnNlUGF0aCIsInBhdGhTdHJpbmciLCJjdXJyZW50UGF0aCIsInBhcnNlZCIsIm1hdGNoIiwiY29vcmRzU3RyIiwicmUiLCJyTnVtYmVyIiwick51bWJlckNvbW1hV3NwIiwickZsYWdDb21tYVdzcCIsInJlZ0FyY0FyZ3VtZW50U2VxdWVuY2UiLCJSZWdFeHAiLCJjb29yZHNQYXJzZWQiLCJ0cmltIiwiYXJncyIsImoiLCJqbGVuIiwiaXNOYU4iLCJjb21tYW5kTGVuZ3RoIiwicmVwZWF0ZWRDb21tYW5kIiwia2xlbiIsIm1ha2VQYXRoU2ltcGxlciIsImNvbnZlcnRlZCIsInByZXZpb3VzIiwiY29udHJvbFgiLCJjb250cm9sWSIsImRlc3RpbmF0aW9uUGF0aCIsImdldFNtb290aFBhdGhGcm9tUG9pbnRzIiwiY29ycmVjdGlvbiIsInAxIiwicDIiLCJtdWx0U2lnblgiLCJtdWx0U2lnblkiLCJtYW55UG9pbnRzIiwiZXEiLCJtaWRQb2ludCIsIm1pZFBvaW50RnJvbSIsImdldEJvdW5kc09mQ3VydmUiLCJ4MCIsInkwIiwieDMiLCJ5MyIsImFyZ3NTdHJpbmciLCJ0MSIsInQyIiwiYjJhYyIsInNxcnRiMmFjIiwidHZhbHVlcyIsImJvdW5kcyIsIm10IiwiZ2V0UG9pbnRPblBhdGgiLCJkaXN0YW5jZSIsImluZm9zIiwic2VnSW5mbyIsInNlZ1BlcmNlbnQiLCJsZXJwIiwibmV4dExlbiIsImxhc3RQZXJjIiwibmV4dFN0ZXAiLCJmaW5kUGVyY2VudGFnZUZvckRpc3RhbmNlIiwidHJhbnNmb3JtUGF0aCIsInBhdGhPZmZzZXQiLCJwYXRoU2VnbWVudCIsIm5ld1NlZ21lbnQiLCJmaW5kIiwiYnlQcm9wZXJ0eSIsImNvbmRpdGlvbiIsImludm9rZSIsIm1ldGhvZCIsInZhbHVlMSIsInZhbHVlMiIsImV4dGVuZCIsIkVsZW1lbnQiLCJoYXNPd25Qcm9wZXJ0eSIsImdldFdob2xlQ2hhciIsInN0ciIsImNvZGUiLCJjaGFyQ29kZUF0IiwibmV4dCIsInByZXYiLCJjaGFyYWN0ZXIiLCJjYXBpdGFsaXplIiwiZmlyc3RMZXR0ZXJPbmx5IiwiZXNjYXBlWG1sIiwiZ3JhcGhlbWVTcGxpdCIsInRleHRzdHJpbmciLCJjaHIiLCJncmFwaGVtZXMiLCJlbXB0eUZ1bmN0aW9uIiwiSVNfRE9OVEVOVU1fQlVHR1kiLCJhZGRNZXRob2RzIiwia2xhc3MiLCJwYXJlbnQiLCJzdXBlcmNsYXNzIiwiY29uc3RydWN0b3IiLCJyZXR1cm5WYWx1ZSIsInZhbHVlT2YiLCJTdWJjbGFzcyIsImNhbGxTdXBlciIsIm1ldGhvZE5hbWUiLCJwYXJlbnRNZXRob2QiLCJfdGhpcyIsInN1cGVyQ2xhc3NNZXRob2QiLCJjcmVhdGVDbGFzcyIsImluaXRpYWxpemUiLCJzaGlmdCIsInN1YmNsYXNzZXMiLCJhdHRhY2hFdmVudCIsImFkZExpc3RlbmVyIiwiZWxlbWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJnZXRQb2ludGVyIiwiZXZlbnQiLCJzY3JvbGwiLCJnZXRTY3JvbGxMZWZ0VG9wIiwiX2V2dCIsInRvdWNoUHJvcCIsImNoYW5nZWRUb3VjaGVzIiwiZ2V0VG91Y2hJbmZvIiwiY2xpZW50WCIsImNsaWVudFkiLCJpc1RvdWNoRXZlbnQiLCJwb2ludGVyVHlwZSIsIm9wYWNpdHkiLCJlcyIsImN1cnJlbnRTdHlsZSIsImhhc0xheW91dCIsInpvb20iLCJzZXRTdHlsZSIsImVsZW1lbnRTdHlsZSIsImNzc1RleHQiLCJub3JtYWxpemVkUHJvcGVydHkiLCJzdHlsZUZsb2F0Iiwic2V0UHJvcGVydHkiLCJzbGljZUNhbkNvbnZlcnROb2RlbGlzdHMiLCJnZXRFbGVtZW50U3R5bGUiLCJzZWxlY3RQcm9wIiwiX3NsaWNlIiwidG9BcnJheSIsImFycmF5TGlrZSIsImNoaWxkTm9kZXMiLCJlcnIiLCJtYWtlRWxlbWVudCIsInRhZ05hbWUiLCJlbCIsImNsYXNzTmFtZSIsImh0bWxGb3IiLCJzZXRBdHRyaWJ1dGUiLCJkb2NFbGVtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwiYm9keSIsInNjcm9sbExlZnQiLCJzY3JvbGxUb3AiLCJob3N0Iiwibm9kZVR5cGUiLCJhcnIiLCJkZWZhdWx0VmlldyIsImdldENvbXB1dGVkU3R5bGUiLCJhdHRyIiwibWFrZUVsZW1lbnRVbnNlbGVjdGFibGUiLCJvbnNlbGVjdHN0YXJ0IiwidW5zZWxlY3RhYmxlIiwibWFrZUVsZW1lbnRTZWxlY3RhYmxlIiwic2V0SW1hZ2VTbW9vdGhpbmciLCJpbWFnZVNtb290aGluZ0VuYWJsZWQiLCJ3ZWJraXRJbWFnZVNtb290aGluZ0VuYWJsZWQiLCJtb3pJbWFnZVNtb290aGluZ0VuYWJsZWQiLCJtc0ltYWdlU21vb3RoaW5nRW5hYmxlZCIsIm9JbWFnZVNtb290aGluZ0VuYWJsZWQiLCJnZXRCeUlkIiwiZ2V0RWxlbWVudEJ5SWQiLCJhZGRDbGFzcyIsIndyYXBFbGVtZW50Iiwid3JhcHBlciIsInJlcGxhY2VDaGlsZCIsImdldEVsZW1lbnRPZmZzZXQiLCJkb2NFbGVtIiwic2Nyb2xsTGVmdFRvcCIsImRvYyIsIm93bmVyRG9jdW1lbnQiLCJib3giLCJvZmZzZXQiLCJvZmZzZXRBdHRyaWJ1dGVzIiwiYm9yZGVyTGVmdFdpZHRoIiwiYm9yZGVyVG9wV2lkdGgiLCJwYWRkaW5nTGVmdCIsInBhZGRpbmdUb3AiLCJwYXJzZUludCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImNsaWVudExlZnQiLCJjbGllbnRUb3AiLCJnZXROb2RlQ2FudmFzIiwiaW1wbCIsIl9jYW52YXMiLCJfaW1hZ2UiLCJjbGVhblVwSnNkb21Ob2RlIiwiX2N1cnJlbnRTcmMiLCJfYXR0cmlidXRlcyIsIl9jbGFzc0xpc3QiLCJlbXB0eUZuIiwicmVxdWVzdCIsIm9uQ29tcGxldGUiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsInBhcmFtZXRlcnMiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwicGFyYW0iLCJhZGRQYXJhbVRvVXJsIiwib3BlbiIsInNldFJlcXVlc3RIZWFkZXIiLCJzZW5kIiwid2FybiIsIlJVTk5JTkdfQU5JTUFUSU9OUyIsIm5vb3AiLCJkZWZhdWx0RWFzaW5nIiwiZCIsImNhbmNlbEFsbCIsImFuaW1hdGlvbnMiLCJhbmltYXRpb24iLCJjYW5jZWwiLCJjYW5jZWxCeUNhbnZhcyIsImNhbmNlbGxlZCIsImNhbmNlbEJ5VGFyZ2V0IiwiZmluZEFuaW1hdGlvbnNCeVRhcmdldCIsImZpbmRBbmltYXRpb25JbmRleCIsImNhbmNlbEZ1bmMiLCJmaW5kQW5pbWF0aW9uIiwiX3JlcXVlc3RBbmltRnJhbWUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJvUmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJzZXRUaW1lb3V0IiwiX2NhbmNlbEFuaW1GcmFtZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiY2xlYXJUaW1lb3V0IiwicmVxdWVzdEFuaW1GcmFtZSIsImFuaW1hdGUiLCJyZW1vdmVGcm9tUmVnaXN0cnkiLCJydW5uaW5nQW5pbWF0aW9ucyIsImN1cnJlbnRWYWx1ZSIsInN0YXJ0VmFsdWUiLCJjb21wbGV0aW9uUmF0ZSIsImR1cmF0aW9uUmF0ZSIsInRpbWVzdGFtcCIsInRpbWUiLCJEYXRlIiwiZHVyYXRpb24iLCJmaW5pc2giLCJvbkNoYW5nZSIsImFib3J0IiwiZWFzaW5nIiwiaXNNYW55IiwiZW5kVmFsdWUiLCJieVZhbHVlIiwib25TdGFydCIsInRpY2siLCJ0aWNrdGltZSIsImN1cnJlbnRUaW1lIiwidGltZVBlcmMiLCJfdmFsdWUiLCJ2YWx1ZVBlcmMiLCJjYW5jZWxBbmltRnJhbWUiLCJjYWxjdWxhdGVDb2xvciIsImJlZ2luIiwicG9zIiwiY29sb3IiLCJhbmltYXRlQ29sb3IiLCJmcm9tQ29sb3IiLCJ0b0NvbG9yIiwic3RhcnRDb2xvciIsIkNvbG9yIiwiZ2V0U291cmNlIiwiZW5kQ29sb3IiLCJvcmlnaW5hbE9uQ29tcGxldGUiLCJvcmlnaW5hbE9uQ2hhbmdlIiwiY29sb3JFYXNpbmciLCJub3JtYWxpemUiLCJhc2luIiwiZWxhc3RpYyIsIm9wdHMiLCJlYXNlSW5Cb3VuY2UiLCJlYXNlT3V0Qm91bmNlIiwiZWFzZSIsImVhc2VJblF1YWQiLCJlYXNlT3V0UXVhZCIsImVhc2VJbk91dFF1YWQiLCJlYXNlSW5DdWJpYyIsImVhc2VPdXRDdWJpYyIsImVhc2VJbk91dEN1YmljIiwiZWFzZUluUXVhcnQiLCJlYXNlT3V0UXVhcnQiLCJlYXNlSW5PdXRRdWFydCIsImVhc2VJblF1aW50IiwiZWFzZU91dFF1aW50IiwiZWFzZUluT3V0UXVpbnQiLCJlYXNlSW5TaW5lIiwiZWFzZU91dFNpbmUiLCJlYXNlSW5PdXRTaW5lIiwiZWFzZUluRXhwbyIsImVhc2VPdXRFeHBvIiwiZWFzZUluT3V0RXhwbyIsImVhc2VJbkNpcmMiLCJlYXNlT3V0Q2lyYyIsImVhc2VJbk91dENpcmMiLCJlYXNlSW5FbGFzdGljIiwiZWFzZU91dEVsYXN0aWMiLCJlYXNlSW5PdXRFbGFzdGljIiwiZWFzZUluQmFjayIsImVhc2VPdXRCYWNrIiwiZWFzZUluT3V0QmFjayIsImVhc2VJbk91dEJvdW5jZSIsImF0dHJpYnV0ZXNNYXAiLCJkaXNwbGF5IiwidmlzaWJpbGl0eSIsImNvbG9yQXR0cmlidXRlcyIsImZTaXplIiwiY1BhdGgiLCJub3JtYWxpemVBdHRyIiwibm9ybWFsaXplVmFsdWUiLCJwYXJlbnRBdHRyaWJ1dGVzIiwicGFyc2VUcmFuc2Zvcm1BdHRyaWJ1dGUiLCJ2aXNpYmxlIiwiZmlsbEluZGV4Iiwic3Ryb2tlSW5kZXgiLCJnZXRTdmdSZWdleCIsIl9nZXRNdWx0aXBsZU5vZGVzIiwibm9kZU5hbWVzIiwibm9kZU5hbWUiLCJub2RlTGlzdCIsIm5vZGVBcnJheSIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiZWxlbWVudE1hdGNoZXNSdWxlIiwic2VsZWN0b3JzIiwiZmlyc3RNYXRjaGluZyIsInBhcmVudE1hdGNoaW5nIiwic2VsZWN0b3JNYXRjaGVzIiwic2VsZWN0b3IiLCJkb2VzU29tZVBhcmVudE1hdGNoIiwibWF0Y2hlciIsImNsYXNzTmFtZXMiLCJnZXRBdHRyaWJ1dGUiLCJlbGVtZW50QnlJZCIsIm5vZGUiLCJub2RlbGlzdCIsInN2Z1ZhbGlkVGFnTmFtZXNSZWdFeCIsInN2Z1ZpZXdCb3hFbGVtZW50c1JlZ0V4Iiwic3ZnSW52YWxpZEFuY2VzdG9yc1JlZ0V4Iiwic3ZnVmFsaWRQYXJlbnRzUmVnRXgiLCJjc3NSdWxlcyIsImdyYWRpZW50RGVmcyIsImNsaXBQYXRocyIsInNrZXdNYXRyaXgiLCJyZVRyYW5zZm9ybUxpc3QiLCJyZVRyYW5zZm9ybSIsImF0dHJpYnV0ZVZhbHVlIiwibWF0cmljZXMiLCJvcGVyYXRpb24iLCJ0cmFuc2xhdGVNYXRyaXgiLCJyb3RhdGVNYXRyaXgiLCJtdWx0aXBsaWVyWCIsIm11bHRpcGxpZXJZIiwiY29tYmluZWRNYXRyaXgiLCJyZVZpZXdCb3hBdHRyVmFsdWUiLCJhcHBseVZpZXdib3hUcmFuc2Zvcm0iLCJ2aWV3Qm94V2lkdGgiLCJ2aWV3Qm94SGVpZ2h0Iiwidmlld0JveEF0dHIiLCJ3aWR0aEF0dHIiLCJoZWlnaHRBdHRyIiwicHJlc2VydmVBc3BlY3RSYXRpbyIsIm1pc3NpbmdWaWV3Qm94IiwibWlzc2luZ0RpbUF0dHIiLCJ0b0JlUGFyc2VkIiwicGFyc2VkRGltIiwid2lkdGhEaWZmIiwiaGVpZ2h0RGlmZiIsInJlbW92ZUF0dHJpYnV0ZSIsImNyZWF0ZUVsZW1lbnROUyIsImZpcnN0Q2hpbGQiLCJyZWN1cnNpdmVseVBhcnNlR3JhZGllbnRzWGxpbmsiLCJncmFkaWVudCIsInhsaW5rQXR0ciIsInJlZmVyZW5jZWRHcmFkaWVudCIsImhhc0F0dHJpYnV0ZSIsImNoaWxkcmVuIiwicmVmZXJlbmNlQ2xvbmUiLCJjbG9uZU5vZGUiLCJwYXJzZVNWR0RvY3VtZW50IiwicGFyc2luZ09wdGlvbnMiLCJ4bGlua0F0dHJpYnV0ZSIsImF0dHJzIiwieGxpbmsiLCJlbDIiLCJjdXJyZW50VHJhbnMiLCJvbGRMZW5ndGgiLCJlbDMiLCJzZXRBdHRyaWJ1dGVOUyIsIm5vZGVWYWx1ZSIsInBhcnNlVXNlRGlyZWN0aXZlcyIsInN2Z1VpZCIsIl9fdWlkIiwiZGVzY2VuZGFudHMiLCJzZWxlY3ROb2RlcyIsImhhc0FuY2VzdG9yV2l0aE5vZGVOYW1lIiwiZ2V0R3JhZGllbnREZWZzIiwiZ2V0Q1NTUnVsZXMiLCJwYXJzZUVsZW1lbnRzIiwiaW5zdGFuY2VzIiwicmVGb250RGVjbGFyYXRpb24iLCJwYXJzZUZvbnREZWNsYXJhdGlvbiIsIm9TdHlsZSIsImxpbmVIZWlnaHQiLCJlbExpc3QiLCJwYXJzZUF0dHJpYnV0ZXMiLCJwYXJlbnRGb250U2l6ZSIsIm93bkF0dHJpYnV0ZXMiLCJjc3NBdHRycyIsInJ1bGUiLCJnZXRHbG9iYWxTdHlsZXNGb3JFbGVtZW50IiwicGFyc2VTdHlsZUF0dHJpYnV0ZSIsIm5vcm1hbGl6ZWRBdHRyIiwibm9ybWFsaXplZFZhbHVlIiwibm9ybWFsaXplZFN0eWxlIiwiZm9udCIsIm1lcmdlZEF0dHJzIiwic2V0QWxwaGEiLCJnZXRBbHBoYSIsInRvUmdiYSIsIl9zZXRTdHJva2VGaWxsT3BhY2l0eSIsIkVsZW1lbnRzUGFyc2VyIiwicGFyc2UiLCJjaHVuayIsInBhaXIiLCJwYXJzZVN0eWxlU3RyaW5nIiwicGFyc2VTdHlsZU9iamVjdCIsInBhcnNlUG9pbnRzQXR0cmlidXRlIiwicGFyc2VkUG9pbnRzIiwiYWxsUnVsZXMiLCJzdHlsZUNvbnRlbnRzIiwidGV4dENvbnRlbnQiLCJydWxlT2JqIiwicHJvcGVydHlWYWx1ZVBhaXJzIiwiX3J1bGUiLCJsb2FkU1ZHRnJvbVVSTCIsInhtbCIsInJlc3BvbnNlWE1MIiwicmVzdWx0cyIsIl9vcHRpb25zIiwiYWxsRWxlbWVudHMiLCJsb2FkU1ZHRnJvbVN0cmluZyIsInBhcnNlRnJvbVN0cmluZyIsInJlZ2V4VXJsIiwibnVtRWxlbWVudHMiLCJjcmVhdGVPYmplY3RzIiwiY3JlYXRlT2JqZWN0IiwiZmluZFRhZyIsImZyb21FbGVtZW50IiwiY3JlYXRlQ2FsbGJhY2siLCJjaGVja0lmRG9uZSIsInJlc29sdmVHcmFkaWVudCIsIkltYWdlIiwiX29yaWdpbmFsRWxlbWVudCIsIl9yZW1vdmVUcmFuc2Zvcm1NYXRyaXgiLCJyZXNvbHZlQ2xpcFBhdGgiLCJleHRyYWN0UHJvcGVydHlEZWZpbml0aW9uIiwic3RvcmFnZSIsInJlZ2V4IiwibGFzdEluZGV4IiwiZ3JhZGllbnREZWYiLCJvcGFjaXR5QXR0ciIsImNyZWF0ZUNsaXBQYXRoQ2FsbGJhY2siLCJjb250YWluZXIiLCJfbmV3T2JqIiwiZmlsbFJ1bGUiLCJjbGlwUnVsZSIsInVzaW5nRWxlbWVudCIsIm9ialRyYW5zZm9ybUludiIsImdUcmFuc2Zvcm0iLCJjbGlwUGF0aFRhZyIsImNsaXBQYXRoT3duZXIiLCJ0aGF0Iiwic2NhbGFyQWRkIiwic2NhbGFyQWRkRXF1YWxzIiwic3VidHJhY3RFcXVhbHMiLCJzY2FsYXJTdWJ0cmFjdCIsInNjYWxhclN1YnRyYWN0RXF1YWxzIiwibXVsdGlwbHlFcXVhbHMiLCJkaXZpZGUiLCJkaXZpZGVFcXVhbHMiLCJsdCIsImx0ZSIsImd0IiwiZ3RlIiwiZGlzdGFuY2VGcm9tIiwiZHgiLCJkeSIsInNldFhZIiwic2V0WCIsInNldFkiLCJzZXRGcm9tUG9pbnQiLCJzd2FwIiwiSW50ZXJzZWN0aW9uIiwic3RhdHVzIiwiYXBwZW5kUG9pbnQiLCJhcHBlbmRQb2ludHMiLCJpbnRlcnNlY3RMaW5lTGluZSIsImExIiwiYTIiLCJiMSIsImIyIiwidWFUIiwidWJUIiwidUIiLCJ1YSIsInViIiwiaW50ZXJzZWN0TGluZVBvbHlnb24iLCJpbnRlciIsImludGVyc2VjdFBvbHlnb25Qb2x5Z29uIiwicG9pbnRzMSIsInBvaW50czIiLCJpbnRlcnNlY3RQb2x5Z29uUmVjdGFuZ2xlIiwicjEiLCJyMiIsInRvcFJpZ2h0IiwiYm90dG9tTGVmdCIsImludGVyMSIsImludGVyMiIsImludGVyMyIsImludGVyNCIsIl90cnlQYXJzaW5nQ29sb3IiLCJzZXRTb3VyY2UiLCJodWUycmdiIiwiY29sb3JOYW1lTWFwIiwic291cmNlRnJvbUhleCIsInNvdXJjZUZyb21SZ2IiLCJzb3VyY2VGcm9tSHNsIiwiX3JnYlRvSHNsIiwiZyIsInJvdW5kIiwiX3NvdXJjZSIsInRvUmdiIiwidG9Ic2wiLCJoc2wiLCJ0b0hzbGEiLCJ0b0hleCIsInRvSGV4YSIsInRvR3JheXNjYWxlIiwiYXZlcmFnZSIsImN1cnJlbnRBbHBoYSIsInRvQmxhY2tXaGl0ZSIsInRocmVzaG9sZCIsIm92ZXJsYXlXaXRoIiwib3RoZXJDb2xvciIsIm90aGVyU291cmNlIiwicmVSR0JhIiwicmVIU0xhIiwicmVIZXgiLCJhbGljZWJsdWUiLCJhbnRpcXVld2hpdGUiLCJhcXVhIiwiYXF1YW1hcmluZSIsImF6dXJlIiwiYmVpZ2UiLCJiaXNxdWUiLCJibGFjayIsImJsYW5jaGVkYWxtb25kIiwiYmx1ZSIsImJsdWV2aW9sZXQiLCJicm93biIsImJ1cmx5d29vZCIsImNhZGV0Ymx1ZSIsImNoYXJ0cmV1c2UiLCJjaG9jb2xhdGUiLCJjb3JhbCIsImNvcm5mbG93ZXJibHVlIiwiY29ybnNpbGsiLCJjcmltc29uIiwiY3lhbiIsImRhcmtibHVlIiwiZGFya2N5YW4iLCJkYXJrZ29sZGVucm9kIiwiZGFya2dyYXkiLCJkYXJrZ3JleSIsImRhcmtncmVlbiIsImRhcmtraGFraSIsImRhcmttYWdlbnRhIiwiZGFya29saXZlZ3JlZW4iLCJkYXJrb3JhbmdlIiwiZGFya29yY2hpZCIsImRhcmtyZWQiLCJkYXJrc2FsbW9uIiwiZGFya3NlYWdyZWVuIiwiZGFya3NsYXRlYmx1ZSIsImRhcmtzbGF0ZWdyYXkiLCJkYXJrc2xhdGVncmV5IiwiZGFya3R1cnF1b2lzZSIsImRhcmt2aW9sZXQiLCJkZWVwcGluayIsImRlZXBza3libHVlIiwiZGltZ3JheSIsImRpbWdyZXkiLCJkb2RnZXJibHVlIiwiZmlyZWJyaWNrIiwiZmxvcmFsd2hpdGUiLCJmb3Jlc3RncmVlbiIsImZ1Y2hzaWEiLCJnYWluc2Jvcm8iLCJnaG9zdHdoaXRlIiwiZ29sZCIsImdvbGRlbnJvZCIsImdyYXkiLCJncmV5IiwiZ3JlZW4iLCJncmVlbnllbGxvdyIsImhvbmV5ZGV3IiwiaG90cGluayIsImluZGlhbnJlZCIsImluZGlnbyIsIml2b3J5Iiwia2hha2kiLCJsYXZlbmRlciIsImxhdmVuZGVyYmx1c2giLCJsYXduZ3JlZW4iLCJsZW1vbmNoaWZmb24iLCJsaWdodGJsdWUiLCJsaWdodGNvcmFsIiwibGlnaHRjeWFuIiwibGlnaHRnb2xkZW5yb2R5ZWxsb3ciLCJsaWdodGdyYXkiLCJsaWdodGdyZXkiLCJsaWdodGdyZWVuIiwibGlnaHRwaW5rIiwibGlnaHRzYWxtb24iLCJsaWdodHNlYWdyZWVuIiwibGlnaHRza3libHVlIiwibGlnaHRzbGF0ZWdyYXkiLCJsaWdodHNsYXRlZ3JleSIsImxpZ2h0c3RlZWxibHVlIiwibGlnaHR5ZWxsb3ciLCJsaW1lIiwibGltZWdyZWVuIiwibGluZW4iLCJtYWdlbnRhIiwibWFyb29uIiwibWVkaXVtYXF1YW1hcmluZSIsIm1lZGl1bWJsdWUiLCJtZWRpdW1vcmNoaWQiLCJtZWRpdW1wdXJwbGUiLCJtZWRpdW1zZWFncmVlbiIsIm1lZGl1bXNsYXRlYmx1ZSIsIm1lZGl1bXNwcmluZ2dyZWVuIiwibWVkaXVtdHVycXVvaXNlIiwibWVkaXVtdmlvbGV0cmVkIiwibWlkbmlnaHRibHVlIiwibWludGNyZWFtIiwibWlzdHlyb3NlIiwibW9jY2FzaW4iLCJuYXZham93aGl0ZSIsIm5hdnkiLCJvbGRsYWNlIiwib2xpdmUiLCJvbGl2ZWRyYWIiLCJvcmFuZ2UiLCJvcmFuZ2VyZWQiLCJvcmNoaWQiLCJwYWxlZ29sZGVucm9kIiwicGFsZWdyZWVuIiwicGFsZXR1cnF1b2lzZSIsInBhbGV2aW9sZXRyZWQiLCJwYXBheWF3aGlwIiwicGVhY2hwdWZmIiwicGVydSIsInBpbmsiLCJwbHVtIiwicG93ZGVyYmx1ZSIsInB1cnBsZSIsInJlYmVjY2FwdXJwbGUiLCJyZWQiLCJyb3N5YnJvd24iLCJyb3lhbGJsdWUiLCJzYWRkbGVicm93biIsInNhbG1vbiIsInNhbmR5YnJvd24iLCJzZWFncmVlbiIsInNlYXNoZWxsIiwic2llbm5hIiwic2lsdmVyIiwic2t5Ymx1ZSIsInNsYXRlYmx1ZSIsInNsYXRlZ3JheSIsInNsYXRlZ3JleSIsInNub3ciLCJzcHJpbmdncmVlbiIsInN0ZWVsYmx1ZSIsInRlYWwiLCJ0aGlzdGxlIiwidG9tYXRvIiwidHVycXVvaXNlIiwidmlvbGV0Iiwid2hlYXQiLCJ3aGl0ZSIsIndoaXRlc21va2UiLCJ5ZWxsb3ciLCJ5ZWxsb3dncmVlbiIsImZyb21SZ2IiLCJmcm9tU291cmNlIiwiZnJvbVJnYmEiLCJmcm9tSHNsIiwiZnJvbUhzbGEiLCJmcm9tSGV4IiwiaXNTaG9ydE5vdGF0aW9uIiwiaXNSR0JhIiwib0NvbG9yIiwic2NhbGVNYXAiLCJza2V3TWFwIiwiY29udHJvbHMiLCJMRUZUIiwiVE9QIiwiUklHSFQiLCJCT1RUT00iLCJDRU5URVIiLCJvcHBvc2l0ZSIsImJvdHRvbSIsInJpZ2h0IiwiZmluZENvcm5lclF1YWRyYW50IiwiZmFicmljT2JqZWN0IiwiY29udHJvbCIsImNvcm5lckFuZ2xlIiwiZmlyZUV2ZW50IiwiY2FudmFzT3B0aW9ucyIsInNjYWxlSXNQcm9wb3J0aW9uYWwiLCJldmVudERhdGEiLCJ1bmlmb3JtSXNUb2dnbGVkIiwidW5pU2NhbGVLZXkiLCJ1bmlmb3JtU2NhbGluZyIsImlzVHJhbnNmb3JtQ2VudGVyZWQiLCJvcmlnaW5YIiwib3JpZ2luWSIsInNjYWxpbmdJc0ZvcmJpZGRlbiIsImJ5Iiwic2NhbGVQcm9wb3J0aW9uYWxseSIsImxvY2tYIiwibG9ja1NjYWxpbmdYIiwibG9ja1kiLCJsb2NrU2NhbGluZ1kiLCJjb21tb25FdmVudEluZm8iLCJlIiwicG9pbnRlciIsIndyYXBXaXRoRml4ZWRBbmNob3IiLCJhY3Rpb25IYW5kbGVyIiwiZ2V0Q2VudGVyUG9pbnQiLCJjb25zdHJhaW50IiwidHJhbnNsYXRlVG9PcmlnaW5Qb2ludCIsImFjdGlvblBlcmZvcm1lZCIsIndyYXBXaXRoRmlyZUV2ZW50IiwiZ2V0TG9jYWxQb2ludCIsImNvcm5lciIsImdldFpvb20iLCJwYWRkaW5nIiwibG9jYWxQb2ludCIsInRvTG9jYWxQb2ludCIsIm9mZnNldFgiLCJvZmZzZXRZIiwidGFyZ2V0SGFzT25lRmxpcCIsImNvbXBlbnNhdGVTY2FsZUZvclNrZXciLCJvcHBvc2l0ZVNrZXciLCJzY2FsZVRvQ29tcGVuc2F0ZSIsImF4aXMiLCJyZWZlcmVuY2UiLCJuZXdWYWx1ZSIsIl9nZXRUcmFuc2Zvcm1lZERpbWVuc2lvbnMiLCJza2V3T2JqZWN0WCIsIm5ld1NrZXciLCJkaW1Ob1NrZXciLCJ0b3RhbFNrZXdTaXplIiwiY3VycmVudFNrZXciLCJoYXNTa2V3ZWQiLCJkaW1CZWZvcmVTa2V3aW5nIiwic2tld09iamVjdFkiLCJzY2FsZU9iamVjdCIsImRpbSIsInNpZ25YIiwic2lnblkiLCJmb3JiaWRTY2FsaW5nIiwiZ2VzdHVyZVNjYWxlIiwibG9ja1NjYWxpbmdGbGlwIiwib3JpZ2luYWwiLCJvbGRTY2FsZVgiLCJvbGRTY2FsZVkiLCJzY2FsZUN1cnNvclN0eWxlSGFuZGxlciIsIm4iLCJza2V3Q3Vyc29yU3R5bGVIYW5kbGVyIiwibm90QWxsb3dlZCIsImxvY2tTa2V3aW5nWSIsImxvY2tTa2V3aW5nWCIsInNjYWxlU2tld0N1cnNvclN0eWxlSGFuZGxlciIsImFsdEFjdGlvbktleSIsInJvdGF0aW9uV2l0aFNuYXBwaW5nIiwicGl2b3RQb2ludCIsImxvY2tSb3RhdGlvbiIsImhhc1JvdGF0ZWQiLCJsYXN0QW5nbGUiLCJleSIsImV4IiwiY3VyQW5nbGUiLCJzbmFwQW5nbGUiLCJzbmFwVGhyZXNob2xkIiwicmlnaHRBbmdsZUxvY2tlZCIsImxlZnRBbmdsZUxvY2tlZCIsInNjYWxpbmdFcXVhbGx5Iiwic2NhbGluZ1giLCJzY2FsaW5nWSIsInNjYWxpbmdZT3JTa2V3aW5nWCIsInNrZXdIYW5kbGVyWCIsInNjYWxpbmdYT3JTa2V3aW5nWSIsInNrZXdIYW5kbGVyWSIsImNoYW5nZVdpZHRoIiwic3Ryb2tlUGFkZGluZyIsIm11bHRpcGxpZXIiLCJvbGRXaWR0aCIsIm5ld1dpZHRoIiwiZmluYWxIYW5kbGVyIiwiZHJhZ0hhbmRsZXIiLCJuZXdMZWZ0IiwibmV3VG9wIiwibW92ZVgiLCJtb3ZlWSIsInNjYWxlT3JTa2V3QWN0aW9uTmFtZSIsImlzQWx0ZXJuYXRpdmUiLCJyb3RhdGlvblN0eWxlSGFuZGxlciIsImN1cnNvclN0eWxlIiwiY29udHJvbHNVdGlscyIsInJlbmRlckNpcmNsZUNvbnRyb2wiLCJzdHlsZU92ZXJyaWRlIiwieFNpemUiLCJzaXplWCIsImNvcm5lclNpemUiLCJ5U2l6ZSIsInNpemVZIiwidHJhbnNwYXJlbnRDb3JuZXJzIiwiY29ybmVyU3Ryb2tlQ29sb3IiLCJteUxlZnQiLCJteVRvcCIsInNhdmUiLCJmaWxsU3R5bGUiLCJjb3JuZXJDb2xvciIsInN0cm9rZVN0eWxlIiwibGluZVdpZHRoIiwiYmVnaW5QYXRoIiwiYXJjIiwicmVzdG9yZSIsInJlbmRlclNxdWFyZUNvbnRyb2wiLCJ4U2l6ZUJ5MiIsInlTaXplQnkyIiwic3Ryb2tlUmVjdCIsIkNvbnRyb2wiLCJhY3Rpb25OYW1lIiwidG91Y2hTaXplWCIsInRvdWNoU2l6ZVkiLCJ3aXRoQ29ubmVjdGlvbiIsIm1vdXNlRG93bkhhbmRsZXIiLCJtb3VzZVVwSGFuZGxlciIsImdldEFjdGlvbkhhbmRsZXIiLCJnZXRNb3VzZURvd25IYW5kbGVyIiwiZ2V0TW91c2VVcEhhbmRsZXIiLCJjdXJzb3JTdHlsZUhhbmRsZXIiLCJnZXRBY3Rpb25OYW1lIiwiZ2V0VmlzaWJpbGl0eSIsImNvbnRyb2xLZXkiLCJvYmplY3RWaXNpYmlsaXR5IiwiX2NvbnRyb2xzVmlzaWJpbGl0eSIsInNldFZpc2liaWxpdHkiLCJwb3NpdGlvbkhhbmRsZXIiLCJmaW5hbE1hdHJpeCIsImNhbGNDb3JuZXJDb29yZHMiLCJvYmplY3RBbmdsZSIsIm9iamVjdENvcm5lclNpemUiLCJjZW50ZXJYIiwiY2VudGVyWSIsImlzVG91Y2giLCJjb3NIYWxmT2Zmc2V0Iiwic2luSGFsZk9mZnNldCIsImNvc0hhbGZPZmZzZXRDb21wIiwic2luSGFsZk9mZnNldENvbXAiLCJjb250cm9sVHJpYW5nbGVBbmdsZSIsImNvcm5lckh5cG90ZW51c2UiLCJuZXdUaGV0YSIsIm5ld1RoZXRhQ29tcCIsInRsIiwidHIiLCJibCIsImJyIiwicmVuZGVyIiwiY29ybmVyU3R5bGUiLCJnZXRDb2xvclN0b3AiLCJjb2xvckFscGhhIiwia2V5VmFsdWVQYWlycyIsImdyYWRpZW50VHJhbnNmb3JtIiwiZ3JhZGllbnRVbml0cyIsIm9wdGlvbiIsImFkZENvbG9yU3RvcCIsInRvT2JqZWN0IiwicHJvcGVydGllc1RvSW5jbHVkZSIsInRvU1ZHIiwibWFya3VwIiwiY29tbW9uQXR0cmlidXRlcyIsIm5lZWRzU3dhcCIsIndpdGhWaWV3cG9ydCIsImFkZGl0aW9uYWxUcmFuc2Zvcm0iLCJzb3J0IiwicmV2ZXJzZSIsIm1pblJhZGl1cyIsInBlcmNlbnRhZ2VTaGlmdCIsImNvbG9yU3RvcCIsInRvTGl2ZSIsImNyZWF0ZUxpbmVhckdyYWRpZW50IiwiY3JlYXRlUmFkaWFsR3JhZGllbnQiLCJpbnN0YW5jZSIsInN2Z09wdGlvbnMiLCJjb2xvclN0b3BFbHMiLCJnZXRMaW5lYXJDb29yZHMiLCJnZXRSYWRpYWxDb29yZHMiLCJwcm9wVmFsdWUiLCJmaW5hbFZhbHVlIiwiX19jb252ZXJ0UGVyY2VudFVuaXRzVG9WYWx1ZXMiLCJyZXBlYXQiLCJwYXR0ZXJuVHJhbnNmb3JtIiwic2V0T3B0aW9ucyIsImlzRXJyb3IiLCJwYXR0ZXJuU291cmNlIiwicGF0dGVybldpZHRoIiwicGF0dGVybkhlaWdodCIsInBhdHRlcm5PZmZzZXRYIiwicGF0dGVybk9mZnNldFkiLCJwYXR0ZXJuSW1nU3JjIiwiY29tcGxldGUiLCJuYXR1cmFsV2lkdGgiLCJuYXR1cmFsSGVpZ2h0IiwiY3JlYXRlUGF0dGVybiIsIlNoYWRvdyIsImJsdXIiLCJhZmZlY3RTdHJva2UiLCJpbmNsdWRlRGVmYXVsdFZhbHVlcyIsIm5vblNjYWxpbmciLCJfcGFyc2VTaGFkb3ciLCJzaGFkb3ciLCJzaGFkb3dTdHIiLCJvZmZzZXRzQW5kQmx1ciIsInJlT2Zmc2V0c0FuZEJsdXIiLCJmQm94WCIsImZCb3hZIiwiU3RhdGljQ2FudmFzIiwiQ0FOVkFTX0lOSVRfRVJST1IiLCJFcnJvciIsInJlbmRlckFuZFJlc2V0Qm91bmQiLCJyZW5kZXJBbmRSZXNldCIsInJlcXVlc3RSZW5kZXJBbGxCb3VuZCIsIl9pbml0U3RhdGljIiwiYmFja2dyb3VuZENvbG9yIiwiYmFja2dyb3VuZEltYWdlIiwib3ZlcmxheUNvbG9yIiwib3ZlcmxheUltYWdlIiwic3RhdGVmdWwiLCJjb250cm9sc0Fib3ZlT3ZlcmxheSIsImFsbG93VG91Y2hTY3JvbGxpbmciLCJ2aWV3cG9ydFRyYW5zZm9ybSIsImJhY2tncm91bmRWcHQiLCJvdmVybGF5VnB0IiwiZW5hYmxlUmV0aW5hU2NhbGluZyIsInZwdENvb3JkcyIsInNraXBPZmZzY3JlZW4iLCJjYiIsIl9jcmVhdGVMb3dlckNhbnZhcyIsIl9pbml0T3B0aW9ucyIsImludGVyYWN0aXZlIiwiX2luaXRSZXRpbmFTY2FsaW5nIiwic2V0T3ZlcmxheUltYWdlIiwic2V0QmFja2dyb3VuZEltYWdlIiwic2V0QmFja2dyb3VuZENvbG9yIiwic2V0T3ZlcmxheUNvbG9yIiwiY2FsY09mZnNldCIsIl9pc1JldGluYVNjYWxpbmciLCJnZXRSZXRpbmFTY2FsaW5nIiwic2NhbGVSYXRpbyIsIl9faW5pdFJldGluYVNjYWxpbmciLCJsb3dlckNhbnZhc0VsIiwiY29udGV4dENvbnRhaW5lciIsInVwcGVyQ2FudmFzRWwiLCJjb250ZXh0VG9wIiwiX29mZnNldCIsImltYWdlIiwiX19zZXRCZ092ZXJsYXlJbWFnZSIsIl9fc2V0QmdPdmVybGF5Q29sb3IiLCJfY3JlYXRlQ2FudmFzRWxlbWVudCIsIl9vcmlnaW5hbENhbnZhc1N0eWxlIiwiX2FwcGx5Q2FudmFzU3R5bGUiLCJnZXRXaWR0aCIsImdldEhlaWdodCIsInNldFdpZHRoIiwic2V0RGltZW5zaW9ucyIsInNldEhlaWdodCIsImRpbWVuc2lvbnMiLCJjc3NWYWx1ZSIsImNzc09ubHkiLCJfc2V0QmFja3N0b3JlRGltZW5zaW9uIiwiaGFzTG9zdENvbnRleHQiLCJiYWNrc3RvcmVPbmx5IiwiX3NldENzc0RpbWVuc2lvbiIsIl9pc0N1cnJlbnRseURyYXdpbmciLCJmcmVlRHJhd2luZ0JydXNoIiwiX3NldEJydXNoU3R5bGVzIiwiY2FjaGVDYW52YXNFbCIsIndyYXBwZXJFbCIsInNldFZpZXdwb3J0VHJhbnNmb3JtIiwidnB0IiwiYWN0aXZlT2JqZWN0IiwiX2FjdGl2ZU9iamVjdCIsImJhY2tncm91bmRPYmplY3QiLCJvdmVybGF5T2JqZWN0IiwiZ3JvdXAiLCJzZXRDb29yZHMiLCJjYWxjVmlld3BvcnRCb3VuZGFyaWVzIiwiem9vbVRvUG9pbnQiLCJiZWZvcmUiLCJhZnRlciIsInNldFpvb20iLCJhYnNvbHV0ZVBhbiIsInJlbGF0aXZlUGFuIiwiZ2V0RWxlbWVudCIsInNldHVwU3RhdGUiLCJjbGVhckNvbnRleHQiLCJjbGVhclJlY3QiLCJjbGVhciIsIl9oYXNJVGV4dEhhbmRsZXJzIiwiX21vdXNlVXBJVGV4dEhhbmRsZXIiLCJfaVRleHRJbnN0YW5jZXMiLCJyZW5kZXJBbGwiLCJjYW52YXNUb0RyYXdPbiIsInJlbmRlckNhbnZhcyIsImlzUmVuZGVyaW5nIiwiaVZwdCIsImNhbmNlbFJlcXVlc3RlZFJlbmRlciIsIl9yZW5kZXJCYWNrZ3JvdW5kIiwiX3JlbmRlck9iamVjdHMiLCJkcmF3Q29udHJvbHMiLCJzaG91bGRDYWNoZSIsIl90cmFuc2Zvcm1Eb25lIiwicmVuZGVyQ2FjaGUiLCJmb3JDbGlwcGluZyIsImRyYXdDbGlwUGF0aE9uQ2FudmFzIiwiX3JlbmRlck92ZXJsYXkiLCJnbG9iYWxDb21wb3NpdGVPcGVyYXRpb24iLCJ6b29tWCIsInpvb21ZIiwiX2NhY2hlQ2FudmFzIiwiY2FjaGVUcmFuc2xhdGlvblgiLCJjYWNoZVRyYW5zbGF0aW9uWSIsIl9yZW5kZXJCYWNrZ3JvdW5kT3JPdmVybGF5IiwibmVlZHNWcHQiLCJtb3ZlVG8iLCJsaW5lVG8iLCJjbG9zZVBhdGgiLCJnZXRDZW50ZXIiLCJjZW50ZXJPYmplY3RIIiwiX2NlbnRlck9iamVjdCIsImNlbnRlck9iamVjdFYiLCJjZW50ZXJPYmplY3QiLCJ2aWV3cG9ydENlbnRlck9iamVjdCIsInZwQ2VudGVyIiwiZ2V0VnBDZW50ZXIiLCJ2aWV3cG9ydENlbnRlck9iamVjdEgiLCJ2aWV3cG9ydENlbnRlck9iamVjdFYiLCJ0b0RhdGFsZXNzSlNPTiIsInRvRGF0YWxlc3NPYmplY3QiLCJfdG9PYmplY3RNZXRob2QiLCJfdG9PYmplY3RzIiwiZXhjbHVkZUZyb21FeHBvcnQiLCJfdG9PYmplY3QiLCJfX3NlcmlhbGl6ZUJnT3ZlcmxheSIsIm9yaWdpbmFsVmFsdWUiLCJiZ0ltYWdlIiwiYmdDb2xvciIsImJhY2tncm91bmQiLCJvdmVybGF5Iiwic3ZnVmlld3BvcnRUcmFuc2Zvcm1hdGlvbiIsIl9zZXRTVkdQcmVhbWJsZSIsIl9zZXRTVkdIZWFkZXIiLCJjbGlwUGF0aElkIiwiX3NldFNWR0JnT3ZlcmxheUNvbG9yIiwiX3NldFNWR0JnT3ZlcmxheUltYWdlIiwiX3NldFNWR09iamVjdHMiLCJzdXBwcmVzc1ByZWFtYmxlIiwiZW5jb2RpbmciLCJ2aWV3Qm94IiwiY3JlYXRlU1ZHRm9udEZhY2VzTWFya3VwIiwiY3JlYXRlU1ZHUmVmRWxlbWVudHNNYXJrdXAiLCJjcmVhdGVTVkdDbGlwUGF0aE1hcmt1cCIsInRvQ2xpcFBhdGhTVkciLCJzaG91bGRUcmFuc2Zvcm0iLCJyb3ciLCJyb3dJbmRleCIsImZvbnRMaXN0IiwiX3NldFNWR09iamVjdCIsImZpbmFsV2lkdGgiLCJmaW5hbEhlaWdodCIsInNlbmRUb0JhY2siLCJvYmpzIiwiYWN0aXZlU2VsZWN0aW9uIiwidW5zaGlmdCIsImJyaW5nVG9Gcm9udCIsInNlbmRCYWNrd2FyZHMiLCJpbnRlcnNlY3RpbmciLCJuZXdJZHgiLCJvYmpzTW92ZWQiLCJfZmluZE5ld0xvd2VySW5kZXgiLCJpbnRlcnNlY3RzV2l0aE9iamVjdCIsImlzQ29udGFpbmVkV2l0aGluT2JqZWN0IiwiYnJpbmdGb3J3YXJkIiwiX2ZpbmROZXdVcHBlckluZGV4IiwiZGlzcG9zZSIsImNsYXNzTGlzdCIsIkRhdGFVUkxFeHBvcnRlciIsIkVNUFRZX0pTT04iLCJzZXRMaW5lRGFzaCIsInRvSlNPTiIsImNyZWF0ZVBOR1N0cmVhbSIsImNyZWF0ZUpQRUdTdHJlYW0iLCJCYXNlQnJ1c2giLCJzdHJva2VMaW5lQ2FwIiwic3Ryb2tlRGFzaEFycmF5IiwibGltaXRlZFRvQ2FudmFzU2l6ZSIsImxpbmVDYXAiLCJtaXRlckxpbWl0IiwibGluZUpvaW4iLCJfc2F2ZUFuZFRyYW5zZm9ybSIsIl9zZXRTaGFkb3ciLCJzaGFkb3dDb2xvciIsInNoYWRvd0JsdXIiLCJzaGFkb3dPZmZzZXRYIiwic2hhZG93T2Zmc2V0WSIsIm5lZWRzRnVsbFJlbmRlciIsIl9yZXNldFNoYWRvdyIsIl9pc091dFNpZGVDYW52YXMiLCJQZW5jaWxCcnVzaCIsImRlY2ltYXRlIiwiZHJhd1N0cmFpZ2h0TGluZSIsInN0cmFpZ2h0TGluZUtleSIsIl9wb2ludHMiLCJfaGFzU3RyYWlnaHRMaW5lIiwiX2RyYXdTZWdtZW50IiwicXVhZHJhdGljQ3VydmVUbyIsIm9uTW91c2VEb3duIiwiX2lzTWFpbkV2ZW50IiwiX3ByZXBhcmVGb3JEcmF3aW5nIiwiX2NhcHR1cmVEcmF3aW5nUGF0aCIsIl9yZW5kZXIiLCJvbk1vdXNlTW92ZSIsIm9sZEVuZCIsIm9uTW91c2VVcCIsIl9maW5hbGl6ZUFuZEFkZFBhdGgiLCJfcmVzZXQiLCJfYWRkUG9pbnQiLCJwb2ludGVyUG9pbnQiLCJjb252ZXJ0UG9pbnRzVG9TVkdQYXRoIiwiX2lzRW1wdHlTVkdQYXRoIiwiY3JlYXRlUGF0aCIsIlBhdGgiLCJkZWNpbWF0ZVBvaW50cyIsImFkanVzdGVkRGlzdGFuY2UiLCJsYXN0UG9pbnQiLCJuZXdQb2ludHMiLCJDaXJjbGVCcnVzaCIsImRyYXdEb3QiLCJhZGRQb2ludCIsImRvdCIsInJhZGl1cyIsIm9yaWdpbmFsUmVuZGVyT25BZGRSZW1vdmUiLCJjaXJjbGVzIiwiY2lyY2xlIiwiQ2lyY2xlIiwiY2lyY2xlUmFkaXVzIiwiY2lyY2xlQ29sb3IiLCJTcHJheUJydXNoIiwiZGVuc2l0eSIsImRvdFdpZHRoIiwiZG90V2lkdGhWYXJpYW5jZSIsInJhbmRvbU9wYWNpdHkiLCJvcHRpbWl6ZU92ZXJsYXBwaW5nIiwic3ByYXlDaHVua3MiLCJhZGRTcHJheUNodW5rIiwic3ByYXlDaHVua1BvaW50cyIsInJlY3RzIiwiaWxlbiIsInNwcmF5Q2h1bmsiLCJyZWN0IiwiUmVjdCIsIl9nZXRPcHRpbWl6ZWRSZWN0cyIsInVuaXF1ZVJlY3RzIiwidW5pcXVlUmVjdHNBcnJheSIsImdsb2JhbEFscGhhIiwiZmlsbFJlY3QiLCJQYXR0ZXJuQnJ1c2giLCJnZXRQYXR0ZXJuU3JjIiwicGF0dGVybkNhbnZhcyIsInBhdHRlcm5DdHgiLCJnZXRQYXR0ZXJuU3JjRnVuY3Rpb24iLCJnZXRQYXR0ZXJuIiwidG9wTGVmdCIsIl9nZXRMZWZ0VG9wQ29vcmRzIiwiQ2FudmFzIiwiX2luaXRJbnRlcmFjdGl2ZSIsIl9jcmVhdGVDYWNoZUNhbnZhcyIsImNlbnRlcmVkU2NhbGluZyIsImNlbnRlcmVkUm90YXRpb24iLCJjZW50ZXJlZEtleSIsInNlbGVjdGlvbiIsInNlbGVjdGlvbktleSIsImFsdFNlbGVjdGlvbktleSIsInNlbGVjdGlvbkNvbG9yIiwic2VsZWN0aW9uRGFzaEFycmF5Iiwic2VsZWN0aW9uQm9yZGVyQ29sb3IiLCJzZWxlY3Rpb25MaW5lV2lkdGgiLCJzZWxlY3Rpb25GdWxseUNvbnRhaW5lZCIsImhvdmVyQ3Vyc29yIiwibW92ZUN1cnNvciIsImRlZmF1bHRDdXJzb3IiLCJmcmVlRHJhd2luZ0N1cnNvciIsIm5vdEFsbG93ZWRDdXJzb3IiLCJjb250YWluZXJDbGFzcyIsInBlclBpeGVsVGFyZ2V0RmluZCIsInRhcmdldEZpbmRUb2xlcmFuY2UiLCJza2lwVGFyZ2V0RmluZCIsImlzRHJhd2luZ01vZGUiLCJwcmVzZXJ2ZU9iamVjdFN0YWNraW5nIiwic3RvcENvbnRleHRNZW51IiwiZmlyZVJpZ2h0Q2xpY2siLCJmaXJlTWlkZGxlQ2xpY2siLCJ0YXJnZXRzIiwiZW5hYmxlUG9pbnRlckV2ZW50cyIsIl9ob3ZlcmVkVGFyZ2V0IiwiX2hvdmVyZWRUYXJnZXRzIiwiX2N1cnJlbnRUcmFuc2Zvcm0iLCJfZ3JvdXBTZWxlY3RvciIsIl9pbml0V3JhcHBlckVsZW1lbnQiLCJfY3JlYXRlVXBwZXJDYW52YXMiLCJfaW5pdEV2ZW50TGlzdGVuZXJzIiwiX2Nob29zZU9iamVjdHNUb1JlbmRlciIsIm9ianNUb1JlbmRlciIsImFjdGl2ZUdyb3VwT2JqZWN0cyIsImFjdGl2ZU9iamVjdHMiLCJnZXRBY3RpdmVPYmplY3RzIiwiY29udGV4dFRvcERpcnR5IiwicmVuZGVyVG9wTGF5ZXIiLCJfZHJhd1NlbGVjdGlvbiIsInJlbmRlclRvcCIsIl9ub3JtYWxpemVQb2ludGVyIiwiaW52ZXJ0ZWRNIiwidnB0UG9pbnRlciIsInJlc3RvcmVQb2ludGVyVnB0IiwiaXNUYXJnZXRUcmFuc3BhcmVudCIsIm5vcm1hbGl6ZWRQb2ludGVyIiwidGFyZ2V0UmVsYXRpdmVYIiwidGFyZ2V0UmVsYXRpdmVZIiwiX2NhY2hlQ29udGV4dCIsImNvbnRleHRDYWNoZSIsIm9yaWdpbmFsQ29sb3IiLCJzZWxlY3Rpb25CYWNrZ3JvdW5kQ29sb3IiLCJfaXNTZWxlY3Rpb25LZXlQcmVzc2VkIiwiX3Nob3VsZENsZWFyU2VsZWN0aW9uIiwiZXZlbnRlZCIsInNlbGVjdGFibGUiLCJfc2hvdWxkQ2VudGVyVHJhbnNmb3JtIiwiYWN0aW9uIiwiYWx0S2V5IiwiY2VudGVyVHJhbnNmb3JtIiwiX2dldE9yaWdpbkZyb21Db3JuZXIiLCJfZ2V0QWN0aW9uRnJvbUNvcm5lciIsImFscmVhZHlTZWxlY3RlZCIsIl9zZXR1cEN1cnJlbnRUcmFuc2Zvcm0iLCJfX2Nvcm5lciIsImxhc3RYIiwibGFzdFkiLCJzaGlmdEtleSIsIl9iZWZvcmVUcmFuc2Zvcm0iLCJzZXRDdXJzb3IiLCJjdXJzb3IiLCJ2aWV3cG9ydFN0YXJ0Iiwidmlld3BvcnRFeHRlbnQiLCJleHRlbnQiLCJtYXhYIiwibWF4WSIsInN0cm9rZU9mZnNldCIsIl9zZXRMaW5lRGFzaCIsImZpbmRUYXJnZXQiLCJza2lwR3JvdXAiLCJhY3RpdmVUYXJnZXQiLCJhY3RpdmVUYXJnZXRTdWJzIiwiYU9iamVjdHMiLCJzaG91bGRMb29rRm9yQWN0aXZlIiwiX2ZpbmRUYXJnZXRDb3JuZXIiLCJfc2VhcmNoUG9zc2libGVUYXJnZXRzIiwiX2NoZWNrVGFyZ2V0IiwiZ2xvYmFsUG9pbnRlciIsImNvbnRhaW5zUG9pbnQiLCJpc0VkaXRpbmciLCJzdWJUYXJnZXQiLCJvYmpUb0NoZWNrIiwicG9pbnRlclRvVXNlIiwic3ViVGFyZ2V0Q2hlY2siLCJpZ25vcmVab29tIiwiX2Fic29sdXRlUG9pbnRlciIsIl9wb2ludGVyIiwiY3NzU2NhbGUiLCJib3VuZHNXaWR0aCIsImJvdW5kc0hlaWdodCIsInJldGluYVNjYWxpbmciLCJsb3dlckNhbnZhc0NsYXNzIiwiX2NvcHlDYW52YXNTdHlsZSIsImdldFRvcENvbnRleHQiLCJmcm9tRWwiLCJ0b0VsIiwiZ2V0U2VsZWN0aW9uQ29udGV4dCIsImdldFNlbGVjdGlvbkVsZW1lbnQiLCJnZXRBY3RpdmVPYmplY3QiLCJhY3RpdmUiLCJfZGlzY2FyZEFjdGl2ZU9iamVjdCIsIl9maXJlU2VsZWN0aW9uRXZlbnRzIiwib2xkT2JqZWN0cyIsInNvbWV0aGluZ0NoYW5nZWQiLCJhZGRlZCIsInJlbW92ZWQiLCJvbGRPYmplY3QiLCJzZWxlY3RlZCIsImRlc2VsZWN0ZWQiLCJzZXRBY3RpdmVPYmplY3QiLCJjdXJyZW50QWN0aXZlcyIsIl9zZXRBY3RpdmVPYmplY3QiLCJvblNlbGVjdCIsIm9uRGVzZWxlY3QiLCJkaXNjYXJkQWN0aXZlT2JqZWN0IiwicmVtb3ZlTGlzdGVuZXJzIiwiX3JlbmRlckNvbnRyb2xzIiwib3JpZ2luYWxQcm9wZXJ0aWVzIiwiX3JlYWxpemVHcm91cFRyYW5zZm9ybU9uT2JqZWN0IiwiX3Vud2luZEdyb3VwVHJhbnNmb3JtT25PYmplY3QiLCJvcmlnaW5hbFZhbHVlcyIsImNsZWFyQ29udGV4dFRvcCIsImFkZEV2ZW50T3B0aW9ucyIsInBhc3NpdmUiLCJjaGVja0NsaWNrIiwiYnV0dG9uIiwibWFpblRvdWNoSWQiLCJfYmluZEV2ZW50cyIsImFkZE9yUmVtb3ZlIiwiX2dldEV2ZW50UHJlZml4IiwiZnVuY3RvciIsImV2ZW50anNGdW5jdG9yIiwiY2FudmFzRWxlbWVudCIsImV2ZW50VHlwZVByZWZpeCIsIl9vblJlc2l6ZSIsIl9vbk1vdXNlRG93biIsIl9vbk1vdXNlTW92ZSIsIl9vbk1vdXNlT3V0IiwiX29uTW91c2VFbnRlciIsIl9vbk1vdXNlV2hlZWwiLCJfb25Db250ZXh0TWVudSIsIl9vbkRvdWJsZUNsaWNrIiwiX29uRHJhZ092ZXIiLCJfb25EcmFnRW50ZXIiLCJfb25EcmFnTGVhdmUiLCJfb25Ecm9wIiwiX29uVG91Y2hTdGFydCIsImV2ZW50anMiLCJfb25HZXN0dXJlIiwiX29uRHJhZyIsIl9vbk9yaWVudGF0aW9uQ2hhbmdlIiwiX29uU2hha2UiLCJfb25Mb25nUHJlc3MiLCJfb25Nb3VzZVVwIiwiX29uVG91Y2hFbmQiLCJldmVudHNCb3VuZCIsIl9zaW1wbGVFdmVudEhhbmRsZXIiLCJzZWxmIiwiX19vblRyYW5zZm9ybUdlc3R1cmUiLCJfX29uRHJhZyIsIl9fb25Nb3VzZVdoZWVsIiwiX3RhcmdldCIsIl9fb25PcmllbnRhdGlvbkNoYW5nZSIsIl9fb25TaGFrZSIsIl9fb25Mb25nUHJlc3MiLCJwcmV2ZW50RGVmYXVsdCIsIl9maXJlRW50ZXJMZWF2ZUV2ZW50cyIsInN0b3BQcm9wYWdhdGlvbiIsIl9jYWNoZVRyYW5zZm9ybUV2ZW50RGF0YSIsIl9oYW5kbGVFdmVudCIsIl9yZXNldFRyYW5zZm9ybUV2ZW50RGF0YSIsImdldFBvaW50ZXJJZCIsImV2dCIsImlkZW50aWZpZXIiLCJwb2ludGVySWQiLCJpc1ByaW1hcnkiLCJ0b3VjaGVzIiwiX19vbk1vdXNlRG93biIsIl9fb25Nb3VzZVVwIiwiX3dpbGxBZGRNb3VzZURvd24iLCJfX29uTW91c2VNb3ZlIiwiX3Nob3VsZFJlbmRlciIsImdyb3VwU2VsZWN0b3IiLCJzaG91bGRSZW5kZXIiLCJpc0NsaWNrIiwiX29uTW91c2VVcEluRHJhd2luZ01vZGUiLCJfZmluYWxpemVDdXJyZW50VHJhbnNmb3JtIiwidGFyZ2V0V2FzQWN0aXZlIiwiX21heWJlR3JvdXBPYmplY3RzIiwiYWN0aXZlT24iLCJpc01vdmluZyIsIm9yaWdpbmFsQ29udHJvbCIsIm9yaWdpbmFsTW91c2VVcEhhbmRsZXIiLCJfc2V0Q3Vyc29yRnJvbUV2ZW50IiwiZXZlbnRUeXBlIiwic3ViVGFyZ2V0cyIsImFic29sdXRlUG9pbnRlciIsImN1cnJlbnRUYXJnZXQiLCJjdXJyZW50U3ViVGFyZ2V0cyIsIl9zY2FsaW5nIiwiaGFzU3RhdGVDaGFuZ2VkIiwiX2ZpcmUiLCJfb25Nb3VzZURvd25JbkRyYXdpbmdNb2RlIiwiX29uTW91c2VNb3ZlSW5EcmF3aW5nTW9kZSIsIl9wcmV2aW91c1BvaW50ZXIiLCJzaG91bGRHcm91cCIsIl9zaG91bGRHcm91cCIsIl9oYW5kbGVHcm91cGluZyIsInNhdmVTdGF0ZSIsIl90cmFuc2Zvcm1PYmplY3QiLCJfZmlyZU92ZXJPdXRFdmVudHMiLCJmaXJlU3ludGhldGljSW5PdXRFdmVudHMiLCJvbGRUYXJnZXQiLCJldnRPdXQiLCJjYW52YXNFdnRPdXQiLCJldnRJbiIsImNhbnZhc0V2dEluIiwiX2RyYWdnZWRvdmVyVGFyZ2V0IiwiY29uZmlnIiwiaW5PcHQiLCJvdXRPcHQiLCJpbkZpcmVzIiwidGFyZ2V0Q2hhbmdlZCIsInByZXZpb3VzVGFyZ2V0IiwibmV4dFRhcmdldCIsInJlc2V0IiwiX3BlcmZvcm1UcmFuc2Zvcm1BY3Rpb24iLCJnZXRDb3JuZXJDdXJzb3IiLCJfdXBkYXRlQWN0aXZlU2VsZWN0aW9uIiwiX2NyZWF0ZUFjdGl2ZVNlbGVjdGlvbiIsImN1cnJlbnRBY3RpdmVPYmplY3RzIiwicmVtb3ZlV2l0aFVwZGF0ZSIsImFkZFdpdGhVcGRhdGUiLCJfY3JlYXRlR3JvdXAiLCJncm91cE9iamVjdHMiLCJleGl0RWRpdGluZyIsIkFjdGl2ZVNlbGVjdGlvbiIsIl9ncm91cFNlbGVjdGVkT2JqZWN0cyIsImFHcm91cCIsIl9jb2xsZWN0T2JqZWN0cyIsImN1cnJlbnRPYmplY3QiLCJzZWxlY3Rpb25YMVkxIiwic2VsZWN0aW9uWDJZMiIsImFsbG93SW50ZXJzZWN0IiwiaW50ZXJzZWN0c1dpdGhSZWN0IiwiaXNDb250YWluZWRXaXRoaW5SZWN0IiwidG9DYW52YXNFbGVtZW50IiwiY3JvcHBpbmciLCJzY2FsZWRXaWR0aCIsInNjYWxlZEhlaWdodCIsIm9yaWdpbmFsV2lkdGgiLCJvcmlnaW5hbEhlaWdodCIsIm5ld1pvb20iLCJ2cCIsIm9yaWdpbmFsSW50ZXJhY3RpdmUiLCJuZXdWcCIsIm9yaWdpbmFsUmV0aW5hIiwib3JpZ2luYWxDb250ZXh0VG9wIiwibG9hZEZyb21KU09OIiwianNvbiIsInNlcmlhbGl6ZWQiLCJfZW5saXZlbk9iamVjdHMiLCJfc2V0QmdPdmVybGF5IiwiZW5saXZlbmVkQ2FudmFzQ2xpcCIsIl9fc2V0dXBDYW52YXMiLCJsb2FkZWQiLCJjYklmTG9hZGVkIiwiX19zZXRCZ092ZXJsYXkiLCJlbmxpdmVkT2JqZWN0IiwiX3RvRGF0YVVSTCIsIl90b0RhdGFVUkxXaXRoTXVsdGlwbGllciIsInRvRGF0YVVSTFdpdGhNdWx0aXBsaWVyIiwiY2xvbmVXaXRob3V0RGF0YSIsImJhY2tncm91bmRJbWFnZU9wYWNpdHkiLCJiYWNrZ3JvdW5kSW1hZ2VTdHJldGNoIiwib2JqZWN0Q2FjaGluZyIsInRvdWNoQ29ybmVyU2l6ZSIsImJvcmRlckNvbG9yIiwiYm9yZGVyRGFzaEFycmF5IiwiY29ybmVyRGFzaEFycmF5Iiwic3Ryb2tlRGFzaE9mZnNldCIsImJvcmRlck9wYWNpdHlXaGVuTW92aW5nIiwiYm9yZGVyU2NhbGVGYWN0b3IiLCJtaW5TY2FsZUxpbWl0IiwiaGFzQ29udHJvbHMiLCJoYXNCb3JkZXJzIiwibG9ja01vdmVtZW50WCIsImxvY2tNb3ZlbWVudFkiLCJzdGF0ZWZ1bGxDYWNoZSIsIm5vU2NhbGVDYWNoZSIsImRpcnR5IiwicGFpbnRGaXJzdCIsInN0YXRlUHJvcGVydGllcyIsImNhY2hlUHJvcGVydGllcyIsImNvbG9yUHJvcGVydGllcyIsImFic29sdXRlUG9zaXRpb25lZCIsIl9jYWNoZVByb3BlcnRpZXMiLCJfdXBkYXRlQ2FjaGVDYW52YXMiLCJfbGltaXRDYWNoZVNpemUiLCJkaW1zIiwibGltaXRlZERpbXMiLCJjYXBwZWQiLCJfZ2V0Q2FjaGVDYW52YXNEaW1lbnNpb25zIiwib2JqZWN0U2NhbGUiLCJnZXRUb3RhbE9iamVjdFNjYWxpbmciLCJuZWVkZWRYIiwibmVlZGVkWSIsImRyYXdpbmdXaWR0aCIsImRyYXdpbmdIZWlnaHQiLCJtaW5DYWNoZVNpemUiLCJkaW1lbnNpb25zQ2hhbmdlZCIsImNhY2hlV2lkdGgiLCJjYWNoZUhlaWdodCIsInpvb21DaGFuZ2VkIiwic2hvdWxkUmVkcmF3IiwiYWRkaXRpb25hbFdpZHRoIiwiYWRkaXRpb25hbEhlaWdodCIsInNob3VsZFJlc2l6ZUNhbnZhcyIsImNhbnZhc1dpZHRoIiwiY2FudmFzSGVpZ2h0Iiwic2l6ZUdyb3dpbmciLCJnZXRIZWlnaHRPZkxpbmUiLCJzZXRUcmFuc2Zvcm0iLCJuZWVkRnVsbFRyYW5zZm9ybSIsIl9yZW1vdmVEZWZhdWx0VmFsdWVzIiwiZ2V0T2JqZWN0U2NhbGluZyIsInJldGluYSIsImdldE9iamVjdE9wYWNpdHkiLCJzaG91bGRDb25zdHJhaW5WYWx1ZSIsImlzQ2hhbmdlZCIsImdyb3VwTmVlZHNVcGRhdGUiLCJfY29uc3RyYWluU2NhbGUiLCJpc09uQUNhY2hlIiwic2V0T25Hcm91cCIsImdldFZpZXdwb3J0VHJhbnNmb3JtIiwiaXNOb3RWaXNpYmxlIiwiaXNPblNjcmVlbiIsIl9zZXR1cENvbXBvc2l0ZU9wZXJhdGlvbiIsImRyYXdTZWxlY3Rpb25CYWNrZ3JvdW5kIiwiX3NldE9wYWNpdHkiLCJkcmF3Q2FjaGVPbkNhbnZhcyIsIl9yZW1vdmVDYWNoZUNhbnZhcyIsImRyYXdPYmplY3QiLCJwcm9wZXJ0eVNldCIsImlzQ2FjaGVEaXJ0eSIsImhhc1N0cm9rZSIsImhhc0ZpbGwiLCJuZWVkc0l0c093bkNhY2hlIiwib3duQ2FjaGluZyIsIndpbGxEcmF3U2hhZG93IiwiZHJhd0NsaXBQYXRoT25DYWNoZSIsIm9yaWdpbmFsRmlsbCIsIm9yaWdpbmFsU3Ryb2tlIiwiX3NldENsaXBwaW5nUHJvcGVydGllcyIsIl9kcmF3Q2xpcFBhdGgiLCJza2lwQ2FudmFzIiwiX2dldE5vblRyYW5zZm9ybWVkRGltZW5zaW9ucyIsIl9yZW1vdmVTaGFkb3ciLCJfc2V0U3Ryb2tlU3R5bGVzIiwiZGVjbCIsImxpbmVEYXNoT2Zmc2V0IiwiX2FwcGx5UGF0dGVybkZvclRyYW5zZm9ybWVkR3JhZGllbnQiLCJfYXBwbHlQYXR0ZXJuR3JhZGllbnRUcmFuc2Zvcm0iLCJfc2V0RmlsbFN0eWxlcyIsImRhc2hBcnJheSIsImRyYXdCb3JkZXJzIiwiZm9yQWN0aXZlU2VsZWN0aW9uIiwiZHJhd0JvcmRlcnNJbkdyb3VwIiwic2NhbGluZyIsIm11bHRYIiwibXVsdFkiLCJfcmVuZGVyUGFpbnRJbk9yZGVyIiwiX3JlbmRlclN0cm9rZSIsIl9yZW5kZXJGaWxsIiwicEN0eCIsInBDYW52YXMiLCJfZmluZENlbnRlckZyb21FbGVtZW50IiwiX2Fzc2lnblRyYW5zZm9ybU1hdHJpeFByb3BzIiwicHJlc2VydmVBc3BlY3RSYXRpb09wdGlvbnMiLCJjcm9wWCIsImNyb3BZIiwib2Zmc2V0TGVmdCIsIm9mZnNldFRvcCIsIm9iamVjdEZvcm0iLCJfZnJvbU9iamVjdCIsImNsb25lQXNJbWFnZSIsInV0aWxzIiwib3JpZ1BhcmFtcyIsIm9yaWdpbmFsR3JvdXAiLCJvcmlnaW5hbFNoYWRvdyIsIndpdGhvdXRUcmFuc2Zvcm0iLCJ3aXRob3V0U2hhZG93IiwiYm91bmRpbmdSZWN0IiwiZ2V0Qm91bmRpbmdSZWN0Iiwic2hhZG93T2Zmc2V0Iiwib3JpZ2luYWxDYW52YXMiLCJpc1R5cGUiLCJpbmNsdWRlcyIsInNob3VsZENlbnRlck9yaWdpbiIsIl9zZXRPcmlnaW5Ub0NlbnRlciIsIl9yZXNldE9yaWdpbiIsImNlbnRlckgiLCJ2aWV3cG9ydENlbnRlckgiLCJjZW50ZXJWIiwidmlld3BvcnRDZW50ZXJWIiwidmlld3BvcnRDZW50ZXIiLCJnZXRMb2NhbFBvaW50ZXIiLCJwQ2xpY2tlZCIsIm9iamVjdExlZnRUb3AiLCJjcmVhdGVBY2Nlc3NvcnMiLCJleHRyYVBhcmFtIiwidHJhbnNsYXRlVG9HaXZlbk9yaWdpbiIsImZyb21PcmlnaW5YIiwiZnJvbU9yaWdpblkiLCJ0b09yaWdpblgiLCJ0b09yaWdpblkiLCJ0cmFuc2xhdGVUb0NlbnRlclBvaW50IiwibGVmdFRvcCIsImdldFBvaW50QnlPcmlnaW4iLCJhZGp1c3RQb3NpdGlvbiIsIm9mZnNldEZyb20iLCJvZmZzZXRUbyIsImh5cG90RnVsbCIsImdldFNjYWxlZFdpZHRoIiwieEZ1bGwiLCJ5RnVsbCIsIl9vcmlnaW5hbE9yaWdpblgiLCJfb3JpZ2luYWxPcmlnaW5ZIiwib3JpZ2luUG9pbnQiLCJtdWx0aXBseU1hdHJpY2VzIiwib0Nvb3JkcyIsImFDb29yZHMiLCJsaW5lQ29vcmRzIiwib3duTWF0cml4Q2FjaGUiLCJtYXRyaXhDYWNoZSIsIl9nZXRDb29yZHMiLCJhYnNvbHV0ZSIsImNhbGN1bGF0ZSIsImNhbGNBQ29vcmRzIiwiY2FsY0xpbmVDb29yZHMiLCJnZXRDb29yZHMiLCJwb2ludFRMIiwicG9pbnRCUiIsIm90aGVyIiwib3RoZXJDb29yZHMiLCJsaW5lcyIsIl9nZXRJbWFnZUxpbmVzIiwiX2ZpbmRDcm9zc1BvaW50cyIsIl9jb250YWluc0NlbnRlck9mQ2FudmFzIiwiaXNQYXJ0aWFsbHlPblNjcmVlbiIsImV2ZXJ5IiwidG9wbGluZSIsInJpZ2h0bGluZSIsImJvdHRvbWxpbmUiLCJsZWZ0bGluZSIsInhpIiwiaUxpbmUiLCJ4Y291bnQiLCJsaW5lS2V5IiwiZ2V0U2NhbGVkSGVpZ2h0Iiwic2NhbGVUb1dpZHRoIiwiYm91bmRpbmdSZWN0RmFjdG9yIiwic2NhbGVUb0hlaWdodCIsImNvc1AiLCJzaW5QIiwiY29zUFNpblAiLCJjb3NQTWludXNTaW5QIiwiY2FsY09Db29yZHMiLCJfY2FsY1JvdGF0ZU1hdHJpeCIsIl9jYWxjVHJhbnNsYXRlTWF0cml4Iiwic3RhcnRNYXRyaXgiLCJfY2FsY3VsYXRlQ3VycmVudERpbWVuc2lvbnMiLCJmb3JFYWNoQ29udHJvbCIsInciLCJza2lwQ29ybmVycyIsIl9zZXRDb3JuZXJDb29yZHMiLCJ0cmFuc2Zvcm1NYXRyaXhLZXkiLCJzZXAiLCJwcmVmaXgiLCJjYWNoZSIsInRNYXRyaXgiLCJub1NrZXciLCJfZmluYWxpemVEaW1lbnNpb25zIiwiZ2V0U3ZnQ29sb3JTdHJpbmciLCJnZXRTdmdTdHlsZXMiLCJza2lwU2hhZG93IiwiZ2V0U3ZnRmlsdGVyIiwiZ2V0U3ZnU3BhblN0eWxlcyIsInVzZVdoaXRlU3BhY2UiLCJ0ZXJtIiwidGV4dERlY29yYXRpb24iLCJnZXRTdmdUZXh0RGVjb3JhdGlvbiIsImRlY29yYXRpb24iLCJnZXRTdmdDb21tb25zIiwiZ2V0U3ZnVHJhbnNmb3JtIiwiZnVsbCIsIl9zZXRTVkdCZyIsInRleHRCZ1JlY3RzIiwiX2dldEZpbGxBdHRyaWJ1dGVzIiwiX2NyZWF0ZUJhc2VTVkdNYXJrdXAiLCJfdG9TVkciLCJfY3JlYXRlQmFzZUNsaXBQYXRoU1ZHTWFya3VwIiwib2JqZWN0TWFya3VwIiwiY29tbW9uUGllY2VzIiwiY2xpcFBhdGhNYXJrdXAiLCJub1N0eWxlIiwic3R5bGVJbmZvIiwic2hhZG93SW5mbyIsIndpdGhTaGFkb3ciLCJ2ZWN0b3JFZmZlY3QiLCJhYnNvbHV0ZUNsaXBQYXRoIiwiYWRkUGFpbnRPcmRlciIsIm9yaWdpbmFsU2V0Iiwic2F2ZVByb3BzIiwicHJvcHMiLCJ0bXBPYmoiLCJfaXNFcXVhbCIsIm9yaWdWYWx1ZSIsImZpcnN0UGFzcyIsImRhc2hlZFByb3BlcnR5U2V0IiwiZm9yVG91Y2giLCJpc0NvbnRyb2xWaXNpYmxlIiwidG91Y2hDb3JuZXIiLCJmbiIsImNvbnRyb2xPYmplY3QiLCJ3aCIsInNob3VsZFN0cm9rZSIsInNldENvbnRyb2xWaXNpYmxlIiwic2V0Q29udHJvbHNWaXNpYmlsaXR5IiwiRlhfRFVSQVRJT04iLCJmeENlbnRlck9iamVjdEgiLCJjYWxsYmFja3MiLCJlbXB0eSIsImZ4Q2VudGVyT2JqZWN0ViIsImZ4UmVtb3ZlIiwic2tpcENhbGxiYWNrcyIsInByb3BzVG9BbmltYXRlIiwib3V0IiwiX2FuaW1hdGUiLCJwcm9wUGFpciIsInByb3BJc0NvbG9yIiwidmFsdWVQcm9ncmVzcyIsInRpbWVQcm9ncmVzcyIsImNvb3JkUHJvcHMiLCJtYWtlRWRnZVRvT3JpZ2luR2V0dGVyIiwicHJvcGVydHlOYW1lcyIsIm9yaWdpblZhbHVlcyIsImF4aXMxIiwiYXhpczIiLCJkaW1lbnNpb24iLCJuZWFyZXN0IiwiZmFydGhlc3QiLCJMaW5lIiwiX3NldFdpZHRoSGVpZ2h0IiwiX2dldExlZnRUb09yaWdpblgiLCJfZ2V0VG9wVG9PcmlnaW5ZIiwiY2FsY0xpbmVQb2ludHMiLCJvcmlnU3Ryb2tlU3R5bGUiLCJ4TXVsdCIsInlNdWx0IiwiQVRUUklCVVRFX05BTUVTIiwicGFyc2VkQXR0cmlidXRlcyIsInN0YXJ0QW5nbGUiLCJlbmRBbmdsZSIsInNldFJhZGl1cyIsInN2Z1N0cmluZyIsImdldFJhZGl1c1giLCJnZXRSYWRpdXNZIiwiVHJpYW5nbGUiLCJ3aWR0aEJ5MiIsImhlaWdodEJ5MiIsInBpQnkyIiwiRWxsaXBzZSIsImdldFJ4IiwiZ2V0UnkiLCJfaW5pdFJ4UnkiLCJpc1JvdW5kZWQiLCJiZXppZXJDdXJ2ZVRvIiwiUG9seWxpbmUiLCJleGFjdEJvdW5kaW5nQm94IiwiX3NldFBvc2l0aW9uRGltZW5zaW9ucyIsIl9wcm9qZWN0U3Ryb2tlT25Qb2ludHMiLCJjb3JyZWN0TGVmdFRvcCIsImNhbGNEaW0iLCJfY2FsY0RpbWVuc2lvbnMiLCJjb3JyZWN0U2l6ZSIsImZyb21TVkciLCJkaWZmWCIsImRpZmZZIiwiY29tbW9uUmVuZGVyIiwiZnJvbUVsZW1lbnRHZW5lcmF0b3IiLCJfY2xhc3MiLCJQb2x5Z29uIiwiX3NldFBhdGgiLCJfcmVuZGVyUGF0aENvbW1hbmRzIiwic3VicGF0aFN0YXJ0WCIsInN1YnBhdGhTdGFydFkiLCJfZ2V0T2Zmc2V0VHJhbnNmb3JtIiwiZGlnaXRzIiwiYVgiLCJhWSIsInBhdGhVcmwiLCJlbGl2ZW5lZE9iamVjdHMiLCJ1c2VTZXRPbkdyb3VwIiwiaXNBbHJlYWR5R3JvdXBlZCIsIl91cGRhdGVPYmplY3RzQUNvb3JkcyIsIl9jYWxjQm91bmRzIiwiX3VwZGF0ZU9iamVjdHNDb29yZHMiLCJfdXBkYXRlT2JqZWN0Q29vcmRzIiwib2JqZWN0TGVmdCIsIm9iamVjdFRvcCIsIm5lc3RlZCIsIl9yZXN0b3JlT2JqZWN0c1N0YXRlIiwiX2luY2x1ZGVEZWZhdWx0VmFsdWVzIiwib2Jqc1RvT2JqZWN0Iiwib3JpZ2luYWxEZWZhdWx0cyIsIl9vYmoiLCJvd25DYWNoZSIsImdyb3VwTWF0cml4IiwiZGVzdHJveSIsInRvQWN0aXZlU2VsZWN0aW9uIiwidW5ncm91cE9uQ2FudmFzIiwic2V0T2JqZWN0c0Nvb3JkcyIsIm9ubHlXaWR0aEhlaWdodCIsImlMZW4iLCJqTGVuIiwiX2dldEJvdW5kcyIsIm1pblhZIiwibWF4WFkiLCJ0b0dyb3VwIiwibmV3R3JvdXAiLCJjaGlsZHJlbk92ZXJyaWRlIiwic3JjRnJvbUF0dHJpYnV0ZSIsIl9sYXN0U2NhbGVYIiwiX2xhc3RTY2FsZVkiLCJfZmlsdGVyU2NhbGluZ1giLCJfZmlsdGVyU2NhbGluZ1kiLCJtaW5pbXVtU2NhbGVUcmlnZ2VyIiwiY2FjaGVLZXkiLCJpbWFnZVNtb290aGluZyIsImZpbHRlcnMiLCJfaW5pdEVsZW1lbnQiLCJfZWxlbWVudCIsInNldEVsZW1lbnQiLCJyZW1vdmVUZXh0dXJlIiwiX2luaXRDb25maWciLCJhcHBseUZpbHRlcnMiLCJyZXNpemVGaWx0ZXIiLCJhcHBseVJlc2l6ZUZpbHRlcnMiLCJiYWNrZW5kIiwiZmlsdGVyQmFja2VuZCIsImV2aWN0Q2FjaGVzRm9yS2V5IiwiZ2V0Q3Jvc3NPcmlnaW4iLCJnZXRPcmlnaW5hbFNpemUiLCJfc3Ryb2tlIiwiZmlsdGVyT2JqIiwiZ2V0U3JjIiwiaGFzQ3JvcCIsInN0cm9rZVN2ZyIsImltYWdlTWFya3VwIiwiaW1hZ2VSZW5kZXJpbmciLCJnZXRTdmdTcmMiLCJvcmlnRmlsbCIsImZpbHRlcmVkIiwic2V0U3JjIiwibWluaW11bVNjYWxlIiwiZWxlbWVudFRvRmlsdGVyIiwiX2ZpbHRlcmVkRWwiLCJzb3VyY2VXaWR0aCIsInNvdXJjZUhlaWdodCIsImlzTmV1dHJhbFN0YXRlIiwiaW1nRWxlbWVudCIsIl9uZWVkc1Jlc2l6ZSIsImVsZW1lbnRUb0RyYXciLCJlbFdpZHRoIiwiZWxIZWlnaHQiLCJzWCIsInNZIiwic1ciLCJzSCIsIm1heERlc3RXIiwibWF4RGVzdEgiLCJfcmVzZXRXaWR0aEhlaWdodCIsIkNTU19DQU5WQVMiLCJfaW5pdEZpbHRlcnMiLCJwQVIiLCJyV2lkdGgiLCJySGVpZ2h0IiwicFdpZHRoIiwicEhlaWdodCIsIl9vYmplY3QiLCJyZXNpemVGaWx0ZXJzIiwiZnJvbVVSTCIsImltZ09wdGlvbnMiLCJfZ2V0QW5nbGVWYWx1ZUZvclN0cmFpZ2h0ZW4iLCJzdHJhaWdodGVuIiwiZnhTdHJhaWdodGVuIiwic3RyYWlnaHRlbk9iamVjdCIsImZ4U3RyYWlnaHRlbk9iamVjdCIsInRlc3RQcmVjaXNpb24iLCJwcmVjaXNpb24iLCJmcmFnbWVudFNvdXJjZSIsImZyYWdtZW50U2hhZGVyIiwiY3JlYXRlU2hhZGVyIiwiRlJBR01FTlRfU0hBREVSIiwic2hhZGVyU291cmNlIiwiY29tcGlsZVNoYWRlciIsImdldFNoYWRlclBhcmFtZXRlciIsIkNPTVBJTEVfU1RBVFVTIiwic2V0dXBHTENvbnRleHQiLCJjYXB0dXJlR1BVSW5mbyIsImlzU3VwcG9ydGVkIiwiZ2V0UGFyYW1ldGVyIiwiTUFYX1RFWFRVUkVfU0laRSIsInByZWNpc2lvbnMiLCJ3ZWJHbFByZWNpc2lvbiIsImNyZWF0ZVdlYkdMQ2FudmFzIiwiYVBvc2l0aW9uIiwiRmxvYXQzMkFycmF5IiwiY2hvb3NlRmFzdGVzdENvcHlHTFRvMkRNZXRob2QiLCJjYW5Vc2VJbWFnZURhdGEiLCJjYW5NZWFzdXJlUGVyZiIsInBlcmZvcm1hbmNlIiwiY2FuVXNlQXJyYXlCdWZmZXIiLCJBcnJheUJ1ZmZlciIsImNhblVzZVVpbnQ4Q2xhbXBlZCIsImNvcHlHTFRvMkQiLCJzdGFydFRpbWUiLCJkcmF3SW1hZ2VUaW1lIiwidGVzdENvbnRleHQiLCJub3ciLCJnbE9wdGlvbnMiLCJwcmVtdWx0aXBsaWVkQWxwaGEiLCJkZXB0aCIsInN0ZW5jaWwiLCJhbnRpYWxpYXMiLCJjbGVhckNvbG9yIiwiY2FjaGVkVGV4dHVyZSIsImdldENhY2hlZFRleHR1cmUiLCJzb3VyY2VUZXh0dXJlIiwiY3JlYXRlVGV4dHVyZSIsInRhcmdldFRleHR1cmUiLCJvcmlnaW5hbFRleHR1cmUiLCJwYXNzZXMiLCJ3ZWJnbCIsInByb2dyYW1DYWNoZSIsInBhc3MiLCJ0ZW1wRmJvIiwiY3JlYXRlRnJhbWVidWZmZXIiLCJiaW5kRnJhbWVidWZmZXIiLCJGUkFNRUJVRkZFUiIsImFwcGx5VG8iLCJyZXNpemVDYW52YXNJZk5lZWRlZCIsImJpbmRUZXh0dXJlIiwiVEVYVFVSRV8yRCIsImRlbGV0ZVRleHR1cmUiLCJkZWxldGVGcmFtZWJ1ZmZlciIsImNsZWFyV2ViR0xDYWNoZXMiLCJ0ZXh0dXJlQ2FjaGUiLCJ0ZXh0dXJlSW1hZ2VTb3VyY2UiLCJmaWx0ZXJUeXBlIiwidGV4dHVyZSIsInRleFBhcmFtZXRlcmkiLCJURVhUVVJFX01BR19GSUxURVIiLCJORUFSRVNUIiwiVEVYVFVSRV9NSU5fRklMVEVSIiwiVEVYVFVSRV9XUkFQX1MiLCJDTEFNUF9UT19FREdFIiwiVEVYVFVSRV9XUkFQX1QiLCJ0ZXhJbWFnZTJEIiwidW5pcXVlSWQiLCJncHVJbmZvIiwicmVuZGVyZXIiLCJ2ZW5kb3IiLCJleHQiLCJnZXRFeHRlbnNpb24iLCJVTk1BU0tFRF9SRU5ERVJFUl9XRUJHTCIsIlVOTUFTS0VEX1ZFTkRPUl9XRUJHTCIsInNvdXJjZUVsZW1lbnQiLCJvcmlnaW5hbEVsIiwib3JpZ2luYWxJbWFnZURhdGEiLCJCYXNlRmlsdGVyIiwidmVydGV4U291cmNlIiwiY3JlYXRlUHJvZ3JhbSIsInZlcnRleFNoYWRlciIsIlZFUlRFWF9TSEFERVIiLCJnZXRTaGFkZXJJbmZvTG9nIiwicHJvZ3JhbSIsImF0dGFjaFNoYWRlciIsImxpbmtQcm9ncmFtIiwiZ2V0UHJvZ3JhbVBhcmFtZXRlciIsIkxJTktfU1RBVFVTIiwiZ2V0UHJvZ3JhbUluZm9Mb2ciLCJhdHRyaWJ1dGVMb2NhdGlvbnMiLCJnZXRBdHRyaWJ1dGVMb2NhdGlvbnMiLCJ1bmlmb3JtTG9jYXRpb25zIiwiZ2V0VW5pZm9ybUxvY2F0aW9ucyIsInVTdGVwVyIsImdldFVuaWZvcm1Mb2NhdGlvbiIsInVTdGVwSCIsImdldEF0dHJpYkxvY2F0aW9uIiwic2VuZEF0dHJpYnV0ZURhdGEiLCJhUG9zaXRpb25EYXRhIiwiYXR0cmlidXRlTG9jYXRpb24iLCJidWZmZXIiLCJjcmVhdGVCdWZmZXIiLCJiaW5kQnVmZmVyIiwiQVJSQVlfQlVGRkVSIiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJ2ZXJ0ZXhBdHRyaWJQb2ludGVyIiwiRkxPQVQiLCJidWZmZXJEYXRhIiwiU1RBVElDX0RSQVciLCJfc2V0dXBGcmFtZUJ1ZmZlciIsImZyYW1lYnVmZmVyVGV4dHVyZTJEIiwiQ09MT1JfQVRUQUNITUVOVDAiLCJfc3dhcFRleHR1cmVzIiwidGVtcCIsIm1haW4iLCJtYWluUGFyYW1ldGVyIiwiYXBwbHlUb1dlYkdMIiwiYXBwbHlUbzJkIiwicmV0cmlldmVTaGFkZXIiLCJzaGFkZXIiLCJ1c2VQcm9ncmFtIiwidW5pZm9ybTFmIiwic2VuZFVuaWZvcm1EYXRhIiwidmlld3BvcnQiLCJkcmF3QXJyYXlzIiwiVFJJQU5HTEVfU1RSSVAiLCJiaW5kQWRkaXRpb25hbFRleHR1cmUiLCJ0ZXh0dXJlVW5pdCIsImFjdGl2ZVRleHR1cmUiLCJURVhUVVJFMCIsInVuYmluZEFkZGl0aW9uYWxUZXh0dXJlIiwiZ2V0TWFpblBhcmFtZXRlciIsInNldE1haW5QYXJhbWV0ZXIiLCJjcmVhdGVIZWxwTGF5ZXIiLCJoZWxwTGF5ZXIiLCJtYWluUCIsIkNvbG9yTWF0cml4IiwiY29sb3JzT25seSIsInVDb2xvck1hdHJpeCIsInVDb25zdGFudHMiLCJjb25zdGFudHMiLCJ1bmlmb3JtTWF0cml4NGZ2IiwidW5pZm9ybTRmdiIsIkJyaWdodG5lc3MiLCJicmlnaHRuZXNzIiwidUJyaWdodG5lc3MiLCJDb252b2x1dGUiLCJvcGFxdWUiLCJDb252b2x1dGVfM18xIiwiQ29udm9sdXRlXzNfMCIsIkNvbnZvbHV0ZV81XzEiLCJDb252b2x1dGVfNV8wIiwiQ29udm9sdXRlXzdfMSIsIkNvbnZvbHV0ZV83XzAiLCJDb252b2x1dGVfOV8xIiwiQ29udm9sdXRlXzlfMCIsImRzdE9mZiIsInNjeCIsInNjeSIsInNyY09mZiIsInd0Iiwid2VpZ2h0cyIsInNpZGUiLCJoYWxmU2lkZSIsInN3Iiwic2giLCJvdXRwdXQiLCJjcmVhdGVJbWFnZURhdGEiLCJkc3QiLCJhbHBoYUZhYyIsInVNYXRyaXgiLCJ1T3BhcXVlIiwidUhhbGZTaXplIiwidVNpemUiLCJ1bmlmb3JtMWZ2IiwiR3JheXNjYWxlIiwibGlnaHRuZXNzIiwibHVtaW5vc2l0eSIsIm1vZGUiLCJ1TW9kZSIsInVuaWZvcm0xaSIsIkludmVydCIsImludmVydCIsInVJbnZlcnQiLCJOb2lzZSIsIm5vaXNlIiwicmFuZCIsInVOb2lzZSIsInVTZWVkIiwiUGl4ZWxhdGUiLCJibG9ja3NpemUiLCJfaSIsIl9qIiwiX2lMZW4iLCJfakxlbiIsInVCbG9ja3NpemUiLCJSZW1vdmVDb2xvciIsInVzZUFscGhhIiwibG93QyIsImhpZ2hDIiwidUxvdyIsInVIaWdoIiwiQnJvd25pZSIsIlZpbnRhZ2UiLCJLb2RhY2hyb21lIiwiVGVjaG5pY29sb3IiLCJQb2xhcm9pZCIsIlNlcGlhIiwiQmxhY2tXaGl0ZSIsIkJsZW5kQ29sb3IiLCJzY3JlZW4iLCJkaWZmIiwibGlnaHRlbiIsImRhcmtlbiIsImV4Y2x1c2lvbiIsInRpbnQiLCJidWlsZFNvdXJjZSIsInRnIiwiYWxwaGExIiwidUNvbG9yIiwiQmxlbmRJbWFnZSIsIm1hc2siLCJURVhUVVJFMSIsImNhbGN1bGF0ZU1hdHJpeCIsImNhbnZhczEiLCJibGVuZERhdGEiLCJibGVuZEltYWdlIiwidVRyYW5zZm9ybU1hdHJpeCIsInVJbWFnZSIsInVuaWZvcm1NYXRyaXgzZnYiLCJSZXNpemUiLCJyZXNpemVUeXBlIiwibGFuY3pvc0xvYmVzIiwidURlbHRhIiwidVRhcHMiLCJ1bmlmb3JtMmZ2IiwiaG9yaXpvbnRhbCIsInRhcHMiLCJmaWx0ZXJXaW5kb3ciLCJnZXRGaWx0ZXJXaW5kb3ciLCJnZW5lcmF0ZVNoYWRlciIsInRlbXBTY2FsZSIsImdldFRhcHMiLCJsb2JlRnVuY3Rpb24iLCJsYW5jem9zQ3JlYXRlIiwib2Zmc2V0cyIsImZyYWdtZW50U291cmNlVE9QIiwiZFciLCJkSCIsImxvYmVzIiwieHgiLCJyY3BTY2FsZVgiLCJyY3BTY2FsZVkiLCJuZXdEYXRhIiwib1ciLCJvSCIsInNsaWNlQnlUd28iLCJoZXJtaXRlRmFzdFJlc2l6ZSIsImJpbGluZWFyRmlsdGVyaW5nIiwibGFuY3pvc1Jlc2l6ZSIsInRtcENhbnZhcyIsIm11bHQiLCJkb25lVyIsImRvbmVIIiwic3RlcFciLCJzdGVwSCIsImRYIiwiZFkiLCJzcmNEYXRhIiwiZGVzdEltZyIsImRlc3REYXRhIiwibGFuY3pvcyIsInJhdGlvWCIsInJhdGlvWSIsInJjcFJhdGlvWCIsInJjcFJhdGlvWSIsInJhbmdlMlgiLCJyYW5nZTJZIiwiY2FjaGVMYW5jIiwiaWNlbnRlciIsInByb2Nlc3MiLCJ1Iiwid2VpZ2h0IiwiZlgiLCJmWSIsInhEaWZmIiwieURpZmYiLCJjaG5sIiwib3JpZ1BpeCIsInc0IiwicGl4ZWxzIiwiZGVzdEltYWdlIiwiZGVzdFBpeGVscyIsInJhdGlvVyIsInJhdGlvSCIsInJhdGlvV0hhbGYiLCJyYXRpb0hIYWxmIiwiaW1nMiIsImRhdGEyIiwid2VpZ2h0c0FscGhhIiwiZ3hSIiwiZ3hHIiwiZ3hCIiwiZ3hBIiwieXkiLCJ3MCIsIkNvbnRyYXN0IiwiY29udHJhc3QiLCJjb250cmFzdEYiLCJ1Q29udHJhc3QiLCJTYXR1cmF0aW9uIiwic2F0dXJhdGlvbiIsImFkanVzdCIsInVTYXR1cmF0aW9uIiwiVmlicmFuY2UiLCJ2aWJyYW5jZSIsImF2ZyIsImFtdCIsInVWaWJyYW5jZSIsIkJsdXIiLCJhc3BlY3RSYXRpbyIsInNpbXBsZUJsdXIiLCJjYW52YXMyIiwiYmx1ckxheWVyMSIsImJsdXJMYXllcjIiLCJwZXJjZW50IiwiY3R4MSIsImN0eDIiLCJuZXdJbWFnZURhdGEiLCJkZWx0YSIsImNob29zZVJpZ2h0RGVsdGEiLCJibHVyU2NhbGUiLCJHYW1tYSIsImdhbW1hIiwickludiIsImdJbnYiLCJiSW52IiwiclZhbHMiLCJnVmFscyIsImJWYWxzIiwidUdhbW1hIiwidW5pZm9ybTNmdiIsIkNvbXBvc2VkIiwic3ViRmlsdGVycyIsIkh1ZVJvdGF0aW9uIiwicm90YXRpb24iLCJyYWQiLCJhVGhpcmQiLCJhVGhpcmRTcXRTaW4iLCJPbmVNaW51c0NvcyIsImFkZGl0aW9uYWxQcm9wcyIsIl9kaW1lbnNpb25BZmZlY3RpbmdQcm9wcyIsIl9yZU5ld2xpbmUiLCJfcmVTcGFjZXNBbmRUYWJzIiwiX3JlU3BhY2VBbmRUYWIiLCJfcmVXb3JkcyIsInRleHRBbGlnbiIsInN1cGVyc2NyaXB0IiwiYmFzZWxpbmUiLCJzdWJzY3JpcHQiLCJwYXRoU3RhcnRPZmZzZXQiLCJwYXRoU2lkZSIsInBhdGhBbGlnbiIsIl9mb250U2l6ZUZyYWN0aW9uIiwiX2ZvbnRTaXplTXVsdCIsImNoYXJTcGFjaW5nIiwiX21lYXN1cmluZ0NvbnRleHQiLCJkaXJlY3Rpb24iLCJfc3R5bGVQcm9wZXJ0aWVzIiwiX19jaGFyQm91bmRzIiwiQ0FDSEVfRk9OVF9TSVpFIiwiTUlOX1RFWFRfV0lEVEgiLCJfX3NraXBEaW1lbnNpb24iLCJzZXRQYXRoSW5mbyIsImluaXREaW1lbnNpb25zIiwic2VnbWVudHNJbmZvIiwiZ2V0TWVhc3VyaW5nQ29udGV4dCIsIl9zcGxpdFRleHQiLCJuZXdMaW5lcyIsIl9zcGxpdFRleHRJbnRvTGluZXMiLCJfdGV4dExpbmVzIiwiZ3JhcGhlbWVMaW5lcyIsIl91bndyYXBwZWRUZXh0TGluZXMiLCJfdW53cmFwcGVkTGluZXMiLCJfdGV4dCIsImdyYXBoZW1lVGV4dCIsIl9jbGVhckNhY2hlIiwiY2FsY1RleHRXaWR0aCIsImN1cnNvcldpZHRoIiwiY2FsY1RleHRIZWlnaHQiLCJlbmxhcmdlU3BhY2VzIiwiZGlmZlNwYWNlIiwiY3VycmVudExpbmVXaWR0aCIsIm51bWJlck9mU3BhY2VzIiwiYWNjdW11bGF0ZWRTcGFjZSIsImxpbmUiLCJjaGFyQm91bmQiLCJzcGFjZXMiLCJpc0VuZE9mV3JhcHBpbmciLCJnZXRMaW5lV2lkdGgiLCJrZXJuZWRXaWR0aCIsImxpbmVJbmRleCIsIm1pc3NpbmdOZXdsaW5lT2Zmc2V0IiwiX3NldFRleHRTdHlsZXMiLCJfcmVuZGVyVGV4dExpbmVzQmFja2dyb3VuZCIsIl9yZW5kZXJUZXh0RGVjb3JhdGlvbiIsIl9yZW5kZXJUZXh0IiwiX3JlbmRlclRleHRTdHJva2UiLCJfcmVuZGVyVGV4dEZpbGwiLCJjaGFyU3R5bGUiLCJmb3JNZWFzdXJpbmciLCJ0ZXh0QmFzZWxpbmUiLCJfZ2V0Rm9udERlY2xhcmF0aW9uIiwibWF4V2lkdGgiLCJfcmVuZGVyVGV4dExpbmUiLCJfcmVuZGVyQ2hhcnMiLCJzdHlsZUhhcyIsImhlaWdodE9mTGluZSIsImxpbmVMZWZ0T2Zmc2V0IiwibGFzdENvbG9yIiwiY2hhckJveCIsImN1cnJlbnRDb2xvciIsImRyYXdTdGFydCIsImxlZnRPZmZzZXQiLCJfZ2V0TGVmdE9mZnNldCIsImxpbmVUb3BPZmZzZXQiLCJfZ2V0VG9wT2Zmc2V0IiwiYm94U3RhcnQiLCJib3hXaWR0aCIsIl9nZXRMaW5lTGVmdE9mZnNldCIsImdldFZhbHVlT2ZQcm9wZXJ0eUF0IiwicmVuZGVyTGVmdCIsImdldEZvbnRDYWNoZSIsImNhY2hlUHJvcCIsIl9tZWFzdXJlQ2hhciIsIl9jaGFyIiwicHJldmlvdXNDaGFyIiwicHJldkNoYXJTdHlsZSIsImNvdXBsZVdpZHRoIiwicHJldmlvdXNXaWR0aCIsImZvbnRDYWNoZSIsImNvdXBsZSIsInN0eWxlc0FyZUVxdWFsIiwiZm9udE11bHRpcGxpZXIiLCJtZWFzdXJlVGV4dCIsImdldEhlaWdodE9mQ2hhciIsIm1lYXN1cmVMaW5lIiwibGluZUluZm8iLCJfbWVhc3VyZUxpbmUiLCJfZ2V0V2lkdGhPZkNoYXJTcGFjaW5nIiwiZ3JhcGhlbWUiLCJwcmV2R3JhcGhlbWUiLCJncmFwaGVtZUluZm8iLCJzdGFydGluZ1BvaW50IiwidG90YWxQYXRoTGVuZ3RoIiwibGluZUJvdW5kcyIsInBvc2l0aW9uSW5QYXRoIiwiX2dldEdyYXBoZW1lQm94IiwiX3NldEdyYXBoZW1lT25QYXRoIiwibnVtT2ZTcGFjZXMiLCJjZW50ZXJQb3NpdGlvbiIsInNraXBMZWZ0IiwiZ2V0Q29tcGxldGVTdHlsZURlY2xhcmF0aW9uIiwicHJldmlvdXNCb3giLCJfX2xpbmVIZWlnaHRzIiwibWF4SGVpZ2h0IiwiX3JlbmRlclRleHRDb21tb24iLCJsaW5lSGVpZ2h0cyIsImlzRW1wdHlTdHlsZXMiLCJhY3R1YWxTdHlsZSIsIm5leHRTdHlsZSIsInRpbWVUb1JlbmRlciIsImRyYXdpbmdMZWZ0IiwiaXNKdXN0aWZ5IiwiY2hhcnNUb1JlbmRlciIsInNob3J0Q3V0IiwiaXNMdHIiLCJjdXJyZW50RGlyZWN0aW9uIiwiX3JlbmRlckNoYXIiLCJfYXBwbHlQYXR0ZXJuR3JhZGllbnRUcmFuc2Zvcm1UZXh0IiwiaGFuZGxlRmlsbGVyIiwiZmlsbE9mZnNldHMiLCJzdHJva2VPZmZzZXRzIiwiX2dldFN0eWxlRGVjbGFyYXRpb24iLCJmdWxsRGVjbCIsInNob3VsZEZpbGwiLCJmaWxsVGV4dCIsInN0cm9rZVRleHQiLCJzZXRTdXBlcnNjcmlwdCIsIl9zZXRTY3JpcHQiLCJzZXRTdWJzY3JpcHQiLCJzY2hlbWEiLCJsb2MiLCJnZXQyREN1cnNvckxvY2F0aW9uIiwic2V0U2VsZWN0aW9uU3R5bGVzIiwibGluZURpZmYiLCJfX2xpbmVXaWR0aHMiLCJfc2hvdWxkQ2xlYXJEaW1lbnNpb25DYWNoZSIsInNob3VsZENsZWFyIiwiX2ZvcmNlQ2xlYXJDYWNoZSIsIl9zaXplIiwiX2R5IiwibGFzdERlY29yYXRpb24iLCJjdXJyZW50RGVjb3JhdGlvbiIsImN1cnJlbnRGaWxsIiwibGFzdEZpbGwiLCJ0b3BPZmZzZXQiLCJzdHlsZU9iamVjdCIsImZhbWlseSIsImZvbnRJc0dlbmVyaWMiLCJnZW5lcmljRm9udHMiLCJuZXdMaW5lIiwibmV3VGV4dCIsImFsbFByb3BlcnRpZXMiLCJuZWVkc0RpbXMiLCJpc0FkZGluZ1BhdGgiLCJfa2V5IiwicGFyc2VkQW5jaG9yIiwidGV4dEFuY2hvciIsIm9yaWdpbmFsU3Ryb2tlV2lkdGgiLCJ0ZXh0SGVpZ2h0U2NhbGVGYWN0b3IiLCJzY2FsZWREaWZmIiwidGV4dEhlaWdodCIsIm9mZlgiLCJvYmplY3RDb3B5IiwidGV4dEluc3RhbmNlIiwicGF0aEluc3RhbmNlIiwicDMiLCJjbGVhblN0eWxlIiwibGV0dGVyQ291bnQiLCJzdHlsZVByb3BlcnR5VmFsdWUiLCJzdHlsZXNDb3VudCIsImFsbFN0eWxlT2JqZWN0UHJvcGVydGllc01hdGNoIiwiZ3JhcGhlbWVDb3VudCIsInJlbW92ZVN0eWxlIiwibGluZU51bSIsImNoYXJOdW0iLCJfZXh0ZW5kU3R5bGVzIiwiX2dldExpbmVTdHlsZSIsIl9zZXRMaW5lU3R5bGUiLCJfc2V0U3R5bGVEZWNsYXJhdGlvbiIsInNlbGVjdGlvblN0YXJ0Iiwic2tpcFdyYXBwaW5nIiwiZ2V0U2VsZWN0aW9uU3R5bGVzIiwic3RhcnRJbmRleCIsImVuZEluZGV4Iiwic2VsZWN0aW9uRW5kIiwiZ2V0U3R5bGVBdFBvc2l0aW9uIiwibGluZVN0eWxlIiwiX2RlbGV0ZVN0eWxlRGVjbGFyYXRpb24iLCJfZGVsZXRlTGluZVN0eWxlIiwicGFyc2VEZWNvcmF0aW9uIiwiSVRleHQiLCJlZGl0YWJsZSIsImVkaXRpbmdCb3JkZXJDb2xvciIsImN1cnNvckNvbG9yIiwiY3Vyc29yRGVsYXkiLCJjdXJzb3JEdXJhdGlvbiIsImNhY2hpbmciLCJoaWRkZW5UZXh0YXJlYUNvbnRhaW5lciIsIl9yZVNwYWNlIiwiX2N1cnJlbnRDdXJzb3JPcGFjaXR5IiwiX3NlbGVjdGlvbkRpcmVjdGlvbiIsIl9hYm9ydEN1cnNvckFuaW1hdGlvbiIsIl9fd2lkdGhPZlNwYWNlIiwiaW5Db21wb3NpdGlvbk1vZGUiLCJpbml0QmVoYXZpb3IiLCJzZXRTZWxlY3Rpb25TdGFydCIsIl91cGRhdGVBbmRGaXJlIiwic2V0U2VsZWN0aW9uRW5kIiwiX2ZpcmVTZWxlY3Rpb25DaGFuZ2VkIiwiX3VwZGF0ZVRleHRhcmVhIiwiaW5pdERlbGF5ZWRDdXJzb3IiLCJjdXJzb3JPZmZzZXRDYWNoZSIsInJlbmRlckN1cnNvck9yU2VsZWN0aW9uIiwic2tpcFJlc3RvcmUiLCJfY2xlYXJUZXh0QXJlYSIsImJvdW5kYXJpZXMiLCJfZ2V0Q3Vyc29yQm91bmRhcmllcyIsInJlbmRlckN1cnNvciIsInJlbmRlclNlbGVjdGlvbiIsIl9nZXRDdXJzb3JCb3VuZGFyaWVzT2Zmc2V0cyIsImN1cnNvclBvc2l0aW9uIiwiYm91bmQiLCJjdXJzb3JMb2NhdGlvbiIsImNoYXJIZWlnaHQiLCJfX2lzTW91c2Vkb3duIiwiaGlkZGVuVGV4dGFyZWEiLCJzdGFydExpbmUiLCJlbmRMaW5lIiwic3RhcnRDaGFyIiwiZW5kQ2hhciIsInJlYWxMaW5lSGVpZ2h0IiwibGluZU9mZnNldCIsImJveEVuZCIsImRyYXdXaWR0aCIsImRyYXdIZWlnaHQiLCJleHRyYVRvcCIsImNvbXBvc2l0aW9uQ29sb3IiLCJnZXRDdXJyZW50Q2hhckZvbnRTaXplIiwiY3AiLCJfZ2V0Q3VycmVudENoYXJJbmRleCIsImdldEN1cnJlbnRDaGFyQ29sb3IiLCJvYmpDb3B5IiwiaW5pdEFkZGVkSGFuZGxlciIsImluaXRSZW1vdmVkSGFuZGxlciIsImluaXRDdXJzb3JTZWxlY3Rpb25IYW5kbGVycyIsImluaXREb3VibGVDbGlja1NpbXVsYXRpb24iLCJtb3VzZU1vdmVIYW5kbGVyIiwiX2luaXRDYW52YXNIYW5kbGVycyIsIl9yZW1vdmVDYW52YXNIYW5kbGVycyIsIl90aWNrIiwiX2N1cnJlbnRUaWNrU3RhdGUiLCJfYW5pbWF0ZUN1cnNvciIsInRhcmdldE9wYWNpdHkiLCJjb21wbGV0ZU1ldGhvZCIsInRpY2tTdGF0ZSIsImlzQWJvcnRlZCIsIl9vblRpY2tDb21wbGV0ZSIsIl9jdXJzb3JUaW1lb3V0MSIsIl9jdXJyZW50VGlja0NvbXBsZXRlU3RhdGUiLCJyZXN0YXJ0IiwiZGVsYXkiLCJhYm9ydEN1cnNvckFuaW1hdGlvbiIsIl9jdXJzb3JUaW1lb3V0MiIsInNlbGVjdEFsbCIsImdldFNlbGVjdGVkVGV4dCIsImZpbmRXb3JkQm91bmRhcnlMZWZ0Iiwic3RhcnRGcm9tIiwiZmluZFdvcmRCb3VuZGFyeVJpZ2h0IiwiZmluZExpbmVCb3VuZGFyeUxlZnQiLCJmaW5kTGluZUJvdW5kYXJ5UmlnaHQiLCJzZWFyY2hXb3JkQm91bmRhcnkiLCJzZWxlY3RXb3JkIiwibmV3U2VsZWN0aW9uU3RhcnQiLCJuZXdTZWxlY3Rpb25FbmQiLCJzZWxlY3RMaW5lIiwiZW50ZXJFZGl0aW5nIiwiZXhpdEVkaXRpbmdPbk90aGVycyIsImluaXRIaWRkZW5UZXh0YXJlYSIsImZvY3VzIiwiX3NhdmVFZGl0aW5nUHJvcHMiLCJfc2V0RWRpdGluZ1Byb3BzIiwiX3RleHRCZWZvcmVFZGl0IiwiaW5pdE1vdXNlTW92ZUhhbmRsZXIiLCJhY3RpdmVFbGVtZW50IiwiZ2V0U2VsZWN0aW9uU3RhcnRGcm9tUG9pbnRlciIsImN1cnJlbnRTdGFydCIsImN1cnJlbnRFbmQiLCJfX3NlbGVjdGlvblN0YXJ0T25Nb3VzZURvd24iLCJyZXN0YXJ0Q3Vyc29ySWZOZWVkZWQiLCJmcm9tU3RyaW5nVG9HcmFwaGVtZVNlbGVjdGlvbiIsInNtYWxsZXJUZXh0U3RhcnQiLCJncmFwaGVtZVN0YXJ0Iiwic21hbGxlclRleHRFbmQiLCJmcm9tR3JhcGhlbWVUb1N0cmluZ1NlbGVjdGlvbiIsIm5ld1NlbGVjdGlvbiIsInVwZGF0ZVRleHRhcmVhUG9zaXRpb24iLCJ1cGRhdGVGcm9tVGV4dEFyZWEiLCJfY2FsY1RleHRhcmVhUG9zaXRpb24iLCJkZXNpcmVkUG9zaXRpb24iLCJjb21wb3NpdGlvblN0YXJ0IiwidXBwZXJDYW52YXMiLCJ1cHBlckNhbnZhc1dpZHRoIiwidXBwZXJDYW52YXNIZWlnaHQiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsIl9zYXZlZFByb3BzIiwiX3Jlc3RvcmVFZGl0aW5nUHJvcHMiLCJpc1RleHRDaGFuZ2VkIiwiX3JlbW92ZUV4dHJhbmVvdXNTdHlsZXMiLCJyZW1vdmVTdHlsZUZyb21UbyIsInN0eWxlT2JqIiwiY3Vyc29yU3RhcnQiLCJjdXJzb3JFbmQiLCJsaW5lU3RhcnQiLCJjaGFyU3RhcnQiLCJsaW5lRW5kIiwiY2hhckVuZCIsInNoaWZ0TGluZVN0eWxlcyIsIm51bWVyaWNDaGFyIiwiY2xvbmVkU3R5bGVzIiwibnVtZXJpY0xpbmUiLCJpbnNlcnROZXdsaW5lU3R5bGVPYmplY3QiLCJxdHkiLCJjb3BpZWRTdHlsZSIsImN1cnJlbnRDaGFyU3R5bGUiLCJuZXdMaW5lU3R5bGVzIiwic29tZXRoaW5nQWRkZWQiLCJpc0VuZE9mTGluZSIsIm51bUluZGV4Iiwic3R5bGVDYXJyaWVkT3ZlciIsImluc2VydENoYXJTdHlsZU9iamVjdCIsInF1YW50aXR5IiwiY3VycmVudExpbmVTdHlsZXMiLCJjdXJyZW50TGluZVN0eWxlc0Nsb25lZCIsIm51bWVyaWNJbmRleCIsIm5ld1N0eWxlIiwiaW5zZXJ0TmV3U3R5bGVCbG9jayIsImluc2VydGVkVGV4dCIsImN1cnNvckxvYyIsImFkZGVkTGluZXMiLCJsaW5lc0xlbmd0aCIsInNldFNlbGVjdGlvblN0YXJ0RW5kV2l0aFNoaWZ0Iiwic2V0U2VsZWN0aW9uSW5Cb3VuZGFyaWVzIiwiX19sYXN0Q2xpY2tUaW1lIiwiX19sYXN0TGFzdENsaWNrVGltZSIsIl9fbGFzdFBvaW50ZXIiLCJfX25ld0NsaWNrVGltZSIsIm5ld1BvaW50ZXIiLCJpc1RyaXBsZUNsaWNrIiwiX3N0b3BFdmVudCIsIl9fbGFzdElzRWRpdGluZyIsIl9fbGFzdFNlbGVjdGVkIiwiaW5pdE1vdXNlZG93bkhhbmRsZXIiLCJpbml0TW91c2V1cEhhbmRsZXIiLCJpbml0Q2xpY2tzIiwiZG91YmxlQ2xpY2tIYW5kbGVyIiwidHJpcGxlQ2xpY2tIYW5kbGVyIiwiX21vdXNlRG93bkhhbmRsZXIiLCJzZXRDdXJzb3JCeUNsaWNrIiwiX21vdXNlRG93bkhhbmRsZXJCZWZvcmUiLCJjdXJyZW50QWN0aXZlIiwibW91c2VPZmZzZXQiLCJwcmV2V2lkdGgiLCJfZ2V0TmV3U2VsZWN0aW9uU3RhcnRGcm9tT2Zmc2V0IiwiZGlzdGFuY2VCdHdMYXN0Q2hhckFuZEN1cnNvciIsImRpc3RhbmNlQnR3TmV4dENoYXJBbmRDdXJzb3IiLCJvbktleURvd24iLCJvbktleVVwIiwib25JbnB1dCIsImNvcHkiLCJwYXN0ZSIsIm9uQ29tcG9zaXRpb25TdGFydCIsIm9uQ29tcG9zaXRpb25VcGRhdGUiLCJvbkNvbXBvc2l0aW9uRW5kIiwiX2NsaWNrSGFuZGxlckluaXRpYWxpemVkIiwib25DbGljayIsImtleXNNYXAiLCJrZXlzTWFwUnRsIiwiY3RybEtleXNNYXBVcCIsImN0cmxLZXlzTWFwRG93biIsImtleU1hcCIsImtleUNvZGUiLCJjdHJsS2V5IiwibWV0YUtleSIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsIl9jb3B5RG9uZSIsImZyb21QYXN0ZSIsInJlbW92ZWRUZXh0IiwicmVtb3ZlRnJvbSIsInJlbW92ZVRvIiwibmV4dFRleHQiLCJjaGFyQ291bnQiLCJuZXh0Q2hhckNvdW50IiwiY2hhckRpZmYiLCJ0ZXh0YXJlYVNlbGVjdGlvbiIsImJhY2tEZWxldGUiLCJjb3BpZWRUZXh0IiwiY29waWVkVGV4dFN0eWxlIiwiY29tcG9zaXRpb25FbmQiLCJfZ2V0Q2xpcGJvYXJkRGF0YSIsImNsaXBib2FyZERhdGEiLCJfZ2V0V2lkdGhCZWZvcmVDdXJzb3IiLCJ3aWR0aEJlZm9yZUN1cnNvciIsImdldERvd25DdXJzb3JPZmZzZXQiLCJpc1JpZ2h0Iiwic2VsZWN0aW9uUHJvcCIsIl9nZXRTZWxlY3Rpb25Gb3JPZmZzZXQiLCJpbmRleE9uT3RoZXJMaW5lIiwiX2dldEluZGV4T25MaW5lIiwiZ2V0VXBDdXJzb3JPZmZzZXQiLCJ0ZXh0QmVmb3JlQ3Vyc29yIiwiY2hhcldpZHRoIiwiZm91bmRNYXRjaCIsIndpZHRoT2ZDaGFyc09uTGluZSIsImluZGV4T25MaW5lIiwibGVmdEVkZ2UiLCJyaWdodEVkZ2UiLCJvZmZzZXRGcm9tTGVmdEVkZ2UiLCJtb3ZlQ3Vyc29yRG93biIsIl9tb3ZlQ3Vyc29yVXBPckRvd24iLCJtb3ZlQ3Vyc29yVXAiLCJtb3ZlQ3Vyc29yV2l0aFNoaWZ0IiwibW92ZUN1cnNvcldpdGhvdXRTaGlmdCIsIm1vdmVDdXJzb3JMZWZ0IiwiX21vdmVDdXJzb3JMZWZ0T3JSaWdodCIsIl9tb3ZlIiwiX21vdmVMZWZ0IiwiX21vdmVSaWdodCIsIm1vdmVDdXJzb3JMZWZ0V2l0aG91dFNoaWZ0IiwiY2hhbmdlIiwibW92ZUN1cnNvckxlZnRXaXRoU2hpZnQiLCJtb3ZlQ3Vyc29yUmlnaHQiLCJtb3ZlQ3Vyc29yUmlnaHRXaXRoU2hpZnQiLCJtb3ZlQ3Vyc29yUmlnaHRXaXRob3V0U2hpZnQiLCJjaGFuZ2VkIiwicmVtb3ZlQ2hhcnMiLCJpbnNlcnRDaGFycyIsIl9nZXRTVkdMZWZ0VG9wT2Zmc2V0cyIsInRleHRBbmRCZyIsIl9nZXRTVkdUZXh0QW5kQmciLCJ0ZXh0VG9wIiwidGV4dExlZnQiLCJfd3JhcFNWR1RleHRBbmRCZyIsImxpbmVUb3AiLCJ0ZXh0U3BhbnMiLCJ0ZXh0VG9wT2Zmc2V0IiwidGV4dExlZnRPZmZzZXQiLCJfc2V0U1ZHVGV4dExpbmVCZyIsIl9zZXRTVkdUZXh0TGluZVRleHQiLCJfY3JlYXRlVGV4dENoYXJTcGFuIiwic3R5bGVEZWNsIiwic2hvdWxkVXNlV2hpdGVzcGFjZSIsInN0eWxlUHJvcHMiLCJmaWxsU3R5bGVzIiwiZHlTcGFuIiwiX3B1c2hUZXh0QmdSZWN0IiwiZmlsbENvbG9yIiwiX2dldFNWR0xpbmVUb3BPZmZzZXQiLCJsYXN0SGVpZ2h0IiwiVGV4dGJveCIsIm1pbldpZHRoIiwiZHluYW1pY01pbldpZHRoIiwiX19jYWNoZWRMaW5lcyIsIl93b3JkSm9pbmVycyIsInNwbGl0QnlHcmFwaGVtZSIsIl9zdHlsZU1hcCIsIl9nZW5lcmF0ZVN0eWxlTWFwIiwidGV4dEluZm8iLCJyZWFsTGluZUNvdW50IiwicmVhbExpbmVDaGFyQ291bnQiLCJpc1dyYXBwaW5nIiwibmV4dE9mZnNldCIsInNob3VsZExpbWl0IiwibWFwTmV4dExpbmUiLCJfd3JhcFRleHQiLCJkZXNpcmVkV2lkdGgiLCJ3cmFwcGVkIiwiX3dyYXBMaW5lIiwiX21lYXN1cmVXb3JkIiwid29yZCIsImNoYXJPZmZzZXQiLCJfbGluZSIsInJlc2VydmVkU3BhY2UiLCJ3b3JkcyIsImluZml4Iiwid29yZFdpZHRoIiwiaW5maXhXaWR0aCIsImxhcmdlc3RXb3JkV2lkdGgiLCJsaW5lSnVzdFN0YXJ0ZWQiLCJhZGRpdGlvbmFsU3BhY2UiLCJnZXRNaW5XaWR0aCIsImxpbmVzVG9LZWVwIiwic2NhbGVTa2V3U3R5bGVIYW5kbGVyIiwic2NhbGVTdHlsZUhhbmRsZXIiLCJvYmplY3RDb250cm9scyIsIm1sIiwibXIiLCJtYiIsIm10ciIsInRleHRCb3hDb250cm9scyIsInN0eWxlVGFnVHJhbnNmb3JtIiwic2V0QXR0cmlidXRlcyIsImluc2VydCIsImRvbUFQSSIsImluc2VydFN0eWxlRWxlbWVudCIsImxvY2FscyIsInN0eWxlc0luRE9NIiwiZ2V0SW5kZXhCeUlkZW50aWZpZXIiLCJtb2R1bGVzVG9Eb20iLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJiYXNlIiwiY291bnQiLCJpbmRleEJ5SWRlbnRpZmllciIsImNzcyIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwiYWRkRWxlbWVudFN0eWxlIiwiYnlJbmRleCIsImFwaSIsInVwZGF0ZSIsIm5ld09iaiIsImxhc3RJZGVudGlmaWVycyIsIm5ld0xpc3QiLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaW5kZXgiLCJzdHlsZVRhcmdldCIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsImdldFRhcmdldCIsInN0eWxlRWxlbWVudCIsIm5vbmNlIiwicmVtb3ZlU3R5bGVFbGVtZW50Iiwic3R5bGVTaGVldCIsImNyZWF0ZVRleHROb2RlIiwibG9hZGVyIiwiZ2V0RGF0YSIsImhpZGUiLCJnZXRDb2xvcnMiLCJfdXBiYXIiLCJfb2JqZWN0UHJvcGVydGllc0JhciIsImxvYWRGb250cyIsImZvbnRzIiwiaW5uZXJIVE1MIiwiZ2V0Q2FudmFzIiwibW91bnRFbGVtZW50IiwiX2Rvd25sb2FkZXIiLCJuYW1lIiwiZnVuYyIsImFkZFRleHQiLCJpY29uIiwiX3NlbGVjdGVkT2JqZWN0cyIsImFsaWduT2JqZWN0IiwiZG93bG9hZCIsImRlbGV0ZUxhc3RBY3RpdmVPYmplY3QiLCJtb3VudFBsYWNlIiwicmVuZGVyQ29udHJvbHMiLCJfY2FudmFzRWxlbWVudCIsImJsb2JJbWFnZSIsImhyZWYiLCJkb3dubG9hZCIsImNsaWNrIiwiY3JlYXRlTG9hZGVyTGFiZWwiLCJsYWJlbCIsImNyZWF0ZUxvYWRlciIsImluc2VydEFkamFjZW50SFRNTCIsImNvbG9ycyIsImNvbG9yS2V5IiwidmFsdWVzIiwiY2hhbmdlU2hhZG93IiwidXBkYXRlVmlzaWJpbGl0eSIsIm9wdGlvblRleHQiLCJvcHRpb25Db2xvcnMiLCJvcHRpb25Gb250cyIsIm9wdGlvblByaWNlIiwiYWRkT3B0aW9uRGl2Iiwib3B0aW9uRGl2IiwiYWRkT3B0aW9uIiwibGFiZWxUZXh0IiwibGFiZWxUZXh0RWxlbWVudCIsImFkZFJhbmdlIiwic3RlcCIsInJhbmdlIiwic2hvd1ByaWNlIiwib3B0aW9uRWxlbWVudCIsImlucHV0IiwicGxhY2Vob2xkZXIiLCJvbmlucHV0IiwiY2hhbmdlVGV4dCIsImdldFRleHQiLCJjb2xvclBpY2tCdXR0b25zIiwiY2hhbmdlRm9udCIsInByaWNlRGl2IiwicHJpY2UiLCJFUFNJTE9OIiwiZ2V0UHJpY2VUZXh0U2l6ZSIsImdldFByaWNlRWxlbWVudCIsInNoYWRvd1N0cmVuZ3RoIiwiY29sb3JPZlNoYWRvdyIsIl9jb2xvck9mU2hhZG93IiwidGV4dE9iaiIsIm9uY2xpY2siLCJfb25DbGljayIsIl9idXR0b25EaXYiLCJfc3BhbkVsZW1lbnQiLCJvbkhvdmVyU2hvd0hpZ2hlciIsImh0bWxFbCIsIm9uaG92ZXJaaW5kZXgiLCJub2hvdmVyWmluZGV4IiwiekluZGV4IiwiZm9udEZvckNvbnRyb2xzIiwic2l6ZVRvU3RyaW5nIiwiY29sb3JTY2hlbWUiLCJ0ZXh0V2lkdGgiLCJjYW52YXNDbGFzcyIsIm1ha2VDYW52YXNEaXYiLCJyZXNpemUiLCJnZXRTaXplIiwiYWRkVG9TY2VuZSIsImFkZFJlY3QiLCJ0ZXh0RWxlbWVudCIsInZlcnRpY2FsIiwid2lkZ2V0IiwiYmFzZUxvY2F0aW9uIiwic2VydmVyVXJsIiwiYmFzZUZvbnQiLCJwcmljZXMiLCJwcmljZTFtbSIsInByaWNlZm9yRWxlbWVudCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJyZXNwb25zZSIsImNvbCIsImZldGNoIiwic2V0SXRlbSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJnZXR0ZXIiLCJkZWZpbml0aW9uIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2xvYmFsVGhpcyIsIkZ1bmN0aW9uIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJzY3JpcHRVcmwiLCJpbXBvcnRTY3JpcHRzIiwibG9jYXRpb24iLCJjdXJyZW50U2NyaXB0Iiwic2NyaXB0cyIsImJhc2VVUkkiLCJuYyJdLCJzb3VyY2VSb290IjoiIn0=