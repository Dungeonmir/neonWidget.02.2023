/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var t={9948:(t,e,i)=>{"use strict";i.d(e,{Z:()=>a});var n=i(7537),r=i.n(n),o=i(3645),s=i.n(o)()(r());s.push([t.id,".bar{\n    flex-direction: row;\n    flex-wrap: wrap;\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n    width: 100%;\n    max-width: 500px;\n    margin: 1em auto;\n}","",{version:3,sources:["webpack://./src/components/Bar/bar.css"],names:[],mappings:"AAAA;IACI,mBAAmB;IACnB,eAAe;IACf,aAAa;IACb,6BAA6B;IAC7B,mBAAmB;IACnB,WAAW;IACX,gBAAgB;IAChB,gBAAgB;AACpB",sourcesContent:[".bar{\r\n    flex-direction: row;\r\n    flex-wrap: wrap;\r\n    display: flex;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    width: 100%;\r\n    max-width: 500px;\r\n    margin: 1em auto;\r\n}"],sourceRoot:""}]);const a=s},5804:(t,e,i)=>{"use strict";i.d(e,{Z:()=>a});var n=i(7537),r=i.n(n),o=i(3645),s=i.n(o)()(r());s.push([t.id,".colorPickButtons{\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    width: 100%;\n    margin: 0 auto;\n    gap: 10px;\n    justify-content: center;\n}\n\n.colorButton{\n    border: none;\n    border-radius: 2px;\n    filter: brightness(80%);\n    flex-basis: 20%;\n    margin: 0;\n}\n.colorButton:hover{\n    filter: brightness(100%);\n    transform: translate(0%, -5%);\n}\n.colorButton:active{\n    filter: brightness(60%);\n}\n","",{version:3,sources:["webpack://./src/components/ObjectProperties/ColorButtons/colorPickButton.css"],names:[],mappings:"AAAA;IACI,aAAa;IACb,mBAAmB;IACnB,eAAe;IACf,WAAW;IACX,cAAc;IACd,SAAS;IACT,uBAAuB;AAC3B;;AAEA;IACI,YAAY;IACZ,kBAAkB;IAClB,uBAAuB;IACvB,eAAe;IACf,SAAS;AACb;AACA;IACI,wBAAwB;IACxB,6BAA6B;AACjC;AACA;IACI,uBAAuB;AAC3B",sourcesContent:[".colorPickButtons{\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex-wrap: wrap;\r\n    width: 100%;\r\n    margin: 0 auto;\r\n    gap: 10px;\r\n    justify-content: center;\r\n}\r\n\r\n.colorButton{\r\n    border: none;\r\n    border-radius: 2px;\r\n    filter: brightness(80%);\r\n    flex-basis: 20%;\r\n    margin: 0;\r\n}\r\n.colorButton:hover{\r\n    filter: brightness(100%);\r\n    transform: translate(0%, -5%);\r\n}\r\n.colorButton:active{\r\n    filter: brightness(60%);\r\n}\r\n"],sourceRoot:""}]);const a=s},9943:(t,e,i)=>{"use strict";i.d(e,{Z:()=>a});var n=i(7537),r=i.n(n),o=i(3645),s=i.n(o)()(r());s.push([t.id,".objectProperties{\n    margin: 0 auto;\n}\n.option{\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    align-items: center;\n    justify-content: space-evenly;\n    max-width: 500px;\n    margin: 0 auto;\n    padding: 0.5em;\n}\n.subOption{\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    gap: 5px;\n    align-items: center;\n    justify-content: space-around;\n    width: 100%;\n}\n.label{\n    color: white;\n    background-color: #101010;\n    min-height: 4em;\n    max-width: 500px;\n    margin: 0 auto;\n    opacity: 1;\n    transition: 0.4s all;\n}\n.hidden{\n    visibility: hidden;\n    opacity: 0;\n    transition: 0.4s all;\n}\n\n.textarea{\n    background-color: #101010;\n    color: white;\n    transition: 0.4s all;\n    border-radius: 8px;\n    padding: 8px;\n    width: 100%;\n    margin: 1em;\n    resize: vertical;\n}\n.textarea:focus{\n    outline: none;\n    border: 1px white solid;\n    transition: 0.4s all;\n}\n\n.fontOption{\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    justify-content: center;\n    align-items: center;\n}\n\n.fontOptionButton{\n    flex: 25%;\n    height: 2.4em;\n    padding: 0.5em;\n    filter: brightness(80%);\n}\n.fontOptionButton:hover{\n    filter: brightness(120%);\n}\n\n.priceDiv{\n    font-size: 24px;\n}","",{version:3,sources:["webpack://./src/components/ObjectProperties/objectProperties.css"],names:[],mappings:"AAAA;IACI,cAAc;AAClB;AACA;IACI,aAAa;IACb,mBAAmB;IACnB,eAAe;IACf,mBAAmB;IACnB,6BAA6B;IAC7B,gBAAgB;IAChB,cAAc;IACd,cAAc;AAClB;AACA;IACI,aAAa;IACb,mBAAmB;IACnB,eAAe;IACf,QAAQ;IACR,mBAAmB;IACnB,6BAA6B;IAC7B,WAAW;AACf;AACA;IACI,YAAY;IACZ,yBAAyB;IACzB,eAAe;IACf,gBAAgB;IAChB,cAAc;IACd,UAAU;IACV,oBAAoB;AACxB;AACA;IACI,kBAAkB;IAClB,UAAU;IACV,oBAAoB;AACxB;;AAEA;IACI,yBAAyB;IACzB,YAAY;IACZ,oBAAoB;IACpB,kBAAkB;IAClB,YAAY;IACZ,WAAW;IACX,WAAW;IACX,gBAAgB;AACpB;AACA;IACI,aAAa;IACb,uBAAuB;IACvB,oBAAoB;AACxB;;AAEA;IACI,aAAa;IACb,mBAAmB;IACnB,eAAe;IACf,uBAAuB;IACvB,mBAAmB;AACvB;;AAEA;IACI,SAAS;IACT,aAAa;IACb,cAAc;IACd,uBAAuB;AAC3B;AACA;IACI,wBAAwB;AAC5B;;AAEA;IACI,eAAe;AACnB",sourcesContent:[".objectProperties{\r\n    margin: 0 auto;\r\n}\r\n.option{\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex-wrap: wrap;\r\n    align-items: center;\r\n    justify-content: space-evenly;\r\n    max-width: 500px;\r\n    margin: 0 auto;\r\n    padding: 0.5em;\r\n}\r\n.subOption{\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex-wrap: wrap;\r\n    gap: 5px;\r\n    align-items: center;\r\n    justify-content: space-around;\r\n    width: 100%;\r\n}\r\n.label{\r\n    color: white;\r\n    background-color: #101010;\r\n    min-height: 4em;\r\n    max-width: 500px;\r\n    margin: 0 auto;\r\n    opacity: 1;\r\n    transition: 0.4s all;\r\n}\r\n.hidden{\r\n    visibility: hidden;\r\n    opacity: 0;\r\n    transition: 0.4s all;\r\n}\r\n\r\n.textarea{\r\n    background-color: #101010;\r\n    color: white;\r\n    transition: 0.4s all;\r\n    border-radius: 8px;\r\n    padding: 8px;\r\n    width: 100%;\r\n    margin: 1em;\r\n    resize: vertical;\r\n}\r\n.textarea:focus{\r\n    outline: none;\r\n    border: 1px white solid;\r\n    transition: 0.4s all;\r\n}\r\n\r\n.fontOption{\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex-wrap: wrap;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.fontOptionButton{\r\n    flex: 25%;\r\n    height: 2.4em;\r\n    padding: 0.5em;\r\n    filter: brightness(80%);\r\n}\r\n.fontOptionButton:hover{\r\n    filter: brightness(120%);\r\n}\r\n\r\n.priceDiv{\r\n    font-size: 24px;\r\n}"],sourceRoot:""}]);const a=s},6967:(t,e,i)=>{"use strict";i.d(e,{Z:()=>a});var n=i(7537),r=i.n(n),o=i(3645),s=i.n(o)()(r());s.push([t.id,".btn{\n    border: 2px solid rgb(244, 67, 54);\n    background-color: rgb(3, 3, 3) ;\n    color: white;\n    padding: 3px;\n    margin: 5px;\n    min-width: 30px;\n    min-height: 30px;\n    fill: white;\n}\n.btn:active{\n    border-width: 3px;\n}\n.btn:hover{\n    cursor: pointer;\n}","",{version:3,sources:["webpack://./src/components/UI/Button/button.css"],names:[],mappings:"AAAA;IACI,kCAAkC;IAClC,+BAA+B;IAC/B,YAAY;IACZ,YAAY;IACZ,WAAW;IACX,eAAe;IACf,gBAAgB;IAChB,WAAW;AACf;AACA;IACI,iBAAiB;AACrB;AACA;IACI,eAAe;AACnB",sourcesContent:[".btn{\r\n    border: 2px solid rgb(244, 67, 54);\r\n    background-color: rgb(3, 3, 3) ;\r\n    color: white;\r\n    padding: 3px;\r\n    margin: 5px;\r\n    min-width: 30px;\r\n    min-height: 30px;\r\n    fill: white;\r\n}\r\n.btn:active{\r\n    border-width: 3px;\r\n}\r\n.btn:hover{\r\n    cursor: pointer;\r\n}"],sourceRoot:""}]);const a=s},7272:(t,e,i)=>{"use strict";i.d(e,{Z:()=>a});var n=i(7537),r=i.n(n),o=i(3645),s=i.n(o)()(r());s.push([t.id,'.tooltip{\n    position: relative;\n}\n.tooltipText{\n    width: fit-content;\n    background-color: black;\n    color: #fff;\n    text-align: center;\n    padding: 4px 8px;\n    border-radius: 8px;\n    position: absolute;\n    visibility: hidden;\n    opacity: 0;\n    transition: all 0.4s;\n    top: 100%;\n    left: 50%;\n    transform: translate(-50%, 10px);\n    border: 1px solid rgb(244, 67, 54);\n    pointer-events: none;\n    \n    font-size: 16px;\n}\n.tooltipText::after{\n    content: "";\n    position: absolute;\n    bottom: 100%;\n    left: 50%;\n    margin-left: -5px;\n    border-width: 5px;\n    border-style: solid;\n    border-color: transparent transparent rgb(244, 67, 54) transparent;\n}\n\n.tooltip:hover .tooltipText {\n    visibility: visible;\n    opacity: 1;\n    transition: all 0.4s;\n  }',"",{version:3,sources:["webpack://./src/components/UI/Tooltip/tooltip.css"],names:[],mappings:"AAAA;IACI,kBAAkB;AACtB;AACA;IACI,kBAAkB;IAClB,uBAAuB;IACvB,WAAW;IACX,kBAAkB;IAClB,gBAAgB;IAChB,kBAAkB;IAClB,kBAAkB;IAClB,kBAAkB;IAClB,UAAU;IACV,oBAAoB;IACpB,SAAS;IACT,SAAS;IACT,gCAAgC;IAChC,kCAAkC;IAClC,oBAAoB;;IAEpB,eAAe;AACnB;AACA;IACI,WAAW;IACX,kBAAkB;IAClB,YAAY;IACZ,SAAS;IACT,iBAAiB;IACjB,iBAAiB;IACjB,mBAAmB;IACnB,kEAAkE;AACtE;;AAEA;IACI,mBAAmB;IACnB,UAAU;IACV,oBAAoB;EACtB",sourcesContent:['.tooltip{\r\n    position: relative;\r\n}\r\n.tooltipText{\r\n    width: fit-content;\r\n    background-color: black;\r\n    color: #fff;\r\n    text-align: center;\r\n    padding: 4px 8px;\r\n    border-radius: 8px;\r\n    position: absolute;\r\n    visibility: hidden;\r\n    opacity: 0;\r\n    transition: all 0.4s;\r\n    top: 100%;\r\n    left: 50%;\r\n    transform: translate(-50%, 10px);\r\n    border: 1px solid rgb(244, 67, 54);\r\n    pointer-events: none;\r\n    \r\n    font-size: 16px;\r\n}\r\n.tooltipText::after{\r\n    content: "";\r\n    position: absolute;\r\n    bottom: 100%;\r\n    left: 50%;\r\n    margin-left: -5px;\r\n    border-width: 5px;\r\n    border-style: solid;\r\n    border-color: transparent transparent rgb(244, 67, 54) transparent;\r\n}\r\n\r\n.tooltip:hover .tooltipText {\r\n    visibility: visible;\r\n    opacity: 1;\r\n    transition: all 0.4s;\r\n  }'],sourceRoot:""}]);const a=s},890:(t,e,i)=>{"use strict";i.d(e,{Z:()=>I});var n=i(7537),r=i.n(n),o=i(3645),s=i.n(o),a=i(1667),h=i.n(a),c=new URL(i(3243),i.b),l=new URL(i(1400),i.b),u=new URL(i(6924),i.b),f=new URL(i(2563),i.b),d=new URL(i(8694),i.b),g=new URL(i(1345),i.b),p=new URL(i(4297),i.b),v=new URL(i(9123),i.b),m=new URL(i(8661),i.b),y=new URL(i(3965),i.b),_=new URL(i(8279),i.b),x=new URL(i(9340),i.b),b=s()(r()),C=h()(c),S=h()(l),w=h()(u),T=h()(f),A=h()(d),O=h()(g),k=h()(p),P=h()(v),E=h()(m),j=h()(y),M=h()(_),D=h()(x);b.push([t.id,`@font-face\n{\nfont-family: "RosaMarena";\nsrc: url(${C});\n}\n@font-face\n{\nfont-family: "StudioScriptCTT";  \nsrc: url(${S});\n}\n@font-face\n{\nfont-family: "Veles";\nsrc: url(${w});\n}\n@font-face\n{\nfont-family: "PFHandbookPro";\nsrc: url(${T});\n}@font-face\n{\nfont-family: "Nickainley";\nsrc: url(${A});\n}\n@font-face\n{\nfont-family: "MADELikes";\nsrc: url(${O});\n}\n@font-face\n{\nfont-family: "LDSlender";\nsrc: url(${k});\n}\n@font-face\n{\nfont-family: "Helvetica";\nsrc: url(${P});\n}\n@font-face\n{\nfont-family: "CitricaCyrillic";\nsrc: url(${E});\n}\n@font-face\n{\nfont-family: "BloggerSans";\nsrc: url(${j});\n}\n@font-face\n{\nfont-family: "Birch";\nsrc: url(${M});\n}\n@font-face\n{\nfont-family: "AmericanRetro";\nsrc: url(${D});\n}\n\n\n.neonWidget{\n    background-color: rgba(173, 126, 126, 0);\n    font-family: cursive;\n}\n\n.canvas-container{\n    margin: 0 auto;\n}`,"",{version:3,sources:["webpack://./src/styles/style.css"],names:[],mappings:"AAAA;;AAEA,yBAAyB;AACzB,4CAAmC;AACnC;AACA;;AAEA,8BAA8B;AAC9B,4CAAwC;AACxC;AACA;;AAEA,oBAAoB;AACpB,4CAA8B;AAC9B;AACA;;AAEA,4BAA4B;AAC5B,4CAAsC;AACtC,CAAC;;AAED,yBAAyB;AACzB,4CAAmC;AACnC;AACA;;AAEA,wBAAwB;AACxB,4CAAkC;AAClC;AACA;;AAEA,wBAAwB;AACxB,4CAAkC;AAClC;AACA;;AAEA,wBAAwB;AACxB,4CAAkC;AAClC;AACA;;AAEA,8BAA8B;AAC9B,4CAAwC;AACxC;AACA;;AAEA,0BAA0B;AAC1B,4CAAoC;AACpC;AACA;;AAEA,oBAAoB;AACpB,6CAA8B;AAC9B;AACA;;AAEA,4BAA4B;AAC5B,6CAAsC;AACtC;;;AAGA;IACI,wCAAwC;IACxC,oBAAoB;AACxB;;AAEA;IACI,cAAc;AAClB",sourcesContent:["@font-face\n{\nfont-family: \"RosaMarena\";\nsrc: url('../fonts/RosaMarena.ttf');\n}\n@font-face\n{\nfont-family: \"StudioScriptCTT\";  \nsrc: url('../fonts/StudioScriptCTT.ttf');\n}\n@font-face\n{\nfont-family: \"Veles\";\nsrc: url('../fonts/Veles.ttf');\n}\n@font-face\n{\nfont-family: \"PFHandbookPro\";\nsrc: url('../fonts/PFHandbookPro.ttf');\n}@font-face\n{\nfont-family: \"Nickainley\";\nsrc: url('../fonts/Nickainley.ttf');\n}\n@font-face\n{\nfont-family: \"MADELikes\";\nsrc: url('../fonts/MADELikes.ttf');\n}\n@font-face\n{\nfont-family: \"LDSlender\";\nsrc: url('../fonts/LDSlender.ttf');\n}\n@font-face\n{\nfont-family: \"Helvetica\";\nsrc: url('../fonts/Helvetica.ttf');\n}\n@font-face\n{\nfont-family: \"CitricaCyrillic\";\nsrc: url('../fonts/CitricaCyrillic.ttf');\n}\n@font-face\n{\nfont-family: \"BloggerSans\";\nsrc: url('../fonts/BloggerSans.ttf');\n}\n@font-face\n{\nfont-family: \"Birch\";\nsrc: url('../fonts/Birch.ttf');\n}\n@font-face\n{\nfont-family: \"AmericanRetro\";\nsrc: url('../fonts/AmericanRetro.ttf');\n}\n\n\n.neonWidget{\n    background-color: rgba(173, 126, 126, 0);\n    font-family: cursive;\n}\n\n.canvas-container{\n    margin: 0 auto;\n}"],sourceRoot:""}]);const I=b},3645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i="",n=void 0!==e[5];return e[4]&&(i+="@supports (".concat(e[4],") {")),e[2]&&(i+="@media ".concat(e[2]," {")),n&&(i+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),i+=t(e),n&&(i+="}"),e[2]&&(i+="}"),e[4]&&(i+="}"),i})).join("")},e.i=function(t,i,n,r,o){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(n)for(var a=0;a<this.length;a++){var h=this[a][0];null!=h&&(s[h]=!0)}for(var c=0;c<t.length;c++){var l=[].concat(t[c]);n&&s[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),i&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=i):l[2]=i),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),e.push(l))}},e}},1667:t=>{"use strict";t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},7537:t=>{"use strict";t.exports=function(t){var e=t[1],i=t[3];if(!i)return e;if("function"==typeof btoa){var n=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),o="/*# ".concat(r," */");return[e].concat([o]).join("\n")}return[e].join("\n")}},2777:(t,e,i)=>{var n,r,o,s,a,h,c,l,u,f,d,g,p,v,m,y,_,x,b,C,S,w,T=T||{version:"5.3.0"};if(e.fabric=T,"undefined"!=typeof document&&"undefined"!=typeof window)document instanceof("undefined"!=typeof HTMLDocument?HTMLDocument:Document)?T.document=document:T.document=document.implementation.createHTMLDocument(""),T.window=window;else{var A=new(i(4960).JSDOM)(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;T.document=A.document,T.jsdomImplForWrapper=i(6759).implForWrapper,T.nodeCanvas=i(6272).Canvas,T.window=A,DOMParser=T.window.DOMParser}function O(t,e){var i=t.canvas,n=e.targetCanvas,r=n.getContext("2d");r.translate(0,n.height),r.scale(1,-1);var o=i.height-n.height;r.drawImage(i,0,o,n.width,n.height,0,0,n.width,n.height)}function k(t,e){var i=e.targetCanvas.getContext("2d"),n=e.destinationWidth,r=e.destinationHeight,o=n*r*4,s=new Uint8Array(this.imageBuffer,0,o),a=new Uint8ClampedArray(this.imageBuffer,0,o);t.readPixels(0,0,n,r,t.RGBA,t.UNSIGNED_BYTE,s);var h=new ImageData(a,n,r);i.putImageData(h,0,0)}T.isTouchSupported="ontouchstart"in T.window||"ontouchstart"in T.document||T.window&&T.window.navigator&&T.window.navigator.maxTouchPoints>0,T.isLikelyNode="undefined"!=typeof Buffer&&"undefined"==typeof window,T.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],T.DPI=96,T.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",T.commaWsp="(?:\\s+,?\\s*|,\\s*)",T.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/gi,T.reNonWord=/[ \n\.,;!\?\-]/,T.fontPaths={},T.iMatrix=[1,0,0,1,0,0],T.svgNS="http://www.w3.org/2000/svg",T.perfLimitSizeTotal=2097152,T.maxCacheSideLimit=4096,T.minCacheSideLimit=256,T.charWidthsCache={},T.textureSize=2048,T.disableStyleCopyPaste=!1,T.enableGLFiltering=!0,T.devicePixelRatio=T.window.devicePixelRatio||T.window.webkitDevicePixelRatio||T.window.mozDevicePixelRatio||1,T.browserShadowBlurConstant=1,T.arcToSegmentsCache={},T.boundsOfCurveCache={},T.cachesBoundsOfCurve=!0,T.forceGLPutImageData=!1,T.initFilterBackend=function(){return T.enableGLFiltering&&T.isWebglSupported&&T.isWebglSupported(T.textureSize)?(console.log("max texture size: "+T.maxTextureSize),new T.WebglFilterBackend({tileSize:T.textureSize})):T.Canvas2dFilterBackend?new T.Canvas2dFilterBackend:void 0},"undefined"!=typeof document&&"undefined"!=typeof window&&(window.fabric=T),function(){function t(t,e){if(this.__eventListeners[t]){var i=this.__eventListeners[t];e?i[i.indexOf(e)]=!1:T.util.array.fill(i,!1)}}function e(t,e){var i=function(){e.apply(this,arguments),this.off(t,i)}.bind(this);this.on(t,i)}T.Observable={fire:function(t,e){if(!this.__eventListeners)return this;var i=this.__eventListeners[t];if(!i)return this;for(var n=0,r=i.length;n<r;n++)i[n]&&i[n].call(this,e||{});return this.__eventListeners[t]=i.filter((function(t){return!1!==t})),this},on:function(t,e){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var i in t)this.on(i,t[i]);else this.__eventListeners[t]||(this.__eventListeners[t]=[]),this.__eventListeners[t].push(e);return this},once:function(t,i){if(1===arguments.length)for(var n in t)e.call(this,n,t[n]);else e.call(this,t,i);return this},off:function(e,i){if(!this.__eventListeners)return this;if(0===arguments.length)for(e in this.__eventListeners)t.call(this,e);else if(1===arguments.length&&"object"==typeof arguments[0])for(var n in e)t.call(this,n,e[n]);else t.call(this,e,i);return this}}}(),T.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var t=0,e=arguments.length;t<e;t++)this._onObjectAdded(arguments[t]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(t,e,i){var n=this._objects;return i?n[e]=t:n.splice(e,0,t),this._onObjectAdded&&this._onObjectAdded(t),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var t,e=this._objects,i=!1,n=0,r=arguments.length;n<r;n++)-1!==(t=e.indexOf(arguments[n]))&&(i=!0,e.splice(t,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[n]));return this.renderOnAddRemove&&i&&this.requestRenderAll(),this},forEachObject:function(t,e){for(var i=this.getObjects(),n=0,r=i.length;n<r;n++)t.call(e,i[n],n,i);return this},getObjects:function(t){return void 0===t?this._objects.concat():this._objects.filter((function(e){return e.type===t}))},item:function(t){return this._objects[t]},isEmpty:function(){return 0===this._objects.length},size:function(){return this._objects.length},contains:function(t,e){return this._objects.indexOf(t)>-1||!!e&&this._objects.some((function(e){return"function"==typeof e.contains&&e.contains(t,!0)}))},complexity:function(){return this._objects.reduce((function(t,e){return t+(e.complexity?e.complexity():0)}),0)}},T.CommonMethods={_setOptions:function(t){for(var e in t)this.set(e,t[e])},_initGradient:function(t,e){!t||!t.colorStops||t instanceof T.Gradient||this.set(e,new T.Gradient(t))},_initPattern:function(t,e,i){!t||!t.source||t instanceof T.Pattern?i&&i():this.set(e,new T.Pattern(t,i))},_setObject:function(t){for(var e in t)this._set(e,t[e])},set:function(t,e){return"object"==typeof t?this._setObject(t):this._set(t,e),this},_set:function(t,e){this[t]=e},toggle:function(t){var e=this.get(t);return"boolean"==typeof e&&this.set(t,!e),this},get:function(t){return this[t]}},n=e,r=Math.sqrt,o=Math.atan2,s=Math.pow,a=Math.PI/180,h=Math.PI/2,T.util={cos:function(t){if(0===t)return 1;switch(t<0&&(t=-t),t/h){case 1:case 3:return 0;case 2:return-1}return Math.cos(t)},sin:function(t){if(0===t)return 0;var e=1;switch(t<0&&(e=-1),t/h){case 1:return e;case 2:return 0;case 3:return-e}return Math.sin(t)},removeFromArray:function(t,e){var i=t.indexOf(e);return-1!==i&&t.splice(i,1),t},getRandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},degreesToRadians:function(t){return t*a},radiansToDegrees:function(t){return t/a},rotatePoint:function(t,e,i){var n=new T.Point(t.x-e.x,t.y-e.y),r=T.util.rotateVector(n,i);return new T.Point(r.x,r.y).addEquals(e)},rotateVector:function(t,e){var i=T.util.sin(e),n=T.util.cos(e);return{x:t.x*n-t.y*i,y:t.x*i+t.y*n}},createVector:function(t,e){return new T.Point(e.x-t.x,e.y-t.y)},calcAngleBetweenVectors:function(t,e){return Math.acos((t.x*e.x+t.y*e.y)/(Math.hypot(t.x,t.y)*Math.hypot(e.x,e.y)))},getHatVector:function(t){return new T.Point(t.x,t.y).multiply(1/Math.hypot(t.x,t.y))},getBisector:function(t,e,i){var n=T.util.createVector(t,e),r=T.util.createVector(t,i),o=T.util.calcAngleBetweenVectors(n,r),s=o*(0===T.util.calcAngleBetweenVectors(T.util.rotateVector(n,o),r)?1:-1)/2;return{vector:T.util.getHatVector(T.util.rotateVector(n,s)),angle:o}},projectStrokeOnPoints:function(t,e,i){var n=[],r=e.strokeWidth/2,o=e.strokeUniform?new T.Point(1/e.scaleX,1/e.scaleY):new T.Point(1,1),s=function(t){var e=r/Math.hypot(t.x,t.y);return new T.Point(t.x*e*o.x,t.y*e*o.y)};return t.length<=1||t.forEach((function(a,h){var c,l,u=new T.Point(a.x,a.y);0===h?(l=t[h+1],c=i?s(T.util.createVector(l,u)).addEquals(u):t[t.length-1]):h===t.length-1?(c=t[h-1],l=i?s(T.util.createVector(c,u)).addEquals(u):t[0]):(c=t[h-1],l=t[h+1]);var f,d,g=T.util.getBisector(u,c,l),p=g.vector,v=g.angle;if("miter"===e.strokeLineJoin&&(f=-r/Math.sin(v/2),d=new T.Point(p.x*f*o.x,p.y*f*o.y),Math.hypot(d.x,d.y)/r<=e.strokeMiterLimit))return n.push(u.add(d)),void n.push(u.subtract(d));f=-r*Math.SQRT2,d=new T.Point(p.x*f*o.x,p.y*f*o.y),n.push(u.add(d)),n.push(u.subtract(d))})),n},transformPoint:function(t,e,i){return i?new T.Point(e[0]*t.x+e[2]*t.y,e[1]*t.x+e[3]*t.y):new T.Point(e[0]*t.x+e[2]*t.y+e[4],e[1]*t.x+e[3]*t.y+e[5])},makeBoundingBoxFromPoints:function(t,e){if(e)for(var i=0;i<t.length;i++)t[i]=T.util.transformPoint(t[i],e);var n=[t[0].x,t[1].x,t[2].x,t[3].x],r=T.util.array.min(n),o=T.util.array.max(n)-r,s=[t[0].y,t[1].y,t[2].y,t[3].y],a=T.util.array.min(s);return{left:r,top:a,width:o,height:T.util.array.max(s)-a}},invertTransform:function(t){var e=1/(t[0]*t[3]-t[1]*t[2]),i=[e*t[3],-e*t[1],-e*t[2],e*t[0]],n=T.util.transformPoint({x:t[4],y:t[5]},i,!0);return i[4]=-n.x,i[5]=-n.y,i},toFixed:function(t,e){return parseFloat(Number(t).toFixed(e))},parseUnit:function(t,e){var i=/\D{0,2}$/.exec(t),n=parseFloat(t);switch(e||(e=T.Text.DEFAULT_SVG_FONT_SIZE),i[0]){case"mm":return n*T.DPI/25.4;case"cm":return n*T.DPI/2.54;case"in":return n*T.DPI;case"pt":return n*T.DPI/72;case"pc":return n*T.DPI/72*12;case"em":return n*e;default:return n}},falseFunction:function(){return!1},getKlass:function(t,e){return t=T.util.string.camelize(t.charAt(0).toUpperCase()+t.slice(1)),T.util.resolveNamespace(e)[t]},getSvgAttributes:function(t){var e=["instantiated_by_use","style","id","class"];switch(t){case"linearGradient":e=e.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":e=e.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":e=e.concat(["offset","stop-color","stop-opacity"])}return e},resolveNamespace:function(t){if(!t)return T;var e,i=t.split("."),r=i.length,o=n||T.window;for(e=0;e<r;++e)o=o[i[e]];return o},loadImage:function(t,e,i,n){if(t){var r=T.util.createImage(),o=function(){e&&e.call(i,r,!1),r=r.onload=r.onerror=null};r.onload=o,r.onerror=function(){T.log("Error loading "+r.src),e&&e.call(i,null,!0),r=r.onload=r.onerror=null},0!==t.indexOf("data")&&null!=n&&(r.crossOrigin=n),"data:image/svg"===t.substring(0,14)&&(r.onload=null,T.util.loadImageInDom(r,o)),r.src=t}else e&&e.call(i,t)},loadImageInDom:function(t,e){var i=T.document.createElement("div");i.style.width=i.style.height="1px",i.style.left=i.style.top="-100%",i.style.position="absolute",i.appendChild(t),T.document.querySelector("body").appendChild(i),t.onload=function(){e(),i.parentNode.removeChild(i),i=null}},enlivenObjects:function(t,e,i,n){var r=[],o=0,s=(t=t||[]).length;function a(){++o===s&&e&&e(r.filter((function(t){return t})))}s?t.forEach((function(t,e){t&&t.type?T.util.getKlass(t.type,i).fromObject(t,(function(i,o){o||(r[e]=i),n&&n(t,i,o),a()})):a()})):e&&e(r)},enlivenObjectEnlivables:function(t,e,i){var n=T.Object.ENLIVEN_PROPS.filter((function(e){return!!t[e]}));T.util.enlivenObjects(n.map((function(e){return t[e]})),(function(t){var r={};n.forEach((function(i,n){r[i]=t[n],e&&(e[i]=t[n])})),i&&i(r)}))},enlivenPatterns:function(t,e){function i(){++r===o&&e&&e(n)}var n=[],r=0,o=(t=t||[]).length;o?t.forEach((function(t,e){t&&t.source?new T.Pattern(t,(function(t){n[e]=t,i()})):(n[e]=t,i())})):e&&e(n)},groupSVGElements:function(t,e,i){var n;return t&&1===t.length?(void 0!==i&&(t[0].sourcePath=i),t[0]):(e&&(e.width&&e.height?e.centerPoint={x:e.width/2,y:e.height/2}:(delete e.width,delete e.height)),n=new T.Group(t,e),void 0!==i&&(n.sourcePath=i),n)},populateWithProperties:function(t,e,i){if(i&&Array.isArray(i))for(var n=0,r=i.length;n<r;n++)i[n]in t&&(e[i[n]]=t[i[n]])},createCanvasElement:function(){return T.document.createElement("canvas")},copyCanvasElement:function(t){var e=T.util.createCanvasElement();return e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0),e},toDataURL:function(t,e,i){return t.toDataURL("image/"+e,i)},createImage:function(){return T.document.createElement("img")},multiplyTransformMatrices:function(t,e,i){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],i?0:t[0]*e[4]+t[2]*e[5]+t[4],i?0:t[1]*e[4]+t[3]*e[5]+t[5]]},qrDecompose:function(t){var e=o(t[1],t[0]),i=s(t[0],2)+s(t[1],2),n=r(i),h=(t[0]*t[3]-t[2]*t[1])/n,c=o(t[0]*t[2]+t[1]*t[3],i);return{angle:e/a,scaleX:n,scaleY:h,skewX:c/a,skewY:0,translateX:t[4],translateY:t[5]}},calcRotateMatrix:function(t){if(!t.angle)return T.iMatrix.concat();var e=T.util.degreesToRadians(t.angle),i=T.util.cos(e),n=T.util.sin(e);return[i,n,-n,i,0,0]},calcDimensionsMatrix:function(t){var e=void 0===t.scaleX?1:t.scaleX,i=void 0===t.scaleY?1:t.scaleY,n=[t.flipX?-e:e,0,0,t.flipY?-i:i,0,0],r=T.util.multiplyTransformMatrices,o=T.util.degreesToRadians;return t.skewX&&(n=r(n,[1,0,Math.tan(o(t.skewX)),1],!0)),t.skewY&&(n=r(n,[1,Math.tan(o(t.skewY)),0,1],!0)),n},composeMatrix:function(t){var e=[1,0,0,1,t.translateX||0,t.translateY||0],i=T.util.multiplyTransformMatrices;return t.angle&&(e=i(e,T.util.calcRotateMatrix(t))),(1!==t.scaleX||1!==t.scaleY||t.skewX||t.skewY||t.flipX||t.flipY)&&(e=i(e,T.util.calcDimensionsMatrix(t))),e},resetObjectTransform:function(t){t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.flipX=!1,t.flipY=!1,t.rotate(0)},saveObjectTransform:function(t){return{scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX,skewY:t.skewY,angle:t.angle,left:t.left,flipX:t.flipX,flipY:t.flipY,top:t.top}},isTransparent:function(t,e,i,n){n>0&&(e>n?e-=n:e=0,i>n?i-=n:i=0);var r,o=!0,s=t.getImageData(e,i,2*n||1,2*n||1),a=s.data.length;for(r=3;r<a&&0!=(o=s.data[r]<=0);r+=4);return s=null,o},parsePreserveAspectRatioAttribute:function(t){var e,i="meet",n=t.split(" ");return n&&n.length&&("meet"!==(i=n.pop())&&"slice"!==i?(e=i,i="meet"):n.length&&(e=n.pop())),{meetOrSlice:i,alignX:"none"!==e?e.slice(1,4):"none",alignY:"none"!==e?e.slice(5,8):"none"}},clearFabricFontCache:function(t){(t=(t||"").toLowerCase())?T.charWidthsCache[t]&&delete T.charWidthsCache[t]:T.charWidthsCache={}},limitDimsByArea:function(t,e){var i=Math.sqrt(e*t),n=Math.floor(e/i);return{x:Math.floor(i),y:n}},capValue:function(t,e,i){return Math.max(t,Math.min(e,i))},findScaleToFit:function(t,e){return Math.min(e.width/t.width,e.height/t.height)},findScaleToCover:function(t,e){return Math.max(e.width/t.width,e.height/t.height)},matrixToSVG:function(t){return"matrix("+t.map((function(t){return T.util.toFixed(t,T.Object.NUM_FRACTION_DIGITS)})).join(" ")+")"},removeTransformFromObject:function(t,e){var i=T.util.invertTransform(e),n=T.util.multiplyTransformMatrices(i,t.calcOwnMatrix());T.util.applyTransformToObject(t,n)},addTransformToObject:function(t,e){T.util.applyTransformToObject(t,T.util.multiplyTransformMatrices(e,t.calcOwnMatrix()))},applyTransformToObject:function(t,e){var i=T.util.qrDecompose(e),n=new T.Point(i.translateX,i.translateY);t.flipX=!1,t.flipY=!1,t.set("scaleX",i.scaleX),t.set("scaleY",i.scaleY),t.skewX=i.skewX,t.skewY=i.skewY,t.angle=i.angle,t.setPositionByOrigin(n,"center","center")},sizeAfterTransform:function(t,e,i){var n=t/2,r=e/2,o=[{x:-n,y:-r},{x:n,y:-r},{x:-n,y:r},{x:n,y:r}],s=T.util.calcDimensionsMatrix(i),a=T.util.makeBoundingBoxFromPoints(o,s);return{x:a.width,y:a.height}},mergeClipPaths:function(t,e){var i=t,n=e;i.inverted&&!n.inverted&&(i=e,n=t),T.util.applyTransformToObject(n,T.util.multiplyTransformMatrices(T.util.invertTransform(i.calcTransformMatrix()),n.calcTransformMatrix()));var r=i.inverted&&n.inverted;return r&&(i.inverted=n.inverted=!1),new T.Group([i],{clipPath:n,inverted:r})},hasStyleChanged:function(t,e,i){return i=i||!1,t.fill!==e.fill||t.stroke!==e.stroke||t.strokeWidth!==e.strokeWidth||t.fontSize!==e.fontSize||t.fontFamily!==e.fontFamily||t.fontWeight!==e.fontWeight||t.fontStyle!==e.fontStyle||t.textBackgroundColor!==e.textBackgroundColor||t.deltaY!==e.deltaY||i&&(t.overline!==e.overline||t.underline!==e.underline||t.linethrough!==e.linethrough)},stylesToArray:function(t,e){t=T.util.object.clone(t,!0);for(var i=e.split("\n"),n=-1,r={},o=[],s=0;s<i.length;s++)if(t[s])for(var a=0;a<i[s].length;a++){n++;var h=t[s][a];h&&Object.keys(h).length>0&&(T.util.hasStyleChanged(r,h,!0)?o.push({start:n,end:n+1,style:h}):o[o.length-1].end++),r=h||{}}else n+=i[s].length;return o},stylesFromArray:function(t,e){if(!Array.isArray(t))return t;for(var i=e.split("\n"),n=-1,r=0,o={},s=0;s<i.length;s++)for(var a=0;a<i[s].length;a++)n++,t[r]&&t[r].start<=n&&n<t[r].end&&(o[s]=o[s]||{},o[s][a]=Object.assign({},t[r].style),n===t[r].end-1&&r++);return o}},function(){var t=Array.prototype.join,e={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},i={m:"l",M:"L"};function n(t,e,i,n,r,o,s,a,h,c,l){var u=T.util.cos(t),f=T.util.sin(t),d=T.util.cos(e),g=T.util.sin(e),p=i*r*d-n*o*g+s,v=n*r*d+i*o*g+a;return["C",c+h*(-i*r*f-n*o*u),l+h*(-n*r*f+i*o*u),p+h*(i*r*g+n*o*d),v+h*(n*r*g-i*o*d),p,v]}function r(t,e,i,n){var r=Math.atan2(e,t),o=Math.atan2(n,i);return o>=r?o-r:2*Math.PI-(r-o)}function o(t,e,i){for(var o=i[1],s=i[2],a=i[3],h=i[4],c=i[5],l=function(t,e,i,o,s,a,h){var c=Math.PI,l=h*c/180,u=T.util.sin(l),f=T.util.cos(l),d=0,g=0,p=-f*t*.5-u*e*.5,v=-f*e*.5+u*t*.5,m=(i=Math.abs(i))*i,y=(o=Math.abs(o))*o,_=v*v,x=p*p,b=m*y-m*_-y*x,C=0;if(b<0){var S=Math.sqrt(1-b/(m*y));i*=S,o*=S}else C=(s===a?-1:1)*Math.sqrt(b/(m*_+y*x));var w=C*i*v/o,A=-C*o*p/i,O=f*w-u*A+.5*t,k=u*w+f*A+.5*e,P=r(1,0,(p-w)/i,(v-A)/o),E=r((p-w)/i,(v-A)/o,(-p-w)/i,(-v-A)/o);0===a&&E>0?E-=2*c:1===a&&E<0&&(E+=2*c);for(var j=Math.ceil(Math.abs(E/c*2)),M=[],D=E/j,I=8/3*Math.sin(D/4)*Math.sin(D/4)/Math.sin(D/2),B=P+D,F=0;F<j;F++)M[F]=n(P,B,f,u,i,o,O,k,I,d,g),d=M[F][5],g=M[F][6],P=B,B+=D;return M}(i[6]-t,i[7]-e,o,s,h,c,a),u=0,f=l.length;u<f;u++)l[u][1]+=t,l[u][2]+=e,l[u][3]+=t,l[u][4]+=e,l[u][5]+=t,l[u][6]+=e;return l}function s(t,e,i,n){return Math.sqrt((i-t)*(i-t)+(n-e)*(n-e))}function a(t,e,i,n,r,o,s,a){return function(h){var c,l=(c=h)*c*c,u=function(t){return 3*t*t*(1-t)}(h),f=function(t){return 3*t*(1-t)*(1-t)}(h),d=function(t){return(1-t)*(1-t)*(1-t)}(h);return{x:s*l+r*u+i*f+t*d,y:a*l+o*u+n*f+e*d}}}function h(t,e,i,n,r,o,s,a){return function(h){var c=1-h,l=3*c*c*(i-t)+6*c*h*(r-i)+3*h*h*(s-r),u=3*c*c*(n-e)+6*c*h*(o-n)+3*h*h*(a-o);return Math.atan2(u,l)}}function c(t,e,i,n,r,o){return function(s){var a,h=(a=s)*a,c=function(t){return 2*t*(1-t)}(s),l=function(t){return(1-t)*(1-t)}(s);return{x:r*h+i*c+t*l,y:o*h+n*c+e*l}}}function l(t,e,i,n,r,o){return function(s){var a=1-s,h=2*a*(i-t)+2*s*(r-i),c=2*a*(n-e)+2*s*(o-n);return Math.atan2(c,h)}}function u(t,e,i){var n,r,o={x:e,y:i},a=0;for(r=1;r<=100;r+=1)n=t(r/100),a+=s(o.x,o.y,n.x,n.y),o=n;return a}function f(t){for(var e,i,n,r,o=0,f=t.length,d=0,g=0,p=0,v=0,m=[],y=0;y<f;y++){switch(n={x:d,y:g,command:(e=t[y])[0]},e[0]){case"M":n.length=0,p=d=e[1],v=g=e[2];break;case"L":n.length=s(d,g,e[1],e[2]),d=e[1],g=e[2];break;case"C":i=a(d,g,e[1],e[2],e[3],e[4],e[5],e[6]),r=h(d,g,e[1],e[2],e[3],e[4],e[5],e[6]),n.iterator=i,n.angleFinder=r,n.length=u(i,d,g),d=e[5],g=e[6];break;case"Q":i=c(d,g,e[1],e[2],e[3],e[4]),r=l(d,g,e[1],e[2],e[3],e[4]),n.iterator=i,n.angleFinder=r,n.length=u(i,d,g),d=e[3],g=e[4];break;case"Z":case"z":n.destX=p,n.destY=v,n.length=s(d,g,p,v),d=p,g=v}o+=n.length,m.push(n)}return m.push({length:o,x:d,y:g}),m}T.util.joinPath=function(t){return t.map((function(t){return t.join(" ")})).join(" ")},T.util.parsePath=function(t){var n,r,o,s,a,h=[],c=[],l=T.rePathCommand,u="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",f="("+u+")"+T.commaWsp,d="([01])"+T.commaWsp+"?",g=new RegExp(f+"?"+f+"?"+f+d+d+f+"?("+u+")","g");if(!t||!t.match)return h;for(var p,v=0,m=(a=t.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi)).length;v<m;v++){s=(n=a[v]).slice(1).trim(),c.length=0;var y=n.charAt(0);if(p=[y],"a"===y.toLowerCase())for(var _;_=g.exec(s);)for(var x=1;x<_.length;x++)c.push(_[x]);else for(;o=l.exec(s);)c.push(o[0]);x=0;for(var b=c.length;x<b;x++)r=parseFloat(c[x]),isNaN(r)||p.push(r);var C=e[y.toLowerCase()],S=i[y]||y;if(p.length-1>C)for(var w=1,A=p.length;w<A;w+=C)h.push([y].concat(p.slice(w,w+C))),y=S;else h.push(p)}return h},T.util.makePathSimpler=function(t){var e,i,n,r,s,a,h=0,c=0,l=t.length,u=0,f=0,d=[];for(i=0;i<l;++i){switch(n=!1,(e=t[i].slice(0))[0]){case"l":e[0]="L",e[1]+=h,e[2]+=c;case"L":h=e[1],c=e[2];break;case"h":e[1]+=h;case"H":e[0]="L",e[2]=c,h=e[1];break;case"v":e[1]+=c;case"V":e[0]="L",c=e[1],e[1]=h,e[2]=c;break;case"m":e[0]="M",e[1]+=h,e[2]+=c;case"M":h=e[1],c=e[2],u=e[1],f=e[2];break;case"c":e[0]="C",e[1]+=h,e[2]+=c,e[3]+=h,e[4]+=c,e[5]+=h,e[6]+=c;case"C":s=e[3],a=e[4],h=e[5],c=e[6];break;case"s":e[0]="S",e[1]+=h,e[2]+=c,e[3]+=h,e[4]+=c;case"S":"C"===r?(s=2*h-s,a=2*c-a):(s=h,a=c),h=e[3],c=e[4],e[0]="C",e[5]=e[3],e[6]=e[4],e[3]=e[1],e[4]=e[2],e[1]=s,e[2]=a,s=e[3],a=e[4];break;case"q":e[0]="Q",e[1]+=h,e[2]+=c,e[3]+=h,e[4]+=c;case"Q":s=e[1],a=e[2],h=e[3],c=e[4];break;case"t":e[0]="T",e[1]+=h,e[2]+=c;case"T":"Q"===r?(s=2*h-s,a=2*c-a):(s=h,a=c),e[0]="Q",h=e[1],c=e[2],e[1]=s,e[2]=a,e[3]=h,e[4]=c;break;case"a":e[0]="A",e[6]+=h,e[7]+=c;case"A":n=!0,d=d.concat(o(h,c,e)),h=e[6],c=e[7];break;case"z":case"Z":h=u,c=f}n||d.push(e),r=e[0]}return d},T.util.getSmoothPathFromPoints=function(t,e){var i,n=[],r=new T.Point(t[0].x,t[0].y),o=new T.Point(t[1].x,t[1].y),s=t.length,a=1,h=0,c=s>2;for(e=e||0,c&&(a=t[2].x<o.x?-1:t[2].x===o.x?0:1,h=t[2].y<o.y?-1:t[2].y===o.y?0:1),n.push(["M",r.x-a*e,r.y-h*e]),i=1;i<s;i++){if(!r.eq(o)){var l=r.midPointFrom(o);n.push(["Q",r.x,r.y,l.x,l.y])}r=t[i],i+1<t.length&&(o=t[i+1])}return c&&(a=r.x>t[i-2].x?1:r.x===t[i-2].x?0:-1,h=r.y>t[i-2].y?1:r.y===t[i-2].y?0:-1),n.push(["L",r.x+a*e,r.y+h*e]),n},T.util.getPathSegmentsInfo=f,T.util.getBoundsOfCurve=function(e,i,n,r,o,s,a,h){var c;if(T.cachesBoundsOfCurve&&(c=t.call(arguments),T.boundsOfCurveCache[c]))return T.boundsOfCurveCache[c];var l,u,f,d,g,p,v,m,y=Math.sqrt,_=Math.min,x=Math.max,b=Math.abs,C=[],S=[[],[]];u=6*e-12*n+6*o,l=-3*e+9*n-9*o+3*a,f=3*n-3*e;for(var w=0;w<2;++w)if(w>0&&(u=6*i-12*r+6*s,l=-3*i+9*r-9*s+3*h,f=3*r-3*i),b(l)<1e-12){if(b(u)<1e-12)continue;0<(d=-f/u)&&d<1&&C.push(d)}else(v=u*u-4*f*l)<0||(0<(g=(-u+(m=y(v)))/(2*l))&&g<1&&C.push(g),0<(p=(-u-m)/(2*l))&&p<1&&C.push(p));for(var A,O,k,P=C.length,E=P;P--;)A=(k=1-(d=C[P]))*k*k*e+3*k*k*d*n+3*k*d*d*o+d*d*d*a,S[0][P]=A,O=k*k*k*i+3*k*k*d*r+3*k*d*d*s+d*d*d*h,S[1][P]=O;S[0][E]=e,S[1][E]=i,S[0][E+1]=a,S[1][E+1]=h;var j=[{x:_.apply(null,S[0]),y:_.apply(null,S[1])},{x:x.apply(null,S[0]),y:x.apply(null,S[1])}];return T.cachesBoundsOfCurve&&(T.boundsOfCurveCache[c]=j),j},T.util.getPointOnPath=function(t,e,i){i||(i=f(t));for(var n=0;e-i[n].length>0&&n<i.length-2;)e-=i[n].length,n++;var r,o=i[n],a=e/o.length,h=o.command,c=t[n];switch(h){case"M":return{x:o.x,y:o.y,angle:0};case"Z":case"z":return(r=new T.Point(o.x,o.y).lerp(new T.Point(o.destX,o.destY),a)).angle=Math.atan2(o.destY-o.y,o.destX-o.x),r;case"L":return(r=new T.Point(o.x,o.y).lerp(new T.Point(c[1],c[2]),a)).angle=Math.atan2(c[2]-o.y,c[1]-o.x),r;case"C":case"Q":return function(t,e){for(var i,n,r,o=0,a=0,h=t.iterator,c={x:t.x,y:t.y},l=.01,u=t.angleFinder;a<e&&l>1e-4;)i=h(o),r=o,(n=s(c.x,c.y,i.x,i.y))+a>e?(o-=l,l/=2):(c=i,o+=l,a+=n);return i.angle=u(r),i}(o,e)}},T.util.transformPath=function(t,e,i){return i&&(e=T.util.multiplyTransformMatrices(e,[1,0,0,1,-i.x,-i.y])),t.map((function(t){for(var i=t.slice(0),n={},r=1;r<t.length-1;r+=2)n.x=t[r],n.y=t[r+1],n=T.util.transformPoint(n,e),i[r]=n.x,i[r+1]=n.y;return i}))}}(),function(){var t=Array.prototype.slice;function e(t,e,i){if(t&&0!==t.length){var n=t.length-1,r=e?t[n][e]:t[n];if(e)for(;n--;)i(t[n][e],r)&&(r=t[n][e]);else for(;n--;)i(t[n],r)&&(r=t[n]);return r}}T.util.array={fill:function(t,e){for(var i=t.length;i--;)t[i]=e;return t},invoke:function(e,i){for(var n=t.call(arguments,2),r=[],o=0,s=e.length;o<s;o++)r[o]=n.length?e[o][i].apply(e[o],n):e[o][i].call(e[o]);return r},min:function(t,i){return e(t,i,(function(t,e){return t<e}))},max:function(t,i){return e(t,i,(function(t,e){return t>=e}))}}}(),function(){function t(e,i,n){if(n)if(!T.isLikelyNode&&i instanceof Element)e=i;else if(i instanceof Array){e=[];for(var r=0,o=i.length;r<o;r++)e[r]=t({},i[r],n)}else if(i&&"object"==typeof i)for(var s in i)"canvas"===s||"group"===s?e[s]=null:i.hasOwnProperty(s)&&(e[s]=t({},i[s],n));else e=i;else for(var s in i)e[s]=i[s];return e}T.util.object={extend:t,clone:function(e,i){return t({},e,i)}},T.util.object.extend(T.util,T.Observable)}(),function(){function t(t,e){var i=t.charCodeAt(e);if(isNaN(i))return"";if(i<55296||i>57343)return t.charAt(e);if(55296<=i&&i<=56319){if(t.length<=e+1)throw"High surrogate without following low surrogate";var n=t.charCodeAt(e+1);if(56320>n||n>57343)throw"High surrogate without following low surrogate";return t.charAt(e)+t.charAt(e+1)}if(0===e)throw"Low surrogate without preceding high surrogate";var r=t.charCodeAt(e-1);if(55296>r||r>56319)throw"Low surrogate without preceding high surrogate";return!1}T.util.string={camelize:function(t){return t.replace(/-+(.)?/g,(function(t,e){return e?e.toUpperCase():""}))},capitalize:function(t,e){return t.charAt(0).toUpperCase()+(e?t.slice(1):t.slice(1).toLowerCase())},escapeXml:function(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},graphemeSplit:function(e){var i,n=0,r=[];for(n=0;n<e.length;n++)!1!==(i=t(e,n))&&r.push(i);return r}}}(),function(){var t=Array.prototype.slice,e=function(){},i=function(){for(var t in{toString:1})if("toString"===t)return!1;return!0}(),n=function(t,e,n){for(var r in e)r in t.prototype&&"function"==typeof t.prototype[r]&&(e[r]+"").indexOf("callSuper")>-1?t.prototype[r]=function(t){return function(){var i=this.constructor.superclass;this.constructor.superclass=n;var r=e[t].apply(this,arguments);if(this.constructor.superclass=i,"initialize"!==t)return r}}(r):t.prototype[r]=e[r],i&&(e.toString!==Object.prototype.toString&&(t.prototype.toString=e.toString),e.valueOf!==Object.prototype.valueOf&&(t.prototype.valueOf=e.valueOf))};function r(){}function o(e){for(var i=null,n=this;n.constructor.superclass;){var r=n.constructor.superclass.prototype[e];if(n[e]!==r){i=r;break}n=n.constructor.superclass.prototype}return i?arguments.length>1?i.apply(this,t.call(arguments,1)):i.call(this):console.log("tried to callSuper "+e+", method not found in prototype chain",this)}T.util.createClass=function(){var i=null,s=t.call(arguments,0);function a(){this.initialize.apply(this,arguments)}"function"==typeof s[0]&&(i=s.shift()),a.superclass=i,a.subclasses=[],i&&(r.prototype=i.prototype,a.prototype=new r,i.subclasses.push(a));for(var h=0,c=s.length;h<c;h++)n(a,s[h],i);return a.prototype.initialize||(a.prototype.initialize=e),a.prototype.constructor=a,a.prototype.callSuper=o,a}}(),c=!!T.document.createElement("div").attachEvent,l=["touchstart","touchmove","touchend"],T.util.addListener=function(t,e,i,n){t&&t.addEventListener(e,i,!c&&n)},T.util.removeListener=function(t,e,i,n){t&&t.removeEventListener(e,i,!c&&n)},T.util.getPointer=function(t){var e=t.target,i=T.util.getScrollLeftTop(e),n=function(t){var e=t.changedTouches;return e&&e[0]?e[0]:t}(t);return{x:n.clientX+i.left,y:n.clientY+i.top}},T.util.isTouchEvent=function(t){return l.indexOf(t.type)>-1||"touch"===t.pointerType},f="string"==typeof(u=T.document.createElement("div")).style.opacity,d="string"==typeof u.style.filter,g=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,p=function(t){return t},f?p=function(t,e){return t.style.opacity=e,t}:d&&(p=function(t,e){var i=t.style;return t.currentStyle&&!t.currentStyle.hasLayout&&(i.zoom=1),g.test(i.filter)?(e=e>=.9999?"":"alpha(opacity="+100*e+")",i.filter=i.filter.replace(g,e)):i.filter+=" alpha(opacity="+100*e+")",t}),T.util.setStyle=function(t,e){var i=t.style;if(!i)return t;if("string"==typeof e)return t.style.cssText+=";"+e,e.indexOf("opacity")>-1?p(t,e.match(/opacity:\s*(\d?\.?\d*)/)[1]):t;for(var n in e)if("opacity"===n)p(t,e[n]);else{var r="float"===n||"cssFloat"===n?void 0===i.styleFloat?"cssFloat":"styleFloat":n;i.setProperty(r,e[n])}return t},function(){var t,e,i,n,r=Array.prototype.slice,o=function(t){return r.call(t,0)};try{t=o(T.document.childNodes)instanceof Array}catch(t){}function s(t,e){var i=T.document.createElement(t);for(var n in e)"class"===n?i.className=e[n]:"for"===n?i.htmlFor=e[n]:i.setAttribute(n,e[n]);return i}function a(t){for(var e=0,i=0,n=T.document.documentElement,r=T.document.body||{scrollLeft:0,scrollTop:0};t&&(t.parentNode||t.host)&&((t=t.parentNode||t.host)===T.document?(e=r.scrollLeft||n.scrollLeft||0,i=r.scrollTop||n.scrollTop||0):(e+=t.scrollLeft||0,i+=t.scrollTop||0),1!==t.nodeType||"fixed"!==t.style.position););return{left:e,top:i}}t||(o=function(t){for(var e=new Array(t.length),i=t.length;i--;)e[i]=t[i];return e}),e=T.document.defaultView&&T.document.defaultView.getComputedStyle?function(t,e){var i=T.document.defaultView.getComputedStyle(t,null);return i?i[e]:void 0}:function(t,e){var i=t.style[e];return!i&&t.currentStyle&&(i=t.currentStyle[e]),i},i=T.document.documentElement.style,n="userSelect"in i?"userSelect":"MozUserSelect"in i?"MozUserSelect":"WebkitUserSelect"in i?"WebkitUserSelect":"KhtmlUserSelect"in i?"KhtmlUserSelect":"",T.util.makeElementUnselectable=function(t){return void 0!==t.onselectstart&&(t.onselectstart=T.util.falseFunction),n?t.style[n]="none":"string"==typeof t.unselectable&&(t.unselectable="on"),t},T.util.makeElementSelectable=function(t){return void 0!==t.onselectstart&&(t.onselectstart=null),n?t.style[n]="":"string"==typeof t.unselectable&&(t.unselectable=""),t},T.util.setImageSmoothing=function(t,e){t.imageSmoothingEnabled=t.imageSmoothingEnabled||t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled||t.oImageSmoothingEnabled,t.imageSmoothingEnabled=e},T.util.getById=function(t){return"string"==typeof t?T.document.getElementById(t):t},T.util.toArray=o,T.util.addClass=function(t,e){t&&-1===(" "+t.className+" ").indexOf(" "+e+" ")&&(t.className+=(t.className?" ":"")+e)},T.util.makeElement=s,T.util.wrapElement=function(t,e,i){return"string"==typeof e&&(e=s(e,i)),t.parentNode&&t.parentNode.replaceChild(e,t),e.appendChild(t),e},T.util.getScrollLeftTop=a,T.util.getElementOffset=function(t){var i,n,r=t&&t.ownerDocument,o={left:0,top:0},s={left:0,top:0},h={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!r)return s;for(var c in h)s[h[c]]+=parseInt(e(t,c),10)||0;return i=r.documentElement,void 0!==t.getBoundingClientRect&&(o=t.getBoundingClientRect()),n=a(t),{left:o.left+n.left-(i.clientLeft||0)+s.left,top:o.top+n.top-(i.clientTop||0)+s.top}},T.util.getNodeCanvas=function(t){var e=T.jsdomImplForWrapper(t);return e._canvas||e._image},T.util.cleanUpJsdomNode=function(t){if(T.isLikelyNode){var e=T.jsdomImplForWrapper(t);e&&(e._image=null,e._canvas=null,e._currentSrc=null,e._attributes=null,e._classList=null)}}}(),function(){function t(){}T.util.request=function(e,i){i||(i={});var n=i.method?i.method.toUpperCase():"GET",r=i.onComplete||function(){},o=new T.window.XMLHttpRequest,s=i.body||i.parameters;return o.onreadystatechange=function(){4===o.readyState&&(r(o),o.onreadystatechange=t)},"GET"===n&&(s=null,"string"==typeof i.parameters&&(e=function(t,e){return t+(/\?/.test(t)?"&":"?")+e}(e,i.parameters))),o.open(n,e,!0),"POST"!==n&&"PUT"!==n||o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(s),o}}(),T.log=console.log,T.warn=console.warn,function(){var t=T.util.object.extend,e=T.util.object.clone,i=[];function n(){return!1}function r(t,e,i,n){return-i*Math.cos(t/n*(Math.PI/2))+i+e}T.util.object.extend(i,{cancelAll:function(){var t=this.splice(0);return t.forEach((function(t){t.cancel()})),t},cancelByCanvas:function(t){if(!t)return[];var e=this.filter((function(e){return"object"==typeof e.target&&e.target.canvas===t}));return e.forEach((function(t){t.cancel()})),e},cancelByTarget:function(t){var e=this.findAnimationsByTarget(t);return e.forEach((function(t){t.cancel()})),e},findAnimationIndex:function(t){return this.indexOf(this.findAnimation(t))},findAnimation:function(t){return this.find((function(e){return e.cancel===t}))},findAnimationsByTarget:function(t){return t?this.filter((function(e){return e.target===t})):[]}});var o=T.window.requestAnimationFrame||T.window.webkitRequestAnimationFrame||T.window.mozRequestAnimationFrame||T.window.oRequestAnimationFrame||T.window.msRequestAnimationFrame||function(t){return T.window.setTimeout(t,1e3/60)},s=T.window.cancelAnimationFrame||T.window.clearTimeout;function a(){return o.apply(T.window,arguments)}T.util.animate=function(i){i||(i={});var o,s=!1,h=function(){var t=T.runningAnimations.indexOf(o);return t>-1&&T.runningAnimations.splice(t,1)[0]};return o=t(e(i),{cancel:function(){return s=!0,h()},currentValue:"startValue"in i?i.startValue:0,completionRate:0,durationRate:0}),T.runningAnimations.push(o),a((function(t){var e,c=t||+new Date,l=i.duration||500,u=c+l,f=i.onChange||n,d=i.abort||n,g=i.onComplete||n,p=i.easing||r,v="startValue"in i&&i.startValue.length>0,m="startValue"in i?i.startValue:0,y="endValue"in i?i.endValue:100,_=i.byValue||(v?m.map((function(t,e){return y[e]-m[e]})):y-m);i.onStart&&i.onStart(),function t(i){var n=(e=i||+new Date)>u?l:e-c,r=n/l,x=v?m.map((function(t,e){return p(n,m[e],_[e],l)})):p(n,m,_,l),b=v?Math.abs((x[0]-m[0])/_[0]):Math.abs((x-m)/_);if(o.currentValue=v?x.slice():x,o.completionRate=b,o.durationRate=r,!s){if(!d(x,b,r))return e>u?(o.currentValue=v?y.slice():y,o.completionRate=1,o.durationRate=1,f(v?y.slice():y,1,1),g(y,1,1),void h()):(f(x,b,r),void a(t));h()}}(c)})),o.cancel},T.util.requestAnimFrame=a,T.util.cancelAnimFrame=function(){return s.apply(T.window,arguments)},T.runningAnimations=i}(),function(){function t(t,e,i){var n="rgba("+parseInt(t[0]+i*(e[0]-t[0]),10)+","+parseInt(t[1]+i*(e[1]-t[1]),10)+","+parseInt(t[2]+i*(e[2]-t[2]),10);return(n+=","+(t&&e?parseFloat(t[3]+i*(e[3]-t[3])):1))+")"}T.util.animateColor=function(e,i,n,r){var o=new T.Color(e).getSource(),s=new T.Color(i).getSource(),a=r.onComplete,h=r.onChange;return r=r||{},T.util.animate(T.util.object.extend(r,{duration:n||500,startValue:o,endValue:s,byValue:s,easing:function(e,i,n,o){return t(i,n,r.colorEasing?r.colorEasing(e,o):1-Math.cos(e/o*(Math.PI/2)))},onComplete:function(e,i,n){if(a)return a(t(s,s,0),i,n)},onChange:function(e,i,n){if(h){if(Array.isArray(e))return h(t(e,e,0),i,n);h(e,i,n)}}}))}}(),function(){function t(t,e,i,n){return t<Math.abs(e)?(t=e,n=i/4):n=0===e&&0===t?i/(2*Math.PI)*Math.asin(1):i/(2*Math.PI)*Math.asin(e/t),{a:t,c:e,p:i,s:n}}function e(t,e,i){return t.a*Math.pow(2,10*(e-=1))*Math.sin((e*i-t.s)*(2*Math.PI)/t.p)}function i(t,e,i,r){return i-n(r-t,0,i,r)+e}function n(t,e,i,n){return(t/=n)<1/2.75?i*(7.5625*t*t)+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e}T.util.ease={easeInQuad:function(t,e,i,n){return i*(t/=n)*t+e},easeOutQuad:function(t,e,i,n){return-i*(t/=n)*(t-2)+e},easeInOutQuad:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,i,n){return i*(t/=n)*t*t+e},easeOutCubic:function(t,e,i,n){return i*((t=t/n-1)*t*t+1)+e},easeInOutCubic:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,i,n){return i*(t/=n)*t*t*t+e},easeOutQuart:function(t,e,i,n){return-i*((t=t/n-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t*t+e:-i/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,i,n){return i*(t/=n)*t*t*t*t+e},easeOutQuint:function(t,e,i,n){return i*((t=t/n-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,i,n){return-i*Math.cos(t/n*(Math.PI/2))+i+e},easeOutSine:function(t,e,i,n){return i*Math.sin(t/n*(Math.PI/2))+e},easeInOutSine:function(t,e,i,n){return-i/2*(Math.cos(Math.PI*t/n)-1)+e},easeInExpo:function(t,e,i,n){return 0===t?e:i*Math.pow(2,10*(t/n-1))+e},easeOutExpo:function(t,e,i,n){return t===n?e+i:i*(1-Math.pow(2,-10*t/n))+e},easeInOutExpo:function(t,e,i,n){return 0===t?e:t===n?e+i:(t/=n/2)<1?i/2*Math.pow(2,10*(t-1))+e:i/2*(2-Math.pow(2,-10*--t))+e},easeInCirc:function(t,e,i,n){return-i*(Math.sqrt(1-(t/=n)*t)-1)+e},easeOutCirc:function(t,e,i,n){return i*Math.sqrt(1-(t=t/n-1)*t)+e},easeInOutCirc:function(t,e,i,n){return(t/=n/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+e:i/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(i,n,r,o){var s=0;return 0===i?n:1==(i/=o)?n+r:(s||(s=.3*o),-e(t(r,r,s,1.70158),i,o)+n)},easeOutElastic:function(e,i,n,r){var o=0;if(0===e)return i;if(1==(e/=r))return i+n;o||(o=.3*r);var s=t(n,n,o,1.70158);return s.a*Math.pow(2,-10*e)*Math.sin((e*r-s.s)*(2*Math.PI)/s.p)+s.c+i},easeInOutElastic:function(i,n,r,o){var s=0;if(0===i)return n;if(2==(i/=o/2))return n+r;s||(s=o*(.3*1.5));var a=t(r,r,s,1.70158);return i<1?-.5*e(a,i,o)+n:a.a*Math.pow(2,-10*(i-=1))*Math.sin((i*o-a.s)*(2*Math.PI)/a.p)*.5+a.c+n},easeInBack:function(t,e,i,n,r){return void 0===r&&(r=1.70158),i*(t/=n)*t*((r+1)*t-r)+e},easeOutBack:function(t,e,i,n,r){return void 0===r&&(r=1.70158),i*((t=t/n-1)*t*((r+1)*t+r)+1)+e},easeInOutBack:function(t,e,i,n,r){return void 0===r&&(r=1.70158),(t/=n/2)<1?i/2*(t*t*((1+(r*=1.525))*t-r))+e:i/2*((t-=2)*t*((1+(r*=1.525))*t+r)+2)+e},easeInBounce:i,easeOutBounce:n,easeInOutBounce:function(t,e,r,o){return t<o/2?.5*i(2*t,0,r,o)+e:.5*n(2*t-o,0,r,o)+.5*r+e}}}(),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.util.object.clone,r=e.util.toFixed,o=e.util.parseUnit,s=e.util.multiplyTransformMatrices,a={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},h={stroke:"strokeOpacity",fill:"fillOpacity"},c="font-size",l="clip-path";function u(t){return t in a?a[t]:t}function f(t,i,n,r){var a,h=Array.isArray(i);if("fill"!==t&&"stroke"!==t||"none"!==i){if("strokeUniform"===t)return"non-scaling-stroke"===i;if("strokeDashArray"===t)i="none"===i?null:i.replace(/,/g," ").split(/\s+/).map(parseFloat);else if("transformMatrix"===t)i=n&&n.transformMatrix?s(n.transformMatrix,e.parseTransformAttribute(i)):e.parseTransformAttribute(i);else if("visible"===t)i="none"!==i&&"hidden"!==i,n&&!1===n.visible&&(i=!1);else if("opacity"===t)i=parseFloat(i),n&&void 0!==n.opacity&&(i*=n.opacity);else if("textAnchor"===t)i="start"===i?"left":"end"===i?"right":"center";else if("charSpacing"===t)a=o(i,r)/r*1e3;else if("paintFirst"===t){var c=i.indexOf("fill"),l=i.indexOf("stroke");i="fill",(c>-1&&l>-1&&l<c||-1===c&&l>-1)&&(i="stroke")}else{if("href"===t||"xlink:href"===t||"font"===t)return i;if("imageSmoothing"===t)return"optimizeQuality"===i;a=h?i.map(o):o(i,r)}}else i="";return!h&&isNaN(a)?i:a}function d(t){return new RegExp("^("+t.join("|")+")\\b","i")}function g(t,e){var i,n,r,o,s=[];for(r=0,o=e.length;r<o;r++)i=e[r],n=t.getElementsByTagName(i),s=s.concat(Array.prototype.slice.call(n));return s}function p(t,e){var i,n=!0;return(i=v(t,e.pop()))&&e.length&&(n=function(t,e){for(var i,n=!0;t.parentNode&&1===t.parentNode.nodeType&&e.length;)n&&(i=e.pop()),n=v(t=t.parentNode,i);return 0===e.length}(t,e)),i&&n&&0===e.length}function v(t,e){var i,n,r=t.nodeName,o=t.getAttribute("class"),s=t.getAttribute("id");if(i=new RegExp("^"+r,"i"),e=e.replace(i,""),s&&e.length&&(i=new RegExp("#"+s+"(?![a-zA-Z\\-]+)","i"),e=e.replace(i,"")),o&&e.length)for(n=(o=o.split(" ")).length;n--;)i=new RegExp("\\."+o[n]+"(?![a-zA-Z\\-]+)","i"),e=e.replace(i,"");return 0===e.length}function m(t,e){var i;if(t.getElementById&&(i=t.getElementById(e)),i)return i;var n,r,o,s=t.getElementsByTagName("*");for(r=0,o=s.length;r<o;r++)if(e===(n=s[r]).getAttribute("id"))return n}e.svgValidTagNamesRegEx=d(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),e.svgViewBoxElementsRegEx=d(["symbol","image","marker","pattern","view","svg"]),e.svgInvalidAncestorsRegEx=d(["pattern","defs","symbol","metadata","clipPath","mask","desc"]),e.svgValidParentsRegEx=d(["symbol","g","a","svg","clipPath","defs"]),e.cssRules={},e.gradientDefs={},e.clipPaths={},e.parseTransformAttribute=function(){function t(t,i,n){t[n]=Math.tan(e.util.degreesToRadians(i[0]))}var i=e.iMatrix,n=e.reNum,r=e.commaWsp,o="(?:(?:(matrix)\\s*\\(\\s*("+n+")"+r+"("+n+")"+r+"("+n+")"+r+"("+n+")"+r+"("+n+")"+r+"("+n+")\\s*\\))|(?:(translate)\\s*\\(\\s*("+n+")(?:"+r+"("+n+"))?\\s*\\))|(?:(scale)\\s*\\(\\s*("+n+")(?:"+r+"("+n+"))?\\s*\\))|(?:(rotate)\\s*\\(\\s*("+n+")(?:"+r+"("+n+")"+r+"("+n+"))?\\s*\\))|(?:(skewX)\\s*\\(\\s*("+n+")\\s*\\))|(?:(skewY)\\s*\\(\\s*("+n+")\\s*\\)))",s=new RegExp("^\\s*(?:(?:"+o+"(?:"+r+"*"+o+")*)?)\\s*$"),a=new RegExp(o,"g");return function(n){var r=i.concat(),h=[];if(!n||n&&!s.test(n))return r;n.replace(a,(function(n){var s=new RegExp(o).exec(n).filter((function(t){return!!t})),a=s[1],c=s.slice(2).map(parseFloat);switch(a){case"translate":!function(t,e){t[4]=e[0],2===e.length&&(t[5]=e[1])}(r,c);break;case"rotate":c[0]=e.util.degreesToRadians(c[0]),function(t,i){var n=e.util.cos(i[0]),r=e.util.sin(i[0]),o=0,s=0;3===i.length&&(o=i[1],s=i[2]),t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t[4]=o-(n*o-r*s),t[5]=s-(r*o+n*s)}(r,c);break;case"scale":!function(t,e){var i=e[0],n=2===e.length?e[1]:e[0];t[0]=i,t[3]=n}(r,c);break;case"skewX":t(r,c,2);break;case"skewY":t(r,c,1);break;case"matrix":r=c}h.push(r.concat()),r=i.concat()}));for(var c=h[0];h.length>1;)h.shift(),c=e.util.multiplyTransformMatrices(c,h[0]);return c}}();var y=new RegExp("^\\s*("+e.reNum+"+)\\s*,?\\s*("+e.reNum+"+)\\s*,?\\s*("+e.reNum+"+)\\s*,?\\s*("+e.reNum+"+)\\s*$");function _(t){if(!e.svgViewBoxElementsRegEx.test(t.nodeName))return{};var i,n,r,s,a,h,c=t.getAttribute("viewBox"),l=1,u=1,f=t.getAttribute("width"),d=t.getAttribute("height"),g=t.getAttribute("x")||0,p=t.getAttribute("y")||0,v=t.getAttribute("preserveAspectRatio")||"",m=!c||!(c=c.match(y)),_=!f||!d||"100%"===f||"100%"===d,x=m&&_,b={},C="",S=0,w=0;if(b.width=0,b.height=0,b.toBeParsed=x,m&&(g||p)&&t.parentNode&&"#document"!==t.parentNode.nodeName&&(C=" translate("+o(g)+" "+o(p)+") ",a=(t.getAttribute("transform")||"")+C,t.setAttribute("transform",a),t.removeAttribute("x"),t.removeAttribute("y")),x)return b;if(m)return b.width=o(f),b.height=o(d),b;if(i=-parseFloat(c[1]),n=-parseFloat(c[2]),r=parseFloat(c[3]),s=parseFloat(c[4]),b.minX=i,b.minY=n,b.viewBoxWidth=r,b.viewBoxHeight=s,_?(b.width=r,b.height=s):(b.width=o(f),b.height=o(d),l=b.width/r,u=b.height/s),"none"!==(v=e.util.parsePreserveAspectRatioAttribute(v)).alignX&&("meet"===v.meetOrSlice&&(u=l=l>u?u:l),"slice"===v.meetOrSlice&&(u=l=l>u?l:u),S=b.width-r*l,w=b.height-s*l,"Mid"===v.alignX&&(S/=2),"Mid"===v.alignY&&(w/=2),"Min"===v.alignX&&(S=0),"Min"===v.alignY&&(w=0)),1===l&&1===u&&0===i&&0===n&&0===g&&0===p)return b;if((g||p)&&"#document"!==t.parentNode.nodeName&&(C=" translate("+o(g)+" "+o(p)+") "),a=C+" matrix("+l+" 0 0 "+u+" "+(i*l+S)+" "+(n*u+w)+") ","svg"===t.nodeName){for(h=t.ownerDocument.createElementNS(e.svgNS,"g");t.firstChild;)h.appendChild(t.firstChild);t.appendChild(h)}else(h=t).removeAttribute("x"),h.removeAttribute("y"),a=h.getAttribute("transform")+a;return h.setAttribute("transform",a),b}function x(t,e){var i="xlink:href",n=m(t,e.getAttribute(i).slice(1));if(n&&n.getAttribute(i)&&x(t,n),["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"].forEach((function(t){n&&!e.hasAttribute(t)&&n.hasAttribute(t)&&e.setAttribute(t,n.getAttribute(t))})),!e.children.length)for(var r=n.cloneNode(!0);r.firstChild;)e.appendChild(r.firstChild);e.removeAttribute(i)}e.parseSVGDocument=function(t,i,r,o){if(t){!function(t){for(var i=g(t,["use","svg:use"]),n=0;i.length&&n<i.length;){var r=i[n],o=r.getAttribute("xlink:href")||r.getAttribute("href");if(null===o)return;var s,a,h,c,l=o.slice(1),u=r.getAttribute("x")||0,f=r.getAttribute("y")||0,d=m(t,l).cloneNode(!0),p=(d.getAttribute("transform")||"")+" translate("+u+", "+f+")",v=i.length,y=e.svgNS;if(_(d),/^svg$/i.test(d.nodeName)){var x=d.ownerDocument.createElementNS(y,"g");for(a=0,c=(h=d.attributes).length;a<c;a++)s=h.item(a),x.setAttributeNS(y,s.nodeName,s.nodeValue);for(;d.firstChild;)x.appendChild(d.firstChild);d=x}for(a=0,c=(h=r.attributes).length;a<c;a++)"x"!==(s=h.item(a)).nodeName&&"y"!==s.nodeName&&"xlink:href"!==s.nodeName&&"href"!==s.nodeName&&("transform"===s.nodeName?p=s.nodeValue+" "+p:d.setAttribute(s.nodeName,s.nodeValue));d.setAttribute("transform",p),d.setAttribute("instantiated_by_use","1"),d.removeAttribute("id"),r.parentNode.replaceChild(d,r),i.length===v&&n++}}(t);var s,a,h=e.Object.__uid++,c=_(t),l=e.util.toArray(t.getElementsByTagName("*"));if(c.crossOrigin=o&&o.crossOrigin,c.svgUid=h,0===l.length&&e.isLikelyNode){var u=[];for(s=0,a=(l=t.selectNodes('//*[name(.)!="svg"]')).length;s<a;s++)u[s]=l[s];l=u}var f=l.filter((function(t){return _(t),e.svgValidTagNamesRegEx.test(t.nodeName.replace("svg:",""))&&!function(t,e){for(;t&&(t=t.parentNode);)if(t.nodeName&&e.test(t.nodeName.replace("svg:",""))&&!t.getAttribute("instantiated_by_use"))return!0;return!1}(t,e.svgInvalidAncestorsRegEx)}));if(!f||f&&!f.length)i&&i([],{});else{var d={};l.filter((function(t){return"clipPath"===t.nodeName.replace("svg:","")})).forEach((function(t){var i=t.getAttribute("id");d[i]=e.util.toArray(t.getElementsByTagName("*")).filter((function(t){return e.svgValidTagNamesRegEx.test(t.nodeName.replace("svg:",""))}))})),e.gradientDefs[h]=e.getGradientDefs(t),e.cssRules[h]=e.getCSSRules(t),e.clipPaths[h]=d,e.parseElements(f,(function(t,n){i&&(i(t,c,n,l),delete e.gradientDefs[h],delete e.cssRules[h],delete e.clipPaths[h])}),n(c),r,o)}}};var b=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+e.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+e.reNum+"))?\\s+(.*)");i(e,{parseFontDeclaration:function(t,e){var i=t.match(b);if(i){var n=i[1],r=i[3],s=i[4],a=i[5],h=i[6];n&&(e.fontStyle=n),r&&(e.fontWeight=isNaN(parseFloat(r))?r:parseFloat(r)),s&&(e.fontSize=o(s)),h&&(e.fontFamily=h),a&&(e.lineHeight="normal"===a?1:a)}},getGradientDefs:function(t){var e,i=g(t,["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"]),n=0,r={};for(n=i.length;n--;)(e=i[n]).getAttribute("xlink:href")&&x(t,e),r[e.getAttribute("id")]=e;return r},parseAttributes:function(t,n,s){if(t){var a,d,g,v={};void 0===s&&(s=t.getAttribute("svgUid")),t.parentNode&&e.svgValidParentsRegEx.test(t.parentNode.nodeName)&&(v=e.parseAttributes(t.parentNode,n,s));var m=n.reduce((function(e,i){return(a=t.getAttribute(i))&&(e[i]=a),e}),{}),y=i(function(t,i){var n={};for(var r in e.cssRules[i])if(p(t,r.split(" ")))for(var o in e.cssRules[i][r])n[o]=e.cssRules[i][r][o];return n}(t,s),e.parseStyleAttribute(t));m=i(m,y),y[l]&&t.setAttribute(l,y[l]),d=g=v.fontSize||e.Text.DEFAULT_SVG_FONT_SIZE,m[c]&&(m[c]=d=o(m[c],g));var _,x,b={};for(var C in m)x=f(_=u(C),m[C],v,d),b[_]=x;b&&b.font&&e.parseFontDeclaration(b.font,b);var S=i(v,b);return e.svgValidParentsRegEx.test(t.nodeName)?S:function(t){for(var i in h)if(void 0!==t[h[i]]&&""!==t[i]){if(void 0===t[i]){if(!e.Object.prototype[i])continue;t[i]=e.Object.prototype[i]}if(0!==t[i].indexOf("url(")){var n=new e.Color(t[i]);t[i]=n.setAlpha(r(n.getAlpha()*t[h[i]],2)).toRgba()}}return t}(S)}},parseElements:function(t,i,n,r,o){new e.ElementsParser(t,i,n,r,o).parse()},parseStyleAttribute:function(t){var e={},i=t.getAttribute("style");return i?("string"==typeof i?function(t,e){var i,n;t.replace(/;\s*$/,"").split(";").forEach((function(t){var r=t.split(":");i=r[0].trim().toLowerCase(),n=r[1].trim(),e[i]=n}))}(i,e):function(t,e){var i,n;for(var r in t)void 0!==t[r]&&(i=r.toLowerCase(),n=t[r],e[i]=n)}(i,e),e):e},parsePointsAttribute:function(t){if(!t)return null;var e,i,n=[];for(e=0,i=(t=(t=t.replace(/,/g," ").trim()).split(/\s+/)).length;e<i;e+=2)n.push({x:parseFloat(t[e]),y:parseFloat(t[e+1])});return n},getCSSRules:function(t){var i,n,r=t.getElementsByTagName("style"),o={};for(i=0,n=r.length;i<n;i++){var s=r[i].textContent;""!==(s=s.replace(/\/\*[\s\S]*?\*\//g,"")).trim()&&s.split("}").filter((function(t){return t.trim()})).forEach((function(t){var r=t.split("{"),s={},a=r[1].trim().split(";").filter((function(t){return t.trim()}));for(i=0,n=a.length;i<n;i++){var h=a[i].split(":"),c=h[0].trim(),l=h[1].trim();s[c]=l}(t=r[0].trim()).split(",").forEach((function(t){""!==(t=t.replace(/^svg/i,"").trim())&&(o[t]?e.util.object.extend(o[t],s):o[t]=e.util.object.clone(s))}))}))}return o},loadSVGFromURL:function(t,i,n,r){t=t.replace(/^\n\s*/,"").trim(),new e.util.request(t,{method:"get",onComplete:function(t){var o=t.responseXML;if(!o||!o.documentElement)return i&&i(null),!1;e.parseSVGDocument(o.documentElement,(function(t,e,n,r){i&&i(t,e,n,r)}),n,r)}})},loadSVGFromString:function(t,i,n,r){var o=(new e.window.DOMParser).parseFromString(t.trim(),"text/xml");e.parseSVGDocument(o.documentElement,(function(t,e,n,r){i(t,e,n,r)}),n,r)}})}(e),T.ElementsParser=function(t,e,i,n,r,o){this.elements=t,this.callback=e,this.options=i,this.reviver=n,this.svgUid=i&&i.svgUid||0,this.parsingOptions=r,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=o},(v=T.ElementsParser.prototype).parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},v.createObjects=function(){var t=this;this.elements.forEach((function(e,i){e.setAttribute("svgUid",t.svgUid),t.createObject(e,i)}))},v.findTag=function(t){return T[T.util.string.capitalize(t.tagName.replace("svg:",""))]},v.createObject=function(t,e){var i=this.findTag(t);if(i&&i.fromElement)try{i.fromElement(t,this.createCallback(e,t),this.options)}catch(t){T.log(t)}else this.checkIfDone()},v.createCallback=function(t,e){var i=this;return function(n){var r;i.resolveGradient(n,e,"fill"),i.resolveGradient(n,e,"stroke"),n instanceof T.Image&&n._originalElement&&(r=n.parsePreserveAspectRatioAttribute(e)),n._removeTransformMatrix(r),i.resolveClipPath(n,e),i.reviver&&i.reviver(e,n),i.instances[t]=n,i.checkIfDone()}},v.extractPropertyDefinition=function(t,e,i){var n=t[e],r=this.regexUrl;if(r.test(n)){r.lastIndex=0;var o=r.exec(n)[1];return r.lastIndex=0,T[i][this.svgUid][o]}},v.resolveGradient=function(t,e,i){var n=this.extractPropertyDefinition(t,i,"gradientDefs");if(n){var r=e.getAttribute(i+"-opacity"),o=T.Gradient.fromElement(n,t,r,this.options);t.set(i,o)}},v.createClipPathCallback=function(t,e){return function(t){t._removeTransformMatrix(),t.fillRule=t.clipRule,e.push(t)}},v.resolveClipPath=function(t,e){var i,n,r,o,s=this.extractPropertyDefinition(t,"clipPath","clipPaths");if(s){r=[],n=T.util.invertTransform(t.calcTransformMatrix());for(var a=s[0].parentNode,h=e;h.parentNode&&h.getAttribute("clip-path")!==t.clipPath;)h=h.parentNode;h.parentNode.appendChild(a);for(var c=0;c<s.length;c++)i=s[c],this.findTag(i).fromElement(i,this.createClipPathCallback(t,r),this.options);s=1===r.length?r[0]:new T.Group(r),o=T.util.multiplyTransformMatrices(n,s.calcTransformMatrix()),s.clipPath&&this.resolveClipPath(s,h);var l=T.util.qrDecompose(o);s.flipX=!1,s.flipY=!1,s.set("scaleX",l.scaleX),s.set("scaleY",l.scaleY),s.angle=l.angle,s.skewX=l.skewX,s.skewY=0,s.setPositionByOrigin({x:l.translateX,y:l.translateY},"center","center"),t.clipPath=s}else delete t.clipPath},v.checkIfDone=function(){0==--this.numElements&&(this.instances=this.instances.filter((function(t){return null!=t})),this.callback(this.instances,this.elements))},function(t){"use strict";var e=t.fabric||(t.fabric={});function i(t,e){this.x=t,this.y=e}e.Point?e.warn("fabric.Point is already defined"):(e.Point=i,i.prototype={type:"point",constructor:i,add:function(t){return new i(this.x+t.x,this.y+t.y)},addEquals:function(t){return this.x+=t.x,this.y+=t.y,this},scalarAdd:function(t){return new i(this.x+t,this.y+t)},scalarAddEquals:function(t){return this.x+=t,this.y+=t,this},subtract:function(t){return new i(this.x-t.x,this.y-t.y)},subtractEquals:function(t){return this.x-=t.x,this.y-=t.y,this},scalarSubtract:function(t){return new i(this.x-t,this.y-t)},scalarSubtractEquals:function(t){return this.x-=t,this.y-=t,this},multiply:function(t){return new i(this.x*t,this.y*t)},multiplyEquals:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return new i(this.x/t,this.y/t)},divideEquals:function(t){return this.x/=t,this.y/=t,this},eq:function(t){return this.x===t.x&&this.y===t.y},lt:function(t){return this.x<t.x&&this.y<t.y},lte:function(t){return this.x<=t.x&&this.y<=t.y},gt:function(t){return this.x>t.x&&this.y>t.y},gte:function(t){return this.x>=t.x&&this.y>=t.y},lerp:function(t,e){return void 0===e&&(e=.5),e=Math.max(Math.min(1,e),0),new i(this.x+(t.x-this.x)*e,this.y+(t.y-this.y)*e)},distanceFrom:function(t){var e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)},midPointFrom:function(t){return this.lerp(t)},min:function(t){return new i(Math.min(this.x,t.x),Math.min(this.y,t.y))},max:function(t){return new i(Math.max(this.x,t.x),Math.max(this.y,t.y))},toString:function(){return this.x+","+this.y},setXY:function(t,e){return this.x=t,this.y=e,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setFromPoint:function(t){return this.x=t.x,this.y=t.y,this},swap:function(t){var e=this.x,i=this.y;this.x=t.x,this.y=t.y,t.x=e,t.y=i},clone:function(){return new i(this.x,this.y)}})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});function i(t){this.status=t,this.points=[]}e.Intersection?e.warn("fabric.Intersection is already defined"):(e.Intersection=i,e.Intersection.prototype={constructor:i,appendPoint:function(t){return this.points.push(t),this},appendPoints:function(t){return this.points=this.points.concat(t),this}},e.Intersection.intersectLineLine=function(t,n,r,o){var s,a=(o.x-r.x)*(t.y-r.y)-(o.y-r.y)*(t.x-r.x),h=(n.x-t.x)*(t.y-r.y)-(n.y-t.y)*(t.x-r.x),c=(o.y-r.y)*(n.x-t.x)-(o.x-r.x)*(n.y-t.y);if(0!==c){var l=a/c,u=h/c;0<=l&&l<=1&&0<=u&&u<=1?(s=new i("Intersection")).appendPoint(new e.Point(t.x+l*(n.x-t.x),t.y+l*(n.y-t.y))):s=new i}else s=new i(0===a||0===h?"Coincident":"Parallel");return s},e.Intersection.intersectLinePolygon=function(t,e,n){var r,o,s,a,h=new i,c=n.length;for(a=0;a<c;a++)r=n[a],o=n[(a+1)%c],s=i.intersectLineLine(t,e,r,o),h.appendPoints(s.points);return h.points.length>0&&(h.status="Intersection"),h},e.Intersection.intersectPolygonPolygon=function(t,e){var n,r=new i,o=t.length;for(n=0;n<o;n++){var s=t[n],a=t[(n+1)%o],h=i.intersectLinePolygon(s,a,e);r.appendPoints(h.points)}return r.points.length>0&&(r.status="Intersection"),r},e.Intersection.intersectPolygonRectangle=function(t,n,r){var o=n.min(r),s=n.max(r),a=new e.Point(s.x,o.y),h=new e.Point(o.x,s.y),c=i.intersectLinePolygon(o,a,t),l=i.intersectLinePolygon(a,s,t),u=i.intersectLinePolygon(s,h,t),f=i.intersectLinePolygon(h,o,t),d=new i;return d.appendPoints(c.points),d.appendPoints(l.points),d.appendPoints(u.points),d.appendPoints(f.points),d.points.length>0&&(d.status="Intersection"),d})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});function i(t){t?this._tryParsingColor(t):this.setSource([0,0,0,1])}function n(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}e.Color?e.warn("fabric.Color is already defined."):(e.Color=i,e.Color.prototype={_tryParsingColor:function(t){var e;t in i.colorNameMap&&(t=i.colorNameMap[t]),"transparent"===t&&(e=[255,255,255,0]),e||(e=i.sourceFromHex(t)),e||(e=i.sourceFromRgb(t)),e||(e=i.sourceFromHsl(t)),e||(e=[0,0,0,1]),e&&this.setSource(e)},_rgbToHsl:function(t,i,n){t/=255,i/=255,n/=255;var r,o,s,a=e.util.array.max([t,i,n]),h=e.util.array.min([t,i,n]);if(s=(a+h)/2,a===h)r=o=0;else{var c=a-h;switch(o=s>.5?c/(2-a-h):c/(a+h),a){case t:r=(i-n)/c+(i<n?6:0);break;case i:r=(n-t)/c+2;break;case n:r=(t-i)/c+4}r/=6}return[Math.round(360*r),Math.round(100*o),Math.round(100*s)]},getSource:function(){return this._source},setSource:function(t){this._source=t},toRgb:function(){var t=this.getSource();return"rgb("+t[0]+","+t[1]+","+t[2]+")"},toRgba:function(){var t=this.getSource();return"rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")"},toHsl:function(){var t=this.getSource(),e=this._rgbToHsl(t[0],t[1],t[2]);return"hsl("+e[0]+","+e[1]+"%,"+e[2]+"%)"},toHsla:function(){var t=this.getSource(),e=this._rgbToHsl(t[0],t[1],t[2]);return"hsla("+e[0]+","+e[1]+"%,"+e[2]+"%,"+t[3]+")"},toHex:function(){var t,e,i,n=this.getSource();return t=1===(t=n[0].toString(16)).length?"0"+t:t,e=1===(e=n[1].toString(16)).length?"0"+e:e,i=1===(i=n[2].toString(16)).length?"0"+i:i,t.toUpperCase()+e.toUpperCase()+i.toUpperCase()},toHexa:function(){var t,e=this.getSource();return t=1===(t=(t=Math.round(255*e[3])).toString(16)).length?"0"+t:t,this.toHex()+t.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(t){var e=this.getSource();return e[3]=t,this.setSource(e),this},toGrayscale:function(){var t=this.getSource(),e=parseInt((.3*t[0]+.59*t[1]+.11*t[2]).toFixed(0),10),i=t[3];return this.setSource([e,e,e,i]),this},toBlackWhite:function(t){var e=this.getSource(),i=(.3*e[0]+.59*e[1]+.11*e[2]).toFixed(0),n=e[3];return t=t||127,i=Number(i)<Number(t)?0:255,this.setSource([i,i,i,n]),this},overlayWith:function(t){t instanceof i||(t=new i(t));var e,n=[],r=this.getAlpha(),o=this.getSource(),s=t.getSource();for(e=0;e<3;e++)n.push(Math.round(.5*o[e]+.5*s[e]));return n[3]=r,this.setSource(n),this}},e.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,e.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,e.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,e.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},e.Color.fromRgb=function(t){return i.fromSource(i.sourceFromRgb(t))},e.Color.sourceFromRgb=function(t){var e=t.match(i.reRGBa);if(e){var n=parseInt(e[1],10)/(/%$/.test(e[1])?100:1)*(/%$/.test(e[1])?255:1),r=parseInt(e[2],10)/(/%$/.test(e[2])?100:1)*(/%$/.test(e[2])?255:1),o=parseInt(e[3],10)/(/%$/.test(e[3])?100:1)*(/%$/.test(e[3])?255:1);return[parseInt(n,10),parseInt(r,10),parseInt(o,10),e[4]?parseFloat(e[4]):1]}},e.Color.fromRgba=i.fromRgb,e.Color.fromHsl=function(t){return i.fromSource(i.sourceFromHsl(t))},e.Color.sourceFromHsl=function(t){var e=t.match(i.reHSLa);if(e){var r,o,s,a=(parseFloat(e[1])%360+360)%360/360,h=parseFloat(e[2])/(/%$/.test(e[2])?100:1),c=parseFloat(e[3])/(/%$/.test(e[3])?100:1);if(0===h)r=o=s=c;else{var l=c<=.5?c*(h+1):c+h-c*h,u=2*c-l;r=n(u,l,a+1/3),o=n(u,l,a),s=n(u,l,a-1/3)}return[Math.round(255*r),Math.round(255*o),Math.round(255*s),e[4]?parseFloat(e[4]):1]}},e.Color.fromHsla=i.fromHsl,e.Color.fromHex=function(t){return i.fromSource(i.sourceFromHex(t))},e.Color.sourceFromHex=function(t){if(t.match(i.reHex)){var e=t.slice(t.indexOf("#")+1),n=3===e.length||4===e.length,r=8===e.length||4===e.length,o=n?e.charAt(0)+e.charAt(0):e.substring(0,2),s=n?e.charAt(1)+e.charAt(1):e.substring(2,4),a=n?e.charAt(2)+e.charAt(2):e.substring(4,6),h=r?n?e.charAt(3)+e.charAt(3):e.substring(6,8):"FF";return[parseInt(o,16),parseInt(s,16),parseInt(a,16),parseFloat((parseInt(h,16)/255).toFixed(2))]}},e.Color.fromSource=function(t){var e=new i;return e.setSource(t),e})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=["e","se","s","sw","w","nw","n","ne","e"],n=["ns","nesw","ew","nwse"],r={},o="left",s="top",a="right",h="bottom",c="center",l={top:h,bottom:s,left:a,right:o,center:c},u=e.util.radiansToDegrees,f=Math.sign||function(t){return(t>0)-(t<0)||+t};function d(t,e){var i=t.angle+u(Math.atan2(e.y,e.x))+360;return Math.round(i%360/45)}function g(t,i){var n=i.transform.target,r=n.canvas,o=e.util.object.clone(i);o.target=n,r&&r.fire("object:"+t,o),n.fire(t,i)}function p(t,e){var i=e.canvas,n=t[i.uniScaleKey];return i.uniformScaling&&!n||!i.uniformScaling&&n}function v(t){return t.originX===c&&t.originY===c}function m(t,e,i){var n=t.lockScalingX,r=t.lockScalingY;return!((!n||!r)&&(e||!n&&!r||!i)&&(!n||"x"!==e)&&(!r||"y"!==e))}function y(t,e,i,n){return{e:t,transform:e,pointer:{x:i,y:n}}}function _(t){return function(e,i,n,r){var o=i.target,s=o.getCenterPoint(),a=o.translateToOriginPoint(s,i.originX,i.originY),h=t(e,i,n,r);return o.setPositionByOrigin(a,i.originX,i.originY),h}}function x(t,e){return function(i,n,r,o){var s=e(i,n,r,o);return s&&g(t,y(i,n,r,o)),s}}function b(t,i,n,r,o){var s=t.target,a=s.controls[t.corner],h=s.canvas.getZoom(),c=s.padding/h,l=s.toLocalPoint(new e.Point(r,o),i,n);return l.x>=c&&(l.x-=c),l.x<=-c&&(l.x+=c),l.y>=c&&(l.y-=c),l.y<=c&&(l.y+=c),l.x-=a.offsetX,l.y-=a.offsetY,l}function C(t){return t.flipX!==t.flipY}function S(t,e,i,n,r){if(0!==t[e]){var o=r/t._getTransformedDimensions()[n]*t[i];t.set(i,o)}}function w(t,e,i,n){var r,c=e.target,l=c._getTransformedDimensions(0,c.skewY),f=b(e,e.originX,e.originY,i,n),d=Math.abs(2*f.x)-l.x,g=c.skewX;d<2?r=0:(r=u(Math.atan2(d/c.scaleX,l.y/c.scaleY)),e.originX===o&&e.originY===h&&(r=-r),e.originX===a&&e.originY===s&&(r=-r),C(c)&&(r=-r));var p=g!==r;if(p){var v=c._getTransformedDimensions().y;c.set("skewX",r),S(c,"skewY","scaleY","y",v)}return p}function T(t,e,i,n){var r,c=e.target,l=c._getTransformedDimensions(c.skewX,0),f=b(e,e.originX,e.originY,i,n),d=Math.abs(2*f.y)-l.y,g=c.skewY;d<2?r=0:(r=u(Math.atan2(d/c.scaleY,l.x/c.scaleX)),e.originX===o&&e.originY===h&&(r=-r),e.originX===a&&e.originY===s&&(r=-r),C(c)&&(r=-r));var p=g!==r;if(p){var v=c._getTransformedDimensions().x;c.set("skewY",r),S(c,"skewX","scaleX","x",v)}return p}function A(t,e,i,n,r){r=r||{};var o,s,a,h,c,u,d=e.target,g=d.lockScalingX,y=d.lockScalingY,_=r.by,x=p(t,d),C=m(d,_,x),S=e.gestureScale;if(C)return!1;if(S)s=e.scaleX*S,a=e.scaleY*S;else{if(o=b(e,e.originX,e.originY,i,n),c="y"!==_?f(o.x):1,u="x"!==_?f(o.y):1,e.signX||(e.signX=c),e.signY||(e.signY=u),d.lockScalingFlip&&(e.signX!==c||e.signY!==u))return!1;if(h=d._getTransformedDimensions(),x&&!_){var w=Math.abs(o.x)+Math.abs(o.y),T=e.original,A=w/(Math.abs(h.x*T.scaleX/d.scaleX)+Math.abs(h.y*T.scaleY/d.scaleY));s=T.scaleX*A,a=T.scaleY*A}else s=Math.abs(o.x*d.scaleX/h.x),a=Math.abs(o.y*d.scaleY/h.y);v(e)&&(s*=2,a*=2),e.signX!==c&&"y"!==_&&(e.originX=l[e.originX],s*=-1,e.signX=c),e.signY!==u&&"x"!==_&&(e.originY=l[e.originY],a*=-1,e.signY=u)}var O=d.scaleX,k=d.scaleY;return _?("x"===_&&d.set("scaleX",s),"y"===_&&d.set("scaleY",a)):(!g&&d.set("scaleX",s),!y&&d.set("scaleY",a)),O!==d.scaleX||k!==d.scaleY}r.scaleCursorStyleHandler=function(t,e,n){var r=p(t,n),o="";if(0!==e.x&&0===e.y?o="x":0===e.x&&0!==e.y&&(o="y"),m(n,o,r))return"not-allowed";var s=d(n,e);return i[s]+"-resize"},r.skewCursorStyleHandler=function(t,e,i){var r="not-allowed";if(0!==e.x&&i.lockSkewingY)return r;if(0!==e.y&&i.lockSkewingX)return r;var o=d(i,e)%4;return n[o]+"-resize"},r.scaleSkewCursorStyleHandler=function(t,e,i){return t[i.canvas.altActionKey]?r.skewCursorStyleHandler(t,e,i):r.scaleCursorStyleHandler(t,e,i)},r.rotationWithSnapping=x("rotating",_((function(t,e,i,n){var r=e,o=r.target,s=o.translateToOriginPoint(o.getCenterPoint(),r.originX,r.originY);if(o.lockRotation)return!1;var a,h=Math.atan2(r.ey-s.y,r.ex-s.x),c=Math.atan2(n-s.y,i-s.x),l=u(c-h+r.theta);if(o.snapAngle>0){var f=o.snapAngle,d=o.snapThreshold||f,g=Math.ceil(l/f)*f,p=Math.floor(l/f)*f;Math.abs(l-p)<d?l=p:Math.abs(l-g)<d&&(l=g)}return l<0&&(l=360+l),l%=360,a=o.angle!==l,o.angle=l,a}))),r.scalingEqually=x("scaling",_((function(t,e,i,n){return A(t,e,i,n)}))),r.scalingX=x("scaling",_((function(t,e,i,n){return A(t,e,i,n,{by:"x"})}))),r.scalingY=x("scaling",_((function(t,e,i,n){return A(t,e,i,n,{by:"y"})}))),r.scalingYOrSkewingX=function(t,e,i,n){return t[e.target.canvas.altActionKey]?r.skewHandlerX(t,e,i,n):r.scalingY(t,e,i,n)},r.scalingXOrSkewingY=function(t,e,i,n){return t[e.target.canvas.altActionKey]?r.skewHandlerY(t,e,i,n):r.scalingX(t,e,i,n)},r.changeWidth=x("resizing",_((function(t,e,i,n){var r=e.target,o=b(e,e.originX,e.originY,i,n),s=r.strokeWidth/(r.strokeUniform?r.scaleX:1),a=v(e)?2:1,h=r.width,c=Math.abs(o.x*a/r.scaleX)-s;return r.set("width",Math.max(c,0)),h!==c}))),r.skewHandlerX=function(t,e,i,n){var r,h=e.target,l=h.skewX,u=e.originY;return!h.lockSkewingX&&(0===l?r=b(e,c,c,i,n).x>0?o:a:(l>0&&(r=u===s?o:a),l<0&&(r=u===s?a:o),C(h)&&(r=r===o?a:o)),e.originX=r,x("skewing",_(w))(t,e,i,n))},r.skewHandlerY=function(t,e,i,n){var r,a=e.target,l=a.skewY,u=e.originX;return!a.lockSkewingY&&(0===l?r=b(e,c,c,i,n).y>0?s:h:(l>0&&(r=u===o?s:h),l<0&&(r=u===o?h:s),C(a)&&(r=r===s?h:s)),e.originY=r,x("skewing",_(T))(t,e,i,n))},r.dragHandler=function(t,e,i,n){var r=e.target,o=i-e.offsetX,s=n-e.offsetY,a=!r.get("lockMovementX")&&r.left!==o,h=!r.get("lockMovementY")&&r.top!==s;return a&&r.set("left",o),h&&r.set("top",s),(a||h)&&g("moving",y(t,e,i,n)),a||h},r.scaleOrSkewActionName=function(t,e,i){var n=t[i.canvas.altActionKey];return 0===e.x?n?"skewX":"scaleY":0===e.y?n?"skewY":"scaleX":void 0},r.rotationStyleHandler=function(t,e,i){return i.lockRotation?"not-allowed":e.cursorStyle},r.fireEvent=g,r.wrapWithFixedAnchor=_,r.wrapWithFireEvent=x,r.getLocalPoint=b,e.controlsUtils=r}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.degreesToRadians,n=e.controlsUtils;n.renderCircleControl=function(t,e,i,n,r){n=n||{};var o,s=this.sizeX||n.cornerSize||r.cornerSize,a=this.sizeY||n.cornerSize||r.cornerSize,h=void 0!==n.transparentCorners?n.transparentCorners:r.transparentCorners,c=h?"stroke":"fill",l=!h&&(n.cornerStrokeColor||r.cornerStrokeColor),u=e,f=i;t.save(),t.fillStyle=n.cornerColor||r.cornerColor,t.strokeStyle=n.cornerStrokeColor||r.cornerStrokeColor,s>a?(o=s,t.scale(1,a/s),f=i*s/a):a>s?(o=a,t.scale(s/a,1),u=e*a/s):o=s,t.lineWidth=1,t.beginPath(),t.arc(u,f,o/2,0,2*Math.PI,!1),t[c](),l&&t.stroke(),t.restore()},n.renderSquareControl=function(t,e,n,r,o){r=r||{};var s=this.sizeX||r.cornerSize||o.cornerSize,a=this.sizeY||r.cornerSize||o.cornerSize,h=void 0!==r.transparentCorners?r.transparentCorners:o.transparentCorners,c=h?"stroke":"fill",l=!h&&(r.cornerStrokeColor||o.cornerStrokeColor),u=s/2,f=a/2;t.save(),t.fillStyle=r.cornerColor||o.cornerColor,t.strokeStyle=r.cornerStrokeColor||o.cornerStrokeColor,t.lineWidth=1,t.translate(e,n),t.rotate(i(o.angle)),t[c+"Rect"](-u,-f,s,a),l&&t.strokeRect(-u,-f,s,a),t.restore()}}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Control=function(t){for(var e in t)this[e]=t[e]},e.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(t,e){return e.cursorStyle},getActionName:function(t,e){return e.actionName},getVisibility:function(t,e){var i=t._controlsVisibility;return i&&void 0!==i[e]?i[e]:this.visible},setVisibility:function(t){this.visible=t},positionHandler:function(t,i){return e.util.transformPoint({x:this.x*t.x+this.offsetX,y:this.y*t.y+this.offsetY},i)},calcCornerCoords:function(t,i,n,r,o){var s,a,h,c,l=o?this.touchSizeX:this.sizeX,u=o?this.touchSizeY:this.sizeY;if(l&&u&&l!==u){var f=Math.atan2(u,l),d=Math.sqrt(l*l+u*u)/2,g=f-e.util.degreesToRadians(t),p=Math.PI/2-f-e.util.degreesToRadians(t);s=d*e.util.cos(g),a=d*e.util.sin(g),h=d*e.util.cos(p),c=d*e.util.sin(p)}else d=.7071067812*(l&&u?l:i),g=e.util.degreesToRadians(45-t),s=h=d*e.util.cos(g),a=c=d*e.util.sin(g);return{tl:{x:n-c,y:r-h},tr:{x:n+s,y:r-a},bl:{x:n-s,y:r+a},br:{x:n+c,y:r+h}}},render:function(t,i,n,r,o){"circle"===((r=r||{}).cornerStyle||o.cornerStyle)?e.controlsUtils.renderCircleControl.call(this,t,i,n,r,o):e.controlsUtils.renderSquareControl.call(this,t,i,n,r,o)}}}(e),function(){function t(t,e){var i,n,r,o,s=t.getAttribute("style"),a=t.getAttribute("offset")||0;if(a=(a=parseFloat(a)/(/%$/.test(a)?100:1))<0?0:a>1?1:a,s){var h=s.split(/\s*;\s*/);for(""===h[h.length-1]&&h.pop(),o=h.length;o--;){var c=h[o].split(/\s*:\s*/),l=c[0].trim(),u=c[1].trim();"stop-color"===l?i=u:"stop-opacity"===l&&(r=u)}}return i||(i=t.getAttribute("stop-color")||"rgb(0,0,0)"),r||(r=t.getAttribute("stop-opacity")),n=(i=new T.Color(i)).getAlpha(),r=isNaN(parseFloat(r))?1:parseFloat(r),r*=n*e,{offset:a,color:i.toRgb(),opacity:r}}var e=T.util.object.clone;T.Gradient=T.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(t){t||(t={}),t.coords||(t.coords={});var e,i=this;Object.keys(t).forEach((function(e){i[e]=t[e]})),this.id?this.id+="_"+T.Object.__uid++:this.id=T.Object.__uid++,e={x1:t.coords.x1||0,y1:t.coords.y1||0,x2:t.coords.x2||0,y2:t.coords.y2||0},"radial"===this.type&&(e.r1=t.coords.r1||0,e.r2=t.coords.r2||0),this.coords=e,this.colorStops=t.colorStops.slice()},addColorStop:function(t){for(var e in t){var i=new T.Color(t[e]);this.colorStops.push({offset:parseFloat(e),color:i.toRgb(),opacity:i.getAlpha()})}return this},toObject:function(t){var e={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return T.util.populateWithProperties(this,e,t),e},toSVG:function(t,i){var n,r,o,s,a=e(this.coords,!0),h=(i=i||{},e(this.colorStops,!0)),c=a.r1>a.r2,l=this.gradientTransform?this.gradientTransform.concat():T.iMatrix.concat(),u=-this.offsetX,f=-this.offsetY,d=!!i.additionalTransform,g="pixels"===this.gradientUnits?"userSpaceOnUse":"objectBoundingBox";if(h.sort((function(t,e){return t.offset-e.offset})),"objectBoundingBox"===g?(u/=t.width,f/=t.height):(u+=t.width/2,f+=t.height/2),"path"===t.type&&"percentage"!==this.gradientUnits&&(u-=t.pathOffset.x,f-=t.pathOffset.y),l[4]-=u,l[5]-=f,s='id="SVGID_'+this.id+'" gradientUnits="'+g+'"',s+=' gradientTransform="'+(d?i.additionalTransform+" ":"")+T.util.matrixToSVG(l)+'" ',"linear"===this.type?o=["<linearGradient ",s,' x1="',a.x1,'" y1="',a.y1,'" x2="',a.x2,'" y2="',a.y2,'">\n']:"radial"===this.type&&(o=["<radialGradient ",s,' cx="',c?a.x1:a.x2,'" cy="',c?a.y1:a.y2,'" r="',c?a.r1:a.r2,'" fx="',c?a.x2:a.x1,'" fy="',c?a.y2:a.y1,'">\n']),"radial"===this.type){if(c)for((h=h.concat()).reverse(),n=0,r=h.length;n<r;n++)h[n].offset=1-h[n].offset;var p=Math.min(a.r1,a.r2);if(p>0){var v=p/Math.max(a.r1,a.r2);for(n=0,r=h.length;n<r;n++)h[n].offset+=v*(1-h[n].offset)}}for(n=0,r=h.length;n<r;n++){var m=h[n];o.push("<stop ",'offset="',100*m.offset+"%",'" style="stop-color:',m.color,void 0!==m.opacity?";stop-opacity: "+m.opacity:";",'"/>\n')}return o.push("linear"===this.type?"</linearGradient>\n":"</radialGradient>\n"),o.join("")},toLive:function(t){var e,i,n,r=T.util.object.clone(this.coords);if(this.type){for("linear"===this.type?e=t.createLinearGradient(r.x1,r.y1,r.x2,r.y2):"radial"===this.type&&(e=t.createRadialGradient(r.x1,r.y1,r.r1,r.x2,r.y2,r.r2)),i=0,n=this.colorStops.length;i<n;i++){var o=this.colorStops[i].color,s=this.colorStops[i].opacity,a=this.colorStops[i].offset;void 0!==s&&(o=new T.Color(o).setAlpha(s).toRgba()),e.addColorStop(a,o)}return e}}}),T.util.object.extend(T.Gradient,{fromElement:function(e,i,n,r){var o=parseFloat(n)/(/%$/.test(n)?100:1);o=o<0?0:o>1?1:o,isNaN(o)&&(o=1);var s,a,h,c,l=e.getElementsByTagName("stop"),u="userSpaceOnUse"===e.getAttribute("gradientUnits")?"pixels":"percentage",f=e.getAttribute("gradientTransform")||"",d=[],g=0,p=0;for("linearGradient"===e.nodeName||"LINEARGRADIENT"===e.nodeName?(s="linear",a=function(t){return{x1:t.getAttribute("x1")||0,y1:t.getAttribute("y1")||0,x2:t.getAttribute("x2")||"100%",y2:t.getAttribute("y2")||0}}(e)):(s="radial",a=function(t){return{x1:t.getAttribute("fx")||t.getAttribute("cx")||"50%",y1:t.getAttribute("fy")||t.getAttribute("cy")||"50%",r1:0,x2:t.getAttribute("cx")||"50%",y2:t.getAttribute("cy")||"50%",r2:t.getAttribute("r")||"50%"}}(e)),h=l.length;h--;)d.push(t(l[h],o));return c=T.parseTransformAttribute(f),function(t,e,i,n){var r,o;Object.keys(e).forEach((function(t){"Infinity"===(r=e[t])?o=1:"-Infinity"===r?o=0:(o=parseFloat(e[t],10),"string"==typeof r&&/^(\d+\.\d+)%|(\d+)%$/.test(r)&&(o*=.01,"pixels"===n&&("x1"!==t&&"x2"!==t&&"r2"!==t||(o*=i.viewBoxWidth||i.width),"y1"!==t&&"y2"!==t||(o*=i.viewBoxHeight||i.height)))),e[t]=o}))}(0,a,r,u),"pixels"===u&&(g=-i.left,p=-i.top),new T.Gradient({id:e.getAttribute("id"),type:s,coords:a,colorStops:d,gradientUnits:u,gradientTransform:c,offsetX:g,offsetY:p})}})}(),function(){"use strict";var t=T.util.toFixed;T.Pattern=T.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(t,e){if(t||(t={}),this.id=T.Object.__uid++,this.setOptions(t),!t.source||t.source&&"string"!=typeof t.source)e&&e(this);else{var i=this;this.source=T.util.createImage(),T.util.loadImage(t.source,(function(t,n){i.source=t,e&&e(i,n)}),null,this.crossOrigin)}},toObject:function(e){var i,n,r=T.Object.NUM_FRACTION_DIGITS;return"string"==typeof this.source.src?i=this.source.src:"object"==typeof this.source&&this.source.toDataURL&&(i=this.source.toDataURL()),n={type:"pattern",source:i,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:t(this.offsetX,r),offsetY:t(this.offsetY,r),patternTransform:this.patternTransform?this.patternTransform.concat():null},T.util.populateWithProperties(this,n,e),n},toSVG:function(t){var e="function"==typeof this.source?this.source():this.source,i=e.width/t.width,n=e.height/t.height,r=this.offsetX/t.width,o=this.offsetY/t.height,s="";return"repeat-x"!==this.repeat&&"no-repeat"!==this.repeat||(n=1,o&&(n+=Math.abs(o))),"repeat-y"!==this.repeat&&"no-repeat"!==this.repeat||(i=1,r&&(i+=Math.abs(r))),e.src?s=e.src:e.toDataURL&&(s=e.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+r+'" y="'+o+'" width="'+i+'" height="'+n+'">\n<image x="0" y="0" width="'+e.width+'" height="'+e.height+'" xlink:href="'+s+'"></image>\n</pattern>\n'},setOptions:function(t){for(var e in t)this[e]=t[e]},toLive:function(t){var e=this.source;if(!e)return"";if(void 0!==e.src){if(!e.complete)return"";if(0===e.naturalWidth||0===e.naturalHeight)return""}return t.createPattern(e,this.repeat)}})}(),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.toFixed;e.Shadow?e.warn("fabric.Shadow is already defined."):(e.Shadow=e.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(t){for(var i in"string"==typeof t&&(t=this._parseShadow(t)),t)this[i]=t[i];this.id=e.Object.__uid++},_parseShadow:function(t){var i=t.trim(),n=e.Shadow.reOffsetsAndBlur.exec(i)||[];return{color:(i.replace(e.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)").trim(),offsetX:parseFloat(n[1],10)||0,offsetY:parseFloat(n[2],10)||0,blur:parseFloat(n[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(t){var n=40,r=40,o=e.Object.NUM_FRACTION_DIGITS,s=e.util.rotateVector({x:this.offsetX,y:this.offsetY},e.util.degreesToRadians(-t.angle)),a=new e.Color(this.color);return t.width&&t.height&&(n=100*i((Math.abs(s.x)+this.blur)/t.width,o)+20,r=100*i((Math.abs(s.y)+this.blur)/t.height,o)+20),t.flipX&&(s.x*=-1),t.flipY&&(s.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+r+'%" height="'+(100+2*r)+'%" x="-'+n+'%" width="'+(100+2*n)+'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="'+i(this.blur?this.blur/2:0,o)+'"></feGaussianBlur>\n\t<feOffset dx="'+i(s.x,o)+'" dy="'+i(s.y,o)+'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="'+a.toRgb()+'" flood-opacity="'+a.getAlpha()+'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n'},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var t={},i=e.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach((function(e){this[e]!==i[e]&&(t[e]=this[e])}),this),t}}),e.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/)}(e),function(){"use strict";if(T.StaticCanvas)T.warn("fabric.StaticCanvas is already defined.");else{var t=T.util.object.extend,e=T.util.getElementOffset,i=T.util.removeFromArray,n=T.util.toFixed,r=T.util.transformPoint,o=T.util.invertTransform,s=T.util.getNodeCanvas,a=T.util.createCanvasElement,h=new Error("Could not initialize `canvas` element");T.StaticCanvas=T.util.createClass(T.CommonMethods,{initialize:function(t,e){e||(e={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(t,e)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:T.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(t,e){var i=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(t),this._initOptions(e),this.interactive||this._initRetinaScaling(),e.overlayImage&&this.setOverlayImage(e.overlayImage,i),e.backgroundImage&&this.setBackgroundImage(e.backgroundImage,i),e.backgroundColor&&this.setBackgroundColor(e.backgroundColor,i),e.overlayColor&&this.setOverlayColor(e.overlayColor,i),this.calcOffset()},_isRetinaScaling:function(){return T.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,T.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var t=T.devicePixelRatio;this.__initRetinaScaling(t,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(t,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(t,e,i){e.setAttribute("width",this.width*t),e.setAttribute("height",this.height*t),i.scale(t,t)},calcOffset:function(){return this._offset=e(this.lowerCanvasEl),this},setOverlayImage:function(t,e,i){return this.__setBgOverlayImage("overlayImage",t,e,i)},setBackgroundImage:function(t,e,i){return this.__setBgOverlayImage("backgroundImage",t,e,i)},setOverlayColor:function(t,e){return this.__setBgOverlayColor("overlayColor",t,e)},setBackgroundColor:function(t,e){return this.__setBgOverlayColor("backgroundColor",t,e)},__setBgOverlayImage:function(t,e,i,n){return"string"==typeof e?T.util.loadImage(e,(function(e,r){if(e){var o=new T.Image(e,n);this[t]=o,o.canvas=this}i&&i(e,r)}),this,n&&n.crossOrigin):(n&&e.setOptions(n),this[t]=e,e&&(e.canvas=this),i&&i(e,!1)),this},__setBgOverlayColor:function(t,e,i){return this[t]=e,this._initGradient(e,t),this._initPattern(e,t,i),this},_createCanvasElement:function(){var t=a();if(!t)throw h;if(t.style||(t.style={}),void 0===t.getContext)throw h;return t},_initOptions:function(t){var e=this.lowerCanvasEl;this._setOptions(t),this.width=this.width||parseInt(e.width,10)||0,this.height=this.height||parseInt(e.height,10)||0,this.lowerCanvasEl.style&&(e.width=this.width,e.height=this.height,e.style.width=this.width+"px",e.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(t){t&&t.getContext?this.lowerCanvasEl=t:this.lowerCanvasEl=T.util.getById(t)||this._createCanvasElement(),T.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(t,e){return this.setDimensions({width:t},e)},setHeight:function(t,e){return this.setDimensions({height:t},e)},setDimensions:function(t,e){var i;for(var n in e=e||{},t)i=t[n],e.cssOnly||(this._setBackstoreDimension(n,t[n]),i+="px",this.hasLostContext=!0),e.backstoreOnly||this._setCssDimension(n,i);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),e.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(t,e){return this.lowerCanvasEl[t]=e,this.upperCanvasEl&&(this.upperCanvasEl[t]=e),this.cacheCanvasEl&&(this.cacheCanvasEl[t]=e),this[t]=e,this},_setCssDimension:function(t,e){return this.lowerCanvasEl.style[t]=e,this.upperCanvasEl&&(this.upperCanvasEl.style[t]=e),this.wrapperEl&&(this.wrapperEl.style[t]=e),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(t){var e,i,n,r=this._activeObject,o=this.backgroundImage,s=this.overlayImage;for(this.viewportTransform=t,i=0,n=this._objects.length;i<n;i++)(e=this._objects[i]).group||e.setCoords(!0);return r&&r.setCoords(),o&&o.setCoords(!0),s&&s.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(t,e){var i=t,n=this.viewportTransform.slice(0);t=r(t,o(this.viewportTransform)),n[0]=e,n[3]=e;var s=r(t,n);return n[4]+=i.x-s.x,n[5]+=i.y-s.y,this.setViewportTransform(n)},setZoom:function(t){return this.zoomToPoint(new T.Point(0,0),t),this},absolutePan:function(t){var e=this.viewportTransform.slice(0);return e[4]=-t.x,e[5]=-t.y,this.setViewportTransform(e)},relativePan:function(t){return this.absolutePan(new T.Point(-t.x-this.viewportTransform[4],-t.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(t){this.stateful&&t.setupState(),t._set("canvas",this),t.setCoords(),this.fire("object:added",{target:t}),t.fire("added")},_onObjectRemoved:function(t){this.fire("object:removed",{target:t}),t.fire("removed"),delete t.canvas},clearContext:function(t){return t.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var t=this.contextContainer;return this.renderCanvas(t,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=T.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var t={},e=this.width,i=this.height,n=o(this.viewportTransform);return t.tl=r({x:0,y:0},n),t.br=r({x:e,y:i},n),t.tr=new T.Point(t.br.x,t.tl.y),t.bl=new T.Point(t.tl.x,t.br.y),this.vptCoords=t,t},cancelRequestedRender:function(){this.isRendering&&(T.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(t,e){var i=this.viewportTransform,n=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(t),T.util.setImageSmoothing(t,this.imageSmoothingEnabled),this.fire("before:render",{ctx:t}),this._renderBackground(t),t.save(),t.transform(i[0],i[1],i[2],i[3],i[4],i[5]),this._renderObjects(t,e),t.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(t),n&&(n.canvas=this,n.shouldCache(),n._transformDone=!0,n.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(t)),this._renderOverlay(t),this.controlsAboveOverlay&&this.interactive&&this.drawControls(t),this.fire("after:render",{ctx:t})},drawClipPathOnCanvas:function(t){var e=this.viewportTransform,i=this.clipPath;t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t.globalCompositeOperation="destination-in",i.transform(t),t.scale(1/i.zoomX,1/i.zoomY),t.drawImage(i._cacheCanvas,-i.cacheTranslationX,-i.cacheTranslationY),t.restore()},_renderObjects:function(t,e){var i,n;for(i=0,n=e.length;i<n;++i)e[i]&&e[i].render(t)},_renderBackgroundOrOverlay:function(t,e){var i=this[e+"Color"],n=this[e+"Image"],r=this.viewportTransform,o=this[e+"Vpt"];if(i||n){if(i){t.save(),t.beginPath(),t.moveTo(0,0),t.lineTo(this.width,0),t.lineTo(this.width,this.height),t.lineTo(0,this.height),t.closePath(),t.fillStyle=i.toLive?i.toLive(t,this):i,o&&t.transform(r[0],r[1],r[2],r[3],r[4],r[5]),t.transform(1,0,0,1,i.offsetX||0,i.offsetY||0);var s=i.gradientTransform||i.patternTransform;s&&t.transform(s[0],s[1],s[2],s[3],s[4],s[5]),t.fill(),t.restore()}n&&(t.save(),o&&t.transform(r[0],r[1],r[2],r[3],r[4],r[5]),n.render(t),t.restore())}},_renderBackground:function(t){this._renderBackgroundOrOverlay(t,"background")},_renderOverlay:function(t){this._renderBackgroundOrOverlay(t,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new T.Point(this.width/2,this.height/2)},centerObjectH:function(t){return this._centerObject(t,new T.Point(this.getCenterPoint().x,t.getCenterPoint().y))},centerObjectV:function(t){return this._centerObject(t,new T.Point(t.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(t){var e=this.getCenterPoint();return this._centerObject(t,e)},viewportCenterObject:function(t){var e=this.getVpCenter();return this._centerObject(t,e)},viewportCenterObjectH:function(t){var e=this.getVpCenter();return this._centerObject(t,new T.Point(e.x,t.getCenterPoint().y)),this},viewportCenterObjectV:function(t){var e=this.getVpCenter();return this._centerObject(t,new T.Point(t.getCenterPoint().x,e.y))},getVpCenter:function(){var t=this.getCenterPoint(),e=o(this.viewportTransform);return r(t,e)},_centerObject:function(t,e){return t.setPositionByOrigin(e,"center","center"),t.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(t){return this.toDatalessObject(t)},toObject:function(t){return this._toObjectMethod("toObject",t)},toDatalessObject:function(t){return this._toObjectMethod("toDatalessObject",t)},_toObjectMethod:function(e,i){var n=this.clipPath,r={version:T.version,objects:this._toObjects(e,i)};return n&&!n.excludeFromExport&&(r.clipPath=this._toObject(this.clipPath,e,i)),t(r,this.__serializeBgOverlay(e,i)),T.util.populateWithProperties(this,r,i),r},_toObjects:function(t,e){return this._objects.filter((function(t){return!t.excludeFromExport})).map((function(i){return this._toObject(i,t,e)}),this)},_toObject:function(t,e,i){var n;this.includeDefaultValues||(n=t.includeDefaultValues,t.includeDefaultValues=!1);var r=t[e](i);return this.includeDefaultValues||(t.includeDefaultValues=n),r},__serializeBgOverlay:function(t,e){var i={},n=this.backgroundImage,r=this.overlayImage,o=this.backgroundColor,s=this.overlayColor;return o&&o.toObject?o.excludeFromExport||(i.background=o.toObject(e)):o&&(i.background=o),s&&s.toObject?s.excludeFromExport||(i.overlay=s.toObject(e)):s&&(i.overlay=s),n&&!n.excludeFromExport&&(i.backgroundImage=this._toObject(n,t,e)),r&&!r.excludeFromExport&&(i.overlayImage=this._toObject(r,t,e)),i},svgViewportTransformation:!0,toSVG:function(t,e){t||(t={}),t.reviver=e;var i=[];return this._setSVGPreamble(i,t),this._setSVGHeader(i,t),this.clipPath&&i.push('<g clip-path="url(#'+this.clipPath.clipPathId+')" >\n'),this._setSVGBgOverlayColor(i,"background"),this._setSVGBgOverlayImage(i,"backgroundImage",e),this._setSVGObjects(i,e),this.clipPath&&i.push("</g>\n"),this._setSVGBgOverlayColor(i,"overlay"),this._setSVGBgOverlayImage(i,"overlayImage",e),i.push("</svg>"),i.join("")},_setSVGPreamble:function(t,e){e.suppressPreamble||t.push('<?xml version="1.0" encoding="',e.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')},_setSVGHeader:function(t,e){var i,r=e.width||this.width,o=e.height||this.height,s='viewBox="0 0 '+this.width+" "+this.height+'" ',a=T.Object.NUM_FRACTION_DIGITS;e.viewBox?s='viewBox="'+e.viewBox.x+" "+e.viewBox.y+" "+e.viewBox.width+" "+e.viewBox.height+'" ':this.svgViewportTransformation&&(i=this.viewportTransform,s='viewBox="'+n(-i[4]/i[0],a)+" "+n(-i[5]/i[3],a)+" "+n(this.width/i[0],a)+" "+n(this.height/i[3],a)+'" '),t.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',r,'" ','height="',o,'" ',s,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",T.version,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(e),"</defs>\n")},createSVGClipPathMarkup:function(t){var e=this.clipPath;return e?(e.clipPathId="CLIPPATH_"+T.Object.__uid++,'<clipPath id="'+e.clipPathId+'" >\n'+this.clipPath.toClipPathSVG(t.reviver)+"</clipPath>\n"):""},createSVGRefElementsMarkup:function(){var t=this;return["background","overlay"].map((function(e){var i=t[e+"Color"];if(i&&i.toLive){var n=t[e+"Vpt"],r=t.viewportTransform,o={width:t.width/(n?r[0]:1),height:t.height/(n?r[3]:1)};return i.toSVG(o,{additionalTransform:n?T.util.matrixToSVG(r):""})}})).join("")},createSVGFontFacesMarkup:function(){var t,e,i,n,r,o,s,a,h="",c={},l=T.fontPaths,u=[];for(this._objects.forEach((function t(e){u.push(e),e._objects&&e._objects.forEach(t)})),s=0,a=u.length;s<a;s++)if(e=(t=u[s]).fontFamily,-1!==t.type.indexOf("text")&&!c[e]&&l[e]&&(c[e]=!0,t.styles))for(r in i=t.styles)for(o in n=i[r])!c[e=n[o].fontFamily]&&l[e]&&(c[e]=!0);for(var f in c)h+=["\t\t@font-face {\n","\t\t\tfont-family: '",f,"';\n","\t\t\tsrc: url('",l[f],"');\n","\t\t}\n"].join("");return h&&(h=['\t<style type="text/css">',"<![CDATA[\n",h,"]]>","</style>\n"].join("")),h},_setSVGObjects:function(t,e){var i,n,r,o=this._objects;for(n=0,r=o.length;n<r;n++)(i=o[n]).excludeFromExport||this._setSVGObject(t,i,e)},_setSVGObject:function(t,e,i){t.push(e.toSVG(i))},_setSVGBgOverlayImage:function(t,e,i){this[e]&&!this[e].excludeFromExport&&this[e].toSVG&&t.push(this[e].toSVG(i))},_setSVGBgOverlayColor:function(t,e){var i=this[e+"Color"],n=this.viewportTransform,r=this.width,o=this.height;if(i)if(i.toLive){var s=i.repeat,a=T.util.invertTransform(n),h=this[e+"Vpt"]?T.util.matrixToSVG(a):"";t.push('<rect transform="'+h+" translate(",r/2,",",o/2,')"',' x="',i.offsetX-r/2,'" y="',i.offsetY-o/2,'" ','width="',"repeat-y"===s||"no-repeat"===s?i.source.width:r,'" height="',"repeat-x"===s||"no-repeat"===s?i.source.height:o,'" fill="url(#SVGID_'+i.id+')"',"></rect>\n")}else t.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',i,'"',"></rect>\n")},sendToBack:function(t){if(!t)return this;var e,n,r,o=this._activeObject;if(t===o&&"activeSelection"===t.type)for(e=(r=o._objects).length;e--;)n=r[e],i(this._objects,n),this._objects.unshift(n);else i(this._objects,t),this._objects.unshift(t);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(t){if(!t)return this;var e,n,r,o=this._activeObject;if(t===o&&"activeSelection"===t.type)for(r=o._objects,e=0;e<r.length;e++)n=r[e],i(this._objects,n),this._objects.push(n);else i(this._objects,t),this._objects.push(t);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(t,e){if(!t)return this;var n,r,o,s,a,h=this._activeObject,c=0;if(t===h&&"activeSelection"===t.type)for(a=h._objects,n=0;n<a.length;n++)r=a[n],(o=this._objects.indexOf(r))>0+c&&(s=o-1,i(this._objects,r),this._objects.splice(s,0,r)),c++;else 0!==(o=this._objects.indexOf(t))&&(s=this._findNewLowerIndex(t,o,e),i(this._objects,t),this._objects.splice(s,0,t));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(t,e,i){var n,r;if(i){for(n=e,r=e-1;r>=0;--r)if(t.intersectsWithObject(this._objects[r])||t.isContainedWithinObject(this._objects[r])||this._objects[r].isContainedWithinObject(t)){n=r;break}}else n=e-1;return n},bringForward:function(t,e){if(!t)return this;var n,r,o,s,a,h=this._activeObject,c=0;if(t===h&&"activeSelection"===t.type)for(n=(a=h._objects).length;n--;)r=a[n],(o=this._objects.indexOf(r))<this._objects.length-1-c&&(s=o+1,i(this._objects,r),this._objects.splice(s,0,r)),c++;else(o=this._objects.indexOf(t))!==this._objects.length-1&&(s=this._findNewUpperIndex(t,o,e),i(this._objects,t),this._objects.splice(s,0,t));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(t,e,i){var n,r,o;if(i){for(n=e,r=e+1,o=this._objects.length;r<o;++r)if(t.intersectsWithObject(this._objects[r])||t.isContainedWithinObject(this._objects[r])||this._objects[r].isContainedWithinObject(t)){n=r;break}}else n=e+1;return n},moveTo:function(t,e){return i(this._objects,t),this._objects.splice(e,0,t),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(T.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject((function(t){t.dispose&&t.dispose()})),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),T.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),T.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),t(T.StaticCanvas.prototype,T.Observable),t(T.StaticCanvas.prototype,T.Collection),t(T.StaticCanvas.prototype,T.DataURLExporter),t(T.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(t){var e=a();if(!e||!e.getContext)return null;var i=e.getContext("2d");return i&&"setLineDash"===t?void 0!==i.setLineDash:null}}),T.StaticCanvas.prototype.toJSON=T.StaticCanvas.prototype.toObject,T.isLikelyNode&&(T.StaticCanvas.prototype.createPNGStream=function(){var t=s(this.lowerCanvasEl);return t&&t.createPNGStream()},T.StaticCanvas.prototype.createJPEGStream=function(t){var e=s(this.lowerCanvasEl);return e&&e.createJPEGStream(t)})}}(),T.BaseBrush=T.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(t){t.strokeStyle=this.color,t.lineWidth=this.width,t.lineCap=this.strokeLineCap,t.miterLimit=this.strokeMiterLimit,t.lineJoin=this.strokeLineJoin,t.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(t){var e=this.canvas.viewportTransform;t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5])},_setShadow:function(){if(this.shadow){var t=this.canvas,e=this.shadow,i=t.contextTop,n=t.getZoom();t&&t._isRetinaScaling()&&(n*=T.devicePixelRatio),i.shadowColor=e.color,i.shadowBlur=e.blur*n,i.shadowOffsetX=e.offsetX*n,i.shadowOffsetY=e.offsetY*n}},needsFullRender:function(){return new T.Color(this.color).getAlpha()<1||!!this.shadow},_resetShadow:function(){var t=this.canvas.contextTop;t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0},_isOutSideCanvas:function(t){return t.x<0||t.x>this.canvas.getWidth()||t.y<0||t.y>this.canvas.getHeight()}}),T.PencilBrush=T.util.createClass(T.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(t){this.canvas=t,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(t,e,i){var n=e.midPointFrom(i);return t.quadraticCurveTo(e.x,e.y,n.x,n.y),n},onMouseDown:function(t,e){this.canvas._isMainEvent(e.e)&&(this.drawStraightLine=e.e[this.straightLineKey],this._prepareForDrawing(t),this._captureDrawingPath(t),this._render())},onMouseMove:function(t,e){if(this.canvas._isMainEvent(e.e)&&(this.drawStraightLine=e.e[this.straightLineKey],(!0!==this.limitedToCanvasSize||!this._isOutSideCanvas(t))&&this._captureDrawingPath(t)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var i=this._points,n=i.length,r=this.canvas.contextTop;this._saveAndTransform(r),this.oldEnd&&(r.beginPath(),r.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(r,i[n-2],i[n-1],!0),r.stroke(),r.restore()}},onMouseUp:function(t){return!this.canvas._isMainEvent(t.e)||(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1)},_prepareForDrawing:function(t){var e=new T.Point(t.x,t.y);this._reset(),this._addPoint(e),this.canvas.contextTop.moveTo(e.x,e.y)},_addPoint:function(t){return!(this._points.length>1&&t.eq(this._points[this._points.length-1])||(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(t),0))},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(t){var e=new T.Point(t.x,t.y);return this._addPoint(e)},_render:function(t){var e,i,n=this._points[0],r=this._points[1];if(t=t||this.canvas.contextTop,this._saveAndTransform(t),t.beginPath(),2===this._points.length&&n.x===r.x&&n.y===r.y){var o=this.width/1e3;n=new T.Point(n.x,n.y),r=new T.Point(r.x,r.y),n.x-=o,r.x+=o}for(t.moveTo(n.x,n.y),e=1,i=this._points.length;e<i;e++)this._drawSegment(t,n,r),n=this._points[e],r=this._points[e+1];t.lineTo(n.x,n.y),t.stroke(),t.restore()},convertPointsToSVGPath:function(t){var e=this.width/1e3;return T.util.getSmoothPathFromPoints(t,e)},_isEmptySVGPath:function(t){return"M 0 0 Q 0 0 0 0 L 0 0"===T.util.joinPath(t)},createPath:function(t){var e=new T.Path(t,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,e.shadow=new T.Shadow(this.shadow)),e},decimatePoints:function(t,e){if(t.length<=2)return t;var i,n=this.canvas.getZoom(),r=Math.pow(e/n,2),o=t.length-1,s=t[0],a=[s];for(i=1;i<o-1;i++)Math.pow(s.x-t[i].x,2)+Math.pow(s.y-t[i].y,2)>=r&&(s=t[i],a.push(s));return a.push(t[o]),a},_finalizeAndAddPath:function(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var t=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(t))this.canvas.requestRenderAll();else{var e=this.createPath(t);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:e}),this.canvas.add(e),this.canvas.requestRenderAll(),e.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:e})}}}),T.CircleBrush=T.util.createClass(T.BaseBrush,{width:10,initialize:function(t){this.canvas=t,this.points=[]},drawDot:function(t){var e=this.addPoint(t),i=this.canvas.contextTop;this._saveAndTransform(i),this.dot(i,e),i.restore()},dot:function(t,e){t.fillStyle=e.fill,t.beginPath(),t.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),t.closePath(),t.fill()},onMouseDown:function(t){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(t)},_render:function(){var t,e,i=this.canvas.contextTop,n=this.points;for(this._saveAndTransform(i),t=0,e=n.length;t<e;t++)this.dot(i,n[t]);i.restore()},onMouseMove:function(t){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(t)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(t),this._render()):this.drawDot(t))},onMouseUp:function(){var t,e,i=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;var n=[];for(t=0,e=this.points.length;t<e;t++){var r=this.points[t],o=new T.Circle({radius:r.radius,left:r.x,top:r.y,originX:"center",originY:"center",fill:r.fill});this.shadow&&(o.shadow=new T.Shadow(this.shadow)),n.push(o)}var s=new T.Group(n);s.canvas=this.canvas,this.canvas.fire("before:path:created",{path:s}),this.canvas.add(s),this.canvas.fire("path:created",{path:s}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=i,this.canvas.requestRenderAll()},addPoint:function(t){var e=new T.Point(t.x,t.y),i=T.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,n=new T.Color(this.color).setAlpha(T.util.getRandomInt(0,100)/100).toRgba();return e.radius=i,e.fill=n,this.points.push(e),e}}),T.SprayBrush=T.util.createClass(T.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(t){this.canvas=t,this.sprayChunks=[]},onMouseDown:function(t){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(t),this.render(this.sprayChunkPoints)},onMouseMove:function(t){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(t)||(this.addSprayChunk(t),this.render(this.sprayChunkPoints))},onMouseUp:function(){var t=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var e=[],i=0,n=this.sprayChunks.length;i<n;i++)for(var r=this.sprayChunks[i],o=0,s=r.length;o<s;o++){var a=new T.Rect({width:r[o].width,height:r[o].width,left:r[o].x+1,top:r[o].y+1,originX:"center",originY:"center",fill:this.color});e.push(a)}this.optimizeOverlapping&&(e=this._getOptimizedRects(e));var h=new T.Group(e);this.shadow&&h.set("shadow",new T.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:h}),this.canvas.add(h),this.canvas.fire("path:created",{path:h}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=t,this.canvas.requestRenderAll()},_getOptimizedRects:function(t){var e,i,n,r={};for(i=0,n=t.length;i<n;i++)r[e=t[i].left+""+t[i].top]||(r[e]=t[i]);var o=[];for(e in r)o.push(r[e]);return o},render:function(t){var e,i,n=this.canvas.contextTop;for(n.fillStyle=this.color,this._saveAndTransform(n),e=0,i=t.length;e<i;e++){var r=t[e];void 0!==r.opacity&&(n.globalAlpha=r.opacity),n.fillRect(r.x,r.y,r.width,r.width)}n.restore()},_render:function(){var t,e,i=this.canvas.contextTop;for(i.fillStyle=this.color,this._saveAndTransform(i),t=0,e=this.sprayChunks.length;t<e;t++)this.render(this.sprayChunks[t]);i.restore()},addSprayChunk:function(t){this.sprayChunkPoints=[];var e,i,n,r,o=this.width/2;for(r=0;r<this.density;r++){e=T.util.getRandomInt(t.x-o,t.x+o),i=T.util.getRandomInt(t.y-o,t.y+o),n=this.dotWidthVariance?T.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth;var s=new T.Point(e,i);s.width=n,this.randomOpacity&&(s.opacity=T.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(s)}this.sprayChunks.push(this.sprayChunkPoints)}}),T.PatternBrush=T.util.createClass(T.PencilBrush,{getPatternSrc:function(){var t=T.util.createCanvasElement(),e=t.getContext("2d");return t.width=t.height=25,e.fillStyle=this.color,e.beginPath(),e.arc(10,10,10,0,2*Math.PI,!1),e.closePath(),e.fill(),t},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(t){return t.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(t){this.callSuper("_setBrushStyles",t),t.strokeStyle=this.getPattern(t)},createPath:function(t){var e=this.callSuper("createPath",t),i=e._getLeftTopCoords().scalarAdd(e.strokeWidth/2);return e.stroke=new T.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-i.x,offsetY:-i.y}),e}}),function(){var t=T.util.getPointer,e=T.util.degreesToRadians,i=T.util.isTouchEvent;for(var n in T.Canvas=T.util.createClass(T.StaticCanvas,{initialize:function(t,e){e||(e={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(t,e),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=T.PencilBrush&&new T.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var t,e,i,n=this.getActiveObjects();if(n.length>0&&!this.preserveObjectStacking){e=[],i=[];for(var r=0,o=this._objects.length;r<o;r++)t=this._objects[r],-1===n.indexOf(t)?e.push(t):i.push(t);n.length>1&&(this._activeObject._objects=i),e.push.apply(e,i)}else e=this._objects;return e},renderAll:function(){!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var t=this.contextContainer;return this.renderCanvas(t,this._chooseObjectsToRender()),this},renderTopLayer:function(t){t.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(t),this.contextTopDirty=!0),t.restore()},renderTop:function(){var t=this.contextTop;return this.clearContext(t),this.renderTopLayer(t),this.fire("after:render"),this},_normalizePointer:function(t,e){var i=t.calcTransformMatrix(),n=T.util.invertTransform(i),r=this.restorePointerVpt(e);return T.util.transformPoint(r,n)},isTargetTransparent:function(t,e,i){if(t.shouldCache()&&t._cacheCanvas&&t!==this._activeObject){var n=this._normalizePointer(t,{x:e,y:i}),r=Math.max(t.cacheTranslationX+n.x*t.zoomX,0),o=Math.max(t.cacheTranslationY+n.y*t.zoomY,0);return T.util.isTransparent(t._cacheContext,Math.round(r),Math.round(o),this.targetFindTolerance)}var s=this.contextCache,a=t.selectionBackgroundColor,h=this.viewportTransform;return t.selectionBackgroundColor="",this.clearContext(s),s.save(),s.transform(h[0],h[1],h[2],h[3],h[4],h[5]),t.render(s),s.restore(),t.selectionBackgroundColor=a,T.util.isTransparent(s,e,i,this.targetFindTolerance)},_isSelectionKeyPressed:function(t){return Array.isArray(this.selectionKey)?!!this.selectionKey.find((function(e){return!0===t[e]})):t[this.selectionKey]},_shouldClearSelection:function(t,e){var i=this.getActiveObjects(),n=this._activeObject;return!e||e&&n&&i.length>1&&-1===i.indexOf(e)&&n!==e&&!this._isSelectionKeyPressed(t)||e&&!e.evented||e&&!e.selectable&&n&&n!==e},_shouldCenterTransform:function(t,e,i){var n;if(t)return"scale"===e||"scaleX"===e||"scaleY"===e||"resizing"===e?n=this.centeredScaling||t.centeredScaling:"rotate"===e&&(n=this.centeredRotation||t.centeredRotation),n?!i:i},_getOriginFromCorner:function(t,e){var i={x:t.originX,y:t.originY};return"ml"===e||"tl"===e||"bl"===e?i.x="right":"mr"!==e&&"tr"!==e&&"br"!==e||(i.x="left"),"tl"===e||"mt"===e||"tr"===e?i.y="bottom":"bl"!==e&&"mb"!==e&&"br"!==e||(i.y="top"),i},_getActionFromCorner:function(t,e,i,n){if(!e||!t)return"drag";var r=n.controls[e];return r.getActionName(i,r,n)},_setupCurrentTransform:function(t,i,n){if(i){var r=this.getPointer(t),o=i.__corner,s=i.controls[o],a=n&&o?s.getActionHandler(t,i,s):T.controlsUtils.dragHandler,h=this._getActionFromCorner(n,o,t,i),c=this._getOriginFromCorner(i,o),l=t[this.centeredKey],u={target:i,action:h,actionHandler:a,corner:o,scaleX:i.scaleX,scaleY:i.scaleY,skewX:i.skewX,skewY:i.skewY,offsetX:r.x-i.left,offsetY:r.y-i.top,originX:c.x,originY:c.y,ex:r.x,ey:r.y,lastX:r.x,lastY:r.y,theta:e(i.angle),width:i.width*i.scaleX,shiftKey:t.shiftKey,altKey:l,original:T.util.saveObjectTransform(i)};this._shouldCenterTransform(i,h,l)&&(u.originX="center",u.originY="center"),u.original.originX=c.x,u.original.originY=c.y,this._currentTransform=u,this._beforeTransform(t)}},setCursor:function(t){this.upperCanvasEl.style.cursor=t},_drawSelection:function(t){var e=this._groupSelector,i=new T.Point(e.ex,e.ey),n=T.util.transformPoint(i,this.viewportTransform),r=new T.Point(e.ex+e.left,e.ey+e.top),o=T.util.transformPoint(r,this.viewportTransform),s=Math.min(n.x,o.x),a=Math.min(n.y,o.y),h=Math.max(n.x,o.x),c=Math.max(n.y,o.y),l=this.selectionLineWidth/2;this.selectionColor&&(t.fillStyle=this.selectionColor,t.fillRect(s,a,h-s,c-a)),this.selectionLineWidth&&this.selectionBorderColor&&(t.lineWidth=this.selectionLineWidth,t.strokeStyle=this.selectionBorderColor,s+=l,a+=l,h-=l,c-=l,T.Object.prototype._setLineDash.call(this,t,this.selectionDashArray),t.strokeRect(s,a,h-s,c-a))},findTarget:function(t,e){if(!this.skipTargetFind){var n,r,o=this.getPointer(t,!0),s=this._activeObject,a=this.getActiveObjects(),h=i(t),c=a.length>1&&!e||1===a.length;if(this.targets=[],c&&s._findTargetCorner(o,h))return s;if(a.length>1&&!e&&s===this._searchPossibleTargets([s],o))return s;if(1===a.length&&s===this._searchPossibleTargets([s],o)){if(!this.preserveObjectStacking)return s;n=s,r=this.targets,this.targets=[]}var l=this._searchPossibleTargets(this._objects,o);return t[this.altSelectionKey]&&l&&n&&l!==n&&(l=n,this.targets=r),l}},_checkTarget:function(t,e,i){if(e&&e.visible&&e.evented&&e.containsPoint(t)){if(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing)return!0;if(!this.isTargetTransparent(e,i.x,i.y))return!0}},_searchPossibleTargets:function(t,e){for(var i,n,r=t.length;r--;){var o=t[r],s=o.group?this._normalizePointer(o.group,e):e;if(this._checkTarget(s,o,e)){(i=t[r]).subTargetCheck&&i instanceof T.Group&&(n=this._searchPossibleTargets(i._objects,e))&&this.targets.push(n);break}}return i},restorePointerVpt:function(t){return T.util.transformPoint(t,T.util.invertTransform(this.viewportTransform))},getPointer:function(e,i){if(this._absolutePointer&&!i)return this._absolutePointer;if(this._pointer&&i)return this._pointer;var n,r=t(e),o=this.upperCanvasEl,s=o.getBoundingClientRect(),a=s.width||0,h=s.height||0;a&&h||("top"in s&&"bottom"in s&&(h=Math.abs(s.top-s.bottom)),"right"in s&&"left"in s&&(a=Math.abs(s.right-s.left))),this.calcOffset(),r.x=r.x-this._offset.left,r.y=r.y-this._offset.top,i||(r=this.restorePointerVpt(r));var c=this.getRetinaScaling();return 1!==c&&(r.x/=c,r.y/=c),n=0===a||0===h?{width:1,height:1}:{width:o.width/a,height:o.height/h},{x:r.x*n.width,y:r.y*n.height}},_createUpperCanvas:function(){var t=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),e=this.lowerCanvasEl,i=this.upperCanvasEl;i?i.className="":(i=this._createCanvasElement(),this.upperCanvasEl=i),T.util.addClass(i,"upper-canvas "+t),this.wrapperEl.appendChild(i),this._copyCanvasStyle(e,i),this._applyCanvasStyle(i),this.contextTop=i.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=T.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),T.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),T.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(t){var e=this.width||t.width,i=this.height||t.height;T.util.setStyle(t,{position:"absolute",width:e+"px",height:i+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),t.width=e,t.height=i,T.util.makeElementUnselectable(t)},_copyCanvasStyle:function(t,e){e.style.cssText=t.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var t=this._activeObject;return t?"activeSelection"===t.type&&t._objects?t._objects.slice(0):[t]:[]},_onObjectRemoved:function(t){t===this._activeObject&&(this.fire("before:selection:cleared",{target:t}),this._discardActiveObject(),this.fire("selection:cleared",{target:t}),t.fire("deselected")),t===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",t)},_fireSelectionEvents:function(t,e){var i=!1,n=this.getActiveObjects(),r=[],o=[];t.forEach((function(t){-1===n.indexOf(t)&&(i=!0,t.fire("deselected",{e,target:t}),o.push(t))})),n.forEach((function(n){-1===t.indexOf(n)&&(i=!0,n.fire("selected",{e,target:n}),r.push(n))})),t.length>0&&n.length>0?i&&this.fire("selection:updated",{e,selected:r,deselected:o}):n.length>0?this.fire("selection:created",{e,selected:r}):t.length>0&&this.fire("selection:cleared",{e,deselected:o})},setActiveObject:function(t,e){var i=this.getActiveObjects();return this._setActiveObject(t,e),this._fireSelectionEvents(i,e),this},_setActiveObject:function(t,e){return this._activeObject!==t&&!!this._discardActiveObject(e,t)&&!t.onSelect({e})&&(this._activeObject=t,!0)},_discardActiveObject:function(t,e){var i=this._activeObject;if(i){if(i.onDeselect({e:t,object:e}))return!1;this._activeObject=null}return!0},discardActiveObject:function(t){var e=this.getActiveObjects(),i=this.getActiveObject();return e.length&&this.fire("before:selection:cleared",{target:i,e:t}),this._discardActiveObject(t),this._fireSelectionEvents(e,t),this},dispose:function(){var t=this.wrapperEl;return this.removeListeners(),t.removeChild(this.upperCanvasEl),t.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(t){T.util.cleanUpJsdomNode(this[t]),this[t]=void 0}.bind(this)),t.parentNode&&t.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,T.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(t){var e=this._activeObject;e&&e._renderControls(t)},_toObject:function(t,e,i){var n=this._realizeGroupTransformOnObject(t),r=this.callSuper("_toObject",t,e,i);return this._unwindGroupTransformOnObject(t,n),r},_realizeGroupTransformOnObject:function(t){if(t.group&&"activeSelection"===t.group.type&&this._activeObject===t.group){var e={};return["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"].forEach((function(i){e[i]=t[i]})),T.util.addTransformToObject(t,this._activeObject.calcOwnMatrix()),e}return null},_unwindGroupTransformOnObject:function(t,e){e&&t.set(e)},_setSVGObject:function(t,e,i){var n=this._realizeGroupTransformOnObject(e);this.callSuper("_setSVGObject",t,e,i),this._unwindGroupTransformOnObject(e,n)},setViewportTransform:function(t){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),T.StaticCanvas.prototype.setViewportTransform.call(this,t)}}),T.StaticCanvas)"prototype"!==n&&(T.Canvas[n]=T.StaticCanvas[n])}(),function(){var t=T.util.addListener,e=T.util.removeListener,i={passive:!1};function n(t,e){return t.button&&t.button===e-1}T.util.object.extend(T.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(t,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(t,e){var n=this.upperCanvasEl,r=this._getEventPrefix();t(T.window,"resize",this._onResize),t(n,r+"down",this._onMouseDown),t(n,r+"move",this._onMouseMove,i),t(n,r+"out",this._onMouseOut),t(n,r+"enter",this._onMouseEnter),t(n,"wheel",this._onMouseWheel),t(n,"contextmenu",this._onContextMenu),t(n,"dblclick",this._onDoubleClick),t(n,"dragover",this._onDragOver),t(n,"dragenter",this._onDragEnter),t(n,"dragleave",this._onDragLeave),t(n,"drop",this._onDrop),this.enablePointerEvents||t(n,"touchstart",this._onTouchStart,i),"undefined"!=typeof eventjs&&e in eventjs&&(eventjs[e](n,"gesture",this._onGesture),eventjs[e](n,"drag",this._onDrag),eventjs[e](n,"orientation",this._onOrientationChange),eventjs[e](n,"shake",this._onShake),eventjs[e](n,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(e,"remove");var t=this._getEventPrefix();e(T.document,t+"up",this._onMouseUp),e(T.document,"touchend",this._onTouchEnd,i),e(T.document,t+"move",this._onMouseMove,i),e(T.document,"touchmove",this._onMouseMove,i)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(t,e){this.__onTransformGesture&&this.__onTransformGesture(t,e)},_onDrag:function(t,e){this.__onDrag&&this.__onDrag(t,e)},_onMouseWheel:function(t){this.__onMouseWheel(t)},_onMouseOut:function(t){var e=this._hoveredTarget;this.fire("mouse:out",{target:e,e:t}),this._hoveredTarget=null,e&&e.fire("mouseout",{e:t});var i=this;this._hoveredTargets.forEach((function(n){i.fire("mouse:out",{target:e,e:t}),n&&e.fire("mouseout",{e:t})})),this._hoveredTargets=[]},_onMouseEnter:function(t){this._currentTransform||this.findTarget(t)||(this.fire("mouse:over",{target:null,e:t}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(t,e){this.__onOrientationChange&&this.__onOrientationChange(t,e)},_onShake:function(t,e){this.__onShake&&this.__onShake(t,e)},_onLongPress:function(t,e){this.__onLongPress&&this.__onLongPress(t,e)},_onDragOver:function(t){t.preventDefault();var e=this._simpleEventHandler("dragover",t);this._fireEnterLeaveEvents(e,t)},_onDrop:function(t){return this._simpleEventHandler("drop:before",t),this._simpleEventHandler("drop",t)},_onContextMenu:function(t){return this.stopContextMenu&&(t.stopPropagation(),t.preventDefault()),!1},_onDoubleClick:function(t){this._cacheTransformEventData(t),this._handleEvent(t,"dblclick"),this._resetTransformEventData(t)},getPointerId:function(t){var e=t.changedTouches;return e?e[0]&&e[0].identifier:this.enablePointerEvents?t.pointerId:-1},_isMainEvent:function(t){return!0===t.isPrimary||!1!==t.isPrimary&&("touchend"===t.type&&0===t.touches.length||!t.changedTouches||t.changedTouches[0].identifier===this.mainTouchId)},_onTouchStart:function(n){n.preventDefault(),null===this.mainTouchId&&(this.mainTouchId=this.getPointerId(n)),this.__onMouseDown(n),this._resetTransformEventData();var r=this.upperCanvasEl,o=this._getEventPrefix();t(T.document,"touchend",this._onTouchEnd,i),t(T.document,"touchmove",this._onMouseMove,i),e(r,o+"down",this._onMouseDown)},_onMouseDown:function(n){this.__onMouseDown(n),this._resetTransformEventData();var r=this.upperCanvasEl,o=this._getEventPrefix();e(r,o+"move",this._onMouseMove,i),t(T.document,o+"up",this._onMouseUp),t(T.document,o+"move",this._onMouseMove,i)},_onTouchEnd:function(n){if(!(n.touches.length>0)){this.__onMouseUp(n),this._resetTransformEventData(),this.mainTouchId=null;var r=this._getEventPrefix();e(T.document,"touchend",this._onTouchEnd,i),e(T.document,"touchmove",this._onMouseMove,i);var o=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout((function(){t(o.upperCanvasEl,r+"down",o._onMouseDown),o._willAddMouseDown=0}),400)}},_onMouseUp:function(n){this.__onMouseUp(n),this._resetTransformEventData();var r=this.upperCanvasEl,o=this._getEventPrefix();this._isMainEvent(n)&&(e(T.document,o+"up",this._onMouseUp),e(T.document,o+"move",this._onMouseMove,i),t(r,o+"move",this._onMouseMove,i))},_onMouseMove:function(t){!this.allowTouchScrolling&&t.preventDefault&&t.preventDefault(),this.__onMouseMove(t)},_onResize:function(){this.calcOffset()},_shouldRender:function(t){var e=this._activeObject;return!!(!!e!=!!t||e&&t&&e!==t)||(e&&e.isEditing,!1)},__onMouseUp:function(t){var e,i=this._currentTransform,r=this._groupSelector,o=!1,s=!r||0===r.left&&0===r.top;if(this._cacheTransformEventData(t),e=this._target,this._handleEvent(t,"up:before"),n(t,3))this.fireRightClick&&this._handleEvent(t,"up",3,s);else{if(n(t,2))return this.fireMiddleClick&&this._handleEvent(t,"up",2,s),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)this._onMouseUpInDrawingMode(t);else if(this._isMainEvent(t)){if(i&&(this._finalizeCurrentTransform(t),o=i.actionPerformed),!s){var a=e===this._activeObject;this._maybeGroupObjects(t),o||(o=this._shouldRender(e)||!a&&e===this._activeObject)}var h,c;if(e){if(h=e._findTargetCorner(this.getPointer(t,!0),T.util.isTouchEvent(t)),e.selectable&&e!==this._activeObject&&"up"===e.activeOn)this.setActiveObject(e,t),o=!0;else{var l=e.controls[h],u=l&&l.getMouseUpHandler(t,e,l);u&&u(t,i,(c=this.getPointer(t)).x,c.y)}e.isMoving=!1}if(i&&(i.target!==e||i.corner!==h)){var f=i.target&&i.target.controls[i.corner],d=f&&f.getMouseUpHandler(t,e,l);c=c||this.getPointer(t),d&&d(t,i,c.x,c.y)}this._setCursorFromEvent(t,e),this._handleEvent(t,"up",1,s),this._groupSelector=null,this._currentTransform=null,e&&(e.__corner=0),o?this.requestRenderAll():s||this.renderTop()}}},_simpleEventHandler:function(t,e){var i=this.findTarget(e),n=this.targets,r={e,target:i,subTargets:n};if(this.fire(t,r),i&&i.fire(t,r),!n)return i;for(var o=0;o<n.length;o++)n[o].fire(t,r);return i},_handleEvent:function(t,e,i,n){var r=this._target,o=this.targets||[],s={e:t,target:r,subTargets:o,button:i||1,isClick:n||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};"up"===e&&(s.currentTarget=this.findTarget(t),s.currentSubTargets=this.targets),this.fire("mouse:"+e,s),r&&r.fire("mouse"+e,s);for(var a=0;a<o.length;a++)o[a].fire("mouse"+e,s)},_finalizeCurrentTransform:function(t){var e=this._currentTransform,i=e.target,n={e:t,target:i,transform:e,action:e.action};i._scaling&&(i._scaling=!1),i.setCoords(),(e.actionPerformed||this.stateful&&i.hasStateChanged())&&this._fire("modified",n)},_onMouseDownInDrawingMode:function(t){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(t).requestRenderAll();var e=this.getPointer(t);this.freeDrawingBrush.onMouseDown(e,{e:t,pointer:e}),this._handleEvent(t,"down")},_onMouseMoveInDrawingMode:function(t){if(this._isCurrentlyDrawing){var e=this.getPointer(t);this.freeDrawingBrush.onMouseMove(e,{e:t,pointer:e})}this.setCursor(this.freeDrawingCursor),this._handleEvent(t,"move")},_onMouseUpInDrawingMode:function(t){var e=this.getPointer(t);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:t,pointer:e}),this._handleEvent(t,"up")},__onMouseDown:function(t){this._cacheTransformEventData(t),this._handleEvent(t,"down:before");var e=this._target;if(n(t,3))this.fireRightClick&&this._handleEvent(t,"down",3);else if(n(t,2))this.fireMiddleClick&&this._handleEvent(t,"down",2);else if(this.isDrawingMode)this._onMouseDownInDrawingMode(t);else if(this._isMainEvent(t)&&!this._currentTransform){var i=this._pointer;this._previousPointer=i;var r=this._shouldRender(e),o=this._shouldGroup(t,e);if(this._shouldClearSelection(t,e)?this.discardActiveObject(t):o&&(this._handleGrouping(t,e),e=this._activeObject),!this.selection||e&&(e.selectable||e.isEditing||e===this._activeObject)||(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),e){var s=e===this._activeObject;e.selectable&&"down"===e.activeOn&&this.setActiveObject(e,t);var a=e._findTargetCorner(this.getPointer(t,!0),T.util.isTouchEvent(t));if(e.__corner=a,e===this._activeObject&&(a||!o)){this._setupCurrentTransform(t,e,s);var h=e.controls[a],c=(i=this.getPointer(t),h&&h.getMouseDownHandler(t,e,h));c&&c(t,this._currentTransform,i.x,i.y)}}this._handleEvent(t,"down"),(r||o)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(t){this._resetTransformEventData(),this._pointer=this.getPointer(t,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(t)||null},_beforeTransform:function(t){var e=this._currentTransform;this.stateful&&e.target.saveState(),this.fire("before:transform",{e:t,transform:e})},__onMouseMove:function(t){var e,i;if(this._handleEvent(t,"move:before"),this._cacheTransformEventData(t),this.isDrawingMode)this._onMouseMoveInDrawingMode(t);else if(this._isMainEvent(t)){var n=this._groupSelector;n?(i=this._absolutePointer,n.left=i.x-n.ex,n.top=i.y-n.ey,this.renderTop()):this._currentTransform?this._transformObject(t):(e=this.findTarget(t)||null,this._setCursorFromEvent(t,e),this._fireOverOutEvents(e,t)),this._handleEvent(t,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(t,e){var i=this._hoveredTarget,n=this._hoveredTargets,r=this.targets,o=Math.max(n.length,r.length);this.fireSyntheticInOutEvents(t,e,{oldTarget:i,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var s=0;s<o;s++)this.fireSyntheticInOutEvents(r[s],e,{oldTarget:n[s],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=t,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(t,e){var i=this._draggedoverTarget,n=this._hoveredTargets,r=this.targets,o=Math.max(n.length,r.length);this.fireSyntheticInOutEvents(t,e,{oldTarget:i,evtOut:"dragleave",evtIn:"dragenter"});for(var s=0;s<o;s++)this.fireSyntheticInOutEvents(r[s],e,{oldTarget:n[s],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=t},fireSyntheticInOutEvents:function(t,e,i){var n,r,o,s=i.oldTarget,a=s!==t,h=i.canvasEvtIn,c=i.canvasEvtOut;a&&(n={e,target:t,previousTarget:s},r={e,target:s,nextTarget:t}),o=t&&a,s&&a&&(c&&this.fire(c,r),s.fire(i.evtOut,r)),o&&(h&&this.fire(h,n),t.fire(i.evtIn,n))},__onMouseWheel:function(t){this._cacheTransformEventData(t),this._handleEvent(t,"wheel"),this._resetTransformEventData()},_transformObject:function(t){var e=this.getPointer(t),i=this._currentTransform;i.reset=!1,i.shiftKey=t.shiftKey,i.altKey=t[this.centeredKey],this._performTransformAction(t,i,e),i.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(t,e,i){var n=i.x,r=i.y,o=e.action,s=!1,a=e.actionHandler;a&&(s=a(t,e,n,r)),"drag"===o&&s&&(e.target.isMoving=!0,this.setCursor(e.target.moveCursor||this.moveCursor)),e.actionPerformed=e.actionPerformed||s},_fire:T.controlsUtils.fireEvent,_setCursorFromEvent:function(t,e){if(!e)return this.setCursor(this.defaultCursor),!1;var i=e.hoverCursor||this.hoverCursor,n=this._activeObject&&"activeSelection"===this._activeObject.type?this._activeObject:null,r=(!n||!n.contains(e))&&e._findTargetCorner(this.getPointer(t,!0));r?this.setCursor(this.getCornerCursor(r,e,t)):(e.subTargetCheck&&this.targets.concat().reverse().map((function(t){i=t.hoverCursor||i})),this.setCursor(i))},getCornerCursor:function(t,e,i){var n=e.controls[t];return n.cursorStyleHandler(i,n,e)}})}(),m=Math.min,y=Math.max,T.util.object.extend(T.Canvas.prototype,{_shouldGroup:function(t,e){var i=this._activeObject;return i&&this._isSelectionKeyPressed(t)&&e&&e.selectable&&this.selection&&(i!==e||"activeSelection"===i.type)&&!e.onSelect({e:t})},_handleGrouping:function(t,e){var i=this._activeObject;i.__corner||(e!==i||(e=this.findTarget(t,!0))&&e.selectable)&&(i&&"activeSelection"===i.type?this._updateActiveSelection(e,t):this._createActiveSelection(e,t))},_updateActiveSelection:function(t,e){var i=this._activeObject,n=i._objects.slice(0);i.contains(t)?(i.removeWithUpdate(t),this._hoveredTarget=t,this._hoveredTargets=this.targets.concat(),1===i.size()&&this._setActiveObject(i.item(0),e)):(i.addWithUpdate(t),this._hoveredTarget=i,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(n,e)},_createActiveSelection:function(t,e){var i=this.getActiveObjects(),n=this._createGroup(t);this._hoveredTarget=n,this._setActiveObject(n,e),this._fireSelectionEvents(i,e)},_createGroup:function(t){var e=this._objects,i=e.indexOf(this._activeObject)<e.indexOf(t)?[this._activeObject,t]:[t,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new T.ActiveSelection(i,{canvas:this})},_groupSelectedObjects:function(t){var e,i=this._collectObjects(t);1===i.length?this.setActiveObject(i[0],t):i.length>1&&(e=new T.ActiveSelection(i.reverse(),{canvas:this}),this.setActiveObject(e,t))},_collectObjects:function(t){for(var e,i=[],n=this._groupSelector.ex,r=this._groupSelector.ey,o=n+this._groupSelector.left,s=r+this._groupSelector.top,a=new T.Point(m(n,o),m(r,s)),h=new T.Point(y(n,o),y(r,s)),c=!this.selectionFullyContained,l=n===o&&r===s,u=this._objects.length;u--&&!((e=this._objects[u])&&e.selectable&&e.visible&&(c&&e.intersectsWithRect(a,h,!0)||e.isContainedWithinRect(a,h,!0)||c&&e.containsPoint(a,null,!0)||c&&e.containsPoint(h,null,!0))&&(i.push(e),l)););return i.length>1&&(i=i.filter((function(e){return!e.onSelect({e:t})}))),i},_maybeGroupObjects:function(t){this.selection&&this._groupSelector&&this._groupSelectedObjects(t),this.setCursor(this.defaultCursor),this._groupSelector=null}}),T.util.object.extend(T.StaticCanvas.prototype,{toDataURL:function(t){t||(t={});var e=t.format||"png",i=t.quality||1,n=(t.multiplier||1)*(t.enableRetinaScaling?this.getRetinaScaling():1),r=this.toCanvasElement(n,t);return T.util.toDataURL(r,e,i)},toCanvasElement:function(t,e){t=t||1;var i=((e=e||{}).width||this.width)*t,n=(e.height||this.height)*t,r=this.getZoom(),o=this.width,s=this.height,a=r*t,h=this.viewportTransform,c=(h[4]-(e.left||0))*t,l=(h[5]-(e.top||0))*t,u=this.interactive,f=[a,0,0,a,c,l],d=this.enableRetinaScaling,g=T.util.createCanvasElement(),p=this.contextTop;return g.width=i,g.height=n,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=f,this.width=i,this.height=n,this.calcViewportBoundaries(),this.renderCanvas(g.getContext("2d"),this._objects),this.viewportTransform=h,this.width=o,this.height=s,this.calcViewportBoundaries(),this.interactive=u,this.enableRetinaScaling=d,this.contextTop=p,g}}),T.util.object.extend(T.StaticCanvas.prototype,{loadFromJSON:function(t,e,i){if(t){var n="string"==typeof t?JSON.parse(t):T.util.object.clone(t),r=this,o=n.clipPath,s=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete n.clipPath,this._enlivenObjects(n.objects,(function(t){r.clear(),r._setBgOverlay(n,(function(){o?r._enlivenObjects([o],(function(i){r.clipPath=i[0],r.__setupCanvas.call(r,n,t,s,e)})):r.__setupCanvas.call(r,n,t,s,e)}))}),i),this}},__setupCanvas:function(t,e,i,n){var r=this;e.forEach((function(t,e){r.insertAt(t,e)})),this.renderOnAddRemove=i,delete t.objects,delete t.backgroundImage,delete t.overlayImage,delete t.background,delete t.overlay,this._setOptions(t),this.renderAll(),n&&n()},_setBgOverlay:function(t,e){var i={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(t.backgroundImage||t.overlayImage||t.background||t.overlay){var n=function(){i.backgroundImage&&i.overlayImage&&i.backgroundColor&&i.overlayColor&&e&&e()};this.__setBgOverlay("backgroundImage",t.backgroundImage,i,n),this.__setBgOverlay("overlayImage",t.overlayImage,i,n),this.__setBgOverlay("backgroundColor",t.background,i,n),this.__setBgOverlay("overlayColor",t.overlay,i,n)}else e&&e()},__setBgOverlay:function(t,e,i,n){var r=this;if(!e)return i[t]=!0,void(n&&n());"backgroundImage"===t||"overlayImage"===t?T.util.enlivenObjects([e],(function(e){r[t]=e[0],i[t]=!0,n&&n()})):this["set"+T.util.string.capitalize(t,!0)](e,(function(){i[t]=!0,n&&n()}))},_enlivenObjects:function(t,e,i){t&&0!==t.length?T.util.enlivenObjects(t,(function(t){e&&e(t)}),null,i):e&&e([])},_toDataURL:function(t,e){this.clone((function(i){e(i.toDataURL(t))}))},_toDataURLWithMultiplier:function(t,e,i){this.clone((function(n){i(n.toDataURLWithMultiplier(t,e))}))},clone:function(t,e){var i=JSON.stringify(this.toJSON(e));this.cloneWithoutData((function(e){e.loadFromJSON(i,(function(){t&&t(e)}))}))},cloneWithoutData:function(t){var e=T.util.createCanvasElement();e.width=this.width,e.height=this.height;var i=new T.Canvas(e);this.backgroundImage?(i.setBackgroundImage(this.backgroundImage.src,(function(){i.renderAll(),t&&t(i)})),i.backgroundImageOpacity=this.backgroundImageOpacity,i.backgroundImageStretch=this.backgroundImageStretch):t&&t(i)}}),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.util.object.clone,r=e.util.toFixed,o=e.util.string.capitalize,s=e.util.degreesToRadians,a=!e.isLikelyNode;e.Object||(e.Object=e.util.createClass(e.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:a,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(t){t&&this.setOptions(t)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=e.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(t){var i=e.perfLimitSizeTotal,n=t.width,r=t.height,o=e.maxCacheSideLimit,s=e.minCacheSideLimit;if(n<=o&&r<=o&&n*r<=i)return n<s&&(t.width=s),r<s&&(t.height=s),t;var a=n/r,h=e.util.limitDimsByArea(a,i),c=e.util.capValue,l=c(s,h.x,o),u=c(s,h.y,o);return n>l&&(t.zoomX/=n/l,t.width=l,t.capped=!0),r>u&&(t.zoomY/=r/u,t.height=u,t.capped=!0),t},_getCacheCanvasDimensions:function(){var t=this.getTotalObjectScaling(),e=this._getTransformedDimensions(0,0),i=e.x*t.scaleX/this.scaleX,n=e.y*t.scaleY/this.scaleY;return{width:i+2,height:n+2,zoomX:t.scaleX,zoomY:t.scaleY,x:i,y:n}},_updateCacheCanvas:function(){var t=this.canvas;if(this.noScaleCache&&t&&t._currentTransform){var i=t._currentTransform.target,n=t._currentTransform.action;if(this===i&&n.slice&&"scale"===n.slice(0,5))return!1}var r,o,s=this._cacheCanvas,a=this._limitCacheSize(this._getCacheCanvasDimensions()),h=e.minCacheSideLimit,c=a.width,l=a.height,u=a.zoomX,f=a.zoomY,d=c!==this.cacheWidth||l!==this.cacheHeight,g=this.zoomX!==u||this.zoomY!==f,p=d||g,v=0,m=0,y=!1;if(d){var _=this._cacheCanvas.width,x=this._cacheCanvas.height,b=c>_||l>x;y=b||(c<.9*_||l<.9*x)&&_>h&&x>h,b&&!a.capped&&(c>h||l>h)&&(v=.1*c,m=.1*l)}return this instanceof e.Text&&this.path&&(p=!0,y=!0,v+=this.getHeightOfLine(0)*this.zoomX,m+=this.getHeightOfLine(0)*this.zoomY),!!p&&(y?(s.width=Math.ceil(c+v),s.height=Math.ceil(l+m)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,s.width,s.height)),r=a.x/2,o=a.y/2,this.cacheTranslationX=Math.round(s.width/2-r)+r,this.cacheTranslationY=Math.round(s.height/2-o)+o,this.cacheWidth=c,this.cacheHeight=l,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(u,f),this.zoomX=u,this.zoomY=f,!0)},setOptions:function(t){this._setOptions(t),this._initGradient(t.fill,"fill"),this._initGradient(t.stroke,"stroke"),this._initPattern(t.fill,"fill"),this._initPattern(t.stroke,"stroke")},transform:function(t){var e=this.group&&!this.group._transformDone||this.group&&this.canvas&&t===this.canvas.contextTop,i=this.calcTransformMatrix(!e);t.transform(i[0],i[1],i[2],i[3],i[4],i[5])},toObject:function(t){var i=e.Object.NUM_FRACTION_DIGITS,n={type:this.type,version:e.version,originX:this.originX,originY:this.originY,left:r(this.left,i),top:r(this.top,i),width:r(this.width,i),height:r(this.height,i),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:r(this.strokeWidth,i),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:r(this.strokeMiterLimit,i),scaleX:r(this.scaleX,i),scaleY:r(this.scaleY,i),angle:r(this.angle,i),flipX:this.flipX,flipY:this.flipY,opacity:r(this.opacity,i),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:r(this.skewX,i),skewY:r(this.skewY,i)};return this.clipPath&&!this.clipPath.excludeFromExport&&(n.clipPath=this.clipPath.toObject(t),n.clipPath.inverted=this.clipPath.inverted,n.clipPath.absolutePositioned=this.clipPath.absolutePositioned),e.util.populateWithProperties(this,n,t),this.includeDefaultValues||(n=this._removeDefaultValues(n)),n},toDatalessObject:function(t){return this.toObject(t)},_removeDefaultValues:function(t){var i=e.util.getKlass(t.type).prototype;return i.stateProperties.forEach((function(e){"left"!==e&&"top"!==e&&(t[e]===i[e]&&delete t[e],Array.isArray(t[e])&&Array.isArray(i[e])&&0===t[e].length&&0===i[e].length&&delete t[e])})),t},toString:function(){return"#<fabric."+o(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var t=e.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(t.scaleX),scaleY:Math.abs(t.scaleY)}},getTotalObjectScaling:function(){var t=this.getObjectScaling(),e=t.scaleX,i=t.scaleY;if(this.canvas){var n=this.canvas.getZoom(),r=this.canvas.getRetinaScaling();e*=n*r,i*=n*r}return{scaleX:e,scaleY:i}},getObjectOpacity:function(){var t=this.opacity;return this.group&&(t*=this.group.getObjectOpacity()),t},_set:function(t,i){var n="scaleX"===t||"scaleY"===t,r=this[t]!==i,o=!1;return n&&(i=this._constrainScale(i)),"scaleX"===t&&i<0?(this.flipX=!this.flipX,i*=-1):"scaleY"===t&&i<0?(this.flipY=!this.flipY,i*=-1):"shadow"!==t||!i||i instanceof e.Shadow?"dirty"===t&&this.group&&this.group.set("dirty",i):i=new e.Shadow(i),this[t]=i,r&&(o=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(t)>-1?(this.dirty=!0,o&&this.group.set("dirty",!0)):o&&this.stateProperties.indexOf(t)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:e.iMatrix.concat()},isNotVisible:function(){return 0===this.opacity||!this.width&&!this.height&&0===this.strokeWidth||!this.visible},render:function(t){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(t.save(),this._setupCompositeOperation(t),this.drawSelectionBackground(t),this.transform(t),this._setOpacity(t),this._setShadow(t,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(t)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(t),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),t.restore())},renderCache:function(t){t=t||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,t.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&"transparent"!==this.stroke&&0!==this.strokeWidth},hasFill:function(){return this.fill&&"transparent"!==this.fill},needsItsOwnCache:function(){return!("stroke"!==this.paintFirst||!this.hasFill()||!this.hasStroke()||"object"!=typeof this.shadow)||!!this.clipPath},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)},drawClipPathOnCache:function(t,i){if(t.save(),i.inverted?t.globalCompositeOperation="destination-out":t.globalCompositeOperation="destination-in",i.absolutePositioned){var n=e.util.invertTransform(this.calcTransformMatrix());t.transform(n[0],n[1],n[2],n[3],n[4],n[5])}i.transform(t),t.scale(1/i.zoomX,1/i.zoomY),t.drawImage(i._cacheCanvas,-i.cacheTranslationX,-i.cacheTranslationY),t.restore()},drawObject:function(t,e){var i=this.fill,n=this.stroke;e?(this.fill="black",this.stroke="",this._setClippingProperties(t)):this._renderBackground(t),this._render(t),this._drawClipPath(t,this.clipPath),this.fill=i,this.stroke=n},_drawClipPath:function(t,e){e&&(e.canvas=this.canvas,e.shouldCache(),e._transformDone=!0,e.renderCache({forClipping:!0}),this.drawClipPathOnCache(t,e))},drawCacheOnCanvas:function(t){t.scale(1/this.zoomX,1/this.zoomY),t.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(t){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!t&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!t){var e=this.cacheWidth/this.zoomX,i=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-e/2,-i/2,e,i)}return!0}return!1},_renderBackground:function(t){if(this.backgroundColor){var e=this._getNonTransformedDimensions();t.fillStyle=this.backgroundColor,t.fillRect(-e.x/2,-e.y/2,e.x,e.y),this._removeShadow(t)}},_setOpacity:function(t){this.group&&!this.group._transformDone?t.globalAlpha=this.getObjectOpacity():t.globalAlpha*=this.opacity},_setStrokeStyles:function(t,e){var i=e.stroke;i&&(t.lineWidth=e.strokeWidth,t.lineCap=e.strokeLineCap,t.lineDashOffset=e.strokeDashOffset,t.lineJoin=e.strokeLineJoin,t.miterLimit=e.strokeMiterLimit,i.toLive?"percentage"===i.gradientUnits||i.gradientTransform||i.patternTransform?this._applyPatternForTransformedGradient(t,i):(t.strokeStyle=i.toLive(t,this),this._applyPatternGradientTransform(t,i)):t.strokeStyle=e.stroke)},_setFillStyles:function(t,e){var i=e.fill;i&&(i.toLive?(t.fillStyle=i.toLive(t,this),this._applyPatternGradientTransform(t,e.fill)):t.fillStyle=i)},_setClippingProperties:function(t){t.globalAlpha=1,t.strokeStyle="transparent",t.fillStyle="#000000"},_setLineDash:function(t,e){e&&0!==e.length&&(1&e.length&&e.push.apply(e,e),t.setLineDash(e))},_renderControls:function(t,i){var n,r,o,a=this.getViewportTransform(),h=this.calcTransformMatrix();r=void 0!==(i=i||{}).hasBorders?i.hasBorders:this.hasBorders,o=void 0!==i.hasControls?i.hasControls:this.hasControls,h=e.util.multiplyTransformMatrices(a,h),n=e.util.qrDecompose(h),t.save(),t.translate(n.translateX,n.translateY),t.lineWidth=1*this.borderScaleFactor,this.group||(t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(n.angle-=180),t.rotate(s(this.group?n.angle:this.angle)),i.forActiveSelection||this.group?r&&this.drawBordersInGroup(t,n,i):r&&this.drawBorders(t,i),o&&this.drawControls(t,i),t.restore()},_setShadow:function(t){if(this.shadow){var i,n=this.shadow,r=this.canvas,o=r&&r.viewportTransform[0]||1,s=r&&r.viewportTransform[3]||1;i=n.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),r&&r._isRetinaScaling()&&(o*=e.devicePixelRatio,s*=e.devicePixelRatio),t.shadowColor=n.color,t.shadowBlur=n.blur*e.browserShadowBlurConstant*(o+s)*(i.scaleX+i.scaleY)/4,t.shadowOffsetX=n.offsetX*o*i.scaleX,t.shadowOffsetY=n.offsetY*s*i.scaleY}},_removeShadow:function(t){this.shadow&&(t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0)},_applyPatternGradientTransform:function(t,e){if(!e||!e.toLive)return{offsetX:0,offsetY:0};var i=e.gradientTransform||e.patternTransform,n=-this.width/2+e.offsetX||0,r=-this.height/2+e.offsetY||0;return"percentage"===e.gradientUnits?t.transform(this.width,0,0,this.height,n,r):t.transform(1,0,0,1,n,r),i&&t.transform(i[0],i[1],i[2],i[3],i[4],i[5]),{offsetX:n,offsetY:r}},_renderPaintInOrder:function(t){"stroke"===this.paintFirst?(this._renderStroke(t),this._renderFill(t)):(this._renderFill(t),this._renderStroke(t))},_render:function(){},_renderFill:function(t){this.fill&&(t.save(),this._setFillStyles(t,this),"evenodd"===this.fillRule?t.fill("evenodd"):t.fill(),t.restore())},_renderStroke:function(t){if(this.stroke&&0!==this.strokeWidth){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this.strokeUniform&&this.group){var e=this.getObjectScaling();t.scale(1/e.scaleX,1/e.scaleY)}else this.strokeUniform&&t.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(t,this.strokeDashArray),this._setStrokeStyles(t,this),t.stroke(),t.restore()}},_applyPatternForTransformedGradient:function(t,i){var n,r=this._limitCacheSize(this._getCacheCanvasDimensions()),o=e.util.createCanvasElement(),s=this.canvas.getRetinaScaling(),a=r.x/this.scaleX/s,h=r.y/this.scaleY/s;o.width=a,o.height=h,(n=o.getContext("2d")).beginPath(),n.moveTo(0,0),n.lineTo(a,0),n.lineTo(a,h),n.lineTo(0,h),n.closePath(),n.translate(a/2,h/2),n.scale(r.zoomX/this.scaleX/s,r.zoomY/this.scaleY/s),this._applyPatternGradientTransform(n,i),n.fillStyle=i.toLive(t),n.fill(),t.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),t.scale(s*this.scaleX/r.zoomX,s*this.scaleY/r.zoomY),t.strokeStyle=n.createPattern(o,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var t=e.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",t.scaleX),this.set("scaleY",t.scaleY),this.angle=t.angle,this.skewX=t.skewX,this.skewY=0}},_removeTransformMatrix:function(t){var i=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),i=e.util.transformPoint(i,this.transformMatrix)),this.transformMatrix=null,t&&(this.scaleX*=t.scaleX,this.scaleY*=t.scaleY,this.cropX=t.cropX,this.cropY=t.cropY,i.x+=t.offsetLeft,i.y+=t.offsetTop,this.width=t.width,this.height=t.height),this.setPositionByOrigin(i,"center","center")},clone:function(t,i){var n=this.toObject(i);this.constructor.fromObject?this.constructor.fromObject(n,t):e.Object._fromObject("Object",n,t)},cloneAsImage:function(t,i){var n=this.toCanvasElement(i);return t&&t(new e.Image(n)),this},toCanvasElement:function(t){t||(t={});var i=e.util,n=i.saveObjectTransform(this),r=this.group,o=this.shadow,s=Math.abs,a=(t.multiplier||1)*(t.enableRetinaScaling?e.devicePixelRatio:1);delete this.group,t.withoutTransform&&i.resetObjectTransform(this),t.withoutShadow&&(this.shadow=null);var h,c,l,u,f=e.util.createCanvasElement(),d=this.getBoundingRect(!0,!0),g=this.shadow,p={x:0,y:0};g&&(c=g.blur,h=g.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),p.x=2*Math.round(s(g.offsetX)+c)*s(h.scaleX),p.y=2*Math.round(s(g.offsetY)+c)*s(h.scaleY)),l=d.width+p.x,u=d.height+p.y,f.width=Math.ceil(l),f.height=Math.ceil(u);var v=new e.StaticCanvas(f,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});"jpeg"===t.format&&(v.backgroundColor="#fff"),this.setPositionByOrigin(new e.Point(v.width/2,v.height/2),"center","center");var m=this.canvas;v.add(this);var y=v.toCanvasElement(a||1,t);return this.shadow=o,this.set("canvas",m),r&&(this.group=r),this.set(n).setCoords(),v._objects=[],v.dispose(),v=null,y},toDataURL:function(t){return t||(t={}),e.util.toDataURL(this.toCanvasElement(t),t.format||"png",t.quality||1)},isType:function(t){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===t},complexity:function(){return 1},toJSON:function(t){return this.toObject(t)},rotate:function(t){var e=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;return e&&this._setOriginToCenter(),this.set("angle",t),e&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(t,i){i=i||this.canvas.getPointer(t);var n=new e.Point(i.x,i.y),r=this._getLeftTopCoords();return this.angle&&(n=e.util.rotatePoint(n,r,s(-this.angle))),{x:n.x-r.x,y:n.y-r.y}},_setupCompositeOperation:function(t){this.globalCompositeOperation&&(t.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){e.runningAnimations&&e.runningAnimations.cancelByTarget(this)}}),e.util.createAccessors&&e.util.createAccessors(e.Object),i(e.Object.prototype,e.Observable),e.Object.NUM_FRACTION_DIGITS=2,e.Object.ENLIVEN_PROPS=["clipPath"],e.Object._fromObject=function(t,i,r,o){var s=e[t];i=n(i,!0),e.util.enlivenPatterns([i.fill,i.stroke],(function(t){void 0!==t[0]&&(i.fill=t[0]),void 0!==t[1]&&(i.stroke=t[1]),e.util.enlivenObjectEnlivables(i,i,(function(){var t=o?new s(i[o],i):new s(i);r&&r(t)}))}))},e.Object.__uid=0)}(e),_=T.util.degreesToRadians,x={left:-.5,center:0,right:.5},b={top:-.5,center:0,bottom:.5},T.util.object.extend(T.Object.prototype,{translateToGivenOrigin:function(t,e,i,n,r){var o,s,a,h=t.x,c=t.y;return"string"==typeof e?e=x[e]:e-=.5,"string"==typeof n?n=x[n]:n-=.5,"string"==typeof i?i=b[i]:i-=.5,"string"==typeof r?r=b[r]:r-=.5,s=r-i,((o=n-e)||s)&&(a=this._getTransformedDimensions(),h=t.x+o*a.x,c=t.y+s*a.y),new T.Point(h,c)},translateToCenterPoint:function(t,e,i){var n=this.translateToGivenOrigin(t,e,i,"center","center");return this.angle?T.util.rotatePoint(n,t,_(this.angle)):n},translateToOriginPoint:function(t,e,i){var n=this.translateToGivenOrigin(t,"center","center",e,i);return this.angle?T.util.rotatePoint(n,t,_(this.angle)):n},getCenterPoint:function(){var t=new T.Point(this.left,this.top);return this.translateToCenterPoint(t,this.originX,this.originY)},getPointByOrigin:function(t,e){var i=this.getCenterPoint();return this.translateToOriginPoint(i,t,e)},toLocalPoint:function(t,e,i){var n,r,o=this.getCenterPoint();return n=void 0!==e&&void 0!==i?this.translateToGivenOrigin(o,"center","center",e,i):new T.Point(this.left,this.top),r=new T.Point(t.x,t.y),this.angle&&(r=T.util.rotatePoint(r,o,-_(this.angle))),r.subtractEquals(n)},setPositionByOrigin:function(t,e,i){var n=this.translateToCenterPoint(t,e,i),r=this.translateToOriginPoint(n,this.originX,this.originY);this.set("left",r.x),this.set("top",r.y)},adjustPosition:function(t){var e,i,n=_(this.angle),r=this.getScaledWidth(),o=T.util.cos(n)*r,s=T.util.sin(n)*r;e="string"==typeof this.originX?x[this.originX]:this.originX-.5,i="string"==typeof t?x[t]:t-.5,this.left+=o*(i-e),this.top+=s*(i-e),this.setCoords(),this.originX=t},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var t=this.getCenterPoint();this.originX="center",this.originY="center",this.left=t.x,this.top=t.y},_resetOrigin:function(){var t=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=t.x,this.top=t.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}}),function(){var t=T.util,e=t.degreesToRadians,i=t.multiplyTransformMatrices,n=t.transformPoint;t.object.extend(T.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(t,e){return e?t?this.calcACoords():this.calcLineCoords():(this.aCoords&&this.lineCoords||this.setCoords(!0),t?this.aCoords:this.lineCoords)},getCoords:function(t,e){return i=this._getCoords(t,e),[new T.Point(i.tl.x,i.tl.y),new T.Point(i.tr.x,i.tr.y),new T.Point(i.br.x,i.br.y),new T.Point(i.bl.x,i.bl.y)];var i},intersectsWithRect:function(t,e,i,n){var r=this.getCoords(i,n);return"Intersection"===T.Intersection.intersectPolygonRectangle(r,t,e).status},intersectsWithObject:function(t,e,i){return"Intersection"===T.Intersection.intersectPolygonPolygon(this.getCoords(e,i),t.getCoords(e,i)).status||t.isContainedWithinObject(this,e,i)||this.isContainedWithinObject(t,e,i)},isContainedWithinObject:function(t,e,i){for(var n=this.getCoords(e,i),r=e?t.aCoords:t.lineCoords,o=0,s=t._getImageLines(r);o<4;o++)if(!t.containsPoint(n[o],s))return!1;return!0},isContainedWithinRect:function(t,e,i,n){var r=this.getBoundingRect(i,n);return r.left>=t.x&&r.left+r.width<=e.x&&r.top>=t.y&&r.top+r.height<=e.y},containsPoint:function(t,e,i,n){var r=this._getCoords(i,n),o=(e=e||this._getImageLines(r),this._findCrossPoints(t,e));return 0!==o&&o%2==1},isOnScreen:function(t){if(!this.canvas)return!1;var e=this.canvas.vptCoords.tl,i=this.canvas.vptCoords.br;return!!this.getCoords(!0,t).some((function(t){return t.x<=i.x&&t.x>=e.x&&t.y<=i.y&&t.y>=e.y}))||!!this.intersectsWithRect(e,i,!0,t)||this._containsCenterOfCanvas(e,i,t)},_containsCenterOfCanvas:function(t,e,i){var n={x:(t.x+e.x)/2,y:(t.y+e.y)/2};return!!this.containsPoint(n,null,!0,i)},isPartiallyOnScreen:function(t){if(!this.canvas)return!1;var e=this.canvas.vptCoords.tl,i=this.canvas.vptCoords.br;return!!this.intersectsWithRect(e,i,!0,t)||this.getCoords(!0,t).every((function(t){return(t.x>=i.x||t.x<=e.x)&&(t.y>=i.y||t.y<=e.y)}))&&this._containsCenterOfCanvas(e,i,t)},_getImageLines:function(t){return{topline:{o:t.tl,d:t.tr},rightline:{o:t.tr,d:t.br},bottomline:{o:t.br,d:t.bl},leftline:{o:t.bl,d:t.tl}}},_findCrossPoints:function(t,e){var i,n,r,o=0;for(var s in e)if(!((r=e[s]).o.y<t.y&&r.d.y<t.y||r.o.y>=t.y&&r.d.y>=t.y||(r.o.x===r.d.x&&r.o.x>=t.x?n=r.o.x:(i=(r.d.y-r.o.y)/(r.d.x-r.o.x),n=-(t.y-0*t.x-(r.o.y-i*r.o.x))/(0-i)),n>=t.x&&(o+=1),2!==o)))break;return o},getBoundingRect:function(e,i){var n=this.getCoords(e,i);return t.makeBoundingBoxFromPoints(n)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(t){return Math.abs(t)<this.minScaleLimit?t<0?-this.minScaleLimit:this.minScaleLimit:0===t?1e-4:t},scale:function(t){return this._set("scaleX",t),this._set("scaleY",t),this.setCoords()},scaleToWidth:function(t,e){var i=this.getBoundingRect(e).width/this.getScaledWidth();return this.scale(t/this.width/i)},scaleToHeight:function(t,e){var i=this.getBoundingRect(e).height/this.getScaledHeight();return this.scale(t/this.height/i)},calcLineCoords:function(){var i=this.getViewportTransform(),r=this.padding,o=e(this.angle),s=t.cos(o)*r,a=t.sin(o)*r,h=s+a,c=s-a,l=this.calcACoords(),u={tl:n(l.tl,i),tr:n(l.tr,i),bl:n(l.bl,i),br:n(l.br,i)};return r&&(u.tl.x-=c,u.tl.y-=h,u.tr.x+=h,u.tr.y-=c,u.bl.x-=h,u.bl.y+=c,u.br.x+=c,u.br.y+=h),u},calcOCoords:function(){var t=this._calcRotateMatrix(),e=this._calcTranslateMatrix(),n=this.getViewportTransform(),r=i(n,e),o=i(r,t),s=(o=i(o,[1/n[0],0,0,1/n[3],0,0]),this._calculateCurrentDimensions()),a={};return this.forEachControl((function(t,e,i){a[e]=t.positionHandler(s,o,i)})),a},calcACoords:function(){var t=this._calcRotateMatrix(),e=this._calcTranslateMatrix(),r=i(e,t),o=this._getTransformedDimensions(),s=o.x/2,a=o.y/2;return{tl:n({x:-s,y:-a},r),tr:n({x:s,y:-a},r),bl:n({x:-s,y:a},r),br:n({x:s,y:a},r)}},setCoords:function(t){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),t||(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords()),this},_calcRotateMatrix:function(){return t.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var t=this.getCenterPoint();return[1,0,0,1,t.x,t.y]},transformMatrixKey:function(t){var e="_",i="";return!t&&this.group&&(i=this.group.transformMatrixKey(t)+e),i+this.top+e+this.left+e+this.scaleX+e+this.scaleY+e+this.skewX+e+this.skewY+e+this.angle+e+this.originX+e+this.originY+e+this.width+e+this.height+e+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(t){var e=this.calcOwnMatrix();if(t||!this.group)return e;var n=this.transformMatrixKey(t),r=this.matrixCache||(this.matrixCache={});return r.key===n?r.value:(this.group&&(e=i(this.group.calcTransformMatrix(!1),e)),r.key=n,r.value=e,e)},calcOwnMatrix:function(){var e=this.transformMatrixKey(!0),i=this.ownMatrixCache||(this.ownMatrixCache={});if(i.key===e)return i.value;var n=this._calcTranslateMatrix(),r={angle:this.angle,translateX:n[4],translateY:n[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return i.key=e,i.value=t.composeMatrix(r),i.value},_getNonTransformedDimensions:function(){var t=this.strokeWidth;return{x:this.width+t,y:this.height+t}},_getTransformedDimensions:function(e,i){void 0===e&&(e=this.skewX),void 0===i&&(i=this.skewY);var n,r,o,s=0===e&&0===i;if(this.strokeUniform?(r=this.width,o=this.height):(r=(n=this._getNonTransformedDimensions()).x,o=n.y),s)return this._finalizeDimensions(r*this.scaleX,o*this.scaleY);var a=t.sizeAfterTransform(r,o,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:e,skewY:i});return this._finalizeDimensions(a.x,a.y)},_finalizeDimensions:function(t,e){return this.strokeUniform?{x:t+this.strokeWidth,y:e+this.strokeWidth}:{x:t,y:e}},_calculateCurrentDimensions:function(){var t=this.getViewportTransform(),e=this._getTransformedDimensions();return n(e,t,!0).scalarAdd(2*this.padding)}})}(),T.util.object.extend(T.Object.prototype,{sendToBack:function(){return this.group?T.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?T.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(t){return this.group?T.StaticCanvas.prototype.sendBackwards.call(this.group,this,t):this.canvas&&this.canvas.sendBackwards(this,t),this},bringForward:function(t){return this.group?T.StaticCanvas.prototype.bringForward.call(this.group,this,t):this.canvas&&this.canvas.bringForward(this,t),this},moveTo:function(t){return this.group&&"activeSelection"!==this.group.type?T.StaticCanvas.prototype.moveTo.call(this.group,this,t):this.canvas&&this.canvas.moveTo(this,t),this}}),function(){function t(t,e){if(e){if(e.toLive)return t+": url(#SVGID_"+e.id+"); ";var i=new T.Color(e),n=t+": "+i.toRgb()+"; ",r=i.getAlpha();return 1!==r&&(n+=t+"-opacity: "+r.toString()+"; "),n}return t+": none; "}var e=T.util.toFixed;T.util.object.extend(T.Object.prototype,{getSvgStyles:function(e){var i=this.fillRule?this.fillRule:"nonzero",n=this.strokeWidth?this.strokeWidth:"0",r=this.strokeDashArray?this.strokeDashArray.join(" "):"none",o=this.strokeDashOffset?this.strokeDashOffset:"0",s=this.strokeLineCap?this.strokeLineCap:"butt",a=this.strokeLineJoin?this.strokeLineJoin:"miter",h=this.strokeMiterLimit?this.strokeMiterLimit:"4",c=void 0!==this.opacity?this.opacity:"1",l=this.visible?"":" visibility: hidden;",u=e?"":this.getSvgFilter(),f=t("fill",this.fill);return[t("stroke",this.stroke),"stroke-width: ",n,"; ","stroke-dasharray: ",r,"; ","stroke-linecap: ",s,"; ","stroke-dashoffset: ",o,"; ","stroke-linejoin: ",a,"; ","stroke-miterlimit: ",h,"; ",f,"fill-rule: ",i,"; ","opacity: ",c,";",u,l].join("")},getSvgSpanStyles:function(e,i){var n="; ",r=e.fontFamily?"font-family: "+(-1===e.fontFamily.indexOf("'")&&-1===e.fontFamily.indexOf('"')?"'"+e.fontFamily+"'":e.fontFamily)+n:"",o=e.strokeWidth?"stroke-width: "+e.strokeWidth+n:"",s=e.fontSize?"font-size: "+e.fontSize+"px"+n:"",a=e.fontStyle?"font-style: "+e.fontStyle+n:"",h=e.fontWeight?"font-weight: "+e.fontWeight+n:"",c=e.fill?t("fill",e.fill):"",l=e.stroke?t("stroke",e.stroke):"",u=this.getSvgTextDecoration(e);return u&&(u="text-decoration: "+u+n),[l,o,r,s,a,h,u,c,e.deltaY?"baseline-shift: "+-e.deltaY+"; ":"",i?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(t){return["overline","underline","line-through"].filter((function(e){return t[e.replace("-","")]})).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(t,e){var i=t?this.calcTransformMatrix():this.calcOwnMatrix();return'transform="'+T.util.matrixToSVG(i)+(e||"")+'" '},_setSVGBg:function(t){if(this.backgroundColor){var i=T.Object.NUM_FRACTION_DIGITS;t.push("\t\t<rect ",this._getFillAttributes(this.backgroundColor),' x="',e(-this.width/2,i),'" y="',e(-this.height/2,i),'" width="',e(this.width,i),'" height="',e(this.height,i),'"></rect>\n')}},toSVG:function(t){return this._createBaseSVGMarkup(this._toSVG(t),{reviver:t})},toClipPathSVG:function(t){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(t),{reviver:t})},_createBaseClipPathSVGMarkup:function(t,e){var i=(e=e||{}).reviver,n=e.additionalTransform||"",r=[this.getSvgTransform(!0,n),this.getSvgCommons()].join(""),o=t.indexOf("COMMON_PARTS");return t[o]=r,i?i(t.join("")):t.join("")},_createBaseSVGMarkup:function(t,e){var i,n,r=(e=e||{}).noStyle,o=e.reviver,s=r?"":'style="'+this.getSvgStyles()+'" ',a=e.withShadow?'style="'+this.getSvgFilter()+'" ':"",h=this.clipPath,c=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",l=h&&h.absolutePositioned,u=this.stroke,f=this.fill,d=this.shadow,g=[],p=t.indexOf("COMMON_PARTS"),v=e.additionalTransform;return h&&(h.clipPathId="CLIPPATH_"+T.Object.__uid++,n='<clipPath id="'+h.clipPathId+'" >\n'+h.toClipPathSVG(o)+"</clipPath>\n"),l&&g.push("<g ",a,this.getSvgCommons()," >\n"),g.push("<g ",this.getSvgTransform(!1),l?"":a+this.getSvgCommons()," >\n"),i=[s,c,r?"":this.addPaintOrder()," ",v?'transform="'+v+'" ':""].join(""),t[p]=i,f&&f.toLive&&g.push(f.toSVG(this)),u&&u.toLive&&g.push(u.toSVG(this)),d&&g.push(d.toSVG(this)),h&&g.push(n),g.push(t.join("")),g.push("</g>\n"),l&&g.push("</g>\n"),o?o(g.join("")):g.join("")},addPaintOrder:function(){return"fill"!==this.paintFirst?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var t=T.util.object.extend,e="stateProperties";function i(e,i,n){var r={};n.forEach((function(t){r[t]=e[t]})),t(e[i],r,!0)}function n(t,e,i){if(t===e)return!0;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var r=0,o=t.length;r<o;r++)if(!n(t[r],e[r]))return!1;return!0}if(t&&"object"==typeof t){var s,a=Object.keys(t);if(!e||"object"!=typeof e||!i&&a.length!==Object.keys(e).length)return!1;for(r=0,o=a.length;r<o;r++)if("canvas"!==(s=a[r])&&"group"!==s&&!n(t[s],e[s]))return!1;return!0}}T.util.object.extend(T.Object.prototype,{hasStateChanged:function(t){var i="_"+(t=t||e);return Object.keys(this[i]).length<this[t].length||!n(this[i],this,!0)},saveState:function(t){var n=t&&t.propertySet||e,r="_"+n;return this[r]?(i(this,r,this[n]),t&&t.stateProperties&&i(this,r,t.stateProperties),this):this.setupState(t)},setupState:function(t){var i=(t=t||{}).propertySet||e;return t.propertySet=i,this["_"+i]={},this.saveState(t),this}})}(),function(){var t=T.util.degreesToRadians;T.util.object.extend(T.Object.prototype,{_findTargetCorner:function(t,e){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var i,n,r,o=t.x,s=t.y,a=Object.keys(this.oCoords),h=a.length-1;for(this.__corner=0;h>=0;h--)if(r=a[h],this.isControlVisible(r)&&(n=this._getImageLines(e?this.oCoords[r].touchCorner:this.oCoords[r].corner),0!==(i=this._findCrossPoints({x:o,y:s},n))&&i%2==1))return this.__corner=r,r;return!1},forEachControl:function(t){for(var e in this.controls)t(this.controls[e],e,this)},_setCornerCoords:function(){var t=this.oCoords;for(var e in t){var i=this.controls[e];t[e].corner=i.calcCornerCoords(this.angle,this.cornerSize,t[e].x,t[e].y,!1),t[e].touchCorner=i.calcCornerCoords(this.angle,this.touchCornerSize,t[e].x,t[e].y,!0)}},drawSelectionBackground:function(e){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;e.save();var i=this.getCenterPoint(),n=this._calculateCurrentDimensions(),r=this.canvas.viewportTransform;return e.translate(i.x,i.y),e.scale(1/r[0],1/r[3]),e.rotate(t(this.angle)),e.fillStyle=this.selectionBackgroundColor,e.fillRect(-n.x/2,-n.y/2,n.x,n.y),e.restore(),this},drawBorders:function(t,e){e=e||{};var i=this._calculateCurrentDimensions(),n=this.borderScaleFactor,r=i.x+n,o=i.y+n,s=void 0!==e.hasControls?e.hasControls:this.hasControls,a=!1;return t.save(),t.strokeStyle=e.borderColor||this.borderColor,this._setLineDash(t,e.borderDashArray||this.borderDashArray),t.strokeRect(-r/2,-o/2,r,o),s&&(t.beginPath(),this.forEachControl((function(e,i,n){e.withConnection&&e.getVisibility(n,i)&&(a=!0,t.moveTo(e.x*r,e.y*o),t.lineTo(e.x*r+e.offsetX,e.y*o+e.offsetY))})),a&&t.stroke()),t.restore(),this},drawBordersInGroup:function(t,e,i){i=i||{};var n=T.util.sizeAfterTransform(this.width,this.height,e),r=this.strokeWidth,o=this.strokeUniform,s=this.borderScaleFactor,a=n.x+r*(o?this.canvas.getZoom():e.scaleX)+s,h=n.y+r*(o?this.canvas.getZoom():e.scaleY)+s;return t.save(),this._setLineDash(t,i.borderDashArray||this.borderDashArray),t.strokeStyle=i.borderColor||this.borderColor,t.strokeRect(-a/2,-h/2,a,h),t.restore(),this},drawControls:function(t,e){e=e||{},t.save();var i,n,r=this.canvas.getRetinaScaling();return t.setTransform(r,0,0,r,0,0),t.strokeStyle=t.fillStyle=e.cornerColor||this.cornerColor,this.transparentCorners||(t.strokeStyle=e.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(t,e.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(i=this.group.calcTransformMatrix()),this.forEachControl((function(r,o,s){n=s.oCoords[o],r.getVisibility(s,o)&&(i&&(n=T.util.transformPoint(n,i)),r.render(t,n.x,n.y,e,s))})),t.restore(),this},isControlVisible:function(t){return this.controls[t]&&this.controls[t].getVisibility(this,t)},setControlVisible:function(t,e){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[t]=e,this},setControlsVisibility:function(t){for(var e in t||(t={}),t)this.setControlVisible(e,t[e]);return this},onDeselect:function(){},onSelect:function(){}})}(),T.util.object.extend(T.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(t,e){var i=function(){},n=(e=e||{}).onComplete||i,r=e.onChange||i,o=this;return T.util.animate({target:this,startValue:t.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(e){t.set("left",e),o.requestRenderAll(),r()},onComplete:function(){t.setCoords(),n()}})},fxCenterObjectV:function(t,e){var i=function(){},n=(e=e||{}).onComplete||i,r=e.onChange||i,o=this;return T.util.animate({target:this,startValue:t.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(e){t.set("top",e),o.requestRenderAll(),r()},onComplete:function(){t.setCoords(),n()}})},fxRemove:function(t,e){var i=function(){},n=(e=e||{}).onComplete||i,r=e.onChange||i,o=this;return T.util.animate({target:this,startValue:t.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(e){t.set("opacity",e),o.requestRenderAll(),r()},onComplete:function(){o.remove(t),n()}})}}),T.util.object.extend(T.Object.prototype,{animate:function(){if(arguments[0]&&"object"==typeof arguments[0]){var t,e,i=[],n=[];for(t in arguments[0])i.push(t);for(var r=0,o=i.length;r<o;r++)t=i[r],e=r!==o-1,n.push(this._animate(t,arguments[0][t],arguments[1],e));return n}return this._animate.apply(this,arguments)},_animate:function(t,e,i,n){var r,o=this;e=e.toString(),i=i?T.util.object.clone(i):{},~t.indexOf(".")&&(r=t.split("."));var s=o.colorProperties.indexOf(t)>-1||r&&o.colorProperties.indexOf(r[1])>-1,a=r?this.get(r[0])[r[1]]:this.get(t);"from"in i||(i.from=a),s||(e=~e.indexOf("=")?a+parseFloat(e.replace("=","")):parseFloat(e));var h={target:this,startValue:i.from,endValue:e,byValue:i.by,easing:i.easing,duration:i.duration,abort:i.abort&&function(t,e,n){return i.abort.call(o,t,e,n)},onChange:function(e,s,a){r?o[r[0]][r[1]]=e:o.set(t,e),n||i.onChange&&i.onChange(e,s,a)},onComplete:function(t,e,r){n||(o.setCoords(),i.onComplete&&i.onComplete(t,e,r))}};return s?T.util.animateColor(h.startValue,h.endValue,h.duration,h):T.util.animate(h)}}),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.util.object.clone,r={x1:1,x2:1,y1:1,y2:1};function o(t,e){var i=t.origin,n=t.axis1,r=t.axis2,o=t.dimension,s=e.nearest,a=e.center,h=e.farthest;return function(){switch(this.get(i)){case s:return Math.min(this.get(n),this.get(r));case a:return Math.min(this.get(n),this.get(r))+.5*this.get(o);case h:return Math.max(this.get(n),this.get(r))}}}e.Line?e.warn("fabric.Line is already defined"):(e.Line=e.util.createClass(e.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:e.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(t,e){t||(t=[0,0,0,0]),this.callSuper("initialize",e),this.set("x1",t[0]),this.set("y1",t[1]),this.set("x2",t[2]),this.set("y2",t[3]),this._setWidthHeight(e)},_setWidthHeight:function(t){t||(t={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in t?t.left:this._getLeftToOriginX(),this.top="top"in t?t.top:this._getTopToOriginY()},_set:function(t,e){return this.callSuper("_set",t,e),void 0!==r[t]&&this._setWidthHeight(),this},_getLeftToOriginX:o({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:o({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(t){t.beginPath();var e=this.calcLinePoints();t.moveTo(e.x1,e.y1),t.lineTo(e.x2,e.y2),t.lineWidth=this.strokeWidth;var i=t.strokeStyle;t.strokeStyle=this.stroke||t.fillStyle,this.stroke&&this._renderStroke(t),t.strokeStyle=i},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(t){return i(this.callSuper("toObject",t),this.calcLinePoints())},_getNonTransformedDimensions:function(){var t=this.callSuper("_getNonTransformedDimensions");return"butt"===this.strokeLineCap&&(0===this.width&&(t.y-=this.strokeWidth),0===this.height&&(t.x-=this.strokeWidth)),t},calcLinePoints:function(){var t=this.x1<=this.x2?-1:1,e=this.y1<=this.y2?-1:1,i=t*this.width*.5,n=e*this.height*.5;return{x1:i,x2:t*this.width*-.5,y1:n,y2:e*this.height*-.5}},_toSVG:function(){var t=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',t.x1,'" y1="',t.y1,'" x2="',t.x2,'" y2="',t.y2,'" />\n']}}),e.Line.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),e.Line.fromElement=function(t,n,r){r=r||{};var o=e.parseAttributes(t,e.Line.ATTRIBUTE_NAMES),s=[o.x1||0,o.y1||0,o.x2||0,o.y2||0];n(new e.Line(s,i(o,r)))},e.Line.fromObject=function(t,i){var r=n(t,!0);r.points=[t.x1,t.y1,t.x2,t.y2],e.Object._fromObject("Line",r,(function(t){delete t.points,i&&i(t)}),"points")})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.degreesToRadians;e.Circle?e.warn("fabric.Circle is already defined."):(e.Circle=e.util.createClass(e.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:e.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(t,e){return this.callSuper("_set",t,e),"radius"===t&&this.setRadius(e),this},toObject:function(t){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(t))},_toSVG:function(){var t,n=(this.endAngle-this.startAngle)%360;if(0===n)t=["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',this.radius,'" />\n'];else{var r=i(this.startAngle),o=i(this.endAngle),s=this.radius;t=['<path d="M '+e.util.cos(r)*s+" "+e.util.sin(r)*s," A "+s+" "+s," 0 ",+(n>180?"1":"0")+" 1"," "+e.util.cos(o)*s+" "+e.util.sin(o)*s,'" ',"COMMON_PARTS"," />\n"]}return t},_render:function(t){t.beginPath(),t.arc(0,0,this.radius,i(this.startAngle),i(this.endAngle),!1),this._renderPaintInOrder(t)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(t){return this.radius=t,this.set("width",2*t).set("height",2*t)}}),e.Circle.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),e.Circle.fromElement=function(t,i){var n,r=e.parseAttributes(t,e.Circle.ATTRIBUTE_NAMES);if(!("radius"in(n=r)&&n.radius>=0))throw new Error("value of `r` attribute is required and can not be negative");r.left=(r.left||0)-r.radius,r.top=(r.top||0)-r.radius,i(new e.Circle(r))},e.Circle.fromObject=function(t,i){e.Object._fromObject("Circle",t,i)})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Triangle?e.warn("fabric.Triangle is already defined"):(e.Triangle=e.util.createClass(e.Object,{type:"triangle",width:100,height:100,_render:function(t){var e=this.width/2,i=this.height/2;t.beginPath(),t.moveTo(-e,i),t.lineTo(0,-i),t.lineTo(e,i),t.closePath(),this._renderPaintInOrder(t)},_toSVG:function(){var t=this.width/2,e=this.height/2;return["<polygon ","COMMON_PARTS",'points="',[-t+" "+e,"0 "+-e,t+" "+e].join(","),'" />']}}),e.Triangle.fromObject=function(t,i){return e.Object._fromObject("Triangle",t,i)})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=2*Math.PI;e.Ellipse?e.warn("fabric.Ellipse is already defined."):(e.Ellipse=e.util.createClass(e.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:e.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(t){this.callSuper("initialize",t),this.set("rx",t&&t.rx||0),this.set("ry",t&&t.ry||0)},_set:function(t,e){switch(this.callSuper("_set",t,e),t){case"rx":this.rx=e,this.set("width",2*e);break;case"ry":this.ry=e,this.set("height",2*e)}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(t){return this.callSuper("toObject",["rx","ry"].concat(t))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,'" />\n']},_render:function(t){t.beginPath(),t.save(),t.transform(1,0,0,this.ry/this.rx,0,0),t.arc(0,0,this.rx,0,i,!1),t.restore(),this._renderPaintInOrder(t)}}),e.Ellipse.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),e.Ellipse.fromElement=function(t,i){var n=e.parseAttributes(t,e.Ellipse.ATTRIBUTE_NAMES);n.left=(n.left||0)-n.rx,n.top=(n.top||0)-n.ry,i(new e.Ellipse(n))},e.Ellipse.fromObject=function(t,i){e.Object._fromObject("Ellipse",t,i)})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend;e.Rect?e.warn("fabric.Rect is already defined"):(e.Rect=e.util.createClass(e.Object,{stateProperties:e.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:e.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(t){this.callSuper("initialize",t),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(t){var e=this.rx?Math.min(this.rx,this.width/2):0,i=this.ry?Math.min(this.ry,this.height/2):0,n=this.width,r=this.height,o=-this.width/2,s=-this.height/2,a=0!==e||0!==i,h=.4477152502;t.beginPath(),t.moveTo(o+e,s),t.lineTo(o+n-e,s),a&&t.bezierCurveTo(o+n-h*e,s,o+n,s+h*i,o+n,s+i),t.lineTo(o+n,s+r-i),a&&t.bezierCurveTo(o+n,s+r-h*i,o+n-h*e,s+r,o+n-e,s+r),t.lineTo(o+e,s+r),a&&t.bezierCurveTo(o+h*e,s+r,o,s+r-h*i,o,s+r-i),t.lineTo(o,s+i),a&&t.bezierCurveTo(o,s+h*i,o+h*e,s,o+e,s),t.closePath(),this._renderPaintInOrder(t)},toObject:function(t){return this.callSuper("toObject",["rx","ry"].concat(t))},_toSVG:function(){return["<rect ","COMMON_PARTS",'x="',-this.width/2,'" y="',-this.height/2,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,'" />\n']}}),e.Rect.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),e.Rect.fromElement=function(t,n,r){if(!t)return n(null);r=r||{};var o=e.parseAttributes(t,e.Rect.ATTRIBUTE_NAMES);o.left=o.left||0,o.top=o.top||0,o.height=o.height||0,o.width=o.width||0;var s=new e.Rect(i(r?e.util.object.clone(r):{},o));s.visible=s.visible&&s.width>0&&s.height>0,n(s)},e.Rect.fromObject=function(t,i){return e.Object._fromObject("Rect",t,i)})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.util.array.min,r=e.util.array.max,o=e.util.toFixed,s=e.util.projectStrokeOnPoints;e.Polyline?e.warn("fabric.Polyline is already defined"):(e.Polyline=e.util.createClass(e.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:e.Object.prototype.cacheProperties.concat("points"),initialize:function(t,e){e=e||{},this.points=t||[],this.callSuper("initialize",e),this._setPositionDimensions(e)},_projectStrokeOnPoints:function(){return s(this.points,this,!0)},_setPositionDimensions:function(t){var e,i=this._calcDimensions(t),n=this.exactBoundingBox?this.strokeWidth:0;this.width=i.width-n,this.height=i.height-n,t.fromSVG||(e=this.translateToGivenOrigin({x:i.left-this.strokeWidth/2+n/2,y:i.top-this.strokeWidth/2+n/2},"left","top",this.originX,this.originY)),void 0===t.left&&(this.left=t.fromSVG?i.left:e.x),void 0===t.top&&(this.top=t.fromSVG?i.top:e.y),this.pathOffset={x:i.left+this.width/2+n/2,y:i.top+this.height/2+n/2}},_calcDimensions:function(){var t=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,e=n(t,"x")||0,i=n(t,"y")||0;return{left:e,top:i,width:(r(t,"x")||0)-e,height:(r(t,"y")||0)-i}},toObject:function(t){return i(this.callSuper("toObject",t),{points:this.points.concat()})},_toSVG:function(){for(var t=[],i=this.pathOffset.x,n=this.pathOffset.y,r=e.Object.NUM_FRACTION_DIGITS,s=0,a=this.points.length;s<a;s++)t.push(o(this.points[s].x-i,r),",",o(this.points[s].y-n,r)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',t.join(""),'" />\n']},commonRender:function(t){var e,i=this.points.length,n=this.pathOffset.x,r=this.pathOffset.y;if(!i||isNaN(this.points[i-1].y))return!1;t.beginPath(),t.moveTo(this.points[0].x-n,this.points[0].y-r);for(var o=0;o<i;o++)e=this.points[o],t.lineTo(e.x-n,e.y-r);return!0},_render:function(t){this.commonRender(t)&&this._renderPaintInOrder(t)},complexity:function(){return this.get("points").length}}),e.Polyline.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(),e.Polyline.fromElementGenerator=function(t){return function(n,r,o){if(!n)return r(null);o||(o={});var s=e.parsePointsAttribute(n.getAttribute("points")),a=e.parseAttributes(n,e[t].ATTRIBUTE_NAMES);a.fromSVG=!0,r(new e[t](s,i(a,o)))}},e.Polyline.fromElement=e.Polyline.fromElementGenerator("Polyline"),e.Polyline.fromObject=function(t,i){return e.Object._fromObject("Polyline",t,i,"points")})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.projectStrokeOnPoints;e.Polygon?e.warn("fabric.Polygon is already defined"):(e.Polygon=e.util.createClass(e.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return i(this.points,this)},_render:function(t){this.commonRender(t)&&(t.closePath(),this._renderPaintInOrder(t))}}),e.Polygon.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(),e.Polygon.fromElement=e.Polyline.fromElementGenerator("Polygon"),e.Polygon.fromObject=function(t,i){e.Object._fromObject("Polygon",t,i,"points")})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.array.min,n=e.util.array.max,r=e.util.object.extend,o=e.util.object.clone,s=e.util.toFixed;e.Path?e.warn("fabric.Path is already defined"):(e.Path=e.util.createClass(e.Object,{type:"path",path:null,cacheProperties:e.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:e.Object.prototype.stateProperties.concat("path"),initialize:function(t,e){delete(e=o(e||{})).path,this.callSuper("initialize",e),this._setPath(t||[],e)},_setPath:function(t,i){this.path=e.util.makePathSimpler(Array.isArray(t)?t:e.util.parsePath(t)),e.Polyline.prototype._setPositionDimensions.call(this,i||{})},_renderPathCommands:function(t){var e,i=0,n=0,r=0,o=0,s=0,a=0,h=-this.pathOffset.x,c=-this.pathOffset.y;t.beginPath();for(var l=0,u=this.path.length;l<u;++l)switch((e=this.path[l])[0]){case"L":r=e[1],o=e[2],t.lineTo(r+h,o+c);break;case"M":i=r=e[1],n=o=e[2],t.moveTo(r+h,o+c);break;case"C":r=e[5],o=e[6],s=e[3],a=e[4],t.bezierCurveTo(e[1]+h,e[2]+c,s+h,a+c,r+h,o+c);break;case"Q":t.quadraticCurveTo(e[1]+h,e[2]+c,e[3]+h,e[4]+c),r=e[3],o=e[4],s=e[1],a=e[2];break;case"z":case"Z":r=i,o=n,t.closePath()}},_render:function(t){this._renderPathCommands(t),this._renderPaintInOrder(t)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(t){return r(this.callSuper("toObject",t),{path:this.path.map((function(t){return t.slice()}))})},toDatalessObject:function(t){var e=this.toObject(["sourcePath"].concat(t));return e.sourcePath&&delete e.path,e},_toSVG:function(){return["<path ","COMMON_PARTS",'d="',e.util.joinPath(this.path),'" stroke-linecap="round" ',"/>\n"]},_getOffsetTransform:function(){var t=e.Object.NUM_FRACTION_DIGITS;return" translate("+s(-this.pathOffset.x,t)+", "+s(-this.pathOffset.y,t)+")"},toClipPathSVG:function(t){var e=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})},toSVG:function(t){var e=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var t,r,o=[],s=[],a=0,h=0,c=0,l=0,u=0,f=this.path.length;u<f;++u){switch((t=this.path[u])[0]){case"L":c=t[1],l=t[2],r=[];break;case"M":a=c=t[1],h=l=t[2],r=[];break;case"C":r=e.util.getBoundsOfCurve(c,l,t[1],t[2],t[3],t[4],t[5],t[6]),c=t[5],l=t[6];break;case"Q":r=e.util.getBoundsOfCurve(c,l,t[1],t[2],t[1],t[2],t[3],t[4]),c=t[3],l=t[4];break;case"z":case"Z":c=a,l=h}r.forEach((function(t){o.push(t.x),s.push(t.y)})),o.push(c),s.push(l)}var d=i(o)||0,g=i(s)||0;return{left:d,top:g,width:(n(o)||0)-d,height:(n(s)||0)-g}}}),e.Path.fromObject=function(t,i){if("string"==typeof t.sourcePath){var n=t.sourcePath;e.loadSVGFromURL(n,(function(n){var r=n[0];r.setOptions(t),t.clipPath?e.util.enlivenObjects([t.clipPath],(function(t){r.clipPath=t[0],i&&i(r)})):i&&i(r)}))}else e.Object._fromObject("Path",t,i,"path")},e.Path.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(["d"]),e.Path.fromElement=function(t,i,n){var o=e.parseAttributes(t,e.Path.ATTRIBUTE_NAMES);o.fromSVG=!0,i(new e.Path(o.d,r(o,n)))})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.array.min,n=e.util.array.max;e.Group||(e.Group=e.util.createClass(e.Object,e.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(t,e,i){e=e||{},this._objects=[],i&&this.callSuper("initialize",e),this._objects=t||[];for(var n=this._objects.length;n--;)this._objects[n].group=this;if(i)this._updateObjectsACoords();else{var r=e&&e.centerPoint;void 0!==e.originX&&(this.originX=e.originX),void 0!==e.originY&&(this.originY=e.originY),r||this._calcBounds(),this._updateObjectsCoords(r),delete e.centerPoint,this.callSuper("initialize",e)}this.setCoords()},_updateObjectsACoords:function(){for(var t=this._objects.length;t--;)this._objects[t].setCoords(!0)},_updateObjectsCoords:function(t){t=t||this.getCenterPoint();for(var e=this._objects.length;e--;)this._updateObjectCoords(this._objects[e],t)},_updateObjectCoords:function(t,e){var i=t.left,n=t.top;t.set({left:i-e.x,top:n-e.y}),t.group=this,t.setCoords(!0)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(t){var i=!!this.group;return this._restoreObjectsState(),e.util.resetObjectTransform(this),t&&(i&&e.util.removeTransformFromObject(t,this.group.calcTransformMatrix()),this._objects.push(t),t.group=this,t._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,i?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(t){return this._restoreObjectsState(),e.util.resetObjectTransform(this),this.remove(t),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(t){this.dirty=!0,t.group=this,t._set("canvas",this.canvas)},_onObjectRemoved:function(t){this.dirty=!0,delete t.group},_set:function(t,i){var n=this._objects.length;if(this.useSetOnGroup)for(;n--;)this._objects[n].setOnGroup(t,i);if("canvas"===t)for(;n--;)this._objects[n]._set(t,i);e.Object.prototype._set.call(this,t,i)},toObject:function(t){var i=this.includeDefaultValues,n=this._objects.filter((function(t){return!t.excludeFromExport})).map((function(e){var n=e.includeDefaultValues;e.includeDefaultValues=i;var r=e.toObject(t);return e.includeDefaultValues=n,r})),r=e.Object.prototype.toObject.call(this,t);return r.objects=n,r},toDatalessObject:function(t){var i,n=this.sourcePath;if(n)i=n;else{var r=this.includeDefaultValues;i=this._objects.map((function(e){var i=e.includeDefaultValues;e.includeDefaultValues=r;var n=e.toDatalessObject(t);return e.includeDefaultValues=i,n}))}var o=e.Object.prototype.toDatalessObject.call(this,t);return o.objects=i,o},render:function(t){this._transformDone=!0,this.callSuper("render",t),this._transformDone=!1},shouldCache:function(){var t=e.Object.prototype.shouldCache.call(this);if(t)for(var i=0,n=this._objects.length;i<n;i++)if(this._objects[i].willDrawShadow())return this.ownCaching=!1,!1;return t},willDrawShadow:function(){if(e.Object.prototype.willDrawShadow.call(this))return!0;for(var t=0,i=this._objects.length;t<i;t++)if(this._objects[t].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(t){for(var e=0,i=this._objects.length;e<i;e++)this._objects[e].render(t);this._drawClipPath(t,this.clipPath)},isCacheDirty:function(t){if(this.callSuper("isCacheDirty",t))return!0;if(!this.statefullCache)return!1;for(var e=0,i=this._objects.length;e<i;e++)if(this._objects[e].isCacheDirty(!0)){if(this._cacheCanvas){var n=this.cacheWidth/this.zoomX,r=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-n/2,-r/2,n,r)}return!0}return!1},_restoreObjectsState:function(){var t=this.calcOwnMatrix();return this._objects.forEach((function(i){e.util.addTransformToObject(i,t),delete i.group,i.setCoords()})),this},destroy:function(){return this._objects.forEach((function(t){t.set("dirty",!0)})),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject((function(t){t.dispose&&t.dispose()})),this._objects=[]},toActiveSelection:function(){if(this.canvas){var t=this._objects,i=this.canvas;this._objects=[];var n=this.toObject();delete n.objects;var r=new e.ActiveSelection([]);return r.set(n),r.type="activeSelection",i.remove(this),t.forEach((function(t){t.group=r,t.dirty=!0,i.add(t)})),r.canvas=i,r._objects=t,i._activeObject=r,r.setCoords(),r}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){return this.forEachObject((function(t){t.setCoords(!0)})),this},_calcBounds:function(t){for(var e,i,n,r,o=[],s=[],a=["tr","br","bl","tl"],h=0,c=this._objects.length,l=a.length;h<c;++h){for(n=(e=this._objects[h]).calcACoords(),r=0;r<l;r++)i=a[r],o.push(n[i].x),s.push(n[i].y);e.aCoords=n}this._getBounds(o,s,t)},_getBounds:function(t,r,o){var s=new e.Point(i(t),i(r)),a=new e.Point(n(t),n(r)),h=s.y||0,c=s.x||0,l=a.x-s.x||0,u=a.y-s.y||0;this.width=l,this.height=u,o||this.setPositionByOrigin({x:c,y:h},"left","top")},_toSVG:function(t){for(var e=["<g ","COMMON_PARTS"," >\n"],i=0,n=this._objects.length;i<n;i++)e.push("\t\t",this._objects[i].toSVG(t));return e.push("</g>\n"),e},getSvgStyles:function(){var t=void 0!==this.opacity&&1!==this.opacity?"opacity: "+this.opacity+";":"",e=this.visible?"":" visibility: hidden;";return[t,this.getSvgFilter(),e].join("")},toClipPathSVG:function(t){for(var e=[],i=0,n=this._objects.length;i<n;i++)e.push("\t",this._objects[i].toClipPathSVG(t));return this._createBaseClipPathSVGMarkup(e,{reviver:t})}}),e.Group.fromObject=function(t,i){var n=t.objects,r=e.util.object.clone(t,!0);delete r.objects,"string"!=typeof n?e.util.enlivenObjects(n,(function(n){e.util.enlivenObjectEnlivables(t,r,(function(){i&&i(new e.Group(n,r,!0))}))})):e.loadSVGFromURL(n,(function(o){var s=e.util.groupSVGElements(o,t,n),a=r.clipPath;delete r.clipPath,s.set(r),a?e.util.enlivenObjects([a],(function(t){s.clipPath=t[0],i&&i(s)})):i&&i(s)}))})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});e.ActiveSelection||(e.ActiveSelection=e.util.createClass(e.Group,{type:"activeSelection",initialize:function(t,i){i=i||{},this._objects=t||[];for(var n=this._objects.length;n--;)this._objects[n].group=this;i.originX&&(this.originX=i.originX),i.originY&&(this.originY=i.originY),this._calcBounds(),this._updateObjectsCoords(),e.Object.prototype.initialize.call(this,i),this.setCoords()},toGroup:function(){var t=this._objects.concat();this._objects=[];var i=e.Object.prototype.toObject.call(this),n=new e.Group([]);if(delete i.type,n.set(i),t.forEach((function(t){t.canvas.remove(t),t.group=n})),n._objects=t,!this.canvas)return n;var r=this.canvas;return r.add(n),r._activeObject=n,n.setCoords(),n},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(t,e,i){t.save(),t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",t,e),void 0===(i=i||{}).hasControls&&(i.hasControls=!1),i.forActiveSelection=!0;for(var n=0,r=this._objects.length;n<r;n++)this._objects[n]._renderControls(t,i);t.restore()}}),e.ActiveSelection.fromObject=function(t,i){e.util.enlivenObjects(t.objects,(function(n){delete t.objects,i&&i(new e.ActiveSelection(n,t,!0))}))})}(e),function(t){"use strict";var e=T.util.object.extend;t.fabric||(t.fabric={}),t.fabric.Image?T.warn("fabric.Image is already defined."):(T.Image=T.util.createClass(T.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:T.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:T.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(t,e){e||(e={}),this.filters=[],this.cacheKey="texture"+T.Object.__uid++,this.callSuper("initialize",e),this._initElement(t,e)},getElement:function(){return this._element||{}},setElement:function(t,e){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=t,this._originalElement=t,this._initConfig(e),0!==this.filters.length&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(t){var e=T.filterBackend;e&&e.evictCachesForKey&&e.evictCachesForKey(t)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(t){T.util.cleanUpJsdomNode(this[t]),this[t]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var t=this.getElement();return{width:t.naturalWidth||t.width,height:t.naturalHeight||t.height}},_stroke:function(t){if(this.stroke&&0!==this.strokeWidth){var e=this.width/2,i=this.height/2;t.beginPath(),t.moveTo(-e,-i),t.lineTo(e,-i),t.lineTo(e,i),t.lineTo(-e,i),t.lineTo(-e,-i),t.closePath()}},toObject:function(t){var i=[];this.filters.forEach((function(t){t&&i.push(t.toObject())}));var n=e(this.callSuper("toObject",["cropX","cropY"].concat(t)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:i});return this.resizeFilter&&(n.resizeFilter=this.resizeFilter.toObject()),n},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var t,e=[],i=[],n=this._element,r=-this.width/2,o=-this.height/2,s="",a="";if(!n)return[];if(this.hasCrop()){var h=T.Object.__uid++;e.push('<clipPath id="imageCrop_'+h+'">\n','\t<rect x="'+r+'" y="'+o+'" width="'+this.width+'" height="'+this.height+'" />\n',"</clipPath>\n"),s=' clip-path="url(#imageCrop_'+h+')" '}if(this.imageSmoothing||(a='" image-rendering="optimizeSpeed'),i.push("\t<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',r-this.cropX,'" y="',o-this.cropY,'" width="',n.width||n.naturalWidth,'" height="',n.height||n.height,a,'"',s,"></image>\n"),this.stroke||this.strokeDashArray){var c=this.fill;this.fill=null,t=["\t<rect ",'x="',r,'" y="',o,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>\n'],this.fill=c}return"fill"!==this.paintFirst?e.concat(t,i):e.concat(i,t)},getSrc:function(t){var e=t?this._element:this._originalElement;return e?e.toDataURL?e.toDataURL():this.srcFromAttribute?e.getAttribute("src"):e.src:this.src||""},setSrc:function(t,e,i){return T.util.loadImage(t,(function(t,n){this.setElement(t,i),this._setWidthHeight(),e&&e(this,n)}),this,i&&i.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var t=this.resizeFilter,e=this.minimumScaleTrigger,i=this.getTotalObjectScaling(),n=i.scaleX,r=i.scaleY,o=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!t||n>e&&r>e)return this._element=o,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=n,void(this._lastScaleY=r);T.filterBackend||(T.filterBackend=T.initFilterBackend());var s=T.util.createCanvasElement(),a=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,h=o.width,c=o.height;s.width=h,s.height=c,this._element=s,this._lastScaleX=t.scaleX=n,this._lastScaleY=t.scaleY=r,T.filterBackend.applyFilters([t],o,h,c,this._element,a),this._filterScalingX=s.width/this._originalElement.width,this._filterScalingY=s.height/this._originalElement.height},applyFilters:function(t){if(t=(t=t||this.filters||[]).filter((function(t){return t&&!t.isNeutralState()})),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),0===t.length)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var e=this._originalElement,i=e.naturalWidth||e.width,n=e.naturalHeight||e.height;if(this._element===this._originalElement){var r=T.util.createCanvasElement();r.width=i,r.height=n,this._element=r,this._filteredEl=r}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,i,n),this._lastScaleX=1,this._lastScaleY=1;return T.filterBackend||(T.filterBackend=T.initFilterBackend()),T.filterBackend.applyFilters(t,this._originalElement,i,n,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(t){T.util.setImageSmoothing(t,this.imageSmoothing),!0!==this.isMoving&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(t),this._renderPaintInOrder(t)},drawCacheOnCanvas:function(t){T.util.setImageSmoothing(t,this.imageSmoothing),T.Object.prototype.drawCacheOnCanvas.call(this,t)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(t){var e=this._element;if(e){var i=this._filterScalingX,n=this._filterScalingY,r=this.width,o=this.height,s=Math.min,a=Math.max,h=a(this.cropX,0),c=a(this.cropY,0),l=e.naturalWidth||e.width,u=e.naturalHeight||e.height,f=h*i,d=c*n,g=s(r*i,l-f),p=s(o*n,u-d),v=-r/2,m=-o/2,y=s(r,l/i-h),_=s(o,u/n-c);e&&t.drawImage(e,f,d,g,p,v,m,y,_)}},_needsResize:function(){var t=this.getTotalObjectScaling();return t.scaleX!==this._lastScaleX||t.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(t,e){this.setElement(T.util.getById(t),e),T.util.addClass(this.getElement(),T.Image.CSS_CANVAS)},_initConfig:function(t){t||(t={}),this.setOptions(t),this._setWidthHeight(t)},_initFilters:function(t,e){t&&t.length?T.util.enlivenObjects(t,(function(t){e&&e(t)}),"fabric.Image.filters"):e&&e()},_setWidthHeight:function(t){t||(t={});var e=this.getElement();this.width=t.width||e.naturalWidth||e.width||0,this.height=t.height||e.naturalHeight||e.height||0},parsePreserveAspectRatioAttribute:function(){var t,e=T.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),i=this._element.width,n=this._element.height,r=1,o=1,s=0,a=0,h=0,c=0,l=this.width,u=this.height,f={width:l,height:u};return!e||"none"===e.alignX&&"none"===e.alignY?(r=l/i,o=u/n):("meet"===e.meetOrSlice&&(t=(l-i*(r=o=T.util.findScaleToFit(this._element,f)))/2,"Min"===e.alignX&&(s=-t),"Max"===e.alignX&&(s=t),t=(u-n*o)/2,"Min"===e.alignY&&(a=-t),"Max"===e.alignY&&(a=t)),"slice"===e.meetOrSlice&&(t=i-l/(r=o=T.util.findScaleToCover(this._element,f)),"Mid"===e.alignX&&(h=t/2),"Max"===e.alignX&&(h=t),t=n-u/o,"Mid"===e.alignY&&(c=t/2),"Max"===e.alignY&&(c=t),i=l/r,n=u/o)),{width:i,height:n,scaleX:r,scaleY:o,offsetLeft:s,offsetTop:a,cropX:h,cropY:c}}}),T.Image.CSS_CANVAS="canvas-img",T.Image.prototype.getSvgSrc=T.Image.prototype.getSrc,T.Image.fromObject=function(t,e){var i=T.util.object.clone(t);T.util.loadImage(i.src,(function(t,n){n?e&&e(null,!0):T.Image.prototype._initFilters.call(i,i.filters,(function(n){i.filters=n||[],T.Image.prototype._initFilters.call(i,[i.resizeFilter],(function(n){i.resizeFilter=n[0],T.util.enlivenObjectEnlivables(i,i,(function(){var n=new T.Image(t,i);e(n,!1)}))}))}))}),null,i.crossOrigin)},T.Image.fromURL=function(t,e,i){T.util.loadImage(t,(function(t,n){e&&e(new T.Image(t,i),n)}),null,i&&i.crossOrigin)},T.Image.ATTRIBUTE_NAMES=T.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),T.Image.fromElement=function(t,i,n){var r=T.parseAttributes(t,T.Image.ATTRIBUTE_NAMES);T.Image.fromURL(r["xlink:href"],i,e(n?T.util.object.clone(n):{},r))})}(e),T.util.object.extend(T.Object.prototype,{_getAngleValueForStraighten:function(){var t=this.angle%360;return t>0?90*Math.round((t-1)/90):90*Math.round(t/90)},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(t){var e=function(){},i=(t=t||{}).onComplete||e,n=t.onChange||e,r=this;return T.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(t){r.rotate(t),n()},onComplete:function(){r.setCoords(),i()}})}}),T.util.object.extend(T.StaticCanvas.prototype,{straightenObject:function(t){return t.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(t){return t.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){"use strict";function t(t,e){var i="precision "+e+" float;\nvoid main(){}",n=t.createShader(t.FRAGMENT_SHADER);return t.shaderSource(n,i),t.compileShader(n),!!t.getShaderParameter(n,t.COMPILE_STATUS)}function e(t){t&&t.tileSize&&(this.tileSize=t.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}T.isWebglSupported=function(e){if(T.isLikelyNode)return!1;e=e||T.WebglFilterBackend.prototype.tileSize;var i=document.createElement("canvas"),n=i.getContext("webgl")||i.getContext("experimental-webgl"),r=!1;if(n){T.maxTextureSize=n.getParameter(n.MAX_TEXTURE_SIZE),r=T.maxTextureSize>=e;for(var o=["highp","mediump","lowp"],s=0;s<3;s++)if(t(n,o[s])){T.webGlPrecision=o[s];break}}return this.isSupported=r,r},T.WebglFilterBackend=e,e.prototype={tileSize:2048,resources:{},setupGLContext:function(t,e){this.dispose(),this.createWebGLCanvas(t,e),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(t,e)},chooseFastestCopyGLTo2DMethod:function(t,e){var i,n=void 0!==window.performance;try{new ImageData(1,1),i=!0}catch(t){i=!1}var r="undefined"!=typeof ArrayBuffer,o="undefined"!=typeof Uint8ClampedArray;if(n&&i&&r&&o){var s=T.util.createCanvasElement(),a=new ArrayBuffer(t*e*4);if(T.forceGLPutImageData)return this.imageBuffer=a,void(this.copyGLTo2D=k);var h,c,l={imageBuffer:a,destinationWidth:t,destinationHeight:e,targetCanvas:s};s.width=t,s.height=e,h=window.performance.now(),O.call(l,this.gl,l),c=window.performance.now()-h,h=window.performance.now(),k.call(l,this.gl,l),c>window.performance.now()-h?(this.imageBuffer=a,this.copyGLTo2D=k):this.copyGLTo2D=O}},createWebGLCanvas:function(t,e){var i=T.util.createCanvasElement();i.width=t,i.height=e;var n={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},r=i.getContext("webgl",n);r||(r=i.getContext("experimental-webgl",n)),r&&(r.clearColor(0,0,0,0),this.canvas=i,this.gl=r)},applyFilters:function(t,e,i,n,r,o){var s,a=this.gl;o&&(s=this.getCachedTexture(o,e));var h={originalWidth:e.width||e.originalWidth,originalHeight:e.height||e.originalHeight,sourceWidth:i,sourceHeight:n,destinationWidth:i,destinationHeight:n,context:a,sourceTexture:this.createTexture(a,i,n,!s&&e),targetTexture:this.createTexture(a,i,n),originalTexture:s||this.createTexture(a,i,n,!s&&e),passes:t.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:r},c=a.createFramebuffer();return a.bindFramebuffer(a.FRAMEBUFFER,c),t.forEach((function(t){t&&t.applyTo(h)})),function(t){var e=t.targetCanvas,i=e.width,n=e.height,r=t.destinationWidth,o=t.destinationHeight;i===r&&n===o||(e.width=r,e.height=o)}(h),this.copyGLTo2D(a,h),a.bindTexture(a.TEXTURE_2D,null),a.deleteTexture(h.sourceTexture),a.deleteTexture(h.targetTexture),a.deleteFramebuffer(c),r.getContext("2d").setTransform(1,0,0,1,0,0),h},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(t,e,i,n,r){var o=t.createTexture();return t.bindTexture(t.TEXTURE_2D,o),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,r||t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,r||t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),n?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n):t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,i,0,t.RGBA,t.UNSIGNED_BYTE,null),o},getCachedTexture:function(t,e){if(this.textureCache[t])return this.textureCache[t];var i=this.createTexture(this.gl,e.width,e.height,e);return this.textureCache[t]=i,i},evictCachesForKey:function(t){this.textureCache[t]&&(this.gl.deleteTexture(this.textureCache[t]),delete this.textureCache[t])},copyGLTo2D:O,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var t=this.gl,e={renderer:"",vendor:""};if(!t)return e;var i=t.getExtension("WEBGL_debug_renderer_info");if(i){var n=t.getParameter(i.UNMASKED_RENDERER_WEBGL),r=t.getParameter(i.UNMASKED_VENDOR_WEBGL);n&&(e.renderer=n.toLowerCase()),r&&(e.vendor=r.toLowerCase())}return this.gpuInfo=e,e}}}(),function(){"use strict";var t=function(){};function e(){}T.Canvas2dFilterBackend=e,e.prototype={evictCachesForKey:t,dispose:t,clearWebGLCaches:t,resources:{},applyFilters:function(t,e,i,n,r){var o=r.getContext("2d");o.drawImage(e,0,0,i,n);var s={sourceWidth:i,sourceHeight:n,imageData:o.getImageData(0,0,i,n),originalEl:e,originalImageData:o.getImageData(0,0,i,n),canvasEl:r,ctx:o,filterBackend:this};return t.forEach((function(t){t.applyTo(s)})),s.imageData.width===i&&s.imageData.height===n||(r.width=s.imageData.width,r.height=s.imageData.height),o.putImageData(s.imageData,0,0),s}}}(),T.Image=T.Image||{},T.Image.filters=T.Image.filters||{},T.Image.filters.BaseFilter=T.util.createClass({type:"BaseFilter",vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvoid main() {\nvTexCoord = aPosition;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:"precision highp float;\nvarying vec2 vTexCoord;\nuniform sampler2D uTexture;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\n}",initialize:function(t){t&&this.setOptions(t)},setOptions:function(t){for(var e in t)this[e]=t[e]},createProgram:function(t,e,i){e=e||this.fragmentSource,i=i||this.vertexSource,"highp"!==T.webGlPrecision&&(e=e.replace(/precision highp float/g,"precision "+T.webGlPrecision+" float"));var n=t.createShader(t.VERTEX_SHADER);if(t.shaderSource(n,i),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+t.getShaderInfoLog(n));var r=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(r,e),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+t.getShaderInfoLog(r));var o=t.createProgram();if(t.attachShader(o,n),t.attachShader(o,r),t.linkProgram(o),!t.getProgramParameter(o,t.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+t.getProgramInfoLog(o));var s=this.getAttributeLocations(t,o),a=this.getUniformLocations(t,o)||{};return a.uStepW=t.getUniformLocation(o,"uStepW"),a.uStepH=t.getUniformLocation(o,"uStepH"),{program:o,attributeLocations:s,uniformLocations:a}},getAttributeLocations:function(t,e){return{aPosition:t.getAttribLocation(e,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(t,e,i){var n=e.aPosition,r=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,r),t.enableVertexAttribArray(n),t.vertexAttribPointer(n,2,t.FLOAT,!1,0,0),t.bufferData(t.ARRAY_BUFFER,i,t.STATIC_DRAW)},_setupFrameBuffer:function(t){var e,i,n=t.context;t.passes>1?(e=t.destinationWidth,i=t.destinationHeight,t.sourceWidth===e&&t.sourceHeight===i||(n.deleteTexture(t.targetTexture),t.targetTexture=t.filterBackend.createTexture(n,e,i)),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,t.targetTexture,0)):(n.bindFramebuffer(n.FRAMEBUFFER,null),n.finish())},_swapTextures:function(t){t.passes--,t.pass++;var e=t.targetTexture;t.targetTexture=t.sourceTexture,t.sourceTexture=e},isNeutralState:function(){var t=this.mainParameter,e=T.Image.filters[this.type].prototype;if(t){if(Array.isArray(e[t])){for(var i=e[t].length;i--;)if(this[t][i]!==e[t][i])return!1;return!0}return e[t]===this[t]}return!1},applyTo:function(t){t.webgl?(this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)},retrieveShader:function(t){return t.programCache.hasOwnProperty(this.type)||(t.programCache[this.type]=this.createProgram(t.context)),t.programCache[this.type]},applyToWebGL:function(t){var e=t.context,i=this.retrieveShader(t);0===t.pass&&t.originalTexture?e.bindTexture(e.TEXTURE_2D,t.originalTexture):e.bindTexture(e.TEXTURE_2D,t.sourceTexture),e.useProgram(i.program),this.sendAttributeData(e,i.attributeLocations,t.aPosition),e.uniform1f(i.uniformLocations.uStepW,1/t.sourceWidth),e.uniform1f(i.uniformLocations.uStepH,1/t.sourceHeight),this.sendUniformData(e,i.uniformLocations),e.viewport(0,0,t.destinationWidth,t.destinationHeight),e.drawArrays(e.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(t,e,i){t.activeTexture(i),t.bindTexture(t.TEXTURE_2D,e),t.activeTexture(t.TEXTURE0)},unbindAdditionalTexture:function(t,e){t.activeTexture(e),t.bindTexture(t.TEXTURE_2D,null),t.activeTexture(t.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(t){this[this.mainParameter]=t},sendUniformData:function(){},createHelpLayer:function(t){if(!t.helpLayer){var e=document.createElement("canvas");e.width=t.sourceWidth,e.height=t.sourceHeight,t.helpLayer=e}},toObject:function(){var t={type:this.type},e=this.mainParameter;return e&&(t[e]=this[e]),t},toJSON:function(){return this.toObject()}}),T.Image.filters.BaseFilter.fromObject=function(t,e){var i=new T.Image.filters[t.type](t);return e&&e(i),i},function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.ColorMatrix=n(i.BaseFilter,{type:"ColorMatrix",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nuniform mat4 uColorMatrix;\nuniform vec4 uConstants;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor *= uColorMatrix;\ncolor += uConstants;\ngl_FragColor = color;\n}",matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(t){this.callSuper("initialize",t),this.matrix=this.matrix.slice(0)},applyTo2d:function(t){var e,i,n,r,o,s=t.imageData.data,a=s.length,h=this.matrix,c=this.colorsOnly;for(o=0;o<a;o+=4)e=s[o],i=s[o+1],n=s[o+2],c?(s[o]=e*h[0]+i*h[1]+n*h[2]+255*h[4],s[o+1]=e*h[5]+i*h[6]+n*h[7]+255*h[9],s[o+2]=e*h[10]+i*h[11]+n*h[12]+255*h[14]):(r=s[o+3],s[o]=e*h[0]+i*h[1]+n*h[2]+r*h[3]+255*h[4],s[o+1]=e*h[5]+i*h[6]+n*h[7]+r*h[8]+255*h[9],s[o+2]=e*h[10]+i*h[11]+n*h[12]+r*h[13]+255*h[14],s[o+3]=e*h[15]+i*h[16]+n*h[17]+r*h[18]+255*h[19])},getUniformLocations:function(t,e){return{uColorMatrix:t.getUniformLocation(e,"uColorMatrix"),uConstants:t.getUniformLocation(e,"uConstants")}},sendUniformData:function(t,e){var i=this.matrix,n=[i[0],i[1],i[2],i[3],i[5],i[6],i[7],i[8],i[10],i[11],i[12],i[13],i[15],i[16],i[17],i[18]],r=[i[4],i[9],i[14],i[19]];t.uniformMatrix4fv(e.uColorMatrix,!1,n),t.uniform4fv(e.uConstants,r)}}),e.Image.filters.ColorMatrix.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.Brightness=n(i.BaseFilter,{type:"Brightness",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBrightness;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += uBrightness;\ngl_FragColor = color;\n}",brightness:0,mainParameter:"brightness",applyTo2d:function(t){if(0!==this.brightness){var e,i=t.imageData.data,n=i.length,r=Math.round(255*this.brightness);for(e=0;e<n;e+=4)i[e]=i[e]+r,i[e+1]=i[e+1]+r,i[e+2]=i[e+2]+r}},getUniformLocations:function(t,e){return{uBrightness:t.getUniformLocation(e,"uBrightness")}},sendUniformData:function(t,e){t.uniform1f(e.uBrightness,this.brightness)}}),e.Image.filters.Brightness.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.Image.filters,r=e.util.createClass;n.Convolute=r(n.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_3_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_5_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_5_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_7_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_7_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_9_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_9_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}"},retrieveShader:function(t){var e=Math.sqrt(this.matrix.length),i=this.type+"_"+e+"_"+(this.opaque?1:0),n=this.fragmentSource[i];return t.programCache.hasOwnProperty(i)||(t.programCache[i]=this.createProgram(t.context,n)),t.programCache[i]},applyTo2d:function(t){var e,i,n,r,o,s,a,h,c,l,u,f,d,g=t.imageData,p=g.data,v=this.matrix,m=Math.round(Math.sqrt(v.length)),y=Math.floor(m/2),_=g.width,x=g.height,b=t.ctx.createImageData(_,x),C=b.data,S=this.opaque?1:0;for(u=0;u<x;u++)for(l=0;l<_;l++){for(o=4*(u*_+l),e=0,i=0,n=0,r=0,d=0;d<m;d++)for(f=0;f<m;f++)s=l+f-y,(a=u+d-y)<0||a>=x||s<0||s>=_||(h=4*(a*_+s),c=v[d*m+f],e+=p[h]*c,i+=p[h+1]*c,n+=p[h+2]*c,S||(r+=p[h+3]*c));C[o]=e,C[o+1]=i,C[o+2]=n,C[o+3]=S?p[o+3]:r}t.imageData=b},getUniformLocations:function(t,e){return{uMatrix:t.getUniformLocation(e,"uMatrix"),uOpaque:t.getUniformLocation(e,"uOpaque"),uHalfSize:t.getUniformLocation(e,"uHalfSize"),uSize:t.getUniformLocation(e,"uSize")}},sendUniformData:function(t,e){t.uniform1fv(e.uMatrix,this.matrix)},toObject:function(){return i(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),e.Image.filters.Convolute.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.Grayscale=n(i.BaseFilter,{type:"Grayscale",fragmentSource:{average:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat average = (color.r + color.b + color.g) / 3.0;\ngl_FragColor = vec4(average, average, average, color.a);\n}",lightness:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\ngl_FragColor = vec4(average, average, average, col.a);\n}",luminosity:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\ngl_FragColor = vec4(average, average, average, col.a);\n}"},mode:"average",mainParameter:"mode",applyTo2d:function(t){var e,i,n=t.imageData.data,r=n.length,o=this.mode;for(e=0;e<r;e+=4)"average"===o?i=(n[e]+n[e+1]+n[e+2])/3:"lightness"===o?i=(Math.min(n[e],n[e+1],n[e+2])+Math.max(n[e],n[e+1],n[e+2]))/2:"luminosity"===o&&(i=.21*n[e]+.72*n[e+1]+.07*n[e+2]),n[e]=i,n[e+1]=i,n[e+2]=i},retrieveShader:function(t){var e=this.type+"_"+this.mode;if(!t.programCache.hasOwnProperty(e)){var i=this.fragmentSource[this.mode];t.programCache[e]=this.createProgram(t.context,i)}return t.programCache[e]},getUniformLocations:function(t,e){return{uMode:t.getUniformLocation(e,"uMode")}},sendUniformData:function(t,e){t.uniform1i(e.uMode,1)},isNeutralState:function(){return!1}}),e.Image.filters.Grayscale.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.Invert=n(i.BaseFilter,{type:"Invert",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uInvert;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nif (uInvert == 1) {\ngl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n} else {\ngl_FragColor = color;\n}\n}",invert:!0,mainParameter:"invert",applyTo2d:function(t){var e,i=t.imageData.data,n=i.length;for(e=0;e<n;e+=4)i[e]=255-i[e],i[e+1]=255-i[e+1],i[e+2]=255-i[e+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(t,e){return{uInvert:t.getUniformLocation(e,"uInvert")}},sendUniformData:function(t,e){t.uniform1i(e.uInvert,this.invert)}}),e.Image.filters.Invert.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.Image.filters,r=e.util.createClass;n.Noise=r(n.BaseFilter,{type:"Noise",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uStepH;\nuniform float uNoise;\nuniform float uSeed;\nvarying vec2 vTexCoord;\nfloat rand(vec2 co, float seed, float vScale) {\nreturn fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n}\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\ngl_FragColor = color;\n}",mainParameter:"noise",noise:0,applyTo2d:function(t){if(0!==this.noise){var e,i,n=t.imageData.data,r=n.length,o=this.noise;for(e=0,r=n.length;e<r;e+=4)i=(.5-Math.random())*o,n[e]+=i,n[e+1]+=i,n[e+2]+=i}},getUniformLocations:function(t,e){return{uNoise:t.getUniformLocation(e,"uNoise"),uSeed:t.getUniformLocation(e,"uSeed")}},sendUniformData:function(t,e){t.uniform1f(e.uNoise,this.noise/255),t.uniform1f(e.uSeed,Math.random())},toObject:function(){return i(this.callSuper("toObject"),{noise:this.noise})}}),e.Image.filters.Noise.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.Pixelate=n(i.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBlocksize;\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nfloat blockW = uBlocksize * uStepW;\nfloat blockH = uBlocksize * uStepW;\nint posX = int(vTexCoord.x / blockW);\nint posY = int(vTexCoord.y / blockH);\nfloat fposX = float(posX);\nfloat fposY = float(posY);\nvec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\nvec4 color = texture2D(uTexture, squareCoords);\ngl_FragColor = color;\n}",applyTo2d:function(t){var e,i,n,r,o,s,a,h,c,l,u,f=t.imageData,d=f.data,g=f.height,p=f.width;for(i=0;i<g;i+=this.blocksize)for(n=0;n<p;n+=this.blocksize)for(r=d[e=4*i*p+4*n],o=d[e+1],s=d[e+2],a=d[e+3],l=Math.min(i+this.blocksize,g),u=Math.min(n+this.blocksize,p),h=i;h<l;h++)for(c=n;c<u;c++)d[e=4*h*p+4*c]=r,d[e+1]=o,d[e+2]=s,d[e+3]=a},isNeutralState:function(){return 1===this.blocksize},getUniformLocations:function(t,e){return{uBlocksize:t.getUniformLocation(e,"uBlocksize"),uStepW:t.getUniformLocation(e,"uStepW"),uStepH:t.getUniformLocation(e,"uStepH")}},sendUniformData:function(t,e){t.uniform1f(e.uBlocksize,this.blocksize)}}),e.Image.filters.Pixelate.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.Image.filters,r=e.util.createClass;n.RemoveColor=r(n.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\nif(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\ngl_FragColor.a = 0.0;\n}\n}",distance:.02,useAlpha:!1,applyTo2d:function(t){var i,n,r,o,s=t.imageData.data,a=255*this.distance,h=new e.Color(this.color).getSource(),c=[h[0]-a,h[1]-a,h[2]-a],l=[h[0]+a,h[1]+a,h[2]+a];for(i=0;i<s.length;i+=4)n=s[i],r=s[i+1],o=s[i+2],n>c[0]&&r>c[1]&&o>c[2]&&n<l[0]&&r<l[1]&&o<l[2]&&(s[i+3]=0)},getUniformLocations:function(t,e){return{uLow:t.getUniformLocation(e,"uLow"),uHigh:t.getUniformLocation(e,"uHigh")}},sendUniformData:function(t,i){var n=new e.Color(this.color).getSource(),r=parseFloat(this.distance),o=[0+n[0]/255-r,0+n[1]/255-r,0+n[2]/255-r,1],s=[n[0]/255+r,n[1]/255+r,n[2]/255+r,1];t.uniform4fv(i.uLow,o),t.uniform4fv(i.uHigh,s)},toObject:function(){return i(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),e.Image.filters.RemoveColor.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass,r={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var o in r)i[o]=n(i.ColorMatrix,{type:o,matrix:r[o],mainParameter:!1,colorsOnly:!0}),e.Image.filters[o].fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric,i=e.Image.filters,n=e.util.createClass;i.BlendColor=n(i.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:"gl_FragColor.rgb *= uColor.rgb;\n",screen:"gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\n",add:"gl_FragColor.rgb += uColor.rgb;\n",diff:"gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n",subtract:"gl_FragColor.rgb -= uColor.rgb;\n",lighten:"gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n",darken:"gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n",exclusion:"gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n",overlay:"if (uColor.r < 0.5) {\ngl_FragColor.r *= 2.0 * uColor.r;\n} else {\ngl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n}\nif (uColor.g < 0.5) {\ngl_FragColor.g *= 2.0 * uColor.g;\n} else {\ngl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n}\nif (uColor.b < 0.5) {\ngl_FragColor.b *= 2.0 * uColor.b;\n} else {\ngl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n}\n",tint:"gl_FragColor.rgb *= (1.0 - uColor.a);\ngl_FragColor.rgb += uColor.rgb;\n"},buildSource:function(t){return"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ngl_FragColor = color;\nif (color.a > 0.0) {\n"+this.fragmentSource[t]+"}\n}"},retrieveShader:function(t){var e,i=this.type+"_"+this.mode;return t.programCache.hasOwnProperty(i)||(e=this.buildSource(this.mode),t.programCache[i]=this.createProgram(t.context,e)),t.programCache[i]},applyTo2d:function(t){var i,n,r,o,s,a,h,c=t.imageData.data,l=c.length,u=1-this.alpha;i=(h=new e.Color(this.color).getSource())[0]*this.alpha,n=h[1]*this.alpha,r=h[2]*this.alpha;for(var f=0;f<l;f+=4)switch(o=c[f],s=c[f+1],a=c[f+2],this.mode){case"multiply":c[f]=o*i/255,c[f+1]=s*n/255,c[f+2]=a*r/255;break;case"screen":c[f]=255-(255-o)*(255-i)/255,c[f+1]=255-(255-s)*(255-n)/255,c[f+2]=255-(255-a)*(255-r)/255;break;case"add":c[f]=o+i,c[f+1]=s+n,c[f+2]=a+r;break;case"diff":case"difference":c[f]=Math.abs(o-i),c[f+1]=Math.abs(s-n),c[f+2]=Math.abs(a-r);break;case"subtract":c[f]=o-i,c[f+1]=s-n,c[f+2]=a-r;break;case"darken":c[f]=Math.min(o,i),c[f+1]=Math.min(s,n),c[f+2]=Math.min(a,r);break;case"lighten":c[f]=Math.max(o,i),c[f+1]=Math.max(s,n),c[f+2]=Math.max(a,r);break;case"overlay":c[f]=i<128?2*o*i/255:255-2*(255-o)*(255-i)/255,c[f+1]=n<128?2*s*n/255:255-2*(255-s)*(255-n)/255,c[f+2]=r<128?2*a*r/255:255-2*(255-a)*(255-r)/255;break;case"exclusion":c[f]=i+o-2*i*o/255,c[f+1]=n+s-2*n*s/255,c[f+2]=r+a-2*r*a/255;break;case"tint":c[f]=i+o*u,c[f+1]=n+s*u,c[f+2]=r+a*u}},getUniformLocations:function(t,e){return{uColor:t.getUniformLocation(e,"uColor")}},sendUniformData:function(t,i){var n=new e.Color(this.color).getSource();n[0]=this.alpha*n[0]/255,n[1]=this.alpha*n[1]/255,n[2]=this.alpha*n[2]/255,n[3]=this.alpha,t.uniform4fv(i.uColor,n)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),e.Image.filters.BlendColor.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric,i=e.Image.filters,n=e.util.createClass;i.BlendImage=n(i.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nuniform mat3 uTransformMatrix;\nvoid main() {\nvTexCoord = aPosition;\nvTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:{multiply:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.rgba *= color2.rgba;\ngl_FragColor = color;\n}",mask:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.a = color2.a;\ngl_FragColor = color;\n}"},retrieveShader:function(t){var e=this.type+"_"+this.mode,i=this.fragmentSource[this.mode];return t.programCache.hasOwnProperty(e)||(t.programCache[e]=this.createProgram(t.context,i)),t.programCache[e]},applyToWebGL:function(t){var e=t.context,i=this.createTexture(t.filterBackend,this.image);this.bindAdditionalTexture(e,i,e.TEXTURE1),this.callSuper("applyToWebGL",t),this.unbindAdditionalTexture(e,e.TEXTURE1)},createTexture:function(t,e){return t.getCachedTexture(e.cacheKey,e._element)},calculateMatrix:function(){var t=this.image,e=t._element.width,i=t._element.height;return[1/t.scaleX,0,0,0,1/t.scaleY,0,-t.left/e,-t.top/i,1]},applyTo2d:function(t){var i,n,r,o,s,a,h,c,l,u,f,d=t.imageData,g=t.filterBackend.resources,p=d.data,v=p.length,m=d.width,y=d.height,_=this.image;g.blendImage||(g.blendImage=e.util.createCanvasElement()),u=(l=g.blendImage).getContext("2d"),l.width!==m||l.height!==y?(l.width=m,l.height=y):u.clearRect(0,0,m,y),u.setTransform(_.scaleX,0,0,_.scaleY,_.left,_.top),u.drawImage(_._element,0,0,m,y),f=u.getImageData(0,0,m,y).data;for(var x=0;x<v;x+=4)switch(s=p[x],a=p[x+1],h=p[x+2],c=p[x+3],i=f[x],n=f[x+1],r=f[x+2],o=f[x+3],this.mode){case"multiply":p[x]=s*i/255,p[x+1]=a*n/255,p[x+2]=h*r/255,p[x+3]=c*o/255;break;case"mask":p[x+3]=o}},getUniformLocations:function(t,e){return{uTransformMatrix:t.getUniformLocation(e,"uTransformMatrix"),uImage:t.getUniformLocation(e,"uImage")}},sendUniformData:function(t,e){var i=this.calculateMatrix();t.uniform1i(e.uImage,1),t.uniformMatrix3fv(e.uTransformMatrix,!1,i)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),e.Image.filters.BlendImage.fromObject=function(t,i){e.Image.fromObject(t.image,(function(n){var r=e.util.object.clone(t);r.image=n,i(new e.Image.filters.BlendImage(r))}))}}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=Math.pow,n=Math.floor,r=Math.sqrt,o=Math.abs,s=Math.round,a=Math.sin,h=Math.ceil,c=e.Image.filters,l=e.util.createClass;c.Resize=l(c.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(t,e){return{uDelta:t.getUniformLocation(e,"uDelta"),uTaps:t.getUniformLocation(e,"uTaps")}},sendUniformData:function(t,e){t.uniform2fv(e.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),t.uniform1fv(e.uTaps,this.taps)},retrieveShader:function(t){var e=this.getFilterWindow(),i=this.type+"_"+e;if(!t.programCache.hasOwnProperty(i)){var n=this.generateShader(e);t.programCache[i]=this.createProgram(t.context,n)}return t.programCache[i]},getFilterWindow:function(){var t=this.tempScale;return Math.ceil(this.lanczosLobes/t)},getTaps:function(){for(var t=this.lanczosCreate(this.lanczosLobes),e=this.tempScale,i=this.getFilterWindow(),n=new Array(i),r=1;r<=i;r++)n[r-1]=t(r*e);return n},generateShader:function(t){for(var e=new Array(t),i=this.fragmentSourceTOP,n=1;n<=t;n++)e[n-1]=n+".0 * uDelta";return i+="uniform float uTaps["+t+"];\n",i+="void main() {\n",i+="  vec4 color = texture2D(uTexture, vTexCoord);\n",i+="  float sum = 1.0;\n",e.forEach((function(t,e){i+="  color += texture2D(uTexture, vTexCoord + "+t+") * uTaps["+e+"];\n",i+="  color += texture2D(uTexture, vTexCoord - "+t+") * uTaps["+e+"];\n",i+="  sum += 2.0 * uTaps["+e+"];\n"})),i+="  gl_FragColor = color / sum;\n",i+="}"},fragmentSourceTOP:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\n",applyTo:function(t){t.webgl?(t.passes++,this.width=t.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=t.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),t.destinationWidth=this.dW,this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t),t.sourceWidth=t.destinationWidth,this.height=t.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),t.destinationHeight=this.dH,this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t),t.sourceHeight=t.destinationHeight):this.applyTo2d(t)},isNeutralState:function(){return 1===this.scaleX&&1===this.scaleY},lanczosCreate:function(t){return function(e){if(e>=t||e<=-t)return 0;if(e<1.1920929e-7&&e>-1.1920929e-7)return 1;var i=(e*=Math.PI)/t;return a(e)/e*a(i)/i}},applyTo2d:function(t){var e=t.imageData,i=this.scaleX,n=this.scaleY;this.rcpScaleX=1/i,this.rcpScaleY=1/n;var r,o=e.width,a=e.height,h=s(o*i),c=s(a*n);"sliceHack"===this.resizeType?r=this.sliceByTwo(t,o,a,h,c):"hermite"===this.resizeType?r=this.hermiteFastResize(t,o,a,h,c):"bilinear"===this.resizeType?r=this.bilinearFiltering(t,o,a,h,c):"lanczos"===this.resizeType&&(r=this.lanczosResize(t,o,a,h,c)),t.imageData=r},sliceByTwo:function(t,i,r,o,s){var a,h,c=t.imageData,l=.5,u=!1,f=!1,d=i*l,g=r*l,p=e.filterBackend.resources,v=0,m=0,y=i,_=0;for(p.sliceByTwo||(p.sliceByTwo=document.createElement("canvas")),((a=p.sliceByTwo).width<1.5*i||a.height<r)&&(a.width=1.5*i,a.height=r),(h=a.getContext("2d")).clearRect(0,0,1.5*i,r),h.putImageData(c,0,0),o=n(o),s=n(s);!u||!f;)i=d,r=g,o<n(d*l)?d=n(d*l):(d=o,u=!0),s<n(g*l)?g=n(g*l):(g=s,f=!0),h.drawImage(a,v,m,i,r,y,_,d,g),v=y,m=_,_+=g;return h.getImageData(v,m,o,s)},lanczosResize:function(t,e,s,a,c){var l=t.imageData.data,u=t.ctx.createImageData(a,c),f=u.data,d=this.lanczosCreate(this.lanczosLobes),g=this.rcpScaleX,p=this.rcpScaleY,v=2/this.rcpScaleX,m=2/this.rcpScaleY,y=h(g*this.lanczosLobes/2),_=h(p*this.lanczosLobes/2),x={},b={},C={};return function t(h){var S,w,T,A,O,k,P,E,j,M,D;for(b.x=(h+.5)*g,C.x=n(b.x),S=0;S<c;S++){for(b.y=(S+.5)*p,C.y=n(b.y),O=0,k=0,P=0,E=0,j=0,w=C.x-y;w<=C.x+y;w++)if(!(w<0||w>=e)){M=n(1e3*o(w-b.x)),x[M]||(x[M]={});for(var I=C.y-_;I<=C.y+_;I++)I<0||I>=s||(D=n(1e3*o(I-b.y)),x[M][D]||(x[M][D]=d(r(i(M*v,2)+i(D*m,2))/1e3)),(T=x[M][D])>0&&(O+=T,k+=T*l[A=4*(I*e+w)],P+=T*l[A+1],E+=T*l[A+2],j+=T*l[A+3]))}f[A=4*(S*a+h)]=k/O,f[A+1]=P/O,f[A+2]=E/O,f[A+3]=j/O}return++h<a?t(h):u}(0)},bilinearFiltering:function(t,e,i,r,o){var s,a,h,c,l,u,f,d,g,p=0,v=this.rcpScaleX,m=this.rcpScaleY,y=4*(e-1),_=t.imageData.data,x=t.ctx.createImageData(r,o),b=x.data;for(h=0;h<o;h++)for(c=0;c<r;c++)for(l=v*c-(s=n(v*c)),u=m*h-(a=n(m*h)),g=4*(a*e+s),f=0;f<4;f++)d=_[g+f]*(1-l)*(1-u)+_[g+4+f]*l*(1-u)+_[g+y+f]*u*(1-l)+_[g+y+4+f]*l*u,b[p++]=d;return x},hermiteFastResize:function(t,e,i,s,a){for(var c=this.rcpScaleX,l=this.rcpScaleY,u=h(c/2),f=h(l/2),d=t.imageData.data,g=t.ctx.createImageData(s,a),p=g.data,v=0;v<a;v++)for(var m=0;m<s;m++){for(var y=4*(m+v*s),_=0,x=0,b=0,C=0,S=0,w=0,T=0,A=(v+.5)*l,O=n(v*l);O<(v+1)*l;O++)for(var k=o(A-(O+.5))/f,P=(m+.5)*c,E=k*k,j=n(m*c);j<(m+1)*c;j++){var M=o(P-(j+.5))/u,D=r(E+M*M);D>1&&D<-1||(_=2*D*D*D-3*D*D+1)>0&&(T+=_*d[3+(M=4*(j+O*e))],b+=_,d[M+3]<255&&(_=_*d[M+3]/250),C+=_*d[M],S+=_*d[M+1],w+=_*d[M+2],x+=_)}p[y]=C/x,p[y+1]=S/x,p[y+2]=w/x,p[y+3]=T/b}return g},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),e.Image.filters.Resize.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.Contrast=n(i.BaseFilter,{type:"Contrast",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uContrast;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\ncolor.rgb = contrastF * (color.rgb - 0.5) + 0.5;\ngl_FragColor = color;\n}",contrast:0,mainParameter:"contrast",applyTo2d:function(t){if(0!==this.contrast){var e,i=t.imageData.data,n=i.length,r=Math.floor(255*this.contrast),o=259*(r+255)/(255*(259-r));for(e=0;e<n;e+=4)i[e]=o*(i[e]-128)+128,i[e+1]=o*(i[e+1]-128)+128,i[e+2]=o*(i[e+2]-128)+128}},getUniformLocations:function(t,e){return{uContrast:t.getUniformLocation(e,"uContrast")}},sendUniformData:function(t,e){t.uniform1f(e.uContrast,this.contrast)}}),e.Image.filters.Contrast.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.Saturation=n(i.BaseFilter,{type:"Saturation",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uSaturation;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat rgMax = max(color.r, color.g);\nfloat rgbMax = max(rgMax, color.b);\ncolor.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\ncolor.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\ncolor.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\ngl_FragColor = color;\n}",saturation:0,mainParameter:"saturation",applyTo2d:function(t){if(0!==this.saturation){var e,i,n=t.imageData.data,r=n.length,o=-this.saturation;for(e=0;e<r;e+=4)i=Math.max(n[e],n[e+1],n[e+2]),n[e]+=i!==n[e]?(i-n[e])*o:0,n[e+1]+=i!==n[e+1]?(i-n[e+1])*o:0,n[e+2]+=i!==n[e+2]?(i-n[e+2])*o:0}},getUniformLocations:function(t,e){return{uSaturation:t.getUniformLocation(e,"uSaturation")}},sendUniformData:function(t,e){t.uniform1f(e.uSaturation,-this.saturation)}}),e.Image.filters.Saturation.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.Vibrance=n(i.BaseFilter,{type:"Vibrance",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uVibrance;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat max = max(color.r, max(color.g, color.b));\nfloat avg = (color.r + color.g + color.b) / 3.0;\nfloat amt = (abs(max - avg) * 2.0) * uVibrance;\ncolor.r += max != color.r ? (max - color.r) * amt : 0.00;\ncolor.g += max != color.g ? (max - color.g) * amt : 0.00;\ncolor.b += max != color.b ? (max - color.b) * amt : 0.00;\ngl_FragColor = color;\n}",vibrance:0,mainParameter:"vibrance",applyTo2d:function(t){if(0!==this.vibrance){var e,i,n,r,o=t.imageData.data,s=o.length,a=-this.vibrance;for(e=0;e<s;e+=4)i=Math.max(o[e],o[e+1],o[e+2]),n=(o[e]+o[e+1]+o[e+2])/3,r=2*Math.abs(i-n)/255*a,o[e]+=i!==o[e]?(i-o[e])*r:0,o[e+1]+=i!==o[e+1]?(i-o[e+1])*r:0,o[e+2]+=i!==o[e+2]?(i-o[e+2])*r:0}},getUniformLocations:function(t,e){return{uVibrance:t.getUniformLocation(e,"uVibrance")}},sendUniformData:function(t,e){t.uniform1f(e.uVibrance,-this.vibrance)}}),e.Image.filters.Vibrance.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.Blur=n(i.BaseFilter,{type:"Blur",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\nconst float nSamples = 15.0;\nvec3 v3offset = vec3(12.9898, 78.233, 151.7182);\nfloat random(vec3 scale) {\nreturn fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n}\nvoid main() {\nvec4 color = vec4(0.0);\nfloat total = 0.0;\nfloat offset = random(v3offset);\nfor (float t = -nSamples; t <= nSamples; t++) {\nfloat percent = (t + offset - 0.5) / nSamples;\nfloat weight = 1.0 - abs(percent);\ncolor += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;\ntotal += weight;\n}\ngl_FragColor = color / total;\n}",blur:0,mainParameter:"blur",applyTo:function(t){t.webgl?(this.aspectRatio=t.sourceWidth/t.sourceHeight,t.passes++,this._setupFrameBuffer(t),this.horizontal=!0,this.applyToWebGL(t),this._swapTextures(t),this._setupFrameBuffer(t),this.horizontal=!1,this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)},applyTo2d:function(t){t.imageData=this.simpleBlur(t)},simpleBlur:function(t){var i,n,r=t.filterBackend.resources,o=t.imageData.width,s=t.imageData.height;r.blurLayer1||(r.blurLayer1=e.util.createCanvasElement(),r.blurLayer2=e.util.createCanvasElement()),i=r.blurLayer1,n=r.blurLayer2,i.width===o&&i.height===s||(n.width=i.width=o,n.height=i.height=s);var a,h,c,l,u=i.getContext("2d"),f=n.getContext("2d"),d=.06*this.blur*.5;for(u.putImageData(t.imageData,0,0),f.clearRect(0,0,o,s),l=-15;l<=15;l++)c=d*(h=l/15)*o+(a=(Math.random()-.5)/4),f.globalAlpha=1-Math.abs(h),f.drawImage(i,c,a),u.drawImage(n,0,0),f.globalAlpha=1,f.clearRect(0,0,n.width,n.height);for(l=-15;l<=15;l++)c=d*(h=l/15)*s+(a=(Math.random()-.5)/4),f.globalAlpha=1-Math.abs(h),f.drawImage(i,a,c),u.drawImage(n,0,0),f.globalAlpha=1,f.clearRect(0,0,n.width,n.height);t.ctx.drawImage(i,0,0);var g=t.ctx.getImageData(0,0,i.width,i.height);return u.globalAlpha=1,u.clearRect(0,0,i.width,i.height),g},getUniformLocations:function(t,e){return{delta:t.getUniformLocation(e,"uDelta")}},sendUniformData:function(t,e){var i=this.chooseRightDelta();t.uniform2fv(e.delta,i)},chooseRightDelta:function(){var t,e=1,i=[0,0];return this.horizontal?this.aspectRatio>1&&(e=1/this.aspectRatio):this.aspectRatio<1&&(e=this.aspectRatio),t=e*this.blur*.12,this.horizontal?i[0]=t:i[1]=t,i}}),i.Blur.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.Gamma=n(i.BaseFilter,{type:"Gamma",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec3 uGamma;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec3 correction = (1.0 / uGamma);\ncolor.r = pow(color.r, correction.r);\ncolor.g = pow(color.g, correction.g);\ncolor.b = pow(color.b, correction.b);\ngl_FragColor = color;\ngl_FragColor.rgb *= color.a;\n}",gamma:[1,1,1],mainParameter:"gamma",initialize:function(t){this.gamma=[1,1,1],i.BaseFilter.prototype.initialize.call(this,t)},applyTo2d:function(t){var e,i=t.imageData.data,n=this.gamma,r=i.length,o=1/n[0],s=1/n[1],a=1/n[2];for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),e=0,r=256;e<r;e++)this.rVals[e]=255*Math.pow(e/255,o),this.gVals[e]=255*Math.pow(e/255,s),this.bVals[e]=255*Math.pow(e/255,a);for(e=0,r=i.length;e<r;e+=4)i[e]=this.rVals[i[e]],i[e+1]=this.gVals[i[e+1]],i[e+2]=this.bVals[i[e+2]]},getUniformLocations:function(t,e){return{uGamma:t.getUniformLocation(e,"uGamma")}},sendUniformData:function(t,e){t.uniform3fv(e.uGamma,this.gamma)}}),e.Image.filters.Gamma.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.Composed=n(i.BaseFilter,{type:"Composed",subFilters:[],initialize:function(t){this.callSuper("initialize",t),this.subFilters=this.subFilters.slice(0)},applyTo:function(t){t.passes+=this.subFilters.length-1,this.subFilters.forEach((function(e){e.applyTo(t)}))},toObject:function(){return e.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map((function(t){return t.toObject()}))})},isNeutralState:function(){return!this.subFilters.some((function(t){return!t.isNeutralState()}))}}),e.Image.filters.Composed.fromObject=function(t,i){var n=(t.subFilters||[]).map((function(t){return new e.Image.filters[t.type](t)})),r=new e.Image.filters.Composed({subFilters:n});return i&&i(r),r}}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.HueRotation=n(i.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var t=this.rotation*Math.PI,i=e.util.cos(t),n=e.util.sin(t),r=1/3,o=Math.sqrt(r)*n,s=1-i;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=i+s/3,this.matrix[1]=r*s-o,this.matrix[2]=r*s+o,this.matrix[5]=r*s+o,this.matrix[6]=i+r*s,this.matrix[7]=r*s-o,this.matrix[10]=r*s-o,this.matrix[11]=r*s+o,this.matrix[12]=i+r*s},isNeutralState:function(t){return this.calculateMatrix(),i.BaseFilter.prototype.isNeutralState.call(this,t)},applyTo:function(t){this.calculateMatrix(),i.BaseFilter.prototype.applyTo.call(this,t)}}),e.Image.filters.HueRotation.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.clone;if(e.Text)e.warn("fabric.Text is already defined");else{var n="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");e.Text=e.util.createClass(e.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:e.Object.prototype.stateProperties.concat(n),cacheProperties:e.Object.prototype.cacheProperties.concat(n),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(t,e){this.styles=e&&e.styles||{},this.text=t,this.__skipDimension=!0,this.callSuper("initialize",e),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var t=this.path;t&&(t.segmentsInfo=e.util.getPathSegmentsInfo(t.path))},getMeasuringContext:function(){return e._measuringContext||(e._measuringContext=this.canvas&&this.canvas.contextCache||e.util.createCanvasElement().getContext("2d")),e._measuringContext},_splitText:function(){var t=this._splitTextIntoLines(this.text);return this.textLines=t.lines,this._textLines=t.graphemeLines,this._unwrappedTextLines=t._unwrappedLines,this._text=t.graphemeText,t},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var t,e,i,n,r,o,s,a=0,h=this._textLines.length;a<h;a++)if(("justify"===this.textAlign||a!==h-1&&!this.isEndOfWrapping(a))&&(n=0,r=this._textLines[a],(e=this.getLineWidth(a))<this.width&&(s=this.textLines[a].match(this._reSpacesAndTabs)))){i=s.length,t=(this.width-e)/i;for(var c=0,l=r.length;c<=l;c++)o=this.__charBounds[a][c],this._reSpaceAndTab.test(r[c])?(o.width+=t,o.kernedWidth+=t,o.left+=n,n+=t):o.left+=n}},isEndOfWrapping:function(t){return t===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var t=this.callSuper("_getCacheCanvasDimensions"),e=this.fontSize;return t.width+=e*t.zoomX,t.height+=e*t.zoomY,t},_render:function(t){var e=this.path;e&&!e.isNotVisible()&&e._render(t),this._setTextStyles(t),this._renderTextLinesBackground(t),this._renderTextDecoration(t,"underline"),this._renderText(t),this._renderTextDecoration(t,"overline"),this._renderTextDecoration(t,"linethrough")},_renderText:function(t){"stroke"===this.paintFirst?(this._renderTextStroke(t),this._renderTextFill(t)):(this._renderTextFill(t),this._renderTextStroke(t))},_setTextStyles:function(t,e,i){if(t.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":t.textBaseline="middle";break;case"ascender":t.textBaseline="top";break;case"descender":t.textBaseline="bottom"}t.font=this._getFontDeclaration(e,i)},calcTextWidth:function(){for(var t=this.getLineWidth(0),e=1,i=this._textLines.length;e<i;e++){var n=this.getLineWidth(e);n>t&&(t=n)}return t},_renderTextLine:function(t,e,i,n,r,o){this._renderChars(t,e,i,n,r,o)},_renderTextLinesBackground:function(t){if(this.textBackgroundColor||this.styleHas("textBackgroundColor")){for(var e,i,n,r,o,s,a,h=t.fillStyle,c=this._getLeftOffset(),l=this._getTopOffset(),u=0,f=0,d=this.path,g=0,p=this._textLines.length;g<p;g++)if(e=this.getHeightOfLine(g),this.textBackgroundColor||this.styleHas("textBackgroundColor",g)){n=this._textLines[g],i=this._getLineLeftOffset(g),f=0,u=0,r=this.getValueOfPropertyAt(g,0,"textBackgroundColor");for(var v=0,m=n.length;v<m;v++)o=this.__charBounds[g][v],s=this.getValueOfPropertyAt(g,v,"textBackgroundColor"),d?(t.save(),t.translate(o.renderLeft,o.renderTop),t.rotate(o.angle),t.fillStyle=s,s&&t.fillRect(-o.width/2,-e/this.lineHeight*(1-this._fontSizeFraction),o.width,e/this.lineHeight),t.restore()):s!==r?(a=c+i+u,"rtl"===this.direction&&(a=this.width-a-f),t.fillStyle=r,r&&t.fillRect(a,l,f,e/this.lineHeight),u=o.left,f=o.width,r=s):f+=o.kernedWidth;s&&!d&&(a=c+i+u,"rtl"===this.direction&&(a=this.width-a-f),t.fillStyle=s,t.fillRect(a,l,f,e/this.lineHeight)),l+=e}else l+=e;t.fillStyle=h,this._removeShadow(t)}},getFontCache:function(t){var i=t.fontFamily.toLowerCase();e.charWidthsCache[i]||(e.charWidthsCache[i]={});var n=e.charWidthsCache[i],r=t.fontStyle.toLowerCase()+"_"+(t.fontWeight+"").toLowerCase();return n[r]||(n[r]={}),n[r]},_measureChar:function(t,e,i,n){var r,o,s,a,h=this.getFontCache(e),c=i+t,l=this._getFontDeclaration(e)===this._getFontDeclaration(n),u=e.fontSize/this.CACHE_FONT_SIZE;if(i&&void 0!==h[i]&&(s=h[i]),void 0!==h[t]&&(a=r=h[t]),l&&void 0!==h[c]&&(a=(o=h[c])-s),void 0===r||void 0===s||void 0===o){var f=this.getMeasuringContext();this._setTextStyles(f,e,!0)}return void 0===r&&(a=r=f.measureText(t).width,h[t]=r),void 0===s&&l&&i&&(s=f.measureText(i).width,h[i]=s),l&&void 0===o&&(o=f.measureText(c).width,h[c]=o,a=o-s),{width:r*u,kernedWidth:a*u}},getHeightOfChar:function(t,e){return this.getValueOfPropertyAt(t,e,"fontSize")},measureLine:function(t){var e=this._measureLine(t);return 0!==this.charSpacing&&(e.width-=this._getWidthOfCharSpacing()),e.width<0&&(e.width=0),e},_measureLine:function(t){var i,n,r,o,s,a,h=0,c=this._textLines[t],l=new Array(c.length),u=0,f=this.path,d="right"===this.pathSide;for(this.__charBounds[t]=l,i=0;i<c.length;i++)n=c[i],o=this._getGraphemeBox(n,t,i,r),l[i]=o,h+=o.kernedWidth,r=n;if(l[i]={left:o?o.left+o.width:0,width:0,kernedWidth:0,height:this.fontSize},f){switch(a=f.segmentsInfo[f.segmentsInfo.length-1].length,(s=e.util.getPointOnPath(f.path,0,f.segmentsInfo)).x+=f.pathOffset.x,s.y+=f.pathOffset.y,this.textAlign){case"left":u=d?a-h:0;break;case"center":u=(a-h)/2;break;case"right":u=d?0:a-h}for(u+=this.pathStartOffset*(d?-1:1),i=d?c.length-1:0;d?i>=0:i<c.length;d?i--:i++)o=l[i],u>a?u%=a:u<0&&(u+=a),this._setGraphemeOnPath(u,o,s),u+=o.kernedWidth}return{width:h,numOfSpaces:0}},_setGraphemeOnPath:function(t,i,n){var r=t+i.kernedWidth/2,o=this.path,s=e.util.getPointOnPath(o.path,r,o.segmentsInfo);i.renderLeft=s.x-n.x,i.renderTop=s.y-n.y,i.angle=s.angle+("right"===this.pathSide?Math.PI:0)},_getGraphemeBox:function(t,e,i,n,r){var o,s=this.getCompleteStyleDeclaration(e,i),a=n?this.getCompleteStyleDeclaration(e,i-1):{},h=this._measureChar(t,s,n,a),c=h.kernedWidth,l=h.width;0!==this.charSpacing&&(l+=o=this._getWidthOfCharSpacing(),c+=o);var u={width:l,left:0,height:s.fontSize,kernedWidth:c,deltaY:s.deltaY};if(i>0&&!r){var f=this.__charBounds[e][i-1];u.left=f.left+f.width+h.kernedWidth-h.width}return u},getHeightOfLine:function(t){if(this.__lineHeights[t])return this.__lineHeights[t];for(var e=this._textLines[t],i=this.getHeightOfChar(t,0),n=1,r=e.length;n<r;n++)i=Math.max(this.getHeightOfChar(t,n),i);return this.__lineHeights[t]=i*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var t,e=0,i=0,n=this._textLines.length;i<n;i++)t=this.getHeightOfLine(i),e+=i===n-1?t/this.lineHeight:t;return e},_getLeftOffset:function(){return"ltr"===this.direction?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(t,e){t.save();for(var i=0,n=this._getLeftOffset(),r=this._getTopOffset(),o=0,s=this._textLines.length;o<s;o++){var a=this.getHeightOfLine(o),h=a/this.lineHeight,c=this._getLineLeftOffset(o);this._renderTextLine(e,t,this._textLines[o],n+c,r+i+h,o),i+=a}t.restore()},_renderTextFill:function(t){(this.fill||this.styleHas("fill"))&&this._renderTextCommon(t,"fillText")},_renderTextStroke:function(t){(this.stroke&&0!==this.strokeWidth||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this._setLineDash(t,this.strokeDashArray),t.beginPath(),this._renderTextCommon(t,"strokeText"),t.closePath(),t.restore())},_renderChars:function(t,i,n,r,o,s){var a,h,c,l,u,f=this.getHeightOfLine(s),d=-1!==this.textAlign.indexOf("justify"),g="",p=0,v=this.path,m=!d&&0===this.charSpacing&&this.isEmptyStyles(s)&&!v,y="ltr"===this.direction,_="ltr"===this.direction?1:-1,x=i.canvas.getAttribute("dir");if(i.save(),x!==this.direction&&(i.canvas.setAttribute("dir",y?"ltr":"rtl"),i.direction=y?"ltr":"rtl",i.textAlign=y?"left":"right"),o-=f*this._fontSizeFraction/this.lineHeight,m)return this._renderChar(t,i,s,0,n.join(""),r,o,f),void i.restore();for(var b=0,C=n.length-1;b<=C;b++)l=b===C||this.charSpacing||v,g+=n[b],c=this.__charBounds[s][b],0===p?(r+=_*(c.kernedWidth-c.width),p+=c.width):p+=c.kernedWidth,d&&!l&&this._reSpaceAndTab.test(n[b])&&(l=!0),l||(a=a||this.getCompleteStyleDeclaration(s,b),h=this.getCompleteStyleDeclaration(s,b+1),l=e.util.hasStyleChanged(a,h,!1)),l&&(v?(i.save(),i.translate(c.renderLeft,c.renderTop),i.rotate(c.angle),this._renderChar(t,i,s,b,g,-p/2,0,f),i.restore()):(u=r,this._renderChar(t,i,s,b,g,u,o,f)),g="",a=h,r+=_*p,p=0);i.restore()},_applyPatternGradientTransformText:function(t){var i,n=e.util.createCanvasElement(),r=this.width+this.strokeWidth,o=this.height+this.strokeWidth;return n.width=r,n.height=o,(i=n.getContext("2d")).beginPath(),i.moveTo(0,0),i.lineTo(r,0),i.lineTo(r,o),i.lineTo(0,o),i.closePath(),i.translate(r/2,o/2),i.fillStyle=t.toLive(i),this._applyPatternGradientTransform(i,t),i.fill(),i.createPattern(n,"no-repeat")},handleFiller:function(t,e,i){var n,r;return i.toLive?"percentage"===i.gradientUnits||i.gradientTransform||i.patternTransform?(n=-this.width/2,r=-this.height/2,t.translate(n,r),t[e]=this._applyPatternGradientTransformText(i),{offsetX:n,offsetY:r}):(t[e]=i.toLive(t,this),this._applyPatternGradientTransform(t,i)):(t[e]=i,{offsetX:0,offsetY:0})},_setStrokeStyles:function(t,e){return t.lineWidth=e.strokeWidth,t.lineCap=this.strokeLineCap,t.lineDashOffset=this.strokeDashOffset,t.lineJoin=this.strokeLineJoin,t.miterLimit=this.strokeMiterLimit,this.handleFiller(t,"strokeStyle",e.stroke)},_setFillStyles:function(t,e){return this.handleFiller(t,"fillStyle",e.fill)},_renderChar:function(t,e,i,n,r,o,s){var a,h,c=this._getStyleDeclaration(i,n),l=this.getCompleteStyleDeclaration(i,n),u="fillText"===t&&l.fill,f="strokeText"===t&&l.stroke&&l.strokeWidth;(f||u)&&(e.save(),u&&(a=this._setFillStyles(e,l)),f&&(h=this._setStrokeStyles(e,l)),e.font=this._getFontDeclaration(l),c&&c.textBackgroundColor&&this._removeShadow(e),c&&c.deltaY&&(s+=c.deltaY),u&&e.fillText(r,o-a.offsetX,s-a.offsetY),f&&e.strokeText(r,o-h.offsetX,s-h.offsetY),e.restore())},setSuperscript:function(t,e){return this._setScript(t,e,this.superscript)},setSubscript:function(t,e){return this._setScript(t,e,this.subscript)},_setScript:function(t,e,i){var n=this.get2DCursorLocation(t,!0),r=this.getValueOfPropertyAt(n.lineIndex,n.charIndex,"fontSize"),o=this.getValueOfPropertyAt(n.lineIndex,n.charIndex,"deltaY"),s={fontSize:r*i.size,deltaY:o+r*i.baseline};return this.setSelectionStyles(s,t,e),this},_getLineLeftOffset:function(t){var e=this.getLineWidth(t),i=this.width-e,n=this.textAlign,r=this.direction,o=0,s=this.isEndOfWrapping(t);return"justify"===n||"justify-center"===n&&!s||"justify-right"===n&&!s||"justify-left"===n&&!s?0:("center"===n&&(o=i/2),"right"===n&&(o=i),"justify-center"===n&&(o=i/2),"justify-right"===n&&(o=i),"rtl"===r&&(o-=i),o)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var t=this._forceClearCache;return t||(t=this.hasStateChanged("_dimensionAffectingProps")),t&&(this.dirty=!0,this._forceClearCache=!1),t},getLineWidth:function(t){if(void 0!==this.__lineWidths[t])return this.__lineWidths[t];var e=this.measureLine(t).width;return this.__lineWidths[t]=e,e},_getWidthOfCharSpacing:function(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(t,e,i){var n=this._getStyleDeclaration(t,e);return n&&void 0!==n[i]?n[i]:this[i]},_renderTextDecoration:function(t,e){if(this[e]||this.styleHas(e)){for(var i,n,r,o,s,a,h,c,l,u,f,d,g,p,v,m,y=this._getLeftOffset(),_=this._getTopOffset(),x=this.path,b=this._getWidthOfCharSpacing(),C=this.offsets[e],S=0,w=this._textLines.length;S<w;S++)if(i=this.getHeightOfLine(S),this[e]||this.styleHas(e,S)){h=this._textLines[S],p=i/this.lineHeight,o=this._getLineLeftOffset(S),u=0,f=0,c=this.getValueOfPropertyAt(S,0,e),m=this.getValueOfPropertyAt(S,0,"fill"),l=_+p*(1-this._fontSizeFraction),n=this.getHeightOfChar(S,0),s=this.getValueOfPropertyAt(S,0,"deltaY");for(var T=0,A=h.length;T<A;T++)if(d=this.__charBounds[S][T],g=this.getValueOfPropertyAt(S,T,e),v=this.getValueOfPropertyAt(S,T,"fill"),r=this.getHeightOfChar(S,T),a=this.getValueOfPropertyAt(S,T,"deltaY"),x&&g&&v)t.save(),t.fillStyle=m,t.translate(d.renderLeft,d.renderTop),t.rotate(d.angle),t.fillRect(-d.kernedWidth/2,C*r+a,d.kernedWidth,this.fontSize/15),t.restore();else if((g!==c||v!==m||r!==n||a!==s)&&f>0){var O=y+o+u;"rtl"===this.direction&&(O=this.width-O-f),c&&m&&(t.fillStyle=m,t.fillRect(O,l+C*n+s,f,this.fontSize/15)),u=d.left,f=d.width,c=g,m=v,n=r,s=a}else f+=d.kernedWidth;O=y+o+u,"rtl"===this.direction&&(O=this.width-O-f),t.fillStyle=v,g&&v&&t.fillRect(O,l+C*n+s,f-b,this.fontSize/15),_+=i}else _+=i;this._removeShadow(t)}},_getFontDeclaration:function(t,i){var n=t||this,r=this.fontFamily,o=e.Text.genericFonts.indexOf(r.toLowerCase())>-1,s=void 0===r||r.indexOf("'")>-1||r.indexOf(",")>-1||r.indexOf('"')>-1||o?n.fontFamily:'"'+n.fontFamily+'"';return[e.isLikelyNode?n.fontWeight:n.fontStyle,e.isLikelyNode?n.fontStyle:n.fontWeight,i?this.CACHE_FONT_SIZE+"px":n.fontSize+"px",s].join(" ")},render:function(t){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",t)))},_splitTextIntoLines:function(t){for(var i=t.split(this._reNewline),n=new Array(i.length),r=["\n"],o=[],s=0;s<i.length;s++)n[s]=e.util.string.graphemeSplit(i[s]),o=o.concat(n[s],r);return o.pop(),{_unwrappedLines:n,lines:i,graphemeText:o,graphemeLines:n}},toObject:function(t){var i=n.concat(t),r=this.callSuper("toObject",i);return r.styles=e.util.stylesToArray(this.styles,this.text),r.path&&(r.path=this.path.toObject()),r},set:function(t,e){this.callSuper("set",t,e);var i=!1,n=!1;if("object"==typeof t)for(var r in t)"path"===r&&this.setPathInfo(),i=i||-1!==this._dimensionAffectingProps.indexOf(r),n=n||"path"===r;else i=-1!==this._dimensionAffectingProps.indexOf(t),n="path"===t;return n&&this.setPathInfo(),i&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),e.Text.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),e.Text.DEFAULT_SVG_FONT_SIZE=16,e.Text.fromElement=function(t,n,r){if(!t)return n(null);var o=e.parseAttributes(t,e.Text.ATTRIBUTE_NAMES),s=o.textAnchor||"left";if((r=e.util.object.extend(r?i(r):{},o)).top=r.top||0,r.left=r.left||0,o.textDecoration){var a=o.textDecoration;-1!==a.indexOf("underline")&&(r.underline=!0),-1!==a.indexOf("overline")&&(r.overline=!0),-1!==a.indexOf("line-through")&&(r.linethrough=!0),delete r.textDecoration}"dx"in o&&(r.left+=o.dx),"dy"in o&&(r.top+=o.dy),"fontSize"in r||(r.fontSize=e.Text.DEFAULT_SVG_FONT_SIZE);var h="";"textContent"in t?h=t.textContent:"firstChild"in t&&null!==t.firstChild&&"data"in t.firstChild&&null!==t.firstChild.data&&(h=t.firstChild.data),h=h.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var c=r.strokeWidth;r.strokeWidth=0;var l=new e.Text(h,r),u=l.getScaledHeight()/l.height,f=((l.height+l.strokeWidth)*l.lineHeight-l.height)*u,d=l.getScaledHeight()+f,g=0;"center"===s&&(g=l.getScaledWidth()/2),"right"===s&&(g=l.getScaledWidth()),l.set({left:l.left-g,top:l.top-(d-l.fontSize*(.07+l._fontSizeFraction))/l.lineHeight,strokeWidth:void 0!==c?c:1}),n(l)},e.Text.fromObject=function(t,n){var r=i(t),o=t.path;return delete r.path,e.Object._fromObject("Text",r,(function(i){i.styles=e.util.stylesFromArray(t.styles,t.text),o?e.Object._fromObject("Path",o,(function(t){i.set("path",t),n(i)}),"path"):n(i)}),"text")},e.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],e.util.createAccessors&&e.util.createAccessors(e.Text)}}(e),T.util.object.extend(T.Text.prototype,{isEmptyStyles:function(t){if(!this.styles)return!0;if(void 0!==t&&!this.styles[t])return!0;var e=void 0===t?this.styles:{line:this.styles[t]};for(var i in e)for(var n in e[i])for(var r in e[i][n])return!1;return!0},styleHas:function(t,e){if(!this.styles||!t||""===t)return!1;if(void 0!==e&&!this.styles[e])return!1;var i=void 0===e?this.styles:{0:this.styles[e]};for(var n in i)for(var r in i[n])if(void 0!==i[n][r][t])return!0;return!1},cleanStyle:function(t){if(!this.styles||!t||""===t)return!1;var e,i,n=this.styles,r=0,o=!0,s=0;for(var a in n){for(var h in e=0,n[a]){var c;r++,(c=n[a][h]).hasOwnProperty(t)?(i?c[t]!==i&&(o=!1):i=c[t],c[t]===this[t]&&delete c[t]):o=!1,0!==Object.keys(c).length?e++:delete n[a][h]}0===e&&delete n[a]}for(var l=0;l<this._textLines.length;l++)s+=this._textLines[l].length;o&&r===s&&(this[t]=i,this.removeStyle(t))},removeStyle:function(t){if(this.styles&&t&&""!==t){var e,i,n,r=this.styles;for(i in r){for(n in e=r[i])delete e[n][t],0===Object.keys(e[n]).length&&delete e[n];0===Object.keys(e).length&&delete r[i]}}},_extendStyles:function(t,e){var i=this.get2DCursorLocation(t);this._getLineStyle(i.lineIndex)||this._setLineStyle(i.lineIndex),this._getStyleDeclaration(i.lineIndex,i.charIndex)||this._setStyleDeclaration(i.lineIndex,i.charIndex,{}),T.util.object.extend(this._getStyleDeclaration(i.lineIndex,i.charIndex),e)},get2DCursorLocation:function(t,e){void 0===t&&(t=this.selectionStart);for(var i=e?this._unwrappedTextLines:this._textLines,n=i.length,r=0;r<n;r++){if(t<=i[r].length)return{lineIndex:r,charIndex:t};t-=i[r].length+this.missingNewlineOffset(r)}return{lineIndex:r-1,charIndex:i[r-1].length<t?i[r-1].length:t}},getSelectionStyles:function(t,e,i){void 0===t&&(t=this.selectionStart||0),void 0===e&&(e=this.selectionEnd||t);for(var n=[],r=t;r<e;r++)n.push(this.getStyleAtPosition(r,i));return n},getStyleAtPosition:function(t,e){var i=this.get2DCursorLocation(t);return(e?this.getCompleteStyleDeclaration(i.lineIndex,i.charIndex):this._getStyleDeclaration(i.lineIndex,i.charIndex))||{}},setSelectionStyles:function(t,e,i){void 0===e&&(e=this.selectionStart||0),void 0===i&&(i=this.selectionEnd||e);for(var n=e;n<i;n++)this._extendStyles(n,t);return this._forceClearCache=!0,this},_getStyleDeclaration:function(t,e){var i=this.styles&&this.styles[t];return i?i[e]:null},getCompleteStyleDeclaration:function(t,e){for(var i,n=this._getStyleDeclaration(t,e)||{},r={},o=0;o<this._styleProperties.length;o++)r[i=this._styleProperties[o]]=void 0===n[i]?this[i]:n[i];return r},_setStyleDeclaration:function(t,e,i){this.styles[t][e]=i},_deleteStyleDeclaration:function(t,e){delete this.styles[t][e]},_getLineStyle:function(t){return!!this.styles[t]},_setLineStyle:function(t){this.styles[t]={}},_deleteLineStyle:function(t){delete this.styles[t]}}),function(){function t(t){t.textDecoration&&(t.textDecoration.indexOf("underline")>-1&&(t.underline=!0),t.textDecoration.indexOf("line-through")>-1&&(t.linethrough=!0),t.textDecoration.indexOf("overline")>-1&&(t.overline=!0),delete t.textDecoration)}T.IText=T.util.createClass(T.Text,T.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(t,e){this.callSuper("initialize",t,e),this.initBehavior()},setSelectionStart:function(t){t=Math.max(t,0),this._updateAndFire("selectionStart",t)},setSelectionEnd:function(t){t=Math.min(t,this.text.length),this._updateAndFire("selectionEnd",t)},_updateAndFire:function(t,e){this[t]!==e&&(this._fireSelectionChanged(),this[t]=e),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(t){this.clearContextTop(),this.callSuper("render",t),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(t){this.callSuper("_render",t)},clearContextTop:function(t){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var e=this.canvas.contextTop,i=this.canvas.viewportTransform;e.save(),e.transform(i[0],i[1],i[2],i[3],i[4],i[5]),this.transform(e),this._clearTextArea(e),t||e.restore()}},renderCursorOrSelection:function(){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var t=this._getCursorBoundaries(),e=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(t,e):this.renderSelection(t,e),e.restore()}},_clearTextArea:function(t){var e=this.width+4,i=this.height+4;t.clearRect(-e/2,-i/2,e,i)},_getCursorBoundaries:function(t){void 0===t&&(t=this.selectionStart);var e=this._getLeftOffset(),i=this._getTopOffset(),n=this._getCursorBoundariesOffsets(t);return{left:e,top:i,leftOffset:n.left,topOffset:n.top}},_getCursorBoundariesOffsets:function(t){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var e,i,n,r,o=0,s=0,a=this.get2DCursorLocation(t);n=a.charIndex,i=a.lineIndex;for(var h=0;h<i;h++)o+=this.getHeightOfLine(h);e=this._getLineLeftOffset(i);var c=this.__charBounds[i][n];return c&&(s=c.left),0!==this.charSpacing&&n===this._textLines[i].length&&(s-=this._getWidthOfCharSpacing()),r={top:o,left:e+(s>0?s:0)},"rtl"===this.direction&&(r.left*=-1),this.cursorOffsetCache=r,this.cursorOffsetCache},renderCursor:function(t,e){var i=this.get2DCursorLocation(),n=i.lineIndex,r=i.charIndex>0?i.charIndex-1:0,o=this.getValueOfPropertyAt(n,r,"fontSize"),s=this.scaleX*this.canvas.getZoom(),a=this.cursorWidth/s,h=t.topOffset,c=this.getValueOfPropertyAt(n,r,"deltaY");h+=(1-this._fontSizeFraction)*this.getHeightOfLine(n)/this.lineHeight-o*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(t,e),e.fillStyle=this.cursorColor||this.getValueOfPropertyAt(n,r,"fill"),e.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,e.fillRect(t.left+t.leftOffset-a/2,h+t.top+c,a,o)},renderSelection:function(t,e){for(var i=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,n=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,r=-1!==this.textAlign.indexOf("justify"),o=this.get2DCursorLocation(i),s=this.get2DCursorLocation(n),a=o.lineIndex,h=s.lineIndex,c=o.charIndex<0?0:o.charIndex,l=s.charIndex<0?0:s.charIndex,u=a;u<=h;u++){var f,d=this._getLineLeftOffset(u)||0,g=this.getHeightOfLine(u),p=0,v=0;if(u===a&&(p=this.__charBounds[a][c].left),u>=a&&u<h)v=r&&!this.isEndOfWrapping(u)?this.width:this.getLineWidth(u)||5;else if(u===h)if(0===l)v=this.__charBounds[h][l].left;else{var m=this._getWidthOfCharSpacing();v=this.__charBounds[h][l-1].left+this.__charBounds[h][l-1].width-m}f=g,(this.lineHeight<1||u===h&&this.lineHeight>1)&&(g/=this.lineHeight);var y=t.left+d+p,_=v-p,x=g,b=0;this.inCompositionMode?(e.fillStyle=this.compositionColor||"black",x=1,b=g):e.fillStyle=this.selectionColor,"rtl"===this.direction&&(y=this.width-y-_),e.fillRect(y,t.top+t.topOffset+b,_,x),t.topOffset+=f}},getCurrentCharFontSize:function(){var t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fontSize")},getCurrentCharColor:function(){var t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fill")},_getCurrentCharIndex:function(){var t=this.get2DCursorLocation(this.selectionStart,!0),e=t.charIndex>0?t.charIndex-1:0;return{l:t.lineIndex,c:e}}}),T.IText.fromObject=function(e,i){var n=T.util.stylesFromArray(e.styles,e.text),r=Object.assign({},e,{styles:n});if(t(r),r.styles)for(var o in r.styles)for(var s in r.styles[o])t(r.styles[o][s]);T.Object._fromObject("IText",r,i,"text")}}(),C=T.util.object.clone,T.util.object.extend(T.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var t=this;this.on("added",(function(){var e=t.canvas;e&&(e._hasITextHandlers||(e._hasITextHandlers=!0,t._initCanvasHandlers(e)),e._iTextInstances=e._iTextInstances||[],e._iTextInstances.push(t))}))},initRemovedHandler:function(){var t=this;this.on("removed",(function(){var e=t.canvas;e&&(e._iTextInstances=e._iTextInstances||[],T.util.removeFromArray(e._iTextInstances,t),0===e._iTextInstances.length&&(e._hasITextHandlers=!1,t._removeCanvasHandlers(e)))}))},_initCanvasHandlers:function(t){t._mouseUpITextHandler=function(){t._iTextInstances&&t._iTextInstances.forEach((function(t){t.__isMousedown=!1}))},t.on("mouse:up",t._mouseUpITextHandler)},_removeCanvasHandlers:function(t){t.off("mouse:up",t._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(t,e,i,n){var r;return r={isAborted:!1,abort:function(){this.isAborted=!0}},t.animate("_currentCursorOpacity",e,{duration:i,onComplete:function(){r.isAborted||t[n]()},onChange:function(){t.canvas&&t.selectionStart===t.selectionEnd&&t.renderCursorOrSelection()},abort:function(){return r.isAborted}}),r},_onTickComplete:function(){var t=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout((function(){t._currentTickCompleteState=t._animateCursor(t,0,this.cursorDuration/2,"_tick")}),100)},initDelayedCursor:function(t){var e=this,i=t?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout((function(){e._tick()}),i)},abortCursorAnimation:function(){var t=this._currentTickState||this._currentTickCompleteState,e=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,t&&e&&e.clearContext(e.contextTop||e.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(t){var e=0,i=t-1;if(this._reSpace.test(this._text[i]))for(;this._reSpace.test(this._text[i]);)e++,i--;for(;/\S/.test(this._text[i])&&i>-1;)e++,i--;return t-e},findWordBoundaryRight:function(t){var e=0,i=t;if(this._reSpace.test(this._text[i]))for(;this._reSpace.test(this._text[i]);)e++,i++;for(;/\S/.test(this._text[i])&&i<this._text.length;)e++,i++;return t+e},findLineBoundaryLeft:function(t){for(var e=0,i=t-1;!/\n/.test(this._text[i])&&i>-1;)e++,i--;return t-e},findLineBoundaryRight:function(t){for(var e=0,i=t;!/\n/.test(this._text[i])&&i<this._text.length;)e++,i++;return t+e},searchWordBoundary:function(t,e){for(var i=this._text,n=this._reSpace.test(i[t])?t-1:t,r=i[n],o=T.reNonWord;!o.test(r)&&n>0&&n<i.length;)r=i[n+=e];return o.test(r)&&(n+=1===e?0:1),n},selectWord:function(t){t=t||this.selectionStart;var e=this.searchWordBoundary(t,-1),i=this.searchWordBoundary(t,1);this.selectionStart=e,this.selectionEnd=i,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(t){t=t||this.selectionStart;var e=this.findLineBoundaryLeft(t),i=this.findLineBoundaryRight(t);return this.selectionStart=e,this.selectionEnd=i,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(t){if(!this.isEditing&&this.editable)return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(t),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(t){t._iTextInstances&&t._iTextInstances.forEach((function(t){t.selected=!1,t.isEditing&&t.exitEditing()}))},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(t){if(this.__isMousedown&&this.isEditing){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var e=this.getSelectionStartFromPointer(t.e),i=this.selectionStart,n=this.selectionEnd;(e===this.__selectionStartOnMouseDown&&i!==n||i!==e&&n!==e)&&(e>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=e):(this.selectionStart=e,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===i&&this.selectionEnd===n||(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(t,e,i){var n=i.slice(0,t),r=T.util.string.graphemeSplit(n).length;if(t===e)return{selectionStart:r,selectionEnd:r};var o=i.slice(t,e);return{selectionStart:r,selectionEnd:r+T.util.string.graphemeSplit(o).length}},fromGraphemeToStringSelection:function(t,e,i){var n=i.slice(0,t).join("").length;return t===e?{selectionStart:n,selectionEnd:n}:{selectionStart:n,selectionEnd:n+i.slice(t,e).join("").length}},_updateTextarea:function(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){var t=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=t.selectionStart,this.hiddenTextarea.selectionEnd=t.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var t=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=t.selectionEnd,this.inCompositionMode||(this.selectionStart=t.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var t=this._calcTextareaPosition();this.hiddenTextarea.style.left=t.left,this.hiddenTextarea.style.top=t.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var t=this.inCompositionMode?this.compositionStart:this.selectionStart,e=this._getCursorBoundaries(t),i=this.get2DCursorLocation(t),n=i.lineIndex,r=i.charIndex,o=this.getValueOfPropertyAt(n,r,"fontSize")*this.lineHeight,s=e.leftOffset,a=this.calcTransformMatrix(),h={x:e.left+s,y:e.top+e.topOffset+o},c=this.canvas.getRetinaScaling(),l=this.canvas.upperCanvasEl,u=l.width/c,f=l.height/c,d=u-o,g=f-o,p=l.clientWidth/u,v=l.clientHeight/f;return h=T.util.transformPoint(h,a),(h=T.util.transformPoint(h,this.canvas.viewportTransform)).x*=p,h.y*=v,h.x<0&&(h.x=0),h.x>d&&(h.x=d),h.y<0&&(h.y=0),h.y>g&&(h.y=g),h.x+=this.canvas._offset.left,h.y+=this.canvas._offset.top,{left:h.x+"px",top:h.y+"px",fontSize:o+"px",charHeight:o}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var t=this._textBeforeEdit!==this.text,e=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,e&&(e.blur&&e.blur(),e.parentNode&&e.parentNode.removeChild(e)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),t&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),t&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var t in this.styles)this._textLines[t]||delete this.styles[t]},removeStyleFromTo:function(t,e){var i,n,r=this.get2DCursorLocation(t,!0),o=this.get2DCursorLocation(e,!0),s=r.lineIndex,a=r.charIndex,h=o.lineIndex,c=o.charIndex;if(s!==h){if(this.styles[s])for(i=a;i<this._unwrappedTextLines[s].length;i++)delete this.styles[s][i];if(this.styles[h])for(i=c;i<this._unwrappedTextLines[h].length;i++)(n=this.styles[h][i])&&(this.styles[s]||(this.styles[s]={}),this.styles[s][a+i-c]=n);for(i=s+1;i<=h;i++)delete this.styles[i];this.shiftLineStyles(h,s-h)}else if(this.styles[s]){n=this.styles[s];var l,u,f=c-a;for(i=a;i<c;i++)delete n[i];for(u in this.styles[s])(l=parseInt(u,10))>=c&&(n[l-f]=n[u],delete n[u])}},shiftLineStyles:function(t,e){var i=C(this.styles);for(var n in this.styles){var r=parseInt(n,10);r>t&&(this.styles[r+e]=i[r],i[r-e]||delete this.styles[r])}},restartCursorIfNeeded:function(){this._currentTickState&&!this._currentTickState.isAborted&&this._currentTickCompleteState&&!this._currentTickCompleteState.isAborted||this.initDelayedCursor()},insertNewlineStyleObject:function(t,e,i,n){var r,o={},s=!1,a=this._unwrappedTextLines[t].length===e;for(var h in i||(i=1),this.shiftLineStyles(t,i),this.styles[t]&&(r=this.styles[t][0===e?e:e-1]),this.styles[t]){var c=parseInt(h,10);c>=e&&(s=!0,o[c-e]=this.styles[t][h],a&&0===e||delete this.styles[t][h])}var l=!1;for(s&&!a&&(this.styles[t+i]=o,l=!0),l&&i--;i>0;)n&&n[i-1]?this.styles[t+i]={0:C(n[i-1])}:r?this.styles[t+i]={0:C(r)}:delete this.styles[t+i],i--;this._forceClearCache=!0},insertCharStyleObject:function(t,e,i,n){this.styles||(this.styles={});var r=this.styles[t],o=r?C(r):{};for(var s in i||(i=1),o){var a=parseInt(s,10);a>=e&&(r[a+i]=o[a],o[a-i]||delete r[a])}if(this._forceClearCache=!0,n)for(;i--;)Object.keys(n[i]).length&&(this.styles[t]||(this.styles[t]={}),this.styles[t][e+i]=C(n[i]));else if(r)for(var h=r[e?e-1:1];h&&i--;)this.styles[t][e+i]=C(h)},insertNewStyleBlock:function(t,e,i){for(var n=this.get2DCursorLocation(e,!0),r=[0],o=0,s=0;s<t.length;s++)"\n"===t[s]?r[++o]=0:r[o]++;for(r[0]>0&&(this.insertCharStyleObject(n.lineIndex,n.charIndex,r[0],i),i=i&&i.slice(r[0]+1)),o&&this.insertNewlineStyleObject(n.lineIndex,n.charIndex+r[0],o),s=1;s<o;s++)r[s]>0?this.insertCharStyleObject(n.lineIndex+s,0,r[s],i):i&&this.styles[n.lineIndex+s]&&i[0]&&(this.styles[n.lineIndex+s][0]=i[0]),i=i&&i.slice(r[s]+1);r[s]>0&&this.insertCharStyleObject(n.lineIndex+s,0,r[s],i)},setSelectionStartEndWithShift:function(t,e,i){i<=t?(e===t?this._selectionDirection="left":"right"===this._selectionDirection&&(this._selectionDirection="left",this.selectionEnd=t),this.selectionStart=i):i>t&&i<e?"right"===this._selectionDirection?this.selectionEnd=i:this.selectionStart=i:(e===t?this._selectionDirection="right":"left"===this._selectionDirection&&(this._selectionDirection="right",this.selectionStart=e),this.selectionEnd=i)},setSelectionInBoundaries:function(){var t=this.text.length;this.selectionStart>t?this.selectionStart=t:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>t?this.selectionEnd=t:this.selectionEnd<0&&(this.selectionEnd=0)}}),T.util.object.extend(T.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(t){if(this.canvas){this.__newClickTime=+new Date;var e=t.pointer;this.isTripleClick(e)&&(this.fire("tripleclick",t),this._stopEvent(t.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=e,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(t){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===t.x&&this.__lastPointer.y===t.y},_stopEvent:function(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(t){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(t.e))},tripleClickHandler:function(t){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(t.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(t){!this.canvas||!this.editable||t.e.button&&1!==t.e.button||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(t.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(t){!this.canvas||!this.editable||t.e.button&&1!==t.e.button||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(t){if(this.__isMousedown=!1,!(!this.editable||this.group||t.transform&&t.transform.actionPerformed||t.e.button&&1!==t.e.button)){if(this.canvas){var e=this.canvas._activeObject;if(e&&e!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(t.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(t){var e=this.getSelectionStartFromPointer(t),i=this.selectionStart,n=this.selectionEnd;t.shiftKey?this.setSelectionStartEndWithShift(i,n,e):(this.selectionStart=e,this.selectionEnd=e),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(t){for(var e,i=this.getLocalPointer(t),n=0,r=0,o=0,s=0,a=0,h=0,c=this._textLines.length;h<c&&o<=i.y;h++)o+=this.getHeightOfLine(h)*this.scaleY,a=h,h>0&&(s+=this._textLines[h-1].length+this.missingNewlineOffset(h-1));r=this._getLineLeftOffset(a)*this.scaleX,e=this._textLines[a],"rtl"===this.direction&&(i.x=this.width*this.scaleX-i.x+r);for(var l=0,u=e.length;l<u&&(n=r,(r+=this.__charBounds[a][l].kernedWidth*this.scaleX)<=i.x);l++)s++;return this._getNewSelectionStartFromOffset(i,n,r,s,u)},_getNewSelectionStartFromOffset:function(t,e,i,n,r){var o=t.x-e,s=i-t.x,a=n+(s>o||s<0?0:1);return this.flipX&&(a=r-a),a>this._text.length&&(a=this._text.length),a}}),T.util.object.extend(T.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=T.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var t=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+t.top+"; left: "+t.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+t.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):T.document.body.appendChild(this.hiddenTextarea),T.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),T.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),T.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),T.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),T.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),T.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),T.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),T.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),T.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(T.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(t){if(this.isEditing){var e="rtl"===this.direction?this.keysMapRtl:this.keysMap;if(t.keyCode in e)this[e[t.keyCode]](t);else{if(!(t.keyCode in this.ctrlKeysMapDown)||!t.ctrlKey&&!t.metaKey)return;this[this.ctrlKeysMapDown[t.keyCode]](t)}t.stopImmediatePropagation(),t.preventDefault(),t.keyCode>=33&&t.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(t){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:t.keyCode in this.ctrlKeysMapUp&&(t.ctrlKey||t.metaKey)&&(this[this.ctrlKeysMapUp[t.keyCode]](t),t.stopImmediatePropagation(),t.preventDefault(),this.canvas&&this.canvas.requestRenderAll())},onInput:function(t){var e=this.fromPaste;if(this.fromPaste=!1,t&&t.stopPropagation(),this.isEditing){var i,n,r,o,s,a=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,h=this._text.length,c=a.length,l=c-h,u=this.selectionStart,f=this.selectionEnd,d=u!==f;if(""===this.hiddenTextarea.value)return this.styles={},this.updateFromTextArea(),this.fire("changed"),void(this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll()));var g=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),p=u>g.selectionStart;d?(i=this._text.slice(u,f),l+=f-u):c<h&&(i=p?this._text.slice(f+l,f):this._text.slice(u,u-l)),n=a.slice(g.selectionEnd-l,g.selectionEnd),i&&i.length&&(n.length&&(r=this.getSelectionStyles(u,u+1,!1),r=n.map((function(){return r[0]}))),d?(o=u,s=f):p?(o=f-i.length,s=f):(o=f,s=f+i.length),this.removeStyleFromTo(o,s)),n.length&&(e&&n.join("")===T.copiedText&&!T.disableStyleCopyPaste&&(r=T.copiedTextStyle),this.insertNewStyleBlock(n,u,r)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(t){this.compositionStart=t.target.selectionStart,this.compositionEnd=t.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(T.copiedText=this.getSelectedText(),T.disableStyleCopyPaste?T.copiedTextStyle=null:T.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(t){return t&&t.clipboardData||T.window.clipboardData},_getWidthBeforeCursor:function(t,e){var i,n=this._getLineLeftOffset(t);return e>0&&(n+=(i=this.__charBounds[t][e-1]).left+i.width),n},getDownCursorOffset:function(t,e){var i=this._getSelectionForOffset(t,e),n=this.get2DCursorLocation(i),r=n.lineIndex;if(r===this._textLines.length-1||t.metaKey||34===t.keyCode)return this._text.length-i;var o=n.charIndex,s=this._getWidthBeforeCursor(r,o),a=this._getIndexOnLine(r+1,s);return this._textLines[r].slice(o).length+a+1+this.missingNewlineOffset(r)},_getSelectionForOffset:function(t,e){return t.shiftKey&&this.selectionStart!==this.selectionEnd&&e?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(t,e){var i=this._getSelectionForOffset(t,e),n=this.get2DCursorLocation(i),r=n.lineIndex;if(0===r||t.metaKey||33===t.keyCode)return-i;var o=n.charIndex,s=this._getWidthBeforeCursor(r,o),a=this._getIndexOnLine(r-1,s),h=this._textLines[r].slice(0,o),c=this.missingNewlineOffset(r-1);return-this._textLines[r-1].length+a-h.length+(1-c)},_getIndexOnLine:function(t,e){for(var i,n,r=this._textLines[t],o=this._getLineLeftOffset(t),s=0,a=0,h=r.length;a<h;a++)if((o+=i=this.__charBounds[t][a].width)>e){n=!0;var c=o-i,l=o,u=Math.abs(c-e);s=Math.abs(l-e)<u?a:a-1;break}return n||(s=r.length-1),s},moveCursorDown:function(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",t)},moveCursorUp:function(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",t)},_moveCursorUpOrDown:function(t,e){var i=this["get"+t+"CursorOffset"](e,"right"===this._selectionDirection);e.shiftKey?this.moveCursorWithShift(i):this.moveCursorWithoutShift(i),0!==i&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(t){var e="left"===this._selectionDirection?this.selectionStart+t:this.selectionEnd+t;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,e),0!==t},moveCursorWithoutShift:function(t){return t<0?(this.selectionStart+=t,this.selectionEnd=this.selectionStart):(this.selectionEnd+=t,this.selectionStart=this.selectionEnd),0!==t},moveCursorLeft:function(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",t)},_move:function(t,e,i){var n;if(t.altKey)n=this["findWordBoundary"+i](this[e]);else{if(!t.metaKey&&35!==t.keyCode&&36!==t.keyCode)return this[e]+="Left"===i?-1:1,!0;n=this["findLineBoundary"+i](this[e])}if(void 0!==n&&this[e]!==n)return this[e]=n,!0},_moveLeft:function(t,e){return this._move(t,e,"Left")},_moveRight:function(t,e){return this._move(t,e,"Right")},moveCursorLeftWithoutShift:function(t){var e=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(e=this._moveLeft(t,"selectionStart")),this.selectionEnd=this.selectionStart,e},moveCursorLeftWithShift:function(t){return"right"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveLeft(t,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection="left",this._moveLeft(t,"selectionStart")):void 0},moveCursorRight:function(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",t)},_moveCursorLeftOrRight:function(t,e){var i="moveCursor"+t+"With";this._currentCursorOpacity=1,e.shiftKey?i+="Shift":i+="outShift",this[i](e)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(t){return"left"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveRight(t,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection="right",this._moveRight(t,"selectionEnd")):void 0},moveCursorRightWithoutShift:function(t){var e=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(e=this._moveRight(t,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,e},removeChars:function(t,e){void 0===e&&(e=t+1),this.removeStyleFromTo(t,e),this._text.splice(t,e-t),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(t,e,i,n){void 0===n&&(n=i),n>i&&this.removeStyleFromTo(i,n);var r=T.util.string.graphemeSplit(t);this.insertNewStyleBlock(r,i,e),this._text=[].concat(this._text.slice(0,i),r,this._text.slice(n)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),S=T.util.toFixed,w=/  +/g,T.util.object.extend(T.Text.prototype,{_toSVG:function(){var t=this._getSVGLeftTopOffsets(),e=this._getSVGTextAndBg(t.textTop,t.textLeft);return this._wrapSVGTextAndBg(e)},toSVG:function(t){return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(t){var e=this.getSvgTextDecoration(this);return[t.textBgRects.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",e?'text-decoration="'+e+'" ':"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",t.textSpans.join(""),"</text>\n"]},_getSVGTextAndBg:function(t,e){var i,n=[],r=[],o=t;this._setSVGBg(r);for(var s=0,a=this._textLines.length;s<a;s++)i=this._getLineLeftOffset(s),(this.textBackgroundColor||this.styleHas("textBackgroundColor",s))&&this._setSVGTextLineBg(r,s,e+i,o),this._setSVGTextLineText(n,s,e+i,o),o+=this.getHeightOfLine(s);return{textSpans:n,textBgRects:r}},_createTextCharSpan:function(t,e,i,n){var r=t!==t.trim()||t.match(w),o=this.getSvgSpanStyles(e,r),s=o?'style="'+o+'"':"",a=e.deltaY,h="",c=T.Object.NUM_FRACTION_DIGITS;return a&&(h=' dy="'+S(a,c)+'" '),['<tspan x="',S(i,c),'" y="',S(n,c),'" ',h,s,">",T.util.string.escapeXml(t),"</tspan>"].join("")},_setSVGTextLineText:function(t,e,i,n){var r,o,s,a,h,c=this.getHeightOfLine(e),l=-1!==this.textAlign.indexOf("justify"),u="",f=0,d=this._textLines[e];n+=c*(1-this._fontSizeFraction)/this.lineHeight;for(var g=0,p=d.length-1;g<=p;g++)h=g===p||this.charSpacing,u+=d[g],s=this.__charBounds[e][g],0===f?(i+=s.kernedWidth-s.width,f+=s.width):f+=s.kernedWidth,l&&!h&&this._reSpaceAndTab.test(d[g])&&(h=!0),h||(r=r||this.getCompleteStyleDeclaration(e,g),o=this.getCompleteStyleDeclaration(e,g+1),h=T.util.hasStyleChanged(r,o,!0)),h&&(a=this._getStyleDeclaration(e,g)||{},t.push(this._createTextCharSpan(u,a,i,n)),u="",r=o,i+=f,f=0)},_pushTextBgRect:function(t,e,i,n,r,o){var s=T.Object.NUM_FRACTION_DIGITS;t.push("\t\t<rect ",this._getFillAttributes(e),' x="',S(i,s),'" y="',S(n,s),'" width="',S(r,s),'" height="',S(o,s),'"></rect>\n')},_setSVGTextLineBg:function(t,e,i,n){for(var r,o,s=this._textLines[e],a=this.getHeightOfLine(e)/this.lineHeight,h=0,c=0,l=this.getValueOfPropertyAt(e,0,"textBackgroundColor"),u=0,f=s.length;u<f;u++)r=this.__charBounds[e][u],(o=this.getValueOfPropertyAt(e,u,"textBackgroundColor"))!==l?(l&&this._pushTextBgRect(t,l,i+c,n,h,a),c=r.left,h=r.width,l=o):h+=r.kernedWidth;o&&this._pushTextBgRect(t,o,i+c,n,h,a)},_getFillAttributes:function(t){var e=t&&"string"==typeof t?new T.Color(t):"";return e&&e.getSource()&&1!==e.getAlpha()?'opacity="'+e.getAlpha()+'" fill="'+e.setAlpha(1).toRgb()+'"':'fill="'+t+'"'},_getSVGLineTopOffset:function(t){for(var e,i=0,n=0;n<t;n++)i+=this.getHeightOfLine(n);return e=this.getHeightOfLine(n),{lineTop:i,offset:(this._fontSizeMult-this._fontSizeFraction)*e/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(t){return T.Object.prototype.getSvgStyles.call(this,t)+" white-space: pre;"}}),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Textbox=e.util.createClass(e.IText,e.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:e.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(t){for(var e=0,i=0,n=0,r={},o=0;o<t.graphemeLines.length;o++)"\n"===t.graphemeText[n]&&o>0?(i=0,n++,e++):!this.splitByGrapheme&&this._reSpaceAndTab.test(t.graphemeText[n])&&o>0&&(i++,n++),r[o]={line:e,offset:i},n+=t.graphemeLines[o].length,i+=t.graphemeLines[o].length;return r},styleHas:function(t,i){if(this._styleMap&&!this.isWrapping){var n=this._styleMap[i];n&&(i=n.line)}return e.Text.prototype.styleHas.call(this,t,i)},isEmptyStyles:function(t){if(!this.styles)return!0;var e,i,n=0,r=!1,o=this._styleMap[t],s=this._styleMap[t+1];for(var a in o&&(t=o.line,n=o.offset),s&&(r=s.line===t,e=s.offset),i=void 0===t?this.styles:{line:this.styles[t]})for(var h in i[a])if(h>=n&&(!r||h<e))for(var c in i[a][h])return!1;return!0},_getStyleDeclaration:function(t,e){if(this._styleMap&&!this.isWrapping){var i=this._styleMap[t];if(!i)return null;t=i.line,e=i.offset+e}return this.callSuper("_getStyleDeclaration",t,e)},_setStyleDeclaration:function(t,e,i){var n=this._styleMap[t];t=n.line,e=n.offset+e,this.styles[t][e]=i},_deleteStyleDeclaration:function(t,e){var i=this._styleMap[t];t=i.line,e=i.offset+e,delete this.styles[t][e]},_getLineStyle:function(t){var e=this._styleMap[t];return!!this.styles[e.line]},_setLineStyle:function(t){var e=this._styleMap[t];this.styles[e.line]={}},_wrapText:function(t,e){var i,n=[];for(this.isWrapping=!0,i=0;i<t.length;i++)n=n.concat(this._wrapLine(t[i],i,e));return this.isWrapping=!1,n},_measureWord:function(t,e,i){var n,r=0;i=i||0;for(var o=0,s=t.length;o<s;o++)r+=this._getGraphemeBox(t[o],e,o+i,n,!0).kernedWidth,n=t[o];return r},_wrapLine:function(t,i,n,r){var o=0,s=this.splitByGrapheme,a=[],h=[],c=s?e.util.string.graphemeSplit(t):t.split(this._wordJoiners),l="",u=0,f=s?"":" ",d=0,g=0,p=0,v=!0,m=this._getWidthOfCharSpacing();r=r||0,0===c.length&&c.push([]),n-=r;for(var y=0;y<c.length;y++)l=s?c[y]:e.util.string.graphemeSplit(c[y]),d=this._measureWord(l,i,u),u+=l.length,(o+=g+d-m)>n&&!v?(a.push(h),h=[],o=d,v=!0):o+=m,v||s||h.push(f),h=h.concat(l),g=s?0:this._measureWord([f],i,u),u++,v=!1,d>p&&(p=d);return y&&a.push(h),p+r>this.dynamicMinWidth&&(this.dynamicMinWidth=p-m+r),a},isEndOfWrapping:function(t){return!this._styleMap[t+1]||this._styleMap[t+1].line!==this._styleMap[t].line},missingNewlineOffset:function(t){return this.splitByGrapheme?this.isEndOfWrapping(t)?1:0:1},_splitTextIntoLines:function(t){for(var i=e.Text.prototype._splitTextIntoLines.call(this,t),n=this._wrapText(i.lines,this.width),r=new Array(n.length),o=0;o<n.length;o++)r[o]=n[o].join("");return i.lines=r,i.graphemeLines=n,i},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var t={};for(var e in this._styleMap)this._textLines[e]&&(t[this._styleMap[e].line]=1);for(var e in this.styles)t[e]||delete this.styles[e]},toObject:function(t){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(t))}}),e.Textbox.fromObject=function(t,i){var n=e.util.stylesFromArray(t.styles,t.text),r=Object.assign({},t,{styles:n});return e.Object._fromObject("Textbox",r,i,"text")}}(e),function(){var t=T.controlsUtils,e=t.scaleSkewCursorStyleHandler,i=t.scaleCursorStyleHandler,n=t.scalingEqually,r=t.scalingYOrSkewingX,o=t.scalingXOrSkewingY,s=t.scaleOrSkewActionName,a=T.Object.prototype.controls;if(a.ml=new T.Control({x:-.5,y:0,cursorStyleHandler:e,actionHandler:o,getActionName:s}),a.mr=new T.Control({x:.5,y:0,cursorStyleHandler:e,actionHandler:o,getActionName:s}),a.mb=new T.Control({x:0,y:.5,cursorStyleHandler:e,actionHandler:r,getActionName:s}),a.mt=new T.Control({x:0,y:-.5,cursorStyleHandler:e,actionHandler:r,getActionName:s}),a.tl=new T.Control({x:-.5,y:-.5,cursorStyleHandler:i,actionHandler:n}),a.tr=new T.Control({x:.5,y:-.5,cursorStyleHandler:i,actionHandler:n}),a.bl=new T.Control({x:-.5,y:.5,cursorStyleHandler:i,actionHandler:n}),a.br=new T.Control({x:.5,y:.5,cursorStyleHandler:i,actionHandler:n}),a.mtr=new T.Control({x:0,y:-.5,actionHandler:t.rotationWithSnapping,cursorStyleHandler:t.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),T.Textbox){var h=T.Textbox.prototype.controls={};h.mtr=a.mtr,h.tr=a.tr,h.br=a.br,h.tl=a.tl,h.bl=a.bl,h.mt=a.mt,h.mb=a.mb,h.mr=new T.Control({x:.5,y:0,actionHandler:t.changeWidth,cursorStyleHandler:e,actionName:"resizing"}),h.ml=new T.Control({x:-.5,y:0,actionHandler:t.changeWidth,cursorStyleHandler:e,actionName:"resizing"})}}()},7419:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>m});var n=i(3379),r=i.n(n),o=i(7795),s=i.n(o),a=i(569),h=i.n(a),c=i(3565),l=i.n(c),u=i(9216),f=i.n(u),d=i(4589),g=i.n(d),p=i(9948),v={};v.styleTagTransform=g(),v.setAttributes=l(),v.insert=h().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=f(),r()(p.Z,v);const m=p.Z&&p.Z.locals?p.Z.locals:void 0},4445:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>m});var n=i(3379),r=i.n(n),o=i(7795),s=i.n(o),a=i(569),h=i.n(a),c=i(3565),l=i.n(c),u=i(9216),f=i.n(u),d=i(4589),g=i.n(d),p=i(5804),v={};v.styleTagTransform=g(),v.setAttributes=l(),v.insert=h().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=f(),r()(p.Z,v);const m=p.Z&&p.Z.locals?p.Z.locals:void 0},6646:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>m});var n=i(3379),r=i.n(n),o=i(7795),s=i.n(o),a=i(569),h=i.n(a),c=i(3565),l=i.n(c),u=i(9216),f=i.n(u),d=i(4589),g=i.n(d),p=i(9943),v={};v.styleTagTransform=g(),v.setAttributes=l(),v.insert=h().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=f(),r()(p.Z,v);const m=p.Z&&p.Z.locals?p.Z.locals:void 0},2223:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>m});var n=i(3379),r=i.n(n),o=i(7795),s=i.n(o),a=i(569),h=i.n(a),c=i(3565),l=i.n(c),u=i(9216),f=i.n(u),d=i(4589),g=i.n(d),p=i(6967),v={};v.styleTagTransform=g(),v.setAttributes=l(),v.insert=h().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=f(),r()(p.Z,v);const m=p.Z&&p.Z.locals?p.Z.locals:void 0},2797:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>m});var n=i(3379),r=i.n(n),o=i(7795),s=i.n(o),a=i(569),h=i.n(a),c=i(3565),l=i.n(c),u=i(9216),f=i.n(u),d=i(4589),g=i.n(d),p=i(7272),v={};v.styleTagTransform=g(),v.setAttributes=l(),v.insert=h().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=f(),r()(p.Z,v);const m=p.Z&&p.Z.locals?p.Z.locals:void 0},4915:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>m});var n=i(3379),r=i.n(n),o=i(7795),s=i.n(o),a=i(569),h=i.n(a),c=i(3565),l=i.n(c),u=i(9216),f=i.n(u),d=i(4589),g=i.n(d),p=i(890),v={};v.styleTagTransform=g(),v.setAttributes=l(),v.insert=h().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=f(),r()(p.Z,v);const m=p.Z&&p.Z.locals?p.Z.locals:void 0},3379:t=>{"use strict";var e=[];function i(t){for(var i=-1,n=0;n<e.length;n++)if(e[n].identifier===t){i=n;break}return i}function n(t,n){for(var o={},s=[],a=0;a<t.length;a++){var h=t[a],c=n.base?h[0]+n.base:h[0],l=o[c]||0,u="".concat(c," ").concat(l);o[c]=l+1;var f=i(u),d={css:h[1],media:h[2],sourceMap:h[3],supports:h[4],layer:h[5]};if(-1!==f)e[f].references++,e[f].updater(d);else{var g=r(d,n);n.byIndex=a,e.splice(a,0,{identifier:u,updater:g,references:1})}s.push(u)}return s}function r(t,e){var i=e.domAPI(e);return i.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;i.update(t=e)}else i.remove()}}t.exports=function(t,r){var o=n(t=t||[],r=r||{});return function(t){t=t||[];for(var s=0;s<o.length;s++){var a=i(o[s]);e[a].references--}for(var h=n(t,r),c=0;c<o.length;c++){var l=i(o[c]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}o=h}}},569:t=>{"use strict";var e={};t.exports=function(t,i){var n=function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(i)}},9216:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},3565:(t,e,i)=>{"use strict";t.exports=function(t){var e=i.nc;e&&t.setAttribute("nonce",e)}},7795:t=>{"use strict";t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(i){!function(t,e,i){var n="";i.supports&&(n+="@supports (".concat(i.supports,") {")),i.media&&(n+="@media ".concat(i.media," {"));var r=void 0!==i.layer;r&&(n+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),n+=i.css,r&&(n+="}"),i.media&&(n+="}"),i.supports&&(n+="}");var o=i.sourceMap;o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,i)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},4589:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},4756:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12.501 14.792l3.854 3.854-.707.707L13 16.705V23h-1v-6.293l-2.646 2.646-.707-.707zM8.647 6.354l3.854 3.854 3.854-3.854-.707-.707L13 8.295V2h-1v6.293L9.354 5.647zM6 13h13v-1H6z"></path><path fill="none" d="M0 0h24v24H0z"></path></svg>'},1460:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.707 12H23v1h-6.295l2.648 2.647-.707.707-3.854-3.853 3.854-3.854.707.707zM5.647 9.354L8.293 12H2v1h6.295l-2.648 2.647.707.707 3.854-3.853-3.854-3.854zM12 19h1V6h-1z"></path><path fill="none" d="M0 0h24v24H0z"></path></svg>'},9549:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 3v12.294l2.647-2.647.707.707-3.853 3.854-3.854-3.854.707-.707L12 15.292V3zM6 21h13v-1H6z"></path><path fill="none" d="M0 0h24v24H0z"></path></svg>'},4152:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 5H12V4h10zm0 3h-8v1h8zm0 5v-1h-6v1zM2 17h20v-1H2zm0 4h20v-1H2zm.234-8L7.042 2.049h.916L12.766 13h-1.093L9.917 9H5.083l-1.756 4zm3.288-5h3.956L7.5 3.494z"></path><path fill="none" d="M0 0h24v24H0z"></path></svg>'},5617:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.87 6h1.007l-.988 16.015A1.051 1.051 0 0 1 17.84 23H6.158a1.052 1.052 0 0 1-1.048-.984v-.001L4.123 6h1.003l.982 15.953a.05.05 0 0 0 .05.047h11.683zM9.5 19a.5.5 0 0 0 .5-.5v-10a.5.5 0 0 0-1 0v10a.5.5 0 0 0 .5.5zm5 0a.5.5 0 0 0 .5-.5v-10a.5.5 0 0 0-1 0v10a.5.5 0 0 0 .5.5zM5.064 5H3V4h5v-.75A1.251 1.251 0 0 1 9.25 2h5.5A1.251 1.251 0 0 1 16 3.25V4h5v1H5.064zM9 4h6v-.75a.25.25 0 0 0-.25-.25h-5.5a.25.25 0 0 0-.25.25z"></path><path fill="none" d="M0 0h24v24H0z"></path></svg>'},6562:function(t,e,i){"use strict";var n=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))((function(r,o){function s(t){try{h(n.next(t))}catch(t){o(t)}}function a(t){try{h(n.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,a)}h((n=n.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(h){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(i=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){s.label=a[1];break}if(6===a[0]&&s.label<r[1]){s.label=r[1],r=a;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(a);break}r[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],n=0}finally{i=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,h])}}},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(i(3244)),a=o(i(6638)),h=o(i(8484)),c=i(923),l=function(){function t(){this._element=document.createElement("div"),document.querySelector("body").appendChild(this._element)}return t.prototype.initialize=function(){return n(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return this._canvas=new h.default(this._element),[4,(0,c.getData)()];case 1:return t.sent(),(0,c.getColors)(),this._upbar=new s.default(this._element,this._canvas),this._objectPropertiesBar=new a.default(this._element,this._canvas),[2]}}))}))},t.prototype.loadFonts=function(t){var e=this;t.map((function(t){var i=document.createElement("p");i.innerHTML="&ensp;",i.style.fontFamily=t,i.style.position="absolute",e._element.appendChild(i)}))},t.prototype.createSelect=function(){},t.prototype.getCanvas=function(){return this._canvas},t}();e.default=l},3244:function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),i(7419);var r=n(i(6901)),o=n(i(7321)),s=n(i(4152)),a=n(i(5617)),h=n(i(4756)),c=n(i(1460)),l=n(i(9549)),u=n(i(4634));e.default=function(t,e){var i=this;this._element=document.createElement("div"),t.appendChild(this._element),this._element.classList.add("bar"),this._downloader=new u.default(t),[{name:"Добавить текст",func:function(){e.addText("Текст")},icon:s.default},{name:"Выровнять по горизонтали",func:function(){var t;null===(t=e._selectedObjects)||void 0===t||t.map((function(t){e.alignObject(t,!0,!1)}))},icon:h.default},{name:"Выровнять по вертикали",func:function(){var t;null===(t=e._selectedObjects)||void 0===t||t.map((function(t){e.alignObject(t,!1,!0)}))},icon:c.default},{name:"Сохранить в PNG",func:function(){i._downloader.dowload(i._downloader.render(e))},icon:l.default},{name:"Удалить элемент",func:function(){e.deleteLastActiveObject()},icon:a.default}].map((function(t){var e=new o.default("",t.func,i._element);e.getElement().innerHTML=t.icon,new r.default(t.name,e.getElement())}))}},4634:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this._element=document.createElement("a"),t.appendChild(this._element)}return t.prototype.render=function(t,e){return void 0===e&&(e=!0),e?t._canvasElement.toDataURL("image/png"):t._canvas.toDataURL({format:"png",multiplier:2,withoutTransform:!0})},t.prototype.dowload=function(t){this._element.href=t,this._element.download="NEONES.RU.png",this._element.click()},t}();e.default=i},8337:function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(923),o=n(i(7321)),s=n(i(6901));i(4445);e.default=function(t){var e=this,i=(0,r.getColors)();this.element=document.createElement("div"),this.element.classList.add("colorPickButtons"),Object.keys(i).map((function(n,r){var a=Object.values(i)[r],h=new o.default("",(function(){var e;null===(e=null==t?void 0:t._selectedObjects)||void 0===e||e.map((function(t){t.changeShadow(a)})),t.update()}),e.element);h.getElement().classList.add("colorButton"),new s.default(n,h.getElement()),h.getElement().style.backgroundColor=a}))}},6638:function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(923),o=n(i(8011)),s=n(i(7321)),a=n(i(6901)),h=n(i(8337));i(6646);var c=function(){function t(t,e){var i=this;this._element=document.createElement("div"),this._element.classList.add("objectProperties","hidden"),this._canvas=e,t.appendChild(this._element),e._canvas.on("selection:created",(function(){i.updateVisibility()})),e._canvas.on("selection:cleared",(function(){i.updateVisibility()})),e._canvas.on("selection:updated",(function(){i.updateVisibility()})),this.optionText(),this.optionColors(),this.optionFonts(),this.optionPrice()}return t.prototype.addOptionDiv=function(){var t=document.createElement("div");return t.classList.add("option"),t},t.prototype.addOption=function(t){void 0===t&&(t="");var e=document.createElement("div");e.classList.add(t),e.classList.add("label"),this._element.appendChild(e);var i=this.addOptionDiv();return e.appendChild(i),i},t.prototype.addRange=function(t,e,i,n){var r=document.createElement("input");r.type="range",r.min=t,r.max=e,r.step=i,n.appendChild(r)},t.prototype.updateVisibility=function(){this._element.classList.toggle("hidden"),this.showPrice()},t.prototype.optionText=function(){var t=this,e=this.addOption("Текст"),i=document.createElement("textarea");i.classList.add("textarea"),i.placeholder="Ваш текст",i.rows=3,e.appendChild(i),i.oninput=function(e){var i=e.target.value;t._canvas._selectedObjects.map((function(t){t.changeText(i)})),t._canvas.update()}},t.prototype.optionColors=function(){var t=this.addOption("Цвет"),e=new h.default(this._canvas);t.appendChild(e.element)},t.prototype.optionFonts=function(){var t=this,e=this.addOption("Шрифт");e.classList.add("fontOption"),r.fonts.map((function(i){var n=new s.default(i,(function(){t._canvas._selectedObjects.map((function(t){t.changeFont(i)})),t._canvas.update(),t.showPrice()}),e);n.getElement().classList.add("fontOptionButton"),n.getElement().style.fontFamily=i,n.getElement().style.fontSize="1em"}))},t.prototype.changeShadow=function(t){this._canvas._selectedObjects.map((function(e){e.changeShadow(t),e.dirty=!0})),this._canvas.update()},t.prototype.optionPrice=function(){var t=this,e=this.addOption("Стоимость"),i=document.createElement("div");i.classList.add("priceDiv"),i.textContent="",e.appendChild(i),this._canvas._canvas.on("object:modified",(function(){t.showPrice()}))},t.prototype.showPrice=function(){var t=this._canvas.selectAll();t.ungroupOnCanvas();var e=0,i=0,n=Number.parseFloat((Math.round(100*(t.width+Number.EPSILON))/100).toString()),s=Number.parseFloat((Math.round(100*(t.height+Number.EPSILON))/100).toString());t.getObjects().map((function(t){t instanceof o.default&&(i+=t.getText().trim().replace(" ","").length)})),e=n*(0,r.getPriceTextSize)()+s*(0,r.getPriceTextSize)()+i*(0,r.getPriceElement)(),e=Math.floor(e);var h=document.querySelector(".priceDiv");e&&(h.textContent=(null==e?void 0:e.toString())+" р."),new a.default("Примерная стоимость вывески",h)},t}();e.default=c},8011:function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(2777),s=function(t){function e(e,i,n){void 0===i&&(i=5);var r=t.call(this)||this;r._colorOfShadow=n;for(var s=0;s<i;s++)r.addWithUpdate(new o.fabric.Text(e,{fill:"white"}));return r.changeShadow(),r}return r(e,t),e.prototype.changeShadow=function(t){void 0===t&&(t=this._colorOfShadow),this.getObjects().map((function(e,i){e.shadow=new o.fabric.Shadow({color:t,blur:3*i,nonScaling:!0}),e.set({dirty:!0})})),this.dirty=!0},e.prototype.changeText=function(t){void 0===t&&(t=""),this.getObjects().map((function(e){e.set({text:t})})),this.addWithUpdate()},e.prototype.getText=function(){return this.getObjects()[0].text},e.prototype.changeFont=function(t){this.getObjects().map((function(e){e.set({fontFamily:t})})),this.set("dirty",!0),this.addWithUpdate()},e}(o.fabric.Group);e.default=s},7321:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(2223);var n=function(){function t(t,e,i){void 0===t&&(t=""),this._text=t,this._onClick=e,this._buttonDiv=document.createElement("button"),this._buttonDiv.classList.add("btn"),this._buttonDiv.textContent=t,this._buttonDiv.addEventListener("click",(function(){e()})),i.appendChild(this._buttonDiv)}return Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(t){this._text=t},enumerable:!1,configurable:!0}),t.prototype.getElement=function(){return this._buttonDiv},t}();e.default=n},6901:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(2797);var n=function(){function t(t,e){this._text=t,this._spanElement=document.createElement("span"),this._spanElement.classList.add("tooltipText"),this._spanElement.textContent=t,e.classList.add("tooltip"),this.onHoverShowHigher(e),e.appendChild(this._spanElement)}return Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(t){this._text=t},enumerable:!1,configurable:!0}),t.prototype.onHoverShowHigher=function(t,e,i){void 0===e&&(e="5"),void 0===i&&(i="1"),t.addEventListener("mouseover",(function(){t.style.zIndex=e})),t.addEventListener("mouseout",(function(){t.style.zIndex=i}))},t}();e.default=n},2915:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(2777),r=i(923);e.default=function(){var t="12px Arial";function e(t){return t.toFixed(2).toString().replace(".",",")+" мм"}n.fabric.Object.prototype.objectCaching=!1,n.fabric.Object.prototype.controls.h=new n.fabric.Control({x:-.5,cursorStyle:"pointer",render:function(i,n,o,s,a){i.font=t,i.fillStyle=r.colorScheme.blue;var h=e(a.getScaledWidth()),c=i.measureText(h).width,l=1.2*i.measureText("M").width,u=n+a.getScaledWidth()/2-c/2,f=o+a.getScaledHeight()/2+l+8;i.fillText(h,u,f)}}),n.fabric.Object.prototype.controls.w=new n.fabric.Control({y:-.5,cursorStyle:"pointer",render:function(i,n,o,s,a){i.font=t,i.fillStyle=r.colorScheme.blue;var h=e(a.getScaledHeight()),c=i.measureText(h).width,l=1.2*i.measureText("M").width,u=n-a.getScaledWidth()/2-8-l/2,f=o+a.getScaledHeight()/2+c/2;i.save(),i.rotate(-Math.PI/2),i.fillText(h,-f,u),i.restore()}}),n.fabric.Object.prototype.setControlsVisibility({mb:!1,ml:!1,mr:!1,mt:!1,mtr:!1}),n.fabric.Object.prototype.cornerColor=r.colorScheme.blue}},8484:function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(2777),o=n(i(8011)),s=i(923),a=n(i(2915)),h=function(){function t(t){var e=this,i="canvasFabric";this.makeCanvasDiv(t,i),this._canvas=new r.fabric.Canvas(i),this._canvas.setBackgroundColor("#101010",(function(){})),this._canvas.setDimensions({height:500,width:500}),this._canvas.on("selection:created",(function(){e._selectedObjects=e._canvas.getActiveObjects()})),this._canvas.on("selection:updated",(function(){e._selectedObjects=e._canvas.getActiveObjects()})),this._canvas.on("selection:cleared",(function(){e._selectedObjects=null})),this._canvas.on("rotating",(function(){e._selectedObjects.map((function(t){t.setCoords()}))})),(0,a.default)()}return t.prototype.makeCanvasDiv=function(t,e){var i=document.createElement("canvas");t.appendChild(i),i.id=e,this._canvasElement=i},t.prototype.resize=function(t,e){this._canvas.setWidth(t),this._canvas.setHeight(e),this.update()},t.prototype.getSize=function(){return{width:this._canvas.width,height:this._canvas.height}},t.prototype.getCenter=function(){return{x:this.getSize().width/2,y:this.getSize().height/2}},t.prototype.addToScene=function(t,e){var i;void 0===e&&(e=!0),(i=this._canvas).add.apply(i,t),e&&this.update()},t.prototype.addRect=function(t,e,i){void 0===i&&(i="blue");var n=new r.fabric.Rect({left:this.getCenter().x,top:this.getCenter().y,fill:"transparent",width:t,height:e,strokeWidth:1,stroke:i,strokeUniform:!0});return this.addToScene([n]),n},t.prototype.addText=function(t){var e=new o.default(t,8,"red");return e.changeFont(s.fonts[0]),this.alignObject(e),this.addToScene([e]),e.changeShadow("red"),e},t.prototype.alignObject=function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!0),i&&t.set("left",this._canvas.width/2-t.getScaledWidth()/2),e&&t.set("top",this._canvas.height/2-t.getScaledHeight()/2),this.update()},t.prototype.deleteLastActiveObject=function(){var t;this._selectedObjects&&(t=this._canvas).remove.apply(t,this._selectedObjects)},t.prototype.update=function(){this._canvas.renderAll()},t.prototype.selectAll=function(){return new r.fabric.ActiveSelection(this._canvas.getObjects(),{canvas:this._canvas})},t}();e.default=h},3607:function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),i(4915);var r=i(923),o=n(i(6562));window.addEventListener("load",(function(){s.initialize()}));var s=new o.default;s.loadFonts(r.fonts)},923:function(t,e){"use strict";var i=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))((function(r,o){function s(t){try{h(n.next(t))}catch(t){o(t)}}function a(t){try{h(n.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,a)}h((n=n.apply(t,e||[])).next())}))},n=this&&this.__generator||function(t,e){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(h){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(i=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){s.label=a[1];break}if(6===a[0]&&s.label<r[1]){s.label=r[1],r=a;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(a);break}r[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],n=0}finally{i=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,h])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.getData=e.getColors=e.getPriceTextSize=e.getPriceElement=e.prices=e.colorScheme=e.colors=e.fonts=e.serverUrl=e.baseLocation=void 0,e.baseLocation=".neonWidget",e.serverUrl="https://neon-widget-back.onrender.com",e.fonts=["MADELikes","RosaMarena","Veles","PFHandbookPro","Nickainley","StudioScriptCTT","LDSlender","Helvetica","CitricaCyrillic","BloggerSans","Birch","AmericanRetro"],e.colors={Красный:"rgb(255,0,0)",Оранжевый:"rgb(255,165,0)",Фуксия:"rgb(255,0,255)",Розовый:"rgb(255,192,203)",Желтый:"rgb(255,235,0)",Лаймовый:"rgb(255,255,102)",Фиолетовый:"rgb(128, 0, 128)",Синий:"rgb(0,0,139)",Голубой:"rgb(173, 216, 230)",Зеленый:"rgb(50,205,50)","Теплый белый":"rgb(253, 244, 220)","Холодный белый":"rgb(244, 253, 255)"},e.colorScheme={blue:"rgb(153, 204, 255)"},e.prices={price1mm:5,priceforElement:150},e.getPriceElement=function(){var t=JSON.parse(localStorage.getItem("data"));return t?t[0][1]:e.prices.priceforElement},e.getPriceTextSize=function(){var t=JSON.parse(localStorage.getItem("data"));return t?t[1][1]:e.prices.price1mm},e.getColors=function(){var t={},i=JSON.parse(localStorage.getItem("data"));return i?(i[2].map((function(e,n){0!=n&&(t[i[2][n]]="rgb("+i[3][n]+")")})),t):e.colors},e.getData=function(){return i(void 0,void 0,void 0,(function(){var t;return n(this,(function(i){switch(i.label){case 0:return[4,fetch(e.serverUrl+"/data",{method:"GET",mode:"cors"})];case 1:return[4,i.sent().json()];case 2:return t=i.sent(),console.log(t),localStorage.setItem("data",JSON.stringify(t)),[2]}}))}))}},9340:(t,e,i)=>{"use strict";t.exports=i.p+"9b76ffd136ef561a9ba9.ttf"},8279:(t,e,i)=>{"use strict";t.exports=i.p+"3fab4e205119c954ee96.ttf"},3965:(t,e,i)=>{"use strict";t.exports=i.p+"572c0acba764f5f13d40.ttf"},8661:(t,e,i)=>{"use strict";t.exports=i.p+"a52a374b66c2d88f41d7.ttf"},9123:(t,e,i)=>{"use strict";t.exports=i.p+"3419ab1294875875d041.ttf"},4297:(t,e,i)=>{"use strict";t.exports=i.p+"a61b6e58a23d4b65067f.ttf"},1345:(t,e,i)=>{"use strict";t.exports=i.p+"f5aeaca99a439752a2cc.ttf"},8694:(t,e,i)=>{"use strict";t.exports=i.p+"1a64aaf9c7b4f433f246.ttf"},2563:(t,e,i)=>{"use strict";t.exports=i.p+"6d62c3e81b300718222b.ttf"},3243:(t,e,i)=>{"use strict";t.exports=i.p+"2f24d94ab2730a38826f.ttf"},1400:(t,e,i)=>{"use strict";t.exports=i.p+"03a5038b58f74439f684.ttf"},6924:(t,e,i)=>{"use strict";t.exports=i.p+"1b4aab578e03b96061df.ttf"},4960:()=>{},6759:()=>{},6272:()=>{}},e={};function i(n){var r=e[n];if(void 0!==r)return r.exports;var o=e[n]={id:n,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.exports}i.m=t,i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;i.g.importScripts&&(t=i.g.location+"");var e=i.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&!t;)t=n[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=t})(),i.b=document.baseURI||self.location.href,i.nc=void 0,i(3607)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkMsUUFBc0IsVUFDdEJDLFVBQXNCLFVBQ3RCQyxXQUFzQixVQUN0QkMsS0FBc0IsVUFDdEJDLFVBQXNCLFVBQ3RCQyxLQUFzQixVQUN0QkMsS0FBc0IsVUFDdEJDLE1BQXNCLFVBQ3RCQyxZQUFzQixVQUN0QkMsU0FBc0IsVUFDdEJDLFFBQXNCLFVBQ3RCQyxVQUFzQixVQUN0QkMsT0FBc0IsVUFDdEJDLE1BQXNCLFVBQ3RCQyxNQUFzQixVQUN0QkMsU0FBc0IsVUFDdEJDLGNBQXNCLFVBQ3RCQyxVQUFzQixVQUN0QkMsYUFBc0IsVUFDdEJDLFVBQXNCLFVBQ3RCQyxXQUFzQixVQUN0QkMsVUFBc0IsVUFDdEJDLHFCQUFzQixVQUN0QkMsVUFBc0IsVUFDdEJDLFVBQXNCLFVBQ3RCQyxXQUFzQixVQUN0QkMsVUFBc0IsVUFDdEJDLFlBQXNCLFVBQ3RCQyxjQUFzQixVQUN0QkMsYUFBc0IsVUFDdEJDLGVBQXNCLFVBQ3RCQyxlQUFzQixVQUN0QkMsZUFBc0IsVUFDdEJDLFlBQXNCLFVBQ3RCQyxLQUFzQixVQUN0QkMsVUFBc0IsVUFDdEJDLE1BQXNCLFVBQ3RCQyxRQUFzQixVQUN0QkMsT0FBc0IsVUFDdEJDLGlCQUFzQixVQUN0QkMsV0FBc0IsVUFDdEJDLGFBQXNCLFVBQ3RCQyxhQUFzQixVQUN0QkMsZUFBc0IsVUFDdEJDLGdCQUFzQixVQUN0QkMsa0JBQXNCLFVBQ3RCQyxnQkFBc0IsVUFDdEJDLGdCQUFzQixVQUN0QkMsYUFBc0IsVUFDdEJDLFVBQXNCLFVBQ3RCQyxVQUFzQixVQUN0QkMsU0FBc0IsVUFDdEJDLFlBQXNCLFVBQ3RCQyxLQUFzQixVQUN0QkMsUUFBc0IsVUFDdEJDLE1BQXNCLFVBQ3RCQyxVQUFzQixVQUN0QkMsT0FBc0IsVUFDdEJDLFVBQXNCLFVBQ3RCQyxPQUFzQixVQUN0QkMsY0FBc0IsVUFDdEJDLFVBQXNCLFVBQ3RCQyxjQUFzQixVQUN0QkMsY0FBc0IsVUFDdEJDLFdBQXNCLFVBQ3RCQyxVQUFzQixVQUN0QkMsS0FBc0IsVUFDdEJDLEtBQXNCLFVBQ3RCQyxLQUFzQixV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QUN4QyxDQUNBLENBUHVCLEdDQXhCeTJHLEVBQW9CMXVHLEVBQUksQ0FBQ00sRUFBSzVCLElBQVVnTCxPQUFPd0gsVUFBVWdMLGVBQWUzZCxLQUFLK0IsRUFBSzVCLEdDQ2xGZ3dHLEVBQW9Cbm9HLEVBQUt4UyxJQUNILG9CQUFYcTdHLFFBQTBCQSxPQUFPQyxhQUMxQzNsRyxPQUFPc2xHLGVBQWVqN0csRUFBU3E3RyxPQUFPQyxZQUFhLENBQUU1d0csTUFBTyxXQUU3RGlMLE9BQU9zbEcsZUFBZWo3RyxFQUFTLGFBQWMsQ0FBRTBLLE9BQU8sR0FBTyxRQ0w5RCxJQUFJNndHLEVBQ0FaLEVBQW9CbjFFLEVBQUVnMkUsZ0JBQWVELEVBQVlaLEVBQW9CbjFFLEVBQUVpMkUsU0FBVyxJQUN0RixJQUFJeDNHLEVBQVcwMkcsRUFBb0JuMUUsRUFBRXZoQyxTQUNyQyxJQUFLczNHLEdBQWF0M0csSUFDYkEsRUFBU3kzRyxnQkFDWkgsRUFBWXQzRyxFQUFTeTNHLGNBQWNwbkcsTUFDL0JpbkcsR0FBVyxDQUNmLElBQUlJLEVBQVUxM0csRUFBU3cwQixxQkFBcUIsVUFDNUMsR0FBR2tqRixFQUFRajdHLE9BRVYsSUFEQSxJQUFJRSxFQUFJKzZHLEVBQVFqN0csT0FBUyxFQUNsQkUsR0FBSyxJQUFNMjZHLEdBQVdBLEVBQVlJLEVBQVEvNkcsS0FBSzBULEdBRXhELENBSUQsSUFBS2luRyxFQUFXLE1BQU0sSUFBSS83RCxNQUFNLHlEQUNoQys3RCxFQUFZQSxFQUFVeDVHLFFBQVEsT0FBUSxJQUFJQSxRQUFRLFFBQVMsSUFBSUEsUUFBUSxZQUFhLEtBQ3BGNDRHLEVBQW9CdnBHLEVBQUltcUcsTUNsQnhCWixFQUFvQmpyRyxFQUFJekwsU0FBUzIzRyxTQUFXdmhELEtBQUtvaEQsU0FBU3ZGLEtDQTFEeUUsRUFBb0JrQixRQUFLMzZHLEVDR0N5NUcsRUFBb0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW9ud2lkZ2V0Ly4vc3JjL2NvbXBvbmVudHMvQmFyL2Jhci5jc3MiLCJ3ZWJwYWNrOi8vbmVvbndpZGdldC8uL3NyYy9jb21wb25lbnRzL09iamVjdFByb3BlcnRpZXMvQ29sb3JCdXR0b25zL2NvbG9yUGlja0J1dHRvbi5jc3MiLCJ3ZWJwYWNrOi8vbmVvbndpZGdldC8uL3NyYy9jb21wb25lbnRzL09iamVjdFByb3BlcnRpZXMvb2JqZWN0UHJvcGVydGllcy5jc3MiLCJ3ZWJwYWNrOi8vbmVvbndpZGdldC8uL3NyYy9jb21wb25lbnRzL1VJL0J1dHRvbi9idXR0b24uY3NzIiwid2VicGFjazovL25lb253aWRnZXQvLi9zcmMvY29tcG9uZW50cy9VSS9Ub29sdGlwL3Rvb2x0aXAuY3NzIiwid2VicGFjazovL25lb253aWRnZXQvLi9zcmMvc3R5bGVzL3N0eWxlLmNzcyIsIndlYnBhY2s6Ly9uZW9ud2lkZ2V0Ly4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly9uZW9ud2lkZ2V0Ly4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2dldFVybC5qcyIsIndlYnBhY2s6Ly9uZW9ud2lkZ2V0Ly4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanMiLCJ3ZWJwYWNrOi8vbmVvbndpZGdldC8uL25vZGVfbW9kdWxlcy9mYWJyaWMvZGlzdC9mYWJyaWMuanMiLCJ3ZWJwYWNrOi8vbmVvbndpZGdldC8uL3NyYy9jb21wb25lbnRzL0Jhci9iYXIuY3NzP2E2ODkiLCJ3ZWJwYWNrOi8vbmVvbndpZGdldC8uL3NyYy9jb21wb25lbnRzL09iamVjdFByb3BlcnRpZXMvQ29sb3JCdXR0b25zL2NvbG9yUGlja0J1dHRvbi5jc3M/MzdhNCIsIndlYnBhY2s6Ly9uZW9ud2lkZ2V0Ly4vc3JjL2NvbXBvbmVudHMvT2JqZWN0UHJvcGVydGllcy9vYmplY3RQcm9wZXJ0aWVzLmNzcz9iNGE1Iiwid2VicGFjazovL25lb253aWRnZXQvLi9zcmMvY29tcG9uZW50cy9VSS9CdXR0b24vYnV0dG9uLmNzcz8wNTdiIiwid2VicGFjazovL25lb253aWRnZXQvLi9zcmMvY29tcG9uZW50cy9VSS9Ub29sdGlwL3Rvb2x0aXAuY3NzPzZjMDUiLCJ3ZWJwYWNrOi8vbmVvbndpZGdldC8uL3NyYy9zdHlsZXMvc3R5bGUuY3NzP2ZmOTQiLCJ3ZWJwYWNrOi8vbmVvbndpZGdldC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIndlYnBhY2s6Ly9uZW9ud2lkZ2V0Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qcyIsIndlYnBhY2s6Ly9uZW9ud2lkZ2V0Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzIiwid2VicGFjazovL25lb253aWRnZXQvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanMiLCJ3ZWJwYWNrOi8vbmVvbndpZGdldC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzIiwid2VicGFjazovL25lb253aWRnZXQvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly9uZW9ud2lkZ2V0Ly4vc3JjL2ljb25zL2NlbnRlci1ob3Jpem9udGFsLnN2ZyIsIndlYnBhY2s6Ly9uZW9ud2lkZ2V0Ly4vc3JjL2ljb25zL2NlbnRlci12ZXJ0aWNhbC5zdmciLCJ3ZWJwYWNrOi8vbmVvbndpZGdldC8uL3NyYy9pY29ucy9kb3dubG9hZC5zdmciLCJ3ZWJwYWNrOi8vbmVvbndpZGdldC8uL3NyYy9pY29ucy90ZXh0LnN2ZyIsIndlYnBhY2s6Ly9uZW9ud2lkZ2V0Ly4vc3JjL2ljb25zL3RyYXNoLnN2ZyIsIndlYnBhY2s6Ly9uZW9ud2lkZ2V0Ly4vc3JjL1dpZGdldC50cyIsIndlYnBhY2s6Ly9uZW9ud2lkZ2V0Ly4vc3JjL2NvbXBvbmVudHMvQmFyL0Jhci50cyIsIndlYnBhY2s6Ly9uZW9ud2lkZ2V0Ly4vc3JjL2NvbXBvbmVudHMvQmFyL0Rvd25sb2Rlci50cyIsIndlYnBhY2s6Ly9uZW9ud2lkZ2V0Ly4vc3JjL2NvbXBvbmVudHMvT2JqZWN0UHJvcGVydGllcy9Db2xvckJ1dHRvbnMvQ29sb3JQaWNrQnV0dG9ucy50cyIsIndlYnBhY2s6Ly9uZW9ud2lkZ2V0Ly4vc3JjL2NvbXBvbmVudHMvT2JqZWN0UHJvcGVydGllcy9PYmplY3RQcm9wZXJ0aWVzLnRzIiwid2VicGFjazovL25lb253aWRnZXQvLi9zcmMvY29tcG9uZW50cy9TaGFkb3dUZXh0LnRzIiwid2VicGFjazovL25lb253aWRnZXQvLi9zcmMvY29tcG9uZW50cy9VSS9CdXR0b24vQnV0dG9uLnRzIiwid2VicGFjazovL25lb253aWRnZXQvLi9zcmMvY29tcG9uZW50cy9VSS9Ub29sdGlwL1Rvb2x0aXAudHMiLCJ3ZWJwYWNrOi8vbmVvbndpZGdldC8uL3NyYy9jb21wb25lbnRzL1dpZGdldENhbnZhcy9PYmplY3RDb250cm9scy50cyIsIndlYnBhY2s6Ly9uZW9ud2lkZ2V0Ly4vc3JjL2NvbXBvbmVudHMvV2lkZ2V0Q2FudmFzL1dpZGdldENhbnZhcy50cyIsIndlYnBhY2s6Ly9uZW9ud2lkZ2V0Ly4vc3JjL2luZGV4LnRzIiwid2VicGFjazovL25lb253aWRnZXQvLi9zcmMvcmVzb3VyY2VzL2NvbnN0YW50cy50cyIsIndlYnBhY2s6Ly9uZW9ud2lkZ2V0L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL25lb253aWRnZXQvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vbmVvbndpZGdldC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vbmVvbndpZGdldC93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL25lb253aWRnZXQvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9uZW9ud2lkZ2V0L3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vbmVvbndpZGdldC93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9uZW9ud2lkZ2V0L3dlYnBhY2svcnVudGltZS9qc29ucCBjaHVuayBsb2FkaW5nIiwid2VicGFjazovL25lb253aWRnZXQvd2VicGFjay9ydW50aW1lL25vbmNlIiwid2VicGFjazovL25lb253aWRnZXQvd2VicGFjay9zdGFydHVwIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIGAuYmFye1xyXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgIGZsZXgtd3JhcDogd3JhcDtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIG1heC13aWR0aDogNTAwcHg7XHJcbiAgICBtYXJnaW46IDFlbSBhdXRvO1xyXG59YCwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvY29tcG9uZW50cy9CYXIvYmFyLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtJQUNJLG1CQUFtQjtJQUNuQixlQUFlO0lBQ2YsYUFBYTtJQUNiLDZCQUE2QjtJQUM3QixtQkFBbUI7SUFDbkIsV0FBVztJQUNYLGdCQUFnQjtJQUNoQixnQkFBZ0I7QUFDcEJcIixcInNvdXJjZXNDb250ZW50XCI6W1wiLmJhcntcXHJcXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcXHJcXG4gICAgZmxleC13cmFwOiB3cmFwO1xcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcXHJcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXHJcXG4gICAgd2lkdGg6IDEwMCU7XFxyXFxuICAgIG1heC13aWR0aDogNTAwcHg7XFxyXFxuICAgIG1hcmdpbjogMWVtIGF1dG87XFxyXFxufVwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBgLmNvbG9yUGlja0J1dHRvbnN7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgIGZsZXgtd3JhcDogd3JhcDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgbWFyZ2luOiAwIGF1dG87XHJcbiAgICBnYXA6IDEwcHg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxufVxyXG5cclxuLmNvbG9yQnV0dG9ue1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMnB4O1xyXG4gICAgZmlsdGVyOiBicmlnaHRuZXNzKDgwJSk7XHJcbiAgICBmbGV4LWJhc2lzOiAyMCU7XHJcbiAgICBtYXJnaW46IDA7XHJcbn1cclxuLmNvbG9yQnV0dG9uOmhvdmVye1xyXG4gICAgZmlsdGVyOiBicmlnaHRuZXNzKDEwMCUpO1xyXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoMCUsIC01JSk7XHJcbn1cclxuLmNvbG9yQnV0dG9uOmFjdGl2ZXtcclxuICAgIGZpbHRlcjogYnJpZ2h0bmVzcyg2MCUpO1xyXG59XHJcbmAsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL2NvbXBvbmVudHMvT2JqZWN0UHJvcGVydGllcy9Db2xvckJ1dHRvbnMvY29sb3JQaWNrQnV0dG9uLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtJQUNJLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsZUFBZTtJQUNmLFdBQVc7SUFDWCxjQUFjO0lBQ2QsU0FBUztJQUNULHVCQUF1QjtBQUMzQjs7QUFFQTtJQUNJLFlBQVk7SUFDWixrQkFBa0I7SUFDbEIsdUJBQXVCO0lBQ3ZCLGVBQWU7SUFDZixTQUFTO0FBQ2I7QUFDQTtJQUNJLHdCQUF3QjtJQUN4Qiw2QkFBNkI7QUFDakM7QUFDQTtJQUNJLHVCQUF1QjtBQUMzQlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCIuY29sb3JQaWNrQnV0dG9uc3tcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcXHJcXG4gICAgZmxleC13cmFwOiB3cmFwO1xcclxcbiAgICB3aWR0aDogMTAwJTtcXHJcXG4gICAgbWFyZ2luOiAwIGF1dG87XFxyXFxuICAgIGdhcDogMTBweDtcXHJcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxyXFxufVxcclxcblxcclxcbi5jb2xvckJ1dHRvbntcXHJcXG4gICAgYm9yZGVyOiBub25lO1xcclxcbiAgICBib3JkZXItcmFkaXVzOiAycHg7XFxyXFxuICAgIGZpbHRlcjogYnJpZ2h0bmVzcyg4MCUpO1xcclxcbiAgICBmbGV4LWJhc2lzOiAyMCU7XFxyXFxuICAgIG1hcmdpbjogMDtcXHJcXG59XFxyXFxuLmNvbG9yQnV0dG9uOmhvdmVye1xcclxcbiAgICBmaWx0ZXI6IGJyaWdodG5lc3MoMTAwJSk7XFxyXFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKDAlLCAtNSUpO1xcclxcbn1cXHJcXG4uY29sb3JCdXR0b246YWN0aXZle1xcclxcbiAgICBmaWx0ZXI6IGJyaWdodG5lc3MoNjAlKTtcXHJcXG59XFxyXFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIGAub2JqZWN0UHJvcGVydGllc3tcclxuICAgIG1hcmdpbjogMCBhdXRvO1xyXG59XHJcbi5vcHRpb257XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgIGZsZXgtd3JhcDogd3JhcDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWV2ZW5seTtcclxuICAgIG1heC13aWR0aDogNTAwcHg7XHJcbiAgICBtYXJnaW46IDAgYXV0bztcclxuICAgIHBhZGRpbmc6IDAuNWVtO1xyXG59XHJcbi5zdWJPcHRpb257XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgIGZsZXgtd3JhcDogd3JhcDtcclxuICAgIGdhcDogNXB4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbn1cclxuLmxhYmVse1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzEwMTAxMDtcclxuICAgIG1pbi1oZWlnaHQ6IDRlbTtcclxuICAgIG1heC13aWR0aDogNTAwcHg7XHJcbiAgICBtYXJnaW46IDAgYXV0bztcclxuICAgIG9wYWNpdHk6IDE7XHJcbiAgICB0cmFuc2l0aW9uOiAwLjRzIGFsbDtcclxufVxyXG4uaGlkZGVue1xyXG4gICAgdmlzaWJpbGl0eTogaGlkZGVuO1xyXG4gICAgb3BhY2l0eTogMDtcclxuICAgIHRyYW5zaXRpb246IDAuNHMgYWxsO1xyXG59XHJcblxyXG4udGV4dGFyZWF7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMTAxMDEwO1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgdHJhbnNpdGlvbjogMC40cyBhbGw7XHJcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgICBwYWRkaW5nOiA4cHg7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIG1hcmdpbjogMWVtO1xyXG4gICAgcmVzaXplOiB2ZXJ0aWNhbDtcclxufVxyXG4udGV4dGFyZWE6Zm9jdXN7XHJcbiAgICBvdXRsaW5lOiBub25lO1xyXG4gICAgYm9yZGVyOiAxcHggd2hpdGUgc29saWQ7XHJcbiAgICB0cmFuc2l0aW9uOiAwLjRzIGFsbDtcclxufVxyXG5cclxuLmZvbnRPcHRpb257XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgIGZsZXgtd3JhcDogd3JhcDtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufVxyXG5cclxuLmZvbnRPcHRpb25CdXR0b257XHJcbiAgICBmbGV4OiAyNSU7XHJcbiAgICBoZWlnaHQ6IDIuNGVtO1xyXG4gICAgcGFkZGluZzogMC41ZW07XHJcbiAgICBmaWx0ZXI6IGJyaWdodG5lc3MoODAlKTtcclxufVxyXG4uZm9udE9wdGlvbkJ1dHRvbjpob3ZlcntcclxuICAgIGZpbHRlcjogYnJpZ2h0bmVzcygxMjAlKTtcclxufVxyXG5cclxuLnByaWNlRGl2e1xyXG4gICAgZm9udC1zaXplOiAyNHB4O1xyXG59YCwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvY29tcG9uZW50cy9PYmplY3RQcm9wZXJ0aWVzL29iamVjdFByb3BlcnRpZXMuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0lBQ0ksY0FBYztBQUNsQjtBQUNBO0lBQ0ksYUFBYTtJQUNiLG1CQUFtQjtJQUNuQixlQUFlO0lBQ2YsbUJBQW1CO0lBQ25CLDZCQUE2QjtJQUM3QixnQkFBZ0I7SUFDaEIsY0FBYztJQUNkLGNBQWM7QUFDbEI7QUFDQTtJQUNJLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsZUFBZTtJQUNmLFFBQVE7SUFDUixtQkFBbUI7SUFDbkIsNkJBQTZCO0lBQzdCLFdBQVc7QUFDZjtBQUNBO0lBQ0ksWUFBWTtJQUNaLHlCQUF5QjtJQUN6QixlQUFlO0lBQ2YsZ0JBQWdCO0lBQ2hCLGNBQWM7SUFDZCxVQUFVO0lBQ1Ysb0JBQW9CO0FBQ3hCO0FBQ0E7SUFDSSxrQkFBa0I7SUFDbEIsVUFBVTtJQUNWLG9CQUFvQjtBQUN4Qjs7QUFFQTtJQUNJLHlCQUF5QjtJQUN6QixZQUFZO0lBQ1osb0JBQW9CO0lBQ3BCLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osV0FBVztJQUNYLFdBQVc7SUFDWCxnQkFBZ0I7QUFDcEI7QUFDQTtJQUNJLGFBQWE7SUFDYix1QkFBdUI7SUFDdkIsb0JBQW9CO0FBQ3hCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLG1CQUFtQjtJQUNuQixlQUFlO0lBQ2YsdUJBQXVCO0lBQ3ZCLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLFNBQVM7SUFDVCxhQUFhO0lBQ2IsY0FBYztJQUNkLHVCQUF1QjtBQUMzQjtBQUNBO0lBQ0ksd0JBQXdCO0FBQzVCOztBQUVBO0lBQ0ksZUFBZTtBQUNuQlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCIub2JqZWN0UHJvcGVydGllc3tcXHJcXG4gICAgbWFyZ2luOiAwIGF1dG87XFxyXFxufVxcclxcbi5vcHRpb257XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XFxyXFxuICAgIGZsZXgtd3JhcDogd3JhcDtcXHJcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXHJcXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1ldmVubHk7XFxyXFxuICAgIG1heC13aWR0aDogNTAwcHg7XFxyXFxuICAgIG1hcmdpbjogMCBhdXRvO1xcclxcbiAgICBwYWRkaW5nOiAwLjVlbTtcXHJcXG59XFxyXFxuLnN1Yk9wdGlvbntcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcXHJcXG4gICAgZmxleC13cmFwOiB3cmFwO1xcclxcbiAgICBnYXA6IDVweDtcXHJcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXHJcXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XFxyXFxuICAgIHdpZHRoOiAxMDAlO1xcclxcbn1cXHJcXG4ubGFiZWx7XFxyXFxuICAgIGNvbG9yOiB3aGl0ZTtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzEwMTAxMDtcXHJcXG4gICAgbWluLWhlaWdodDogNGVtO1xcclxcbiAgICBtYXgtd2lkdGg6IDUwMHB4O1xcclxcbiAgICBtYXJnaW46IDAgYXV0bztcXHJcXG4gICAgb3BhY2l0eTogMTtcXHJcXG4gICAgdHJhbnNpdGlvbjogMC40cyBhbGw7XFxyXFxufVxcclxcbi5oaWRkZW57XFxyXFxuICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcXHJcXG4gICAgb3BhY2l0eTogMDtcXHJcXG4gICAgdHJhbnNpdGlvbjogMC40cyBhbGw7XFxyXFxufVxcclxcblxcclxcbi50ZXh0YXJlYXtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzEwMTAxMDtcXHJcXG4gICAgY29sb3I6IHdoaXRlO1xcclxcbiAgICB0cmFuc2l0aW9uOiAwLjRzIGFsbDtcXHJcXG4gICAgYm9yZGVyLXJhZGl1czogOHB4O1xcclxcbiAgICBwYWRkaW5nOiA4cHg7XFxyXFxuICAgIHdpZHRoOiAxMDAlO1xcclxcbiAgICBtYXJnaW46IDFlbTtcXHJcXG4gICAgcmVzaXplOiB2ZXJ0aWNhbDtcXHJcXG59XFxyXFxuLnRleHRhcmVhOmZvY3Vze1xcclxcbiAgICBvdXRsaW5lOiBub25lO1xcclxcbiAgICBib3JkZXI6IDFweCB3aGl0ZSBzb2xpZDtcXHJcXG4gICAgdHJhbnNpdGlvbjogMC40cyBhbGw7XFxyXFxufVxcclxcblxcclxcbi5mb250T3B0aW9ue1xcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xcclxcbiAgICBmbGV4LXdyYXA6IHdyYXA7XFxyXFxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcclxcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcclxcbn1cXHJcXG5cXHJcXG4uZm9udE9wdGlvbkJ1dHRvbntcXHJcXG4gICAgZmxleDogMjUlO1xcclxcbiAgICBoZWlnaHQ6IDIuNGVtO1xcclxcbiAgICBwYWRkaW5nOiAwLjVlbTtcXHJcXG4gICAgZmlsdGVyOiBicmlnaHRuZXNzKDgwJSk7XFxyXFxufVxcclxcbi5mb250T3B0aW9uQnV0dG9uOmhvdmVye1xcclxcbiAgICBmaWx0ZXI6IGJyaWdodG5lc3MoMTIwJSk7XFxyXFxufVxcclxcblxcclxcbi5wcmljZURpdntcXHJcXG4gICAgZm9udC1zaXplOiAyNHB4O1xcclxcbn1cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgYC5idG57XHJcbiAgICBib3JkZXI6IDJweCBzb2xpZCByZ2IoMjQ0LCA2NywgNTQpO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDMsIDMsIDMpIDtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIHBhZGRpbmc6IDNweDtcclxuICAgIG1hcmdpbjogNXB4O1xyXG4gICAgbWluLXdpZHRoOiAzMHB4O1xyXG4gICAgbWluLWhlaWdodDogMzBweDtcclxuICAgIGZpbGw6IHdoaXRlO1xyXG59XHJcbi5idG46YWN0aXZle1xyXG4gICAgYm9yZGVyLXdpZHRoOiAzcHg7XHJcbn1cclxuLmJ0bjpob3ZlcntcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxufWAsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL2NvbXBvbmVudHMvVUkvQnV0dG9uL2J1dHRvbi5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7SUFDSSxrQ0FBa0M7SUFDbEMsK0JBQStCO0lBQy9CLFlBQVk7SUFDWixZQUFZO0lBQ1osV0FBVztJQUNYLGVBQWU7SUFDZixnQkFBZ0I7SUFDaEIsV0FBVztBQUNmO0FBQ0E7SUFDSSxpQkFBaUI7QUFDckI7QUFDQTtJQUNJLGVBQWU7QUFDbkJcIixcInNvdXJjZXNDb250ZW50XCI6W1wiLmJ0bntcXHJcXG4gICAgYm9yZGVyOiAycHggc29saWQgcmdiKDI0NCwgNjcsIDU0KTtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDMsIDMsIDMpIDtcXHJcXG4gICAgY29sb3I6IHdoaXRlO1xcclxcbiAgICBwYWRkaW5nOiAzcHg7XFxyXFxuICAgIG1hcmdpbjogNXB4O1xcclxcbiAgICBtaW4td2lkdGg6IDMwcHg7XFxyXFxuICAgIG1pbi1oZWlnaHQ6IDMwcHg7XFxyXFxuICAgIGZpbGw6IHdoaXRlO1xcclxcbn1cXHJcXG4uYnRuOmFjdGl2ZXtcXHJcXG4gICAgYm9yZGVyLXdpZHRoOiAzcHg7XFxyXFxufVxcclxcbi5idG46aG92ZXJ7XFxyXFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXHJcXG59XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIGAudG9vbHRpcHtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxufVxyXG4udG9vbHRpcFRleHR7XHJcbiAgICB3aWR0aDogZml0LWNvbnRlbnQ7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjaztcclxuICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgcGFkZGluZzogNHB4IDhweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcclxuICAgIG9wYWNpdHk6IDA7XHJcbiAgICB0cmFuc2l0aW9uOiBhbGwgMC40cztcclxuICAgIHRvcDogMTAwJTtcclxuICAgIGxlZnQ6IDUwJTtcclxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIDEwcHgpO1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgcmdiKDI0NCwgNjcsIDU0KTtcclxuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xyXG4gICAgXHJcbiAgICBmb250LXNpemU6IDE2cHg7XHJcbn1cclxuLnRvb2x0aXBUZXh0OjphZnRlcntcclxuICAgIGNvbnRlbnQ6IFwiXCI7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICBib3R0b206IDEwMCU7XHJcbiAgICBsZWZ0OiA1MCU7XHJcbiAgICBtYXJnaW4tbGVmdDogLTVweDtcclxuICAgIGJvcmRlci13aWR0aDogNXB4O1xyXG4gICAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcclxuICAgIGJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgcmdiKDI0NCwgNjcsIDU0KSB0cmFuc3BhcmVudDtcclxufVxyXG5cclxuLnRvb2x0aXA6aG92ZXIgLnRvb2x0aXBUZXh0IHtcclxuICAgIHZpc2liaWxpdHk6IHZpc2libGU7XHJcbiAgICBvcGFjaXR5OiAxO1xyXG4gICAgdHJhbnNpdGlvbjogYWxsIDAuNHM7XHJcbiAgfWAsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL2NvbXBvbmVudHMvVUkvVG9vbHRpcC90b29sdGlwLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtJQUNJLGtCQUFrQjtBQUN0QjtBQUNBO0lBQ0ksa0JBQWtCO0lBQ2xCLHVCQUF1QjtJQUN2QixXQUFXO0lBQ1gsa0JBQWtCO0lBQ2xCLGdCQUFnQjtJQUNoQixrQkFBa0I7SUFDbEIsa0JBQWtCO0lBQ2xCLGtCQUFrQjtJQUNsQixVQUFVO0lBQ1Ysb0JBQW9CO0lBQ3BCLFNBQVM7SUFDVCxTQUFTO0lBQ1QsZ0NBQWdDO0lBQ2hDLGtDQUFrQztJQUNsQyxvQkFBb0I7O0lBRXBCLGVBQWU7QUFDbkI7QUFDQTtJQUNJLFdBQVc7SUFDWCxrQkFBa0I7SUFDbEIsWUFBWTtJQUNaLFNBQVM7SUFDVCxpQkFBaUI7SUFDakIsaUJBQWlCO0lBQ2pCLG1CQUFtQjtJQUNuQixrRUFBa0U7QUFDdEU7O0FBRUE7SUFDSSxtQkFBbUI7SUFDbkIsVUFBVTtJQUNWLG9CQUFvQjtFQUN0QlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCIudG9vbHRpcHtcXHJcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcclxcbn1cXHJcXG4udG9vbHRpcFRleHR7XFxyXFxuICAgIHdpZHRoOiBmaXQtY29udGVudDtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XFxyXFxuICAgIGNvbG9yOiAjZmZmO1xcclxcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxyXFxuICAgIHBhZGRpbmc6IDRweCA4cHg7XFxyXFxuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcXHJcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcclxcbiAgICB2aXNpYmlsaXR5OiBoaWRkZW47XFxyXFxuICAgIG9wYWNpdHk6IDA7XFxyXFxuICAgIHRyYW5zaXRpb246IGFsbCAwLjRzO1xcclxcbiAgICB0b3A6IDEwMCU7XFxyXFxuICAgIGxlZnQ6IDUwJTtcXHJcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgMTBweCk7XFxyXFxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYigyNDQsIDY3LCA1NCk7XFxyXFxuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xcclxcbiAgICBcXHJcXG4gICAgZm9udC1zaXplOiAxNnB4O1xcclxcbn1cXHJcXG4udG9vbHRpcFRleHQ6OmFmdGVye1xcclxcbiAgICBjb250ZW50OiBcXFwiXFxcIjtcXHJcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcclxcbiAgICBib3R0b206IDEwMCU7XFxyXFxuICAgIGxlZnQ6IDUwJTtcXHJcXG4gICAgbWFyZ2luLWxlZnQ6IC01cHg7XFxyXFxuICAgIGJvcmRlci13aWR0aDogNXB4O1xcclxcbiAgICBib3JkZXItc3R5bGU6IHNvbGlkO1xcclxcbiAgICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50IHRyYW5zcGFyZW50IHJnYigyNDQsIDY3LCA1NCkgdHJhbnNwYXJlbnQ7XFxyXFxufVxcclxcblxcclxcbi50b29sdGlwOmhvdmVyIC50b29sdGlwVGV4dCB7XFxyXFxuICAgIHZpc2liaWxpdHk6IHZpc2libGU7XFxyXFxuICAgIG9wYWNpdHk6IDE7XFxyXFxuICAgIHRyYW5zaXRpb246IGFsbCAwLjRzO1xcclxcbiAgfVwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvZ2V0VXJsLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzBfX18gPSBuZXcgVVJMKFwiLi4vZm9udHMvUm9zYU1hcmVuYS50dGZcIiwgaW1wb3J0Lm1ldGEudXJsKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMV9fXyA9IG5ldyBVUkwoXCIuLi9mb250cy9TdHVkaW9TY3JpcHRDVFQudHRmXCIsIGltcG9ydC5tZXRhLnVybCk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzJfX18gPSBuZXcgVVJMKFwiLi4vZm9udHMvVmVsZXMudHRmXCIsIGltcG9ydC5tZXRhLnVybCk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzNfX18gPSBuZXcgVVJMKFwiLi4vZm9udHMvUEZIYW5kYm9va1Byby50dGZcIiwgaW1wb3J0Lm1ldGEudXJsKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfNF9fXyA9IG5ldyBVUkwoXCIuLi9mb250cy9OaWNrYWlubGV5LnR0ZlwiLCBpbXBvcnQubWV0YS51cmwpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF81X19fID0gbmV3IFVSTChcIi4uL2ZvbnRzL01BREVMaWtlcy50dGZcIiwgaW1wb3J0Lm1ldGEudXJsKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfNl9fXyA9IG5ldyBVUkwoXCIuLi9mb250cy9MRFNsZW5kZXIudHRmXCIsIGltcG9ydC5tZXRhLnVybCk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzdfX18gPSBuZXcgVVJMKFwiLi4vZm9udHMvSGVsdmV0aWNhLnR0ZlwiLCBpbXBvcnQubWV0YS51cmwpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF84X19fID0gbmV3IFVSTChcIi4uL2ZvbnRzL0NpdHJpY2FDeXJpbGxpYy50dGZcIiwgaW1wb3J0Lm1ldGEudXJsKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfOV9fXyA9IG5ldyBVUkwoXCIuLi9mb250cy9CbG9nZ2VyU2Fucy50dGZcIiwgaW1wb3J0Lm1ldGEudXJsKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMTBfX18gPSBuZXcgVVJMKFwiLi4vZm9udHMvQmlyY2gudHRmXCIsIGltcG9ydC5tZXRhLnVybCk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzExX19fID0gbmV3IFVSTChcIi4uL2ZvbnRzL0FtZXJpY2FuUmV0cm8udHRmXCIsIGltcG9ydC5tZXRhLnVybCk7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMF9fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzBfX18pO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzFfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8xX19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8yX19fID0gX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMl9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfM19fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzNfX18pO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzRfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF80X19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF81X19fID0gX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfNV9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfNl9fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzZfX18pO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzdfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF83X19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF84X19fID0gX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfOF9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfOV9fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzlfX18pO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzEwX19fID0gX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMTBfX18pO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzExX19fID0gX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMTFfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIGBAZm9udC1mYWNlXG57XG5mb250LWZhbWlseTogXCJSb3NhTWFyZW5hXCI7XG5zcmM6IHVybCgke19fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzBfX199KTtcbn1cbkBmb250LWZhY2VcbntcbmZvbnQtZmFtaWx5OiBcIlN0dWRpb1NjcmlwdENUVFwiOyAgXG5zcmM6IHVybCgke19fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzFfX199KTtcbn1cbkBmb250LWZhY2VcbntcbmZvbnQtZmFtaWx5OiBcIlZlbGVzXCI7XG5zcmM6IHVybCgke19fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzJfX199KTtcbn1cbkBmb250LWZhY2VcbntcbmZvbnQtZmFtaWx5OiBcIlBGSGFuZGJvb2tQcm9cIjtcbnNyYzogdXJsKCR7X19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfM19fX30pO1xufUBmb250LWZhY2VcbntcbmZvbnQtZmFtaWx5OiBcIk5pY2thaW5sZXlcIjtcbnNyYzogdXJsKCR7X19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfNF9fX30pO1xufVxuQGZvbnQtZmFjZVxue1xuZm9udC1mYW1pbHk6IFwiTUFERUxpa2VzXCI7XG5zcmM6IHVybCgke19fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzVfX199KTtcbn1cbkBmb250LWZhY2VcbntcbmZvbnQtZmFtaWx5OiBcIkxEU2xlbmRlclwiO1xuc3JjOiB1cmwoJHtfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF82X19ffSk7XG59XG5AZm9udC1mYWNlXG57XG5mb250LWZhbWlseTogXCJIZWx2ZXRpY2FcIjtcbnNyYzogdXJsKCR7X19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfN19fX30pO1xufVxuQGZvbnQtZmFjZVxue1xuZm9udC1mYW1pbHk6IFwiQ2l0cmljYUN5cmlsbGljXCI7XG5zcmM6IHVybCgke19fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzhfX199KTtcbn1cbkBmb250LWZhY2VcbntcbmZvbnQtZmFtaWx5OiBcIkJsb2dnZXJTYW5zXCI7XG5zcmM6IHVybCgke19fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzlfX199KTtcbn1cbkBmb250LWZhY2VcbntcbmZvbnQtZmFtaWx5OiBcIkJpcmNoXCI7XG5zcmM6IHVybCgke19fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzEwX19ffSk7XG59XG5AZm9udC1mYWNlXG57XG5mb250LWZhbWlseTogXCJBbWVyaWNhblJldHJvXCI7XG5zcmM6IHVybCgke19fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzExX19ffSk7XG59XG5cblxuLm5lb25XaWRnZXR7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxNzMsIDEyNiwgMTI2LCAwKTtcbiAgICBmb250LWZhbWlseTogY3Vyc2l2ZTtcbn1cblxuLmNhbnZhcy1jb250YWluZXJ7XG4gICAgbWFyZ2luOiAwIGF1dG87XG59YCwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvc3R5bGVzL3N0eWxlLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTs7QUFFQSx5QkFBeUI7QUFDekIsNENBQW1DO0FBQ25DO0FBQ0E7O0FBRUEsOEJBQThCO0FBQzlCLDRDQUF3QztBQUN4QztBQUNBOztBQUVBLG9CQUFvQjtBQUNwQiw0Q0FBOEI7QUFDOUI7QUFDQTs7QUFFQSw0QkFBNEI7QUFDNUIsNENBQXNDO0FBQ3RDLENBQUM7O0FBRUQseUJBQXlCO0FBQ3pCLDRDQUFtQztBQUNuQztBQUNBOztBQUVBLHdCQUF3QjtBQUN4Qiw0Q0FBa0M7QUFDbEM7QUFDQTs7QUFFQSx3QkFBd0I7QUFDeEIsNENBQWtDO0FBQ2xDO0FBQ0E7O0FBRUEsd0JBQXdCO0FBQ3hCLDRDQUFrQztBQUNsQztBQUNBOztBQUVBLDhCQUE4QjtBQUM5Qiw0Q0FBd0M7QUFDeEM7QUFDQTs7QUFFQSwwQkFBMEI7QUFDMUIsNENBQW9DO0FBQ3BDO0FBQ0E7O0FBRUEsb0JBQW9CO0FBQ3BCLDZDQUE4QjtBQUM5QjtBQUNBOztBQUVBLDRCQUE0QjtBQUM1Qiw2Q0FBc0M7QUFDdEM7OztBQUdBO0lBQ0ksd0NBQXdDO0lBQ3hDLG9CQUFvQjtBQUN4Qjs7QUFFQTtJQUNJLGNBQWM7QUFDbEJcIixcInNvdXJjZXNDb250ZW50XCI6W1wiQGZvbnQtZmFjZVxcbntcXG5mb250LWZhbWlseTogXFxcIlJvc2FNYXJlbmFcXFwiO1xcbnNyYzogdXJsKCcuLi9mb250cy9Sb3NhTWFyZW5hLnR0ZicpO1xcbn1cXG5AZm9udC1mYWNlXFxue1xcbmZvbnQtZmFtaWx5OiBcXFwiU3R1ZGlvU2NyaXB0Q1RUXFxcIjsgIFxcbnNyYzogdXJsKCcuLi9mb250cy9TdHVkaW9TY3JpcHRDVFQudHRmJyk7XFxufVxcbkBmb250LWZhY2VcXG57XFxuZm9udC1mYW1pbHk6IFxcXCJWZWxlc1xcXCI7XFxuc3JjOiB1cmwoJy4uL2ZvbnRzL1ZlbGVzLnR0ZicpO1xcbn1cXG5AZm9udC1mYWNlXFxue1xcbmZvbnQtZmFtaWx5OiBcXFwiUEZIYW5kYm9va1Byb1xcXCI7XFxuc3JjOiB1cmwoJy4uL2ZvbnRzL1BGSGFuZGJvb2tQcm8udHRmJyk7XFxufUBmb250LWZhY2VcXG57XFxuZm9udC1mYW1pbHk6IFxcXCJOaWNrYWlubGV5XFxcIjtcXG5zcmM6IHVybCgnLi4vZm9udHMvTmlja2FpbmxleS50dGYnKTtcXG59XFxuQGZvbnQtZmFjZVxcbntcXG5mb250LWZhbWlseTogXFxcIk1BREVMaWtlc1xcXCI7XFxuc3JjOiB1cmwoJy4uL2ZvbnRzL01BREVMaWtlcy50dGYnKTtcXG59XFxuQGZvbnQtZmFjZVxcbntcXG5mb250LWZhbWlseTogXFxcIkxEU2xlbmRlclxcXCI7XFxuc3JjOiB1cmwoJy4uL2ZvbnRzL0xEU2xlbmRlci50dGYnKTtcXG59XFxuQGZvbnQtZmFjZVxcbntcXG5mb250LWZhbWlseTogXFxcIkhlbHZldGljYVxcXCI7XFxuc3JjOiB1cmwoJy4uL2ZvbnRzL0hlbHZldGljYS50dGYnKTtcXG59XFxuQGZvbnQtZmFjZVxcbntcXG5mb250LWZhbWlseTogXFxcIkNpdHJpY2FDeXJpbGxpY1xcXCI7XFxuc3JjOiB1cmwoJy4uL2ZvbnRzL0NpdHJpY2FDeXJpbGxpYy50dGYnKTtcXG59XFxuQGZvbnQtZmFjZVxcbntcXG5mb250LWZhbWlseTogXFxcIkJsb2dnZXJTYW5zXFxcIjtcXG5zcmM6IHVybCgnLi4vZm9udHMvQmxvZ2dlclNhbnMudHRmJyk7XFxufVxcbkBmb250LWZhY2VcXG57XFxuZm9udC1mYW1pbHk6IFxcXCJCaXJjaFxcXCI7XFxuc3JjOiB1cmwoJy4uL2ZvbnRzL0JpcmNoLnR0ZicpO1xcbn1cXG5AZm9udC1mYWNlXFxue1xcbmZvbnQtZmFtaWx5OiBcXFwiQW1lcmljYW5SZXRyb1xcXCI7XFxuc3JjOiB1cmwoJy4uL2ZvbnRzL0FtZXJpY2FuUmV0cm8udHRmJyk7XFxufVxcblxcblxcbi5uZW9uV2lkZ2V0e1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDE3MywgMTI2LCAxMjYsIDApO1xcbiAgICBmb250LWZhbWlseTogY3Vyc2l2ZTtcXG59XFxuXFxuLmNhbnZhcy1jb250YWluZXJ7XFxuICAgIG1hcmdpbjogMCBhdXRvO1xcbn1cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKSB7XG4gIHZhciBsaXN0ID0gW107XG5cbiAgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IFwiXCI7XG4gICAgICB2YXIgbmVlZExheWVyID0gdHlwZW9mIGl0ZW1bNV0gIT09IFwidW5kZWZpbmVkXCI7XG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIik7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIik7XG4gICAgICB9XG4gICAgICBjb250ZW50ICs9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSk7XG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oXCJcIik7XG4gIH07XG5cbiAgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcbiAgbGlzdC5pID0gZnVuY3Rpb24gaShtb2R1bGVzLCBtZWRpYSwgZGVkdXBlLCBzdXBwb3J0cywgbGF5ZXIpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIHVuZGVmaW5lZF1dO1xuICAgIH1cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdGhpcy5sZW5ndGg7IGsrKykge1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2tdWzBdO1xuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBfayA9IDA7IF9rIDwgbW9kdWxlcy5sZW5ndGg7IF9rKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2tdKTtcbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgbGF5ZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtWzVdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHN1cHBvcnRzKSB7XG4gICAgICAgIGlmICghaXRlbVs0XSkge1xuICAgICAgICAgIGl0ZW1bNF0gPSBcIlwiLmNvbmNhdChzdXBwb3J0cyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzRdID0gc3VwcG9ydHM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBsaXN0O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XG4gIGlmICghb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuICBpZiAoIXVybCkge1xuICAgIHJldHVybiB1cmw7XG4gIH1cbiAgdXJsID0gU3RyaW5nKHVybC5fX2VzTW9kdWxlID8gdXJsLmRlZmF1bHQgOiB1cmwpO1xuXG4gIC8vIElmIHVybCBpcyBhbHJlYWR5IHdyYXBwZWQgaW4gcXVvdGVzLCByZW1vdmUgdGhlbVxuICBpZiAoL15bJ1wiXS4qWydcIl0kLy50ZXN0KHVybCkpIHtcbiAgICB1cmwgPSB1cmwuc2xpY2UoMSwgLTEpO1xuICB9XG4gIGlmIChvcHRpb25zLmhhc2gpIHtcbiAgICB1cmwgKz0gb3B0aW9ucy5oYXNoO1xuICB9XG5cbiAgLy8gU2hvdWxkIHVybCBiZSB3cmFwcGVkP1xuICAvLyBTZWUgaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2Nzcy12YWx1ZXMtMy8jdXJsc1xuICBpZiAoL1tcIicoKSBcXHRcXG5dfCglMjApLy50ZXN0KHVybCkgfHwgb3B0aW9ucy5uZWVkUXVvdGVzKSB7XG4gICAgcmV0dXJuIFwiXFxcIlwiLmNvbmNhdCh1cmwucmVwbGFjZSgvXCIvZywgJ1xcXFxcIicpLnJlcGxhY2UoL1xcbi9nLCBcIlxcXFxuXCIpLCBcIlxcXCJcIik7XG4gIH1cbiAgcmV0dXJuIHVybDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdO1xuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKFwiXFxuXCIpO1xufTsiLCIvKiBidWlsZDogYG5vZGUgYnVpbGQuanMgbW9kdWxlcz1BTEwgZXhjbHVkZT1nZXN0dXJlcyxhY2Nlc3NvcnMsZXJhc2luZyByZXF1aXJlanMgbWluaWZpZXI9dWdsaWZ5anNgICovXG4vKiEgRmFicmljLmpzIENvcHlyaWdodCAyMDA4LTIwMTUsIFByaW50aW8gKEp1cml5IFpheXRzZXYsIE1heGltIENoZXJueWFrKSAqL1xuXG52YXIgZmFicmljID0gZmFicmljIHx8IHsgdmVyc2lvbjogJzUuMy4wJyB9O1xuaWYgKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJykge1xuICBleHBvcnRzLmZhYnJpYyA9IGZhYnJpYztcbn1cbi8qIF9BTURfU1RBUlRfICovXG5lbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgZGVmaW5lKFtdLCBmdW5jdGlvbigpIHsgcmV0dXJuIGZhYnJpYzsgfSk7XG59XG4vKiBfQU1EX0VORF8gKi9cbmlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gIGlmIChkb2N1bWVudCBpbnN0YW5jZW9mICh0eXBlb2YgSFRNTERvY3VtZW50ICE9PSAndW5kZWZpbmVkJyA/IEhUTUxEb2N1bWVudCA6IERvY3VtZW50KSkge1xuICAgIGZhYnJpYy5kb2N1bWVudCA9IGRvY3VtZW50O1xuICB9XG4gIGVsc2Uge1xuICAgIGZhYnJpYy5kb2N1bWVudCA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgnJyk7XG4gIH1cbiAgZmFicmljLndpbmRvdyA9IHdpbmRvdztcbn1cbmVsc2Uge1xuICAvLyBhc3N1bWUgd2UncmUgcnVubmluZyB1bmRlciBub2RlLmpzIHdoZW4gZG9jdW1lbnQvd2luZG93IGFyZSBub3QgcHJlc2VudFxuICB2YXIganNkb20gPSByZXF1aXJlKCdqc2RvbScpO1xuICB2YXIgdmlydHVhbFdpbmRvdyA9IG5ldyBqc2RvbS5KU0RPTShcbiAgICBkZWNvZGVVUklDb21wb25lbnQoJyUzQyFET0NUWVBFJTIwaHRtbCUzRSUzQ2h0bWwlM0UlM0NoZWFkJTNFJTNDJTJGaGVhZCUzRSUzQ2JvZHklM0UlM0MlMkZib2R5JTNFJTNDJTJGaHRtbCUzRScpLFxuICAgIHtcbiAgICAgIGZlYXR1cmVzOiB7XG4gICAgICAgIEZldGNoRXh0ZXJuYWxSZXNvdXJjZXM6IFsnaW1nJ11cbiAgICAgIH0sXG4gICAgICByZXNvdXJjZXM6ICd1c2FibGUnXG4gICAgfSkud2luZG93O1xuICBmYWJyaWMuZG9jdW1lbnQgPSB2aXJ0dWFsV2luZG93LmRvY3VtZW50O1xuICBmYWJyaWMuanNkb21JbXBsRm9yV3JhcHBlciA9IHJlcXVpcmUoJ2pzZG9tL2xpYi9qc2RvbS9saXZpbmcvZ2VuZXJhdGVkL3V0aWxzJykuaW1wbEZvcldyYXBwZXI7XG4gIGZhYnJpYy5ub2RlQ2FudmFzID0gcmVxdWlyZSgnanNkb20vbGliL2pzZG9tL3V0aWxzJykuQ2FudmFzO1xuICBmYWJyaWMud2luZG93ID0gdmlydHVhbFdpbmRvdztcbiAgRE9NUGFyc2VyID0gZmFicmljLndpbmRvdy5ET01QYXJzZXI7XG59XG5cbi8qKlxuICogVHJ1ZSB3aGVuIGluIGVudmlyb25tZW50IHRoYXQgc3VwcG9ydHMgdG91Y2ggZXZlbnRzXG4gKiBAdHlwZSBib29sZWFuXG4gKi9cbmZhYnJpYy5pc1RvdWNoU3VwcG9ydGVkID0gJ29udG91Y2hzdGFydCcgaW4gZmFicmljLndpbmRvdyB8fCAnb250b3VjaHN0YXJ0JyBpbiBmYWJyaWMuZG9jdW1lbnQgfHxcbiAgKGZhYnJpYy53aW5kb3cgJiYgZmFicmljLndpbmRvdy5uYXZpZ2F0b3IgJiYgZmFicmljLndpbmRvdy5uYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPiAwKTtcblxuLyoqXG4gKiBUcnVlIHdoZW4gaW4gZW52aXJvbm1lbnQgdGhhdCdzIHByb2JhYmx5IE5vZGUuanNcbiAqIEB0eXBlIGJvb2xlYW5cbiAqL1xuZmFicmljLmlzTGlrZWx5Tm9kZSA9IHR5cGVvZiBCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCc7XG5cbi8qIF9GUk9NX1NWR19TVEFSVF8gKi9cbi8qKlxuICogQXR0cmlidXRlcyBwYXJzZWQgZnJvbSBhbGwgU1ZHIGVsZW1lbnRzXG4gKiBAdHlwZSBhcnJheVxuICovXG5mYWJyaWMuU0hBUkVEX0FUVFJJQlVURVMgPSBbXG4gICdkaXNwbGF5JyxcbiAgJ3RyYW5zZm9ybScsXG4gICdmaWxsJywgJ2ZpbGwtb3BhY2l0eScsICdmaWxsLXJ1bGUnLFxuICAnb3BhY2l0eScsXG4gICdzdHJva2UnLCAnc3Ryb2tlLWRhc2hhcnJheScsICdzdHJva2UtbGluZWNhcCcsICdzdHJva2UtZGFzaG9mZnNldCcsXG4gICdzdHJva2UtbGluZWpvaW4nLCAnc3Ryb2tlLW1pdGVybGltaXQnLFxuICAnc3Ryb2tlLW9wYWNpdHknLCAnc3Ryb2tlLXdpZHRoJyxcbiAgJ2lkJywgJ3BhaW50LW9yZGVyJywgJ3ZlY3Rvci1lZmZlY3QnLFxuICAnaW5zdGFudGlhdGVkX2J5X3VzZScsICdjbGlwLXBhdGgnLFxuXTtcbi8qIF9GUk9NX1NWR19FTkRfICovXG5cbi8qKlxuICogUGl4ZWwgcGVyIEluY2ggYXMgYSBkZWZhdWx0IHZhbHVlIHNldCB0byA5Ni4gQ2FuIGJlIGNoYW5nZWQgZm9yIG1vcmUgcmVhbGlzdGljIGNvbnZlcnNpb24uXG4gKi9cbmZhYnJpYy5EUEkgPSA5NjtcbmZhYnJpYy5yZU51bSA9ICcoPzpbLStdPyg/OlxcXFxkK3xcXFxcZCpcXFxcLlxcXFxkKykoPzpbZUVdWy0rXT9cXFxcZCspPyknO1xuZmFicmljLmNvbW1hV3NwID0gJyg/OlxcXFxzKyw/XFxcXHMqfCxcXFxccyopJztcbmZhYnJpYy5yZVBhdGhDb21tYW5kID0gLyhbLStdPygoXFxkK1xcLlxcZCspfCgoXFxkKyl8KFxcLlxcZCspKSkoPzpbZUVdWy0rXT9cXGQrKT8pL2lnO1xuZmFicmljLnJlTm9uV29yZCA9IC9bIFxcblxcLiw7IVxcP1xcLV0vO1xuZmFicmljLmZvbnRQYXRocyA9IHsgfTtcbmZhYnJpYy5pTWF0cml4ID0gWzEsIDAsIDAsIDEsIDAsIDBdO1xuZmFicmljLnN2Z05TID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJztcblxuLyoqXG4gKiBQaXhlbCBsaW1pdCBmb3IgY2FjaGUgY2FudmFzZXMuIDFNcHggLCA0TXB4IHNob3VsZCBiZSBmaW5lLlxuICogQHNpbmNlIDEuNy4xNFxuICogQHR5cGUgTnVtYmVyXG4gKiBAZGVmYXVsdFxuICovXG5mYWJyaWMucGVyZkxpbWl0U2l6ZVRvdGFsID0gMjA5NzE1MjtcblxuLyoqXG4gKiBQaXhlbCBsaW1pdCBmb3IgY2FjaGUgY2FudmFzZXMgd2lkdGggb3IgaGVpZ2h0LiBJRSBmaXhlcyB0aGUgbWF4aW11bSBhdCA1MDAwXG4gKiBAc2luY2UgMS43LjE0XG4gKiBAdHlwZSBOdW1iZXJcbiAqIEBkZWZhdWx0XG4gKi9cbmZhYnJpYy5tYXhDYWNoZVNpZGVMaW1pdCA9IDQwOTY7XG5cbi8qKlxuICogTG93ZXN0IHBpeGVsIGxpbWl0IGZvciBjYWNoZSBjYW52YXNlcywgc2V0IGF0IDI1NlBYXG4gKiBAc2luY2UgMS43LjE0XG4gKiBAdHlwZSBOdW1iZXJcbiAqIEBkZWZhdWx0XG4gKi9cbmZhYnJpYy5taW5DYWNoZVNpZGVMaW1pdCA9IDI1NjtcblxuLyoqXG4gKiBDYWNoZSBPYmplY3QgZm9yIHdpZHRocyBvZiBjaGFycyBpbiB0ZXh0IHJlbmRlcmluZy5cbiAqL1xuZmFicmljLmNoYXJXaWR0aHNDYWNoZSA9IHsgfTtcblxuLyoqXG4gKiBpZiB3ZWJnbCBpcyBlbmFibGVkIGFuZCBhdmFpbGFibGUsIHRleHR1cmVTaXplIHdpbGwgZGV0ZXJtaW5lIHRoZSBzaXplXG4gKiBvZiB0aGUgY2FudmFzIGJhY2tlbmRcbiAqIEBzaW5jZSAyLjAuMFxuICogQHR5cGUgTnVtYmVyXG4gKiBAZGVmYXVsdFxuICovXG5mYWJyaWMudGV4dHVyZVNpemUgPSAyMDQ4O1xuXG4vKipcbiAqIFdoZW4gJ3RydWUnLCBzdHlsZSBpbmZvcm1hdGlvbiBpcyBub3QgcmV0YWluZWQgd2hlbiBjb3B5L3Bhc3RpbmcgdGV4dCwgbWFraW5nXG4gKiBwYXN0ZWQgdGV4dCB1c2UgZGVzdGluYXRpb24gc3R5bGUuXG4gKiBEZWZhdWx0cyB0byAnZmFsc2UnLlxuICogQHR5cGUgQm9vbGVhblxuICogQGRlZmF1bHRcbiAqL1xuZmFicmljLmRpc2FibGVTdHlsZUNvcHlQYXN0ZSA9IGZhbHNlO1xuXG4vKipcbiAqIEVuYWJsZSB3ZWJnbCBmb3IgZmlsdGVyaW5nIHBpY3R1cmUgaXMgYXZhaWxhYmxlXG4gKiBBIGZpbHRlcmluZyBiYWNrZW5kIHdpbGwgYmUgaW5pdGlhbGl6ZWQsIHRoaXMgd2lsbCBib3RoIHRha2UgbWVtb3J5IGFuZFxuICogdGltZSBzaW5jZSBhIGRlZmF1bHQgMjA0OHgyMDQ4IGNhbnZhcyB3aWxsIGJlIGNyZWF0ZWQgZm9yIHRoZSBnbCBjb250ZXh0XG4gKiBAc2luY2UgMi4wLjBcbiAqIEB0eXBlIEJvb2xlYW5cbiAqIEBkZWZhdWx0XG4gKi9cbmZhYnJpYy5lbmFibGVHTEZpbHRlcmluZyA9IHRydWU7XG5cbi8qKlxuICogRGV2aWNlIFBpeGVsIFJhdGlvXG4gKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9saWJyYXJ5L3NhZmFyaS9kb2N1bWVudGF0aW9uL0F1ZGlvVmlkZW8vQ29uY2VwdHVhbC9IVE1MLWNhbnZhcy1ndWlkZS9TZXR0aW5nVXB0aGVDYW52YXMvU2V0dGluZ1VwdGhlQ2FudmFzLmh0bWxcbiAqL1xuZmFicmljLmRldmljZVBpeGVsUmF0aW8gPSBmYWJyaWMud2luZG93LmRldmljZVBpeGVsUmF0aW8gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmFicmljLndpbmRvdy53ZWJraXREZXZpY2VQaXhlbFJhdGlvIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZhYnJpYy53aW5kb3cubW96RGV2aWNlUGl4ZWxSYXRpbyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAxO1xuLyoqXG4gKiBCcm93c2VyLXNwZWNpZmljIGNvbnN0YW50IHRvIGFkanVzdCBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQuc2hhZG93Qmx1ciB2YWx1ZSxcbiAqIHdoaWNoIGlzIHVuaXRsZXNzIGFuZCBub3QgcmVuZGVyZWQgZXF1YWxseSBhY3Jvc3MgYnJvd3NlcnMuXG4gKlxuICogVmFsdWVzIHRoYXQgd29yayBxdWl0ZSB3ZWxsIChhcyBvZiBPY3RvYmVyIDIwMTcpIGFyZTpcbiAqIC0gQ2hyb21lOiAxLjVcbiAqIC0gRWRnZTogMS43NVxuICogLSBGaXJlZm94OiAwLjlcbiAqIC0gU2FmYXJpOiAwLjk1XG4gKlxuICogQHNpbmNlIDIuMC4wXG4gKiBAdHlwZSBOdW1iZXJcbiAqIEBkZWZhdWx0IDFcbiAqL1xuZmFicmljLmJyb3dzZXJTaGFkb3dCbHVyQ29uc3RhbnQgPSAxO1xuXG4vKipcbiAqIFRoaXMgb2JqZWN0IGNvbnRhaW5zIHRoZSByZXN1bHQgb2YgYXJjIHRvIGJlemllciBjb252ZXJzaW9uIGZvciBmYXN0ZXIgcmV0cmlldmluZyBpZiB0aGUgc2FtZSBhcmMgbmVlZHMgdG8gYmUgY29udmVydGVkIGFnYWluLlxuICogSXQgd2FzIGFuIGludGVybmFsIHZhcmlhYmxlLCBpcyBhY2Nlc3NpYmxlIHNpbmNlIHZlcnNpb24gMi4zLjRcbiAqL1xuZmFicmljLmFyY1RvU2VnbWVudHNDYWNoZSA9IHsgfTtcblxuLyoqXG4gKiBUaGlzIG9iamVjdCBrZWVwcyB0aGUgcmVzdWx0cyBvZiB0aGUgYm91bmRzT2ZDdXJ2ZSBjYWxjdWxhdGlvbiBtYXBwZWQgYnkgdGhlIGpvaW5lZCBhcmd1bWVudHMgbmVjZXNzYXJ5IHRvIGNhbGN1bGF0ZSBpdC5cbiAqIEl0IGRvZXMgc3BlZWQgdXAgY2FsY3VsYXRpb24sIGlmIHlvdSBwYXJzZSBhbmQgYWRkIGFsd2F5cyB0aGUgc2FtZSBwYXRocywgYnV0IGluIGNhc2Ugb2YgaGVhdnkgdXNhZ2Ugb2YgZnJlZWRyYXdpbmdcbiAqIHlvdSBkbyBub3QgZ2V0IGFueSBzcGVlZCBiZW5lZml0IGFuZCB5b3UgZ2V0IGEgYmlnIG9iamVjdCBpbiBtZW1vcnkuXG4gKiBUaGUgb2JqZWN0IHdhcyBhIHByaXZhdGUgdmFyaWFibGUgYmVmb3JlLCB3aGlsZSBub3cgaXMgYXBwZW5kZWQgdG8gdGhlIGxpYiBzbyB0aGF0IHlvdSBoYXZlIGFjY2VzcyB0byBpdCBhbmQgeW91XG4gKiBjYW4gZXZlbnR1YWxseSBjbGVhciBpdC5cbiAqIEl0IHdhcyBhbiBpbnRlcm5hbCB2YXJpYWJsZSwgaXMgYWNjZXNzaWJsZSBzaW5jZSB2ZXJzaW9uIDIuMy40XG4gKi9cbmZhYnJpYy5ib3VuZHNPZkN1cnZlQ2FjaGUgPSB7IH07XG5cbi8qKlxuICogSWYgZGlzYWJsZWQgYm91bmRzT2ZDdXJ2ZUNhY2hlIGlzIG5vdCB1c2VkLiBGb3IgYXBwcyB0aGF0IG1ha2UgaGVhdnkgdXNhZ2Ugb2YgcGVuY2lsIGRyYXdpbmcgcHJvYmFibHkgZGlzYWJsaW5nIGl0IGlzIGJldHRlclxuICogQGRlZmF1bHQgdHJ1ZVxuICovXG5mYWJyaWMuY2FjaGVzQm91bmRzT2ZDdXJ2ZSA9IHRydWU7XG5cbi8qKlxuICogU2tpcCBwZXJmb3JtYW5jZSB0ZXN0aW5nIG9mIHNldHVwR0xDb250ZXh0IGFuZCBmb3JjZSB0aGUgdXNlIG9mIHB1dEltYWdlRGF0YSB0aGF0IHNlZW1zIHRvIGJlIHRoZSBvbmUgdGhhdCB3b3JrcyBiZXN0IG9uXG4gKiBDaHJvbWUgKyBvbGQgaGFyZHdhcmUuIGlmIHlvdXIgdXNlcnMgYXJlIGV4cGVyaWVuY2luZyBlbXB0eSBpbWFnZXMgYWZ0ZXIgZmlsdGVyaW5nIHlvdSBtYXkgdHJ5IHRvIGZvcmNlIHRoaXMgdG8gdHJ1ZVxuICogdGhpcyBoYXMgdG8gYmUgc2V0IGJlZm9yZSBpbnN0YW50aWF0aW5nIHRoZSBmaWx0ZXJpbmcgYmFja2VuZCAoIGJlZm9yZSBmaWx0ZXJpbmcgdGhlIGZpcnN0IGltYWdlIClcbiAqIEB0eXBlIEJvb2xlYW5cbiAqIEBkZWZhdWx0IGZhbHNlXG4gKi9cbmZhYnJpYy5mb3JjZUdMUHV0SW1hZ2VEYXRhID0gZmFsc2U7XG5cbmZhYnJpYy5pbml0RmlsdGVyQmFja2VuZCA9IGZ1bmN0aW9uKCkge1xuICBpZiAoZmFicmljLmVuYWJsZUdMRmlsdGVyaW5nICYmIGZhYnJpYy5pc1dlYmdsU3VwcG9ydGVkICYmIGZhYnJpYy5pc1dlYmdsU3VwcG9ydGVkKGZhYnJpYy50ZXh0dXJlU2l6ZSkpIHtcbiAgICBjb25zb2xlLmxvZygnbWF4IHRleHR1cmUgc2l6ZTogJyArIGZhYnJpYy5tYXhUZXh0dXJlU2l6ZSk7XG4gICAgcmV0dXJuIChuZXcgZmFicmljLldlYmdsRmlsdGVyQmFja2VuZCh7IHRpbGVTaXplOiBmYWJyaWMudGV4dHVyZVNpemUgfSkpO1xuICB9XG4gIGVsc2UgaWYgKGZhYnJpYy5DYW52YXMyZEZpbHRlckJhY2tlbmQpIHtcbiAgICByZXR1cm4gKG5ldyBmYWJyaWMuQ2FudmFzMmRGaWx0ZXJCYWNrZW5kKCkpO1xuICB9XG59O1xuXG5cbmlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gIC8vIGVuc3VyZSBnbG9iYWxpdHkgZXZlbiBpZiBlbnRpcmUgbGlicmFyeSB3ZXJlIGZ1bmN0aW9uIHdyYXBwZWQgKGFzIGluIE1ldGVvci5qcyBwYWNrYWdpbmcgc3lzdGVtKVxuICB3aW5kb3cuZmFicmljID0gZmFicmljO1xufVxuXG5cbihmdW5jdGlvbigpIHtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50TmFtZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyXG4gICAqL1xuICBmdW5jdGlvbiBfcmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIpIHtcbiAgICBpZiAoIXRoaXMuX19ldmVudExpc3RlbmVyc1tldmVudE5hbWVdKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBldmVudExpc3RlbmVyID0gdGhpcy5fX2V2ZW50TGlzdGVuZXJzW2V2ZW50TmFtZV07XG4gICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgIGV2ZW50TGlzdGVuZXJbZXZlbnRMaXN0ZW5lci5pbmRleE9mKGhhbmRsZXIpXSA9IGZhbHNlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGZhYnJpYy51dGlsLmFycmF5LmZpbGwoZXZlbnRMaXN0ZW5lciwgZmFsc2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBPYnNlcnZlcyBzcGVjaWZpZWQgZXZlbnRcbiAgICogQG1lbWJlck9mIGZhYnJpYy5PYnNlcnZhYmxlXG4gICAqIEBhbGlhcyBvblxuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IGV2ZW50TmFtZSBFdmVudCBuYW1lIChlZy4gJ2FmdGVyOnJlbmRlcicpIG9yIG9iamVjdCB3aXRoIGtleS92YWx1ZSBwYWlycyAoZWcuIHsnYWZ0ZXI6cmVuZGVyJzogaGFuZGxlciwgJ3NlbGVjdGlvbjpjbGVhcmVkJzogaGFuZGxlcn0pXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXIgRnVuY3Rpb24gdGhhdCByZWNlaXZlcyBhIG5vdGlmaWNhdGlvbiB3aGVuIGFuIGV2ZW50IG9mIHRoZSBzcGVjaWZpZWQgdHlwZSBvY2N1cnNcbiAgICogQHJldHVybiB7U2VsZn0gdGhpc0FyZ1xuICAgKiBAY2hhaW5hYmxlXG4gICAqL1xuICBmdW5jdGlvbiBvbihldmVudE5hbWUsIGhhbmRsZXIpIHtcbiAgICBpZiAoIXRoaXMuX19ldmVudExpc3RlbmVycykge1xuICAgICAgdGhpcy5fX2V2ZW50TGlzdGVuZXJzID0geyB9O1xuICAgIH1cbiAgICAvLyBvbmUgb2JqZWN0IHdpdGgga2V5L3ZhbHVlIHBhaXJzIHdhcyBwYXNzZWRcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgZm9yICh2YXIgcHJvcCBpbiBldmVudE5hbWUpIHtcbiAgICAgICAgdGhpcy5vbihwcm9wLCBldmVudE5hbWVbcHJvcF0pO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGlmICghdGhpcy5fX2V2ZW50TGlzdGVuZXJzW2V2ZW50TmFtZV0pIHtcbiAgICAgICAgdGhpcy5fX2V2ZW50TGlzdGVuZXJzW2V2ZW50TmFtZV0gPSBbXTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX19ldmVudExpc3RlbmVyc1tldmVudE5hbWVdLnB1c2goaGFuZGxlcik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZnVuY3Rpb24gX29uY2UoZXZlbnROYW1lLCBoYW5kbGVyKSB7XG4gICAgdmFyIF9oYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgaGFuZGxlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgdGhpcy5vZmYoZXZlbnROYW1lLCBfaGFuZGxlcik7XG4gICAgfS5iaW5kKHRoaXMpO1xuICAgIHRoaXMub24oZXZlbnROYW1lLCBfaGFuZGxlcik7XG4gIH1cblxuICBmdW5jdGlvbiBvbmNlKGV2ZW50TmFtZSwgaGFuZGxlcikge1xuICAgIC8vIG9uZSBvYmplY3Qgd2l0aCBrZXkvdmFsdWUgcGFpcnMgd2FzIHBhc3NlZFxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICBmb3IgKHZhciBwcm9wIGluIGV2ZW50TmFtZSkge1xuICAgICAgICBfb25jZS5jYWxsKHRoaXMsIHByb3AsIGV2ZW50TmFtZVtwcm9wXSk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgX29uY2UuY2FsbCh0aGlzLCBldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9wcyBldmVudCBvYnNlcnZpbmcgZm9yIGEgcGFydGljdWxhciBldmVudCBoYW5kbGVyLiBDYWxsaW5nIHRoaXMgbWV0aG9kXG4gICAqIHdpdGhvdXQgYXJndW1lbnRzIHJlbW92ZXMgYWxsIGhhbmRsZXJzIGZvciBhbGwgZXZlbnRzXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuT2JzZXJ2YWJsZVxuICAgKiBAYWxpYXMgb2ZmXG4gICAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdH0gZXZlbnROYW1lIEV2ZW50IG5hbWUgKGVnLiAnYWZ0ZXI6cmVuZGVyJykgb3Igb2JqZWN0IHdpdGgga2V5L3ZhbHVlIHBhaXJzIChlZy4geydhZnRlcjpyZW5kZXInOiBoYW5kbGVyLCAnc2VsZWN0aW9uOmNsZWFyZWQnOiBoYW5kbGVyfSlcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlciBGdW5jdGlvbiB0byBiZSBkZWxldGVkIGZyb20gRXZlbnRMaXN0ZW5lcnNcbiAgICogQHJldHVybiB7U2VsZn0gdGhpc0FyZ1xuICAgKiBAY2hhaW5hYmxlXG4gICAqL1xuICBmdW5jdGlvbiBvZmYoZXZlbnROYW1lLCBoYW5kbGVyKSB7XG4gICAgaWYgKCF0aGlzLl9fZXZlbnRMaXN0ZW5lcnMpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIHJlbW92ZSBhbGwga2V5L3ZhbHVlIHBhaXJzIChldmVudCBuYW1lIC0+IGV2ZW50IGhhbmRsZXIpXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgIGZvciAoZXZlbnROYW1lIGluIHRoaXMuX19ldmVudExpc3RlbmVycykge1xuICAgICAgICBfcmVtb3ZlRXZlbnRMaXN0ZW5lci5jYWxsKHRoaXMsIGV2ZW50TmFtZSk7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIG9uZSBvYmplY3Qgd2l0aCBrZXkvdmFsdWUgcGFpcnMgd2FzIHBhc3NlZFxuICAgIGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEgJiYgdHlwZW9mIGFyZ3VtZW50c1swXSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGZvciAodmFyIHByb3AgaW4gZXZlbnROYW1lKSB7XG4gICAgICAgIF9yZW1vdmVFdmVudExpc3RlbmVyLmNhbGwodGhpcywgcHJvcCwgZXZlbnROYW1lW3Byb3BdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBfcmVtb3ZlRXZlbnRMaXN0ZW5lci5jYWxsKHRoaXMsIGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpcmVzIGV2ZW50IHdpdGggYW4gb3B0aW9uYWwgb3B0aW9ucyBvYmplY3RcbiAgICogQG1lbWJlck9mIGZhYnJpYy5PYnNlcnZhYmxlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudE5hbWUgRXZlbnQgbmFtZSB0byBmaXJlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICogQHJldHVybiB7U2VsZn0gdGhpc0FyZ1xuICAgKiBAY2hhaW5hYmxlXG4gICAqL1xuICBmdW5jdGlvbiBmaXJlKGV2ZW50TmFtZSwgb3B0aW9ucykge1xuICAgIGlmICghdGhpcy5fX2V2ZW50TGlzdGVuZXJzKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICB2YXIgbGlzdGVuZXJzRm9yRXZlbnQgPSB0aGlzLl9fZXZlbnRMaXN0ZW5lcnNbZXZlbnROYW1lXTtcbiAgICBpZiAoIWxpc3RlbmVyc0ZvckV2ZW50KSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gbGlzdGVuZXJzRm9yRXZlbnQubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGxpc3RlbmVyc0ZvckV2ZW50W2ldICYmIGxpc3RlbmVyc0ZvckV2ZW50W2ldLmNhbGwodGhpcywgb3B0aW9ucyB8fCB7IH0pO1xuICAgIH1cbiAgICB0aGlzLl9fZXZlbnRMaXN0ZW5lcnNbZXZlbnROYW1lXSA9IGxpc3RlbmVyc0ZvckV2ZW50LmZpbHRlcihmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlICE9PSBmYWxzZTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAbmFtZXNwYWNlIGZhYnJpYy5PYnNlcnZhYmxlXG4gICAqIEB0dXRvcmlhbCB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9mYWJyaWMtaW50cm8tcGFydC0yI2V2ZW50c31cbiAgICogQHNlZSB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9ldmVudHN8RXZlbnRzIGRlbW99XG4gICAqL1xuICBmYWJyaWMuT2JzZXJ2YWJsZSA9IHtcbiAgICBmaXJlOiBmaXJlLFxuICAgIG9uOiBvbixcbiAgICBvbmNlOiBvbmNlLFxuICAgIG9mZjogb2ZmLFxuICB9O1xufSkoKTtcblxuXG4vKipcbiAqIEBuYW1lc3BhY2UgZmFicmljLkNvbGxlY3Rpb25cbiAqL1xuZmFicmljLkNvbGxlY3Rpb24gPSB7XG5cbiAgX29iamVjdHM6IFtdLFxuXG4gIC8qKlxuICAgKiBBZGRzIG9iamVjdHMgdG8gY29sbGVjdGlvbiwgQ2FudmFzIG9yIEdyb3VwLCB0aGVuIHJlbmRlcnMgY2FudmFzXG4gICAqIChpZiBgcmVuZGVyT25BZGRSZW1vdmVgIGlzIG5vdCBgZmFsc2VgKS5cbiAgICogaW4gY2FzZSBvZiBHcm91cCBubyBjaGFuZ2VzIHRvIGJvdW5kaW5nIGJveCBhcmUgbWFkZS5cbiAgICogT2JqZWN0cyBzaG91bGQgYmUgaW5zdGFuY2VzIG9mIChvciBpbmhlcml0IGZyb20pIGZhYnJpYy5PYmplY3RcbiAgICogVXNlIG9mIHRoaXMgZnVuY3Rpb24gaXMgaGlnaGx5IGRpc2NvdXJhZ2VkIGZvciBncm91cHMuXG4gICAqIHlvdSBjYW4gYWRkIGEgYnVuY2ggb2Ygb2JqZWN0cyB3aXRoIHRoZSBhZGQgbWV0aG9kIGJ1dCB0aGVuIHlvdSBORUVEXG4gICAqIHRvIHJ1biBhIGFkZFdpdGhVcGRhdGUgY2FsbCBmb3IgdGhlIEdyb3VwIGNsYXNzIG9yIHBvc2l0aW9uL2Jib3ggd2lsbCBiZSB3cm9uZy5cbiAgICogQHBhcmFtIHsuLi5mYWJyaWMuT2JqZWN0fSBvYmplY3QgWmVybyBvciBtb3JlIGZhYnJpYyBpbnN0YW5jZXNcbiAgICogQHJldHVybiB7U2VsZn0gdGhpc0FyZ1xuICAgKiBAY2hhaW5hYmxlXG4gICAqL1xuICBhZGQ6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9vYmplY3RzLnB1c2guYXBwbHkodGhpcy5fb2JqZWN0cywgYXJndW1lbnRzKTtcbiAgICBpZiAodGhpcy5fb25PYmplY3RBZGRlZCkge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLl9vbk9iamVjdEFkZGVkKGFyZ3VtZW50c1tpXSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMucmVuZGVyT25BZGRSZW1vdmUgJiYgdGhpcy5yZXF1ZXN0UmVuZGVyQWxsKCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEluc2VydHMgYW4gb2JqZWN0IGludG8gY29sbGVjdGlvbiBhdCBzcGVjaWZpZWQgaW5kZXgsIHRoZW4gcmVuZGVycyBjYW52YXMgKGlmIGByZW5kZXJPbkFkZFJlbW92ZWAgaXMgbm90IGBmYWxzZWApXG4gICAqIEFuIG9iamVjdCBzaG91bGQgYmUgYW4gaW5zdGFuY2Ugb2YgKG9yIGluaGVyaXQgZnJvbSkgZmFicmljLk9iamVjdFxuICAgKiBVc2Ugb2YgdGhpcyBmdW5jdGlvbiBpcyBoaWdobHkgZGlzY291cmFnZWQgZm9yIGdyb3Vwcy5cbiAgICogeW91IGNhbiBhZGQgYSBidW5jaCBvZiBvYmplY3RzIHdpdGggdGhlIGluc2VydEF0IG1ldGhvZCBidXQgdGhlbiB5b3UgTkVFRFxuICAgKiB0byBydW4gYSBhZGRXaXRoVXBkYXRlIGNhbGwgZm9yIHRoZSBHcm91cCBjbGFzcyBvciBwb3NpdGlvbi9iYm94IHdpbGwgYmUgd3JvbmcuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGluc2VydFxuICAgKiBAcGFyYW0ge051bWJlcn0gaW5kZXggSW5kZXggdG8gaW5zZXJ0IG9iamVjdCBhdFxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IG5vblNwbGljaW5nIFdoZW4gYHRydWVgLCBubyBzcGxpY2luZyAoc2hpZnRpbmcpIG9mIG9iamVjdHMgb2NjdXJzXG4gICAqIEByZXR1cm4ge1NlbGZ9IHRoaXNBcmdcbiAgICogQGNoYWluYWJsZVxuICAgKi9cbiAgaW5zZXJ0QXQ6IGZ1bmN0aW9uIChvYmplY3QsIGluZGV4LCBub25TcGxpY2luZykge1xuICAgIHZhciBvYmplY3RzID0gdGhpcy5fb2JqZWN0cztcbiAgICBpZiAobm9uU3BsaWNpbmcpIHtcbiAgICAgIG9iamVjdHNbaW5kZXhdID0gb2JqZWN0O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIG9iamVjdHMuc3BsaWNlKGluZGV4LCAwLCBvYmplY3QpO1xuICAgIH1cbiAgICB0aGlzLl9vbk9iamVjdEFkZGVkICYmIHRoaXMuX29uT2JqZWN0QWRkZWQob2JqZWN0KTtcbiAgICB0aGlzLnJlbmRlck9uQWRkUmVtb3ZlICYmIHRoaXMucmVxdWVzdFJlbmRlckFsbCgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIG9iamVjdHMgZnJvbSBhIGNvbGxlY3Rpb24sIHRoZW4gcmVuZGVycyBjYW52YXMgKGlmIGByZW5kZXJPbkFkZFJlbW92ZWAgaXMgbm90IGBmYWxzZWApXG4gICAqIEBwYXJhbSB7Li4uZmFicmljLk9iamVjdH0gb2JqZWN0IFplcm8gb3IgbW9yZSBmYWJyaWMgaW5zdGFuY2VzXG4gICAqIEByZXR1cm4ge1NlbGZ9IHRoaXNBcmdcbiAgICogQGNoYWluYWJsZVxuICAgKi9cbiAgcmVtb3ZlOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgb2JqZWN0cyA9IHRoaXMuX29iamVjdHMsXG4gICAgICAgIGluZGV4LCBzb21ldGhpbmdSZW1vdmVkID0gZmFsc2U7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpbmRleCA9IG9iamVjdHMuaW5kZXhPZihhcmd1bWVudHNbaV0pO1xuXG4gICAgICAvLyBvbmx5IGNhbGwgb25PYmplY3RSZW1vdmVkIGlmIGFuIG9iamVjdCB3YXMgYWN0dWFsbHkgcmVtb3ZlZFxuICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICBzb21ldGhpbmdSZW1vdmVkID0gdHJ1ZTtcbiAgICAgICAgb2JqZWN0cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB0aGlzLl9vbk9iamVjdFJlbW92ZWQgJiYgdGhpcy5fb25PYmplY3RSZW1vdmVkKGFyZ3VtZW50c1tpXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5yZW5kZXJPbkFkZFJlbW92ZSAmJiBzb21ldGhpbmdSZW1vdmVkICYmIHRoaXMucmVxdWVzdFJlbmRlckFsbCgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBFeGVjdXRlcyBnaXZlbiBmdW5jdGlvbiBmb3IgZWFjaCBvYmplY3QgaW4gdGhpcyBncm91cFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgKiAgICAgICAgICAgICAgICAgICBDYWxsYmFjayBpbnZva2VkIHdpdGggY3VycmVudCBvYmplY3QgYXMgZmlyc3QgYXJndW1lbnQsXG4gICAqICAgICAgICAgICAgICAgICAgIGluZGV4IC0gYXMgc2Vjb25kIGFuZCBhbiBhcnJheSBvZiBhbGwgb2JqZWN0cyAtIGFzIHRoaXJkLlxuICAgKiAgICAgICAgICAgICAgICAgICBDYWxsYmFjayBpcyBpbnZva2VkIGluIGEgY29udGV4dCBvZiBHbG9iYWwgT2JqZWN0IChlLmcuIGB3aW5kb3dgKVxuICAgKiAgICAgICAgICAgICAgICAgICB3aGVuIG5vIGBjb250ZXh0YCBhcmd1bWVudCBpcyBnaXZlblxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dCBDb250ZXh0IChha2EgdGhpc09iamVjdClcbiAgICogQHJldHVybiB7U2VsZn0gdGhpc0FyZ1xuICAgKiBAY2hhaW5hYmxlXG4gICAqL1xuICBmb3JFYWNoT2JqZWN0OiBmdW5jdGlvbihjYWxsYmFjaywgY29udGV4dCkge1xuICAgIHZhciBvYmplY3RzID0gdGhpcy5nZXRPYmplY3RzKCk7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IG9iamVjdHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGNhbGxiYWNrLmNhbGwoY29udGV4dCwgb2JqZWN0c1tpXSwgaSwgb2JqZWN0cyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIGNoaWxkcmVuIG9iamVjdHMgb2YgdGhpcyBpbnN0YW5jZVxuICAgKiBUeXBlIHBhcmFtZXRlciBpbnRyb2R1Y2VkIGluIDEuMy4xMFxuICAgKiBzaW5jZSAyLjMuNSB0aGlzIG1ldGhvZCByZXR1cm4gYWx3YXlzIGEgQ09QWSBvZiB0aGUgYXJyYXk7XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbdHlwZV0gV2hlbiBzcGVjaWZpZWQsIG9ubHkgb2JqZWN0cyBvZiB0aGlzIHR5cGUgYXJlIHJldHVybmVkXG4gICAqIEByZXR1cm4ge0FycmF5fVxuICAgKi9cbiAgZ2V0T2JqZWN0czogZnVuY3Rpb24odHlwZSkge1xuICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiB0aGlzLl9vYmplY3RzLmNvbmNhdCgpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fb2JqZWN0cy5maWx0ZXIoZnVuY3Rpb24obykge1xuICAgICAgcmV0dXJuIG8udHlwZSA9PT0gdHlwZTtcbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogUmV0dXJucyBvYmplY3QgYXQgc3BlY2lmaWVkIGluZGV4XG4gICAqIEBwYXJhbSB7TnVtYmVyfSBpbmRleFxuICAgKiBAcmV0dXJuIHtTZWxmfSB0aGlzQXJnXG4gICAqL1xuICBpdGVtOiBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICByZXR1cm4gdGhpcy5fb2JqZWN0c1tpbmRleF07XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiBjb2xsZWN0aW9uIGNvbnRhaW5zIG5vIG9iamVjdHNcbiAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBjb2xsZWN0aW9uIGlzIGVtcHR5XG4gICAqL1xuICBpc0VtcHR5OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX29iamVjdHMubGVuZ3RoID09PSAwO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgc2l6ZSBvZiBhIGNvbGxlY3Rpb24gKGkuZTogbGVuZ3RoIG9mIGFuIGFycmF5IGNvbnRhaW5pbmcgaXRzIG9iamVjdHMpXG4gICAqIEByZXR1cm4ge051bWJlcn0gQ29sbGVjdGlvbiBzaXplXG4gICAqL1xuICBzaXplOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fb2JqZWN0cy5sZW5ndGg7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiBjb2xsZWN0aW9uIGNvbnRhaW5zIGFuIG9iamVjdFxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjaGVjayBhZ2FpbnN0XG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2RlZXA9ZmFsc2VdIGB0cnVlYCB0byBjaGVjayBhbGwgZGVzY2VuZGFudHMsIGBmYWxzZWAgdG8gY2hlY2sgb25seSBgX29iamVjdHNgXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IGB0cnVlYCBpZiBjb2xsZWN0aW9uIGNvbnRhaW5zIGFuIG9iamVjdFxuICAgKi9cbiAgY29udGFpbnM6IGZ1bmN0aW9uIChvYmplY3QsIGRlZXApIHtcbiAgICBpZiAodGhpcy5fb2JqZWN0cy5pbmRleE9mKG9iamVjdCkgPiAtMSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKGRlZXApIHtcbiAgICAgIHJldHVybiB0aGlzLl9vYmplY3RzLnNvbWUoZnVuY3Rpb24gKG9iaikge1xuICAgICAgICByZXR1cm4gdHlwZW9mIG9iai5jb250YWlucyA9PT0gJ2Z1bmN0aW9uJyAmJiBvYmouY29udGFpbnMob2JqZWN0LCB0cnVlKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybnMgbnVtYmVyIHJlcHJlc2VudGF0aW9uIG9mIGEgY29sbGVjdGlvbiBjb21wbGV4aXR5XG4gICAqIEByZXR1cm4ge051bWJlcn0gY29tcGxleGl0eVxuICAgKi9cbiAgY29tcGxleGl0eTogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9vYmplY3RzLnJlZHVjZShmdW5jdGlvbiAobWVtbywgY3VycmVudCkge1xuICAgICAgbWVtbyArPSBjdXJyZW50LmNvbXBsZXhpdHkgPyBjdXJyZW50LmNvbXBsZXhpdHkoKSA6IDA7XG4gICAgICByZXR1cm4gbWVtbztcbiAgICB9LCAwKTtcbiAgfVxufTtcblxuXG4vKipcbiAqIEBuYW1lc3BhY2UgZmFicmljLkNvbW1vbk1ldGhvZHNcbiAqL1xuZmFicmljLkNvbW1vbk1ldGhvZHMgPSB7XG5cbiAgLyoqXG4gICAqIFNldHMgb2JqZWN0J3MgcHJvcGVydGllcyBmcm9tIG9wdGlvbnNcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgKi9cbiAgX3NldE9wdGlvbnM6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICBmb3IgKHZhciBwcm9wIGluIG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuc2V0KHByb3AsIG9wdGlvbnNbcHJvcF0pO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IFtmaWxsZXJdIE9wdGlvbnMgb2JqZWN0XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbcHJvcGVydHldIHByb3BlcnR5IHRvIHNldCB0aGUgR3JhZGllbnQgdG9cbiAgICovXG4gIF9pbml0R3JhZGllbnQ6IGZ1bmN0aW9uKGZpbGxlciwgcHJvcGVydHkpIHtcbiAgICBpZiAoZmlsbGVyICYmIGZpbGxlci5jb2xvclN0b3BzICYmICEoZmlsbGVyIGluc3RhbmNlb2YgZmFicmljLkdyYWRpZW50KSkge1xuICAgICAgdGhpcy5zZXQocHJvcGVydHksIG5ldyBmYWJyaWMuR3JhZGllbnQoZmlsbGVyKSk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gW2ZpbGxlcl0gT3B0aW9ucyBvYmplY3RcbiAgICogQHBhcmFtIHtTdHJpbmd9IFtwcm9wZXJ0eV0gcHJvcGVydHkgdG8gc2V0IHRoZSBQYXR0ZXJuIHRvXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gY2FsbGJhY2sgdG8gaW52b2tlIGFmdGVyIHBhdHRlcm4gbG9hZFxuICAgKi9cbiAgX2luaXRQYXR0ZXJuOiBmdW5jdGlvbihmaWxsZXIsIHByb3BlcnR5LCBjYWxsYmFjaykge1xuICAgIGlmIChmaWxsZXIgJiYgZmlsbGVyLnNvdXJjZSAmJiAhKGZpbGxlciBpbnN0YW5jZW9mIGZhYnJpYy5QYXR0ZXJuKSkge1xuICAgICAgdGhpcy5zZXQocHJvcGVydHksIG5ldyBmYWJyaWMuUGF0dGVybihmaWxsZXIsIGNhbGxiYWNrKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc2V0T2JqZWN0OiBmdW5jdGlvbihvYmopIHtcbiAgICBmb3IgKHZhciBwcm9wIGluIG9iaikge1xuICAgICAgdGhpcy5fc2V0KHByb3AsIG9ialtwcm9wXSk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBTZXRzIHByb3BlcnR5IHRvIGEgZ2l2ZW4gdmFsdWUuIFdoZW4gY2hhbmdpbmcgcG9zaXRpb24vZGltZW5zaW9uIC1yZWxhdGVkIHByb3BlcnRpZXMgKGxlZnQsIHRvcCwgc2NhbGUsIGFuZ2xlLCBldGMuKSBgc2V0YCBkb2VzIG5vdCB1cGRhdGUgcG9zaXRpb24gb2Ygb2JqZWN0J3MgYm9yZGVycy9jb250cm9scy4gSWYgeW91IG5lZWQgdG8gdXBkYXRlIHRob3NlLCBjYWxsIGBzZXRDb29yZHMoKWAuXG4gICAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdH0ga2V5IFByb3BlcnR5IG5hbWUgb3Igb2JqZWN0IChpZiBvYmplY3QsIGl0ZXJhdGUgb3ZlciB0aGUgb2JqZWN0IHByb3BlcnRpZXMpXG4gICAqIEBwYXJhbSB7T2JqZWN0fEZ1bmN0aW9ufSB2YWx1ZSBQcm9wZXJ0eSB2YWx1ZSAoaWYgZnVuY3Rpb24sIHRoZSB2YWx1ZSBpcyBwYXNzZWQgaW50byBpdCBhbmQgaXRzIHJldHVybiB2YWx1ZSBpcyB1c2VkIGFzIGEgbmV3IG9uZSlcbiAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgKiBAY2hhaW5hYmxlXG4gICAqL1xuICBzZXQ6IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIGtleSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHRoaXMuX3NldE9iamVjdChrZXkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuX3NldChrZXksIHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgX3NldDogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgIHRoaXNba2V5XSA9IHZhbHVlO1xuICB9LFxuXG4gIC8qKlxuICAgKiBUb2dnbGVzIHNwZWNpZmllZCBwcm9wZXJ0eSBmcm9tIGB0cnVlYCB0byBgZmFsc2VgIG9yIGZyb20gYGZhbHNlYCB0byBgdHJ1ZWBcbiAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IHRvIHRvZ2dsZVxuICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAqIEBjaGFpbmFibGVcbiAgICovXG4gIHRvZ2dsZTogZnVuY3Rpb24ocHJvcGVydHkpIHtcbiAgICB2YXIgdmFsdWUgPSB0aGlzLmdldChwcm9wZXJ0eSk7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICB0aGlzLnNldChwcm9wZXJ0eSwgIXZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEJhc2ljIGdldHRlclxuICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydHkgUHJvcGVydHkgbmFtZVxuICAgKiBAcmV0dXJuIHsqfSB2YWx1ZSBvZiBhIHByb3BlcnR5XG4gICAqL1xuICBnZXQ6IGZ1bmN0aW9uKHByb3BlcnR5KSB7XG4gICAgcmV0dXJuIHRoaXNbcHJvcGVydHldO1xuICB9XG59O1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICB2YXIgc3FydCA9IE1hdGguc3FydCxcbiAgICAgIGF0YW4yID0gTWF0aC5hdGFuMixcbiAgICAgIHBvdyA9IE1hdGgucG93LFxuICAgICAgUGlCeTE4MCA9IE1hdGguUEkgLyAxODAsXG4gICAgICBQaUJ5MiA9IE1hdGguUEkgLyAyO1xuXG4gIC8qKlxuICAgKiBAbmFtZXNwYWNlIGZhYnJpYy51dGlsXG4gICAqL1xuICBmYWJyaWMudXRpbCA9IHtcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29zIG9mIGFuIGFuZ2xlLCBhdm9pZGluZyByZXR1cm5pbmcgZmxvYXRzIGZvciBrbm93biByZXN1bHRzXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBhbmdsZSB0aGUgYW5nbGUgaW4gcmFkaWFucyBvciBpbiBkZWdyZWVcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAgICovXG4gICAgY29zOiBmdW5jdGlvbihhbmdsZSkge1xuICAgICAgaWYgKGFuZ2xlID09PSAwKSB7IHJldHVybiAxOyB9XG4gICAgICBpZiAoYW5nbGUgPCAwKSB7XG4gICAgICAgIC8vIGNvcyhhKSA9IGNvcygtYSlcbiAgICAgICAgYW5nbGUgPSAtYW5nbGU7XG4gICAgICB9XG4gICAgICB2YXIgYW5nbGVTbGljZSA9IGFuZ2xlIC8gUGlCeTI7XG4gICAgICBzd2l0Y2ggKGFuZ2xlU2xpY2UpIHtcbiAgICAgICAgY2FzZSAxOiBjYXNlIDM6IHJldHVybiAwO1xuICAgICAgICBjYXNlIDI6IHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBNYXRoLmNvcyhhbmdsZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgc2luIG9mIGFuIGFuZ2xlLCBhdm9pZGluZyByZXR1cm5pbmcgZmxvYXRzIGZvciBrbm93biByZXN1bHRzXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBhbmdsZSB0aGUgYW5nbGUgaW4gcmFkaWFucyBvciBpbiBkZWdyZWVcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAgICovXG4gICAgc2luOiBmdW5jdGlvbihhbmdsZSkge1xuICAgICAgaWYgKGFuZ2xlID09PSAwKSB7IHJldHVybiAwOyB9XG4gICAgICB2YXIgYW5nbGVTbGljZSA9IGFuZ2xlIC8gUGlCeTIsIHNpZ24gPSAxO1xuICAgICAgaWYgKGFuZ2xlIDwgMCkge1xuICAgICAgICAvLyBzaW4oLWEpID0gLXNpbihhKVxuICAgICAgICBzaWduID0gLTE7XG4gICAgICB9XG4gICAgICBzd2l0Y2ggKGFuZ2xlU2xpY2UpIHtcbiAgICAgICAgY2FzZSAxOiByZXR1cm4gc2lnbjtcbiAgICAgICAgY2FzZSAyOiByZXR1cm4gMDtcbiAgICAgICAgY2FzZSAzOiByZXR1cm4gLXNpZ247XG4gICAgICB9XG4gICAgICByZXR1cm4gTWF0aC5zaW4oYW5nbGUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHZhbHVlIGZyb20gYW4gYXJyYXkuXG4gICAgICogUHJlc2VuY2Ugb2YgdmFsdWUgKGFuZCBpdHMgcG9zaXRpb24gaW4gYW4gYXJyYXkpIGlzIGRldGVybWluZWQgdmlhIGBBcnJheS5wcm90b3R5cGUuaW5kZXhPZmBcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXlcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlXG4gICAgICogQHJldHVybiB7QXJyYXl9IG9yaWdpbmFsIGFycmF5XG4gICAgICovXG4gICAgcmVtb3ZlRnJvbUFycmF5OiBmdW5jdGlvbihhcnJheSwgdmFsdWUpIHtcbiAgICAgIHZhciBpZHggPSBhcnJheS5pbmRleE9mKHZhbHVlKTtcbiAgICAgIGlmIChpZHggIT09IC0xKSB7XG4gICAgICAgIGFycmF5LnNwbGljZShpZHgsIDEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHJhbmRvbSBudW1iZXIgYmV0d2VlbiAyIHNwZWNpZmllZCBvbmVzLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbWluIGxvd2VyIGxpbWl0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG1heCB1cHBlciBsaW1pdFxuICAgICAqIEByZXR1cm4ge051bWJlcn0gcmFuZG9tIHZhbHVlIChiZXR3ZWVuIG1pbiBhbmQgbWF4KVxuICAgICAqL1xuICAgIGdldFJhbmRvbUludDogZnVuY3Rpb24obWluLCBtYXgpIHtcbiAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2Zvcm1zIGRlZ3JlZXMgdG8gcmFkaWFucy5cbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGRlZ3JlZXMgdmFsdWUgaW4gZGVncmVlc1xuICAgICAqIEByZXR1cm4ge051bWJlcn0gdmFsdWUgaW4gcmFkaWFuc1xuICAgICAqL1xuICAgIGRlZ3JlZXNUb1JhZGlhbnM6IGZ1bmN0aW9uKGRlZ3JlZXMpIHtcbiAgICAgIHJldHVybiBkZWdyZWVzICogUGlCeTE4MDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtcyByYWRpYW5zIHRvIGRlZ3JlZXMuXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSByYWRpYW5zIHZhbHVlIGluIHJhZGlhbnNcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IHZhbHVlIGluIGRlZ3JlZXNcbiAgICAgKi9cbiAgICByYWRpYW5zVG9EZWdyZWVzOiBmdW5jdGlvbihyYWRpYW5zKSB7XG4gICAgICByZXR1cm4gcmFkaWFucyAvIFBpQnkxODA7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJvdGF0ZXMgYHBvaW50YCBhcm91bmQgYG9yaWdpbmAgd2l0aCBgcmFkaWFuc2BcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IHBvaW50IFRoZSBwb2ludCB0byByb3RhdGVcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gb3JpZ2luIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHJhZGlhbnMgVGhlIHJhZGlhbnMgb2YgdGhlIGFuZ2xlIGZvciB0aGUgcm90YXRpb25cbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUG9pbnR9IFRoZSBuZXcgcm90YXRlZCBwb2ludFxuICAgICAqL1xuICAgIHJvdGF0ZVBvaW50OiBmdW5jdGlvbihwb2ludCwgb3JpZ2luLCByYWRpYW5zKSB7XG4gICAgICB2YXIgbmV3UG9pbnQgPSBuZXcgZmFicmljLlBvaW50KHBvaW50LnggLSBvcmlnaW4ueCwgcG9pbnQueSAtIG9yaWdpbi55KSxcbiAgICAgICAgICB2ID0gZmFicmljLnV0aWwucm90YXRlVmVjdG9yKG5ld1BvaW50LCByYWRpYW5zKTtcbiAgICAgIHJldHVybiBuZXcgZmFicmljLlBvaW50KHYueCwgdi55KS5hZGRFcXVhbHMob3JpZ2luKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUm90YXRlcyBgdmVjdG9yYCB3aXRoIGByYWRpYW5zYFxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdmVjdG9yIFRoZSB2ZWN0b3IgdG8gcm90YXRlICh4IGFuZCB5KVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSByYWRpYW5zIFRoZSByYWRpYW5zIG9mIHRoZSBhbmdsZSBmb3IgdGhlIHJvdGF0aW9uXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgbmV3IHJvdGF0ZWQgcG9pbnRcbiAgICAgKi9cbiAgICByb3RhdGVWZWN0b3I6IGZ1bmN0aW9uKHZlY3RvciwgcmFkaWFucykge1xuICAgICAgdmFyIHNpbiA9IGZhYnJpYy51dGlsLnNpbihyYWRpYW5zKSxcbiAgICAgICAgICBjb3MgPSBmYWJyaWMudXRpbC5jb3MocmFkaWFucyksXG4gICAgICAgICAgcnggPSB2ZWN0b3IueCAqIGNvcyAtIHZlY3Rvci55ICogc2luLFxuICAgICAgICAgIHJ5ID0gdmVjdG9yLnggKiBzaW4gKyB2ZWN0b3IueSAqIGNvcztcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHg6IHJ4LFxuICAgICAgICB5OiByeVxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHZldG9yIGZyb20gcG9pbnRzIHJlcHJlc2VudGVkIGFzIGEgcG9pbnRcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICpcbiAgICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBQb2ludFxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB4XG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UG9pbnR9IGZyb21cbiAgICAgKiBAcGFyYW0ge1BvaW50fSB0b1xuICAgICAqIEByZXR1cm5zIHtQb2ludH0gdmVjdG9yXG4gICAgICovXG4gICAgY3JlYXRlVmVjdG9yOiBmdW5jdGlvbiAoZnJvbSwgdG8pIHtcbiAgICAgIHJldHVybiBuZXcgZmFicmljLlBvaW50KHRvLnggLSBmcm9tLngsIHRvLnkgLSBmcm9tLnkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIGFuZ2xlIGJldHdlZW4gMiB2ZWN0b3JzIHVzaW5nIGRvdCBwcm9kdWN0XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7UG9pbnR9IGFcbiAgICAgKiBAcGFyYW0ge1BvaW50fSBiXG4gICAgICogQHJldHVybnMgdGhlIGFuZ2xlIGluIHJhZGlhbiBiZXR3ZWVuIHRoZSB2ZWN0b3JzXG4gICAgICovXG4gICAgY2FsY0FuZ2xlQmV0d2VlblZlY3RvcnM6IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICByZXR1cm4gTWF0aC5hY29zKChhLnggKiBiLnggKyBhLnkgKiBiLnkpIC8gKE1hdGguaHlwb3QoYS54LCBhLnkpICogTWF0aC5oeXBvdChiLngsIGIueSkpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7UG9pbnR9IHZcbiAgICAgKiBAcmV0dXJucyB7UG9pbnR9IHZlY3RvciByZXByZXNlbnRpbmcgdGhlIHVuaXQgdmVjdG9yIG9mIHBvaW50aW5nIHRvIHRoZSBkaXJlY3Rpb24gb2YgYHZgXG4gICAgICovXG4gICAgZ2V0SGF0VmVjdG9yOiBmdW5jdGlvbiAodikge1xuICAgICAgcmV0dXJuIG5ldyBmYWJyaWMuUG9pbnQodi54LCB2LnkpLm11bHRpcGx5KDEgLyBNYXRoLmh5cG90KHYueCwgdi55KSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge1BvaW50fSBBXG4gICAgICogQHBhcmFtIHtQb2ludH0gQlxuICAgICAqIEBwYXJhbSB7UG9pbnR9IENcbiAgICAgKiBAcmV0dXJucyB7eyB2ZWN0b3I6IFBvaW50LCBhbmdsZTogbnVtYmVyIH19IHZlY3RvciByZXByZXNlbnRpbmcgdGhlIGJpc2VjdG9yIG9mIEEgYW5kIEEncyBhbmdsZVxuICAgICAqL1xuICAgIGdldEJpc2VjdG9yOiBmdW5jdGlvbiAoQSwgQiwgQykge1xuICAgICAgdmFyIEFCID0gZmFicmljLnV0aWwuY3JlYXRlVmVjdG9yKEEsIEIpLCBBQyA9IGZhYnJpYy51dGlsLmNyZWF0ZVZlY3RvcihBLCBDKTtcbiAgICAgIHZhciBhbHBoYSA9IGZhYnJpYy51dGlsLmNhbGNBbmdsZUJldHdlZW5WZWN0b3JzKEFCLCBBQyk7XG4gICAgICAvLyAgY2hlY2sgaWYgYWxwaGEgaXMgcmVsYXRpdmUgdG8gQUItPkJDXG4gICAgICB2YXIgcm8gPSBmYWJyaWMudXRpbC5jYWxjQW5nbGVCZXR3ZWVuVmVjdG9ycyhmYWJyaWMudXRpbC5yb3RhdGVWZWN0b3IoQUIsIGFscGhhKSwgQUMpO1xuICAgICAgdmFyIHBoaSA9IGFscGhhICogKHJvID09PSAwID8gMSA6IC0xKSAvIDI7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB2ZWN0b3I6IGZhYnJpYy51dGlsLmdldEhhdFZlY3RvcihmYWJyaWMudXRpbC5yb3RhdGVWZWN0b3IoQUIsIHBoaSkpLFxuICAgICAgICBhbmdsZTogYWxwaGFcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFByb2plY3Qgc3Ryb2tlIHdpZHRoIG9uIHBvaW50cyByZXR1cm5pbmcgMiBwcm9qZWN0aW9ucyBmb3IgZWFjaCBwb2ludCBhcyBmb2xsb3dzOlxuICAgICAqIC0gYG1pdGVyYDogMiBwb2ludHMgY29ycmVzcG9uZGluZyB0byB0aGUgb3V0ZXIgYm91bmRhcnkgYW5kIHRoZSBpbm5lciBib3VuZGFyeSBvZiBzdHJva2UuXG4gICAgICogLSBgYmV2ZWxgOiAyIHBvaW50cyBjb3JyZXNwb25kaW5nIHRvIHRoZSBiZXZlbCBib3VuZGFyaWVzLCB0YW5nZW50IHRvIHRoZSBiaXNlY3Rvci5cbiAgICAgKiAtIGByb3VuZGA6IHNhbWUgYXMgYGJldmVsYFxuICAgICAqIFVzZWQgdG8gY2FsY3VsYXRlIG9iamVjdCdzIGJvdW5kaW5nIGJveFxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge1BvaW50W119IHBvaW50c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9wdGlvbnMuc3Ryb2tlV2lkdGhcbiAgICAgKiBAcGFyYW0geydtaXRlcid8J2JldmVsJ3wncm91bmQnfSBvcHRpb25zLnN0cm9rZUxpbmVKb2luXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9wdGlvbnMuc3Ryb2tlTWl0ZXJMaW1pdCBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9TVkcvQXR0cmlidXRlL3N0cm9rZS1taXRlcmxpbWl0XG4gICAgICogQHBhcmFtIHtib29sZWFufSBvcHRpb25zLnN0cm9rZVVuaWZvcm1cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy5zY2FsZVhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy5zY2FsZVlcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcGVuUGF0aF0gd2hldGhlciB0aGUgc2hhcGUgaXMgb3BlbiBvciBub3QsIGFmZmVjdHMgdGhlIGNhbGN1bGF0aW9ucyBvZiB0aGUgZmlyc3QgYW5kIGxhc3QgcG9pbnRzXG4gICAgICogQHJldHVybnMge2ZhYnJpYy5Qb2ludFtdfSBhcnJheSBvZiBzaXplIDJuLzRuIG9mIGFsbCBzdXNwZWN0ZWQgcG9pbnRzXG4gICAgICovXG4gICAgcHJvamVjdFN0cm9rZU9uUG9pbnRzOiBmdW5jdGlvbiAocG9pbnRzLCBvcHRpb25zLCBvcGVuUGF0aCkge1xuICAgICAgdmFyIGNvb3JkcyA9IFtdLCBzID0gb3B0aW9ucy5zdHJva2VXaWR0aCAvIDIsXG4gICAgICAgICAgc3Ryb2tlVW5pZm9ybVNjYWxhciA9IG9wdGlvbnMuc3Ryb2tlVW5pZm9ybSA/XG4gICAgICAgICAgICBuZXcgZmFicmljLlBvaW50KDEgLyBvcHRpb25zLnNjYWxlWCwgMSAvIG9wdGlvbnMuc2NhbGVZKSA6IG5ldyBmYWJyaWMuUG9pbnQoMSwgMSksXG4gICAgICAgICAgZ2V0U3Ryb2tlSGF0VmVjdG9yID0gZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgIHZhciBzY2FsYXIgPSBzIC8gKE1hdGguaHlwb3Qodi54LCB2LnkpKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgZmFicmljLlBvaW50KHYueCAqIHNjYWxhciAqIHN0cm9rZVVuaWZvcm1TY2FsYXIueCwgdi55ICogc2NhbGFyICogc3Ryb2tlVW5pZm9ybVNjYWxhci55KTtcbiAgICAgICAgICB9O1xuICAgICAgaWYgKHBvaW50cy5sZW5ndGggPD0gMSkge3JldHVybiBjb29yZHM7fVxuICAgICAgcG9pbnRzLmZvckVhY2goZnVuY3Rpb24gKHAsIGluZGV4KSB7XG4gICAgICAgIHZhciBBID0gbmV3IGZhYnJpYy5Qb2ludChwLngsIHAueSksIEIsIEM7XG4gICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgICAgIEMgPSBwb2ludHNbaW5kZXggKyAxXTtcbiAgICAgICAgICBCID0gb3BlblBhdGggPyBnZXRTdHJva2VIYXRWZWN0b3IoZmFicmljLnV0aWwuY3JlYXRlVmVjdG9yKEMsIEEpKS5hZGRFcXVhbHMoQSkgOiBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGluZGV4ID09PSBwb2ludHMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIEIgPSBwb2ludHNbaW5kZXggLSAxXTtcbiAgICAgICAgICBDID0gb3BlblBhdGggPyBnZXRTdHJva2VIYXRWZWN0b3IoZmFicmljLnV0aWwuY3JlYXRlVmVjdG9yKEIsIEEpKS5hZGRFcXVhbHMoQSkgOiBwb2ludHNbMF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgQiA9IHBvaW50c1tpbmRleCAtIDFdO1xuICAgICAgICAgIEMgPSBwb2ludHNbaW5kZXggKyAxXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYmlzZWN0b3IgPSBmYWJyaWMudXRpbC5nZXRCaXNlY3RvcihBLCBCLCBDKSxcbiAgICAgICAgICAgIGJpc2VjdG9yVmVjdG9yID0gYmlzZWN0b3IudmVjdG9yLFxuICAgICAgICAgICAgYWxwaGEgPSBiaXNlY3Rvci5hbmdsZSxcbiAgICAgICAgICAgIHNjYWxhcixcbiAgICAgICAgICAgIG1pdGVyVmVjdG9yO1xuICAgICAgICBpZiAob3B0aW9ucy5zdHJva2VMaW5lSm9pbiA9PT0gJ21pdGVyJykge1xuICAgICAgICAgIHNjYWxhciA9IC1zIC8gTWF0aC5zaW4oYWxwaGEgLyAyKTtcbiAgICAgICAgICBtaXRlclZlY3RvciA9IG5ldyBmYWJyaWMuUG9pbnQoXG4gICAgICAgICAgICBiaXNlY3RvclZlY3Rvci54ICogc2NhbGFyICogc3Ryb2tlVW5pZm9ybVNjYWxhci54LFxuICAgICAgICAgICAgYmlzZWN0b3JWZWN0b3IueSAqIHNjYWxhciAqIHN0cm9rZVVuaWZvcm1TY2FsYXIueVxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKE1hdGguaHlwb3QobWl0ZXJWZWN0b3IueCwgbWl0ZXJWZWN0b3IueSkgLyBzIDw9IG9wdGlvbnMuc3Ryb2tlTWl0ZXJMaW1pdCkge1xuICAgICAgICAgICAgY29vcmRzLnB1c2goQS5hZGQobWl0ZXJWZWN0b3IpKTtcbiAgICAgICAgICAgIGNvb3Jkcy5wdXNoKEEuc3VidHJhY3QobWl0ZXJWZWN0b3IpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2NhbGFyID0gLXMgKiBNYXRoLlNRUlQyO1xuICAgICAgICBtaXRlclZlY3RvciA9IG5ldyBmYWJyaWMuUG9pbnQoXG4gICAgICAgICAgYmlzZWN0b3JWZWN0b3IueCAqIHNjYWxhciAqIHN0cm9rZVVuaWZvcm1TY2FsYXIueCxcbiAgICAgICAgICBiaXNlY3RvclZlY3Rvci55ICogc2NhbGFyICogc3Ryb2tlVW5pZm9ybVNjYWxhci55XG4gICAgICAgICk7XG4gICAgICAgIGNvb3Jkcy5wdXNoKEEuYWRkKG1pdGVyVmVjdG9yKSk7XG4gICAgICAgIGNvb3Jkcy5wdXNoKEEuc3VidHJhY3QobWl0ZXJWZWN0b3IpKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGNvb3JkcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQXBwbHkgdHJhbnNmb3JtIHQgdG8gcG9pbnQgcFxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0gIHtmYWJyaWMuUG9pbnR9IHAgVGhlIHBvaW50IHRvIHRyYW5zZm9ybVxuICAgICAqIEBwYXJhbSAge0FycmF5fSB0IFRoZSB0cmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBbaWdub3JlT2Zmc2V0XSBJbmRpY2F0ZXMgdGhhdCB0aGUgb2Zmc2V0IHNob3VsZCBub3QgYmUgYXBwbGllZFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH0gVGhlIHRyYW5zZm9ybWVkIHBvaW50XG4gICAgICovXG4gICAgdHJhbnNmb3JtUG9pbnQ6IGZ1bmN0aW9uKHAsIHQsIGlnbm9yZU9mZnNldCkge1xuICAgICAgaWYgKGlnbm9yZU9mZnNldCkge1xuICAgICAgICByZXR1cm4gbmV3IGZhYnJpYy5Qb2ludChcbiAgICAgICAgICB0WzBdICogcC54ICsgdFsyXSAqIHAueSxcbiAgICAgICAgICB0WzFdICogcC54ICsgdFszXSAqIHAueVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBmYWJyaWMuUG9pbnQoXG4gICAgICAgIHRbMF0gKiBwLnggKyB0WzJdICogcC55ICsgdFs0XSxcbiAgICAgICAgdFsxXSAqIHAueCArIHRbM10gKiBwLnkgKyB0WzVdXG4gICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGNvb3JkaW5hdGVzIG9mIHBvaW50cydzIGJvdW5kaW5nIHJlY3RhbmdsZSAobGVmdCwgdG9wLCB3aWR0aCwgaGVpZ2h0KVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBvaW50cyA0IHBvaW50cyBhcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFt0cmFuc2Zvcm1dIGFuIGFycmF5IG9mIDYgbnVtYmVycyByZXByZXNlbnRpbmcgYSAyeDMgdHJhbnNmb3JtIG1hdHJpeFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IHdpdGggbGVmdCwgdG9wLCB3aWR0aCwgaGVpZ2h0IHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICBtYWtlQm91bmRpbmdCb3hGcm9tUG9pbnRzOiBmdW5jdGlvbihwb2ludHMsIHRyYW5zZm9ybSkge1xuICAgICAgaWYgKHRyYW5zZm9ybSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHBvaW50c1tpXSA9IGZhYnJpYy51dGlsLnRyYW5zZm9ybVBvaW50KHBvaW50c1tpXSwgdHJhbnNmb3JtKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIHhQb2ludHMgPSBbcG9pbnRzWzBdLngsIHBvaW50c1sxXS54LCBwb2ludHNbMl0ueCwgcG9pbnRzWzNdLnhdLFxuICAgICAgICAgIG1pblggPSBmYWJyaWMudXRpbC5hcnJheS5taW4oeFBvaW50cyksXG4gICAgICAgICAgbWF4WCA9IGZhYnJpYy51dGlsLmFycmF5Lm1heCh4UG9pbnRzKSxcbiAgICAgICAgICB3aWR0aCA9IG1heFggLSBtaW5YLFxuICAgICAgICAgIHlQb2ludHMgPSBbcG9pbnRzWzBdLnksIHBvaW50c1sxXS55LCBwb2ludHNbMl0ueSwgcG9pbnRzWzNdLnldLFxuICAgICAgICAgIG1pblkgPSBmYWJyaWMudXRpbC5hcnJheS5taW4oeVBvaW50cyksXG4gICAgICAgICAgbWF4WSA9IGZhYnJpYy51dGlsLmFycmF5Lm1heCh5UG9pbnRzKSxcbiAgICAgICAgICBoZWlnaHQgPSBtYXhZIC0gbWluWTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbGVmdDogbWluWCxcbiAgICAgICAgdG9wOiBtaW5ZLFxuICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgIGhlaWdodDogaGVpZ2h0XG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbnZlcnQgdHJhbnNmb3JtYXRpb24gdFxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fSB0IFRoZSB0cmFuc2Zvcm1cbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gVGhlIGludmVydGVkIHRyYW5zZm9ybVxuICAgICAqL1xuICAgIGludmVydFRyYW5zZm9ybTogZnVuY3Rpb24odCkge1xuICAgICAgdmFyIGEgPSAxIC8gKHRbMF0gKiB0WzNdIC0gdFsxXSAqIHRbMl0pLFxuICAgICAgICAgIHIgPSBbYSAqIHRbM10sIC1hICogdFsxXSwgLWEgKiB0WzJdLCBhICogdFswXV0sXG4gICAgICAgICAgbyA9IGZhYnJpYy51dGlsLnRyYW5zZm9ybVBvaW50KHsgeDogdFs0XSwgeTogdFs1XSB9LCByLCB0cnVlKTtcbiAgICAgIHJbNF0gPSAtby54O1xuICAgICAgcls1XSA9IC1vLnk7XG4gICAgICByZXR1cm4gcjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQSB3cmFwcGVyIGFyb3VuZCBOdW1iZXIjdG9GaXhlZCwgd2hpY2ggY29udHJhcnkgdG8gbmF0aXZlIG1ldGhvZCByZXR1cm5zIG51bWJlciwgbm90IHN0cmluZy5cbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtOdW1iZXJ8U3RyaW5nfSBudW1iZXIgbnVtYmVyIHRvIG9wZXJhdGUgb25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZnJhY3Rpb25EaWdpdHMgbnVtYmVyIG9mIGZyYWN0aW9uIGRpZ2l0cyB0byBcImxlYXZlXCJcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAgICovXG4gICAgdG9GaXhlZDogZnVuY3Rpb24obnVtYmVyLCBmcmFjdGlvbkRpZ2l0cykge1xuICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoTnVtYmVyKG51bWJlcikudG9GaXhlZChmcmFjdGlvbkRpZ2l0cykpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBmcm9tIGF0dHJpYnV0ZSB2YWx1ZSB0byBwaXhlbCB2YWx1ZSBpZiBhcHBsaWNhYmxlLlxuICAgICAqIFJldHVybnMgY29udmVydGVkIHBpeGVscyBvciBvcmlnaW5hbCB2YWx1ZSBub3QgY29udmVydGVkLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfFN0cmluZ30gdmFsdWUgbnVtYmVyIHRvIG9wZXJhdGUgb25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZm9udFNpemVcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ8U3RyaW5nfVxuICAgICAqL1xuICAgIHBhcnNlVW5pdDogZnVuY3Rpb24odmFsdWUsIGZvbnRTaXplKSB7XG4gICAgICB2YXIgdW5pdCA9IC9cXER7MCwyfSQvLmV4ZWModmFsdWUpLFxuICAgICAgICAgIG51bWJlciA9IHBhcnNlRmxvYXQodmFsdWUpO1xuICAgICAgaWYgKCFmb250U2l6ZSkge1xuICAgICAgICBmb250U2l6ZSA9IGZhYnJpYy5UZXh0LkRFRkFVTFRfU1ZHX0ZPTlRfU0laRTtcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAodW5pdFswXSkge1xuICAgICAgICBjYXNlICdtbSc6XG4gICAgICAgICAgcmV0dXJuIG51bWJlciAqIGZhYnJpYy5EUEkgLyAyNS40O1xuXG4gICAgICAgIGNhc2UgJ2NtJzpcbiAgICAgICAgICByZXR1cm4gbnVtYmVyICogZmFicmljLkRQSSAvIDIuNTQ7XG5cbiAgICAgICAgY2FzZSAnaW4nOlxuICAgICAgICAgIHJldHVybiBudW1iZXIgKiBmYWJyaWMuRFBJO1xuXG4gICAgICAgIGNhc2UgJ3B0JzpcbiAgICAgICAgICByZXR1cm4gbnVtYmVyICogZmFicmljLkRQSSAvIDcyOyAvLyBvciAqIDQgLyAzXG5cbiAgICAgICAgY2FzZSAncGMnOlxuICAgICAgICAgIHJldHVybiBudW1iZXIgKiBmYWJyaWMuRFBJIC8gNzIgKiAxMjsgLy8gb3IgKiAxNlxuXG4gICAgICAgIGNhc2UgJ2VtJzpcbiAgICAgICAgICByZXR1cm4gbnVtYmVyICogZm9udFNpemU7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gbnVtYmVyO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiB3aGljaCBhbHdheXMgcmV0dXJucyBgZmFsc2VgLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIGZhbHNlRnVuY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGtsYXNzIFwiQ2xhc3NcIiBvYmplY3Qgb2YgZ2l2ZW4gbmFtZXNwYWNlXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVHlwZSBvZiBvYmplY3QgKGVnLiAnY2lyY2xlJylcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlIE5hbWVzcGFjZSB0byBnZXQga2xhc3MgXCJDbGFzc1wiIG9iamVjdCBmcm9tXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBrbGFzcyBcIkNsYXNzXCJcbiAgICAgKi9cbiAgICBnZXRLbGFzczogZnVuY3Rpb24odHlwZSwgbmFtZXNwYWNlKSB7XG4gICAgICAvLyBjYXBpdGFsaXplIGZpcnN0IGxldHRlciBvbmx5XG4gICAgICB0eXBlID0gZmFicmljLnV0aWwuc3RyaW5nLmNhbWVsaXplKHR5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB0eXBlLnNsaWNlKDEpKTtcbiAgICAgIHJldHVybiBmYWJyaWMudXRpbC5yZXNvbHZlTmFtZXNwYWNlKG5hbWVzcGFjZSlbdHlwZV07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYXJyYXkgb2YgYXR0cmlidXRlcyBmb3IgZ2l2ZW4gc3ZnIHRoYXQgZmFicmljIHBhcnNlc1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFR5cGUgb2Ygc3ZnIGVsZW1lbnQgKGVnLiAnY2lyY2xlJylcbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gc3RyaW5nIG5hbWVzIG9mIHN1cHBvcnRlZCBhdHRyaWJ1dGVzXG4gICAgICovXG4gICAgZ2V0U3ZnQXR0cmlidXRlczogZnVuY3Rpb24odHlwZSkge1xuICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBbXG4gICAgICAgICdpbnN0YW50aWF0ZWRfYnlfdXNlJyxcbiAgICAgICAgJ3N0eWxlJyxcbiAgICAgICAgJ2lkJyxcbiAgICAgICAgJ2NsYXNzJ1xuICAgICAgXTtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlICdsaW5lYXJHcmFkaWVudCc6XG4gICAgICAgICAgYXR0cmlidXRlcyA9IGF0dHJpYnV0ZXMuY29uY2F0KFsneDEnLCAneTEnLCAneDInLCAneTInLCAnZ3JhZGllbnRVbml0cycsICdncmFkaWVudFRyYW5zZm9ybSddKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncmFkaWFsR3JhZGllbnQnOlxuICAgICAgICAgIGF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzLmNvbmNhdChbJ2dyYWRpZW50VW5pdHMnLCAnZ3JhZGllbnRUcmFuc2Zvcm0nLCAnY3gnLCAnY3knLCAncicsICdmeCcsICdmeScsICdmciddKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnc3RvcCc6XG4gICAgICAgICAgYXR0cmlidXRlcyA9IGF0dHJpYnV0ZXMuY29uY2F0KFsnb2Zmc2V0JywgJ3N0b3AtY29sb3InLCAnc3RvcC1vcGFjaXR5J10pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGF0dHJpYnV0ZXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgb2JqZWN0IG9mIGdpdmVuIG5hbWVzcGFjZVxuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2UgTmFtZXNwYWNlIHN0cmluZyBlLmcuICdmYWJyaWMuSW1hZ2UuZmlsdGVyJyBvciAnZmFicmljJ1xuICAgICAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IGZvciBnaXZlbiBuYW1lc3BhY2UgKGRlZmF1bHQgZmFicmljKVxuICAgICAqL1xuICAgIHJlc29sdmVOYW1lc3BhY2U6IGZ1bmN0aW9uKG5hbWVzcGFjZSkge1xuICAgICAgaWYgKCFuYW1lc3BhY2UpIHtcbiAgICAgICAgcmV0dXJuIGZhYnJpYztcbiAgICAgIH1cblxuICAgICAgdmFyIHBhcnRzID0gbmFtZXNwYWNlLnNwbGl0KCcuJyksXG4gICAgICAgICAgbGVuID0gcGFydHMubGVuZ3RoLCBpLFxuICAgICAgICAgIG9iaiA9IGdsb2JhbCB8fCBmYWJyaWMud2luZG93O1xuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgb2JqID0gb2JqW3BhcnRzW2ldXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTG9hZHMgaW1hZ2UgZWxlbWVudCBmcm9tIGdpdmVuIHVybCBhbmQgcGFzc2VzIGl0IHRvIGEgY2FsbGJhY2tcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsIFVSTCByZXByZXNlbnRpbmcgYW4gaW1hZ2VcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsYmFjazsgaW52b2tlZCB3aXRoIGxvYWRlZCBpbWFnZVxuICAgICAqIEBwYXJhbSB7Kn0gW2NvbnRleHRdIENvbnRleHQgdG8gaW52b2tlIGNhbGxiYWNrIGluXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjcm9zc09yaWdpbl0gY3Jvc3NPcmlnaW4gdmFsdWUgdG8gc2V0IGltYWdlIGVsZW1lbnQgdG9cbiAgICAgKi9cbiAgICBsb2FkSW1hZ2U6IGZ1bmN0aW9uKHVybCwgY2FsbGJhY2ssIGNvbnRleHQsIGNyb3NzT3JpZ2luKSB7XG4gICAgICBpZiAoIXVybCkge1xuICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjay5jYWxsKGNvbnRleHQsIHVybCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGltZyA9IGZhYnJpYy51dGlsLmNyZWF0ZUltYWdlKCk7XG5cbiAgICAgIC8qKiBAaWdub3JlICovXG4gICAgICB2YXIgb25Mb2FkQ2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrLmNhbGwoY29udGV4dCwgaW1nLCBmYWxzZSk7XG4gICAgICAgIGltZyA9IGltZy5vbmxvYWQgPSBpbWcub25lcnJvciA9IG51bGw7XG4gICAgICB9O1xuXG4gICAgICBpbWcub25sb2FkID0gb25Mb2FkQ2FsbGJhY2s7XG4gICAgICAvKiogQGlnbm9yZSAqL1xuICAgICAgaW1nLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZmFicmljLmxvZygnRXJyb3IgbG9hZGluZyAnICsgaW1nLnNyYyk7XG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrLmNhbGwoY29udGV4dCwgbnVsbCwgdHJ1ZSk7XG4gICAgICAgIGltZyA9IGltZy5vbmxvYWQgPSBpbWcub25lcnJvciA9IG51bGw7XG4gICAgICB9O1xuXG4gICAgICAvLyBkYXRhLXVybHMgYXBwZWFyIHRvIGJlIGJ1Z2d5IHdpdGggY3Jvc3NPcmlnaW5cbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9rYW5nYXgvZmFicmljLmpzL2NvbW1pdC9kMGFiYjkwZjFjZDVjNWVmOWQyYTk0ZDNmYjIxYTIyMzMwZGEzZTBhI2NvbW1pdGNvbW1lbnQtNDUxMzc2N1xuICAgICAgLy8gc2VlIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0zMTUxNTJcbiAgICAgIC8vICAgICBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD05MzUwNjlcbiAgICAgIC8vIGNyb3NzT3JpZ2luIG51bGwgaXMgdGhlIHNhbWUgYXMgbm90IHNldC5cbiAgICAgIGlmICh1cmwuaW5kZXhPZignZGF0YScpICE9PSAwICYmXG4gICAgICAgIGNyb3NzT3JpZ2luICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgY3Jvc3NPcmlnaW4gIT09IG51bGwpIHtcbiAgICAgICAgaW1nLmNyb3NzT3JpZ2luID0gY3Jvc3NPcmlnaW47XG4gICAgICB9XG5cbiAgICAgIC8vIElFMTAgLyBJRTExLUZpeDogU1ZHIGNvbnRlbnRzIGZyb20gZGF0YTogVVJJXG4gICAgICAvLyB3aWxsIG9ubHkgYmUgYXZhaWxhYmxlIGlmIHRoZSBJTUcgaXMgcHJlc2VudFxuICAgICAgLy8gaW4gdGhlIERPTSAoYW5kIHZpc2libGUpXG4gICAgICBpZiAodXJsLnN1YnN0cmluZygwLDE0KSA9PT0gJ2RhdGE6aW1hZ2Uvc3ZnJykge1xuICAgICAgICBpbWcub25sb2FkID0gbnVsbDtcbiAgICAgICAgZmFicmljLnV0aWwubG9hZEltYWdlSW5Eb20oaW1nLCBvbkxvYWRDYWxsYmFjayk7XG4gICAgICB9XG5cbiAgICAgIGltZy5zcmMgPSB1cmw7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEF0dGFjaGVzIFNWRyBpbWFnZSB3aXRoIGRhdGE6IFVSTCB0byB0aGUgZG9tXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGltZyBJbWFnZSBvYmplY3Qgd2l0aCBkYXRhOmltYWdlL3N2ZyBzcmNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsYmFjazsgaW52b2tlZCB3aXRoIGxvYWRlZCBpbWFnZVxuICAgICAqIEByZXR1cm4ge09iamVjdH0gRE9NIGVsZW1lbnQgKGRpdiBjb250YWluaW5nIHRoZSBTVkcgaW1hZ2UpXG4gICAgICovXG4gICAgbG9hZEltYWdlSW5Eb206IGZ1bmN0aW9uKGltZywgb25Mb2FkQ2FsbGJhY2spIHtcbiAgICAgIHZhciBkaXYgPSBmYWJyaWMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBkaXYuc3R5bGUud2lkdGggPSBkaXYuc3R5bGUuaGVpZ2h0ID0gJzFweCc7XG4gICAgICBkaXYuc3R5bGUubGVmdCA9IGRpdi5zdHlsZS50b3AgPSAnLTEwMCUnO1xuICAgICAgZGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgIGRpdi5hcHBlbmRDaGlsZChpbWcpO1xuICAgICAgZmFicmljLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKS5hcHBlbmRDaGlsZChkaXYpO1xuICAgICAgLyoqXG4gICAgICAgKiBXcmFwIGluIGZ1bmN0aW9uIHRvOlxuICAgICAgICogICAxLiBDYWxsIGV4aXN0aW5nIGNhbGxiYWNrXG4gICAgICAgKiAgIDIuIENsZWFudXAgRE9NXG4gICAgICAgKi9cbiAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIG9uTG9hZENhbGxiYWNrKCk7XG4gICAgICAgIGRpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGRpdik7XG4gICAgICAgIGRpdiA9IG51bGw7XG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGNvcnJlc3BvbmRpbmcgZmFicmljIGluc3RhbmNlcyBmcm9tIHRoZWlyIG9iamVjdCByZXByZXNlbnRhdGlvbnNcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtBcnJheX0gb2JqZWN0cyBPYmplY3RzIHRvIGVubGl2ZW5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsYmFjayB0byBpbnZva2Ugd2hlbiBhbGwgb2JqZWN0cyBhcmUgY3JlYXRlZFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2UgTmFtZXNwYWNlIHRvIGdldCBrbGFzcyBcIkNsYXNzXCIgb2JqZWN0IGZyb21cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSByZXZpdmVyIE1ldGhvZCBmb3IgZnVydGhlciBwYXJzaW5nIG9mIG9iamVjdCBlbGVtZW50cyxcbiAgICAgKiBjYWxsZWQgYWZ0ZXIgZWFjaCBmYWJyaWMgb2JqZWN0IGNyZWF0ZWQuXG4gICAgICovXG4gICAgZW5saXZlbk9iamVjdHM6IGZ1bmN0aW9uKG9iamVjdHMsIGNhbGxiYWNrLCBuYW1lc3BhY2UsIHJldml2ZXIpIHtcbiAgICAgIG9iamVjdHMgPSBvYmplY3RzIHx8IFtdO1xuXG4gICAgICB2YXIgZW5saXZlbmVkT2JqZWN0cyA9IFtdLFxuICAgICAgICAgIG51bUxvYWRlZE9iamVjdHMgPSAwLFxuICAgICAgICAgIG51bVRvdGFsT2JqZWN0cyA9IG9iamVjdHMubGVuZ3RoO1xuXG4gICAgICBmdW5jdGlvbiBvbkxvYWRlZCgpIHtcbiAgICAgICAgaWYgKCsrbnVtTG9hZGVkT2JqZWN0cyA9PT0gbnVtVG90YWxPYmplY3RzKSB7XG4gICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soZW5saXZlbmVkT2JqZWN0cy5maWx0ZXIoZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgICAgICAvLyBmaWx0ZXIgb3V0IHVuZGVmaW5lZCBvYmplY3RzIChvYmplY3RzIHRoYXQgZ2F2ZSBlcnJvcilcbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghbnVtVG90YWxPYmplY3RzKSB7XG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGVubGl2ZW5lZE9iamVjdHMpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIG9iamVjdHMuZm9yRWFjaChmdW5jdGlvbiAobywgaW5kZXgpIHtcbiAgICAgICAgLy8gaWYgc3BhcnNlIGFycmF5XG4gICAgICAgIGlmICghbyB8fCAhby50eXBlKSB7XG4gICAgICAgICAgb25Mb2FkZWQoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGtsYXNzID0gZmFicmljLnV0aWwuZ2V0S2xhc3Moby50eXBlLCBuYW1lc3BhY2UpO1xuICAgICAgICBrbGFzcy5mcm9tT2JqZWN0KG8sIGZ1bmN0aW9uIChvYmosIGVycm9yKSB7XG4gICAgICAgICAgZXJyb3IgfHwgKGVubGl2ZW5lZE9iamVjdHNbaW5kZXhdID0gb2JqKTtcbiAgICAgICAgICByZXZpdmVyICYmIHJldml2ZXIobywgb2JqLCBlcnJvcik7XG4gICAgICAgICAgb25Mb2FkZWQoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBjb3JyZXNwb25kaW5nIGZhYnJpYyBpbnN0YW5jZXMgcmVzaWRpbmcgaW4gYW4gb2JqZWN0LCBlLmcuIGBjbGlwUGF0aGBcbiAgICAgKiBAc2VlIHtAbGluayBmYWJyaWMuT2JqZWN0LkVOTElWRU5fUFJPUFN9XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29udGV4dF0gYXNzaWduIGVubGl2ZWQgcHJvcHMgdG8gdGhpcyBvYmplY3QgKHBhc3MgbnVsbCB0byBza2lwIHRoaXMpXG4gICAgICogQHBhcmFtIHsob2JqZWN0czpmYWJyaWMuT2JqZWN0W10pID0+IHZvaWR9IGNhbGxiYWNrXG4gICAgICovXG4gICAgZW5saXZlbk9iamVjdEVubGl2YWJsZXM6IGZ1bmN0aW9uIChvYmplY3QsIGNvbnRleHQsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgZW5saXZlblByb3BzID0gZmFicmljLk9iamVjdC5FTkxJVkVOX1BST1BTLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7IHJldHVybiAhIW9iamVjdFtrZXldOyB9KTtcbiAgICAgIGZhYnJpYy51dGlsLmVubGl2ZW5PYmplY3RzKGVubGl2ZW5Qcm9wcy5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gb2JqZWN0W2tleV07IH0pLCBmdW5jdGlvbiAoZW5saXZlZFByb3BzKSB7XG4gICAgICAgIHZhciBvYmplY3RzID0ge307XG4gICAgICAgIGVubGl2ZW5Qcm9wcy5mb3JFYWNoKGZ1bmN0aW9uIChrZXksIGluZGV4KSB7XG4gICAgICAgICAgb2JqZWN0c1trZXldID0gZW5saXZlZFByb3BzW2luZGV4XTtcbiAgICAgICAgICBjb250ZXh0ICYmIChjb250ZXh0W2tleV0gPSBlbmxpdmVkUHJvcHNbaW5kZXhdKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKG9iamVjdHMpO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbmQgd2FpdCBmb3IgbG9hZGluZyBvZiBwYXR0ZXJuc1xuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYXR0ZXJucyBPYmplY3RzIHRvIGVubGl2ZW5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsYmFjayB0byBpbnZva2Ugd2hlbiBhbGwgb2JqZWN0cyBhcmUgY3JlYXRlZFxuICAgICAqIGNhbGxlZCBhZnRlciBlYWNoIGZhYnJpYyBvYmplY3QgY3JlYXRlZC5cbiAgICAgKi9cbiAgICBlbmxpdmVuUGF0dGVybnM6IGZ1bmN0aW9uKHBhdHRlcm5zLCBjYWxsYmFjaykge1xuICAgICAgcGF0dGVybnMgPSBwYXR0ZXJucyB8fCBbXTtcblxuICAgICAgZnVuY3Rpb24gb25Mb2FkZWQoKSB7XG4gICAgICAgIGlmICgrK251bUxvYWRlZFBhdHRlcm5zID09PSBudW1QYXR0ZXJucykge1xuICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGVubGl2ZW5lZFBhdHRlcm5zKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgZW5saXZlbmVkUGF0dGVybnMgPSBbXSxcbiAgICAgICAgICBudW1Mb2FkZWRQYXR0ZXJucyA9IDAsXG4gICAgICAgICAgbnVtUGF0dGVybnMgPSBwYXR0ZXJucy5sZW5ndGg7XG5cbiAgICAgIGlmICghbnVtUGF0dGVybnMpIHtcbiAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soZW5saXZlbmVkUGF0dGVybnMpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHBhdHRlcm5zLmZvckVhY2goZnVuY3Rpb24gKHAsIGluZGV4KSB7XG4gICAgICAgIGlmIChwICYmIHAuc291cmNlKSB7XG4gICAgICAgICAgbmV3IGZhYnJpYy5QYXR0ZXJuKHAsIGZ1bmN0aW9uKHBhdHRlcm4pIHtcbiAgICAgICAgICAgIGVubGl2ZW5lZFBhdHRlcm5zW2luZGV4XSA9IHBhdHRlcm47XG4gICAgICAgICAgICBvbkxvYWRlZCgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGVubGl2ZW5lZFBhdHRlcm5zW2luZGV4XSA9IHA7XG4gICAgICAgICAgb25Mb2FkZWQoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdyb3VwcyBTVkcgZWxlbWVudHMgKHVzdWFsbHkgdGhvc2UgcmV0cmlldmVkIGZyb20gU1ZHIGRvY3VtZW50KVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBlbGVtZW50cyBTVkcgZWxlbWVudHMgdG8gZ3JvdXBcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHBhdGggVmFsdWUgdG8gc2V0IHNvdXJjZVBhdGggdG9cbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fGZhYnJpYy5Hcm91cH1cbiAgICAgKi9cbiAgICBncm91cFNWR0VsZW1lbnRzOiBmdW5jdGlvbihlbGVtZW50cywgb3B0aW9ucywgcGF0aCkge1xuICAgICAgdmFyIG9iamVjdDtcbiAgICAgIGlmIChlbGVtZW50cyAmJiBlbGVtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYXRoICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGVsZW1lbnRzWzBdLnNvdXJjZVBhdGggPSBwYXRoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbGVtZW50c1swXTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zLndpZHRoICYmIG9wdGlvbnMuaGVpZ2h0KSB7XG4gICAgICAgICAgb3B0aW9ucy5jZW50ZXJQb2ludCA9IHtcbiAgICAgICAgICAgIHg6IG9wdGlvbnMud2lkdGggLyAyLFxuICAgICAgICAgICAgeTogb3B0aW9ucy5oZWlnaHQgLyAyXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgb3B0aW9ucy53aWR0aDtcbiAgICAgICAgICBkZWxldGUgb3B0aW9ucy5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG9iamVjdCA9IG5ldyBmYWJyaWMuR3JvdXAoZWxlbWVudHMsIG9wdGlvbnMpO1xuICAgICAgaWYgKHR5cGVvZiBwYXRoICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBvYmplY3Quc291cmNlUGF0aCA9IHBhdGg7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQb3B1bGF0ZXMgYW4gb2JqZWN0IHdpdGggcHJvcGVydGllcyBvZiBhbm90aGVyIG9iamVjdFxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFNvdXJjZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGVzdGluYXRpb24gRGVzdGluYXRpb24gb2JqZWN0XG4gICAgICogQHJldHVybiB7QXJyYXl9IHByb3BlcnRpZXMgUHJvcGVydGllcyBuYW1lcyB0byBpbmNsdWRlXG4gICAgICovXG4gICAgcG9wdWxhdGVXaXRoUHJvcGVydGllczogZnVuY3Rpb24oc291cmNlLCBkZXN0aW5hdGlvbiwgcHJvcGVydGllcykge1xuICAgICAgaWYgKHByb3BlcnRpZXMgJiYgQXJyYXkuaXNBcnJheShwcm9wZXJ0aWVzKSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gcHJvcGVydGllcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgIGlmIChwcm9wZXJ0aWVzW2ldIGluIHNvdXJjZSkge1xuICAgICAgICAgICAgZGVzdGluYXRpb25bcHJvcGVydGllc1tpXV0gPSBzb3VyY2VbcHJvcGVydGllc1tpXV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgY2FudmFzIGVsZW1lbnRcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHJldHVybiB7Q2FudmFzRWxlbWVudH0gaW5pdGlhbGl6ZWQgY2FudmFzIGVsZW1lbnRcbiAgICAgKi9cbiAgICBjcmVhdGVDYW52YXNFbGVtZW50OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBmYWJyaWMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjYW52YXMgZWxlbWVudCB0aGF0IGlzIGEgY29weSBvZiBhbm90aGVyIGFuZCBpcyBhbHNvIHBhaW50ZWRcbiAgICAgKiBAcGFyYW0ge0NhbnZhc0VsZW1lbnR9IGNhbnZhcyB0byBjb3B5IHNpemUgYW5kIGNvbnRlbnQgb2ZcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHJldHVybiB7Q2FudmFzRWxlbWVudH0gaW5pdGlhbGl6ZWQgY2FudmFzIGVsZW1lbnRcbiAgICAgKi9cbiAgICBjb3B5Q2FudmFzRWxlbWVudDogZnVuY3Rpb24oY2FudmFzKSB7XG4gICAgICB2YXIgbmV3Q2FudmFzID0gZmFicmljLnV0aWwuY3JlYXRlQ2FudmFzRWxlbWVudCgpO1xuICAgICAgbmV3Q2FudmFzLndpZHRoID0gY2FudmFzLndpZHRoO1xuICAgICAgbmV3Q2FudmFzLmhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XG4gICAgICBuZXdDYW52YXMuZ2V0Q29udGV4dCgnMmQnKS5kcmF3SW1hZ2UoY2FudmFzLCAwLCAwKTtcbiAgICAgIHJldHVybiBuZXdDYW52YXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHNpbmNlIDIuNi4wIG1vdmVkIGZyb20gY2FudmFzIGluc3RhbmNlIHRvIHV0aWxpdHkuXG4gICAgICogQHBhcmFtIHtDYW52YXNFbGVtZW50fSBjYW52YXNFbCB0byBjb3B5IHNpemUgYW5kIGNvbnRlbnQgb2ZcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZm9ybWF0ICdqcGVnJyBvciAncG5nJywgaW4gc29tZSBicm93c2VycyAnd2VicCcgaXMgb2sgdG9vXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHF1YWxpdHkgPD0gMSBhbmQgPiAwXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gZGF0YSB1cmxcbiAgICAgKi9cbiAgICB0b0RhdGFVUkw6IGZ1bmN0aW9uKGNhbnZhc0VsLCBmb3JtYXQsIHF1YWxpdHkpIHtcbiAgICAgIHJldHVybiBjYW52YXNFbC50b0RhdGFVUkwoJ2ltYWdlLycgKyBmb3JtYXQsIHF1YWxpdHkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGltYWdlIGVsZW1lbnQgKHdvcmtzIG9uIGNsaWVudCBhbmQgbm9kZSlcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHJldHVybiB7SFRNTEltYWdlRWxlbWVudH0gSFRNTCBpbWFnZSBlbGVtZW50XG4gICAgICovXG4gICAgY3JlYXRlSW1hZ2U6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGZhYnJpYy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbHkgbWF0cml4IEEgYnkgbWF0cml4IEIgdG8gbmVzdCB0cmFuc2Zvcm1hdGlvbnNcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtICB7QXJyYXl9IGEgRmlyc3QgdHJhbnNmb3JtTWF0cml4XG4gICAgICogQHBhcmFtICB7QXJyYXl9IGIgU2Vjb25kIHRyYW5zZm9ybU1hdHJpeFxuICAgICAqIEBwYXJhbSAge0Jvb2xlYW59IGlzMngyIGZsYWcgdG8gbXVsdGlwbHkgbWF0cmljZXMgYXMgMngyIG1hdHJpY2VzXG4gICAgICogQHJldHVybiB7QXJyYXl9IFRoZSBwcm9kdWN0IG9mIHRoZSB0d28gdHJhbnNmb3JtIG1hdHJpY2VzXG4gICAgICovXG4gICAgbXVsdGlwbHlUcmFuc2Zvcm1NYXRyaWNlczogZnVuY3Rpb24oYSwgYiwgaXMyeDIpIHtcbiAgICAgIC8vIE1hdHJpeCBtdWx0aXBseSBhICogYlxuICAgICAgcmV0dXJuIFtcbiAgICAgICAgYVswXSAqIGJbMF0gKyBhWzJdICogYlsxXSxcbiAgICAgICAgYVsxXSAqIGJbMF0gKyBhWzNdICogYlsxXSxcbiAgICAgICAgYVswXSAqIGJbMl0gKyBhWzJdICogYlszXSxcbiAgICAgICAgYVsxXSAqIGJbMl0gKyBhWzNdICogYlszXSxcbiAgICAgICAgaXMyeDIgPyAwIDogYVswXSAqIGJbNF0gKyBhWzJdICogYls1XSArIGFbNF0sXG4gICAgICAgIGlzMngyID8gMCA6IGFbMV0gKiBiWzRdICsgYVszXSAqIGJbNV0gKyBhWzVdXG4gICAgICBdO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZWNvbXBvc2VzIHN0YW5kYXJkIDJ4MyBtYXRyaXggaW50byB0cmFuc2Zvcm0gY29tcG9uZW50c1xuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0gIHtBcnJheX0gYSB0cmFuc2Zvcm1NYXRyaXhcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IENvbXBvbmVudHMgb2YgdHJhbnNmb3JtXG4gICAgICovXG4gICAgcXJEZWNvbXBvc2U6IGZ1bmN0aW9uKGEpIHtcbiAgICAgIHZhciBhbmdsZSA9IGF0YW4yKGFbMV0sIGFbMF0pLFxuICAgICAgICAgIGRlbm9tID0gcG93KGFbMF0sIDIpICsgcG93KGFbMV0sIDIpLFxuICAgICAgICAgIHNjYWxlWCA9IHNxcnQoZGVub20pLFxuICAgICAgICAgIHNjYWxlWSA9IChhWzBdICogYVszXSAtIGFbMl0gKiBhWzFdKSAvIHNjYWxlWCxcbiAgICAgICAgICBza2V3WCA9IGF0YW4yKGFbMF0gKiBhWzJdICsgYVsxXSAqIGEgWzNdLCBkZW5vbSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBhbmdsZTogYW5nbGUgLyBQaUJ5MTgwLFxuICAgICAgICBzY2FsZVg6IHNjYWxlWCxcbiAgICAgICAgc2NhbGVZOiBzY2FsZVksXG4gICAgICAgIHNrZXdYOiBza2V3WCAvIFBpQnkxODAsXG4gICAgICAgIHNrZXdZOiAwLFxuICAgICAgICB0cmFuc2xhdGVYOiBhWzRdLFxuICAgICAgICB0cmFuc2xhdGVZOiBhWzVdXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgdHJhbnNmb3JtIG1hdHJpeCBzdGFydGluZyBmcm9tIGFuIG9iamVjdCBvZiB0aGUgc2FtZSBraW5kIG9mXG4gICAgICogdGhlIG9uZSByZXR1cm5lZCBmcm9tIHFyRGVjb21wb3NlLCB1c2VmdWwgYWxzbyBpZiB5b3Ugd2FudCB0byBjYWxjdWxhdGUgc29tZVxuICAgICAqIHRyYW5zZm9ybWF0aW9ucyBmcm9tIGFuIG9iamVjdCB0aGF0IGlzIG5vdCBlbmxpdmVkIHlldFxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IFtvcHRpb25zLmFuZ2xlXSBhbmdsZSBpbiBkZWdyZWVzXG4gICAgICogQHJldHVybiB7TnVtYmVyW119IHRyYW5zZm9ybSBtYXRyaXhcbiAgICAgKi9cbiAgICBjYWxjUm90YXRlTWF0cml4OiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBpZiAoIW9wdGlvbnMuYW5nbGUpIHtcbiAgICAgICAgcmV0dXJuIGZhYnJpYy5pTWF0cml4LmNvbmNhdCgpO1xuICAgICAgfVxuICAgICAgdmFyIHRoZXRhID0gZmFicmljLnV0aWwuZGVncmVlc1RvUmFkaWFucyhvcHRpb25zLmFuZ2xlKSxcbiAgICAgICAgICBjb3MgPSBmYWJyaWMudXRpbC5jb3ModGhldGEpLFxuICAgICAgICAgIHNpbiA9IGZhYnJpYy51dGlsLnNpbih0aGV0YSk7XG4gICAgICByZXR1cm4gW2Nvcywgc2luLCAtc2luLCBjb3MsIDAsIDBdO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgdHJhbnNmb3JtIG1hdHJpeCBzdGFydGluZyBmcm9tIGFuIG9iamVjdCBvZiB0aGUgc2FtZSBraW5kIG9mXG4gICAgICogdGhlIG9uZSByZXR1cm5lZCBmcm9tIHFyRGVjb21wb3NlLCB1c2VmdWwgYWxzbyBpZiB5b3Ugd2FudCB0byBjYWxjdWxhdGUgc29tZVxuICAgICAqIHRyYW5zZm9ybWF0aW9ucyBmcm9tIGFuIG9iamVjdCB0aGF0IGlzIG5vdCBlbmxpdmVkIHlldC5cbiAgICAgKiBpcyBjYWxsZWQgRGltZW5zaW9uc1RyYW5zZm9ybU1hdHJpeCBiZWNhdXNlIHRob3NlIHByb3BlcnRpZXMgYXJlIHRoZSBvbmUgdGhhdCBpbmZsdWVuY2VcbiAgICAgKiB0aGUgc2l6ZSBvZiB0aGUgcmVzdWx0aW5nIGJveCBvZiB0aGUgb2JqZWN0LlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IFtvcHRpb25zLnNjYWxlWF1cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IFtvcHRpb25zLnNjYWxlWV1cbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBbb3B0aW9ucy5mbGlwWF1cbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBbb3B0aW9ucy5mbGlwWV1cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IFtvcHRpb25zLnNrZXdYXVxuICAgICAqIEBwYXJhbSAge051bWJlcn0gW29wdGlvbnMuc2tld1ldXG4gICAgICogQHJldHVybiB7TnVtYmVyW119IHRyYW5zZm9ybSBtYXRyaXhcbiAgICAgKi9cbiAgICBjYWxjRGltZW5zaW9uc01hdHJpeDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdmFyIHNjYWxlWCA9IHR5cGVvZiBvcHRpb25zLnNjYWxlWCA9PT0gJ3VuZGVmaW5lZCcgPyAxIDogb3B0aW9ucy5zY2FsZVgsXG4gICAgICAgICAgc2NhbGVZID0gdHlwZW9mIG9wdGlvbnMuc2NhbGVZID09PSAndW5kZWZpbmVkJyA/IDEgOiBvcHRpb25zLnNjYWxlWSxcbiAgICAgICAgICBzY2FsZU1hdHJpeCA9IFtcbiAgICAgICAgICAgIG9wdGlvbnMuZmxpcFggPyAtc2NhbGVYIDogc2NhbGVYLFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICBvcHRpb25zLmZsaXBZID8gLXNjYWxlWSA6IHNjYWxlWSxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAwXSxcbiAgICAgICAgICBtdWx0aXBseSA9IGZhYnJpYy51dGlsLm11bHRpcGx5VHJhbnNmb3JtTWF0cmljZXMsXG4gICAgICAgICAgZGVncmVlc1RvUmFkaWFucyA9IGZhYnJpYy51dGlsLmRlZ3JlZXNUb1JhZGlhbnM7XG4gICAgICBpZiAob3B0aW9ucy5za2V3WCkge1xuICAgICAgICBzY2FsZU1hdHJpeCA9IG11bHRpcGx5KFxuICAgICAgICAgIHNjYWxlTWF0cml4LFxuICAgICAgICAgIFsxLCAwLCBNYXRoLnRhbihkZWdyZWVzVG9SYWRpYW5zKG9wdGlvbnMuc2tld1gpKSwgMV0sXG4gICAgICAgICAgdHJ1ZSk7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucy5za2V3WSkge1xuICAgICAgICBzY2FsZU1hdHJpeCA9IG11bHRpcGx5KFxuICAgICAgICAgIHNjYWxlTWF0cml4LFxuICAgICAgICAgIFsxLCBNYXRoLnRhbihkZWdyZWVzVG9SYWRpYW5zKG9wdGlvbnMuc2tld1kpKSwgMCwgMV0sXG4gICAgICAgICAgdHJ1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2NhbGVNYXRyaXg7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSB0cmFuc2Zvcm0gbWF0cml4IHN0YXJ0aW5nIGZyb20gYW4gb2JqZWN0IG9mIHRoZSBzYW1lIGtpbmQgb2ZcbiAgICAgKiB0aGUgb25lIHJldHVybmVkIGZyb20gcXJEZWNvbXBvc2UsIHVzZWZ1bCBhbHNvIGlmIHlvdSB3YW50IHRvIGNhbGN1bGF0ZSBzb21lXG4gICAgICogdHJhbnNmb3JtYXRpb25zIGZyb20gYW4gb2JqZWN0IHRoYXQgaXMgbm90IGVubGl2ZWQgeWV0XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSAge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSAge051bWJlcn0gW29wdGlvbnMuYW5nbGVdXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBbb3B0aW9ucy5zY2FsZVhdXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBbb3B0aW9ucy5zY2FsZVldXG4gICAgICogQHBhcmFtICB7Qm9vbGVhbn0gW29wdGlvbnMuZmxpcFhdXG4gICAgICogQHBhcmFtICB7Qm9vbGVhbn0gW29wdGlvbnMuZmxpcFldXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBbb3B0aW9ucy5za2V3WF1cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IFtvcHRpb25zLnNrZXdYXVxuICAgICAqIEBwYXJhbSAge051bWJlcn0gW29wdGlvbnMudHJhbnNsYXRlWF1cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IFtvcHRpb25zLnRyYW5zbGF0ZVldXG4gICAgICogQHJldHVybiB7TnVtYmVyW119IHRyYW5zZm9ybSBtYXRyaXhcbiAgICAgKi9cbiAgICBjb21wb3NlTWF0cml4OiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICB2YXIgbWF0cml4ID0gWzEsIDAsIDAsIDEsIG9wdGlvbnMudHJhbnNsYXRlWCB8fCAwLCBvcHRpb25zLnRyYW5zbGF0ZVkgfHwgMF0sXG4gICAgICAgICAgbXVsdGlwbHkgPSBmYWJyaWMudXRpbC5tdWx0aXBseVRyYW5zZm9ybU1hdHJpY2VzO1xuICAgICAgaWYgKG9wdGlvbnMuYW5nbGUpIHtcbiAgICAgICAgbWF0cml4ID0gbXVsdGlwbHkobWF0cml4LCBmYWJyaWMudXRpbC5jYWxjUm90YXRlTWF0cml4KG9wdGlvbnMpKTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zLnNjYWxlWCAhPT0gMSB8fCBvcHRpb25zLnNjYWxlWSAhPT0gMSB8fFxuICAgICAgICAgIG9wdGlvbnMuc2tld1ggfHwgb3B0aW9ucy5za2V3WSB8fCBvcHRpb25zLmZsaXBYIHx8IG9wdGlvbnMuZmxpcFkpIHtcbiAgICAgICAgbWF0cml4ID0gbXVsdGlwbHkobWF0cml4LCBmYWJyaWMudXRpbC5jYWxjRGltZW5zaW9uc01hdHJpeChvcHRpb25zKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWF0cml4O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiByZXNldCBhbiBvYmplY3QgdHJhbnNmb3JtIHN0YXRlIHRvIG5ldXRyYWwuIFRvcCBhbmQgbGVmdCBhcmUgbm90IGFjY291bnRlZCBmb3JcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtICB7ZmFicmljLk9iamVjdH0gdGFyZ2V0IG9iamVjdCB0byB0cmFuc2Zvcm1cbiAgICAgKi9cbiAgICByZXNldE9iamVjdFRyYW5zZm9ybTogZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgdGFyZ2V0LnNjYWxlWCA9IDE7XG4gICAgICB0YXJnZXQuc2NhbGVZID0gMTtcbiAgICAgIHRhcmdldC5za2V3WCA9IDA7XG4gICAgICB0YXJnZXQuc2tld1kgPSAwO1xuICAgICAgdGFyZ2V0LmZsaXBYID0gZmFsc2U7XG4gICAgICB0YXJnZXQuZmxpcFkgPSBmYWxzZTtcbiAgICAgIHRhcmdldC5yb3RhdGUoMCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEV4dHJhY3QgT2JqZWN0IHRyYW5zZm9ybSB2YWx1ZXNcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtICB7ZmFicmljLk9iamVjdH0gdGFyZ2V0IG9iamVjdCB0byByZWFkIGZyb21cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IENvbXBvbmVudHMgb2YgdHJhbnNmb3JtXG4gICAgICovXG4gICAgc2F2ZU9iamVjdFRyYW5zZm9ybTogZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc2NhbGVYOiB0YXJnZXQuc2NhbGVYLFxuICAgICAgICBzY2FsZVk6IHRhcmdldC5zY2FsZVksXG4gICAgICAgIHNrZXdYOiB0YXJnZXQuc2tld1gsXG4gICAgICAgIHNrZXdZOiB0YXJnZXQuc2tld1ksXG4gICAgICAgIGFuZ2xlOiB0YXJnZXQuYW5nbGUsXG4gICAgICAgIGxlZnQ6IHRhcmdldC5sZWZ0LFxuICAgICAgICBmbGlwWDogdGFyZ2V0LmZsaXBYLFxuICAgICAgICBmbGlwWTogdGFyZ2V0LmZsaXBZLFxuICAgICAgICB0b3A6IHRhcmdldC50b3BcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiBjb250ZXh0IGhhcyB0cmFuc3BhcmVudCBwaXhlbFxuICAgICAqIGF0IHNwZWNpZmllZCBsb2NhdGlvbiAodGFraW5nIHRvbGVyYW5jZSBpbnRvIGFjY291bnQpXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBjb250ZXh0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHggeCBjb29yZGluYXRlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHkgeSBjb29yZGluYXRlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHRvbGVyYW5jZSBUb2xlcmFuY2VcbiAgICAgKi9cbiAgICBpc1RyYW5zcGFyZW50OiBmdW5jdGlvbihjdHgsIHgsIHksIHRvbGVyYW5jZSkge1xuXG4gICAgICAvLyBJZiB0b2xlcmFuY2UgaXMgPiAwIGFkanVzdCBzdGFydCBjb29yZHMgdG8gdGFrZSBpbnRvIGFjY291bnQuXG4gICAgICAvLyBJZiBtb3ZlcyBvZmYgQ2FudmFzIGZpeCB0byAwXG4gICAgICBpZiAodG9sZXJhbmNlID4gMCkge1xuICAgICAgICBpZiAoeCA+IHRvbGVyYW5jZSkge1xuICAgICAgICAgIHggLT0gdG9sZXJhbmNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHggPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmICh5ID4gdG9sZXJhbmNlKSB7XG4gICAgICAgICAgeSAtPSB0b2xlcmFuY2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgeSA9IDA7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIF9pc1RyYW5zcGFyZW50ID0gdHJ1ZSwgaSwgdGVtcCxcbiAgICAgICAgICBpbWFnZURhdGEgPSBjdHguZ2V0SW1hZ2VEYXRhKHgsIHksICh0b2xlcmFuY2UgKiAyKSB8fCAxLCAodG9sZXJhbmNlICogMikgfHwgMSksXG4gICAgICAgICAgbCA9IGltYWdlRGF0YS5kYXRhLmxlbmd0aDtcblxuICAgICAgLy8gU3BsaXQgaW1hZ2UgZGF0YSAtIGZvciB0b2xlcmFuY2UgPiAxLCBwaXhlbERhdGFTaXplID0gNDtcbiAgICAgIGZvciAoaSA9IDM7IGkgPCBsOyBpICs9IDQpIHtcbiAgICAgICAgdGVtcCA9IGltYWdlRGF0YS5kYXRhW2ldO1xuICAgICAgICBfaXNUcmFuc3BhcmVudCA9IHRlbXAgPD0gMDtcbiAgICAgICAgaWYgKF9pc1RyYW5zcGFyZW50ID09PSBmYWxzZSkge1xuICAgICAgICAgIGJyZWFrOyAvLyBTdG9wIGlmIGNvbG91ciBmb3VuZFxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGltYWdlRGF0YSA9IG51bGw7XG5cbiAgICAgIHJldHVybiBfaXNUcmFuc3BhcmVudDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUGFyc2UgcHJlc2VydmVBc3BlY3RSYXRpbyBhdHRyaWJ1dGUgZnJvbSBlbGVtZW50XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGF0dHJpYnV0ZSB0byBiZSBwYXJzZWRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IGFuIG9iamVjdCBjb250YWluaW5nIGFsaWduIGFuZCBtZWV0T3JTbGljZSBhdHRyaWJ1dGVcbiAgICAgKi9cbiAgICBwYXJzZVByZXNlcnZlQXNwZWN0UmF0aW9BdHRyaWJ1dGU6IGZ1bmN0aW9uKGF0dHJpYnV0ZSkge1xuICAgICAgdmFyIG1lZXRPclNsaWNlID0gJ21lZXQnLCBhbGlnblggPSAnTWlkJywgYWxpZ25ZID0gJ01pZCcsXG4gICAgICAgICAgYXNwZWN0UmF0aW9BdHRycyA9IGF0dHJpYnV0ZS5zcGxpdCgnICcpLCBhbGlnbjtcblxuICAgICAgaWYgKGFzcGVjdFJhdGlvQXR0cnMgJiYgYXNwZWN0UmF0aW9BdHRycy5sZW5ndGgpIHtcbiAgICAgICAgbWVldE9yU2xpY2UgPSBhc3BlY3RSYXRpb0F0dHJzLnBvcCgpO1xuICAgICAgICBpZiAobWVldE9yU2xpY2UgIT09ICdtZWV0JyAmJiBtZWV0T3JTbGljZSAhPT0gJ3NsaWNlJykge1xuICAgICAgICAgIGFsaWduID0gbWVldE9yU2xpY2U7XG4gICAgICAgICAgbWVldE9yU2xpY2UgPSAnbWVldCc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYXNwZWN0UmF0aW9BdHRycy5sZW5ndGgpIHtcbiAgICAgICAgICBhbGlnbiA9IGFzcGVjdFJhdGlvQXR0cnMucG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vZGl2aWRlIGFsaWduIGluIGFsaWduWCBhbmQgYWxpZ25ZXG4gICAgICBhbGlnblggPSBhbGlnbiAhPT0gJ25vbmUnID8gYWxpZ24uc2xpY2UoMSwgNCkgOiAnbm9uZSc7XG4gICAgICBhbGlnblkgPSBhbGlnbiAhPT0gJ25vbmUnID8gYWxpZ24uc2xpY2UoNSwgOCkgOiAnbm9uZSc7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBtZWV0T3JTbGljZTogbWVldE9yU2xpY2UsXG4gICAgICAgIGFsaWduWDogYWxpZ25YLFxuICAgICAgICBhbGlnblk6IGFsaWduWVxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2xlYXIgY2hhciB3aWR0aHMgY2FjaGUgZm9yIHRoZSBnaXZlbiBmb250IGZhbWlseSBvciBhbGwgdGhlIGNhY2hlIGlmIG5vXG4gICAgICogZm9udEZhbWlseSBpcyBzcGVjaWZpZWQuXG4gICAgICogVXNlIGl0IGlmIHlvdSBrbm93IHlvdSBhcmUgbG9hZGluZyBmb250cyBpbiBhIGxhenkgd2F5IGFuZCB5b3UgYXJlIG5vdCB3YWl0aW5nXG4gICAgICogZm9yIGN1c3RvbSBmb250cyB0byBsb2FkIHByb3Blcmx5IHdoZW4gYWRkaW5nIHRleHQgb2JqZWN0cyB0byB0aGUgY2FudmFzLlxuICAgICAqIElmIGEgdGV4dCBvYmplY3QgaXMgYWRkZWQgd2hlbiBpdHMgb3duIGZvbnQgaXMgbm90IGxvYWRlZCB5ZXQsIHlvdSB3aWxsIGdldCB3cm9uZ1xuICAgICAqIG1lYXN1cmVtZW50IGFuZCBzbyB3cm9uZyBib3VuZGluZyBib3hlcy5cbiAgICAgKiBBZnRlciB0aGUgZm9udCBjYWNoZSBpcyBjbGVhcmVkLCBlaXRoZXIgY2hhbmdlIHRoZSB0ZXh0T2JqZWN0IHRleHQgY29udGVudCBvciBjYWxsXG4gICAgICogaW5pdERpbWVuc2lvbnMoKSB0byB0cmlnZ2VyIGEgcmVjYWxjdWxhdGlvblxuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbZm9udEZhbWlseV0gZm9udCBmYW1pbHkgdG8gY2xlYXJcbiAgICAgKi9cbiAgICBjbGVhckZhYnJpY0ZvbnRDYWNoZTogZnVuY3Rpb24oZm9udEZhbWlseSkge1xuICAgICAgZm9udEZhbWlseSA9IChmb250RmFtaWx5IHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKCFmb250RmFtaWx5KSB7XG4gICAgICAgIGZhYnJpYy5jaGFyV2lkdGhzQ2FjaGUgPSB7IH07XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChmYWJyaWMuY2hhcldpZHRoc0NhY2hlW2ZvbnRGYW1pbHldKSB7XG4gICAgICAgIGRlbGV0ZSBmYWJyaWMuY2hhcldpZHRoc0NhY2hlW2ZvbnRGYW1pbHldO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHaXZlbiBjdXJyZW50IGFzcGVjdCByYXRpbywgZGV0ZXJtaW5lcyB0aGUgbWF4IHdpZHRoIGFuZCBoZWlnaHQgdGhhdCBjYW5cbiAgICAgKiByZXNwZWN0IHRoZSB0b3RhbCBhbGxvd2VkIGFyZWEgZm9yIHRoZSBjYWNoZS5cbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYXIgYXNwZWN0IHJhdGlvXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG1heGltdW1BcmVhIE1heGltdW0gYXJlYSB5b3Ugd2FudCB0byBhY2hpZXZlXG4gICAgICogQHJldHVybiB7T2JqZWN0Lnh9IExpbWl0ZWQgZGltZW5zaW9ucyBieSBYXG4gICAgICogQHJldHVybiB7T2JqZWN0Lnl9IExpbWl0ZWQgZGltZW5zaW9ucyBieSBZXG4gICAgICovXG4gICAgbGltaXREaW1zQnlBcmVhOiBmdW5jdGlvbihhciwgbWF4aW11bUFyZWEpIHtcbiAgICAgIHZhciByb3VnaFdpZHRoID0gTWF0aC5zcXJ0KG1heGltdW1BcmVhICogYXIpLFxuICAgICAgICAgIHBlcmZMaW1pdFNpemVZID0gTWF0aC5mbG9vcihtYXhpbXVtQXJlYSAvIHJvdWdoV2lkdGgpO1xuICAgICAgcmV0dXJuIHsgeDogTWF0aC5mbG9vcihyb3VnaFdpZHRoKSwgeTogcGVyZkxpbWl0U2l6ZVkgfTtcbiAgICB9LFxuXG4gICAgY2FwVmFsdWU6IGZ1bmN0aW9uKG1pbiwgdmFsdWUsIG1heCkge1xuICAgICAgcmV0dXJuIE1hdGgubWF4KG1pbiwgTWF0aC5taW4odmFsdWUsIG1heCkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBGaW5kcyB0aGUgc2NhbGUgZm9yIHRoZSBvYmplY3Qgc291cmNlIHRvIGZpdCBpbnNpZGUgdGhlIG9iamVjdCBkZXN0aW5hdGlvbixcbiAgICAgKiBrZWVwaW5nIGFzcGVjdCByYXRpbyBpbnRhY3QuXG4gICAgICogcmVzcGVjdCB0aGUgdG90YWwgYWxsb3dlZCBhcmVhIGZvciB0aGUgY2FjaGUuXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtPYmplY3QgfCBmYWJyaWMuT2JqZWN0fSBzb3VyY2VcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc291cmNlLmhlaWdodCBuYXR1cmFsIHVuc2NhbGVkIGhlaWdodCBvZiB0aGUgb2JqZWN0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNvdXJjZS53aWR0aCBuYXR1cmFsIHVuc2NhbGVkIHdpZHRoIG9mIHRoZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdCB8IGZhYnJpYy5PYmplY3R9IGRlc3RpbmF0aW9uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGRlc3RpbmF0aW9uLmhlaWdodCBuYXR1cmFsIHVuc2NhbGVkIGhlaWdodCBvZiB0aGUgb2JqZWN0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGRlc3RpbmF0aW9uLndpZHRoIG5hdHVyYWwgdW5zY2FsZWQgd2lkdGggb2YgdGhlIG9iamVjdFxuICAgICAqIEByZXR1cm4ge051bWJlcn0gc2NhbGUgZmFjdG9yIHRvIGFwcGx5IHRvIHNvdXJjZSB0byBmaXQgaW50byBkZXN0aW5hdGlvblxuICAgICAqL1xuICAgIGZpbmRTY2FsZVRvRml0OiBmdW5jdGlvbihzb3VyY2UsIGRlc3RpbmF0aW9uKSB7XG4gICAgICByZXR1cm4gTWF0aC5taW4oZGVzdGluYXRpb24ud2lkdGggLyBzb3VyY2Uud2lkdGgsIGRlc3RpbmF0aW9uLmhlaWdodCAvIHNvdXJjZS5oZWlnaHQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBGaW5kcyB0aGUgc2NhbGUgZm9yIHRoZSBvYmplY3Qgc291cmNlIHRvIGNvdmVyIGVudGlyZWx5IHRoZSBvYmplY3QgZGVzdGluYXRpb24sXG4gICAgICoga2VlcGluZyBhc3BlY3QgcmF0aW8gaW50YWN0LlxuICAgICAqIHJlc3BlY3QgdGhlIHRvdGFsIGFsbG93ZWQgYXJlYSBmb3IgdGhlIGNhY2hlLlxuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0IHwgZmFicmljLk9iamVjdH0gc291cmNlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNvdXJjZS5oZWlnaHQgbmF0dXJhbCB1bnNjYWxlZCBoZWlnaHQgb2YgdGhlIG9iamVjdFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzb3VyY2Uud2lkdGggbmF0dXJhbCB1bnNjYWxlZCB3aWR0aCBvZiB0aGUgb2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3QgfCBmYWJyaWMuT2JqZWN0fSBkZXN0aW5hdGlvblxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBkZXN0aW5hdGlvbi5oZWlnaHQgbmF0dXJhbCB1bnNjYWxlZCBoZWlnaHQgb2YgdGhlIG9iamVjdFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBkZXN0aW5hdGlvbi53aWR0aCBuYXR1cmFsIHVuc2NhbGVkIHdpZHRoIG9mIHRoZSBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IHNjYWxlIGZhY3RvciB0byBhcHBseSB0byBzb3VyY2UgdG8gY292ZXIgZGVzdGluYXRpb25cbiAgICAgKi9cbiAgICBmaW5kU2NhbGVUb0NvdmVyOiBmdW5jdGlvbihzb3VyY2UsIGRlc3RpbmF0aW9uKSB7XG4gICAgICByZXR1cm4gTWF0aC5tYXgoZGVzdGluYXRpb24ud2lkdGggLyBzb3VyY2Uud2lkdGgsIGRlc3RpbmF0aW9uLmhlaWdodCAvIHNvdXJjZS5oZWlnaHQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBnaXZlbiBhbiBhcnJheSBvZiA2IG51bWJlciByZXR1cm5zIHNvbWV0aGluZyBsaWtlIGBcIm1hdHJpeCguLi5udW1iZXJzKVwiYFxuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHRyYW5zZm9ybSBhbiBhcnJheSB3aXRoIDYgbnVtYmVyc1xuICAgICAqIEByZXR1cm4ge1N0cmluZ30gdHJhbnNmb3JtIG1hdHJpeCBmb3Igc3ZnXG4gICAgICogQHJldHVybiB7T2JqZWN0Lnl9IExpbWl0ZWQgZGltZW5zaW9ucyBieSBZXG4gICAgICovXG4gICAgbWF0cml4VG9TVkc6IGZ1bmN0aW9uKHRyYW5zZm9ybSkge1xuICAgICAgcmV0dXJuICdtYXRyaXgoJyArIHRyYW5zZm9ybS5tYXAoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGZhYnJpYy51dGlsLnRvRml4ZWQodmFsdWUsIGZhYnJpYy5PYmplY3QuTlVNX0ZSQUNUSU9OX0RJR0lUUyk7XG4gICAgICB9KS5qb2luKCcgJykgKyAnKSc7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGdpdmVuIGFuIG9iamVjdCBhbmQgYSB0cmFuc2Zvcm0sIGFwcGx5IHRoZSBpbnZlcnNlIHRyYW5zZm9ybSB0byB0aGUgb2JqZWN0LFxuICAgICAqIHRoaXMgaXMgZXF1aXZhbGVudCB0byByZW1vdmUgZnJvbSB0aGF0IG9iamVjdCB0aGF0IHRyYW5zZm9ybWF0aW9uLCBzbyB0aGF0XG4gICAgICogYWRkZWQgaW4gYSBzcGFjZSB3aXRoIHRoZSByZW1vdmVkIHRyYW5zZm9ybSwgdGhlIG9iamVjdCB3aWxsIGJlIHRoZSBzYW1lIGFzIGJlZm9yZS5cbiAgICAgKiBSZW1vdmluZyBmcm9tIGFuIG9iamVjdCBhIHRyYW5zZm9ybSB0aGF0IHNjYWxlIGJ5IDIgaXMgbGlrZSBzY2FsaW5nIGl0IGJ5IDEvMi5cbiAgICAgKiBSZW1vdmluZyBmcm9tIGFuIG9iamVjdCBhIHRyYW5zZnJvbSB0aGF0IHJvdGF0ZSBieSAzMGRlZyBpcyBsaWtlIHJvdGF0aW5nIGJ5IDMwZGVnXG4gICAgICogaW4gdGhlIG9wcG9zaXRlIGRpcmVjdGlvbi5cbiAgICAgKiBUaGlzIHV0aWwgaXMgdXNlZCB0byBhZGQgb2JqZWN0cyBpbnNpZGUgdHJhbnNmb3JtZWQgZ3JvdXBzIG9yIG5lc3RlZCBncm91cHMuXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmplY3QgdGhlIG9iamVjdCB5b3Ugd2FudCB0byB0cmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB0cmFuc2Zvcm0gdGhlIGRlc3RpbmF0aW9uIHRyYW5zZm9ybVxuICAgICAqL1xuICAgIHJlbW92ZVRyYW5zZm9ybUZyb21PYmplY3Q6IGZ1bmN0aW9uKG9iamVjdCwgdHJhbnNmb3JtKSB7XG4gICAgICB2YXIgaW52ZXJ0ZWQgPSBmYWJyaWMudXRpbC5pbnZlcnRUcmFuc2Zvcm0odHJhbnNmb3JtKSxcbiAgICAgICAgICBmaW5hbFRyYW5zZm9ybSA9IGZhYnJpYy51dGlsLm11bHRpcGx5VHJhbnNmb3JtTWF0cmljZXMoaW52ZXJ0ZWQsIG9iamVjdC5jYWxjT3duTWF0cml4KCkpO1xuICAgICAgZmFicmljLnV0aWwuYXBwbHlUcmFuc2Zvcm1Ub09iamVjdChvYmplY3QsIGZpbmFsVHJhbnNmb3JtKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZ2l2ZW4gYW4gb2JqZWN0IGFuZCBhIHRyYW5zZm9ybSwgYXBwbHkgdGhlIHRyYW5zZm9ybSB0byB0aGUgb2JqZWN0LlxuICAgICAqIHRoaXMgaXMgZXF1aXZhbGVudCB0byBjaGFuZ2UgdGhlIHNwYWNlIHdoZXJlIHRoZSBvYmplY3QgaXMgZHJhd24uXG4gICAgICogQWRkaW5nIHRvIGFuIG9iamVjdCBhIHRyYW5zZm9ybSB0aGF0IHNjYWxlIGJ5IDIgaXMgbGlrZSBzY2FsaW5nIGl0IGJ5IDIuXG4gICAgICogVGhpcyBpcyB1c2VkIHdoZW4gcmVtb3ZpbmcgYW4gb2JqZWN0IGZyb20gYW4gYWN0aXZlIHNlbGVjdGlvbiBmb3IgZXhhbXBsZS5cbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IG9iamVjdCB0aGUgb2JqZWN0IHlvdSB3YW50IHRvIHRyYW5zZm9ybVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHRyYW5zZm9ybSB0aGUgZGVzdGluYXRpb24gdHJhbnNmb3JtXG4gICAgICovXG4gICAgYWRkVHJhbnNmb3JtVG9PYmplY3Q6IGZ1bmN0aW9uKG9iamVjdCwgdHJhbnNmb3JtKSB7XG4gICAgICBmYWJyaWMudXRpbC5hcHBseVRyYW5zZm9ybVRvT2JqZWN0KFxuICAgICAgICBvYmplY3QsXG4gICAgICAgIGZhYnJpYy51dGlsLm11bHRpcGx5VHJhbnNmb3JtTWF0cmljZXModHJhbnNmb3JtLCBvYmplY3QuY2FsY093bk1hdHJpeCgpKVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZGlzY2FyZCBhbiBvYmplY3QgdHJhbnNmb3JtIHN0YXRlIGFuZCBhcHBseSB0aGUgb25lIGZyb20gdGhlIG1hdHJpeC5cbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IG9iamVjdCB0aGUgb2JqZWN0IHlvdSB3YW50IHRvIHRyYW5zZm9ybVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHRyYW5zZm9ybSB0aGUgZGVzdGluYXRpb24gdHJhbnNmb3JtXG4gICAgICovXG4gICAgYXBwbHlUcmFuc2Zvcm1Ub09iamVjdDogZnVuY3Rpb24ob2JqZWN0LCB0cmFuc2Zvcm0pIHtcbiAgICAgIHZhciBvcHRpb25zID0gZmFicmljLnV0aWwucXJEZWNvbXBvc2UodHJhbnNmb3JtKSxcbiAgICAgICAgICBjZW50ZXIgPSBuZXcgZmFicmljLlBvaW50KG9wdGlvbnMudHJhbnNsYXRlWCwgb3B0aW9ucy50cmFuc2xhdGVZKTtcbiAgICAgIG9iamVjdC5mbGlwWCA9IGZhbHNlO1xuICAgICAgb2JqZWN0LmZsaXBZID0gZmFsc2U7XG4gICAgICBvYmplY3Quc2V0KCdzY2FsZVgnLCBvcHRpb25zLnNjYWxlWCk7XG4gICAgICBvYmplY3Quc2V0KCdzY2FsZVknLCBvcHRpb25zLnNjYWxlWSk7XG4gICAgICBvYmplY3Quc2tld1ggPSBvcHRpb25zLnNrZXdYO1xuICAgICAgb2JqZWN0LnNrZXdZID0gb3B0aW9ucy5za2V3WTtcbiAgICAgIG9iamVjdC5hbmdsZSA9IG9wdGlvbnMuYW5nbGU7XG4gICAgICBvYmplY3Quc2V0UG9zaXRpb25CeU9yaWdpbihjZW50ZXIsICdjZW50ZXInLCAnY2VudGVyJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGdpdmVuIGEgd2lkdGggYW5kIGhlaWdodCwgcmV0dXJuIHRoZSBzaXplIG9mIHRoZSBib3VuZGluZyBib3hcbiAgICAgKiB0aGF0IGNhbiBjb250YWlucyB0aGUgYm94IHdpdGggd2lkdGgvaGVpZ2h0IHdpdGggYXBwbGllZCB0cmFuc2Zvcm1cbiAgICAgKiBkZXNjcmliZWQgaW4gb3B0aW9ucy5cbiAgICAgKiBVc2UgdG8gY2FsY3VsYXRlIHRoZSBib3hlcyBhcm91bmQgb2JqZWN0cyBmb3IgY29udHJvbHMuXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHdpZHRoXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGhlaWdodFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG9wdGlvbnMuc2NhbGVYXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG9wdGlvbnMuc2NhbGVZXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG9wdGlvbnMuc2tld1hcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gb3B0aW9ucy5za2V3WVxuICAgICAqIEByZXR1cm4ge09iamVjdC54fSB3aWR0aCBvZiBjb250YWluaW5nXG4gICAgICogQHJldHVybiB7T2JqZWN0Lnl9IGhlaWdodCBvZiBjb250YWluaW5nXG4gICAgICovXG4gICAgc2l6ZUFmdGVyVHJhbnNmb3JtOiBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKSB7XG4gICAgICB2YXIgZGltWCA9IHdpZHRoIC8gMiwgZGltWSA9IGhlaWdodCAvIDIsXG4gICAgICAgICAgcG9pbnRzID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB4OiAtZGltWCxcbiAgICAgICAgICAgICAgeTogLWRpbVlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHg6IGRpbVgsXG4gICAgICAgICAgICAgIHk6IC1kaW1ZXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB4OiAtZGltWCxcbiAgICAgICAgICAgICAgeTogZGltWVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgeDogZGltWCxcbiAgICAgICAgICAgICAgeTogZGltWVxuICAgICAgICAgICAgfV0sXG4gICAgICAgICAgdHJhbnNmb3JtTWF0cml4ID0gZmFicmljLnV0aWwuY2FsY0RpbWVuc2lvbnNNYXRyaXgob3B0aW9ucyksXG4gICAgICAgICAgYmJveCA9IGZhYnJpYy51dGlsLm1ha2VCb3VuZGluZ0JveEZyb21Qb2ludHMocG9pbnRzLCB0cmFuc2Zvcm1NYXRyaXgpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDogYmJveC53aWR0aCxcbiAgICAgICAgeTogYmJveC5oZWlnaHQsXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNZXJnZXMgMiBjbGlwIHBhdGhzIGludG8gb25lIHZpc3VhbGx5IGVxdWFsIGNsaXAgcGF0aFxuICAgICAqXG4gICAgICogKipJTVBPUlRBTlQqKjpcXFxuICAgICAqIERvZXMgKipOT1QqKiBjbG9uZSB0aGUgYXJndW1lbnRzLCBjbG9uZSB0aGVtIHByb2lyIGlmIG5lY2Vzc2FyeS5cbiAgICAgKlxuICAgICAqIENyZWF0ZXMgYSB3cmFwcGVyIChncm91cCkgdGhhdCBjb250YWlucyBvbmUgY2xpcCBwYXRoIGFuZCBpcyBjbGlwcGVkIGJ5IHRoZSBvdGhlciBzbyBjb250ZW50IGlzIGtlcHQgd2hlcmUgYm90aCBvdmVybGFwLlxuICAgICAqIFVzZSB0aGlzIG1ldGhvZCBpZiBib3RoIHRoZSBjbGlwIHBhdGhzIG1heSBoYXZlIG5lc3RlZCBjbGlwIHBhdGhzIG9mIHRoZWlyIG93biwgc28gYXNzaWduaW5nIG9uZSB0byB0aGUgb3RoZXIncyBjbGlwIHBhdGggcHJvcGVydHkgaXMgbm90IHBvc3NpYmxlLlxuICAgICAqXG4gICAgICogSW4gb3JkZXIgdG8gaGFuZGxlIHRoZSBgaW52ZXJ0ZWRgIHByb3BlcnR5IHdlIGZvbGxvdyBsb2dpYyBkZXNjcmliZWQgaW4gdGhlIGZvbGxvd2luZyBjYXNlczpcXFxuICAgICAqICoqKDEpKiogYm90aCBjbGlwIHBhdGhzIGFyZSBpbnZlcnRlZCAtIHRoZSBjbGlwIHBhdGhzIHBhc3MgdGhlIGludmVydGVkIHByb3AgdG8gdGhlIHdyYXBwZXIgYW5kIGxvb3NlIGl0IHRoZW1zZWx2ZXMuXFxcbiAgICAgKiAqKigyKSoqIG9uZSBpcyBpbnZlcnRlZCBhbmQgdGhlIG90aGVyIGlzbid0IC0gdGhlIHdyYXBwZXIgc2hvdWxkbid0IGJlY29tZSBpbnZlcnRlZCBhbmQgdGhlIGludmVydGVkIGNsaXAgcGF0aCBtdXN0IGNsaXAgdGhlIG5vbiBpbnZlcnRlZCBvbmUgdG8gcHJvZHVjZSBhbiBpZGVudGljYWwgdmlzdWFsIGVmZmVjdC5cXFxuICAgICAqICoqKDMpKiogYm90aCBjbGlwIHBhdGhzIGFyZSBub3QgaW52ZXJ0ZWQgLSB3cmFwcGVyIGFuZCBjbGlwIHBhdGhzIHJlbWFpbiB1bmNoYW5nZWQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IGMxXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBjMlxuICAgICAqIEByZXR1cm5zIHtmYWJyaWMuT2JqZWN0fSBtZXJnZWQgY2xpcCBwYXRoXG4gICAgICovXG4gICAgbWVyZ2VDbGlwUGF0aHM6IGZ1bmN0aW9uIChjMSwgYzIpIHtcbiAgICAgIHZhciBhID0gYzEsIGIgPSBjMjtcbiAgICAgIGlmIChhLmludmVydGVkICYmICFiLmludmVydGVkKSB7XG4gICAgICAgIC8vICBjYXNlICgyKVxuICAgICAgICBhID0gYzI7XG4gICAgICAgIGIgPSBjMTtcbiAgICAgIH1cbiAgICAgIC8vICBgYmAgYmVjb21lcyBgYWAncyBjbGlwIHBhdGggc28gd2UgdHJhbnNmb3JtIGBiYCB0byBgYWAgY29vcmRpbmF0ZSBwbGFuZVxuICAgICAgZmFicmljLnV0aWwuYXBwbHlUcmFuc2Zvcm1Ub09iamVjdChcbiAgICAgICAgYixcbiAgICAgICAgZmFicmljLnV0aWwubXVsdGlwbHlUcmFuc2Zvcm1NYXRyaWNlcyhcbiAgICAgICAgICBmYWJyaWMudXRpbC5pbnZlcnRUcmFuc2Zvcm0oYS5jYWxjVHJhbnNmb3JtTWF0cml4KCkpLFxuICAgICAgICAgIGIuY2FsY1RyYW5zZm9ybU1hdHJpeCgpXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgICAvLyAgYXNzaWduIHRoZSBgaW52ZXJ0ZWRgIHByb3AgdG8gdGhlIHdyYXBwaW5nIGdyb3VwXG4gICAgICB2YXIgaW52ZXJ0ZWQgPSBhLmludmVydGVkICYmIGIuaW52ZXJ0ZWQ7XG4gICAgICBpZiAoaW52ZXJ0ZWQpIHtcbiAgICAgICAgLy8gIGNhc2UgKDEpXG4gICAgICAgIGEuaW52ZXJ0ZWQgPSBiLmludmVydGVkID0gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IGZhYnJpYy5Hcm91cChbYV0sIHsgY2xpcFBhdGg6IGIsIGludmVydGVkOiBpbnZlcnRlZCB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByZXZTdHlsZSBmaXJzdCBzdHlsZSB0byBjb21wYXJlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHRoaXNTdHlsZSBzZWNvbmQgc3R5bGUgdG8gY29tcGFyZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZm9yVGV4dFNwYW5zIHdoZXRoZXIgdG8gY2hlY2sgb3ZlcmxpbmUsIHVuZGVybGluZSwgYW5kIGxpbmUtdGhyb3VnaCBwcm9wZXJ0aWVzXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgc3R5bGUgY2hhbmdlZFxuICAgICAqL1xuICAgIGhhc1N0eWxlQ2hhbmdlZDogZnVuY3Rpb24ocHJldlN0eWxlLCB0aGlzU3R5bGUsIGZvclRleHRTcGFucykge1xuICAgICAgZm9yVGV4dFNwYW5zID0gZm9yVGV4dFNwYW5zIHx8IGZhbHNlO1xuICAgICAgcmV0dXJuIChwcmV2U3R5bGUuZmlsbCAhPT0gdGhpc1N0eWxlLmZpbGwgfHxcbiAgICAgICAgICAgICAgcHJldlN0eWxlLnN0cm9rZSAhPT0gdGhpc1N0eWxlLnN0cm9rZSB8fFxuICAgICAgICAgICAgICBwcmV2U3R5bGUuc3Ryb2tlV2lkdGggIT09IHRoaXNTdHlsZS5zdHJva2VXaWR0aCB8fFxuICAgICAgICAgICAgICBwcmV2U3R5bGUuZm9udFNpemUgIT09IHRoaXNTdHlsZS5mb250U2l6ZSB8fFxuICAgICAgICAgICAgICBwcmV2U3R5bGUuZm9udEZhbWlseSAhPT0gdGhpc1N0eWxlLmZvbnRGYW1pbHkgfHxcbiAgICAgICAgICAgICAgcHJldlN0eWxlLmZvbnRXZWlnaHQgIT09IHRoaXNTdHlsZS5mb250V2VpZ2h0IHx8XG4gICAgICAgICAgICAgIHByZXZTdHlsZS5mb250U3R5bGUgIT09IHRoaXNTdHlsZS5mb250U3R5bGUgfHxcbiAgICAgICAgICAgICAgcHJldlN0eWxlLnRleHRCYWNrZ3JvdW5kQ29sb3IgIT09IHRoaXNTdHlsZS50ZXh0QmFja2dyb3VuZENvbG9yIHx8XG4gICAgICAgICAgICAgIHByZXZTdHlsZS5kZWx0YVkgIT09IHRoaXNTdHlsZS5kZWx0YVkpIHx8XG4gICAgICAgICAgICAgIChmb3JUZXh0U3BhbnMgJiZcbiAgICAgICAgICAgICAgICAocHJldlN0eWxlLm92ZXJsaW5lICE9PSB0aGlzU3R5bGUub3ZlcmxpbmUgfHxcbiAgICAgICAgICAgICAgICBwcmV2U3R5bGUudW5kZXJsaW5lICE9PSB0aGlzU3R5bGUudW5kZXJsaW5lIHx8XG4gICAgICAgICAgICAgICAgcHJldlN0eWxlLmxpbmV0aHJvdWdoICE9PSB0aGlzU3R5bGUubGluZXRocm91Z2gpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgYXJyYXkgZm9ybSBvZiBhIHRleHQgb2JqZWN0J3MgaW5saW5lIHN0eWxlcyBwcm9wZXJ0eSB3aXRoIHN0eWxlcyBncm91cGVkIGluIHJhbmdlc1xuICAgICAqIHJhdGhlciB0aGFuIHBlciBjaGFyYWN0ZXIuIFRoaXMgZm9ybWF0IGlzIGxlc3MgdmVyYm9zZSwgYW5kIGlzIGJldHRlciBzdWl0ZWQgZm9yIHN0b3JhZ2VcbiAgICAgKiBzbyBpdCBpcyB1c2VkIGluIHNlcmlhbGl6YXRpb24gKG5vdCBkdXJpbmcgcnVudGltZSkuXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHN0eWxlcyBwZXIgY2hhcmFjdGVyIHN0eWxlcyBmb3IgYSB0ZXh0IG9iamVjdFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0IHRoZSB0ZXh0IHN0cmluZyB0aGF0IHRoZSBzdHlsZXMgYXJlIGFwcGxpZWQgdG9cbiAgICAgKiBAcmV0dXJuIHt7c3RhcnQ6IG51bWJlciwgZW5kOiBudW1iZXIsIHN0eWxlOiBvYmplY3R9W119XG4gICAgICovXG4gICAgc3R5bGVzVG9BcnJheTogZnVuY3Rpb24oc3R5bGVzLCB0ZXh0KSB7XG4gICAgICAvLyBjbG9uZSBzdHlsZSBzdHJ1Y3R1cmUgdG8gcHJldmVudCBtdXRhdGlvblxuICAgICAgdmFyIHN0eWxlcyA9IGZhYnJpYy51dGlsLm9iamVjdC5jbG9uZShzdHlsZXMsIHRydWUpLFxuICAgICAgICAgIHRleHRMaW5lcyA9IHRleHQuc3BsaXQoJ1xcbicpLFxuICAgICAgICAgIGNoYXJJbmRleCA9IC0xLCBwcmV2U3R5bGUgPSB7fSwgc3R5bGVzQXJyYXkgPSBbXTtcbiAgICAgIC8vbG9vcCB0aHJvdWdoIGVhY2ggdGV4dExpbmVcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGV4dExpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghc3R5bGVzW2ldKSB7XG4gICAgICAgICAgLy9ubyBzdHlsZXMgZXhpc3QgZm9yIHRoaXMgbGluZSwgc28gYWRkIHRoZSBsaW5lJ3MgbGVuZ3RoIHRvIHRoZSBjaGFySW5kZXggdG90YWxcbiAgICAgICAgICBjaGFySW5kZXggKz0gdGV4dExpbmVzW2ldLmxlbmd0aDtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvL2xvb3AgdGhyb3VnaCBlYWNoIGNoYXJhY3RlciBvZiB0aGUgY3VycmVudCBsaW5lXG4gICAgICAgIGZvciAodmFyIGMgPSAwOyBjIDwgdGV4dExpbmVzW2ldLmxlbmd0aDsgYysrKSB7XG4gICAgICAgICAgY2hhckluZGV4Kys7XG4gICAgICAgICAgdmFyIHRoaXNTdHlsZSA9IHN0eWxlc1tpXVtjXTtcbiAgICAgICAgICAvL2NoZWNrIGlmIHN0eWxlIGV4aXN0cyBmb3IgdGhpcyBjaGFyYWN0ZXJcbiAgICAgICAgICBpZiAodGhpc1N0eWxlICYmIE9iamVjdC5rZXlzKHRoaXNTdHlsZSkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdmFyIHN0eWxlQ2hhbmdlZCA9IGZhYnJpYy51dGlsLmhhc1N0eWxlQ2hhbmdlZChwcmV2U3R5bGUsIHRoaXNTdHlsZSwgdHJ1ZSk7XG4gICAgICAgICAgICBpZiAoc3R5bGVDaGFuZ2VkKSB7XG4gICAgICAgICAgICAgIHN0eWxlc0FycmF5LnB1c2goe1xuICAgICAgICAgICAgICAgIHN0YXJ0OiBjaGFySW5kZXgsXG4gICAgICAgICAgICAgICAgZW5kOiBjaGFySW5kZXggKyAxLFxuICAgICAgICAgICAgICAgIHN0eWxlOiB0aGlzU3R5bGVcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgLy9pZiBzdHlsZSBpcyB0aGUgc2FtZSBhcyBwcmV2aW91cyBjaGFyYWN0ZXIsIGluY3JlYXNlIGVuZCBpbmRleFxuICAgICAgICAgICAgICBzdHlsZXNBcnJheVtzdHlsZXNBcnJheS5sZW5ndGggLSAxXS5lbmQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcHJldlN0eWxlID0gdGhpc1N0eWxlIHx8IHt9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gc3R5bGVzQXJyYXk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG9iamVjdCBmb3JtIG9mIHRoZSBzdHlsZXMgcHJvcGVydHkgd2l0aCBzdHlsZXMgdGhhdCBhcmUgYXNzaWduZWQgcGVyXG4gICAgICogY2hhcmFjdGVyIHJhdGhlciB0aGFuIGdyb3VwZWQgYnkgcmFuZ2UuIFRoaXMgZm9ybWF0IGlzIG1vcmUgdmVyYm9zZSwgYW5kIGlzXG4gICAgICogb25seSB1c2VkIGR1cmluZyBydW50aW1lIChub3QgZm9yIHNlcmlhbGl6YXRpb24vc3RvcmFnZSlcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBzdHlsZXMgdGhlIHNlcmlhbGl6ZWQgZm9ybSBvZiBhIHRleHQgb2JqZWN0J3Mgc3R5bGVzXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHRleHQgdGhlIHRleHQgc3RyaW5nIHRoYXQgdGhlIHN0eWxlcyBhcmUgYXBwbGllZCB0b1xuICAgICAqIEByZXR1cm4ge09iamVjdH1cbiAgICAgKi9cbiAgICBzdHlsZXNGcm9tQXJyYXk6IGZ1bmN0aW9uKHN0eWxlcywgdGV4dCkge1xuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHN0eWxlcykpIHtcbiAgICAgICAgcmV0dXJuIHN0eWxlcztcbiAgICAgIH1cbiAgICAgIHZhciB0ZXh0TGluZXMgPSB0ZXh0LnNwbGl0KCdcXG4nKSxcbiAgICAgICAgICBjaGFySW5kZXggPSAtMSwgc3R5bGVJbmRleCA9IDAsIHN0eWxlc09iamVjdCA9IHt9O1xuICAgICAgLy9sb29wIHRocm91Z2ggZWFjaCB0ZXh0TGluZVxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0TGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy9sb29wIHRocm91Z2ggZWFjaCBjaGFyYWN0ZXIgb2YgdGhlIGN1cnJlbnQgbGluZVxuICAgICAgICBmb3IgKHZhciBjID0gMDsgYyA8IHRleHRMaW5lc1tpXS5sZW5ndGg7IGMrKykge1xuICAgICAgICAgIGNoYXJJbmRleCsrO1xuICAgICAgICAgIC8vY2hlY2sgaWYgdGhlcmUncyBhIHN0eWxlIGNvbGxlY3Rpb24gdGhhdCBpbmNsdWRlcyB0aGUgY3VycmVudCBjaGFyYWN0ZXJcbiAgICAgICAgICBpZiAoc3R5bGVzW3N0eWxlSW5kZXhdXG4gICAgICAgICAgICAmJiBzdHlsZXNbc3R5bGVJbmRleF0uc3RhcnQgPD0gY2hhckluZGV4XG4gICAgICAgICAgICAmJiBjaGFySW5kZXggPCBzdHlsZXNbc3R5bGVJbmRleF0uZW5kKSB7XG4gICAgICAgICAgICAvL2NyZWF0ZSBvYmplY3QgZm9yIGxpbmUgaW5kZXggaWYgaXQgZG9lc24ndCBleGlzdFxuICAgICAgICAgICAgc3R5bGVzT2JqZWN0W2ldID0gc3R5bGVzT2JqZWN0W2ldIHx8IHt9O1xuICAgICAgICAgICAgLy9hc3NpZ24gYSBzdHlsZSBhdCB0aGlzIGNoYXJhY3RlcidzIGluZGV4XG4gICAgICAgICAgICBzdHlsZXNPYmplY3RbaV1bY10gPSBPYmplY3QuYXNzaWduKHt9LCBzdHlsZXNbc3R5bGVJbmRleF0uc3R5bGUpO1xuICAgICAgICAgICAgLy9pZiBjaGFyYWN0ZXIgaXMgYXQgdGhlIGVuZCBvZiB0aGUgY3VycmVudCBzdHlsZSBjb2xsZWN0aW9uLCBtb3ZlIHRvIHRoZSBuZXh0XG4gICAgICAgICAgICBpZiAoY2hhckluZGV4ID09PSBzdHlsZXNbc3R5bGVJbmRleF0uZW5kIC0gMSkge1xuICAgICAgICAgICAgICBzdHlsZUluZGV4Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gc3R5bGVzT2JqZWN0O1xuICAgIH1cbiAgfTtcbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBfam9pbiA9IEFycmF5LnByb3RvdHlwZS5qb2luLFxuICAgICAgY29tbWFuZExlbmd0aHMgPSB7XG4gICAgICAgIG06IDIsXG4gICAgICAgIGw6IDIsXG4gICAgICAgIGg6IDEsXG4gICAgICAgIHY6IDEsXG4gICAgICAgIGM6IDYsXG4gICAgICAgIHM6IDQsXG4gICAgICAgIHE6IDQsXG4gICAgICAgIHQ6IDIsXG4gICAgICAgIGE6IDdcbiAgICAgIH0sXG4gICAgICByZXBlYXRlZENvbW1hbmRzID0ge1xuICAgICAgICBtOiAnbCcsXG4gICAgICAgIE06ICdMJ1xuICAgICAgfTtcbiAgZnVuY3Rpb24gc2VnbWVudFRvQmV6aWVyKHRoMiwgdGgzLCBjb3NUaCwgc2luVGgsIHJ4LCByeSwgY3gxLCBjeTEsIG1ULCBmcm9tWCwgZnJvbVkpIHtcbiAgICB2YXIgY29zdGgyID0gZmFicmljLnV0aWwuY29zKHRoMiksXG4gICAgICAgIHNpbnRoMiA9IGZhYnJpYy51dGlsLnNpbih0aDIpLFxuICAgICAgICBjb3N0aDMgPSBmYWJyaWMudXRpbC5jb3ModGgzKSxcbiAgICAgICAgc2ludGgzID0gZmFicmljLnV0aWwuc2luKHRoMyksXG4gICAgICAgIHRvWCA9IGNvc1RoICogcnggKiBjb3N0aDMgLSBzaW5UaCAqIHJ5ICogc2ludGgzICsgY3gxLFxuICAgICAgICB0b1kgPSBzaW5UaCAqIHJ4ICogY29zdGgzICsgY29zVGggKiByeSAqIHNpbnRoMyArIGN5MSxcbiAgICAgICAgY3AxWCA9IGZyb21YICsgbVQgKiAoIC1jb3NUaCAqIHJ4ICogc2ludGgyIC0gc2luVGggKiByeSAqIGNvc3RoMiksXG4gICAgICAgIGNwMVkgPSBmcm9tWSArIG1UICogKCAtc2luVGggKiByeCAqIHNpbnRoMiArIGNvc1RoICogcnkgKiBjb3N0aDIpLFxuICAgICAgICBjcDJYID0gdG9YICsgbVQgKiAoIGNvc1RoICogcnggKiBzaW50aDMgKyBzaW5UaCAqIHJ5ICogY29zdGgzKSxcbiAgICAgICAgY3AyWSA9IHRvWSArIG1UICogKCBzaW5UaCAqIHJ4ICogc2ludGgzIC0gY29zVGggKiByeSAqIGNvc3RoMyk7XG5cbiAgICByZXR1cm4gWydDJyxcbiAgICAgIGNwMVgsIGNwMVksXG4gICAgICBjcDJYLCBjcDJZLFxuICAgICAgdG9YLCB0b1lcbiAgICBdO1xuICB9XG5cbiAgLyogQWRhcHRlZCBmcm9tIGh0dHA6Ly9keHIubW96aWxsYS5vcmcvbW96aWxsYS1jZW50cmFsL3NvdXJjZS9jb250ZW50L3N2Zy9jb250ZW50L3NyYy9uc1NWR1BhdGhEYXRhUGFyc2VyLmNwcFxuICAgKiBieSBBbmRyZWEgQm9nYXp6aSBjb2RlIGlzIHVuZGVyIE1QTC4gaWYgeW91IGRvbid0IGhhdmUgYSBjb3B5IG9mIHRoZSBsaWNlbnNlIHlvdSBjYW4gdGFrZSBpdCBoZXJlXG4gICAqIGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wL1xuICAgKi9cbiAgZnVuY3Rpb24gYXJjVG9TZWdtZW50cyh0b1gsIHRvWSwgcngsIHJ5LCBsYXJnZSwgc3dlZXAsIHJvdGF0ZVgpIHtcbiAgICB2YXIgUEkgPSBNYXRoLlBJLCB0aCA9IHJvdGF0ZVggKiBQSSAvIDE4MCxcbiAgICAgICAgc2luVGggPSBmYWJyaWMudXRpbC5zaW4odGgpLFxuICAgICAgICBjb3NUaCA9IGZhYnJpYy51dGlsLmNvcyh0aCksXG4gICAgICAgIGZyb21YID0gMCwgZnJvbVkgPSAwO1xuXG4gICAgcnggPSBNYXRoLmFicyhyeCk7XG4gICAgcnkgPSBNYXRoLmFicyhyeSk7XG5cbiAgICB2YXIgcHggPSAtY29zVGggKiB0b1ggKiAwLjUgLSBzaW5UaCAqIHRvWSAqIDAuNSxcbiAgICAgICAgcHkgPSAtY29zVGggKiB0b1kgKiAwLjUgKyBzaW5UaCAqIHRvWCAqIDAuNSxcbiAgICAgICAgcngyID0gcnggKiByeCwgcnkyID0gcnkgKiByeSwgcHkyID0gcHkgKiBweSwgcHgyID0gcHggKiBweCxcbiAgICAgICAgcGwgPSByeDIgKiByeTIgLSByeDIgKiBweTIgLSByeTIgKiBweDIsXG4gICAgICAgIHJvb3QgPSAwO1xuXG4gICAgaWYgKHBsIDwgMCkge1xuICAgICAgdmFyIHMgPSBNYXRoLnNxcnQoMSAtIHBsIC8gKHJ4MiAqIHJ5MikpO1xuICAgICAgcnggKj0gcztcbiAgICAgIHJ5ICo9IHM7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcm9vdCA9IChsYXJnZSA9PT0gc3dlZXAgPyAtMS4wIDogMS4wKSAqXG4gICAgICAgICAgICAgIE1hdGguc3FydCggcGwgLyAocngyICogcHkyICsgcnkyICogcHgyKSk7XG4gICAgfVxuXG4gICAgdmFyIGN4ID0gcm9vdCAqIHJ4ICogcHkgLyByeSxcbiAgICAgICAgY3kgPSAtcm9vdCAqIHJ5ICogcHggLyByeCxcbiAgICAgICAgY3gxID0gY29zVGggKiBjeCAtIHNpblRoICogY3kgKyB0b1ggKiAwLjUsXG4gICAgICAgIGN5MSA9IHNpblRoICogY3ggKyBjb3NUaCAqIGN5ICsgdG9ZICogMC41LFxuICAgICAgICBtVGhldGEgPSBjYWxjVmVjdG9yQW5nbGUoMSwgMCwgKHB4IC0gY3gpIC8gcngsIChweSAtIGN5KSAvIHJ5KSxcbiAgICAgICAgZHRoZXRhID0gY2FsY1ZlY3RvckFuZ2xlKChweCAtIGN4KSAvIHJ4LCAocHkgLSBjeSkgLyByeSwgKC1weCAtIGN4KSAvIHJ4LCAoLXB5IC0gY3kpIC8gcnkpO1xuXG4gICAgaWYgKHN3ZWVwID09PSAwICYmIGR0aGV0YSA+IDApIHtcbiAgICAgIGR0aGV0YSAtPSAyICogUEk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHN3ZWVwID09PSAxICYmIGR0aGV0YSA8IDApIHtcbiAgICAgIGR0aGV0YSArPSAyICogUEk7XG4gICAgfVxuXG4gICAgLy8gQ29udmVydCBpbnRvIGN1YmljIGJlemllciBzZWdtZW50cyA8PSA5MGRlZ1xuICAgIHZhciBzZWdtZW50cyA9IE1hdGguY2VpbChNYXRoLmFicyhkdGhldGEgLyBQSSAqIDIpKSxcbiAgICAgICAgcmVzdWx0ID0gW10sIG1EZWx0YSA9IGR0aGV0YSAvIHNlZ21lbnRzLFxuICAgICAgICBtVCA9IDggLyAzICogTWF0aC5zaW4obURlbHRhIC8gNCkgKiBNYXRoLnNpbihtRGVsdGEgLyA0KSAvIE1hdGguc2luKG1EZWx0YSAvIDIpLFxuICAgICAgICB0aDMgPSBtVGhldGEgKyBtRGVsdGE7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlZ21lbnRzOyBpKyspIHtcbiAgICAgIHJlc3VsdFtpXSA9IHNlZ21lbnRUb0JlemllcihtVGhldGEsIHRoMywgY29zVGgsIHNpblRoLCByeCwgcnksIGN4MSwgY3kxLCBtVCwgZnJvbVgsIGZyb21ZKTtcbiAgICAgIGZyb21YID0gcmVzdWx0W2ldWzVdO1xuICAgICAgZnJvbVkgPSByZXN1bHRbaV1bNl07XG4gICAgICBtVGhldGEgPSB0aDM7XG4gICAgICB0aDMgKz0gbURlbHRhO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLypcbiAgICogUHJpdmF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gY2FsY1ZlY3RvckFuZ2xlKHV4LCB1eSwgdngsIHZ5KSB7XG4gICAgdmFyIHRhID0gTWF0aC5hdGFuMih1eSwgdXgpLFxuICAgICAgICB0YiA9IE1hdGguYXRhbjIodnksIHZ4KTtcbiAgICBpZiAodGIgPj0gdGEpIHtcbiAgICAgIHJldHVybiB0YiAtIHRhO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJldHVybiAyICogTWF0aC5QSSAtICh0YSAtIHRiKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlIGJvdW5kaW5nIGJveCBvZiBhIGJlemllcmN1cnZlXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB4MCBzdGFydGluZyBwb2ludFxuICAgKiBAcGFyYW0ge051bWJlcn0geTBcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHgxIGZpcnN0IGNvbnRyb2wgcG9pbnRcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHkxXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB4MiBzZWNvbmRvIGNvbnRyb2wgcG9pbnRcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHkyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB4MyBlbmQgb2YgYmV6aWVyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB5M1xuICAgKi9cbiAgLy8gdGFrZW4gZnJvbSBodHRwOi8vanNiaW4uY29tL2l2b21pcS81Ni9lZGl0ICBubyBjcmVkaXRzIGF2YWlsYWJsZSBmb3IgdGhhdC5cbiAgLy8gVE9ETzogY2FuIHdlIG5vcm1hbGl6ZSB0aGlzIHdpdGggdGhlIHN0YXJ0aW5nIHBvaW50cyBzZXQgYXQgMCBhbmQgdGhlbiB0cmFuc2xhdGVkIHRoZSBiYm94P1xuICBmdW5jdGlvbiBnZXRCb3VuZHNPZkN1cnZlKHgwLCB5MCwgeDEsIHkxLCB4MiwgeTIsIHgzLCB5Mykge1xuICAgIHZhciBhcmdzU3RyaW5nO1xuICAgIGlmIChmYWJyaWMuY2FjaGVzQm91bmRzT2ZDdXJ2ZSkge1xuICAgICAgYXJnc1N0cmluZyA9IF9qb2luLmNhbGwoYXJndW1lbnRzKTtcbiAgICAgIGlmIChmYWJyaWMuYm91bmRzT2ZDdXJ2ZUNhY2hlW2FyZ3NTdHJpbmddKSB7XG4gICAgICAgIHJldHVybiBmYWJyaWMuYm91bmRzT2ZDdXJ2ZUNhY2hlW2FyZ3NTdHJpbmddO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBzcXJ0ID0gTWF0aC5zcXJ0LFxuICAgICAgICBtaW4gPSBNYXRoLm1pbiwgbWF4ID0gTWF0aC5tYXgsXG4gICAgICAgIGFicyA9IE1hdGguYWJzLCB0dmFsdWVzID0gW10sXG4gICAgICAgIGJvdW5kcyA9IFtbXSwgW11dLFxuICAgICAgICBhLCBiLCBjLCB0LCB0MSwgdDIsIGIyYWMsIHNxcnRiMmFjO1xuXG4gICAgYiA9IDYgKiB4MCAtIDEyICogeDEgKyA2ICogeDI7XG4gICAgYSA9IC0zICogeDAgKyA5ICogeDEgLSA5ICogeDIgKyAzICogeDM7XG4gICAgYyA9IDMgKiB4MSAtIDMgKiB4MDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjsgKytpKSB7XG4gICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgYiA9IDYgKiB5MCAtIDEyICogeTEgKyA2ICogeTI7XG4gICAgICAgIGEgPSAtMyAqIHkwICsgOSAqIHkxIC0gOSAqIHkyICsgMyAqIHkzO1xuICAgICAgICBjID0gMyAqIHkxIC0gMyAqIHkwO1xuICAgICAgfVxuXG4gICAgICBpZiAoYWJzKGEpIDwgMWUtMTIpIHtcbiAgICAgICAgaWYgKGFicyhiKSA8IDFlLTEyKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdCA9IC1jIC8gYjtcbiAgICAgICAgaWYgKDAgPCB0ICYmIHQgPCAxKSB7XG4gICAgICAgICAgdHZhbHVlcy5wdXNoKHQpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgYjJhYyA9IGIgKiBiIC0gNCAqIGMgKiBhO1xuICAgICAgaWYgKGIyYWMgPCAwKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgc3FydGIyYWMgPSBzcXJ0KGIyYWMpO1xuICAgICAgdDEgPSAoLWIgKyBzcXJ0YjJhYykgLyAoMiAqIGEpO1xuICAgICAgaWYgKDAgPCB0MSAmJiB0MSA8IDEpIHtcbiAgICAgICAgdHZhbHVlcy5wdXNoKHQxKTtcbiAgICAgIH1cbiAgICAgIHQyID0gKC1iIC0gc3FydGIyYWMpIC8gKDIgKiBhKTtcbiAgICAgIGlmICgwIDwgdDIgJiYgdDIgPCAxKSB7XG4gICAgICAgIHR2YWx1ZXMucHVzaCh0Mik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHgsIHksIGogPSB0dmFsdWVzLmxlbmd0aCwgamxlbiA9IGosIG10O1xuICAgIHdoaWxlIChqLS0pIHtcbiAgICAgIHQgPSB0dmFsdWVzW2pdO1xuICAgICAgbXQgPSAxIC0gdDtcbiAgICAgIHggPSAobXQgKiBtdCAqIG10ICogeDApICsgKDMgKiBtdCAqIG10ICogdCAqIHgxKSArICgzICogbXQgKiB0ICogdCAqIHgyKSArICh0ICogdCAqIHQgKiB4Myk7XG4gICAgICBib3VuZHNbMF1bal0gPSB4O1xuXG4gICAgICB5ID0gKG10ICogbXQgKiBtdCAqIHkwKSArICgzICogbXQgKiBtdCAqIHQgKiB5MSkgKyAoMyAqIG10ICogdCAqIHQgKiB5MikgKyAodCAqIHQgKiB0ICogeTMpO1xuICAgICAgYm91bmRzWzFdW2pdID0geTtcbiAgICB9XG5cbiAgICBib3VuZHNbMF1bamxlbl0gPSB4MDtcbiAgICBib3VuZHNbMV1bamxlbl0gPSB5MDtcbiAgICBib3VuZHNbMF1bamxlbiArIDFdID0geDM7XG4gICAgYm91bmRzWzFdW2psZW4gKyAxXSA9IHkzO1xuICAgIHZhciByZXN1bHQgPSBbXG4gICAgICB7XG4gICAgICAgIHg6IG1pbi5hcHBseShudWxsLCBib3VuZHNbMF0pLFxuICAgICAgICB5OiBtaW4uYXBwbHkobnVsbCwgYm91bmRzWzFdKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgeDogbWF4LmFwcGx5KG51bGwsIGJvdW5kc1swXSksXG4gICAgICAgIHk6IG1heC5hcHBseShudWxsLCBib3VuZHNbMV0pXG4gICAgICB9XG4gICAgXTtcbiAgICBpZiAoZmFicmljLmNhY2hlc0JvdW5kc09mQ3VydmUpIHtcbiAgICAgIGZhYnJpYy5ib3VuZHNPZkN1cnZlQ2FjaGVbYXJnc1N0cmluZ10gPSByZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYXJjIHRvIGEgYnVuY2ggb2YgYmV6aWVyIGN1cnZlc1xuICAgKiBAcGFyYW0ge051bWJlcn0gZnggc3RhcnRpbmcgcG9pbnQgeFxuICAgKiBAcGFyYW0ge051bWJlcn0gZnkgc3RhcnRpbmcgcG9pbnQgeVxuICAgKiBAcGFyYW0ge0FycmF5fSBjb29yZHMgQXJjIGNvbW1hbmRcbiAgICovXG4gIGZ1bmN0aW9uIGZyb21BcmNUb0JlemllcnMoZngsIGZ5LCBjb29yZHMpIHtcbiAgICB2YXIgcnggPSBjb29yZHNbMV0sXG4gICAgICAgIHJ5ID0gY29vcmRzWzJdLFxuICAgICAgICByb3QgPSBjb29yZHNbM10sXG4gICAgICAgIGxhcmdlID0gY29vcmRzWzRdLFxuICAgICAgICBzd2VlcCA9IGNvb3Jkc1s1XSxcbiAgICAgICAgdHggPSBjb29yZHNbNl0sXG4gICAgICAgIHR5ID0gY29vcmRzWzddLFxuICAgICAgICBzZWdzTm9ybSA9IGFyY1RvU2VnbWVudHModHggLSBmeCwgdHkgLSBmeSwgcngsIHJ5LCBsYXJnZSwgc3dlZXAsIHJvdCk7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gc2Vnc05vcm0ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHNlZ3NOb3JtW2ldWzFdICs9IGZ4O1xuICAgICAgc2Vnc05vcm1baV1bMl0gKz0gZnk7XG4gICAgICBzZWdzTm9ybVtpXVszXSArPSBmeDtcbiAgICAgIHNlZ3NOb3JtW2ldWzRdICs9IGZ5O1xuICAgICAgc2Vnc05vcm1baV1bNV0gKz0gZng7XG4gICAgICBzZWdzTm9ybVtpXVs2XSArPSBmeTtcbiAgICB9XG4gICAgcmV0dXJuIHNlZ3NOb3JtO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGlzIGZ1bmN0aW9uIHRha2UgYSBwYXJzZWQgU1ZHIHBhdGggYW5kIG1ha2UgaXQgc2ltcGxlciBmb3IgZmFicmljSlMgbG9naWMuXG4gICAqIHNpbXBsaWZpY2F0aW9uIGNvbnNpc3Qgb2Y6IG9ubHkgVVBQRVJDQVNFIGFic29sdXRlIGNvbW1hbmRzICggcmVsYXRpdmUgY29udmVydGVkIHRvIGFic29sdXRlIClcbiAgICogUyBjb252ZXJ0ZWQgaW4gQywgVCBjb252ZXJ0ZWQgaW4gUSwgQSBjb252ZXJ0ZWQgaW4gQy5cbiAgICogQHBhcmFtIHtBcnJheX0gcGF0aCB0aGUgYXJyYXkgb2YgY29tbWFuZHMgb2YgYSBwYXJzZWQgc3ZnIHBhdGggZm9yIGZhYnJpYy5QYXRoXG4gICAqIEByZXR1cm4ge0FycmF5fSB0aGUgc2ltcGxpZmllZCBhcnJheSBvZiBjb21tYW5kcyBvZiBhIHBhcnNlZCBzdmcgcGF0aCBmb3IgZmFicmljLlBhdGhcbiAgICovXG4gIGZ1bmN0aW9uIG1ha2VQYXRoU2ltcGxlcihwYXRoKSB7XG4gICAgLy8geCBhbmQgeSByZXByZXNlbnQgdGhlIGxhc3QgcG9pbnQgb2YgdGhlIHBhdGguIHRoZSBwcmV2aW91cyBjb21tYW5kIHBvaW50LlxuICAgIC8vIHdlIGFkZCB0aGVtIHRvIGVhY2ggcmVsYXRpdmUgY29tbWFuZCB0byBtYWtlIGl0IGFuIGFic29sdXRlIGNvbW1lbnQuXG4gICAgLy8gd2UgYWxzbyBzd2FwIHRoZSB2IFYgaCBIIHdpdGggTCwgYmVjYXVzZSBhcmUgZWFzaWVyIHRvIHRyYW5zZm9ybS5cbiAgICB2YXIgeCA9IDAsIHkgPSAwLCBsZW4gPSBwYXRoLmxlbmd0aCxcbiAgICAgICAgLy8geDEgYW5kIHkxIHJlcHJlc2VudCB0aGUgbGFzdCBwb2ludCBvZiB0aGUgc3VicGF0aC4gdGhlIHN1YnBhdGggaXMgc3RhcnRlZCB3aXRoXG4gICAgICAgIC8vIG0gb3IgTSBjb21tYW5kLiBXaGVuIGEgeiBvciBaIGNvbW1hbmQgaXMgZHJhd24sIHggYW5kIHkgbmVlZCB0byBiZSByZXNldHRlZCB0b1xuICAgICAgICAvLyB0aGUgbGFzdCB4MSBhbmQgeTEuXG4gICAgICAgIHgxID0gMCwgeTEgPSAwLCBjdXJyZW50LCBpLCBjb252ZXJ0ZWQsXG4gICAgICAgIC8vIHByZXZpb3VzIHdpbGwgaG9zdCB0aGUgbGV0dGVyIG9mIHRoZSBwcmV2aW91cyBjb21tYW5kLCB0byBoYW5kbGUgUyBhbmQgVC5cbiAgICAgICAgLy8gY29udHJvbFggYW5kIGNvbnRyb2xZIHdpbGwgaG9zdCB0aGUgcHJldmlvdXMgcmVmbGVjdGVkIGNvbnRyb2wgcG9pbnRcbiAgICAgICAgZGVzdGluYXRpb25QYXRoID0gW10sIHByZXZpb3VzLCBjb250cm9sWCwgY29udHJvbFk7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICBjb252ZXJ0ZWQgPSBmYWxzZTtcbiAgICAgIGN1cnJlbnQgPSBwYXRoW2ldLnNsaWNlKDApO1xuICAgICAgc3dpdGNoIChjdXJyZW50WzBdKSB7IC8vIGZpcnN0IGxldHRlclxuICAgICAgICBjYXNlICdsJzogLy8gbGluZXRvLCByZWxhdGl2ZVxuICAgICAgICAgIGN1cnJlbnRbMF0gPSAnTCc7XG4gICAgICAgICAgY3VycmVudFsxXSArPSB4O1xuICAgICAgICAgIGN1cnJlbnRbMl0gKz0geTtcbiAgICAgICAgICAvLyBmYWxscyB0aHJvdWdoXG4gICAgICAgIGNhc2UgJ0wnOlxuICAgICAgICAgIHggPSBjdXJyZW50WzFdO1xuICAgICAgICAgIHkgPSBjdXJyZW50WzJdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdoJzogLy8gaG9yaXpvbnRhbCBsaW5ldG8sIHJlbGF0aXZlXG4gICAgICAgICAgY3VycmVudFsxXSArPSB4O1xuICAgICAgICAgIC8vIGZhbGxzIHRocm91Z2hcbiAgICAgICAgY2FzZSAnSCc6XG4gICAgICAgICAgY3VycmVudFswXSA9ICdMJztcbiAgICAgICAgICBjdXJyZW50WzJdID0geTtcbiAgICAgICAgICB4ID0gY3VycmVudFsxXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndic6IC8vIHZlcnRpY2FsIGxpbmV0bywgcmVsYXRpdmVcbiAgICAgICAgICBjdXJyZW50WzFdICs9IHk7XG4gICAgICAgICAgLy8gZmFsbHMgdGhyb3VnaFxuICAgICAgICBjYXNlICdWJzpcbiAgICAgICAgICBjdXJyZW50WzBdID0gJ0wnO1xuICAgICAgICAgIHkgPSBjdXJyZW50WzFdO1xuICAgICAgICAgIGN1cnJlbnRbMV0gPSB4O1xuICAgICAgICAgIGN1cnJlbnRbMl0gPSB5O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdtJzogLy8gbW92ZVRvLCByZWxhdGl2ZVxuICAgICAgICAgIGN1cnJlbnRbMF0gPSAnTSc7XG4gICAgICAgICAgY3VycmVudFsxXSArPSB4O1xuICAgICAgICAgIGN1cnJlbnRbMl0gKz0geTtcbiAgICAgICAgICAvLyBmYWxscyB0aHJvdWdoXG4gICAgICAgIGNhc2UgJ00nOlxuICAgICAgICAgIHggPSBjdXJyZW50WzFdO1xuICAgICAgICAgIHkgPSBjdXJyZW50WzJdO1xuICAgICAgICAgIHgxID0gY3VycmVudFsxXTtcbiAgICAgICAgICB5MSA9IGN1cnJlbnRbMl07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2MnOiAvLyBiZXppZXJDdXJ2ZVRvLCByZWxhdGl2ZVxuICAgICAgICAgIGN1cnJlbnRbMF0gPSAnQyc7XG4gICAgICAgICAgY3VycmVudFsxXSArPSB4O1xuICAgICAgICAgIGN1cnJlbnRbMl0gKz0geTtcbiAgICAgICAgICBjdXJyZW50WzNdICs9IHg7XG4gICAgICAgICAgY3VycmVudFs0XSArPSB5O1xuICAgICAgICAgIGN1cnJlbnRbNV0gKz0geDtcbiAgICAgICAgICBjdXJyZW50WzZdICs9IHk7XG4gICAgICAgICAgLy8gZmFsbHMgdGhyb3VnaFxuICAgICAgICBjYXNlICdDJzpcbiAgICAgICAgICBjb250cm9sWCA9IGN1cnJlbnRbM107XG4gICAgICAgICAgY29udHJvbFkgPSBjdXJyZW50WzRdO1xuICAgICAgICAgIHggPSBjdXJyZW50WzVdO1xuICAgICAgICAgIHkgPSBjdXJyZW50WzZdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdzJzogLy8gc2hvcnRoYW5kIGN1YmljIGJlemllckN1cnZlVG8sIHJlbGF0aXZlXG4gICAgICAgICAgY3VycmVudFswXSA9ICdTJztcbiAgICAgICAgICBjdXJyZW50WzFdICs9IHg7XG4gICAgICAgICAgY3VycmVudFsyXSArPSB5O1xuICAgICAgICAgIGN1cnJlbnRbM10gKz0geDtcbiAgICAgICAgICBjdXJyZW50WzRdICs9IHk7XG4gICAgICAgICAgLy8gZmFsbHMgdGhyb3VnaFxuICAgICAgICBjYXNlICdTJzpcbiAgICAgICAgICAvLyB3b3VsZCBiZSBzU2NDIGJ1dCBzaW5jZSB3ZSBhcmUgc3dhcHBpbmcgc1NjIGZvciBDLCB3ZSBjaGVjayBqdXN0IHRoYXQuXG4gICAgICAgICAgaWYgKHByZXZpb3VzID09PSAnQycpIHtcbiAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSByZWZsZWN0aW9uIG9mIHByZXZpb3VzIGNvbnRyb2wgcG9pbnRzXG4gICAgICAgICAgICBjb250cm9sWCA9IDIgKiB4IC0gY29udHJvbFg7XG4gICAgICAgICAgICBjb250cm9sWSA9IDIgKiB5IC0gY29udHJvbFk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gcHJldmlvdXMgY29tbWFuZCBvciBpZiB0aGUgcHJldmlvdXMgY29tbWFuZCB3YXMgbm90IGEgQywgYywgUywgb3IgcyxcbiAgICAgICAgICAgIC8vIHRoZSBjb250cm9sIHBvaW50IGlzIGNvaW5jaWRlbnQgd2l0aCB0aGUgY3VycmVudCBwb2ludFxuICAgICAgICAgICAgY29udHJvbFggPSB4O1xuICAgICAgICAgICAgY29udHJvbFkgPSB5O1xuICAgICAgICAgIH1cbiAgICAgICAgICB4ID0gY3VycmVudFszXTtcbiAgICAgICAgICB5ID0gY3VycmVudFs0XTtcbiAgICAgICAgICBjdXJyZW50WzBdID0gJ0MnO1xuICAgICAgICAgIGN1cnJlbnRbNV0gPSBjdXJyZW50WzNdO1xuICAgICAgICAgIGN1cnJlbnRbNl0gPSBjdXJyZW50WzRdO1xuICAgICAgICAgIGN1cnJlbnRbM10gPSBjdXJyZW50WzFdO1xuICAgICAgICAgIGN1cnJlbnRbNF0gPSBjdXJyZW50WzJdO1xuICAgICAgICAgIGN1cnJlbnRbMV0gPSBjb250cm9sWDtcbiAgICAgICAgICBjdXJyZW50WzJdID0gY29udHJvbFk7XG4gICAgICAgICAgLy8gY3VycmVudFszXSBhbmQgY3VycmVudFs0XSBhcmUgTk9XIHRoZSBzZWNvbmQgY29udHJvbCBwb2ludC5cbiAgICAgICAgICAvLyB3ZSBrZWVwIGl0IGZvciB0aGUgbmV4dCByZWZsZWN0aW9uLlxuICAgICAgICAgIGNvbnRyb2xYID0gY3VycmVudFszXTtcbiAgICAgICAgICBjb250cm9sWSA9IGN1cnJlbnRbNF07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3EnOiAvLyBxdWFkcmF0aWNDdXJ2ZVRvLCByZWxhdGl2ZVxuICAgICAgICAgIGN1cnJlbnRbMF0gPSAnUSc7XG4gICAgICAgICAgY3VycmVudFsxXSArPSB4O1xuICAgICAgICAgIGN1cnJlbnRbMl0gKz0geTtcbiAgICAgICAgICBjdXJyZW50WzNdICs9IHg7XG4gICAgICAgICAgY3VycmVudFs0XSArPSB5O1xuICAgICAgICAgIC8vIGZhbGxzIHRocm91Z2hcbiAgICAgICAgY2FzZSAnUSc6XG4gICAgICAgICAgY29udHJvbFggPSBjdXJyZW50WzFdO1xuICAgICAgICAgIGNvbnRyb2xZID0gY3VycmVudFsyXTtcbiAgICAgICAgICB4ID0gY3VycmVudFszXTtcbiAgICAgICAgICB5ID0gY3VycmVudFs0XTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndCc6IC8vIHNob3J0aGFuZCBxdWFkcmF0aWNDdXJ2ZVRvLCByZWxhdGl2ZVxuICAgICAgICAgIGN1cnJlbnRbMF0gPSAnVCc7XG4gICAgICAgICAgY3VycmVudFsxXSArPSB4O1xuICAgICAgICAgIGN1cnJlbnRbMl0gKz0geTtcbiAgICAgICAgICAvLyBmYWxscyB0aHJvdWdoXG4gICAgICAgIGNhc2UgJ1QnOlxuICAgICAgICAgIGlmIChwcmV2aW91cyA9PT0gJ1EnKSB7XG4gICAgICAgICAgICAvLyBjYWxjdWxhdGUgcmVmbGVjdGlvbiBvZiBwcmV2aW91cyBjb250cm9sIHBvaW50XG4gICAgICAgICAgICBjb250cm9sWCA9IDIgKiB4IC0gY29udHJvbFg7XG4gICAgICAgICAgICBjb250cm9sWSA9IDIgKiB5IC0gY29udHJvbFk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gcHJldmlvdXMgY29tbWFuZCBvciBpZiB0aGUgcHJldmlvdXMgY29tbWFuZCB3YXMgbm90IGEgUSwgcSwgVCBvciB0LFxuICAgICAgICAgICAgLy8gYXNzdW1lIHRoZSBjb250cm9sIHBvaW50IGlzIGNvaW5jaWRlbnQgd2l0aCB0aGUgY3VycmVudCBwb2ludFxuICAgICAgICAgICAgY29udHJvbFggPSB4O1xuICAgICAgICAgICAgY29udHJvbFkgPSB5O1xuICAgICAgICAgIH1cbiAgICAgICAgICBjdXJyZW50WzBdID0gJ1EnO1xuICAgICAgICAgIHggPSBjdXJyZW50WzFdO1xuICAgICAgICAgIHkgPSBjdXJyZW50WzJdO1xuICAgICAgICAgIGN1cnJlbnRbMV0gPSBjb250cm9sWDtcbiAgICAgICAgICBjdXJyZW50WzJdID0gY29udHJvbFk7XG4gICAgICAgICAgY3VycmVudFszXSA9IHg7XG4gICAgICAgICAgY3VycmVudFs0XSA9IHk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2EnOlxuICAgICAgICAgIGN1cnJlbnRbMF0gPSAnQSc7XG4gICAgICAgICAgY3VycmVudFs2XSArPSB4O1xuICAgICAgICAgIGN1cnJlbnRbN10gKz0geTtcbiAgICAgICAgICAvLyBmYWxscyB0aHJvdWdoXG4gICAgICAgIGNhc2UgJ0EnOlxuICAgICAgICAgIGNvbnZlcnRlZCA9IHRydWU7XG4gICAgICAgICAgZGVzdGluYXRpb25QYXRoID0gZGVzdGluYXRpb25QYXRoLmNvbmNhdChmcm9tQXJjVG9CZXppZXJzKHgsIHksIGN1cnJlbnQpKTtcbiAgICAgICAgICB4ID0gY3VycmVudFs2XTtcbiAgICAgICAgICB5ID0gY3VycmVudFs3XTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAneic6XG4gICAgICAgIGNhc2UgJ1onOlxuICAgICAgICAgIHggPSB4MTtcbiAgICAgICAgICB5ID0geTE7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICB9XG4gICAgICBpZiAoIWNvbnZlcnRlZCkge1xuICAgICAgICBkZXN0aW5hdGlvblBhdGgucHVzaChjdXJyZW50KTtcbiAgICAgIH1cbiAgICAgIHByZXZpb3VzID0gY3VycmVudFswXTtcbiAgICB9XG4gICAgcmV0dXJuIGRlc3RpbmF0aW9uUGF0aDtcbiAgfTtcblxuICAvKipcbiAgICogQ2FsYyBsZW5ndGggZnJvbSBwb2ludCB4MSx5MSB0byB4Mix5MlxuICAgKiBAcGFyYW0ge051bWJlcn0geDEgc3RhcnRpbmcgcG9pbnQgeFxuICAgKiBAcGFyYW0ge051bWJlcn0geTEgc3RhcnRpbmcgcG9pbnQgeVxuICAgKiBAcGFyYW0ge051bWJlcn0geDIgc3RhcnRpbmcgcG9pbnQgeFxuICAgKiBAcGFyYW0ge051bWJlcn0geTIgc3RhcnRpbmcgcG9pbnQgeVxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IGxlbmd0aCBvZiBzZWdtZW50XG4gICAqL1xuICBmdW5jdGlvbiBjYWxjTGluZUxlbmd0aCh4MSwgeTEsIHgyLCB5Mikge1xuICAgIHJldHVybiBNYXRoLnNxcnQoKHgyIC0geDEpICogKHgyIC0geDEpICsgKHkyIC0geTEpICogKHkyIC0geTEpKTtcbiAgfVxuXG4gIC8vIGZ1bmN0aW9ucyBmb3IgdGhlIEN1YmljIGJlaXplclxuICAvLyB0YWtlbiBmcm9tOiBodHRwczovL2dpdGh1Yi5jb20va29udmFqcy9rb252YS9ibG9iLzcuMC41L3NyYy9zaGFwZXMvUGF0aC50cyNMMzUwXG4gIGZ1bmN0aW9uIENCMSh0KSB7XG4gICAgcmV0dXJuIHQgKiB0ICogdDtcbiAgfVxuICBmdW5jdGlvbiBDQjIodCkge1xuICAgIHJldHVybiAzICogdCAqIHQgKiAoMSAtIHQpO1xuICB9XG4gIGZ1bmN0aW9uIENCMyh0KSB7XG4gICAgcmV0dXJuIDMgKiB0ICogKDEgLSB0KSAqICgxIC0gdCk7XG4gIH1cbiAgZnVuY3Rpb24gQ0I0KHQpIHtcbiAgICByZXR1cm4gKDEgLSB0KSAqICgxIC0gdCkgKiAoMSAtIHQpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UG9pbnRPbkN1YmljQmV6aWVySXRlcmF0b3IocDF4LCBwMXksIHAyeCwgcDJ5LCBwM3gsIHAzeSwgcDR4LCBwNHkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24ocGN0KSB7XG4gICAgICB2YXIgYzEgPSBDQjEocGN0KSwgYzIgPSBDQjIocGN0KSwgYzMgPSBDQjMocGN0KSwgYzQgPSBDQjQocGN0KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHg6IHA0eCAqIGMxICsgcDN4ICogYzIgKyBwMnggKiBjMyArIHAxeCAqIGM0LFxuICAgICAgICB5OiBwNHkgKiBjMSArIHAzeSAqIGMyICsgcDJ5ICogYzMgKyBwMXkgKiBjNFxuICAgICAgfTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0VGFuZ2VudEN1YmljSXRlcmF0b3IocDF4LCBwMXksIHAyeCwgcDJ5LCBwM3gsIHAzeSwgcDR4LCBwNHkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHBjdCkge1xuICAgICAgdmFyIGludlQgPSAxIC0gcGN0LFxuICAgICAgICAgIHRhbmdlbnRYID0gKDMgKiBpbnZUICogaW52VCAqIChwMnggLSBwMXgpKSArICg2ICogaW52VCAqIHBjdCAqIChwM3ggLSBwMngpKSArXG4gICAgICAgICAgKDMgKiBwY3QgKiBwY3QgKiAocDR4IC0gcDN4KSksXG4gICAgICAgICAgdGFuZ2VudFkgPSAoMyAqIGludlQgKiBpbnZUICogKHAyeSAtIHAxeSkpICsgKDYgKiBpbnZUICogcGN0ICogKHAzeSAtIHAyeSkpICtcbiAgICAgICAgICAoMyAqIHBjdCAqIHBjdCAqIChwNHkgLSBwM3kpKTtcbiAgICAgIHJldHVybiBNYXRoLmF0YW4yKHRhbmdlbnRZLCB0YW5nZW50WCk7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIFFCMSh0KSB7XG4gICAgcmV0dXJuIHQgKiB0O1xuICB9XG5cbiAgZnVuY3Rpb24gUUIyKHQpIHtcbiAgICByZXR1cm4gMiAqIHQgKiAoMSAtIHQpO1xuICB9XG5cbiAgZnVuY3Rpb24gUUIzKHQpIHtcbiAgICByZXR1cm4gKDEgLSB0KSAqICgxIC0gdCk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRQb2ludE9uUXVhZHJhdGljQmV6aWVySXRlcmF0b3IocDF4LCBwMXksIHAyeCwgcDJ5LCBwM3gsIHAzeSkge1xuICAgIHJldHVybiBmdW5jdGlvbihwY3QpIHtcbiAgICAgIHZhciBjMSA9IFFCMShwY3QpLCBjMiA9IFFCMihwY3QpLCBjMyA9IFFCMyhwY3QpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDogcDN4ICogYzEgKyBwMnggKiBjMiArIHAxeCAqIGMzLFxuICAgICAgICB5OiBwM3kgKiBjMSArIHAyeSAqIGMyICsgcDF5ICogYzNcbiAgICAgIH07XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFRhbmdlbnRRdWFkcmF0aWNJdGVyYXRvcihwMXgsIHAxeSwgcDJ4LCBwMnksIHAzeCwgcDN5KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChwY3QpIHtcbiAgICAgIHZhciBpbnZUID0gMSAtIHBjdCxcbiAgICAgICAgICB0YW5nZW50WCA9ICgyICogaW52VCAqIChwMnggLSBwMXgpKSArICgyICogcGN0ICogKHAzeCAtIHAyeCkpLFxuICAgICAgICAgIHRhbmdlbnRZID0gKDIgKiBpbnZUICogKHAyeSAtIHAxeSkpICsgKDIgKiBwY3QgKiAocDN5IC0gcDJ5KSk7XG4gICAgICByZXR1cm4gTWF0aC5hdGFuMih0YW5nZW50WSwgdGFuZ2VudFgpO1xuICAgIH07XG4gIH1cblxuXG4gIC8vIHRoaXMgd2lsbCBydW4gb3ZlciBhIHBhdGggc2VnbWVudCAoIGEgY3ViaWMgb3IgcXVhZHJhdGljIHNlZ21lbnQpIGFuZCBhcHByb3hpbWF0ZSBpdFxuICAvLyB3aXRoIDEwMCBzZWdlbW50cy4gVGhpcyB3aWxsIGdvb2QgZW5vdWdoIHRvIGNhbGN1bGF0ZSB0aGUgbGVuZ3RoIG9mIHRoZSBjdXJ2ZVxuICBmdW5jdGlvbiBwYXRoSXRlcmF0b3IoaXRlcmF0b3IsIHgxLCB5MSkge1xuICAgIHZhciB0ZW1wUCA9IHsgeDogeDEsIHk6IHkxIH0sIHAsIHRtcExlbiA9IDAsIHBlcmM7XG4gICAgZm9yIChwZXJjID0gMTsgcGVyYyA8PSAxMDA7IHBlcmMgKz0gMSkge1xuICAgICAgcCA9IGl0ZXJhdG9yKHBlcmMgLyAxMDApO1xuICAgICAgdG1wTGVuICs9IGNhbGNMaW5lTGVuZ3RoKHRlbXBQLngsIHRlbXBQLnksIHAueCwgcC55KTtcbiAgICAgIHRlbXBQID0gcDtcbiAgICB9XG4gICAgcmV0dXJuIHRtcExlbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBHaXZlbiBhIHBhdGhJbmZvLCBhbmQgYSBkaXN0YW5jZSBpbiBwaXhlbHMsIGZpbmQgdGhlIHBlcmNlbnRhZ2UgZnJvbSAwIHRvIDFcbiAgICogdGhhdCBjb3JyZXNwb25kIHRvIHRoYXQgcGl4ZWxzIHJ1biBvdmVyIHRoZSBwYXRoLlxuICAgKiBUaGUgcGVyY2VudGFnZSB3aWxsIGJlIHRoZW4gdXNlZCB0byBmaW5kIHRoZSBjb3JyZWN0IHBvaW50IG9uIHRoZSBjYW52YXMgZm9yIHRoZSBwYXRoLlxuICAgKiBAcGFyYW0ge0FycmF5fSBzZWdJbmZvIGZhYnJpY0pTIGNvbGxlY3Rpb24gb2YgaW5mb3JtYXRpb24gb24gYSBwYXJzZWQgcGF0aFxuICAgKiBAcGFyYW0ge051bWJlcn0gZGlzdGFuY2UgZnJvbSBzdGFydGluZyBwb2ludCwgaW4gcGl4ZWxzLlxuICAgKiBAcmV0dXJuIHtPYmplY3R9IGluZm8gb2JqZWN0IHdpdGggeCBhbmQgeSAoIHRoZSBwb2ludCBvbiBjYW52YXMgKSBhbmQgYW5nbGUsIHRoZSB0YW5nZW50IG9uIHRoYXQgcG9pbnQ7XG4gICAqL1xuICBmdW5jdGlvbiBmaW5kUGVyY2VudGFnZUZvckRpc3RhbmNlKHNlZ0luZm8sIGRpc3RhbmNlKSB7XG4gICAgdmFyIHBlcmMgPSAwLCB0bXBMZW4gPSAwLCBpdGVyYXRvciA9IHNlZ0luZm8uaXRlcmF0b3IsIHRlbXBQID0geyB4OiBzZWdJbmZvLngsIHk6IHNlZ0luZm8ueSB9LFxuICAgICAgICBwLCBuZXh0TGVuLCBuZXh0U3RlcCA9IDAuMDEsIGFuZ2xlRmluZGVyID0gc2VnSW5mby5hbmdsZUZpbmRlciwgbGFzdFBlcmM7XG4gICAgLy8gbmV4dFN0ZXAgPiAwLjAwMDEgY292ZXJzIDAuMDAwMTU2MjUgdGhhdCAxLzY0dGggb2YgMS8xMDBcbiAgICAvLyB0aGUgcGF0aFxuICAgIHdoaWxlICh0bXBMZW4gPCBkaXN0YW5jZSAmJiBuZXh0U3RlcCA+IDAuMDAwMSkge1xuICAgICAgcCA9IGl0ZXJhdG9yKHBlcmMpO1xuICAgICAgbGFzdFBlcmMgPSBwZXJjO1xuICAgICAgbmV4dExlbiA9IGNhbGNMaW5lTGVuZ3RoKHRlbXBQLngsIHRlbXBQLnksIHAueCwgcC55KTtcbiAgICAgIC8vIGNvbXBhcmUgdG1wTGVuIGVhY2ggY3ljbGUgd2l0aCBkaXN0YW5jZSwgZGVjaWRlIG5leHQgcGVyYyB0byB0ZXN0LlxuICAgICAgaWYgKChuZXh0TGVuICsgdG1wTGVuKSA+IGRpc3RhbmNlKSB7XG4gICAgICAgIC8vIHdlIGRpc2NhcmQgdGhpcyBzdGVwIGFuZCB3ZSBtYWtlIHNtYWxsZXIgc3RlcHMuXG4gICAgICAgIHBlcmMgLT0gbmV4dFN0ZXA7XG4gICAgICAgIG5leHRTdGVwIC89IDI7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGVtcFAgPSBwO1xuICAgICAgICBwZXJjICs9IG5leHRTdGVwO1xuICAgICAgICB0bXBMZW4gKz0gbmV4dExlbjtcbiAgICAgIH1cbiAgICB9XG4gICAgcC5hbmdsZSA9IGFuZ2xlRmluZGVyKGxhc3RQZXJjKTtcbiAgICByZXR1cm4gcDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSdW4gb3ZlciBhIHBhcnNlZCBhbmQgc2ltcGxpZmVkIHBhdGggYW5kIGV4dHJhYyBzb21lIGluZm9ybWF0aW9ucy5cbiAgICogaW5mb3JtYXRpb25zIGFyZSBsZW5ndGggb2YgZWFjaCBjb21tYW5kIGFuZCBzdGFydGluZyBwb2ludFxuICAgKiBAcGFyYW0ge0FycmF5fSBwYXRoIGZhYnJpY0pTIHBhcnNlZCBwYXRoIGNvbW1hbmRzXG4gICAqIEByZXR1cm4ge0FycmF5fSBwYXRoIGNvbW1hbmRzIGluZm9ybWF0aW9uc1xuICAgKi9cbiAgZnVuY3Rpb24gZ2V0UGF0aFNlZ21lbnRzSW5mbyhwYXRoKSB7XG4gICAgdmFyIHRvdGFsTGVuZ3RoID0gMCwgbGVuID0gcGF0aC5sZW5ndGgsIGN1cnJlbnQsXG4gICAgICAgIC8veDIgYW5kIHkyIGFyZSB0aGUgY29vcmRzIG9mIHNlZ21lbnQgc3RhcnRcbiAgICAgICAgLy94MSBhbmQgeTEgYXJlIHRoZSBjb29yZHMgb2YgdGhlIGN1cnJlbnQgcG9pbnRcbiAgICAgICAgeDEgPSAwLCB5MSA9IDAsIHgyID0gMCwgeTIgPSAwLCBpbmZvID0gW10sIGl0ZXJhdG9yLCB0ZW1wSW5mbywgYW5nbGVGaW5kZXI7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgY3VycmVudCA9IHBhdGhbaV07XG4gICAgICB0ZW1wSW5mbyA9IHtcbiAgICAgICAgeDogeDEsXG4gICAgICAgIHk6IHkxLFxuICAgICAgICBjb21tYW5kOiBjdXJyZW50WzBdLFxuICAgICAgfTtcbiAgICAgIHN3aXRjaCAoY3VycmVudFswXSkgeyAvL2ZpcnN0IGxldHRlclxuICAgICAgICBjYXNlICdNJzpcbiAgICAgICAgICB0ZW1wSW5mby5sZW5ndGggPSAwO1xuICAgICAgICAgIHgyID0geDEgPSBjdXJyZW50WzFdO1xuICAgICAgICAgIHkyID0geTEgPSBjdXJyZW50WzJdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdMJzpcbiAgICAgICAgICB0ZW1wSW5mby5sZW5ndGggPSBjYWxjTGluZUxlbmd0aCh4MSwgeTEsIGN1cnJlbnRbMV0sIGN1cnJlbnRbMl0pO1xuICAgICAgICAgIHgxID0gY3VycmVudFsxXTtcbiAgICAgICAgICB5MSA9IGN1cnJlbnRbMl07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0MnOlxuICAgICAgICAgIGl0ZXJhdG9yID0gZ2V0UG9pbnRPbkN1YmljQmV6aWVySXRlcmF0b3IoXG4gICAgICAgICAgICB4MSxcbiAgICAgICAgICAgIHkxLFxuICAgICAgICAgICAgY3VycmVudFsxXSxcbiAgICAgICAgICAgIGN1cnJlbnRbMl0sXG4gICAgICAgICAgICBjdXJyZW50WzNdLFxuICAgICAgICAgICAgY3VycmVudFs0XSxcbiAgICAgICAgICAgIGN1cnJlbnRbNV0sXG4gICAgICAgICAgICBjdXJyZW50WzZdXG4gICAgICAgICAgKTtcbiAgICAgICAgICBhbmdsZUZpbmRlciA9IGdldFRhbmdlbnRDdWJpY0l0ZXJhdG9yKFxuICAgICAgICAgICAgeDEsXG4gICAgICAgICAgICB5MSxcbiAgICAgICAgICAgIGN1cnJlbnRbMV0sXG4gICAgICAgICAgICBjdXJyZW50WzJdLFxuICAgICAgICAgICAgY3VycmVudFszXSxcbiAgICAgICAgICAgIGN1cnJlbnRbNF0sXG4gICAgICAgICAgICBjdXJyZW50WzVdLFxuICAgICAgICAgICAgY3VycmVudFs2XVxuICAgICAgICAgICk7XG4gICAgICAgICAgdGVtcEluZm8uaXRlcmF0b3IgPSBpdGVyYXRvcjtcbiAgICAgICAgICB0ZW1wSW5mby5hbmdsZUZpbmRlciA9IGFuZ2xlRmluZGVyO1xuICAgICAgICAgIHRlbXBJbmZvLmxlbmd0aCA9IHBhdGhJdGVyYXRvcihpdGVyYXRvciwgeDEsIHkxKTtcbiAgICAgICAgICB4MSA9IGN1cnJlbnRbNV07XG4gICAgICAgICAgeTEgPSBjdXJyZW50WzZdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdRJzpcbiAgICAgICAgICBpdGVyYXRvciA9IGdldFBvaW50T25RdWFkcmF0aWNCZXppZXJJdGVyYXRvcihcbiAgICAgICAgICAgIHgxLFxuICAgICAgICAgICAgeTEsXG4gICAgICAgICAgICBjdXJyZW50WzFdLFxuICAgICAgICAgICAgY3VycmVudFsyXSxcbiAgICAgICAgICAgIGN1cnJlbnRbM10sXG4gICAgICAgICAgICBjdXJyZW50WzRdXG4gICAgICAgICAgKTtcbiAgICAgICAgICBhbmdsZUZpbmRlciA9IGdldFRhbmdlbnRRdWFkcmF0aWNJdGVyYXRvcihcbiAgICAgICAgICAgIHgxLFxuICAgICAgICAgICAgeTEsXG4gICAgICAgICAgICBjdXJyZW50WzFdLFxuICAgICAgICAgICAgY3VycmVudFsyXSxcbiAgICAgICAgICAgIGN1cnJlbnRbM10sXG4gICAgICAgICAgICBjdXJyZW50WzRdXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0ZW1wSW5mby5pdGVyYXRvciA9IGl0ZXJhdG9yO1xuICAgICAgICAgIHRlbXBJbmZvLmFuZ2xlRmluZGVyID0gYW5nbGVGaW5kZXI7XG4gICAgICAgICAgdGVtcEluZm8ubGVuZ3RoID0gcGF0aEl0ZXJhdG9yKGl0ZXJhdG9yLCB4MSwgeTEpO1xuICAgICAgICAgIHgxID0gY3VycmVudFszXTtcbiAgICAgICAgICB5MSA9IGN1cnJlbnRbNF07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ1onOlxuICAgICAgICBjYXNlICd6JzpcbiAgICAgICAgICAvLyB3ZSBhZGQgdGhvc2UgaW4gb3JkZXIgdG8gZWFzZSBjYWxjdWxhdGlvbnMgbGF0ZXJcbiAgICAgICAgICB0ZW1wSW5mby5kZXN0WCA9IHgyO1xuICAgICAgICAgIHRlbXBJbmZvLmRlc3RZID0geTI7XG4gICAgICAgICAgdGVtcEluZm8ubGVuZ3RoID0gY2FsY0xpbmVMZW5ndGgoeDEsIHkxLCB4MiwgeTIpO1xuICAgICAgICAgIHgxID0geDI7XG4gICAgICAgICAgeTEgPSB5MjtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHRvdGFsTGVuZ3RoICs9IHRlbXBJbmZvLmxlbmd0aDtcbiAgICAgIGluZm8ucHVzaCh0ZW1wSW5mbyk7XG4gICAgfVxuICAgIGluZm8ucHVzaCh7IGxlbmd0aDogdG90YWxMZW5ndGgsIHg6IHgxLCB5OiB5MSB9KTtcbiAgICByZXR1cm4gaW5mbztcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFBvaW50T25QYXRoKHBhdGgsIGRpc3RhbmNlLCBpbmZvcykge1xuICAgIGlmICghaW5mb3MpIHtcbiAgICAgIGluZm9zID0gZ2V0UGF0aFNlZ21lbnRzSW5mbyhwYXRoKTtcbiAgICB9XG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlICgoZGlzdGFuY2UgLSBpbmZvc1tpXS5sZW5ndGggPiAwKSAmJiBpIDwgKGluZm9zLmxlbmd0aCAtIDIpKSB7XG4gICAgICBkaXN0YW5jZSAtPSBpbmZvc1tpXS5sZW5ndGg7XG4gICAgICBpKys7XG4gICAgfVxuICAgIC8vIHZhciBkaXN0YW5jZSA9IGluZm9zW2luZm9zLmxlbmd0aCAtIDFdICogcGVyYztcbiAgICB2YXIgc2VnSW5mbyA9IGluZm9zW2ldLCBzZWdQZXJjZW50ID0gZGlzdGFuY2UgLyBzZWdJbmZvLmxlbmd0aCxcbiAgICAgICAgY29tbWFuZCA9IHNlZ0luZm8uY29tbWFuZCwgc2VnbWVudCA9IHBhdGhbaV0sIGluZm87XG5cbiAgICBzd2l0Y2ggKGNvbW1hbmQpIHtcbiAgICAgIGNhc2UgJ00nOlxuICAgICAgICByZXR1cm4geyB4OiBzZWdJbmZvLngsIHk6IHNlZ0luZm8ueSwgYW5nbGU6IDAgfTtcbiAgICAgIGNhc2UgJ1onOlxuICAgICAgY2FzZSAneic6XG4gICAgICAgIGluZm8gPSBuZXcgZmFicmljLlBvaW50KHNlZ0luZm8ueCwgc2VnSW5mby55KS5sZXJwKFxuICAgICAgICAgIG5ldyBmYWJyaWMuUG9pbnQoc2VnSW5mby5kZXN0WCwgc2VnSW5mby5kZXN0WSksXG4gICAgICAgICAgc2VnUGVyY2VudFxuICAgICAgICApO1xuICAgICAgICBpbmZvLmFuZ2xlID0gTWF0aC5hdGFuMihzZWdJbmZvLmRlc3RZIC0gc2VnSW5mby55LCBzZWdJbmZvLmRlc3RYIC0gc2VnSW5mby54KTtcbiAgICAgICAgcmV0dXJuIGluZm87XG4gICAgICBjYXNlICdMJzpcbiAgICAgICAgaW5mbyA9IG5ldyBmYWJyaWMuUG9pbnQoc2VnSW5mby54LCBzZWdJbmZvLnkpLmxlcnAoXG4gICAgICAgICAgbmV3IGZhYnJpYy5Qb2ludChzZWdtZW50WzFdLCBzZWdtZW50WzJdKSxcbiAgICAgICAgICBzZWdQZXJjZW50XG4gICAgICAgICk7XG4gICAgICAgIGluZm8uYW5nbGUgPSBNYXRoLmF0YW4yKHNlZ21lbnRbMl0gLSBzZWdJbmZvLnksIHNlZ21lbnRbMV0gLSBzZWdJbmZvLngpO1xuICAgICAgICByZXR1cm4gaW5mbztcbiAgICAgIGNhc2UgJ0MnOlxuICAgICAgICByZXR1cm4gZmluZFBlcmNlbnRhZ2VGb3JEaXN0YW5jZShzZWdJbmZvLCBkaXN0YW5jZSk7XG4gICAgICBjYXNlICdRJzpcbiAgICAgICAgcmV0dXJuIGZpbmRQZXJjZW50YWdlRm9yRGlzdGFuY2Uoc2VnSW5mbywgZGlzdGFuY2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aFN0cmluZ1xuICAgKiBAcmV0dXJuIHsoc3RyaW5nfG51bWJlcilbXVtdfSBBbiBhcnJheSBvZiBTVkcgcGF0aCBjb21tYW5kc1xuICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5Vc2FnZTwvY2FwdGlvbj5cbiAgICogcGFyc2VQYXRoKCdNIDMgNCBRIDMgNSAyIDEgNCAwIFEgOSAxMiAyIDEgNCAwJykgPT09IFtcbiAgICogICBbJ00nLCAzLCA0XSxcbiAgICogICBbJ1EnLCAzLCA1LCAyLCAxLCA0LCAwXSxcbiAgICogICBbJ1EnLCA5LCAxMiwgMiwgMSwgNCwgMF0sXG4gICAqIF07XG4gICAqXG4gICAqL1xuICBmdW5jdGlvbiBwYXJzZVBhdGgocGF0aFN0cmluZykge1xuICAgIHZhciByZXN1bHQgPSBbXSxcbiAgICAgICAgY29vcmRzID0gW10sXG4gICAgICAgIGN1cnJlbnRQYXRoLFxuICAgICAgICBwYXJzZWQsXG4gICAgICAgIHJlID0gZmFicmljLnJlUGF0aENvbW1hbmQsXG4gICAgICAgIHJOdW1iZXIgPSAnWy0rXT8oPzpcXFxcZCpcXFxcLlxcXFxkK3xcXFxcZCtcXFxcLj8pKD86W2VFXVstK10/XFxcXGQrKT9cXFxccyonLFxuICAgICAgICByTnVtYmVyQ29tbWFXc3AgPSAnKCcgKyByTnVtYmVyICsgJyknICsgZmFicmljLmNvbW1hV3NwLFxuICAgICAgICByRmxhZ0NvbW1hV3NwID0gJyhbMDFdKScgKyBmYWJyaWMuY29tbWFXc3AgKyAnPycsXG4gICAgICAgIHJBcmNTZXEgPSByTnVtYmVyQ29tbWFXc3AgKyAnPycgKyByTnVtYmVyQ29tbWFXc3AgKyAnPycgKyByTnVtYmVyQ29tbWFXc3AgKyByRmxhZ0NvbW1hV3NwICsgckZsYWdDb21tYVdzcCArXG4gICAgICAgICAgck51bWJlckNvbW1hV3NwICsgJz8oJyArIHJOdW1iZXIgKyAnKScsXG4gICAgICAgIHJlZ0FyY0FyZ3VtZW50U2VxdWVuY2UgPSBuZXcgUmVnRXhwKHJBcmNTZXEsICdnJyksXG4gICAgICAgIG1hdGNoLFxuICAgICAgICBjb29yZHNTdHIsXG4gICAgICAgIC8vIG9uZSBvZiBjb21tYW5kcyAobSxNLGwsTCxxLFEsYyxDLGV0Yy4pIGZvbGxvd2VkIGJ5IG5vbi1jb21tYW5kIGNoYXJhY3RlcnMgKGkuZS4gY29tbWFuZCB2YWx1ZXMpXG4gICAgICAgIHBhdGg7XG4gICAgaWYgKCFwYXRoU3RyaW5nIHx8ICFwYXRoU3RyaW5nLm1hdGNoKSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBwYXRoID0gcGF0aFN0cmluZy5tYXRjaCgvW216bGh2Y3NxdGFdW15temxodmNzcXRhXSovZ2kpO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGNvb3Jkc1BhcnNlZCwgbGVuID0gcGF0aC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgY3VycmVudFBhdGggPSBwYXRoW2ldO1xuXG4gICAgICBjb29yZHNTdHIgPSBjdXJyZW50UGF0aC5zbGljZSgxKS50cmltKCk7XG4gICAgICBjb29yZHMubGVuZ3RoID0gMDtcblxuICAgICAgdmFyIGNvbW1hbmQgPSBjdXJyZW50UGF0aC5jaGFyQXQoMCk7XG4gICAgICBjb29yZHNQYXJzZWQgPSBbY29tbWFuZF07XG5cbiAgICAgIGlmIChjb21tYW5kLnRvTG93ZXJDYXNlKCkgPT09ICdhJykge1xuICAgICAgICAvLyBhcmNzIGhhdmUgc3BlY2lhbCBmbGFncyB0aGF0IGFwcGFyZW50bHkgZG9uJ3QgcmVxdWlyZSBzcGFjZXMgc28gaGFuZGxlIHNwZWNpYWxcbiAgICAgICAgZm9yICh2YXIgYXJnczsgKGFyZ3MgPSByZWdBcmNBcmd1bWVudFNlcXVlbmNlLmV4ZWMoY29vcmRzU3RyKSk7KSB7XG4gICAgICAgICAgZm9yICh2YXIgaiA9IDE7IGogPCBhcmdzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBjb29yZHMucHVzaChhcmdzW2pdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB3aGlsZSAoKG1hdGNoID0gcmUuZXhlYyhjb29yZHNTdHIpKSkge1xuICAgICAgICAgIGNvb3Jkcy5wdXNoKG1hdGNoWzBdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBqID0gMCwgamxlbiA9IGNvb3Jkcy5sZW5ndGg7IGogPCBqbGVuOyBqKyspIHtcbiAgICAgICAgcGFyc2VkID0gcGFyc2VGbG9hdChjb29yZHNbal0pO1xuICAgICAgICBpZiAoIWlzTmFOKHBhcnNlZCkpIHtcbiAgICAgICAgICBjb29yZHNQYXJzZWQucHVzaChwYXJzZWQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBjb21tYW5kTGVuZ3RoID0gY29tbWFuZExlbmd0aHNbY29tbWFuZC50b0xvd2VyQ2FzZSgpXSxcbiAgICAgICAgICByZXBlYXRlZENvbW1hbmQgPSByZXBlYXRlZENvbW1hbmRzW2NvbW1hbmRdIHx8IGNvbW1hbmQ7XG5cbiAgICAgIGlmIChjb29yZHNQYXJzZWQubGVuZ3RoIC0gMSA+IGNvbW1hbmRMZW5ndGgpIHtcbiAgICAgICAgZm9yICh2YXIgayA9IDEsIGtsZW4gPSBjb29yZHNQYXJzZWQubGVuZ3RoOyBrIDwga2xlbjsgayArPSBjb21tYW5kTGVuZ3RoKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goW2NvbW1hbmRdLmNvbmNhdChjb29yZHNQYXJzZWQuc2xpY2UoaywgayArIGNvbW1hbmRMZW5ndGgpKSk7XG4gICAgICAgICAgY29tbWFuZCA9IHJlcGVhdGVkQ29tbWFuZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKGNvb3Jkc1BhcnNlZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvKipcbiAgICpcbiAgICogQ29udmVydHMgcG9pbnRzIHRvIGEgc21vb3RoIFNWRyBwYXRoXG4gICAqIEBwYXJhbSB7eyB4OiBudW1iZXIseTogbnVtYmVyIH1bXX0gcG9pbnRzIEFycmF5IG9mIHBvaW50c1xuICAgKiBAcGFyYW0ge251bWJlcn0gW2NvcnJlY3Rpb25dIEFwcGx5IGEgY29ycmVjdGlvbiB0byB0aGUgcGF0aCAodXN1YWxseSB3ZSB1c2UgYHdpZHRoIC8gMTAwMGApLiBJZiB2YWx1ZSBpcyB1bmRlZmluZWQgMCBpcyB1c2VkIGFzIHRoZSBjb3JyZWN0aW9uIHZhbHVlLlxuICAgKiBAcmV0dXJuIHsoc3RyaW5nfG51bWJlcilbXVtdfSBBbiBhcnJheSBvZiBTVkcgcGF0aCBjb21tYW5kc1xuICAgKi9cbiAgZnVuY3Rpb24gZ2V0U21vb3RoUGF0aEZyb21Qb2ludHMocG9pbnRzLCBjb3JyZWN0aW9uKSB7XG4gICAgdmFyIHBhdGggPSBbXSwgaSxcbiAgICAgICAgcDEgPSBuZXcgZmFicmljLlBvaW50KHBvaW50c1swXS54LCBwb2ludHNbMF0ueSksXG4gICAgICAgIHAyID0gbmV3IGZhYnJpYy5Qb2ludChwb2ludHNbMV0ueCwgcG9pbnRzWzFdLnkpLFxuICAgICAgICBsZW4gPSBwb2ludHMubGVuZ3RoLCBtdWx0U2lnblggPSAxLCBtdWx0U2lnblkgPSAwLCBtYW55UG9pbnRzID0gbGVuID4gMjtcbiAgICBjb3JyZWN0aW9uID0gY29ycmVjdGlvbiB8fCAwO1xuXG4gICAgaWYgKG1hbnlQb2ludHMpIHtcbiAgICAgIG11bHRTaWduWCA9IHBvaW50c1syXS54IDwgcDIueCA/IC0xIDogcG9pbnRzWzJdLnggPT09IHAyLnggPyAwIDogMTtcbiAgICAgIG11bHRTaWduWSA9IHBvaW50c1syXS55IDwgcDIueSA/IC0xIDogcG9pbnRzWzJdLnkgPT09IHAyLnkgPyAwIDogMTtcbiAgICB9XG4gICAgcGF0aC5wdXNoKFsnTScsIHAxLnggLSBtdWx0U2lnblggKiBjb3JyZWN0aW9uLCBwMS55IC0gbXVsdFNpZ25ZICogY29ycmVjdGlvbl0pO1xuICAgIGZvciAoaSA9IDE7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKCFwMS5lcShwMikpIHtcbiAgICAgICAgdmFyIG1pZFBvaW50ID0gcDEubWlkUG9pbnRGcm9tKHAyKTtcbiAgICAgICAgLy8gcDEgaXMgb3VyIGJlemllciBjb250cm9sIHBvaW50XG4gICAgICAgIC8vIG1pZHBvaW50IGlzIG91ciBlbmRwb2ludFxuICAgICAgICAvLyBzdGFydCBwb2ludCBpcyBwKGktMSkgdmFsdWUuXG4gICAgICAgIHBhdGgucHVzaChbJ1EnLCBwMS54LCBwMS55LCBtaWRQb2ludC54LCBtaWRQb2ludC55XSk7XG4gICAgICB9XG4gICAgICBwMSA9IHBvaW50c1tpXTtcbiAgICAgIGlmICgoaSArIDEpIDwgcG9pbnRzLmxlbmd0aCkge1xuICAgICAgICBwMiA9IHBvaW50c1tpICsgMV07XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChtYW55UG9pbnRzKSB7XG4gICAgICBtdWx0U2lnblggPSBwMS54ID4gcG9pbnRzW2kgLSAyXS54ID8gMSA6IHAxLnggPT09IHBvaW50c1tpIC0gMl0ueCA/IDAgOiAtMTtcbiAgICAgIG11bHRTaWduWSA9IHAxLnkgPiBwb2ludHNbaSAtIDJdLnkgPyAxIDogcDEueSA9PT0gcG9pbnRzW2kgLSAyXS55ID8gMCA6IC0xO1xuICAgIH1cbiAgICBwYXRoLnB1c2goWydMJywgcDEueCArIG11bHRTaWduWCAqIGNvcnJlY3Rpb24sIHAxLnkgKyBtdWx0U2lnblkgKiBjb3JyZWN0aW9uXSk7XG4gICAgcmV0dXJuIHBhdGg7XG4gIH1cbiAgLyoqXG4gICAqIFRyYW5zZm9ybSBhIHBhdGggYnkgdHJhbnNmb3JtaW5nIGVhY2ggc2VnbWVudC5cbiAgICogaXQgaGFzIHRvIGJlIGEgc2ltcGxpZmllZCBwYXRoIG9yIGl0IHdvbid0IHdvcmsuXG4gICAqIFdBUk5JTkc6IHRoaXMgZGVwZW5kcyBmcm9tIHBhdGhPZmZzZXQgZm9yIGNvcnJlY3Qgb3BlcmF0aW9uXG4gICAqIEBwYXJhbSB7QXJyYXl9IHBhdGggZmFicmljSlMgcGFyc2VkIGFuZCBzaW1wbGlmaWVkIHBhdGggY29tbWFuZHNcbiAgICogQHBhcmFtIHtBcnJheX0gdHJhbnNmb3JtIG1hdHJpeCB0aGF0IHJlcHJlc2VudCB0aGUgdHJhbnNmb3JtYXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IFtwYXRoT2Zmc2V0XSB0aGUgZmFicmljLlBhdGggcGF0aE9mZnNldFxuICAgKiBAcGFyYW0ge051bWJlcn0gcGF0aE9mZnNldC54XG4gICAqIEBwYXJhbSB7TnVtYmVyfSBwYXRoT2Zmc2V0LnlcbiAgICogQHJldHVybnMge0FycmF5fSB0aGUgdHJhbnNmb3JtZWQgcGF0aFxuICAgKi9cbiAgZnVuY3Rpb24gdHJhbnNmb3JtUGF0aChwYXRoLCB0cmFuc2Zvcm0sIHBhdGhPZmZzZXQpIHtcbiAgICBpZiAocGF0aE9mZnNldCkge1xuICAgICAgdHJhbnNmb3JtID0gZmFicmljLnV0aWwubXVsdGlwbHlUcmFuc2Zvcm1NYXRyaWNlcyhcbiAgICAgICAgdHJhbnNmb3JtLFxuICAgICAgICBbMSwgMCwgMCwgMSwgLXBhdGhPZmZzZXQueCwgLXBhdGhPZmZzZXQueV1cbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBwYXRoLm1hcChmdW5jdGlvbihwYXRoU2VnbWVudCkge1xuICAgICAgdmFyIG5ld1NlZ21lbnQgPSBwYXRoU2VnbWVudC5zbGljZSgwKSwgcG9pbnQgPSB7fTtcbiAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgcGF0aFNlZ21lbnQubGVuZ3RoIC0gMTsgaSArPSAyKSB7XG4gICAgICAgIHBvaW50LnggPSBwYXRoU2VnbWVudFtpXTtcbiAgICAgICAgcG9pbnQueSA9IHBhdGhTZWdtZW50W2kgKyAxXTtcbiAgICAgICAgcG9pbnQgPSBmYWJyaWMudXRpbC50cmFuc2Zvcm1Qb2ludChwb2ludCwgdHJhbnNmb3JtKTtcbiAgICAgICAgbmV3U2VnbWVudFtpXSA9IHBvaW50Lng7XG4gICAgICAgIG5ld1NlZ21lbnRbaSArIDFdID0gcG9pbnQueTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXdTZWdtZW50O1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEpvaW4gcGF0aCBjb21tYW5kcyB0byBnbyBiYWNrIHRvIHN2ZyBmb3JtYXRcbiAgICogQHBhcmFtIHtBcnJheX0gcGF0aERhdGEgZmFicmljSlMgcGFyc2VkIHBhdGggY29tbWFuZHNcbiAgICogQHJldHVybiB7U3RyaW5nfSBqb2luZWQgcGF0aCAnTSAwIDAgTCAyMCAzMCdcbiAgICovXG4gIGZhYnJpYy51dGlsLmpvaW5QYXRoID0gZnVuY3Rpb24ocGF0aERhdGEpIHtcbiAgICByZXR1cm4gcGF0aERhdGEubWFwKGZ1bmN0aW9uIChzZWdtZW50KSB7IHJldHVybiBzZWdtZW50LmpvaW4oJyAnKTsgfSkuam9pbignICcpO1xuICB9O1xuICBmYWJyaWMudXRpbC5wYXJzZVBhdGggPSBwYXJzZVBhdGg7XG4gIGZhYnJpYy51dGlsLm1ha2VQYXRoU2ltcGxlciA9IG1ha2VQYXRoU2ltcGxlcjtcbiAgZmFicmljLnV0aWwuZ2V0U21vb3RoUGF0aEZyb21Qb2ludHMgPSBnZXRTbW9vdGhQYXRoRnJvbVBvaW50cztcbiAgZmFicmljLnV0aWwuZ2V0UGF0aFNlZ21lbnRzSW5mbyA9IGdldFBhdGhTZWdtZW50c0luZm87XG4gIGZhYnJpYy51dGlsLmdldEJvdW5kc09mQ3VydmUgPSBnZXRCb3VuZHNPZkN1cnZlO1xuICBmYWJyaWMudXRpbC5nZXRQb2ludE9uUGF0aCA9IGdldFBvaW50T25QYXRoO1xuICBmYWJyaWMudXRpbC50cmFuc2Zvcm1QYXRoID0gdHJhbnNmb3JtUGF0aDtcbn0pKCk7XG5cblxuKGZ1bmN0aW9uKCkge1xuXG4gIHZhciBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcblxuICAvKipcbiAgICogSW52b2tlcyBtZXRob2Qgb24gYWxsIGl0ZW1zIGluIGEgZ2l2ZW4gYXJyYXlcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmFycmF5XG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IEFycmF5IHRvIGl0ZXJhdGUgb3ZlclxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWV0aG9kIE5hbWUgb2YgYSBtZXRob2QgdG8gaW52b2tlXG4gICAqIEByZXR1cm4ge0FycmF5fVxuICAgKi9cbiAgZnVuY3Rpb24gaW52b2tlKGFycmF5LCBtZXRob2QpIHtcbiAgICB2YXIgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKSwgcmVzdWx0ID0gW107XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICByZXN1bHRbaV0gPSBhcmdzLmxlbmd0aCA/IGFycmF5W2ldW21ldGhvZF0uYXBwbHkoYXJyYXlbaV0sIGFyZ3MpIDogYXJyYXlbaV1bbWV0aG9kXS5jYWxsKGFycmF5W2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5kcyBtYXhpbXVtIHZhbHVlIGluIGFycmF5IChub3QgbmVjZXNzYXJpbHkgXCJmaXJzdFwiIG9uZSlcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmFycmF5XG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IEFycmF5IHRvIGl0ZXJhdGUgb3ZlclxuICAgKiBAcGFyYW0ge1N0cmluZ30gYnlQcm9wZXJ0eVxuICAgKiBAcmV0dXJuIHsqfVxuICAgKi9cbiAgZnVuY3Rpb24gbWF4KGFycmF5LCBieVByb3BlcnR5KSB7XG4gICAgcmV0dXJuIGZpbmQoYXJyYXksIGJ5UHJvcGVydHksIGZ1bmN0aW9uKHZhbHVlMSwgdmFsdWUyKSB7XG4gICAgICByZXR1cm4gdmFsdWUxID49IHZhbHVlMjtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5kcyBtaW5pbXVtIHZhbHVlIGluIGFycmF5IChub3QgbmVjZXNzYXJpbHkgXCJmaXJzdFwiIG9uZSlcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmFycmF5XG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IEFycmF5IHRvIGl0ZXJhdGUgb3ZlclxuICAgKiBAcGFyYW0ge1N0cmluZ30gYnlQcm9wZXJ0eVxuICAgKiBAcmV0dXJuIHsqfVxuICAgKi9cbiAgZnVuY3Rpb24gbWluKGFycmF5LCBieVByb3BlcnR5KSB7XG4gICAgcmV0dXJuIGZpbmQoYXJyYXksIGJ5UHJvcGVydHksIGZ1bmN0aW9uKHZhbHVlMSwgdmFsdWUyKSB7XG4gICAgICByZXR1cm4gdmFsdWUxIDwgdmFsdWUyO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBmdW5jdGlvbiBmaWxsKGFycmF5LCB2YWx1ZSkge1xuICAgIHZhciBrID0gYXJyYXkubGVuZ3RoO1xuICAgIHdoaWxlIChrLS0pIHtcbiAgICAgIGFycmF5W2tdID0gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gZmluZChhcnJheSwgYnlQcm9wZXJ0eSwgY29uZGl0aW9uKSB7XG4gICAgaWYgKCFhcnJheSB8fCBhcnJheS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgaSA9IGFycmF5Lmxlbmd0aCAtIDEsXG4gICAgICAgIHJlc3VsdCA9IGJ5UHJvcGVydHkgPyBhcnJheVtpXVtieVByb3BlcnR5XSA6IGFycmF5W2ldO1xuICAgIGlmIChieVByb3BlcnR5KSB7XG4gICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgIGlmIChjb25kaXRpb24oYXJyYXlbaV1bYnlQcm9wZXJ0eV0sIHJlc3VsdCkpIHtcbiAgICAgICAgICByZXN1bHQgPSBhcnJheVtpXVtieVByb3BlcnR5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgaWYgKGNvbmRpdGlvbihhcnJheVtpXSwgcmVzdWx0KSkge1xuICAgICAgICAgIHJlc3VsdCA9IGFycmF5W2ldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQG5hbWVzcGFjZSBmYWJyaWMudXRpbC5hcnJheVxuICAgKi9cbiAgZmFicmljLnV0aWwuYXJyYXkgPSB7XG4gICAgZmlsbDogZmlsbCxcbiAgICBpbnZva2U6IGludm9rZSxcbiAgICBtaW46IG1pbixcbiAgICBtYXg6IG1heFxuICB9O1xuXG59KSgpO1xuXG5cbihmdW5jdGlvbigpIHtcbiAgLyoqXG4gICAqIENvcGllcyBhbGwgZW51bWVyYWJsZSBwcm9wZXJ0aWVzIG9mIG9uZSBqcyBvYmplY3QgdG8gYW5vdGhlclxuICAgKiB0aGlzIGRvZXMgbm90IGFuZCBjYW5ub3QgY29tcGV0ZSB3aXRoIGdlbmVyaWMgdXRpbHMuXG4gICAqIERvZXMgbm90IGNsb25lIG9yIGV4dGVuZCBmYWJyaWMuT2JqZWN0IHN1YmNsYXNzZXMuXG4gICAqIFRoaXMgaXMgbW9zdGx5IGZvciBpbnRlcm5hbCB1c2UgYW5kIGhhcyBleHRyYSBoYW5kbGluZyBmb3IgZmFicmljSlMgb2JqZWN0c1xuICAgKiBpdCBza2lwcyB0aGUgY2FudmFzIGFuZCBncm91cCBwcm9wZXJ0aWVzIGluIGRlZXAgY2xvbmluZy5cbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLm9iamVjdFxuICAgKiBAcGFyYW0ge09iamVjdH0gZGVzdGluYXRpb24gV2hlcmUgdG8gY29weSB0b1xuICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFdoZXJlIHRvIGNvcHkgZnJvbVxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtkZWVwXSBXaGV0aGVyIHRvIGV4dGVuZCBuZXN0ZWQgb2JqZWN0c1xuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqL1xuXG4gIGZ1bmN0aW9uIGV4dGVuZChkZXN0aW5hdGlvbiwgc291cmNlLCBkZWVwKSB7XG4gICAgLy8gSlNjcmlwdCBEb250RW51bSBidWcgaXMgbm90IHRha2VuIGNhcmUgb2ZcbiAgICAvLyB0aGUgZGVlcCBjbG9uZSBpcyBmb3IgaW50ZXJuYWwgdXNlLCBpcyBub3QgbWVhbnQgdG8gYXZvaWRcbiAgICAvLyBqYXZhc2NyaXB0IHRyYXBzIG9yIGNsb25pbmcgaHRtbCBlbGVtZW50IG9yIHNlbGYgcmVmZXJlbmNlZCBvYmplY3RzLlxuICAgIGlmIChkZWVwKSB7XG4gICAgICBpZiAoIWZhYnJpYy5pc0xpa2VseU5vZGUgJiYgc291cmNlIGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgICAgICAvLyBhdm9pZCBjbG9uaW5nIGRlZXAgaW1hZ2VzLCBjYW52YXNlcyxcbiAgICAgICAgZGVzdGluYXRpb24gPSBzb3VyY2U7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICBkZXN0aW5hdGlvbiA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gc291cmNlLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgZGVzdGluYXRpb25baV0gPSBleHRlbmQoeyB9LCBzb3VyY2VbaV0sIGRlZXApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChzb3VyY2UgJiYgdHlwZW9mIHNvdXJjZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gc291cmNlKSB7XG4gICAgICAgICAgaWYgKHByb3BlcnR5ID09PSAnY2FudmFzJyB8fCBwcm9wZXJ0eSA9PT0gJ2dyb3VwJykge1xuICAgICAgICAgICAgLy8gd2UgZG8gbm90IHdhbnQgdG8gY2xvbmUgdGhpcyBwcm9wcyBhdCBhbGwuXG4gICAgICAgICAgICAvLyB3ZSB3YW50IHRvIGtlZXAgdGhlIGtleXMgaW4gdGhlIGNvcHlcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uW3Byb3BlcnR5XSA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIHtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uW3Byb3BlcnR5XSA9IGV4dGVuZCh7IH0sIHNvdXJjZVtwcm9wZXJ0eV0sIGRlZXApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIC8vIHRoaXMgc291bmRzIG9kZCBmb3IgYW4gZXh0ZW5kIGJ1dCBpcyBvayBmb3IgcmVjdXJzaXZlIHVzZVxuICAgICAgICBkZXN0aW5hdGlvbiA9IHNvdXJjZTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBzb3VyY2UpIHtcbiAgICAgICAgZGVzdGluYXRpb25bcHJvcGVydHldID0gc291cmNlW3Byb3BlcnR5XTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRlc3RpbmF0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gZW1wdHkgb2JqZWN0IGFuZCBjb3BpZXMgYWxsIGVudW1lcmFibGUgcHJvcGVydGllcyBvZiBhbm90aGVyIG9iamVjdCB0byBpdFxuICAgKiBUaGlzIG1ldGhvZCBpcyBtb3N0bHkgZm9yIGludGVybmFsIHVzZSwgYW5kIG5vdCBpbnRlbmRlZCBmb3IgZHVwbGljYXRpbmcgc2hhcGVzIGluIGNhbnZhcy4gXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5vYmplY3RcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY2xvbmVcbiAgICogQHBhcmFtIHtCb29sZWFufSBbZGVlcF0gV2hldGhlciB0byBjbG9uZSBuZXN0ZWQgb2JqZWN0c1xuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqL1xuXG4gIC8vVE9ETzogdGhpcyBmdW5jdGlvbiByZXR1cm4gYW4gZW1wdHkgb2JqZWN0IGlmIHlvdSB0cnkgdG8gY2xvbmUgbnVsbFxuICBmdW5jdGlvbiBjbG9uZShvYmplY3QsIGRlZXApIHtcbiAgICByZXR1cm4gZXh0ZW5kKHsgfSwgb2JqZWN0LCBkZWVwKTtcbiAgfVxuXG4gIC8qKiBAbmFtZXNwYWNlIGZhYnJpYy51dGlsLm9iamVjdCAqL1xuICBmYWJyaWMudXRpbC5vYmplY3QgPSB7XG4gICAgZXh0ZW5kOiBleHRlbmQsXG4gICAgY2xvbmU6IGNsb25lXG4gIH07XG4gIGZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQoZmFicmljLnV0aWwsIGZhYnJpYy5PYnNlcnZhYmxlKTtcbn0pKCk7XG5cblxuKGZ1bmN0aW9uKCkge1xuXG4gIC8qKlxuICAgKiBDYW1lbGl6ZXMgYSBzdHJpbmdcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLnN0cmluZ1xuICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nIFN0cmluZyB0byBjYW1lbGl6ZVxuICAgKiBAcmV0dXJuIHtTdHJpbmd9IENhbWVsaXplZCB2ZXJzaW9uIG9mIGEgc3RyaW5nXG4gICAqL1xuICBmdW5jdGlvbiBjYW1lbGl6ZShzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoLy0rKC4pPy9nLCBmdW5jdGlvbihtYXRjaCwgY2hhcmFjdGVyKSB7XG4gICAgICByZXR1cm4gY2hhcmFjdGVyID8gY2hhcmFjdGVyLnRvVXBwZXJDYXNlKCkgOiAnJztcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYXBpdGFsaXplcyBhIHN0cmluZ1xuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuc3RyaW5nXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmcgU3RyaW5nIHRvIGNhcGl0YWxpemVcbiAgICogQHBhcmFtIHtCb29sZWFufSBbZmlyc3RMZXR0ZXJPbmx5XSBJZiB0cnVlIG9ubHkgZmlyc3QgbGV0dGVyIGlzIGNhcGl0YWxpemVkXG4gICAqIGFuZCBvdGhlciBsZXR0ZXJzIHN0YXkgdW50b3VjaGVkLCBpZiBmYWxzZSBmaXJzdCBsZXR0ZXIgaXMgY2FwaXRhbGl6ZWRcbiAgICogYW5kIG90aGVyIGxldHRlcnMgYXJlIGNvbnZlcnRlZCB0byBsb3dlcmNhc2UuXG4gICAqIEByZXR1cm4ge1N0cmluZ30gQ2FwaXRhbGl6ZWQgdmVyc2lvbiBvZiBhIHN0cmluZ1xuICAgKi9cbiAgZnVuY3Rpb24gY2FwaXRhbGl6ZShzdHJpbmcsIGZpcnN0TGV0dGVyT25seSkge1xuICAgIHJldHVybiBzdHJpbmcuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgKGZpcnN0TGV0dGVyT25seSA/IHN0cmluZy5zbGljZSgxKSA6IHN0cmluZy5zbGljZSgxKS50b0xvd2VyQ2FzZSgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFc2NhcGVzIFhNTCBpbiBhIHN0cmluZ1xuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuc3RyaW5nXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmcgU3RyaW5nIHRvIGVzY2FwZVxuICAgKiBAcmV0dXJuIHtTdHJpbmd9IEVzY2FwZWQgdmVyc2lvbiBvZiBhIHN0cmluZ1xuICAgKi9cbiAgZnVuY3Rpb24gZXNjYXBlWG1sKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcucmVwbGFjZSgvJi9nLCAnJmFtcDsnKVxuICAgICAgLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKVxuICAgICAgLnJlcGxhY2UoLycvZywgJyZhcG9zOycpXG4gICAgICAucmVwbGFjZSgvPC9nLCAnJmx0OycpXG4gICAgICAucmVwbGFjZSgvPi9nLCAnJmd0OycpO1xuICB9XG5cbiAgLyoqXG4gICAqIERpdmlkZSBhIHN0cmluZyBpbiB0aGUgdXNlciBwZXJjZWl2ZWQgc2luZ2xlIHVuaXRzXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5zdHJpbmdcbiAgICogQHBhcmFtIHtTdHJpbmd9IHRleHRzdHJpbmcgU3RyaW5nIHRvIGVzY2FwZVxuICAgKiBAcmV0dXJuIHtBcnJheX0gYXJyYXkgY29udGFpbmluZyB0aGUgZ3JhcGhlbWVzXG4gICAqL1xuICBmdW5jdGlvbiBncmFwaGVtZVNwbGl0KHRleHRzdHJpbmcpIHtcbiAgICB2YXIgaSA9IDAsIGNociwgZ3JhcGhlbWVzID0gW107XG4gICAgZm9yIChpID0gMCwgY2hyOyBpIDwgdGV4dHN0cmluZy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKChjaHIgPSBnZXRXaG9sZUNoYXIodGV4dHN0cmluZywgaSkpID09PSBmYWxzZSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGdyYXBoZW1lcy5wdXNoKGNocik7XG4gICAgfVxuICAgIHJldHVybiBncmFwaGVtZXM7XG4gIH1cblxuICAvLyB0YWtlbiBmcm9tIG1kbiBpbiB0aGUgY2hhckF0IGRvYyBwYWdlLlxuICBmdW5jdGlvbiBnZXRXaG9sZUNoYXIoc3RyLCBpKSB7XG4gICAgdmFyIGNvZGUgPSBzdHIuY2hhckNvZGVBdChpKTtcblxuICAgIGlmIChpc05hTihjb2RlKSkge1xuICAgICAgcmV0dXJuICcnOyAvLyBQb3NpdGlvbiBub3QgZm91bmRcbiAgICB9XG4gICAgaWYgKGNvZGUgPCAweEQ4MDAgfHwgY29kZSA+IDB4REZGRikge1xuICAgICAgcmV0dXJuIHN0ci5jaGFyQXQoaSk7XG4gICAgfVxuXG4gICAgLy8gSGlnaCBzdXJyb2dhdGUgKGNvdWxkIGNoYW5nZSBsYXN0IGhleCB0byAweERCN0YgdG8gdHJlYXQgaGlnaCBwcml2YXRlXG4gICAgLy8gc3Vycm9nYXRlcyBhcyBzaW5nbGUgY2hhcmFjdGVycylcbiAgICBpZiAoMHhEODAwIDw9IGNvZGUgJiYgY29kZSA8PSAweERCRkYpIHtcbiAgICAgIGlmIChzdHIubGVuZ3RoIDw9IChpICsgMSkpIHtcbiAgICAgICAgdGhyb3cgJ0hpZ2ggc3Vycm9nYXRlIHdpdGhvdXQgZm9sbG93aW5nIGxvdyBzdXJyb2dhdGUnO1xuICAgICAgfVxuICAgICAgdmFyIG5leHQgPSBzdHIuY2hhckNvZGVBdChpICsgMSk7XG4gICAgICBpZiAoMHhEQzAwID4gbmV4dCB8fCBuZXh0ID4gMHhERkZGKSB7XG4gICAgICAgIHRocm93ICdIaWdoIHN1cnJvZ2F0ZSB3aXRob3V0IGZvbGxvd2luZyBsb3cgc3Vycm9nYXRlJztcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHIuY2hhckF0KGkpICsgc3RyLmNoYXJBdChpICsgMSk7XG4gICAgfVxuICAgIC8vIExvdyBzdXJyb2dhdGUgKDB4REMwMCA8PSBjb2RlICYmIGNvZGUgPD0gMHhERkZGKVxuICAgIGlmIChpID09PSAwKSB7XG4gICAgICB0aHJvdyAnTG93IHN1cnJvZ2F0ZSB3aXRob3V0IHByZWNlZGluZyBoaWdoIHN1cnJvZ2F0ZSc7XG4gICAgfVxuICAgIHZhciBwcmV2ID0gc3RyLmNoYXJDb2RlQXQoaSAtIDEpO1xuXG4gICAgLy8gKGNvdWxkIGNoYW5nZSBsYXN0IGhleCB0byAweERCN0YgdG8gdHJlYXQgaGlnaCBwcml2YXRlXG4gICAgLy8gc3Vycm9nYXRlcyBhcyBzaW5nbGUgY2hhcmFjdGVycylcbiAgICBpZiAoMHhEODAwID4gcHJldiB8fCBwcmV2ID4gMHhEQkZGKSB7XG4gICAgICB0aHJvdyAnTG93IHN1cnJvZ2F0ZSB3aXRob3V0IHByZWNlZGluZyBoaWdoIHN1cnJvZ2F0ZSc7XG4gICAgfVxuICAgIC8vIFdlIGNhbiBwYXNzIG92ZXIgbG93IHN1cnJvZ2F0ZXMgbm93IGFzIHRoZSBzZWNvbmQgY29tcG9uZW50XG4gICAgLy8gaW4gYSBwYWlyIHdoaWNoIHdlIGhhdmUgYWxyZWFkeSBwcm9jZXNzZWRcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBTdHJpbmcgdXRpbGl0aWVzXG4gICAqIEBuYW1lc3BhY2UgZmFicmljLnV0aWwuc3RyaW5nXG4gICAqL1xuICBmYWJyaWMudXRpbC5zdHJpbmcgPSB7XG4gICAgY2FtZWxpemU6IGNhbWVsaXplLFxuICAgIGNhcGl0YWxpemU6IGNhcGl0YWxpemUsXG4gICAgZXNjYXBlWG1sOiBlc2NhcGVYbWwsXG4gICAgZ3JhcGhlbWVTcGxpdDogZ3JhcGhlbWVTcGxpdFxuICB9O1xufSkoKTtcblxuXG4oZnVuY3Rpb24oKSB7XG5cbiAgdmFyIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLCBlbXB0eUZ1bmN0aW9uID0gZnVuY3Rpb24oKSB7IH0sXG5cbiAgICAgIElTX0RPTlRFTlVNX0JVR0dZID0gKGZ1bmN0aW9uKCkge1xuICAgICAgICBmb3IgKHZhciBwIGluIHsgdG9TdHJpbmc6IDEgfSkge1xuICAgICAgICAgIGlmIChwID09PSAndG9TdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSkoKSxcblxuICAgICAgLyoqIEBpZ25vcmUgKi9cbiAgICAgIGFkZE1ldGhvZHMgPSBmdW5jdGlvbihrbGFzcywgc291cmNlLCBwYXJlbnQpIHtcbiAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gc291cmNlKSB7XG5cbiAgICAgICAgICBpZiAocHJvcGVydHkgaW4ga2xhc3MucHJvdG90eXBlICYmXG4gICAgICAgICAgICAgIHR5cGVvZiBrbGFzcy5wcm90b3R5cGVbcHJvcGVydHldID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAgICAgICAgIChzb3VyY2VbcHJvcGVydHldICsgJycpLmluZGV4T2YoJ2NhbGxTdXBlcicpID4gLTEpIHtcblxuICAgICAgICAgICAga2xhc3MucHJvdG90eXBlW3Byb3BlcnR5XSA9IChmdW5jdGlvbihwcm9wZXJ0eSkge1xuICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgc3VwZXJjbGFzcyA9IHRoaXMuY29uc3RydWN0b3Iuc3VwZXJjbGFzcztcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cnVjdG9yLnN1cGVyY2xhc3MgPSBwYXJlbnQ7XG4gICAgICAgICAgICAgICAgdmFyIHJldHVyblZhbHVlID0gc291cmNlW3Byb3BlcnR5XS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29uc3RydWN0b3Iuc3VwZXJjbGFzcyA9IHN1cGVyY2xhc3M7XG5cbiAgICAgICAgICAgICAgICBpZiAocHJvcGVydHkgIT09ICdpbml0aWFsaXplJykge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pKHByb3BlcnR5KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBrbGFzcy5wcm90b3R5cGVbcHJvcGVydHldID0gc291cmNlW3Byb3BlcnR5XTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoSVNfRE9OVEVOVU1fQlVHR1kpIHtcbiAgICAgICAgICAgIGlmIChzb3VyY2UudG9TdHJpbmcgIT09IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcpIHtcbiAgICAgICAgICAgICAga2xhc3MucHJvdG90eXBlLnRvU3RyaW5nID0gc291cmNlLnRvU3RyaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNvdXJjZS52YWx1ZU9mICE9PSBPYmplY3QucHJvdG90eXBlLnZhbHVlT2YpIHtcbiAgICAgICAgICAgICAga2xhc3MucHJvdG90eXBlLnZhbHVlT2YgPSBzb3VyY2UudmFsdWVPZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgZnVuY3Rpb24gU3ViY2xhc3MoKSB7IH1cblxuICBmdW5jdGlvbiBjYWxsU3VwZXIobWV0aG9kTmFtZSkge1xuICAgIHZhciBwYXJlbnRNZXRob2QgPSBudWxsLFxuICAgICAgICBfdGhpcyA9IHRoaXM7XG5cbiAgICAvLyBjbGltYiBwcm90b3R5cGUgY2hhaW4gdG8gZmluZCBtZXRob2Qgbm90IGVxdWFsIHRvIGNhbGxlZSdzIG1ldGhvZFxuICAgIHdoaWxlIChfdGhpcy5jb25zdHJ1Y3Rvci5zdXBlcmNsYXNzKSB7XG4gICAgICB2YXIgc3VwZXJDbGFzc01ldGhvZCA9IF90aGlzLmNvbnN0cnVjdG9yLnN1cGVyY2xhc3MucHJvdG90eXBlW21ldGhvZE5hbWVdO1xuICAgICAgaWYgKF90aGlzW21ldGhvZE5hbWVdICE9PSBzdXBlckNsYXNzTWV0aG9kKSB7XG4gICAgICAgIHBhcmVudE1ldGhvZCA9IHN1cGVyQ2xhc3NNZXRob2Q7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICBfdGhpcyA9IF90aGlzLmNvbnN0cnVjdG9yLnN1cGVyY2xhc3MucHJvdG90eXBlO1xuICAgIH1cblxuICAgIGlmICghcGFyZW50TWV0aG9kKSB7XG4gICAgICByZXR1cm4gY29uc29sZS5sb2coJ3RyaWVkIHRvIGNhbGxTdXBlciAnICsgbWV0aG9kTmFtZSArICcsIG1ldGhvZCBub3QgZm91bmQgaW4gcHJvdG90eXBlIGNoYWluJywgdGhpcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIChhcmd1bWVudHMubGVuZ3RoID4gMSlcbiAgICAgID8gcGFyZW50TWV0aG9kLmFwcGx5KHRoaXMsIHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSlcbiAgICAgIDogcGFyZW50TWV0aG9kLmNhbGwodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogSGVscGVyIGZvciBjcmVhdGlvbiBvZiBcImNsYXNzZXNcIi5cbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwYXJlbnRdIG9wdGlvbmFsIFwiQ2xhc3NcIiB0byBpbmhlcml0IGZyb21cbiAgICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHNoYXJlZCBieSBhbGwgaW5zdGFuY2VzIG9mIHRoaXMgY2xhc3NcbiAgICogICAgICAgICAgICAgICAgICAoYmUgY2FyZWZ1bCBtb2RpZnlpbmcgb2JqZWN0cyBkZWZpbmVkIGhlcmUgYXMgdGhpcyB3b3VsZCBhZmZlY3QgYWxsIGluc3RhbmNlcylcbiAgICovXG4gIGZ1bmN0aW9uIGNyZWF0ZUNsYXNzKCkge1xuICAgIHZhciBwYXJlbnQgPSBudWxsLFxuICAgICAgICBwcm9wZXJ0aWVzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuXG4gICAgaWYgKHR5cGVvZiBwcm9wZXJ0aWVzWzBdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBwYXJlbnQgPSBwcm9wZXJ0aWVzLnNoaWZ0KCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGtsYXNzKCkge1xuICAgICAgdGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAga2xhc3Muc3VwZXJjbGFzcyA9IHBhcmVudDtcbiAgICBrbGFzcy5zdWJjbGFzc2VzID0gW107XG5cbiAgICBpZiAocGFyZW50KSB7XG4gICAgICBTdWJjbGFzcy5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlO1xuICAgICAga2xhc3MucHJvdG90eXBlID0gbmV3IFN1YmNsYXNzKCk7XG4gICAgICBwYXJlbnQuc3ViY2xhc3Nlcy5wdXNoKGtsYXNzKTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHByb3BlcnRpZXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGFkZE1ldGhvZHMoa2xhc3MsIHByb3BlcnRpZXNbaV0sIHBhcmVudCk7XG4gICAgfVxuICAgIGlmICgha2xhc3MucHJvdG90eXBlLmluaXRpYWxpemUpIHtcbiAgICAgIGtsYXNzLnByb3RvdHlwZS5pbml0aWFsaXplID0gZW1wdHlGdW5jdGlvbjtcbiAgICB9XG4gICAga2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0ga2xhc3M7XG4gICAga2xhc3MucHJvdG90eXBlLmNhbGxTdXBlciA9IGNhbGxTdXBlcjtcbiAgICByZXR1cm4ga2xhc3M7XG4gIH1cblxuICBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcyA9IGNyZWF0ZUNsYXNzO1xufSkoKTtcblxuXG4oZnVuY3Rpb24gKCkge1xuICAvLyBzaW5jZSBpZTExIGNhbiB1c2UgYWRkRXZlbnRMaXN0ZW5lciBidXQgdGhleSBkbyBub3Qgc3VwcG9ydCBvcHRpb25zLCBpIG5lZWQgdG8gY2hlY2tcbiAgdmFyIGNvdWxkVXNlQXR0YWNoRXZlbnQgPSAhIWZhYnJpYy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKS5hdHRhY2hFdmVudCxcbiAgICAgIHRvdWNoRXZlbnRzID0gWyd0b3VjaHN0YXJ0JywgJ3RvdWNobW92ZScsICd0b3VjaGVuZCddO1xuICAvKipcbiAgICogQWRkcyBhbiBldmVudCBsaXN0ZW5lciB0byBhbiBlbGVtZW50XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnROYW1lXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXJcbiAgICovXG4gIGZhYnJpYy51dGlsLmFkZExpc3RlbmVyID0gZnVuY3Rpb24oZWxlbWVudCwgZXZlbnROYW1lLCBoYW5kbGVyLCBvcHRpb25zKSB7XG4gICAgZWxlbWVudCAmJiBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBoYW5kbGVyLCBjb3VsZFVzZUF0dGFjaEV2ZW50ID8gZmFsc2UgOiBvcHRpb25zKTtcbiAgfTtcblxuICAvKipcbiAgICogUmVtb3ZlcyBhbiBldmVudCBsaXN0ZW5lciBmcm9tIGFuIGVsZW1lbnRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudE5hbWVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlclxuICAgKi9cbiAgZmFicmljLnV0aWwucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbihlbGVtZW50LCBldmVudE5hbWUsIGhhbmRsZXIsIG9wdGlvbnMpIHtcbiAgICBlbGVtZW50ICYmIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIsIGNvdWxkVXNlQXR0YWNoRXZlbnQgPyBmYWxzZSA6IG9wdGlvbnMpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGdldFRvdWNoSW5mbyhldmVudCkge1xuICAgIHZhciB0b3VjaFByb3AgPSBldmVudC5jaGFuZ2VkVG91Y2hlcztcbiAgICBpZiAodG91Y2hQcm9wICYmIHRvdWNoUHJvcFswXSkge1xuICAgICAgcmV0dXJuIHRvdWNoUHJvcFswXTtcbiAgICB9XG4gICAgcmV0dXJuIGV2ZW50O1xuICB9XG5cbiAgZmFicmljLnV0aWwuZ2V0UG9pbnRlciA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGVsZW1lbnQgPSBldmVudC50YXJnZXQsXG4gICAgICAgIHNjcm9sbCA9IGZhYnJpYy51dGlsLmdldFNjcm9sbExlZnRUb3AoZWxlbWVudCksXG4gICAgICAgIF9ldnQgPSBnZXRUb3VjaEluZm8oZXZlbnQpO1xuICAgIHJldHVybiB7XG4gICAgICB4OiBfZXZ0LmNsaWVudFggKyBzY3JvbGwubGVmdCxcbiAgICAgIHk6IF9ldnQuY2xpZW50WSArIHNjcm9sbC50b3BcbiAgICB9O1xuICB9O1xuXG4gIGZhYnJpYy51dGlsLmlzVG91Y2hFdmVudCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgcmV0dXJuIHRvdWNoRXZlbnRzLmluZGV4T2YoZXZlbnQudHlwZSkgPiAtMSB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJztcbiAgfTtcbn0pKCk7XG5cblxuKGZ1bmN0aW9uICgpIHtcblxuICAvKipcbiAgICogQ3Jvc3MtYnJvd3NlciB3cmFwcGVyIGZvciBzZXR0aW5nIGVsZW1lbnQncyBzdHlsZVxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICAgKiBAcGFyYW0ge09iamVjdH0gc3R5bGVzXG4gICAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSBFbGVtZW50IHRoYXQgd2FzIHBhc3NlZCBhcyBhIGZpcnN0IGFyZ3VtZW50XG4gICAqL1xuICBmdW5jdGlvbiBzZXRTdHlsZShlbGVtZW50LCBzdHlsZXMpIHtcbiAgICB2YXIgZWxlbWVudFN0eWxlID0gZWxlbWVudC5zdHlsZTtcbiAgICBpZiAoIWVsZW1lbnRTdHlsZSkge1xuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc3R5bGVzID09PSAnc3RyaW5nJykge1xuICAgICAgZWxlbWVudC5zdHlsZS5jc3NUZXh0ICs9ICc7JyArIHN0eWxlcztcbiAgICAgIHJldHVybiBzdHlsZXMuaW5kZXhPZignb3BhY2l0eScpID4gLTFcbiAgICAgICAgPyBzZXRPcGFjaXR5KGVsZW1lbnQsIHN0eWxlcy5tYXRjaCgvb3BhY2l0eTpcXHMqKFxcZD9cXC4/XFxkKikvKVsxXSlcbiAgICAgICAgOiBlbGVtZW50O1xuICAgIH1cbiAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBzdHlsZXMpIHtcbiAgICAgIGlmIChwcm9wZXJ0eSA9PT0gJ29wYWNpdHknKSB7XG4gICAgICAgIHNldE9wYWNpdHkoZWxlbWVudCwgc3R5bGVzW3Byb3BlcnR5XSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdmFyIG5vcm1hbGl6ZWRQcm9wZXJ0eSA9IChwcm9wZXJ0eSA9PT0gJ2Zsb2F0JyB8fCBwcm9wZXJ0eSA9PT0gJ2Nzc0Zsb2F0JylcbiAgICAgICAgICA/ICh0eXBlb2YgZWxlbWVudFN0eWxlLnN0eWxlRmxvYXQgPT09ICd1bmRlZmluZWQnID8gJ2Nzc0Zsb2F0JyA6ICdzdHlsZUZsb2F0JylcbiAgICAgICAgICA6IHByb3BlcnR5O1xuICAgICAgICBlbGVtZW50U3R5bGUuc2V0UHJvcGVydHkobm9ybWFsaXplZFByb3BlcnR5LCBzdHlsZXNbcHJvcGVydHldKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH1cblxuICB2YXIgcGFyc2VFbCA9IGZhYnJpYy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICAgIHN1cHBvcnRzT3BhY2l0eSA9IHR5cGVvZiBwYXJzZUVsLnN0eWxlLm9wYWNpdHkgPT09ICdzdHJpbmcnLFxuICAgICAgc3VwcG9ydHNGaWx0ZXJzID0gdHlwZW9mIHBhcnNlRWwuc3R5bGUuZmlsdGVyID09PSAnc3RyaW5nJyxcbiAgICAgIHJlT3BhY2l0eSA9IC9hbHBoYVxccypcXChcXHMqb3BhY2l0eVxccyo9XFxzKihbXlxcKV0rKVxcKS8sXG5cbiAgICAgIC8qKiBAaWdub3JlICovXG4gICAgICBzZXRPcGFjaXR5ID0gZnVuY3Rpb24gKGVsZW1lbnQpIHsgcmV0dXJuIGVsZW1lbnQ7IH07XG5cbiAgaWYgKHN1cHBvcnRzT3BhY2l0eSkge1xuICAgIC8qKiBAaWdub3JlICovXG4gICAgc2V0T3BhY2l0eSA9IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlKSB7XG4gICAgICBlbGVtZW50LnN0eWxlLm9wYWNpdHkgPSB2YWx1ZTtcbiAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH07XG4gIH1cbiAgZWxzZSBpZiAoc3VwcG9ydHNGaWx0ZXJzKSB7XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBzZXRPcGFjaXR5ID0gZnVuY3Rpb24oZWxlbWVudCwgdmFsdWUpIHtcbiAgICAgIHZhciBlcyA9IGVsZW1lbnQuc3R5bGU7XG4gICAgICBpZiAoZWxlbWVudC5jdXJyZW50U3R5bGUgJiYgIWVsZW1lbnQuY3VycmVudFN0eWxlLmhhc0xheW91dCkge1xuICAgICAgICBlcy56b29tID0gMTtcbiAgICAgIH1cbiAgICAgIGlmIChyZU9wYWNpdHkudGVzdChlcy5maWx0ZXIpKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUgPj0gMC45OTk5ID8gJycgOiAoJ2FscGhhKG9wYWNpdHk9JyArICh2YWx1ZSAqIDEwMCkgKyAnKScpO1xuICAgICAgICBlcy5maWx0ZXIgPSBlcy5maWx0ZXIucmVwbGFjZShyZU9wYWNpdHksIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBlcy5maWx0ZXIgKz0gJyBhbHBoYShvcGFjaXR5PScgKyAodmFsdWUgKiAxMDApICsgJyknO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfTtcbiAgfVxuXG4gIGZhYnJpYy51dGlsLnNldFN0eWxlID0gc2V0U3R5bGU7XG5cbn0pKCk7XG5cblxuKGZ1bmN0aW9uKCkge1xuXG4gIHZhciBfc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG5cbiAgLyoqXG4gICAqIFRha2VzIGlkIGFuZCByZXR1cm5zIGFuIGVsZW1lbnQgd2l0aCB0aGF0IGlkIChpZiBvbmUgZXhpc3RzIGluIGEgZG9jdW1lbnQpXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgKiBAcGFyYW0ge1N0cmluZ3xIVE1MRWxlbWVudH0gaWRcbiAgICogQHJldHVybiB7SFRNTEVsZW1lbnR8bnVsbH1cbiAgICovXG4gIGZ1bmN0aW9uIGdldEJ5SWQoaWQpIHtcbiAgICByZXR1cm4gdHlwZW9mIGlkID09PSAnc3RyaW5nJyA/IGZhYnJpYy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkgOiBpZDtcbiAgfVxuXG4gIHZhciBzbGljZUNhbkNvbnZlcnROb2RlbGlzdHMsXG4gICAgICAvKipcbiAgICAgICAqIENvbnZlcnRzIGFuIGFycmF5LWxpa2Ugb2JqZWN0IChlLmcuIGFyZ3VtZW50cyBvciBOb2RlTGlzdCkgdG8gYW4gYXJyYXlcbiAgICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAgICogQHBhcmFtIHtPYmplY3R9IGFycmF5TGlrZVxuICAgICAgICogQHJldHVybiB7QXJyYXl9XG4gICAgICAgKi9cbiAgICAgIHRvQXJyYXkgPSBmdW5jdGlvbihhcnJheUxpa2UpIHtcbiAgICAgICAgcmV0dXJuIF9zbGljZS5jYWxsKGFycmF5TGlrZSwgMCk7XG4gICAgICB9O1xuXG4gIHRyeSB7XG4gICAgc2xpY2VDYW5Db252ZXJ0Tm9kZWxpc3RzID0gdG9BcnJheShmYWJyaWMuZG9jdW1lbnQuY2hpbGROb2RlcykgaW5zdGFuY2VvZiBBcnJheTtcbiAgfVxuICBjYXRjaCAoZXJyKSB7IH1cblxuICBpZiAoIXNsaWNlQ2FuQ29udmVydE5vZGVsaXN0cykge1xuICAgIHRvQXJyYXkgPSBmdW5jdGlvbihhcnJheUxpa2UpIHtcbiAgICAgIHZhciBhcnIgPSBuZXcgQXJyYXkoYXJyYXlMaWtlLmxlbmd0aCksIGkgPSBhcnJheUxpa2UubGVuZ3RoO1xuICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICBhcnJbaV0gPSBhcnJheUxpa2VbaV07XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBzcGVjaWZpZWQgZWxlbWVudCB3aXRoIHNwZWNpZmllZCBhdHRyaWJ1dGVzXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgKiBAcGFyYW0ge1N0cmluZ30gdGFnTmFtZSBUeXBlIG9mIGFuIGVsZW1lbnQgdG8gY3JlYXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbYXR0cmlidXRlc10gQXR0cmlidXRlcyB0byBzZXQgb24gYW4gZWxlbWVudFxuICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gTmV3bHkgY3JlYXRlZCBlbGVtZW50XG4gICAqL1xuICBmdW5jdGlvbiBtYWtlRWxlbWVudCh0YWdOYW1lLCBhdHRyaWJ1dGVzKSB7XG4gICAgdmFyIGVsID0gZmFicmljLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSk7XG4gICAgZm9yICh2YXIgcHJvcCBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICBpZiAocHJvcCA9PT0gJ2NsYXNzJykge1xuICAgICAgICBlbC5jbGFzc05hbWUgPSBhdHRyaWJ1dGVzW3Byb3BdO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAocHJvcCA9PT0gJ2ZvcicpIHtcbiAgICAgICAgZWwuaHRtbEZvciA9IGF0dHJpYnV0ZXNbcHJvcF07XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKHByb3AsIGF0dHJpYnV0ZXNbcHJvcF0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZWw7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBjbGFzcyB0byBhbiBlbGVtZW50XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IEVsZW1lbnQgdG8gYWRkIGNsYXNzIHRvXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjbGFzc05hbWUgQ2xhc3MgdG8gYWRkIHRvIGFuIGVsZW1lbnRcbiAgICovXG4gIGZ1bmN0aW9uIGFkZENsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICAgIGlmIChlbGVtZW50ICYmICgnICcgKyBlbGVtZW50LmNsYXNzTmFtZSArICcgJykuaW5kZXhPZignICcgKyBjbGFzc05hbWUgKyAnICcpID09PSAtMSkge1xuICAgICAgZWxlbWVudC5jbGFzc05hbWUgKz0gKGVsZW1lbnQuY2xhc3NOYW1lID8gJyAnIDogJycpICsgY2xhc3NOYW1lO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBXcmFwcyBlbGVtZW50IHdpdGggYW5vdGhlciBlbGVtZW50XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IEVsZW1lbnQgdG8gd3JhcFxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fFN0cmluZ30gd3JhcHBlciBFbGVtZW50IHRvIHdyYXAgd2l0aFxuICAgKiBAcGFyYW0ge09iamVjdH0gW2F0dHJpYnV0ZXNdIEF0dHJpYnV0ZXMgdG8gc2V0IG9uIGEgd3JhcHBlclxuICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gd3JhcHBlclxuICAgKi9cbiAgZnVuY3Rpb24gd3JhcEVsZW1lbnQoZWxlbWVudCwgd3JhcHBlciwgYXR0cmlidXRlcykge1xuICAgIGlmICh0eXBlb2Ygd3JhcHBlciA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHdyYXBwZXIgPSBtYWtlRWxlbWVudCh3cmFwcGVyLCBhdHRyaWJ1dGVzKTtcbiAgICB9XG4gICAgaWYgKGVsZW1lbnQucGFyZW50Tm9kZSkge1xuICAgICAgZWxlbWVudC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZCh3cmFwcGVyLCBlbGVtZW50KTtcbiAgICB9XG4gICAgd3JhcHBlci5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICByZXR1cm4gd3JhcHBlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGVsZW1lbnQgc2Nyb2xsIG9mZnNldHNcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCB0byBvcGVyYXRlIG9uXG4gICAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IHdpdGggbGVmdC90b3AgdmFsdWVzXG4gICAqL1xuICBmdW5jdGlvbiBnZXRTY3JvbGxMZWZ0VG9wKGVsZW1lbnQpIHtcblxuICAgIHZhciBsZWZ0ID0gMCxcbiAgICAgICAgdG9wID0gMCxcbiAgICAgICAgZG9jRWxlbWVudCA9IGZhYnJpYy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsXG4gICAgICAgIGJvZHkgPSBmYWJyaWMuZG9jdW1lbnQuYm9keSB8fCB7XG4gICAgICAgICAgc2Nyb2xsTGVmdDogMCwgc2Nyb2xsVG9wOiAwXG4gICAgICAgIH07XG5cbiAgICAvLyBXaGlsZSBsb29wIGNoZWNrcyAoYW5kIHRoZW4gc2V0cyBlbGVtZW50IHRvKSAucGFyZW50Tm9kZSBPUiAuaG9zdFxuICAgIC8vICB0byBhY2NvdW50IGZvciBTaGFkb3dET00uIFdlIHN0aWxsIHdhbnQgdG8gdHJhdmVyc2UgdXAgb3V0IG9mIFNoYWRvd0RPTSxcbiAgICAvLyAgYnV0IHRoZSAucGFyZW50Tm9kZSBvZiBhIHJvb3QgU2hhZG93RE9NIG5vZGUgd2lsbCBhbHdheXMgYmUgbnVsbCwgaW5zdGVhZFxuICAgIC8vICBpdCBzaG91bGQgYmUgYWNjZXNzZWQgdGhyb3VnaCAuaG9zdC4gU2VlIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI0NzY1NTI4LzQzODM5MzhcbiAgICB3aGlsZSAoZWxlbWVudCAmJiAoZWxlbWVudC5wYXJlbnROb2RlIHx8IGVsZW1lbnQuaG9zdCkpIHtcblxuICAgICAgLy8gU2V0IGVsZW1lbnQgdG8gZWxlbWVudCBwYXJlbnQsIG9yICdob3N0JyBpbiBjYXNlIG9mIFNoYWRvd0RPTVxuICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZSB8fCBlbGVtZW50Lmhvc3Q7XG5cbiAgICAgIGlmIChlbGVtZW50ID09PSBmYWJyaWMuZG9jdW1lbnQpIHtcbiAgICAgICAgbGVmdCA9IGJvZHkuc2Nyb2xsTGVmdCB8fCBkb2NFbGVtZW50LnNjcm9sbExlZnQgfHwgMDtcbiAgICAgICAgdG9wID0gYm9keS5zY3JvbGxUb3AgfHwgIGRvY0VsZW1lbnQuc2Nyb2xsVG9wIHx8IDA7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgbGVmdCArPSBlbGVtZW50LnNjcm9sbExlZnQgfHwgMDtcbiAgICAgICAgdG9wICs9IGVsZW1lbnQuc2Nyb2xsVG9wIHx8IDA7XG4gICAgICB9XG5cbiAgICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlID09PSAxICYmIGVsZW1lbnQuc3R5bGUucG9zaXRpb24gPT09ICdmaXhlZCcpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgbGVmdDogbGVmdCwgdG9wOiB0b3AgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIG9mZnNldCBmb3IgYSBnaXZlbiBlbGVtZW50XG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBFbGVtZW50IHRvIGdldCBvZmZzZXQgZm9yXG4gICAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IHdpdGggXCJsZWZ0XCIgYW5kIFwidG9wXCIgcHJvcGVydGllc1xuICAgKi9cbiAgZnVuY3Rpb24gZ2V0RWxlbWVudE9mZnNldChlbGVtZW50KSB7XG4gICAgdmFyIGRvY0VsZW0sXG4gICAgICAgIGRvYyA9IGVsZW1lbnQgJiYgZWxlbWVudC5vd25lckRvY3VtZW50LFxuICAgICAgICBib3ggPSB7IGxlZnQ6IDAsIHRvcDogMCB9LFxuICAgICAgICBvZmZzZXQgPSB7IGxlZnQ6IDAsIHRvcDogMCB9LFxuICAgICAgICBzY3JvbGxMZWZ0VG9wLFxuICAgICAgICBvZmZzZXRBdHRyaWJ1dGVzID0ge1xuICAgICAgICAgIGJvcmRlckxlZnRXaWR0aDogJ2xlZnQnLFxuICAgICAgICAgIGJvcmRlclRvcFdpZHRoOiAgJ3RvcCcsXG4gICAgICAgICAgcGFkZGluZ0xlZnQ6ICAgICAnbGVmdCcsXG4gICAgICAgICAgcGFkZGluZ1RvcDogICAgICAndG9wJ1xuICAgICAgICB9O1xuXG4gICAgaWYgKCFkb2MpIHtcbiAgICAgIHJldHVybiBvZmZzZXQ7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgYXR0ciBpbiBvZmZzZXRBdHRyaWJ1dGVzKSB7XG4gICAgICBvZmZzZXRbb2Zmc2V0QXR0cmlidXRlc1thdHRyXV0gKz0gcGFyc2VJbnQoZ2V0RWxlbWVudFN0eWxlKGVsZW1lbnQsIGF0dHIpLCAxMCkgfHwgMDtcbiAgICB9XG5cbiAgICBkb2NFbGVtID0gZG9jLmRvY3VtZW50RWxlbWVudDtcbiAgICBpZiAoIHR5cGVvZiBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCAhPT0gJ3VuZGVmaW5lZCcgKSB7XG4gICAgICBib3ggPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIH1cblxuICAgIHNjcm9sbExlZnRUb3AgPSBnZXRTY3JvbGxMZWZ0VG9wKGVsZW1lbnQpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGxlZnQ6IGJveC5sZWZ0ICsgc2Nyb2xsTGVmdFRvcC5sZWZ0IC0gKGRvY0VsZW0uY2xpZW50TGVmdCB8fCAwKSArIG9mZnNldC5sZWZ0LFxuICAgICAgdG9wOiBib3gudG9wICsgc2Nyb2xsTGVmdFRvcC50b3AgLSAoZG9jRWxlbS5jbGllbnRUb3AgfHwgMCkgICsgb2Zmc2V0LnRvcFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBzdHlsZSBhdHRyaWJ1dGUgdmFsdWUgb2YgYSBnaXZlbiBlbGVtZW50XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IEVsZW1lbnQgdG8gZ2V0IHN0eWxlIGF0dHJpYnV0ZSBmb3JcbiAgICogQHBhcmFtIHtTdHJpbmd9IGF0dHIgU3R5bGUgYXR0cmlidXRlIHRvIGdldCBmb3IgZWxlbWVudFxuICAgKiBAcmV0dXJuIHtTdHJpbmd9IFN0eWxlIGF0dHJpYnV0ZSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICovXG4gIHZhciBnZXRFbGVtZW50U3R5bGU7XG4gIGlmIChmYWJyaWMuZG9jdW1lbnQuZGVmYXVsdFZpZXcgJiYgZmFicmljLmRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUpIHtcbiAgICBnZXRFbGVtZW50U3R5bGUgPSBmdW5jdGlvbihlbGVtZW50LCBhdHRyKSB7XG4gICAgICB2YXIgc3R5bGUgPSBmYWJyaWMuZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCBudWxsKTtcbiAgICAgIHJldHVybiBzdHlsZSA/IHN0eWxlW2F0dHJdIDogdW5kZWZpbmVkO1xuICAgIH07XG4gIH1cbiAgZWxzZSB7XG4gICAgZ2V0RWxlbWVudFN0eWxlID0gZnVuY3Rpb24oZWxlbWVudCwgYXR0cikge1xuICAgICAgdmFyIHZhbHVlID0gZWxlbWVudC5zdHlsZVthdHRyXTtcbiAgICAgIGlmICghdmFsdWUgJiYgZWxlbWVudC5jdXJyZW50U3R5bGUpIHtcbiAgICAgICAgdmFsdWUgPSBlbGVtZW50LmN1cnJlbnRTdHlsZVthdHRyXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuICB9XG5cbiAgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc3R5bGUgPSBmYWJyaWMuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLFxuICAgICAgICBzZWxlY3RQcm9wID0gJ3VzZXJTZWxlY3QnIGluIHN0eWxlXG4gICAgICAgICAgPyAndXNlclNlbGVjdCdcbiAgICAgICAgICA6ICdNb3pVc2VyU2VsZWN0JyBpbiBzdHlsZVxuICAgICAgICAgICAgPyAnTW96VXNlclNlbGVjdCdcbiAgICAgICAgICAgIDogJ1dlYmtpdFVzZXJTZWxlY3QnIGluIHN0eWxlXG4gICAgICAgICAgICAgID8gJ1dlYmtpdFVzZXJTZWxlY3QnXG4gICAgICAgICAgICAgIDogJ0todG1sVXNlclNlbGVjdCcgaW4gc3R5bGVcbiAgICAgICAgICAgICAgICA/ICdLaHRtbFVzZXJTZWxlY3QnXG4gICAgICAgICAgICAgICAgOiAnJztcblxuICAgIC8qKlxuICAgICAqIE1ha2VzIGVsZW1lbnQgdW5zZWxlY3RhYmxlXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBFbGVtZW50IHRvIG1ha2UgdW5zZWxlY3RhYmxlXG4gICAgICogQHJldHVybiB7SFRNTEVsZW1lbnR9IEVsZW1lbnQgdGhhdCB3YXMgcGFzc2VkIGluXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFrZUVsZW1lbnRVbnNlbGVjdGFibGUoZWxlbWVudCkge1xuICAgICAgaWYgKHR5cGVvZiBlbGVtZW50Lm9uc2VsZWN0c3RhcnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGVsZW1lbnQub25zZWxlY3RzdGFydCA9IGZhYnJpYy51dGlsLmZhbHNlRnVuY3Rpb247XG4gICAgICB9XG4gICAgICBpZiAoc2VsZWN0UHJvcCkge1xuICAgICAgICBlbGVtZW50LnN0eWxlW3NlbGVjdFByb3BdID0gJ25vbmUnO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodHlwZW9mIGVsZW1lbnQudW5zZWxlY3RhYmxlID09PSAnc3RyaW5nJykge1xuICAgICAgICBlbGVtZW50LnVuc2VsZWN0YWJsZSA9ICdvbic7XG4gICAgICB9XG4gICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNYWtlcyBlbGVtZW50IHNlbGVjdGFibGVcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IEVsZW1lbnQgdG8gbWFrZSBzZWxlY3RhYmxlXG4gICAgICogQHJldHVybiB7SFRNTEVsZW1lbnR9IEVsZW1lbnQgdGhhdCB3YXMgcGFzc2VkIGluXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFrZUVsZW1lbnRTZWxlY3RhYmxlKGVsZW1lbnQpIHtcbiAgICAgIGlmICh0eXBlb2YgZWxlbWVudC5vbnNlbGVjdHN0YXJ0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBlbGVtZW50Lm9uc2VsZWN0c3RhcnQgPSBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKHNlbGVjdFByb3ApIHtcbiAgICAgICAgZWxlbWVudC5zdHlsZVtzZWxlY3RQcm9wXSA9ICcnO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodHlwZW9mIGVsZW1lbnQudW5zZWxlY3RhYmxlID09PSAnc3RyaW5nJykge1xuICAgICAgICBlbGVtZW50LnVuc2VsZWN0YWJsZSA9ICcnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgZmFicmljLnV0aWwubWFrZUVsZW1lbnRVbnNlbGVjdGFibGUgPSBtYWtlRWxlbWVudFVuc2VsZWN0YWJsZTtcbiAgICBmYWJyaWMudXRpbC5tYWtlRWxlbWVudFNlbGVjdGFibGUgPSBtYWtlRWxlbWVudFNlbGVjdGFibGU7XG4gIH0pKCk7XG5cbiAgZnVuY3Rpb24gZ2V0Tm9kZUNhbnZhcyhlbGVtZW50KSB7XG4gICAgdmFyIGltcGwgPSBmYWJyaWMuanNkb21JbXBsRm9yV3JhcHBlcihlbGVtZW50KTtcbiAgICByZXR1cm4gaW1wbC5fY2FudmFzIHx8IGltcGwuX2ltYWdlO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGNsZWFuVXBKc2RvbU5vZGUoZWxlbWVudCkge1xuICAgIGlmICghZmFicmljLmlzTGlrZWx5Tm9kZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgaW1wbCA9IGZhYnJpYy5qc2RvbUltcGxGb3JXcmFwcGVyKGVsZW1lbnQpO1xuICAgIGlmIChpbXBsKSB7XG4gICAgICBpbXBsLl9pbWFnZSA9IG51bGw7XG4gICAgICBpbXBsLl9jYW52YXMgPSBudWxsO1xuICAgICAgLy8gdW5zdXJlIGlmIG5lY2Vzc2FyeVxuICAgICAgaW1wbC5fY3VycmVudFNyYyA9IG51bGw7XG4gICAgICBpbXBsLl9hdHRyaWJ1dGVzID0gbnVsbDtcbiAgICAgIGltcGwuX2NsYXNzTGlzdCA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2V0SW1hZ2VTbW9vdGhpbmcoY3R4LCB2YWx1ZSkge1xuICAgIGN0eC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBjdHguaW1hZ2VTbW9vdGhpbmdFbmFibGVkIHx8IGN0eC53ZWJraXRJbWFnZVNtb290aGluZ0VuYWJsZWRcbiAgICAgIHx8IGN0eC5tb3pJbWFnZVNtb290aGluZ0VuYWJsZWQgfHwgY3R4Lm1zSW1hZ2VTbW9vdGhpbmdFbmFibGVkIHx8IGN0eC5vSW1hZ2VTbW9vdGhpbmdFbmFibGVkO1xuICAgIGN0eC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBzZXRJbWFnZVNtb290aGluZyBzZXRzIHRoZSBjb250ZXh0IGltYWdlU21vb3RoaW5nRW5hYmxlZCBwcm9wZXJ0eS5cbiAgICogVXNlZCBieSBjYW52YXMgYW5kIGJ5IEltYWdlT2JqZWN0LlxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICogQHNpbmNlIDQuMC4wXG4gICAqIEBwYXJhbSB7SFRNTFJlbmRlcmluZ0NvbnRleHQyRH0gY3R4IHRvIHNldCBvblxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IHZhbHVlIHRydWUgb3IgZmFsc2VcbiAgICovXG4gIGZhYnJpYy51dGlsLnNldEltYWdlU21vb3RoaW5nID0gc2V0SW1hZ2VTbW9vdGhpbmc7XG4gIGZhYnJpYy51dGlsLmdldEJ5SWQgPSBnZXRCeUlkO1xuICBmYWJyaWMudXRpbC50b0FycmF5ID0gdG9BcnJheTtcbiAgZmFicmljLnV0aWwuYWRkQ2xhc3MgPSBhZGRDbGFzcztcbiAgZmFicmljLnV0aWwubWFrZUVsZW1lbnQgPSBtYWtlRWxlbWVudDtcbiAgZmFicmljLnV0aWwud3JhcEVsZW1lbnQgPSB3cmFwRWxlbWVudDtcbiAgZmFicmljLnV0aWwuZ2V0U2Nyb2xsTGVmdFRvcCA9IGdldFNjcm9sbExlZnRUb3A7XG4gIGZhYnJpYy51dGlsLmdldEVsZW1lbnRPZmZzZXQgPSBnZXRFbGVtZW50T2Zmc2V0O1xuICBmYWJyaWMudXRpbC5nZXROb2RlQ2FudmFzID0gZ2V0Tm9kZUNhbnZhcztcbiAgZmFicmljLnV0aWwuY2xlYW5VcEpzZG9tTm9kZSA9IGNsZWFuVXBKc2RvbU5vZGU7XG5cbn0pKCk7XG5cblxuKGZ1bmN0aW9uKCkge1xuXG4gIGZ1bmN0aW9uIGFkZFBhcmFtVG9VcmwodXJsLCBwYXJhbSkge1xuICAgIHJldHVybiB1cmwgKyAoL1xcPy8udGVzdCh1cmwpID8gJyYnIDogJz8nKSArIHBhcmFtO1xuICB9XG5cbiAgZnVuY3Rpb24gZW1wdHlGbigpIHsgfVxuXG4gIC8qKlxuICAgKiBDcm9zcy1icm93c2VyIGFic3RyYWN0aW9uIGZvciBzZW5kaW5nIFhNTEh0dHBSZXF1ZXN0XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsIFVSTCB0byBzZW5kIFhNTEh0dHBSZXF1ZXN0IHRvXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLm1ldGhvZD1cIkdFVFwiXVxuICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMucGFyYW1ldGVyc10gcGFyYW1ldGVycyB0byBhcHBlbmQgdG8gdXJsIGluIEdFVCBvciBpbiBib2R5XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5ib2R5XSBib2R5IHRvIHNlbmQgd2l0aCBQT1NUIG9yIFBVVCByZXF1ZXN0XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IG9wdGlvbnMub25Db21wbGV0ZSBDYWxsYmFjayB0byBpbnZva2Ugd2hlbiByZXF1ZXN0IGlzIGNvbXBsZXRlZFxuICAgKiBAcmV0dXJuIHtYTUxIdHRwUmVxdWVzdH0gcmVxdWVzdFxuICAgKi9cbiAgZnVuY3Rpb24gcmVxdWVzdCh1cmwsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zIHx8IChvcHRpb25zID0geyB9KTtcblxuICAgIHZhciBtZXRob2QgPSBvcHRpb25zLm1ldGhvZCA/IG9wdGlvbnMubWV0aG9kLnRvVXBwZXJDYXNlKCkgOiAnR0VUJyxcbiAgICAgICAgb25Db21wbGV0ZSA9IG9wdGlvbnMub25Db21wbGV0ZSB8fCBmdW5jdGlvbigpIHsgfSxcbiAgICAgICAgeGhyID0gbmV3IGZhYnJpYy53aW5kb3cuWE1MSHR0cFJlcXVlc3QoKSxcbiAgICAgICAgYm9keSA9IG9wdGlvbnMuYm9keSB8fCBvcHRpb25zLnBhcmFtZXRlcnM7XG5cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkge1xuICAgICAgICBvbkNvbXBsZXRlKHhocik7XG4gICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBlbXB0eUZuO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAobWV0aG9kID09PSAnR0VUJykge1xuICAgICAgYm9keSA9IG51bGw7XG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnMucGFyYW1ldGVycyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdXJsID0gYWRkUGFyYW1Ub1VybCh1cmwsIG9wdGlvbnMucGFyYW1ldGVycyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgeGhyLm9wZW4obWV0aG9kLCB1cmwsIHRydWUpO1xuXG4gICAgaWYgKG1ldGhvZCA9PT0gJ1BPU1QnIHx8IG1ldGhvZCA9PT0gJ1BVVCcpIHtcbiAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyk7XG4gICAgfVxuXG4gICAgeGhyLnNlbmQoYm9keSk7XG4gICAgcmV0dXJuIHhocjtcbiAgfVxuXG4gIGZhYnJpYy51dGlsLnJlcXVlc3QgPSByZXF1ZXN0O1xufSkoKTtcblxuXG4vKipcbiAqIFdyYXBwZXIgYXJvdW5kIGBjb25zb2xlLmxvZ2AgKHdoZW4gYXZhaWxhYmxlKVxuICogQHBhcmFtIHsqfSBbdmFsdWVzXSBWYWx1ZXMgdG8gbG9nXG4gKi9cbmZhYnJpYy5sb2cgPSBjb25zb2xlLmxvZztcblxuLyoqXG4gKiBXcmFwcGVyIGFyb3VuZCBgY29uc29sZS53YXJuYCAod2hlbiBhdmFpbGFibGUpXG4gKiBAcGFyYW0geyp9IFt2YWx1ZXNdIFZhbHVlcyB0byBsb2cgYXMgYSB3YXJuaW5nXG4gKi9cbmZhYnJpYy53YXJuID0gY29uc29sZS53YXJuO1xuXG5cbihmdW5jdGlvbiAoKSB7XG5cbiAgdmFyIGV4dGVuZCA9IGZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQsXG4gICAgICBjbG9uZSA9IGZhYnJpYy51dGlsLm9iamVjdC5jbG9uZTtcblxuICAvKipcbiAgICogQHR5cGVkZWYge09iamVjdH0gQW5pbWF0aW9uT3B0aW9uc1xuICAgKiBBbmltYXRpb24gb2YgYSB2YWx1ZSBvciBsaXN0IG9mIHZhbHVlcy5cbiAgICogV2hlbiB1c2luZyBsaXN0cywgdGhpbmsgb2Ygc29tZXRoaW5nIGxpa2UgdGhpczpcbiAgICogZmFicmljLnV0aWwuYW5pbWF0ZSh7XG4gICAqICAgc3RhcnRWYWx1ZTogWzEsIDIsIDNdLFxuICAgKiAgIGVuZFZhbHVlOiBbMiwgNCwgNl0sXG4gICAqICAgb25DaGFuZ2U6IGZ1bmN0aW9uKFthLCBiLCBjXSkge1xuICAgKiAgICAgY2FudmFzLnpvb21Ub1BvaW50KHt4OiBiLCB5OiBjfSwgYSlcbiAgICogICAgIGNhbnZhcy5yZW5kZXJBbGwoKVxuICAgKiAgIH1cbiAgICogfSk7XG4gICAqIEBleGFtcGxlXG4gICAqIEBwcm9wZXJ0eSB7RnVuY3Rpb259IFtvbkNoYW5nZV0gQ2FsbGJhY2s7IGludm9rZWQgb24gZXZlcnkgdmFsdWUgY2hhbmdlXG4gICAqIEBwcm9wZXJ0eSB7RnVuY3Rpb259IFtvbkNvbXBsZXRlXSBDYWxsYmFjazsgaW52b2tlZCB3aGVuIHZhbHVlIGNoYW5nZSBpcyBjb21wbGV0ZWRcbiAgICogQGV4YW1wbGVcbiAgICogLy8gTm90ZTogc3RhcnRWYWx1ZSwgZW5kVmFsdWUsIGFuZCBieVZhbHVlIG11c3QgbWF0Y2ggdGhlIHR5cGVcbiAgICogdmFyIGFuaW1hdGlvbk9wdGlvbnMgPSB7IHN0YXJ0VmFsdWU6IDAsIGVuZFZhbHVlOiAxLCBieVZhbHVlOiAwLjI1IH1cbiAgICogdmFyIGFuaW1hdGlvbk9wdGlvbnMgPSB7IHN0YXJ0VmFsdWU6IFswLCAxXSwgZW5kVmFsdWU6IFsxLCAyXSwgYnlWYWx1ZTogWzAuMjUsIDAuMjVdIH1cbiAgICogQHByb3BlcnR5IHtudW1iZXIgfCBudW1iZXJbXX0gW3N0YXJ0VmFsdWU9MF0gU3RhcnRpbmcgdmFsdWVcbiAgICogQHByb3BlcnR5IHtudW1iZXIgfCBudW1iZXJbXX0gW2VuZFZhbHVlPTEwMF0gRW5kaW5nIHZhbHVlXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyIHwgbnVtYmVyW119IFtieVZhbHVlPTEwMF0gVmFsdWUgdG8gbW9kaWZ5IHRoZSBwcm9wZXJ0eSBieVxuICAgKiBAcHJvcGVydHkge0Z1bmN0aW9ufSBbZWFzaW5nXSBFYXNpbmcgZnVuY3Rpb25cbiAgICogQHByb3BlcnR5IHtOdW1iZXJ9IFtkdXJhdGlvbj01MDBdIER1cmF0aW9uIG9mIGNoYW5nZSAoaW4gbXMpXG4gICAqIEBwcm9wZXJ0eSB7RnVuY3Rpb259IFthYm9ydF0gQWRkaXRpb25hbCBmdW5jdGlvbiB3aXRoIGxvZ2ljLiBJZiByZXR1cm5zIHRydWUsIGFuaW1hdGlvbiBhYm9ydHMuXG4gICAqXG4gICAqIEB0eXBlZGVmIHsoKSA9PiB2b2lkfSBDYW5jZWxGdW5jdGlvblxuICAgKlxuICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBBbmltYXRpb25DdXJyZW50U3RhdGVcbiAgICogQHByb3BlcnR5IHtudW1iZXIgfCBudW1iZXJbXX0gY3VycmVudFZhbHVlIHZhbHVlIGluIHJhbmdlIFtgc3RhcnRWYWx1ZWAsIGBlbmRWYWx1ZWBdXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjb21wbGV0aW9uUmF0ZSB2YWx1ZSBpbiByYW5nZSBbMCwgMV1cbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IGR1cmF0aW9uUmF0ZSB2YWx1ZSBpbiByYW5nZSBbMCwgMV1cbiAgICpcbiAgICogQHR5cGVkZWYgeyhBbmltYXRpb25PcHRpb25zICYgQW5pbWF0aW9uQ3VycmVudFN0YXRlICYgeyBjYW5jZWw6IENhbmNlbEZ1bmN0aW9uIH19IEFuaW1hdGlvbkNvbnRleHRcbiAgICovXG5cbiAgLyoqXG4gICAqIEFycmF5IGhvbGRpbmcgYWxsIHJ1bm5pbmcgYW5pbWF0aW9uc1xuICAgKiBAbWVtYmVyb2YgZmFicmljXG4gICAqIEB0eXBlIHtBbmltYXRpb25Db250ZXh0W119XG4gICAqL1xuICB2YXIgUlVOTklOR19BTklNQVRJT05TID0gW107XG4gIGZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQoUlVOTklOR19BTklNQVRJT05TLCB7XG5cbiAgICAvKipcbiAgICAgKiBjYW5jZWwgYWxsIHJ1bm5pbmcgYW5pbWF0aW9ucyBhdCB0aGUgbmV4dCByZXF1ZXN0QW5pbUZyYW1lXG4gICAgICogQHJldHVybnMge0FuaW1hdGlvbkNvbnRleHRbXX1cbiAgICAgKi9cbiAgICBjYW5jZWxBbGw6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBhbmltYXRpb25zID0gdGhpcy5zcGxpY2UoMCk7XG4gICAgICBhbmltYXRpb25zLmZvckVhY2goZnVuY3Rpb24gKGFuaW1hdGlvbikge1xuICAgICAgICBhbmltYXRpb24uY2FuY2VsKCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhbmltYXRpb25zO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBjYW5jZWwgYWxsIHJ1bm5pbmcgYW5pbWF0aW9ucyBhdHRhY2hlZCB0byBjYW52YXMgYXQgdGhlIG5leHQgcmVxdWVzdEFuaW1GcmFtZVxuICAgICAqIEBwYXJhbSB7ZmFicmljLkNhbnZhc30gY2FudmFzXG4gICAgICogQHJldHVybnMge0FuaW1hdGlvbkNvbnRleHRbXX1cbiAgICAgKi9cbiAgICBjYW5jZWxCeUNhbnZhczogZnVuY3Rpb24gKGNhbnZhcykge1xuICAgICAgaWYgKCFjYW52YXMpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGNhbmNlbGxlZCA9IHRoaXMuZmlsdGVyKGZ1bmN0aW9uIChhbmltYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBhbmltYXRpb24udGFyZ2V0ID09PSAnb2JqZWN0JyAmJiBhbmltYXRpb24udGFyZ2V0LmNhbnZhcyA9PT0gY2FudmFzO1xuICAgICAgfSk7XG4gICAgICBjYW5jZWxsZWQuZm9yRWFjaChmdW5jdGlvbiAoYW5pbWF0aW9uKSB7XG4gICAgICAgIGFuaW1hdGlvbi5jYW5jZWwoKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGNhbmNlbGxlZDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogY2FuY2VsIGFsbCBydW5uaW5nIGFuaW1hdGlvbnMgZm9yIHRhcmdldCBhdCB0aGUgbmV4dCByZXF1ZXN0QW5pbUZyYW1lXG4gICAgICogQHBhcmFtIHsqfSB0YXJnZXRcbiAgICAgKiBAcmV0dXJucyB7QW5pbWF0aW9uQ29udGV4dFtdfVxuICAgICAqL1xuICAgIGNhbmNlbEJ5VGFyZ2V0OiBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICB2YXIgY2FuY2VsbGVkID0gdGhpcy5maW5kQW5pbWF0aW9uc0J5VGFyZ2V0KHRhcmdldCk7XG4gICAgICBjYW5jZWxsZWQuZm9yRWFjaChmdW5jdGlvbiAoYW5pbWF0aW9uKSB7XG4gICAgICAgIGFuaW1hdGlvbi5jYW5jZWwoKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGNhbmNlbGxlZDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0NhbmNlbEZ1bmN0aW9ufSBjYW5jZWxGdW5jIHRoZSBmdW5jdGlvbiByZXR1cm5lZCBieSBhbmltYXRlXG4gICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAgKi9cbiAgICBmaW5kQW5pbWF0aW9uSW5kZXg6IGZ1bmN0aW9uIChjYW5jZWxGdW5jKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbmRleE9mKHRoaXMuZmluZEFuaW1hdGlvbihjYW5jZWxGdW5jKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtDYW5jZWxGdW5jdGlvbn0gY2FuY2VsRnVuYyB0aGUgZnVuY3Rpb24gcmV0dXJuZWQgYnkgYW5pbWF0ZVxuICAgICAqIEByZXR1cm5zIHtBbmltYXRpb25Db250ZXh0IHwgdW5kZWZpbmVkfSBhbmltYXRpb24ncyBvcHRpb25zIG9iamVjdFxuICAgICAqL1xuICAgIGZpbmRBbmltYXRpb246IGZ1bmN0aW9uIChjYW5jZWxGdW5jKSB7XG4gICAgICByZXR1cm4gdGhpcy5maW5kKGZ1bmN0aW9uIChhbmltYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIGFuaW1hdGlvbi5jYW5jZWwgPT09IGNhbmNlbEZ1bmM7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHRhcmdldCB0aGUgb2JqZWN0IHRoYXQgaXMgYXNzaWduZWQgdG8gdGhlIHRhcmdldCBwcm9wZXJ0eSBvZiB0aGUgYW5pbWF0aW9uIGNvbnRleHRcbiAgICAgKiBAcmV0dXJucyB7QW5pbWF0aW9uQ29udGV4dFtdfSBhcnJheSBvZiBhbmltYXRpb24gb3B0aW9ucyBvYmplY3QgYXNzb2NpYXRlZCB3aXRoIHRhcmdldFxuICAgICAqL1xuICAgIGZpbmRBbmltYXRpb25zQnlUYXJnZXQ6IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbiAoYW5pbWF0aW9uKSB7XG4gICAgICAgIHJldHVybiBhbmltYXRpb24udGFyZ2V0ID09PSB0YXJnZXQ7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIG5vb3AoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVmYXVsdEVhc2luZyh0LCBiLCBjLCBkKSB7XG4gICAgcmV0dXJuIC1jICogTWF0aC5jb3ModCAvIGQgKiAoTWF0aC5QSSAvIDIpKSArIGMgKyBiO1xuICB9XG5cbiAgLyoqXG4gICAqIENoYW5nZXMgdmFsdWUgZnJvbSBvbmUgdG8gYW5vdGhlciB3aXRoaW4gY2VydGFpbiBwZXJpb2Qgb2YgdGltZSwgaW52b2tpbmcgY2FsbGJhY2tzIGFzIHZhbHVlIGlzIGJlaW5nIGNoYW5nZWQuXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgKiBAcGFyYW0ge0FuaW1hdGlvbk9wdGlvbnN9IFtvcHRpb25zXSBBbmltYXRpb24gb3B0aW9uc1xuICAgKiBAZXhhbXBsZVxuICAgKiAvLyBOb3RlOiBzdGFydFZhbHVlLCBlbmRWYWx1ZSwgYW5kIGJ5VmFsdWUgbXVzdCBtYXRjaCB0aGUgdHlwZVxuICAgKiBmYWJyaWMudXRpbC5hbmltYXRlKHsgc3RhcnRWYWx1ZTogMCwgZW5kVmFsdWU6IDEsIGJ5VmFsdWU6IDAuMjUgfSlcbiAgICogZmFicmljLnV0aWwuYW5pbWF0ZSh7IHN0YXJ0VmFsdWU6IFswLCAxXSwgZW5kVmFsdWU6IFsxLCAyXSwgYnlWYWx1ZTogWzAuMjUsIDAuMjVdIH0pXG4gICAqIEByZXR1cm5zIHtDYW5jZWxGdW5jdGlvbn0gY2FuY2VsIGZ1bmN0aW9uXG4gICAqL1xuICBmdW5jdGlvbiBhbmltYXRlKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zIHx8IChvcHRpb25zID0ge30pO1xuICAgIHZhciBjYW5jZWwgPSBmYWxzZSxcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgcmVtb3ZlRnJvbVJlZ2lzdHJ5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBpbmRleCA9IGZhYnJpYy5ydW5uaW5nQW5pbWF0aW9ucy5pbmRleE9mKGNvbnRleHQpO1xuICAgICAgICAgIHJldHVybiBpbmRleCA+IC0xICYmIGZhYnJpYy5ydW5uaW5nQW5pbWF0aW9ucy5zcGxpY2UoaW5kZXgsIDEpWzBdO1xuICAgICAgICB9O1xuXG4gICAgY29udGV4dCA9IGV4dGVuZChjbG9uZShvcHRpb25zKSwge1xuICAgICAgY2FuY2VsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhbmNlbCA9IHRydWU7XG4gICAgICAgIHJldHVybiByZW1vdmVGcm9tUmVnaXN0cnkoKTtcbiAgICAgIH0sXG4gICAgICBjdXJyZW50VmFsdWU6ICdzdGFydFZhbHVlJyBpbiBvcHRpb25zID8gb3B0aW9ucy5zdGFydFZhbHVlIDogMCxcbiAgICAgIGNvbXBsZXRpb25SYXRlOiAwLFxuICAgICAgZHVyYXRpb25SYXRlOiAwXG4gICAgfSk7XG4gICAgZmFicmljLnJ1bm5pbmdBbmltYXRpb25zLnB1c2goY29udGV4dCk7XG5cbiAgICByZXF1ZXN0QW5pbUZyYW1lKGZ1bmN0aW9uKHRpbWVzdGFtcCkge1xuICAgICAgdmFyIHN0YXJ0ID0gdGltZXN0YW1wIHx8ICtuZXcgRGF0ZSgpLFxuICAgICAgICAgIGR1cmF0aW9uID0gb3B0aW9ucy5kdXJhdGlvbiB8fCA1MDAsXG4gICAgICAgICAgZmluaXNoID0gc3RhcnQgKyBkdXJhdGlvbiwgdGltZSxcbiAgICAgICAgICBvbkNoYW5nZSA9IG9wdGlvbnMub25DaGFuZ2UgfHwgbm9vcCxcbiAgICAgICAgICBhYm9ydCA9IG9wdGlvbnMuYWJvcnQgfHwgbm9vcCxcbiAgICAgICAgICBvbkNvbXBsZXRlID0gb3B0aW9ucy5vbkNvbXBsZXRlIHx8IG5vb3AsXG4gICAgICAgICAgZWFzaW5nID0gb3B0aW9ucy5lYXNpbmcgfHwgZGVmYXVsdEVhc2luZyxcbiAgICAgICAgICBpc01hbnkgPSAnc3RhcnRWYWx1ZScgaW4gb3B0aW9ucyA/IG9wdGlvbnMuc3RhcnRWYWx1ZS5sZW5ndGggPiAwIDogZmFsc2UsXG4gICAgICAgICAgc3RhcnRWYWx1ZSA9ICdzdGFydFZhbHVlJyBpbiBvcHRpb25zID8gb3B0aW9ucy5zdGFydFZhbHVlIDogMCxcbiAgICAgICAgICBlbmRWYWx1ZSA9ICdlbmRWYWx1ZScgaW4gb3B0aW9ucyA/IG9wdGlvbnMuZW5kVmFsdWUgOiAxMDAsXG4gICAgICAgICAgYnlWYWx1ZSA9IG9wdGlvbnMuYnlWYWx1ZSB8fCAoaXNNYW55ID8gc3RhcnRWYWx1ZS5tYXAoZnVuY3Rpb24odmFsdWUsIGkpIHtcbiAgICAgICAgICAgIHJldHVybiBlbmRWYWx1ZVtpXSAtIHN0YXJ0VmFsdWVbaV07XG4gICAgICAgICAgfSkgOiBlbmRWYWx1ZSAtIHN0YXJ0VmFsdWUpO1xuXG4gICAgICBvcHRpb25zLm9uU3RhcnQgJiYgb3B0aW9ucy5vblN0YXJ0KCk7XG5cbiAgICAgIChmdW5jdGlvbiB0aWNrKHRpY2t0aW1lKSB7XG4gICAgICAgIHRpbWUgPSB0aWNrdGltZSB8fCArbmV3IERhdGUoKTtcbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gdGltZSA+IGZpbmlzaCA/IGR1cmF0aW9uIDogKHRpbWUgLSBzdGFydCksXG4gICAgICAgICAgICB0aW1lUGVyYyA9IGN1cnJlbnRUaW1lIC8gZHVyYXRpb24sXG4gICAgICAgICAgICBjdXJyZW50ID0gaXNNYW55ID8gc3RhcnRWYWx1ZS5tYXAoZnVuY3Rpb24oX3ZhbHVlLCBpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBlYXNpbmcoY3VycmVudFRpbWUsIHN0YXJ0VmFsdWVbaV0sIGJ5VmFsdWVbaV0sIGR1cmF0aW9uKTtcbiAgICAgICAgICAgIH0pIDogZWFzaW5nKGN1cnJlbnRUaW1lLCBzdGFydFZhbHVlLCBieVZhbHVlLCBkdXJhdGlvbiksXG4gICAgICAgICAgICB2YWx1ZVBlcmMgPSBpc01hbnkgPyBNYXRoLmFicygoY3VycmVudFswXSAtIHN0YXJ0VmFsdWVbMF0pIC8gYnlWYWx1ZVswXSlcbiAgICAgICAgICAgICAgOiBNYXRoLmFicygoY3VycmVudCAtIHN0YXJ0VmFsdWUpIC8gYnlWYWx1ZSk7XG4gICAgICAgIC8vICB1cGRhdGUgY29udGV4dFxuICAgICAgICBjb250ZXh0LmN1cnJlbnRWYWx1ZSA9IGlzTWFueSA/IGN1cnJlbnQuc2xpY2UoKSA6IGN1cnJlbnQ7XG4gICAgICAgIGNvbnRleHQuY29tcGxldGlvblJhdGUgPSB2YWx1ZVBlcmM7XG4gICAgICAgIGNvbnRleHQuZHVyYXRpb25SYXRlID0gdGltZVBlcmM7XG4gICAgICAgIGlmIChjYW5jZWwpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFib3J0KGN1cnJlbnQsIHZhbHVlUGVyYywgdGltZVBlcmMpKSB7XG4gICAgICAgICAgcmVtb3ZlRnJvbVJlZ2lzdHJ5KCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aW1lID4gZmluaXNoKSB7XG4gICAgICAgICAgLy8gIHVwZGF0ZSBjb250ZXh0XG4gICAgICAgICAgY29udGV4dC5jdXJyZW50VmFsdWUgPSBpc01hbnkgPyBlbmRWYWx1ZS5zbGljZSgpIDogZW5kVmFsdWU7XG4gICAgICAgICAgY29udGV4dC5jb21wbGV0aW9uUmF0ZSA9IDE7XG4gICAgICAgICAgY29udGV4dC5kdXJhdGlvblJhdGUgPSAxO1xuICAgICAgICAgIC8vICBleGVjdXRlIGNhbGxiYWNrc1xuICAgICAgICAgIG9uQ2hhbmdlKGlzTWFueSA/IGVuZFZhbHVlLnNsaWNlKCkgOiBlbmRWYWx1ZSwgMSwgMSk7XG4gICAgICAgICAgb25Db21wbGV0ZShlbmRWYWx1ZSwgMSwgMSk7XG4gICAgICAgICAgcmVtb3ZlRnJvbVJlZ2lzdHJ5KCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIG9uQ2hhbmdlKGN1cnJlbnQsIHZhbHVlUGVyYywgdGltZVBlcmMpO1xuICAgICAgICAgIHJlcXVlc3RBbmltRnJhbWUodGljayk7XG4gICAgICAgIH1cbiAgICAgIH0pKHN0YXJ0KTtcbiAgICB9KTtcblxuICAgIHJldHVybiBjb250ZXh0LmNhbmNlbDtcbiAgfVxuXG4gIHZhciBfcmVxdWVzdEFuaW1GcmFtZSA9IGZhYnJpYy53aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lICAgICAgIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZhYnJpYy53aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZhYnJpYy53aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lICAgIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZhYnJpYy53aW5kb3cub1JlcXVlc3RBbmltYXRpb25GcmFtZSAgICAgIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZhYnJpYy53aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgICAgIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhYnJpYy53aW5kb3cuc2V0VGltZW91dChjYWxsYmFjaywgMTAwMCAvIDYwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICB2YXIgX2NhbmNlbEFuaW1GcmFtZSA9IGZhYnJpYy53aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgfHwgZmFicmljLndpbmRvdy5jbGVhclRpbWVvdXQ7XG5cbiAgLyoqXG4gICAqIHJlcXVlc3RBbmltYXRpb25GcmFtZSBwb2x5ZmlsbCBiYXNlZCBvbiBodHRwOi8vcGF1bGlyaXNoLmNvbS8yMDExL3JlcXVlc3RhbmltYXRpb25mcmFtZS1mb3Itc21hcnQtYW5pbWF0aW5nL1xuICAgKiBJbiBvcmRlciB0byBnZXQgYSBwcmVjaXNlIHN0YXJ0IHRpbWUsIGByZXF1ZXN0QW5pbUZyYW1lYCBzaG91bGQgYmUgY2FsbGVkIGFzIGFuIGVudHJ5IGludG8gdGhlIG1ldGhvZFxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2sgdG8gaW52b2tlXG4gICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWxlbWVudCBvcHRpb25hbCBFbGVtZW50IHRvIGFzc29jaWF0ZSB3aXRoIGFuaW1hdGlvblxuICAgKi9cbiAgZnVuY3Rpb24gcmVxdWVzdEFuaW1GcmFtZSgpIHtcbiAgICByZXR1cm4gX3JlcXVlc3RBbmltRnJhbWUuYXBwbHkoZmFicmljLndpbmRvdywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbmNlbEFuaW1GcmFtZSgpIHtcbiAgICByZXR1cm4gX2NhbmNlbEFuaW1GcmFtZS5hcHBseShmYWJyaWMud2luZG93LCBhcmd1bWVudHMpO1xuICB9XG5cbiAgZmFicmljLnV0aWwuYW5pbWF0ZSA9IGFuaW1hdGU7XG4gIGZhYnJpYy51dGlsLnJlcXVlc3RBbmltRnJhbWUgPSByZXF1ZXN0QW5pbUZyYW1lO1xuICBmYWJyaWMudXRpbC5jYW5jZWxBbmltRnJhbWUgPSBjYW5jZWxBbmltRnJhbWU7XG4gIGZhYnJpYy5ydW5uaW5nQW5pbWF0aW9ucyA9IFJVTk5JTkdfQU5JTUFUSU9OUztcbn0pKCk7XG5cblxuKGZ1bmN0aW9uKCkge1xuICAvLyBDYWxjdWxhdGUgYW4gaW4tYmV0d2VlbiBjb2xvci4gUmV0dXJucyBhIFwicmdiYSgpXCIgc3RyaW5nLlxuICAvLyBDcmVkaXQ6IEVkd2luIE1hcnRpbiA8ZWR3aW5AYml0c3Rvcm0ub3JnPlxuICAvLyAgICAgICAgIGh0dHA6Ly93d3cuYml0c3Rvcm0ub3JnL2pxdWVyeS9jb2xvci1hbmltYXRpb24vanF1ZXJ5LmFuaW1hdGUtY29sb3JzLmpzXG4gIGZ1bmN0aW9uIGNhbGN1bGF0ZUNvbG9yKGJlZ2luLCBlbmQsIHBvcykge1xuICAgIHZhciBjb2xvciA9ICdyZ2JhKCdcbiAgICAgICAgKyBwYXJzZUludCgoYmVnaW5bMF0gKyBwb3MgKiAoZW5kWzBdIC0gYmVnaW5bMF0pKSwgMTApICsgJywnXG4gICAgICAgICsgcGFyc2VJbnQoKGJlZ2luWzFdICsgcG9zICogKGVuZFsxXSAtIGJlZ2luWzFdKSksIDEwKSArICcsJ1xuICAgICAgICArIHBhcnNlSW50KChiZWdpblsyXSArIHBvcyAqIChlbmRbMl0gLSBiZWdpblsyXSkpLCAxMCk7XG5cbiAgICBjb2xvciArPSAnLCcgKyAoYmVnaW4gJiYgZW5kID8gcGFyc2VGbG9hdChiZWdpblszXSArIHBvcyAqIChlbmRbM10gLSBiZWdpblszXSkpIDogMSk7XG4gICAgY29sb3IgKz0gJyknO1xuICAgIHJldHVybiBjb2xvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGFuZ2VzIHRoZSBjb2xvciBmcm9tIG9uZSB0byBhbm90aGVyIHdpdGhpbiBjZXJ0YWluIHBlcmlvZCBvZiB0aW1lLCBpbnZva2luZyBjYWxsYmFja3MgYXMgdmFsdWUgaXMgYmVpbmcgY2hhbmdlZC5cbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBmcm9tQ29sb3IgVGhlIHN0YXJ0aW5nIGNvbG9yIGluIGhleCBvciByZ2IoYSkgZm9ybWF0LlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdG9Db2xvciBUaGUgc3RhcnRpbmcgY29sb3IgaW4gaGV4IG9yIHJnYihhKSBmb3JtYXQuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbZHVyYXRpb25dIER1cmF0aW9uIG9mIGNoYW5nZSAoaW4gbXMpLlxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIEFuaW1hdGlvbiBvcHRpb25zXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRpb25zLm9uQ2hhbmdlXSBDYWxsYmFjazsgaW52b2tlZCBvbiBldmVyeSB2YWx1ZSBjaGFuZ2VcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMub25Db21wbGV0ZV0gQ2FsbGJhY2s7IGludm9rZWQgd2hlbiB2YWx1ZSBjaGFuZ2UgaXMgY29tcGxldGVkXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRpb25zLmNvbG9yRWFzaW5nXSBFYXNpbmcgZnVuY3Rpb24uIE5vdGUgdGhhdCB0aGlzIGZ1bmN0aW9uIG9ubHkgdGFrZSB0d28gYXJndW1lbnRzIChjdXJyZW50VGltZSwgZHVyYXRpb24pLiBUaHVzIHRoZSByZWd1bGFyIGFuaW1hdGlvbiBlYXNpbmcgZnVuY3Rpb25zIGNhbm5vdCBiZSB1c2VkLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb3B0aW9ucy5hYm9ydF0gQWRkaXRpb25hbCBmdW5jdGlvbiB3aXRoIGxvZ2ljLiBJZiByZXR1cm5zIHRydWUsIG9uQ29tcGxldGUgaXMgY2FsbGVkLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IGFib3J0IGZ1bmN0aW9uXG4gICAqL1xuICBmdW5jdGlvbiBhbmltYXRlQ29sb3IoZnJvbUNvbG9yLCB0b0NvbG9yLCBkdXJhdGlvbiwgb3B0aW9ucykge1xuICAgIHZhciBzdGFydENvbG9yID0gbmV3IGZhYnJpYy5Db2xvcihmcm9tQ29sb3IpLmdldFNvdXJjZSgpLFxuICAgICAgICBlbmRDb2xvciA9IG5ldyBmYWJyaWMuQ29sb3IodG9Db2xvcikuZ2V0U291cmNlKCksXG4gICAgICAgIG9yaWdpbmFsT25Db21wbGV0ZSA9IG9wdGlvbnMub25Db21wbGV0ZSxcbiAgICAgICAgb3JpZ2luYWxPbkNoYW5nZSA9IG9wdGlvbnMub25DaGFuZ2U7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICByZXR1cm4gZmFicmljLnV0aWwuYW5pbWF0ZShmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kKG9wdGlvbnMsIHtcbiAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbiB8fCA1MDAsXG4gICAgICBzdGFydFZhbHVlOiBzdGFydENvbG9yLFxuICAgICAgZW5kVmFsdWU6IGVuZENvbG9yLFxuICAgICAgYnlWYWx1ZTogZW5kQ29sb3IsXG4gICAgICBlYXNpbmc6IGZ1bmN0aW9uIChjdXJyZW50VGltZSwgc3RhcnRWYWx1ZSwgYnlWYWx1ZSwgZHVyYXRpb24pIHtcbiAgICAgICAgdmFyIHBvc1ZhbHVlID0gb3B0aW9ucy5jb2xvckVhc2luZ1xuICAgICAgICAgID8gb3B0aW9ucy5jb2xvckVhc2luZyhjdXJyZW50VGltZSwgZHVyYXRpb24pXG4gICAgICAgICAgOiAxIC0gTWF0aC5jb3MoY3VycmVudFRpbWUgLyBkdXJhdGlvbiAqIChNYXRoLlBJIC8gMikpO1xuICAgICAgICByZXR1cm4gY2FsY3VsYXRlQ29sb3Ioc3RhcnRWYWx1ZSwgYnlWYWx1ZSwgcG9zVmFsdWUpO1xuICAgICAgfSxcbiAgICAgIC8vIGhhcyB0byB0YWtlIGluIGFjY291bnQgZm9yIGNvbG9yIHJlc3RvcmluZztcbiAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uKGN1cnJlbnQsIHZhbHVlUGVyYywgdGltZVBlcmMpIHtcbiAgICAgICAgaWYgKG9yaWdpbmFsT25Db21wbGV0ZSkge1xuICAgICAgICAgIHJldHVybiBvcmlnaW5hbE9uQ29tcGxldGUoXG4gICAgICAgICAgICBjYWxjdWxhdGVDb2xvcihlbmRDb2xvciwgZW5kQ29sb3IsIDApLFxuICAgICAgICAgICAgdmFsdWVQZXJjLFxuICAgICAgICAgICAgdGltZVBlcmNcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uKGN1cnJlbnQsIHZhbHVlUGVyYywgdGltZVBlcmMpIHtcbiAgICAgICAgaWYgKG9yaWdpbmFsT25DaGFuZ2UpIHtcbiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjdXJyZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsT25DaGFuZ2UoXG4gICAgICAgICAgICAgIGNhbGN1bGF0ZUNvbG9yKGN1cnJlbnQsIGN1cnJlbnQsIDApLFxuICAgICAgICAgICAgICB2YWx1ZVBlcmMsXG4gICAgICAgICAgICAgIHRpbWVQZXJjXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvcmlnaW5hbE9uQ2hhbmdlKGN1cnJlbnQsIHZhbHVlUGVyYywgdGltZVBlcmMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSkpO1xuICB9XG5cbiAgZmFicmljLnV0aWwuYW5pbWF0ZUNvbG9yID0gYW5pbWF0ZUNvbG9yO1xuXG59KSgpO1xuXG5cbihmdW5jdGlvbigpIHtcblxuICBmdW5jdGlvbiBub3JtYWxpemUoYSwgYywgcCwgcykge1xuICAgIGlmIChhIDwgTWF0aC5hYnMoYykpIHtcbiAgICAgIGEgPSBjO1xuICAgICAgcyA9IHAgLyA0O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIC8vaGFuZGxlIHRoZSAwLzAgY2FzZTpcbiAgICAgIGlmIChjID09PSAwICYmIGEgPT09IDApIHtcbiAgICAgICAgcyA9IHAgLyAoMiAqIE1hdGguUEkpICogTWF0aC5hc2luKDEpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHMgPSBwIC8gKDIgKiBNYXRoLlBJKSAqIE1hdGguYXNpbihjIC8gYSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IGE6IGEsIGM6IGMsIHA6IHAsIHM6IHMgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVsYXN0aWMob3B0cywgdCwgZCkge1xuICAgIHJldHVybiBvcHRzLmEgKlxuICAgICAgTWF0aC5wb3coMiwgMTAgKiAodCAtPSAxKSkgKlxuICAgICAgTWF0aC5zaW4oICh0ICogZCAtIG9wdHMucykgKiAoMiAqIE1hdGguUEkpIC8gb3B0cy5wICk7XG4gIH1cblxuICAvKipcbiAgICogQ3ViaWMgZWFzaW5nIG91dFxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgKi9cbiAgZnVuY3Rpb24gZWFzZU91dEN1YmljKHQsIGIsIGMsIGQpIHtcbiAgICByZXR1cm4gYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogdCArIDEpICsgYjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDdWJpYyBlYXNpbmcgaW4gYW5kIG91dFxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgKi9cbiAgZnVuY3Rpb24gZWFzZUluT3V0Q3ViaWModCwgYiwgYywgZCkge1xuICAgIHQgLz0gZCAvIDI7XG4gICAgaWYgKHQgPCAxKSB7XG4gICAgICByZXR1cm4gYyAvIDIgKiB0ICogdCAqIHQgKyBiO1xuICAgIH1cbiAgICByZXR1cm4gYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogdCArIDIpICsgYjtcbiAgfVxuXG4gIC8qKlxuICAgKiBRdWFydGljIGVhc2luZyBpblxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgKi9cbiAgZnVuY3Rpb24gZWFzZUluUXVhcnQodCwgYiwgYywgZCkge1xuICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICogdCAqIHQgKyBiO1xuICB9XG5cbiAgLyoqXG4gICAqIFF1YXJ0aWMgZWFzaW5nIG91dFxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgKi9cbiAgZnVuY3Rpb24gZWFzZU91dFF1YXJ0KHQsIGIsIGMsIGQpIHtcbiAgICByZXR1cm4gLWMgKiAoKHQgPSB0IC8gZCAtIDEpICogdCAqIHQgKiB0IC0gMSkgKyBiO1xuICB9XG5cbiAgLyoqXG4gICAqIFF1YXJ0aWMgZWFzaW5nIGluIGFuZCBvdXRcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmVhc2VcbiAgICovXG4gIGZ1bmN0aW9uIGVhc2VJbk91dFF1YXJ0KHQsIGIsIGMsIGQpIHtcbiAgICB0IC89IGQgLyAyO1xuICAgIGlmICh0IDwgMSkge1xuICAgICAgcmV0dXJuIGMgLyAyICogdCAqIHQgKiB0ICogdCArIGI7XG4gICAgfVxuICAgIHJldHVybiAtYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogdCAqIHQgLSAyKSArIGI7XG4gIH1cblxuICAvKipcbiAgICogUXVpbnRpYyBlYXNpbmcgaW5cbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmVhc2VcbiAgICovXG4gIGZ1bmN0aW9uIGVhc2VJblF1aW50KHQsIGIsIGMsIGQpIHtcbiAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqIHQgKiB0ICogdCArIGI7XG4gIH1cblxuICAvKipcbiAgICogUXVpbnRpYyBlYXNpbmcgb3V0XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5lYXNlXG4gICAqL1xuICBmdW5jdGlvbiBlYXNlT3V0UXVpbnQodCwgYiwgYywgZCkge1xuICAgIHJldHVybiBjICogKCh0ID0gdCAvIGQgLSAxKSAqIHQgKiB0ICogdCAqIHQgKyAxKSArIGI7XG4gIH1cblxuICAvKipcbiAgICogUXVpbnRpYyBlYXNpbmcgaW4gYW5kIG91dFxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgKi9cbiAgZnVuY3Rpb24gZWFzZUluT3V0UXVpbnQodCwgYiwgYywgZCkge1xuICAgIHQgLz0gZCAvIDI7XG4gICAgaWYgKHQgPCAxKSB7XG4gICAgICByZXR1cm4gYyAvIDIgKiB0ICogdCAqIHQgKiB0ICogdCArIGI7XG4gICAgfVxuICAgIHJldHVybiBjIC8gMiAqICgodCAtPSAyKSAqIHQgKiB0ICogdCAqIHQgKyAyKSArIGI7XG4gIH1cblxuICAvKipcbiAgICogU2ludXNvaWRhbCBlYXNpbmcgaW5cbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmVhc2VcbiAgICovXG4gIGZ1bmN0aW9uIGVhc2VJblNpbmUodCwgYiwgYywgZCkge1xuICAgIHJldHVybiAtYyAqIE1hdGguY29zKHQgLyBkICogKE1hdGguUEkgLyAyKSkgKyBjICsgYjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaW51c29pZGFsIGVhc2luZyBvdXRcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmVhc2VcbiAgICovXG4gIGZ1bmN0aW9uIGVhc2VPdXRTaW5lKHQsIGIsIGMsIGQpIHtcbiAgICByZXR1cm4gYyAqIE1hdGguc2luKHQgLyBkICogKE1hdGguUEkgLyAyKSkgKyBiO1xuICB9XG5cbiAgLyoqXG4gICAqIFNpbnVzb2lkYWwgZWFzaW5nIGluIGFuZCBvdXRcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmVhc2VcbiAgICovXG4gIGZ1bmN0aW9uIGVhc2VJbk91dFNpbmUodCwgYiwgYywgZCkge1xuICAgIHJldHVybiAtYyAvIDIgKiAoTWF0aC5jb3MoTWF0aC5QSSAqIHQgLyBkKSAtIDEpICsgYjtcbiAgfVxuXG4gIC8qKlxuICAgKiBFeHBvbmVudGlhbCBlYXNpbmcgaW5cbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmVhc2VcbiAgICovXG4gIGZ1bmN0aW9uIGVhc2VJbkV4cG8odCwgYiwgYywgZCkge1xuICAgIHJldHVybiAodCA9PT0gMCkgPyBiIDogYyAqIE1hdGgucG93KDIsIDEwICogKHQgLyBkIC0gMSkpICsgYjtcbiAgfVxuXG4gIC8qKlxuICAgKiBFeHBvbmVudGlhbCBlYXNpbmcgb3V0XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5lYXNlXG4gICAqL1xuICBmdW5jdGlvbiBlYXNlT3V0RXhwbyh0LCBiLCBjLCBkKSB7XG4gICAgcmV0dXJuICh0ID09PSBkKSA/IGIgKyBjIDogYyAqICgtTWF0aC5wb3coMiwgLTEwICogdCAvIGQpICsgMSkgKyBiO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4cG9uZW50aWFsIGVhc2luZyBpbiBhbmQgb3V0XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5lYXNlXG4gICAqL1xuICBmdW5jdGlvbiBlYXNlSW5PdXRFeHBvKHQsIGIsIGMsIGQpIHtcbiAgICBpZiAodCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGI7XG4gICAgfVxuICAgIGlmICh0ID09PSBkKSB7XG4gICAgICByZXR1cm4gYiArIGM7XG4gICAgfVxuICAgIHQgLz0gZCAvIDI7XG4gICAgaWYgKHQgPCAxKSB7XG4gICAgICByZXR1cm4gYyAvIDIgKiBNYXRoLnBvdygyLCAxMCAqICh0IC0gMSkpICsgYjtcbiAgICB9XG4gICAgcmV0dXJuIGMgLyAyICogKC1NYXRoLnBvdygyLCAtMTAgKiAtLXQpICsgMikgKyBiO1xuICB9XG5cbiAgLyoqXG4gICAqIENpcmN1bGFyIGVhc2luZyBpblxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgKi9cbiAgZnVuY3Rpb24gZWFzZUluQ2lyYyh0LCBiLCBjLCBkKSB7XG4gICAgcmV0dXJuIC1jICogKE1hdGguc3FydCgxIC0gKHQgLz0gZCkgKiB0KSAtIDEpICsgYjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaXJjdWxhciBlYXNpbmcgb3V0XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5lYXNlXG4gICAqL1xuICBmdW5jdGlvbiBlYXNlT3V0Q2lyYyh0LCBiLCBjLCBkKSB7XG4gICAgcmV0dXJuIGMgKiBNYXRoLnNxcnQoMSAtICh0ID0gdCAvIGQgLSAxKSAqIHQpICsgYjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaXJjdWxhciBlYXNpbmcgaW4gYW5kIG91dFxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgKi9cbiAgZnVuY3Rpb24gZWFzZUluT3V0Q2lyYyh0LCBiLCBjLCBkKSB7XG4gICAgdCAvPSBkIC8gMjtcbiAgICBpZiAodCA8IDEpIHtcbiAgICAgIHJldHVybiAtYyAvIDIgKiAoTWF0aC5zcXJ0KDEgLSB0ICogdCkgLSAxKSArIGI7XG4gICAgfVxuICAgIHJldHVybiBjIC8gMiAqIChNYXRoLnNxcnQoMSAtICh0IC09IDIpICogdCkgKyAxKSArIGI7XG4gIH1cblxuICAvKipcbiAgICogRWxhc3RpYyBlYXNpbmcgaW5cbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmVhc2VcbiAgICovXG4gIGZ1bmN0aW9uIGVhc2VJbkVsYXN0aWModCwgYiwgYywgZCkge1xuICAgIHZhciBzID0gMS43MDE1OCwgcCA9IDAsIGEgPSBjO1xuICAgIGlmICh0ID09PSAwKSB7XG4gICAgICByZXR1cm4gYjtcbiAgICB9XG4gICAgdCAvPSBkO1xuICAgIGlmICh0ID09PSAxKSB7XG4gICAgICByZXR1cm4gYiArIGM7XG4gICAgfVxuICAgIGlmICghcCkge1xuICAgICAgcCA9IGQgKiAwLjM7XG4gICAgfVxuICAgIHZhciBvcHRzID0gbm9ybWFsaXplKGEsIGMsIHAsIHMpO1xuICAgIHJldHVybiAtZWxhc3RpYyhvcHRzLCB0LCBkKSArIGI7XG4gIH1cblxuICAvKipcbiAgICogRWxhc3RpYyBlYXNpbmcgb3V0XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5lYXNlXG4gICAqL1xuICBmdW5jdGlvbiBlYXNlT3V0RWxhc3RpYyh0LCBiLCBjLCBkKSB7XG4gICAgdmFyIHMgPSAxLjcwMTU4LCBwID0gMCwgYSA9IGM7XG4gICAgaWYgKHQgPT09IDApIHtcbiAgICAgIHJldHVybiBiO1xuICAgIH1cbiAgICB0IC89IGQ7XG4gICAgaWYgKHQgPT09IDEpIHtcbiAgICAgIHJldHVybiBiICsgYztcbiAgICB9XG4gICAgaWYgKCFwKSB7XG4gICAgICBwID0gZCAqIDAuMztcbiAgICB9XG4gICAgdmFyIG9wdHMgPSBub3JtYWxpemUoYSwgYywgcCwgcyk7XG4gICAgcmV0dXJuIG9wdHMuYSAqIE1hdGgucG93KDIsIC0xMCAqIHQpICogTWF0aC5zaW4oKHQgKiBkIC0gb3B0cy5zKSAqICgyICogTWF0aC5QSSkgLyBvcHRzLnAgKSArIG9wdHMuYyArIGI7XG4gIH1cblxuICAvKipcbiAgICogRWxhc3RpYyBlYXNpbmcgaW4gYW5kIG91dFxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgKi9cbiAgZnVuY3Rpb24gZWFzZUluT3V0RWxhc3RpYyh0LCBiLCBjLCBkKSB7XG4gICAgdmFyIHMgPSAxLjcwMTU4LCBwID0gMCwgYSA9IGM7XG4gICAgaWYgKHQgPT09IDApIHtcbiAgICAgIHJldHVybiBiO1xuICAgIH1cbiAgICB0IC89IGQgLyAyO1xuICAgIGlmICh0ID09PSAyKSB7XG4gICAgICByZXR1cm4gYiArIGM7XG4gICAgfVxuICAgIGlmICghcCkge1xuICAgICAgcCA9IGQgKiAoMC4zICogMS41KTtcbiAgICB9XG4gICAgdmFyIG9wdHMgPSBub3JtYWxpemUoYSwgYywgcCwgcyk7XG4gICAgaWYgKHQgPCAxKSB7XG4gICAgICByZXR1cm4gLTAuNSAqIGVsYXN0aWMob3B0cywgdCwgZCkgKyBiO1xuICAgIH1cbiAgICByZXR1cm4gb3B0cy5hICogTWF0aC5wb3coMiwgLTEwICogKHQgLT0gMSkpICpcbiAgICAgIE1hdGguc2luKCh0ICogZCAtIG9wdHMucykgKiAoMiAqIE1hdGguUEkpIC8gb3B0cy5wICkgKiAwLjUgKyBvcHRzLmMgKyBiO1xuICB9XG5cbiAgLyoqXG4gICAqIEJhY2t3YXJkcyBlYXNpbmcgaW5cbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmVhc2VcbiAgICovXG4gIGZ1bmN0aW9uIGVhc2VJbkJhY2sodCwgYiwgYywgZCwgcykge1xuICAgIGlmIChzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHMgPSAxLjcwMTU4O1xuICAgIH1cbiAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqICgocyArIDEpICogdCAtIHMpICsgYjtcbiAgfVxuXG4gIC8qKlxuICAgKiBCYWNrd2FyZHMgZWFzaW5nIG91dFxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgKi9cbiAgZnVuY3Rpb24gZWFzZU91dEJhY2sodCwgYiwgYywgZCwgcykge1xuICAgIGlmIChzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHMgPSAxLjcwMTU4O1xuICAgIH1cbiAgICByZXR1cm4gYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogKChzICsgMSkgKiB0ICsgcykgKyAxKSArIGI7XG4gIH1cblxuICAvKipcbiAgICogQmFja3dhcmRzIGVhc2luZyBpbiBhbmQgb3V0XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5lYXNlXG4gICAqL1xuICBmdW5jdGlvbiBlYXNlSW5PdXRCYWNrKHQsIGIsIGMsIGQsIHMpIHtcbiAgICBpZiAocyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBzID0gMS43MDE1ODtcbiAgICB9XG4gICAgdCAvPSBkIC8gMjtcbiAgICBpZiAodCA8IDEpIHtcbiAgICAgIHJldHVybiBjIC8gMiAqICh0ICogdCAqICgoKHMgKj0gKDEuNTI1KSkgKyAxKSAqIHQgLSBzKSkgKyBiO1xuICAgIH1cbiAgICByZXR1cm4gYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogKCgocyAqPSAoMS41MjUpKSArIDEpICogdCArIHMpICsgMikgKyBiO1xuICB9XG5cbiAgLyoqXG4gICAqIEJvdW5jaW5nIGVhc2luZyBpblxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgKi9cbiAgZnVuY3Rpb24gZWFzZUluQm91bmNlKHQsIGIsIGMsIGQpIHtcbiAgICByZXR1cm4gYyAtIGVhc2VPdXRCb3VuY2UgKGQgLSB0LCAwLCBjLCBkKSArIGI7XG4gIH1cblxuICAvKipcbiAgICogQm91bmNpbmcgZWFzaW5nIG91dFxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgKi9cbiAgZnVuY3Rpb24gZWFzZU91dEJvdW5jZSh0LCBiLCBjLCBkKSB7XG4gICAgaWYgKCh0IC89IGQpIDwgKDEgLyAyLjc1KSkge1xuICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogdCAqIHQpICsgYjtcbiAgICB9XG4gICAgZWxzZSBpZiAodCA8ICgyIC8gMi43NSkpIHtcbiAgICAgIHJldHVybiBjICogKDcuNTYyNSAqICh0IC09ICgxLjUgLyAyLjc1KSkgKiB0ICsgMC43NSkgKyBiO1xuICAgIH1cbiAgICBlbHNlIGlmICh0IDwgKDIuNSAvIDIuNzUpKSB7XG4gICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiAodCAtPSAoMi4yNSAvIDIuNzUpKSAqIHQgKyAwLjkzNzUpICsgYjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiAodCAtPSAoMi42MjUgLyAyLjc1KSkgKiB0ICsgMC45ODQzNzUpICsgYjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQm91bmNpbmcgZWFzaW5nIGluIGFuZCBvdXRcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmVhc2VcbiAgICovXG4gIGZ1bmN0aW9uIGVhc2VJbk91dEJvdW5jZSh0LCBiLCBjLCBkKSB7XG4gICAgaWYgKHQgPCBkIC8gMikge1xuICAgICAgcmV0dXJuIGVhc2VJbkJvdW5jZSAodCAqIDIsIDAsIGMsIGQpICogMC41ICsgYjtcbiAgICB9XG4gICAgcmV0dXJuIGVhc2VPdXRCb3VuY2UodCAqIDIgLSBkLCAwLCBjLCBkKSAqIDAuNSArIGMgKiAwLjUgKyBiO1xuICB9XG5cbiAgLyoqXG4gICAqIEVhc2luZyBmdW5jdGlvbnNcbiAgICogU2VlIDxhIGhyZWY9XCJodHRwOi8vZ2l6bWEuY29tL2Vhc2luZy9cIj5FYXNpbmcgRXF1YXRpb25zIGJ5IFJvYmVydCBQZW5uZXI8L2E+XG4gICAqIEBuYW1lc3BhY2UgZmFicmljLnV0aWwuZWFzZVxuICAgKi9cbiAgZmFicmljLnV0aWwuZWFzZSA9IHtcblxuICAgIC8qKlxuICAgICAqIFF1YWRyYXRpYyBlYXNpbmcgaW5cbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgICAqL1xuICAgIGVhc2VJblF1YWQ6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICsgYjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUXVhZHJhdGljIGVhc2luZyBvdXRcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgICAqL1xuICAgIGVhc2VPdXRRdWFkOiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICByZXR1cm4gLWMgKiAodCAvPSBkKSAqICh0IC0gMikgKyBiO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBRdWFkcmF0aWMgZWFzaW5nIGluIGFuZCBvdXRcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgICAqL1xuICAgIGVhc2VJbk91dFF1YWQ6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgIHQgLz0gKGQgLyAyKTtcbiAgICAgIGlmICh0IDwgMSkge1xuICAgICAgICByZXR1cm4gYyAvIDIgKiB0ICogdCArIGI7XG4gICAgICB9XG4gICAgICByZXR1cm4gLWMgLyAyICogKCgtLXQpICogKHQgLSAyKSAtIDEpICsgYjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ3ViaWMgZWFzaW5nIGluXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmVhc2VcbiAgICAgKi9cbiAgICBlYXNlSW5DdWJpYzogZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiB0ICsgYjtcbiAgICB9LFxuXG4gICAgZWFzZU91dEN1YmljOiBlYXNlT3V0Q3ViaWMsXG4gICAgZWFzZUluT3V0Q3ViaWM6IGVhc2VJbk91dEN1YmljLFxuICAgIGVhc2VJblF1YXJ0OiBlYXNlSW5RdWFydCxcbiAgICBlYXNlT3V0UXVhcnQ6IGVhc2VPdXRRdWFydCxcbiAgICBlYXNlSW5PdXRRdWFydDogZWFzZUluT3V0UXVhcnQsXG4gICAgZWFzZUluUXVpbnQ6IGVhc2VJblF1aW50LFxuICAgIGVhc2VPdXRRdWludDogZWFzZU91dFF1aW50LFxuICAgIGVhc2VJbk91dFF1aW50OiBlYXNlSW5PdXRRdWludCxcbiAgICBlYXNlSW5TaW5lOiBlYXNlSW5TaW5lLFxuICAgIGVhc2VPdXRTaW5lOiBlYXNlT3V0U2luZSxcbiAgICBlYXNlSW5PdXRTaW5lOiBlYXNlSW5PdXRTaW5lLFxuICAgIGVhc2VJbkV4cG86IGVhc2VJbkV4cG8sXG4gICAgZWFzZU91dEV4cG86IGVhc2VPdXRFeHBvLFxuICAgIGVhc2VJbk91dEV4cG86IGVhc2VJbk91dEV4cG8sXG4gICAgZWFzZUluQ2lyYzogZWFzZUluQ2lyYyxcbiAgICBlYXNlT3V0Q2lyYzogZWFzZU91dENpcmMsXG4gICAgZWFzZUluT3V0Q2lyYzogZWFzZUluT3V0Q2lyYyxcbiAgICBlYXNlSW5FbGFzdGljOiBlYXNlSW5FbGFzdGljLFxuICAgIGVhc2VPdXRFbGFzdGljOiBlYXNlT3V0RWxhc3RpYyxcbiAgICBlYXNlSW5PdXRFbGFzdGljOiBlYXNlSW5PdXRFbGFzdGljLFxuICAgIGVhc2VJbkJhY2s6IGVhc2VJbkJhY2ssXG4gICAgZWFzZU91dEJhY2s6IGVhc2VPdXRCYWNrLFxuICAgIGVhc2VJbk91dEJhY2s6IGVhc2VJbk91dEJhY2ssXG4gICAgZWFzZUluQm91bmNlOiBlYXNlSW5Cb3VuY2UsXG4gICAgZWFzZU91dEJvdW5jZTogZWFzZU91dEJvdW5jZSxcbiAgICBlYXNlSW5PdXRCb3VuY2U6IGVhc2VJbk91dEJvdW5jZVxuICB9O1xuXG59KSgpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgLyoqXG4gICAqIEBuYW1lIGZhYnJpY1xuICAgKiBAbmFtZXNwYWNlXG4gICAqL1xuXG4gIHZhciBmYWJyaWMgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIGV4dGVuZCA9IGZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQsXG4gICAgICBjbG9uZSA9IGZhYnJpYy51dGlsLm9iamVjdC5jbG9uZSxcbiAgICAgIHRvRml4ZWQgPSBmYWJyaWMudXRpbC50b0ZpeGVkLFxuICAgICAgcGFyc2VVbml0ID0gZmFicmljLnV0aWwucGFyc2VVbml0LFxuICAgICAgbXVsdGlwbHlUcmFuc2Zvcm1NYXRyaWNlcyA9IGZhYnJpYy51dGlsLm11bHRpcGx5VHJhbnNmb3JtTWF0cmljZXMsXG5cbiAgICAgIHN2Z1ZhbGlkVGFnTmFtZXMgPSBbJ3BhdGgnLCAnY2lyY2xlJywgJ3BvbHlnb24nLCAncG9seWxpbmUnLCAnZWxsaXBzZScsICdyZWN0JywgJ2xpbmUnLFxuICAgICAgICAnaW1hZ2UnLCAndGV4dCddLFxuICAgICAgc3ZnVmlld0JveEVsZW1lbnRzID0gWydzeW1ib2wnLCAnaW1hZ2UnLCAnbWFya2VyJywgJ3BhdHRlcm4nLCAndmlldycsICdzdmcnXSxcbiAgICAgIHN2Z0ludmFsaWRBbmNlc3RvcnMgPSBbJ3BhdHRlcm4nLCAnZGVmcycsICdzeW1ib2wnLCAnbWV0YWRhdGEnLCAnY2xpcFBhdGgnLCAnbWFzaycsICdkZXNjJ10sXG4gICAgICBzdmdWYWxpZFBhcmVudHMgPSBbJ3N5bWJvbCcsICdnJywgJ2EnLCAnc3ZnJywgJ2NsaXBQYXRoJywgJ2RlZnMnXSxcblxuICAgICAgYXR0cmlidXRlc01hcCA9IHtcbiAgICAgICAgY3g6ICAgICAgICAgICAgICAgICAgICdsZWZ0JyxcbiAgICAgICAgeDogICAgICAgICAgICAgICAgICAgICdsZWZ0JyxcbiAgICAgICAgcjogICAgICAgICAgICAgICAgICAgICdyYWRpdXMnLFxuICAgICAgICBjeTogICAgICAgICAgICAgICAgICAgJ3RvcCcsXG4gICAgICAgIHk6ICAgICAgICAgICAgICAgICAgICAndG9wJyxcbiAgICAgICAgZGlzcGxheTogICAgICAgICAgICAgICd2aXNpYmxlJyxcbiAgICAgICAgdmlzaWJpbGl0eTogICAgICAgICAgICd2aXNpYmxlJyxcbiAgICAgICAgdHJhbnNmb3JtOiAgICAgICAgICAgICd0cmFuc2Zvcm1NYXRyaXgnLFxuICAgICAgICAnZmlsbC1vcGFjaXR5JzogICAgICAgJ2ZpbGxPcGFjaXR5JyxcbiAgICAgICAgJ2ZpbGwtcnVsZSc6ICAgICAgICAgICdmaWxsUnVsZScsXG4gICAgICAgICdmb250LWZhbWlseSc6ICAgICAgICAnZm9udEZhbWlseScsXG4gICAgICAgICdmb250LXNpemUnOiAgICAgICAgICAnZm9udFNpemUnLFxuICAgICAgICAnZm9udC1zdHlsZSc6ICAgICAgICAgJ2ZvbnRTdHlsZScsXG4gICAgICAgICdmb250LXdlaWdodCc6ICAgICAgICAnZm9udFdlaWdodCcsXG4gICAgICAgICdsZXR0ZXItc3BhY2luZyc6ICAgICAnY2hhclNwYWNpbmcnLFxuICAgICAgICAncGFpbnQtb3JkZXInOiAgICAgICAgJ3BhaW50Rmlyc3QnLFxuICAgICAgICAnc3Ryb2tlLWRhc2hhcnJheSc6ICAgJ3N0cm9rZURhc2hBcnJheScsXG4gICAgICAgICdzdHJva2UtZGFzaG9mZnNldCc6ICAnc3Ryb2tlRGFzaE9mZnNldCcsXG4gICAgICAgICdzdHJva2UtbGluZWNhcCc6ICAgICAnc3Ryb2tlTGluZUNhcCcsXG4gICAgICAgICdzdHJva2UtbGluZWpvaW4nOiAgICAnc3Ryb2tlTGluZUpvaW4nLFxuICAgICAgICAnc3Ryb2tlLW1pdGVybGltaXQnOiAgJ3N0cm9rZU1pdGVyTGltaXQnLFxuICAgICAgICAnc3Ryb2tlLW9wYWNpdHknOiAgICAgJ3N0cm9rZU9wYWNpdHknLFxuICAgICAgICAnc3Ryb2tlLXdpZHRoJzogICAgICAgJ3N0cm9rZVdpZHRoJyxcbiAgICAgICAgJ3RleHQtZGVjb3JhdGlvbic6ICAgICd0ZXh0RGVjb3JhdGlvbicsXG4gICAgICAgICd0ZXh0LWFuY2hvcic6ICAgICAgICAndGV4dEFuY2hvcicsXG4gICAgICAgIG9wYWNpdHk6ICAgICAgICAgICAgICAnb3BhY2l0eScsXG4gICAgICAgICdjbGlwLXBhdGgnOiAgICAgICAgICAnY2xpcFBhdGgnLFxuICAgICAgICAnY2xpcC1ydWxlJzogICAgICAgICAgJ2NsaXBSdWxlJyxcbiAgICAgICAgJ3ZlY3Rvci1lZmZlY3QnOiAgICAgICdzdHJva2VVbmlmb3JtJyxcbiAgICAgICAgJ2ltYWdlLXJlbmRlcmluZyc6ICAgICdpbWFnZVNtb290aGluZycsXG4gICAgICB9LFxuXG4gICAgICBjb2xvckF0dHJpYnV0ZXMgPSB7XG4gICAgICAgIHN0cm9rZTogJ3N0cm9rZU9wYWNpdHknLFxuICAgICAgICBmaWxsOiAgICdmaWxsT3BhY2l0eSdcbiAgICAgIH0sXG5cbiAgICAgIGZTaXplID0gJ2ZvbnQtc2l6ZScsIGNQYXRoID0gJ2NsaXAtcGF0aCc7XG5cbiAgZmFicmljLnN2Z1ZhbGlkVGFnTmFtZXNSZWdFeCA9IGdldFN2Z1JlZ2V4KHN2Z1ZhbGlkVGFnTmFtZXMpO1xuICBmYWJyaWMuc3ZnVmlld0JveEVsZW1lbnRzUmVnRXggPSBnZXRTdmdSZWdleChzdmdWaWV3Qm94RWxlbWVudHMpO1xuICBmYWJyaWMuc3ZnSW52YWxpZEFuY2VzdG9yc1JlZ0V4ID0gZ2V0U3ZnUmVnZXgoc3ZnSW52YWxpZEFuY2VzdG9ycyk7XG4gIGZhYnJpYy5zdmdWYWxpZFBhcmVudHNSZWdFeCA9IGdldFN2Z1JlZ2V4KHN2Z1ZhbGlkUGFyZW50cyk7XG5cbiAgZmFicmljLmNzc1J1bGVzID0geyB9O1xuICBmYWJyaWMuZ3JhZGllbnREZWZzID0geyB9O1xuICBmYWJyaWMuY2xpcFBhdGhzID0geyB9O1xuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZUF0dHIoYXR0cikge1xuICAgIC8vIHRyYW5zZm9ybSBhdHRyaWJ1dGUgbmFtZXNcbiAgICBpZiAoYXR0ciBpbiBhdHRyaWJ1dGVzTWFwKSB7XG4gICAgICByZXR1cm4gYXR0cmlidXRlc01hcFthdHRyXTtcbiAgICB9XG4gICAgcmV0dXJuIGF0dHI7XG4gIH1cblxuICBmdW5jdGlvbiBub3JtYWxpemVWYWx1ZShhdHRyLCB2YWx1ZSwgcGFyZW50QXR0cmlidXRlcywgZm9udFNpemUpIHtcbiAgICB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkodmFsdWUpLCBwYXJzZWQ7XG5cbiAgICBpZiAoKGF0dHIgPT09ICdmaWxsJyB8fCBhdHRyID09PSAnc3Ryb2tlJykgJiYgdmFsdWUgPT09ICdub25lJykge1xuICAgICAgdmFsdWUgPSAnJztcbiAgICB9XG4gICAgZWxzZSBpZiAoYXR0ciA9PT0gJ3N0cm9rZVVuaWZvcm0nKSB7XG4gICAgICByZXR1cm4gKHZhbHVlID09PSAnbm9uLXNjYWxpbmctc3Ryb2tlJyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGF0dHIgPT09ICdzdHJva2VEYXNoQXJyYXknKSB7XG4gICAgICBpZiAodmFsdWUgPT09ICdub25lJykge1xuICAgICAgICB2YWx1ZSA9IG51bGw7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC8sL2csICcgJykuc3BsaXQoL1xccysvKS5tYXAocGFyc2VGbG9hdCk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGF0dHIgPT09ICd0cmFuc2Zvcm1NYXRyaXgnKSB7XG4gICAgICBpZiAocGFyZW50QXR0cmlidXRlcyAmJiBwYXJlbnRBdHRyaWJ1dGVzLnRyYW5zZm9ybU1hdHJpeCkge1xuICAgICAgICB2YWx1ZSA9IG11bHRpcGx5VHJhbnNmb3JtTWF0cmljZXMoXG4gICAgICAgICAgcGFyZW50QXR0cmlidXRlcy50cmFuc2Zvcm1NYXRyaXgsIGZhYnJpYy5wYXJzZVRyYW5zZm9ybUF0dHJpYnV0ZSh2YWx1ZSkpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHZhbHVlID0gZmFicmljLnBhcnNlVHJhbnNmb3JtQXR0cmlidXRlKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoYXR0ciA9PT0gJ3Zpc2libGUnKSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlICE9PSAnbm9uZScgJiYgdmFsdWUgIT09ICdoaWRkZW4nO1xuICAgICAgLy8gZGlzcGxheT1ub25lIG9uIHBhcmVudCBlbGVtZW50IGFsd2F5cyB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgY2hpbGQgZWxlbWVudFxuICAgICAgaWYgKHBhcmVudEF0dHJpYnV0ZXMgJiYgcGFyZW50QXR0cmlidXRlcy52aXNpYmxlID09PSBmYWxzZSkge1xuICAgICAgICB2YWx1ZSA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChhdHRyID09PSAnb3BhY2l0eScpIHtcbiAgICAgIHZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZSk7XG4gICAgICBpZiAocGFyZW50QXR0cmlidXRlcyAmJiB0eXBlb2YgcGFyZW50QXR0cmlidXRlcy5vcGFjaXR5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB2YWx1ZSAqPSBwYXJlbnRBdHRyaWJ1dGVzLm9wYWNpdHk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGF0dHIgPT09ICd0ZXh0QW5jaG9yJyAvKiB0ZXh0LWFuY2hvciAqLykge1xuICAgICAgdmFsdWUgPSB2YWx1ZSA9PT0gJ3N0YXJ0JyA/ICdsZWZ0JyA6IHZhbHVlID09PSAnZW5kJyA/ICdyaWdodCcgOiAnY2VudGVyJztcbiAgICB9XG4gICAgZWxzZSBpZiAoYXR0ciA9PT0gJ2NoYXJTcGFjaW5nJykge1xuICAgICAgLy8gcGFyc2VVbml0IHJldHVybnMgcHggYW5kIHdlIGNvbnZlcnQgaXQgdG8gZW1cbiAgICAgIHBhcnNlZCA9IHBhcnNlVW5pdCh2YWx1ZSwgZm9udFNpemUpIC8gZm9udFNpemUgKiAxMDAwO1xuICAgIH1cbiAgICBlbHNlIGlmIChhdHRyID09PSAncGFpbnRGaXJzdCcpIHtcbiAgICAgIHZhciBmaWxsSW5kZXggPSB2YWx1ZS5pbmRleE9mKCdmaWxsJyk7XG4gICAgICB2YXIgc3Ryb2tlSW5kZXggPSB2YWx1ZS5pbmRleE9mKCdzdHJva2UnKTtcbiAgICAgIHZhciB2YWx1ZSA9ICdmaWxsJztcbiAgICAgIGlmIChmaWxsSW5kZXggPiAtMSAmJiBzdHJva2VJbmRleCA+IC0xICYmIHN0cm9rZUluZGV4IDwgZmlsbEluZGV4KSB7XG4gICAgICAgIHZhbHVlID0gJ3N0cm9rZSc7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChmaWxsSW5kZXggPT09IC0xICYmIHN0cm9rZUluZGV4ID4gLTEpIHtcbiAgICAgICAgdmFsdWUgPSAnc3Ryb2tlJztcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoYXR0ciA9PT0gJ2hyZWYnIHx8IGF0dHIgPT09ICd4bGluazpocmVmJyB8fCBhdHRyID09PSAnZm9udCcpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYXR0ciA9PT0gJ2ltYWdlU21vb3RoaW5nJykge1xuICAgICAgcmV0dXJuICh2YWx1ZSA9PT0gJ29wdGltaXplUXVhbGl0eScpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHBhcnNlZCA9IGlzQXJyYXkgPyB2YWx1ZS5tYXAocGFyc2VVbml0KSA6IHBhcnNlVW5pdCh2YWx1ZSwgZm9udFNpemUpO1xuICAgIH1cblxuICAgIHJldHVybiAoIWlzQXJyYXkgJiYgaXNOYU4ocGFyc2VkKSA/IHZhbHVlIDogcGFyc2VkKTtcbiAgfVxuXG4gIC8qKlxuICAgICogQHByaXZhdGVcbiAgICAqL1xuICBmdW5jdGlvbiBnZXRTdmdSZWdleChhcnIpIHtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cCgnXignICsgYXJyLmpvaW4oJ3wnKSArICcpXFxcXGInLCAnaScpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhdHRyaWJ1dGVzIEFycmF5IG9mIGF0dHJpYnV0ZXMgdG8gcGFyc2VcbiAgICovXG4gIGZ1bmN0aW9uIF9zZXRTdHJva2VGaWxsT3BhY2l0eShhdHRyaWJ1dGVzKSB7XG4gICAgZm9yICh2YXIgYXR0ciBpbiBjb2xvckF0dHJpYnV0ZXMpIHtcblxuICAgICAgaWYgKHR5cGVvZiBhdHRyaWJ1dGVzW2NvbG9yQXR0cmlidXRlc1thdHRyXV0gPT09ICd1bmRlZmluZWQnIHx8IGF0dHJpYnV0ZXNbYXR0cl0gPT09ICcnKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGF0dHJpYnV0ZXNbYXR0cl0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGlmICghZmFicmljLk9iamVjdC5wcm90b3R5cGVbYXR0cl0pIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBhdHRyaWJ1dGVzW2F0dHJdID0gZmFicmljLk9iamVjdC5wcm90b3R5cGVbYXR0cl07XG4gICAgICB9XG5cbiAgICAgIGlmIChhdHRyaWJ1dGVzW2F0dHJdLmluZGV4T2YoJ3VybCgnKSA9PT0gMCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbG9yID0gbmV3IGZhYnJpYy5Db2xvcihhdHRyaWJ1dGVzW2F0dHJdKTtcbiAgICAgIGF0dHJpYnV0ZXNbYXR0cl0gPSBjb2xvci5zZXRBbHBoYSh0b0ZpeGVkKGNvbG9yLmdldEFscGhhKCkgKiBhdHRyaWJ1dGVzW2NvbG9yQXR0cmlidXRlc1thdHRyXV0sIDIpKS50b1JnYmEoKTtcbiAgICB9XG4gICAgcmV0dXJuIGF0dHJpYnV0ZXM7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGZ1bmN0aW9uIF9nZXRNdWx0aXBsZU5vZGVzKGRvYywgbm9kZU5hbWVzKSB7XG4gICAgdmFyIG5vZGVOYW1lLCBub2RlQXJyYXkgPSBbXSwgbm9kZUxpc3QsIGksIGxlbjtcbiAgICBmb3IgKGkgPSAwLCBsZW4gPSBub2RlTmFtZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIG5vZGVOYW1lID0gbm9kZU5hbWVzW2ldO1xuICAgICAgbm9kZUxpc3QgPSBkb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUobm9kZU5hbWUpO1xuICAgICAgbm9kZUFycmF5ID0gbm9kZUFycmF5LmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChub2RlTGlzdCkpO1xuICAgIH1cbiAgICByZXR1cm4gbm9kZUFycmF5O1xuICB9XG5cbiAgLyoqXG4gICAqIFBhcnNlcyBcInRyYW5zZm9ybVwiIGF0dHJpYnV0ZSwgcmV0dXJuaW5nIGFuIGFycmF5IG9mIHZhbHVlc1xuICAgKiBAc3RhdGljXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgZmFicmljXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBhdHRyaWJ1dGVWYWx1ZSBTdHJpbmcgY29udGFpbmluZyBhdHRyaWJ1dGUgdmFsdWVcbiAgICogQHJldHVybiB7QXJyYXl9IEFycmF5IG9mIDYgZWxlbWVudHMgcmVwcmVzZW50aW5nIHRyYW5zZm9ybWF0aW9uIG1hdHJpeFxuICAgKi9cbiAgZmFicmljLnBhcnNlVHJhbnNmb3JtQXR0cmlidXRlID0gKGZ1bmN0aW9uKCkge1xuICAgIGZ1bmN0aW9uIHJvdGF0ZU1hdHJpeChtYXRyaXgsIGFyZ3MpIHtcbiAgICAgIHZhciBjb3MgPSBmYWJyaWMudXRpbC5jb3MoYXJnc1swXSksIHNpbiA9IGZhYnJpYy51dGlsLnNpbihhcmdzWzBdKSxcbiAgICAgICAgICB4ID0gMCwgeSA9IDA7XG4gICAgICBpZiAoYXJncy5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgeCA9IGFyZ3NbMV07XG4gICAgICAgIHkgPSBhcmdzWzJdO1xuICAgICAgfVxuXG4gICAgICBtYXRyaXhbMF0gPSBjb3M7XG4gICAgICBtYXRyaXhbMV0gPSBzaW47XG4gICAgICBtYXRyaXhbMl0gPSAtc2luO1xuICAgICAgbWF0cml4WzNdID0gY29zO1xuICAgICAgbWF0cml4WzRdID0geCAtIChjb3MgKiB4IC0gc2luICogeSk7XG4gICAgICBtYXRyaXhbNV0gPSB5IC0gKHNpbiAqIHggKyBjb3MgKiB5KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzY2FsZU1hdHJpeChtYXRyaXgsIGFyZ3MpIHtcbiAgICAgIHZhciBtdWx0aXBsaWVyWCA9IGFyZ3NbMF0sXG4gICAgICAgICAgbXVsdGlwbGllclkgPSAoYXJncy5sZW5ndGggPT09IDIpID8gYXJnc1sxXSA6IGFyZ3NbMF07XG5cbiAgICAgIG1hdHJpeFswXSA9IG11bHRpcGxpZXJYO1xuICAgICAgbWF0cml4WzNdID0gbXVsdGlwbGllclk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2tld01hdHJpeChtYXRyaXgsIGFyZ3MsIHBvcykge1xuICAgICAgbWF0cml4W3Bvc10gPSBNYXRoLnRhbihmYWJyaWMudXRpbC5kZWdyZWVzVG9SYWRpYW5zKGFyZ3NbMF0pKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0cmFuc2xhdGVNYXRyaXgobWF0cml4LCBhcmdzKSB7XG4gICAgICBtYXRyaXhbNF0gPSBhcmdzWzBdO1xuICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIG1hdHJpeFs1XSA9IGFyZ3NbMV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gaWRlbnRpdHkgbWF0cml4XG4gICAgdmFyIGlNYXRyaXggPSBmYWJyaWMuaU1hdHJpeCxcblxuICAgICAgICAvLyA9PSBiZWdpbiB0cmFuc2Zvcm0gcmVnZXhwXG4gICAgICAgIG51bWJlciA9IGZhYnJpYy5yZU51bSxcblxuICAgICAgICBjb21tYVdzcCA9IGZhYnJpYy5jb21tYVdzcCxcblxuICAgICAgICBza2V3WCA9ICcoPzooc2tld1gpXFxcXHMqXFxcXChcXFxccyooJyArIG51bWJlciArICcpXFxcXHMqXFxcXCkpJyxcblxuICAgICAgICBza2V3WSA9ICcoPzooc2tld1kpXFxcXHMqXFxcXChcXFxccyooJyArIG51bWJlciArICcpXFxcXHMqXFxcXCkpJyxcblxuICAgICAgICByb3RhdGUgPSAnKD86KHJvdGF0ZSlcXFxccypcXFxcKFxcXFxzKignICsgbnVtYmVyICsgJykoPzonICtcbiAgICAgICAgICAgICAgICAgICAgY29tbWFXc3AgKyAnKCcgKyBudW1iZXIgKyAnKScgK1xuICAgICAgICAgICAgICAgICAgICBjb21tYVdzcCArICcoJyArIG51bWJlciArICcpKT9cXFxccypcXFxcKSknLFxuXG4gICAgICAgIHNjYWxlID0gJyg/OihzY2FsZSlcXFxccypcXFxcKFxcXFxzKignICsgbnVtYmVyICsgJykoPzonICtcbiAgICAgICAgICAgICAgICAgICAgY29tbWFXc3AgKyAnKCcgKyBudW1iZXIgKyAnKSk/XFxcXHMqXFxcXCkpJyxcblxuICAgICAgICB0cmFuc2xhdGUgPSAnKD86KHRyYW5zbGF0ZSlcXFxccypcXFxcKFxcXFxzKignICsgbnVtYmVyICsgJykoPzonICtcbiAgICAgICAgICAgICAgICAgICAgY29tbWFXc3AgKyAnKCcgKyBudW1iZXIgKyAnKSk/XFxcXHMqXFxcXCkpJyxcblxuICAgICAgICBtYXRyaXggPSAnKD86KG1hdHJpeClcXFxccypcXFxcKFxcXFxzKicgK1xuICAgICAgICAgICAgICAgICAgJygnICsgbnVtYmVyICsgJyknICsgY29tbWFXc3AgK1xuICAgICAgICAgICAgICAgICAgJygnICsgbnVtYmVyICsgJyknICsgY29tbWFXc3AgK1xuICAgICAgICAgICAgICAgICAgJygnICsgbnVtYmVyICsgJyknICsgY29tbWFXc3AgK1xuICAgICAgICAgICAgICAgICAgJygnICsgbnVtYmVyICsgJyknICsgY29tbWFXc3AgK1xuICAgICAgICAgICAgICAgICAgJygnICsgbnVtYmVyICsgJyknICsgY29tbWFXc3AgK1xuICAgICAgICAgICAgICAgICAgJygnICsgbnVtYmVyICsgJyknICtcbiAgICAgICAgICAgICAgICAgICdcXFxccypcXFxcKSknLFxuXG4gICAgICAgIHRyYW5zZm9ybSA9ICcoPzonICtcbiAgICAgICAgICAgICAgICAgICAgbWF0cml4ICsgJ3wnICtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlICsgJ3wnICtcbiAgICAgICAgICAgICAgICAgICAgc2NhbGUgKyAnfCcgK1xuICAgICAgICAgICAgICAgICAgICByb3RhdGUgKyAnfCcgK1xuICAgICAgICAgICAgICAgICAgICBza2V3WCArICd8JyArXG4gICAgICAgICAgICAgICAgICAgIHNrZXdZICtcbiAgICAgICAgICAgICAgICAgICAgJyknLFxuXG4gICAgICAgIHRyYW5zZm9ybXMgPSAnKD86JyArIHRyYW5zZm9ybSArICcoPzonICsgY29tbWFXc3AgKyAnKicgKyB0cmFuc2Zvcm0gKyAnKSonICsgJyknLFxuXG4gICAgICAgIHRyYW5zZm9ybUxpc3QgPSAnXlxcXFxzKig/OicgKyB0cmFuc2Zvcm1zICsgJz8pXFxcXHMqJCcsXG5cbiAgICAgICAgLy8gaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHL2Nvb3Jkcy5odG1sI1RyYW5zZm9ybUF0dHJpYnV0ZVxuICAgICAgICByZVRyYW5zZm9ybUxpc3QgPSBuZXcgUmVnRXhwKHRyYW5zZm9ybUxpc3QpLFxuICAgICAgICAvLyA9PSBlbmQgdHJhbnNmb3JtIHJlZ2V4cFxuXG4gICAgICAgIHJlVHJhbnNmb3JtID0gbmV3IFJlZ0V4cCh0cmFuc2Zvcm0sICdnJyk7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24oYXR0cmlidXRlVmFsdWUpIHtcblxuICAgICAgLy8gc3RhcnQgd2l0aCBpZGVudGl0eSBtYXRyaXhcbiAgICAgIHZhciBtYXRyaXggPSBpTWF0cml4LmNvbmNhdCgpLFxuICAgICAgICAgIG1hdHJpY2VzID0gW107XG5cbiAgICAgIC8vIHJldHVybiBpZiBubyBhcmd1bWVudCB3YXMgZ2l2ZW4gb3JcbiAgICAgIC8vIGFuIGFyZ3VtZW50IGRvZXMgbm90IG1hdGNoIHRyYW5zZm9ybSBhdHRyaWJ1dGUgcmVnZXhwXG4gICAgICBpZiAoIWF0dHJpYnV0ZVZhbHVlIHx8IChhdHRyaWJ1dGVWYWx1ZSAmJiAhcmVUcmFuc2Zvcm1MaXN0LnRlc3QoYXR0cmlidXRlVmFsdWUpKSkge1xuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgICAgfVxuXG4gICAgICBhdHRyaWJ1dGVWYWx1ZS5yZXBsYWNlKHJlVHJhbnNmb3JtLCBmdW5jdGlvbihtYXRjaCkge1xuXG4gICAgICAgIHZhciBtID0gbmV3IFJlZ0V4cCh0cmFuc2Zvcm0pLmV4ZWMobWF0Y2gpLmZpbHRlcihmdW5jdGlvbiAobWF0Y2gpIHtcbiAgICAgICAgICAgICAgLy8gbWF0Y2ggIT09ICcnICYmIG1hdGNoICE9IG51bGxcbiAgICAgICAgICAgICAgcmV0dXJuICghIW1hdGNoKTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgb3BlcmF0aW9uID0gbVsxXSxcbiAgICAgICAgICAgIGFyZ3MgPSBtLnNsaWNlKDIpLm1hcChwYXJzZUZsb2F0KTtcblxuICAgICAgICBzd2l0Y2ggKG9wZXJhdGlvbikge1xuICAgICAgICAgIGNhc2UgJ3RyYW5zbGF0ZSc6XG4gICAgICAgICAgICB0cmFuc2xhdGVNYXRyaXgobWF0cml4LCBhcmdzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3JvdGF0ZSc6XG4gICAgICAgICAgICBhcmdzWzBdID0gZmFicmljLnV0aWwuZGVncmVlc1RvUmFkaWFucyhhcmdzWzBdKTtcbiAgICAgICAgICAgIHJvdGF0ZU1hdHJpeChtYXRyaXgsIGFyZ3MpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnc2NhbGUnOlxuICAgICAgICAgICAgc2NhbGVNYXRyaXgobWF0cml4LCBhcmdzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3NrZXdYJzpcbiAgICAgICAgICAgIHNrZXdNYXRyaXgobWF0cml4LCBhcmdzLCAyKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3NrZXdZJzpcbiAgICAgICAgICAgIHNrZXdNYXRyaXgobWF0cml4LCBhcmdzLCAxKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ21hdHJpeCc6XG4gICAgICAgICAgICBtYXRyaXggPSBhcmdzO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzbmFwc2hvdCBjdXJyZW50IG1hdHJpeCBpbnRvIG1hdHJpY2VzIGFycmF5XG4gICAgICAgIG1hdHJpY2VzLnB1c2gobWF0cml4LmNvbmNhdCgpKTtcbiAgICAgICAgLy8gcmVzZXRcbiAgICAgICAgbWF0cml4ID0gaU1hdHJpeC5jb25jYXQoKTtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgY29tYmluZWRNYXRyaXggPSBtYXRyaWNlc1swXTtcbiAgICAgIHdoaWxlIChtYXRyaWNlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgIG1hdHJpY2VzLnNoaWZ0KCk7XG4gICAgICAgIGNvbWJpbmVkTWF0cml4ID0gZmFicmljLnV0aWwubXVsdGlwbHlUcmFuc2Zvcm1NYXRyaWNlcyhjb21iaW5lZE1hdHJpeCwgbWF0cmljZXNbMF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbWJpbmVkTWF0cml4O1xuICAgIH07XG4gIH0pKCk7XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBmdW5jdGlvbiBwYXJzZVN0eWxlU3RyaW5nKHN0eWxlLCBvU3R5bGUpIHtcbiAgICB2YXIgYXR0ciwgdmFsdWU7XG4gICAgc3R5bGUucmVwbGFjZSgvO1xccyokLywgJycpLnNwbGl0KCc7JykuZm9yRWFjaChmdW5jdGlvbiAoY2h1bmspIHtcbiAgICAgIHZhciBwYWlyID0gY2h1bmsuc3BsaXQoJzonKTtcblxuICAgICAgYXR0ciA9IHBhaXJbMF0udHJpbSgpLnRvTG93ZXJDYXNlKCk7XG4gICAgICB2YWx1ZSA9ICBwYWlyWzFdLnRyaW0oKTtcblxuICAgICAgb1N0eWxlW2F0dHJdID0gdmFsdWU7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGZ1bmN0aW9uIHBhcnNlU3R5bGVPYmplY3Qoc3R5bGUsIG9TdHlsZSkge1xuICAgIHZhciBhdHRyLCB2YWx1ZTtcbiAgICBmb3IgKHZhciBwcm9wIGluIHN0eWxlKSB7XG4gICAgICBpZiAodHlwZW9mIHN0eWxlW3Byb3BdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgYXR0ciA9IHByb3AudG9Mb3dlckNhc2UoKTtcbiAgICAgIHZhbHVlID0gc3R5bGVbcHJvcF07XG5cbiAgICAgIG9TdHlsZVthdHRyXSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0R2xvYmFsU3R5bGVzRm9yRWxlbWVudChlbGVtZW50LCBzdmdVaWQpIHtcbiAgICB2YXIgc3R5bGVzID0geyB9O1xuICAgIGZvciAodmFyIHJ1bGUgaW4gZmFicmljLmNzc1J1bGVzW3N2Z1VpZF0pIHtcbiAgICAgIGlmIChlbGVtZW50TWF0Y2hlc1J1bGUoZWxlbWVudCwgcnVsZS5zcGxpdCgnICcpKSkge1xuICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBmYWJyaWMuY3NzUnVsZXNbc3ZnVWlkXVtydWxlXSkge1xuICAgICAgICAgIHN0eWxlc1twcm9wZXJ0eV0gPSBmYWJyaWMuY3NzUnVsZXNbc3ZnVWlkXVtydWxlXVtwcm9wZXJ0eV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0eWxlcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gZWxlbWVudE1hdGNoZXNSdWxlKGVsZW1lbnQsIHNlbGVjdG9ycykge1xuICAgIHZhciBmaXJzdE1hdGNoaW5nLCBwYXJlbnRNYXRjaGluZyA9IHRydWU7XG4gICAgLy9zdGFydCBmcm9tIHJpZ2h0bW9zdCBzZWxlY3Rvci5cbiAgICBmaXJzdE1hdGNoaW5nID0gc2VsZWN0b3JNYXRjaGVzKGVsZW1lbnQsIHNlbGVjdG9ycy5wb3AoKSk7XG4gICAgaWYgKGZpcnN0TWF0Y2hpbmcgJiYgc2VsZWN0b3JzLmxlbmd0aCkge1xuICAgICAgcGFyZW50TWF0Y2hpbmcgPSBkb2VzU29tZVBhcmVudE1hdGNoKGVsZW1lbnQsIHNlbGVjdG9ycyk7XG4gICAgfVxuICAgIHJldHVybiBmaXJzdE1hdGNoaW5nICYmIHBhcmVudE1hdGNoaW5nICYmIChzZWxlY3RvcnMubGVuZ3RoID09PSAwKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRvZXNTb21lUGFyZW50TWF0Y2goZWxlbWVudCwgc2VsZWN0b3JzKSB7XG4gICAgdmFyIHNlbGVjdG9yLCBwYXJlbnRNYXRjaGluZyA9IHRydWU7XG4gICAgd2hpbGUgKGVsZW1lbnQucGFyZW50Tm9kZSAmJiBlbGVtZW50LnBhcmVudE5vZGUubm9kZVR5cGUgPT09IDEgJiYgc2VsZWN0b3JzLmxlbmd0aCkge1xuICAgICAgaWYgKHBhcmVudE1hdGNoaW5nKSB7XG4gICAgICAgIHNlbGVjdG9yID0gc2VsZWN0b3JzLnBvcCgpO1xuICAgICAgfVxuICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICAgIHBhcmVudE1hdGNoaW5nID0gc2VsZWN0b3JNYXRjaGVzKGVsZW1lbnQsIHNlbGVjdG9yKTtcbiAgICB9XG4gICAgcmV0dXJuIHNlbGVjdG9ycy5sZW5ndGggPT09IDA7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGZ1bmN0aW9uIHNlbGVjdG9yTWF0Y2hlcyhlbGVtZW50LCBzZWxlY3Rvcikge1xuICAgIHZhciBub2RlTmFtZSA9IGVsZW1lbnQubm9kZU5hbWUsXG4gICAgICAgIGNsYXNzTmFtZXMgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnY2xhc3MnKSxcbiAgICAgICAgaWQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnaWQnKSwgbWF0Y2hlciwgaTtcbiAgICAvLyBpIGNoZWNrIGlmIGEgc2VsZWN0b3IgbWF0Y2hlcyBzbGljaW5nIGF3YXkgcGFydCBmcm9tIGl0LlxuICAgIC8vIGlmIGkgZ2V0IGVtcHR5IHN0cmluZyBpIHNob3VsZCBtYXRjaFxuICAgIG1hdGNoZXIgPSBuZXcgUmVnRXhwKCdeJyArIG5vZGVOYW1lLCAnaScpO1xuICAgIHNlbGVjdG9yID0gc2VsZWN0b3IucmVwbGFjZShtYXRjaGVyLCAnJyk7XG4gICAgaWYgKGlkICYmIHNlbGVjdG9yLmxlbmd0aCkge1xuICAgICAgbWF0Y2hlciA9IG5ldyBSZWdFeHAoJyMnICsgaWQgKyAnKD8hW2EtekEtWlxcXFwtXSspJywgJ2knKTtcbiAgICAgIHNlbGVjdG9yID0gc2VsZWN0b3IucmVwbGFjZShtYXRjaGVyLCAnJyk7XG4gICAgfVxuICAgIGlmIChjbGFzc05hbWVzICYmIHNlbGVjdG9yLmxlbmd0aCkge1xuICAgICAgY2xhc3NOYW1lcyA9IGNsYXNzTmFtZXMuc3BsaXQoJyAnKTtcbiAgICAgIGZvciAoaSA9IGNsYXNzTmFtZXMubGVuZ3RoOyBpLS07KSB7XG4gICAgICAgIG1hdGNoZXIgPSBuZXcgUmVnRXhwKCdcXFxcLicgKyBjbGFzc05hbWVzW2ldICsgJyg/IVthLXpBLVpcXFxcLV0rKScsICdpJyk7XG4gICAgICAgIHNlbGVjdG9yID0gc2VsZWN0b3IucmVwbGFjZShtYXRjaGVyLCAnJyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzZWxlY3Rvci5sZW5ndGggPT09IDA7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogdG8gc3VwcG9ydCBJRTggbWlzc2luZyBnZXRFbGVtZW50QnlJZCBvbiBTVkdkb2N1bWVudCBhbmQgb24gbm9kZSB4bWxET01cbiAgICovXG4gIGZ1bmN0aW9uIGVsZW1lbnRCeUlkKGRvYywgaWQpIHtcbiAgICB2YXIgZWw7XG4gICAgZG9jLmdldEVsZW1lbnRCeUlkICYmIChlbCA9IGRvYy5nZXRFbGVtZW50QnlJZChpZCkpO1xuICAgIGlmIChlbCkge1xuICAgICAgcmV0dXJuIGVsO1xuICAgIH1cbiAgICB2YXIgbm9kZSwgaSwgbGVuLCBub2RlbGlzdCA9IGRvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnKicpO1xuICAgIGZvciAoaSA9IDAsIGxlbiA9IG5vZGVsaXN0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBub2RlID0gbm9kZWxpc3RbaV07XG4gICAgICBpZiAoaWQgPT09IG5vZGUuZ2V0QXR0cmlidXRlKCdpZCcpKSB7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gcGFyc2VVc2VEaXJlY3RpdmVzKGRvYykge1xuICAgIHZhciBub2RlbGlzdCA9IF9nZXRNdWx0aXBsZU5vZGVzKGRvYywgWyd1c2UnLCAnc3ZnOnVzZSddKSwgaSA9IDA7XG4gICAgd2hpbGUgKG5vZGVsaXN0Lmxlbmd0aCAmJiBpIDwgbm9kZWxpc3QubGVuZ3RoKSB7XG4gICAgICB2YXIgZWwgPSBub2RlbGlzdFtpXSxcbiAgICAgICAgICB4bGlua0F0dHJpYnV0ZSA9IGVsLmdldEF0dHJpYnV0ZSgneGxpbms6aHJlZicpIHx8IGVsLmdldEF0dHJpYnV0ZSgnaHJlZicpO1xuXG4gICAgICBpZiAoeGxpbmtBdHRyaWJ1dGUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgeGxpbmsgPSB4bGlua0F0dHJpYnV0ZS5zbGljZSgxKSxcbiAgICAgICAgICB4ID0gZWwuZ2V0QXR0cmlidXRlKCd4JykgfHwgMCxcbiAgICAgICAgICB5ID0gZWwuZ2V0QXR0cmlidXRlKCd5JykgfHwgMCxcbiAgICAgICAgICBlbDIgPSBlbGVtZW50QnlJZChkb2MsIHhsaW5rKS5jbG9uZU5vZGUodHJ1ZSksXG4gICAgICAgICAgY3VycmVudFRyYW5zID0gKGVsMi5nZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScpIHx8ICcnKSArICcgdHJhbnNsYXRlKCcgKyB4ICsgJywgJyArIHkgKyAnKScsXG4gICAgICAgICAgcGFyZW50Tm9kZSxcbiAgICAgICAgICBvbGRMZW5ndGggPSBub2RlbGlzdC5sZW5ndGgsIGF0dHIsXG4gICAgICAgICAgaixcbiAgICAgICAgICBhdHRycyxcbiAgICAgICAgICBsZW4sXG4gICAgICAgICAgbmFtZXNwYWNlID0gZmFicmljLnN2Z05TO1xuXG4gICAgICBhcHBseVZpZXdib3hUcmFuc2Zvcm0oZWwyKTtcbiAgICAgIGlmICgvXnN2ZyQvaS50ZXN0KGVsMi5ub2RlTmFtZSkpIHtcbiAgICAgICAgdmFyIGVsMyA9IGVsMi5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhuYW1lc3BhY2UsICdnJyk7XG4gICAgICAgIGZvciAoaiA9IDAsIGF0dHJzID0gZWwyLmF0dHJpYnV0ZXMsIGxlbiA9IGF0dHJzLmxlbmd0aDsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgICAgYXR0ciA9IGF0dHJzLml0ZW0oaik7XG4gICAgICAgICAgZWwzLnNldEF0dHJpYnV0ZU5TKG5hbWVzcGFjZSwgYXR0ci5ub2RlTmFtZSwgYXR0ci5ub2RlVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGVsMi5maXJzdENoaWxkICE9IG51bGxcbiAgICAgICAgd2hpbGUgKGVsMi5maXJzdENoaWxkKSB7XG4gICAgICAgICAgZWwzLmFwcGVuZENoaWxkKGVsMi5maXJzdENoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBlbDIgPSBlbDM7XG4gICAgICB9XG5cbiAgICAgIGZvciAoaiA9IDAsIGF0dHJzID0gZWwuYXR0cmlidXRlcywgbGVuID0gYXR0cnMubGVuZ3RoOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgYXR0ciA9IGF0dHJzLml0ZW0oaik7XG4gICAgICAgIGlmIChhdHRyLm5vZGVOYW1lID09PSAneCcgfHwgYXR0ci5ub2RlTmFtZSA9PT0gJ3knIHx8XG4gICAgICAgICAgYXR0ci5ub2RlTmFtZSA9PT0gJ3hsaW5rOmhyZWYnIHx8IGF0dHIubm9kZU5hbWUgPT09ICdocmVmJykge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGF0dHIubm9kZU5hbWUgPT09ICd0cmFuc2Zvcm0nKSB7XG4gICAgICAgICAgY3VycmVudFRyYW5zID0gYXR0ci5ub2RlVmFsdWUgKyAnICcgKyBjdXJyZW50VHJhbnM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZWwyLnNldEF0dHJpYnV0ZShhdHRyLm5vZGVOYW1lLCBhdHRyLm5vZGVWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZWwyLnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywgY3VycmVudFRyYW5zKTtcbiAgICAgIGVsMi5zZXRBdHRyaWJ1dGUoJ2luc3RhbnRpYXRlZF9ieV91c2UnLCAnMScpO1xuICAgICAgZWwyLnJlbW92ZUF0dHJpYnV0ZSgnaWQnKTtcbiAgICAgIHBhcmVudE5vZGUgPSBlbC5wYXJlbnROb2RlO1xuICAgICAgcGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoZWwyLCBlbCk7XG4gICAgICAvLyBzb21lIGJyb3dzZXJzIGRvIG5vdCBzaG9ydGVuIG5vZGVsaXN0IGFmdGVyIHJlcGxhY2VDaGlsZCAoSUU4KVxuICAgICAgaWYgKG5vZGVsaXN0Lmxlbmd0aCA9PT0gb2xkTGVuZ3RoKSB7XG4gICAgICAgIGkrKztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcvY29vcmRzLmh0bWwjVmlld0JveEF0dHJpYnV0ZVxuICAvLyBtYXRjaGVzLCBlLmcuOiArMTQuNTZlLTEyLCBldGMuXG4gIHZhciByZVZpZXdCb3hBdHRyVmFsdWUgPSBuZXcgUmVnRXhwKFxuICAgICdeJyArXG4gICAgJ1xcXFxzKignICsgZmFicmljLnJlTnVtICsgJyspXFxcXHMqLD8nICtcbiAgICAnXFxcXHMqKCcgKyBmYWJyaWMucmVOdW0gKyAnKylcXFxccyosPycgK1xuICAgICdcXFxccyooJyArIGZhYnJpYy5yZU51bSArICcrKVxcXFxzKiw/JyArXG4gICAgJ1xcXFxzKignICsgZmFicmljLnJlTnVtICsgJyspXFxcXHMqJyArXG4gICAgJyQnXG4gICk7XG5cbiAgLyoqXG4gICAqIEFkZCBhIDxnPiBlbGVtZW50IHRoYXQgZW52ZWxvcCBhbGwgY2hpbGQgZWxlbWVudHMgYW5kIG1ha2VzIHRoZSB2aWV3Ym94IHRyYW5zZm9ybU1hdHJpeCBkZXNjZW5kIG9uIGFsbCBlbGVtZW50c1xuICAgKi9cbiAgZnVuY3Rpb24gYXBwbHlWaWV3Ym94VHJhbnNmb3JtKGVsZW1lbnQpIHtcbiAgICBpZiAoIWZhYnJpYy5zdmdWaWV3Qm94RWxlbWVudHNSZWdFeC50ZXN0KGVsZW1lbnQubm9kZU5hbWUpKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIHZhciB2aWV3Qm94QXR0ciA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCd2aWV3Qm94JyksXG4gICAgICAgIHNjYWxlWCA9IDEsXG4gICAgICAgIHNjYWxlWSA9IDEsXG4gICAgICAgIG1pblggPSAwLFxuICAgICAgICBtaW5ZID0gMCxcbiAgICAgICAgdmlld0JveFdpZHRoLCB2aWV3Qm94SGVpZ2h0LCBtYXRyaXgsIGVsLFxuICAgICAgICB3aWR0aEF0dHIgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnd2lkdGgnKSxcbiAgICAgICAgaGVpZ2h0QXR0ciA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKSxcbiAgICAgICAgeCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCd4JykgfHwgMCxcbiAgICAgICAgeSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCd5JykgfHwgMCxcbiAgICAgICAgcHJlc2VydmVBc3BlY3RSYXRpbyA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdwcmVzZXJ2ZUFzcGVjdFJhdGlvJykgfHwgJycsXG4gICAgICAgIG1pc3NpbmdWaWV3Qm94ID0gKCF2aWV3Qm94QXR0ciB8fCAhKHZpZXdCb3hBdHRyID0gdmlld0JveEF0dHIubWF0Y2gocmVWaWV3Qm94QXR0clZhbHVlKSkpLFxuICAgICAgICBtaXNzaW5nRGltQXR0ciA9ICghd2lkdGhBdHRyIHx8ICFoZWlnaHRBdHRyIHx8IHdpZHRoQXR0ciA9PT0gJzEwMCUnIHx8IGhlaWdodEF0dHIgPT09ICcxMDAlJyksXG4gICAgICAgIHRvQmVQYXJzZWQgPSBtaXNzaW5nVmlld0JveCAmJiBtaXNzaW5nRGltQXR0cixcbiAgICAgICAgcGFyc2VkRGltID0geyB9LCB0cmFuc2xhdGVNYXRyaXggPSAnJywgd2lkdGhEaWZmID0gMCwgaGVpZ2h0RGlmZiA9IDA7XG5cbiAgICBwYXJzZWREaW0ud2lkdGggPSAwO1xuICAgIHBhcnNlZERpbS5oZWlnaHQgPSAwO1xuICAgIHBhcnNlZERpbS50b0JlUGFyc2VkID0gdG9CZVBhcnNlZDtcblxuICAgIGlmIChtaXNzaW5nVmlld0JveCkge1xuICAgICAgaWYgKCgoeCB8fCB5KSAmJiBlbGVtZW50LnBhcmVudE5vZGUgJiYgZWxlbWVudC5wYXJlbnROb2RlLm5vZGVOYW1lICE9PSAnI2RvY3VtZW50JykpIHtcbiAgICAgICAgdHJhbnNsYXRlTWF0cml4ID0gJyB0cmFuc2xhdGUoJyArIHBhcnNlVW5pdCh4KSArICcgJyArIHBhcnNlVW5pdCh5KSArICcpICc7XG4gICAgICAgIG1hdHJpeCA9IChlbGVtZW50LmdldEF0dHJpYnV0ZSgndHJhbnNmb3JtJykgfHwgJycpICsgdHJhbnNsYXRlTWF0cml4O1xuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywgbWF0cml4KTtcbiAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3gnKTtcbiAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3knKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodG9CZVBhcnNlZCkge1xuICAgICAgcmV0dXJuIHBhcnNlZERpbTtcbiAgICB9XG5cbiAgICBpZiAobWlzc2luZ1ZpZXdCb3gpIHtcbiAgICAgIHBhcnNlZERpbS53aWR0aCA9IHBhcnNlVW5pdCh3aWR0aEF0dHIpO1xuICAgICAgcGFyc2VkRGltLmhlaWdodCA9IHBhcnNlVW5pdChoZWlnaHRBdHRyKTtcbiAgICAgIC8vIHNldCBhIHRyYW5zZm9ybSBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIHggeSBhbmQgYXJlIGlubmVyKG9ubHkpIFNWR3NcbiAgICAgIHJldHVybiBwYXJzZWREaW07XG4gICAgfVxuICAgIG1pblggPSAtcGFyc2VGbG9hdCh2aWV3Qm94QXR0clsxXSk7XG4gICAgbWluWSA9IC1wYXJzZUZsb2F0KHZpZXdCb3hBdHRyWzJdKTtcbiAgICB2aWV3Qm94V2lkdGggPSBwYXJzZUZsb2F0KHZpZXdCb3hBdHRyWzNdKTtcbiAgICB2aWV3Qm94SGVpZ2h0ID0gcGFyc2VGbG9hdCh2aWV3Qm94QXR0cls0XSk7XG4gICAgcGFyc2VkRGltLm1pblggPSBtaW5YO1xuICAgIHBhcnNlZERpbS5taW5ZID0gbWluWTtcbiAgICBwYXJzZWREaW0udmlld0JveFdpZHRoID0gdmlld0JveFdpZHRoO1xuICAgIHBhcnNlZERpbS52aWV3Qm94SGVpZ2h0ID0gdmlld0JveEhlaWdodDtcbiAgICBpZiAoIW1pc3NpbmdEaW1BdHRyKSB7XG4gICAgICBwYXJzZWREaW0ud2lkdGggPSBwYXJzZVVuaXQod2lkdGhBdHRyKTtcbiAgICAgIHBhcnNlZERpbS5oZWlnaHQgPSBwYXJzZVVuaXQoaGVpZ2h0QXR0cik7XG4gICAgICBzY2FsZVggPSBwYXJzZWREaW0ud2lkdGggLyB2aWV3Qm94V2lkdGg7XG4gICAgICBzY2FsZVkgPSBwYXJzZWREaW0uaGVpZ2h0IC8gdmlld0JveEhlaWdodDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBwYXJzZWREaW0ud2lkdGggPSB2aWV3Qm94V2lkdGg7XG4gICAgICBwYXJzZWREaW0uaGVpZ2h0ID0gdmlld0JveEhlaWdodDtcbiAgICB9XG5cbiAgICAvLyBkZWZhdWx0IGlzIHRvIHByZXNlcnZlIGFzcGVjdCByYXRpb1xuICAgIHByZXNlcnZlQXNwZWN0UmF0aW8gPSBmYWJyaWMudXRpbC5wYXJzZVByZXNlcnZlQXNwZWN0UmF0aW9BdHRyaWJ1dGUocHJlc2VydmVBc3BlY3RSYXRpbyk7XG4gICAgaWYgKHByZXNlcnZlQXNwZWN0UmF0aW8uYWxpZ25YICE9PSAnbm9uZScpIHtcbiAgICAgIC8vdHJhbnNsYXRlIGFsbCBjb250YWluZXIgZm9yIHRoZSBlZmZlY3Qgb2YgTWlkLCBNaW4sIE1heFxuICAgICAgaWYgKHByZXNlcnZlQXNwZWN0UmF0aW8ubWVldE9yU2xpY2UgPT09ICdtZWV0Jykge1xuICAgICAgICBzY2FsZVkgPSBzY2FsZVggPSAoc2NhbGVYID4gc2NhbGVZID8gc2NhbGVZIDogc2NhbGVYKTtcbiAgICAgICAgLy8gY2FsY3VsYXRlIGFkZGl0aW9uYWwgdHJhbnNsYXRpb24gdG8gbW92ZSB0aGUgdmlld2JveFxuICAgICAgfVxuICAgICAgaWYgKHByZXNlcnZlQXNwZWN0UmF0aW8ubWVldE9yU2xpY2UgPT09ICdzbGljZScpIHtcbiAgICAgICAgc2NhbGVZID0gc2NhbGVYID0gKHNjYWxlWCA+IHNjYWxlWSA/IHNjYWxlWCA6IHNjYWxlWSk7XG4gICAgICAgIC8vIGNhbGN1bGF0ZSBhZGRpdGlvbmFsIHRyYW5zbGF0aW9uIHRvIG1vdmUgdGhlIHZpZXdib3hcbiAgICAgIH1cbiAgICAgIHdpZHRoRGlmZiA9IHBhcnNlZERpbS53aWR0aCAtIHZpZXdCb3hXaWR0aCAqIHNjYWxlWDtcbiAgICAgIGhlaWdodERpZmYgPSBwYXJzZWREaW0uaGVpZ2h0IC0gdmlld0JveEhlaWdodCAqIHNjYWxlWDtcbiAgICAgIGlmIChwcmVzZXJ2ZUFzcGVjdFJhdGlvLmFsaWduWCA9PT0gJ01pZCcpIHtcbiAgICAgICAgd2lkdGhEaWZmIC89IDI7XG4gICAgICB9XG4gICAgICBpZiAocHJlc2VydmVBc3BlY3RSYXRpby5hbGlnblkgPT09ICdNaWQnKSB7XG4gICAgICAgIGhlaWdodERpZmYgLz0gMjtcbiAgICAgIH1cbiAgICAgIGlmIChwcmVzZXJ2ZUFzcGVjdFJhdGlvLmFsaWduWCA9PT0gJ01pbicpIHtcbiAgICAgICAgd2lkdGhEaWZmID0gMDtcbiAgICAgIH1cbiAgICAgIGlmIChwcmVzZXJ2ZUFzcGVjdFJhdGlvLmFsaWduWSA9PT0gJ01pbicpIHtcbiAgICAgICAgaGVpZ2h0RGlmZiA9IDA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHNjYWxlWCA9PT0gMSAmJiBzY2FsZVkgPT09IDEgJiYgbWluWCA9PT0gMCAmJiBtaW5ZID09PSAwICYmIHggPT09IDAgJiYgeSA9PT0gMCkge1xuICAgICAgcmV0dXJuIHBhcnNlZERpbTtcbiAgICB9XG4gICAgaWYgKCh4IHx8IHkpICYmIGVsZW1lbnQucGFyZW50Tm9kZS5ub2RlTmFtZSAhPT0gJyNkb2N1bWVudCcpIHtcbiAgICAgIHRyYW5zbGF0ZU1hdHJpeCA9ICcgdHJhbnNsYXRlKCcgKyBwYXJzZVVuaXQoeCkgKyAnICcgKyBwYXJzZVVuaXQoeSkgKyAnKSAnO1xuICAgIH1cblxuICAgIG1hdHJpeCA9IHRyYW5zbGF0ZU1hdHJpeCArICcgbWF0cml4KCcgKyBzY2FsZVggK1xuICAgICAgICAgICAgICAgICAgJyAwJyArXG4gICAgICAgICAgICAgICAgICAnIDAgJyArXG4gICAgICAgICAgICAgICAgICBzY2FsZVkgKyAnICcgK1xuICAgICAgICAgICAgICAgICAgKG1pblggKiBzY2FsZVggKyB3aWR0aERpZmYpICsgJyAnICtcbiAgICAgICAgICAgICAgICAgIChtaW5ZICogc2NhbGVZICsgaGVpZ2h0RGlmZikgKyAnKSAnO1xuICAgIC8vIHNlZW1zIHVudXNlZC5cbiAgICAvLyBwYXJzZWREaW0udmlld2JveFRyYW5zZm9ybSA9IGZhYnJpYy5wYXJzZVRyYW5zZm9ybUF0dHJpYnV0ZShtYXRyaXgpO1xuICAgIGlmIChlbGVtZW50Lm5vZGVOYW1lID09PSAnc3ZnJykge1xuICAgICAgZWwgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGZhYnJpYy5zdmdOUywgJ2cnKTtcbiAgICAgIC8vIGVsZW1lbnQuZmlyc3RDaGlsZCAhPSBudWxsXG4gICAgICB3aGlsZSAoZWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICAgIGVsLmFwcGVuZENoaWxkKGVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgICB9XG4gICAgICBlbGVtZW50LmFwcGVuZENoaWxkKGVsKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBlbCA9IGVsZW1lbnQ7XG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ3gnKTtcbiAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgneScpO1xuICAgICAgbWF0cml4ID0gZWwuZ2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nKSArIG1hdHJpeDtcbiAgICB9XG4gICAgZWwuc2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nLCBtYXRyaXgpO1xuICAgIHJldHVybiBwYXJzZWREaW07XG4gIH1cblxuICBmdW5jdGlvbiBoYXNBbmNlc3RvcldpdGhOb2RlTmFtZShlbGVtZW50LCBub2RlTmFtZSkge1xuICAgIHdoaWxlIChlbGVtZW50ICYmIChlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlKSkge1xuICAgICAgaWYgKGVsZW1lbnQubm9kZU5hbWUgJiYgbm9kZU5hbWUudGVzdChlbGVtZW50Lm5vZGVOYW1lLnJlcGxhY2UoJ3N2ZzonLCAnJykpXG4gICAgICAgICYmICFlbGVtZW50LmdldEF0dHJpYnV0ZSgnaW5zdGFudGlhdGVkX2J5X3VzZScpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogUGFyc2VzIGFuIFNWRyBkb2N1bWVudCwgY29udmVydHMgaXQgdG8gYW4gYXJyYXkgb2YgY29ycmVzcG9uZGluZyBmYWJyaWMuKiBpbnN0YW5jZXMgYW5kIHBhc3NlcyB0aGVtIHRvIGEgY2FsbGJhY2tcbiAgICogQHN0YXRpY1xuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIGZhYnJpY1xuICAgKiBAcGFyYW0ge1NWR0RvY3VtZW50fSBkb2MgU1ZHIGRvY3VtZW50IHRvIHBhcnNlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIENhbGxiYWNrIHRvIGNhbGwgd2hlbiBwYXJzaW5nIGlzIGZpbmlzaGVkO1xuICAgKiBJdCdzIGJlaW5nIHBhc3NlZCBhbiBhcnJheSBvZiBlbGVtZW50cyAocGFyc2VkIGZyb20gYSBkb2N1bWVudCkuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXZpdmVyXSBNZXRob2QgZm9yIGZ1cnRoZXIgcGFyc2luZyBvZiBTVkcgZWxlbWVudHMsIGNhbGxlZCBhZnRlciBlYWNoIGZhYnJpYyBvYmplY3QgY3JlYXRlZC5cbiAgICogQHBhcmFtIHtPYmplY3R9IFtwYXJzaW5nT3B0aW9uc10gb3B0aW9ucyBmb3IgcGFyc2luZyBkb2N1bWVudFxuICAgKiBAcGFyYW0ge1N0cmluZ30gW3BhcnNpbmdPcHRpb25zLmNyb3NzT3JpZ2luXSBjcm9zc09yaWdpbiBzZXR0aW5nc1xuICAgKi9cbiAgZmFicmljLnBhcnNlU1ZHRG9jdW1lbnQgPSBmdW5jdGlvbihkb2MsIGNhbGxiYWNrLCByZXZpdmVyLCBwYXJzaW5nT3B0aW9ucykge1xuICAgIGlmICghZG9jKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcGFyc2VVc2VEaXJlY3RpdmVzKGRvYyk7XG5cbiAgICB2YXIgc3ZnVWlkID0gIGZhYnJpYy5PYmplY3QuX191aWQrKywgaSwgbGVuLFxuICAgICAgICBvcHRpb25zID0gYXBwbHlWaWV3Ym94VHJhbnNmb3JtKGRvYyksXG4gICAgICAgIGRlc2NlbmRhbnRzID0gZmFicmljLnV0aWwudG9BcnJheShkb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJyonKSk7XG4gICAgb3B0aW9ucy5jcm9zc09yaWdpbiA9IHBhcnNpbmdPcHRpb25zICYmIHBhcnNpbmdPcHRpb25zLmNyb3NzT3JpZ2luO1xuICAgIG9wdGlvbnMuc3ZnVWlkID0gc3ZnVWlkO1xuXG4gICAgaWYgKGRlc2NlbmRhbnRzLmxlbmd0aCA9PT0gMCAmJiBmYWJyaWMuaXNMaWtlbHlOb2RlKSB7XG4gICAgICAvLyB3ZSdyZSBsaWtlbHkgaW4gbm9kZSwgd2hlcmUgXCJvMy14bWxcIiBsaWJyYXJ5IGZhaWxzIHRvIGdFQlROKFwiKlwiKVxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FqYXhvcmcvbm9kZS1vMy14bWwvaXNzdWVzLzIxXG4gICAgICBkZXNjZW5kYW50cyA9IGRvYy5zZWxlY3ROb2RlcygnLy8qW25hbWUoLikhPVwic3ZnXCJdJyk7XG4gICAgICB2YXIgYXJyID0gW107XG4gICAgICBmb3IgKGkgPSAwLCBsZW4gPSBkZXNjZW5kYW50cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBhcnJbaV0gPSBkZXNjZW5kYW50c1tpXTtcbiAgICAgIH1cbiAgICAgIGRlc2NlbmRhbnRzID0gYXJyO1xuICAgIH1cblxuICAgIHZhciBlbGVtZW50cyA9IGRlc2NlbmRhbnRzLmZpbHRlcihmdW5jdGlvbihlbCkge1xuICAgICAgYXBwbHlWaWV3Ym94VHJhbnNmb3JtKGVsKTtcbiAgICAgIHJldHVybiBmYWJyaWMuc3ZnVmFsaWRUYWdOYW1lc1JlZ0V4LnRlc3QoZWwubm9kZU5hbWUucmVwbGFjZSgnc3ZnOicsICcnKSkgJiZcbiAgICAgICAgICAgICFoYXNBbmNlc3RvcldpdGhOb2RlTmFtZShlbCwgZmFicmljLnN2Z0ludmFsaWRBbmNlc3RvcnNSZWdFeCk7IC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL1NWRy9zdHJ1Y3QuaHRtbCNEZWZzRWxlbWVudFxuICAgIH0pO1xuICAgIGlmICghZWxlbWVudHMgfHwgKGVsZW1lbnRzICYmICFlbGVtZW50cy5sZW5ndGgpKSB7XG4gICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhbXSwge30pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgY2xpcFBhdGhzID0geyB9O1xuICAgIGRlc2NlbmRhbnRzLmZpbHRlcihmdW5jdGlvbihlbCkge1xuICAgICAgcmV0dXJuIGVsLm5vZGVOYW1lLnJlcGxhY2UoJ3N2ZzonLCAnJykgPT09ICdjbGlwUGF0aCc7XG4gICAgfSkuZm9yRWFjaChmdW5jdGlvbihlbCkge1xuICAgICAgdmFyIGlkID0gZWwuZ2V0QXR0cmlidXRlKCdpZCcpO1xuICAgICAgY2xpcFBhdGhzW2lkXSA9IGZhYnJpYy51dGlsLnRvQXJyYXkoZWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJyonKSkuZmlsdGVyKGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgIHJldHVybiBmYWJyaWMuc3ZnVmFsaWRUYWdOYW1lc1JlZ0V4LnRlc3QoZWwubm9kZU5hbWUucmVwbGFjZSgnc3ZnOicsICcnKSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBmYWJyaWMuZ3JhZGllbnREZWZzW3N2Z1VpZF0gPSBmYWJyaWMuZ2V0R3JhZGllbnREZWZzKGRvYyk7XG4gICAgZmFicmljLmNzc1J1bGVzW3N2Z1VpZF0gPSBmYWJyaWMuZ2V0Q1NTUnVsZXMoZG9jKTtcbiAgICBmYWJyaWMuY2xpcFBhdGhzW3N2Z1VpZF0gPSBjbGlwUGF0aHM7XG4gICAgLy8gUHJlY2VkZW5jZSBvZiBydWxlczogICBzdHlsZSA+IGNsYXNzID4gYXR0cmlidXRlXG4gICAgZmFicmljLnBhcnNlRWxlbWVudHMoZWxlbWVudHMsIGZ1bmN0aW9uKGluc3RhbmNlcywgZWxlbWVudHMpIHtcbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICBjYWxsYmFjayhpbnN0YW5jZXMsIG9wdGlvbnMsIGVsZW1lbnRzLCBkZXNjZW5kYW50cyk7XG4gICAgICAgIGRlbGV0ZSBmYWJyaWMuZ3JhZGllbnREZWZzW3N2Z1VpZF07XG4gICAgICAgIGRlbGV0ZSBmYWJyaWMuY3NzUnVsZXNbc3ZnVWlkXTtcbiAgICAgICAgZGVsZXRlIGZhYnJpYy5jbGlwUGF0aHNbc3ZnVWlkXTtcbiAgICAgIH1cbiAgICB9LCBjbG9uZShvcHRpb25zKSwgcmV2aXZlciwgcGFyc2luZ09wdGlvbnMpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHJlY3Vyc2l2ZWx5UGFyc2VHcmFkaWVudHNYbGluayhkb2MsIGdyYWRpZW50KSB7XG4gICAgdmFyIGdyYWRpZW50c0F0dHJzID0gWydncmFkaWVudFRyYW5zZm9ybScsICd4MScsICd4MicsICd5MScsICd5MicsICdncmFkaWVudFVuaXRzJywgJ2N4JywgJ2N5JywgJ3InLCAnZngnLCAnZnknXSxcbiAgICAgICAgeGxpbmtBdHRyID0gJ3hsaW5rOmhyZWYnLFxuICAgICAgICB4TGluayA9IGdyYWRpZW50LmdldEF0dHJpYnV0ZSh4bGlua0F0dHIpLnNsaWNlKDEpLFxuICAgICAgICByZWZlcmVuY2VkR3JhZGllbnQgPSBlbGVtZW50QnlJZChkb2MsIHhMaW5rKTtcbiAgICBpZiAocmVmZXJlbmNlZEdyYWRpZW50ICYmIHJlZmVyZW5jZWRHcmFkaWVudC5nZXRBdHRyaWJ1dGUoeGxpbmtBdHRyKSkge1xuICAgICAgcmVjdXJzaXZlbHlQYXJzZUdyYWRpZW50c1hsaW5rKGRvYywgcmVmZXJlbmNlZEdyYWRpZW50KTtcbiAgICB9XG4gICAgZ3JhZGllbnRzQXR0cnMuZm9yRWFjaChmdW5jdGlvbihhdHRyKSB7XG4gICAgICBpZiAocmVmZXJlbmNlZEdyYWRpZW50ICYmICFncmFkaWVudC5oYXNBdHRyaWJ1dGUoYXR0cikgJiYgcmVmZXJlbmNlZEdyYWRpZW50Lmhhc0F0dHJpYnV0ZShhdHRyKSkge1xuICAgICAgICBncmFkaWVudC5zZXRBdHRyaWJ1dGUoYXR0ciwgcmVmZXJlbmNlZEdyYWRpZW50LmdldEF0dHJpYnV0ZShhdHRyKSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFncmFkaWVudC5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgIHZhciByZWZlcmVuY2VDbG9uZSA9IHJlZmVyZW5jZWRHcmFkaWVudC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICB3aGlsZSAocmVmZXJlbmNlQ2xvbmUuZmlyc3RDaGlsZCkge1xuICAgICAgICBncmFkaWVudC5hcHBlbmRDaGlsZChyZWZlcmVuY2VDbG9uZS5maXJzdENoaWxkKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZ3JhZGllbnQucmVtb3ZlQXR0cmlidXRlKHhsaW5rQXR0cik7XG4gIH1cblxuICB2YXIgcmVGb250RGVjbGFyYXRpb24gPSBuZXcgUmVnRXhwKFxuICAgICcobm9ybWFsfGl0YWxpYyk/XFxcXHMqKG5vcm1hbHxzbWFsbC1jYXBzKT9cXFxccyonICtcbiAgICAnKG5vcm1hbHxib2xkfGJvbGRlcnxsaWdodGVyfDEwMHwyMDB8MzAwfDQwMHw1MDB8NjAwfDcwMHw4MDB8OTAwKT9cXFxccyooJyArXG4gICAgICBmYWJyaWMucmVOdW0gK1xuICAgICcoPzpweHxjbXxtbXxlbXxwdHxwY3xpbikqKSg/OlxcXFwvKG5vcm1hbHwnICsgZmFicmljLnJlTnVtICsgJykpP1xcXFxzKyguKiknKTtcblxuICBleHRlbmQoZmFicmljLCB7XG4gICAgLyoqXG4gICAgICogUGFyc2VzIGEgc2hvcnQgZm9udCBkZWNsYXJhdGlvbiwgYnVpbGRpbmcgYWRkaW5nIGl0cyBwcm9wZXJ0aWVzIHRvIGEgc3R5bGUgb2JqZWN0XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBtZW1iZXJPZiBmYWJyaWNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdmFsdWUgZm9udCBkZWNsYXJhdGlvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvU3R5bGUgZGVmaW5pdGlvblxuICAgICAqL1xuICAgIHBhcnNlRm9udERlY2xhcmF0aW9uOiBmdW5jdGlvbih2YWx1ZSwgb1N0eWxlKSB7XG4gICAgICB2YXIgbWF0Y2ggPSB2YWx1ZS5tYXRjaChyZUZvbnREZWNsYXJhdGlvbik7XG5cbiAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIGZvbnRTdHlsZSA9IG1hdGNoWzFdLFxuICAgICAgICAgIC8vIGZvbnQgdmFyaWFudCBpcyBub3QgdXNlZFxuICAgICAgICAgIC8vIGZvbnRWYXJpYW50ID0gbWF0Y2hbMl0sXG4gICAgICAgICAgZm9udFdlaWdodCA9IG1hdGNoWzNdLFxuICAgICAgICAgIGZvbnRTaXplID0gbWF0Y2hbNF0sXG4gICAgICAgICAgbGluZUhlaWdodCA9IG1hdGNoWzVdLFxuICAgICAgICAgIGZvbnRGYW1pbHkgPSBtYXRjaFs2XTtcblxuICAgICAgaWYgKGZvbnRTdHlsZSkge1xuICAgICAgICBvU3R5bGUuZm9udFN0eWxlID0gZm9udFN0eWxlO1xuICAgICAgfVxuICAgICAgaWYgKGZvbnRXZWlnaHQpIHtcbiAgICAgICAgb1N0eWxlLmZvbnRXZWlnaHQgPSBpc05hTihwYXJzZUZsb2F0KGZvbnRXZWlnaHQpKSA/IGZvbnRXZWlnaHQgOiBwYXJzZUZsb2F0KGZvbnRXZWlnaHQpO1xuICAgICAgfVxuICAgICAgaWYgKGZvbnRTaXplKSB7XG4gICAgICAgIG9TdHlsZS5mb250U2l6ZSA9IHBhcnNlVW5pdChmb250U2l6ZSk7XG4gICAgICB9XG4gICAgICBpZiAoZm9udEZhbWlseSkge1xuICAgICAgICBvU3R5bGUuZm9udEZhbWlseSA9IGZvbnRGYW1pbHk7XG4gICAgICB9XG4gICAgICBpZiAobGluZUhlaWdodCkge1xuICAgICAgICBvU3R5bGUubGluZUhlaWdodCA9IGxpbmVIZWlnaHQgPT09ICdub3JtYWwnID8gMSA6IGxpbmVIZWlnaHQ7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFBhcnNlcyBhbiBTVkcgZG9jdW1lbnQsIHJldHVybmluZyBhbGwgb2YgdGhlIGdyYWRpZW50IGRlY2xhcmF0aW9ucyBmb3VuZCBpbiBpdFxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAbWVtYmVyT2YgZmFicmljXG4gICAgICogQHBhcmFtIHtTVkdEb2N1bWVudH0gZG9jIFNWRyBkb2N1bWVudCB0byBwYXJzZVxuICAgICAqIEByZXR1cm4ge09iamVjdH0gR3JhZGllbnQgZGVmaW5pdGlvbnM7IGtleSBjb3JyZXNwb25kcyB0byBlbGVtZW50IGlkLCB2YWx1ZSAtLSB0byBncmFkaWVudCBkZWZpbml0aW9uIGVsZW1lbnRcbiAgICAgKi9cbiAgICBnZXRHcmFkaWVudERlZnM6IGZ1bmN0aW9uKGRvYykge1xuICAgICAgdmFyIHRhZ0FycmF5ID0gW1xuICAgICAgICAgICAgJ2xpbmVhckdyYWRpZW50JyxcbiAgICAgICAgICAgICdyYWRpYWxHcmFkaWVudCcsXG4gICAgICAgICAgICAnc3ZnOmxpbmVhckdyYWRpZW50JyxcbiAgICAgICAgICAgICdzdmc6cmFkaWFsR3JhZGllbnQnXSxcbiAgICAgICAgICBlbExpc3QgPSBfZ2V0TXVsdGlwbGVOb2Rlcyhkb2MsIHRhZ0FycmF5KSxcbiAgICAgICAgICBlbCwgaiA9IDAsIGdyYWRpZW50RGVmcyA9IHsgfTtcbiAgICAgIGogPSBlbExpc3QubGVuZ3RoO1xuICAgICAgd2hpbGUgKGotLSkge1xuICAgICAgICBlbCA9IGVsTGlzdFtqXTtcbiAgICAgICAgaWYgKGVsLmdldEF0dHJpYnV0ZSgneGxpbms6aHJlZicpKSB7XG4gICAgICAgICAgcmVjdXJzaXZlbHlQYXJzZUdyYWRpZW50c1hsaW5rKGRvYywgZWwpO1xuICAgICAgICB9XG4gICAgICAgIGdyYWRpZW50RGVmc1tlbC5nZXRBdHRyaWJ1dGUoJ2lkJyldID0gZWw7XG4gICAgICB9XG4gICAgICByZXR1cm4gZ3JhZGllbnREZWZzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIG9iamVjdCBvZiBhdHRyaWJ1dGVzJyBuYW1lL3ZhbHVlLCBnaXZlbiBlbGVtZW50IGFuZCBhbiBhcnJheSBvZiBhdHRyaWJ1dGUgbmFtZXM7XG4gICAgICogUGFyc2VzIHBhcmVudCBcImdcIiBub2RlcyByZWN1cnNpdmVseSB1cHdhcmRzLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljXG4gICAgICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IEVsZW1lbnQgdG8gcGFyc2VcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhdHRyaWJ1dGVzIEFycmF5IG9mIGF0dHJpYnV0ZXMgdG8gcGFyc2VcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IG9iamVjdCBjb250YWluaW5nIHBhcnNlZCBhdHRyaWJ1dGVzJyBuYW1lcy92YWx1ZXNcbiAgICAgKi9cbiAgICBwYXJzZUF0dHJpYnV0ZXM6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJpYnV0ZXMsIHN2Z1VpZCkge1xuXG4gICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgdmFsdWUsXG4gICAgICAgICAgcGFyZW50QXR0cmlidXRlcyA9IHsgfSxcbiAgICAgICAgICBmb250U2l6ZSwgcGFyZW50Rm9udFNpemU7XG5cbiAgICAgIGlmICh0eXBlb2Ygc3ZnVWlkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBzdmdVaWQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnc3ZnVWlkJyk7XG4gICAgICB9XG4gICAgICAvLyBpZiB0aGVyZSdzIGEgcGFyZW50IGNvbnRhaW5lciAoYGdgIG9yIGBhYCBvciBgc3ltYm9sYCBub2RlKSwgcGFyc2UgaXRzIGF0dHJpYnV0ZXMgcmVjdXJzaXZlbHkgdXB3YXJkc1xuICAgICAgaWYgKGVsZW1lbnQucGFyZW50Tm9kZSAmJiBmYWJyaWMuc3ZnVmFsaWRQYXJlbnRzUmVnRXgudGVzdChlbGVtZW50LnBhcmVudE5vZGUubm9kZU5hbWUpKSB7XG4gICAgICAgIHBhcmVudEF0dHJpYnV0ZXMgPSBmYWJyaWMucGFyc2VBdHRyaWJ1dGVzKGVsZW1lbnQucGFyZW50Tm9kZSwgYXR0cmlidXRlcywgc3ZnVWlkKTtcbiAgICAgIH1cblxuICAgICAgdmFyIG93bkF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzLnJlZHVjZShmdW5jdGlvbihtZW1vLCBhdHRyKSB7XG4gICAgICAgIHZhbHVlID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cik7XG4gICAgICAgIGlmICh2YWx1ZSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgbWVtb1thdHRyXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZW1vO1xuICAgICAgfSwgeyB9KTtcbiAgICAgIC8vIGFkZCB2YWx1ZXMgcGFyc2VkIGZyb20gc3R5bGUsIHdoaWNoIHRha2UgcHJlY2VkZW5jZSBvdmVyIGF0dHJpYnV0ZXNcbiAgICAgIC8vIChzZWU6IGh0dHA6Ly93d3cudzMub3JnL1RSL1NWRy9zdHlsaW5nLmh0bWwjVXNpbmdQcmVzZW50YXRpb25BdHRyaWJ1dGVzKVxuICAgICAgdmFyIGNzc0F0dHJzID0gZXh0ZW5kKFxuICAgICAgICBnZXRHbG9iYWxTdHlsZXNGb3JFbGVtZW50KGVsZW1lbnQsIHN2Z1VpZCksXG4gICAgICAgIGZhYnJpYy5wYXJzZVN0eWxlQXR0cmlidXRlKGVsZW1lbnQpXG4gICAgICApO1xuICAgICAgb3duQXR0cmlidXRlcyA9IGV4dGVuZChcbiAgICAgICAgb3duQXR0cmlidXRlcyxcbiAgICAgICAgY3NzQXR0cnNcbiAgICAgICk7XG4gICAgICBpZiAoY3NzQXR0cnNbY1BhdGhdKSB7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGNQYXRoLCBjc3NBdHRyc1tjUGF0aF0pO1xuICAgICAgfVxuICAgICAgZm9udFNpemUgPSBwYXJlbnRGb250U2l6ZSA9IHBhcmVudEF0dHJpYnV0ZXMuZm9udFNpemUgfHwgZmFicmljLlRleHQuREVGQVVMVF9TVkdfRk9OVF9TSVpFO1xuICAgICAgaWYgKG93bkF0dHJpYnV0ZXNbZlNpemVdKSB7XG4gICAgICAgIC8vIGxvb2tzIGxpa2UgdGhlIG1pbmltdW0gc2hvdWxkIGJlIDlweCB3aGVuIGRlYWxpbmcgd2l0aCBlbXMuIHRoaXMgaXMgd2hhdCBsb29rcyBsaWtlIGluIGJyb3dzZXJzLlxuICAgICAgICBvd25BdHRyaWJ1dGVzW2ZTaXplXSA9IGZvbnRTaXplID0gcGFyc2VVbml0KG93bkF0dHJpYnV0ZXNbZlNpemVdLCBwYXJlbnRGb250U2l6ZSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBub3JtYWxpemVkQXR0ciwgbm9ybWFsaXplZFZhbHVlLCBub3JtYWxpemVkU3R5bGUgPSB7fTtcbiAgICAgIGZvciAodmFyIGF0dHIgaW4gb3duQXR0cmlidXRlcykge1xuICAgICAgICBub3JtYWxpemVkQXR0ciA9IG5vcm1hbGl6ZUF0dHIoYXR0cik7XG4gICAgICAgIG5vcm1hbGl6ZWRWYWx1ZSA9IG5vcm1hbGl6ZVZhbHVlKG5vcm1hbGl6ZWRBdHRyLCBvd25BdHRyaWJ1dGVzW2F0dHJdLCBwYXJlbnRBdHRyaWJ1dGVzLCBmb250U2l6ZSk7XG4gICAgICAgIG5vcm1hbGl6ZWRTdHlsZVtub3JtYWxpemVkQXR0cl0gPSBub3JtYWxpemVkVmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAobm9ybWFsaXplZFN0eWxlICYmIG5vcm1hbGl6ZWRTdHlsZS5mb250KSB7XG4gICAgICAgIGZhYnJpYy5wYXJzZUZvbnREZWNsYXJhdGlvbihub3JtYWxpemVkU3R5bGUuZm9udCwgbm9ybWFsaXplZFN0eWxlKTtcbiAgICAgIH1cbiAgICAgIHZhciBtZXJnZWRBdHRycyA9IGV4dGVuZChwYXJlbnRBdHRyaWJ1dGVzLCBub3JtYWxpemVkU3R5bGUpO1xuICAgICAgcmV0dXJuIGZhYnJpYy5zdmdWYWxpZFBhcmVudHNSZWdFeC50ZXN0KGVsZW1lbnQubm9kZU5hbWUpID8gbWVyZ2VkQXR0cnMgOiBfc2V0U3Ryb2tlRmlsbE9wYWNpdHkobWVyZ2VkQXR0cnMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2Zvcm1zIGFuIGFycmF5IG9mIHN2ZyBlbGVtZW50cyB0byBjb3JyZXNwb25kaW5nIGZhYnJpYy4qIGluc3RhbmNlc1xuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljXG4gICAgICogQHBhcmFtIHtBcnJheX0gZWxlbWVudHMgQXJyYXkgb2YgZWxlbWVudHMgdG8gcGFyc2VcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBCZWluZyBwYXNzZWQgYW4gYXJyYXkgb2YgZmFicmljIGluc3RhbmNlcyAodHJhbnNmb3JtZWQgZnJvbSBTVkcgZWxlbWVudHMpXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXZpdmVyXSBNZXRob2QgZm9yIGZ1cnRoZXIgcGFyc2luZyBvZiBTVkcgZWxlbWVudHMsIGNhbGxlZCBhZnRlciBlYWNoIGZhYnJpYyBvYmplY3QgY3JlYXRlZC5cbiAgICAgKi9cbiAgICBwYXJzZUVsZW1lbnRzOiBmdW5jdGlvbihlbGVtZW50cywgY2FsbGJhY2ssIG9wdGlvbnMsIHJldml2ZXIsIHBhcnNpbmdPcHRpb25zKSB7XG4gICAgICBuZXcgZmFicmljLkVsZW1lbnRzUGFyc2VyKGVsZW1lbnRzLCBjYWxsYmFjaywgb3B0aW9ucywgcmV2aXZlciwgcGFyc2luZ09wdGlvbnMpLnBhcnNlKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFBhcnNlcyBcInN0eWxlXCIgYXR0cmlidXRlLCByZXR1bmluZyBhbiBvYmplY3Qgd2l0aCB2YWx1ZXNcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpY1xuICAgICAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gZWxlbWVudCBFbGVtZW50IHRvIHBhcnNlXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBPYmplY3RzIHdpdGggdmFsdWVzIHBhcnNlZCBmcm9tIHN0eWxlIGF0dHJpYnV0ZSBvZiBhbiBlbGVtZW50XG4gICAgICovXG4gICAgcGFyc2VTdHlsZUF0dHJpYnV0ZTogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgdmFyIG9TdHlsZSA9IHsgfSxcbiAgICAgICAgICBzdHlsZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdzdHlsZScpO1xuXG4gICAgICBpZiAoIXN0eWxlKSB7XG4gICAgICAgIHJldHVybiBvU3R5bGU7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2Ygc3R5bGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHBhcnNlU3R5bGVTdHJpbmcoc3R5bGUsIG9TdHlsZSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcGFyc2VTdHlsZU9iamVjdChzdHlsZSwgb1N0eWxlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9TdHlsZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUGFyc2VzIFwicG9pbnRzXCIgYXR0cmlidXRlLCByZXR1cm5pbmcgYW4gYXJyYXkgb2YgdmFsdWVzXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcG9pbnRzIHBvaW50cyBhdHRyaWJ1dGUgc3RyaW5nXG4gICAgICogQHJldHVybiB7QXJyYXl9IGFycmF5IG9mIHBvaW50c1xuICAgICAqL1xuICAgIHBhcnNlUG9pbnRzQXR0cmlidXRlOiBmdW5jdGlvbihwb2ludHMpIHtcblxuICAgICAgLy8gcG9pbnRzIGF0dHJpYnV0ZSBpcyByZXF1aXJlZCBhbmQgbXVzdCBub3QgYmUgZW1wdHlcbiAgICAgIGlmICghcG9pbnRzKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICAvLyByZXBsYWNlIGNvbW1hcyB3aXRoIHdoaXRlc3BhY2UgYW5kIHJlbW92ZSBib29rZW5kaW5nIHdoaXRlc3BhY2VcbiAgICAgIHBvaW50cyA9IHBvaW50cy5yZXBsYWNlKC8sL2csICcgJykudHJpbSgpO1xuXG4gICAgICBwb2ludHMgPSBwb2ludHMuc3BsaXQoL1xccysvKTtcbiAgICAgIHZhciBwYXJzZWRQb2ludHMgPSBbXSwgaSwgbGVuO1xuXG4gICAgICBmb3IgKGkgPSAwLCBsZW4gPSBwb2ludHMubGVuZ3RoOyBpIDwgbGVuOyBpICs9IDIpIHtcbiAgICAgICAgcGFyc2VkUG9pbnRzLnB1c2goe1xuICAgICAgICAgIHg6IHBhcnNlRmxvYXQocG9pbnRzW2ldKSxcbiAgICAgICAgICB5OiBwYXJzZUZsb2F0KHBvaW50c1tpICsgMV0pXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBvZGQgbnVtYmVyIG9mIHBvaW50cyBpcyBhbiBlcnJvclxuICAgICAgLy8gaWYgKHBhcnNlZFBvaW50cy5sZW5ndGggJSAyICE9PSAwKSB7XG4gICAgICAvLyAgIHJldHVybiBudWxsO1xuICAgICAgLy8gfVxuXG4gICAgICByZXR1cm4gcGFyc2VkUG9pbnRzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIENTUyBydWxlcyBmb3IgYSBnaXZlbiBTVkcgZG9jdW1lbnRcbiAgICAgKiBAc3RhdGljXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQG1lbWJlck9mIGZhYnJpY1xuICAgICAqIEBwYXJhbSB7U1ZHRG9jdW1lbnR9IGRvYyBTVkcgZG9jdW1lbnQgdG8gcGFyc2VcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IENTUyBydWxlcyBvZiB0aGlzIGRvY3VtZW50XG4gICAgICovXG4gICAgZ2V0Q1NTUnVsZXM6IGZ1bmN0aW9uKGRvYykge1xuICAgICAgdmFyIHN0eWxlcyA9IGRvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc3R5bGUnKSwgaSwgbGVuLFxuICAgICAgICAgIGFsbFJ1bGVzID0geyB9LCBydWxlcztcblxuICAgICAgLy8gdmVyeSBjcnVkZSBwYXJzaW5nIG9mIHN0eWxlIGNvbnRlbnRzXG4gICAgICBmb3IgKGkgPSAwLCBsZW4gPSBzdHlsZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIHN0eWxlQ29udGVudHMgPSBzdHlsZXNbaV0udGV4dENvbnRlbnQ7XG5cbiAgICAgICAgLy8gcmVtb3ZlIGNvbW1lbnRzXG4gICAgICAgIHN0eWxlQ29udGVudHMgPSBzdHlsZUNvbnRlbnRzLnJlcGxhY2UoL1xcL1xcKltcXHNcXFNdKj9cXCpcXC8vZywgJycpO1xuICAgICAgICBpZiAoc3R5bGVDb250ZW50cy50cmltKCkgPT09ICcnKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVjb3ZlcnMgYWxsIHRoZSBydWxlIGluIHRoaXMgZm9ybSBgYm9keSB7IHN0eWxlIGNvZGUuLi4gfWBcbiAgICAgICAgLy8gcnVsZXMgPSBzdHlsZUNvbnRlbnRzLm1hdGNoKC9bXntdKlxce1tcXHNcXFNdKj9cXH0vZyk7XG4gICAgICAgIHJ1bGVzID0gc3R5bGVDb250ZW50cy5zcGxpdCgnfScpO1xuICAgICAgICAvLyByZW1vdmUgZW1wdHkgcnVsZXMuXG4gICAgICAgIHJ1bGVzID0gcnVsZXMuZmlsdGVyKGZ1bmN0aW9uKHJ1bGUpIHsgcmV0dXJuIHJ1bGUudHJpbSgpOyB9KTtcbiAgICAgICAgLy8gYXQgdGhpcyBwb2ludCB3ZSBoYXZlIGhvcGVmdWxseSBhbiBhcnJheSBvZiBydWxlcyBgYm9keSB7IHN0eWxlIGNvZGUuLi4gYFxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbG9vcC1mdW5jXG4gICAgICAgIHJ1bGVzLmZvckVhY2goZnVuY3Rpb24ocnVsZSkge1xuXG4gICAgICAgICAgdmFyIG1hdGNoID0gcnVsZS5zcGxpdCgneycpLFxuICAgICAgICAgICAgICBydWxlT2JqID0geyB9LCBkZWNsYXJhdGlvbiA9IG1hdGNoWzFdLnRyaW0oKSxcbiAgICAgICAgICAgICAgcHJvcGVydHlWYWx1ZVBhaXJzID0gZGVjbGFyYXRpb24uc3BsaXQoJzsnKS5maWx0ZXIoZnVuY3Rpb24ocGFpcikgeyByZXR1cm4gcGFpci50cmltKCk7IH0pO1xuXG4gICAgICAgICAgZm9yIChpID0gMCwgbGVuID0gcHJvcGVydHlWYWx1ZVBhaXJzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcGFpciA9IHByb3BlcnR5VmFsdWVQYWlyc1tpXS5zcGxpdCgnOicpLFxuICAgICAgICAgICAgICAgIHByb3BlcnR5ID0gcGFpclswXS50cmltKCksXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBwYWlyWzFdLnRyaW0oKTtcbiAgICAgICAgICAgIHJ1bGVPYmpbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJ1bGUgPSBtYXRjaFswXS50cmltKCk7XG4gICAgICAgICAgcnVsZS5zcGxpdCgnLCcpLmZvckVhY2goZnVuY3Rpb24oX3J1bGUpIHtcbiAgICAgICAgICAgIF9ydWxlID0gX3J1bGUucmVwbGFjZSgvXnN2Zy9pLCAnJykudHJpbSgpO1xuICAgICAgICAgICAgaWYgKF9ydWxlID09PSAnJykge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYWxsUnVsZXNbX3J1bGVdKSB7XG4gICAgICAgICAgICAgIGZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQoYWxsUnVsZXNbX3J1bGVdLCBydWxlT2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBhbGxSdWxlc1tfcnVsZV0gPSBmYWJyaWMudXRpbC5vYmplY3QuY2xvbmUocnVsZU9iaik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFsbFJ1bGVzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUYWtlcyB1cmwgY29ycmVzcG9uZGluZyB0byBhbiBTVkcgZG9jdW1lbnQsIGFuZCBwYXJzZXMgaXQgaW50byBhIHNldCBvZiBmYWJyaWMgb2JqZWN0cy5cbiAgICAgKiBOb3RlIHRoYXQgU1ZHIGlzIGZldGNoZWQgdmlhIFhNTEh0dHBSZXF1ZXN0LCBzbyBpdCBuZWVkcyB0byBjb25mb3JtIHRvIFNPUCAoU2FtZSBPcmlnaW4gUG9saWN5KVxuICAgICAqIEBtZW1iZXJPZiBmYWJyaWNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcmV2aXZlcl0gTWV0aG9kIGZvciBmdXJ0aGVyIHBhcnNpbmcgb2YgU1ZHIGVsZW1lbnRzLCBjYWxsZWQgYWZ0ZXIgZWFjaCBmYWJyaWMgb2JqZWN0IGNyZWF0ZWQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPYmplY3QgY29udGFpbmluZyBvcHRpb25zIGZvciBwYXJzaW5nXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmNyb3NzT3JpZ2luXSBjcm9zc09yaWdpbiBjcm9zc09yaWdpbiBzZXR0aW5nIHRvIHVzZSBmb3IgZXh0ZXJuYWwgcmVzb3VyY2VzXG4gICAgICovXG4gICAgbG9hZFNWR0Zyb21VUkw6IGZ1bmN0aW9uKHVybCwgY2FsbGJhY2ssIHJldml2ZXIsIG9wdGlvbnMpIHtcblxuICAgICAgdXJsID0gdXJsLnJlcGxhY2UoL15cXG5cXHMqLywgJycpLnRyaW0oKTtcbiAgICAgIG5ldyBmYWJyaWMudXRpbC5yZXF1ZXN0KHVybCwge1xuICAgICAgICBtZXRob2Q6ICdnZXQnLFxuICAgICAgICBvbkNvbXBsZXRlOiBvbkNvbXBsZXRlXG4gICAgICB9KTtcblxuICAgICAgZnVuY3Rpb24gb25Db21wbGV0ZShyKSB7XG5cbiAgICAgICAgdmFyIHhtbCA9IHIucmVzcG9uc2VYTUw7XG4gICAgICAgIGlmICgheG1sIHx8ICF4bWwuZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2sobnVsbCk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgZmFicmljLnBhcnNlU1ZHRG9jdW1lbnQoeG1sLmRvY3VtZW50RWxlbWVudCwgZnVuY3Rpb24gKHJlc3VsdHMsIF9vcHRpb25zLCBlbGVtZW50cywgYWxsRWxlbWVudHMpIHtcbiAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhyZXN1bHRzLCBfb3B0aW9ucywgZWxlbWVudHMsIGFsbEVsZW1lbnRzKTtcbiAgICAgICAgfSwgcmV2aXZlciwgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRha2VzIHN0cmluZyBjb3JyZXNwb25kaW5nIHRvIGFuIFNWRyBkb2N1bWVudCwgYW5kIHBhcnNlcyBpdCBpbnRvIGEgc2V0IG9mIGZhYnJpYyBvYmplY3RzXG4gICAgICogQG1lbWJlck9mIGZhYnJpY1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmdcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXZpdmVyXSBNZXRob2QgZm9yIGZ1cnRoZXIgcGFyc2luZyBvZiBTVkcgZWxlbWVudHMsIGNhbGxlZCBhZnRlciBlYWNoIGZhYnJpYyBvYmplY3QgY3JlYXRlZC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9iamVjdCBjb250YWluaW5nIG9wdGlvbnMgZm9yIHBhcnNpbmdcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuY3Jvc3NPcmlnaW5dIGNyb3NzT3JpZ2luIGNyb3NzT3JpZ2luIHNldHRpbmcgdG8gdXNlIGZvciBleHRlcm5hbCByZXNvdXJjZXNcbiAgICAgKi9cbiAgICBsb2FkU1ZHRnJvbVN0cmluZzogZnVuY3Rpb24oc3RyaW5nLCBjYWxsYmFjaywgcmV2aXZlciwgb3B0aW9ucykge1xuICAgICAgdmFyIHBhcnNlciA9IG5ldyBmYWJyaWMud2luZG93LkRPTVBhcnNlcigpLFxuICAgICAgICAgIGRvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoc3RyaW5nLnRyaW0oKSwgJ3RleHQveG1sJyk7XG4gICAgICBmYWJyaWMucGFyc2VTVkdEb2N1bWVudChkb2MuZG9jdW1lbnRFbGVtZW50LCBmdW5jdGlvbiAocmVzdWx0cywgX29wdGlvbnMsIGVsZW1lbnRzLCBhbGxFbGVtZW50cykge1xuICAgICAgICBjYWxsYmFjayhyZXN1bHRzLCBfb3B0aW9ucywgZWxlbWVudHMsIGFsbEVsZW1lbnRzKTtcbiAgICAgIH0sIHJldml2ZXIsIG9wdGlvbnMpO1xuICAgIH1cbiAgfSk7XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG5mYWJyaWMuRWxlbWVudHNQYXJzZXIgPSBmdW5jdGlvbihlbGVtZW50cywgY2FsbGJhY2ssIG9wdGlvbnMsIHJldml2ZXIsIHBhcnNpbmdPcHRpb25zLCBkb2MpIHtcbiAgdGhpcy5lbGVtZW50cyA9IGVsZW1lbnRzO1xuICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gIHRoaXMucmV2aXZlciA9IHJldml2ZXI7XG4gIHRoaXMuc3ZnVWlkID0gKG9wdGlvbnMgJiYgb3B0aW9ucy5zdmdVaWQpIHx8IDA7XG4gIHRoaXMucGFyc2luZ09wdGlvbnMgPSBwYXJzaW5nT3B0aW9ucztcbiAgdGhpcy5yZWdleFVybCA9IC9edXJsXFwoWydcIl0/IyhbXidcIl0rKVsnXCJdP1xcKS9nO1xuICB0aGlzLmRvYyA9IGRvYztcbn07XG5cbihmdW5jdGlvbihwcm90bykge1xuICBwcm90by5wYXJzZSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaW5zdGFuY2VzID0gbmV3IEFycmF5KHRoaXMuZWxlbWVudHMubGVuZ3RoKTtcbiAgICB0aGlzLm51bUVsZW1lbnRzID0gdGhpcy5lbGVtZW50cy5sZW5ndGg7XG4gICAgdGhpcy5jcmVhdGVPYmplY3RzKCk7XG4gIH07XG5cbiAgcHJvdG8uY3JlYXRlT2JqZWN0cyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdGhpcy5lbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQsIGkpIHtcbiAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdzdmdVaWQnLCBfdGhpcy5zdmdVaWQpO1xuICAgICAgX3RoaXMuY3JlYXRlT2JqZWN0KGVsZW1lbnQsIGkpO1xuICAgIH0pO1xuICB9O1xuXG4gIHByb3RvLmZpbmRUYWcgPSBmdW5jdGlvbihlbCkge1xuICAgIHJldHVybiBmYWJyaWNbZmFicmljLnV0aWwuc3RyaW5nLmNhcGl0YWxpemUoZWwudGFnTmFtZS5yZXBsYWNlKCdzdmc6JywgJycpKV07XG4gIH07XG5cbiAgcHJvdG8uY3JlYXRlT2JqZWN0ID0gZnVuY3Rpb24oZWwsIGluZGV4KSB7XG4gICAgdmFyIGtsYXNzID0gdGhpcy5maW5kVGFnKGVsKTtcbiAgICBpZiAoa2xhc3MgJiYga2xhc3MuZnJvbUVsZW1lbnQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGtsYXNzLmZyb21FbGVtZW50KGVsLCB0aGlzLmNyZWF0ZUNhbGxiYWNrKGluZGV4LCBlbCksIHRoaXMub3B0aW9ucyk7XG4gICAgICB9XG4gICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGZhYnJpYy5sb2coZXJyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLmNoZWNrSWZEb25lKCk7XG4gICAgfVxuICB9O1xuXG4gIHByb3RvLmNyZWF0ZUNhbGxiYWNrID0gZnVuY3Rpb24oaW5kZXgsIGVsKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqKSB7XG4gICAgICB2YXIgX29wdGlvbnM7XG4gICAgICBfdGhpcy5yZXNvbHZlR3JhZGllbnQob2JqLCBlbCwgJ2ZpbGwnKTtcbiAgICAgIF90aGlzLnJlc29sdmVHcmFkaWVudChvYmosIGVsLCAnc3Ryb2tlJyk7XG4gICAgICBpZiAob2JqIGluc3RhbmNlb2YgZmFicmljLkltYWdlICYmIG9iai5fb3JpZ2luYWxFbGVtZW50KSB7XG4gICAgICAgIF9vcHRpb25zID0gb2JqLnBhcnNlUHJlc2VydmVBc3BlY3RSYXRpb0F0dHJpYnV0ZShlbCk7XG4gICAgICB9XG4gICAgICBvYmouX3JlbW92ZVRyYW5zZm9ybU1hdHJpeChfb3B0aW9ucyk7XG4gICAgICBfdGhpcy5yZXNvbHZlQ2xpcFBhdGgob2JqLCBlbCk7XG4gICAgICBfdGhpcy5yZXZpdmVyICYmIF90aGlzLnJldml2ZXIoZWwsIG9iaik7XG4gICAgICBfdGhpcy5pbnN0YW5jZXNbaW5kZXhdID0gb2JqO1xuICAgICAgX3RoaXMuY2hlY2tJZkRvbmUoKTtcbiAgICB9O1xuICB9O1xuXG4gIHByb3RvLmV4dHJhY3RQcm9wZXJ0eURlZmluaXRpb24gPSBmdW5jdGlvbihvYmosIHByb3BlcnR5LCBzdG9yYWdlKSB7XG4gICAgdmFyIHZhbHVlID0gb2JqW3Byb3BlcnR5XSwgcmVnZXggPSB0aGlzLnJlZ2V4VXJsO1xuICAgIGlmICghcmVnZXgudGVzdCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmVnZXgubGFzdEluZGV4ID0gMDtcbiAgICB2YXIgaWQgPSByZWdleC5leGVjKHZhbHVlKVsxXTtcbiAgICByZWdleC5sYXN0SW5kZXggPSAwO1xuICAgIHJldHVybiBmYWJyaWNbc3RvcmFnZV1bdGhpcy5zdmdVaWRdW2lkXTtcbiAgfTtcblxuICBwcm90by5yZXNvbHZlR3JhZGllbnQgPSBmdW5jdGlvbihvYmosIGVsLCBwcm9wZXJ0eSkge1xuICAgIHZhciBncmFkaWVudERlZiA9IHRoaXMuZXh0cmFjdFByb3BlcnR5RGVmaW5pdGlvbihvYmosIHByb3BlcnR5LCAnZ3JhZGllbnREZWZzJyk7XG4gICAgaWYgKGdyYWRpZW50RGVmKSB7XG4gICAgICB2YXIgb3BhY2l0eUF0dHIgPSBlbC5nZXRBdHRyaWJ1dGUocHJvcGVydHkgKyAnLW9wYWNpdHknKTtcbiAgICAgIHZhciBncmFkaWVudCA9IGZhYnJpYy5HcmFkaWVudC5mcm9tRWxlbWVudChncmFkaWVudERlZiwgb2JqLCBvcGFjaXR5QXR0ciwgdGhpcy5vcHRpb25zKTtcbiAgICAgIG9iai5zZXQocHJvcGVydHksIGdyYWRpZW50KTtcbiAgICB9XG4gIH07XG5cbiAgcHJvdG8uY3JlYXRlQ2xpcFBhdGhDYWxsYmFjayA9IGZ1bmN0aW9uKG9iaiwgY29udGFpbmVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKF9uZXdPYmopIHtcbiAgICAgIF9uZXdPYmouX3JlbW92ZVRyYW5zZm9ybU1hdHJpeCgpO1xuICAgICAgX25ld09iai5maWxsUnVsZSA9IF9uZXdPYmouY2xpcFJ1bGU7XG4gICAgICBjb250YWluZXIucHVzaChfbmV3T2JqKTtcbiAgICB9O1xuICB9O1xuXG4gIHByb3RvLnJlc29sdmVDbGlwUGF0aCA9IGZ1bmN0aW9uKG9iaiwgdXNpbmdFbGVtZW50KSB7XG4gICAgdmFyIGNsaXBQYXRoID0gdGhpcy5leHRyYWN0UHJvcGVydHlEZWZpbml0aW9uKG9iaiwgJ2NsaXBQYXRoJywgJ2NsaXBQYXRocycpLFxuICAgICAgICBlbGVtZW50LCBrbGFzcywgb2JqVHJhbnNmb3JtSW52LCBjb250YWluZXIsIGdUcmFuc2Zvcm0sIG9wdGlvbnM7XG4gICAgaWYgKGNsaXBQYXRoKSB7XG4gICAgICBjb250YWluZXIgPSBbXTtcbiAgICAgIG9ialRyYW5zZm9ybUludiA9IGZhYnJpYy51dGlsLmludmVydFRyYW5zZm9ybShvYmouY2FsY1RyYW5zZm9ybU1hdHJpeCgpKTtcbiAgICAgIC8vIG1vdmUgdGhlIGNsaXBQYXRoIHRhZyBhcyBzaWJsaW5nIHRvIHRoZSByZWFsIGVsZW1lbnQgdGhhdCBpcyB1c2luZyBpdFxuICAgICAgdmFyIGNsaXBQYXRoVGFnID0gY2xpcFBhdGhbMF0ucGFyZW50Tm9kZTtcbiAgICAgIHZhciBjbGlwUGF0aE93bmVyID0gdXNpbmdFbGVtZW50O1xuICAgICAgd2hpbGUgKGNsaXBQYXRoT3duZXIucGFyZW50Tm9kZSAmJiBjbGlwUGF0aE93bmVyLmdldEF0dHJpYnV0ZSgnY2xpcC1wYXRoJykgIT09IG9iai5jbGlwUGF0aCkge1xuICAgICAgICBjbGlwUGF0aE93bmVyID0gY2xpcFBhdGhPd25lci5wYXJlbnROb2RlO1xuICAgICAgfVxuICAgICAgY2xpcFBhdGhPd25lci5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGNsaXBQYXRoVGFnKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2xpcFBhdGgubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZWxlbWVudCA9IGNsaXBQYXRoW2ldO1xuICAgICAgICBrbGFzcyA9IHRoaXMuZmluZFRhZyhlbGVtZW50KTtcbiAgICAgICAga2xhc3MuZnJvbUVsZW1lbnQoXG4gICAgICAgICAgZWxlbWVudCxcbiAgICAgICAgICB0aGlzLmNyZWF0ZUNsaXBQYXRoQ2FsbGJhY2sob2JqLCBjb250YWluZXIpLFxuICAgICAgICAgIHRoaXMub3B0aW9uc1xuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKGNvbnRhaW5lci5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgY2xpcFBhdGggPSBjb250YWluZXJbMF07XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY2xpcFBhdGggPSBuZXcgZmFicmljLkdyb3VwKGNvbnRhaW5lcik7XG4gICAgICB9XG4gICAgICBnVHJhbnNmb3JtID0gZmFicmljLnV0aWwubXVsdGlwbHlUcmFuc2Zvcm1NYXRyaWNlcyhcbiAgICAgICAgb2JqVHJhbnNmb3JtSW52LFxuICAgICAgICBjbGlwUGF0aC5jYWxjVHJhbnNmb3JtTWF0cml4KClcbiAgICAgICk7XG4gICAgICBpZiAoY2xpcFBhdGguY2xpcFBhdGgpIHtcbiAgICAgICAgdGhpcy5yZXNvbHZlQ2xpcFBhdGgoY2xpcFBhdGgsIGNsaXBQYXRoT3duZXIpO1xuICAgICAgfVxuICAgICAgdmFyIG9wdGlvbnMgPSBmYWJyaWMudXRpbC5xckRlY29tcG9zZShnVHJhbnNmb3JtKTtcbiAgICAgIGNsaXBQYXRoLmZsaXBYID0gZmFsc2U7XG4gICAgICBjbGlwUGF0aC5mbGlwWSA9IGZhbHNlO1xuICAgICAgY2xpcFBhdGguc2V0KCdzY2FsZVgnLCBvcHRpb25zLnNjYWxlWCk7XG4gICAgICBjbGlwUGF0aC5zZXQoJ3NjYWxlWScsIG9wdGlvbnMuc2NhbGVZKTtcbiAgICAgIGNsaXBQYXRoLmFuZ2xlID0gb3B0aW9ucy5hbmdsZTtcbiAgICAgIGNsaXBQYXRoLnNrZXdYID0gb3B0aW9ucy5za2V3WDtcbiAgICAgIGNsaXBQYXRoLnNrZXdZID0gMDtcbiAgICAgIGNsaXBQYXRoLnNldFBvc2l0aW9uQnlPcmlnaW4oeyB4OiBvcHRpb25zLnRyYW5zbGF0ZVgsIHk6IG9wdGlvbnMudHJhbnNsYXRlWSB9LCAnY2VudGVyJywgJ2NlbnRlcicpO1xuICAgICAgb2JqLmNsaXBQYXRoID0gY2xpcFBhdGg7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgLy8gaWYgY2xpcC1wYXRoIGRvZXMgbm90IHJlc29sdmUgdG8gYW55IGVsZW1lbnQsIGRlbGV0ZSB0aGUgcHJvcGVydHkuXG4gICAgICBkZWxldGUgb2JqLmNsaXBQYXRoO1xuICAgIH1cbiAgfTtcblxuICBwcm90by5jaGVja0lmRG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICgtLXRoaXMubnVtRWxlbWVudHMgPT09IDApIHtcbiAgICAgIHRoaXMuaW5zdGFuY2VzID0gdGhpcy5pbnN0YW5jZXMuZmlsdGVyKGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lcS1udWxsLCBlcWVxZXFcbiAgICAgICAgcmV0dXJuIGVsICE9IG51bGw7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuY2FsbGJhY2sodGhpcy5pbnN0YW5jZXMsIHRoaXMuZWxlbWVudHMpO1xuICAgIH1cbiAgfTtcbn0pKGZhYnJpYy5FbGVtZW50c1BhcnNlci5wcm90b3R5cGUpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgLyogQWRhcHRhdGlvbiBvZiB3b3JrIG9mIEtldmluIExpbmRzZXkgKGtldmluQGtldmxpbmRldi5jb20pICovXG5cbiAgdmFyIGZhYnJpYyA9IGdsb2JhbC5mYWJyaWMgfHwgKGdsb2JhbC5mYWJyaWMgPSB7IH0pO1xuXG4gIGlmIChmYWJyaWMuUG9pbnQpIHtcbiAgICBmYWJyaWMud2FybignZmFicmljLlBvaW50IGlzIGFscmVhZHkgZGVmaW5lZCcpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGZhYnJpYy5Qb2ludCA9IFBvaW50O1xuXG4gIC8qKlxuICAgKiBQb2ludCBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLlBvaW50XG4gICAqIEBtZW1iZXJPZiBmYWJyaWNcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB4XG4gICAqIEBwYXJhbSB7TnVtYmVyfSB5XG4gICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH0gdGhpc0FyZ1xuICAgKi9cbiAgZnVuY3Rpb24gUG9pbnQoeCwgeSkge1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbiAgfVxuXG4gIFBvaW50LnByb3RvdHlwZSA9IC8qKiBAbGVuZHMgZmFicmljLlBvaW50LnByb3RvdHlwZSAqLyB7XG5cbiAgICB0eXBlOiAncG9pbnQnLFxuXG4gICAgY29uc3RydWN0b3I6IFBvaW50LFxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhbm90aGVyIHBvaW50IHRvIHRoaXMgb25lIGFuZCByZXR1cm5zIGFub3RoZXIgb25lXG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IHRoYXRcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUG9pbnR9IG5ldyBQb2ludCBpbnN0YW5jZSB3aXRoIGFkZGVkIHZhbHVlc1xuICAgICAqL1xuICAgIGFkZDogZnVuY3Rpb24gKHRoYXQpIHtcbiAgICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy54ICsgdGhhdC54LCB0aGlzLnkgKyB0aGF0LnkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGFub3RoZXIgcG9pbnQgdG8gdGhpcyBvbmVcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gdGhhdFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBhZGRFcXVhbHM6IGZ1bmN0aW9uICh0aGF0KSB7XG4gICAgICB0aGlzLnggKz0gdGhhdC54O1xuICAgICAgdGhpcy55ICs9IHRoYXQueTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHZhbHVlIHRvIHRoaXMgcG9pbnQgYW5kIHJldHVybnMgYSBuZXcgb25lXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxhclxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH0gbmV3IFBvaW50IHdpdGggYWRkZWQgdmFsdWVcbiAgICAgKi9cbiAgICBzY2FsYXJBZGQ6IGZ1bmN0aW9uIChzY2FsYXIpIHtcbiAgICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy54ICsgc2NhbGFyLCB0aGlzLnkgKyBzY2FsYXIpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHZhbHVlIHRvIHRoaXMgcG9pbnRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGFyXG4gICAgICogQHJldHVybiB7ZmFicmljLlBvaW50fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHNjYWxhckFkZEVxdWFsczogZnVuY3Rpb24gKHNjYWxhcikge1xuICAgICAgdGhpcy54ICs9IHNjYWxhcjtcbiAgICAgIHRoaXMueSArPSBzY2FsYXI7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU3VidHJhY3RzIGFub3RoZXIgcG9pbnQgZnJvbSB0aGlzIHBvaW50IGFuZCByZXR1cm5zIGEgbmV3IG9uZVxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSB0aGF0XG4gICAgICogQHJldHVybiB7ZmFicmljLlBvaW50fSBuZXcgUG9pbnQgb2JqZWN0IHdpdGggc3VidHJhY3RlZCB2YWx1ZXNcbiAgICAgKi9cbiAgICBzdWJ0cmFjdDogZnVuY3Rpb24gKHRoYXQpIHtcbiAgICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy54IC0gdGhhdC54LCB0aGlzLnkgLSB0aGF0LnkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTdWJ0cmFjdHMgYW5vdGhlciBwb2ludCBmcm9tIHRoaXMgcG9pbnRcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gdGhhdFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzdWJ0cmFjdEVxdWFsczogZnVuY3Rpb24gKHRoYXQpIHtcbiAgICAgIHRoaXMueCAtPSB0aGF0Lng7XG4gICAgICB0aGlzLnkgLT0gdGhhdC55O1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFN1YnRyYWN0cyB2YWx1ZSBmcm9tIHRoaXMgcG9pbnQgYW5kIHJldHVybnMgYSBuZXcgb25lXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxhclxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH1cbiAgICAgKi9cbiAgICBzY2FsYXJTdWJ0cmFjdDogZnVuY3Rpb24gKHNjYWxhcikge1xuICAgICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLnggLSBzY2FsYXIsIHRoaXMueSAtIHNjYWxhcik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFN1YnRyYWN0cyB2YWx1ZSBmcm9tIHRoaXMgcG9pbnRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGFyXG4gICAgICogQHJldHVybiB7ZmFicmljLlBvaW50fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHNjYWxhclN1YnRyYWN0RXF1YWxzOiBmdW5jdGlvbiAoc2NhbGFyKSB7XG4gICAgICB0aGlzLnggLT0gc2NhbGFyO1xuICAgICAgdGhpcy55IC09IHNjYWxhcjtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBsaWVzIHRoaXMgcG9pbnQgYnkgYSB2YWx1ZSBhbmQgcmV0dXJucyBhIG5ldyBvbmVcbiAgICAgKiBUT0RPOiByZW5hbWUgaW4gc2NhbGFyTXVsdGlwbHkgaW4gMi4wXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxhclxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH1cbiAgICAgKi9cbiAgICBtdWx0aXBseTogZnVuY3Rpb24gKHNjYWxhcikge1xuICAgICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLnggKiBzY2FsYXIsIHRoaXMueSAqIHNjYWxhcik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE11bHRpcGxpZXMgdGhpcyBwb2ludCBieSBhIHZhbHVlXG4gICAgICogVE9ETzogcmVuYW1lIGluIHNjYWxhck11bHRpcGx5RXF1YWxzIGluIDIuMFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsYXJcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUG9pbnR9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgbXVsdGlwbHlFcXVhbHM6IGZ1bmN0aW9uIChzY2FsYXIpIHtcbiAgICAgIHRoaXMueCAqPSBzY2FsYXI7XG4gICAgICB0aGlzLnkgKj0gc2NhbGFyO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERpdmlkZXMgdGhpcyBwb2ludCBieSBhIHZhbHVlIGFuZCByZXR1cm5zIGEgbmV3IG9uZVxuICAgICAqIFRPRE86IHJlbmFtZSBpbiBzY2FsYXJEaXZpZGUgaW4gMi4wXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxhclxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH1cbiAgICAgKi9cbiAgICBkaXZpZGU6IGZ1bmN0aW9uIChzY2FsYXIpIHtcbiAgICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy54IC8gc2NhbGFyLCB0aGlzLnkgLyBzY2FsYXIpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEaXZpZGVzIHRoaXMgcG9pbnQgYnkgYSB2YWx1ZVxuICAgICAqIFRPRE86IHJlbmFtZSBpbiBzY2FsYXJEaXZpZGVFcXVhbHMgaW4gMi4wXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxhclxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBkaXZpZGVFcXVhbHM6IGZ1bmN0aW9uIChzY2FsYXIpIHtcbiAgICAgIHRoaXMueCAvPSBzY2FsYXI7XG4gICAgICB0aGlzLnkgLz0gc2NhbGFyO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHBvaW50IGlzIGVxdWFsIHRvIGFub3RoZXIgb25lXG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IHRoYXRcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIGVxOiBmdW5jdGlvbiAodGhhdCkge1xuICAgICAgcmV0dXJuICh0aGlzLnggPT09IHRoYXQueCAmJiB0aGlzLnkgPT09IHRoYXQueSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHBvaW50IGlzIGxlc3MgdGhhbiBhbm90aGVyIG9uZVxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSB0aGF0XG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBsdDogZnVuY3Rpb24gKHRoYXQpIHtcbiAgICAgIHJldHVybiAodGhpcy54IDwgdGhhdC54ICYmIHRoaXMueSA8IHRoYXQueSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHBvaW50IGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0byBhbm90aGVyIG9uZVxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSB0aGF0XG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBsdGU6IGZ1bmN0aW9uICh0aGF0KSB7XG4gICAgICByZXR1cm4gKHRoaXMueCA8PSB0aGF0LnggJiYgdGhpcy55IDw9IHRoYXQueSk7XG4gICAgfSxcblxuICAgIC8qKlxuXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoaXMgcG9pbnQgaXMgZ3JlYXRlciBhbm90aGVyIG9uZVxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSB0aGF0XG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBndDogZnVuY3Rpb24gKHRoYXQpIHtcbiAgICAgIHJldHVybiAodGhpcy54ID4gdGhhdC54ICYmIHRoaXMueSA+IHRoYXQueSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHBvaW50IGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBhbm90aGVyIG9uZVxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSB0aGF0XG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBndGU6IGZ1bmN0aW9uICh0aGF0KSB7XG4gICAgICByZXR1cm4gKHRoaXMueCA+PSB0aGF0LnggJiYgdGhpcy55ID49IHRoYXQueSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgbmV3IHBvaW50IHdoaWNoIGlzIHRoZSByZXN1bHQgb2YgbGluZWFyIGludGVycG9sYXRpb24gd2l0aCB0aGlzIG9uZSBhbmQgYW5vdGhlciBvbmVcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gdGhhdFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0ICwgcG9zaXRpb24gb2YgaW50ZXJwb2xhdGlvbiwgYmV0d2VlbiAwIGFuZCAxIGRlZmF1bHQgMC41XG4gICAgICogQHJldHVybiB7ZmFicmljLlBvaW50fVxuICAgICAqL1xuICAgIGxlcnA6IGZ1bmN0aW9uICh0aGF0LCB0KSB7XG4gICAgICBpZiAodHlwZW9mIHQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHQgPSAwLjU7XG4gICAgICB9XG4gICAgICB0ID0gTWF0aC5tYXgoTWF0aC5taW4oMSwgdCksIDApO1xuICAgICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLnggKyAodGhhdC54IC0gdGhpcy54KSAqIHQsIHRoaXMueSArICh0aGF0LnkgLSB0aGlzLnkpICogdCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgZGlzdGFuY2UgZnJvbSB0aGlzIHBvaW50IGFuZCBhbm90aGVyIG9uZVxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSB0aGF0XG4gICAgICogQHJldHVybiB7TnVtYmVyfVxuICAgICAqL1xuICAgIGRpc3RhbmNlRnJvbTogZnVuY3Rpb24gKHRoYXQpIHtcbiAgICAgIHZhciBkeCA9IHRoaXMueCAtIHRoYXQueCxcbiAgICAgICAgICBkeSA9IHRoaXMueSAtIHRoYXQueTtcbiAgICAgIHJldHVybiBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBwb2ludCBiZXR3ZWVuIHRoaXMgcG9pbnQgYW5kIGFub3RoZXIgb25lXG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IHRoYXRcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUG9pbnR9XG4gICAgICovXG4gICAgbWlkUG9pbnRGcm9tOiBmdW5jdGlvbiAodGhhdCkge1xuICAgICAgcmV0dXJuIHRoaXMubGVycCh0aGF0KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBwb2ludCB3aGljaCBpcyB0aGUgbWluIG9mIHRoaXMgYW5kIGFub3RoZXIgb25lXG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IHRoYXRcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUG9pbnR9XG4gICAgICovXG4gICAgbWluOiBmdW5jdGlvbiAodGhhdCkge1xuICAgICAgcmV0dXJuIG5ldyBQb2ludChNYXRoLm1pbih0aGlzLngsIHRoYXQueCksIE1hdGgubWluKHRoaXMueSwgdGhhdC55KSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgcG9pbnQgd2hpY2ggaXMgdGhlIG1heCBvZiB0aGlzIGFuZCBhbm90aGVyIG9uZVxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSB0aGF0XG4gICAgICogQHJldHVybiB7ZmFicmljLlBvaW50fVxuICAgICAqL1xuICAgIG1heDogZnVuY3Rpb24gKHRoYXQpIHtcbiAgICAgIHJldHVybiBuZXcgUG9pbnQoTWF0aC5tYXgodGhpcy54LCB0aGF0LngpLCBNYXRoLm1heCh0aGlzLnksIHRoYXQueSkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIHBvaW50XG4gICAgICogQHJldHVybiB7U3RyaW5nfVxuICAgICAqL1xuICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy54ICsgJywnICsgdGhpcy55O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHgveSBvZiB0aGlzIHBvaW50XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geVxuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzZXRYWTogZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgIHRoaXMueCA9IHg7XG4gICAgICB0aGlzLnkgPSB5O1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgeCBvZiB0aGlzIHBvaW50XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHhcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgc2V0WDogZnVuY3Rpb24gKHgpIHtcbiAgICAgIHRoaXMueCA9IHg7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB5IG9mIHRoaXMgcG9pbnRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geVxuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzZXRZOiBmdW5jdGlvbiAoeSkge1xuICAgICAgdGhpcy55ID0geTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHgveSBvZiB0aGlzIHBvaW50IGZyb20gYW5vdGhlciBwb2ludFxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSB0aGF0XG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHNldEZyb21Qb2ludDogZnVuY3Rpb24gKHRoYXQpIHtcbiAgICAgIHRoaXMueCA9IHRoYXQueDtcbiAgICAgIHRoaXMueSA9IHRoYXQueTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTd2FwcyB4L3kgb2YgdGhpcyBwb2ludCBhbmQgYW5vdGhlciBwb2ludFxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSB0aGF0XG4gICAgICovXG4gICAgc3dhcDogZnVuY3Rpb24gKHRoYXQpIHtcbiAgICAgIHZhciB4ID0gdGhpcy54LFxuICAgICAgICAgIHkgPSB0aGlzLnk7XG4gICAgICB0aGlzLnggPSB0aGF0Lng7XG4gICAgICB0aGlzLnkgPSB0aGF0Lnk7XG4gICAgICB0aGF0LnggPSB4O1xuICAgICAgdGhhdC55ID0geTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmV0dXJuIGEgY2xvbmVkIGluc3RhbmNlIG9mIHRoZSBwb2ludFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH1cbiAgICAgKi9cbiAgICBjbG9uZTogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLngsIHRoaXMueSk7XG4gICAgfVxuICB9O1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICAvKiBBZGFwdGF0aW9uIG9mIHdvcmsgb2YgS2V2aW4gTGluZHNleSAoa2V2aW5Aa2V2bGluZGV2LmNvbSkgKi9cbiAgdmFyIGZhYnJpYyA9IGdsb2JhbC5mYWJyaWMgfHwgKGdsb2JhbC5mYWJyaWMgPSB7IH0pO1xuXG4gIGlmIChmYWJyaWMuSW50ZXJzZWN0aW9uKSB7XG4gICAgZmFicmljLndhcm4oJ2ZhYnJpYy5JbnRlcnNlY3Rpb24gaXMgYWxyZWFkeSBkZWZpbmVkJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEludGVyc2VjdGlvbiBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkludGVyc2VjdGlvblxuICAgKiBAbWVtYmVyT2YgZmFicmljXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgZnVuY3Rpb24gSW50ZXJzZWN0aW9uKHN0YXR1cykge1xuICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICAgIHRoaXMucG9pbnRzID0gW107XG4gIH1cblxuICBmYWJyaWMuSW50ZXJzZWN0aW9uID0gSW50ZXJzZWN0aW9uO1xuXG4gIGZhYnJpYy5JbnRlcnNlY3Rpb24ucHJvdG90eXBlID0gLyoqIEBsZW5kcyBmYWJyaWMuSW50ZXJzZWN0aW9uLnByb3RvdHlwZSAqLyB7XG5cbiAgICBjb25zdHJ1Y3RvcjogSW50ZXJzZWN0aW9uLFxuXG4gICAgLyoqXG4gICAgICogQXBwZW5kcyBhIHBvaW50IHRvIGludGVyc2VjdGlvblxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSBwb2ludFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5JbnRlcnNlY3Rpb259IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgYXBwZW5kUG9pbnQ6IGZ1bmN0aW9uIChwb2ludCkge1xuICAgICAgdGhpcy5wb2ludHMucHVzaChwb2ludCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQXBwZW5kcyBwb2ludHMgdG8gaW50ZXJzZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheX0gcG9pbnRzXG4gICAgICogQHJldHVybiB7ZmFicmljLkludGVyc2VjdGlvbn0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBhcHBlbmRQb2ludHM6IGZ1bmN0aW9uIChwb2ludHMpIHtcbiAgICAgIHRoaXMucG9pbnRzID0gdGhpcy5wb2ludHMuY29uY2F0KHBvaW50cyk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBvbmUgbGluZSBpbnRlcnNlY3RzIGFub3RoZXJcbiAgICogVE9ETzogcmVuYW1lIGluIGludGVyc2VjdFNlZ21lbnRTZWdtZW50XG4gICAqIEBzdGF0aWNcbiAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IGExXG4gICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSBhMlxuICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gYjFcbiAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IGIyXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JbnRlcnNlY3Rpb259XG4gICAqL1xuICBmYWJyaWMuSW50ZXJzZWN0aW9uLmludGVyc2VjdExpbmVMaW5lID0gZnVuY3Rpb24gKGExLCBhMiwgYjEsIGIyKSB7XG4gICAgdmFyIHJlc3VsdCxcbiAgICAgICAgdWFUID0gKGIyLnggLSBiMS54KSAqIChhMS55IC0gYjEueSkgLSAoYjIueSAtIGIxLnkpICogKGExLnggLSBiMS54KSxcbiAgICAgICAgdWJUID0gKGEyLnggLSBhMS54KSAqIChhMS55IC0gYjEueSkgLSAoYTIueSAtIGExLnkpICogKGExLnggLSBiMS54KSxcbiAgICAgICAgdUIgPSAoYjIueSAtIGIxLnkpICogKGEyLnggLSBhMS54KSAtIChiMi54IC0gYjEueCkgKiAoYTIueSAtIGExLnkpO1xuICAgIGlmICh1QiAhPT0gMCkge1xuICAgICAgdmFyIHVhID0gdWFUIC8gdUIsXG4gICAgICAgICAgdWIgPSB1YlQgLyB1QjtcbiAgICAgIGlmICgwIDw9IHVhICYmIHVhIDw9IDEgJiYgMCA8PSB1YiAmJiB1YiA8PSAxKSB7XG4gICAgICAgIHJlc3VsdCA9IG5ldyBJbnRlcnNlY3Rpb24oJ0ludGVyc2VjdGlvbicpO1xuICAgICAgICByZXN1bHQuYXBwZW5kUG9pbnQobmV3IGZhYnJpYy5Qb2ludChhMS54ICsgdWEgKiAoYTIueCAtIGExLngpLCBhMS55ICsgdWEgKiAoYTIueSAtIGExLnkpKSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gbmV3IEludGVyc2VjdGlvbigpO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGlmICh1YVQgPT09IDAgfHwgdWJUID09PSAwKSB7XG4gICAgICAgIHJlc3VsdCA9IG5ldyBJbnRlcnNlY3Rpb24oJ0NvaW5jaWRlbnQnKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKCdQYXJhbGxlbCcpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgbGluZSBpbnRlcnNlY3RzIHBvbHlnb25cbiAgICogVE9ETzogcmVuYW1lIGluIGludGVyc2VjdFNlZ21lbnRQb2x5Z29uXG4gICAqIGZpeCBkZXRlY3Rpb24gb2YgY29pbmNpZGVudFxuICAgKiBAc3RhdGljXG4gICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSBhMVxuICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gYTJcbiAgICogQHBhcmFtIHtBcnJheX0gcG9pbnRzXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JbnRlcnNlY3Rpb259XG4gICAqL1xuICBmYWJyaWMuSW50ZXJzZWN0aW9uLmludGVyc2VjdExpbmVQb2x5Z29uID0gZnVuY3Rpb24oYTEsIGEyLCBwb2ludHMpIHtcbiAgICB2YXIgcmVzdWx0ID0gbmV3IEludGVyc2VjdGlvbigpLFxuICAgICAgICBsZW5ndGggPSBwb2ludHMubGVuZ3RoLFxuICAgICAgICBiMSwgYjIsIGludGVyLCBpO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBiMSA9IHBvaW50c1tpXTtcbiAgICAgIGIyID0gcG9pbnRzWyhpICsgMSkgJSBsZW5ndGhdO1xuICAgICAgaW50ZXIgPSBJbnRlcnNlY3Rpb24uaW50ZXJzZWN0TGluZUxpbmUoYTEsIGEyLCBiMSwgYjIpO1xuXG4gICAgICByZXN1bHQuYXBwZW5kUG9pbnRzKGludGVyLnBvaW50cyk7XG4gICAgfVxuICAgIGlmIChyZXN1bHQucG9pbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJlc3VsdC5zdGF0dXMgPSAnSW50ZXJzZWN0aW9uJztcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHBvbHlnb24gaW50ZXJzZWN0cyBhbm90aGVyIHBvbHlnb25cbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge0FycmF5fSBwb2ludHMxXG4gICAqIEBwYXJhbSB7QXJyYXl9IHBvaW50czJcbiAgICogQHJldHVybiB7ZmFicmljLkludGVyc2VjdGlvbn1cbiAgICovXG4gIGZhYnJpYy5JbnRlcnNlY3Rpb24uaW50ZXJzZWN0UG9seWdvblBvbHlnb24gPSBmdW5jdGlvbiAocG9pbnRzMSwgcG9pbnRzMikge1xuICAgIHZhciByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKCksXG4gICAgICAgIGxlbmd0aCA9IHBvaW50czEubGVuZ3RoLCBpO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgYTEgPSBwb2ludHMxW2ldLFxuICAgICAgICAgIGEyID0gcG9pbnRzMVsoaSArIDEpICUgbGVuZ3RoXSxcbiAgICAgICAgICBpbnRlciA9IEludGVyc2VjdGlvbi5pbnRlcnNlY3RMaW5lUG9seWdvbihhMSwgYTIsIHBvaW50czIpO1xuXG4gICAgICByZXN1bHQuYXBwZW5kUG9pbnRzKGludGVyLnBvaW50cyk7XG4gICAgfVxuICAgIGlmIChyZXN1bHQucG9pbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJlc3VsdC5zdGF0dXMgPSAnSW50ZXJzZWN0aW9uJztcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHBvbHlnb24gaW50ZXJzZWN0cyByZWN0YW5nbGVcbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge0FycmF5fSBwb2ludHNcbiAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IHIxXG4gICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSByMlxuICAgKiBAcmV0dXJuIHtmYWJyaWMuSW50ZXJzZWN0aW9ufVxuICAgKi9cbiAgZmFicmljLkludGVyc2VjdGlvbi5pbnRlcnNlY3RQb2x5Z29uUmVjdGFuZ2xlID0gZnVuY3Rpb24gKHBvaW50cywgcjEsIHIyKSB7XG4gICAgdmFyIG1pbiA9IHIxLm1pbihyMiksXG4gICAgICAgIG1heCA9IHIxLm1heChyMiksXG4gICAgICAgIHRvcFJpZ2h0ID0gbmV3IGZhYnJpYy5Qb2ludChtYXgueCwgbWluLnkpLFxuICAgICAgICBib3R0b21MZWZ0ID0gbmV3IGZhYnJpYy5Qb2ludChtaW4ueCwgbWF4LnkpLFxuICAgICAgICBpbnRlcjEgPSBJbnRlcnNlY3Rpb24uaW50ZXJzZWN0TGluZVBvbHlnb24obWluLCB0b3BSaWdodCwgcG9pbnRzKSxcbiAgICAgICAgaW50ZXIyID0gSW50ZXJzZWN0aW9uLmludGVyc2VjdExpbmVQb2x5Z29uKHRvcFJpZ2h0LCBtYXgsIHBvaW50cyksXG4gICAgICAgIGludGVyMyA9IEludGVyc2VjdGlvbi5pbnRlcnNlY3RMaW5lUG9seWdvbihtYXgsIGJvdHRvbUxlZnQsIHBvaW50cyksXG4gICAgICAgIGludGVyNCA9IEludGVyc2VjdGlvbi5pbnRlcnNlY3RMaW5lUG9seWdvbihib3R0b21MZWZ0LCBtaW4sIHBvaW50cyksXG4gICAgICAgIHJlc3VsdCA9IG5ldyBJbnRlcnNlY3Rpb24oKTtcblxuICAgIHJlc3VsdC5hcHBlbmRQb2ludHMoaW50ZXIxLnBvaW50cyk7XG4gICAgcmVzdWx0LmFwcGVuZFBvaW50cyhpbnRlcjIucG9pbnRzKTtcbiAgICByZXN1bHQuYXBwZW5kUG9pbnRzKGludGVyMy5wb2ludHMpO1xuICAgIHJlc3VsdC5hcHBlbmRQb2ludHMoaW50ZXI0LnBvaW50cyk7XG5cbiAgICBpZiAocmVzdWx0LnBvaW50cy5sZW5ndGggPiAwKSB7XG4gICAgICByZXN1bHQuc3RhdHVzID0gJ0ludGVyc2VjdGlvbic7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBmYWJyaWMgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KTtcblxuICBpZiAoZmFicmljLkNvbG9yKSB7XG4gICAgZmFicmljLndhcm4oJ2ZhYnJpYy5Db2xvciBpcyBhbHJlYWR5IGRlZmluZWQuJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbG9yIGNsYXNzXG4gICAqIFRoZSBwdXJwb3NlIG9mIHtAbGluayBmYWJyaWMuQ29sb3J9IGlzIHRvIGFic3RyYWN0IGFuZCBlbmNhcHN1bGF0ZSBjb21tb24gY29sb3Igb3BlcmF0aW9ucztcbiAgICoge0BsaW5rIGZhYnJpYy5Db2xvcn0gaXMgYSBjb25zdHJ1Y3RvciBhbmQgY3JlYXRlcyBpbnN0YW5jZXMgb2Yge0BsaW5rIGZhYnJpYy5Db2xvcn0gb2JqZWN0cy5cbiAgICpcbiAgICogQGNsYXNzIGZhYnJpYy5Db2xvclxuICAgKiBAcGFyYW0ge1N0cmluZ30gY29sb3Igb3B0aW9uYWwgaW4gaGV4IG9yIHJnYihhKSBvciBoc2wgZm9ybWF0IG9yIGZyb20ga25vd24gY29sb3IgbGlzdFxuICAgKiBAcmV0dXJuIHtmYWJyaWMuQ29sb3J9IHRoaXNBcmdcbiAgICogQHR1dG9yaWFsIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ZhYnJpYy1pbnRyby1wYXJ0LTIvI2NvbG9yc31cbiAgICovXG4gIGZ1bmN0aW9uIENvbG9yKGNvbG9yKSB7XG4gICAgaWYgKCFjb2xvcikge1xuICAgICAgdGhpcy5zZXRTb3VyY2UoWzAsIDAsIDAsIDFdKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLl90cnlQYXJzaW5nQ29sb3IoY29sb3IpO1xuICAgIH1cbiAgfVxuXG4gIGZhYnJpYy5Db2xvciA9IENvbG9yO1xuXG4gIGZhYnJpYy5Db2xvci5wcm90b3R5cGUgPSAvKiogQGxlbmRzIGZhYnJpYy5Db2xvci5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xBcnJheX0gY29sb3IgQ29sb3IgdmFsdWUgdG8gcGFyc2VcbiAgICAgKi9cbiAgICBfdHJ5UGFyc2luZ0NvbG9yOiBmdW5jdGlvbihjb2xvcikge1xuICAgICAgdmFyIHNvdXJjZTtcblxuICAgICAgaWYgKGNvbG9yIGluIENvbG9yLmNvbG9yTmFtZU1hcCkge1xuICAgICAgICBjb2xvciA9IENvbG9yLmNvbG9yTmFtZU1hcFtjb2xvcl07XG4gICAgICB9XG5cbiAgICAgIGlmIChjb2xvciA9PT0gJ3RyYW5zcGFyZW50Jykge1xuICAgICAgICBzb3VyY2UgPSBbMjU1LCAyNTUsIDI1NSwgMF07XG4gICAgICB9XG5cbiAgICAgIGlmICghc291cmNlKSB7XG4gICAgICAgIHNvdXJjZSA9IENvbG9yLnNvdXJjZUZyb21IZXgoY29sb3IpO1xuICAgICAgfVxuICAgICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgICAgc291cmNlID0gQ29sb3Iuc291cmNlRnJvbVJnYihjb2xvcik7XG4gICAgICB9XG4gICAgICBpZiAoIXNvdXJjZSkge1xuICAgICAgICBzb3VyY2UgPSBDb2xvci5zb3VyY2VGcm9tSHNsKGNvbG9yKTtcbiAgICAgIH1cbiAgICAgIGlmICghc291cmNlKSB7XG4gICAgICAgIC8vaWYgY29sb3IgaXMgbm90IHJlY29nbml6ZSBsZXQncyBtYWtlIGJsYWNrIGFzIGNhbnZhcyBkb2VzXG4gICAgICAgIHNvdXJjZSA9IFswLCAwLCAwLCAxXTtcbiAgICAgIH1cbiAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgdGhpcy5zZXRTb3VyY2Uoc291cmNlKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQWRhcHRlZCBmcm9tIDxhIGhyZWY9XCJodHRwczovL3Jhd2dpdGh1Yi5jb20vbWppamFja3Nvbi9tamlqYWNrc29uLmdpdGh1Yi5jb20vbWFzdGVyLzIwMDgvMDIvcmdiLXRvLWhzbC1hbmQtcmdiLXRvLWhzdi1jb2xvci1tb2RlbC1jb252ZXJzaW9uLWFsZ29yaXRobXMtaW4tamF2YXNjcmlwdC5odG1sXCI+aHR0cHM6Ly9naXRodWIuY29tL21qaWphY2tzb248L2E+XG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gciBSZWQgY29sb3IgdmFsdWVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZyBHcmVlbiBjb2xvciB2YWx1ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBiIEJsdWUgY29sb3IgdmFsdWVcbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gSHNsIGNvbG9yXG4gICAgICovXG4gICAgX3JnYlRvSHNsOiBmdW5jdGlvbihyLCBnLCBiKSB7XG4gICAgICByIC89IDI1NTsgZyAvPSAyNTU7IGIgLz0gMjU1O1xuXG4gICAgICB2YXIgaCwgcywgbCxcbiAgICAgICAgICBtYXggPSBmYWJyaWMudXRpbC5hcnJheS5tYXgoW3IsIGcsIGJdKSxcbiAgICAgICAgICBtaW4gPSBmYWJyaWMudXRpbC5hcnJheS5taW4oW3IsIGcsIGJdKTtcblxuICAgICAgbCA9IChtYXggKyBtaW4pIC8gMjtcblxuICAgICAgaWYgKG1heCA9PT0gbWluKSB7XG4gICAgICAgIGggPSBzID0gMDsgLy8gYWNocm9tYXRpY1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHZhciBkID0gbWF4IC0gbWluO1xuICAgICAgICBzID0gbCA+IDAuNSA/IGQgLyAoMiAtIG1heCAtIG1pbikgOiBkIC8gKG1heCArIG1pbik7XG4gICAgICAgIHN3aXRjaCAobWF4KSB7XG4gICAgICAgICAgY2FzZSByOlxuICAgICAgICAgICAgaCA9IChnIC0gYikgLyBkICsgKGcgPCBiID8gNiA6IDApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBnOlxuICAgICAgICAgICAgaCA9IChiIC0gcikgLyBkICsgMjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgYjpcbiAgICAgICAgICAgIGggPSAociAtIGcpIC8gZCArIDQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBoIC89IDY7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBbXG4gICAgICAgIE1hdGgucm91bmQoaCAqIDM2MCksXG4gICAgICAgIE1hdGgucm91bmQocyAqIDEwMCksXG4gICAgICAgIE1hdGgucm91bmQobCAqIDEwMClcbiAgICAgIF07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgc291cmNlIG9mIHRoaXMgY29sb3IgKHdoZXJlIHNvdXJjZSBpcyBhbiBhcnJheSByZXByZXNlbnRhdGlvbjsgZXg6IFsyMDAsIDIwMCwgMTAwLCAxXSlcbiAgICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICAgKi9cbiAgICBnZXRTb3VyY2U6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3NvdXJjZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyBzb3VyY2Ugb2YgdGhpcyBjb2xvciAod2hlcmUgc291cmNlIGlzIGFuIGFycmF5IHJlcHJlc2VudGF0aW9uOyBleDogWzIwMCwgMjAwLCAxMDAsIDFdKVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHNvdXJjZVxuICAgICAqL1xuICAgIHNldFNvdXJjZTogZnVuY3Rpb24oc291cmNlKSB7XG4gICAgICB0aGlzLl9zb3VyY2UgPSBzb3VyY2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgY29sb3IgcmVwcmVzZW50YXRpb24gaW4gUkdCIGZvcm1hdFxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gZXg6IHJnYigwLTI1NSwwLTI1NSwwLTI1NSlcbiAgICAgKi9cbiAgICB0b1JnYjogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc291cmNlID0gdGhpcy5nZXRTb3VyY2UoKTtcbiAgICAgIHJldHVybiAncmdiKCcgKyBzb3VyY2VbMF0gKyAnLCcgKyBzb3VyY2VbMV0gKyAnLCcgKyBzb3VyY2VbMl0gKyAnKSc7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgY29sb3IgcmVwcmVzZW50YXRpb24gaW4gUkdCQSBmb3JtYXRcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IGV4OiByZ2JhKDAtMjU1LDAtMjU1LDAtMjU1LDAtMSlcbiAgICAgKi9cbiAgICB0b1JnYmE6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuZ2V0U291cmNlKCk7XG4gICAgICByZXR1cm4gJ3JnYmEoJyArIHNvdXJjZVswXSArICcsJyArIHNvdXJjZVsxXSArICcsJyArIHNvdXJjZVsyXSArICcsJyArIHNvdXJjZVszXSArICcpJztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBjb2xvciByZXByZXNlbnRhdGlvbiBpbiBIU0wgZm9ybWF0XG4gICAgICogQHJldHVybiB7U3RyaW5nfSBleDogaHNsKDAtMzYwLDAlLTEwMCUsMCUtMTAwJSlcbiAgICAgKi9cbiAgICB0b0hzbDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc291cmNlID0gdGhpcy5nZXRTb3VyY2UoKSxcbiAgICAgICAgICBoc2wgPSB0aGlzLl9yZ2JUb0hzbChzb3VyY2VbMF0sIHNvdXJjZVsxXSwgc291cmNlWzJdKTtcblxuICAgICAgcmV0dXJuICdoc2woJyArIGhzbFswXSArICcsJyArIGhzbFsxXSArICclLCcgKyBoc2xbMl0gKyAnJSknO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGNvbG9yIHJlcHJlc2VudGF0aW9uIGluIEhTTEEgZm9ybWF0XG4gICAgICogQHJldHVybiB7U3RyaW5nfSBleDogaHNsYSgwLTM2MCwwJS0xMDAlLDAlLTEwMCUsMC0xKVxuICAgICAqL1xuICAgIHRvSHNsYTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc291cmNlID0gdGhpcy5nZXRTb3VyY2UoKSxcbiAgICAgICAgICBoc2wgPSB0aGlzLl9yZ2JUb0hzbChzb3VyY2VbMF0sIHNvdXJjZVsxXSwgc291cmNlWzJdKTtcblxuICAgICAgcmV0dXJuICdoc2xhKCcgKyBoc2xbMF0gKyAnLCcgKyBoc2xbMV0gKyAnJSwnICsgaHNsWzJdICsgJyUsJyArIHNvdXJjZVszXSArICcpJztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBjb2xvciByZXByZXNlbnRhdGlvbiBpbiBIRVggZm9ybWF0XG4gICAgICogQHJldHVybiB7U3RyaW5nfSBleDogRkY1NTU1XG4gICAgICovXG4gICAgdG9IZXg6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuZ2V0U291cmNlKCksIHIsIGcsIGI7XG5cbiAgICAgIHIgPSBzb3VyY2VbMF0udG9TdHJpbmcoMTYpO1xuICAgICAgciA9IChyLmxlbmd0aCA9PT0gMSkgPyAoJzAnICsgcikgOiByO1xuXG4gICAgICBnID0gc291cmNlWzFdLnRvU3RyaW5nKDE2KTtcbiAgICAgIGcgPSAoZy5sZW5ndGggPT09IDEpID8gKCcwJyArIGcpIDogZztcblxuICAgICAgYiA9IHNvdXJjZVsyXS50b1N0cmluZygxNik7XG4gICAgICBiID0gKGIubGVuZ3RoID09PSAxKSA/ICgnMCcgKyBiKSA6IGI7XG5cbiAgICAgIHJldHVybiByLnRvVXBwZXJDYXNlKCkgKyBnLnRvVXBwZXJDYXNlKCkgKyBiLnRvVXBwZXJDYXNlKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgY29sb3IgcmVwcmVzZW50YXRpb24gaW4gSEVYQSBmb3JtYXRcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IGV4OiBGRjU1NTVDQ1xuICAgICAqL1xuICAgIHRvSGV4YTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc291cmNlID0gdGhpcy5nZXRTb3VyY2UoKSwgYTtcblxuICAgICAgYSA9IE1hdGgucm91bmQoc291cmNlWzNdICogMjU1KTtcbiAgICAgIGEgPSBhLnRvU3RyaW5nKDE2KTtcbiAgICAgIGEgPSAoYS5sZW5ndGggPT09IDEpID8gKCcwJyArIGEpIDogYTtcblxuICAgICAgcmV0dXJuIHRoaXMudG9IZXgoKSArIGEudG9VcHBlckNhc2UoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0cyB2YWx1ZSBvZiBhbHBoYSBjaGFubmVsIGZvciB0aGlzIGNvbG9yXG4gICAgICogQHJldHVybiB7TnVtYmVyfSAwLTFcbiAgICAgKi9cbiAgICBnZXRBbHBoYTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRTb3VyY2UoKVszXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB2YWx1ZSBvZiBhbHBoYSBjaGFubmVsIGZvciB0aGlzIGNvbG9yXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGFscGhhIEFscGhhIHZhbHVlIDAtMVxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Db2xvcn0gdGhpc0FyZ1xuICAgICAqL1xuICAgIHNldEFscGhhOiBmdW5jdGlvbihhbHBoYSkge1xuICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuZ2V0U291cmNlKCk7XG4gICAgICBzb3VyY2VbM10gPSBhbHBoYTtcbiAgICAgIHRoaXMuc2V0U291cmNlKHNvdXJjZSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtcyBjb2xvciB0byBpdHMgZ3JheXNjYWxlIHJlcHJlc2VudGF0aW9uXG4gICAgICogQHJldHVybiB7ZmFicmljLkNvbG9yfSB0aGlzQXJnXG4gICAgICovXG4gICAgdG9HcmF5c2NhbGU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuZ2V0U291cmNlKCksXG4gICAgICAgICAgYXZlcmFnZSA9IHBhcnNlSW50KChzb3VyY2VbMF0gKiAwLjMgKyBzb3VyY2VbMV0gKiAwLjU5ICsgc291cmNlWzJdICogMC4xMSkudG9GaXhlZCgwKSwgMTApLFxuICAgICAgICAgIGN1cnJlbnRBbHBoYSA9IHNvdXJjZVszXTtcbiAgICAgIHRoaXMuc2V0U291cmNlKFthdmVyYWdlLCBhdmVyYWdlLCBhdmVyYWdlLCBjdXJyZW50QWxwaGFdKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2Zvcm1zIGNvbG9yIHRvIGl0cyBibGFjayBhbmQgd2hpdGUgcmVwcmVzZW50YXRpb25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdGhyZXNob2xkXG4gICAgICogQHJldHVybiB7ZmFicmljLkNvbG9yfSB0aGlzQXJnXG4gICAgICovXG4gICAgdG9CbGFja1doaXRlOiBmdW5jdGlvbih0aHJlc2hvbGQpIHtcbiAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldFNvdXJjZSgpLFxuICAgICAgICAgIGF2ZXJhZ2UgPSAoc291cmNlWzBdICogMC4zICsgc291cmNlWzFdICogMC41OSArIHNvdXJjZVsyXSAqIDAuMTEpLnRvRml4ZWQoMCksXG4gICAgICAgICAgY3VycmVudEFscGhhID0gc291cmNlWzNdO1xuXG4gICAgICB0aHJlc2hvbGQgPSB0aHJlc2hvbGQgfHwgMTI3O1xuXG4gICAgICBhdmVyYWdlID0gKE51bWJlcihhdmVyYWdlKSA8IE51bWJlcih0aHJlc2hvbGQpKSA/IDAgOiAyNTU7XG4gICAgICB0aGlzLnNldFNvdXJjZShbYXZlcmFnZSwgYXZlcmFnZSwgYXZlcmFnZSwgY3VycmVudEFscGhhXSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogT3ZlcmxheXMgY29sb3Igd2l0aCBhbm90aGVyIGNvbG9yXG4gICAgICogQHBhcmFtIHtTdHJpbmd8ZmFicmljLkNvbG9yfSBvdGhlckNvbG9yXG4gICAgICogQHJldHVybiB7ZmFicmljLkNvbG9yfSB0aGlzQXJnXG4gICAgICovXG4gICAgb3ZlcmxheVdpdGg6IGZ1bmN0aW9uKG90aGVyQ29sb3IpIHtcbiAgICAgIGlmICghKG90aGVyQ29sb3IgaW5zdGFuY2VvZiBDb2xvcikpIHtcbiAgICAgICAgb3RoZXJDb2xvciA9IG5ldyBDb2xvcihvdGhlckNvbG9yKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlc3VsdCA9IFtdLFxuICAgICAgICAgIGFscGhhID0gdGhpcy5nZXRBbHBoYSgpLFxuICAgICAgICAgIG90aGVyQWxwaGEgPSAwLjUsXG4gICAgICAgICAgc291cmNlID0gdGhpcy5nZXRTb3VyY2UoKSxcbiAgICAgICAgICBvdGhlclNvdXJjZSA9IG90aGVyQ29sb3IuZ2V0U291cmNlKCksIGk7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgICAgcmVzdWx0LnB1c2goTWF0aC5yb3VuZCgoc291cmNlW2ldICogKDEgLSBvdGhlckFscGhhKSkgKyAob3RoZXJTb3VyY2VbaV0gKiBvdGhlckFscGhhKSkpO1xuICAgICAgfVxuXG4gICAgICByZXN1bHRbM10gPSBhbHBoYTtcbiAgICAgIHRoaXMuc2V0U291cmNlKHJlc3VsdCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlZ2V4IG1hdGNoaW5nIGNvbG9yIGluIFJHQiBvciBSR0JBIGZvcm1hdHMgKGV4OiByZ2IoMCwgMCwgMCksIHJnYmEoMjU1LCAxMDAsIDEwLCAwLjUpLCByZ2JhKCAyNTUgLCAxMDAgLCAxMCAsIDAuNSApLCByZ2IoMSwxLDEpLCByZ2JhKDEwMCUsIDYwJSwgMTAlLCAwLjUpKVxuICAgKiBAc3RhdGljXG4gICAqIEBmaWVsZFxuICAgKiBAbWVtYmVyT2YgZmFicmljLkNvbG9yXG4gICAqL1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxlblxuICBmYWJyaWMuQ29sb3IucmVSR0JhID0gL15yZ2JhP1xcKFxccyooXFxkezEsM30oPzpcXC5cXGQrKT9cXCU/KVxccyosXFxzKihcXGR7MSwzfSg/OlxcLlxcZCspP1xcJT8pXFxzKixcXHMqKFxcZHsxLDN9KD86XFwuXFxkKyk/XFwlPylcXHMqKD86XFxzKixcXHMqKCg/OlxcZCpcXC4/XFxkKyk/KVxccyopP1xcKSQvaTtcblxuICAvKipcbiAgICogUmVnZXggbWF0Y2hpbmcgY29sb3IgaW4gSFNMIG9yIEhTTEEgZm9ybWF0cyAoZXg6IGhzbCgyMDAsIDgwJSwgMTAlKSwgaHNsYSgzMDAsIDUwJSwgODAlLCAwLjUpLCBoc2xhKCAzMDAgLCA1MCUgLCA4MCUgLCAwLjUgKSlcbiAgICogQHN0YXRpY1xuICAgKiBAZmllbGRcbiAgICogQG1lbWJlck9mIGZhYnJpYy5Db2xvclxuICAgKi9cbiAgZmFicmljLkNvbG9yLnJlSFNMYSA9IC9eaHNsYT9cXChcXHMqKFxcZHsxLDN9KVxccyosXFxzKihcXGR7MSwzfVxcJSlcXHMqLFxccyooXFxkezEsM31cXCUpXFxzKig/OlxccyosXFxzKihcXGQrKD86XFwuXFxkKyk/KVxccyopP1xcKSQvaTtcblxuICAvKipcbiAgICogUmVnZXggbWF0Y2hpbmcgY29sb3IgaW4gSEVYIGZvcm1hdCAoZXg6ICNGRjU1NDRDQywgI0ZGNTU1NSwgMDEwMTU1LCBhZmYpXG4gICAqIEBzdGF0aWNcbiAgICogQGZpZWxkXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuQ29sb3JcbiAgICovXG4gIGZhYnJpYy5Db2xvci5yZUhleCA9IC9eIz8oWzAtOWEtZl17OH18WzAtOWEtZl17Nn18WzAtOWEtZl17NH18WzAtOWEtZl17M30pJC9pO1xuXG4gIC8qKlxuICAgKiBNYXAgb2YgdGhlIDE0OCBjb2xvciBuYW1lcyB3aXRoIEhFWCBjb2RlXG4gICAqIEBzdGF0aWNcbiAgICogQGZpZWxkXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuQ29sb3JcbiAgICogQHNlZTogaHR0cHM6Ly93d3cudzMub3JnL1RSL2NzczMtY29sb3IvI3N2Zy1jb2xvclxuICAgKi9cbiAgZmFicmljLkNvbG9yLmNvbG9yTmFtZU1hcCA9IHtcbiAgICBhbGljZWJsdWU6ICAgICAgICAgICAgJyNGMEY4RkYnLFxuICAgIGFudGlxdWV3aGl0ZTogICAgICAgICAnI0ZBRUJENycsXG4gICAgYXF1YTogICAgICAgICAgICAgICAgICcjMDBGRkZGJyxcbiAgICBhcXVhbWFyaW5lOiAgICAgICAgICAgJyM3RkZGRDQnLFxuICAgIGF6dXJlOiAgICAgICAgICAgICAgICAnI0YwRkZGRicsXG4gICAgYmVpZ2U6ICAgICAgICAgICAgICAgICcjRjVGNURDJyxcbiAgICBiaXNxdWU6ICAgICAgICAgICAgICAgJyNGRkU0QzQnLFxuICAgIGJsYWNrOiAgICAgICAgICAgICAgICAnIzAwMDAwMCcsXG4gICAgYmxhbmNoZWRhbG1vbmQ6ICAgICAgICcjRkZFQkNEJyxcbiAgICBibHVlOiAgICAgICAgICAgICAgICAgJyMwMDAwRkYnLFxuICAgIGJsdWV2aW9sZXQ6ICAgICAgICAgICAnIzhBMkJFMicsXG4gICAgYnJvd246ICAgICAgICAgICAgICAgICcjQTUyQTJBJyxcbiAgICBidXJseXdvb2Q6ICAgICAgICAgICAgJyNERUI4ODcnLFxuICAgIGNhZGV0Ymx1ZTogICAgICAgICAgICAnIzVGOUVBMCcsXG4gICAgY2hhcnRyZXVzZTogICAgICAgICAgICcjN0ZGRjAwJyxcbiAgICBjaG9jb2xhdGU6ICAgICAgICAgICAgJyNEMjY5MUUnLFxuICAgIGNvcmFsOiAgICAgICAgICAgICAgICAnI0ZGN0Y1MCcsXG4gICAgY29ybmZsb3dlcmJsdWU6ICAgICAgICcjNjQ5NUVEJyxcbiAgICBjb3Juc2lsazogICAgICAgICAgICAgJyNGRkY4REMnLFxuICAgIGNyaW1zb246ICAgICAgICAgICAgICAnI0RDMTQzQycsXG4gICAgY3lhbjogICAgICAgICAgICAgICAgICcjMDBGRkZGJyxcbiAgICBkYXJrYmx1ZTogICAgICAgICAgICAgJyMwMDAwOEInLFxuICAgIGRhcmtjeWFuOiAgICAgICAgICAgICAnIzAwOEI4QicsXG4gICAgZGFya2dvbGRlbnJvZDogICAgICAgICcjQjg4NjBCJyxcbiAgICBkYXJrZ3JheTogICAgICAgICAgICAgJyNBOUE5QTknLFxuICAgIGRhcmtncmV5OiAgICAgICAgICAgICAnI0E5QTlBOScsXG4gICAgZGFya2dyZWVuOiAgICAgICAgICAgICcjMDA2NDAwJyxcbiAgICBkYXJra2hha2k6ICAgICAgICAgICAgJyNCREI3NkInLFxuICAgIGRhcmttYWdlbnRhOiAgICAgICAgICAnIzhCMDA4QicsXG4gICAgZGFya29saXZlZ3JlZW46ICAgICAgICcjNTU2QjJGJyxcbiAgICBkYXJrb3JhbmdlOiAgICAgICAgICAgJyNGRjhDMDAnLFxuICAgIGRhcmtvcmNoaWQ6ICAgICAgICAgICAnIzk5MzJDQycsXG4gICAgZGFya3JlZDogICAgICAgICAgICAgICcjOEIwMDAwJyxcbiAgICBkYXJrc2FsbW9uOiAgICAgICAgICAgJyNFOTk2N0EnLFxuICAgIGRhcmtzZWFncmVlbjogICAgICAgICAnIzhGQkM4RicsXG4gICAgZGFya3NsYXRlYmx1ZTogICAgICAgICcjNDgzRDhCJyxcbiAgICBkYXJrc2xhdGVncmF5OiAgICAgICAgJyMyRjRGNEYnLFxuICAgIGRhcmtzbGF0ZWdyZXk6ICAgICAgICAnIzJGNEY0RicsXG4gICAgZGFya3R1cnF1b2lzZTogICAgICAgICcjMDBDRUQxJyxcbiAgICBkYXJrdmlvbGV0OiAgICAgICAgICAgJyM5NDAwRDMnLFxuICAgIGRlZXBwaW5rOiAgICAgICAgICAgICAnI0ZGMTQ5MycsXG4gICAgZGVlcHNreWJsdWU6ICAgICAgICAgICcjMDBCRkZGJyxcbiAgICBkaW1ncmF5OiAgICAgICAgICAgICAgJyM2OTY5NjknLFxuICAgIGRpbWdyZXk6ICAgICAgICAgICAgICAnIzY5Njk2OScsXG4gICAgZG9kZ2VyYmx1ZTogICAgICAgICAgICcjMUU5MEZGJyxcbiAgICBmaXJlYnJpY2s6ICAgICAgICAgICAgJyNCMjIyMjInLFxuICAgIGZsb3JhbHdoaXRlOiAgICAgICAgICAnI0ZGRkFGMCcsXG4gICAgZm9yZXN0Z3JlZW46ICAgICAgICAgICcjMjI4QjIyJyxcbiAgICBmdWNoc2lhOiAgICAgICAgICAgICAgJyNGRjAwRkYnLFxuICAgIGdhaW5zYm9ybzogICAgICAgICAgICAnI0RDRENEQycsXG4gICAgZ2hvc3R3aGl0ZTogICAgICAgICAgICcjRjhGOEZGJyxcbiAgICBnb2xkOiAgICAgICAgICAgICAgICAgJyNGRkQ3MDAnLFxuICAgIGdvbGRlbnJvZDogICAgICAgICAgICAnI0RBQTUyMCcsXG4gICAgZ3JheTogICAgICAgICAgICAgICAgICcjODA4MDgwJyxcbiAgICBncmV5OiAgICAgICAgICAgICAgICAgJyM4MDgwODAnLFxuICAgIGdyZWVuOiAgICAgICAgICAgICAgICAnIzAwODAwMCcsXG4gICAgZ3JlZW55ZWxsb3c6ICAgICAgICAgICcjQURGRjJGJyxcbiAgICBob25leWRldzogICAgICAgICAgICAgJyNGMEZGRjAnLFxuICAgIGhvdHBpbms6ICAgICAgICAgICAgICAnI0ZGNjlCNCcsXG4gICAgaW5kaWFucmVkOiAgICAgICAgICAgICcjQ0Q1QzVDJyxcbiAgICBpbmRpZ286ICAgICAgICAgICAgICAgJyM0QjAwODInLFxuICAgIGl2b3J5OiAgICAgICAgICAgICAgICAnI0ZGRkZGMCcsXG4gICAga2hha2k6ICAgICAgICAgICAgICAgICcjRjBFNjhDJyxcbiAgICBsYXZlbmRlcjogICAgICAgICAgICAgJyNFNkU2RkEnLFxuICAgIGxhdmVuZGVyYmx1c2g6ICAgICAgICAnI0ZGRjBGNScsXG4gICAgbGF3bmdyZWVuOiAgICAgICAgICAgICcjN0NGQzAwJyxcbiAgICBsZW1vbmNoaWZmb246ICAgICAgICAgJyNGRkZBQ0QnLFxuICAgIGxpZ2h0Ymx1ZTogICAgICAgICAgICAnI0FERDhFNicsXG4gICAgbGlnaHRjb3JhbDogICAgICAgICAgICcjRjA4MDgwJyxcbiAgICBsaWdodGN5YW46ICAgICAgICAgICAgJyNFMEZGRkYnLFxuICAgIGxpZ2h0Z29sZGVucm9keWVsbG93OiAnI0ZBRkFEMicsXG4gICAgbGlnaHRncmF5OiAgICAgICAgICAgICcjRDNEM0QzJyxcbiAgICBsaWdodGdyZXk6ICAgICAgICAgICAgJyNEM0QzRDMnLFxuICAgIGxpZ2h0Z3JlZW46ICAgICAgICAgICAnIzkwRUU5MCcsXG4gICAgbGlnaHRwaW5rOiAgICAgICAgICAgICcjRkZCNkMxJyxcbiAgICBsaWdodHNhbG1vbjogICAgICAgICAgJyNGRkEwN0EnLFxuICAgIGxpZ2h0c2VhZ3JlZW46ICAgICAgICAnIzIwQjJBQScsXG4gICAgbGlnaHRza3libHVlOiAgICAgICAgICcjODdDRUZBJyxcbiAgICBsaWdodHNsYXRlZ3JheTogICAgICAgJyM3Nzg4OTknLFxuICAgIGxpZ2h0c2xhdGVncmV5OiAgICAgICAnIzc3ODg5OScsXG4gICAgbGlnaHRzdGVlbGJsdWU6ICAgICAgICcjQjBDNERFJyxcbiAgICBsaWdodHllbGxvdzogICAgICAgICAgJyNGRkZGRTAnLFxuICAgIGxpbWU6ICAgICAgICAgICAgICAgICAnIzAwRkYwMCcsXG4gICAgbGltZWdyZWVuOiAgICAgICAgICAgICcjMzJDRDMyJyxcbiAgICBsaW5lbjogICAgICAgICAgICAgICAgJyNGQUYwRTYnLFxuICAgIG1hZ2VudGE6ICAgICAgICAgICAgICAnI0ZGMDBGRicsXG4gICAgbWFyb29uOiAgICAgICAgICAgICAgICcjODAwMDAwJyxcbiAgICBtZWRpdW1hcXVhbWFyaW5lOiAgICAgJyM2NkNEQUEnLFxuICAgIG1lZGl1bWJsdWU6ICAgICAgICAgICAnIzAwMDBDRCcsXG4gICAgbWVkaXVtb3JjaGlkOiAgICAgICAgICcjQkE1NUQzJyxcbiAgICBtZWRpdW1wdXJwbGU6ICAgICAgICAgJyM5MzcwREInLFxuICAgIG1lZGl1bXNlYWdyZWVuOiAgICAgICAnIzNDQjM3MScsXG4gICAgbWVkaXVtc2xhdGVibHVlOiAgICAgICcjN0I2OEVFJyxcbiAgICBtZWRpdW1zcHJpbmdncmVlbjogICAgJyMwMEZBOUEnLFxuICAgIG1lZGl1bXR1cnF1b2lzZTogICAgICAnIzQ4RDFDQycsXG4gICAgbWVkaXVtdmlvbGV0cmVkOiAgICAgICcjQzcxNTg1JyxcbiAgICBtaWRuaWdodGJsdWU6ICAgICAgICAgJyMxOTE5NzAnLFxuICAgIG1pbnRjcmVhbTogICAgICAgICAgICAnI0Y1RkZGQScsXG4gICAgbWlzdHlyb3NlOiAgICAgICAgICAgICcjRkZFNEUxJyxcbiAgICBtb2NjYXNpbjogICAgICAgICAgICAgJyNGRkU0QjUnLFxuICAgIG5hdmFqb3doaXRlOiAgICAgICAgICAnI0ZGREVBRCcsXG4gICAgbmF2eTogICAgICAgICAgICAgICAgICcjMDAwMDgwJyxcbiAgICBvbGRsYWNlOiAgICAgICAgICAgICAgJyNGREY1RTYnLFxuICAgIG9saXZlOiAgICAgICAgICAgICAgICAnIzgwODAwMCcsXG4gICAgb2xpdmVkcmFiOiAgICAgICAgICAgICcjNkI4RTIzJyxcbiAgICBvcmFuZ2U6ICAgICAgICAgICAgICAgJyNGRkE1MDAnLFxuICAgIG9yYW5nZXJlZDogICAgICAgICAgICAnI0ZGNDUwMCcsXG4gICAgb3JjaGlkOiAgICAgICAgICAgICAgICcjREE3MEQ2JyxcbiAgICBwYWxlZ29sZGVucm9kOiAgICAgICAgJyNFRUU4QUEnLFxuICAgIHBhbGVncmVlbjogICAgICAgICAgICAnIzk4RkI5OCcsXG4gICAgcGFsZXR1cnF1b2lzZTogICAgICAgICcjQUZFRUVFJyxcbiAgICBwYWxldmlvbGV0cmVkOiAgICAgICAgJyNEQjcwOTMnLFxuICAgIHBhcGF5YXdoaXA6ICAgICAgICAgICAnI0ZGRUZENScsXG4gICAgcGVhY2hwdWZmOiAgICAgICAgICAgICcjRkZEQUI5JyxcbiAgICBwZXJ1OiAgICAgICAgICAgICAgICAgJyNDRDg1M0YnLFxuICAgIHBpbms6ICAgICAgICAgICAgICAgICAnI0ZGQzBDQicsXG4gICAgcGx1bTogICAgICAgICAgICAgICAgICcjRERBMEREJyxcbiAgICBwb3dkZXJibHVlOiAgICAgICAgICAgJyNCMEUwRTYnLFxuICAgIHB1cnBsZTogICAgICAgICAgICAgICAnIzgwMDA4MCcsXG4gICAgcmViZWNjYXB1cnBsZTogICAgICAgICcjNjYzMzk5JyxcbiAgICByZWQ6ICAgICAgICAgICAgICAgICAgJyNGRjAwMDAnLFxuICAgIHJvc3licm93bjogICAgICAgICAgICAnI0JDOEY4RicsXG4gICAgcm95YWxibHVlOiAgICAgICAgICAgICcjNDE2OUUxJyxcbiAgICBzYWRkbGVicm93bjogICAgICAgICAgJyM4QjQ1MTMnLFxuICAgIHNhbG1vbjogICAgICAgICAgICAgICAnI0ZBODA3MicsXG4gICAgc2FuZHlicm93bjogICAgICAgICAgICcjRjRBNDYwJyxcbiAgICBzZWFncmVlbjogICAgICAgICAgICAgJyMyRThCNTcnLFxuICAgIHNlYXNoZWxsOiAgICAgICAgICAgICAnI0ZGRjVFRScsXG4gICAgc2llbm5hOiAgICAgICAgICAgICAgICcjQTA1MjJEJyxcbiAgICBzaWx2ZXI6ICAgICAgICAgICAgICAgJyNDMEMwQzAnLFxuICAgIHNreWJsdWU6ICAgICAgICAgICAgICAnIzg3Q0VFQicsXG4gICAgc2xhdGVibHVlOiAgICAgICAgICAgICcjNkE1QUNEJyxcbiAgICBzbGF0ZWdyYXk6ICAgICAgICAgICAgJyM3MDgwOTAnLFxuICAgIHNsYXRlZ3JleTogICAgICAgICAgICAnIzcwODA5MCcsXG4gICAgc25vdzogICAgICAgICAgICAgICAgICcjRkZGQUZBJyxcbiAgICBzcHJpbmdncmVlbjogICAgICAgICAgJyMwMEZGN0YnLFxuICAgIHN0ZWVsYmx1ZTogICAgICAgICAgICAnIzQ2ODJCNCcsXG4gICAgdGFuOiAgICAgICAgICAgICAgICAgICcjRDJCNDhDJyxcbiAgICB0ZWFsOiAgICAgICAgICAgICAgICAgJyMwMDgwODAnLFxuICAgIHRoaXN0bGU6ICAgICAgICAgICAgICAnI0Q4QkZEOCcsXG4gICAgdG9tYXRvOiAgICAgICAgICAgICAgICcjRkY2MzQ3JyxcbiAgICB0dXJxdW9pc2U6ICAgICAgICAgICAgJyM0MEUwRDAnLFxuICAgIHZpb2xldDogICAgICAgICAgICAgICAnI0VFODJFRScsXG4gICAgd2hlYXQ6ICAgICAgICAgICAgICAgICcjRjVERUIzJyxcbiAgICB3aGl0ZTogICAgICAgICAgICAgICAgJyNGRkZGRkYnLFxuICAgIHdoaXRlc21va2U6ICAgICAgICAgICAnI0Y1RjVGNScsXG4gICAgeWVsbG93OiAgICAgICAgICAgICAgICcjRkZGRjAwJyxcbiAgICB5ZWxsb3dncmVlbjogICAgICAgICAgJyM5QUNEMzInXG4gIH07XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBwXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBxXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB0XG4gICAqIEByZXR1cm4ge051bWJlcn1cbiAgICovXG4gIGZ1bmN0aW9uIGh1ZTJyZ2IocCwgcSwgdCkge1xuICAgIGlmICh0IDwgMCkge1xuICAgICAgdCArPSAxO1xuICAgIH1cbiAgICBpZiAodCA+IDEpIHtcbiAgICAgIHQgLT0gMTtcbiAgICB9XG4gICAgaWYgKHQgPCAxIC8gNikge1xuICAgICAgcmV0dXJuIHAgKyAocSAtIHApICogNiAqIHQ7XG4gICAgfVxuICAgIGlmICh0IDwgMSAvIDIpIHtcbiAgICAgIHJldHVybiBxO1xuICAgIH1cbiAgICBpZiAodCA8IDIgLyAzKSB7XG4gICAgICByZXR1cm4gcCArIChxIC0gcCkgKiAoMiAvIDMgLSB0KSAqIDY7XG4gICAgfVxuICAgIHJldHVybiBwO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgbmV3IGNvbG9yIG9iamVjdCwgd2hlbiBnaXZlbiBhIGNvbG9yIGluIFJHQiBmb3JtYXRcbiAgICogQG1lbWJlck9mIGZhYnJpYy5Db2xvclxuICAgKiBAcGFyYW0ge1N0cmluZ30gY29sb3IgQ29sb3IgdmFsdWUgZXg6IHJnYigwLTI1NSwwLTI1NSwwLTI1NSlcbiAgICogQHJldHVybiB7ZmFicmljLkNvbG9yfVxuICAgKi9cbiAgZmFicmljLkNvbG9yLmZyb21SZ2IgPSBmdW5jdGlvbihjb2xvcikge1xuICAgIHJldHVybiBDb2xvci5mcm9tU291cmNlKENvbG9yLnNvdXJjZUZyb21SZ2IoY29sb3IpKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJucyBhcnJheSByZXByZXNlbnRhdGlvbiAoZXg6IFsxMDAsIDEwMCwgMjAwLCAxXSkgb2YgYSBjb2xvciB0aGF0J3MgaW4gUkdCIG9yIFJHQkEgZm9ybWF0XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuQ29sb3JcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNvbG9yIENvbG9yIHZhbHVlIGV4OiByZ2IoMC0yNTUsMC0yNTUsMC0yNTUpLCByZ2IoMCUtMTAwJSwwJS0xMDAlLDAlLTEwMCUpXG4gICAqIEByZXR1cm4ge0FycmF5fSBzb3VyY2VcbiAgICovXG4gIGZhYnJpYy5Db2xvci5zb3VyY2VGcm9tUmdiID0gZnVuY3Rpb24oY29sb3IpIHtcbiAgICB2YXIgbWF0Y2ggPSBjb2xvci5tYXRjaChDb2xvci5yZVJHQmEpO1xuICAgIGlmIChtYXRjaCkge1xuICAgICAgdmFyIHIgPSBwYXJzZUludChtYXRjaFsxXSwgMTApIC8gKC8lJC8udGVzdChtYXRjaFsxXSkgPyAxMDAgOiAxKSAqICgvJSQvLnRlc3QobWF0Y2hbMV0pID8gMjU1IDogMSksXG4gICAgICAgICAgZyA9IHBhcnNlSW50KG1hdGNoWzJdLCAxMCkgLyAoLyUkLy50ZXN0KG1hdGNoWzJdKSA/IDEwMCA6IDEpICogKC8lJC8udGVzdChtYXRjaFsyXSkgPyAyNTUgOiAxKSxcbiAgICAgICAgICBiID0gcGFyc2VJbnQobWF0Y2hbM10sIDEwKSAvICgvJSQvLnRlc3QobWF0Y2hbM10pID8gMTAwIDogMSkgKiAoLyUkLy50ZXN0KG1hdGNoWzNdKSA/IDI1NSA6IDEpO1xuXG4gICAgICByZXR1cm4gW1xuICAgICAgICBwYXJzZUludChyLCAxMCksXG4gICAgICAgIHBhcnNlSW50KGcsIDEwKSxcbiAgICAgICAgcGFyc2VJbnQoYiwgMTApLFxuICAgICAgICBtYXRjaFs0XSA/IHBhcnNlRmxvYXQobWF0Y2hbNF0pIDogMVxuICAgICAgXTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgbmV3IGNvbG9yIG9iamVjdCwgd2hlbiBnaXZlbiBhIGNvbG9yIGluIFJHQkEgZm9ybWF0XG4gICAqIEBzdGF0aWNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuQ29sb3JcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNvbG9yXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5Db2xvcn1cbiAgICovXG4gIGZhYnJpYy5Db2xvci5mcm9tUmdiYSA9IENvbG9yLmZyb21SZ2I7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgbmV3IGNvbG9yIG9iamVjdCwgd2hlbiBnaXZlbiBhIGNvbG9yIGluIEhTTCBmb3JtYXRcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNvbG9yIENvbG9yIHZhbHVlIGV4OiBoc2woMC0yNjAsMCUtMTAwJSwwJS0xMDAlKVxuICAgKiBAbWVtYmVyT2YgZmFicmljLkNvbG9yXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5Db2xvcn1cbiAgICovXG4gIGZhYnJpYy5Db2xvci5mcm9tSHNsID0gZnVuY3Rpb24oY29sb3IpIHtcbiAgICByZXR1cm4gQ29sb3IuZnJvbVNvdXJjZShDb2xvci5zb3VyY2VGcm9tSHNsKGNvbG9yKSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYXJyYXkgcmVwcmVzZW50YXRpb24gKGV4OiBbMTAwLCAxMDAsIDIwMCwgMV0pIG9mIGEgY29sb3IgdGhhdCdzIGluIEhTTCBvciBIU0xBIGZvcm1hdC5cbiAgICogQWRhcHRlZCBmcm9tIDxhIGhyZWY9XCJodHRwczovL3Jhd2dpdGh1Yi5jb20vbWppamFja3Nvbi9tamlqYWNrc29uLmdpdGh1Yi5jb20vbWFzdGVyLzIwMDgvMDIvcmdiLXRvLWhzbC1hbmQtcmdiLXRvLWhzdi1jb2xvci1tb2RlbC1jb252ZXJzaW9uLWFsZ29yaXRobXMtaW4tamF2YXNjcmlwdC5odG1sXCI+aHR0cHM6Ly9naXRodWIuY29tL21qaWphY2tzb248L2E+XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuQ29sb3JcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNvbG9yIENvbG9yIHZhbHVlIGV4OiBoc2woMC0zNjAsMCUtMTAwJSwwJS0xMDAlKSBvciBoc2xhKDAtMzYwLDAlLTEwMCUsMCUtMTAwJSwgMC0xKVxuICAgKiBAcmV0dXJuIHtBcnJheX0gc291cmNlXG4gICAqIEBzZWUgaHR0cDovL2h0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtY29sb3IvI2hzbC1jb2xvclxuICAgKi9cbiAgZmFicmljLkNvbG9yLnNvdXJjZUZyb21Ic2wgPSBmdW5jdGlvbihjb2xvcikge1xuICAgIHZhciBtYXRjaCA9IGNvbG9yLm1hdGNoKENvbG9yLnJlSFNMYSk7XG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBoID0gKCgocGFyc2VGbG9hdChtYXRjaFsxXSkgJSAzNjApICsgMzYwKSAlIDM2MCkgLyAzNjAsXG4gICAgICAgIHMgPSBwYXJzZUZsb2F0KG1hdGNoWzJdKSAvICgvJSQvLnRlc3QobWF0Y2hbMl0pID8gMTAwIDogMSksXG4gICAgICAgIGwgPSBwYXJzZUZsb2F0KG1hdGNoWzNdKSAvICgvJSQvLnRlc3QobWF0Y2hbM10pID8gMTAwIDogMSksXG4gICAgICAgIHIsIGcsIGI7XG5cbiAgICBpZiAocyA9PT0gMCkge1xuICAgICAgciA9IGcgPSBiID0gbDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB2YXIgcSA9IGwgPD0gMC41ID8gbCAqIChzICsgMSkgOiBsICsgcyAtIGwgKiBzLFxuICAgICAgICAgIHAgPSBsICogMiAtIHE7XG5cbiAgICAgIHIgPSBodWUycmdiKHAsIHEsIGggKyAxIC8gMyk7XG4gICAgICBnID0gaHVlMnJnYihwLCBxLCBoKTtcbiAgICAgIGIgPSBodWUycmdiKHAsIHEsIGggLSAxIC8gMyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFtcbiAgICAgIE1hdGgucm91bmQociAqIDI1NSksXG4gICAgICBNYXRoLnJvdW5kKGcgKiAyNTUpLFxuICAgICAgTWF0aC5yb3VuZChiICogMjU1KSxcbiAgICAgIG1hdGNoWzRdID8gcGFyc2VGbG9hdChtYXRjaFs0XSkgOiAxXG4gICAgXTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJucyBuZXcgY29sb3Igb2JqZWN0LCB3aGVuIGdpdmVuIGEgY29sb3IgaW4gSFNMQSBmb3JtYXRcbiAgICogQHN0YXRpY1xuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIGZhYnJpYy5Db2xvclxuICAgKiBAcGFyYW0ge1N0cmluZ30gY29sb3JcbiAgICogQHJldHVybiB7ZmFicmljLkNvbG9yfVxuICAgKi9cbiAgZmFicmljLkNvbG9yLmZyb21Ic2xhID0gQ29sb3IuZnJvbUhzbDtcblxuICAvKipcbiAgICogUmV0dXJucyBuZXcgY29sb3Igb2JqZWN0LCB3aGVuIGdpdmVuIGEgY29sb3IgaW4gSEVYIGZvcm1hdFxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuQ29sb3JcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNvbG9yIENvbG9yIHZhbHVlIGV4OiBGRjU1NTVcbiAgICogQHJldHVybiB7ZmFicmljLkNvbG9yfVxuICAgKi9cbiAgZmFicmljLkNvbG9yLmZyb21IZXggPSBmdW5jdGlvbihjb2xvcikge1xuICAgIHJldHVybiBDb2xvci5mcm9tU291cmNlKENvbG9yLnNvdXJjZUZyb21IZXgoY29sb3IpKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJucyBhcnJheSByZXByZXNlbnRhdGlvbiAoZXg6IFsxMDAsIDEwMCwgMjAwLCAxXSkgb2YgYSBjb2xvciB0aGF0J3MgaW4gSEVYIGZvcm1hdFxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuQ29sb3JcbiAgICogQHBhcmFtIHtTdHJpbmd9IGNvbG9yIGV4OiBGRjU1NTUgb3IgRkY1NTQ0Q0MgKFJHQmEpXG4gICAqIEByZXR1cm4ge0FycmF5fSBzb3VyY2VcbiAgICovXG4gIGZhYnJpYy5Db2xvci5zb3VyY2VGcm9tSGV4ID0gZnVuY3Rpb24oY29sb3IpIHtcbiAgICBpZiAoY29sb3IubWF0Y2goQ29sb3IucmVIZXgpKSB7XG4gICAgICB2YXIgdmFsdWUgPSBjb2xvci5zbGljZShjb2xvci5pbmRleE9mKCcjJykgKyAxKSxcbiAgICAgICAgICBpc1Nob3J0Tm90YXRpb24gPSAodmFsdWUubGVuZ3RoID09PSAzIHx8IHZhbHVlLmxlbmd0aCA9PT0gNCksXG4gICAgICAgICAgaXNSR0JhID0gKHZhbHVlLmxlbmd0aCA9PT0gOCB8fCB2YWx1ZS5sZW5ndGggPT09IDQpLFxuICAgICAgICAgIHIgPSBpc1Nob3J0Tm90YXRpb24gPyAodmFsdWUuY2hhckF0KDApICsgdmFsdWUuY2hhckF0KDApKSA6IHZhbHVlLnN1YnN0cmluZygwLCAyKSxcbiAgICAgICAgICBnID0gaXNTaG9ydE5vdGF0aW9uID8gKHZhbHVlLmNoYXJBdCgxKSArIHZhbHVlLmNoYXJBdCgxKSkgOiB2YWx1ZS5zdWJzdHJpbmcoMiwgNCksXG4gICAgICAgICAgYiA9IGlzU2hvcnROb3RhdGlvbiA/ICh2YWx1ZS5jaGFyQXQoMikgKyB2YWx1ZS5jaGFyQXQoMikpIDogdmFsdWUuc3Vic3RyaW5nKDQsIDYpLFxuICAgICAgICAgIGEgPSBpc1JHQmEgPyAoaXNTaG9ydE5vdGF0aW9uID8gKHZhbHVlLmNoYXJBdCgzKSArIHZhbHVlLmNoYXJBdCgzKSkgOiB2YWx1ZS5zdWJzdHJpbmcoNiwgOCkpIDogJ0ZGJztcblxuICAgICAgcmV0dXJuIFtcbiAgICAgICAgcGFyc2VJbnQociwgMTYpLFxuICAgICAgICBwYXJzZUludChnLCAxNiksXG4gICAgICAgIHBhcnNlSW50KGIsIDE2KSxcbiAgICAgICAgcGFyc2VGbG9hdCgocGFyc2VJbnQoYSwgMTYpIC8gMjU1KS50b0ZpeGVkKDIpKVxuICAgICAgXTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgbmV3IGNvbG9yIG9iamVjdCwgd2hlbiBnaXZlbiBjb2xvciBpbiBhcnJheSByZXByZXNlbnRhdGlvbiAoZXg6IFsyMDAsIDEwMCwgMTAwLCAwLjVdKVxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuQ29sb3JcbiAgICogQHBhcmFtIHtBcnJheX0gc291cmNlXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5Db2xvcn1cbiAgICovXG4gIGZhYnJpYy5Db2xvci5mcm9tU291cmNlID0gZnVuY3Rpb24oc291cmNlKSB7XG4gICAgdmFyIG9Db2xvciA9IG5ldyBDb2xvcigpO1xuICAgIG9Db2xvci5zZXRTb3VyY2Uoc291cmNlKTtcbiAgICByZXR1cm4gb0NvbG9yO1xuICB9O1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSksXG4gICAgICBzY2FsZU1hcCA9IFsnZScsICdzZScsICdzJywgJ3N3JywgJ3cnLCAnbncnLCAnbicsICduZScsICdlJ10sXG4gICAgICBza2V3TWFwID0gWyducycsICduZXN3JywgJ2V3JywgJ253c2UnXSxcbiAgICAgIGNvbnRyb2xzID0ge30sXG4gICAgICBMRUZUID0gJ2xlZnQnLCBUT1AgPSAndG9wJywgUklHSFQgPSAncmlnaHQnLCBCT1RUT00gPSAnYm90dG9tJywgQ0VOVEVSID0gJ2NlbnRlcicsXG4gICAgICBvcHBvc2l0ZSA9IHtcbiAgICAgICAgdG9wOiBCT1RUT00sXG4gICAgICAgIGJvdHRvbTogVE9QLFxuICAgICAgICBsZWZ0OiBSSUdIVCxcbiAgICAgICAgcmlnaHQ6IExFRlQsXG4gICAgICAgIGNlbnRlcjogQ0VOVEVSLFxuICAgICAgfSwgcmFkaWFuc1RvRGVncmVlcyA9IGZhYnJpYy51dGlsLnJhZGlhbnNUb0RlZ3JlZXMsXG4gICAgICBzaWduID0gKE1hdGguc2lnbiB8fCBmdW5jdGlvbih4KSB7IHJldHVybiAoKHggPiAwKSAtICh4IDwgMCkpIHx8ICt4OyB9KTtcblxuICAvKipcbiAgICogQ29tYmluZSBjb250cm9sIHBvc2l0aW9uIGFuZCBvYmplY3QgYW5nbGUgdG8gZmluZCB0aGUgY29udHJvbCBkaXJlY3Rpb24gY29tcGFyZWRcbiAgICogdG8gdGhlIG9iamVjdCBjZW50ZXIuXG4gICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gZmFicmljT2JqZWN0IHRoZSBmYWJyaWMgb2JqZWN0IGZvciB3aGljaCB3ZSBhcmUgcmVuZGVyaW5nIGNvbnRyb2xzXG4gICAqIEBwYXJhbSB7ZmFicmljLkNvbnRyb2x9IGNvbnRyb2wgdGhlIGNvbnRyb2wgY2xhc3NcbiAgICogQHJldHVybiB7TnVtYmVyfSAwIC0gNyBhIHF1YWRyYW50IG51bWJlclxuICAgKi9cbiAgZnVuY3Rpb24gZmluZENvcm5lclF1YWRyYW50KGZhYnJpY09iamVjdCwgY29udHJvbCkge1xuICAgIHZhciBjb3JuZXJBbmdsZSA9IGZhYnJpY09iamVjdC5hbmdsZSArIHJhZGlhbnNUb0RlZ3JlZXMoTWF0aC5hdGFuMihjb250cm9sLnksIGNvbnRyb2wueCkpICsgMzYwO1xuICAgIHJldHVybiBNYXRoLnJvdW5kKChjb3JuZXJBbmdsZSAlIDM2MCkgLyA0NSk7XG4gIH1cblxuICBmdW5jdGlvbiBmaXJlRXZlbnQoZXZlbnROYW1lLCBvcHRpb25zKSB7XG4gICAgdmFyIHRhcmdldCA9IG9wdGlvbnMudHJhbnNmb3JtLnRhcmdldCxcbiAgICAgICAgY2FudmFzID0gdGFyZ2V0LmNhbnZhcyxcbiAgICAgICAgY2FudmFzT3B0aW9ucyA9IGZhYnJpYy51dGlsLm9iamVjdC5jbG9uZShvcHRpb25zKTtcbiAgICBjYW52YXNPcHRpb25zLnRhcmdldCA9IHRhcmdldDtcbiAgICBjYW52YXMgJiYgY2FudmFzLmZpcmUoJ29iamVjdDonICsgZXZlbnROYW1lLCBjYW52YXNPcHRpb25zKTtcbiAgICB0YXJnZXQuZmlyZShldmVudE5hbWUsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluc3BlY3QgZXZlbnQgYW5kIGZhYnJpY09iamVjdCBwcm9wZXJ0aWVzIHRvIHVuZGVyc3RhbmQgaWYgdGhlIHNjYWxpbmcgYWN0aW9uXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50RGF0YSBmcm9tIHRoZSB1c2VyIGFjdGlvblxuICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IGZhYnJpY09iamVjdCB0aGUgZmFicmljIG9iamVjdCBhYm91dCB0byBzY2FsZVxuICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIHNjYWxlIGlzIHByb3BvcnRpb25hbFxuICAgKi9cbiAgZnVuY3Rpb24gc2NhbGVJc1Byb3BvcnRpb25hbChldmVudERhdGEsIGZhYnJpY09iamVjdCkge1xuICAgIHZhciBjYW52YXMgPSBmYWJyaWNPYmplY3QuY2FudmFzLCB1bmlTY2FsZUtleSA9IGNhbnZhcy51bmlTY2FsZUtleSxcbiAgICAgICAgdW5pZm9ybUlzVG9nZ2xlZCA9IGV2ZW50RGF0YVt1bmlTY2FsZUtleV07XG4gICAgcmV0dXJuIChjYW52YXMudW5pZm9ybVNjYWxpbmcgJiYgIXVuaWZvcm1Jc1RvZ2dsZWQpIHx8XG4gICAgKCFjYW52YXMudW5pZm9ybVNjYWxpbmcgJiYgdW5pZm9ybUlzVG9nZ2xlZCk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRyYW5zZm9ybSBpcyBjZW50ZXJlZFxuICAgKiBAcGFyYW0ge09iamVjdH0gdHJhbnNmb3JtIHRyYW5zZm9ybSBkYXRhXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgdHJhbnNmb3JtIGlzIGNlbnRlcmVkXG4gICAqL1xuICBmdW5jdGlvbiBpc1RyYW5zZm9ybUNlbnRlcmVkKHRyYW5zZm9ybSkge1xuICAgIHJldHVybiB0cmFuc2Zvcm0ub3JpZ2luWCA9PT0gQ0VOVEVSICYmIHRyYW5zZm9ybS5vcmlnaW5ZID09PSBDRU5URVI7XG4gIH1cblxuICAvKipcbiAgICogSW5zcGVjdCBmYWJyaWNPYmplY3QgdG8gdW5kZXJzdGFuZCBpZiB0aGUgY3VycmVudCBzY2FsaW5nIGFjdGlvbiBpcyBhbGxvd2VkXG4gICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gZmFicmljT2JqZWN0IHRoZSBmYWJyaWMgb2JqZWN0IGFib3V0IHRvIHNjYWxlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBieSAneCcgb3IgJ3knIG9yICcnXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gc2NhbGVQcm9wb3J0aW9uYWxseSB0cnVlIGlmIHdlIGFyZSB0cnlpbmcgdG8gc2NhbGUgcHJvcG9ydGlvbmFsbHlcbiAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBzY2FsaW5nIGlzIG5vdCBhbGxvd2VkIGF0IGN1cnJlbnQgY29uZGl0aW9uc1xuICAgKi9cbiAgZnVuY3Rpb24gc2NhbGluZ0lzRm9yYmlkZGVuKGZhYnJpY09iamVjdCwgYnksIHNjYWxlUHJvcG9ydGlvbmFsbHkpIHtcbiAgICB2YXIgbG9ja1ggPSBmYWJyaWNPYmplY3QubG9ja1NjYWxpbmdYLCBsb2NrWSA9IGZhYnJpY09iamVjdC5sb2NrU2NhbGluZ1k7XG4gICAgaWYgKGxvY2tYICYmIGxvY2tZKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFieSAmJiAobG9ja1ggfHwgbG9ja1kpICYmIHNjYWxlUHJvcG9ydGlvbmFsbHkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAobG9ja1ggJiYgYnkgPT09ICd4Jykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChsb2NrWSAmJiBieSA9PT0gJ3knKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIHJldHVybiB0aGUgY29ycmVjdCBjdXJzb3Igc3R5bGUgZm9yIHRoZSBzY2FsZSBhY3Rpb25cbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnREYXRhIHRoZSBqYXZhc2NyaXB0IGV2ZW50IHRoYXQgaXMgY2F1c2luZyB0aGUgc2NhbGVcbiAgICogQHBhcmFtIHtmYWJyaWMuQ29udHJvbH0gY29udHJvbCB0aGUgY29udHJvbCB0aGF0IGlzIGludGVyZXN0ZWQgaW4gdGhlIGFjdGlvblxuICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IGZhYnJpY09iamVjdCB0aGUgZmFicmljIG9iamVjdCB0aGF0IGlzIGludGVyZXN0ZWQgaW4gdGhlIGFjdGlvblxuICAgKiBAcmV0dXJuIHtTdHJpbmd9IGEgdmFsaWQgY3NzIHN0cmluZyBmb3IgdGhlIGN1cnNvclxuICAgKi9cbiAgZnVuY3Rpb24gc2NhbGVDdXJzb3JTdHlsZUhhbmRsZXIoZXZlbnREYXRhLCBjb250cm9sLCBmYWJyaWNPYmplY3QpIHtcbiAgICB2YXIgbm90QWxsb3dlZCA9ICdub3QtYWxsb3dlZCcsXG4gICAgICAgIHNjYWxlUHJvcG9ydGlvbmFsbHkgPSBzY2FsZUlzUHJvcG9ydGlvbmFsKGV2ZW50RGF0YSwgZmFicmljT2JqZWN0KSxcbiAgICAgICAgYnkgPSAnJztcbiAgICBpZiAoY29udHJvbC54ICE9PSAwICYmIGNvbnRyb2wueSA9PT0gMCkge1xuICAgICAgYnkgPSAneCc7XG4gICAgfVxuICAgIGVsc2UgaWYgKGNvbnRyb2wueCA9PT0gMCAmJiBjb250cm9sLnkgIT09IDApIHtcbiAgICAgIGJ5ID0gJ3knO1xuICAgIH1cbiAgICBpZiAoc2NhbGluZ0lzRm9yYmlkZGVuKGZhYnJpY09iamVjdCwgYnksIHNjYWxlUHJvcG9ydGlvbmFsbHkpKSB7XG4gICAgICByZXR1cm4gbm90QWxsb3dlZDtcbiAgICB9XG4gICAgdmFyIG4gPSBmaW5kQ29ybmVyUXVhZHJhbnQoZmFicmljT2JqZWN0LCBjb250cm9sKTtcbiAgICByZXR1cm4gc2NhbGVNYXBbbl0gKyAnLXJlc2l6ZSc7XG4gIH1cblxuICAvKipcbiAgICogcmV0dXJuIHRoZSBjb3JyZWN0IGN1cnNvciBzdHlsZSBmb3IgdGhlIHNrZXcgYWN0aW9uXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50RGF0YSB0aGUgamF2YXNjcmlwdCBldmVudCB0aGF0IGlzIGNhdXNpbmcgdGhlIHNjYWxlXG4gICAqIEBwYXJhbSB7ZmFicmljLkNvbnRyb2x9IGNvbnRyb2wgdGhlIGNvbnRyb2wgdGhhdCBpcyBpbnRlcmVzdGVkIGluIHRoZSBhY3Rpb25cbiAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBmYWJyaWNPYmplY3QgdGhlIGZhYnJpYyBvYmplY3QgdGhhdCBpcyBpbnRlcmVzdGVkIGluIHRoZSBhY3Rpb25cbiAgICogQHJldHVybiB7U3RyaW5nfSBhIHZhbGlkIGNzcyBzdHJpbmcgZm9yIHRoZSBjdXJzb3JcbiAgICovXG4gIGZ1bmN0aW9uIHNrZXdDdXJzb3JTdHlsZUhhbmRsZXIoZXZlbnREYXRhLCBjb250cm9sLCBmYWJyaWNPYmplY3QpIHtcbiAgICB2YXIgbm90QWxsb3dlZCA9ICdub3QtYWxsb3dlZCc7XG4gICAgaWYgKGNvbnRyb2wueCAhPT0gMCAmJiBmYWJyaWNPYmplY3QubG9ja1NrZXdpbmdZKSB7XG4gICAgICByZXR1cm4gbm90QWxsb3dlZDtcbiAgICB9XG4gICAgaWYgKGNvbnRyb2wueSAhPT0gMCAmJiBmYWJyaWNPYmplY3QubG9ja1NrZXdpbmdYKSB7XG4gICAgICByZXR1cm4gbm90QWxsb3dlZDtcbiAgICB9XG4gICAgdmFyIG4gPSBmaW5kQ29ybmVyUXVhZHJhbnQoZmFicmljT2JqZWN0LCBjb250cm9sKSAlIDQ7XG4gICAgcmV0dXJuIHNrZXdNYXBbbl0gKyAnLXJlc2l6ZSc7XG4gIH1cblxuICAvKipcbiAgICogQ29tYmluZSBza2V3IGFuZCBzY2FsZSBzdHlsZSBoYW5kbGVycyB0byBjb3ZlciBmYWJyaWMgc3RhbmRhcmQgdXNlIGNhc2VcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnREYXRhIHRoZSBqYXZhc2NyaXB0IGV2ZW50IHRoYXQgaXMgY2F1c2luZyB0aGUgc2NhbGVcbiAgICogQHBhcmFtIHtmYWJyaWMuQ29udHJvbH0gY29udHJvbCB0aGUgY29udHJvbCB0aGF0IGlzIGludGVyZXN0ZWQgaW4gdGhlIGFjdGlvblxuICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IGZhYnJpY09iamVjdCB0aGUgZmFicmljIG9iamVjdCB0aGF0IGlzIGludGVyZXN0ZWQgaW4gdGhlIGFjdGlvblxuICAgKiBAcmV0dXJuIHtTdHJpbmd9IGEgdmFsaWQgY3NzIHN0cmluZyBmb3IgdGhlIGN1cnNvclxuICAgKi9cbiAgZnVuY3Rpb24gc2NhbGVTa2V3Q3Vyc29yU3R5bGVIYW5kbGVyKGV2ZW50RGF0YSwgY29udHJvbCwgZmFicmljT2JqZWN0KSB7XG4gICAgaWYgKGV2ZW50RGF0YVtmYWJyaWNPYmplY3QuY2FudmFzLmFsdEFjdGlvbktleV0pIHtcbiAgICAgIHJldHVybiBjb250cm9scy5za2V3Q3Vyc29yU3R5bGVIYW5kbGVyKGV2ZW50RGF0YSwgY29udHJvbCwgZmFicmljT2JqZWN0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRyb2xzLnNjYWxlQ3Vyc29yU3R5bGVIYW5kbGVyKGV2ZW50RGF0YSwgY29udHJvbCwgZmFicmljT2JqZWN0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnNwZWN0IGV2ZW50LCBjb250cm9sIGFuZCBmYWJyaWNPYmplY3QgdG8gcmV0dXJuIHRoZSBjb3JyZWN0IGFjdGlvbiBuYW1lXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50RGF0YSB0aGUgamF2YXNjcmlwdCBldmVudCB0aGF0IGlzIGNhdXNpbmcgdGhlIHNjYWxlXG4gICAqIEBwYXJhbSB7ZmFicmljLkNvbnRyb2x9IGNvbnRyb2wgdGhlIGNvbnRyb2wgdGhhdCBpcyBpbnRlcmVzdGVkIGluIHRoZSBhY3Rpb25cbiAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBmYWJyaWNPYmplY3QgdGhlIGZhYnJpYyBvYmplY3QgdGhhdCBpcyBpbnRlcmVzdGVkIGluIHRoZSBhY3Rpb25cbiAgICogQHJldHVybiB7U3RyaW5nfSBhbiBhY3Rpb24gbmFtZVxuICAgKi9cbiAgZnVuY3Rpb24gc2NhbGVPclNrZXdBY3Rpb25OYW1lKGV2ZW50RGF0YSwgY29udHJvbCwgZmFicmljT2JqZWN0KSB7XG4gICAgdmFyIGlzQWx0ZXJuYXRpdmUgPSBldmVudERhdGFbZmFicmljT2JqZWN0LmNhbnZhcy5hbHRBY3Rpb25LZXldO1xuICAgIGlmIChjb250cm9sLnggPT09IDApIHtcbiAgICAgIC8vIHRoZW4gaXMgc2NhbGVZIG9yIHNrZXdYXG4gICAgICByZXR1cm4gaXNBbHRlcm5hdGl2ZSA/ICdza2V3WCcgOiAnc2NhbGVZJztcbiAgICB9XG4gICAgaWYgKGNvbnRyb2wueSA9PT0gMCkge1xuICAgICAgLy8gdGhlbiBpcyBzY2FsZVkgb3Igc2tld1hcbiAgICAgIHJldHVybiBpc0FsdGVybmF0aXZlID8gJ3NrZXdZJyA6ICdzY2FsZVgnO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5kIHRoZSBjb3JyZWN0IHN0eWxlIGZvciB0aGUgY29udHJvbCB0aGF0IGlzIHVzZWQgZm9yIHJvdGF0aW9uLlxuICAgKiB0aGlzIGZ1bmN0aW9uIGlzIHZlcnkgc2ltcGxlIGFuZCBpdCBqdXN0IHRha2UgY2FyZSBvZiBub3QtYWxsb3dlZCBvciBzdGFuZGFyZCBjdXJzb3JcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnREYXRhIHRoZSBqYXZhc2NyaXB0IGV2ZW50IHRoYXQgaXMgY2F1c2luZyB0aGUgc2NhbGVcbiAgICogQHBhcmFtIHtmYWJyaWMuQ29udHJvbH0gY29udHJvbCB0aGUgY29udHJvbCB0aGF0IGlzIGludGVyZXN0ZWQgaW4gdGhlIGFjdGlvblxuICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IGZhYnJpY09iamVjdCB0aGUgZmFicmljIG9iamVjdCB0aGF0IGlzIGludGVyZXN0ZWQgaW4gdGhlIGFjdGlvblxuICAgKiBAcmV0dXJuIHtTdHJpbmd9IGEgdmFsaWQgY3NzIHN0cmluZyBmb3IgdGhlIGN1cnNvclxuICAgKi9cbiAgZnVuY3Rpb24gcm90YXRpb25TdHlsZUhhbmRsZXIoZXZlbnREYXRhLCBjb250cm9sLCBmYWJyaWNPYmplY3QpIHtcbiAgICBpZiAoZmFicmljT2JqZWN0LmxvY2tSb3RhdGlvbikge1xuICAgICAgcmV0dXJuICdub3QtYWxsb3dlZCc7XG4gICAgfVxuICAgIHJldHVybiBjb250cm9sLmN1cnNvclN0eWxlO1xuICB9XG5cbiAgZnVuY3Rpb24gY29tbW9uRXZlbnRJbmZvKGV2ZW50RGF0YSwgdHJhbnNmb3JtLCB4LCB5KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGU6IGV2ZW50RGF0YSxcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNmb3JtLFxuICAgICAgcG9pbnRlcjoge1xuICAgICAgICB4OiB4LFxuICAgICAgICB5OiB5LFxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogV3JhcCBhbiBhY3Rpb24gaGFuZGxlciB3aXRoIHNhdmluZy9yZXN0b3Jpbmcgb2JqZWN0IHBvc2l0aW9uIG9uIHRoZSB0cmFuc2Zvcm0uXG4gICAqIHRoaXMgaXMgdGhlIGNvZGUgdGhhdCBwZXJtaXRzIHRvIG9iamVjdHMgdG8ga2VlcCB0aGVpciBwb3NpdGlvbiB3aGlsZSB0cmFuc2Zvcm1pbmcuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGFjdGlvbkhhbmRsZXIgdGhlIGZ1bmN0aW9uIHRvIHdyYXBcbiAgICogQHJldHVybiB7RnVuY3Rpb259IGEgZnVuY3Rpb24gd2l0aCBhbiBhY3Rpb24gaGFuZGxlciBzaWduYXR1cmVcbiAgICovXG4gIGZ1bmN0aW9uIHdyYXBXaXRoRml4ZWRBbmNob3IoYWN0aW9uSGFuZGxlcikge1xuICAgIHJldHVybiBmdW5jdGlvbihldmVudERhdGEsIHRyYW5zZm9ybSwgeCwgeSkge1xuICAgICAgdmFyIHRhcmdldCA9IHRyYW5zZm9ybS50YXJnZXQsIGNlbnRlclBvaW50ID0gdGFyZ2V0LmdldENlbnRlclBvaW50KCksXG4gICAgICAgICAgY29uc3RyYWludCA9IHRhcmdldC50cmFuc2xhdGVUb09yaWdpblBvaW50KGNlbnRlclBvaW50LCB0cmFuc2Zvcm0ub3JpZ2luWCwgdHJhbnNmb3JtLm9yaWdpblkpLFxuICAgICAgICAgIGFjdGlvblBlcmZvcm1lZCA9IGFjdGlvbkhhbmRsZXIoZXZlbnREYXRhLCB0cmFuc2Zvcm0sIHgsIHkpO1xuICAgICAgdGFyZ2V0LnNldFBvc2l0aW9uQnlPcmlnaW4oY29uc3RyYWludCwgdHJhbnNmb3JtLm9yaWdpblgsIHRyYW5zZm9ybS5vcmlnaW5ZKTtcbiAgICAgIHJldHVybiBhY3Rpb25QZXJmb3JtZWQ7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXcmFwIGFuIGFjdGlvbiBoYW5kbGVyIHdpdGggZmlyaW5nIGFuIGV2ZW50IGlmIHRoZSBhY3Rpb24gaXMgcGVyZm9ybWVkXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGFjdGlvbkhhbmRsZXIgdGhlIGZ1bmN0aW9uIHRvIHdyYXBcbiAgICogQHJldHVybiB7RnVuY3Rpb259IGEgZnVuY3Rpb24gd2l0aCBhbiBhY3Rpb24gaGFuZGxlciBzaWduYXR1cmVcbiAgICovXG4gIGZ1bmN0aW9uIHdyYXBXaXRoRmlyZUV2ZW50KGV2ZW50TmFtZSwgYWN0aW9uSGFuZGxlcikge1xuICAgIHJldHVybiBmdW5jdGlvbihldmVudERhdGEsIHRyYW5zZm9ybSwgeCwgeSkge1xuICAgICAgdmFyIGFjdGlvblBlcmZvcm1lZCA9IGFjdGlvbkhhbmRsZXIoZXZlbnREYXRhLCB0cmFuc2Zvcm0sIHgsIHkpO1xuICAgICAgaWYgKGFjdGlvblBlcmZvcm1lZCkge1xuICAgICAgICBmaXJlRXZlbnQoZXZlbnROYW1lLCBjb21tb25FdmVudEluZm8oZXZlbnREYXRhLCB0cmFuc2Zvcm0sIHgsIHkpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhY3Rpb25QZXJmb3JtZWQ7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUcmFuc2Zvcm1zIGEgcG9pbnQgZGVzY3JpYmVkIGJ5IHggYW5kIHkgaW4gYSBkaXN0YW5jZSBmcm9tIHRoZSB0b3AgbGVmdCBjb3JuZXIgb2YgdGhlIG9iamVjdFxuICAgKiBib3VuZGluZyBib3guXG4gICAqIEBwYXJhbSB7T2JqZWN0fSB0cmFuc2Zvcm1cbiAgICogQHBhcmFtIHtTdHJpbmd9IG9yaWdpblhcbiAgICogQHBhcmFtIHtTdHJpbmd9IG9yaWdpbllcbiAgICogQHBhcmFtIHtudW1iZXJ9IHhcbiAgICogQHBhcmFtIHtudW1iZXJ9IHlcbiAgICogQHJldHVybiB7RmFicmljLlBvaW50fSB0aGUgbm9ybWFsaXplZCBwb2ludFxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0TG9jYWxQb2ludCh0cmFuc2Zvcm0sIG9yaWdpblgsIG9yaWdpblksIHgsIHkpIHtcbiAgICB2YXIgdGFyZ2V0ID0gdHJhbnNmb3JtLnRhcmdldCxcbiAgICAgICAgY29udHJvbCA9IHRhcmdldC5jb250cm9sc1t0cmFuc2Zvcm0uY29ybmVyXSxcbiAgICAgICAgem9vbSA9IHRhcmdldC5jYW52YXMuZ2V0Wm9vbSgpLFxuICAgICAgICBwYWRkaW5nID0gdGFyZ2V0LnBhZGRpbmcgLyB6b29tLFxuICAgICAgICBsb2NhbFBvaW50ID0gdGFyZ2V0LnRvTG9jYWxQb2ludChuZXcgZmFicmljLlBvaW50KHgsIHkpLCBvcmlnaW5YLCBvcmlnaW5ZKTtcbiAgICBpZiAobG9jYWxQb2ludC54ID49IHBhZGRpbmcpIHtcbiAgICAgIGxvY2FsUG9pbnQueCAtPSBwYWRkaW5nO1xuICAgIH1cbiAgICBpZiAobG9jYWxQb2ludC54IDw9IC1wYWRkaW5nKSB7XG4gICAgICBsb2NhbFBvaW50LnggKz0gcGFkZGluZztcbiAgICB9XG4gICAgaWYgKGxvY2FsUG9pbnQueSA+PSBwYWRkaW5nKSB7XG4gICAgICBsb2NhbFBvaW50LnkgLT0gcGFkZGluZztcbiAgICB9XG4gICAgaWYgKGxvY2FsUG9pbnQueSA8PSBwYWRkaW5nKSB7XG4gICAgICBsb2NhbFBvaW50LnkgKz0gcGFkZGluZztcbiAgICB9XG4gICAgbG9jYWxQb2ludC54IC09IGNvbnRyb2wub2Zmc2V0WDtcbiAgICBsb2NhbFBvaW50LnkgLT0gY29udHJvbC5vZmZzZXRZO1xuICAgIHJldHVybiBsb2NhbFBvaW50O1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVjdCBpZiB0aGUgZmFicmljIG9iamVjdCBpcyBmbGlwcGVkIG9uIG9uZSBzaWRlLlxuICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IHRhcmdldFxuICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIG9uZSBmbGlwLCBidXQgbm90IHR3by5cbiAgICovXG4gIGZ1bmN0aW9uIHRhcmdldEhhc09uZUZsaXAodGFyZ2V0KSB7XG4gICAgcmV0dXJuIHRhcmdldC5mbGlwWCAhPT0gdGFyZ2V0LmZsaXBZO1xuICB9XG5cbiAgLyoqXG4gICAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gY29tcGVuc2F0ZSB0aGUgc2NhbGUgZmFjdG9yIHdoZW4gc2tldyBpcyBhcHBsaWVkIG9uIGJvdGggYXhlc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gY29tcGVuc2F0ZVNjYWxlRm9yU2tldyh0YXJnZXQsIG9wcG9zaXRlU2tldywgc2NhbGVUb0NvbXBlbnNhdGUsIGF4aXMsIHJlZmVyZW5jZSkge1xuICAgIGlmICh0YXJnZXRbb3Bwb3NpdGVTa2V3XSAhPT0gMCkge1xuICAgICAgdmFyIG5ld0RpbSA9IHRhcmdldC5fZ2V0VHJhbnNmb3JtZWREaW1lbnNpb25zKClbYXhpc107XG4gICAgICB2YXIgbmV3VmFsdWUgPSByZWZlcmVuY2UgLyBuZXdEaW0gKiB0YXJnZXRbc2NhbGVUb0NvbXBlbnNhdGVdO1xuICAgICAgdGFyZ2V0LnNldChzY2FsZVRvQ29tcGVuc2F0ZSwgbmV3VmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBY3Rpb24gaGFuZGxlciBmb3Igc2tld2luZyBvbiB0aGUgWCBheGlzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBmdW5jdGlvbiBza2V3T2JqZWN0WChldmVudERhdGEsIHRyYW5zZm9ybSwgeCwgeSkge1xuICAgIHZhciB0YXJnZXQgPSB0cmFuc2Zvcm0udGFyZ2V0LFxuICAgICAgICAvLyBmaW5kIGhvdyBiaWcgdGhlIG9iamVjdCB3b3VsZCBiZSwgaWYgdGhlcmUgd2FzIG5vIHNrZXdYLiB0YWtlcyBpbiBhY2NvdW50IHNjYWxpbmdcbiAgICAgICAgZGltTm9Ta2V3ID0gdGFyZ2V0Ll9nZXRUcmFuc2Zvcm1lZERpbWVuc2lvbnMoMCwgdGFyZ2V0LnNrZXdZKSxcbiAgICAgICAgbG9jYWxQb2ludCA9IGdldExvY2FsUG9pbnQodHJhbnNmb3JtLCB0cmFuc2Zvcm0ub3JpZ2luWCwgdHJhbnNmb3JtLm9yaWdpblksIHgsIHkpLFxuICAgICAgICAvLyB0aGUgbW91c2UgaXMgaW4gdGhlIGNlbnRlciBvZiB0aGUgb2JqZWN0LCBhbmQgd2Ugd2FudCBpdCB0byBzdGF5IHRoZXJlLlxuICAgICAgICAvLyBzbyB0aGUgb2JqZWN0IHdpbGwgZ3JvdyB0d2ljZSBhcyBtdWNoIGFzIHRoZSBtb3VzZS5cbiAgICAgICAgLy8gdGhpcyBtYWtlcyB0aGUgc2tldyBncm93dGggdG8gbG9jYWxQb2ludCAqIDIgLSBkaW1Ob1NrZXcuXG4gICAgICAgIHRvdGFsU2tld1NpemUgPSBNYXRoLmFicyhsb2NhbFBvaW50LnggKiAyKSAtIGRpbU5vU2tldy54LFxuICAgICAgICBjdXJyZW50U2tldyA9IHRhcmdldC5za2V3WCwgbmV3U2tldztcbiAgICBpZiAodG90YWxTa2V3U2l6ZSA8IDIpIHtcbiAgICAgIC8vIGxldCdzIG1ha2UgaXQgZWFzeSB0byBnbyBiYWNrIHRvIHBvc2l0aW9uIDAuXG4gICAgICBuZXdTa2V3ID0gMDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBuZXdTa2V3ID0gcmFkaWFuc1RvRGVncmVlcyhcbiAgICAgICAgTWF0aC5hdGFuMigodG90YWxTa2V3U2l6ZSAvIHRhcmdldC5zY2FsZVgpLCAoZGltTm9Ta2V3LnkgLyB0YXJnZXQuc2NhbGVZKSlcbiAgICAgICk7XG4gICAgICAvLyBub3cgd2UgaGF2ZSB0byBmaW5kIHRoZSBzaWduIG9mIHRoZSBza2V3LlxuICAgICAgLy8gaXQgbW9zdGx5IGRlcGVuZCBvbiB0aGUgb3JpZ2luIG9mIHRyYW5zZm9ybWF0aW9uLlxuICAgICAgaWYgKHRyYW5zZm9ybS5vcmlnaW5YID09PSBMRUZUICYmIHRyYW5zZm9ybS5vcmlnaW5ZID09PSBCT1RUT00pIHtcbiAgICAgICAgbmV3U2tldyA9IC1uZXdTa2V3O1xuICAgICAgfVxuICAgICAgaWYgKHRyYW5zZm9ybS5vcmlnaW5YID09PSBSSUdIVCAmJiB0cmFuc2Zvcm0ub3JpZ2luWSA9PT0gVE9QKSB7XG4gICAgICAgIG5ld1NrZXcgPSAtbmV3U2tldztcbiAgICAgIH1cbiAgICAgIGlmICh0YXJnZXRIYXNPbmVGbGlwKHRhcmdldCkpIHtcbiAgICAgICAgbmV3U2tldyA9IC1uZXdTa2V3O1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgaGFzU2tld2VkID0gY3VycmVudFNrZXcgIT09IG5ld1NrZXc7XG4gICAgaWYgKGhhc1NrZXdlZCkge1xuICAgICAgdmFyIGRpbUJlZm9yZVNrZXdpbmcgPSB0YXJnZXQuX2dldFRyYW5zZm9ybWVkRGltZW5zaW9ucygpLnk7XG4gICAgICB0YXJnZXQuc2V0KCdza2V3WCcsIG5ld1NrZXcpO1xuICAgICAgY29tcGVuc2F0ZVNjYWxlRm9yU2tldyh0YXJnZXQsICdza2V3WScsICdzY2FsZVknLCAneScsIGRpbUJlZm9yZVNrZXdpbmcpO1xuICAgIH1cbiAgICByZXR1cm4gaGFzU2tld2VkO1xuICB9XG5cbiAgLyoqXG4gICAqIEFjdGlvbiBoYW5kbGVyIGZvciBza2V3aW5nIG9uIHRoZSBZIGF4aXNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGZ1bmN0aW9uIHNrZXdPYmplY3RZKGV2ZW50RGF0YSwgdHJhbnNmb3JtLCB4LCB5KSB7XG4gICAgdmFyIHRhcmdldCA9IHRyYW5zZm9ybS50YXJnZXQsXG4gICAgICAgIC8vIGZpbmQgaG93IGJpZyB0aGUgb2JqZWN0IHdvdWxkIGJlLCBpZiB0aGVyZSB3YXMgbm8gc2tld1guIHRha2VzIGluIGFjY291bnQgc2NhbGluZ1xuICAgICAgICBkaW1Ob1NrZXcgPSB0YXJnZXQuX2dldFRyYW5zZm9ybWVkRGltZW5zaW9ucyh0YXJnZXQuc2tld1gsIDApLFxuICAgICAgICBsb2NhbFBvaW50ID0gZ2V0TG9jYWxQb2ludCh0cmFuc2Zvcm0sIHRyYW5zZm9ybS5vcmlnaW5YLCB0cmFuc2Zvcm0ub3JpZ2luWSwgeCwgeSksXG4gICAgICAgIC8vIHRoZSBtb3VzZSBpcyBpbiB0aGUgY2VudGVyIG9mIHRoZSBvYmplY3QsIGFuZCB3ZSB3YW50IGl0IHRvIHN0YXkgdGhlcmUuXG4gICAgICAgIC8vIHNvIHRoZSBvYmplY3Qgd2lsbCBncm93IHR3aWNlIGFzIG11Y2ggYXMgdGhlIG1vdXNlLlxuICAgICAgICAvLyB0aGlzIG1ha2VzIHRoZSBza2V3IGdyb3d0aCB0byBsb2NhbFBvaW50ICogMiAtIGRpbU5vU2tldy5cbiAgICAgICAgdG90YWxTa2V3U2l6ZSA9IE1hdGguYWJzKGxvY2FsUG9pbnQueSAqIDIpIC0gZGltTm9Ta2V3LnksXG4gICAgICAgIGN1cnJlbnRTa2V3ID0gdGFyZ2V0LnNrZXdZLCBuZXdTa2V3O1xuICAgIGlmICh0b3RhbFNrZXdTaXplIDwgMikge1xuICAgICAgLy8gbGV0J3MgbWFrZSBpdCBlYXN5IHRvIGdvIGJhY2sgdG8gcG9zaXRpb24gMC5cbiAgICAgIG5ld1NrZXcgPSAwO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIG5ld1NrZXcgPSByYWRpYW5zVG9EZWdyZWVzKFxuICAgICAgICBNYXRoLmF0YW4yKCh0b3RhbFNrZXdTaXplIC8gdGFyZ2V0LnNjYWxlWSksIChkaW1Ob1NrZXcueCAvIHRhcmdldC5zY2FsZVgpKVxuICAgICAgKTtcbiAgICAgIC8vIG5vdyB3ZSBoYXZlIHRvIGZpbmQgdGhlIHNpZ24gb2YgdGhlIHNrZXcuXG4gICAgICAvLyBpdCBtb3N0bHkgZGVwZW5kIG9uIHRoZSBvcmlnaW4gb2YgdHJhbnNmb3JtYXRpb24uXG4gICAgICBpZiAodHJhbnNmb3JtLm9yaWdpblggPT09IExFRlQgJiYgdHJhbnNmb3JtLm9yaWdpblkgPT09IEJPVFRPTSkge1xuICAgICAgICBuZXdTa2V3ID0gLW5ld1NrZXc7XG4gICAgICB9XG4gICAgICBpZiAodHJhbnNmb3JtLm9yaWdpblggPT09IFJJR0hUICYmIHRyYW5zZm9ybS5vcmlnaW5ZID09PSBUT1ApIHtcbiAgICAgICAgbmV3U2tldyA9IC1uZXdTa2V3O1xuICAgICAgfVxuICAgICAgaWYgKHRhcmdldEhhc09uZUZsaXAodGFyZ2V0KSkge1xuICAgICAgICBuZXdTa2V3ID0gLW5ld1NrZXc7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBoYXNTa2V3ZWQgPSBjdXJyZW50U2tldyAhPT0gbmV3U2tldztcbiAgICBpZiAoaGFzU2tld2VkKSB7XG4gICAgICB2YXIgZGltQmVmb3JlU2tld2luZyA9IHRhcmdldC5fZ2V0VHJhbnNmb3JtZWREaW1lbnNpb25zKCkueDtcbiAgICAgIHRhcmdldC5zZXQoJ3NrZXdZJywgbmV3U2tldyk7XG4gICAgICBjb21wZW5zYXRlU2NhbGVGb3JTa2V3KHRhcmdldCwgJ3NrZXdYJywgJ3NjYWxlWCcsICd4JywgZGltQmVmb3JlU2tld2luZyk7XG4gICAgfVxuICAgIHJldHVybiBoYXNTa2V3ZWQ7XG4gIH1cblxuICAvKipcbiAgICogV3JhcHBlZCBBY3Rpb24gaGFuZGxlciBmb3Igc2tld2luZyBvbiB0aGUgWSBheGlzLCB0YWtlcyBjYXJlIG9mIHRoZVxuICAgKiBza2V3IGRpcmVjdGlvbiBhbmQgZGV0ZXJtaW5lIHRoZSBjb3JyZWN0IHRyYW5zZm9ybSBvcmlnaW4gZm9yIHRoZSBhbmNob3IgcG9pbnRcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnREYXRhIGphdmFzY3JpcHQgZXZlbnQgdGhhdCBpcyBkb2luZyB0aGUgdHJhbnNmb3JtXG4gICAqIEBwYXJhbSB7T2JqZWN0fSB0cmFuc2Zvcm0gamF2YXNjcmlwdCBvYmplY3QgY29udGFpbmluZyBhIHNlcmllcyBvZiBpbmZvcm1hdGlvbiBhcm91bmQgdGhlIGN1cnJlbnQgdHJhbnNmb3JtXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IGN1cnJlbnQgbW91c2UgeCBwb3NpdGlvbiwgY2FudmFzIG5vcm1hbGl6ZWRcbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgY3VycmVudCBtb3VzZSB5IHBvc2l0aW9uLCBjYW52YXMgbm9ybWFsaXplZFxuICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIHNvbWUgY2hhbmdlIGhhcHBlbmVkXG4gICAqL1xuICBmdW5jdGlvbiBza2V3SGFuZGxlclgoZXZlbnREYXRhLCB0cmFuc2Zvcm0sIHgsIHkpIHtcbiAgICAvLyBzdGVwMSBmaWd1cmUgb3V0IGFuZCBjaGFuZ2UgdHJhbnNmb3JtIG9yaWdpbi5cbiAgICAvLyBpZiBza2V3WCA+IDAgYW5kIG9yaWdpblkgYm90dG9tIHdlIGFuY2hvciBvbiByaWdodFxuICAgIC8vIGlmIHNrZXdYID4gMCBhbmQgb3JpZ2luWSB0b3Agd2UgYW5jaG9yIG9uIGxlZnRcbiAgICAvLyBpZiBza2V3WCA8IDAgYW5kIG9yaWdpblkgYm90dG9tIHdlIGFuY2hvciBvbiBsZWZ0XG4gICAgLy8gaWYgc2tld1ggPCAwIGFuZCBvcmlnaW5ZIHRvcCB3ZSBhbmNob3Igb24gcmlnaHRcbiAgICAvLyBpZiBza2V3WCBpcyAwLCB3ZSBsb29rIGZvciBtb3VzZSBwb3NpdGlvbiB0byB1bmRlcnN0YW5kIHdoZXJlIGFyZSB3ZSBnb2luZy5cbiAgICB2YXIgdGFyZ2V0ID0gdHJhbnNmb3JtLnRhcmdldCwgY3VycmVudFNrZXcgPSB0YXJnZXQuc2tld1gsIG9yaWdpblgsIG9yaWdpblkgPSB0cmFuc2Zvcm0ub3JpZ2luWTtcbiAgICBpZiAodGFyZ2V0LmxvY2tTa2V3aW5nWCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoY3VycmVudFNrZXcgPT09IDApIHtcbiAgICAgIHZhciBsb2NhbFBvaW50RnJvbUNlbnRlciA9IGdldExvY2FsUG9pbnQodHJhbnNmb3JtLCBDRU5URVIsIENFTlRFUiwgeCwgeSk7XG4gICAgICBpZiAobG9jYWxQb2ludEZyb21DZW50ZXIueCA+IDApIHtcbiAgICAgICAgLy8gd2UgYXJlIHB1bGxpbmcgcmlnaHQsIGFuY2hvciBsZWZ0O1xuICAgICAgICBvcmlnaW5YID0gTEVGVDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICAvLyB3ZSBhcmUgcHVsbGluZyByaWdodCwgYW5jaG9yIHJpZ2h0XG4gICAgICAgIG9yaWdpblggPSBSSUdIVDtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBpZiAoY3VycmVudFNrZXcgPiAwKSB7XG4gICAgICAgIG9yaWdpblggPSBvcmlnaW5ZID09PSBUT1AgPyBMRUZUIDogUklHSFQ7XG4gICAgICB9XG4gICAgICBpZiAoY3VycmVudFNrZXcgPCAwKSB7XG4gICAgICAgIG9yaWdpblggPSBvcmlnaW5ZID09PSBUT1AgPyBSSUdIVCA6IExFRlQ7XG4gICAgICB9XG4gICAgICAvLyBpcyB0aGUgb2JqZWN0IGZsaXBwZWQgb24gb25lIHNpZGUgb25seT8gc3dhcCB0aGUgb3JpZ2luLlxuICAgICAgaWYgKHRhcmdldEhhc09uZUZsaXAodGFyZ2V0KSkge1xuICAgICAgICBvcmlnaW5YID0gb3JpZ2luWCA9PT0gTEVGVCA/IFJJR0hUIDogTEVGVDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBvbmNlIHdlIGhhdmUgdGhlIG9yaWdpbiwgd2UgZmluZCB0aGUgYW5jaG9yIHBvaW50XG4gICAgdHJhbnNmb3JtLm9yaWdpblggPSBvcmlnaW5YO1xuICAgIHZhciBmaW5hbEhhbmRsZXIgPSB3cmFwV2l0aEZpcmVFdmVudCgnc2tld2luZycsIHdyYXBXaXRoRml4ZWRBbmNob3Ioc2tld09iamVjdFgpKTtcbiAgICByZXR1cm4gZmluYWxIYW5kbGVyKGV2ZW50RGF0YSwgdHJhbnNmb3JtLCB4LCB5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXcmFwcGVkIEFjdGlvbiBoYW5kbGVyIGZvciBza2V3aW5nIG9uIHRoZSBZIGF4aXMsIHRha2VzIGNhcmUgb2YgdGhlXG4gICAqIHNrZXcgZGlyZWN0aW9uIGFuZCBkZXRlcm1pbmUgdGhlIGNvcnJlY3QgdHJhbnNmb3JtIG9yaWdpbiBmb3IgdGhlIGFuY2hvciBwb2ludFxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudERhdGEgamF2YXNjcmlwdCBldmVudCB0aGF0IGlzIGRvaW5nIHRoZSB0cmFuc2Zvcm1cbiAgICogQHBhcmFtIHtPYmplY3R9IHRyYW5zZm9ybSBqYXZhc2NyaXB0IG9iamVjdCBjb250YWluaW5nIGEgc2VyaWVzIG9mIGluZm9ybWF0aW9uIGFyb3VuZCB0aGUgY3VycmVudCB0cmFuc2Zvcm1cbiAgICogQHBhcmFtIHtudW1iZXJ9IHggY3VycmVudCBtb3VzZSB4IHBvc2l0aW9uLCBjYW52YXMgbm9ybWFsaXplZFxuICAgKiBAcGFyYW0ge251bWJlcn0geSBjdXJyZW50IG1vdXNlIHkgcG9zaXRpb24sIGNhbnZhcyBub3JtYWxpemVkXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgc29tZSBjaGFuZ2UgaGFwcGVuZWRcbiAgICovXG4gIGZ1bmN0aW9uIHNrZXdIYW5kbGVyWShldmVudERhdGEsIHRyYW5zZm9ybSwgeCwgeSkge1xuICAgIC8vIHN0ZXAxIGZpZ3VyZSBvdXQgYW5kIGNoYW5nZSB0cmFuc2Zvcm0gb3JpZ2luLlxuICAgIC8vIGlmIHNrZXdZID4gMCBhbmQgb3JpZ2luWCBsZWZ0IHdlIGFuY2hvciBvbiB0b3BcbiAgICAvLyBpZiBza2V3WSA+IDAgYW5kIG9yaWdpblggcmlnaHQgd2UgYW5jaG9yIG9uIGJvdHRvbVxuICAgIC8vIGlmIHNrZXdZIDwgMCBhbmQgb3JpZ2luWCBsZWZ0IHdlIGFuY2hvciBvbiBib3R0b21cbiAgICAvLyBpZiBza2V3WSA8IDAgYW5kIG9yaWdpblggcmlnaHQgd2UgYW5jaG9yIG9uIHRvcFxuICAgIC8vIGlmIHNrZXdZIGlzIDAsIHdlIGxvb2sgZm9yIG1vdXNlIHBvc2l0aW9uIHRvIHVuZGVyc3RhbmQgd2hlcmUgYXJlIHdlIGdvaW5nLlxuICAgIHZhciB0YXJnZXQgPSB0cmFuc2Zvcm0udGFyZ2V0LCBjdXJyZW50U2tldyA9IHRhcmdldC5za2V3WSwgb3JpZ2luWSwgb3JpZ2luWCA9IHRyYW5zZm9ybS5vcmlnaW5YO1xuICAgIGlmICh0YXJnZXQubG9ja1NrZXdpbmdZKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChjdXJyZW50U2tldyA9PT0gMCkge1xuICAgICAgdmFyIGxvY2FsUG9pbnRGcm9tQ2VudGVyID0gZ2V0TG9jYWxQb2ludCh0cmFuc2Zvcm0sIENFTlRFUiwgQ0VOVEVSLCB4LCB5KTtcbiAgICAgIGlmIChsb2NhbFBvaW50RnJvbUNlbnRlci55ID4gMCkge1xuICAgICAgICAvLyB3ZSBhcmUgcHVsbGluZyBkb3duLCBhbmNob3IgdXA7XG4gICAgICAgIG9yaWdpblkgPSBUT1A7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgLy8gd2UgYXJlIHB1bGxpbmcgdXAsIGFuY2hvciBkb3duXG4gICAgICAgIG9yaWdpblkgPSBCT1RUT007XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaWYgKGN1cnJlbnRTa2V3ID4gMCkge1xuICAgICAgICBvcmlnaW5ZID0gb3JpZ2luWCA9PT0gTEVGVCA/IFRPUCA6IEJPVFRPTTtcbiAgICAgIH1cbiAgICAgIGlmIChjdXJyZW50U2tldyA8IDApIHtcbiAgICAgICAgb3JpZ2luWSA9IG9yaWdpblggPT09IExFRlQgPyBCT1RUT00gOiBUT1A7XG4gICAgICB9XG4gICAgICAvLyBpcyB0aGUgb2JqZWN0IGZsaXBwZWQgb24gb25lIHNpZGUgb25seT8gc3dhcCB0aGUgb3JpZ2luLlxuICAgICAgaWYgKHRhcmdldEhhc09uZUZsaXAodGFyZ2V0KSkge1xuICAgICAgICBvcmlnaW5ZID0gb3JpZ2luWSA9PT0gVE9QID8gQk9UVE9NIDogVE9QO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIG9uY2Ugd2UgaGF2ZSB0aGUgb3JpZ2luLCB3ZSBmaW5kIHRoZSBhbmNob3IgcG9pbnRcbiAgICB0cmFuc2Zvcm0ub3JpZ2luWSA9IG9yaWdpblk7XG4gICAgdmFyIGZpbmFsSGFuZGxlciA9IHdyYXBXaXRoRmlyZUV2ZW50KCdza2V3aW5nJywgd3JhcFdpdGhGaXhlZEFuY2hvcihza2V3T2JqZWN0WSkpO1xuICAgIHJldHVybiBmaW5hbEhhbmRsZXIoZXZlbnREYXRhLCB0cmFuc2Zvcm0sIHgsIHkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFjdGlvbiBoYW5kbGVyIGZvciByb3RhdGlvbiBhbmQgc25hcHBpbmcsIHdpdGhvdXQgYW5jaG9yIHBvaW50LlxuICAgKiBOZWVkcyB0byBiZSB3cmFwcGVkIHdpdGggYHdyYXBXaXRoRml4ZWRBbmNob3JgIHRvIGJlIGVmZmVjdGl2ZVxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudERhdGEgamF2YXNjcmlwdCBldmVudCB0aGF0IGlzIGRvaW5nIHRoZSB0cmFuc2Zvcm1cbiAgICogQHBhcmFtIHtPYmplY3R9IHRyYW5zZm9ybSBqYXZhc2NyaXB0IG9iamVjdCBjb250YWluaW5nIGEgc2VyaWVzIG9mIGluZm9ybWF0aW9uIGFyb3VuZCB0aGUgY3VycmVudCB0cmFuc2Zvcm1cbiAgICogQHBhcmFtIHtudW1iZXJ9IHggY3VycmVudCBtb3VzZSB4IHBvc2l0aW9uLCBjYW52YXMgbm9ybWFsaXplZFxuICAgKiBAcGFyYW0ge251bWJlcn0geSBjdXJyZW50IG1vdXNlIHkgcG9zaXRpb24sIGNhbnZhcyBub3JtYWxpemVkXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgc29tZSBjaGFuZ2UgaGFwcGVuZWRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGZ1bmN0aW9uIHJvdGF0aW9uV2l0aFNuYXBwaW5nKGV2ZW50RGF0YSwgdHJhbnNmb3JtLCB4LCB5KSB7XG4gICAgdmFyIHQgPSB0cmFuc2Zvcm0sXG4gICAgICAgIHRhcmdldCA9IHQudGFyZ2V0LFxuICAgICAgICBwaXZvdFBvaW50ID0gdGFyZ2V0LnRyYW5zbGF0ZVRvT3JpZ2luUG9pbnQodGFyZ2V0LmdldENlbnRlclBvaW50KCksIHQub3JpZ2luWCwgdC5vcmlnaW5ZKTtcblxuICAgIGlmICh0YXJnZXQubG9ja1JvdGF0aW9uKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGxhc3RBbmdsZSA9IE1hdGguYXRhbjIodC5leSAtIHBpdm90UG9pbnQueSwgdC5leCAtIHBpdm90UG9pbnQueCksXG4gICAgICAgIGN1ckFuZ2xlID0gTWF0aC5hdGFuMih5IC0gcGl2b3RQb2ludC55LCB4IC0gcGl2b3RQb2ludC54KSxcbiAgICAgICAgYW5nbGUgPSByYWRpYW5zVG9EZWdyZWVzKGN1ckFuZ2xlIC0gbGFzdEFuZ2xlICsgdC50aGV0YSksXG4gICAgICAgIGhhc1JvdGF0ZWQgPSB0cnVlO1xuXG4gICAgaWYgKHRhcmdldC5zbmFwQW5nbGUgPiAwKSB7XG4gICAgICB2YXIgc25hcEFuZ2xlICA9IHRhcmdldC5zbmFwQW5nbGUsXG4gICAgICAgICAgc25hcFRocmVzaG9sZCAgPSB0YXJnZXQuc25hcFRocmVzaG9sZCB8fCBzbmFwQW5nbGUsXG4gICAgICAgICAgcmlnaHRBbmdsZUxvY2tlZCA9IE1hdGguY2VpbChhbmdsZSAvIHNuYXBBbmdsZSkgKiBzbmFwQW5nbGUsXG4gICAgICAgICAgbGVmdEFuZ2xlTG9ja2VkID0gTWF0aC5mbG9vcihhbmdsZSAvIHNuYXBBbmdsZSkgKiBzbmFwQW5nbGU7XG5cbiAgICAgIGlmIChNYXRoLmFicyhhbmdsZSAtIGxlZnRBbmdsZUxvY2tlZCkgPCBzbmFwVGhyZXNob2xkKSB7XG4gICAgICAgIGFuZ2xlID0gbGVmdEFuZ2xlTG9ja2VkO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoTWF0aC5hYnMoYW5nbGUgLSByaWdodEFuZ2xlTG9ja2VkKSA8IHNuYXBUaHJlc2hvbGQpIHtcbiAgICAgICAgYW5nbGUgPSByaWdodEFuZ2xlTG9ja2VkO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIG5vcm1hbGl6ZSBhbmdsZSB0byBwb3NpdGl2ZSB2YWx1ZVxuICAgIGlmIChhbmdsZSA8IDApIHtcbiAgICAgIGFuZ2xlID0gMzYwICsgYW5nbGU7XG4gICAgfVxuICAgIGFuZ2xlICU9IDM2MDtcblxuICAgIGhhc1JvdGF0ZWQgPSB0YXJnZXQuYW5nbGUgIT09IGFuZ2xlO1xuICAgIHRhcmdldC5hbmdsZSA9IGFuZ2xlO1xuICAgIHJldHVybiBoYXNSb3RhdGVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEJhc2ljIHNjYWxpbmcgbG9naWMsIHJldXNlZCB3aXRoIGRpZmZlcmVudCBjb25zdHJhaW4gZm9yIHNjYWxpbmcgWCxZLCBmcmVlbHkgb3IgZXF1YWxseS5cbiAgICogTmVlZHMgdG8gYmUgd3JhcHBlZCB3aXRoIGB3cmFwV2l0aEZpeGVkQW5jaG9yYCB0byBiZSBlZmZlY3RpdmVcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnREYXRhIGphdmFzY3JpcHQgZXZlbnQgdGhhdCBpcyBkb2luZyB0aGUgdHJhbnNmb3JtXG4gICAqIEBwYXJhbSB7T2JqZWN0fSB0cmFuc2Zvcm0gamF2YXNjcmlwdCBvYmplY3QgY29udGFpbmluZyBhIHNlcmllcyBvZiBpbmZvcm1hdGlvbiBhcm91bmQgdGhlIGN1cnJlbnQgdHJhbnNmb3JtXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IGN1cnJlbnQgbW91c2UgeCBwb3NpdGlvbiwgY2FudmFzIG5vcm1hbGl6ZWRcbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgY3VycmVudCBtb3VzZSB5IHBvc2l0aW9uLCBjYW52YXMgbm9ybWFsaXplZFxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGZvciBzY2FsaW5nXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb25zLmJ5ICd4JywgJ3knLCAnZXF1YWxseScgb3IgJycgdG8gaW5kaWNhdGUgdHlwZSBvZiBzY2FsaW5nXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgc29tZSBjaGFuZ2UgaGFwcGVuZWRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGZ1bmN0aW9uIHNjYWxlT2JqZWN0KGV2ZW50RGF0YSwgdHJhbnNmb3JtLCB4LCB5LCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgdmFyIHRhcmdldCA9IHRyYW5zZm9ybS50YXJnZXQsXG4gICAgICAgIGxvY2tTY2FsaW5nWCA9IHRhcmdldC5sb2NrU2NhbGluZ1gsIGxvY2tTY2FsaW5nWSA9IHRhcmdldC5sb2NrU2NhbGluZ1ksXG4gICAgICAgIGJ5ID0gb3B0aW9ucy5ieSwgbmV3UG9pbnQsIHNjYWxlWCwgc2NhbGVZLCBkaW0sXG4gICAgICAgIHNjYWxlUHJvcG9ydGlvbmFsbHkgPSBzY2FsZUlzUHJvcG9ydGlvbmFsKGV2ZW50RGF0YSwgdGFyZ2V0KSxcbiAgICAgICAgZm9yYmlkU2NhbGluZyA9IHNjYWxpbmdJc0ZvcmJpZGRlbih0YXJnZXQsIGJ5LCBzY2FsZVByb3BvcnRpb25hbGx5KSxcbiAgICAgICAgc2lnblgsIHNpZ25ZLCBnZXN0dXJlU2NhbGUgPSB0cmFuc2Zvcm0uZ2VzdHVyZVNjYWxlO1xuXG4gICAgaWYgKGZvcmJpZFNjYWxpbmcpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGdlc3R1cmVTY2FsZSkge1xuICAgICAgc2NhbGVYID0gdHJhbnNmb3JtLnNjYWxlWCAqIGdlc3R1cmVTY2FsZTtcbiAgICAgIHNjYWxlWSA9IHRyYW5zZm9ybS5zY2FsZVkgKiBnZXN0dXJlU2NhbGU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgbmV3UG9pbnQgPSBnZXRMb2NhbFBvaW50KHRyYW5zZm9ybSwgdHJhbnNmb3JtLm9yaWdpblgsIHRyYW5zZm9ybS5vcmlnaW5ZLCB4LCB5KTtcbiAgICAgIC8vIHVzZSBvZiBzaWduOiBXZSB1c2Ugc2lnbiB0byBkZXRlY3QgY2hhbmdlIG9mIGRpcmVjdGlvbiBvZiBhbiBhY3Rpb24uIHNpZ24gdXN1YWxseSBjaGFuZ2Ugd2hlblxuICAgICAgLy8gd2UgY3Jvc3MgdGhlIG9yaWdpbiBwb2ludCB3aXRoIHRoZSBtb3VzZS4gU28gYSBzY2FsZSBmbGlwIGZvciBleGFtcGxlLiBUaGVyZSBpcyBhbiBpc3N1ZSB3aGVuIHNjYWxpbmdcbiAgICAgIC8vIGJ5IGNlbnRlciBhbmQgc2NhbGluZyB1c2luZyBvbmUgbWlkZGxlIGNvbnRyb2wgKCBkZWZhdWx0OiBtciwgbXQsIG1sLCBtYiksIHRoZSBtb3VzZSBtb3ZlbWVudCBjYW4gZWFzaWx5XG4gICAgICAvLyBjcm9zcyBtYW55IHRpbWUgdGhlIG9yaWdpbiBwb2ludCBhbmQgZmxpcCB0aGUgb2JqZWN0LiBzbyB3ZSBuZWVkIGEgd2F5IHRvIGZpbHRlciBvdXQgdGhlIG5vaXNlLlxuICAgICAgLy8gVGhpcyB0ZXJuYXJ5IGhlcmUgc2hvdWxkIGJlIG9rIHRvIGZpbHRlciBvdXQgWCBzY2FsaW5nIHdoZW4gd2Ugd2FudCBZIG9ubHkgYW5kIHZpY2UgdmVyc2EuXG4gICAgICBzaWduWCA9IGJ5ICE9PSAneScgPyBzaWduKG5ld1BvaW50LngpIDogMTtcbiAgICAgIHNpZ25ZID0gYnkgIT09ICd4JyA/IHNpZ24obmV3UG9pbnQueSkgOiAxO1xuICAgICAgaWYgKCF0cmFuc2Zvcm0uc2lnblgpIHtcbiAgICAgICAgdHJhbnNmb3JtLnNpZ25YID0gc2lnblg7XG4gICAgICB9XG4gICAgICBpZiAoIXRyYW5zZm9ybS5zaWduWSkge1xuICAgICAgICB0cmFuc2Zvcm0uc2lnblkgPSBzaWduWTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRhcmdldC5sb2NrU2NhbGluZ0ZsaXAgJiZcbiAgICAgICAgKHRyYW5zZm9ybS5zaWduWCAhPT0gc2lnblggfHwgdHJhbnNmb3JtLnNpZ25ZICE9PSBzaWduWSlcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGRpbSA9IHRhcmdldC5fZ2V0VHJhbnNmb3JtZWREaW1lbnNpb25zKCk7XG4gICAgICAvLyBtaXNzaW5nIGRldGVjdGlvbiBvZiBmbGlwIGFuZCBsb2dpYyB0byBzd2l0Y2ggdGhlIG9yaWdpblxuICAgICAgaWYgKHNjYWxlUHJvcG9ydGlvbmFsbHkgJiYgIWJ5KSB7XG4gICAgICAgIC8vIHVuaWZvcm0gc2NhbGluZ1xuICAgICAgICB2YXIgZGlzdGFuY2UgPSBNYXRoLmFicyhuZXdQb2ludC54KSArIE1hdGguYWJzKG5ld1BvaW50LnkpLFxuICAgICAgICAgICAgb3JpZ2luYWwgPSB0cmFuc2Zvcm0ub3JpZ2luYWwsXG4gICAgICAgICAgICBvcmlnaW5hbERpc3RhbmNlID0gTWF0aC5hYnMoZGltLnggKiBvcmlnaW5hbC5zY2FsZVggLyB0YXJnZXQuc2NhbGVYKSArXG4gICAgICAgICAgICAgIE1hdGguYWJzKGRpbS55ICogb3JpZ2luYWwuc2NhbGVZIC8gdGFyZ2V0LnNjYWxlWSksXG4gICAgICAgICAgICBzY2FsZSA9IGRpc3RhbmNlIC8gb3JpZ2luYWxEaXN0YW5jZTtcbiAgICAgICAgc2NhbGVYID0gb3JpZ2luYWwuc2NhbGVYICogc2NhbGU7XG4gICAgICAgIHNjYWxlWSA9IG9yaWdpbmFsLnNjYWxlWSAqIHNjYWxlO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHNjYWxlWCA9IE1hdGguYWJzKG5ld1BvaW50LnggKiB0YXJnZXQuc2NhbGVYIC8gZGltLngpO1xuICAgICAgICBzY2FsZVkgPSBNYXRoLmFicyhuZXdQb2ludC55ICogdGFyZ2V0LnNjYWxlWSAvIGRpbS55KTtcbiAgICAgIH1cbiAgICAgIC8vIGlmIHdlIGFyZSBzY2FsaW5nIGJ5IGNlbnRlciwgd2UgbmVlZCB0byBkb3VibGUgdGhlIHNjYWxlXG4gICAgICBpZiAoaXNUcmFuc2Zvcm1DZW50ZXJlZCh0cmFuc2Zvcm0pKSB7XG4gICAgICAgIHNjYWxlWCAqPSAyO1xuICAgICAgICBzY2FsZVkgKj0gMjtcbiAgICAgIH1cbiAgICAgIGlmICh0cmFuc2Zvcm0uc2lnblggIT09IHNpZ25YICYmIGJ5ICE9PSAneScpIHtcbiAgICAgICAgdHJhbnNmb3JtLm9yaWdpblggPSBvcHBvc2l0ZVt0cmFuc2Zvcm0ub3JpZ2luWF07XG4gICAgICAgIHNjYWxlWCAqPSAtMTtcbiAgICAgICAgdHJhbnNmb3JtLnNpZ25YID0gc2lnblg7XG4gICAgICB9XG4gICAgICBpZiAodHJhbnNmb3JtLnNpZ25ZICE9PSBzaWduWSAmJiBieSAhPT0gJ3gnKSB7XG4gICAgICAgIHRyYW5zZm9ybS5vcmlnaW5ZID0gb3Bwb3NpdGVbdHJhbnNmb3JtLm9yaWdpblldO1xuICAgICAgICBzY2FsZVkgKj0gLTE7XG4gICAgICAgIHRyYW5zZm9ybS5zaWduWSA9IHNpZ25ZO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBtaW5TY2FsZSBpcyB0YWtlbiBhcmUgaW4gdGhlIHNldHRlci5cbiAgICB2YXIgb2xkU2NhbGVYID0gdGFyZ2V0LnNjYWxlWCwgb2xkU2NhbGVZID0gdGFyZ2V0LnNjYWxlWTtcbiAgICBpZiAoIWJ5KSB7XG4gICAgICAhbG9ja1NjYWxpbmdYICYmIHRhcmdldC5zZXQoJ3NjYWxlWCcsIHNjYWxlWCk7XG4gICAgICAhbG9ja1NjYWxpbmdZICYmIHRhcmdldC5zZXQoJ3NjYWxlWScsIHNjYWxlWSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgLy8gZm9yYmlkZGVuIGNhc2VzIGFscmVhZHkgaGFuZGxlZCBvbiB0b3AgaGVyZS5cbiAgICAgIGJ5ID09PSAneCcgJiYgdGFyZ2V0LnNldCgnc2NhbGVYJywgc2NhbGVYKTtcbiAgICAgIGJ5ID09PSAneScgJiYgdGFyZ2V0LnNldCgnc2NhbGVZJywgc2NhbGVZKTtcbiAgICB9XG4gICAgcmV0dXJuIG9sZFNjYWxlWCAhPT0gdGFyZ2V0LnNjYWxlWCB8fCBvbGRTY2FsZVkgIT09IHRhcmdldC5zY2FsZVk7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJpYyBzY2FsaW5nIGxvZ2ljLCB0byBzY2FsZSBmcm9tIGNvcm5lcnMgZWl0aGVyIGVxdWFsbHkgb3IgZnJlZWx5LlxuICAgKiBOZWVkcyB0byBiZSB3cmFwcGVkIHdpdGggYHdyYXBXaXRoRml4ZWRBbmNob3JgIHRvIGJlIGVmZmVjdGl2ZVxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudERhdGEgamF2YXNjcmlwdCBldmVudCB0aGF0IGlzIGRvaW5nIHRoZSB0cmFuc2Zvcm1cbiAgICogQHBhcmFtIHtPYmplY3R9IHRyYW5zZm9ybSBqYXZhc2NyaXB0IG9iamVjdCBjb250YWluaW5nIGEgc2VyaWVzIG9mIGluZm9ybWF0aW9uIGFyb3VuZCB0aGUgY3VycmVudCB0cmFuc2Zvcm1cbiAgICogQHBhcmFtIHtudW1iZXJ9IHggY3VycmVudCBtb3VzZSB4IHBvc2l0aW9uLCBjYW52YXMgbm9ybWFsaXplZFxuICAgKiBAcGFyYW0ge251bWJlcn0geSBjdXJyZW50IG1vdXNlIHkgcG9zaXRpb24sIGNhbnZhcyBub3JtYWxpemVkXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgc29tZSBjaGFuZ2UgaGFwcGVuZWRcbiAgICovXG4gIGZ1bmN0aW9uIHNjYWxlT2JqZWN0RnJvbUNvcm5lcihldmVudERhdGEsIHRyYW5zZm9ybSwgeCwgeSkge1xuICAgIHJldHVybiBzY2FsZU9iamVjdChldmVudERhdGEsIHRyYW5zZm9ybSwgeCwgeSk7XG4gIH1cblxuICAvKipcbiAgICogU2NhbGluZyBsb2dpYyBmb3IgdGhlIFggYXhpcy5cbiAgICogTmVlZHMgdG8gYmUgd3JhcHBlZCB3aXRoIGB3cmFwV2l0aEZpeGVkQW5jaG9yYCB0byBiZSBlZmZlY3RpdmVcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnREYXRhIGphdmFzY3JpcHQgZXZlbnQgdGhhdCBpcyBkb2luZyB0aGUgdHJhbnNmb3JtXG4gICAqIEBwYXJhbSB7T2JqZWN0fSB0cmFuc2Zvcm0gamF2YXNjcmlwdCBvYmplY3QgY29udGFpbmluZyBhIHNlcmllcyBvZiBpbmZvcm1hdGlvbiBhcm91bmQgdGhlIGN1cnJlbnQgdHJhbnNmb3JtXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IGN1cnJlbnQgbW91c2UgeCBwb3NpdGlvbiwgY2FudmFzIG5vcm1hbGl6ZWRcbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgY3VycmVudCBtb3VzZSB5IHBvc2l0aW9uLCBjYW52YXMgbm9ybWFsaXplZFxuICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIHNvbWUgY2hhbmdlIGhhcHBlbmVkXG4gICAqL1xuICBmdW5jdGlvbiBzY2FsZU9iamVjdFgoZXZlbnREYXRhLCB0cmFuc2Zvcm0sIHgsIHkpIHtcbiAgICByZXR1cm4gc2NhbGVPYmplY3QoZXZlbnREYXRhLCB0cmFuc2Zvcm0sIHgsIHkgLCB7IGJ5OiAneCcgfSk7XG4gIH1cblxuICAvKipcbiAgICogU2NhbGluZyBsb2dpYyBmb3IgdGhlIFkgYXhpcy5cbiAgICogTmVlZHMgdG8gYmUgd3JhcHBlZCB3aXRoIGB3cmFwV2l0aEZpeGVkQW5jaG9yYCB0byBiZSBlZmZlY3RpdmVcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnREYXRhIGphdmFzY3JpcHQgZXZlbnQgdGhhdCBpcyBkb2luZyB0aGUgdHJhbnNmb3JtXG4gICAqIEBwYXJhbSB7T2JqZWN0fSB0cmFuc2Zvcm0gamF2YXNjcmlwdCBvYmplY3QgY29udGFpbmluZyBhIHNlcmllcyBvZiBpbmZvcm1hdGlvbiBhcm91bmQgdGhlIGN1cnJlbnQgdHJhbnNmb3JtXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IGN1cnJlbnQgbW91c2UgeCBwb3NpdGlvbiwgY2FudmFzIG5vcm1hbGl6ZWRcbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgY3VycmVudCBtb3VzZSB5IHBvc2l0aW9uLCBjYW52YXMgbm9ybWFsaXplZFxuICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIHNvbWUgY2hhbmdlIGhhcHBlbmVkXG4gICAqL1xuICBmdW5jdGlvbiBzY2FsZU9iamVjdFkoZXZlbnREYXRhLCB0cmFuc2Zvcm0sIHgsIHkpIHtcbiAgICByZXR1cm4gc2NhbGVPYmplY3QoZXZlbnREYXRhLCB0cmFuc2Zvcm0sIHgsIHkgLCB7IGJ5OiAneScgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ29tcG9zZWQgYWN0aW9uIGhhbmRsZXIgdG8gZWl0aGVyIHNjYWxlIFkgb3Igc2tldyBYXG4gICAqIE5lZWRzIHRvIGJlIHdyYXBwZWQgd2l0aCBgd3JhcFdpdGhGaXhlZEFuY2hvcmAgdG8gYmUgZWZmZWN0aXZlXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50RGF0YSBqYXZhc2NyaXB0IGV2ZW50IHRoYXQgaXMgZG9pbmcgdGhlIHRyYW5zZm9ybVxuICAgKiBAcGFyYW0ge09iamVjdH0gdHJhbnNmb3JtIGphdmFzY3JpcHQgb2JqZWN0IGNvbnRhaW5pbmcgYSBzZXJpZXMgb2YgaW5mb3JtYXRpb24gYXJvdW5kIHRoZSBjdXJyZW50IHRyYW5zZm9ybVxuICAgKiBAcGFyYW0ge251bWJlcn0geCBjdXJyZW50IG1vdXNlIHggcG9zaXRpb24sIGNhbnZhcyBub3JtYWxpemVkXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5IGN1cnJlbnQgbW91c2UgeSBwb3NpdGlvbiwgY2FudmFzIG5vcm1hbGl6ZWRcbiAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBzb21lIGNoYW5nZSBoYXBwZW5lZFxuICAgKi9cbiAgZnVuY3Rpb24gc2NhbGluZ1lPclNrZXdpbmdYKGV2ZW50RGF0YSwgdHJhbnNmb3JtLCB4LCB5KSB7XG4gICAgLy8gb2sgc29tZSBzYWZldHkgbmVlZGVkIGhlcmUuXG4gICAgaWYgKGV2ZW50RGF0YVt0cmFuc2Zvcm0udGFyZ2V0LmNhbnZhcy5hbHRBY3Rpb25LZXldKSB7XG4gICAgICByZXR1cm4gY29udHJvbHMuc2tld0hhbmRsZXJYKGV2ZW50RGF0YSwgdHJhbnNmb3JtLCB4LCB5KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRyb2xzLnNjYWxpbmdZKGV2ZW50RGF0YSwgdHJhbnNmb3JtLCB4LCB5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb21wb3NlZCBhY3Rpb24gaGFuZGxlciB0byBlaXRoZXIgc2NhbGUgWCBvciBza2V3IFlcbiAgICogTmVlZHMgdG8gYmUgd3JhcHBlZCB3aXRoIGB3cmFwV2l0aEZpeGVkQW5jaG9yYCB0byBiZSBlZmZlY3RpdmVcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnREYXRhIGphdmFzY3JpcHQgZXZlbnQgdGhhdCBpcyBkb2luZyB0aGUgdHJhbnNmb3JtXG4gICAqIEBwYXJhbSB7T2JqZWN0fSB0cmFuc2Zvcm0gamF2YXNjcmlwdCBvYmplY3QgY29udGFpbmluZyBhIHNlcmllcyBvZiBpbmZvcm1hdGlvbiBhcm91bmQgdGhlIGN1cnJlbnQgdHJhbnNmb3JtXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IGN1cnJlbnQgbW91c2UgeCBwb3NpdGlvbiwgY2FudmFzIG5vcm1hbGl6ZWRcbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgY3VycmVudCBtb3VzZSB5IHBvc2l0aW9uLCBjYW52YXMgbm9ybWFsaXplZFxuICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIHNvbWUgY2hhbmdlIGhhcHBlbmVkXG4gICAqL1xuICBmdW5jdGlvbiBzY2FsaW5nWE9yU2tld2luZ1koZXZlbnREYXRhLCB0cmFuc2Zvcm0sIHgsIHkpIHtcbiAgICAvLyBvayBzb21lIHNhZmV0eSBuZWVkZWQgaGVyZS5cbiAgICBpZiAoZXZlbnREYXRhW3RyYW5zZm9ybS50YXJnZXQuY2FudmFzLmFsdEFjdGlvbktleV0pIHtcbiAgICAgIHJldHVybiBjb250cm9scy5za2V3SGFuZGxlclkoZXZlbnREYXRhLCB0cmFuc2Zvcm0sIHgsIHkpO1xuICAgIH1cbiAgICByZXR1cm4gY29udHJvbHMuc2NhbGluZ1goZXZlbnREYXRhLCB0cmFuc2Zvcm0sIHgsIHkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFjdGlvbiBoYW5kbGVyIHRvIGNoYW5nZSB0ZXh0Ym94IHdpZHRoXG4gICAqIE5lZWRzIHRvIGJlIHdyYXBwZWQgd2l0aCBgd3JhcFdpdGhGaXhlZEFuY2hvcmAgdG8gYmUgZWZmZWN0aXZlXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50RGF0YSBqYXZhc2NyaXB0IGV2ZW50IHRoYXQgaXMgZG9pbmcgdGhlIHRyYW5zZm9ybVxuICAgKiBAcGFyYW0ge09iamVjdH0gdHJhbnNmb3JtIGphdmFzY3JpcHQgb2JqZWN0IGNvbnRhaW5pbmcgYSBzZXJpZXMgb2YgaW5mb3JtYXRpb24gYXJvdW5kIHRoZSBjdXJyZW50IHRyYW5zZm9ybVxuICAgKiBAcGFyYW0ge251bWJlcn0geCBjdXJyZW50IG1vdXNlIHggcG9zaXRpb24sIGNhbnZhcyBub3JtYWxpemVkXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5IGN1cnJlbnQgbW91c2UgeSBwb3NpdGlvbiwgY2FudmFzIG5vcm1hbGl6ZWRcbiAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBzb21lIGNoYW5nZSBoYXBwZW5lZFxuICAgKi9cbiAgZnVuY3Rpb24gY2hhbmdlV2lkdGgoZXZlbnREYXRhLCB0cmFuc2Zvcm0sIHgsIHkpIHtcbiAgICB2YXIgdGFyZ2V0ID0gdHJhbnNmb3JtLnRhcmdldCwgbG9jYWxQb2ludCA9IGdldExvY2FsUG9pbnQodHJhbnNmb3JtLCB0cmFuc2Zvcm0ub3JpZ2luWCwgdHJhbnNmb3JtLm9yaWdpblksIHgsIHkpLFxuICAgICAgICBzdHJva2VQYWRkaW5nID0gdGFyZ2V0LnN0cm9rZVdpZHRoIC8gKHRhcmdldC5zdHJva2VVbmlmb3JtID8gdGFyZ2V0LnNjYWxlWCA6IDEpLFxuICAgICAgICBtdWx0aXBsaWVyID0gaXNUcmFuc2Zvcm1DZW50ZXJlZCh0cmFuc2Zvcm0pID8gMiA6IDEsXG4gICAgICAgIG9sZFdpZHRoID0gdGFyZ2V0LndpZHRoLFxuICAgICAgICBuZXdXaWR0aCA9IE1hdGguYWJzKGxvY2FsUG9pbnQueCAqIG11bHRpcGxpZXIgLyB0YXJnZXQuc2NhbGVYKSAtIHN0cm9rZVBhZGRpbmc7XG4gICAgdGFyZ2V0LnNldCgnd2lkdGgnLCBNYXRoLm1heChuZXdXaWR0aCwgMCkpO1xuICAgIHJldHVybiBvbGRXaWR0aCAhPT0gbmV3V2lkdGg7XG4gIH1cblxuICAvKipcbiAgICogQWN0aW9uIGhhbmRsZXJcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnREYXRhIGphdmFzY3JpcHQgZXZlbnQgdGhhdCBpcyBkb2luZyB0aGUgdHJhbnNmb3JtXG4gICAqIEBwYXJhbSB7T2JqZWN0fSB0cmFuc2Zvcm0gamF2YXNjcmlwdCBvYmplY3QgY29udGFpbmluZyBhIHNlcmllcyBvZiBpbmZvcm1hdGlvbiBhcm91bmQgdGhlIGN1cnJlbnQgdHJhbnNmb3JtXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IGN1cnJlbnQgbW91c2UgeCBwb3NpdGlvbiwgY2FudmFzIG5vcm1hbGl6ZWRcbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgY3VycmVudCBtb3VzZSB5IHBvc2l0aW9uLCBjYW52YXMgbm9ybWFsaXplZFxuICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIHRoZSB0cmFuc2xhdGlvbiBvY2N1cnJlZFxuICAgKi9cbiAgZnVuY3Rpb24gZHJhZ0hhbmRsZXIoZXZlbnREYXRhLCB0cmFuc2Zvcm0sIHgsIHkpIHtcbiAgICB2YXIgdGFyZ2V0ID0gdHJhbnNmb3JtLnRhcmdldCxcbiAgICAgICAgbmV3TGVmdCA9IHggLSB0cmFuc2Zvcm0ub2Zmc2V0WCxcbiAgICAgICAgbmV3VG9wID0geSAtIHRyYW5zZm9ybS5vZmZzZXRZLFxuICAgICAgICBtb3ZlWCA9ICF0YXJnZXQuZ2V0KCdsb2NrTW92ZW1lbnRYJykgJiYgdGFyZ2V0LmxlZnQgIT09IG5ld0xlZnQsXG4gICAgICAgIG1vdmVZID0gIXRhcmdldC5nZXQoJ2xvY2tNb3ZlbWVudFknKSAmJiB0YXJnZXQudG9wICE9PSBuZXdUb3A7XG4gICAgbW92ZVggJiYgdGFyZ2V0LnNldCgnbGVmdCcsIG5ld0xlZnQpO1xuICAgIG1vdmVZICYmIHRhcmdldC5zZXQoJ3RvcCcsIG5ld1RvcCk7XG4gICAgaWYgKG1vdmVYIHx8IG1vdmVZKSB7XG4gICAgICBmaXJlRXZlbnQoJ21vdmluZycsIGNvbW1vbkV2ZW50SW5mbyhldmVudERhdGEsIHRyYW5zZm9ybSwgeCwgeSkpO1xuICAgIH1cbiAgICByZXR1cm4gbW92ZVggfHwgbW92ZVk7XG4gIH1cblxuICBjb250cm9scy5zY2FsZUN1cnNvclN0eWxlSGFuZGxlciA9IHNjYWxlQ3Vyc29yU3R5bGVIYW5kbGVyO1xuICBjb250cm9scy5za2V3Q3Vyc29yU3R5bGVIYW5kbGVyID0gc2tld0N1cnNvclN0eWxlSGFuZGxlcjtcbiAgY29udHJvbHMuc2NhbGVTa2V3Q3Vyc29yU3R5bGVIYW5kbGVyID0gc2NhbGVTa2V3Q3Vyc29yU3R5bGVIYW5kbGVyO1xuICBjb250cm9scy5yb3RhdGlvbldpdGhTbmFwcGluZyA9IHdyYXBXaXRoRmlyZUV2ZW50KCdyb3RhdGluZycsIHdyYXBXaXRoRml4ZWRBbmNob3Iocm90YXRpb25XaXRoU25hcHBpbmcpKTtcbiAgY29udHJvbHMuc2NhbGluZ0VxdWFsbHkgPSB3cmFwV2l0aEZpcmVFdmVudCgnc2NhbGluZycsIHdyYXBXaXRoRml4ZWRBbmNob3IoIHNjYWxlT2JqZWN0RnJvbUNvcm5lcikpO1xuICBjb250cm9scy5zY2FsaW5nWCA9IHdyYXBXaXRoRmlyZUV2ZW50KCdzY2FsaW5nJywgd3JhcFdpdGhGaXhlZEFuY2hvcihzY2FsZU9iamVjdFgpKTtcbiAgY29udHJvbHMuc2NhbGluZ1kgPSB3cmFwV2l0aEZpcmVFdmVudCgnc2NhbGluZycsIHdyYXBXaXRoRml4ZWRBbmNob3Ioc2NhbGVPYmplY3RZKSk7XG4gIGNvbnRyb2xzLnNjYWxpbmdZT3JTa2V3aW5nWCA9IHNjYWxpbmdZT3JTa2V3aW5nWDtcbiAgY29udHJvbHMuc2NhbGluZ1hPclNrZXdpbmdZID0gc2NhbGluZ1hPclNrZXdpbmdZO1xuICBjb250cm9scy5jaGFuZ2VXaWR0aCA9IHdyYXBXaXRoRmlyZUV2ZW50KCdyZXNpemluZycsIHdyYXBXaXRoRml4ZWRBbmNob3IoY2hhbmdlV2lkdGgpKTtcbiAgY29udHJvbHMuc2tld0hhbmRsZXJYID0gc2tld0hhbmRsZXJYO1xuICBjb250cm9scy5za2V3SGFuZGxlclkgPSBza2V3SGFuZGxlclk7XG4gIGNvbnRyb2xzLmRyYWdIYW5kbGVyID0gZHJhZ0hhbmRsZXI7XG4gIGNvbnRyb2xzLnNjYWxlT3JTa2V3QWN0aW9uTmFtZSA9IHNjYWxlT3JTa2V3QWN0aW9uTmFtZTtcbiAgY29udHJvbHMucm90YXRpb25TdHlsZUhhbmRsZXIgPSByb3RhdGlvblN0eWxlSGFuZGxlcjtcbiAgY29udHJvbHMuZmlyZUV2ZW50ID0gZmlyZUV2ZW50O1xuICBjb250cm9scy53cmFwV2l0aEZpeGVkQW5jaG9yID0gd3JhcFdpdGhGaXhlZEFuY2hvcjtcbiAgY29udHJvbHMud3JhcFdpdGhGaXJlRXZlbnQgPSB3cmFwV2l0aEZpcmVFdmVudDtcbiAgY29udHJvbHMuZ2V0TG9jYWxQb2ludCA9IGdldExvY2FsUG9pbnQ7XG4gIGZhYnJpYy5jb250cm9sc1V0aWxzID0gY29udHJvbHM7XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBmYWJyaWMgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIGRlZ3JlZXNUb1JhZGlhbnMgPSBmYWJyaWMudXRpbC5kZWdyZWVzVG9SYWRpYW5zLFxuICAgICAgY29udHJvbHMgPSBmYWJyaWMuY29udHJvbHNVdGlscztcblxuICAvKipcbiAgICogUmVuZGVyIGEgcm91bmQgY29udHJvbCwgYXMgcGVyIGZhYnJpYyBmZWF0dXJlcy5cbiAgICogVGhpcyBmdW5jdGlvbiBpcyB3cml0dGVuIHRvIHJlc3BlY3Qgb2JqZWN0IHByb3BlcnRpZXMgbGlrZSB0cmFuc3BhcmVudENvcm5lcnMsIGNvcm5lclNpemVcbiAgICogY29ybmVyQ29sb3IsIGNvcm5lclN0cm9rZUNvbG9yXG4gICAqIHBsdXMgdGhlIGFkZGl0aW9uIG9mIG9mZnNldFkgYW5kIG9mZnNldFguXG4gICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggY29udGV4dCB0byByZW5kZXIgb25cbiAgICogQHBhcmFtIHtOdW1iZXJ9IGxlZnQgeCBjb29yZGluYXRlIHdoZXJlIHRoZSBjb250cm9sIGNlbnRlciBzaG91bGQgYmVcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHRvcCB5IGNvb3JkaW5hdGUgd2hlcmUgdGhlIGNvbnRyb2wgY2VudGVyIHNob3VsZCBiZVxuICAgKiBAcGFyYW0ge09iamVjdH0gc3R5bGVPdmVycmlkZSBvdmVycmlkZSBmb3IgZmFicmljLk9iamVjdCBjb250cm9scyBzdHlsZVxuICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IGZhYnJpY09iamVjdCB0aGUgZmFicmljIG9iamVjdCBmb3Igd2hpY2ggd2UgYXJlIHJlbmRlcmluZyBjb250cm9sc1xuICAgKi9cbiAgZnVuY3Rpb24gcmVuZGVyQ2lyY2xlQ29udHJvbCAoY3R4LCBsZWZ0LCB0b3AsIHN0eWxlT3ZlcnJpZGUsIGZhYnJpY09iamVjdCkge1xuICAgIHN0eWxlT3ZlcnJpZGUgPSBzdHlsZU92ZXJyaWRlIHx8IHt9O1xuICAgIHZhciB4U2l6ZSA9IHRoaXMuc2l6ZVggfHwgc3R5bGVPdmVycmlkZS5jb3JuZXJTaXplIHx8IGZhYnJpY09iamVjdC5jb3JuZXJTaXplLFxuICAgICAgICB5U2l6ZSA9IHRoaXMuc2l6ZVkgfHwgc3R5bGVPdmVycmlkZS5jb3JuZXJTaXplIHx8IGZhYnJpY09iamVjdC5jb3JuZXJTaXplLFxuICAgICAgICB0cmFuc3BhcmVudENvcm5lcnMgPSB0eXBlb2Ygc3R5bGVPdmVycmlkZS50cmFuc3BhcmVudENvcm5lcnMgIT09ICd1bmRlZmluZWQnID9cbiAgICAgICAgICBzdHlsZU92ZXJyaWRlLnRyYW5zcGFyZW50Q29ybmVycyA6IGZhYnJpY09iamVjdC50cmFuc3BhcmVudENvcm5lcnMsXG4gICAgICAgIG1ldGhvZE5hbWUgPSB0cmFuc3BhcmVudENvcm5lcnMgPyAnc3Ryb2tlJyA6ICdmaWxsJyxcbiAgICAgICAgc3Ryb2tlID0gIXRyYW5zcGFyZW50Q29ybmVycyAmJiAoc3R5bGVPdmVycmlkZS5jb3JuZXJTdHJva2VDb2xvciB8fCBmYWJyaWNPYmplY3QuY29ybmVyU3Ryb2tlQ29sb3IpLFxuICAgICAgICBteUxlZnQgPSBsZWZ0LFxuICAgICAgICBteVRvcCA9IHRvcCwgc2l6ZTtcbiAgICBjdHguc2F2ZSgpO1xuICAgIGN0eC5maWxsU3R5bGUgPSBzdHlsZU92ZXJyaWRlLmNvcm5lckNvbG9yIHx8IGZhYnJpY09iamVjdC5jb3JuZXJDb2xvcjtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSBzdHlsZU92ZXJyaWRlLmNvcm5lclN0cm9rZUNvbG9yIHx8IGZhYnJpY09iamVjdC5jb3JuZXJTdHJva2VDb2xvcjtcbiAgICAvLyBhcyBzb29uIGFzIGZhYnJpYyByZWFjdCB2NSwgcmVtb3ZlIGllMTEsIHVzZSBwcm9wZXIgZWxsaXBzZSBjb2RlLlxuICAgIGlmICh4U2l6ZSA+IHlTaXplKSB7XG4gICAgICBzaXplID0geFNpemU7XG4gICAgICBjdHguc2NhbGUoMS4wLCB5U2l6ZSAvIHhTaXplKTtcbiAgICAgIG15VG9wID0gdG9wICogeFNpemUgLyB5U2l6ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoeVNpemUgPiB4U2l6ZSkge1xuICAgICAgc2l6ZSA9IHlTaXplO1xuICAgICAgY3R4LnNjYWxlKHhTaXplIC8geVNpemUsIDEuMCk7XG4gICAgICBteUxlZnQgPSBsZWZ0ICogeVNpemUgLyB4U2l6ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBzaXplID0geFNpemU7XG4gICAgfVxuICAgIC8vIHRoaXMgaXMgc3RpbGwgd3JvbmdcbiAgICBjdHgubGluZVdpZHRoID0gMTtcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LmFyYyhteUxlZnQsIG15VG9wLCBzaXplIC8gMiwgMCwgMiAqIE1hdGguUEksIGZhbHNlKTtcbiAgICBjdHhbbWV0aG9kTmFtZV0oKTtcbiAgICBpZiAoc3Ryb2tlKSB7XG4gICAgICBjdHguc3Ryb2tlKCk7XG4gICAgfVxuICAgIGN0eC5yZXN0b3JlKCk7XG4gIH1cblxuICAvKipcbiAgICogUmVuZGVyIGEgc3F1YXJlIGNvbnRyb2wsIGFzIHBlciBmYWJyaWMgZmVhdHVyZXMuXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgd3JpdHRlbiB0byByZXNwZWN0IG9iamVjdCBwcm9wZXJ0aWVzIGxpa2UgdHJhbnNwYXJlbnRDb3JuZXJzLCBjb3JuZXJTaXplXG4gICAqIGNvcm5lckNvbG9yLCBjb3JuZXJTdHJva2VDb2xvclxuICAgKiBwbHVzIHRoZSBhZGRpdGlvbiBvZiBvZmZzZXRZIGFuZCBvZmZzZXRYLlxuICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IGNvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBsZWZ0IHggY29vcmRpbmF0ZSB3aGVyZSB0aGUgY29udHJvbCBjZW50ZXIgc2hvdWxkIGJlXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB0b3AgeSBjb29yZGluYXRlIHdoZXJlIHRoZSBjb250cm9sIGNlbnRlciBzaG91bGQgYmVcbiAgICogQHBhcmFtIHtPYmplY3R9IHN0eWxlT3ZlcnJpZGUgb3ZlcnJpZGUgZm9yIGZhYnJpYy5PYmplY3QgY29udHJvbHMgc3R5bGVcbiAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBmYWJyaWNPYmplY3QgdGhlIGZhYnJpYyBvYmplY3QgZm9yIHdoaWNoIHdlIGFyZSByZW5kZXJpbmcgY29udHJvbHNcbiAgICovXG4gIGZ1bmN0aW9uIHJlbmRlclNxdWFyZUNvbnRyb2woY3R4LCBsZWZ0LCB0b3AsIHN0eWxlT3ZlcnJpZGUsIGZhYnJpY09iamVjdCkge1xuICAgIHN0eWxlT3ZlcnJpZGUgPSBzdHlsZU92ZXJyaWRlIHx8IHt9O1xuICAgIHZhciB4U2l6ZSA9IHRoaXMuc2l6ZVggfHwgc3R5bGVPdmVycmlkZS5jb3JuZXJTaXplIHx8IGZhYnJpY09iamVjdC5jb3JuZXJTaXplLFxuICAgICAgICB5U2l6ZSA9IHRoaXMuc2l6ZVkgfHwgc3R5bGVPdmVycmlkZS5jb3JuZXJTaXplIHx8IGZhYnJpY09iamVjdC5jb3JuZXJTaXplLFxuICAgICAgICB0cmFuc3BhcmVudENvcm5lcnMgPSB0eXBlb2Ygc3R5bGVPdmVycmlkZS50cmFuc3BhcmVudENvcm5lcnMgIT09ICd1bmRlZmluZWQnID9cbiAgICAgICAgICBzdHlsZU92ZXJyaWRlLnRyYW5zcGFyZW50Q29ybmVycyA6IGZhYnJpY09iamVjdC50cmFuc3BhcmVudENvcm5lcnMsXG4gICAgICAgIG1ldGhvZE5hbWUgPSB0cmFuc3BhcmVudENvcm5lcnMgPyAnc3Ryb2tlJyA6ICdmaWxsJyxcbiAgICAgICAgc3Ryb2tlID0gIXRyYW5zcGFyZW50Q29ybmVycyAmJiAoXG4gICAgICAgICAgc3R5bGVPdmVycmlkZS5jb3JuZXJTdHJva2VDb2xvciB8fCBmYWJyaWNPYmplY3QuY29ybmVyU3Ryb2tlQ29sb3JcbiAgICAgICAgKSwgeFNpemVCeTIgPSB4U2l6ZSAvIDIsIHlTaXplQnkyID0geVNpemUgLyAyO1xuICAgIGN0eC5zYXZlKCk7XG4gICAgY3R4LmZpbGxTdHlsZSA9IHN0eWxlT3ZlcnJpZGUuY29ybmVyQ29sb3IgfHwgZmFicmljT2JqZWN0LmNvcm5lckNvbG9yO1xuICAgIGN0eC5zdHJva2VTdHlsZSA9IHN0eWxlT3ZlcnJpZGUuY29ybmVyU3Ryb2tlQ29sb3IgfHwgZmFicmljT2JqZWN0LmNvcm5lclN0cm9rZUNvbG9yO1xuICAgIC8vIHRoaXMgaXMgc3RpbGwgd3JvbmdcbiAgICBjdHgubGluZVdpZHRoID0gMTtcbiAgICBjdHgudHJhbnNsYXRlKGxlZnQsIHRvcCk7XG4gICAgY3R4LnJvdGF0ZShkZWdyZWVzVG9SYWRpYW5zKGZhYnJpY09iamVjdC5hbmdsZSkpO1xuICAgIC8vIHRoaXMgZG9lcyBub3Qgd29yaywgYW5kIGZpeGVkIHdpdGggKCAmJiApIGRvZXMgbm90IG1ha2Ugc2Vuc2UuXG4gICAgLy8gdG8gaGF2ZSByZWFsIHRyYW5zcGFyZW50IGNvcm5lcnMgd2UgbmVlZCB0aGUgY29udHJvbHMgb24gdXBwZXJDYW52YXNcbiAgICAvLyB0cmFuc3BhcmVudENvcm5lcnMgfHwgY3R4LmNsZWFyUmVjdCgteFNpemVCeTIsIC15U2l6ZUJ5MiwgeFNpemUsIHlTaXplKTtcbiAgICBjdHhbbWV0aG9kTmFtZSArICdSZWN0J10oLXhTaXplQnkyLCAteVNpemVCeTIsIHhTaXplLCB5U2l6ZSk7XG4gICAgaWYgKHN0cm9rZSkge1xuICAgICAgY3R4LnN0cm9rZVJlY3QoLXhTaXplQnkyLCAteVNpemVCeTIsIHhTaXplLCB5U2l6ZSk7XG4gICAgfVxuICAgIGN0eC5yZXN0b3JlKCk7XG4gIH1cblxuICBjb250cm9scy5yZW5kZXJDaXJjbGVDb250cm9sID0gcmVuZGVyQ2lyY2xlQ29udHJvbDtcbiAgY29udHJvbHMucmVuZGVyU3F1YXJlQ29udHJvbCA9IHJlbmRlclNxdWFyZUNvbnRyb2w7XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBmYWJyaWMgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KTtcblxuICBmdW5jdGlvbiBDb250cm9sKG9wdGlvbnMpIHtcbiAgICBmb3IgKHZhciBpIGluIG9wdGlvbnMpIHtcbiAgICAgIHRoaXNbaV0gPSBvcHRpb25zW2ldO1xuICAgIH1cbiAgfVxuXG4gIGZhYnJpYy5Db250cm9sID0gQ29udHJvbDtcblxuICBmYWJyaWMuQ29udHJvbC5wcm90b3R5cGUgPSAvKiogQGxlbmRzIGZhYnJpYy5Db250cm9sLnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBrZWVwIHRyYWNrIG9mIGNvbnRyb2wgdmlzaWJpbGl0eS5cbiAgICAgKiBtYWlubHkgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkuXG4gICAgICogaWYgeW91IGRvIG5vdCB3YW50IHRvIHNlZSBhIGNvbnRyb2wsIHlvdSBjYW4gcmVtb3ZlIGl0XG4gICAgICogZnJvbSB0aGUgY29udHJvbHNldC5cbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICovXG4gICAgdmlzaWJsZTogdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIE5hbWUgb2YgdGhlIGFjdGlvbiB0aGF0IHRoZSBjb250cm9sIHdpbGwgbGlrZWx5IGV4ZWN1dGUuXG4gICAgICogVGhpcyBpcyBvcHRpb25hbC4gRmFicmljSlMgdXNlcyB0byBpZGVudGlmeSB3aGF0IHRoZSB1c2VyIGlzIGRvaW5nIGZvciBzb21lXG4gICAgICogZXh0cmEgb3B0aW1pemF0aW9ucy4gSWYgeW91IGFyZSB3cml0aW5nIGEgY3VzdG9tIGNvbnRyb2wgYW5kIHlvdSB3YW50IHRvIGtub3dcbiAgICAgKiBzb21ld2hlcmUgZWxzZSBpbiB0aGUgY29kZSB3aGF0IGlzIGdvaW5nIG9uLCB5b3UgY2FuIHVzZSB0aGlzIHN0cmluZyBoZXJlLlxuICAgICAqIHlvdSBjYW4gYWxzbyBwcm92aWRlIGEgY3VzdG9tIGdldEFjdGlvbk5hbWUgaWYgeW91ciBjb250cm9sIHJ1biBtdWx0aXBsZSBhY3Rpb25zXG4gICAgICogZGVwZW5kaW5nIG9uIHNvbWUgZXh0ZXJuYWwgc3RhdGUuXG4gICAgICogZGVmYXVsdCB0byBzY2FsZSBzaW5jZSBpcyB0aGUgbW9zdCBjb21tb24sIHVzZWQgb24gNCBjb3JuZXJzIGJ5IGRlZmF1bHRcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBkZWZhdWx0ICdzY2FsZSdcbiAgICAgKi9cbiAgICBhY3Rpb25OYW1lOiAnc2NhbGUnLFxuXG4gICAgLyoqXG4gICAgICogRHJhd2luZyBhbmdsZSBvZiB0aGUgY29udHJvbC5cbiAgICAgKiBOT1QgdXNlZCBmb3Igbm93LCBidXQgbmFtZSBtYXJrZWQgYXMgbmVlZGVkIGZvciBpbnRlcm5hbCBsb2dpY1xuICAgICAqIGV4YW1wbGU6IHRvIHJldXNlIHRoZSBzYW1lIGRyYXdpbmcgZnVuY3Rpb24gZm9yIGRpZmZlcmVudCByb3RhdGVkIGNvbnRyb2xzXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgYW5nbGU6IDAsXG5cbiAgICAvKipcbiAgICAgKiBSZWxhdGl2ZSBwb3NpdGlvbiBvZiB0aGUgY29udHJvbC4gWFxuICAgICAqIDAsMCBpcyB0aGUgY2VudGVyIG9mIHRoZSBPYmplY3QsIHdoaWxlIC0wLjUgKGxlZnQpIG9yIDAuNSAocmlnaHQpIGFyZSB0aGUgZXh0cmVtaXRpZXNcbiAgICAgKiBvZiB0aGUgYm91bmRpbmcgYm94LlxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHg6IDAsXG5cbiAgICAvKipcbiAgICAgKiBSZWxhdGl2ZSBwb3NpdGlvbiBvZiB0aGUgY29udHJvbC4gWVxuICAgICAqIDAsMCBpcyB0aGUgY2VudGVyIG9mIHRoZSBPYmplY3QsIHdoaWxlIC0wLjUgKHRvcCkgb3IgMC41IChib3R0b20pIGFyZSB0aGUgZXh0cmVtaXRpZXNcbiAgICAgKiBvZiB0aGUgYm91bmRpbmcgYm94LlxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHk6IDAsXG5cbiAgICAvKipcbiAgICAgKiBIb3Jpem9udGFsIG9mZnNldCBvZiB0aGUgY29udHJvbCBmcm9tIHRoZSBkZWZpbmVkIHBvc2l0aW9uLiBJbiBwaXhlbHNcbiAgICAgKiBQb3NpdGl2ZSBvZmZzZXQgbW92ZXMgdGhlIGNvbnRyb2wgdG8gdGhlIHJpZ2h0LCBuZWdhdGl2ZSB0byB0aGUgbGVmdC5cbiAgICAgKiBJdCB1c2VkIHdoZW4geW91IHdhbnQgdG8gaGF2ZSBwb3NpdGlvbiBvZiBjb250cm9sIHRoYXQgZG9lcyBub3Qgc2NhbGUgd2l0aFxuICAgICAqIHRoZSBib3VuZGluZyBib3guIEV4YW1wbGU6IHJvdGF0aW9uIGNvbnRyb2wgaXMgcGxhY2VkIGF0IHg6MCwgeTogMC41IG9uXG4gICAgICogdGhlIGJvdW5kaW5kYm94LCB3aXRoIGFuIG9mZnNldCBvZiAzMCBwaXhlbHMgdmVydGljYWxseS4gVGhvc2UgMzAgcGl4ZWxzIHdpbGxcbiAgICAgKiBzdGF5IDMwIHBpeGVscyBubyBtYXR0ZXIgaG93IHRoZSBvYmplY3QgaXMgYmlnLiBBbm90aGVyIGV4YW1wbGUgaXMgaGF2aW5nIDJcbiAgICAgKiBjb250cm9scyBpbiB0aGUgY29ybmVyLCB0aGF0IHN0YXkgaW4gdGhlIHNhbWUgcG9zaXRpb24gd2hlbiB0aGUgb2JqZWN0IHNjYWxlLlxuICAgICAqIG9mIHRoZSBib3VuZGluZyBib3guXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgb2Zmc2V0WDogMCxcblxuICAgIC8qKlxuICAgICAqIFZlcnRpY2FsIG9mZnNldCBvZiB0aGUgY29udHJvbCBmcm9tIHRoZSBkZWZpbmVkIHBvc2l0aW9uLiBJbiBwaXhlbHNcbiAgICAgKiBQb3NpdGl2ZSBvZmZzZXQgbW92ZXMgdGhlIGNvbnRyb2wgdG8gdGhlIGJvdHRvbSwgbmVnYXRpdmUgdG8gdGhlIHRvcC5cbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICBvZmZzZXRZOiAwLFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbGVuZ3RoIG9mIHRoZSBjb250cm9sLiBJZiBudWxsLCBkZWZhdWx0cyB0byBvYmplY3QncyBjb3JuZXJTaXplLlxuICAgICAqIEV4cGVjdHMgYm90aCBzaXplWCBhbmQgc2l6ZVkgdG8gYmUgc2V0IHdoZW4gc2V0LlxuICAgICAqIEB0eXBlIHs/TnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgKi9cbiAgICBzaXplWDogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGhlaWdodCBvZiB0aGUgY29udHJvbC4gSWYgbnVsbCwgZGVmYXVsdHMgdG8gb2JqZWN0J3MgY29ybmVyU2l6ZS5cbiAgICAgKiBFeHBlY3RzIGJvdGggc2l6ZVggYW5kIHNpemVZIHRvIGJlIHNldCB3aGVuIHNldC5cbiAgICAgKiBAdHlwZSB7P051bWJlcn1cbiAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICovXG4gICAgc2l6ZVk6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBsZW5ndGggb2YgdGhlIHRvdWNoIGFyZWEgb2YgdGhlIGNvbnRyb2wuIElmIG51bGwsIGRlZmF1bHRzIHRvIG9iamVjdCdzIHRvdWNoQ29ybmVyU2l6ZS5cbiAgICAgKiBFeHBlY3RzIGJvdGggdG91Y2hTaXplWCBhbmQgdG91Y2hTaXplWSB0byBiZSBzZXQgd2hlbiBzZXQuXG4gICAgICogQHR5cGUgez9OdW1iZXJ9XG4gICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAqL1xuICAgIHRvdWNoU2l6ZVg6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBoZWlnaHQgb2YgdGhlIHRvdWNoIGFyZWEgb2YgdGhlIGNvbnRyb2wuIElmIG51bGwsIGRlZmF1bHRzIHRvIG9iamVjdCdzIHRvdWNoQ29ybmVyU2l6ZS5cbiAgICAgKiBFeHBlY3RzIGJvdGggdG91Y2hTaXplWCBhbmQgdG91Y2hTaXplWSB0byBiZSBzZXQgd2hlbiBzZXQuXG4gICAgICogQHR5cGUgez9OdW1iZXJ9XG4gICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAqL1xuICAgIHRvdWNoU2l6ZVk6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBDc3MgY3Vyc29yIHN0eWxlIHRvIGRpc3BsYXkgd2hlbiB0aGUgY29udHJvbCBpcyBob3ZlcmVkLlxuICAgICAqIGlmIHRoZSBtZXRob2QgYGN1cnNvclN0eWxlSGFuZGxlcmAgaXMgcHJvdmlkZWQsIHRoaXMgcHJvcGVydHkgaXMgaWdub3JlZC5cbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBkZWZhdWx0ICdjcm9zc2hhaXInXG4gICAgICovXG4gICAgY3Vyc29yU3R5bGU6ICdjcm9zc2hhaXInLFxuXG4gICAgLyoqXG4gICAgICogSWYgY29udHJvbHMgaGFzIGFuIG9mZnNldFkgb3Igb2Zmc2V0WCwgZHJhdyBhIGxpbmUgdGhhdCBjb25uZWN0c1xuICAgICAqIHRoZSBjb250cm9sIHRvIHRoZSBib3VuZGluZyBib3hcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIHdpdGhDb25uZWN0aW9uOiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIFRoZSBjb250cm9sIGFjdGlvbkhhbmRsZXIsIHByb3ZpZGUgb25lIHRvIGhhbmRsZSBhY3Rpb24gKCBjb250cm9sIGJlaW5nIG1vdmVkIClcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudERhdGEgdGhlIG5hdGl2ZSBtb3VzZSBldmVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0cmFuc2Zvcm1EYXRhIHByb3BlcnRpZXMgb2YgdGhlIGN1cnJlbnQgdHJhbnNmb3JtXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHggeCBwb3NpdGlvbiBvZiB0aGUgY3Vyc29yXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHkgeSBwb3NpdGlvbiBvZiB0aGUgY3Vyc29yXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiB0aGUgYWN0aW9uL2V2ZW50IG1vZGlmaWVkIHRoZSBvYmplY3RcbiAgICAgKi9cbiAgICBhY3Rpb25IYW5kbGVyOiBmdW5jdGlvbigvKiBldmVudERhdGEsIHRyYW5zZm9ybURhdGEsIHgsIHkgKi8pIHsgfSxcblxuICAgIC8qKlxuICAgICAqIFRoZSBjb250cm9sIGhhbmRsZXIgZm9yIG1vdXNlIGRvd24sIHByb3ZpZGUgb25lIHRvIGhhbmRsZSBtb3VzZSBkb3duIG9uIGNvbnRyb2xcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudERhdGEgdGhlIG5hdGl2ZSBtb3VzZSBldmVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0cmFuc2Zvcm1EYXRhIHByb3BlcnRpZXMgb2YgdGhlIGN1cnJlbnQgdHJhbnNmb3JtXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHggeCBwb3NpdGlvbiBvZiB0aGUgY3Vyc29yXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHkgeSBwb3NpdGlvbiBvZiB0aGUgY3Vyc29yXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiB0aGUgYWN0aW9uL2V2ZW50IG1vZGlmaWVkIHRoZSBvYmplY3RcbiAgICAgKi9cbiAgICBtb3VzZURvd25IYW5kbGVyOiBmdW5jdGlvbigvKiBldmVudERhdGEsIHRyYW5zZm9ybURhdGEsIHgsIHkgKi8pIHsgfSxcblxuICAgIC8qKlxuICAgICAqIFRoZSBjb250cm9sIG1vdXNlVXBIYW5kbGVyLCBwcm92aWRlIG9uZSB0byBoYW5kbGUgYW4gZWZmZWN0IG9uIG1vdXNlIHVwLlxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50RGF0YSB0aGUgbmF0aXZlIG1vdXNlIGV2ZW50XG4gICAgICogQHBhcmFtIHtPYmplY3R9IHRyYW5zZm9ybURhdGEgcHJvcGVydGllcyBvZiB0aGUgY3VycmVudCB0cmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0ge051bWJlcn0geCB4IHBvc2l0aW9uIG9mIHRoZSBjdXJzb3JcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geSB5IHBvc2l0aW9uIG9mIHRoZSBjdXJzb3JcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIHRoZSBhY3Rpb24vZXZlbnQgbW9kaWZpZWQgdGhlIG9iamVjdFxuICAgICAqL1xuICAgIG1vdXNlVXBIYW5kbGVyOiBmdW5jdGlvbigvKiBldmVudERhdGEsIHRyYW5zZm9ybURhdGEsIHgsIHkgKi8pIHsgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgY29udHJvbCBhY3Rpb25IYW5kbGVyXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnREYXRhIHRoZSBuYXRpdmUgbW91c2UgZXZlbnRcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IGZhYnJpY09iamVjdCBvbiB3aGljaCB0aGUgY29udHJvbCBpcyBkaXNwbGF5ZWRcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Db250cm9sfSBjb250cm9sIGNvbnRyb2wgZm9yIHdoaWNoIHRoZSBhY3Rpb24gaGFuZGxlciBpcyBiZWluZyBhc2tlZFxuICAgICAqIEByZXR1cm4ge0Z1bmN0aW9ufSB0aGUgYWN0aW9uIGhhbmRsZXJcbiAgICAgKi9cbiAgICBnZXRBY3Rpb25IYW5kbGVyOiBmdW5jdGlvbigvKiBldmVudERhdGEsIGZhYnJpY09iamVjdCwgY29udHJvbCAqLykge1xuICAgICAgcmV0dXJuIHRoaXMuYWN0aW9uSGFuZGxlcjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBjb250cm9sIG1vdXNlRG93biBoYW5kbGVyXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnREYXRhIHRoZSBuYXRpdmUgbW91c2UgZXZlbnRcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IGZhYnJpY09iamVjdCBvbiB3aGljaCB0aGUgY29udHJvbCBpcyBkaXNwbGF5ZWRcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Db250cm9sfSBjb250cm9sIGNvbnRyb2wgZm9yIHdoaWNoIHRoZSBhY3Rpb24gaGFuZGxlciBpcyBiZWluZyBhc2tlZFxuICAgICAqIEByZXR1cm4ge0Z1bmN0aW9ufSB0aGUgYWN0aW9uIGhhbmRsZXJcbiAgICAgKi9cbiAgICBnZXRNb3VzZURvd25IYW5kbGVyOiBmdW5jdGlvbigvKiBldmVudERhdGEsIGZhYnJpY09iamVjdCwgY29udHJvbCAqLykge1xuICAgICAgcmV0dXJuIHRoaXMubW91c2VEb3duSGFuZGxlcjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBjb250cm9sIG1vdXNlVXAgaGFuZGxlclxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50RGF0YSB0aGUgbmF0aXZlIG1vdXNlIGV2ZW50XG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBmYWJyaWNPYmplY3Qgb24gd2hpY2ggdGhlIGNvbnRyb2wgaXMgZGlzcGxheWVkXG4gICAgICogQHBhcmFtIHtmYWJyaWMuQ29udHJvbH0gY29udHJvbCBjb250cm9sIGZvciB3aGljaCB0aGUgYWN0aW9uIGhhbmRsZXIgaXMgYmVpbmcgYXNrZWRcbiAgICAgKiBAcmV0dXJuIHtGdW5jdGlvbn0gdGhlIGFjdGlvbiBoYW5kbGVyXG4gICAgICovXG4gICAgZ2V0TW91c2VVcEhhbmRsZXI6IGZ1bmN0aW9uKC8qIGV2ZW50RGF0YSwgZmFicmljT2JqZWN0LCBjb250cm9sICovKSB7XG4gICAgICByZXR1cm4gdGhpcy5tb3VzZVVwSGFuZGxlcjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBjb250cm9sIGN1cnNvclN0eWxlIGZvciBjc3MgdXNpbmcgY3Vyc29yU3R5bGUuIElmIHlvdSBuZWVkIGEgbW9yZSBlbGFib3JhdGVcbiAgICAgKiBmdW5jdGlvbiB5b3UgY2FuIHBhc3Mgb25lIGluIHRoZSBjb25zdHJ1Y3RvclxuICAgICAqIHRoZSBjdXJzb3JTdHlsZSBwcm9wZXJ0eVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50RGF0YSB0aGUgbmF0aXZlIG1vdXNlIGV2ZW50XG4gICAgICogQHBhcmFtIHtmYWJyaWMuQ29udHJvbH0gY29udHJvbCB0aGUgY3VycmVudCBjb250cm9sICggbGlrZWx5IHRoaXMpXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmplY3Qgb24gd2hpY2ggdGhlIGNvbnRyb2wgaXMgZGlzcGxheWVkXG4gICAgICogQHJldHVybiB7U3RyaW5nfVxuICAgICAqL1xuICAgIGN1cnNvclN0eWxlSGFuZGxlcjogZnVuY3Rpb24oZXZlbnREYXRhLCBjb250cm9sIC8qIGZhYnJpY09iamVjdCAqLykge1xuICAgICAgcmV0dXJuIGNvbnRyb2wuY3Vyc29yU3R5bGU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGFjdGlvbiBuYW1lLiBUaGUgYmFzaWMgaW1wbGVtZW50YXRpb24ganVzdCByZXR1cm4gdGhlIGFjdGlvbk5hbWUgcHJvcGVydHkuXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnREYXRhIHRoZSBuYXRpdmUgbW91c2UgZXZlbnRcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Db250cm9sfSBjb250cm9sIHRoZSBjdXJyZW50IGNvbnRyb2wgKCBsaWtlbHkgdGhpcylcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IG9iamVjdCBvbiB3aGljaCB0aGUgY29udHJvbCBpcyBkaXNwbGF5ZWRcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAgICovXG4gICAgZ2V0QWN0aW9uTmFtZTogZnVuY3Rpb24oZXZlbnREYXRhLCBjb250cm9sIC8qIGZhYnJpY09iamVjdCAqLykge1xuICAgICAgcmV0dXJuIGNvbnRyb2wuYWN0aW9uTmFtZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBjb250cm9scyB2aXNpYmlsaXR5XG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmplY3Qgb24gd2hpY2ggdGhlIGNvbnRyb2wgaXMgZGlzcGxheWVkXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGNvbnRyb2xLZXkga2V5IHdoZXJlIHRoZSBjb250cm9sIGlzIG1lbW9yaXplZCBvbiB0aGVcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIGdldFZpc2liaWxpdHk6IGZ1bmN0aW9uKGZhYnJpY09iamVjdCwgY29udHJvbEtleSkge1xuICAgICAgdmFyIG9iamVjdFZpc2liaWxpdHkgPSBmYWJyaWNPYmplY3QuX2NvbnRyb2xzVmlzaWJpbGl0eTtcbiAgICAgIGlmIChvYmplY3RWaXNpYmlsaXR5ICYmIHR5cGVvZiBvYmplY3RWaXNpYmlsaXR5W2NvbnRyb2xLZXldICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gb2JqZWN0VmlzaWJpbGl0eVtjb250cm9sS2V5XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnZpc2libGU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgY29udHJvbHMgdmlzaWJpbGl0eVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gdmlzaWJpbGl0eSBmb3IgdGhlIG9iamVjdFxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgc2V0VmlzaWJpbGl0eTogZnVuY3Rpb24odmlzaWJpbGl0eSAvKiBuYW1lLCBmYWJyaWNPYmplY3QgKi8pIHtcbiAgICAgIHRoaXMudmlzaWJsZSA9IHZpc2liaWxpdHk7XG4gICAgfSxcblxuXG4gICAgcG9zaXRpb25IYW5kbGVyOiBmdW5jdGlvbihkaW0sIGZpbmFsTWF0cml4IC8qLCBmYWJyaWNPYmplY3QsIGN1cnJlbnRDb250cm9sICovKSB7XG4gICAgICB2YXIgcG9pbnQgPSBmYWJyaWMudXRpbC50cmFuc2Zvcm1Qb2ludCh7XG4gICAgICAgIHg6IHRoaXMueCAqIGRpbS54ICsgdGhpcy5vZmZzZXRYLFxuICAgICAgICB5OiB0aGlzLnkgKiBkaW0ueSArIHRoaXMub2Zmc2V0WSB9LCBmaW5hbE1hdHJpeCk7XG4gICAgICByZXR1cm4gcG9pbnQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGNvb3JkcyBmb3IgdGhpcyBjb250cm9sIGJhc2VkIG9uIG9iamVjdCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG9iamVjdEFuZ2xlIGFuZ2xlIGZyb20gdGhlIGZhYnJpYyBvYmplY3QgaG9sZGluZyB0aGUgY29udHJvbFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBvYmplY3RDb3JuZXJTaXplIGNvcm5lclNpemUgZnJvbSB0aGUgZmFicmljIG9iamVjdCBob2xkaW5nIHRoZSBjb250cm9sIChvciB0b3VjaENvcm5lclNpemUgaWZcbiAgICAgKiAgIGlzVG91Y2ggaXMgdHJ1ZSlcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gY2VudGVyWCB4IGNvb3JkaW5hdGUgd2hlcmUgdGhlIGNvbnRyb2wgY2VudGVyIHNob3VsZCBiZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBjZW50ZXJZIHkgY29vcmRpbmF0ZSB3aGVyZSB0aGUgY29udHJvbCBjZW50ZXIgc2hvdWxkIGJlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBpc1RvdWNoIHRydWUgaWYgdG91Y2ggY29ybmVyLCBmYWxzZSBpZiBub3JtYWwgY29ybmVyXG4gICAgICovXG4gICAgY2FsY0Nvcm5lckNvb3JkczogZnVuY3Rpb24ob2JqZWN0QW5nbGUsIG9iamVjdENvcm5lclNpemUsIGNlbnRlclgsIGNlbnRlclksIGlzVG91Y2gpIHtcbiAgICAgIHZhciBjb3NIYWxmT2Zmc2V0LFxuICAgICAgICAgIHNpbkhhbGZPZmZzZXQsXG4gICAgICAgICAgY29zSGFsZk9mZnNldENvbXAsXG4gICAgICAgICAgc2luSGFsZk9mZnNldENvbXAsXG4gICAgICAgICAgeFNpemUgPSAoaXNUb3VjaCkgPyB0aGlzLnRvdWNoU2l6ZVggOiB0aGlzLnNpemVYLFxuICAgICAgICAgIHlTaXplID0gKGlzVG91Y2gpID8gdGhpcy50b3VjaFNpemVZIDogdGhpcy5zaXplWTtcbiAgICAgIGlmICh4U2l6ZSAmJiB5U2l6ZSAmJiB4U2l6ZSAhPT0geVNpemUpIHtcbiAgICAgICAgLy8gaGFuZGxlIHJlY3Rhbmd1bGFyIGNvcm5lcnNcbiAgICAgICAgdmFyIGNvbnRyb2xUcmlhbmdsZUFuZ2xlID0gTWF0aC5hdGFuMih5U2l6ZSwgeFNpemUpO1xuICAgICAgICB2YXIgY29ybmVySHlwb3RlbnVzZSA9IE1hdGguc3FydCh4U2l6ZSAqIHhTaXplICsgeVNpemUgKiB5U2l6ZSkgLyAyO1xuICAgICAgICB2YXIgbmV3VGhldGEgPSBjb250cm9sVHJpYW5nbGVBbmdsZSAtIGZhYnJpYy51dGlsLmRlZ3JlZXNUb1JhZGlhbnMob2JqZWN0QW5nbGUpO1xuICAgICAgICB2YXIgbmV3VGhldGFDb21wID0gTWF0aC5QSSAvIDIgLSBjb250cm9sVHJpYW5nbGVBbmdsZSAtIGZhYnJpYy51dGlsLmRlZ3JlZXNUb1JhZGlhbnMob2JqZWN0QW5nbGUpO1xuICAgICAgICBjb3NIYWxmT2Zmc2V0ID0gY29ybmVySHlwb3RlbnVzZSAqIGZhYnJpYy51dGlsLmNvcyhuZXdUaGV0YSk7XG4gICAgICAgIHNpbkhhbGZPZmZzZXQgPSBjb3JuZXJIeXBvdGVudXNlICogZmFicmljLnV0aWwuc2luKG5ld1RoZXRhKTtcbiAgICAgICAgLy8gdXNlIGNvbXBsZW1lbnRhcnkgYW5nbGUgZm9yIHR3byBjb3JuZXJzXG4gICAgICAgIGNvc0hhbGZPZmZzZXRDb21wID0gY29ybmVySHlwb3RlbnVzZSAqIGZhYnJpYy51dGlsLmNvcyhuZXdUaGV0YUNvbXApO1xuICAgICAgICBzaW5IYWxmT2Zmc2V0Q29tcCA9IGNvcm5lckh5cG90ZW51c2UgKiBmYWJyaWMudXRpbC5zaW4obmV3VGhldGFDb21wKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICAvLyBoYW5kbGUgc3F1YXJlIGNvcm5lcnNcbiAgICAgICAgLy8gdXNlIGRlZmF1bHQgb2JqZWN0IGNvcm5lciBzaXplIHVubGVzcyBzaXplIGlzIGRlZmluZWRcbiAgICAgICAgdmFyIGNvcm5lclNpemUgPSAoeFNpemUgJiYgeVNpemUpID8geFNpemUgOiBvYmplY3RDb3JuZXJTaXplO1xuICAgICAgICAvKiAwLjcwNzEwNjc4MTIgc3RhbmRzIGZvciBzcXJ0KDIpLzIgKi9cbiAgICAgICAgY29ybmVySHlwb3RlbnVzZSA9IGNvcm5lclNpemUgKiAwLjcwNzEwNjc4MTI7XG4gICAgICAgIC8vIGNvbXBsZW1lbnRhcnkgYW5nbGVzIGFyZSBlcXVhbCBzaW5jZSB0aGV5J3JlIGJvdGggNDUgZGVncmVlc1xuICAgICAgICB2YXIgbmV3VGhldGEgPSBmYWJyaWMudXRpbC5kZWdyZWVzVG9SYWRpYW5zKDQ1IC0gb2JqZWN0QW5nbGUpO1xuICAgICAgICBjb3NIYWxmT2Zmc2V0ID0gY29zSGFsZk9mZnNldENvbXAgPSBjb3JuZXJIeXBvdGVudXNlICogZmFicmljLnV0aWwuY29zKG5ld1RoZXRhKTtcbiAgICAgICAgc2luSGFsZk9mZnNldCA9IHNpbkhhbGZPZmZzZXRDb21wID0gY29ybmVySHlwb3RlbnVzZSAqIGZhYnJpYy51dGlsLnNpbihuZXdUaGV0YSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRsOiB7XG4gICAgICAgICAgeDogY2VudGVyWCAtIHNpbkhhbGZPZmZzZXRDb21wLFxuICAgICAgICAgIHk6IGNlbnRlclkgLSBjb3NIYWxmT2Zmc2V0Q29tcCxcbiAgICAgICAgfSxcbiAgICAgICAgdHI6IHtcbiAgICAgICAgICB4OiBjZW50ZXJYICsgY29zSGFsZk9mZnNldCxcbiAgICAgICAgICB5OiBjZW50ZXJZIC0gc2luSGFsZk9mZnNldCxcbiAgICAgICAgfSxcbiAgICAgICAgYmw6IHtcbiAgICAgICAgICB4OiBjZW50ZXJYIC0gY29zSGFsZk9mZnNldCxcbiAgICAgICAgICB5OiBjZW50ZXJZICsgc2luSGFsZk9mZnNldCxcbiAgICAgICAgfSxcbiAgICAgICAgYnI6IHtcbiAgICAgICAgICB4OiBjZW50ZXJYICsgc2luSGFsZk9mZnNldENvbXAsXG4gICAgICAgICAgeTogY2VudGVyWSArIGNvc0hhbGZPZmZzZXRDb21wLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgKiBSZW5kZXIgZnVuY3Rpb24gZm9yIHRoZSBjb250cm9sLlxuICAgICogV2hlbiB0aGlzIGZ1bmN0aW9uIHJ1bnMgdGhlIGNvbnRleHQgaXMgdW5zY2FsZWQuIHVucm90YXRlLiBKdXN0IHJldGluYSBzY2FsZWQuXG4gICAgKiBhbGwgdGhlIGZ1bmN0aW9ucyB3aWxsIGhhdmUgdG8gdHJhbnNsYXRlIHRvIHRoZSBwb2ludCBsZWZ0LHRvcCBiZWZvcmUgc3RhcnRpbmcgRHJhd2luZ1xuICAgICogaWYgdGhleSB3YW50IHRvIGRyYXcgYSBjb250cm9sIHdoZXJlIHRoZSBwb3NpdGlvbiBpcyBkZXRlY3RlZC5cbiAgICAqIGxlZnQgYW5kIHRvcCBhcmUgdGhlIHJlc3VsdCBvZiB0aGUgcG9zaXRpb25IYW5kbGVyIGZ1bmN0aW9uXG4gICAgKiBAcGFyYW0ge1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IHRoZSBjb250ZXh0IHdoZXJlIHRoZSBjb250cm9sIHdpbGwgYmUgZHJhd25cbiAgICAqIEBwYXJhbSB7TnVtYmVyfSBsZWZ0IHBvc2l0aW9uIG9mIHRoZSBjYW52YXMgd2hlcmUgd2UgYXJlIGFib3V0IHRvIHJlbmRlciB0aGUgY29udHJvbC5cbiAgICAqIEBwYXJhbSB7TnVtYmVyfSB0b3AgcG9zaXRpb24gb2YgdGhlIGNhbnZhcyB3aGVyZSB3ZSBhcmUgYWJvdXQgdG8gcmVuZGVyIHRoZSBjb250cm9sLlxuICAgICogQHBhcmFtIHtPYmplY3R9IHN0eWxlT3ZlcnJpZGVcbiAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gZmFicmljT2JqZWN0IHRoZSBvYmplY3Qgd2hlcmUgdGhlIGNvbnRyb2wgaXMgYWJvdXQgdG8gYmUgcmVuZGVyZWRcbiAgICAqL1xuICAgIHJlbmRlcjogZnVuY3Rpb24oY3R4LCBsZWZ0LCB0b3AsIHN0eWxlT3ZlcnJpZGUsIGZhYnJpY09iamVjdCkge1xuICAgICAgc3R5bGVPdmVycmlkZSA9IHN0eWxlT3ZlcnJpZGUgfHwge307XG4gICAgICBzd2l0Y2ggKHN0eWxlT3ZlcnJpZGUuY29ybmVyU3R5bGUgfHwgZmFicmljT2JqZWN0LmNvcm5lclN0eWxlKSB7XG4gICAgICAgIGNhc2UgJ2NpcmNsZSc6XG4gICAgICAgICAgZmFicmljLmNvbnRyb2xzVXRpbHMucmVuZGVyQ2lyY2xlQ29udHJvbC5jYWxsKHRoaXMsIGN0eCwgbGVmdCwgdG9wLCBzdHlsZU92ZXJyaWRlLCBmYWJyaWNPYmplY3QpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGZhYnJpYy5jb250cm9sc1V0aWxzLnJlbmRlclNxdWFyZUNvbnRyb2wuY2FsbCh0aGlzLCBjdHgsIGxlZnQsIHRvcCwgc3R5bGVPdmVycmlkZSwgZmFicmljT2JqZWN0KTtcbiAgICAgIH1cbiAgICB9LFxuICB9O1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKCkge1xuXG4gIC8qIF9GUk9NX1NWR19TVEFSVF8gKi9cbiAgZnVuY3Rpb24gZ2V0Q29sb3JTdG9wKGVsLCBtdWx0aXBsaWVyKSB7XG4gICAgdmFyIHN0eWxlID0gZWwuZ2V0QXR0cmlidXRlKCdzdHlsZScpLFxuICAgICAgICBvZmZzZXQgPSBlbC5nZXRBdHRyaWJ1dGUoJ29mZnNldCcpIHx8IDAsXG4gICAgICAgIGNvbG9yLCBjb2xvckFscGhhLCBvcGFjaXR5LCBpO1xuXG4gICAgLy8gY29udmVydCBwZXJjZW50cyB0byBhYnNvbHV0ZSB2YWx1ZXNcbiAgICBvZmZzZXQgPSBwYXJzZUZsb2F0KG9mZnNldCkgLyAoLyUkLy50ZXN0KG9mZnNldCkgPyAxMDAgOiAxKTtcbiAgICBvZmZzZXQgPSBvZmZzZXQgPCAwID8gMCA6IG9mZnNldCA+IDEgPyAxIDogb2Zmc2V0O1xuICAgIGlmIChzdHlsZSkge1xuICAgICAgdmFyIGtleVZhbHVlUGFpcnMgPSBzdHlsZS5zcGxpdCgvXFxzKjtcXHMqLyk7XG5cbiAgICAgIGlmIChrZXlWYWx1ZVBhaXJzW2tleVZhbHVlUGFpcnMubGVuZ3RoIC0gMV0gPT09ICcnKSB7XG4gICAgICAgIGtleVZhbHVlUGFpcnMucG9wKCk7XG4gICAgICB9XG5cbiAgICAgIGZvciAoaSA9IGtleVZhbHVlUGFpcnMubGVuZ3RoOyBpLS07ICkge1xuXG4gICAgICAgIHZhciBzcGxpdCA9IGtleVZhbHVlUGFpcnNbaV0uc3BsaXQoL1xccyo6XFxzKi8pLFxuICAgICAgICAgICAga2V5ID0gc3BsaXRbMF0udHJpbSgpLFxuICAgICAgICAgICAgdmFsdWUgPSBzcGxpdFsxXS50cmltKCk7XG5cbiAgICAgICAgaWYgKGtleSA9PT0gJ3N0b3AtY29sb3InKSB7XG4gICAgICAgICAgY29sb3IgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChrZXkgPT09ICdzdG9wLW9wYWNpdHknKSB7XG4gICAgICAgICAgb3BhY2l0eSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFjb2xvcikge1xuICAgICAgY29sb3IgPSBlbC5nZXRBdHRyaWJ1dGUoJ3N0b3AtY29sb3InKSB8fCAncmdiKDAsMCwwKSc7XG4gICAgfVxuICAgIGlmICghb3BhY2l0eSkge1xuICAgICAgb3BhY2l0eSA9IGVsLmdldEF0dHJpYnV0ZSgnc3RvcC1vcGFjaXR5Jyk7XG4gICAgfVxuXG4gICAgY29sb3IgPSBuZXcgZmFicmljLkNvbG9yKGNvbG9yKTtcbiAgICBjb2xvckFscGhhID0gY29sb3IuZ2V0QWxwaGEoKTtcbiAgICBvcGFjaXR5ID0gaXNOYU4ocGFyc2VGbG9hdChvcGFjaXR5KSkgPyAxIDogcGFyc2VGbG9hdChvcGFjaXR5KTtcbiAgICBvcGFjaXR5ICo9IGNvbG9yQWxwaGEgKiBtdWx0aXBsaWVyO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIG9mZnNldDogb2Zmc2V0LFxuICAgICAgY29sb3I6IGNvbG9yLnRvUmdiKCksXG4gICAgICBvcGFjaXR5OiBvcGFjaXR5XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldExpbmVhckNvb3JkcyhlbCkge1xuICAgIHJldHVybiB7XG4gICAgICB4MTogZWwuZ2V0QXR0cmlidXRlKCd4MScpIHx8IDAsXG4gICAgICB5MTogZWwuZ2V0QXR0cmlidXRlKCd5MScpIHx8IDAsXG4gICAgICB4MjogZWwuZ2V0QXR0cmlidXRlKCd4MicpIHx8ICcxMDAlJyxcbiAgICAgIHkyOiBlbC5nZXRBdHRyaWJ1dGUoJ3kyJykgfHwgMFxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBnZXRSYWRpYWxDb29yZHMoZWwpIHtcbiAgICByZXR1cm4ge1xuICAgICAgeDE6IGVsLmdldEF0dHJpYnV0ZSgnZngnKSB8fCBlbC5nZXRBdHRyaWJ1dGUoJ2N4JykgfHwgJzUwJScsXG4gICAgICB5MTogZWwuZ2V0QXR0cmlidXRlKCdmeScpIHx8IGVsLmdldEF0dHJpYnV0ZSgnY3knKSB8fCAnNTAlJyxcbiAgICAgIHIxOiAwLFxuICAgICAgeDI6IGVsLmdldEF0dHJpYnV0ZSgnY3gnKSB8fCAnNTAlJyxcbiAgICAgIHkyOiBlbC5nZXRBdHRyaWJ1dGUoJ2N5JykgfHwgJzUwJScsXG4gICAgICByMjogZWwuZ2V0QXR0cmlidXRlKCdyJykgfHwgJzUwJSdcbiAgICB9O1xuICB9XG4gIC8qIF9GUk9NX1NWR19FTkRfICovXG5cbiAgdmFyIGNsb25lID0gZmFicmljLnV0aWwub2JqZWN0LmNsb25lO1xuXG4gIC8qKlxuICAgKiBHcmFkaWVudCBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkdyYWRpZW50XG4gICAqIEB0dXRvcmlhbCB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9mYWJyaWMtaW50cm8tcGFydC0yI2dyYWRpZW50c31cbiAgICogQHNlZSB7QGxpbmsgZmFicmljLkdyYWRpZW50I2luaXRpYWxpemV9IGZvciBjb25zdHJ1Y3RvciBkZWZpbml0aW9uXG4gICAqL1xuICBmYWJyaWMuR3JhZGllbnQgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcygvKiogQGxlbmRzIGZhYnJpYy5HcmFkaWVudC5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogSG9yaXpvbnRhbCBvZmZzZXQgZm9yIGFsaWduaW5nIGdyYWRpZW50cyBjb21pbmcgZnJvbSBTVkcgd2hlbiBvdXRzaWRlIHBhdGhncm91cHNcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgb2Zmc2V0WDogMCxcblxuICAgIC8qKlxuICAgICAqIFZlcnRpY2FsIG9mZnNldCBmb3IgYWxpZ25pbmcgZ3JhZGllbnRzIGNvbWluZyBmcm9tIFNWRyB3aGVuIG91dHNpZGUgcGF0aGdyb3Vwc1xuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICBvZmZzZXRZOiAwLFxuXG4gICAgLyoqXG4gICAgICogQSB0cmFuc2Zvcm0gbWF0cml4IHRvIGFwcGx5IHRvIHRoZSBncmFkaWVudCBiZWZvcmUgcGFpbnRpbmcuXG4gICAgICogSW1wb3J0ZWQgZnJvbSBzdmcgZ3JhZGllbnRzLCBpcyBub3QgYXBwbGllZCB3aXRoIHRoZSBjdXJyZW50IHRyYW5zZm9ybSBpbiB0aGUgY2VudGVyLlxuICAgICAqIEJlZm9yZSB0aGlzIHRyYW5zZm9ybSBpcyBhcHBsaWVkLCB0aGUgb3JpZ2luIHBvaW50IGlzIGF0IHRoZSB0b3AgbGVmdCBjb3JuZXIgb2YgdGhlIG9iamVjdFxuICAgICAqIHBsdXMgdGhlIGFkZGl0aW9uIG9mIG9mZnNldFkgYW5kIG9mZnNldFguXG4gICAgICogQHR5cGUgTnVtYmVyW11cbiAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICovXG4gICAgZ3JhZGllbnRUcmFuc2Zvcm06IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBjb29yZGluYXRlcyB1bml0cyBmb3IgY29vcmRzLlxuICAgICAqIElmIGBwaXhlbHNgLCB0aGUgbnVtYmVyIG9mIGNvb3JkcyBhcmUgaW4gdGhlIHNhbWUgdW5pdCBvZiB3aWR0aCAvIGhlaWdodC5cbiAgICAgKiBJZiBzZXQgYXMgYHBlcmNlbnRhZ2VgIHRoZSBjb29yZHMgYXJlIHN0aWxsIGEgbnVtYmVyLCBidXQgMSBtZWFucyAxMDAlIG9mIHdpZHRoXG4gICAgICogZm9yIHRoZSBYIGFuZCAxMDAlIG9mIHRoZSBoZWlnaHQgZm9yIHRoZSB5LiBJdCBjYW4gYmUgYmlnZ2VyIHRoYW4gMSBhbmQgbmVnYXRpdmUuXG4gICAgICogYWxsb3dlZCB2YWx1ZXMgcGl4ZWxzIG9yIHBlcmNlbnRhZ2UuXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHQgJ3BpeGVscydcbiAgICAgKi9cbiAgICBncmFkaWVudFVuaXRzOiAncGl4ZWxzJyxcblxuICAgIC8qKlxuICAgICAqIEdyYWRpZW50IHR5cGUgbGluZWFyIG9yIHJhZGlhbFxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0ICdwaXhlbHMnXG4gICAgICovXG4gICAgdHlwZTogJ2xpbmVhcicsXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIE9wdGlvbnMgb2JqZWN0IHdpdGggdHlwZSwgY29vcmRzLCBncmFkaWVudFVuaXRzIGFuZCBjb2xvclN0b3BzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLnR5cGVdIGdyYWRpZW50IHR5cGUgbGluZWFyIG9yIHJhZGlhbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5ncmFkaWVudFVuaXRzXSBncmFkaWVudCB1bml0c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5vZmZzZXRYXSBTVkcgaW1wb3J0IGNvbXBhdGliaWxpdHlcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMub2Zmc2V0WV0gU1ZHIGltcG9ydCBjb21wYXRpYmlsaXR5XG4gICAgICogQHBhcmFtIHtPYmplY3RbXX0gb3B0aW9ucy5jb2xvclN0b3BzIGNvbnRhaW5zIHRoZSBjb2xvcnN0b3BzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLmNvb3JkcyBjb250YWlucyB0aGUgY29vcmRzIG9mIHRoZSBncmFkaWVudFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5jb29yZHMueDFdIFggY29vcmRpYW50ZSBvZiB0aGUgZmlyc3QgcG9pbnQgZm9yIGxpbmVhciBvciBvZiB0aGUgZm9jYWwgcG9pbnQgZm9yIHJhZGlhbFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5jb29yZHMueTFdIFkgY29vcmRpYW50ZSBvZiB0aGUgZmlyc3QgcG9pbnQgZm9yIGxpbmVhciBvciBvZiB0aGUgZm9jYWwgcG9pbnQgZm9yIHJhZGlhbFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5jb29yZHMueDJdIFggY29vcmRpYW50ZSBvZiB0aGUgc2Vjb25kIHBvaW50IGZvciBsaW5lYXIgb3Igb2YgdGhlIGNlbnRlciBwb2ludCBmb3IgcmFkaWFsXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmNvb3Jkcy55Ml0gWSBjb29yZGlhbnRlIG9mIHRoZSBzZWNvbmQgcG9pbnQgZm9yIGxpbmVhciBvciBvZiB0aGUgY2VudGVyIHBvaW50IGZvciByYWRpYWxcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuY29vcmRzLnIxXSBvbmx5IGZvciByYWRpYWwgZ3JhZGllbnQsIHJhZGl1cyBvZiB0aGUgaW5uZXIgY2lyY2xlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmNvb3Jkcy5yMl0gb25seSBmb3IgcmFkaWFsIGdyYWRpZW50LCByYWRpdXMgb2YgdGhlIGV4dGVybmFsIGNpcmNsZVxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5HcmFkaWVudH0gdGhpc0FyZ1xuICAgICAqL1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7IH0pO1xuICAgICAgb3B0aW9ucy5jb29yZHMgfHwgKG9wdGlvbnMuY29vcmRzID0geyB9KTtcblxuICAgICAgdmFyIGNvb3JkcywgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAvLyBzZXRzIGV2ZXJ5dGhpbmcsIHRoZW4gY29vcmRzIGFuZCBjb2xvcnN0b3BzIGdldCBzZXRzIGFnYWluXG4gICAgICBPYmplY3Qua2V5cyhvcHRpb25zKS5mb3JFYWNoKGZ1bmN0aW9uKG9wdGlvbikge1xuICAgICAgICBfdGhpc1tvcHRpb25dID0gb3B0aW9uc1tvcHRpb25dO1xuICAgICAgfSk7XG5cbiAgICAgIGlmICh0aGlzLmlkKSB7XG4gICAgICAgIHRoaXMuaWQgKz0gJ18nICsgZmFicmljLk9iamVjdC5fX3VpZCsrO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuaWQgPSBmYWJyaWMuT2JqZWN0Ll9fdWlkKys7XG4gICAgICB9XG5cbiAgICAgIGNvb3JkcyA9IHtcbiAgICAgICAgeDE6IG9wdGlvbnMuY29vcmRzLngxIHx8IDAsXG4gICAgICAgIHkxOiBvcHRpb25zLmNvb3Jkcy55MSB8fCAwLFxuICAgICAgICB4Mjogb3B0aW9ucy5jb29yZHMueDIgfHwgMCxcbiAgICAgICAgeTI6IG9wdGlvbnMuY29vcmRzLnkyIHx8IDBcbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLnR5cGUgPT09ICdyYWRpYWwnKSB7XG4gICAgICAgIGNvb3Jkcy5yMSA9IG9wdGlvbnMuY29vcmRzLnIxIHx8IDA7XG4gICAgICAgIGNvb3Jkcy5yMiA9IG9wdGlvbnMuY29vcmRzLnIyIHx8IDA7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY29vcmRzID0gY29vcmRzO1xuICAgICAgdGhpcy5jb2xvclN0b3BzID0gb3B0aW9ucy5jb2xvclN0b3BzLnNsaWNlKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYW5vdGhlciBjb2xvclN0b3BcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29sb3JTdG9wIE9iamVjdCB3aXRoIG9mZnNldCBhbmQgY29sb3JcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuR3JhZGllbnR9IHRoaXNBcmdcbiAgICAgKi9cbiAgICBhZGRDb2xvclN0b3A6IGZ1bmN0aW9uKGNvbG9yU3RvcHMpIHtcbiAgICAgIGZvciAodmFyIHBvc2l0aW9uIGluIGNvbG9yU3RvcHMpIHtcbiAgICAgICAgdmFyIGNvbG9yID0gbmV3IGZhYnJpYy5Db2xvcihjb2xvclN0b3BzW3Bvc2l0aW9uXSk7XG4gICAgICAgIHRoaXMuY29sb3JTdG9wcy5wdXNoKHtcbiAgICAgICAgICBvZmZzZXQ6IHBhcnNlRmxvYXQocG9zaXRpb24pLFxuICAgICAgICAgIGNvbG9yOiBjb2xvci50b1JnYigpLFxuICAgICAgICAgIG9wYWNpdHk6IGNvbG9yLmdldEFscGhhKClcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYSBncmFkaWVudFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wZXJ0aWVzVG9JbmNsdWRlXSBBbnkgcHJvcGVydGllcyB0aGF0IHlvdSBtaWdodCB3YW50IHRvIGFkZGl0aW9uYWxseSBpbmNsdWRlIGluIHRoZSBvdXRwdXRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAgICovXG4gICAgdG9PYmplY3Q6IGZ1bmN0aW9uKHByb3BlcnRpZXNUb0luY2x1ZGUpIHtcbiAgICAgIHZhciBvYmplY3QgPSB7XG4gICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgY29vcmRzOiB0aGlzLmNvb3JkcyxcbiAgICAgICAgY29sb3JTdG9wczogdGhpcy5jb2xvclN0b3BzLFxuICAgICAgICBvZmZzZXRYOiB0aGlzLm9mZnNldFgsXG4gICAgICAgIG9mZnNldFk6IHRoaXMub2Zmc2V0WSxcbiAgICAgICAgZ3JhZGllbnRVbml0czogdGhpcy5ncmFkaWVudFVuaXRzLFxuICAgICAgICBncmFkaWVudFRyYW5zZm9ybTogdGhpcy5ncmFkaWVudFRyYW5zZm9ybSA/IHRoaXMuZ3JhZGllbnRUcmFuc2Zvcm0uY29uY2F0KCkgOiB0aGlzLmdyYWRpZW50VHJhbnNmb3JtXG4gICAgICB9O1xuICAgICAgZmFicmljLnV0aWwucG9wdWxhdGVXaXRoUHJvcGVydGllcyh0aGlzLCBvYmplY3QsIHByb3BlcnRpZXNUb0luY2x1ZGUpO1xuXG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH0sXG5cbiAgICAvKiBfVE9fU1ZHX1NUQVJUXyAqL1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgU1ZHIHJlcHJlc2VudGF0aW9uIG9mIGFuIGdyYWRpZW50XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY3JlYXRlIGEgZ3JhZGllbnQgZm9yXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBTVkcgcmVwcmVzZW50YXRpb24gb2YgYW4gZ3JhZGllbnQgKGxpbmVhci9yYWRpYWwpXG4gICAgICovXG4gICAgdG9TVkc6IGZ1bmN0aW9uKG9iamVjdCwgb3B0aW9ucykge1xuICAgICAgdmFyIGNvb3JkcyA9IGNsb25lKHRoaXMuY29vcmRzLCB0cnVlKSwgaSwgbGVuLCBvcHRpb25zID0gb3B0aW9ucyB8fCB7fSxcbiAgICAgICAgICBtYXJrdXAsIGNvbW1vbkF0dHJpYnV0ZXMsIGNvbG9yU3RvcHMgPSBjbG9uZSh0aGlzLmNvbG9yU3RvcHMsIHRydWUpLFxuICAgICAgICAgIG5lZWRzU3dhcCA9IGNvb3Jkcy5yMSA+IGNvb3Jkcy5yMixcbiAgICAgICAgICB0cmFuc2Zvcm0gPSB0aGlzLmdyYWRpZW50VHJhbnNmb3JtID8gdGhpcy5ncmFkaWVudFRyYW5zZm9ybS5jb25jYXQoKSA6IGZhYnJpYy5pTWF0cml4LmNvbmNhdCgpLFxuICAgICAgICAgIG9mZnNldFggPSAtdGhpcy5vZmZzZXRYLCBvZmZzZXRZID0gLXRoaXMub2Zmc2V0WSxcbiAgICAgICAgICB3aXRoVmlld3BvcnQgPSAhIW9wdGlvbnMuYWRkaXRpb25hbFRyYW5zZm9ybSxcbiAgICAgICAgICBncmFkaWVudFVuaXRzID0gdGhpcy5ncmFkaWVudFVuaXRzID09PSAncGl4ZWxzJyA/ICd1c2VyU3BhY2VPblVzZScgOiAnb2JqZWN0Qm91bmRpbmdCb3gnO1xuICAgICAgLy8gY29sb3JTdG9wcyBtdXN0IGJlIHNvcnRlZCBhc2NlbmRpbmdcbiAgICAgIGNvbG9yU3RvcHMuc29ydChmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgIHJldHVybiBhLm9mZnNldCAtIGIub2Zmc2V0O1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChncmFkaWVudFVuaXRzID09PSAnb2JqZWN0Qm91bmRpbmdCb3gnKSB7XG4gICAgICAgIG9mZnNldFggLz0gb2JqZWN0LndpZHRoO1xuICAgICAgICBvZmZzZXRZIC89IG9iamVjdC5oZWlnaHQ7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgb2Zmc2V0WCArPSBvYmplY3Qud2lkdGggLyAyO1xuICAgICAgICBvZmZzZXRZICs9IG9iamVjdC5oZWlnaHQgLyAyO1xuICAgICAgfVxuICAgICAgaWYgKG9iamVjdC50eXBlID09PSAncGF0aCcgJiYgdGhpcy5ncmFkaWVudFVuaXRzICE9PSAncGVyY2VudGFnZScpIHtcbiAgICAgICAgb2Zmc2V0WCAtPSBvYmplY3QucGF0aE9mZnNldC54O1xuICAgICAgICBvZmZzZXRZIC09IG9iamVjdC5wYXRoT2Zmc2V0Lnk7XG4gICAgICB9XG5cblxuICAgICAgdHJhbnNmb3JtWzRdIC09IG9mZnNldFg7XG4gICAgICB0cmFuc2Zvcm1bNV0gLT0gb2Zmc2V0WTtcblxuICAgICAgY29tbW9uQXR0cmlidXRlcyA9ICdpZD1cIlNWR0lEXycgKyB0aGlzLmlkICtcbiAgICAgICAgICAgICAgICAgICAgICdcIiBncmFkaWVudFVuaXRzPVwiJyArIGdyYWRpZW50VW5pdHMgKyAnXCInO1xuICAgICAgY29tbW9uQXR0cmlidXRlcyArPSAnIGdyYWRpZW50VHJhbnNmb3JtPVwiJyArICh3aXRoVmlld3BvcnQgP1xuICAgICAgICBvcHRpb25zLmFkZGl0aW9uYWxUcmFuc2Zvcm0gKyAnICcgOiAnJykgKyBmYWJyaWMudXRpbC5tYXRyaXhUb1NWRyh0cmFuc2Zvcm0pICsgJ1wiICc7XG5cbiAgICAgIGlmICh0aGlzLnR5cGUgPT09ICdsaW5lYXInKSB7XG4gICAgICAgIG1hcmt1cCA9IFtcbiAgICAgICAgICAnPGxpbmVhckdyYWRpZW50ICcsXG4gICAgICAgICAgY29tbW9uQXR0cmlidXRlcyxcbiAgICAgICAgICAnIHgxPVwiJywgY29vcmRzLngxLFxuICAgICAgICAgICdcIiB5MT1cIicsIGNvb3Jkcy55MSxcbiAgICAgICAgICAnXCIgeDI9XCInLCBjb29yZHMueDIsXG4gICAgICAgICAgJ1wiIHkyPVwiJywgY29vcmRzLnkyLFxuICAgICAgICAgICdcIj5cXG4nXG4gICAgICAgIF07XG4gICAgICB9XG4gICAgICBlbHNlIGlmICh0aGlzLnR5cGUgPT09ICdyYWRpYWwnKSB7XG4gICAgICAgIC8vIHN2ZyByYWRpYWwgZ3JhZGllbnQgaGFzIGp1c3QgMSByYWRpdXMuIHRoZSBiaWdnZXN0LlxuICAgICAgICBtYXJrdXAgPSBbXG4gICAgICAgICAgJzxyYWRpYWxHcmFkaWVudCAnLFxuICAgICAgICAgIGNvbW1vbkF0dHJpYnV0ZXMsXG4gICAgICAgICAgJyBjeD1cIicsIG5lZWRzU3dhcCA/IGNvb3Jkcy54MSA6IGNvb3Jkcy54MixcbiAgICAgICAgICAnXCIgY3k9XCInLCBuZWVkc1N3YXAgPyBjb29yZHMueTEgOiBjb29yZHMueTIsXG4gICAgICAgICAgJ1wiIHI9XCInLCBuZWVkc1N3YXAgPyBjb29yZHMucjEgOiBjb29yZHMucjIsXG4gICAgICAgICAgJ1wiIGZ4PVwiJywgbmVlZHNTd2FwID8gY29vcmRzLngyIDogY29vcmRzLngxLFxuICAgICAgICAgICdcIiBmeT1cIicsIG5lZWRzU3dhcCA/IGNvb3Jkcy55MiA6IGNvb3Jkcy55MSxcbiAgICAgICAgICAnXCI+XFxuJ1xuICAgICAgICBdO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy50eXBlID09PSAncmFkaWFsJykge1xuICAgICAgICBpZiAobmVlZHNTd2FwKSB7XG4gICAgICAgICAgLy8gc3ZnIGdvZXMgZnJvbSBpbnRlcm5hbCB0byBleHRlcm5hbCByYWRpdXMuIGlmIHJhZGl1cyBhcmUgaW52ZXJ0ZWQsIHN3YXAgY29sb3Igc3RvcHMuXG4gICAgICAgICAgY29sb3JTdG9wcyA9IGNvbG9yU3RvcHMuY29uY2F0KCk7XG4gICAgICAgICAgY29sb3JTdG9wcy5yZXZlcnNlKCk7XG4gICAgICAgICAgZm9yIChpID0gMCwgbGVuID0gY29sb3JTdG9wcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgY29sb3JTdG9wc1tpXS5vZmZzZXQgPSAxIC0gY29sb3JTdG9wc1tpXS5vZmZzZXQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBtaW5SYWRpdXMgPSBNYXRoLm1pbihjb29yZHMucjEsIGNvb3Jkcy5yMik7XG4gICAgICAgIGlmIChtaW5SYWRpdXMgPiAwKSB7XG4gICAgICAgICAgLy8gaSBoYXZlIHRvIHNoaWZ0IGFsbCBjb2xvclN0b3BzIGFuZCBhZGQgbmV3IG9uZSBpbiAwLlxuICAgICAgICAgIHZhciBtYXhSYWRpdXMgPSBNYXRoLm1heChjb29yZHMucjEsIGNvb3Jkcy5yMiksXG4gICAgICAgICAgICAgIHBlcmNlbnRhZ2VTaGlmdCA9IG1pblJhZGl1cyAvIG1heFJhZGl1cztcbiAgICAgICAgICBmb3IgKGkgPSAwLCBsZW4gPSBjb2xvclN0b3BzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBjb2xvclN0b3BzW2ldLm9mZnNldCArPSBwZXJjZW50YWdlU2hpZnQgKiAoMSAtIGNvbG9yU3RvcHNbaV0ub2Zmc2V0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZm9yIChpID0gMCwgbGVuID0gY29sb3JTdG9wcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgY29sb3JTdG9wID0gY29sb3JTdG9wc1tpXTtcbiAgICAgICAgbWFya3VwLnB1c2goXG4gICAgICAgICAgJzxzdG9wICcsXG4gICAgICAgICAgJ29mZnNldD1cIicsIChjb2xvclN0b3Aub2Zmc2V0ICogMTAwKSArICclJyxcbiAgICAgICAgICAnXCIgc3R5bGU9XCJzdG9wLWNvbG9yOicsIGNvbG9yU3RvcC5jb2xvcixcbiAgICAgICAgICAodHlwZW9mIGNvbG9yU3RvcC5vcGFjaXR5ICE9PSAndW5kZWZpbmVkJyA/ICc7c3RvcC1vcGFjaXR5OiAnICsgY29sb3JTdG9wLm9wYWNpdHkgOiAnOycpLFxuICAgICAgICAgICdcIi8+XFxuJ1xuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBtYXJrdXAucHVzaCgodGhpcy50eXBlID09PSAnbGluZWFyJyA/ICc8L2xpbmVhckdyYWRpZW50PlxcbicgOiAnPC9yYWRpYWxHcmFkaWVudD5cXG4nKSk7XG5cbiAgICAgIHJldHVybiBtYXJrdXAuam9pbignJyk7XG4gICAgfSxcbiAgICAvKiBfVE9fU1ZHX0VORF8gKi9cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gaW5zdGFuY2Ugb2YgQ2FudmFzR3JhZGllbnRcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICogQHJldHVybiB7Q2FudmFzR3JhZGllbnR9XG4gICAgICovXG4gICAgdG9MaXZlOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIHZhciBncmFkaWVudCwgY29vcmRzID0gZmFicmljLnV0aWwub2JqZWN0LmNsb25lKHRoaXMuY29vcmRzKSwgaSwgbGVuO1xuXG4gICAgICBpZiAoIXRoaXMudHlwZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnR5cGUgPT09ICdsaW5lYXInKSB7XG4gICAgICAgIGdyYWRpZW50ID0gY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KFxuICAgICAgICAgIGNvb3Jkcy54MSwgY29vcmRzLnkxLCBjb29yZHMueDIsIGNvb3Jkcy55Mik7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICh0aGlzLnR5cGUgPT09ICdyYWRpYWwnKSB7XG4gICAgICAgIGdyYWRpZW50ID0gY3R4LmNyZWF0ZVJhZGlhbEdyYWRpZW50KFxuICAgICAgICAgIGNvb3Jkcy54MSwgY29vcmRzLnkxLCBjb29yZHMucjEsIGNvb3Jkcy54MiwgY29vcmRzLnkyLCBjb29yZHMucjIpO1xuICAgICAgfVxuXG4gICAgICBmb3IgKGkgPSAwLCBsZW4gPSB0aGlzLmNvbG9yU3RvcHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIGNvbG9yID0gdGhpcy5jb2xvclN0b3BzW2ldLmNvbG9yLFxuICAgICAgICAgICAgb3BhY2l0eSA9IHRoaXMuY29sb3JTdG9wc1tpXS5vcGFjaXR5LFxuICAgICAgICAgICAgb2Zmc2V0ID0gdGhpcy5jb2xvclN0b3BzW2ldLm9mZnNldDtcblxuICAgICAgICBpZiAodHlwZW9mIG9wYWNpdHkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgY29sb3IgPSBuZXcgZmFicmljLkNvbG9yKGNvbG9yKS5zZXRBbHBoYShvcGFjaXR5KS50b1JnYmEoKTtcbiAgICAgICAgfVxuICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3Aob2Zmc2V0LCBjb2xvcik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBncmFkaWVudDtcbiAgICB9XG4gIH0pO1xuXG4gIGZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQoZmFicmljLkdyYWRpZW50LCB7XG5cbiAgICAvKiBfRlJPTV9TVkdfU1RBUlRfICovXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB7QGxpbmsgZmFicmljLkdyYWRpZW50fSBpbnN0YW5jZSBmcm9tIGFuIFNWRyBlbGVtZW50XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMuR3JhZGllbnRcbiAgICAgKiBAcGFyYW0ge1NWR0dyYWRpZW50RWxlbWVudH0gZWwgU1ZHIGdyYWRpZW50IGVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG9wYWNpdHlBdHRyIEEgZmlsbC1vcGFjaXR5IG9yIHN0cm9rZS1vcGFjaXR5IGF0dHJpYnV0ZSB0byBtdWx0aXBseSB0byBlYWNoIHN0b3AncyBvcGFjaXR5LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdmdPcHRpb25zIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzaXplIG9mIHRoZSBTVkcgaW4gb3JkZXIgdG8gcGFyc2UgY29ycmVjdGx5IGdyYWRpZW50c1xuICAgICAqIHRoYXQgdXNlcyBncmFkaWVudFVuaXRzIGFzICd1c2VyU3BhY2VPblVzZScgYW5kIHBlcmNlbnRhZ2VzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0Lm51bWJlcn0gdmlld0JveFdpZHRoIHdpZHRoIHBhcnQgb2YgdGhlIHZpZXdCb3ggYXR0cmlidXRlIG9uIHN2Z1xuICAgICAqIEBwYXJhbSB7T2JqZWN0Lm51bWJlcn0gdmlld0JveEhlaWdodCBoZWlnaHQgcGFydCBvZiB0aGUgdmlld0JveCBhdHRyaWJ1dGUgb24gc3ZnXG4gICAgICogQHBhcmFtIHtPYmplY3QubnVtYmVyfSB3aWR0aCB3aWR0aCBwYXJ0IG9mIHRoZSBzdmcgdGFnIGlmIHZpZXdCb3ggaXMgbm90IHNwZWNpZmllZFxuICAgICAqIEBwYXJhbSB7T2JqZWN0Lm51bWJlcn0gaGVpZ2h0IGhlaWdodCBwYXJ0IG9mIHRoZSBzdmcgdGFnIGlmIHZpZXdCb3ggaXMgbm90IHNwZWNpZmllZFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5HcmFkaWVudH0gR3JhZGllbnQgaW5zdGFuY2VcbiAgICAgKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL1NWRy9wc2VydmVycy5odG1sI0xpbmVhckdyYWRpZW50RWxlbWVudFxuICAgICAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHL3BzZXJ2ZXJzLmh0bWwjUmFkaWFsR3JhZGllbnRFbGVtZW50XG4gICAgICovXG4gICAgZnJvbUVsZW1lbnQ6IGZ1bmN0aW9uKGVsLCBpbnN0YW5jZSwgb3BhY2l0eUF0dHIsIHN2Z09wdGlvbnMpIHtcbiAgICAgIC8qKlxuICAgICAgICogIEBleGFtcGxlOlxuICAgICAgICpcbiAgICAgICAqICA8bGluZWFyR3JhZGllbnQgaWQ9XCJsaW5lYXJHcmFkMVwiPlxuICAgICAgICogICAgPHN0b3Agb2Zmc2V0PVwiMCVcIiBzdG9wLWNvbG9yPVwid2hpdGVcIi8+XG4gICAgICAgKiAgICA8c3RvcCBvZmZzZXQ9XCIxMDAlXCIgc3RvcC1jb2xvcj1cImJsYWNrXCIvPlxuICAgICAgICogIDwvbGluZWFyR3JhZGllbnQ+XG4gICAgICAgKlxuICAgICAgICogIE9SXG4gICAgICAgKlxuICAgICAgICogIDxsaW5lYXJHcmFkaWVudCBpZD1cImxpbmVhckdyYWQyXCI+XG4gICAgICAgKiAgICA8c3RvcCBvZmZzZXQ9XCIwXCIgc3R5bGU9XCJzdG9wLWNvbG9yOnJnYigyNTUsMjU1LDI1NSlcIi8+XG4gICAgICAgKiAgICA8c3RvcCBvZmZzZXQ9XCIxXCIgc3R5bGU9XCJzdG9wLWNvbG9yOnJnYigwLDAsMClcIi8+XG4gICAgICAgKiAgPC9saW5lYXJHcmFkaWVudD5cbiAgICAgICAqXG4gICAgICAgKiAgT1JcbiAgICAgICAqXG4gICAgICAgKiAgPHJhZGlhbEdyYWRpZW50IGlkPVwicmFkaWFsR3JhZDFcIj5cbiAgICAgICAqICAgIDxzdG9wIG9mZnNldD1cIjAlXCIgc3RvcC1jb2xvcj1cIndoaXRlXCIgc3RvcC1vcGFjaXR5PVwiMVwiIC8+XG4gICAgICAgKiAgICA8c3RvcCBvZmZzZXQ9XCI1MCVcIiBzdG9wLWNvbG9yPVwiYmxhY2tcIiBzdG9wLW9wYWNpdHk9XCIwLjVcIiAvPlxuICAgICAgICogICAgPHN0b3Agb2Zmc2V0PVwiMTAwJVwiIHN0b3AtY29sb3I9XCJ3aGl0ZVwiIHN0b3Atb3BhY2l0eT1cIjFcIiAvPlxuICAgICAgICogIDwvcmFkaWFsR3JhZGllbnQ+XG4gICAgICAgKlxuICAgICAgICogIE9SXG4gICAgICAgKlxuICAgICAgICogIDxyYWRpYWxHcmFkaWVudCBpZD1cInJhZGlhbEdyYWQyXCI+XG4gICAgICAgKiAgICA8c3RvcCBvZmZzZXQ9XCIwXCIgc3RvcC1jb2xvcj1cInJnYigyNTUsMjU1LDI1NSlcIiAvPlxuICAgICAgICogICAgPHN0b3Agb2Zmc2V0PVwiMC41XCIgc3RvcC1jb2xvcj1cInJnYigwLDAsMClcIiAvPlxuICAgICAgICogICAgPHN0b3Agb2Zmc2V0PVwiMVwiIHN0b3AtY29sb3I9XCJyZ2IoMjU1LDI1NSwyNTUpXCIgLz5cbiAgICAgICAqICA8L3JhZGlhbEdyYWRpZW50PlxuICAgICAgICpcbiAgICAgICAqL1xuXG4gICAgICB2YXIgbXVsdGlwbGllciA9IHBhcnNlRmxvYXQob3BhY2l0eUF0dHIpIC8gKC8lJC8udGVzdChvcGFjaXR5QXR0cikgPyAxMDAgOiAxKTtcbiAgICAgIG11bHRpcGxpZXIgPSBtdWx0aXBsaWVyIDwgMCA/IDAgOiBtdWx0aXBsaWVyID4gMSA/IDEgOiBtdWx0aXBsaWVyO1xuICAgICAgaWYgKGlzTmFOKG11bHRpcGxpZXIpKSB7XG4gICAgICAgIG11bHRpcGxpZXIgPSAxO1xuICAgICAgfVxuXG4gICAgICB2YXIgY29sb3JTdG9wRWxzID0gZWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3N0b3AnKSxcbiAgICAgICAgICB0eXBlLFxuICAgICAgICAgIGdyYWRpZW50VW5pdHMgPSBlbC5nZXRBdHRyaWJ1dGUoJ2dyYWRpZW50VW5pdHMnKSA9PT0gJ3VzZXJTcGFjZU9uVXNlJyA/XG4gICAgICAgICAgICAncGl4ZWxzJyA6ICdwZXJjZW50YWdlJyxcbiAgICAgICAgICBncmFkaWVudFRyYW5zZm9ybSA9IGVsLmdldEF0dHJpYnV0ZSgnZ3JhZGllbnRUcmFuc2Zvcm0nKSB8fCAnJyxcbiAgICAgICAgICBjb2xvclN0b3BzID0gW10sXG4gICAgICAgICAgY29vcmRzLCBpLCBvZmZzZXRYID0gMCwgb2Zmc2V0WSA9IDAsXG4gICAgICAgICAgdHJhbnNmb3JtTWF0cml4O1xuICAgICAgaWYgKGVsLm5vZGVOYW1lID09PSAnbGluZWFyR3JhZGllbnQnIHx8IGVsLm5vZGVOYW1lID09PSAnTElORUFSR1JBRElFTlQnKSB7XG4gICAgICAgIHR5cGUgPSAnbGluZWFyJztcbiAgICAgICAgY29vcmRzID0gZ2V0TGluZWFyQ29vcmRzKGVsKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0eXBlID0gJ3JhZGlhbCc7XG4gICAgICAgIGNvb3JkcyA9IGdldFJhZGlhbENvb3JkcyhlbCk7XG4gICAgICB9XG5cbiAgICAgIGZvciAoaSA9IGNvbG9yU3RvcEVscy5sZW5ndGg7IGktLTsgKSB7XG4gICAgICAgIGNvbG9yU3RvcHMucHVzaChnZXRDb2xvclN0b3AoY29sb3JTdG9wRWxzW2ldLCBtdWx0aXBsaWVyKSk7XG4gICAgICB9XG5cbiAgICAgIHRyYW5zZm9ybU1hdHJpeCA9IGZhYnJpYy5wYXJzZVRyYW5zZm9ybUF0dHJpYnV0ZShncmFkaWVudFRyYW5zZm9ybSk7XG5cbiAgICAgIF9fY29udmVydFBlcmNlbnRVbml0c1RvVmFsdWVzKGluc3RhbmNlLCBjb29yZHMsIHN2Z09wdGlvbnMsIGdyYWRpZW50VW5pdHMpO1xuXG4gICAgICBpZiAoZ3JhZGllbnRVbml0cyA9PT0gJ3BpeGVscycpIHtcbiAgICAgICAgb2Zmc2V0WCA9IC1pbnN0YW5jZS5sZWZ0O1xuICAgICAgICBvZmZzZXRZID0gLWluc3RhbmNlLnRvcDtcbiAgICAgIH1cblxuICAgICAgdmFyIGdyYWRpZW50ID0gbmV3IGZhYnJpYy5HcmFkaWVudCh7XG4gICAgICAgIGlkOiBlbC5nZXRBdHRyaWJ1dGUoJ2lkJyksXG4gICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgIGNvb3JkczogY29vcmRzLFxuICAgICAgICBjb2xvclN0b3BzOiBjb2xvclN0b3BzLFxuICAgICAgICBncmFkaWVudFVuaXRzOiBncmFkaWVudFVuaXRzLFxuICAgICAgICBncmFkaWVudFRyYW5zZm9ybTogdHJhbnNmb3JtTWF0cml4LFxuICAgICAgICBvZmZzZXRYOiBvZmZzZXRYLFxuICAgICAgICBvZmZzZXRZOiBvZmZzZXRZLFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBncmFkaWVudDtcbiAgICB9XG4gICAgLyogX0ZST01fU1ZHX0VORF8gKi9cbiAgfSk7XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBmdW5jdGlvbiBfX2NvbnZlcnRQZXJjZW50VW5pdHNUb1ZhbHVlcyhpbnN0YW5jZSwgb3B0aW9ucywgc3ZnT3B0aW9ucywgZ3JhZGllbnRVbml0cykge1xuICAgIHZhciBwcm9wVmFsdWUsIGZpbmFsVmFsdWU7XG4gICAgT2JqZWN0LmtleXMob3B0aW9ucykuZm9yRWFjaChmdW5jdGlvbihwcm9wKSB7XG4gICAgICBwcm9wVmFsdWUgPSBvcHRpb25zW3Byb3BdO1xuICAgICAgaWYgKHByb3BWYWx1ZSA9PT0gJ0luZmluaXR5Jykge1xuICAgICAgICBmaW5hbFZhbHVlID0gMTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHByb3BWYWx1ZSA9PT0gJy1JbmZpbml0eScpIHtcbiAgICAgICAgZmluYWxWYWx1ZSA9IDA7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgZmluYWxWYWx1ZSA9IHBhcnNlRmxvYXQob3B0aW9uc1twcm9wXSwgMTApO1xuICAgICAgICBpZiAodHlwZW9mIHByb3BWYWx1ZSA9PT0gJ3N0cmluZycgJiYgL14oXFxkK1xcLlxcZCspJXwoXFxkKyklJC8udGVzdChwcm9wVmFsdWUpKSB7XG4gICAgICAgICAgZmluYWxWYWx1ZSAqPSAwLjAxO1xuICAgICAgICAgIGlmIChncmFkaWVudFVuaXRzID09PSAncGl4ZWxzJykge1xuICAgICAgICAgICAgLy8gdGhlbiB3ZSBuZWVkIHRvIGZpeCB0aG9zZSBwZXJjZW50YWdlcyBoZXJlIGluIHN2ZyBwYXJzaW5nXG4gICAgICAgICAgICBpZiAocHJvcCA9PT0gJ3gxJyB8fCBwcm9wID09PSAneDInIHx8IHByb3AgPT09ICdyMicpIHtcbiAgICAgICAgICAgICAgZmluYWxWYWx1ZSAqPSBzdmdPcHRpb25zLnZpZXdCb3hXaWR0aCB8fCBzdmdPcHRpb25zLndpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByb3AgPT09ICd5MScgfHwgcHJvcCA9PT0gJ3kyJykge1xuICAgICAgICAgICAgICBmaW5hbFZhbHVlICo9IHN2Z09wdGlvbnMudmlld0JveEhlaWdodCB8fCBzdmdPcHRpb25zLmhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG9wdGlvbnNbcHJvcF0gPSBmaW5hbFZhbHVlO1xuICAgIH0pO1xuICB9XG59KSgpO1xuXG5cbihmdW5jdGlvbigpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIHRvRml4ZWQgPSBmYWJyaWMudXRpbC50b0ZpeGVkO1xuXG4gIC8qKlxuICAgKiBQYXR0ZXJuIGNsYXNzXG4gICAqIEBjbGFzcyBmYWJyaWMuUGF0dGVyblxuICAgKiBAc2VlIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL3BhdHRlcm5zfFBhdHRlcm4gZGVtb31cbiAgICogQHNlZSB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9keW5hbWljLXBhdHRlcm5zfER5bmFtaWNQYXR0ZXJuIGRlbW99XG4gICAqIEBzZWUge0BsaW5rIGZhYnJpYy5QYXR0ZXJuI2luaXRpYWxpemV9IGZvciBjb25zdHJ1Y3RvciBkZWZpbml0aW9uXG4gICAqL1xuXG5cbiAgZmFicmljLlBhdHRlcm4gPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcygvKiogQGxlbmRzIGZhYnJpYy5QYXR0ZXJuLnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBSZXBlYXQgcHJvcGVydHkgb2YgYSBwYXR0ZXJuIChvbmUgb2YgcmVwZWF0LCByZXBlYXQteCwgcmVwZWF0LXkgb3Igbm8tcmVwZWF0KVxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgcmVwZWF0OiAncmVwZWF0JyxcblxuICAgIC8qKlxuICAgICAqIFBhdHRlcm4gaG9yaXpvbnRhbCBvZmZzZXQgZnJvbSBvYmplY3QncyBsZWZ0L3RvcCBjb3JuZXJcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIG9mZnNldFg6IDAsXG5cbiAgICAvKipcbiAgICAgKiBQYXR0ZXJuIHZlcnRpY2FsIG9mZnNldCBmcm9tIG9iamVjdCdzIGxlZnQvdG9wIGNvcm5lclxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgb2Zmc2V0WTogMCxcblxuICAgIC8qKlxuICAgICAqIGNyb3NzT3JpZ2luIHZhbHVlIChvbmUgb2YgXCJcIiwgXCJhbm9ueW1vdXNcIiwgXCJ1c2UtY3JlZGVudGlhbHNcIilcbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvSFRNTC9DT1JTX3NldHRpbmdzX2F0dHJpYnV0ZXNcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGNyb3NzT3JpZ2luOiAnJyxcblxuICAgIC8qKlxuICAgICAqIHRyYW5zZm9ybSBtYXRyaXggdG8gY2hhbmdlIHRoZSBwYXR0ZXJuLCBpbXBvcnRlZCBmcm9tIHN2Z3MuXG4gICAgICogQHR5cGUgQXJyYXlcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHBhdHRlcm5UcmFuc2Zvcm06IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIGZ1bmN0aW9uIHRvIGludm9rZSBhZnRlciBjYWxsYmFjayBpbml0LlxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5QYXR0ZXJufSB0aGlzQXJnXG4gICAgICovXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ob3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7IH0pO1xuXG4gICAgICB0aGlzLmlkID0gZmFicmljLk9iamVjdC5fX3VpZCsrO1xuICAgICAgdGhpcy5zZXRPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgaWYgKCFvcHRpb25zLnNvdXJjZSB8fCAob3B0aW9ucy5zb3VyY2UgJiYgdHlwZW9mIG9wdGlvbnMuc291cmNlICE9PSAnc3RyaW5nJykpIHtcbiAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2sodGhpcyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICAvLyBpbWcgc3JjIHN0cmluZ1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnNvdXJjZSA9IGZhYnJpYy51dGlsLmNyZWF0ZUltYWdlKCk7XG4gICAgICAgIGZhYnJpYy51dGlsLmxvYWRJbWFnZShvcHRpb25zLnNvdXJjZSwgZnVuY3Rpb24oaW1nLCBpc0Vycm9yKSB7XG4gICAgICAgICAgX3RoaXMuc291cmNlID0gaW1nO1xuICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKF90aGlzLCBpc0Vycm9yKTtcbiAgICAgICAgfSwgbnVsbCwgdGhpcy5jcm9zc09yaWdpbik7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGEgcGF0dGVyblxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wZXJ0aWVzVG9JbmNsdWRlXSBBbnkgcHJvcGVydGllcyB0aGF0IHlvdSBtaWdodCB3YW50IHRvIGFkZGl0aW9uYWxseSBpbmNsdWRlIGluIHRoZSBvdXRwdXRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IE9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhIHBhdHRlcm4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b09iamVjdDogZnVuY3Rpb24ocHJvcGVydGllc1RvSW5jbHVkZSkge1xuICAgICAgdmFyIE5VTV9GUkFDVElPTl9ESUdJVFMgPSBmYWJyaWMuT2JqZWN0Lk5VTV9GUkFDVElPTl9ESUdJVFMsXG4gICAgICAgICAgc291cmNlLCBvYmplY3Q7XG5cbiAgICAgIC8vIDxpbWc+IGVsZW1lbnRcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5zb3VyY2Uuc3JjID09PSAnc3RyaW5nJykge1xuICAgICAgICBzb3VyY2UgPSB0aGlzLnNvdXJjZS5zcmM7XG4gICAgICB9XG4gICAgICAvLyA8Y2FudmFzPiBlbGVtZW50XG4gICAgICBlbHNlIGlmICh0eXBlb2YgdGhpcy5zb3VyY2UgPT09ICdvYmplY3QnICYmIHRoaXMuc291cmNlLnRvRGF0YVVSTCkge1xuICAgICAgICBzb3VyY2UgPSB0aGlzLnNvdXJjZS50b0RhdGFVUkwoKTtcbiAgICAgIH1cblxuICAgICAgb2JqZWN0ID0ge1xuICAgICAgICB0eXBlOiAncGF0dGVybicsXG4gICAgICAgIHNvdXJjZTogc291cmNlLFxuICAgICAgICByZXBlYXQ6IHRoaXMucmVwZWF0LFxuICAgICAgICBjcm9zc09yaWdpbjogdGhpcy5jcm9zc09yaWdpbixcbiAgICAgICAgb2Zmc2V0WDogdG9GaXhlZCh0aGlzLm9mZnNldFgsIE5VTV9GUkFDVElPTl9ESUdJVFMpLFxuICAgICAgICBvZmZzZXRZOiB0b0ZpeGVkKHRoaXMub2Zmc2V0WSwgTlVNX0ZSQUNUSU9OX0RJR0lUUyksXG4gICAgICAgIHBhdHRlcm5UcmFuc2Zvcm06IHRoaXMucGF0dGVyblRyYW5zZm9ybSA/IHRoaXMucGF0dGVyblRyYW5zZm9ybS5jb25jYXQoKSA6IG51bGxcbiAgICAgIH07XG4gICAgICBmYWJyaWMudXRpbC5wb3B1bGF0ZVdpdGhQcm9wZXJ0aWVzKHRoaXMsIG9iamVjdCwgcHJvcGVydGllc1RvSW5jbHVkZSk7XG5cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfSxcblxuICAgIC8qIF9UT19TVkdfU1RBUlRfICovXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBTVkcgcmVwcmVzZW50YXRpb24gb2YgYSBwYXR0ZXJuXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IFNWRyByZXByZXNlbnRhdGlvbiBvZiBhIHBhdHRlcm5cbiAgICAgKi9cbiAgICB0b1NWRzogZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICB2YXIgcGF0dGVyblNvdXJjZSA9IHR5cGVvZiB0aGlzLnNvdXJjZSA9PT0gJ2Z1bmN0aW9uJyA/IHRoaXMuc291cmNlKCkgOiB0aGlzLnNvdXJjZSxcbiAgICAgICAgICBwYXR0ZXJuV2lkdGggPSBwYXR0ZXJuU291cmNlLndpZHRoIC8gb2JqZWN0LndpZHRoLFxuICAgICAgICAgIHBhdHRlcm5IZWlnaHQgPSBwYXR0ZXJuU291cmNlLmhlaWdodCAvIG9iamVjdC5oZWlnaHQsXG4gICAgICAgICAgcGF0dGVybk9mZnNldFggPSB0aGlzLm9mZnNldFggLyBvYmplY3Qud2lkdGgsXG4gICAgICAgICAgcGF0dGVybk9mZnNldFkgPSB0aGlzLm9mZnNldFkgLyBvYmplY3QuaGVpZ2h0LFxuICAgICAgICAgIHBhdHRlcm5JbWdTcmMgPSAnJztcbiAgICAgIGlmICh0aGlzLnJlcGVhdCA9PT0gJ3JlcGVhdC14JyB8fCB0aGlzLnJlcGVhdCA9PT0gJ25vLXJlcGVhdCcpIHtcbiAgICAgICAgcGF0dGVybkhlaWdodCA9IDE7XG4gICAgICAgIGlmIChwYXR0ZXJuT2Zmc2V0WSkge1xuICAgICAgICAgIHBhdHRlcm5IZWlnaHQgKz0gTWF0aC5hYnMocGF0dGVybk9mZnNldFkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5yZXBlYXQgPT09ICdyZXBlYXQteScgfHwgdGhpcy5yZXBlYXQgPT09ICduby1yZXBlYXQnKSB7XG4gICAgICAgIHBhdHRlcm5XaWR0aCA9IDE7XG4gICAgICAgIGlmIChwYXR0ZXJuT2Zmc2V0WCkge1xuICAgICAgICAgIHBhdHRlcm5XaWR0aCArPSBNYXRoLmFicyhwYXR0ZXJuT2Zmc2V0WCk7XG4gICAgICAgIH1cblxuICAgICAgfVxuICAgICAgaWYgKHBhdHRlcm5Tb3VyY2Uuc3JjKSB7XG4gICAgICAgIHBhdHRlcm5JbWdTcmMgPSBwYXR0ZXJuU291cmNlLnNyYztcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHBhdHRlcm5Tb3VyY2UudG9EYXRhVVJMKSB7XG4gICAgICAgIHBhdHRlcm5JbWdTcmMgPSBwYXR0ZXJuU291cmNlLnRvRGF0YVVSTCgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gJzxwYXR0ZXJuIGlkPVwiU1ZHSURfJyArIHRoaXMuaWQgK1xuICAgICAgICAgICAgICAgICAgICAnXCIgeD1cIicgKyBwYXR0ZXJuT2Zmc2V0WCArXG4gICAgICAgICAgICAgICAgICAgICdcIiB5PVwiJyArIHBhdHRlcm5PZmZzZXRZICtcbiAgICAgICAgICAgICAgICAgICAgJ1wiIHdpZHRoPVwiJyArIHBhdHRlcm5XaWR0aCArXG4gICAgICAgICAgICAgICAgICAgICdcIiBoZWlnaHQ9XCInICsgcGF0dGVybkhlaWdodCArICdcIj5cXG4nICtcbiAgICAgICAgICAgICAgICc8aW1hZ2UgeD1cIjBcIiB5PVwiMFwiJyArXG4gICAgICAgICAgICAgICAgICAgICAgJyB3aWR0aD1cIicgKyBwYXR0ZXJuU291cmNlLndpZHRoICtcbiAgICAgICAgICAgICAgICAgICAgICAnXCIgaGVpZ2h0PVwiJyArIHBhdHRlcm5Tb3VyY2UuaGVpZ2h0ICtcbiAgICAgICAgICAgICAgICAgICAgICAnXCIgeGxpbms6aHJlZj1cIicgKyBwYXR0ZXJuSW1nU3JjICtcbiAgICAgICAgICAgICAgICdcIj48L2ltYWdlPlxcbicgK1xuICAgICAgICAgICAgICc8L3BhdHRlcm4+XFxuJztcbiAgICB9LFxuICAgIC8qIF9UT19TVkdfRU5EXyAqL1xuXG4gICAgc2V0T3B0aW9uczogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgZm9yICh2YXIgcHJvcCBpbiBvcHRpb25zKSB7XG4gICAgICAgIHRoaXNbcHJvcF0gPSBvcHRpb25zW3Byb3BdO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGluc3RhbmNlIG9mIENhbnZhc1BhdHRlcm5cbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gY3JlYXRlIHBhdHRlcm5cbiAgICAgKiBAcmV0dXJuIHtDYW52YXNQYXR0ZXJufVxuICAgICAqL1xuICAgIHRvTGl2ZTogZnVuY3Rpb24oY3R4KSB7XG4gICAgICB2YXIgc291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgICAvLyBpZiB0aGUgaW1hZ2UgZmFpbGVkIHRvIGxvYWQsIHJldHVybiwgYW5kIGFsbG93IHJlc3QgdG8gY29udGludWUgbG9hZGluZ1xuICAgICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuXG4gICAgICAvLyBpZiBhbiBpbWFnZVxuICAgICAgaWYgKHR5cGVvZiBzb3VyY2Uuc3JjICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpZiAoIXNvdXJjZS5jb21wbGV0ZSkge1xuICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoc291cmNlLm5hdHVyYWxXaWR0aCA9PT0gMCB8fCBzb3VyY2UubmF0dXJhbEhlaWdodCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGN0eC5jcmVhdGVQYXR0ZXJuKHNvdXJjZSwgdGhpcy5yZXBlYXQpO1xuICAgIH1cbiAgfSk7XG59KSgpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyA9IGdsb2JhbC5mYWJyaWMgfHwgKGdsb2JhbC5mYWJyaWMgPSB7IH0pLFxuICAgICAgdG9GaXhlZCA9IGZhYnJpYy51dGlsLnRvRml4ZWQ7XG5cbiAgaWYgKGZhYnJpYy5TaGFkb3cpIHtcbiAgICBmYWJyaWMud2FybignZmFicmljLlNoYWRvdyBpcyBhbHJlYWR5IGRlZmluZWQuJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFNoYWRvdyBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLlNoYWRvd1xuICAgKiBAc2VlIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL3NoYWRvd3N8U2hhZG93IGRlbW99XG4gICAqIEBzZWUge0BsaW5rIGZhYnJpYy5TaGFkb3cjaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICovXG4gIGZhYnJpYy5TaGFkb3cgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcygvKiogQGxlbmRzIGZhYnJpYy5TaGFkb3cucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIFNoYWRvdyBjb2xvclxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgY29sb3I6ICdyZ2IoMCwwLDApJyxcblxuICAgIC8qKlxuICAgICAqIFNoYWRvdyBibHVyXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICovXG4gICAgYmx1cjogMCxcblxuICAgIC8qKlxuICAgICAqIFNoYWRvdyBob3Jpem9udGFsIG9mZnNldFxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgb2Zmc2V0WDogMCxcblxuICAgIC8qKlxuICAgICAqIFNoYWRvdyB2ZXJ0aWNhbCBvZmZzZXRcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIG9mZnNldFk6IDAsXG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBzaGFkb3cgc2hvdWxkIGFmZmVjdCBzdHJva2Ugb3BlcmF0aW9uc1xuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGFmZmVjdFN0cm9rZTogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0b09iamVjdCBzaG91bGQgaW5jbHVkZSBkZWZhdWx0IHZhbHVlc1xuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGluY2x1ZGVEZWZhdWx0VmFsdWVzOiB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBgZmFsc2VgLCB0aGUgc2hhZG93IHdpbGwgc2NhbGUgd2l0aCB0aGUgb2JqZWN0LlxuICAgICAqIFdoZW4gYHRydWVgLCB0aGUgc2hhZG93J3Mgb2Zmc2V0WCwgb2Zmc2V0WSwgYW5kIGJsdXIgd2lsbCBub3QgYmUgYWZmZWN0ZWQgYnkgdGhlIG9iamVjdCdzIHNjYWxlLlxuICAgICAqIGRlZmF1bHQgdG8gZmFsc2VcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBub25TY2FsaW5nOiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtPYmplY3R8U3RyaW5nfSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3Qgd2l0aCBhbnkgb2YgY29sb3IsIGJsdXIsIG9mZnNldFgsIG9mZnNldFkgcHJvcGVydGllcyBvciBzdHJpbmcgKGUuZy4gXCJyZ2JhKDAsMCwwLDAuMikgMnB4IDJweCAxMHB4XCIpXG4gICAgICogQHJldHVybiB7ZmFicmljLlNoYWRvd30gdGhpc0FyZ1xuICAgICAqL1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblxuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnc3RyaW5nJykge1xuICAgICAgICBvcHRpb25zID0gdGhpcy5fcGFyc2VTaGFkb3cob3B0aW9ucyk7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIHByb3AgaW4gb3B0aW9ucykge1xuICAgICAgICB0aGlzW3Byb3BdID0gb3B0aW9uc1twcm9wXTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5pZCA9IGZhYnJpYy5PYmplY3QuX191aWQrKztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc2hhZG93IFNoYWRvdyB2YWx1ZSB0byBwYXJzZVxuICAgICAqIEByZXR1cm4ge09iamVjdH0gU2hhZG93IG9iamVjdCB3aXRoIGNvbG9yLCBvZmZzZXRYLCBvZmZzZXRZIGFuZCBibHVyXG4gICAgICovXG4gICAgX3BhcnNlU2hhZG93OiBmdW5jdGlvbihzaGFkb3cpIHtcbiAgICAgIHZhciBzaGFkb3dTdHIgPSBzaGFkb3cudHJpbSgpLFxuICAgICAgICAgIG9mZnNldHNBbmRCbHVyID0gZmFicmljLlNoYWRvdy5yZU9mZnNldHNBbmRCbHVyLmV4ZWMoc2hhZG93U3RyKSB8fCBbXSxcbiAgICAgICAgICBjb2xvciA9IHNoYWRvd1N0ci5yZXBsYWNlKGZhYnJpYy5TaGFkb3cucmVPZmZzZXRzQW5kQmx1ciwgJycpIHx8ICdyZ2IoMCwwLDApJztcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY29sb3I6IGNvbG9yLnRyaW0oKSxcbiAgICAgICAgb2Zmc2V0WDogcGFyc2VGbG9hdChvZmZzZXRzQW5kQmx1clsxXSwgMTApIHx8IDAsXG4gICAgICAgIG9mZnNldFk6IHBhcnNlRmxvYXQob2Zmc2V0c0FuZEJsdXJbMl0sIDEwKSB8fCAwLFxuICAgICAgICBibHVyOiBwYXJzZUZsb2F0KG9mZnNldHNBbmRCbHVyWzNdLCAxMCkgfHwgMFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvY3NzLXRleHQtZGVjb3ItMy8jdGV4dC1zaGFkb3dcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IFJldHVybnMgQ1NTMyB0ZXh0LXNoYWRvdyBkZWNsYXJhdGlvblxuICAgICAqL1xuICAgIHRvU3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBbdGhpcy5vZmZzZXRYLCB0aGlzLm9mZnNldFksIHRoaXMuYmx1ciwgdGhpcy5jb2xvcl0uam9pbigncHggJyk7XG4gICAgfSxcblxuICAgIC8qIF9UT19TVkdfU1RBUlRfICovXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBTVkcgcmVwcmVzZW50YXRpb24gb2YgYSBzaGFkb3dcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IG9iamVjdFxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gU1ZHIHJlcHJlc2VudGF0aW9uIG9mIGEgc2hhZG93XG4gICAgICovXG4gICAgdG9TVkc6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgdmFyIGZCb3hYID0gNDAsIGZCb3hZID0gNDAsIE5VTV9GUkFDVElPTl9ESUdJVFMgPSBmYWJyaWMuT2JqZWN0Lk5VTV9GUkFDVElPTl9ESUdJVFMsXG4gICAgICAgICAgb2Zmc2V0ID0gZmFicmljLnV0aWwucm90YXRlVmVjdG9yKFxuICAgICAgICAgICAgeyB4OiB0aGlzLm9mZnNldFgsIHk6IHRoaXMub2Zmc2V0WSB9LFxuICAgICAgICAgICAgZmFicmljLnV0aWwuZGVncmVlc1RvUmFkaWFucygtb2JqZWN0LmFuZ2xlKSksXG4gICAgICAgICAgQkxVUl9CT1ggPSAyMCwgY29sb3IgPSBuZXcgZmFicmljLkNvbG9yKHRoaXMuY29sb3IpO1xuXG4gICAgICBpZiAob2JqZWN0LndpZHRoICYmIG9iamVjdC5oZWlnaHQpIHtcbiAgICAgICAgLy9odHRwOi8vd3d3LnczLm9yZy9UUi9TVkcvZmlsdGVycy5odG1sI0ZpbHRlckVmZmVjdHNSZWdpb25cbiAgICAgICAgLy8gd2UgYWRkIHNvbWUgZXh0cmEgc3BhY2UgdG8gZmlsdGVyIGJveCB0byBjb250YWluIHRoZSBibHVyICggMjAgKVxuICAgICAgICBmQm94WCA9IHRvRml4ZWQoKE1hdGguYWJzKG9mZnNldC54KSArIHRoaXMuYmx1cikgLyBvYmplY3Qud2lkdGgsIE5VTV9GUkFDVElPTl9ESUdJVFMpICogMTAwICsgQkxVUl9CT1g7XG4gICAgICAgIGZCb3hZID0gdG9GaXhlZCgoTWF0aC5hYnMob2Zmc2V0LnkpICsgdGhpcy5ibHVyKSAvIG9iamVjdC5oZWlnaHQsIE5VTV9GUkFDVElPTl9ESUdJVFMpICogMTAwICsgQkxVUl9CT1g7XG4gICAgICB9XG4gICAgICBpZiAob2JqZWN0LmZsaXBYKSB7XG4gICAgICAgIG9mZnNldC54ICo9IC0xO1xuICAgICAgfVxuICAgICAgaWYgKG9iamVjdC5mbGlwWSkge1xuICAgICAgICBvZmZzZXQueSAqPSAtMTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIChcbiAgICAgICAgJzxmaWx0ZXIgaWQ9XCJTVkdJRF8nICsgdGhpcy5pZCArICdcIiB5PVwiLScgKyBmQm94WSArICclXCIgaGVpZ2h0PVwiJyArICgxMDAgKyAyICogZkJveFkpICsgJyVcIiAnICtcbiAgICAgICAgICAneD1cIi0nICsgZkJveFggKyAnJVwiIHdpZHRoPVwiJyArICgxMDAgKyAyICogZkJveFgpICsgJyVcIiAnICsgJz5cXG4nICtcbiAgICAgICAgICAnXFx0PGZlR2F1c3NpYW5CbHVyIGluPVwiU291cmNlQWxwaGFcIiBzdGREZXZpYXRpb249XCInICtcbiAgICAgICAgICAgIHRvRml4ZWQodGhpcy5ibHVyID8gdGhpcy5ibHVyIC8gMiA6IDAsIE5VTV9GUkFDVElPTl9ESUdJVFMpICsgJ1wiPjwvZmVHYXVzc2lhbkJsdXI+XFxuJyArXG4gICAgICAgICAgJ1xcdDxmZU9mZnNldCBkeD1cIicgKyB0b0ZpeGVkKG9mZnNldC54LCBOVU1fRlJBQ1RJT05fRElHSVRTKSArXG4gICAgICAgICAgJ1wiIGR5PVwiJyArIHRvRml4ZWQob2Zmc2V0LnksIE5VTV9GUkFDVElPTl9ESUdJVFMpICsgJ1wiIHJlc3VsdD1cIm9CbHVyXCIgPjwvZmVPZmZzZXQ+XFxuJyArXG4gICAgICAgICAgJ1xcdDxmZUZsb29kIGZsb29kLWNvbG9yPVwiJyArIGNvbG9yLnRvUmdiKCkgKyAnXCIgZmxvb2Qtb3BhY2l0eT1cIicgKyBjb2xvci5nZXRBbHBoYSgpICsgJ1wiLz5cXG4nICtcbiAgICAgICAgICAnXFx0PGZlQ29tcG9zaXRlIGluMj1cIm9CbHVyXCIgb3BlcmF0b3I9XCJpblwiIC8+XFxuJyArXG4gICAgICAgICAgJ1xcdDxmZU1lcmdlPlxcbicgK1xuICAgICAgICAgICAgJ1xcdFxcdDxmZU1lcmdlTm9kZT48L2ZlTWVyZ2VOb2RlPlxcbicgK1xuICAgICAgICAgICAgJ1xcdFxcdDxmZU1lcmdlTm9kZSBpbj1cIlNvdXJjZUdyYXBoaWNcIj48L2ZlTWVyZ2VOb2RlPlxcbicgK1xuICAgICAgICAgICdcXHQ8L2ZlTWVyZ2U+XFxuJyArXG4gICAgICAgICc8L2ZpbHRlcj5cXG4nKTtcbiAgICB9LFxuICAgIC8qIF9UT19TVkdfRU5EXyAqL1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYSBzaGFkb3dcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IE9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhIHNoYWRvdyBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRvT2JqZWN0OiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLmluY2x1ZGVEZWZhdWx0VmFsdWVzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgY29sb3I6IHRoaXMuY29sb3IsXG4gICAgICAgICAgYmx1cjogdGhpcy5ibHVyLFxuICAgICAgICAgIG9mZnNldFg6IHRoaXMub2Zmc2V0WCxcbiAgICAgICAgICBvZmZzZXRZOiB0aGlzLm9mZnNldFksXG4gICAgICAgICAgYWZmZWN0U3Ryb2tlOiB0aGlzLmFmZmVjdFN0cm9rZSxcbiAgICAgICAgICBub25TY2FsaW5nOiB0aGlzLm5vblNjYWxpbmdcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHZhciBvYmogPSB7IH0sIHByb3RvID0gZmFicmljLlNoYWRvdy5wcm90b3R5cGU7XG5cbiAgICAgIFsnY29sb3InLCAnYmx1cicsICdvZmZzZXRYJywgJ29mZnNldFknLCAnYWZmZWN0U3Ryb2tlJywgJ25vblNjYWxpbmcnXS5mb3JFYWNoKGZ1bmN0aW9uKHByb3ApIHtcbiAgICAgICAgaWYgKHRoaXNbcHJvcF0gIT09IHByb3RvW3Byb3BdKSB7XG4gICAgICAgICAgb2JqW3Byb3BdID0gdGhpc1twcm9wXTtcbiAgICAgICAgfVxuICAgICAgfSwgdGhpcyk7XG5cbiAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICB9KTtcblxuICAvKipcbiAgICogUmVnZXggbWF0Y2hpbmcgc2hhZG93IG9mZnNldFgsIG9mZnNldFkgYW5kIGJsdXIgKGV4OiBcIjJweCAycHggMTBweCByZ2JhKDAsMCwwLDAuMilcIiwgXCJyZ2IoMCwyNTUsMCkgMnB4IDJweFwiKVxuICAgKiBAc3RhdGljXG4gICAqIEBmaWVsZFxuICAgKiBAbWVtYmVyT2YgZmFicmljLlNoYWRvd1xuICAgKi9cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgZmFicmljLlNoYWRvdy5yZU9mZnNldHNBbmRCbHVyID0gLyg/Olxcc3xeKSgtP1xcZCsoPzpcXC5cXGQqKT8oPzpweCk/KD86XFxzP3wkKSk/KC0/XFxkKyg/OlxcLlxcZCopPyg/OnB4KT8oPzpcXHM/fCQpKT8oXFxkKyg/OlxcLlxcZCopPyg/OnB4KT8pPyg/Olxccz98JCkoPzokfFxccykvO1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uICgpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgaWYgKGZhYnJpYy5TdGF0aWNDYW52YXMpIHtcbiAgICBmYWJyaWMud2FybignZmFicmljLlN0YXRpY0NhbnZhcyBpcyBhbHJlYWR5IGRlZmluZWQuJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gYWxpYXNlcyBmb3IgZmFzdGVyIHJlc29sdXRpb25cbiAgdmFyIGV4dGVuZCA9IGZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQsXG4gICAgICBnZXRFbGVtZW50T2Zmc2V0ID0gZmFicmljLnV0aWwuZ2V0RWxlbWVudE9mZnNldCxcbiAgICAgIHJlbW92ZUZyb21BcnJheSA9IGZhYnJpYy51dGlsLnJlbW92ZUZyb21BcnJheSxcbiAgICAgIHRvRml4ZWQgPSBmYWJyaWMudXRpbC50b0ZpeGVkLFxuICAgICAgdHJhbnNmb3JtUG9pbnQgPSBmYWJyaWMudXRpbC50cmFuc2Zvcm1Qb2ludCxcbiAgICAgIGludmVydFRyYW5zZm9ybSA9IGZhYnJpYy51dGlsLmludmVydFRyYW5zZm9ybSxcbiAgICAgIGdldE5vZGVDYW52YXMgPSBmYWJyaWMudXRpbC5nZXROb2RlQ2FudmFzLFxuICAgICAgY3JlYXRlQ2FudmFzRWxlbWVudCA9IGZhYnJpYy51dGlsLmNyZWF0ZUNhbnZhc0VsZW1lbnQsXG5cbiAgICAgIENBTlZBU19JTklUX0VSUk9SID0gbmV3IEVycm9yKCdDb3VsZCBub3QgaW5pdGlhbGl6ZSBgY2FudmFzYCBlbGVtZW50Jyk7XG5cbiAgLyoqXG4gICAqIFN0YXRpYyBjYW52YXMgY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5TdGF0aWNDYW52YXNcbiAgICogQG1peGVzIGZhYnJpYy5Db2xsZWN0aW9uXG4gICAqIEBtaXhlcyBmYWJyaWMuT2JzZXJ2YWJsZVxuICAgKiBAc2VlIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL3N0YXRpY19jYW52YXN8U3RhdGljQ2FudmFzIGRlbW99XG4gICAqIEBzZWUge0BsaW5rIGZhYnJpYy5TdGF0aWNDYW52YXMjaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICogQGZpcmVzIGJlZm9yZTpyZW5kZXJcbiAgICogQGZpcmVzIGFmdGVyOnJlbmRlclxuICAgKiBAZmlyZXMgY2FudmFzOmNsZWFyZWRcbiAgICogQGZpcmVzIG9iamVjdDphZGRlZFxuICAgKiBAZmlyZXMgb2JqZWN0OnJlbW92ZWRcbiAgICovXG4gIGZhYnJpYy5TdGF0aWNDYW52YXMgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcyhmYWJyaWMuQ29tbW9uTWV0aG9kcywgLyoqIEBsZW5kcyBmYWJyaWMuU3RhdGljQ2FudmFzLnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnQgfCBTdHJpbmd9IGVsICZsdDtjYW52YXM+IGVsZW1lbnQgdG8gaW5pdGlhbGl6ZSBpbnN0YW5jZSBvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IHRoaXNBcmdcbiAgICAgKi9cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbihlbCwgb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyB8fCAob3B0aW9ucyA9IHsgfSk7XG4gICAgICB0aGlzLnJlbmRlckFuZFJlc2V0Qm91bmQgPSB0aGlzLnJlbmRlckFuZFJlc2V0LmJpbmQodGhpcyk7XG4gICAgICB0aGlzLnJlcXVlc3RSZW5kZXJBbGxCb3VuZCA9IHRoaXMucmVxdWVzdFJlbmRlckFsbC5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5faW5pdFN0YXRpYyhlbCwgb3B0aW9ucyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEJhY2tncm91bmQgY29sb3Igb2YgY2FudmFzIGluc3RhbmNlLlxuICAgICAqIFNob3VsZCBiZSBzZXQgdmlhIHtAbGluayBmYWJyaWMuU3RhdGljQ2FudmFzI3NldEJhY2tncm91bmRDb2xvcn0uXG4gICAgICogQHR5cGUgeyhTdHJpbmd8ZmFicmljLlBhdHRlcm4pfVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgYmFja2dyb3VuZENvbG9yOiAnJyxcblxuICAgIC8qKlxuICAgICAqIEJhY2tncm91bmQgaW1hZ2Ugb2YgY2FudmFzIGluc3RhbmNlLlxuICAgICAqIHNpbmNlIDIuNC4wIGltYWdlIGNhY2hpbmcgaXMgYWN0aXZlLCBwbGVhc2Ugd2hlbiBwdXR0aW5nIGFuIGltYWdlIGFzIGJhY2tncm91bmQsIGFkZCB0byB0aGVcbiAgICAgKiBjYW52YXMgcHJvcGVydHkgYSByZWZlcmVuY2UgdG8gdGhlIGNhbnZhcyBpdCBpcyBvbi4gT3RoZXJ3aXNlIHRoZSBpbWFnZSBjYW5ub3QgZGV0ZWN0IHRoZSB6b29tXG4gICAgICogdmFsZS4gQXMgYW4gYWx0ZXJuYXRpdmUgeW91IGNhbiBkaXNhYmxlIGltYWdlIG9iamVjdENhY2hpbmdcbiAgICAgKiBAdHlwZSBmYWJyaWMuSW1hZ2VcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGJhY2tncm91bmRJbWFnZTogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIE92ZXJsYXkgY29sb3Igb2YgY2FudmFzIGluc3RhbmNlLlxuICAgICAqIFNob3VsZCBiZSBzZXQgdmlhIHtAbGluayBmYWJyaWMuU3RhdGljQ2FudmFzI3NldE92ZXJsYXlDb2xvcn1cbiAgICAgKiBAc2luY2UgMS4zLjlcbiAgICAgKiBAdHlwZSB7KFN0cmluZ3xmYWJyaWMuUGF0dGVybil9XG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBvdmVybGF5Q29sb3I6ICcnLFxuXG4gICAgLyoqXG4gICAgICogT3ZlcmxheSBpbWFnZSBvZiBjYW52YXMgaW5zdGFuY2UuXG4gICAgICogc2luY2UgMi40LjAgaW1hZ2UgY2FjaGluZyBpcyBhY3RpdmUsIHBsZWFzZSB3aGVuIHB1dHRpbmcgYW4gaW1hZ2UgYXMgb3ZlcmxheSwgYWRkIHRvIHRoZVxuICAgICAqIGNhbnZhcyBwcm9wZXJ0eSBhIHJlZmVyZW5jZSB0byB0aGUgY2FudmFzIGl0IGlzIG9uLiBPdGhlcndpc2UgdGhlIGltYWdlIGNhbm5vdCBkZXRlY3QgdGhlIHpvb21cbiAgICAgKiB2YWxlLiBBcyBhbiBhbHRlcm5hdGl2ZSB5b3UgY2FuIGRpc2FibGUgaW1hZ2Ugb2JqZWN0Q2FjaGluZ1xuICAgICAqIEB0eXBlIGZhYnJpYy5JbWFnZVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgb3ZlcmxheUltYWdlOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdG9PYmplY3QvdG9EYXRhbGVzc09iamVjdCBzaG91bGQgaW5jbHVkZSBkZWZhdWx0IHZhbHVlc1xuICAgICAqIGlmIHNldCB0byBmYWxzZSwgdGFrZXMgcHJlY2VkZW5jZSBvdmVyIHRoZSBvYmplY3QgdmFsdWUuXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgaW5jbHVkZURlZmF1bHRWYWx1ZXM6IHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciBvYmplY3RzJyBzdGF0ZSBzaG91bGQgYmUgc2F2ZWRcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzdGF0ZWZ1bDogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB7QGxpbmsgZmFicmljLkNvbGxlY3Rpb24uYWRkfSwge0BsaW5rIGZhYnJpYy5Db2xsZWN0aW9uLmluc2VydEF0fSBhbmQge0BsaW5rIGZhYnJpYy5Db2xsZWN0aW9uLnJlbW92ZX0sXG4gICAgICoge0BsaW5rIGZhYnJpYy5TdGF0aWNDYW52YXMubW92ZVRvfSwge0BsaW5rIGZhYnJpYy5TdGF0aWNDYW52YXMuY2xlYXJ9IGFuZCBtYW55IG1vcmUsIHNob3VsZCBhbHNvIHJlLXJlbmRlciBjYW52YXMuXG4gICAgICogRGlzYWJsaW5nIHRoaXMgb3B0aW9uIHdpbGwgbm90IGdpdmUgYSBwZXJmb3JtYW5jZSBib29zdCB3aGVuIGFkZGluZy9yZW1vdmluZyBhIGxvdCBvZiBvYmplY3RzIHRvL2Zyb20gY2FudmFzIGF0IG9uY2VcbiAgICAgKiBzaW5jZSB0aGUgcmVuZGVycyBhcmUgcXVlcXVlZCBhbmQgZXhlY3V0ZWQgb25lIHBlciBmcmFtZS5cbiAgICAgKiBEaXNhYmxpbmcgaXMgc3VnZ2VzdGVkIGFueXdheSBhbmQgbWFuYWdpbmcgdGhlIHJlbmRlcnMgb2YgdGhlIGFwcCBtYW51YWxseSBpcyBub3QgYSBiaWcgZWZmb3J0ICggY2FudmFzLnJlcXVlc3RSZW5kZXJBbGwoKSApXG4gICAgICogTGVmdCBkZWZhdWx0IHRvIHRydWUgdG8gZG8gbm90IGJyZWFrIGRvY3VtZW50YXRpb24gYW5kIG9sZCBhcHAsIGZpZGRsZXMuXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgcmVuZGVyT25BZGRSZW1vdmU6IHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciBvYmplY3QgY29udHJvbHMgKGJvcmRlcnMvY29udHJvbHMpIGFyZSByZW5kZXJlZCBhYm92ZSBvdmVybGF5IGltYWdlXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgY29udHJvbHNBYm92ZU92ZXJsYXk6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGJyb3dzZXIgY2FuIGJlIHNjcm9sbGVkIHdoZW4gdXNpbmcgYSB0b3VjaHNjcmVlbiBhbmQgZHJhZ2dpbmcgb24gdGhlIGNhbnZhc1xuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGFsbG93VG91Y2hTY3JvbGxpbmc6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhpcyBjYW52YXMgd2lsbCB1c2UgaW1hZ2Ugc21vb3RoaW5nLCB0aGlzIGlzIG9uIGJ5IGRlZmF1bHQgaW4gYnJvd3NlcnNcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBpbWFnZVNtb290aGluZ0VuYWJsZWQ6IHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHJhbnNmb3JtYXRpb24gKGEgQ2FudmFzIDJEIEFQSSB0cmFuc2Zvcm0gbWF0cml4KSB3aGljaCBmb2N1c2VzIHRoZSB2aWV3cG9ydFxuICAgICAqIEB0eXBlIEFycmF5XG4gICAgICogQGV4YW1wbGUgPGNhcHRpb24+RGVmYXVsdCB0cmFuc2Zvcm08L2NhcHRpb24+XG4gICAgICogY2FudmFzLnZpZXdwb3J0VHJhbnNmb3JtID0gWzEsIDAsIDAsIDEsIDAsIDBdO1xuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPlNjYWxlIGJ5IDcwJSBhbmQgdHJhbnNsYXRlIHRvd2FyZCBib3R0b20tcmlnaHQgYnkgNTAsIHdpdGhvdXQgc2tld2luZzwvY2FwdGlvbj5cbiAgICAgKiBjYW52YXMudmlld3BvcnRUcmFuc2Zvcm0gPSBbMC43LCAwLCAwLCAwLjcsIDUwLCA1MF07XG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB2aWV3cG9ydFRyYW5zZm9ybTogZmFicmljLmlNYXRyaXguY29uY2F0KCksXG5cbiAgICAvKipcbiAgICAgKiBpZiBzZXQgdG8gZmFsc2UgYmFja2dyb3VuZCBpbWFnZSBpcyBub3QgYWZmZWN0ZWQgYnkgdmlld3BvcnQgdHJhbnNmb3JtXG4gICAgICogQHNpbmNlIDEuNi4zXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgYmFja2dyb3VuZFZwdDogdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIGlmIHNldCB0byBmYWxzZSBvdmVybHlhIGltYWdlIGlzIG5vdCBhZmZlY3RlZCBieSB2aWV3cG9ydCB0cmFuc2Zvcm1cbiAgICAgKiBAc2luY2UgMS42LjNcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBvdmVybGF5VnB0OiB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiB0cnVlLCBjYW52YXMgaXMgc2NhbGVkIGJ5IGRldmljZVBpeGVsUmF0aW8gZm9yIGJldHRlciByZW5kZXJpbmcgb24gcmV0aW5hIHNjcmVlbnNcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBlbmFibGVSZXRpbmFTY2FsaW5nOiB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogRGVzY3JpYmUgY2FudmFzIGVsZW1lbnQgZXh0ZW5zaW9uIG92ZXIgZGVzaWduXG4gICAgICogcHJvcGVydGllcyBhcmUgdGwsdHIsYmwsYnIuXG4gICAgICogaWYgY2FudmFzIGlzIG5vdCB6b29tZWQvcGFubmVkIHRob3NlIHBvaW50cyBhcmUgdGhlIGZvdXIgY29ybmVyIG9mIGNhbnZhc1xuICAgICAqIGlmIGNhbnZhcyBpcyB2aWV3cG9ydFRyYW5zZm9ybWVkIHlvdSB0aG9zZSBwb2ludHMgaW5kaWNhdGUgdGhlIGV4dGVuc2lvblxuICAgICAqIG9mIGNhbnZhcyBlbGVtZW50IGluIHBsYWluIHVudHJhc2Zvcm1lZCBjb29yZGluYXRlc1xuICAgICAqIFRoZSBjb29yZGluYXRlcyBnZXQgdXBkYXRlZCB3aXRoIEBtZXRob2QgY2FsY1ZpZXdwb3J0Qm91bmRhcmllcy5cbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLlN0YXRpY0NhbnZhcy5wcm90b3R5cGVcbiAgICAgKi9cbiAgICB2cHRDb29yZHM6IHsgfSxcblxuICAgIC8qKlxuICAgICAqIEJhc2VkIG9uIHZwdENvb3JkcyBhbmQgb2JqZWN0LmFDb29yZHMsIHNraXAgcmVuZGVyaW5nIG9mIG9iamVjdHMgdGhhdFxuICAgICAqIGFyZSBub3QgaW5jbHVkZWQgaW4gY3VycmVudCB2aWV3cG9ydC5cbiAgICAgKiBNYXkgZ3JlYXRseSBoZWxwIGluIGFwcGxpY2F0aW9ucyB3aXRoIGNyb3dkZWQgY2FudmFzIGFuZCB1c2Ugb2Ygem9vbS9wYW5cbiAgICAgKiBJZiBPbmUgb2YgdGhlIGNvcm5lciBvZiB0aGUgYm91bmRpbmcgYm94IG9mIHRoZSBvYmplY3QgaXMgb24gdGhlIGNhbnZhc1xuICAgICAqIHRoZSBvYmplY3RzIGdldCByZW5kZXJlZC5cbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLlN0YXRpY0NhbnZhcy5wcm90b3R5cGVcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBza2lwT2Zmc2NyZWVuOiB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogYSBmYWJyaWNPYmplY3QgdGhhdCwgd2l0aG91dCBzdHJva2UgZGVmaW5lIGEgY2xpcHBpbmcgYXJlYSB3aXRoIHRoZWlyIHNoYXBlLiBmaWxsZWQgaW4gYmxhY2tcbiAgICAgKiB0aGUgY2xpcFBhdGggb2JqZWN0IGdldHMgdXNlZCB3aGVuIHRoZSBjYW52YXMgaGFzIHJlbmRlcmVkLCBhbmQgdGhlIGNvbnRleHQgaXMgcGxhY2VkIGluIHRoZVxuICAgICAqIHRvcCBsZWZ0IGNvcm5lciBvZiB0aGUgY2FudmFzLlxuICAgICAqIGNsaXBQYXRoIHdpbGwgY2xpcCBhd2F5IGNvbnRyb2xzLCBpZiB5b3UgZG8gbm90IHdhbnQgdGhpcyB0byBoYXBwZW4gdXNlIGNvbnRyb2xzQWJvdmVPdmVybGF5ID0gdHJ1ZVxuICAgICAqIEB0eXBlIGZhYnJpYy5PYmplY3RcbiAgICAgKi9cbiAgICBjbGlwUGF0aDogdW5kZWZpbmVkLFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50IHwgU3RyaW5nfSBlbCAmbHQ7Y2FudmFzPiBlbGVtZW50IHRvIGluaXRpYWxpemUgaW5zdGFuY2Ugb25cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAgICovXG4gICAgX2luaXRTdGF0aWM6IGZ1bmN0aW9uKGVsLCBvcHRpb25zKSB7XG4gICAgICB2YXIgY2IgPSB0aGlzLnJlcXVlc3RSZW5kZXJBbGxCb3VuZDtcbiAgICAgIHRoaXMuX29iamVjdHMgPSBbXTtcbiAgICAgIHRoaXMuX2NyZWF0ZUxvd2VyQ2FudmFzKGVsKTtcbiAgICAgIHRoaXMuX2luaXRPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgLy8gb25seSBpbml0aWFsaXplIHJldGluYSBzY2FsaW5nIG9uY2VcbiAgICAgIGlmICghdGhpcy5pbnRlcmFjdGl2ZSkge1xuICAgICAgICB0aGlzLl9pbml0UmV0aW5hU2NhbGluZygpO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5vdmVybGF5SW1hZ2UpIHtcbiAgICAgICAgdGhpcy5zZXRPdmVybGF5SW1hZ2Uob3B0aW9ucy5vdmVybGF5SW1hZ2UsIGNiKTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zLmJhY2tncm91bmRJbWFnZSkge1xuICAgICAgICB0aGlzLnNldEJhY2tncm91bmRJbWFnZShvcHRpb25zLmJhY2tncm91bmRJbWFnZSwgY2IpO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMuYmFja2dyb3VuZENvbG9yKSB7XG4gICAgICAgIHRoaXMuc2V0QmFja2dyb3VuZENvbG9yKG9wdGlvbnMuYmFja2dyb3VuZENvbG9yLCBjYik7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucy5vdmVybGF5Q29sb3IpIHtcbiAgICAgICAgdGhpcy5zZXRPdmVybGF5Q29sb3Iob3B0aW9ucy5vdmVybGF5Q29sb3IsIGNiKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuY2FsY09mZnNldCgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pc1JldGluYVNjYWxpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIChmYWJyaWMuZGV2aWNlUGl4ZWxSYXRpbyA+IDEgJiYgdGhpcy5lbmFibGVSZXRpbmFTY2FsaW5nKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IHJldGluYVNjYWxpbmcgaWYgYXBwbGllZCwgb3RoZXJ3aXNlIDE7XG4gICAgICovXG4gICAgZ2V0UmV0aW5hU2NhbGluZzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5faXNSZXRpbmFTY2FsaW5nKCkgPyBNYXRoLm1heCgxLCBmYWJyaWMuZGV2aWNlUGl4ZWxSYXRpbykgOiAxO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pbml0UmV0aW5hU2NhbGluZzogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIXRoaXMuX2lzUmV0aW5hU2NhbGluZygpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBzY2FsZVJhdGlvID0gZmFicmljLmRldmljZVBpeGVsUmF0aW87XG4gICAgICB0aGlzLl9faW5pdFJldGluYVNjYWxpbmcoc2NhbGVSYXRpbywgdGhpcy5sb3dlckNhbnZhc0VsLCB0aGlzLmNvbnRleHRDb250YWluZXIpO1xuICAgICAgaWYgKHRoaXMudXBwZXJDYW52YXNFbCkge1xuICAgICAgICB0aGlzLl9faW5pdFJldGluYVNjYWxpbmcoc2NhbGVSYXRpbywgdGhpcy51cHBlckNhbnZhc0VsLCB0aGlzLmNvbnRleHRUb3ApO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBfX2luaXRSZXRpbmFTY2FsaW5nOiBmdW5jdGlvbihzY2FsZVJhdGlvLCBjYW52YXMsIGNvbnRleHQpIHtcbiAgICAgIGNhbnZhcy5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgdGhpcy53aWR0aCAqIHNjYWxlUmF0aW8pO1xuICAgICAgY2FudmFzLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgdGhpcy5oZWlnaHQgKiBzY2FsZVJhdGlvKTtcbiAgICAgIGNvbnRleHQuc2NhbGUoc2NhbGVSYXRpbywgc2NhbGVSYXRpbyk7XG4gICAgfSxcblxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyBjYW52YXMgZWxlbWVudCBvZmZzZXQgcmVsYXRpdmUgdG8gdGhlIGRvY3VtZW50XG4gICAgICogVGhpcyBtZXRob2QgaXMgYWxzbyBhdHRhY2hlZCBhcyBcInJlc2l6ZVwiIGV2ZW50IGhhbmRsZXIgb2Ygd2luZG93XG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gaW5zdGFuY2VcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgY2FsY09mZnNldDogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5fb2Zmc2V0ID0gZ2V0RWxlbWVudE9mZnNldCh0aGlzLmxvd2VyQ2FudmFzRWwpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMge0BsaW5rIGZhYnJpYy5TdGF0aWNDYW52YXMjb3ZlcmxheUltYWdlfG92ZXJsYXkgaW1hZ2V9IGZvciB0aGlzIGNhbnZhc1xuICAgICAqIEBwYXJhbSB7KGZhYnJpYy5JbWFnZXxTdHJpbmcpfSBpbWFnZSBmYWJyaWMuSW1hZ2UgaW5zdGFuY2Ugb3IgVVJMIG9mIGFuIGltYWdlIHRvIHNldCBvdmVybGF5IHRvXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgY2FsbGJhY2sgdG8gaW52b2tlIHdoZW4gaW1hZ2UgaXMgbG9hZGVkIGFuZCBzZXQgYXMgYW4gb3ZlcmxheVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9uYWwgb3B0aW9ucyB0byBzZXQgZm9yIHRoZSB7QGxpbmsgZmFicmljLkltYWdlfG92ZXJsYXkgaW1hZ2V9LlxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cDovL2pzZmlkZGxlLm5ldC9mYWJyaWNqcy9NbnpIVC98anNGaWRkbGUgZGVtb31cbiAgICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5Ob3JtYWwgb3ZlcmxheUltYWdlIHdpdGggbGVmdC90b3AgPSAwPC9jYXB0aW9uPlxuICAgICAqIGNhbnZhcy5zZXRPdmVybGF5SW1hZ2UoJ2h0dHA6Ly9mYWJyaWNqcy5jb20vYXNzZXRzL2phaWxfY2VsbF9iYXJzLnBuZycsIGNhbnZhcy5yZW5kZXJBbGwuYmluZChjYW52YXMpLCB7XG4gICAgICogICAvLyBOZWVkZWQgdG8gcG9zaXRpb24gb3ZlcmxheUltYWdlIGF0IDAvMFxuICAgICAqICAgb3JpZ2luWDogJ2xlZnQnLFxuICAgICAqICAgb3JpZ2luWTogJ3RvcCdcbiAgICAgKiB9KTtcbiAgICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5vdmVybGF5SW1hZ2Ugd2l0aCBkaWZmZXJlbnQgcHJvcGVydGllczwvY2FwdGlvbj5cbiAgICAgKiBjYW52YXMuc2V0T3ZlcmxheUltYWdlKCdodHRwOi8vZmFicmljanMuY29tL2Fzc2V0cy9qYWlsX2NlbGxfYmFycy5wbmcnLCBjYW52YXMucmVuZGVyQWxsLmJpbmQoY2FudmFzKSwge1xuICAgICAqICAgb3BhY2l0eTogMC41LFxuICAgICAqICAgYW5nbGU6IDQ1LFxuICAgICAqICAgbGVmdDogNDAwLFxuICAgICAqICAgdG9wOiA0MDAsXG4gICAgICogICBvcmlnaW5YOiAnbGVmdCcsXG4gICAgICogICBvcmlnaW5ZOiAndG9wJ1xuICAgICAqIH0pO1xuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPlN0cmV0Y2hlZCBvdmVybGF5SW1hZ2UgIzEgLSB3aWR0aC9oZWlnaHQgY29ycmVzcG9uZCB0byBjYW52YXMgd2lkdGgvaGVpZ2h0PC9jYXB0aW9uPlxuICAgICAqIGZhYnJpYy5JbWFnZS5mcm9tVVJMKCdodHRwOi8vZmFicmljanMuY29tL2Fzc2V0cy9qYWlsX2NlbGxfYmFycy5wbmcnLCBmdW5jdGlvbihpbWcsIGlzRXJyb3IpIHtcbiAgICAgKiAgICBpbWcuc2V0KHt3aWR0aDogY2FudmFzLndpZHRoLCBoZWlnaHQ6IGNhbnZhcy5oZWlnaHQsIG9yaWdpblg6ICdsZWZ0Jywgb3JpZ2luWTogJ3RvcCd9KTtcbiAgICAgKiAgICBjYW52YXMuc2V0T3ZlcmxheUltYWdlKGltZywgY2FudmFzLnJlbmRlckFsbC5iaW5kKGNhbnZhcykpO1xuICAgICAqIH0pO1xuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPlN0cmV0Y2hlZCBvdmVybGF5SW1hZ2UgIzIgLSB3aWR0aC9oZWlnaHQgY29ycmVzcG9uZCB0byBjYW52YXMgd2lkdGgvaGVpZ2h0PC9jYXB0aW9uPlxuICAgICAqIGNhbnZhcy5zZXRPdmVybGF5SW1hZ2UoJ2h0dHA6Ly9mYWJyaWNqcy5jb20vYXNzZXRzL2phaWxfY2VsbF9iYXJzLnBuZycsIGNhbnZhcy5yZW5kZXJBbGwuYmluZChjYW52YXMpLCB7XG4gICAgICogICB3aWR0aDogY2FudmFzLndpZHRoLFxuICAgICAqICAgaGVpZ2h0OiBjYW52YXMuaGVpZ2h0LFxuICAgICAqICAgLy8gTmVlZGVkIHRvIHBvc2l0aW9uIG92ZXJsYXlJbWFnZSBhdCAwLzBcbiAgICAgKiAgIG9yaWdpblg6ICdsZWZ0JyxcbiAgICAgKiAgIG9yaWdpblk6ICd0b3AnXG4gICAgICogfSk7XG4gICAgICogQGV4YW1wbGUgPGNhcHRpb24+b3ZlcmxheUltYWdlIGxvYWRlZCBmcm9tIGNyb3NzLW9yaWdpbjwvY2FwdGlvbj5cbiAgICAgKiBjYW52YXMuc2V0T3ZlcmxheUltYWdlKCdodHRwOi8vZmFicmljanMuY29tL2Fzc2V0cy9qYWlsX2NlbGxfYmFycy5wbmcnLCBjYW52YXMucmVuZGVyQWxsLmJpbmQoY2FudmFzKSwge1xuICAgICAqICAgb3BhY2l0eTogMC41LFxuICAgICAqICAgYW5nbGU6IDQ1LFxuICAgICAqICAgbGVmdDogNDAwLFxuICAgICAqICAgdG9wOiA0MDAsXG4gICAgICogICBvcmlnaW5YOiAnbGVmdCcsXG4gICAgICogICBvcmlnaW5ZOiAndG9wJyxcbiAgICAgKiAgIGNyb3NzT3JpZ2luOiAnYW5vbnltb3VzJ1xuICAgICAqIH0pO1xuICAgICAqL1xuICAgIHNldE92ZXJsYXlJbWFnZTogZnVuY3Rpb24gKGltYWdlLCBjYWxsYmFjaywgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMuX19zZXRCZ092ZXJsYXlJbWFnZSgnb3ZlcmxheUltYWdlJywgaW1hZ2UsIGNhbGxiYWNrLCBvcHRpb25zKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB7QGxpbmsgZmFicmljLlN0YXRpY0NhbnZhcyNiYWNrZ3JvdW5kSW1hZ2V8YmFja2dyb3VuZCBpbWFnZX0gZm9yIHRoaXMgY2FudmFzXG4gICAgICogQHBhcmFtIHsoZmFicmljLkltYWdlfFN0cmluZyl9IGltYWdlIGZhYnJpYy5JbWFnZSBpbnN0YW5jZSBvciBVUkwgb2YgYW4gaW1hZ2UgdG8gc2V0IGJhY2tncm91bmQgdG9cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsYmFjayB0byBpbnZva2Ugd2hlbiBpbWFnZSBpcyBsb2FkZWQgYW5kIHNldCBhcyBiYWNrZ3JvdW5kXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25hbCBvcHRpb25zIHRvIHNldCBmb3IgdGhlIHtAbGluayBmYWJyaWMuSW1hZ2V8YmFja2dyb3VuZCBpbWFnZX0uXG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKiBAc2VlIHtAbGluayBodHRwOi8vanNmaWRkbGUubmV0L2RqbnI4bzdhLzI4L3xqc0ZpZGRsZSBkZW1vfVxuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPk5vcm1hbCBiYWNrZ3JvdW5kSW1hZ2Ugd2l0aCBsZWZ0L3RvcCA9IDA8L2NhcHRpb24+XG4gICAgICogY2FudmFzLnNldEJhY2tncm91bmRJbWFnZSgnaHR0cDovL2ZhYnJpY2pzLmNvbS9hc3NldHMvaG9uZXlfaW1fc3VidGxlLnBuZycsIGNhbnZhcy5yZW5kZXJBbGwuYmluZChjYW52YXMpLCB7XG4gICAgICogICAvLyBOZWVkZWQgdG8gcG9zaXRpb24gYmFja2dyb3VuZEltYWdlIGF0IDAvMFxuICAgICAqICAgb3JpZ2luWDogJ2xlZnQnLFxuICAgICAqICAgb3JpZ2luWTogJ3RvcCdcbiAgICAgKiB9KTtcbiAgICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5iYWNrZ3JvdW5kSW1hZ2Ugd2l0aCBkaWZmZXJlbnQgcHJvcGVydGllczwvY2FwdGlvbj5cbiAgICAgKiBjYW52YXMuc2V0QmFja2dyb3VuZEltYWdlKCdodHRwOi8vZmFicmljanMuY29tL2Fzc2V0cy9ob25leV9pbV9zdWJ0bGUucG5nJywgY2FudmFzLnJlbmRlckFsbC5iaW5kKGNhbnZhcyksIHtcbiAgICAgKiAgIG9wYWNpdHk6IDAuNSxcbiAgICAgKiAgIGFuZ2xlOiA0NSxcbiAgICAgKiAgIGxlZnQ6IDQwMCxcbiAgICAgKiAgIHRvcDogNDAwLFxuICAgICAqICAgb3JpZ2luWDogJ2xlZnQnLFxuICAgICAqICAgb3JpZ2luWTogJ3RvcCdcbiAgICAgKiB9KTtcbiAgICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5TdHJldGNoZWQgYmFja2dyb3VuZEltYWdlICMxIC0gd2lkdGgvaGVpZ2h0IGNvcnJlc3BvbmQgdG8gY2FudmFzIHdpZHRoL2hlaWdodDwvY2FwdGlvbj5cbiAgICAgKiBmYWJyaWMuSW1hZ2UuZnJvbVVSTCgnaHR0cDovL2ZhYnJpY2pzLmNvbS9hc3NldHMvaG9uZXlfaW1fc3VidGxlLnBuZycsIGZ1bmN0aW9uKGltZywgaXNFcnJvcikge1xuICAgICAqICAgIGltZy5zZXQoe3dpZHRoOiBjYW52YXMud2lkdGgsIGhlaWdodDogY2FudmFzLmhlaWdodCwgb3JpZ2luWDogJ2xlZnQnLCBvcmlnaW5ZOiAndG9wJ30pO1xuICAgICAqICAgIGNhbnZhcy5zZXRCYWNrZ3JvdW5kSW1hZ2UoaW1nLCBjYW52YXMucmVuZGVyQWxsLmJpbmQoY2FudmFzKSk7XG4gICAgICogfSk7XG4gICAgICogQGV4YW1wbGUgPGNhcHRpb24+U3RyZXRjaGVkIGJhY2tncm91bmRJbWFnZSAjMiAtIHdpZHRoL2hlaWdodCBjb3JyZXNwb25kIHRvIGNhbnZhcyB3aWR0aC9oZWlnaHQ8L2NhcHRpb24+XG4gICAgICogY2FudmFzLnNldEJhY2tncm91bmRJbWFnZSgnaHR0cDovL2ZhYnJpY2pzLmNvbS9hc3NldHMvaG9uZXlfaW1fc3VidGxlLnBuZycsIGNhbnZhcy5yZW5kZXJBbGwuYmluZChjYW52YXMpLCB7XG4gICAgICogICB3aWR0aDogY2FudmFzLndpZHRoLFxuICAgICAqICAgaGVpZ2h0OiBjYW52YXMuaGVpZ2h0LFxuICAgICAqICAgLy8gTmVlZGVkIHRvIHBvc2l0aW9uIGJhY2tncm91bmRJbWFnZSBhdCAwLzBcbiAgICAgKiAgIG9yaWdpblg6ICdsZWZ0JyxcbiAgICAgKiAgIG9yaWdpblk6ICd0b3AnXG4gICAgICogfSk7XG4gICAgICogQGV4YW1wbGUgPGNhcHRpb24+YmFja2dyb3VuZEltYWdlIGxvYWRlZCBmcm9tIGNyb3NzLW9yaWdpbjwvY2FwdGlvbj5cbiAgICAgKiBjYW52YXMuc2V0QmFja2dyb3VuZEltYWdlKCdodHRwOi8vZmFicmljanMuY29tL2Fzc2V0cy9ob25leV9pbV9zdWJ0bGUucG5nJywgY2FudmFzLnJlbmRlckFsbC5iaW5kKGNhbnZhcyksIHtcbiAgICAgKiAgIG9wYWNpdHk6IDAuNSxcbiAgICAgKiAgIGFuZ2xlOiA0NSxcbiAgICAgKiAgIGxlZnQ6IDQwMCxcbiAgICAgKiAgIHRvcDogNDAwLFxuICAgICAqICAgb3JpZ2luWDogJ2xlZnQnLFxuICAgICAqICAgb3JpZ2luWTogJ3RvcCcsXG4gICAgICogICBjcm9zc09yaWdpbjogJ2Fub255bW91cydcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICAvLyBUT0RPOiBmaXggc3RyZXRjaGVkIGV4YW1wbGVzXG4gICAgc2V0QmFja2dyb3VuZEltYWdlOiBmdW5jdGlvbiAoaW1hZ2UsIGNhbGxiYWNrLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX3NldEJnT3ZlcmxheUltYWdlKCdiYWNrZ3JvdW5kSW1hZ2UnLCBpbWFnZSwgY2FsbGJhY2ssIG9wdGlvbnMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHtAbGluayBmYWJyaWMuU3RhdGljQ2FudmFzI292ZXJsYXlDb2xvcnxmb3JlZ3JvdW5kIGNvbG9yfSBmb3IgdGhpcyBjYW52YXNcbiAgICAgKiBAcGFyYW0geyhTdHJpbmd8ZmFicmljLlBhdHRlcm4pfSBvdmVybGF5Q29sb3IgQ29sb3Igb3IgcGF0dGVybiB0byBzZXQgZm9yZWdyb3VuZCBjb2xvciB0b1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIENhbGxiYWNrIHRvIGludm9rZSB3aGVuIGZvcmVncm91bmQgY29sb3IgaXMgc2V0XG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKiBAc2VlIHtAbGluayBodHRwOi8vanNmaWRkbGUubmV0L2ZhYnJpY2pzL3BCNTVoL3xqc0ZpZGRsZSBkZW1vfVxuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPk5vcm1hbCBvdmVybGF5Q29sb3IgLSBjb2xvciB2YWx1ZTwvY2FwdGlvbj5cbiAgICAgKiBjYW52YXMuc2V0T3ZlcmxheUNvbG9yKCdyZ2JhKDI1NSwgNzMsIDY0LCAwLjYpJywgY2FudmFzLnJlbmRlckFsbC5iaW5kKGNhbnZhcykpO1xuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPmZhYnJpYy5QYXR0ZXJuIHVzZWQgYXMgb3ZlcmxheUNvbG9yPC9jYXB0aW9uPlxuICAgICAqIGNhbnZhcy5zZXRPdmVybGF5Q29sb3Ioe1xuICAgICAqICAgc291cmNlOiAnaHR0cDovL2ZhYnJpY2pzLmNvbS9hc3NldHMvZXNjaGVyZXNxdWVfc3RlLnBuZydcbiAgICAgKiB9LCBjYW52YXMucmVuZGVyQWxsLmJpbmQoY2FudmFzKSk7XG4gICAgICogQGV4YW1wbGUgPGNhcHRpb24+ZmFicmljLlBhdHRlcm4gdXNlZCBhcyBvdmVybGF5Q29sb3Igd2l0aCByZXBlYXQgYW5kIG9mZnNldDwvY2FwdGlvbj5cbiAgICAgKiBjYW52YXMuc2V0T3ZlcmxheUNvbG9yKHtcbiAgICAgKiAgIHNvdXJjZTogJ2h0dHA6Ly9mYWJyaWNqcy5jb20vYXNzZXRzL2VzY2hlcmVzcXVlX3N0ZS5wbmcnLFxuICAgICAqICAgcmVwZWF0OiAncmVwZWF0JyxcbiAgICAgKiAgIG9mZnNldFg6IDIwMCxcbiAgICAgKiAgIG9mZnNldFk6IDEwMFxuICAgICAqIH0sIGNhbnZhcy5yZW5kZXJBbGwuYmluZChjYW52YXMpKTtcbiAgICAgKi9cbiAgICBzZXRPdmVybGF5Q29sb3I6IGZ1bmN0aW9uKG92ZXJsYXlDb2xvciwgY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiB0aGlzLl9fc2V0QmdPdmVybGF5Q29sb3IoJ292ZXJsYXlDb2xvcicsIG92ZXJsYXlDb2xvciwgY2FsbGJhY2spO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHtAbGluayBmYWJyaWMuU3RhdGljQ2FudmFzI2JhY2tncm91bmRDb2xvcnxiYWNrZ3JvdW5kIGNvbG9yfSBmb3IgdGhpcyBjYW52YXNcbiAgICAgKiBAcGFyYW0geyhTdHJpbmd8ZmFicmljLlBhdHRlcm4pfSBiYWNrZ3JvdW5kQ29sb3IgQ29sb3Igb3IgcGF0dGVybiB0byBzZXQgYmFja2dyb3VuZCBjb2xvciB0b1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIENhbGxiYWNrIHRvIGludm9rZSB3aGVuIGJhY2tncm91bmQgY29sb3IgaXMgc2V0XG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKiBAc2VlIHtAbGluayBodHRwOi8vanNmaWRkbGUubmV0L2ZhYnJpY2pzL2hYenZrL3xqc0ZpZGRsZSBkZW1vfVxuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPk5vcm1hbCBiYWNrZ3JvdW5kQ29sb3IgLSBjb2xvciB2YWx1ZTwvY2FwdGlvbj5cbiAgICAgKiBjYW52YXMuc2V0QmFja2dyb3VuZENvbG9yKCdyZ2JhKDI1NSwgNzMsIDY0LCAwLjYpJywgY2FudmFzLnJlbmRlckFsbC5iaW5kKGNhbnZhcykpO1xuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPmZhYnJpYy5QYXR0ZXJuIHVzZWQgYXMgYmFja2dyb3VuZENvbG9yPC9jYXB0aW9uPlxuICAgICAqIGNhbnZhcy5zZXRCYWNrZ3JvdW5kQ29sb3Ioe1xuICAgICAqICAgc291cmNlOiAnaHR0cDovL2ZhYnJpY2pzLmNvbS9hc3NldHMvZXNjaGVyZXNxdWVfc3RlLnBuZydcbiAgICAgKiB9LCBjYW52YXMucmVuZGVyQWxsLmJpbmQoY2FudmFzKSk7XG4gICAgICogQGV4YW1wbGUgPGNhcHRpb24+ZmFicmljLlBhdHRlcm4gdXNlZCBhcyBiYWNrZ3JvdW5kQ29sb3Igd2l0aCByZXBlYXQgYW5kIG9mZnNldDwvY2FwdGlvbj5cbiAgICAgKiBjYW52YXMuc2V0QmFja2dyb3VuZENvbG9yKHtcbiAgICAgKiAgIHNvdXJjZTogJ2h0dHA6Ly9mYWJyaWNqcy5jb20vYXNzZXRzL2VzY2hlcmVzcXVlX3N0ZS5wbmcnLFxuICAgICAqICAgcmVwZWF0OiAncmVwZWF0JyxcbiAgICAgKiAgIG9mZnNldFg6IDIwMCxcbiAgICAgKiAgIG9mZnNldFk6IDEwMFxuICAgICAqIH0sIGNhbnZhcy5yZW5kZXJBbGwuYmluZChjYW52YXMpKTtcbiAgICAgKi9cbiAgICBzZXRCYWNrZ3JvdW5kQ29sb3I6IGZ1bmN0aW9uKGJhY2tncm91bmRDb2xvciwgY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiB0aGlzLl9fc2V0QmdPdmVybGF5Q29sb3IoJ2JhY2tncm91bmRDb2xvcicsIGJhY2tncm91bmRDb2xvciwgY2FsbGJhY2spO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eSBQcm9wZXJ0eSB0byBzZXQgKHtAbGluayBmYWJyaWMuU3RhdGljQ2FudmFzI2JhY2tncm91bmRJbWFnZXxiYWNrZ3JvdW5kSW1hZ2V9XG4gICAgICogb3Ige0BsaW5rIGZhYnJpYy5TdGF0aWNDYW52YXMjb3ZlcmxheUltYWdlfG92ZXJsYXlJbWFnZX0pXG4gICAgICogQHBhcmFtIHsoZmFicmljLkltYWdlfFN0cmluZ3xudWxsKX0gaW1hZ2UgZmFicmljLkltYWdlIGluc3RhbmNlLCBVUkwgb2YgYW4gaW1hZ2Ugb3IgbnVsbCB0byBzZXQgYmFja2dyb3VuZCBvciBvdmVybGF5IHRvXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2sgdG8gaW52b2tlIHdoZW4gaW1hZ2UgaXMgbG9hZGVkIGFuZCBzZXQgYXMgYmFja2dyb3VuZCBvciBvdmVybGF5LiBUaGUgZmlyc3QgYXJndW1lbnQgaXMgdGhlIGNyZWF0ZWQgaW1hZ2UsIHRoZSBzZWNvbmQgYXJndW1lbnQgaXMgYSBmbGFnIGluZGljYXRpbmcgd2hldGhlciBhbiBlcnJvciBvY2N1cnJlZCBvciBub3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25hbCBvcHRpb25zIHRvIHNldCBmb3IgdGhlIHtAbGluayBmYWJyaWMuSW1hZ2V8aW1hZ2V9LlxuICAgICAqL1xuICAgIF9fc2V0QmdPdmVybGF5SW1hZ2U6IGZ1bmN0aW9uKHByb3BlcnR5LCBpbWFnZSwgY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgICAgIGlmICh0eXBlb2YgaW1hZ2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGZhYnJpYy51dGlsLmxvYWRJbWFnZShpbWFnZSwgZnVuY3Rpb24oaW1nLCBpc0Vycm9yKSB7XG4gICAgICAgICAgaWYgKGltZykge1xuICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gbmV3IGZhYnJpYy5JbWFnZShpbWcsIG9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpc1twcm9wZXJ0eV0gPSBpbnN0YW5jZTtcbiAgICAgICAgICAgIGluc3RhbmNlLmNhbnZhcyA9IHRoaXM7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGltZywgaXNFcnJvcik7XG4gICAgICAgIH0sIHRoaXMsIG9wdGlvbnMgJiYgb3B0aW9ucy5jcm9zc09yaWdpbik7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgb3B0aW9ucyAmJiBpbWFnZS5zZXRPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICB0aGlzW3Byb3BlcnR5XSA9IGltYWdlO1xuICAgICAgICBpbWFnZSAmJiAoaW1hZ2UuY2FudmFzID0gdGhpcyk7XG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGltYWdlLCBmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eSBQcm9wZXJ0eSB0byBzZXQgKHtAbGluayBmYWJyaWMuU3RhdGljQ2FudmFzI2JhY2tncm91bmRDb2xvcnxiYWNrZ3JvdW5kQ29sb3J9XG4gICAgICogb3Ige0BsaW5rIGZhYnJpYy5TdGF0aWNDYW52YXMjb3ZlcmxheUNvbG9yfG92ZXJsYXlDb2xvcn0pXG4gICAgICogQHBhcmFtIHsoT2JqZWN0fFN0cmluZ3xudWxsKX0gY29sb3IgT2JqZWN0IHdpdGggcGF0dGVybiBpbmZvcm1hdGlvbiwgY29sb3IgdmFsdWUgb3IgbnVsbFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gQ2FsbGJhY2sgaXMgaW52b2tlZCB3aGVuIGNvbG9yIGlzIHNldFxuICAgICAqL1xuICAgIF9fc2V0QmdPdmVybGF5Q29sb3I6IGZ1bmN0aW9uKHByb3BlcnR5LCBjb2xvciwgY2FsbGJhY2spIHtcbiAgICAgIHRoaXNbcHJvcGVydHldID0gY29sb3I7XG4gICAgICB0aGlzLl9pbml0R3JhZGllbnQoY29sb3IsIHByb3BlcnR5KTtcbiAgICAgIHRoaXMuX2luaXRQYXR0ZXJuKGNvbG9yLCBwcm9wZXJ0eSwgY2FsbGJhY2spO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2NyZWF0ZUNhbnZhc0VsZW1lbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGVsZW1lbnQgPSBjcmVhdGVDYW52YXNFbGVtZW50KCk7XG4gICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgdGhyb3cgQ0FOVkFTX0lOSVRfRVJST1I7XG4gICAgICB9XG4gICAgICBpZiAoIWVsZW1lbnQuc3R5bGUpIHtcbiAgICAgICAgZWxlbWVudC5zdHlsZSA9IHsgfTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgZWxlbWVudC5nZXRDb250ZXh0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aHJvdyBDQU5WQVNfSU5JVF9FUlJPUjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKi9cbiAgICBfaW5pdE9wdGlvbnM6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICB2YXIgbG93ZXJDYW52YXNFbCA9IHRoaXMubG93ZXJDYW52YXNFbDtcbiAgICAgIHRoaXMuX3NldE9wdGlvbnMob3B0aW9ucyk7XG5cbiAgICAgIHRoaXMud2lkdGggPSB0aGlzLndpZHRoIHx8IHBhcnNlSW50KGxvd2VyQ2FudmFzRWwud2lkdGgsIDEwKSB8fCAwO1xuICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLmhlaWdodCB8fCBwYXJzZUludChsb3dlckNhbnZhc0VsLmhlaWdodCwgMTApIHx8IDA7XG5cbiAgICAgIGlmICghdGhpcy5sb3dlckNhbnZhc0VsLnN0eWxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbG93ZXJDYW52YXNFbC53aWR0aCA9IHRoaXMud2lkdGg7XG4gICAgICBsb3dlckNhbnZhc0VsLmhlaWdodCA9IHRoaXMuaGVpZ2h0O1xuXG4gICAgICBsb3dlckNhbnZhc0VsLnN0eWxlLndpZHRoID0gdGhpcy53aWR0aCArICdweCc7XG4gICAgICBsb3dlckNhbnZhc0VsLnN0eWxlLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICsgJ3B4JztcblxuICAgICAgdGhpcy52aWV3cG9ydFRyYW5zZm9ybSA9IHRoaXMudmlld3BvcnRUcmFuc2Zvcm0uc2xpY2UoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGJvdHRvbSBjYW52YXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IFtjYW52YXNFbF1cbiAgICAgKi9cbiAgICBfY3JlYXRlTG93ZXJDYW52YXM6IGZ1bmN0aW9uIChjYW52YXNFbCkge1xuICAgICAgLy8gY2FudmFzRWwgPT09ICdIVE1MQ2FudmFzRWxlbWVudCcgZG9lcyBub3Qgd29yayBvbiBqc2RvbS9ub2RlXG4gICAgICBpZiAoY2FudmFzRWwgJiYgY2FudmFzRWwuZ2V0Q29udGV4dCkge1xuICAgICAgICB0aGlzLmxvd2VyQ2FudmFzRWwgPSBjYW52YXNFbDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLmxvd2VyQ2FudmFzRWwgPSBmYWJyaWMudXRpbC5nZXRCeUlkKGNhbnZhc0VsKSB8fCB0aGlzLl9jcmVhdGVDYW52YXNFbGVtZW50KCk7XG4gICAgICB9XG5cbiAgICAgIGZhYnJpYy51dGlsLmFkZENsYXNzKHRoaXMubG93ZXJDYW52YXNFbCwgJ2xvd2VyLWNhbnZhcycpO1xuICAgICAgdGhpcy5fb3JpZ2luYWxDYW52YXNTdHlsZSA9IHRoaXMubG93ZXJDYW52YXNFbC5zdHlsZTtcbiAgICAgIGlmICh0aGlzLmludGVyYWN0aXZlKSB7XG4gICAgICAgIHRoaXMuX2FwcGx5Q2FudmFzU3R5bGUodGhpcy5sb3dlckNhbnZhc0VsKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jb250ZXh0Q29udGFpbmVyID0gdGhpcy5sb3dlckNhbnZhc0VsLmdldENvbnRleHQoJzJkJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgY2FudmFzIHdpZHRoIChpbiBweClcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAgICovXG4gICAgZ2V0V2lkdGg6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLndpZHRoO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGNhbnZhcyBoZWlnaHQgKGluIHB4KVxuICAgICAqIEByZXR1cm4ge051bWJlcn1cbiAgICAgKi9cbiAgICBnZXRIZWlnaHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmhlaWdodDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB3aWR0aCBvZiB0aGlzIGNhbnZhcyBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfFN0cmluZ30gdmFsdWUgICAgICAgICAgICAgICAgICAgICAgICAgVmFsdWUgdG8gc2V0IHdpZHRoIHRvXG4gICAgICogQHBhcmFtIHtPYmplY3R9ICAgICAgICBbb3B0aW9uc10gICAgICAgICAgICAgICAgICAgICBPcHRpb25zIG9iamVjdFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gICAgICAgW29wdGlvbnMuYmFja3N0b3JlT25seT1mYWxzZV0gU2V0IHRoZSBnaXZlbiBkaW1lbnNpb25zIG9ubHkgYXMgY2FudmFzIGJhY2tzdG9yZSBkaW1lbnNpb25zXG4gICAgICogQHBhcmFtIHtCb29sZWFufSAgICAgICBbb3B0aW9ucy5jc3NPbmx5PWZhbHNlXSAgICAgICBTZXQgdGhlIGdpdmVuIGRpbWVuc2lvbnMgb25seSBhcyBjc3MgZGltZW5zaW9uc1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IGluc3RhbmNlXG4gICAgICogQGNoYWluYWJsZSB0cnVlXG4gICAgICovXG4gICAgc2V0V2lkdGg6IGZ1bmN0aW9uICh2YWx1ZSwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMuc2V0RGltZW5zaW9ucyh7IHdpZHRoOiB2YWx1ZSB9LCBvcHRpb25zKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyBoZWlnaHQgb2YgdGhpcyBjYW52YXMgaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge051bWJlcnxTdHJpbmd9IHZhbHVlICAgICAgICAgICAgICAgICAgICAgICAgIFZhbHVlIHRvIHNldCBoZWlnaHQgdG9cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gICAgICAgIFtvcHRpb25zXSAgICAgICAgICAgICAgICAgICAgIE9wdGlvbnMgb2JqZWN0XG4gICAgICogQHBhcmFtIHtCb29sZWFufSAgICAgICBbb3B0aW9ucy5iYWNrc3RvcmVPbmx5PWZhbHNlXSBTZXQgdGhlIGdpdmVuIGRpbWVuc2lvbnMgb25seSBhcyBjYW52YXMgYmFja3N0b3JlIGRpbWVuc2lvbnNcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59ICAgICAgIFtvcHRpb25zLmNzc09ubHk9ZmFsc2VdICAgICAgIFNldCB0aGUgZ2l2ZW4gZGltZW5zaW9ucyBvbmx5IGFzIGNzcyBkaW1lbnNpb25zXG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gaW5zdGFuY2VcbiAgICAgKiBAY2hhaW5hYmxlIHRydWVcbiAgICAgKi9cbiAgICBzZXRIZWlnaHQ6IGZ1bmN0aW9uICh2YWx1ZSwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMuc2V0RGltZW5zaW9ucyh7IGhlaWdodDogdmFsdWUgfSwgb3B0aW9ucyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgZGltZW5zaW9ucyAod2lkdGgsIGhlaWdodCkgb2YgdGhpcyBjYW52YXMgaW5zdGFuY2UuIHdoZW4gb3B0aW9ucy5jc3NPbmx5IGZsYWcgYWN0aXZlIHlvdSBzaG91bGQgYWxzbyBzdXBwbHkgdGhlIHVuaXQgb2YgbWVhc3VyZSAocHgvJS9lbSlcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gICAgICAgIGRpbWVuc2lvbnMgICAgICAgICAgICAgICAgICAgIE9iamVjdCB3aXRoIHdpZHRoL2hlaWdodCBwcm9wZXJ0aWVzXG4gICAgICogQHBhcmFtIHtOdW1iZXJ8U3RyaW5nfSBbZGltZW5zaW9ucy53aWR0aF0gICAgICAgICAgICBXaWR0aCBvZiBjYW52YXMgZWxlbWVudFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfFN0cmluZ30gW2RpbWVuc2lvbnMuaGVpZ2h0XSAgICAgICAgICAgSGVpZ2h0IG9mIGNhbnZhcyBlbGVtZW50XG4gICAgICogQHBhcmFtIHtPYmplY3R9ICAgICAgICBbb3B0aW9uc10gICAgICAgICAgICAgICAgICAgICBPcHRpb25zIG9iamVjdFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gICAgICAgW29wdGlvbnMuYmFja3N0b3JlT25seT1mYWxzZV0gU2V0IHRoZSBnaXZlbiBkaW1lbnNpb25zIG9ubHkgYXMgY2FudmFzIGJhY2tzdG9yZSBkaW1lbnNpb25zXG4gICAgICogQHBhcmFtIHtCb29sZWFufSAgICAgICBbb3B0aW9ucy5jc3NPbmx5PWZhbHNlXSAgICAgICBTZXQgdGhlIGdpdmVuIGRpbWVuc2lvbnMgb25seSBhcyBjc3MgZGltZW5zaW9uc1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgc2V0RGltZW5zaW9uczogZnVuY3Rpb24gKGRpbWVuc2lvbnMsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBjc3NWYWx1ZTtcblxuICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgIGZvciAodmFyIHByb3AgaW4gZGltZW5zaW9ucykge1xuICAgICAgICBjc3NWYWx1ZSA9IGRpbWVuc2lvbnNbcHJvcF07XG5cbiAgICAgICAgaWYgKCFvcHRpb25zLmNzc09ubHkpIHtcbiAgICAgICAgICB0aGlzLl9zZXRCYWNrc3RvcmVEaW1lbnNpb24ocHJvcCwgZGltZW5zaW9uc1twcm9wXSk7XG4gICAgICAgICAgY3NzVmFsdWUgKz0gJ3B4JztcbiAgICAgICAgICB0aGlzLmhhc0xvc3RDb250ZXh0ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghb3B0aW9ucy5iYWNrc3RvcmVPbmx5KSB7XG4gICAgICAgICAgdGhpcy5fc2V0Q3NzRGltZW5zaW9uKHByb3AsIGNzc1ZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX2lzQ3VycmVudGx5RHJhd2luZykge1xuICAgICAgICB0aGlzLmZyZWVEcmF3aW5nQnJ1c2ggJiYgdGhpcy5mcmVlRHJhd2luZ0JydXNoLl9zZXRCcnVzaFN0eWxlcyh0aGlzLmNvbnRleHRUb3ApO1xuICAgICAgfVxuICAgICAgdGhpcy5faW5pdFJldGluYVNjYWxpbmcoKTtcbiAgICAgIHRoaXMuY2FsY09mZnNldCgpO1xuXG4gICAgICBpZiAoIW9wdGlvbnMuY3NzT25seSkge1xuICAgICAgICB0aGlzLnJlcXVlc3RSZW5kZXJBbGwoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmb3Igc2V0dGluZyB3aWR0aC9oZWlnaHRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wIHByb3BlcnR5ICh3aWR0aHxoZWlnaHQpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHZhbHVlIHZhbHVlIHRvIHNldCBwcm9wZXJ0eSB0b1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IGluc3RhbmNlXG4gICAgICogQGNoYWluYWJsZSB0cnVlXG4gICAgICovXG4gICAgX3NldEJhY2tzdG9yZURpbWVuc2lvbjogZnVuY3Rpb24gKHByb3AsIHZhbHVlKSB7XG4gICAgICB0aGlzLmxvd2VyQ2FudmFzRWxbcHJvcF0gPSB2YWx1ZTtcblxuICAgICAgaWYgKHRoaXMudXBwZXJDYW52YXNFbCkge1xuICAgICAgICB0aGlzLnVwcGVyQ2FudmFzRWxbcHJvcF0gPSB2YWx1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuY2FjaGVDYW52YXNFbCkge1xuICAgICAgICB0aGlzLmNhY2hlQ2FudmFzRWxbcHJvcF0gPSB2YWx1ZTtcbiAgICAgIH1cblxuICAgICAgdGhpc1twcm9wXSA9IHZhbHVlO1xuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZvciBzZXR0aW5nIGNzcyB3aWR0aC9oZWlnaHRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wIHByb3BlcnR5ICh3aWR0aHxoZWlnaHQpXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlIHZhbHVlIHRvIHNldCBwcm9wZXJ0eSB0b1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IGluc3RhbmNlXG4gICAgICogQGNoYWluYWJsZSB0cnVlXG4gICAgICovXG4gICAgX3NldENzc0RpbWVuc2lvbjogZnVuY3Rpb24gKHByb3AsIHZhbHVlKSB7XG4gICAgICB0aGlzLmxvd2VyQ2FudmFzRWwuc3R5bGVbcHJvcF0gPSB2YWx1ZTtcblxuICAgICAgaWYgKHRoaXMudXBwZXJDYW52YXNFbCkge1xuICAgICAgICB0aGlzLnVwcGVyQ2FudmFzRWwuc3R5bGVbcHJvcF0gPSB2YWx1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMud3JhcHBlckVsKSB7XG4gICAgICAgIHRoaXMud3JhcHBlckVsLnN0eWxlW3Byb3BdID0gdmFsdWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGNhbnZhcyB6b29tIGxldmVsXG4gICAgICogQHJldHVybiB7TnVtYmVyfVxuICAgICAqL1xuICAgIGdldFpvb206IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLnZpZXdwb3J0VHJhbnNmb3JtWzBdO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHZpZXdwb3J0IHRyYW5zZm9ybWF0aW9uIG9mIHRoaXMgY2FudmFzIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtBcnJheX0gdnB0IGEgQ2FudmFzIDJEIEFQSSB0cmFuc2Zvcm0gbWF0cml4XG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gaW5zdGFuY2VcbiAgICAgKiBAY2hhaW5hYmxlIHRydWVcbiAgICAgKi9cbiAgICBzZXRWaWV3cG9ydFRyYW5zZm9ybTogZnVuY3Rpb24gKHZwdCkge1xuICAgICAgdmFyIGFjdGl2ZU9iamVjdCA9IHRoaXMuX2FjdGl2ZU9iamVjdCxcbiAgICAgICAgICBiYWNrZ3JvdW5kT2JqZWN0ID0gdGhpcy5iYWNrZ3JvdW5kSW1hZ2UsXG4gICAgICAgICAgb3ZlcmxheU9iamVjdCA9IHRoaXMub3ZlcmxheUltYWdlLFxuICAgICAgICAgIG9iamVjdCwgaSwgbGVuO1xuICAgICAgdGhpcy52aWV3cG9ydFRyYW5zZm9ybSA9IHZwdDtcbiAgICAgIGZvciAoaSA9IDAsIGxlbiA9IHRoaXMuX29iamVjdHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgb2JqZWN0ID0gdGhpcy5fb2JqZWN0c1tpXTtcbiAgICAgICAgb2JqZWN0Lmdyb3VwIHx8IG9iamVjdC5zZXRDb29yZHModHJ1ZSk7XG4gICAgICB9XG4gICAgICBpZiAoYWN0aXZlT2JqZWN0KSB7XG4gICAgICAgIGFjdGl2ZU9iamVjdC5zZXRDb29yZHMoKTtcbiAgICAgIH1cbiAgICAgIGlmIChiYWNrZ3JvdW5kT2JqZWN0KSB7XG4gICAgICAgIGJhY2tncm91bmRPYmplY3Quc2V0Q29vcmRzKHRydWUpO1xuICAgICAgfVxuICAgICAgaWYgKG92ZXJsYXlPYmplY3QpIHtcbiAgICAgICAgb3ZlcmxheU9iamVjdC5zZXRDb29yZHModHJ1ZSk7XG4gICAgICB9XG4gICAgICB0aGlzLmNhbGNWaWV3cG9ydEJvdW5kYXJpZXMoKTtcbiAgICAgIHRoaXMucmVuZGVyT25BZGRSZW1vdmUgJiYgdGhpcy5yZXF1ZXN0UmVuZGVyQWxsKCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB6b29tIGxldmVsIG9mIHRoaXMgY2FudmFzIGluc3RhbmNlLCB0aGUgem9vbSBjZW50ZXJlZCBhcm91bmQgcG9pbnRcbiAgICAgKiBtZWFuaW5nIHRoYXQgZm9sbG93aW5nIHpvb20gdG8gcG9pbnQgd2l0aCB0aGUgc2FtZSBwb2ludCB3aWxsIGhhdmUgdGhlIHZpc3VhbFxuICAgICAqIGVmZmVjdCBvZiB0aGUgem9vbSBvcmlnaW5hdGluZyBmcm9tIHRoYXQgcG9pbnQuIFRoZSBwb2ludCB3b24ndCBtb3ZlLlxuICAgICAqIEl0IGhhcyBub3RoaW5nIHRvIGRvIHdpdGggY2FudmFzIGNlbnRlciBvciB2aXN1YWwgY2VudGVyIG9mIHRoZSB2aWV3cG9ydC5cbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gcG9pbnQgdG8gem9vbSB3aXRoIHJlc3BlY3QgdG9cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdmFsdWUgdG8gc2V0IHpvb20gdG8sIGxlc3MgdGhhbiAxIHpvb21zIG91dFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IGluc3RhbmNlXG4gICAgICogQGNoYWluYWJsZSB0cnVlXG4gICAgICovXG4gICAgem9vbVRvUG9pbnQ6IGZ1bmN0aW9uIChwb2ludCwgdmFsdWUpIHtcbiAgICAgIC8vIFRPRE86IGp1c3QgY2hhbmdlIHRoZSBzY2FsZSwgcHJlc2VydmUgb3RoZXIgdHJhbnNmb3JtYXRpb25zXG4gICAgICB2YXIgYmVmb3JlID0gcG9pbnQsIHZwdCA9IHRoaXMudmlld3BvcnRUcmFuc2Zvcm0uc2xpY2UoMCk7XG4gICAgICBwb2ludCA9IHRyYW5zZm9ybVBvaW50KHBvaW50LCBpbnZlcnRUcmFuc2Zvcm0odGhpcy52aWV3cG9ydFRyYW5zZm9ybSkpO1xuICAgICAgdnB0WzBdID0gdmFsdWU7XG4gICAgICB2cHRbM10gPSB2YWx1ZTtcbiAgICAgIHZhciBhZnRlciA9IHRyYW5zZm9ybVBvaW50KHBvaW50LCB2cHQpO1xuICAgICAgdnB0WzRdICs9IGJlZm9yZS54IC0gYWZ0ZXIueDtcbiAgICAgIHZwdFs1XSArPSBiZWZvcmUueSAtIGFmdGVyLnk7XG4gICAgICByZXR1cm4gdGhpcy5zZXRWaWV3cG9ydFRyYW5zZm9ybSh2cHQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHpvb20gbGV2ZWwgb2YgdGhpcyBjYW52YXMgaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdmFsdWUgdG8gc2V0IHpvb20gdG8sIGxlc3MgdGhhbiAxIHpvb21zIG91dFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IGluc3RhbmNlXG4gICAgICogQGNoYWluYWJsZSB0cnVlXG4gICAgICovXG4gICAgc2V0Wm9vbTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICB0aGlzLnpvb21Ub1BvaW50KG5ldyBmYWJyaWMuUG9pbnQoMCwgMCksIHZhbHVlKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQYW4gdmlld3BvcnQgc28gYXMgdG8gcGxhY2UgcG9pbnQgYXQgdG9wIGxlZnQgY29ybmVyIG9mIGNhbnZhc1xuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSBwb2ludCB0byBtb3ZlIHRvXG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gaW5zdGFuY2VcbiAgICAgKiBAY2hhaW5hYmxlIHRydWVcbiAgICAgKi9cbiAgICBhYnNvbHV0ZVBhbjogZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgICB2YXIgdnB0ID0gdGhpcy52aWV3cG9ydFRyYW5zZm9ybS5zbGljZSgwKTtcbiAgICAgIHZwdFs0XSA9IC1wb2ludC54O1xuICAgICAgdnB0WzVdID0gLXBvaW50Lnk7XG4gICAgICByZXR1cm4gdGhpcy5zZXRWaWV3cG9ydFRyYW5zZm9ybSh2cHQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQYW5zIHZpZXdwb2ludCByZWxhdGl2ZWx5XG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IHBvaW50IChwb3NpdGlvbiB2ZWN0b3IpIHRvIG1vdmUgYnlcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSBpbnN0YW5jZVxuICAgICAqIEBjaGFpbmFibGUgdHJ1ZVxuICAgICAqL1xuICAgIHJlbGF0aXZlUGFuOiBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgIHJldHVybiB0aGlzLmFic29sdXRlUGFuKG5ldyBmYWJyaWMuUG9pbnQoXG4gICAgICAgIC1wb2ludC54IC0gdGhpcy52aWV3cG9ydFRyYW5zZm9ybVs0XSxcbiAgICAgICAgLXBvaW50LnkgLSB0aGlzLnZpZXdwb3J0VHJhbnNmb3JtWzVdXG4gICAgICApKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyAmbHQ7Y2FudmFzPiBlbGVtZW50IGNvcnJlc3BvbmRpbmcgdG8gdGhpcyBpbnN0YW5jZVxuICAgICAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAqL1xuICAgIGdldEVsZW1lbnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmxvd2VyQ2FudmFzRWw7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmogT2JqZWN0IHRoYXQgd2FzIGFkZGVkXG4gICAgICovXG4gICAgX29uT2JqZWN0QWRkZWQ6IGZ1bmN0aW9uKG9iaikge1xuICAgICAgdGhpcy5zdGF0ZWZ1bCAmJiBvYmouc2V0dXBTdGF0ZSgpO1xuICAgICAgb2JqLl9zZXQoJ2NhbnZhcycsIHRoaXMpO1xuICAgICAgb2JqLnNldENvb3JkcygpO1xuICAgICAgdGhpcy5maXJlKCdvYmplY3Q6YWRkZWQnLCB7IHRhcmdldDogb2JqIH0pO1xuICAgICAgb2JqLmZpcmUoJ2FkZGVkJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmogT2JqZWN0IHRoYXQgd2FzIHJlbW92ZWRcbiAgICAgKi9cbiAgICBfb25PYmplY3RSZW1vdmVkOiBmdW5jdGlvbihvYmopIHtcbiAgICAgIHRoaXMuZmlyZSgnb2JqZWN0OnJlbW92ZWQnLCB7IHRhcmdldDogb2JqIH0pO1xuICAgICAgb2JqLmZpcmUoJ3JlbW92ZWQnKTtcbiAgICAgIGRlbGV0ZSBvYmouY2FudmFzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgc3BlY2lmaWVkIGNvbnRleHQgb2YgY2FudmFzIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gY2xlYXJcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGNsZWFyQ29udGV4dDogZnVuY3Rpb24oY3R4KSB7XG4gICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGNvbnRleHQgb2YgY2FudmFzIHdoZXJlIG9iamVjdHMgYXJlIGRyYXduXG4gICAgICogQHJldHVybiB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAqL1xuICAgIGdldENvbnRleHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnRleHRDb250YWluZXI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENsZWFycyBhbGwgY29udGV4dHMgKGJhY2tncm91bmQsIG1haW4sIHRvcCkgb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGNsZWFyOiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLnJlbW92ZS5hcHBseSh0aGlzLCB0aGlzLmdldE9iamVjdHMoKSk7XG4gICAgICB0aGlzLmJhY2tncm91bmRJbWFnZSA9IG51bGw7XG4gICAgICB0aGlzLm92ZXJsYXlJbWFnZSA9IG51bGw7XG4gICAgICB0aGlzLmJhY2tncm91bmRDb2xvciA9ICcnO1xuICAgICAgdGhpcy5vdmVybGF5Q29sb3IgPSAnJztcbiAgICAgIGlmICh0aGlzLl9oYXNJVGV4dEhhbmRsZXJzKSB7XG4gICAgICAgIHRoaXMub2ZmKCdtb3VzZTp1cCcsIHRoaXMuX21vdXNlVXBJVGV4dEhhbmRsZXIpO1xuICAgICAgICB0aGlzLl9pVGV4dEluc3RhbmNlcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2hhc0lUZXh0SGFuZGxlcnMgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHRoaXMuY2xlYXJDb250ZXh0KHRoaXMuY29udGV4dENvbnRhaW5lcik7XG4gICAgICB0aGlzLmZpcmUoJ2NhbnZhczpjbGVhcmVkJyk7XG4gICAgICB0aGlzLnJlbmRlck9uQWRkUmVtb3ZlICYmIHRoaXMucmVxdWVzdFJlbmRlckFsbCgpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIGNhbnZhc1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IGluc3RhbmNlXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHJlbmRlckFsbDogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGNhbnZhc1RvRHJhd09uID0gdGhpcy5jb250ZXh0Q29udGFpbmVyO1xuICAgICAgdGhpcy5yZW5kZXJDYW52YXMoY2FudmFzVG9EcmF3T24sIHRoaXMuX29iamVjdHMpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIGNyZWF0ZWQgdG8gYmUgaW5zdGFuY2UgYm91bmQgYXQgaW5pdGlhbGl6YXRpb25cbiAgICAgKiB1c2VkIGluIHJlcXVlc3RBbmltYXRpb25GcmFtZSByZW5kZXJpbmdcbiAgICAgKiBMZXQgdGhlIGZhYnJpY0pTIGNhbGwgaXQuIElmIHlvdSBjYWxsIGl0IG1hbnVhbGx5IHlvdSBjb3VsZCBoYXZlIG1vcmVcbiAgICAgKiBhbmltYXRpb25GcmFtZSBzdGFja2luZyBvbiB0byBvZiBlYWNoIG90aGVyXG4gICAgICogZm9yIGFuIGltcGVyYXRpdmUgcmVuZGVyaW5nLCB1c2UgY2FudmFzLnJlbmRlckFsbFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gaW5zdGFuY2VcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgcmVuZGVyQW5kUmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5pc1JlbmRlcmluZyA9IDA7XG4gICAgICB0aGlzLnJlbmRlckFsbCgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBcHBlbmQgYSByZW5kZXJBbGwgcmVxdWVzdCB0byBuZXh0IGFuaW1hdGlvbiBmcmFtZS5cbiAgICAgKiB1bmxlc3Mgb25lIGlzIGFscmVhZHkgaW4gcHJvZ3Jlc3MsIGluIHRoYXQgY2FzZSBub3RoaW5nIGlzIGRvbmVcbiAgICAgKiBhIGJvb2xlYW4gZmxhZyB3aWxsIGF2b2lkIGFwcGVuZGluZyBtb3JlLlxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IGluc3RhbmNlXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHJlcXVlc3RSZW5kZXJBbGw6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghdGhpcy5pc1JlbmRlcmluZykge1xuICAgICAgICB0aGlzLmlzUmVuZGVyaW5nID0gZmFicmljLnV0aWwucmVxdWVzdEFuaW1GcmFtZSh0aGlzLnJlbmRlckFuZFJlc2V0Qm91bmQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgcG9zaXRpb24gb2YgdGhlIDQgY29ybmVyIG9mIGNhbnZhcyB3aXRoIGN1cnJlbnQgdmlld3BvcnRUcmFuc2Zvcm0uXG4gICAgICogaGVscHMgdG8gZGV0ZXJtaW5hdGUgd2hlbiBhbiBvYmplY3QgaXMgaW4gdGhlIGN1cnJlbnQgcmVuZGVyaW5nIHZpZXdwb3J0IHVzaW5nXG4gICAgICogb2JqZWN0IGFic29sdXRlIGNvb3JkaW5hdGVzICggYUNvb3JkcyApXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBwb2ludHMudGxcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgY2FsY1ZpZXdwb3J0Qm91bmRhcmllczogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcG9pbnRzID0geyB9LCB3aWR0aCA9IHRoaXMud2lkdGgsIGhlaWdodCA9IHRoaXMuaGVpZ2h0LFxuICAgICAgICAgIGlWcHQgPSBpbnZlcnRUcmFuc2Zvcm0odGhpcy52aWV3cG9ydFRyYW5zZm9ybSk7XG4gICAgICBwb2ludHMudGwgPSB0cmFuc2Zvcm1Qb2ludCh7IHg6IDAsIHk6IDAgfSwgaVZwdCk7XG4gICAgICBwb2ludHMuYnIgPSB0cmFuc2Zvcm1Qb2ludCh7IHg6IHdpZHRoLCB5OiBoZWlnaHQgfSwgaVZwdCk7XG4gICAgICBwb2ludHMudHIgPSBuZXcgZmFicmljLlBvaW50KHBvaW50cy5ici54LCBwb2ludHMudGwueSk7XG4gICAgICBwb2ludHMuYmwgPSBuZXcgZmFicmljLlBvaW50KHBvaW50cy50bC54LCBwb2ludHMuYnIueSk7XG4gICAgICB0aGlzLnZwdENvb3JkcyA9IHBvaW50cztcbiAgICAgIHJldHVybiBwb2ludHM7XG4gICAgfSxcblxuICAgIGNhbmNlbFJlcXVlc3RlZFJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5pc1JlbmRlcmluZykge1xuICAgICAgICBmYWJyaWMudXRpbC5jYW5jZWxBbmltRnJhbWUodGhpcy5pc1JlbmRlcmluZyk7XG4gICAgICAgIHRoaXMuaXNSZW5kZXJpbmcgPSAwO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIGJhY2tncm91bmQsIG9iamVjdHMsIG92ZXJsYXkgYW5kIGNvbnRyb2xzLlxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBvYmplY3RzIHRvIHJlbmRlclxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IGluc3RhbmNlXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHJlbmRlckNhbnZhczogZnVuY3Rpb24oY3R4LCBvYmplY3RzKSB7XG4gICAgICB2YXIgdiA9IHRoaXMudmlld3BvcnRUcmFuc2Zvcm0sIHBhdGggPSB0aGlzLmNsaXBQYXRoO1xuICAgICAgdGhpcy5jYW5jZWxSZXF1ZXN0ZWRSZW5kZXIoKTtcbiAgICAgIHRoaXMuY2FsY1ZpZXdwb3J0Qm91bmRhcmllcygpO1xuICAgICAgdGhpcy5jbGVhckNvbnRleHQoY3R4KTtcbiAgICAgIGZhYnJpYy51dGlsLnNldEltYWdlU21vb3RoaW5nKGN0eCwgdGhpcy5pbWFnZVNtb290aGluZ0VuYWJsZWQpO1xuICAgICAgdGhpcy5maXJlKCdiZWZvcmU6cmVuZGVyJywgeyBjdHg6IGN0eCwgfSk7XG4gICAgICB0aGlzLl9yZW5kZXJCYWNrZ3JvdW5kKGN0eCk7XG5cbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAvL2FwcGx5IHZpZXdwb3J0IHRyYW5zZm9ybSBvbmNlIGZvciBhbGwgcmVuZGVyaW5nIHByb2Nlc3NcbiAgICAgIGN0eC50cmFuc2Zvcm0odlswXSwgdlsxXSwgdlsyXSwgdlszXSwgdls0XSwgdls1XSk7XG4gICAgICB0aGlzLl9yZW5kZXJPYmplY3RzKGN0eCwgb2JqZWN0cyk7XG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgaWYgKCF0aGlzLmNvbnRyb2xzQWJvdmVPdmVybGF5ICYmIHRoaXMuaW50ZXJhY3RpdmUpIHtcbiAgICAgICAgdGhpcy5kcmF3Q29udHJvbHMoY3R4KTtcbiAgICAgIH1cbiAgICAgIGlmIChwYXRoKSB7XG4gICAgICAgIHBhdGguY2FudmFzID0gdGhpcztcbiAgICAgICAgLy8gbmVlZGVkIHRvIHNldHVwIGEgY291cGxlIG9mIHZhcmlhYmxlc1xuICAgICAgICBwYXRoLnNob3VsZENhY2hlKCk7XG4gICAgICAgIHBhdGguX3RyYW5zZm9ybURvbmUgPSB0cnVlO1xuICAgICAgICBwYXRoLnJlbmRlckNhY2hlKHsgZm9yQ2xpcHBpbmc6IHRydWUgfSk7XG4gICAgICAgIHRoaXMuZHJhd0NsaXBQYXRoT25DYW52YXMoY3R4KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3JlbmRlck92ZXJsYXkoY3R4KTtcbiAgICAgIGlmICh0aGlzLmNvbnRyb2xzQWJvdmVPdmVybGF5ICYmIHRoaXMuaW50ZXJhY3RpdmUpIHtcbiAgICAgICAgdGhpcy5kcmF3Q29udHJvbHMoY3R4KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZmlyZSgnYWZ0ZXI6cmVuZGVyJywgeyBjdHg6IGN0eCwgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFBhaW50IHRoZSBjYWNoZWQgY2xpcFBhdGggb24gdGhlIGxvd2VyQ2FudmFzRWxcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgZHJhd0NsaXBQYXRoT25DYW52YXM6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgdmFyIHYgPSB0aGlzLnZpZXdwb3J0VHJhbnNmb3JtLCBwYXRoID0gdGhpcy5jbGlwUGF0aDtcbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICBjdHgudHJhbnNmb3JtKHZbMF0sIHZbMV0sIHZbMl0sIHZbM10sIHZbNF0sIHZbNV0pO1xuICAgICAgLy8gREVCVUc6IHVuY29tbWVudCB0aGlzIGxpbmUsIGNvbW1lbnQgdGhlIGZvbGxvd2luZ1xuICAgICAgLy8gY3R4Lmdsb2JhbEFscGhhID0gMC40O1xuICAgICAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdkZXN0aW5hdGlvbi1pbic7XG4gICAgICBwYXRoLnRyYW5zZm9ybShjdHgpO1xuICAgICAgY3R4LnNjYWxlKDEgLyBwYXRoLnpvb21YLCAxIC8gcGF0aC56b29tWSk7XG4gICAgICBjdHguZHJhd0ltYWdlKHBhdGguX2NhY2hlQ2FudmFzLCAtcGF0aC5jYWNoZVRyYW5zbGF0aW9uWCwgLXBhdGguY2FjaGVUcmFuc2xhdGlvblkpO1xuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICogQHBhcmFtIHtBcnJheX0gb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKi9cbiAgICBfcmVuZGVyT2JqZWN0czogZnVuY3Rpb24oY3R4LCBvYmplY3RzKSB7XG4gICAgICB2YXIgaSwgbGVuO1xuICAgICAgZm9yIChpID0gMCwgbGVuID0gb2JqZWN0cy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgICAgICBvYmplY3RzW2ldICYmIG9iamVjdHNbaV0ucmVuZGVyKGN0eCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSAnYmFja2dyb3VuZCcgb3IgJ292ZXJsYXknXG4gICAgICovXG4gICAgX3JlbmRlckJhY2tncm91bmRPck92ZXJsYXk6IGZ1bmN0aW9uKGN0eCwgcHJvcGVydHkpIHtcbiAgICAgIHZhciBmaWxsID0gdGhpc1twcm9wZXJ0eSArICdDb2xvciddLCBvYmplY3QgPSB0aGlzW3Byb3BlcnR5ICsgJ0ltYWdlJ10sXG4gICAgICAgICAgdiA9IHRoaXMudmlld3BvcnRUcmFuc2Zvcm0sIG5lZWRzVnB0ID0gdGhpc1twcm9wZXJ0eSArICdWcHQnXTtcbiAgICAgIGlmICghZmlsbCAmJiAhb2JqZWN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChmaWxsKSB7XG4gICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3R4Lm1vdmVUbygwLCAwKTtcbiAgICAgICAgY3R4LmxpbmVUbyh0aGlzLndpZHRoLCAwKTtcbiAgICAgICAgY3R4LmxpbmVUbyh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgICAgIGN0eC5saW5lVG8oMCwgdGhpcy5oZWlnaHQpO1xuICAgICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBmaWxsLnRvTGl2ZVxuICAgICAgICAgID8gZmlsbC50b0xpdmUoY3R4LCB0aGlzKVxuICAgICAgICAgIDogZmlsbDtcbiAgICAgICAgaWYgKG5lZWRzVnB0KSB7XG4gICAgICAgICAgY3R4LnRyYW5zZm9ybSh2WzBdLCB2WzFdLCB2WzJdLCB2WzNdLCB2WzRdLCB2WzVdKTtcbiAgICAgICAgfVxuICAgICAgICBjdHgudHJhbnNmb3JtKDEsIDAsIDAsIDEsIGZpbGwub2Zmc2V0WCB8fCAwLCBmaWxsLm9mZnNldFkgfHwgMCk7XG4gICAgICAgIHZhciBtID0gZmlsbC5ncmFkaWVudFRyYW5zZm9ybSB8fCBmaWxsLnBhdHRlcm5UcmFuc2Zvcm07XG4gICAgICAgIG0gJiYgY3R4LnRyYW5zZm9ybShtWzBdLCBtWzFdLCBtWzJdLCBtWzNdLCBtWzRdLCBtWzVdKTtcbiAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgIH1cbiAgICAgIGlmIChvYmplY3QpIHtcbiAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgaWYgKG5lZWRzVnB0KSB7XG4gICAgICAgICAgY3R4LnRyYW5zZm9ybSh2WzBdLCB2WzFdLCB2WzJdLCB2WzNdLCB2WzRdLCB2WzVdKTtcbiAgICAgICAgfVxuICAgICAgICBvYmplY3QucmVuZGVyKGN0eCk7XG4gICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIF9yZW5kZXJCYWNrZ3JvdW5kOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIHRoaXMuX3JlbmRlckJhY2tncm91bmRPck92ZXJsYXkoY3R4LCAnYmFja2dyb3VuZCcpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfcmVuZGVyT3ZlcmxheTogZnVuY3Rpb24oY3R4KSB7XG4gICAgICB0aGlzLl9yZW5kZXJCYWNrZ3JvdW5kT3JPdmVybGF5KGN0eCwgJ292ZXJsYXknKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBjb29yZGluYXRlcyBvZiBhIGNlbnRlciBvZiBjYW52YXMuXG4gICAgICogUmV0dXJuZWQgdmFsdWUgaXMgYW4gb2JqZWN0IHdpdGggdG9wIGFuZCBsZWZ0IHByb3BlcnRpZXNcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IG9iamVjdCB3aXRoIFwidG9wXCIgYW5kIFwibGVmdFwiIG51bWJlciB2YWx1ZXNcbiAgICAgKiBAZGVwcmVjYXRlZCBtaWdyYXRlIHRvIGBnZXRDZW50ZXJQb2ludGBcbiAgICAgKi9cbiAgICBnZXRDZW50ZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvcDogdGhpcy5oZWlnaHQgLyAyLFxuICAgICAgICBsZWZ0OiB0aGlzLndpZHRoIC8gMlxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBjb29yZGluYXRlcyBvZiBhIGNlbnRlciBvZiBjYW52YXMuXG4gICAgICogQHJldHVybiB7ZmFicmljLlBvaW50fSBcbiAgICAgKi9cbiAgICBnZXRDZW50ZXJQb2ludDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG5ldyBmYWJyaWMuUG9pbnQodGhpcy53aWR0aCAvIDIsIHRoaXMuaGVpZ2h0IC8gMik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENlbnRlcnMgb2JqZWN0IGhvcml6b250YWxseSBpbiB0aGUgY2FudmFzXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNlbnRlciBob3Jpem9udGFsbHlcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSB0aGlzQXJnXG4gICAgICovXG4gICAgY2VudGVyT2JqZWN0SDogZnVuY3Rpb24gKG9iamVjdCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2NlbnRlck9iamVjdChvYmplY3QsIG5ldyBmYWJyaWMuUG9pbnQodGhpcy5nZXRDZW50ZXJQb2ludCgpLngsIG9iamVjdC5nZXRDZW50ZXJQb2ludCgpLnkpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2VudGVycyBvYmplY3QgdmVydGljYWxseSBpbiB0aGUgY2FudmFzXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNlbnRlciB2ZXJ0aWNhbGx5XG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBjZW50ZXJPYmplY3RWOiBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICByZXR1cm4gdGhpcy5fY2VudGVyT2JqZWN0KG9iamVjdCwgbmV3IGZhYnJpYy5Qb2ludChvYmplY3QuZ2V0Q2VudGVyUG9pbnQoKS54LCB0aGlzLmdldENlbnRlclBvaW50KCkueSkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDZW50ZXJzIG9iamVjdCB2ZXJ0aWNhbGx5IGFuZCBob3Jpem9udGFsbHkgaW4gdGhlIGNhbnZhc1xuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjZW50ZXIgdmVydGljYWxseSBhbmQgaG9yaXpvbnRhbGx5XG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBjZW50ZXJPYmplY3Q6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgdmFyIGNlbnRlciA9IHRoaXMuZ2V0Q2VudGVyUG9pbnQoKTtcbiAgICAgIHJldHVybiB0aGlzLl9jZW50ZXJPYmplY3Qob2JqZWN0LCBjZW50ZXIpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDZW50ZXJzIG9iamVjdCB2ZXJ0aWNhbGx5IGFuZCBob3Jpem9udGFsbHkgaW4gdGhlIHZpZXdwb3J0XG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNlbnRlciB2ZXJ0aWNhbGx5IGFuZCBob3Jpem9udGFsbHlcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHZpZXdwb3J0Q2VudGVyT2JqZWN0OiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHZhciB2cENlbnRlciA9IHRoaXMuZ2V0VnBDZW50ZXIoKTtcbiAgICAgIHJldHVybiB0aGlzLl9jZW50ZXJPYmplY3Qob2JqZWN0LCB2cENlbnRlcik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENlbnRlcnMgb2JqZWN0IGhvcml6b250YWxseSBpbiB0aGUgdmlld3BvcnQsIG9iamVjdC50b3AgaXMgdW5jaGFuZ2VkXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNlbnRlciB2ZXJ0aWNhbGx5IGFuZCBob3Jpem9udGFsbHlcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHZpZXdwb3J0Q2VudGVyT2JqZWN0SDogZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICB2YXIgdnBDZW50ZXIgPSB0aGlzLmdldFZwQ2VudGVyKCk7XG4gICAgICB0aGlzLl9jZW50ZXJPYmplY3Qob2JqZWN0LCBuZXcgZmFicmljLlBvaW50KHZwQ2VudGVyLngsIG9iamVjdC5nZXRDZW50ZXJQb2ludCgpLnkpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDZW50ZXJzIG9iamVjdCBWZXJ0aWNhbGx5IGluIHRoZSB2aWV3cG9ydCwgb2JqZWN0LnRvcCBpcyB1bmNoYW5nZWRcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY2VudGVyIHZlcnRpY2FsbHkgYW5kIGhvcml6b250YWxseVxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgdmlld3BvcnRDZW50ZXJPYmplY3RWOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHZhciB2cENlbnRlciA9IHRoaXMuZ2V0VnBDZW50ZXIoKTtcblxuICAgICAgcmV0dXJuIHRoaXMuX2NlbnRlck9iamVjdChvYmplY3QsIG5ldyBmYWJyaWMuUG9pbnQob2JqZWN0LmdldENlbnRlclBvaW50KCkueCwgdnBDZW50ZXIueSkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIHBvaW50IGluIGNhbnZhcyB0aGF0IGNvcnJlc3BvbmQgdG8gdGhlIGNlbnRlciBvZiBhY3R1YWwgdmlld3BvcnQuXG4gICAgICogQHJldHVybiB7ZmFicmljLlBvaW50fSB2cENlbnRlciwgdmlld3BvcnQgY2VudGVyXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGdldFZwQ2VudGVyOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjZW50ZXIgPSB0aGlzLmdldENlbnRlclBvaW50KCksXG4gICAgICAgICAgaVZwdCA9IGludmVydFRyYW5zZm9ybSh0aGlzLnZpZXdwb3J0VHJhbnNmb3JtKTtcbiAgICAgIHJldHVybiB0cmFuc2Zvcm1Qb2ludChjZW50ZXIsIGlWcHQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjZW50ZXJcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gY2VudGVyIENlbnRlciBwb2ludFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgX2NlbnRlck9iamVjdDogZnVuY3Rpb24ob2JqZWN0LCBjZW50ZXIpIHtcbiAgICAgIG9iamVjdC5zZXRQb3NpdGlvbkJ5T3JpZ2luKGNlbnRlciwgJ2NlbnRlcicsICdjZW50ZXInKTtcbiAgICAgIG9iamVjdC5zZXRDb29yZHMoKTtcbiAgICAgIHRoaXMucmVuZGVyT25BZGRSZW1vdmUgJiYgdGhpcy5yZXF1ZXN0UmVuZGVyQWxsKCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBkYXRhbGVzcyBKU09OIHJlcHJlc2VudGF0aW9uIG9mIGNhbnZhc1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wZXJ0aWVzVG9JbmNsdWRlXSBBbnkgcHJvcGVydGllcyB0aGF0IHlvdSBtaWdodCB3YW50IHRvIGFkZGl0aW9uYWxseSBpbmNsdWRlIGluIHRoZSBvdXRwdXRcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IGpzb24gc3RyaW5nXG4gICAgICovXG4gICAgdG9EYXRhbGVzc0pTT046IGZ1bmN0aW9uIChwcm9wZXJ0aWVzVG9JbmNsdWRlKSB7XG4gICAgICByZXR1cm4gdGhpcy50b0RhdGFsZXNzT2JqZWN0KHByb3BlcnRpZXNUb0luY2x1ZGUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBjYW52YXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcGVydGllc1RvSW5jbHVkZV0gQW55IHByb3BlcnRpZXMgdGhhdCB5b3UgbWlnaHQgd2FudCB0byBhZGRpdGlvbmFsbHkgaW5jbHVkZSBpbiB0aGUgb3V0cHV0XG4gICAgICogQHJldHVybiB7T2JqZWN0fSBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b09iamVjdDogZnVuY3Rpb24gKHByb3BlcnRpZXNUb0luY2x1ZGUpIHtcbiAgICAgIHJldHVybiB0aGlzLl90b09iamVjdE1ldGhvZCgndG9PYmplY3QnLCBwcm9wZXJ0aWVzVG9JbmNsdWRlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBkYXRhbGVzcyBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgY2FudmFzXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BlcnRpZXNUb0luY2x1ZGVdIEFueSBwcm9wZXJ0aWVzIHRoYXQgeW91IG1pZ2h0IHdhbnQgdG8gYWRkaXRpb25hbGx5IGluY2x1ZGUgaW4gdGhlIG91dHB1dFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgdG9EYXRhbGVzc09iamVjdDogZnVuY3Rpb24gKHByb3BlcnRpZXNUb0luY2x1ZGUpIHtcbiAgICAgIHJldHVybiB0aGlzLl90b09iamVjdE1ldGhvZCgndG9EYXRhbGVzc09iamVjdCcsIHByb3BlcnRpZXNUb0luY2x1ZGUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF90b09iamVjdE1ldGhvZDogZnVuY3Rpb24gKG1ldGhvZE5hbWUsIHByb3BlcnRpZXNUb0luY2x1ZGUpIHtcblxuICAgICAgdmFyIGNsaXBQYXRoID0gdGhpcy5jbGlwUGF0aCwgZGF0YSA9IHtcbiAgICAgICAgdmVyc2lvbjogZmFicmljLnZlcnNpb24sXG4gICAgICAgIG9iamVjdHM6IHRoaXMuX3RvT2JqZWN0cyhtZXRob2ROYW1lLCBwcm9wZXJ0aWVzVG9JbmNsdWRlKSxcbiAgICAgIH07XG4gICAgICBpZiAoY2xpcFBhdGggJiYgIWNsaXBQYXRoLmV4Y2x1ZGVGcm9tRXhwb3J0KSB7XG4gICAgICAgIGRhdGEuY2xpcFBhdGggPSB0aGlzLl90b09iamVjdCh0aGlzLmNsaXBQYXRoLCBtZXRob2ROYW1lLCBwcm9wZXJ0aWVzVG9JbmNsdWRlKTtcbiAgICAgIH1cbiAgICAgIGV4dGVuZChkYXRhLCB0aGlzLl9fc2VyaWFsaXplQmdPdmVybGF5KG1ldGhvZE5hbWUsIHByb3BlcnRpZXNUb0luY2x1ZGUpKTtcblxuICAgICAgZmFicmljLnV0aWwucG9wdWxhdGVXaXRoUHJvcGVydGllcyh0aGlzLCBkYXRhLCBwcm9wZXJ0aWVzVG9JbmNsdWRlKTtcblxuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3RvT2JqZWN0czogZnVuY3Rpb24obWV0aG9kTmFtZSwgcHJvcGVydGllc1RvSW5jbHVkZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX29iamVjdHMuZmlsdGVyKGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gIW9iamVjdC5leGNsdWRlRnJvbUV4cG9ydDtcbiAgICAgIH0pLm1hcChmdW5jdGlvbihpbnN0YW5jZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdG9PYmplY3QoaW5zdGFuY2UsIG1ldGhvZE5hbWUsIHByb3BlcnRpZXNUb0luY2x1ZGUpO1xuICAgICAgfSwgdGhpcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3RvT2JqZWN0OiBmdW5jdGlvbihpbnN0YW5jZSwgbWV0aG9kTmFtZSwgcHJvcGVydGllc1RvSW5jbHVkZSkge1xuICAgICAgdmFyIG9yaWdpbmFsVmFsdWU7XG5cbiAgICAgIGlmICghdGhpcy5pbmNsdWRlRGVmYXVsdFZhbHVlcykge1xuICAgICAgICBvcmlnaW5hbFZhbHVlID0gaW5zdGFuY2UuaW5jbHVkZURlZmF1bHRWYWx1ZXM7XG4gICAgICAgIGluc3RhbmNlLmluY2x1ZGVEZWZhdWx0VmFsdWVzID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHZhciBvYmplY3QgPSBpbnN0YW5jZVttZXRob2ROYW1lXShwcm9wZXJ0aWVzVG9JbmNsdWRlKTtcbiAgICAgIGlmICghdGhpcy5pbmNsdWRlRGVmYXVsdFZhbHVlcykge1xuICAgICAgICBpbnN0YW5jZS5pbmNsdWRlRGVmYXVsdFZhbHVlcyA9IG9yaWdpbmFsVmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9fc2VyaWFsaXplQmdPdmVybGF5OiBmdW5jdGlvbihtZXRob2ROYW1lLCBwcm9wZXJ0aWVzVG9JbmNsdWRlKSB7XG4gICAgICB2YXIgZGF0YSA9IHt9LCBiZ0ltYWdlID0gdGhpcy5iYWNrZ3JvdW5kSW1hZ2UsIG92ZXJsYXlJbWFnZSA9IHRoaXMub3ZlcmxheUltYWdlLFxuICAgICAgICAgIGJnQ29sb3IgPSB0aGlzLmJhY2tncm91bmRDb2xvciwgb3ZlcmxheUNvbG9yID0gdGhpcy5vdmVybGF5Q29sb3I7XG5cbiAgICAgIGlmIChiZ0NvbG9yICYmIGJnQ29sb3IudG9PYmplY3QpIHtcbiAgICAgICAgaWYgKCFiZ0NvbG9yLmV4Y2x1ZGVGcm9tRXhwb3J0KSB7XG4gICAgICAgICAgZGF0YS5iYWNrZ3JvdW5kID0gYmdDb2xvci50b09iamVjdChwcm9wZXJ0aWVzVG9JbmNsdWRlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSBpZiAoYmdDb2xvcikge1xuICAgICAgICBkYXRhLmJhY2tncm91bmQgPSBiZ0NvbG9yO1xuICAgICAgfVxuXG4gICAgICBpZiAob3ZlcmxheUNvbG9yICYmIG92ZXJsYXlDb2xvci50b09iamVjdCkge1xuICAgICAgICBpZiAoIW92ZXJsYXlDb2xvci5leGNsdWRlRnJvbUV4cG9ydCkge1xuICAgICAgICAgIGRhdGEub3ZlcmxheSA9IG92ZXJsYXlDb2xvci50b09iamVjdChwcm9wZXJ0aWVzVG9JbmNsdWRlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSBpZiAob3ZlcmxheUNvbG9yKSB7XG4gICAgICAgIGRhdGEub3ZlcmxheSA9IG92ZXJsYXlDb2xvcjtcbiAgICAgIH1cblxuICAgICAgaWYgKGJnSW1hZ2UgJiYgIWJnSW1hZ2UuZXhjbHVkZUZyb21FeHBvcnQpIHtcbiAgICAgICAgZGF0YS5iYWNrZ3JvdW5kSW1hZ2UgPSB0aGlzLl90b09iamVjdChiZ0ltYWdlLCBtZXRob2ROYW1lLCBwcm9wZXJ0aWVzVG9JbmNsdWRlKTtcbiAgICAgIH1cbiAgICAgIGlmIChvdmVybGF5SW1hZ2UgJiYgIW92ZXJsYXlJbWFnZS5leGNsdWRlRnJvbUV4cG9ydCkge1xuICAgICAgICBkYXRhLm92ZXJsYXlJbWFnZSA9IHRoaXMuX3RvT2JqZWN0KG92ZXJsYXlJbWFnZSwgbWV0aG9kTmFtZSwgcHJvcGVydGllc1RvSW5jbHVkZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH0sXG5cbiAgICAvKiBfVE9fU1ZHX1NUQVJUXyAqL1xuICAgIC8qKlxuICAgICAqIFdoZW4gdHJ1ZSwgZ2V0U3ZnVHJhbnNmb3JtKCkgd2lsbCBhcHBseSB0aGUgU3RhdGljQ2FudmFzLnZpZXdwb3J0VHJhbnNmb3JtIHRvIHRoZSBTVkcgdHJhbnNmb3JtYXRpb24uIFdoZW4gdHJ1ZSxcbiAgICAgKiBhIHpvb21lZCBjYW52YXMgd2lsbCB0aGVuIHByb2R1Y2Ugem9vbWVkIFNWRyBvdXRwdXQuXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc3ZnVmlld3BvcnRUcmFuc2Zvcm1hdGlvbjogdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgU1ZHIHJlcHJlc2VudGF0aW9uIG9mIGNhbnZhc1xuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3QgZm9yIFNWRyBvdXRwdXRcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnN1cHByZXNzUHJlYW1ibGU9ZmFsc2VdIElmIHRydWUgeG1sIHRhZyBpcyBub3QgaW5jbHVkZWRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMudmlld0JveF0gU1ZHIHZpZXdib3ggb2JqZWN0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnZpZXdCb3gueF0geC1jb29yZGluYXRlIG9mIHZpZXdib3hcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMudmlld0JveC55XSB5LWNvb3JkaW5hdGUgb2Ygdmlld2JveFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy52aWV3Qm94LndpZHRoXSBXaWR0aCBvZiB2aWV3Ym94XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnZpZXdCb3guaGVpZ2h0XSBIZWlnaHQgb2Ygdmlld2JveFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5lbmNvZGluZz1VVEYtOF0gRW5jb2Rpbmcgb2YgU1ZHIG91dHB1dFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy53aWR0aF0gZGVzaXJlZCB3aWR0aCBvZiBzdmcgd2l0aCBvciB3aXRob3V0IHVuaXRzXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmhlaWdodF0gZGVzaXJlZCBoZWlnaHQgb2Ygc3ZnIHdpdGggb3Igd2l0aG91dCB1bml0c1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXZpdmVyXSBNZXRob2QgZm9yIGZ1cnRoZXIgcGFyc2luZyBvZiBzdmcgZWxlbWVudHMsIGNhbGxlZCBhZnRlciBlYWNoIGZhYnJpYyBvYmplY3QgY29udmVydGVkIGludG8gc3ZnIHJlcHJlc2VudGF0aW9uLlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gU1ZHIHN0cmluZ1xuICAgICAqIEB0dXRvcmlhbCB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9mYWJyaWMtaW50cm8tcGFydC0zI3NlcmlhbGl6YXRpb259XG4gICAgICogQHNlZSB7QGxpbmsgaHR0cDovL2pzZmlkZGxlLm5ldC9mYWJyaWNqcy9qUTNaWi98anNGaWRkbGUgZGVtb31cbiAgICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5Ob3JtYWwgU1ZHIG91dHB1dDwvY2FwdGlvbj5cbiAgICAgKiB2YXIgc3ZnID0gY2FudmFzLnRvU1ZHKCk7XG4gICAgICogQGV4YW1wbGUgPGNhcHRpb24+U1ZHIG91dHB1dCB3aXRob3V0IHByZWFtYmxlICh3aXRob3V0ICZsdDs/eG1sIC4uLz4pPC9jYXB0aW9uPlxuICAgICAqIHZhciBzdmcgPSBjYW52YXMudG9TVkcoe3N1cHByZXNzUHJlYW1ibGU6IHRydWV9KTtcbiAgICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5TVkcgb3V0cHV0IHdpdGggdmlld0JveCBhdHRyaWJ1dGU8L2NhcHRpb24+XG4gICAgICogdmFyIHN2ZyA9IGNhbnZhcy50b1NWRyh7XG4gICAgICogICB2aWV3Qm94OiB7XG4gICAgICogICAgIHg6IDEwMCxcbiAgICAgKiAgICAgeTogMTAwLFxuICAgICAqICAgICB3aWR0aDogMjAwLFxuICAgICAqICAgICBoZWlnaHQ6IDMwMFxuICAgICAqICAgfVxuICAgICAqIH0pO1xuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPlNWRyBvdXRwdXQgd2l0aCBkaWZmZXJlbnQgZW5jb2RpbmcgKGRlZmF1bHQ6IFVURi04KTwvY2FwdGlvbj5cbiAgICAgKiB2YXIgc3ZnID0gY2FudmFzLnRvU1ZHKHtlbmNvZGluZzogJ0lTTy04ODU5LTEnfSk7XG4gICAgICogQGV4YW1wbGUgPGNhcHRpb24+TW9kaWZ5IFNWRyBvdXRwdXQgd2l0aCByZXZpdmVyIGZ1bmN0aW9uPC9jYXB0aW9uPlxuICAgICAqIHZhciBzdmcgPSBjYW52YXMudG9TVkcobnVsbCwgZnVuY3Rpb24oc3ZnKSB7XG4gICAgICogICByZXR1cm4gc3ZnLnJlcGxhY2UoJ3N0cm9rZS1kYXNoYXJyYXk6IDsgc3Ryb2tlLWxpbmVjYXA6IGJ1dHQ7IHN0cm9rZS1saW5lam9pbjogbWl0ZXI7IHN0cm9rZS1taXRlcmxpbWl0OiAxMDsgJywgJycpO1xuICAgICAqIH0pO1xuICAgICAqL1xuICAgIHRvU1ZHOiBmdW5jdGlvbihvcHRpb25zLCByZXZpdmVyKSB7XG4gICAgICBvcHRpb25zIHx8IChvcHRpb25zID0geyB9KTtcbiAgICAgIG9wdGlvbnMucmV2aXZlciA9IHJldml2ZXI7XG4gICAgICB2YXIgbWFya3VwID0gW107XG5cbiAgICAgIHRoaXMuX3NldFNWR1ByZWFtYmxlKG1hcmt1cCwgb3B0aW9ucyk7XG4gICAgICB0aGlzLl9zZXRTVkdIZWFkZXIobWFya3VwLCBvcHRpb25zKTtcbiAgICAgIGlmICh0aGlzLmNsaXBQYXRoKSB7XG4gICAgICAgIG1hcmt1cC5wdXNoKCc8ZyBjbGlwLXBhdGg9XCJ1cmwoIycgKyB0aGlzLmNsaXBQYXRoLmNsaXBQYXRoSWQgKyAnKVwiID5cXG4nKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3NldFNWR0JnT3ZlcmxheUNvbG9yKG1hcmt1cCwgJ2JhY2tncm91bmQnKTtcbiAgICAgIHRoaXMuX3NldFNWR0JnT3ZlcmxheUltYWdlKG1hcmt1cCwgJ2JhY2tncm91bmRJbWFnZScsIHJldml2ZXIpO1xuICAgICAgdGhpcy5fc2V0U1ZHT2JqZWN0cyhtYXJrdXAsIHJldml2ZXIpO1xuICAgICAgaWYgKHRoaXMuY2xpcFBhdGgpIHtcbiAgICAgICAgbWFya3VwLnB1c2goJzwvZz5cXG4nKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3NldFNWR0JnT3ZlcmxheUNvbG9yKG1hcmt1cCwgJ292ZXJsYXknKTtcbiAgICAgIHRoaXMuX3NldFNWR0JnT3ZlcmxheUltYWdlKG1hcmt1cCwgJ292ZXJsYXlJbWFnZScsIHJldml2ZXIpO1xuXG4gICAgICBtYXJrdXAucHVzaCgnPC9zdmc+Jyk7XG5cbiAgICAgIHJldHVybiBtYXJrdXAuam9pbignJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3NldFNWR1ByZWFtYmxlOiBmdW5jdGlvbihtYXJrdXAsIG9wdGlvbnMpIHtcbiAgICAgIGlmIChvcHRpb25zLnN1cHByZXNzUHJlYW1ibGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbWFya3VwLnB1c2goXG4gICAgICAgICc8P3htbCB2ZXJzaW9uPVwiMS4wXCIgZW5jb2Rpbmc9XCInLCAob3B0aW9ucy5lbmNvZGluZyB8fCAnVVRGLTgnKSwgJ1wiIHN0YW5kYWxvbmU9XCJub1wiID8+XFxuJyxcbiAgICAgICAgJzwhRE9DVFlQRSBzdmcgUFVCTElDIFwiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU5cIiAnLFxuICAgICAgICAnXCJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGRcIj5cXG4nXG4gICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9zZXRTVkdIZWFkZXI6IGZ1bmN0aW9uKG1hcmt1cCwgb3B0aW9ucykge1xuICAgICAgdmFyIHdpZHRoID0gb3B0aW9ucy53aWR0aCB8fCB0aGlzLndpZHRoLFxuICAgICAgICAgIGhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0IHx8IHRoaXMuaGVpZ2h0LFxuICAgICAgICAgIHZwdCwgdmlld0JveCA9ICd2aWV3Qm94PVwiMCAwICcgKyB0aGlzLndpZHRoICsgJyAnICsgdGhpcy5oZWlnaHQgKyAnXCIgJyxcbiAgICAgICAgICBOVU1fRlJBQ1RJT05fRElHSVRTID0gZmFicmljLk9iamVjdC5OVU1fRlJBQ1RJT05fRElHSVRTO1xuXG4gICAgICBpZiAob3B0aW9ucy52aWV3Qm94KSB7XG4gICAgICAgIHZpZXdCb3ggPSAndmlld0JveD1cIicgK1xuICAgICAgICAgICAgICAgIG9wdGlvbnMudmlld0JveC54ICsgJyAnICtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnZpZXdCb3gueSArICcgJyArXG4gICAgICAgICAgICAgICAgb3B0aW9ucy52aWV3Qm94LndpZHRoICsgJyAnICtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnZpZXdCb3guaGVpZ2h0ICsgJ1wiICc7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgaWYgKHRoaXMuc3ZnVmlld3BvcnRUcmFuc2Zvcm1hdGlvbikge1xuICAgICAgICAgIHZwdCA9IHRoaXMudmlld3BvcnRUcmFuc2Zvcm07XG4gICAgICAgICAgdmlld0JveCA9ICd2aWV3Qm94PVwiJyArXG4gICAgICAgICAgICAgICAgICB0b0ZpeGVkKC12cHRbNF0gLyB2cHRbMF0sIE5VTV9GUkFDVElPTl9ESUdJVFMpICsgJyAnICtcbiAgICAgICAgICAgICAgICAgIHRvRml4ZWQoLXZwdFs1XSAvIHZwdFszXSwgTlVNX0ZSQUNUSU9OX0RJR0lUUykgKyAnICcgK1xuICAgICAgICAgICAgICAgICAgdG9GaXhlZCh0aGlzLndpZHRoIC8gdnB0WzBdLCBOVU1fRlJBQ1RJT05fRElHSVRTKSArICcgJyArXG4gICAgICAgICAgICAgICAgICB0b0ZpeGVkKHRoaXMuaGVpZ2h0IC8gdnB0WzNdLCBOVU1fRlJBQ1RJT05fRElHSVRTKSArICdcIiAnO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1hcmt1cC5wdXNoKFxuICAgICAgICAnPHN2ZyAnLFxuICAgICAgICAneG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiICcsXG4gICAgICAgICd4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiAnLFxuICAgICAgICAndmVyc2lvbj1cIjEuMVwiICcsXG4gICAgICAgICd3aWR0aD1cIicsIHdpZHRoLCAnXCIgJyxcbiAgICAgICAgJ2hlaWdodD1cIicsIGhlaWdodCwgJ1wiICcsXG4gICAgICAgIHZpZXdCb3gsXG4gICAgICAgICd4bWw6c3BhY2U9XCJwcmVzZXJ2ZVwiPlxcbicsXG4gICAgICAgICc8ZGVzYz5DcmVhdGVkIHdpdGggRmFicmljLmpzICcsIGZhYnJpYy52ZXJzaW9uLCAnPC9kZXNjPlxcbicsXG4gICAgICAgICc8ZGVmcz5cXG4nLFxuICAgICAgICB0aGlzLmNyZWF0ZVNWR0ZvbnRGYWNlc01hcmt1cCgpLFxuICAgICAgICB0aGlzLmNyZWF0ZVNWR1JlZkVsZW1lbnRzTWFya3VwKCksXG4gICAgICAgIHRoaXMuY3JlYXRlU1ZHQ2xpcFBhdGhNYXJrdXAob3B0aW9ucyksXG4gICAgICAgICc8L2RlZnM+XFxuJ1xuICAgICAgKTtcbiAgICB9LFxuXG4gICAgY3JlYXRlU1ZHQ2xpcFBhdGhNYXJrdXA6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBjbGlwUGF0aCA9IHRoaXMuY2xpcFBhdGg7XG4gICAgICBpZiAoY2xpcFBhdGgpIHtcbiAgICAgICAgY2xpcFBhdGguY2xpcFBhdGhJZCA9ICdDTElQUEFUSF8nICsgZmFicmljLk9iamVjdC5fX3VpZCsrO1xuICAgICAgICByZXR1cm4gICc8Y2xpcFBhdGggaWQ9XCInICsgY2xpcFBhdGguY2xpcFBhdGhJZCArICdcIiA+XFxuJyArXG4gICAgICAgICAgdGhpcy5jbGlwUGF0aC50b0NsaXBQYXRoU1ZHKG9wdGlvbnMucmV2aXZlcikgK1xuICAgICAgICAgICc8L2NsaXBQYXRoPlxcbic7XG4gICAgICB9XG4gICAgICByZXR1cm4gJyc7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgbWFya3VwIGNvbnRhaW5pbmcgU1ZHIHJlZmVyZW5jZWQgZWxlbWVudHMgbGlrZSBwYXR0ZXJucywgZ3JhZGllbnRzIGV0Yy5cbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAgICovXG4gICAgY3JlYXRlU1ZHUmVmRWxlbWVudHNNYXJrdXA6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcyxcbiAgICAgICAgICBtYXJrdXAgPSBbJ2JhY2tncm91bmQnLCAnb3ZlcmxheSddLm1hcChmdW5jdGlvbihwcm9wKSB7XG4gICAgICAgICAgICB2YXIgZmlsbCA9IF90aGlzW3Byb3AgKyAnQ29sb3InXTtcbiAgICAgICAgICAgIGlmIChmaWxsICYmIGZpbGwudG9MaXZlKSB7XG4gICAgICAgICAgICAgIHZhciBzaG91bGRUcmFuc2Zvcm0gPSBfdGhpc1twcm9wICsgJ1ZwdCddLCB2cHQgPSBfdGhpcy52aWV3cG9ydFRyYW5zZm9ybSxcbiAgICAgICAgICAgICAgICAgIG9iamVjdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IF90aGlzLndpZHRoIC8gKHNob3VsZFRyYW5zZm9ybSA/IHZwdFswXSA6IDEpLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IF90aGlzLmhlaWdodCAvIChzaG91bGRUcmFuc2Zvcm0gPyB2cHRbM10gOiAxKVxuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgcmV0dXJuIGZpbGwudG9TVkcoXG4gICAgICAgICAgICAgICAgb2JqZWN0LFxuICAgICAgICAgICAgICAgIHsgYWRkaXRpb25hbFRyYW5zZm9ybTogc2hvdWxkVHJhbnNmb3JtID8gZmFicmljLnV0aWwubWF0cml4VG9TVkcodnB0KSA6ICcnIH1cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgIHJldHVybiBtYXJrdXAuam9pbignJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgbWFya3VwIGNvbnRhaW5pbmcgU1ZHIGZvbnQgZmFjZXMsXG4gICAgICogZm9udCBVUkxzIGZvciBmb250IGZhY2VzIG11c3QgYmUgY29sbGVjdGVkIGJ5IGRldmVsb3BlcnNcbiAgICAgKiBhbmQgYXJlIG5vdCBleHRyYWN0ZWQgZnJvbSB0aGUgRE9NIGJ5IGZhYnJpY2pzXG4gICAgICogQHBhcmFtIHtBcnJheX0gb2JqZWN0cyBBcnJheSBvZiBmYWJyaWMgb2JqZWN0c1xuICAgICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICAgKi9cbiAgICBjcmVhdGVTVkdGb250RmFjZXNNYXJrdXA6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG1hcmt1cCA9ICcnLCBmb250TGlzdCA9IHsgfSwgb2JqLCBmb250RmFtaWx5LFxuICAgICAgICAgIHN0eWxlLCByb3csIHJvd0luZGV4LCBfY2hhciwgY2hhckluZGV4LCBpLCBsZW4sXG4gICAgICAgICAgZm9udFBhdGhzID0gZmFicmljLmZvbnRQYXRocywgb2JqZWN0cyA9IFtdO1xuXG4gICAgICB0aGlzLl9vYmplY3RzLmZvckVhY2goZnVuY3Rpb24gYWRkKG9iamVjdCkge1xuICAgICAgICBvYmplY3RzLnB1c2gob2JqZWN0KTtcbiAgICAgICAgaWYgKG9iamVjdC5fb2JqZWN0cykge1xuICAgICAgICAgIG9iamVjdC5fb2JqZWN0cy5mb3JFYWNoKGFkZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBmb3IgKGkgPSAwLCBsZW4gPSBvYmplY3RzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIG9iaiA9IG9iamVjdHNbaV07XG4gICAgICAgIGZvbnRGYW1pbHkgPSBvYmouZm9udEZhbWlseTtcbiAgICAgICAgaWYgKG9iai50eXBlLmluZGV4T2YoJ3RleHQnKSA9PT0gLTEgfHwgZm9udExpc3RbZm9udEZhbWlseV0gfHwgIWZvbnRQYXRoc1tmb250RmFtaWx5XSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGZvbnRMaXN0W2ZvbnRGYW1pbHldID0gdHJ1ZTtcbiAgICAgICAgaWYgKCFvYmouc3R5bGVzKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgc3R5bGUgPSBvYmouc3R5bGVzO1xuICAgICAgICBmb3IgKHJvd0luZGV4IGluIHN0eWxlKSB7XG4gICAgICAgICAgcm93ID0gc3R5bGVbcm93SW5kZXhdO1xuICAgICAgICAgIGZvciAoY2hhckluZGV4IGluIHJvdykge1xuICAgICAgICAgICAgX2NoYXIgPSByb3dbY2hhckluZGV4XTtcbiAgICAgICAgICAgIGZvbnRGYW1pbHkgPSBfY2hhci5mb250RmFtaWx5O1xuICAgICAgICAgICAgaWYgKCFmb250TGlzdFtmb250RmFtaWx5XSAmJiBmb250UGF0aHNbZm9udEZhbWlseV0pIHtcbiAgICAgICAgICAgICAgZm9udExpc3RbZm9udEZhbWlseV0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBqIGluIGZvbnRMaXN0KSB7XG4gICAgICAgIG1hcmt1cCArPSBbXG4gICAgICAgICAgJ1xcdFxcdEBmb250LWZhY2Uge1xcbicsXG4gICAgICAgICAgJ1xcdFxcdFxcdGZvbnQtZmFtaWx5OiBcXCcnLCBqLCAnXFwnO1xcbicsXG4gICAgICAgICAgJ1xcdFxcdFxcdHNyYzogdXJsKFxcJycsIGZvbnRQYXRoc1tqXSwgJ1xcJyk7XFxuJyxcbiAgICAgICAgICAnXFx0XFx0fVxcbidcbiAgICAgICAgXS5qb2luKCcnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1hcmt1cCkge1xuICAgICAgICBtYXJrdXAgPSBbXG4gICAgICAgICAgJ1xcdDxzdHlsZSB0eXBlPVwidGV4dC9jc3NcIj4nLFxuICAgICAgICAgICc8IVtDREFUQVtcXG4nLFxuICAgICAgICAgIG1hcmt1cCxcbiAgICAgICAgICAnXV0+JyxcbiAgICAgICAgICAnPC9zdHlsZT5cXG4nXG4gICAgICAgIF0uam9pbignJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtYXJrdXA7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3NldFNWR09iamVjdHM6IGZ1bmN0aW9uKG1hcmt1cCwgcmV2aXZlcikge1xuICAgICAgdmFyIGluc3RhbmNlLCBpLCBsZW4sIG9iamVjdHMgPSB0aGlzLl9vYmplY3RzO1xuICAgICAgZm9yIChpID0gMCwgbGVuID0gb2JqZWN0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBpbnN0YW5jZSA9IG9iamVjdHNbaV07XG4gICAgICAgIGlmIChpbnN0YW5jZS5leGNsdWRlRnJvbUV4cG9ydCkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NldFNWR09iamVjdChtYXJrdXAsIGluc3RhbmNlLCByZXZpdmVyKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2V0U1ZHT2JqZWN0OiBmdW5jdGlvbihtYXJrdXAsIGluc3RhbmNlLCByZXZpdmVyKSB7XG4gICAgICBtYXJrdXAucHVzaChpbnN0YW5jZS50b1NWRyhyZXZpdmVyKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3NldFNWR0JnT3ZlcmxheUltYWdlOiBmdW5jdGlvbihtYXJrdXAsIHByb3BlcnR5LCByZXZpdmVyKSB7XG4gICAgICBpZiAodGhpc1twcm9wZXJ0eV0gJiYgIXRoaXNbcHJvcGVydHldLmV4Y2x1ZGVGcm9tRXhwb3J0ICYmIHRoaXNbcHJvcGVydHldLnRvU1ZHKSB7XG4gICAgICAgIG1hcmt1cC5wdXNoKHRoaXNbcHJvcGVydHldLnRvU1ZHKHJldml2ZXIpKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2V0U1ZHQmdPdmVybGF5Q29sb3I6IGZ1bmN0aW9uKG1hcmt1cCwgcHJvcGVydHkpIHtcbiAgICAgIHZhciBmaWxsZXIgPSB0aGlzW3Byb3BlcnR5ICsgJ0NvbG9yJ10sIHZwdCA9IHRoaXMudmlld3BvcnRUcmFuc2Zvcm0sIGZpbmFsV2lkdGggPSB0aGlzLndpZHRoLFxuICAgICAgICAgIGZpbmFsSGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XG4gICAgICBpZiAoIWZpbGxlcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoZmlsbGVyLnRvTGl2ZSkge1xuICAgICAgICB2YXIgcmVwZWF0ID0gZmlsbGVyLnJlcGVhdCwgaVZwdCA9IGZhYnJpYy51dGlsLmludmVydFRyYW5zZm9ybSh2cHQpLCBzaG91bGRJbnZlcnQgPSB0aGlzW3Byb3BlcnR5ICsgJ1ZwdCddLFxuICAgICAgICAgICAgYWRkaXRpb25hbFRyYW5zZm9ybSA9IHNob3VsZEludmVydCA/IGZhYnJpYy51dGlsLm1hdHJpeFRvU1ZHKGlWcHQpIDogJyc7XG4gICAgICAgIG1hcmt1cC5wdXNoKFxuICAgICAgICAgICc8cmVjdCB0cmFuc2Zvcm09XCInICsgYWRkaXRpb25hbFRyYW5zZm9ybSArICcgdHJhbnNsYXRlKCcsIGZpbmFsV2lkdGggLyAyLCAnLCcsIGZpbmFsSGVpZ2h0IC8gMiwgJylcIicsXG4gICAgICAgICAgJyB4PVwiJywgZmlsbGVyLm9mZnNldFggLSBmaW5hbFdpZHRoIC8gMixcbiAgICAgICAgICAnXCIgeT1cIicsIGZpbGxlci5vZmZzZXRZIC0gZmluYWxIZWlnaHQgLyAyLCAnXCIgJyxcbiAgICAgICAgICAnd2lkdGg9XCInLFxuICAgICAgICAgIChyZXBlYXQgPT09ICdyZXBlYXQteScgfHwgcmVwZWF0ID09PSAnbm8tcmVwZWF0J1xuICAgICAgICAgICAgPyBmaWxsZXIuc291cmNlLndpZHRoXG4gICAgICAgICAgICA6IGZpbmFsV2lkdGggKSxcbiAgICAgICAgICAnXCIgaGVpZ2h0PVwiJyxcbiAgICAgICAgICAocmVwZWF0ID09PSAncmVwZWF0LXgnIHx8IHJlcGVhdCA9PT0gJ25vLXJlcGVhdCdcbiAgICAgICAgICAgID8gZmlsbGVyLnNvdXJjZS5oZWlnaHRcbiAgICAgICAgICAgIDogZmluYWxIZWlnaHQpLFxuICAgICAgICAgICdcIiBmaWxsPVwidXJsKCNTVkdJRF8nICsgZmlsbGVyLmlkICsgJylcIicsXG4gICAgICAgICAgJz48L3JlY3Q+XFxuJ1xuICAgICAgICApO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIG1hcmt1cC5wdXNoKFxuICAgICAgICAgICc8cmVjdCB4PVwiMFwiIHk9XCIwXCIgd2lkdGg9XCIxMDAlXCIgaGVpZ2h0PVwiMTAwJVwiICcsXG4gICAgICAgICAgJ2ZpbGw9XCInLCBmaWxsZXIsICdcIicsXG4gICAgICAgICAgJz48L3JlY3Q+XFxuJ1xuICAgICAgICApO1xuICAgICAgfVxuICAgIH0sXG4gICAgLyogX1RPX1NWR19FTkRfICovXG5cbiAgICAvKipcbiAgICAgKiBNb3ZlcyBhbiBvYmplY3Qgb3IgdGhlIG9iamVjdHMgb2YgYSBtdWx0aXBsZSBzZWxlY3Rpb25cbiAgICAgKiB0byB0aGUgYm90dG9tIG9mIHRoZSBzdGFjayBvZiBkcmF3biBvYmplY3RzXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIHNlbmQgdG8gYmFja1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgc2VuZFRvQmFjazogZnVuY3Rpb24gKG9iamVjdCkge1xuICAgICAgaWYgKCFvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICB2YXIgYWN0aXZlU2VsZWN0aW9uID0gdGhpcy5fYWN0aXZlT2JqZWN0LFxuICAgICAgICAgIGksIG9iaiwgb2JqcztcbiAgICAgIGlmIChvYmplY3QgPT09IGFjdGl2ZVNlbGVjdGlvbiAmJiBvYmplY3QudHlwZSA9PT0gJ2FjdGl2ZVNlbGVjdGlvbicpIHtcbiAgICAgICAgb2JqcyA9IGFjdGl2ZVNlbGVjdGlvbi5fb2JqZWN0cztcbiAgICAgICAgZm9yIChpID0gb2Jqcy5sZW5ndGg7IGktLTspIHtcbiAgICAgICAgICBvYmogPSBvYmpzW2ldO1xuICAgICAgICAgIHJlbW92ZUZyb21BcnJheSh0aGlzLl9vYmplY3RzLCBvYmopO1xuICAgICAgICAgIHRoaXMuX29iamVjdHMudW5zaGlmdChvYmopO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmVtb3ZlRnJvbUFycmF5KHRoaXMuX29iamVjdHMsIG9iamVjdCk7XG4gICAgICAgIHRoaXMuX29iamVjdHMudW5zaGlmdChvYmplY3QpO1xuICAgICAgfVxuICAgICAgdGhpcy5yZW5kZXJPbkFkZFJlbW92ZSAmJiB0aGlzLnJlcXVlc3RSZW5kZXJBbGwoKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNb3ZlcyBhbiBvYmplY3Qgb3IgdGhlIG9iamVjdHMgb2YgYSBtdWx0aXBsZSBzZWxlY3Rpb25cbiAgICAgKiB0byB0aGUgdG9wIG9mIHRoZSBzdGFjayBvZiBkcmF3biBvYmplY3RzXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIHNlbmRcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGJyaW5nVG9Gcm9udDogZnVuY3Rpb24gKG9iamVjdCkge1xuICAgICAgaWYgKCFvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICB2YXIgYWN0aXZlU2VsZWN0aW9uID0gdGhpcy5fYWN0aXZlT2JqZWN0LFxuICAgICAgICAgIGksIG9iaiwgb2JqcztcbiAgICAgIGlmIChvYmplY3QgPT09IGFjdGl2ZVNlbGVjdGlvbiAmJiBvYmplY3QudHlwZSA9PT0gJ2FjdGl2ZVNlbGVjdGlvbicpIHtcbiAgICAgICAgb2JqcyA9IGFjdGl2ZVNlbGVjdGlvbi5fb2JqZWN0cztcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IG9ianMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBvYmogPSBvYmpzW2ldO1xuICAgICAgICAgIHJlbW92ZUZyb21BcnJheSh0aGlzLl9vYmplY3RzLCBvYmopO1xuICAgICAgICAgIHRoaXMuX29iamVjdHMucHVzaChvYmopO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmVtb3ZlRnJvbUFycmF5KHRoaXMuX29iamVjdHMsIG9iamVjdCk7XG4gICAgICAgIHRoaXMuX29iamVjdHMucHVzaChvYmplY3QpO1xuICAgICAgfVxuICAgICAgdGhpcy5yZW5kZXJPbkFkZFJlbW92ZSAmJiB0aGlzLnJlcXVlc3RSZW5kZXJBbGwoKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNb3ZlcyBhbiBvYmplY3Qgb3IgYSBzZWxlY3Rpb24gZG93biBpbiBzdGFjayBvZiBkcmF3biBvYmplY3RzXG4gICAgICogQW4gb3B0aW9uYWwgcGFyYW1ldGVyLCBpbnRlcnNlY3RpbmcgYWxsb3dzIHRvIG1vdmUgdGhlIG9iamVjdCBpbiBiZWhpbmRcbiAgICAgKiB0aGUgZmlyc3QgaW50ZXJzZWN0aW5nIG9iamVjdC4gV2hlcmUgaW50ZXJzZWN0aW9uIGlzIGNhbGN1bGF0ZWQgd2l0aFxuICAgICAqIGJvdW5kaW5nIGJveC4gSWYgbm8gaW50ZXJzZWN0aW9uIGlzIGZvdW5kLCB0aGVyZSB3aWxsIG5vdCBiZSBjaGFuZ2UgaW4gdGhlXG4gICAgICogc3RhY2suXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIHNlbmRcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtpbnRlcnNlY3RpbmddIElmIGB0cnVlYCwgc2VuZCBvYmplY3QgYmVoaW5kIG5leHQgbG93ZXIgaW50ZXJzZWN0aW5nIG9iamVjdFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgc2VuZEJhY2t3YXJkczogZnVuY3Rpb24gKG9iamVjdCwgaW50ZXJzZWN0aW5nKSB7XG4gICAgICBpZiAoIW9iamVjdCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHZhciBhY3RpdmVTZWxlY3Rpb24gPSB0aGlzLl9hY3RpdmVPYmplY3QsXG4gICAgICAgICAgaSwgb2JqLCBpZHgsIG5ld0lkeCwgb2Jqcywgb2Jqc01vdmVkID0gMDtcblxuICAgICAgaWYgKG9iamVjdCA9PT0gYWN0aXZlU2VsZWN0aW9uICYmIG9iamVjdC50eXBlID09PSAnYWN0aXZlU2VsZWN0aW9uJykge1xuICAgICAgICBvYmpzID0gYWN0aXZlU2VsZWN0aW9uLl9vYmplY3RzO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgb2Jqcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIG9iaiA9IG9ianNbaV07XG4gICAgICAgICAgaWR4ID0gdGhpcy5fb2JqZWN0cy5pbmRleE9mKG9iaik7XG4gICAgICAgICAgaWYgKGlkeCA+IDAgKyBvYmpzTW92ZWQpIHtcbiAgICAgICAgICAgIG5ld0lkeCA9IGlkeCAtIDE7XG4gICAgICAgICAgICByZW1vdmVGcm9tQXJyYXkodGhpcy5fb2JqZWN0cywgb2JqKTtcbiAgICAgICAgICAgIHRoaXMuX29iamVjdHMuc3BsaWNlKG5ld0lkeCwgMCwgb2JqKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgb2Jqc01vdmVkKys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBpZHggPSB0aGlzLl9vYmplY3RzLmluZGV4T2Yob2JqZWN0KTtcbiAgICAgICAgaWYgKGlkeCAhPT0gMCkge1xuICAgICAgICAgIC8vIGlmIG9iamVjdCBpcyBub3Qgb24gdGhlIGJvdHRvbSBvZiBzdGFja1xuICAgICAgICAgIG5ld0lkeCA9IHRoaXMuX2ZpbmROZXdMb3dlckluZGV4KG9iamVjdCwgaWR4LCBpbnRlcnNlY3RpbmcpO1xuICAgICAgICAgIHJlbW92ZUZyb21BcnJheSh0aGlzLl9vYmplY3RzLCBvYmplY3QpO1xuICAgICAgICAgIHRoaXMuX29iamVjdHMuc3BsaWNlKG5ld0lkeCwgMCwgb2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5yZW5kZXJPbkFkZFJlbW92ZSAmJiB0aGlzLnJlcXVlc3RSZW5kZXJBbGwoKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9maW5kTmV3TG93ZXJJbmRleDogZnVuY3Rpb24ob2JqZWN0LCBpZHgsIGludGVyc2VjdGluZykge1xuICAgICAgdmFyIG5ld0lkeCwgaTtcblxuICAgICAgaWYgKGludGVyc2VjdGluZykge1xuICAgICAgICBuZXdJZHggPSBpZHg7XG5cbiAgICAgICAgLy8gdHJhdmVyc2UgZG93biB0aGUgc3RhY2sgbG9va2luZyBmb3IgdGhlIG5lYXJlc3QgaW50ZXJzZWN0aW5nIG9iamVjdFxuICAgICAgICBmb3IgKGkgPSBpZHggLSAxOyBpID49IDA7IC0taSkge1xuXG4gICAgICAgICAgdmFyIGlzSW50ZXJzZWN0aW5nID0gb2JqZWN0LmludGVyc2VjdHNXaXRoT2JqZWN0KHRoaXMuX29iamVjdHNbaV0pIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmlzQ29udGFpbmVkV2l0aGluT2JqZWN0KHRoaXMuX29iamVjdHNbaV0pIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fb2JqZWN0c1tpXS5pc0NvbnRhaW5lZFdpdGhpbk9iamVjdChvYmplY3QpO1xuXG4gICAgICAgICAgaWYgKGlzSW50ZXJzZWN0aW5nKSB7XG4gICAgICAgICAgICBuZXdJZHggPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgbmV3SWR4ID0gaWR4IC0gMTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ld0lkeDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTW92ZXMgYW4gb2JqZWN0IG9yIGEgc2VsZWN0aW9uIHVwIGluIHN0YWNrIG9mIGRyYXduIG9iamVjdHNcbiAgICAgKiBBbiBvcHRpb25hbCBwYXJhbWV0ZXIsIGludGVyc2VjdGluZyBhbGxvd3MgdG8gbW92ZSB0aGUgb2JqZWN0IGluIGZyb250XG4gICAgICogb2YgdGhlIGZpcnN0IGludGVyc2VjdGluZyBvYmplY3QuIFdoZXJlIGludGVyc2VjdGlvbiBpcyBjYWxjdWxhdGVkIHdpdGhcbiAgICAgKiBib3VuZGluZyBib3guIElmIG5vIGludGVyc2VjdGlvbiBpcyBmb3VuZCwgdGhlcmUgd2lsbCBub3QgYmUgY2hhbmdlIGluIHRoZVxuICAgICAqIHN0YWNrLlxuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gb2JqZWN0IE9iamVjdCB0byBzZW5kXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbaW50ZXJzZWN0aW5nXSBJZiBgdHJ1ZWAsIHNlbmQgb2JqZWN0IGluIGZyb250IG9mIG5leHQgdXBwZXIgaW50ZXJzZWN0aW5nIG9iamVjdFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgYnJpbmdGb3J3YXJkOiBmdW5jdGlvbiAob2JqZWN0LCBpbnRlcnNlY3RpbmcpIHtcbiAgICAgIGlmICghb2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgdmFyIGFjdGl2ZVNlbGVjdGlvbiA9IHRoaXMuX2FjdGl2ZU9iamVjdCxcbiAgICAgICAgICBpLCBvYmosIGlkeCwgbmV3SWR4LCBvYmpzLCBvYmpzTW92ZWQgPSAwO1xuXG4gICAgICBpZiAob2JqZWN0ID09PSBhY3RpdmVTZWxlY3Rpb24gJiYgb2JqZWN0LnR5cGUgPT09ICdhY3RpdmVTZWxlY3Rpb24nKSB7XG4gICAgICAgIG9ianMgPSBhY3RpdmVTZWxlY3Rpb24uX29iamVjdHM7XG4gICAgICAgIGZvciAoaSA9IG9ianMubGVuZ3RoOyBpLS07KSB7XG4gICAgICAgICAgb2JqID0gb2Jqc1tpXTtcbiAgICAgICAgICBpZHggPSB0aGlzLl9vYmplY3RzLmluZGV4T2Yob2JqKTtcbiAgICAgICAgICBpZiAoaWR4IDwgdGhpcy5fb2JqZWN0cy5sZW5ndGggLSAxIC0gb2Jqc01vdmVkKSB7XG4gICAgICAgICAgICBuZXdJZHggPSBpZHggKyAxO1xuICAgICAgICAgICAgcmVtb3ZlRnJvbUFycmF5KHRoaXMuX29iamVjdHMsIG9iaik7XG4gICAgICAgICAgICB0aGlzLl9vYmplY3RzLnNwbGljZShuZXdJZHgsIDAsIG9iaik7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9ianNNb3ZlZCsrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgaWR4ID0gdGhpcy5fb2JqZWN0cy5pbmRleE9mKG9iamVjdCk7XG4gICAgICAgIGlmIChpZHggIT09IHRoaXMuX29iamVjdHMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIC8vIGlmIG9iamVjdCBpcyBub3Qgb24gdG9wIG9mIHN0YWNrIChsYXN0IGl0ZW0gaW4gYW4gYXJyYXkpXG4gICAgICAgICAgbmV3SWR4ID0gdGhpcy5fZmluZE5ld1VwcGVySW5kZXgob2JqZWN0LCBpZHgsIGludGVyc2VjdGluZyk7XG4gICAgICAgICAgcmVtb3ZlRnJvbUFycmF5KHRoaXMuX29iamVjdHMsIG9iamVjdCk7XG4gICAgICAgICAgdGhpcy5fb2JqZWN0cy5zcGxpY2UobmV3SWR4LCAwLCBvYmplY3QpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLnJlbmRlck9uQWRkUmVtb3ZlICYmIHRoaXMucmVxdWVzdFJlbmRlckFsbCgpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2ZpbmROZXdVcHBlckluZGV4OiBmdW5jdGlvbihvYmplY3QsIGlkeCwgaW50ZXJzZWN0aW5nKSB7XG4gICAgICB2YXIgbmV3SWR4LCBpLCBsZW47XG5cbiAgICAgIGlmIChpbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgbmV3SWR4ID0gaWR4O1xuXG4gICAgICAgIC8vIHRyYXZlcnNlIHVwIHRoZSBzdGFjayBsb29raW5nIGZvciB0aGUgbmVhcmVzdCBpbnRlcnNlY3Rpbmcgb2JqZWN0XG4gICAgICAgIGZvciAoaSA9IGlkeCArIDEsIGxlbiA9IHRoaXMuX29iamVjdHMubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcblxuICAgICAgICAgIHZhciBpc0ludGVyc2VjdGluZyA9IG9iamVjdC5pbnRlcnNlY3RzV2l0aE9iamVjdCh0aGlzLl9vYmplY3RzW2ldKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5pc0NvbnRhaW5lZFdpdGhpbk9iamVjdCh0aGlzLl9vYmplY3RzW2ldKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29iamVjdHNbaV0uaXNDb250YWluZWRXaXRoaW5PYmplY3Qob2JqZWN0KTtcblxuICAgICAgICAgIGlmIChpc0ludGVyc2VjdGluZykge1xuICAgICAgICAgICAgbmV3SWR4ID0gaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIG5ld0lkeCA9IGlkeCArIDE7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXdJZHg7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1vdmVzIGFuIG9iamVjdCB0byBzcGVjaWZpZWQgbGV2ZWwgaW4gc3RhY2sgb2YgZHJhd24gb2JqZWN0c1xuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gb2JqZWN0IE9iamVjdCB0byBzZW5kXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4IFBvc2l0aW9uIHRvIG1vdmUgdG9cbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIG1vdmVUbzogZnVuY3Rpb24gKG9iamVjdCwgaW5kZXgpIHtcbiAgICAgIHJlbW92ZUZyb21BcnJheSh0aGlzLl9vYmplY3RzLCBvYmplY3QpO1xuICAgICAgdGhpcy5fb2JqZWN0cy5zcGxpY2UoaW5kZXgsIDAsIG9iamVjdCk7XG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJPbkFkZFJlbW92ZSAmJiB0aGlzLnJlcXVlc3RSZW5kZXJBbGwoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIGEgY2FudmFzIGVsZW1lbnQgYW5kIGRpc3Bvc2Ugb2JqZWN0c1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgZGlzcG9zZTogZnVuY3Rpb24gKCkge1xuICAgICAgLy8gY2FuY2VsIGV2ZW50dWFsbHkgb25nb2luZyByZW5kZXJzXG4gICAgICBpZiAodGhpcy5pc1JlbmRlcmluZykge1xuICAgICAgICBmYWJyaWMudXRpbC5jYW5jZWxBbmltRnJhbWUodGhpcy5pc1JlbmRlcmluZyk7XG4gICAgICAgIHRoaXMuaXNSZW5kZXJpbmcgPSAwO1xuICAgICAgfVxuICAgICAgdGhpcy5mb3JFYWNoT2JqZWN0KGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICBvYmplY3QuZGlzcG9zZSAmJiBvYmplY3QuZGlzcG9zZSgpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLl9vYmplY3RzID0gW107XG4gICAgICBpZiAodGhpcy5iYWNrZ3JvdW5kSW1hZ2UgJiYgdGhpcy5iYWNrZ3JvdW5kSW1hZ2UuZGlzcG9zZSkge1xuICAgICAgICB0aGlzLmJhY2tncm91bmRJbWFnZS5kaXNwb3NlKCk7XG4gICAgICB9XG4gICAgICB0aGlzLmJhY2tncm91bmRJbWFnZSA9IG51bGw7XG4gICAgICBpZiAodGhpcy5vdmVybGF5SW1hZ2UgJiYgdGhpcy5vdmVybGF5SW1hZ2UuZGlzcG9zZSkge1xuICAgICAgICB0aGlzLm92ZXJsYXlJbWFnZS5kaXNwb3NlKCk7XG4gICAgICB9XG4gICAgICB0aGlzLm92ZXJsYXlJbWFnZSA9IG51bGw7XG4gICAgICB0aGlzLl9pVGV4dEluc3RhbmNlcyA9IG51bGw7XG4gICAgICB0aGlzLmNvbnRleHRDb250YWluZXIgPSBudWxsO1xuICAgICAgLy8gcmVzdG9yZSBjYW52YXMgc3R5bGVcbiAgICAgIHRoaXMubG93ZXJDYW52YXNFbC5jbGFzc0xpc3QucmVtb3ZlKCdsb3dlci1jYW52YXMnKTtcbiAgICAgIGZhYnJpYy51dGlsLnNldFN0eWxlKHRoaXMubG93ZXJDYW52YXNFbCwgdGhpcy5fb3JpZ2luYWxDYW52YXNTdHlsZSk7XG4gICAgICBkZWxldGUgdGhpcy5fb3JpZ2luYWxDYW52YXNTdHlsZTtcbiAgICAgIC8vIHJlc3RvcmUgY2FudmFzIHNpemUgdG8gb3JpZ2luYWwgc2l6ZSBpbiBjYXNlIHJldGluYSBzY2FsaW5nIHdhcyBhcHBsaWVkXG4gICAgICB0aGlzLmxvd2VyQ2FudmFzRWwuc2V0QXR0cmlidXRlKCd3aWR0aCcsIHRoaXMud2lkdGgpO1xuICAgICAgdGhpcy5sb3dlckNhbnZhc0VsLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgdGhpcy5oZWlnaHQpO1xuICAgICAgZmFicmljLnV0aWwuY2xlYW5VcEpzZG9tTm9kZSh0aGlzLmxvd2VyQ2FudmFzRWwpO1xuICAgICAgdGhpcy5sb3dlckNhbnZhc0VsID0gdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gJyM8ZmFicmljLkNhbnZhcyAoJyArIHRoaXMuY29tcGxleGl0eSgpICsgJyk6ICcgK1xuICAgICAgICAgICAgICAgJ3sgb2JqZWN0czogJyArIHRoaXMuX29iamVjdHMubGVuZ3RoICsgJyB9Pic7XG4gICAgfVxuICB9KTtcblxuICBleHRlbmQoZmFicmljLlN0YXRpY0NhbnZhcy5wcm90b3R5cGUsIGZhYnJpYy5PYnNlcnZhYmxlKTtcbiAgZXh0ZW5kKGZhYnJpYy5TdGF0aWNDYW52YXMucHJvdG90eXBlLCBmYWJyaWMuQ29sbGVjdGlvbik7XG4gIGV4dGVuZChmYWJyaWMuU3RhdGljQ2FudmFzLnByb3RvdHlwZSwgZmFicmljLkRhdGFVUkxFeHBvcnRlcik7XG5cbiAgZXh0ZW5kKGZhYnJpYy5TdGF0aWNDYW52YXMsIC8qKiBAbGVuZHMgZmFicmljLlN0YXRpY0NhbnZhcyAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBFTVBUWV9KU09OOiAne1wib2JqZWN0c1wiOiBbXSwgXCJiYWNrZ3JvdW5kXCI6IFwid2hpdGVcIn0nLFxuXG4gICAgLyoqXG4gICAgICogUHJvdmlkZXMgYSB3YXkgdG8gY2hlY2sgc3VwcG9ydCBvZiBzb21lIG9mIHRoZSBjYW52YXMgbWV0aG9kc1xuICAgICAqIChlaXRoZXIgdGhvc2Ugb2YgSFRNTENhbnZhc0VsZW1lbnQgaXRzZWxmLCBvciByZW5kZXJpbmcgY29udGV4dClcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtZXRob2ROYW1lIE1ldGhvZCB0byBjaGVjayBzdXBwb3J0IGZvcjtcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb3VsZCBiZSBvbmUgb2YgXCJzZXRMaW5lRGFzaFwiXG4gICAgICogQHJldHVybiB7Qm9vbGVhbiB8IG51bGx9IGB0cnVlYCBpZiBtZXRob2QgaXMgc3VwcG9ydGVkIChvciBhdCBsZWFzdCBleGlzdHMpLFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICBgbnVsbGAgaWYgY2FudmFzIGVsZW1lbnQgb3IgY29udGV4dCBjYW4gbm90IGJlIGluaXRpYWxpemVkXG4gICAgICovXG4gICAgc3VwcG9ydHM6IGZ1bmN0aW9uIChtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgZWwgPSBjcmVhdGVDYW52YXNFbGVtZW50KCk7XG5cbiAgICAgIGlmICghZWwgfHwgIWVsLmdldENvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciBjdHggPSBlbC5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgaWYgKCFjdHgpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHN3aXRjaCAobWV0aG9kTmFtZSkge1xuXG4gICAgICAgIGNhc2UgJ3NldExpbmVEYXNoJzpcbiAgICAgICAgICByZXR1cm4gdHlwZW9mIGN0eC5zZXRMaW5lRGFzaCAhPT0gJ3VuZGVmaW5lZCc7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIE9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBjYW52YXNcbiAgICogdGhpcyBhbGlhcyBpcyBwcm92aWRlZCBiZWNhdXNlIGlmIHlvdSBjYWxsIEpTT04uc3RyaW5naWZ5IG9uIGFuIGluc3RhbmNlLFxuICAgKiB0aGUgdG9KU09OIG9iamVjdCB3aWxsIGJlIGludm9rZWQgaWYgaXQgZXhpc3RzLlxuICAgKiBIYXZpbmcgYSB0b0pTT04gbWV0aG9kIG1lYW5zIHlvdSBjYW4gZG8gSlNPTi5zdHJpbmdpZnkobXlDYW52YXMpXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcGVydGllc1RvSW5jbHVkZV0gQW55IHByb3BlcnRpZXMgdGhhdCB5b3UgbWlnaHQgd2FudCB0byBhZGRpdGlvbmFsbHkgaW5jbHVkZSBpbiB0aGUgb3V0cHV0XG4gICAqIEByZXR1cm4ge09iamVjdH0gSlNPTiBjb21wYXRpYmxlIG9iamVjdFxuICAgKiBAdHV0b3JpYWwge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vZmFicmljLWludHJvLXBhcnQtMyNzZXJpYWxpemF0aW9ufVxuICAgKiBAc2VlIHtAbGluayBodHRwOi8vanNmaWRkbGUubmV0L2ZhYnJpY2pzL3BlYzg2L3xqc0ZpZGRsZSBkZW1vfVxuICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5KU09OIHdpdGhvdXQgYWRkaXRpb25hbCBwcm9wZXJ0aWVzPC9jYXB0aW9uPlxuICAgKiB2YXIganNvbiA9IGNhbnZhcy50b0pTT04oKTtcbiAgICogQGV4YW1wbGUgPGNhcHRpb24+SlNPTiB3aXRoIGFkZGl0aW9uYWwgcHJvcGVydGllcyBpbmNsdWRlZDwvY2FwdGlvbj5cbiAgICogdmFyIGpzb24gPSBjYW52YXMudG9KU09OKFsnbG9ja01vdmVtZW50WCcsICdsb2NrTW92ZW1lbnRZJywgJ2xvY2tSb3RhdGlvbicsICdsb2NrU2NhbGluZ1gnLCAnbG9ja1NjYWxpbmdZJ10pO1xuICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5KU09OIHdpdGhvdXQgZGVmYXVsdCB2YWx1ZXM8L2NhcHRpb24+XG4gICAqIGNhbnZhcy5pbmNsdWRlRGVmYXVsdFZhbHVlcyA9IGZhbHNlO1xuICAgKiB2YXIganNvbiA9IGNhbnZhcy50b0pTT04oKTtcbiAgICovXG4gIGZhYnJpYy5TdGF0aWNDYW52YXMucHJvdG90eXBlLnRvSlNPTiA9IGZhYnJpYy5TdGF0aWNDYW52YXMucHJvdG90eXBlLnRvT2JqZWN0O1xuXG4gIGlmIChmYWJyaWMuaXNMaWtlbHlOb2RlKSB7XG4gICAgZmFicmljLlN0YXRpY0NhbnZhcy5wcm90b3R5cGUuY3JlYXRlUE5HU3RyZWFtID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaW1wbCA9IGdldE5vZGVDYW52YXModGhpcy5sb3dlckNhbnZhc0VsKTtcbiAgICAgIHJldHVybiBpbXBsICYmIGltcGwuY3JlYXRlUE5HU3RyZWFtKCk7XG4gICAgfTtcbiAgICBmYWJyaWMuU3RhdGljQ2FudmFzLnByb3RvdHlwZS5jcmVhdGVKUEVHU3RyZWFtID0gZnVuY3Rpb24ob3B0cykge1xuICAgICAgdmFyIGltcGwgPSBnZXROb2RlQ2FudmFzKHRoaXMubG93ZXJDYW52YXNFbCk7XG4gICAgICByZXR1cm4gaW1wbCAmJiBpbXBsLmNyZWF0ZUpQRUdTdHJlYW0ob3B0cyk7XG4gICAgfTtcbiAgfVxufSkoKTtcblxuXG4vKipcbiAqIEJhc2VCcnVzaCBjbGFzc1xuICogQGNsYXNzIGZhYnJpYy5CYXNlQnJ1c2hcbiAqIEBzZWUge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vZnJlZWRyYXdpbmd8RnJlZWRyYXdpbmcgZGVtb31cbiAqL1xuZmFicmljLkJhc2VCcnVzaCA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzKC8qKiBAbGVuZHMgZmFicmljLkJhc2VCcnVzaC5wcm90b3R5cGUgKi8ge1xuXG4gIC8qKlxuICAgKiBDb2xvciBvZiBhIGJydXNoXG4gICAqIEB0eXBlIFN0cmluZ1xuICAgKiBAZGVmYXVsdFxuICAgKi9cbiAgY29sb3I6ICdyZ2IoMCwgMCwgMCknLFxuXG4gIC8qKlxuICAgKiBXaWR0aCBvZiBhIGJydXNoLCBoYXMgdG8gYmUgYSBOdW1iZXIsIG5vIHN0cmluZyBsaXRlcmFsc1xuICAgKiBAdHlwZSBOdW1iZXJcbiAgICogQGRlZmF1bHRcbiAgICovXG4gIHdpZHRoOiAxLFxuXG4gIC8qKlxuICAgKiBTaGFkb3cgb2JqZWN0IHJlcHJlc2VudGluZyBzaGFkb3cgb2YgdGhpcyBzaGFwZS5cbiAgICogPGI+QmFja3dhcmRzIGluY29tcGF0aWJpbGl0eSBub3RlOjwvYj4gVGhpcyBwcm9wZXJ0eSByZXBsYWNlcyBcInNoYWRvd0NvbG9yXCIgKFN0cmluZyksIFwic2hhZG93T2Zmc2V0WFwiIChOdW1iZXIpLFxuICAgKiBcInNoYWRvd09mZnNldFlcIiAoTnVtYmVyKSBhbmQgXCJzaGFkb3dCbHVyXCIgKE51bWJlcikgc2luY2UgdjEuMi4xMlxuICAgKiBAdHlwZSBmYWJyaWMuU2hhZG93XG4gICAqIEBkZWZhdWx0XG4gICAqL1xuICBzaGFkb3c6IG51bGwsXG5cbiAgLyoqXG4gICAqIExpbmUgZW5kaW5ncyBzdHlsZSBvZiBhIGJydXNoIChvbmUgb2YgXCJidXR0XCIsIFwicm91bmRcIiwgXCJzcXVhcmVcIilcbiAgICogQHR5cGUgU3RyaW5nXG4gICAqIEBkZWZhdWx0XG4gICAqL1xuICBzdHJva2VMaW5lQ2FwOiAncm91bmQnLFxuXG4gIC8qKlxuICAgKiBDb3JuZXIgc3R5bGUgb2YgYSBicnVzaCAob25lIG9mIFwiYmV2ZWxcIiwgXCJyb3VuZFwiLCBcIm1pdGVyXCIpXG4gICAqIEB0eXBlIFN0cmluZ1xuICAgKiBAZGVmYXVsdFxuICAgKi9cbiAgc3Ryb2tlTGluZUpvaW46ICdyb3VuZCcsXG5cbiAgLyoqXG4gICAqIE1heGltdW0gbWl0ZXIgbGVuZ3RoICh1c2VkIGZvciBzdHJva2VMaW5lSm9pbiA9IFwibWl0ZXJcIikgb2YgYSBicnVzaCdzXG4gICAqIEB0eXBlIE51bWJlclxuICAgKiBAZGVmYXVsdFxuICAgKi9cbiAgc3Ryb2tlTWl0ZXJMaW1pdDogICAgICAgICAxMCxcblxuICAvKipcbiAgICogU3Ryb2tlIERhc2ggQXJyYXkuXG4gICAqIEB0eXBlIEFycmF5XG4gICAqIEBkZWZhdWx0XG4gICAqL1xuICBzdHJva2VEYXNoQXJyYXk6IG51bGwsXG5cbiAgLyoqXG4gICAqIFdoZW4gYHRydWVgLCB0aGUgZnJlZSBkcmF3aW5nIGlzIGxpbWl0ZWQgdG8gdGhlIHdoaXRlYm9hcmQgc2l6ZS4gRGVmYXVsdCB0byBmYWxzZS5cbiAgICogQHR5cGUgQm9vbGVhblxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAqL1xuXG4gIGxpbWl0ZWRUb0NhbnZhc1NpemU6IGZhbHNlLFxuXG5cbiAgLyoqXG4gICAqIFNldHMgYnJ1c2ggc3R5bGVzXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHhcbiAgICovXG4gIF9zZXRCcnVzaFN0eWxlczogZnVuY3Rpb24gKGN0eCkge1xuICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMuY29sb3I7XG4gICAgY3R4LmxpbmVXaWR0aCA9IHRoaXMud2lkdGg7XG4gICAgY3R4LmxpbmVDYXAgPSB0aGlzLnN0cm9rZUxpbmVDYXA7XG4gICAgY3R4Lm1pdGVyTGltaXQgPSB0aGlzLnN0cm9rZU1pdGVyTGltaXQ7XG4gICAgY3R4LmxpbmVKb2luID0gdGhpcy5zdHJva2VMaW5lSm9pbjtcbiAgICBjdHguc2V0TGluZURhc2godGhpcy5zdHJva2VEYXNoQXJyYXkgfHwgW10pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSB0cmFuc2Zvcm1hdGlvbiBvbiBnaXZlbiBjb250ZXh0XG4gICAqIEBwYXJhbSB7UmVuZGVyaW5nQ29udGV4dDJkfSBjdHggY29udGV4dCB0byByZW5kZXIgb25cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zYXZlQW5kVHJhbnNmb3JtOiBmdW5jdGlvbihjdHgpIHtcbiAgICB2YXIgdiA9IHRoaXMuY2FudmFzLnZpZXdwb3J0VHJhbnNmb3JtO1xuICAgIGN0eC5zYXZlKCk7XG4gICAgY3R4LnRyYW5zZm9ybSh2WzBdLCB2WzFdLCB2WzJdLCB2WzNdLCB2WzRdLCB2WzVdKTtcbiAgfSxcblxuICAvKipcbiAgICogU2V0cyBicnVzaCBzaGFkb3cgc3R5bGVzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc2V0U2hhZG93OiBmdW5jdGlvbigpIHtcbiAgICBpZiAoIXRoaXMuc2hhZG93KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGNhbnZhcyA9IHRoaXMuY2FudmFzLFxuICAgICAgICBzaGFkb3cgPSB0aGlzLnNoYWRvdyxcbiAgICAgICAgY3R4ID0gY2FudmFzLmNvbnRleHRUb3AsXG4gICAgICAgIHpvb20gPSBjYW52YXMuZ2V0Wm9vbSgpO1xuICAgIGlmIChjYW52YXMgJiYgY2FudmFzLl9pc1JldGluYVNjYWxpbmcoKSkge1xuICAgICAgem9vbSAqPSBmYWJyaWMuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICB9XG5cbiAgICBjdHguc2hhZG93Q29sb3IgPSBzaGFkb3cuY29sb3I7XG4gICAgY3R4LnNoYWRvd0JsdXIgPSBzaGFkb3cuYmx1ciAqIHpvb207XG4gICAgY3R4LnNoYWRvd09mZnNldFggPSBzaGFkb3cub2Zmc2V0WCAqIHpvb207XG4gICAgY3R4LnNoYWRvd09mZnNldFkgPSBzaGFkb3cub2Zmc2V0WSAqIHpvb207XG4gIH0sXG5cbiAgbmVlZHNGdWxsUmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgY29sb3IgPSBuZXcgZmFicmljLkNvbG9yKHRoaXMuY29sb3IpO1xuICAgIHJldHVybiBjb2xvci5nZXRBbHBoYSgpIDwgMSB8fCAhIXRoaXMuc2hhZG93O1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGJydXNoIHNoYWRvdyBzdHlsZXNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9yZXNldFNoYWRvdzogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGN0eCA9IHRoaXMuY2FudmFzLmNvbnRleHRUb3A7XG5cbiAgICBjdHguc2hhZG93Q29sb3IgPSAnJztcbiAgICBjdHguc2hhZG93Qmx1ciA9IGN0eC5zaGFkb3dPZmZzZXRYID0gY3R4LnNoYWRvd09mZnNldFkgPSAwO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDaGVjayBpcyBwb2ludGVyIGlzIG91dHNpZGUgY2FudmFzIGJvdW5kYXJpZXNcbiAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50ZXJcbiAgICogQHByaXZhdGVcbiAgKi9cbiAgX2lzT3V0U2lkZUNhbnZhczogZnVuY3Rpb24ocG9pbnRlcikge1xuICAgIHJldHVybiBwb2ludGVyLnggPCAwIHx8IHBvaW50ZXIueCA+IHRoaXMuY2FudmFzLmdldFdpZHRoKCkgfHwgcG9pbnRlci55IDwgMCB8fCBwb2ludGVyLnkgPiB0aGlzLmNhbnZhcy5nZXRIZWlnaHQoKTtcbiAgfVxufSk7XG5cblxuKGZ1bmN0aW9uKCkge1xuICAvKipcbiAgICogUGVuY2lsQnJ1c2ggY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5QZW5jaWxCcnVzaFxuICAgKiBAZXh0ZW5kcyBmYWJyaWMuQmFzZUJydXNoXG4gICAqL1xuICBmYWJyaWMuUGVuY2lsQnJ1c2ggPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcyhmYWJyaWMuQmFzZUJydXNoLCAvKiogQGxlbmRzIGZhYnJpYy5QZW5jaWxCcnVzaC5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogRGlzY2FyZCBwb2ludHMgdGhhdCBhcmUgbGVzcyB0aGFuIGBkZWNpbWF0ZWAgcGl4ZWwgZGlzdGFudCBmcm9tIGVhY2ggb3RoZXJcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdCAwLjRcbiAgICAgKi9cbiAgICBkZWNpbWF0ZTogMC40LFxuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYSBzdHJhaWdodCBsaW5lIGJldHdlZW4gbGFzdCByZWNvcmRlZCBwb2ludCB0byBjdXJyZW50IHBvaW50ZXJcbiAgICAgKiBVc2VkIGZvciBgc2hpZnRgIGZ1bmN0aW9uYWxpdHlcbiAgICAgKlxuICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIGRyYXdTdHJhaWdodExpbmU6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogVGhlIGV2ZW50IG1vZGlmaWVyIGtleSB0aGF0IG1ha2VzIHRoZSBicnVzaCBkcmF3IGEgc3RyYWlnaHQgbGluZS5cbiAgICAgKiBJZiBgbnVsbGAgb3IgJ25vbmUnIG9yIGFueSBvdGhlciBzdHJpbmcgdGhhdCBpcyBub3QgYSBtb2RpZmllciBrZXkgdGhlIGZlYXR1cmUgaXMgZGlzYWJsZWQuXG4gICAgICogQHR5cGUgeydhbHRLZXknIHwgJ3NoaWZ0S2V5JyB8ICdjdHJsS2V5JyB8ICdub25lJyB8IHVuZGVmaW5lZCB8IG51bGx9XG4gICAgICovXG4gICAgc3RyYWlnaHRMaW5lS2V5OiAnc2hpZnRLZXknLFxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5DYW52YXN9IGNhbnZhc1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5QZW5jaWxCcnVzaH0gSW5zdGFuY2Ugb2YgYSBwZW5jaWwgYnJ1c2hcbiAgICAgKi9cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbihjYW52YXMpIHtcbiAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xuICAgICAgdGhpcy5fcG9pbnRzID0gW107XG4gICAgfSxcblxuICAgIG5lZWRzRnVsbFJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FsbFN1cGVyKCduZWVkc0Z1bGxSZW5kZXInKSB8fCB0aGlzLl9oYXNTdHJhaWdodExpbmU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEludm9rZWQgaW5zaWRlIG9uIG1vdXNlIGRvd24gYW5kIG1vdXNlIG1vdmVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnRlclxuICAgICAqL1xuICAgIF9kcmF3U2VnbWVudDogZnVuY3Rpb24gKGN0eCwgcDEsIHAyKSB7XG4gICAgICB2YXIgbWlkUG9pbnQgPSBwMS5taWRQb2ludEZyb20ocDIpO1xuICAgICAgY3R4LnF1YWRyYXRpY0N1cnZlVG8ocDEueCwgcDEueSwgbWlkUG9pbnQueCwgbWlkUG9pbnQueSk7XG4gICAgICByZXR1cm4gbWlkUG9pbnQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEludm9rZWQgb24gbW91c2UgZG93blxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludGVyXG4gICAgICovXG4gICAgb25Nb3VzZURvd246IGZ1bmN0aW9uKHBvaW50ZXIsIG9wdGlvbnMpIHtcbiAgICAgIGlmICghdGhpcy5jYW52YXMuX2lzTWFpbkV2ZW50KG9wdGlvbnMuZSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5kcmF3U3RyYWlnaHRMaW5lID0gb3B0aW9ucy5lW3RoaXMuc3RyYWlnaHRMaW5lS2V5XTtcbiAgICAgIHRoaXMuX3ByZXBhcmVGb3JEcmF3aW5nKHBvaW50ZXIpO1xuICAgICAgLy8gY2FwdHVyZSBjb29yZGluYXRlcyBpbW1lZGlhdGVseVxuICAgICAgLy8gdGhpcyBhbGxvd3MgdG8gZHJhdyBkb3RzICh3aGVuIG1vdmVtZW50IG5ldmVyIG9jY3VycylcbiAgICAgIHRoaXMuX2NhcHR1cmVEcmF3aW5nUGF0aChwb2ludGVyKTtcbiAgICAgIHRoaXMuX3JlbmRlcigpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VkIG9uIG1vdXNlIG1vdmVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnRlclxuICAgICAqL1xuICAgIG9uTW91c2VNb3ZlOiBmdW5jdGlvbihwb2ludGVyLCBvcHRpb25zKSB7XG4gICAgICBpZiAoIXRoaXMuY2FudmFzLl9pc01haW5FdmVudChvcHRpb25zLmUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuZHJhd1N0cmFpZ2h0TGluZSA9IG9wdGlvbnMuZVt0aGlzLnN0cmFpZ2h0TGluZUtleV07XG4gICAgICBpZiAodGhpcy5saW1pdGVkVG9DYW52YXNTaXplID09PSB0cnVlICYmIHRoaXMuX2lzT3V0U2lkZUNhbnZhcyhwb2ludGVyKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fY2FwdHVyZURyYXdpbmdQYXRoKHBvaW50ZXIpICYmIHRoaXMuX3BvaW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGlmICh0aGlzLm5lZWRzRnVsbFJlbmRlcigpKSB7XG4gICAgICAgICAgLy8gcmVkcmF3IGN1cnZlXG4gICAgICAgICAgLy8gY2xlYXIgdG9wIGNhbnZhc1xuICAgICAgICAgIHRoaXMuY2FudmFzLmNsZWFyQ29udGV4dCh0aGlzLmNhbnZhcy5jb250ZXh0VG9wKTtcbiAgICAgICAgICB0aGlzLl9yZW5kZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5fcG9pbnRzLCBsZW5ndGggPSBwb2ludHMubGVuZ3RoLCBjdHggPSB0aGlzLmNhbnZhcy5jb250ZXh0VG9wO1xuICAgICAgICAgIC8vIGRyYXcgdGhlIGN1cnZlIHVwZGF0ZVxuICAgICAgICAgIHRoaXMuX3NhdmVBbmRUcmFuc2Zvcm0oY3R4KTtcbiAgICAgICAgICBpZiAodGhpcy5vbGRFbmQpIHtcbiAgICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGN0eC5tb3ZlVG8odGhpcy5vbGRFbmQueCwgdGhpcy5vbGRFbmQueSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMub2xkRW5kID0gdGhpcy5fZHJhd1NlZ21lbnQoY3R4LCBwb2ludHNbbGVuZ3RoIC0gMl0sIHBvaW50c1tsZW5ndGggLSAxXSwgdHJ1ZSk7XG4gICAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSW52b2tlZCBvbiBtb3VzZSB1cFxuICAgICAqL1xuICAgIG9uTW91c2VVcDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgaWYgKCF0aGlzLmNhbnZhcy5faXNNYWluRXZlbnQob3B0aW9ucy5lKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZHJhd1N0cmFpZ2h0TGluZSA9IGZhbHNlO1xuICAgICAgdGhpcy5vbGRFbmQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLl9maW5hbGl6ZUFuZEFkZFBhdGgoKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnRlciBBY3R1YWwgbW91c2UgcG9zaXRpb24gcmVsYXRlZCB0byB0aGUgY2FudmFzLlxuICAgICAqL1xuICAgIF9wcmVwYXJlRm9yRHJhd2luZzogZnVuY3Rpb24ocG9pbnRlcikge1xuXG4gICAgICB2YXIgcCA9IG5ldyBmYWJyaWMuUG9pbnQocG9pbnRlci54LCBwb2ludGVyLnkpO1xuXG4gICAgICB0aGlzLl9yZXNldCgpO1xuICAgICAgdGhpcy5fYWRkUG9pbnQocCk7XG4gICAgICB0aGlzLmNhbnZhcy5jb250ZXh0VG9wLm1vdmVUbyhwLngsIHAueSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IHBvaW50IFBvaW50IHRvIGJlIGFkZGVkIHRvIHBvaW50cyBhcnJheVxuICAgICAqL1xuICAgIF9hZGRQb2ludDogZnVuY3Rpb24ocG9pbnQpIHtcbiAgICAgIGlmICh0aGlzLl9wb2ludHMubGVuZ3RoID4gMSAmJiBwb2ludC5lcSh0aGlzLl9wb2ludHNbdGhpcy5fcG9pbnRzLmxlbmd0aCAtIDFdKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5kcmF3U3RyYWlnaHRMaW5lICYmIHRoaXMuX3BvaW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHRoaXMuX2hhc1N0cmFpZ2h0TGluZSA9IHRydWU7XG4gICAgICAgIHRoaXMuX3BvaW50cy5wb3AoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3BvaW50cy5wdXNoKHBvaW50KTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDbGVhciBwb2ludHMgYXJyYXkgYW5kIHNldCBjb250ZXh0VG9wIGNhbnZhcyBzdHlsZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZXNldDogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLl9wb2ludHMgPSBbXTtcbiAgICAgIHRoaXMuX3NldEJydXNoU3R5bGVzKHRoaXMuY2FudmFzLmNvbnRleHRUb3ApO1xuICAgICAgdGhpcy5fc2V0U2hhZG93KCk7XG4gICAgICB0aGlzLl9oYXNTdHJhaWdodExpbmUgPSBmYWxzZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnRlciBBY3R1YWwgbW91c2UgcG9zaXRpb24gcmVsYXRlZCB0byB0aGUgY2FudmFzLlxuICAgICAqL1xuICAgIF9jYXB0dXJlRHJhd2luZ1BhdGg6IGZ1bmN0aW9uKHBvaW50ZXIpIHtcbiAgICAgIHZhciBwb2ludGVyUG9pbnQgPSBuZXcgZmFicmljLlBvaW50KHBvaW50ZXIueCwgcG9pbnRlci55KTtcbiAgICAgIHJldHVybiB0aGlzLl9hZGRQb2ludChwb2ludGVyUG9pbnQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEcmF3IGEgc21vb3RoIHBhdGggb24gdGhlIHRvcENhbnZhcyB1c2luZyBxdWFkcmF0aWNDdXJ2ZVRvXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gW2N0eF1cbiAgICAgKi9cbiAgICBfcmVuZGVyOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIHZhciBpLCBsZW4sXG4gICAgICAgICAgcDEgPSB0aGlzLl9wb2ludHNbMF0sXG4gICAgICAgICAgcDIgPSB0aGlzLl9wb2ludHNbMV07XG4gICAgICBjdHggPSBjdHggfHwgdGhpcy5jYW52YXMuY29udGV4dFRvcDtcbiAgICAgIHRoaXMuX3NhdmVBbmRUcmFuc2Zvcm0oY3R4KTtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIC8vaWYgd2Ugb25seSBoYXZlIDIgcG9pbnRzIGluIHRoZSBwYXRoIGFuZCB0aGV5IGFyZSB0aGUgc2FtZVxuICAgICAgLy9pdCBtZWFucyB0aGF0IHRoZSB1c2VyIG9ubHkgY2xpY2tlZCB0aGUgY2FudmFzIHdpdGhvdXQgbW92aW5nIHRoZSBtb3VzZVxuICAgICAgLy90aGVuIHdlIHNob3VsZCBiZSBkcmF3aW5nIGEgZG90LiBBIHBhdGggaXNuJ3QgZHJhd24gYmV0d2VlbiB0d28gaWRlbnRpY2FsIGRvdHNcbiAgICAgIC8vdGhhdCdzIHdoeSB3ZSBzZXQgdGhlbSBhcGFydCBhIGJpdFxuICAgICAgaWYgKHRoaXMuX3BvaW50cy5sZW5ndGggPT09IDIgJiYgcDEueCA9PT0gcDIueCAmJiBwMS55ID09PSBwMi55KSB7XG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMud2lkdGggLyAxMDAwO1xuICAgICAgICBwMSA9IG5ldyBmYWJyaWMuUG9pbnQocDEueCwgcDEueSk7XG4gICAgICAgIHAyID0gbmV3IGZhYnJpYy5Qb2ludChwMi54LCBwMi55KTtcbiAgICAgICAgcDEueCAtPSB3aWR0aDtcbiAgICAgICAgcDIueCArPSB3aWR0aDtcbiAgICAgIH1cbiAgICAgIGN0eC5tb3ZlVG8ocDEueCwgcDEueSk7XG5cbiAgICAgIGZvciAoaSA9IDEsIGxlbiA9IHRoaXMuX3BvaW50cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAvLyB3ZSBwaWNrIHRoZSBwb2ludCBiZXR3ZWVuIHBpICsgMSAmIHBpICsgMiBhcyB0aGVcbiAgICAgICAgLy8gZW5kIHBvaW50IGFuZCBwMSBhcyBvdXIgY29udHJvbCBwb2ludC5cbiAgICAgICAgdGhpcy5fZHJhd1NlZ21lbnQoY3R4LCBwMSwgcDIpO1xuICAgICAgICBwMSA9IHRoaXMuX3BvaW50c1tpXTtcbiAgICAgICAgcDIgPSB0aGlzLl9wb2ludHNbaSArIDFdO1xuICAgICAgfVxuICAgICAgLy8gRHJhdyBsYXN0IGxpbmUgYXMgYSBzdHJhaWdodCBsaW5lIHdoaWxlXG4gICAgICAvLyB3ZSB3YWl0IGZvciB0aGUgbmV4dCBwb2ludCB0byBiZSBhYmxlIHRvIGNhbGN1bGF0ZVxuICAgICAgLy8gdGhlIGJlemllciBjb250cm9sIHBvaW50XG4gICAgICBjdHgubGluZVRvKHAxLngsIHAxLnkpO1xuICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgcG9pbnRzIHRvIFNWRyBwYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gcG9pbnRzIEFycmF5IG9mIHBvaW50c1xuICAgICAqIEByZXR1cm4geyhzdHJpbmd8bnVtYmVyKVtdW119IFNWRyBwYXRoIGNvbW1hbmRzXG4gICAgICovXG4gICAgY29udmVydFBvaW50c1RvU1ZHUGF0aDogZnVuY3Rpb24gKHBvaW50cykge1xuICAgICAgdmFyIGNvcnJlY3Rpb24gPSB0aGlzLndpZHRoIC8gMTAwMDtcbiAgICAgIHJldHVybiBmYWJyaWMudXRpbC5nZXRTbW9vdGhQYXRoRnJvbVBvaW50cyhwb2ludHMsIGNvcnJlY3Rpb24pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7KHN0cmluZ3xudW1iZXIpW11bXX0gcGF0aERhdGEgU1ZHIHBhdGggY29tbWFuZHNcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBfaXNFbXB0eVNWR1BhdGg6IGZ1bmN0aW9uIChwYXRoRGF0YSkge1xuICAgICAgdmFyIHBhdGhTdHJpbmcgPSBmYWJyaWMudXRpbC5qb2luUGF0aChwYXRoRGF0YSk7XG4gICAgICByZXR1cm4gcGF0aFN0cmluZyA9PT0gJ00gMCAwIFEgMCAwIDAgMCBMIDAgMCc7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgZmFicmljLlBhdGggb2JqZWN0IHRvIGFkZCBvbiBjYW52YXNcbiAgICAgKiBAcGFyYW0geyhzdHJpbmd8bnVtYmVyKVtdW119IHBhdGhEYXRhIFBhdGggZGF0YVxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5QYXRofSBQYXRoIHRvIGFkZCBvbiBjYW52YXNcbiAgICAgKi9cbiAgICBjcmVhdGVQYXRoOiBmdW5jdGlvbihwYXRoRGF0YSkge1xuICAgICAgdmFyIHBhdGggPSBuZXcgZmFicmljLlBhdGgocGF0aERhdGEsIHtcbiAgICAgICAgZmlsbDogbnVsbCxcbiAgICAgICAgc3Ryb2tlOiB0aGlzLmNvbG9yLFxuICAgICAgICBzdHJva2VXaWR0aDogdGhpcy53aWR0aCxcbiAgICAgICAgc3Ryb2tlTGluZUNhcDogdGhpcy5zdHJva2VMaW5lQ2FwLFxuICAgICAgICBzdHJva2VNaXRlckxpbWl0OiB0aGlzLnN0cm9rZU1pdGVyTGltaXQsXG4gICAgICAgIHN0cm9rZUxpbmVKb2luOiB0aGlzLnN0cm9rZUxpbmVKb2luLFxuICAgICAgICBzdHJva2VEYXNoQXJyYXk6IHRoaXMuc3Ryb2tlRGFzaEFycmF5LFxuICAgICAgfSk7XG4gICAgICBpZiAodGhpcy5zaGFkb3cpIHtcbiAgICAgICAgdGhpcy5zaGFkb3cuYWZmZWN0U3Ryb2tlID0gdHJ1ZTtcbiAgICAgICAgcGF0aC5zaGFkb3cgPSBuZXcgZmFicmljLlNoYWRvdyh0aGlzLnNoYWRvdyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwYXRoO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZWNpbWF0ZSBwb2ludHMgYXJyYXkgd2l0aCB0aGUgZGVjaW1hdGUgdmFsdWVcbiAgICAgKi9cbiAgICBkZWNpbWF0ZVBvaW50czogZnVuY3Rpb24ocG9pbnRzLCBkaXN0YW5jZSkge1xuICAgICAgaWYgKHBvaW50cy5sZW5ndGggPD0gMikge1xuICAgICAgICByZXR1cm4gcG9pbnRzO1xuICAgICAgfVxuICAgICAgdmFyIHpvb20gPSB0aGlzLmNhbnZhcy5nZXRab29tKCksIGFkanVzdGVkRGlzdGFuY2UgPSBNYXRoLnBvdyhkaXN0YW5jZSAvIHpvb20sIDIpLFxuICAgICAgICAgIGksIGwgPSBwb2ludHMubGVuZ3RoIC0gMSwgbGFzdFBvaW50ID0gcG9pbnRzWzBdLCBuZXdQb2ludHMgPSBbbGFzdFBvaW50XSxcbiAgICAgICAgICBjRGlzdGFuY2U7XG4gICAgICBmb3IgKGkgPSAxOyBpIDwgbCAtIDE7IGkrKykge1xuICAgICAgICBjRGlzdGFuY2UgPSBNYXRoLnBvdyhsYXN0UG9pbnQueCAtIHBvaW50c1tpXS54LCAyKSArIE1hdGgucG93KGxhc3RQb2ludC55IC0gcG9pbnRzW2ldLnksIDIpO1xuICAgICAgICBpZiAoY0Rpc3RhbmNlID49IGFkanVzdGVkRGlzdGFuY2UpIHtcbiAgICAgICAgICBsYXN0UG9pbnQgPSBwb2ludHNbaV07XG4gICAgICAgICAgbmV3UG9pbnRzLnB1c2gobGFzdFBvaW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiBBZGQgdGhlIGxhc3QgcG9pbnQgZnJvbSB0aGUgb3JpZ2luYWwgbGluZSB0byB0aGUgZW5kIG9mIHRoZSBhcnJheS5cbiAgICAgICAqIFRoaXMgZW5zdXJlcyBkZWNpbWF0ZSBkb2Vzbid0IGRlbGV0ZSB0aGUgbGFzdCBwb2ludCBvbiB0aGUgbGluZSwgYW5kIGVuc3VyZXMgdGhlIGxpbmUgaXMgPiAxIHBvaW50LlxuICAgICAgICovXG4gICAgICBuZXdQb2ludHMucHVzaChwb2ludHNbbF0pO1xuICAgICAgcmV0dXJuIG5ld1BvaW50cztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogT24gbW91c2V1cCBhZnRlciBkcmF3aW5nIHRoZSBwYXRoIG9uIGNvbnRleHRUb3AgY2FudmFzXG4gICAgICogd2UgdXNlIHRoZSBwb2ludHMgY2FwdHVyZWQgdG8gY3JlYXRlIGFuIG5ldyBmYWJyaWMgcGF0aCBvYmplY3RcbiAgICAgKiBhbmQgYWRkIGl0IHRvIHRoZSBmYWJyaWMgY2FudmFzLlxuICAgICAqL1xuICAgIF9maW5hbGl6ZUFuZEFkZFBhdGg6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGN0eCA9IHRoaXMuY2FudmFzLmNvbnRleHRUb3A7XG4gICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICBpZiAodGhpcy5kZWNpbWF0ZSkge1xuICAgICAgICB0aGlzLl9wb2ludHMgPSB0aGlzLmRlY2ltYXRlUG9pbnRzKHRoaXMuX3BvaW50cywgdGhpcy5kZWNpbWF0ZSk7XG4gICAgICB9XG4gICAgICB2YXIgcGF0aERhdGEgPSB0aGlzLmNvbnZlcnRQb2ludHNUb1NWR1BhdGgodGhpcy5fcG9pbnRzKTtcbiAgICAgIGlmICh0aGlzLl9pc0VtcHR5U1ZHUGF0aChwYXRoRGF0YSkpIHtcbiAgICAgICAgLy8gZG8gbm90IGNyZWF0ZSAwIHdpZHRoL2hlaWdodCBwYXRocywgYXMgdGhleSBhcmVcbiAgICAgICAgLy8gcmVuZGVyZWQgaW5jb25zaXN0ZW50bHkgYWNyb3NzIGJyb3dzZXJzXG4gICAgICAgIC8vIEZpcmVmb3ggNCwgZm9yIGV4YW1wbGUsIHJlbmRlcnMgYSBkb3QsXG4gICAgICAgIC8vIHdoZXJlYXMgQ2hyb21lIDEwIHJlbmRlcnMgbm90aGluZ1xuICAgICAgICB0aGlzLmNhbnZhcy5yZXF1ZXN0UmVuZGVyQWxsKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHBhdGggPSB0aGlzLmNyZWF0ZVBhdGgocGF0aERhdGEpO1xuICAgICAgdGhpcy5jYW52YXMuY2xlYXJDb250ZXh0KHRoaXMuY2FudmFzLmNvbnRleHRUb3ApO1xuICAgICAgdGhpcy5jYW52YXMuZmlyZSgnYmVmb3JlOnBhdGg6Y3JlYXRlZCcsIHsgcGF0aDogcGF0aCB9KTtcbiAgICAgIHRoaXMuY2FudmFzLmFkZChwYXRoKTtcbiAgICAgIHRoaXMuY2FudmFzLnJlcXVlc3RSZW5kZXJBbGwoKTtcbiAgICAgIHBhdGguc2V0Q29vcmRzKCk7XG4gICAgICB0aGlzLl9yZXNldFNoYWRvdygpO1xuXG5cbiAgICAgIC8vIGZpcmUgZXZlbnQgJ3BhdGgnIGNyZWF0ZWRcbiAgICAgIHRoaXMuY2FudmFzLmZpcmUoJ3BhdGg6Y3JlYXRlZCcsIHsgcGF0aDogcGF0aCB9KTtcbiAgICB9XG4gIH0pO1xufSkoKTtcblxuXG4vKipcbiAqIENpcmNsZUJydXNoIGNsYXNzXG4gKiBAY2xhc3MgZmFicmljLkNpcmNsZUJydXNoXG4gKi9cbmZhYnJpYy5DaXJjbGVCcnVzaCA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzKGZhYnJpYy5CYXNlQnJ1c2gsIC8qKiBAbGVuZHMgZmFicmljLkNpcmNsZUJydXNoLnByb3RvdHlwZSAqLyB7XG5cbiAgLyoqXG4gICAqIFdpZHRoIG9mIGEgYnJ1c2hcbiAgICogQHR5cGUgTnVtYmVyXG4gICAqIEBkZWZhdWx0XG4gICAqL1xuICB3aWR0aDogMTAsXG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7ZmFicmljLkNhbnZhc30gY2FudmFzXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5DaXJjbGVCcnVzaH0gSW5zdGFuY2Ugb2YgYSBjaXJjbGUgYnJ1c2hcbiAgICovXG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uKGNhbnZhcykge1xuICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xuICAgIHRoaXMucG9pbnRzID0gW107XG4gIH0sXG5cbiAgLyoqXG4gICAqIEludm9rZWQgaW5zaWRlIG9uIG1vdXNlIGRvd24gYW5kIG1vdXNlIG1vdmVcbiAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50ZXJcbiAgICovXG4gIGRyYXdEb3Q6IGZ1bmN0aW9uKHBvaW50ZXIpIHtcbiAgICB2YXIgcG9pbnQgPSB0aGlzLmFkZFBvaW50KHBvaW50ZXIpLFxuICAgICAgICBjdHggPSB0aGlzLmNhbnZhcy5jb250ZXh0VG9wO1xuICAgIHRoaXMuX3NhdmVBbmRUcmFuc2Zvcm0oY3R4KTtcbiAgICB0aGlzLmRvdChjdHgsIHBvaW50KTtcbiAgICBjdHgucmVzdG9yZSgpO1xuICB9LFxuXG4gIGRvdDogZnVuY3Rpb24oY3R4LCBwb2ludCkge1xuICAgIGN0eC5maWxsU3R5bGUgPSBwb2ludC5maWxsO1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHguYXJjKHBvaW50LngsIHBvaW50LnksIHBvaW50LnJhZGl1cywgMCwgTWF0aC5QSSAqIDIsIGZhbHNlKTtcbiAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgY3R4LmZpbGwoKTtcbiAgfSxcblxuICAvKipcbiAgICogSW52b2tlZCBvbiBtb3VzZSBkb3duXG4gICAqL1xuICBvbk1vdXNlRG93bjogZnVuY3Rpb24ocG9pbnRlcikge1xuICAgIHRoaXMucG9pbnRzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5jYW52YXMuY2xlYXJDb250ZXh0KHRoaXMuY2FudmFzLmNvbnRleHRUb3ApO1xuICAgIHRoaXMuX3NldFNoYWRvdygpO1xuICAgIHRoaXMuZHJhd0RvdChwb2ludGVyKTtcbiAgfSxcblxuICAvKipcbiAgICogUmVuZGVyIHRoZSBmdWxsIHN0YXRlIG9mIHRoZSBicnVzaFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3JlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGN0eCAgPSB0aGlzLmNhbnZhcy5jb250ZXh0VG9wLCBpLCBsZW4sXG4gICAgICAgIHBvaW50cyA9IHRoaXMucG9pbnRzO1xuICAgIHRoaXMuX3NhdmVBbmRUcmFuc2Zvcm0oY3R4KTtcbiAgICBmb3IgKGkgPSAwLCBsZW4gPSBwb2ludHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHRoaXMuZG90KGN0eCwgcG9pbnRzW2ldKTtcbiAgICB9XG4gICAgY3R4LnJlc3RvcmUoKTtcbiAgfSxcblxuICAvKipcbiAgICogSW52b2tlZCBvbiBtb3VzZSBtb3ZlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludGVyXG4gICAqL1xuICBvbk1vdXNlTW92ZTogZnVuY3Rpb24ocG9pbnRlcikge1xuICAgIGlmICh0aGlzLmxpbWl0ZWRUb0NhbnZhc1NpemUgPT09IHRydWUgJiYgdGhpcy5faXNPdXRTaWRlQ2FudmFzKHBvaW50ZXIpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLm5lZWRzRnVsbFJlbmRlcigpKSB7XG4gICAgICB0aGlzLmNhbnZhcy5jbGVhckNvbnRleHQodGhpcy5jYW52YXMuY29udGV4dFRvcCk7XG4gICAgICB0aGlzLmFkZFBvaW50KHBvaW50ZXIpO1xuICAgICAgdGhpcy5fcmVuZGVyKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5kcmF3RG90KHBvaW50ZXIpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogSW52b2tlZCBvbiBtb3VzZSB1cFxuICAgKi9cbiAgb25Nb3VzZVVwOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgb3JpZ2luYWxSZW5kZXJPbkFkZFJlbW92ZSA9IHRoaXMuY2FudmFzLnJlbmRlck9uQWRkUmVtb3ZlLCBpLCBsZW47XG4gICAgdGhpcy5jYW52YXMucmVuZGVyT25BZGRSZW1vdmUgPSBmYWxzZTtcblxuICAgIHZhciBjaXJjbGVzID0gW107XG5cbiAgICBmb3IgKGkgPSAwLCBsZW4gPSB0aGlzLnBvaW50cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgdmFyIHBvaW50ID0gdGhpcy5wb2ludHNbaV0sXG4gICAgICAgICAgY2lyY2xlID0gbmV3IGZhYnJpYy5DaXJjbGUoe1xuICAgICAgICAgICAgcmFkaXVzOiBwb2ludC5yYWRpdXMsXG4gICAgICAgICAgICBsZWZ0OiBwb2ludC54LFxuICAgICAgICAgICAgdG9wOiBwb2ludC55LFxuICAgICAgICAgICAgb3JpZ2luWDogJ2NlbnRlcicsXG4gICAgICAgICAgICBvcmlnaW5ZOiAnY2VudGVyJyxcbiAgICAgICAgICAgIGZpbGw6IHBvaW50LmZpbGxcbiAgICAgICAgICB9KTtcblxuICAgICAgdGhpcy5zaGFkb3cgJiYgKGNpcmNsZS5zaGFkb3cgPSBuZXcgZmFicmljLlNoYWRvdyh0aGlzLnNoYWRvdykpO1xuXG4gICAgICBjaXJjbGVzLnB1c2goY2lyY2xlKTtcbiAgICB9XG4gICAgdmFyIGdyb3VwID0gbmV3IGZhYnJpYy5Hcm91cChjaXJjbGVzKTtcbiAgICBncm91cC5jYW52YXMgPSB0aGlzLmNhbnZhcztcblxuICAgIHRoaXMuY2FudmFzLmZpcmUoJ2JlZm9yZTpwYXRoOmNyZWF0ZWQnLCB7IHBhdGg6IGdyb3VwIH0pO1xuICAgIHRoaXMuY2FudmFzLmFkZChncm91cCk7XG4gICAgdGhpcy5jYW52YXMuZmlyZSgncGF0aDpjcmVhdGVkJywgeyBwYXRoOiBncm91cCB9KTtcblxuICAgIHRoaXMuY2FudmFzLmNsZWFyQ29udGV4dCh0aGlzLmNhbnZhcy5jb250ZXh0VG9wKTtcbiAgICB0aGlzLl9yZXNldFNoYWRvdygpO1xuICAgIHRoaXMuY2FudmFzLnJlbmRlck9uQWRkUmVtb3ZlID0gb3JpZ2luYWxSZW5kZXJPbkFkZFJlbW92ZTtcbiAgICB0aGlzLmNhbnZhcy5yZXF1ZXN0UmVuZGVyQWxsKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludGVyXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH0gSnVzdCBhZGRlZCBwb2ludGVyIHBvaW50XG4gICAqL1xuICBhZGRQb2ludDogZnVuY3Rpb24ocG9pbnRlcikge1xuICAgIHZhciBwb2ludGVyUG9pbnQgPSBuZXcgZmFicmljLlBvaW50KHBvaW50ZXIueCwgcG9pbnRlci55KSxcblxuICAgICAgICBjaXJjbGVSYWRpdXMgPSBmYWJyaWMudXRpbC5nZXRSYW5kb21JbnQoXG4gICAgICAgICAgTWF0aC5tYXgoMCwgdGhpcy53aWR0aCAtIDIwKSwgdGhpcy53aWR0aCArIDIwKSAvIDIsXG5cbiAgICAgICAgY2lyY2xlQ29sb3IgPSBuZXcgZmFicmljLkNvbG9yKHRoaXMuY29sb3IpXG4gICAgICAgICAgLnNldEFscGhhKGZhYnJpYy51dGlsLmdldFJhbmRvbUludCgwLCAxMDApIC8gMTAwKVxuICAgICAgICAgIC50b1JnYmEoKTtcblxuICAgIHBvaW50ZXJQb2ludC5yYWRpdXMgPSBjaXJjbGVSYWRpdXM7XG4gICAgcG9pbnRlclBvaW50LmZpbGwgPSBjaXJjbGVDb2xvcjtcblxuICAgIHRoaXMucG9pbnRzLnB1c2gocG9pbnRlclBvaW50KTtcblxuICAgIHJldHVybiBwb2ludGVyUG9pbnQ7XG4gIH1cbn0pO1xuXG5cbi8qKlxuICogU3ByYXlCcnVzaCBjbGFzc1xuICogQGNsYXNzIGZhYnJpYy5TcHJheUJydXNoXG4gKi9cbmZhYnJpYy5TcHJheUJydXNoID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3MoIGZhYnJpYy5CYXNlQnJ1c2gsIC8qKiBAbGVuZHMgZmFicmljLlNwcmF5QnJ1c2gucHJvdG90eXBlICovIHtcblxuICAvKipcbiAgICogV2lkdGggb2YgYSBzcHJheVxuICAgKiBAdHlwZSBOdW1iZXJcbiAgICogQGRlZmF1bHRcbiAgICovXG4gIHdpZHRoOiAgICAgICAgICAgICAgMTAsXG5cbiAgLyoqXG4gICAqIERlbnNpdHkgb2YgYSBzcHJheSAobnVtYmVyIG9mIGRvdHMgcGVyIGNodW5rKVxuICAgKiBAdHlwZSBOdW1iZXJcbiAgICogQGRlZmF1bHRcbiAgICovXG4gIGRlbnNpdHk6ICAgICAgICAgICAgMjAsXG5cbiAgLyoqXG4gICAqIFdpZHRoIG9mIHNwcmF5IGRvdHNcbiAgICogQHR5cGUgTnVtYmVyXG4gICAqIEBkZWZhdWx0XG4gICAqL1xuICBkb3RXaWR0aDogICAgICAgICAgIDEsXG5cbiAgLyoqXG4gICAqIFdpZHRoIHZhcmlhbmNlIG9mIHNwcmF5IGRvdHNcbiAgICogQHR5cGUgTnVtYmVyXG4gICAqIEBkZWZhdWx0XG4gICAqL1xuICBkb3RXaWR0aFZhcmlhbmNlOiAgIDEsXG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgb3BhY2l0eSBvZiBhIGRvdCBzaG91bGQgYmUgcmFuZG9tXG4gICAqIEB0eXBlIEJvb2xlYW5cbiAgICogQGRlZmF1bHRcbiAgICovXG4gIHJhbmRvbU9wYWNpdHk6ICAgICAgICBmYWxzZSxcblxuICAvKipcbiAgICogV2hldGhlciBvdmVybGFwcGluZyBkb3RzIChyZWN0YW5nbGVzKSBzaG91bGQgYmUgcmVtb3ZlZCAoZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMpXG4gICAqIEB0eXBlIEJvb2xlYW5cbiAgICogQGRlZmF1bHRcbiAgICovXG4gIG9wdGltaXplT3ZlcmxhcHBpbmc6ICB0cnVlLFxuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0ge2ZhYnJpYy5DYW52YXN9IGNhbnZhc1xuICAgKiBAcmV0dXJuIHtmYWJyaWMuU3ByYXlCcnVzaH0gSW5zdGFuY2Ugb2YgYSBzcHJheSBicnVzaFxuICAgKi9cbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oY2FudmFzKSB7XG4gICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XG4gICAgdGhpcy5zcHJheUNodW5rcyA9IFtdO1xuICB9LFxuXG4gIC8qKlxuICAgKiBJbnZva2VkIG9uIG1vdXNlIGRvd25cbiAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50ZXJcbiAgICovXG4gIG9uTW91c2VEb3duOiBmdW5jdGlvbihwb2ludGVyKSB7XG4gICAgdGhpcy5zcHJheUNodW5rcy5sZW5ndGggPSAwO1xuICAgIHRoaXMuY2FudmFzLmNsZWFyQ29udGV4dCh0aGlzLmNhbnZhcy5jb250ZXh0VG9wKTtcbiAgICB0aGlzLl9zZXRTaGFkb3coKTtcblxuICAgIHRoaXMuYWRkU3ByYXlDaHVuayhwb2ludGVyKTtcbiAgICB0aGlzLnJlbmRlcih0aGlzLnNwcmF5Q2h1bmtQb2ludHMpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBJbnZva2VkIG9uIG1vdXNlIG1vdmVcbiAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50ZXJcbiAgICovXG4gIG9uTW91c2VNb3ZlOiBmdW5jdGlvbihwb2ludGVyKSB7XG4gICAgaWYgKHRoaXMubGltaXRlZFRvQ2FudmFzU2l6ZSA9PT0gdHJ1ZSAmJiB0aGlzLl9pc091dFNpZGVDYW52YXMocG9pbnRlcikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5hZGRTcHJheUNodW5rKHBvaW50ZXIpO1xuICAgIHRoaXMucmVuZGVyKHRoaXMuc3ByYXlDaHVua1BvaW50cyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEludm9rZWQgb24gbW91c2UgdXBcbiAgICovXG4gIG9uTW91c2VVcDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIG9yaWdpbmFsUmVuZGVyT25BZGRSZW1vdmUgPSB0aGlzLmNhbnZhcy5yZW5kZXJPbkFkZFJlbW92ZTtcbiAgICB0aGlzLmNhbnZhcy5yZW5kZXJPbkFkZFJlbW92ZSA9IGZhbHNlO1xuXG4gICAgdmFyIHJlY3RzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMCwgaWxlbiA9IHRoaXMuc3ByYXlDaHVua3MubGVuZ3RoOyBpIDwgaWxlbjsgaSsrKSB7XG4gICAgICB2YXIgc3ByYXlDaHVuayA9IHRoaXMuc3ByYXlDaHVua3NbaV07XG5cbiAgICAgIGZvciAodmFyIGogPSAwLCBqbGVuID0gc3ByYXlDaHVuay5sZW5ndGg7IGogPCBqbGVuOyBqKyspIHtcblxuICAgICAgICB2YXIgcmVjdCA9IG5ldyBmYWJyaWMuUmVjdCh7XG4gICAgICAgICAgd2lkdGg6IHNwcmF5Q2h1bmtbal0ud2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiBzcHJheUNodW5rW2pdLndpZHRoLFxuICAgICAgICAgIGxlZnQ6IHNwcmF5Q2h1bmtbal0ueCArIDEsXG4gICAgICAgICAgdG9wOiBzcHJheUNodW5rW2pdLnkgKyAxLFxuICAgICAgICAgIG9yaWdpblg6ICdjZW50ZXInLFxuICAgICAgICAgIG9yaWdpblk6ICdjZW50ZXInLFxuICAgICAgICAgIGZpbGw6IHRoaXMuY29sb3JcbiAgICAgICAgfSk7XG4gICAgICAgIHJlY3RzLnB1c2gocmVjdCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMub3B0aW1pemVPdmVybGFwcGluZykge1xuICAgICAgcmVjdHMgPSB0aGlzLl9nZXRPcHRpbWl6ZWRSZWN0cyhyZWN0cyk7XG4gICAgfVxuXG4gICAgdmFyIGdyb3VwID0gbmV3IGZhYnJpYy5Hcm91cChyZWN0cyk7XG4gICAgdGhpcy5zaGFkb3cgJiYgZ3JvdXAuc2V0KCdzaGFkb3cnLCBuZXcgZmFicmljLlNoYWRvdyh0aGlzLnNoYWRvdykpO1xuICAgIHRoaXMuY2FudmFzLmZpcmUoJ2JlZm9yZTpwYXRoOmNyZWF0ZWQnLCB7IHBhdGg6IGdyb3VwIH0pO1xuICAgIHRoaXMuY2FudmFzLmFkZChncm91cCk7XG4gICAgdGhpcy5jYW52YXMuZmlyZSgncGF0aDpjcmVhdGVkJywgeyBwYXRoOiBncm91cCB9KTtcblxuICAgIHRoaXMuY2FudmFzLmNsZWFyQ29udGV4dCh0aGlzLmNhbnZhcy5jb250ZXh0VG9wKTtcbiAgICB0aGlzLl9yZXNldFNoYWRvdygpO1xuICAgIHRoaXMuY2FudmFzLnJlbmRlck9uQWRkUmVtb3ZlID0gb3JpZ2luYWxSZW5kZXJPbkFkZFJlbW92ZTtcbiAgICB0aGlzLmNhbnZhcy5yZXF1ZXN0UmVuZGVyQWxsKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IHJlY3RzXG4gICAqL1xuICBfZ2V0T3B0aW1pemVkUmVjdHM6IGZ1bmN0aW9uKHJlY3RzKSB7XG5cbiAgICAvLyBhdm9pZCBjcmVhdGluZyBkdXBsaWNhdGUgcmVjdHMgYXQgdGhlIHNhbWUgY29vcmRpbmF0ZXNcbiAgICB2YXIgdW5pcXVlUmVjdHMgPSB7IH0sIGtleSwgaSwgbGVuO1xuXG4gICAgZm9yIChpID0gMCwgbGVuID0gcmVjdHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGtleSA9IHJlY3RzW2ldLmxlZnQgKyAnJyArIHJlY3RzW2ldLnRvcDtcbiAgICAgIGlmICghdW5pcXVlUmVjdHNba2V5XSkge1xuICAgICAgICB1bmlxdWVSZWN0c1trZXldID0gcmVjdHNbaV07XG4gICAgICB9XG4gICAgfVxuICAgIHZhciB1bmlxdWVSZWN0c0FycmF5ID0gW107XG4gICAgZm9yIChrZXkgaW4gdW5pcXVlUmVjdHMpIHtcbiAgICAgIHVuaXF1ZVJlY3RzQXJyYXkucHVzaCh1bmlxdWVSZWN0c1trZXldKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdW5pcXVlUmVjdHNBcnJheTtcbiAgfSxcblxuICAvKipcbiAgICogUmVuZGVyIG5ldyBjaHVuayBvZiBzcHJheSBicnVzaFxuICAgKi9cbiAgcmVuZGVyOiBmdW5jdGlvbihzcHJheUNodW5rKSB7XG4gICAgdmFyIGN0eCA9IHRoaXMuY2FudmFzLmNvbnRleHRUb3AsIGksIGxlbjtcbiAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvcjtcblxuICAgIHRoaXMuX3NhdmVBbmRUcmFuc2Zvcm0oY3R4KTtcblxuICAgIGZvciAoaSA9IDAsIGxlbiA9IHNwcmF5Q2h1bmsubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHZhciBwb2ludCA9IHNwcmF5Q2h1bmtbaV07XG4gICAgICBpZiAodHlwZW9mIHBvaW50Lm9wYWNpdHkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IHBvaW50Lm9wYWNpdHk7XG4gICAgICB9XG4gICAgICBjdHguZmlsbFJlY3QocG9pbnQueCwgcG9pbnQueSwgcG9pbnQud2lkdGgsIHBvaW50LndpZHRoKTtcbiAgICB9XG4gICAgY3R4LnJlc3RvcmUoKTtcbiAgfSxcblxuICAvKipcbiAgICogUmVuZGVyIGFsbCBzcHJheSBjaHVua3NcbiAgICovXG4gIF9yZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjdHggPSB0aGlzLmNhbnZhcy5jb250ZXh0VG9wLCBpLCBpbGVuO1xuICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xuXG4gICAgdGhpcy5fc2F2ZUFuZFRyYW5zZm9ybShjdHgpO1xuXG4gICAgZm9yIChpID0gMCwgaWxlbiA9IHRoaXMuc3ByYXlDaHVua3MubGVuZ3RoOyBpIDwgaWxlbjsgaSsrKSB7XG4gICAgICB0aGlzLnJlbmRlcih0aGlzLnNwcmF5Q2h1bmtzW2ldKTtcbiAgICB9XG4gICAgY3R4LnJlc3RvcmUoKTtcbiAgfSxcblxuICAvKipcbiAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50ZXJcbiAgICovXG4gIGFkZFNwcmF5Q2h1bms6IGZ1bmN0aW9uKHBvaW50ZXIpIHtcbiAgICB0aGlzLnNwcmF5Q2h1bmtQb2ludHMgPSBbXTtcblxuICAgIHZhciB4LCB5LCB3aWR0aCwgcmFkaXVzID0gdGhpcy53aWR0aCAvIDIsIGk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5kZW5zaXR5OyBpKyspIHtcblxuICAgICAgeCA9IGZhYnJpYy51dGlsLmdldFJhbmRvbUludChwb2ludGVyLnggLSByYWRpdXMsIHBvaW50ZXIueCArIHJhZGl1cyk7XG4gICAgICB5ID0gZmFicmljLnV0aWwuZ2V0UmFuZG9tSW50KHBvaW50ZXIueSAtIHJhZGl1cywgcG9pbnRlci55ICsgcmFkaXVzKTtcblxuICAgICAgaWYgKHRoaXMuZG90V2lkdGhWYXJpYW5jZSkge1xuICAgICAgICB3aWR0aCA9IGZhYnJpYy51dGlsLmdldFJhbmRvbUludChcbiAgICAgICAgICAvLyBib3R0b20gY2xhbXAgd2lkdGggdG8gMVxuICAgICAgICAgIE1hdGgubWF4KDEsIHRoaXMuZG90V2lkdGggLSB0aGlzLmRvdFdpZHRoVmFyaWFuY2UpLFxuICAgICAgICAgIHRoaXMuZG90V2lkdGggKyB0aGlzLmRvdFdpZHRoVmFyaWFuY2UpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHdpZHRoID0gdGhpcy5kb3RXaWR0aDtcbiAgICAgIH1cblxuICAgICAgdmFyIHBvaW50ID0gbmV3IGZhYnJpYy5Qb2ludCh4LCB5KTtcbiAgICAgIHBvaW50LndpZHRoID0gd2lkdGg7XG5cbiAgICAgIGlmICh0aGlzLnJhbmRvbU9wYWNpdHkpIHtcbiAgICAgICAgcG9pbnQub3BhY2l0eSA9IGZhYnJpYy51dGlsLmdldFJhbmRvbUludCgwLCAxMDApIC8gMTAwO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNwcmF5Q2h1bmtQb2ludHMucHVzaChwb2ludCk7XG4gICAgfVxuXG4gICAgdGhpcy5zcHJheUNodW5rcy5wdXNoKHRoaXMuc3ByYXlDaHVua1BvaW50cyk7XG4gIH1cbn0pO1xuXG5cbi8qKlxuICogUGF0dGVybkJydXNoIGNsYXNzXG4gKiBAY2xhc3MgZmFicmljLlBhdHRlcm5CcnVzaFxuICogQGV4dGVuZHMgZmFicmljLkJhc2VCcnVzaFxuICovXG5mYWJyaWMuUGF0dGVybkJydXNoID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3MoZmFicmljLlBlbmNpbEJydXNoLCAvKiogQGxlbmRzIGZhYnJpYy5QYXR0ZXJuQnJ1c2gucHJvdG90eXBlICovIHtcblxuICBnZXRQYXR0ZXJuU3JjOiBmdW5jdGlvbigpIHtcblxuICAgIHZhciBkb3RXaWR0aCA9IDIwLFxuICAgICAgICBkb3REaXN0YW5jZSA9IDUsXG4gICAgICAgIHBhdHRlcm5DYW52YXMgPSBmYWJyaWMudXRpbC5jcmVhdGVDYW52YXNFbGVtZW50KCksXG4gICAgICAgIHBhdHRlcm5DdHggPSBwYXR0ZXJuQ2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICBwYXR0ZXJuQ2FudmFzLndpZHRoID0gcGF0dGVybkNhbnZhcy5oZWlnaHQgPSBkb3RXaWR0aCArIGRvdERpc3RhbmNlO1xuXG4gICAgcGF0dGVybkN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xuICAgIHBhdHRlcm5DdHguYmVnaW5QYXRoKCk7XG4gICAgcGF0dGVybkN0eC5hcmMoZG90V2lkdGggLyAyLCBkb3RXaWR0aCAvIDIsIGRvdFdpZHRoIC8gMiwgMCwgTWF0aC5QSSAqIDIsIGZhbHNlKTtcbiAgICBwYXR0ZXJuQ3R4LmNsb3NlUGF0aCgpO1xuICAgIHBhdHRlcm5DdHguZmlsbCgpO1xuXG4gICAgcmV0dXJuIHBhdHRlcm5DYW52YXM7XG4gIH0sXG5cbiAgZ2V0UGF0dGVyblNyY0Z1bmN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gU3RyaW5nKHRoaXMuZ2V0UGF0dGVyblNyYykucmVwbGFjZSgndGhpcy5jb2xvcicsICdcIicgKyB0aGlzLmNvbG9yICsgJ1wiJyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgXCJwYXR0ZXJuXCIgaW5zdGFuY2UgcHJvcGVydHlcbiAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eFxuICAgKi9cbiAgZ2V0UGF0dGVybjogZnVuY3Rpb24oY3R4KSB7XG4gICAgcmV0dXJuIGN0eC5jcmVhdGVQYXR0ZXJuKHRoaXMuc291cmNlIHx8IHRoaXMuZ2V0UGF0dGVyblNyYygpLCAncmVwZWF0Jyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNldHMgYnJ1c2ggc3R5bGVzXG4gICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHhcbiAgICovXG4gIF9zZXRCcnVzaFN0eWxlczogZnVuY3Rpb24oY3R4KSB7XG4gICAgdGhpcy5jYWxsU3VwZXIoJ19zZXRCcnVzaFN0eWxlcycsIGN0eCk7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5nZXRQYXR0ZXJuKGN0eCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgcGF0aFxuICAgKi9cbiAgY3JlYXRlUGF0aDogZnVuY3Rpb24ocGF0aERhdGEpIHtcbiAgICB2YXIgcGF0aCA9IHRoaXMuY2FsbFN1cGVyKCdjcmVhdGVQYXRoJywgcGF0aERhdGEpLFxuICAgICAgICB0b3BMZWZ0ID0gcGF0aC5fZ2V0TGVmdFRvcENvb3JkcygpLnNjYWxhckFkZChwYXRoLnN0cm9rZVdpZHRoIC8gMik7XG5cbiAgICBwYXRoLnN0cm9rZSA9IG5ldyBmYWJyaWMuUGF0dGVybih7XG4gICAgICBzb3VyY2U6IHRoaXMuc291cmNlIHx8IHRoaXMuZ2V0UGF0dGVyblNyY0Z1bmN0aW9uKCksXG4gICAgICBvZmZzZXRYOiAtdG9wTGVmdC54LFxuICAgICAgb2Zmc2V0WTogLXRvcExlZnQueVxuICAgIH0pO1xuICAgIHJldHVybiBwYXRoO1xuICB9XG59KTtcblxuXG4oZnVuY3Rpb24oKSB7XG5cbiAgdmFyIGdldFBvaW50ZXIgPSBmYWJyaWMudXRpbC5nZXRQb2ludGVyLFxuICAgICAgZGVncmVlc1RvUmFkaWFucyA9IGZhYnJpYy51dGlsLmRlZ3JlZXNUb1JhZGlhbnMsXG4gICAgICBpc1RvdWNoRXZlbnQgPSBmYWJyaWMudXRpbC5pc1RvdWNoRXZlbnQ7XG5cbiAgLyoqXG4gICAqIENhbnZhcyBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkNhbnZhc1xuICAgKiBAZXh0ZW5kcyBmYWJyaWMuU3RhdGljQ2FudmFzXG4gICAqIEB0dXRvcmlhbCB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9mYWJyaWMtaW50cm8tcGFydC0xI2NhbnZhc31cbiAgICogQHNlZSB7QGxpbmsgZmFicmljLkNhbnZhcyNpbml0aWFsaXplfSBmb3IgY29uc3RydWN0b3IgZGVmaW5pdGlvblxuICAgKlxuICAgKiBAZmlyZXMgb2JqZWN0Om1vZGlmaWVkIGF0IHRoZSBlbmQgb2YgYSB0cmFuc2Zvcm0gb3IgYW55IGNoYW5nZSB3aGVuIHN0YXRlZnVsbCBpcyB0cnVlXG4gICAqIEBmaXJlcyBvYmplY3Q6cm90YXRpbmcgd2hpbGUgYW4gb2JqZWN0IGlzIGJlaW5nIHJvdGF0ZWQgZnJvbSB0aGUgY29udHJvbFxuICAgKiBAZmlyZXMgb2JqZWN0OnNjYWxpbmcgd2hpbGUgYW4gb2JqZWN0IGlzIGJlaW5nIHNjYWxlZCBieSBjb250cm9sc1xuICAgKiBAZmlyZXMgb2JqZWN0Om1vdmluZyB3aGlsZSBhbiBvYmplY3QgaXMgYmVpbmcgZHJhZ2dlZFxuICAgKiBAZmlyZXMgb2JqZWN0OnNrZXdpbmcgd2hpbGUgYW4gb2JqZWN0IGlzIGJlaW5nIHNrZXdlZCBmcm9tIHRoZSBjb250cm9sc1xuICAgKlxuICAgKiBAZmlyZXMgYmVmb3JlOnRyYW5zZm9ybSBiZWZvcmUgYSB0cmFuc2Zvcm0gaXMgaXMgc3RhcnRlZFxuICAgKiBAZmlyZXMgYmVmb3JlOnNlbGVjdGlvbjpjbGVhcmVkXG4gICAqIEBmaXJlcyBzZWxlY3Rpb246Y2xlYXJlZFxuICAgKiBAZmlyZXMgc2VsZWN0aW9uOnVwZGF0ZWRcbiAgICogQGZpcmVzIHNlbGVjdGlvbjpjcmVhdGVkXG4gICAqXG4gICAqIEBmaXJlcyBwYXRoOmNyZWF0ZWQgYWZ0ZXIgYSBkcmF3aW5nIG9wZXJhdGlvbiBlbmRzIGFuZCB0aGUgcGF0aCBpcyBhZGRlZFxuICAgKiBAZmlyZXMgbW91c2U6ZG93blxuICAgKiBAZmlyZXMgbW91c2U6bW92ZVxuICAgKiBAZmlyZXMgbW91c2U6dXBcbiAgICogQGZpcmVzIG1vdXNlOmRvd246YmVmb3JlICBvbiBtb3VzZSBkb3duLCBiZWZvcmUgdGhlIGlubmVyIGZhYnJpYyBsb2dpYyBydW5zXG4gICAqIEBmaXJlcyBtb3VzZTptb3ZlOmJlZm9yZSBvbiBtb3VzZSBtb3ZlLCBiZWZvcmUgdGhlIGlubmVyIGZhYnJpYyBsb2dpYyBydW5zXG4gICAqIEBmaXJlcyBtb3VzZTp1cDpiZWZvcmUgb24gbW91c2UgdXAsIGJlZm9yZSB0aGUgaW5uZXIgZmFicmljIGxvZ2ljIHJ1bnNcbiAgICogQGZpcmVzIG1vdXNlOm92ZXJcbiAgICogQGZpcmVzIG1vdXNlOm91dFxuICAgKiBAZmlyZXMgbW91c2U6ZGJsY2xpY2sgd2hlbmV2ZXIgYSBuYXRpdmUgZGJsIGNsaWNrIGV2ZW50IGZpcmVzIG9uIHRoZSBjYW52YXMuXG4gICAqXG4gICAqIEBmaXJlcyBkcmFnb3ZlclxuICAgKiBAZmlyZXMgZHJhZ2VudGVyXG4gICAqIEBmaXJlcyBkcmFnbGVhdmVcbiAgICogQGZpcmVzIGRyb3A6YmVmb3JlIGJlZm9yZSBkcm9wIGV2ZW50LiBzYW1lIG5hdGl2ZSBldmVudC4gVGhpcyBpcyBhZGRlZCB0byBoYW5kbGUgZWRnZSBjYXNlc1xuICAgKiBAZmlyZXMgZHJvcFxuICAgKiBAZmlyZXMgYWZ0ZXI6cmVuZGVyIGF0IHRoZSBlbmQgb2YgdGhlIHJlbmRlciBwcm9jZXNzLCByZWNlaXZlcyB0aGUgY29udGV4dCBpbiB0aGUgY2FsbGJhY2tcbiAgICogQGZpcmVzIGJlZm9yZTpyZW5kZXIgYXQgc3RhcnQgdGhlIHJlbmRlciBwcm9jZXNzLCByZWNlaXZlcyB0aGUgY29udGV4dCBpbiB0aGUgY2FsbGJhY2tcbiAgICpcbiAgICovXG4gIGZhYnJpYy5DYW52YXMgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcyhmYWJyaWMuU3RhdGljQ2FudmFzLCAvKiogQGxlbmRzIGZhYnJpYy5DYW52YXMucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudCB8IFN0cmluZ30gZWwgJmx0O2NhbnZhcz4gZWxlbWVudCB0byBpbml0aWFsaXplIGluc3RhbmNlIG9uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gdGhpc0FyZ1xuICAgICAqL1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKGVsLCBvcHRpb25zKSB7XG4gICAgICBvcHRpb25zIHx8IChvcHRpb25zID0geyB9KTtcbiAgICAgIHRoaXMucmVuZGVyQW5kUmVzZXRCb3VuZCA9IHRoaXMucmVuZGVyQW5kUmVzZXQuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMucmVxdWVzdFJlbmRlckFsbEJvdW5kID0gdGhpcy5yZXF1ZXN0UmVuZGVyQWxsLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9pbml0U3RhdGljKGVsLCBvcHRpb25zKTtcbiAgICAgIHRoaXMuX2luaXRJbnRlcmFjdGl2ZSgpO1xuICAgICAgdGhpcy5fY3JlYXRlQ2FjaGVDYW52YXMoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogV2hlbiB0cnVlLCBvYmplY3RzIGNhbiBiZSB0cmFuc2Zvcm1lZCBieSBvbmUgc2lkZSAodW5wcm9wb3J0aW9uYWxseSlcbiAgICAgKiB3aGVuIGRyYWdnZWQgb24gdGhlIGNvcm5lcnMgdGhhdCBub3JtYWxseSB3b3VsZCBub3QgZG8gdGhhdC5cbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKiBAc2luY2UgZmFicmljIDQuMCAvLyBjaGFuZ2VkIG5hbWUgYW5kIGRlZmF1bHQgdmFsdWVcbiAgICAgKi9cbiAgICB1bmlmb3JtU2NhbGluZzogICAgICB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoaWNoIGtleSBzd2l0Y2hlcyB1bmlmb3JtIHNjYWxpbmcuXG4gICAgICogdmFsdWVzOiAnYWx0S2V5JywgJ3NoaWZ0S2V5JywgJ2N0cmxLZXknLlxuICAgICAqIElmIGBudWxsYCBvciAnbm9uZScgb3IgYW55IG90aGVyIHN0cmluZyB0aGF0IGlzIG5vdCBhIG1vZGlmaWVyIGtleVxuICAgICAqIGZlYXR1cmUgaXMgZGlzYWJsZWQuXG4gICAgICogdG90YWxseSB3cm9uZyBuYW1lZC4gdGhpcyBzb3VuZHMgbGlrZSBgdW5pZm9ybSBzY2FsaW5nYFxuICAgICAqIGlmIENhbnZhcy51bmlmb3JtU2NhbGluZyBpcyB0cnVlLCBwcmVzc2luZyB0aGlzIHdpbGwgc2V0IGl0IHRvIGZhbHNlXG4gICAgICogYW5kIHZpY2V2ZXJzYS5cbiAgICAgKiBAc2luY2UgMS42LjJcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHVuaVNjYWxlS2V5OiAgICAgICAgICAgJ3NoaWZ0S2V5JyxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gdHJ1ZSwgb2JqZWN0cyB1c2UgY2VudGVyIHBvaW50IGFzIHRoZSBvcmlnaW4gb2Ygc2NhbGUgdHJhbnNmb3JtYXRpb24uXG4gICAgICogPGI+QmFja3dhcmRzIGluY29tcGF0aWJpbGl0eSBub3RlOjwvYj4gVGhpcyBwcm9wZXJ0eSByZXBsYWNlcyBcImNlbnRlclRyYW5zZm9ybVwiIChCb29sZWFuKS5cbiAgICAgKiBAc2luY2UgMS4zLjRcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBjZW50ZXJlZFNjYWxpbmc6ICAgICAgICBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gdHJ1ZSwgb2JqZWN0cyB1c2UgY2VudGVyIHBvaW50IGFzIHRoZSBvcmlnaW4gb2Ygcm90YXRlIHRyYW5zZm9ybWF0aW9uLlxuICAgICAqIDxiPkJhY2t3YXJkcyBpbmNvbXBhdGliaWxpdHkgbm90ZTo8L2I+IFRoaXMgcHJvcGVydHkgcmVwbGFjZXMgXCJjZW50ZXJUcmFuc2Zvcm1cIiAoQm9vbGVhbikuXG4gICAgICogQHNpbmNlIDEuMy40XG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgY2VudGVyZWRSb3RhdGlvbjogICAgICAgZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hpY2gga2V5IGVuYWJsZSBjZW50ZXJlZCBUcmFuc2Zvcm1cbiAgICAgKiB2YWx1ZXM6ICdhbHRLZXknLCAnc2hpZnRLZXknLCAnY3RybEtleScuXG4gICAgICogSWYgYG51bGxgIG9yICdub25lJyBvciBhbnkgb3RoZXIgc3RyaW5nIHRoYXQgaXMgbm90IGEgbW9kaWZpZXIga2V5XG4gICAgICogZmVhdHVyZSBpcyBkaXNhYmxlZCBmZWF0dXJlIGRpc2FibGVkLlxuICAgICAqIEBzaW5jZSAxLjYuMlxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgY2VudGVyZWRLZXk6ICAgICAgICAgICAnYWx0S2V5JyxcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGljaCBrZXkgZW5hYmxlIGFsdGVybmF0ZSBhY3Rpb24gb24gY29ybmVyXG4gICAgICogdmFsdWVzOiAnYWx0S2V5JywgJ3NoaWZ0S2V5JywgJ2N0cmxLZXknLlxuICAgICAqIElmIGBudWxsYCBvciAnbm9uZScgb3IgYW55IG90aGVyIHN0cmluZyB0aGF0IGlzIG5vdCBhIG1vZGlmaWVyIGtleVxuICAgICAqIGZlYXR1cmUgaXMgZGlzYWJsZWQgZmVhdHVyZSBkaXNhYmxlZC5cbiAgICAgKiBAc2luY2UgMS42LjJcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGFsdEFjdGlvbktleTogICAgICAgICAgICdzaGlmdEtleScsXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgdGhhdCBjYW52YXMgaXMgaW50ZXJhY3RpdmUuIFRoaXMgcHJvcGVydHkgc2hvdWxkIG5vdCBiZSBjaGFuZ2VkLlxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGludGVyYWN0aXZlOiAgICAgICAgICAgIHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciBncm91cCBzZWxlY3Rpb24gc2hvdWxkIGJlIGVuYWJsZWRcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzZWxlY3Rpb246ICAgICAgICAgICAgICB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoaWNoIGtleSBvciBrZXlzIGVuYWJsZSBtdWx0aXBsZSBjbGljayBzZWxlY3Rpb25cbiAgICAgKiBQYXNzIHZhbHVlIGFzIGEgc3RyaW5nIG9yIGFycmF5IG9mIHN0cmluZ3NcbiAgICAgKiB2YWx1ZXM6ICdhbHRLZXknLCAnc2hpZnRLZXknLCAnY3RybEtleScuXG4gICAgICogSWYgYG51bGxgIG9yIGVtcHR5IG9yIGNvbnRhaW5pbmcgYW55IG90aGVyIHN0cmluZyB0aGF0IGlzIG5vdCBhIG1vZGlmaWVyIGtleVxuICAgICAqIGZlYXR1cmUgaXMgZGlzYWJsZWQuXG4gICAgICogQHNpbmNlIDEuNi4yXG4gICAgICogQHR5cGUgU3RyaW5nfEFycmF5XG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzZWxlY3Rpb25LZXk6ICAgICAgICAgICAnc2hpZnRLZXknLFxuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoaWNoIGtleSBlbmFibGUgYWx0ZXJuYXRpdmUgc2VsZWN0aW9uXG4gICAgICogaW4gY2FzZSBvZiB0YXJnZXQgb3ZlcmxhcHBpbmcgd2l0aCBhY3RpdmUgb2JqZWN0XG4gICAgICogdmFsdWVzOiAnYWx0S2V5JywgJ3NoaWZ0S2V5JywgJ2N0cmxLZXknLlxuICAgICAqIEZvciBhIHNlcmllcyBvZiByZWFzb24gdGhhdCBjb21lIGZyb20gdGhlIGdlbmVyYWwgZXhwZWN0YXRpb25zIG9uIGhvd1xuICAgICAqIHRoaW5ncyBzaG91bGQgd29yaywgdGhpcyBmZWF0dXJlIHdvcmtzIG9ubHkgZm9yIHByZXNlcnZlT2JqZWN0U3RhY2tpbmcgdHJ1ZS5cbiAgICAgKiBJZiBgbnVsbGAgb3IgJ25vbmUnIG9yIGFueSBvdGhlciBzdHJpbmcgdGhhdCBpcyBub3QgYSBtb2RpZmllciBrZXlcbiAgICAgKiBmZWF0dXJlIGlzIGRpc2FibGVkLlxuICAgICAqIEBzaW5jZSAxLjYuNVxuICAgICAqIEB0eXBlIG51bGx8U3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBhbHRTZWxlY3Rpb25LZXk6ICAgICAgICAgICBudWxsLFxuXG4gICAgLyoqXG4gICAgICogQ29sb3Igb2Ygc2VsZWN0aW9uXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzZWxlY3Rpb25Db2xvcjogICAgICAgICAncmdiYSgxMDAsIDEwMCwgMjU1LCAwLjMpJywgLy8gYmx1ZVxuXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBkYXNoIGFycmF5IHBhdHRlcm5cbiAgICAgKiBJZiBub3QgZW1wdHkgdGhlIHNlbGVjdGlvbiBib3JkZXIgaXMgZGFzaGVkXG4gICAgICogQHR5cGUgQXJyYXlcbiAgICAgKi9cbiAgICBzZWxlY3Rpb25EYXNoQXJyYXk6ICAgICBbXSxcblxuICAgIC8qKlxuICAgICAqIENvbG9yIG9mIHRoZSBib3JkZXIgb2Ygc2VsZWN0aW9uICh1c3VhbGx5IHNsaWdodGx5IGRhcmtlciB0aGFuIGNvbG9yIG9mIHNlbGVjdGlvbiBpdHNlbGYpXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzZWxlY3Rpb25Cb3JkZXJDb2xvcjogICAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjMpJyxcblxuICAgIC8qKlxuICAgICAqIFdpZHRoIG9mIGEgbGluZSB1c2VkIGluIG9iamVjdC9ncm91cCBzZWxlY3Rpb25cbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHNlbGVjdGlvbkxpbmVXaWR0aDogICAgIDEsXG5cbiAgICAvKipcbiAgICAgKiBTZWxlY3Qgb25seSBzaGFwZXMgdGhhdCBhcmUgZnVsbHkgY29udGFpbmVkIGluIHRoZSBkcmFnZ2VkIHNlbGVjdGlvbiByZWN0YW5nbGUuXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc2VsZWN0aW9uRnVsbHlDb250YWluZWQ6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBjdXJzb3IgdmFsdWUgdXNlZCB3aGVuIGhvdmVyaW5nIG92ZXIgYW4gb2JqZWN0IG9uIGNhbnZhc1xuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgaG92ZXJDdXJzb3I6ICAgICAgICAgICAgJ21vdmUnLFxuXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBjdXJzb3IgdmFsdWUgdXNlZCB3aGVuIG1vdmluZyBhbiBvYmplY3Qgb24gY2FudmFzXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBtb3ZlQ3Vyc29yOiAgICAgICAgICAgICAnbW92ZScsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IGN1cnNvciB2YWx1ZSB1c2VkIGZvciB0aGUgZW50aXJlIGNhbnZhc1xuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgZGVmYXVsdEN1cnNvcjogICAgICAgICAgJ2RlZmF1bHQnLFxuXG4gICAgLyoqXG4gICAgICogQ3Vyc29yIHZhbHVlIHVzZWQgZHVyaW5nIGZyZWUgZHJhd2luZ1xuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgZnJlZURyYXdpbmdDdXJzb3I6ICAgICAgJ2Nyb3NzaGFpcicsXG5cbiAgICAvKipcbiAgICAgKiBDdXJzb3IgdmFsdWUgdXNlZCBmb3IgZGlzYWJsZWQgZWxlbWVudHMgKCBjb3JuZXJzIHdpdGggZGlzYWJsZWQgYWN0aW9uIClcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIG5vdEFsbG93ZWRDdXJzb3I6ICAgICAgICAgJ25vdC1hbGxvd2VkJyxcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgZWxlbWVudCBjbGFzcyB0aGF0J3MgZ2l2ZW4gdG8gd3JhcHBlciAoZGl2KSBlbGVtZW50IG9mIGNhbnZhc1xuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgY29udGFpbmVyQ2xhc3M6ICAgICAgICAgJ2NhbnZhcy1jb250YWluZXInLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiB0cnVlLCBvYmplY3QgZGV0ZWN0aW9uIGhhcHBlbnMgb24gcGVyLXBpeGVsIGJhc2lzIHJhdGhlciB0aGFuIG9uIHBlci1ib3VuZGluZy1ib3hcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBwZXJQaXhlbFRhcmdldEZpbmQ6ICAgICBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIE51bWJlciBvZiBwaXhlbHMgYXJvdW5kIHRhcmdldCBwaXhlbCB0byB0b2xlcmF0ZSAoY29uc2lkZXIgYWN0aXZlKSBkdXJpbmcgb2JqZWN0IGRldGVjdGlvblxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGFyZ2V0RmluZFRvbGVyYW5jZTogICAgMCxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gdHJ1ZSwgdGFyZ2V0IGRldGVjdGlvbiBpcyBza2lwcGVkLiBUYXJnZXQgZGV0ZWN0aW9uIHdpbGwgcmV0dXJuIGFsd2F5cyB1bmRlZmluZWQuXG4gICAgICogY2xpY2sgc2VsZWN0aW9uIHdvbid0IHdvcmsgYW55bW9yZSwgZXZlbnRzIHdpbGwgZmlyZSB3aXRoIG5vIHRhcmdldHMuXG4gICAgICogaWYgc29tZXRoaW5nIGlzIHNlbGVjdGVkIGJlZm9yZSBzZXR0aW5nIGl0IHRvIHRydWUsIGl0IHdpbGwgYmUgZGVzZWxlY3RlZCBhdCB0aGUgZmlyc3QgY2xpY2suXG4gICAgICogYXJlYSBzZWxlY3Rpb24gd2lsbCBzdGlsbCB3b3JrLiBjaGVjayB0aGUgYHNlbGVjdGlvbmAgcHJvcGVydHkgdG9vLlxuICAgICAqIGlmIHlvdSBkZWFjdGl2YXRlIGJvdGgsIHlvdSBzaG91bGQgbG9vayBpbnRvIHN0YXRpY0NhbnZhcy5cbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBza2lwVGFyZ2V0RmluZDogICAgICAgICBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gdHJ1ZSwgbW91c2UgZXZlbnRzIG9uIGNhbnZhcyAobW91c2Vkb3duL21vdXNlbW92ZS9tb3VzZXVwKSByZXN1bHQgaW4gZnJlZSBkcmF3aW5nLlxuICAgICAqIEFmdGVyIG1vdXNlZG93biwgbW91c2Vtb3ZlIGNyZWF0ZXMgYSBzaGFwZSxcbiAgICAgKiBhbmQgdGhlbiBtb3VzZXVwIGZpbmFsaXplcyBpdCBhbmQgYWRkcyBhbiBpbnN0YW5jZSBvZiBgZmFicmljLlBhdGhgIG9udG8gY2FudmFzLlxuICAgICAqIEB0dXRvcmlhbCB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9mYWJyaWMtaW50cm8tcGFydC00I2ZyZWVfZHJhd2luZ31cbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBpc0RyYXdpbmdNb2RlOiAgICAgICAgICBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIG9iamVjdHMgc2hvdWxkIHJlbWFpbiBpbiBjdXJyZW50IHN0YWNrIHBvc2l0aW9uIHdoZW4gc2VsZWN0ZWQuXG4gICAgICogV2hlbiBmYWxzZSBvYmplY3RzIGFyZSBicm91Z2h0IHRvIHRvcCBhbmQgcmVuZGVyZWQgYXMgcGFydCBvZiB0aGUgc2VsZWN0aW9uIGdyb3VwXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgcHJlc2VydmVPYmplY3RTdGFja2luZzogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgdGhlIGFuZ2xlIHRoYXQgYW4gb2JqZWN0IHdpbGwgbG9jayB0byB3aGlsZSByb3RhdGluZy5cbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAc2luY2UgMS42LjdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHNuYXBBbmdsZTogMCxcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB0aGUgZGlzdGFuY2UgZnJvbSB0aGUgc25hcEFuZ2xlIHRoZSByb3RhdGlvbiB3aWxsIGxvY2sgdG8gdGhlIHNuYXBBbmdsZS5cbiAgICAgKiBXaGVuIGBudWxsYCwgdGhlIHNuYXBUaHJlc2hvbGQgd2lsbCBkZWZhdWx0IHRvIHRoZSBzbmFwQW5nbGUuXG4gICAgICogQHR5cGUgbnVsbHxOdW1iZXJcbiAgICAgKiBAc2luY2UgMS42LjdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHNuYXBUaHJlc2hvbGQ6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIHJpZ2h0IGNsaWNrIG9uIGNhbnZhcyBjYW4gb3V0cHV0IHRoZSBjb250ZXh0IG1lbnUgb3Igbm90XG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBzaW5jZSAxLjYuNVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc3RvcENvbnRleHRNZW51OiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyBpZiB0aGUgY2FudmFzIGNhbiBmaXJlIHJpZ2h0IGNsaWNrIGV2ZW50c1xuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAc2luY2UgMS42LjVcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGZpcmVSaWdodENsaWNrOiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyBpZiB0aGUgY2FudmFzIGNhbiBmaXJlIG1pZGRsZSBjbGljayBldmVudHNcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQHNpbmNlIDEuNy44XG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBmaXJlTWlkZGxlQ2xpY2s6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogS2VlcCB0cmFjayBvZiB0aGUgc3ViVGFyZ2V0cyBmb3IgTW91c2UgRXZlbnRzXG4gICAgICogQHR5cGUgZmFicmljLk9iamVjdFtdXG4gICAgICovXG4gICAgdGFyZ2V0czogW10sXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSBvcHRpb24gaXMgZW5hYmxlZCwgUG9pbnRlckV2ZW50IGlzIHVzZWQgaW5zdGVhZCBvZiBNb3VzZUV2ZW50LlxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGVuYWJsZVBvaW50ZXJFdmVudHM6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogS2VlcCB0cmFjayBvZiB0aGUgaG92ZXJlZCB0YXJnZXRcbiAgICAgKiBAdHlwZSBmYWJyaWMuT2JqZWN0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfaG92ZXJlZFRhcmdldDogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIGhvbGQgdGhlIGxpc3Qgb2YgbmVzdGVkIHRhcmdldHMgaG92ZXJlZFxuICAgICAqIEB0eXBlIGZhYnJpYy5PYmplY3RbXVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2hvdmVyZWRUYXJnZXRzOiBbXSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2luaXRJbnRlcmFjdGl2ZTogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLl9jdXJyZW50VHJhbnNmb3JtID0gbnVsbDtcbiAgICAgIHRoaXMuX2dyb3VwU2VsZWN0b3IgPSBudWxsO1xuICAgICAgdGhpcy5faW5pdFdyYXBwZXJFbGVtZW50KCk7XG4gICAgICB0aGlzLl9jcmVhdGVVcHBlckNhbnZhcygpO1xuICAgICAgdGhpcy5faW5pdEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICAgIHRoaXMuX2luaXRSZXRpbmFTY2FsaW5nKCk7XG5cbiAgICAgIHRoaXMuZnJlZURyYXdpbmdCcnVzaCA9IGZhYnJpYy5QZW5jaWxCcnVzaCAmJiBuZXcgZmFicmljLlBlbmNpbEJydXNoKHRoaXMpO1xuXG4gICAgICB0aGlzLmNhbGNPZmZzZXQoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGl2aWRlcyBvYmplY3RzIGluIHR3byBncm91cHMsIG9uZSB0byByZW5kZXIgaW1tZWRpYXRlbHlcbiAgICAgKiBhbmQgb25lIHRvIHJlbmRlciBhcyBhY3RpdmVHcm91cC5cbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gb2JqZWN0cyB0byByZW5kZXIgaW1tZWRpYXRlbHkgYW5kIHB1c2hlcyB0aGUgb3RoZXIgaW4gdGhlIGFjdGl2ZUdyb3VwLlxuICAgICAqL1xuICAgIF9jaG9vc2VPYmplY3RzVG9SZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGFjdGl2ZU9iamVjdHMgPSB0aGlzLmdldEFjdGl2ZU9iamVjdHMoKSxcbiAgICAgICAgICBvYmplY3QsIG9ianNUb1JlbmRlciwgYWN0aXZlR3JvdXBPYmplY3RzO1xuXG4gICAgICBpZiAoYWN0aXZlT2JqZWN0cy5sZW5ndGggPiAwICYmICF0aGlzLnByZXNlcnZlT2JqZWN0U3RhY2tpbmcpIHtcbiAgICAgICAgb2Jqc1RvUmVuZGVyID0gW107XG4gICAgICAgIGFjdGl2ZUdyb3VwT2JqZWN0cyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gdGhpcy5fb2JqZWN0cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgIG9iamVjdCA9IHRoaXMuX29iamVjdHNbaV07XG4gICAgICAgICAgaWYgKGFjdGl2ZU9iamVjdHMuaW5kZXhPZihvYmplY3QpID09PSAtMSApIHtcbiAgICAgICAgICAgIG9ianNUb1JlbmRlci5wdXNoKG9iamVjdCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYWN0aXZlR3JvdXBPYmplY3RzLnB1c2gob2JqZWN0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFjdGl2ZU9iamVjdHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgIHRoaXMuX2FjdGl2ZU9iamVjdC5fb2JqZWN0cyA9IGFjdGl2ZUdyb3VwT2JqZWN0cztcbiAgICAgICAgfVxuICAgICAgICBvYmpzVG9SZW5kZXIucHVzaC5hcHBseShvYmpzVG9SZW5kZXIsIGFjdGl2ZUdyb3VwT2JqZWN0cyk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgb2Jqc1RvUmVuZGVyID0gdGhpcy5fb2JqZWN0cztcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmpzVG9SZW5kZXI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgYm90aCB0aGUgdG9wIGNhbnZhcyBhbmQgdGhlIHNlY29uZGFyeSBjb250YWluZXIgY2FudmFzLlxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IGluc3RhbmNlXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHJlbmRlckFsbDogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMuY29udGV4dFRvcERpcnR5ICYmICF0aGlzLl9ncm91cFNlbGVjdG9yICYmICF0aGlzLmlzRHJhd2luZ01vZGUpIHtcbiAgICAgICAgdGhpcy5jbGVhckNvbnRleHQodGhpcy5jb250ZXh0VG9wKTtcbiAgICAgICAgdGhpcy5jb250ZXh0VG9wRGlydHkgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmhhc0xvc3RDb250ZXh0KSB7XG4gICAgICAgIHRoaXMucmVuZGVyVG9wTGF5ZXIodGhpcy5jb250ZXh0VG9wKTtcbiAgICAgICAgdGhpcy5oYXNMb3N0Q29udGV4dCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIGNhbnZhc1RvRHJhd09uID0gdGhpcy5jb250ZXh0Q29udGFpbmVyO1xuICAgICAgdGhpcy5yZW5kZXJDYW52YXMoY2FudmFzVG9EcmF3T24sIHRoaXMuX2Nob29zZU9iamVjdHNUb1JlbmRlcigpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICByZW5kZXJUb3BMYXllcjogZnVuY3Rpb24oY3R4KSB7XG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgaWYgKHRoaXMuaXNEcmF3aW5nTW9kZSAmJiB0aGlzLl9pc0N1cnJlbnRseURyYXdpbmcpIHtcbiAgICAgICAgdGhpcy5mcmVlRHJhd2luZ0JydXNoICYmIHRoaXMuZnJlZURyYXdpbmdCcnVzaC5fcmVuZGVyKCk7XG4gICAgICAgIHRoaXMuY29udGV4dFRvcERpcnR5ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIC8vIHdlIHJlbmRlciB0aGUgdG9wIGNvbnRleHQgLSBsYXN0IG9iamVjdFxuICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uICYmIHRoaXMuX2dyb3VwU2VsZWN0b3IpIHtcbiAgICAgICAgdGhpcy5fZHJhd1NlbGVjdGlvbihjdHgpO1xuICAgICAgICB0aGlzLmNvbnRleHRUb3BEaXJ0eSA9IHRydWU7XG4gICAgICB9XG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdG8gcmVuZGVyIG9ubHkgdGhlIHRvcCBjYW52YXMuXG4gICAgICogQWxzbyB1c2VkIHRvIHJlbmRlciB0aGUgZ3JvdXAgc2VsZWN0aW9uIGJveC5cbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHJlbmRlclRvcDogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGN0eCA9IHRoaXMuY29udGV4dFRvcDtcbiAgICAgIHRoaXMuY2xlYXJDb250ZXh0KGN0eCk7XG4gICAgICB0aGlzLnJlbmRlclRvcExheWVyKGN0eCk7XG4gICAgICB0aGlzLmZpcmUoJ2FmdGVyOnJlbmRlcicpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX25vcm1hbGl6ZVBvaW50ZXI6IGZ1bmN0aW9uIChvYmplY3QsIHBvaW50ZXIpIHtcbiAgICAgIHZhciBtID0gb2JqZWN0LmNhbGNUcmFuc2Zvcm1NYXRyaXgoKSxcbiAgICAgICAgICBpbnZlcnRlZE0gPSBmYWJyaWMudXRpbC5pbnZlcnRUcmFuc2Zvcm0obSksXG4gICAgICAgICAgdnB0UG9pbnRlciA9IHRoaXMucmVzdG9yZVBvaW50ZXJWcHQocG9pbnRlcik7XG4gICAgICByZXR1cm4gZmFicmljLnV0aWwudHJhbnNmb3JtUG9pbnQodnB0UG9pbnRlciwgaW52ZXJ0ZWRNKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIG9iamVjdCBpcyB0cmFuc3BhcmVudCBhdCBhIGNlcnRhaW4gbG9jYXRpb25cbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IHRhcmdldCBPYmplY3QgdG8gY2hlY2tcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geCBMZWZ0IGNvb3JkaW5hdGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geSBUb3AgY29vcmRpbmF0ZVxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgaXNUYXJnZXRUcmFuc3BhcmVudDogZnVuY3Rpb24gKHRhcmdldCwgeCwgeSkge1xuICAgICAgLy8gaW4gY2FzZSB0aGUgdGFyZ2V0IGlzIHRoZSBhY3RpdmVPYmplY3QsIHdlIGNhbm5vdCBleGVjdXRlIHRoaXMgb3B0aW1pemF0aW9uXG4gICAgICAvLyBiZWNhdXNlIHdlIG5lZWQgdG8gZHJhdyBjb250cm9scyB0b28uXG4gICAgICBpZiAodGFyZ2V0LnNob3VsZENhY2hlKCkgJiYgdGFyZ2V0Ll9jYWNoZUNhbnZhcyAmJiB0YXJnZXQgIT09IHRoaXMuX2FjdGl2ZU9iamVjdCkge1xuICAgICAgICB2YXIgbm9ybWFsaXplZFBvaW50ZXIgPSB0aGlzLl9ub3JtYWxpemVQb2ludGVyKHRhcmdldCwge3g6IHgsIHk6IHl9KSxcbiAgICAgICAgICAgIHRhcmdldFJlbGF0aXZlWCA9IE1hdGgubWF4KHRhcmdldC5jYWNoZVRyYW5zbGF0aW9uWCArIChub3JtYWxpemVkUG9pbnRlci54ICogdGFyZ2V0Lnpvb21YKSwgMCksXG4gICAgICAgICAgICB0YXJnZXRSZWxhdGl2ZVkgPSBNYXRoLm1heCh0YXJnZXQuY2FjaGVUcmFuc2xhdGlvblkgKyAobm9ybWFsaXplZFBvaW50ZXIueSAqIHRhcmdldC56b29tWSksIDApO1xuXG4gICAgICAgIHZhciBpc1RyYW5zcGFyZW50ID0gZmFicmljLnV0aWwuaXNUcmFuc3BhcmVudChcbiAgICAgICAgICB0YXJnZXQuX2NhY2hlQ29udGV4dCwgTWF0aC5yb3VuZCh0YXJnZXRSZWxhdGl2ZVgpLCBNYXRoLnJvdW5kKHRhcmdldFJlbGF0aXZlWSksIHRoaXMudGFyZ2V0RmluZFRvbGVyYW5jZSk7XG5cbiAgICAgICAgcmV0dXJuIGlzVHJhbnNwYXJlbnQ7XG4gICAgICB9XG5cbiAgICAgIHZhciBjdHggPSB0aGlzLmNvbnRleHRDYWNoZSxcbiAgICAgICAgICBvcmlnaW5hbENvbG9yID0gdGFyZ2V0LnNlbGVjdGlvbkJhY2tncm91bmRDb2xvciwgdiA9IHRoaXMudmlld3BvcnRUcmFuc2Zvcm07XG5cbiAgICAgIHRhcmdldC5zZWxlY3Rpb25CYWNrZ3JvdW5kQ29sb3IgPSAnJztcblxuICAgICAgdGhpcy5jbGVhckNvbnRleHQoY3R4KTtcblxuICAgICAgY3R4LnNhdmUoKTtcbiAgICAgIGN0eC50cmFuc2Zvcm0odlswXSwgdlsxXSwgdlsyXSwgdlszXSwgdls0XSwgdls1XSk7XG4gICAgICB0YXJnZXQucmVuZGVyKGN0eCk7XG4gICAgICBjdHgucmVzdG9yZSgpO1xuXG4gICAgICB0YXJnZXQuc2VsZWN0aW9uQmFja2dyb3VuZENvbG9yID0gb3JpZ2luYWxDb2xvcjtcblxuICAgICAgdmFyIGlzVHJhbnNwYXJlbnQgPSBmYWJyaWMudXRpbC5pc1RyYW5zcGFyZW50KFxuICAgICAgICBjdHgsIHgsIHksIHRoaXMudGFyZ2V0RmluZFRvbGVyYW5jZSk7XG5cbiAgICAgIHJldHVybiBpc1RyYW5zcGFyZW50O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiB0YWtlcyBhbiBldmVudCBhbmQgZGV0ZXJtaW5lcyBpZiBzZWxlY3Rpb24ga2V5IGhhcyBiZWVuIHByZXNzZWRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAgICovXG4gICAgX2lzU2VsZWN0aW9uS2V5UHJlc3NlZDogZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIHNlbGVjdGlvbktleVByZXNzZWQgPSBmYWxzZTtcblxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5zZWxlY3Rpb25LZXkpKSB7XG4gICAgICAgIHNlbGVjdGlvbktleVByZXNzZWQgPSAhIXRoaXMuc2VsZWN0aW9uS2V5LmZpbmQoZnVuY3Rpb24oa2V5KSB7IHJldHVybiBlW2tleV0gPT09IHRydWU7IH0pO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHNlbGVjdGlvbktleVByZXNzZWQgPSBlW3RoaXMuc2VsZWN0aW9uS2V5XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGVjdGlvbktleVByZXNzZWQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IHRhcmdldFxuICAgICAqL1xuICAgIF9zaG91bGRDbGVhclNlbGVjdGlvbjogZnVuY3Rpb24gKGUsIHRhcmdldCkge1xuICAgICAgdmFyIGFjdGl2ZU9iamVjdHMgPSB0aGlzLmdldEFjdGl2ZU9iamVjdHMoKSxcbiAgICAgICAgICBhY3RpdmVPYmplY3QgPSB0aGlzLl9hY3RpdmVPYmplY3Q7XG5cbiAgICAgIHJldHVybiAoXG4gICAgICAgICF0YXJnZXRcbiAgICAgICAgfHxcbiAgICAgICAgKHRhcmdldCAmJlxuICAgICAgICAgIGFjdGl2ZU9iamVjdCAmJlxuICAgICAgICAgIGFjdGl2ZU9iamVjdHMubGVuZ3RoID4gMSAmJlxuICAgICAgICAgIGFjdGl2ZU9iamVjdHMuaW5kZXhPZih0YXJnZXQpID09PSAtMSAmJlxuICAgICAgICAgIGFjdGl2ZU9iamVjdCAhPT0gdGFyZ2V0ICYmXG4gICAgICAgICAgIXRoaXMuX2lzU2VsZWN0aW9uS2V5UHJlc3NlZChlKSlcbiAgICAgICAgfHxcbiAgICAgICAgKHRhcmdldCAmJiAhdGFyZ2V0LmV2ZW50ZWQpXG4gICAgICAgIHx8XG4gICAgICAgICh0YXJnZXQgJiZcbiAgICAgICAgICAhdGFyZ2V0LnNlbGVjdGFibGUgJiZcbiAgICAgICAgICBhY3RpdmVPYmplY3QgJiZcbiAgICAgICAgICBhY3RpdmVPYmplY3QgIT09IHRhcmdldClcbiAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGNlbnRlcmVkU2NhbGluZyBmcm9tIG9iamVjdCBjYW4ndCBvdmVycmlkZSBjZW50ZXJlZFNjYWxpbmcgZnJvbSBjYW52YXMuXG4gICAgICogdGhpcyBzaG91bGQgYmUgZml4ZWQsIHNpbmNlIG9iamVjdCBzZXR0aW5nIHNob3VsZCB0YWtlIHByZWNlZGVuY2Ugb3ZlciBjYW52YXMuXG4gICAgICogYWxzbyB0aGlzIHNob3VsZCBiZSBzb21ldGhpbmcgdGhhdCB3aWxsIGJlIG1pZ3JhdGVkIGluIHRoZSBjb250cm9sIHByb3BlcnRpZXMuXG4gICAgICogYXMgYWJpbGl0eSB0byBkZWZpbmUgdGhlIG9yaWdpbiBvZiB0aGUgdHJhbnNmb3JtYXRpb24gdGhhdCB0aGUgY29udHJvbCBwcm92aWRlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSB0YXJnZXRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gYWN0aW9uXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBhbHRLZXlcbiAgICAgKi9cbiAgICBfc2hvdWxkQ2VudGVyVHJhbnNmb3JtOiBmdW5jdGlvbiAodGFyZ2V0LCBhY3Rpb24sIGFsdEtleSkge1xuICAgICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgY2VudGVyVHJhbnNmb3JtO1xuXG4gICAgICBpZiAoYWN0aW9uID09PSAnc2NhbGUnIHx8IGFjdGlvbiA9PT0gJ3NjYWxlWCcgfHwgYWN0aW9uID09PSAnc2NhbGVZJyB8fCBhY3Rpb24gPT09ICdyZXNpemluZycpIHtcbiAgICAgICAgY2VudGVyVHJhbnNmb3JtID0gdGhpcy5jZW50ZXJlZFNjYWxpbmcgfHwgdGFyZ2V0LmNlbnRlcmVkU2NhbGluZztcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGFjdGlvbiA9PT0gJ3JvdGF0ZScpIHtcbiAgICAgICAgY2VudGVyVHJhbnNmb3JtID0gdGhpcy5jZW50ZXJlZFJvdGF0aW9uIHx8IHRhcmdldC5jZW50ZXJlZFJvdGF0aW9uO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY2VudGVyVHJhbnNmb3JtID8gIWFsdEtleSA6IGFsdEtleTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogc2hvdWxkIGRpc2FwcGVhciBiZWZvcmUgcmVsZWFzZSA0LjBcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZXRPcmlnaW5Gcm9tQ29ybmVyOiBmdW5jdGlvbih0YXJnZXQsIGNvcm5lcikge1xuICAgICAgdmFyIG9yaWdpbiA9IHtcbiAgICAgICAgeDogdGFyZ2V0Lm9yaWdpblgsXG4gICAgICAgIHk6IHRhcmdldC5vcmlnaW5ZXG4gICAgICB9O1xuXG4gICAgICBpZiAoY29ybmVyID09PSAnbWwnIHx8IGNvcm5lciA9PT0gJ3RsJyB8fCBjb3JuZXIgPT09ICdibCcpIHtcbiAgICAgICAgb3JpZ2luLnggPSAncmlnaHQnO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoY29ybmVyID09PSAnbXInIHx8IGNvcm5lciA9PT0gJ3RyJyB8fCBjb3JuZXIgPT09ICdicicpIHtcbiAgICAgICAgb3JpZ2luLnggPSAnbGVmdCc7XG4gICAgICB9XG5cbiAgICAgIGlmIChjb3JuZXIgPT09ICd0bCcgfHwgY29ybmVyID09PSAnbXQnIHx8IGNvcm5lciA9PT0gJ3RyJykge1xuICAgICAgICBvcmlnaW4ueSA9ICdib3R0b20nO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoY29ybmVyID09PSAnYmwnIHx8IGNvcm5lciA9PT0gJ21iJyB8fCBjb3JuZXIgPT09ICdicicpIHtcbiAgICAgICAgb3JpZ2luLnkgPSAndG9wJztcbiAgICAgIH1cbiAgICAgIHJldHVybiBvcmlnaW47XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBhbHJlYWR5U2VsZWN0ZWQgdHJ1ZSBpZiB0YXJnZXQgaXMgYWxyZWFkeSBzZWxlY3RlZFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjb3JuZXIgYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBjb3JuZXIgbWwsIG1yLCB0bCAuLi5cbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gW3RhcmdldF0gaW5zZXJ0ZWQgYmFjayB0byBoZWxwIG92ZXJyaWRpbmcuIFVudXNlZFxuICAgICAqL1xuICAgIF9nZXRBY3Rpb25Gcm9tQ29ybmVyOiBmdW5jdGlvbihhbHJlYWR5U2VsZWN0ZWQsIGNvcm5lciwgZSwgdGFyZ2V0KSB7XG4gICAgICBpZiAoIWNvcm5lciB8fCAhYWxyZWFkeVNlbGVjdGVkKSB7XG4gICAgICAgIHJldHVybiAnZHJhZyc7XG4gICAgICB9XG4gICAgICB2YXIgY29udHJvbCA9IHRhcmdldC5jb250cm9sc1tjb3JuZXJdO1xuICAgICAgcmV0dXJuIGNvbnRyb2wuZ2V0QWN0aW9uTmFtZShlLCBjb250cm9sLCB0YXJnZXQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSB0YXJnZXRcbiAgICAgKi9cbiAgICBfc2V0dXBDdXJyZW50VHJhbnNmb3JtOiBmdW5jdGlvbiAoZSwgdGFyZ2V0LCBhbHJlYWR5U2VsZWN0ZWQpIHtcbiAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHBvaW50ZXIgPSB0aGlzLmdldFBvaW50ZXIoZSksIGNvcm5lciA9IHRhcmdldC5fX2Nvcm5lcixcbiAgICAgICAgICBjb250cm9sID0gdGFyZ2V0LmNvbnRyb2xzW2Nvcm5lcl0sXG4gICAgICAgICAgYWN0aW9uSGFuZGxlciA9IChhbHJlYWR5U2VsZWN0ZWQgJiYgY29ybmVyKSA/XG4gICAgICAgICAgICBjb250cm9sLmdldEFjdGlvbkhhbmRsZXIoZSwgdGFyZ2V0LCBjb250cm9sKSA6IGZhYnJpYy5jb250cm9sc1V0aWxzLmRyYWdIYW5kbGVyLFxuICAgICAgICAgIGFjdGlvbiA9IHRoaXMuX2dldEFjdGlvbkZyb21Db3JuZXIoYWxyZWFkeVNlbGVjdGVkLCBjb3JuZXIsIGUsIHRhcmdldCksXG4gICAgICAgICAgb3JpZ2luID0gdGhpcy5fZ2V0T3JpZ2luRnJvbUNvcm5lcih0YXJnZXQsIGNvcm5lciksXG4gICAgICAgICAgYWx0S2V5ID0gZVt0aGlzLmNlbnRlcmVkS2V5XSxcbiAgICAgICAgICB0cmFuc2Zvcm0gPSB7XG4gICAgICAgICAgICB0YXJnZXQ6IHRhcmdldCxcbiAgICAgICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICAgICAgYWN0aW9uSGFuZGxlcjogYWN0aW9uSGFuZGxlcixcbiAgICAgICAgICAgIGNvcm5lcjogY29ybmVyLFxuICAgICAgICAgICAgc2NhbGVYOiB0YXJnZXQuc2NhbGVYLFxuICAgICAgICAgICAgc2NhbGVZOiB0YXJnZXQuc2NhbGVZLFxuICAgICAgICAgICAgc2tld1g6IHRhcmdldC5za2V3WCxcbiAgICAgICAgICAgIHNrZXdZOiB0YXJnZXQuc2tld1ksXG4gICAgICAgICAgICAvLyB1c2VkIGJ5IHRyYW5zYXRpb25cbiAgICAgICAgICAgIG9mZnNldFg6IHBvaW50ZXIueCAtIHRhcmdldC5sZWZ0LFxuICAgICAgICAgICAgb2Zmc2V0WTogcG9pbnRlci55IC0gdGFyZ2V0LnRvcCxcbiAgICAgICAgICAgIG9yaWdpblg6IG9yaWdpbi54LFxuICAgICAgICAgICAgb3JpZ2luWTogb3JpZ2luLnksXG4gICAgICAgICAgICBleDogcG9pbnRlci54LFxuICAgICAgICAgICAgZXk6IHBvaW50ZXIueSxcbiAgICAgICAgICAgIGxhc3RYOiBwb2ludGVyLngsXG4gICAgICAgICAgICBsYXN0WTogcG9pbnRlci55LFxuICAgICAgICAgICAgLy8gdW5zdXJlIHRoZXkgYXJlIHVzZWZ1bCBhbnltb3JlLlxuICAgICAgICAgICAgLy8gbGVmdDogdGFyZ2V0LmxlZnQsXG4gICAgICAgICAgICAvLyB0b3A6IHRhcmdldC50b3AsXG4gICAgICAgICAgICB0aGV0YTogZGVncmVlc1RvUmFkaWFucyh0YXJnZXQuYW5nbGUpLFxuICAgICAgICAgICAgLy8gZW5kIG9mIHVuc3VyZVxuICAgICAgICAgICAgd2lkdGg6IHRhcmdldC53aWR0aCAqIHRhcmdldC5zY2FsZVgsXG4gICAgICAgICAgICBzaGlmdEtleTogZS5zaGlmdEtleSxcbiAgICAgICAgICAgIGFsdEtleTogYWx0S2V5LFxuICAgICAgICAgICAgb3JpZ2luYWw6IGZhYnJpYy51dGlsLnNhdmVPYmplY3RUcmFuc2Zvcm0odGFyZ2V0KSxcbiAgICAgICAgICB9O1xuXG4gICAgICBpZiAodGhpcy5fc2hvdWxkQ2VudGVyVHJhbnNmb3JtKHRhcmdldCwgYWN0aW9uLCBhbHRLZXkpKSB7XG4gICAgICAgIHRyYW5zZm9ybS5vcmlnaW5YID0gJ2NlbnRlcic7XG4gICAgICAgIHRyYW5zZm9ybS5vcmlnaW5ZID0gJ2NlbnRlcic7XG4gICAgICB9XG4gICAgICB0cmFuc2Zvcm0ub3JpZ2luYWwub3JpZ2luWCA9IG9yaWdpbi54O1xuICAgICAgdHJhbnNmb3JtLm9yaWdpbmFsLm9yaWdpblkgPSBvcmlnaW4ueTtcbiAgICAgIHRoaXMuX2N1cnJlbnRUcmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICB0aGlzLl9iZWZvcmVUcmFuc2Zvcm0oZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY3Vyc29yIHR5cGUgb2YgdGhlIGNhbnZhcyBlbGVtZW50XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlIEN1cnNvciB0eXBlIG9mIHRoZSBjYW52YXMgZWxlbWVudC5cbiAgICAgKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtdWkvI2N1cnNvclxuICAgICAqL1xuICAgIHNldEN1cnNvcjogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICB0aGlzLnVwcGVyQ2FudmFzRWwuc3R5bGUuY3Vyc29yID0gdmFsdWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCB0byBkcmF3IHRoZSBzZWxlY3Rpb24gb25cbiAgICAgKi9cbiAgICBfZHJhd1NlbGVjdGlvbjogZnVuY3Rpb24gKGN0eCkge1xuICAgICAgdmFyIHNlbGVjdG9yID0gdGhpcy5fZ3JvdXBTZWxlY3RvcixcbiAgICAgICAgICB2aWV3cG9ydFN0YXJ0ID0gbmV3IGZhYnJpYy5Qb2ludChzZWxlY3Rvci5leCwgc2VsZWN0b3IuZXkpLFxuICAgICAgICAgIHN0YXJ0ID0gZmFicmljLnV0aWwudHJhbnNmb3JtUG9pbnQodmlld3BvcnRTdGFydCwgdGhpcy52aWV3cG9ydFRyYW5zZm9ybSksXG4gICAgICAgICAgdmlld3BvcnRFeHRlbnQgPSBuZXcgZmFicmljLlBvaW50KHNlbGVjdG9yLmV4ICsgc2VsZWN0b3IubGVmdCwgc2VsZWN0b3IuZXkgKyBzZWxlY3Rvci50b3ApLFxuICAgICAgICAgIGV4dGVudCA9IGZhYnJpYy51dGlsLnRyYW5zZm9ybVBvaW50KHZpZXdwb3J0RXh0ZW50LCB0aGlzLnZpZXdwb3J0VHJhbnNmb3JtKSxcbiAgICAgICAgICBtaW5YID0gTWF0aC5taW4oc3RhcnQueCwgZXh0ZW50LngpLFxuICAgICAgICAgIG1pblkgPSBNYXRoLm1pbihzdGFydC55LCBleHRlbnQueSksXG4gICAgICAgICAgbWF4WCA9IE1hdGgubWF4KHN0YXJ0LngsIGV4dGVudC54KSxcbiAgICAgICAgICBtYXhZID0gTWF0aC5tYXgoc3RhcnQueSwgZXh0ZW50LnkpLFxuICAgICAgICAgIHN0cm9rZU9mZnNldCA9IHRoaXMuc2VsZWN0aW9uTGluZVdpZHRoIC8gMjtcblxuICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uQ29sb3IpIHtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuc2VsZWN0aW9uQ29sb3I7XG4gICAgICAgIGN0eC5maWxsUmVjdChtaW5YLCBtaW5ZLCBtYXhYIC0gbWluWCwgbWF4WSAtIG1pblkpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuc2VsZWN0aW9uTGluZVdpZHRoIHx8ICF0aGlzLnNlbGVjdGlvbkJvcmRlckNvbG9yKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGN0eC5saW5lV2lkdGggPSB0aGlzLnNlbGVjdGlvbkxpbmVXaWR0aDtcbiAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMuc2VsZWN0aW9uQm9yZGVyQ29sb3I7XG5cbiAgICAgIG1pblggKz0gc3Ryb2tlT2Zmc2V0O1xuICAgICAgbWluWSArPSBzdHJva2VPZmZzZXQ7XG4gICAgICBtYXhYIC09IHN0cm9rZU9mZnNldDtcbiAgICAgIG1heFkgLT0gc3Ryb2tlT2Zmc2V0O1xuICAgICAgLy8gc2VsZWN0aW9uIGJvcmRlclxuICAgICAgZmFicmljLk9iamVjdC5wcm90b3R5cGUuX3NldExpbmVEYXNoLmNhbGwodGhpcywgY3R4LCB0aGlzLnNlbGVjdGlvbkRhc2hBcnJheSk7XG4gICAgICBjdHguc3Ryb2tlUmVjdChtaW5YLCBtaW5ZLCBtYXhYIC0gbWluWCwgbWF4WSAtIG1pblkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdGhhdCBkZXRlcm1pbmVzIHdoYXQgb2JqZWN0IHdlIGFyZSBjbGlja2luZyBvblxuICAgICAqIHRoZSBza2lwR3JvdXAgcGFyYW1ldGVyIGlzIGZvciBpbnRlcm5hbCB1c2UsIGlzIG5lZWRlZCBmb3Igc2hpZnQrY2xpY2sgYWN0aW9uXG4gICAgICogMTEvMDkvMjAxOCBUT0RPOiB3b3VsZCBiZSBjb29sIGlmIGZpbmRUYXJnZXQgY291bGQgZGlzY2VybiBiZXR3ZWVuIGJlaW5nIGEgZnVsbCB0YXJnZXRcbiAgICAgKiBvciB0aGUgb3V0c2lkZSBwYXJ0IG9mIHRoZSBjb3JuZXIuXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBtb3VzZSBldmVudFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gc2tpcEdyb3VwIHdoZW4gdHJ1ZSwgYWN0aXZlR3JvdXAgaXMgc2tpcHBlZCBhbmQgb25seSBvYmplY3RzIGFyZSB0cmF2ZXJzZWQgdGhyb3VnaFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IHRoZSB0YXJnZXQgZm91bmRcbiAgICAgKi9cbiAgICBmaW5kVGFyZ2V0OiBmdW5jdGlvbiAoZSwgc2tpcEdyb3VwKSB7XG4gICAgICBpZiAodGhpcy5za2lwVGFyZ2V0RmluZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBpZ25vcmVab29tID0gdHJ1ZSxcbiAgICAgICAgICBwb2ludGVyID0gdGhpcy5nZXRQb2ludGVyKGUsIGlnbm9yZVpvb20pLFxuICAgICAgICAgIGFjdGl2ZU9iamVjdCA9IHRoaXMuX2FjdGl2ZU9iamVjdCxcbiAgICAgICAgICBhT2JqZWN0cyA9IHRoaXMuZ2V0QWN0aXZlT2JqZWN0cygpLFxuICAgICAgICAgIGFjdGl2ZVRhcmdldCwgYWN0aXZlVGFyZ2V0U3VicyxcbiAgICAgICAgICBpc1RvdWNoID0gaXNUb3VjaEV2ZW50KGUpLFxuICAgICAgICAgIHNob3VsZExvb2tGb3JBY3RpdmUgPSAoYU9iamVjdHMubGVuZ3RoID4gMSAmJiAhc2tpcEdyb3VwKSB8fCBhT2JqZWN0cy5sZW5ndGggPT09IDE7XG5cbiAgICAgIC8vIGZpcnN0IGNoZWNrIGN1cnJlbnQgZ3JvdXAgKGlmIG9uZSBleGlzdHMpXG4gICAgICAvLyBhY3RpdmUgZ3JvdXAgZG9lcyBub3QgY2hlY2sgc3ViIHRhcmdldHMgbGlrZSBub3JtYWwgZ3JvdXBzLlxuICAgICAgLy8gaWYgYWN0aXZlIGdyb3VwIGp1c3QgZXhpdHMuXG4gICAgICB0aGlzLnRhcmdldHMgPSBbXTtcblxuICAgICAgLy8gaWYgd2UgaGl0IHRoZSBjb3JuZXIgb2YgYW4gYWN0aXZlT2JqZWN0LCBsZXQncyByZXR1cm4gdGhhdC5cbiAgICAgIGlmIChzaG91bGRMb29rRm9yQWN0aXZlICYmIGFjdGl2ZU9iamVjdC5fZmluZFRhcmdldENvcm5lcihwb2ludGVyLCBpc1RvdWNoKSkge1xuICAgICAgICByZXR1cm4gYWN0aXZlT2JqZWN0O1xuICAgICAgfVxuICAgICAgaWYgKGFPYmplY3RzLmxlbmd0aCA+IDEgJiYgIXNraXBHcm91cCAmJiBhY3RpdmVPYmplY3QgPT09IHRoaXMuX3NlYXJjaFBvc3NpYmxlVGFyZ2V0cyhbYWN0aXZlT2JqZWN0XSwgcG9pbnRlcikpIHtcbiAgICAgICAgcmV0dXJuIGFjdGl2ZU9iamVjdDtcbiAgICAgIH1cbiAgICAgIGlmIChhT2JqZWN0cy5sZW5ndGggPT09IDEgJiZcbiAgICAgICAgYWN0aXZlT2JqZWN0ID09PSB0aGlzLl9zZWFyY2hQb3NzaWJsZVRhcmdldHMoW2FjdGl2ZU9iamVjdF0sIHBvaW50ZXIpKSB7XG4gICAgICAgIGlmICghdGhpcy5wcmVzZXJ2ZU9iamVjdFN0YWNraW5nKSB7XG4gICAgICAgICAgcmV0dXJuIGFjdGl2ZU9iamVjdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBhY3RpdmVUYXJnZXQgPSBhY3RpdmVPYmplY3Q7XG4gICAgICAgICAgYWN0aXZlVGFyZ2V0U3VicyA9IHRoaXMudGFyZ2V0cztcbiAgICAgICAgICB0aGlzLnRhcmdldHMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIHRhcmdldCA9IHRoaXMuX3NlYXJjaFBvc3NpYmxlVGFyZ2V0cyh0aGlzLl9vYmplY3RzLCBwb2ludGVyKTtcbiAgICAgIGlmIChlW3RoaXMuYWx0U2VsZWN0aW9uS2V5XSAmJiB0YXJnZXQgJiYgYWN0aXZlVGFyZ2V0ICYmIHRhcmdldCAhPT0gYWN0aXZlVGFyZ2V0KSB7XG4gICAgICAgIHRhcmdldCA9IGFjdGl2ZVRhcmdldDtcbiAgICAgICAgdGhpcy50YXJnZXRzID0gYWN0aXZlVGFyZ2V0U3VicztcbiAgICAgIH1cbiAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBwb2ludCBpcyBpbnNpZGUgdGhlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3BvaW50ZXJdIHgseSBvYmplY3Qgb2YgcG9pbnQgY29vcmRpbmF0ZXMgd2Ugd2FudCB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IG9iaiBPYmplY3QgdG8gdGVzdCBhZ2FpbnN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtnbG9iYWxQb2ludGVyXSB4LHkgb2JqZWN0IG9mIHBvaW50IGNvb3JkaW5hdGVzIHJlbGF0aXZlIHRvIGNhbnZhcyB1c2VkIHRvIHNlYXJjaCBwZXIgcGl4ZWwgdGFyZ2V0LlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgcG9pbnQgaXMgY29udGFpbmVkIHdpdGhpbiBhbiBhcmVhIG9mIGdpdmVuIG9iamVjdFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2NoZWNrVGFyZ2V0OiBmdW5jdGlvbihwb2ludGVyLCBvYmosIGdsb2JhbFBvaW50ZXIpIHtcbiAgICAgIGlmIChvYmogJiZcbiAgICAgICAgICBvYmoudmlzaWJsZSAmJlxuICAgICAgICAgIG9iai5ldmVudGVkICYmXG4gICAgICAgICAgLy8gaHR0cDovL3d3dy5nZW9nLnViYy5jYS9jb3Vyc2VzL2tsaW5rL2dpcy5ub3Rlcy9uY2dpYS91MzIuaHRtbFxuICAgICAgICAgIC8vIGh0dHA6Ly9pZGF2LnVjZGF2aXMuZWR1L35va3JleWxvcy9UQXNoaXAvU3ByaW5nMjAwMC9Qb2ludEluUG9seWdvbi5odG1sXG4gICAgICAgICAgb2JqLmNvbnRhaW5zUG9pbnQocG9pbnRlcilcbiAgICAgICkge1xuICAgICAgICBpZiAoKHRoaXMucGVyUGl4ZWxUYXJnZXRGaW5kIHx8IG9iai5wZXJQaXhlbFRhcmdldEZpbmQpICYmICFvYmouaXNFZGl0aW5nKSB7XG4gICAgICAgICAgdmFyIGlzVHJhbnNwYXJlbnQgPSB0aGlzLmlzVGFyZ2V0VHJhbnNwYXJlbnQob2JqLCBnbG9iYWxQb2ludGVyLngsIGdsb2JhbFBvaW50ZXIueSk7XG4gICAgICAgICAgaWYgKCFpc1RyYW5zcGFyZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdXNlZCB0byBzZWFyY2ggaW5zaWRlIG9iamVjdHMgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgcG9pbnRlciBpbiBib3VuZGluZyBib3ggb3IgdGhhdCBjb250YWlucyBwb2ludGVyT25DYW52YXMgd2hlbiBwYWludGVkXG4gICAgICogQHBhcmFtIHtBcnJheX0gW29iamVjdHNdIG9iamVjdHMgYXJyYXkgdG8gbG9vayBpbnRvXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtwb2ludGVyXSB4LHkgb2JqZWN0IG9mIHBvaW50IGNvb3JkaW5hdGVzIHdlIHdhbnQgdG8gY2hlY2suXG4gICAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gb2JqZWN0IHRoYXQgY29udGFpbnMgcG9pbnRlclxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3NlYXJjaFBvc3NpYmxlVGFyZ2V0czogZnVuY3Rpb24ob2JqZWN0cywgcG9pbnRlcikge1xuICAgICAgLy8gQ2FjaGUgYWxsIHRhcmdldHMgd2hlcmUgdGhlaXIgYm91bmRpbmcgYm94IGNvbnRhaW5zIHBvaW50LlxuICAgICAgdmFyIHRhcmdldCwgaSA9IG9iamVjdHMubGVuZ3RoLCBzdWJUYXJnZXQ7XG4gICAgICAvLyBEbyBub3QgY2hlY2sgZm9yIGN1cnJlbnRseSBncm91cGVkIG9iamVjdHMsIHNpbmNlIHdlIGNoZWNrIHRoZSBwYXJlbnQgZ3JvdXAgaXRzZWxmLlxuICAgICAgLy8gdW50aWwgd2UgY2FsbCB0aGlzIGZ1bmN0aW9uIHNwZWNpZmljYWxseSB0byBzZWFyY2ggaW5zaWRlIHRoZSBhY3RpdmVHcm91cFxuICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICB2YXIgb2JqVG9DaGVjayA9IG9iamVjdHNbaV07XG4gICAgICAgIHZhciBwb2ludGVyVG9Vc2UgPSBvYmpUb0NoZWNrLmdyb3VwID9cbiAgICAgICAgICB0aGlzLl9ub3JtYWxpemVQb2ludGVyKG9ialRvQ2hlY2suZ3JvdXAsIHBvaW50ZXIpIDogcG9pbnRlcjtcbiAgICAgICAgaWYgKHRoaXMuX2NoZWNrVGFyZ2V0KHBvaW50ZXJUb1VzZSwgb2JqVG9DaGVjaywgcG9pbnRlcikpIHtcbiAgICAgICAgICB0YXJnZXQgPSBvYmplY3RzW2ldO1xuICAgICAgICAgIGlmICh0YXJnZXQuc3ViVGFyZ2V0Q2hlY2sgJiYgdGFyZ2V0IGluc3RhbmNlb2YgZmFicmljLkdyb3VwKSB7XG4gICAgICAgICAgICBzdWJUYXJnZXQgPSB0aGlzLl9zZWFyY2hQb3NzaWJsZVRhcmdldHModGFyZ2V0Ll9vYmplY3RzLCBwb2ludGVyKTtcbiAgICAgICAgICAgIHN1YlRhcmdldCAmJiB0aGlzLnRhcmdldHMucHVzaChzdWJUYXJnZXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBwb2ludGVyIGNvb3JkaW5hdGVzIHdpdGhvdXQgdGhlIGVmZmVjdCBvZiB0aGUgdmlld3BvcnRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnRlciB3aXRoIFwieFwiIGFuZCBcInlcIiBudW1iZXIgdmFsdWVzXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBvYmplY3Qgd2l0aCBcInhcIiBhbmQgXCJ5XCIgbnVtYmVyIHZhbHVlc1xuICAgICAqL1xuICAgIHJlc3RvcmVQb2ludGVyVnB0OiBmdW5jdGlvbihwb2ludGVyKSB7XG4gICAgICByZXR1cm4gZmFicmljLnV0aWwudHJhbnNmb3JtUG9pbnQoXG4gICAgICAgIHBvaW50ZXIsXG4gICAgICAgIGZhYnJpYy51dGlsLmludmVydFRyYW5zZm9ybSh0aGlzLnZpZXdwb3J0VHJhbnNmb3JtKVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBwb2ludGVyIGNvb3JkaW5hdGVzIHJlbGF0aXZlIHRvIGNhbnZhcy5cbiAgICAgKiBDYW4gcmV0dXJuIGNvb3JkaW5hdGVzIHdpdGggb3Igd2l0aG91dCB2aWV3cG9ydFRyYW5zZm9ybS5cbiAgICAgKiBpZ25vcmVab29tIGZhbHNlIGdpdmVzIGJhY2sgY29vcmRpbmF0ZXMgdGhhdCByZXByZXNlbnRcbiAgICAgKiB0aGUgcG9pbnQgY2xpY2tlZCBvbiBjYW52YXMgZWxlbWVudC5cbiAgICAgKiBpZ25vcmVab29tIHRydWUgZ2l2ZXMgYmFjayBjb29yZGluYXRlcyBhZnRlciBiZWluZyBwcm9jZXNzZWRcbiAgICAgKiBieSB0aGUgdmlld3BvcnRUcmFuc2Zvcm0gKCBzb3J0IG9mIGNvb3JkaW5hdGVzIG9mIHdoYXQgaXMgZGlzcGxheWVkXG4gICAgICogb24gdGhlIGNhbnZhcyB3aGVyZSB5b3UgYXJlIGNsaWNraW5nLlxuICAgICAqIGlnbm9yZVpvb20gdHJ1ZSA9IEhUTUxFbGVtZW50IGNvb3JkaW5hdGVzIHJlbGF0aXZlIHRvIHRvcCxsZWZ0XG4gICAgICogaWdub3JlWm9vbSBmYWxzZSwgZGVmYXVsdCA9IGZhYnJpYyBzcGFjZSBjb29yZGluYXRlcywgdGhlIHNhbWUgdXNlZCBmb3Igc2hhcGUgcG9zaXRpb25cbiAgICAgKiBUbyBpbnRlcmFjdCB3aXRoIHlvdXIgc2hhcGVzIHRvcCBhbmQgbGVmdCB5b3Ugd2FudCB0byB1c2UgaWdub3JlWm9vbSB0cnVlXG4gICAgICogbW9zdCBvZiB0aGUgdGltZSwgd2hpbGUgaWdub3JlWm9vbSBmYWxzZSB3aWxsIGdpdmUgeW91IGNvb3JkaW5hdGVzXG4gICAgICogY29tcGF0aWJsZSB3aXRoIHRoZSBvYmplY3Qub0Nvb3JkcyBzeXN0ZW0uXG4gICAgICogb2YgdGhlIHRpbWUuXG4gICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gaWdub3JlWm9vbVxuICAgICAqIEByZXR1cm4ge09iamVjdH0gb2JqZWN0IHdpdGggXCJ4XCIgYW5kIFwieVwiIG51bWJlciB2YWx1ZXNcbiAgICAgKi9cbiAgICBnZXRQb2ludGVyOiBmdW5jdGlvbiAoZSwgaWdub3JlWm9vbSkge1xuICAgICAgLy8gcmV0dXJuIGNhY2hlZCB2YWx1ZXMgaWYgd2UgYXJlIGluIHRoZSBldmVudCBwcm9jZXNzaW5nIGNoYWluXG4gICAgICBpZiAodGhpcy5fYWJzb2x1dGVQb2ludGVyICYmICFpZ25vcmVab29tKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hYnNvbHV0ZVBvaW50ZXI7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fcG9pbnRlciAmJiBpZ25vcmVab29tKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wb2ludGVyO1xuICAgICAgfVxuXG4gICAgICB2YXIgcG9pbnRlciA9IGdldFBvaW50ZXIoZSksXG4gICAgICAgICAgdXBwZXJDYW52YXNFbCA9IHRoaXMudXBwZXJDYW52YXNFbCxcbiAgICAgICAgICBib3VuZHMgPSB1cHBlckNhbnZhc0VsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICAgIGJvdW5kc1dpZHRoID0gYm91bmRzLndpZHRoIHx8IDAsXG4gICAgICAgICAgYm91bmRzSGVpZ2h0ID0gYm91bmRzLmhlaWdodCB8fCAwLFxuICAgICAgICAgIGNzc1NjYWxlO1xuXG4gICAgICBpZiAoIWJvdW5kc1dpZHRoIHx8ICFib3VuZHNIZWlnaHQgKSB7XG4gICAgICAgIGlmICgndG9wJyBpbiBib3VuZHMgJiYgJ2JvdHRvbScgaW4gYm91bmRzKSB7XG4gICAgICAgICAgYm91bmRzSGVpZ2h0ID0gTWF0aC5hYnMoIGJvdW5kcy50b3AgLSBib3VuZHMuYm90dG9tICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCdyaWdodCcgaW4gYm91bmRzICYmICdsZWZ0JyBpbiBib3VuZHMpIHtcbiAgICAgICAgICBib3VuZHNXaWR0aCA9IE1hdGguYWJzKCBib3VuZHMucmlnaHQgLSBib3VuZHMubGVmdCApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY2FsY09mZnNldCgpO1xuICAgICAgcG9pbnRlci54ID0gcG9pbnRlci54IC0gdGhpcy5fb2Zmc2V0LmxlZnQ7XG4gICAgICBwb2ludGVyLnkgPSBwb2ludGVyLnkgLSB0aGlzLl9vZmZzZXQudG9wO1xuICAgICAgaWYgKCFpZ25vcmVab29tKSB7XG4gICAgICAgIHBvaW50ZXIgPSB0aGlzLnJlc3RvcmVQb2ludGVyVnB0KHBvaW50ZXIpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmV0aW5hU2NhbGluZyA9IHRoaXMuZ2V0UmV0aW5hU2NhbGluZygpO1xuICAgICAgaWYgKHJldGluYVNjYWxpbmcgIT09IDEpIHtcbiAgICAgICAgcG9pbnRlci54IC89IHJldGluYVNjYWxpbmc7XG4gICAgICAgIHBvaW50ZXIueSAvPSByZXRpbmFTY2FsaW5nO1xuICAgICAgfVxuXG4gICAgICBpZiAoYm91bmRzV2lkdGggPT09IDAgfHwgYm91bmRzSGVpZ2h0ID09PSAwKSB7XG4gICAgICAgIC8vIElmIGJvdW5kcyBhcmUgbm90IGF2YWlsYWJsZSAoaS5lLiBub3QgdmlzaWJsZSksIGRvIG5vdCBhcHBseSBzY2FsZS5cbiAgICAgICAgY3NzU2NhbGUgPSB7IHdpZHRoOiAxLCBoZWlnaHQ6IDEgfTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBjc3NTY2FsZSA9IHtcbiAgICAgICAgICB3aWR0aDogdXBwZXJDYW52YXNFbC53aWR0aCAvIGJvdW5kc1dpZHRoLFxuICAgICAgICAgIGhlaWdodDogdXBwZXJDYW52YXNFbC5oZWlnaHQgLyBib3VuZHNIZWlnaHRcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDogcG9pbnRlci54ICogY3NzU2NhbGUud2lkdGgsXG4gICAgICAgIHk6IHBvaW50ZXIueSAqIGNzc1NjYWxlLmhlaWdodFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdGhyb3dzIHtDQU5WQVNfSU5JVF9FUlJPUn0gSWYgY2FudmFzIGNhbiBub3QgYmUgaW5pdGlhbGl6ZWRcbiAgICAgKi9cbiAgICBfY3JlYXRlVXBwZXJDYW52YXM6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBsb3dlckNhbnZhc0NsYXNzID0gdGhpcy5sb3dlckNhbnZhc0VsLmNsYXNzTmFtZS5yZXBsYWNlKC9cXHMqbG93ZXItY2FudmFzXFxzKi8sICcnKSxcbiAgICAgICAgICBsb3dlckNhbnZhc0VsID0gdGhpcy5sb3dlckNhbnZhc0VsLCB1cHBlckNhbnZhc0VsID0gdGhpcy51cHBlckNhbnZhc0VsO1xuXG4gICAgICAvLyB0aGVyZSBpcyBubyBuZWVkIHRvIGNyZWF0ZSBhIG5ldyB1cHBlckNhbnZhcyBlbGVtZW50IGlmIHdlIGhhdmUgYWxyZWFkeSBvbmUuXG4gICAgICBpZiAodXBwZXJDYW52YXNFbCkge1xuICAgICAgICB1cHBlckNhbnZhc0VsLmNsYXNzTmFtZSA9ICcnO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHVwcGVyQ2FudmFzRWwgPSB0aGlzLl9jcmVhdGVDYW52YXNFbGVtZW50KCk7XG4gICAgICAgIHRoaXMudXBwZXJDYW52YXNFbCA9IHVwcGVyQ2FudmFzRWw7XG4gICAgICB9XG4gICAgICBmYWJyaWMudXRpbC5hZGRDbGFzcyh1cHBlckNhbnZhc0VsLCAndXBwZXItY2FudmFzICcgKyBsb3dlckNhbnZhc0NsYXNzKTtcblxuICAgICAgdGhpcy53cmFwcGVyRWwuYXBwZW5kQ2hpbGQodXBwZXJDYW52YXNFbCk7XG5cbiAgICAgIHRoaXMuX2NvcHlDYW52YXNTdHlsZShsb3dlckNhbnZhc0VsLCB1cHBlckNhbnZhc0VsKTtcbiAgICAgIHRoaXMuX2FwcGx5Q2FudmFzU3R5bGUodXBwZXJDYW52YXNFbCk7XG4gICAgICB0aGlzLmNvbnRleHRUb3AgPSB1cHBlckNhbnZhc0VsLmdldENvbnRleHQoJzJkJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgY29udGV4dCBvZiB0b3AgY2FudmFzIHdoZXJlIGludGVyYWN0aW9ucyBhcmUgZHJhd25cbiAgICAgKiBAcmV0dXJucyB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAqL1xuICAgIGdldFRvcENvbnRleHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnRleHRUb3A7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2NyZWF0ZUNhY2hlQ2FudmFzOiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmNhY2hlQ2FudmFzRWwgPSB0aGlzLl9jcmVhdGVDYW52YXNFbGVtZW50KCk7XG4gICAgICB0aGlzLmNhY2hlQ2FudmFzRWwuc2V0QXR0cmlidXRlKCd3aWR0aCcsIHRoaXMud2lkdGgpO1xuICAgICAgdGhpcy5jYWNoZUNhbnZhc0VsLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgdGhpcy5oZWlnaHQpO1xuICAgICAgdGhpcy5jb250ZXh0Q2FjaGUgPSB0aGlzLmNhY2hlQ2FudmFzRWwuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfaW5pdFdyYXBwZXJFbGVtZW50OiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLndyYXBwZXJFbCA9IGZhYnJpYy51dGlsLndyYXBFbGVtZW50KHRoaXMubG93ZXJDYW52YXNFbCwgJ2RpdicsIHtcbiAgICAgICAgJ2NsYXNzJzogdGhpcy5jb250YWluZXJDbGFzc1xuICAgICAgfSk7XG4gICAgICBmYWJyaWMudXRpbC5zZXRTdHlsZSh0aGlzLndyYXBwZXJFbCwge1xuICAgICAgICB3aWR0aDogdGhpcy53aWR0aCArICdweCcsXG4gICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQgKyAncHgnLFxuICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJ1xuICAgICAgfSk7XG4gICAgICBmYWJyaWMudXRpbC5tYWtlRWxlbWVudFVuc2VsZWN0YWJsZSh0aGlzLndyYXBwZXJFbCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBjYW52YXMgZWxlbWVudCB0byBhcHBseSBzdHlsZXMgb25cbiAgICAgKi9cbiAgICBfYXBwbHlDYW52YXNTdHlsZTogZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgIHZhciB3aWR0aCA9IHRoaXMud2lkdGggfHwgZWxlbWVudC53aWR0aCxcbiAgICAgICAgICBoZWlnaHQgPSB0aGlzLmhlaWdodCB8fCBlbGVtZW50LmhlaWdodDtcblxuICAgICAgZmFicmljLnV0aWwuc2V0U3R5bGUoZWxlbWVudCwge1xuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgd2lkdGg6IHdpZHRoICsgJ3B4JyxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQgKyAncHgnLFxuICAgICAgICBsZWZ0OiAwLFxuICAgICAgICB0b3A6IDAsXG4gICAgICAgICd0b3VjaC1hY3Rpb24nOiB0aGlzLmFsbG93VG91Y2hTY3JvbGxpbmcgPyAnbWFuaXB1bGF0aW9uJyA6ICdub25lJyxcbiAgICAgICAgJy1tcy10b3VjaC1hY3Rpb24nOiB0aGlzLmFsbG93VG91Y2hTY3JvbGxpbmcgPyAnbWFuaXB1bGF0aW9uJyA6ICdub25lJ1xuICAgICAgfSk7XG4gICAgICBlbGVtZW50LndpZHRoID0gd2lkdGg7XG4gICAgICBlbGVtZW50LmhlaWdodCA9IGhlaWdodDtcbiAgICAgIGZhYnJpYy51dGlsLm1ha2VFbGVtZW50VW5zZWxlY3RhYmxlKGVsZW1lbnQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDb3B5IHRoZSBlbnRpcmUgaW5saW5lIHN0eWxlIGZyb20gb25lIGVsZW1lbnQgKGZyb21FbCkgdG8gYW5vdGhlciAodG9FbClcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZnJvbUVsIEVsZW1lbnQgc3R5bGUgaXMgY29waWVkIGZyb21cbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IHRvRWwgRWxlbWVudCBjb3BpZWQgc3R5bGUgaXMgYXBwbGllZCB0b1xuICAgICAqL1xuICAgIF9jb3B5Q2FudmFzU3R5bGU6IGZ1bmN0aW9uIChmcm9tRWwsIHRvRWwpIHtcbiAgICAgIHRvRWwuc3R5bGUuY3NzVGV4dCA9IGZyb21FbC5zdHlsZS5jc3NUZXh0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGNvbnRleHQgb2YgY2FudmFzIHdoZXJlIG9iamVjdCBzZWxlY3Rpb24gaXMgZHJhd25cbiAgICAgKiBAcmV0dXJuIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICovXG4gICAgZ2V0U2VsZWN0aW9uQ29udGV4dDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb250ZXh0VG9wO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zICZsdDtjYW52YXM+IGVsZW1lbnQgb24gd2hpY2ggb2JqZWN0IHNlbGVjdGlvbiBpcyBkcmF3blxuICAgICAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAqL1xuICAgIGdldFNlbGVjdGlvbkVsZW1lbnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLnVwcGVyQ2FudmFzRWw7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgY3VycmVudGx5IGFjdGl2ZSBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSBhY3RpdmUgb2JqZWN0XG4gICAgICovXG4gICAgZ2V0QWN0aXZlT2JqZWN0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fYWN0aXZlT2JqZWN0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IHdpdGggdGhlIGN1cnJlbnQgc2VsZWN0ZWQgb2JqZWN0c1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IGFjdGl2ZSBvYmplY3RcbiAgICAgKi9cbiAgICBnZXRBY3RpdmVPYmplY3RzOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgYWN0aXZlID0gdGhpcy5fYWN0aXZlT2JqZWN0O1xuICAgICAgaWYgKGFjdGl2ZSkge1xuICAgICAgICBpZiAoYWN0aXZlLnR5cGUgPT09ICdhY3RpdmVTZWxlY3Rpb24nICYmIGFjdGl2ZS5fb2JqZWN0cykge1xuICAgICAgICAgIHJldHVybiBhY3RpdmUuX29iamVjdHMuc2xpY2UoMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFthY3RpdmVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gW107XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmogT2JqZWN0IHRoYXQgd2FzIHJlbW92ZWRcbiAgICAgKi9cbiAgICBfb25PYmplY3RSZW1vdmVkOiBmdW5jdGlvbihvYmopIHtcbiAgICAgIC8vIHJlbW92aW5nIGFjdGl2ZSBvYmplY3Qgc2hvdWxkIGZpcmUgXCJzZWxlY3Rpb246Y2xlYXJlZFwiIGV2ZW50c1xuICAgICAgaWYgKG9iaiA9PT0gdGhpcy5fYWN0aXZlT2JqZWN0KSB7XG4gICAgICAgIHRoaXMuZmlyZSgnYmVmb3JlOnNlbGVjdGlvbjpjbGVhcmVkJywgeyB0YXJnZXQ6IG9iaiB9KTtcbiAgICAgICAgdGhpcy5fZGlzY2FyZEFjdGl2ZU9iamVjdCgpO1xuICAgICAgICB0aGlzLmZpcmUoJ3NlbGVjdGlvbjpjbGVhcmVkJywgeyB0YXJnZXQ6IG9iaiB9KTtcbiAgICAgICAgb2JqLmZpcmUoJ2Rlc2VsZWN0ZWQnKTtcbiAgICAgIH1cbiAgICAgIGlmIChvYmogPT09IHRoaXMuX2hvdmVyZWRUYXJnZXQpe1xuICAgICAgICB0aGlzLl9ob3ZlcmVkVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5faG92ZXJlZFRhcmdldHMgPSBbXTtcbiAgICAgIH1cbiAgICAgIHRoaXMuY2FsbFN1cGVyKCdfb25PYmplY3RSZW1vdmVkJywgb2JqKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBDb21wYXJlcyB0aGUgb2xkIGFjdGl2ZU9iamVjdCB3aXRoIHRoZSBjdXJyZW50IG9uZSBhbmQgZmlyZXMgY29ycmVjdCBldmVudHNcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IG9iaiBvbGQgYWN0aXZlT2JqZWN0XG4gICAgICovXG4gICAgX2ZpcmVTZWxlY3Rpb25FdmVudHM6IGZ1bmN0aW9uKG9sZE9iamVjdHMsIGUpIHtcbiAgICAgIHZhciBzb21ldGhpbmdDaGFuZ2VkID0gZmFsc2UsIG9iamVjdHMgPSB0aGlzLmdldEFjdGl2ZU9iamVjdHMoKSxcbiAgICAgICAgICBhZGRlZCA9IFtdLCByZW1vdmVkID0gW107XG4gICAgICBvbGRPYmplY3RzLmZvckVhY2goZnVuY3Rpb24ob2xkT2JqZWN0KSB7XG4gICAgICAgIGlmIChvYmplY3RzLmluZGV4T2Yob2xkT2JqZWN0KSA9PT0gLTEpIHtcbiAgICAgICAgICBzb21ldGhpbmdDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICBvbGRPYmplY3QuZmlyZSgnZGVzZWxlY3RlZCcsIHtcbiAgICAgICAgICAgIGU6IGUsXG4gICAgICAgICAgICB0YXJnZXQ6IG9sZE9iamVjdFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJlbW92ZWQucHVzaChvbGRPYmplY3QpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIG9iamVjdHMuZm9yRWFjaChmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgaWYgKG9sZE9iamVjdHMuaW5kZXhPZihvYmplY3QpID09PSAtMSkge1xuICAgICAgICAgIHNvbWV0aGluZ0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgIG9iamVjdC5maXJlKCdzZWxlY3RlZCcsIHtcbiAgICAgICAgICAgIGU6IGUsXG4gICAgICAgICAgICB0YXJnZXQ6IG9iamVjdFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGFkZGVkLnB1c2gob2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAob2xkT2JqZWN0cy5sZW5ndGggPiAwICYmIG9iamVjdHMubGVuZ3RoID4gMCkge1xuICAgICAgICBzb21ldGhpbmdDaGFuZ2VkICYmIHRoaXMuZmlyZSgnc2VsZWN0aW9uOnVwZGF0ZWQnLCB7XG4gICAgICAgICAgZTogZSxcbiAgICAgICAgICBzZWxlY3RlZDogYWRkZWQsXG4gICAgICAgICAgZGVzZWxlY3RlZDogcmVtb3ZlZCxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChvYmplY3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhpcy5maXJlKCdzZWxlY3Rpb246Y3JlYXRlZCcsIHtcbiAgICAgICAgICBlOiBlLFxuICAgICAgICAgIHNlbGVjdGVkOiBhZGRlZCxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChvbGRPYmplY3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhpcy5maXJlKCdzZWxlY3Rpb246Y2xlYXJlZCcsIHtcbiAgICAgICAgICBlOiBlLFxuICAgICAgICAgIGRlc2VsZWN0ZWQ6IHJlbW92ZWQsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIGdpdmVuIG9iamVjdCBhcyB0aGUgb25seSBhY3RpdmUgb2JqZWN0IG9uIGNhbnZhc1xuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gb2JqZWN0IE9iamVjdCB0byBzZXQgYXMgYW4gYWN0aXZlIG9uZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IFtlXSBFdmVudCAocGFzc2VkIGFsb25nIHdoZW4gZmlyaW5nIFwib2JqZWN0OnNlbGVjdGVkXCIpXG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzZXRBY3RpdmVPYmplY3Q6IGZ1bmN0aW9uIChvYmplY3QsIGUpIHtcbiAgICAgIHZhciBjdXJyZW50QWN0aXZlcyA9IHRoaXMuZ2V0QWN0aXZlT2JqZWN0cygpO1xuICAgICAgdGhpcy5fc2V0QWN0aXZlT2JqZWN0KG9iamVjdCwgZSk7XG4gICAgICB0aGlzLl9maXJlU2VsZWN0aW9uRXZlbnRzKGN1cnJlbnRBY3RpdmVzLCBlKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGlzIGEgcHJpdmF0ZSBtZXRob2QgZm9yIG5vdy5cbiAgICAgKiBUaGlzIGlzIHN1cHBvc2VkIHRvIGJlIGVxdWl2YWxlbnQgdG8gc2V0QWN0aXZlT2JqZWN0IGJ1dCB3aXRob3V0IGZpcmluZ1xuICAgICAqIGFueSBldmVudC4gVGhlcmUgaXMgY29tbWl0bWVudCB0byBoYXZlIHRoaXMgc3RheSB0aGlzIHdheS5cbiAgICAgKiBUaGlzIGlzIHRoZSBmdW5jdGlvbmFsIHBhcnQgb2Ygc2V0QWN0aXZlT2JqZWN0LlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCB0byBzZXQgYXMgYWN0aXZlXG4gICAgICogQHBhcmFtIHtFdmVudH0gW2VdIEV2ZW50IChwYXNzZWQgYWxvbmcgd2hlbiBmaXJpbmcgXCJvYmplY3Q6c2VsZWN0ZWRcIilcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIHRoZSBzZWxlY3Rpb24gaGFwcGVuZWRcbiAgICAgKi9cbiAgICBfc2V0QWN0aXZlT2JqZWN0OiBmdW5jdGlvbihvYmplY3QsIGUpIHtcbiAgICAgIGlmICh0aGlzLl9hY3RpdmVPYmplY3QgPT09IG9iamVjdCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuX2Rpc2NhcmRBY3RpdmVPYmplY3QoZSwgb2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAob2JqZWN0Lm9uU2VsZWN0KHsgZTogZSB9KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB0aGlzLl9hY3RpdmVPYmplY3QgPSBvYmplY3Q7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVGhpcyBpcyBhIHByaXZhdGUgbWV0aG9kIGZvciBub3cuXG4gICAgICogVGhpcyBpcyBzdXBwb3NlZCB0byBiZSBlcXVpdmFsZW50IHRvIGRpc2NhcmRBY3RpdmVPYmplY3QgYnV0IHdpdGhvdXQgZmlyaW5nXG4gICAgICogYW55IGV2ZW50cy4gVGhlcmUgaXMgY29tbWl0bWVudCB0byBoYXZlIHRoaXMgc3RheSB0aGlzIHdheS5cbiAgICAgKiBUaGlzIGlzIHRoZSBmdW5jdGlvbmFsIHBhcnQgb2YgZGlzY2FyZEFjdGl2ZU9iamVjdC5cbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBbZV0gRXZlbnQgKHBhc3NlZCBhbG9uZyB3aGVuIGZpcmluZyBcIm9iamVjdDpkZXNlbGVjdGVkXCIpXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCB0byBzZXQgYXMgYWN0aXZlXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiB0aGUgc2VsZWN0aW9uIGhhcHBlbmVkXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZGlzY2FyZEFjdGl2ZU9iamVjdDogZnVuY3Rpb24oZSwgb2JqZWN0KSB7XG4gICAgICB2YXIgb2JqID0gdGhpcy5fYWN0aXZlT2JqZWN0O1xuICAgICAgaWYgKG9iaikge1xuICAgICAgICAvLyBvbkRlc2VsZWN0IHJldHVybiBUUlVFIHRvIGNhbmNlbCBzZWxlY3Rpb247XG4gICAgICAgIGlmIChvYmoub25EZXNlbGVjdCh7IGU6IGUsIG9iamVjdDogb2JqZWN0IH0pKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2FjdGl2ZU9iamVjdCA9IG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGlzY2FyZHMgY3VycmVudGx5IGFjdGl2ZSBvYmplY3QgYW5kIGZpcmUgZXZlbnRzLiBJZiB0aGUgZnVuY3Rpb24gaXMgY2FsbGVkIGJ5IGZhYnJpY1xuICAgICAqIGFzIGEgY29uc2VxdWVuY2Ugb2YgYSBtb3VzZSBldmVudCwgdGhlIGV2ZW50IGlzIHBhc3NlZCBhcyBhIHBhcmFtZXRlciBhbmRcbiAgICAgKiBzZW50IHRvIHRoZSBmaXJlIGZ1bmN0aW9uIGZvciB0aGUgY3VzdG9tIGV2ZW50cy4gV2hlbiB1c2VkIGFzIGEgbWV0aG9kIHRoZVxuICAgICAqIGUgcGFyYW0gZG9lcyBub3QgaGF2ZSBhbnkgYXBwbGljYXRpb24uXG4gICAgICogQHBhcmFtIHtldmVudH0gZVxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgZGlzY2FyZEFjdGl2ZU9iamVjdDogZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBjdXJyZW50QWN0aXZlcyA9IHRoaXMuZ2V0QWN0aXZlT2JqZWN0cygpLCBhY3RpdmVPYmplY3QgPSB0aGlzLmdldEFjdGl2ZU9iamVjdCgpO1xuICAgICAgaWYgKGN1cnJlbnRBY3RpdmVzLmxlbmd0aCkge1xuICAgICAgICB0aGlzLmZpcmUoJ2JlZm9yZTpzZWxlY3Rpb246Y2xlYXJlZCcsIHsgdGFyZ2V0OiBhY3RpdmVPYmplY3QsIGU6IGUgfSk7XG4gICAgICB9XG4gICAgICB0aGlzLl9kaXNjYXJkQWN0aXZlT2JqZWN0KGUpO1xuICAgICAgdGhpcy5fZmlyZVNlbGVjdGlvbkV2ZW50cyhjdXJyZW50QWN0aXZlcywgZSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIGEgY2FudmFzIGVsZW1lbnQgYW5kIHJlbW92ZXMgYWxsIGV2ZW50IGxpc3RlbmVyc1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgZGlzcG9zZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHdyYXBwZXIgPSB0aGlzLndyYXBwZXJFbDtcbiAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXJzKCk7XG4gICAgICB3cmFwcGVyLnJlbW92ZUNoaWxkKHRoaXMudXBwZXJDYW52YXNFbCk7XG4gICAgICB3cmFwcGVyLnJlbW92ZUNoaWxkKHRoaXMubG93ZXJDYW52YXNFbCk7XG4gICAgICB0aGlzLmNvbnRleHRDYWNoZSA9IG51bGw7XG4gICAgICB0aGlzLmNvbnRleHRUb3AgPSBudWxsO1xuICAgICAgWyd1cHBlckNhbnZhc0VsJywgJ2NhY2hlQ2FudmFzRWwnXS5mb3JFYWNoKChmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgIGZhYnJpYy51dGlsLmNsZWFuVXBKc2RvbU5vZGUodGhpc1tlbGVtZW50XSk7XG4gICAgICAgIHRoaXNbZWxlbWVudF0gPSB1bmRlZmluZWQ7XG4gICAgICB9KS5iaW5kKHRoaXMpKTtcbiAgICAgIGlmICh3cmFwcGVyLnBhcmVudE5vZGUpIHtcbiAgICAgICAgd3JhcHBlci5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZCh0aGlzLmxvd2VyQ2FudmFzRWwsIHRoaXMud3JhcHBlckVsKTtcbiAgICAgIH1cbiAgICAgIGRlbGV0ZSB0aGlzLndyYXBwZXJFbDtcbiAgICAgIGZhYnJpYy5TdGF0aWNDYW52YXMucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgYWxsIGNvbnRleHRzIChiYWNrZ3JvdW5kLCBtYWluLCB0b3ApIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBjbGVhcjogZnVuY3Rpb24gKCkge1xuICAgICAgLy8gdGhpcy5kaXNjYXJkQWN0aXZlR3JvdXAoKTtcbiAgICAgIHRoaXMuZGlzY2FyZEFjdGl2ZU9iamVjdCgpO1xuICAgICAgdGhpcy5jbGVhckNvbnRleHQodGhpcy5jb250ZXh0VG9wKTtcbiAgICAgIHJldHVybiB0aGlzLmNhbGxTdXBlcignY2xlYXInKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRHJhd3Mgb2JqZWN0cycgY29udHJvbHMgKGJvcmRlcnMvY29udHJvbHMpXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBjb250cm9scyBvblxuICAgICAqL1xuICAgIGRyYXdDb250cm9sczogZnVuY3Rpb24oY3R4KSB7XG4gICAgICB2YXIgYWN0aXZlT2JqZWN0ID0gdGhpcy5fYWN0aXZlT2JqZWN0O1xuXG4gICAgICBpZiAoYWN0aXZlT2JqZWN0KSB7XG4gICAgICAgIGFjdGl2ZU9iamVjdC5fcmVuZGVyQ29udHJvbHMoY3R4KTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfdG9PYmplY3Q6IGZ1bmN0aW9uKGluc3RhbmNlLCBtZXRob2ROYW1lLCBwcm9wZXJ0aWVzVG9JbmNsdWRlKSB7XG4gICAgICAvL0lmIHRoZSBvYmplY3QgaXMgcGFydCBvZiB0aGUgY3VycmVudCBzZWxlY3Rpb24gZ3JvdXAsIGl0IHNob3VsZFxuICAgICAgLy9iZSB0cmFuc2Zvcm1lZCBhcHByb3ByaWF0ZWx5XG4gICAgICAvL2kuZS4gaXQgc2hvdWxkIGJlIHNlcmlhbGlzZWQgYXMgaXQgd291bGQgYXBwZWFyIGlmIHRoZSBzZWxlY3Rpb24gZ3JvdXBcbiAgICAgIC8vd2VyZSB0byBiZSBkZXN0cm95ZWQuXG4gICAgICB2YXIgb3JpZ2luYWxQcm9wZXJ0aWVzID0gdGhpcy5fcmVhbGl6ZUdyb3VwVHJhbnNmb3JtT25PYmplY3QoaW5zdGFuY2UpLFxuICAgICAgICAgIG9iamVjdCA9IHRoaXMuY2FsbFN1cGVyKCdfdG9PYmplY3QnLCBpbnN0YW5jZSwgbWV0aG9kTmFtZSwgcHJvcGVydGllc1RvSW5jbHVkZSk7XG4gICAgICAvL1VuZG8gdGhlIGRhbWFnZSB3ZSBkaWQgYnkgY2hhbmdpbmcgYWxsIG9mIGl0cyBwcm9wZXJ0aWVzXG4gICAgICB0aGlzLl91bndpbmRHcm91cFRyYW5zZm9ybU9uT2JqZWN0KGluc3RhbmNlLCBvcmlnaW5hbFByb3BlcnRpZXMpO1xuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVhbGlzZXMgYW4gb2JqZWN0J3MgZ3JvdXAgdHJhbnNmb3JtYXRpb24gb24gaXRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gW2luc3RhbmNlXSB0aGUgb2JqZWN0IHRvIHRyYW5zZm9ybSAoZ2V0cyBtdXRhdGVkKVxuICAgICAqIEByZXR1cm5zIHRoZSBvcmlnaW5hbCB2YWx1ZXMgb2YgaW5zdGFuY2Ugd2hpY2ggd2VyZSBjaGFuZ2VkXG4gICAgICovXG4gICAgX3JlYWxpemVHcm91cFRyYW5zZm9ybU9uT2JqZWN0OiBmdW5jdGlvbihpbnN0YW5jZSkge1xuICAgICAgaWYgKGluc3RhbmNlLmdyb3VwICYmIGluc3RhbmNlLmdyb3VwLnR5cGUgPT09ICdhY3RpdmVTZWxlY3Rpb24nICYmIHRoaXMuX2FjdGl2ZU9iamVjdCA9PT0gaW5zdGFuY2UuZ3JvdXApIHtcbiAgICAgICAgdmFyIGxheW91dFByb3BzID0gWydhbmdsZScsICdmbGlwWCcsICdmbGlwWScsICdsZWZ0JywgJ3NjYWxlWCcsICdzY2FsZVknLCAnc2tld1gnLCAnc2tld1knLCAndG9wJ107XG4gICAgICAgIC8vQ29weSBhbGwgdGhlIHBvc2l0aW9uYWxseSByZWxldmFudCBwcm9wZXJ0aWVzIGFjcm9zcyBub3dcbiAgICAgICAgdmFyIG9yaWdpbmFsVmFsdWVzID0ge307XG4gICAgICAgIGxheW91dFByb3BzLmZvckVhY2goZnVuY3Rpb24ocHJvcCkge1xuICAgICAgICAgIG9yaWdpbmFsVmFsdWVzW3Byb3BdID0gaW5zdGFuY2VbcHJvcF07XG4gICAgICAgIH0pO1xuICAgICAgICBmYWJyaWMudXRpbC5hZGRUcmFuc2Zvcm1Ub09iamVjdChpbnN0YW5jZSwgdGhpcy5fYWN0aXZlT2JqZWN0LmNhbGNPd25NYXRyaXgoKSk7XG4gICAgICAgIHJldHVybiBvcmlnaW5hbFZhbHVlcztcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVzdG9yZXMgdGhlIGNoYW5nZWQgcHJvcGVydGllcyBvZiBpbnN0YW5jZVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBbaW5zdGFuY2VdIHRoZSBvYmplY3QgdG8gdW4tdHJhbnNmb3JtIChnZXRzIG11dGF0ZWQpXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcmlnaW5hbFZhbHVlc10gdGhlIG9yaWdpbmFsIHZhbHVlcyBvZiBpbnN0YW5jZSwgYXMgcmV0dXJuZWQgYnkgX3JlYWxpemVHcm91cFRyYW5zZm9ybU9uT2JqZWN0XG4gICAgICovXG4gICAgX3Vud2luZEdyb3VwVHJhbnNmb3JtT25PYmplY3Q6IGZ1bmN0aW9uKGluc3RhbmNlLCBvcmlnaW5hbFZhbHVlcykge1xuICAgICAgaWYgKG9yaWdpbmFsVmFsdWVzKSB7XG4gICAgICAgIGluc3RhbmNlLnNldChvcmlnaW5hbFZhbHVlcyk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3NldFNWR09iamVjdDogZnVuY3Rpb24obWFya3VwLCBpbnN0YW5jZSwgcmV2aXZlcikge1xuICAgICAgLy9JZiB0aGUgb2JqZWN0IGlzIGluIGEgc2VsZWN0aW9uIGdyb3VwLCBzaW11bGF0ZSB3aGF0IHdvdWxkIGhhcHBlbiB0byB0aGF0XG4gICAgICAvL29iamVjdCB3aGVuIHRoZSBncm91cCBpcyBkZXNlbGVjdGVkXG4gICAgICB2YXIgb3JpZ2luYWxQcm9wZXJ0aWVzID0gdGhpcy5fcmVhbGl6ZUdyb3VwVHJhbnNmb3JtT25PYmplY3QoaW5zdGFuY2UpO1xuICAgICAgdGhpcy5jYWxsU3VwZXIoJ19zZXRTVkdPYmplY3QnLCBtYXJrdXAsIGluc3RhbmNlLCByZXZpdmVyKTtcbiAgICAgIHRoaXMuX3Vud2luZEdyb3VwVHJhbnNmb3JtT25PYmplY3QoaW5zdGFuY2UsIG9yaWdpbmFsUHJvcGVydGllcyk7XG4gICAgfSxcblxuICAgIHNldFZpZXdwb3J0VHJhbnNmb3JtOiBmdW5jdGlvbiAodnB0KSB7XG4gICAgICBpZiAodGhpcy5yZW5kZXJPbkFkZFJlbW92ZSAmJiB0aGlzLl9hY3RpdmVPYmplY3QgJiYgdGhpcy5fYWN0aXZlT2JqZWN0LmlzRWRpdGluZykge1xuICAgICAgICB0aGlzLl9hY3RpdmVPYmplY3QuY2xlYXJDb250ZXh0VG9wKCk7XG4gICAgICB9XG4gICAgICBmYWJyaWMuU3RhdGljQ2FudmFzLnByb3RvdHlwZS5zZXRWaWV3cG9ydFRyYW5zZm9ybS5jYWxsKHRoaXMsIHZwdCk7XG4gICAgfVxuICB9KTtcblxuICAvLyBjb3B5aW5nIHN0YXRpYyBwcm9wZXJ0aWVzIG1hbnVhbGx5IHRvIHdvcmsgYXJvdW5kIE9wZXJhJ3MgYnVnLFxuICAvLyB3aGVyZSBcInByb3RvdHlwZVwiIHByb3BlcnR5IGlzIGVudW1lcmFibGUgYW5kIG92ZXJyaWRlcyBleGlzdGluZyBwcm90b3R5cGVcbiAgZm9yICh2YXIgcHJvcCBpbiBmYWJyaWMuU3RhdGljQ2FudmFzKSB7XG4gICAgaWYgKHByb3AgIT09ICdwcm90b3R5cGUnKSB7XG4gICAgICBmYWJyaWMuQ2FudmFzW3Byb3BdID0gZmFicmljLlN0YXRpY0NhbnZhc1twcm9wXTtcbiAgICB9XG4gIH1cbn0pKCk7XG5cblxuKGZ1bmN0aW9uKCkge1xuXG4gIHZhciBhZGRMaXN0ZW5lciA9IGZhYnJpYy51dGlsLmFkZExpc3RlbmVyLFxuICAgICAgcmVtb3ZlTGlzdGVuZXIgPSBmYWJyaWMudXRpbC5yZW1vdmVMaXN0ZW5lcixcbiAgICAgIFJJR0hUX0NMSUNLID0gMywgTUlERExFX0NMSUNLID0gMiwgTEVGVF9DTElDSyA9IDEsXG4gICAgICBhZGRFdmVudE9wdGlvbnMgPSB7IHBhc3NpdmU6IGZhbHNlIH07XG5cbiAgZnVuY3Rpb24gY2hlY2tDbGljayhlLCB2YWx1ZSkge1xuICAgIHJldHVybiBlLmJ1dHRvbiAmJiAoZS5idXR0b24gPT09IHZhbHVlIC0gMSk7XG4gIH1cblxuICBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kKGZhYnJpYy5DYW52YXMucHJvdG90eXBlLCAvKiogQGxlbmRzIGZhYnJpYy5DYW52YXMucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIENvbnRhaW5zIHRoZSBpZCBvZiB0aGUgdG91Y2ggZXZlbnQgdGhhdCBvd25zIHRoZSBmYWJyaWMgdHJhbnNmb3JtXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBtYWluVG91Y2hJZDogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIEFkZHMgbW91c2UgbGlzdGVuZXJzIHRvIGNhbnZhc1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2luaXRFdmVudExpc3RlbmVyczogZnVuY3Rpb24gKCkge1xuICAgICAgLy8gaW4gY2FzZSB3ZSBpbml0aWFsaXplZCB0aGUgY2xhc3MgdHdpY2UuIFRoaXMgc2hvdWxkIG5vdCBoYXBwZW4gbm9ybWFsbHlcbiAgICAgIC8vIGJ1dCBpbiBzb21lIGtpbmQgb2YgYXBwbGljYXRpb25zIHdoZXJlIHRoZSBjYW52YXMgZWxlbWVudCBtYXkgYmUgY2hhbmdlZFxuICAgICAgLy8gdGhpcyBpcyBhIHdvcmthcm91bmQgdG8gaGF2aW5nIGRvdWJsZSBsaXN0ZW5lcnMuXG4gICAgICB0aGlzLnJlbW92ZUxpc3RlbmVycygpO1xuICAgICAgdGhpcy5fYmluZEV2ZW50cygpO1xuICAgICAgdGhpcy5hZGRPclJlbW92ZShhZGRMaXN0ZW5lciwgJ2FkZCcpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiByZXR1cm4gYW4gZXZlbnQgcHJlZml4IHBvaW50ZXIgb3IgbW91c2UuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZ2V0RXZlbnRQcmVmaXg6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmVuYWJsZVBvaW50ZXJFdmVudHMgPyAncG9pbnRlcicgOiAnbW91c2UnO1xuICAgIH0sXG5cbiAgICBhZGRPclJlbW92ZTogZnVuY3Rpb24oZnVuY3RvciwgZXZlbnRqc0Z1bmN0b3IpIHtcbiAgICAgIHZhciBjYW52YXNFbGVtZW50ID0gdGhpcy51cHBlckNhbnZhc0VsLFxuICAgICAgICAgIGV2ZW50VHlwZVByZWZpeCA9IHRoaXMuX2dldEV2ZW50UHJlZml4KCk7XG4gICAgICBmdW5jdG9yKGZhYnJpYy53aW5kb3csICdyZXNpemUnLCB0aGlzLl9vblJlc2l6ZSk7XG4gICAgICBmdW5jdG9yKGNhbnZhc0VsZW1lbnQsIGV2ZW50VHlwZVByZWZpeCArICdkb3duJywgdGhpcy5fb25Nb3VzZURvd24pO1xuICAgICAgZnVuY3RvcihjYW52YXNFbGVtZW50LCBldmVudFR5cGVQcmVmaXggKyAnbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlLCBhZGRFdmVudE9wdGlvbnMpO1xuICAgICAgZnVuY3RvcihjYW52YXNFbGVtZW50LCBldmVudFR5cGVQcmVmaXggKyAnb3V0JywgdGhpcy5fb25Nb3VzZU91dCk7XG4gICAgICBmdW5jdG9yKGNhbnZhc0VsZW1lbnQsIGV2ZW50VHlwZVByZWZpeCArICdlbnRlcicsIHRoaXMuX29uTW91c2VFbnRlcik7XG4gICAgICBmdW5jdG9yKGNhbnZhc0VsZW1lbnQsICd3aGVlbCcsIHRoaXMuX29uTW91c2VXaGVlbCk7XG4gICAgICBmdW5jdG9yKGNhbnZhc0VsZW1lbnQsICdjb250ZXh0bWVudScsIHRoaXMuX29uQ29udGV4dE1lbnUpO1xuICAgICAgZnVuY3RvcihjYW52YXNFbGVtZW50LCAnZGJsY2xpY2snLCB0aGlzLl9vbkRvdWJsZUNsaWNrKTtcbiAgICAgIGZ1bmN0b3IoY2FudmFzRWxlbWVudCwgJ2RyYWdvdmVyJywgdGhpcy5fb25EcmFnT3Zlcik7XG4gICAgICBmdW5jdG9yKGNhbnZhc0VsZW1lbnQsICdkcmFnZW50ZXInLCB0aGlzLl9vbkRyYWdFbnRlcik7XG4gICAgICBmdW5jdG9yKGNhbnZhc0VsZW1lbnQsICdkcmFnbGVhdmUnLCB0aGlzLl9vbkRyYWdMZWF2ZSk7XG4gICAgICBmdW5jdG9yKGNhbnZhc0VsZW1lbnQsICdkcm9wJywgdGhpcy5fb25Ecm9wKTtcbiAgICAgIGlmICghdGhpcy5lbmFibGVQb2ludGVyRXZlbnRzKSB7XG4gICAgICAgIGZ1bmN0b3IoY2FudmFzRWxlbWVudCwgJ3RvdWNoc3RhcnQnLCB0aGlzLl9vblRvdWNoU3RhcnQsIGFkZEV2ZW50T3B0aW9ucyk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGV2ZW50anMgIT09ICd1bmRlZmluZWQnICYmIGV2ZW50anNGdW5jdG9yIGluIGV2ZW50anMpIHtcbiAgICAgICAgZXZlbnRqc1tldmVudGpzRnVuY3Rvcl0oY2FudmFzRWxlbWVudCwgJ2dlc3R1cmUnLCB0aGlzLl9vbkdlc3R1cmUpO1xuICAgICAgICBldmVudGpzW2V2ZW50anNGdW5jdG9yXShjYW52YXNFbGVtZW50LCAnZHJhZycsIHRoaXMuX29uRHJhZyk7XG4gICAgICAgIGV2ZW50anNbZXZlbnRqc0Z1bmN0b3JdKGNhbnZhc0VsZW1lbnQsICdvcmllbnRhdGlvbicsIHRoaXMuX29uT3JpZW50YXRpb25DaGFuZ2UpO1xuICAgICAgICBldmVudGpzW2V2ZW50anNGdW5jdG9yXShjYW52YXNFbGVtZW50LCAnc2hha2UnLCB0aGlzLl9vblNoYWtlKTtcbiAgICAgICAgZXZlbnRqc1tldmVudGpzRnVuY3Rvcl0oY2FudmFzRWxlbWVudCwgJ2xvbmdwcmVzcycsIHRoaXMuX29uTG9uZ1ByZXNzKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgZXZlbnQgbGlzdGVuZXJzXG4gICAgICovXG4gICAgcmVtb3ZlTGlzdGVuZXJzOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuYWRkT3JSZW1vdmUocmVtb3ZlTGlzdGVuZXIsICdyZW1vdmUnKTtcbiAgICAgIC8vIGlmIHlvdSBkaXNwb3NlIG9uIGEgbW91c2VEb3duLCBiZWZvcmUgbW91c2UgdXAsIHlvdSBuZWVkIHRvIGNsZWFuIGRvY3VtZW50IHRvLi4uXG4gICAgICB2YXIgZXZlbnRUeXBlUHJlZml4ID0gdGhpcy5fZ2V0RXZlbnRQcmVmaXgoKTtcbiAgICAgIHJlbW92ZUxpc3RlbmVyKGZhYnJpYy5kb2N1bWVudCwgZXZlbnRUeXBlUHJlZml4ICsgJ3VwJywgdGhpcy5fb25Nb3VzZVVwKTtcbiAgICAgIHJlbW92ZUxpc3RlbmVyKGZhYnJpYy5kb2N1bWVudCwgJ3RvdWNoZW5kJywgdGhpcy5fb25Ub3VjaEVuZCwgYWRkRXZlbnRPcHRpb25zKTtcbiAgICAgIHJlbW92ZUxpc3RlbmVyKGZhYnJpYy5kb2N1bWVudCwgZXZlbnRUeXBlUHJlZml4ICsgJ21vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwgYWRkRXZlbnRPcHRpb25zKTtcbiAgICAgIHJlbW92ZUxpc3RlbmVyKGZhYnJpYy5kb2N1bWVudCwgJ3RvdWNobW92ZScsIHRoaXMuX29uTW91c2VNb3ZlLCBhZGRFdmVudE9wdGlvbnMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9iaW5kRXZlbnRzOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLmV2ZW50c0JvdW5kKSB7XG4gICAgICAgIC8vIGZvciBhbnkgcmVhc29uIHdlIHBhc3MgaGVyZSB0d2ljZSB3ZSBkbyBub3Qgd2FudCB0byBiaW5kIGV2ZW50cyB0d2ljZS5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5fb25Nb3VzZURvd24gPSB0aGlzLl9vbk1vdXNlRG93bi5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5fb25Ub3VjaFN0YXJ0ID0gdGhpcy5fb25Ub3VjaFN0YXJ0LmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9vbk1vdXNlTW92ZSA9IHRoaXMuX29uTW91c2VNb3ZlLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9vbk1vdXNlVXAgPSB0aGlzLl9vbk1vdXNlVXAuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX29uVG91Y2hFbmQgPSB0aGlzLl9vblRvdWNoRW5kLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9vblJlc2l6ZSA9IHRoaXMuX29uUmVzaXplLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9vbkdlc3R1cmUgPSB0aGlzLl9vbkdlc3R1cmUuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX29uRHJhZyA9IHRoaXMuX29uRHJhZy5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5fb25TaGFrZSA9IHRoaXMuX29uU2hha2UuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX29uTG9uZ1ByZXNzID0gdGhpcy5fb25Mb25nUHJlc3MuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX29uT3JpZW50YXRpb25DaGFuZ2UgPSB0aGlzLl9vbk9yaWVudGF0aW9uQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9vbk1vdXNlV2hlZWwgPSB0aGlzLl9vbk1vdXNlV2hlZWwuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX29uTW91c2VPdXQgPSB0aGlzLl9vbk1vdXNlT3V0LmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9vbk1vdXNlRW50ZXIgPSB0aGlzLl9vbk1vdXNlRW50ZXIuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX29uQ29udGV4dE1lbnUgPSB0aGlzLl9vbkNvbnRleHRNZW51LmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9vbkRvdWJsZUNsaWNrID0gdGhpcy5fb25Eb3VibGVDbGljay5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5fb25EcmFnT3ZlciA9IHRoaXMuX29uRHJhZ092ZXIuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX29uRHJhZ0VudGVyID0gdGhpcy5fc2ltcGxlRXZlbnRIYW5kbGVyLmJpbmQodGhpcywgJ2RyYWdlbnRlcicpO1xuICAgICAgdGhpcy5fb25EcmFnTGVhdmUgPSB0aGlzLl9zaW1wbGVFdmVudEhhbmRsZXIuYmluZCh0aGlzLCAnZHJhZ2xlYXZlJyk7XG4gICAgICB0aGlzLl9vbkRyb3AgPSB0aGlzLl9vbkRyb3AuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuZXZlbnRzQm91bmQgPSB0cnVlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IFtlXSBFdmVudCBvYmplY3QgZmlyZWQgb24gRXZlbnQuanMgZ2VzdHVyZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IFtzZWxmXSBJbm5lciBFdmVudCBvYmplY3RcbiAgICAgKi9cbiAgICBfb25HZXN0dXJlOiBmdW5jdGlvbihlLCBzZWxmKSB7XG4gICAgICB0aGlzLl9fb25UcmFuc2Zvcm1HZXN0dXJlICYmIHRoaXMuX19vblRyYW5zZm9ybUdlc3R1cmUoZSwgc2VsZik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gW2VdIEV2ZW50IG9iamVjdCBmaXJlZCBvbiBFdmVudC5qcyBkcmFnXG4gICAgICogQHBhcmFtIHtFdmVudH0gW3NlbGZdIElubmVyIEV2ZW50IG9iamVjdFxuICAgICAqL1xuICAgIF9vbkRyYWc6IGZ1bmN0aW9uKGUsIHNlbGYpIHtcbiAgICAgIHRoaXMuX19vbkRyYWcgJiYgdGhpcy5fX29uRHJhZyhlLCBzZWxmKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBbZV0gRXZlbnQgb2JqZWN0IGZpcmVkIG9uIHdoZWVsIGV2ZW50XG4gICAgICovXG4gICAgX29uTW91c2VXaGVlbDogZnVuY3Rpb24oZSkge1xuICAgICAgdGhpcy5fX29uTW91c2VXaGVlbChlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdCBmaXJlZCBvbiBtb3VzZWRvd25cbiAgICAgKi9cbiAgICBfb25Nb3VzZU91dDogZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIHRhcmdldCA9IHRoaXMuX2hvdmVyZWRUYXJnZXQ7XG4gICAgICB0aGlzLmZpcmUoJ21vdXNlOm91dCcsIHsgdGFyZ2V0OiB0YXJnZXQsIGU6IGUgfSk7XG4gICAgICB0aGlzLl9ob3ZlcmVkVGFyZ2V0ID0gbnVsbDtcbiAgICAgIHRhcmdldCAmJiB0YXJnZXQuZmlyZSgnbW91c2VvdXQnLCB7IGU6IGUgfSk7XG5cbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICB0aGlzLl9ob3ZlcmVkVGFyZ2V0cy5mb3JFYWNoKGZ1bmN0aW9uKF90YXJnZXQpe1xuICAgICAgICBfdGhpcy5maXJlKCdtb3VzZTpvdXQnLCB7IHRhcmdldDogdGFyZ2V0LCBlOiBlIH0pO1xuICAgICAgICBfdGFyZ2V0ICYmIHRhcmdldC5maXJlKCdtb3VzZW91dCcsIHsgZTogZSB9KTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5faG92ZXJlZFRhcmdldHMgPSBbXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdCBmaXJlZCBvbiBtb3VzZWVudGVyXG4gICAgICovXG4gICAgX29uTW91c2VFbnRlcjogZnVuY3Rpb24oZSkge1xuICAgICAgLy8gVGhpcyBmaW5kIHRhcmdldCBhbmQgY29uc2VxdWVudCAnbW91c2U6b3ZlcicgaXMgdXNlZCB0b1xuICAgICAgLy8gY2xlYXIgb2xkIGluc3RhbmNlcyBvbiBob3ZlcmVkIHRhcmdldC5cbiAgICAgIC8vIGNhbGxpbmcgZmluZFRhcmdldCBoYXMgdGhlIHNpZGUgZWZmZWN0IG9mIGtpbGxpbmcgdGFyZ2V0Ll9fY29ybmVyLlxuICAgICAgLy8gYXMgYSBzaG9ydCB0ZXJtIGZpeCB3ZSBhcmUgbm90IGZpcmluZyB0aGlzIGlmIHdlIGFyZSBjdXJyZW50bHkgdHJhbnNmb3JtaW5nLlxuICAgICAgLy8gYXMgYSBsb25nIHRlcm0gZml4IHdlIG5lZWQgdG8gc2VwYXJhdGUgdGhlIGFjdGlvbiBvZiBmaW5kaW5nIGEgdGFyZ2V0IHdpdGggdGhlXG4gICAgICAvLyBzaWRlIGVmZmVjdHMgd2UgYWRkZWQgdG8gaXQuXG4gICAgICBpZiAoIXRoaXMuX2N1cnJlbnRUcmFuc2Zvcm0gJiYgIXRoaXMuZmluZFRhcmdldChlKSkge1xuICAgICAgICB0aGlzLmZpcmUoJ21vdXNlOm92ZXInLCB7IHRhcmdldDogbnVsbCwgZTogZSB9KTtcbiAgICAgICAgdGhpcy5faG92ZXJlZFRhcmdldCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2hvdmVyZWRUYXJnZXRzID0gW107XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gW2VdIEV2ZW50IG9iamVjdCBmaXJlZCBvbiBFdmVudC5qcyBvcmllbnRhdGlvbiBjaGFuZ2VcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBbc2VsZl0gSW5uZXIgRXZlbnQgb2JqZWN0XG4gICAgICovXG4gICAgX29uT3JpZW50YXRpb25DaGFuZ2U6IGZ1bmN0aW9uKGUsIHNlbGYpIHtcbiAgICAgIHRoaXMuX19vbk9yaWVudGF0aW9uQ2hhbmdlICYmIHRoaXMuX19vbk9yaWVudGF0aW9uQ2hhbmdlKGUsIHNlbGYpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IFtlXSBFdmVudCBvYmplY3QgZmlyZWQgb24gRXZlbnQuanMgc2hha2VcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBbc2VsZl0gSW5uZXIgRXZlbnQgb2JqZWN0XG4gICAgICovXG4gICAgX29uU2hha2U6IGZ1bmN0aW9uKGUsIHNlbGYpIHtcbiAgICAgIHRoaXMuX19vblNoYWtlICYmIHRoaXMuX19vblNoYWtlKGUsIHNlbGYpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IFtlXSBFdmVudCBvYmplY3QgZmlyZWQgb24gRXZlbnQuanMgc2hha2VcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBbc2VsZl0gSW5uZXIgRXZlbnQgb2JqZWN0XG4gICAgICovXG4gICAgX29uTG9uZ1ByZXNzOiBmdW5jdGlvbihlLCBzZWxmKSB7XG4gICAgICB0aGlzLl9fb25Mb25nUHJlc3MgJiYgdGhpcy5fX29uTG9uZ1ByZXNzKGUsIHNlbGYpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBwcmV2ZW50IGRlZmF1bHQgdG8gYWxsb3cgZHJvcCBldmVudCB0byBiZSBmaXJlZFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gW2VdIEV2ZW50IG9iamVjdCBmaXJlZCBvbiBFdmVudC5qcyBzaGFrZVxuICAgICAqL1xuICAgIF9vbkRyYWdPdmVyOiBmdW5jdGlvbihlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB2YXIgdGFyZ2V0ID0gdGhpcy5fc2ltcGxlRXZlbnRIYW5kbGVyKCdkcmFnb3ZlcicsIGUpO1xuICAgICAgdGhpcy5fZmlyZUVudGVyTGVhdmVFdmVudHModGFyZ2V0LCBlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogYGRyb3A6YmVmb3JlYCBpcyBhIGFuIGV2ZW50IHRoYXQgYWxsb3cgeW91IHRvIHNjaGVkdWxlIGxvZ2ljXG4gICAgICogYmVmb3JlIHRoZSBgZHJvcGAgZXZlbnQuIFByZWZlciBgZHJvcGAgZXZlbnQgYWx3YXlzLCBidXQgaWYgeW91IG5lZWRcbiAgICAgKiB0byBydW4gc29tZSBkcm9wLWRpc2FibGluZyBsb2dpYyBvbiBhbiBldmVudCwgc2luY2UgdGhlcmUgaXMgbm8gd2F5XG4gICAgICogdG8gaGFuZGxlIGV2ZW50IGhhbmRsZXJzIG9yZGVyaW5nLCB1c2UgYGRyb3A6YmVmb3JlYFxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICAgKi9cbiAgICBfb25Ecm9wOiBmdW5jdGlvbiAoZSkge1xuICAgICAgdGhpcy5fc2ltcGxlRXZlbnRIYW5kbGVyKCdkcm9wOmJlZm9yZScsIGUpO1xuICAgICAgcmV0dXJuIHRoaXMuX3NpbXBsZUV2ZW50SGFuZGxlcignZHJvcCcsIGUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0IGZpcmVkIG9uIG1vdXNlZG93blxuICAgICAqL1xuICAgIF9vbkNvbnRleHRNZW51OiBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKHRoaXMuc3RvcENvbnRleHRNZW51KSB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdCBmaXJlZCBvbiBtb3VzZWRvd25cbiAgICAgKi9cbiAgICBfb25Eb3VibGVDbGljazogZnVuY3Rpb24gKGUpIHtcbiAgICAgIHRoaXMuX2NhY2hlVHJhbnNmb3JtRXZlbnREYXRhKGUpO1xuICAgICAgdGhpcy5faGFuZGxlRXZlbnQoZSwgJ2RibGNsaWNrJyk7XG4gICAgICB0aGlzLl9yZXNldFRyYW5zZm9ybUV2ZW50RGF0YShlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGEgdGhlIGlkIG9mIGFuIGV2ZW50LlxuICAgICAqIHJldHVybnMgZWl0aGVyIHRoZSBwb2ludGVySWQgb3IgdGhlIGlkZW50aWZpZXIgb3IgMCBmb3IgdGhlIG1vdXNlIGV2ZW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldnQgRXZlbnQgb2JqZWN0XG4gICAgICovXG4gICAgZ2V0UG9pbnRlcklkOiBmdW5jdGlvbihldnQpIHtcbiAgICAgIHZhciBjaGFuZ2VkVG91Y2hlcyA9IGV2dC5jaGFuZ2VkVG91Y2hlcztcblxuICAgICAgaWYgKGNoYW5nZWRUb3VjaGVzKSB7XG4gICAgICAgIHJldHVybiBjaGFuZ2VkVG91Y2hlc1swXSAmJiBjaGFuZ2VkVG91Y2hlc1swXS5pZGVudGlmaWVyO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5lbmFibGVQb2ludGVyRXZlbnRzKSB7XG4gICAgICAgIHJldHVybiBldnQucG9pbnRlcklkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gLTE7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgYW4gZXZlbnQgaGFzIHRoZSBpZCBvZiB0aGUgZXZlbnQgdGhhdCBpcyBjb25zaWRlcmVkIG1haW5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7ZXZ0fSBldmVudCBFdmVudCBvYmplY3RcbiAgICAgKi9cbiAgICBfaXNNYWluRXZlbnQ6IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgaWYgKGV2dC5pc1ByaW1hcnkgPT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoZXZ0LmlzUHJpbWFyeSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGV2dC50eXBlID09PSAndG91Y2hlbmQnICYmIGV2dC50b3VjaGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChldnQuY2hhbmdlZFRvdWNoZXMpIHtcbiAgICAgICAgcmV0dXJuIGV2dC5jaGFuZ2VkVG91Y2hlc1swXS5pZGVudGlmaWVyID09PSB0aGlzLm1haW5Ub3VjaElkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3QgZmlyZWQgb24gbW91c2Vkb3duXG4gICAgICovXG4gICAgX29uVG91Y2hTdGFydDogZnVuY3Rpb24oZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKHRoaXMubWFpblRvdWNoSWQgPT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5tYWluVG91Y2hJZCA9IHRoaXMuZ2V0UG9pbnRlcklkKGUpO1xuICAgICAgfVxuICAgICAgdGhpcy5fX29uTW91c2VEb3duKGUpO1xuICAgICAgdGhpcy5fcmVzZXRUcmFuc2Zvcm1FdmVudERhdGEoKTtcbiAgICAgIHZhciBjYW52YXNFbGVtZW50ID0gdGhpcy51cHBlckNhbnZhc0VsLFxuICAgICAgICAgIGV2ZW50VHlwZVByZWZpeCA9IHRoaXMuX2dldEV2ZW50UHJlZml4KCk7XG4gICAgICBhZGRMaXN0ZW5lcihmYWJyaWMuZG9jdW1lbnQsICd0b3VjaGVuZCcsIHRoaXMuX29uVG91Y2hFbmQsIGFkZEV2ZW50T3B0aW9ucyk7XG4gICAgICBhZGRMaXN0ZW5lcihmYWJyaWMuZG9jdW1lbnQsICd0b3VjaG1vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwgYWRkRXZlbnRPcHRpb25zKTtcbiAgICAgIC8vIFVuYmluZCBtb3VzZWRvd24gdG8gcHJldmVudCBkb3VibGUgdHJpZ2dlcnMgZnJvbSB0b3VjaCBkZXZpY2VzXG4gICAgICByZW1vdmVMaXN0ZW5lcihjYW52YXNFbGVtZW50LCBldmVudFR5cGVQcmVmaXggKyAnZG93bicsIHRoaXMuX29uTW91c2VEb3duKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdCBmaXJlZCBvbiBtb3VzZWRvd25cbiAgICAgKi9cbiAgICBfb25Nb3VzZURvd246IGZ1bmN0aW9uIChlKSB7XG4gICAgICB0aGlzLl9fb25Nb3VzZURvd24oZSk7XG4gICAgICB0aGlzLl9yZXNldFRyYW5zZm9ybUV2ZW50RGF0YSgpO1xuICAgICAgdmFyIGNhbnZhc0VsZW1lbnQgPSB0aGlzLnVwcGVyQ2FudmFzRWwsXG4gICAgICAgICAgZXZlbnRUeXBlUHJlZml4ID0gdGhpcy5fZ2V0RXZlbnRQcmVmaXgoKTtcbiAgICAgIHJlbW92ZUxpc3RlbmVyKGNhbnZhc0VsZW1lbnQsIGV2ZW50VHlwZVByZWZpeCArICdtb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUsIGFkZEV2ZW50T3B0aW9ucyk7XG4gICAgICBhZGRMaXN0ZW5lcihmYWJyaWMuZG9jdW1lbnQsIGV2ZW50VHlwZVByZWZpeCArICd1cCcsIHRoaXMuX29uTW91c2VVcCk7XG4gICAgICBhZGRMaXN0ZW5lcihmYWJyaWMuZG9jdW1lbnQsIGV2ZW50VHlwZVByZWZpeCArICdtb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUsIGFkZEV2ZW50T3B0aW9ucyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3QgZmlyZWQgb24gbW91c2Vkb3duXG4gICAgICovXG4gICAgX29uVG91Y2hFbmQ6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmIChlLnRvdWNoZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyBpZiB0aGVyZSBhcmUgc3RpbGwgdG91Y2hlcyBzdG9wIGhlcmVcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5fX29uTW91c2VVcChlKTtcbiAgICAgIHRoaXMuX3Jlc2V0VHJhbnNmb3JtRXZlbnREYXRhKCk7XG4gICAgICB0aGlzLm1haW5Ub3VjaElkID0gbnVsbDtcbiAgICAgIHZhciBldmVudFR5cGVQcmVmaXggPSB0aGlzLl9nZXRFdmVudFByZWZpeCgpO1xuICAgICAgcmVtb3ZlTGlzdGVuZXIoZmFicmljLmRvY3VtZW50LCAndG91Y2hlbmQnLCB0aGlzLl9vblRvdWNoRW5kLCBhZGRFdmVudE9wdGlvbnMpO1xuICAgICAgcmVtb3ZlTGlzdGVuZXIoZmFicmljLmRvY3VtZW50LCAndG91Y2htb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUsIGFkZEV2ZW50T3B0aW9ucyk7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgaWYgKHRoaXMuX3dpbGxBZGRNb3VzZURvd24pIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3dpbGxBZGRNb3VzZURvd24pO1xuICAgICAgfVxuICAgICAgdGhpcy5fd2lsbEFkZE1vdXNlRG93biA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIFdhaXQgNDAwbXMgYmVmb3JlIHJlYmluZGluZyBtb3VzZWRvd24gdG8gcHJldmVudCBkb3VibGUgdHJpZ2dlcnNcbiAgICAgICAgLy8gZnJvbSB0b3VjaCBkZXZpY2VzXG4gICAgICAgIGFkZExpc3RlbmVyKF90aGlzLnVwcGVyQ2FudmFzRWwsIGV2ZW50VHlwZVByZWZpeCArICdkb3duJywgX3RoaXMuX29uTW91c2VEb3duKTtcbiAgICAgICAgX3RoaXMuX3dpbGxBZGRNb3VzZURvd24gPSAwO1xuICAgICAgfSwgNDAwKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdCBmaXJlZCBvbiBtb3VzZXVwXG4gICAgICovXG4gICAgX29uTW91c2VVcDogZnVuY3Rpb24gKGUpIHtcbiAgICAgIHRoaXMuX19vbk1vdXNlVXAoZSk7XG4gICAgICB0aGlzLl9yZXNldFRyYW5zZm9ybUV2ZW50RGF0YSgpO1xuICAgICAgdmFyIGNhbnZhc0VsZW1lbnQgPSB0aGlzLnVwcGVyQ2FudmFzRWwsXG4gICAgICAgICAgZXZlbnRUeXBlUHJlZml4ID0gdGhpcy5fZ2V0RXZlbnRQcmVmaXgoKTtcbiAgICAgIGlmICh0aGlzLl9pc01haW5FdmVudChlKSkge1xuICAgICAgICByZW1vdmVMaXN0ZW5lcihmYWJyaWMuZG9jdW1lbnQsIGV2ZW50VHlwZVByZWZpeCArICd1cCcsIHRoaXMuX29uTW91c2VVcCk7XG4gICAgICAgIHJlbW92ZUxpc3RlbmVyKGZhYnJpYy5kb2N1bWVudCwgZXZlbnRUeXBlUHJlZml4ICsgJ21vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwgYWRkRXZlbnRPcHRpb25zKTtcbiAgICAgICAgYWRkTGlzdGVuZXIoY2FudmFzRWxlbWVudCwgZXZlbnRUeXBlUHJlZml4ICsgJ21vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwgYWRkRXZlbnRPcHRpb25zKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdCBmaXJlZCBvbiBtb3VzZW1vdmVcbiAgICAgKi9cbiAgICBfb25Nb3VzZU1vdmU6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAhdGhpcy5hbGxvd1RvdWNoU2Nyb2xsaW5nICYmIGUucHJldmVudERlZmF1bHQgJiYgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5fX29uTW91c2VNb3ZlKGUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9vblJlc2l6ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jYWxjT2Zmc2V0KCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERlY2lkZXMgd2hldGhlciB0aGUgY2FudmFzIHNob3VsZCBiZSByZWRyYXduIGluIG1vdXNldXAgYW5kIG1vdXNlZG93biBldmVudHMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0XG4gICAgICovXG4gICAgX3Nob3VsZFJlbmRlcjogZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgICB2YXIgYWN0aXZlT2JqZWN0ID0gdGhpcy5fYWN0aXZlT2JqZWN0O1xuXG4gICAgICBpZiAoXG4gICAgICAgICEhYWN0aXZlT2JqZWN0ICE9PSAhIXRhcmdldCB8fFxuICAgICAgICAoYWN0aXZlT2JqZWN0ICYmIHRhcmdldCAmJiAoYWN0aXZlT2JqZWN0ICE9PSB0YXJnZXQpKVxuICAgICAgKSB7XG4gICAgICAgIC8vIHRoaXMgY292ZXJzOiBzd2l0Y2ggb2YgdGFyZ2V0LCBmcm9tIHRhcmdldCB0byBubyB0YXJnZXQsIHNlbGVjdGlvbiBvZiB0YXJnZXRcbiAgICAgICAgLy8gbXVsdGlTZWxlY3Rpb24gd2l0aCBrZXkgYW5kIG1vdXNlXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoYWN0aXZlT2JqZWN0ICYmIGFjdGl2ZU9iamVjdC5pc0VkaXRpbmcpIHtcbiAgICAgICAgLy8gaWYgd2UgbW91c2UgdXAvZG93biBvdmVyIGEgZWRpdGluZyB0ZXh0Ym94IGEgY3Vyc29yIGNoYW5nZSxcbiAgICAgICAgLy8gdGhlcmUgaXMgbm8gbmVlZCB0byByZSByZW5kZXJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdGhhdCBkZWZpbmVzIHRoZSBhY3Rpb25zIHdoZW4gbW91c2UgaXMgcmVsZWFzZWQgb24gY2FudmFzLlxuICAgICAqIFRoZSBtZXRob2QgcmVzZXRzIHRoZSBjdXJyZW50VHJhbnNmb3JtIHBhcmFtZXRlcnMsIHN0b3JlIHRoZSBpbWFnZSBjb3JuZXJcbiAgICAgKiBwb3NpdGlvbiBpbiB0aGUgaW1hZ2Ugb2JqZWN0IGFuZCByZW5kZXIgdGhlIGNhbnZhcyBvbiB0b3AuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdCBmaXJlZCBvbiBtb3VzZXVwXG4gICAgICovXG4gICAgX19vbk1vdXNlVXA6IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgdGFyZ2V0LCB0cmFuc2Zvcm0gPSB0aGlzLl9jdXJyZW50VHJhbnNmb3JtLFxuICAgICAgICAgIGdyb3VwU2VsZWN0b3IgPSB0aGlzLl9ncm91cFNlbGVjdG9yLCBzaG91bGRSZW5kZXIgPSBmYWxzZSxcbiAgICAgICAgICBpc0NsaWNrID0gKCFncm91cFNlbGVjdG9yIHx8IChncm91cFNlbGVjdG9yLmxlZnQgPT09IDAgJiYgZ3JvdXBTZWxlY3Rvci50b3AgPT09IDApKTtcbiAgICAgIHRoaXMuX2NhY2hlVHJhbnNmb3JtRXZlbnREYXRhKGUpO1xuICAgICAgdGFyZ2V0ID0gdGhpcy5fdGFyZ2V0O1xuICAgICAgdGhpcy5faGFuZGxlRXZlbnQoZSwgJ3VwOmJlZm9yZScpO1xuICAgICAgLy8gaWYgcmlnaHQvbWlkZGxlIGNsaWNrIGp1c3QgZmlyZSBldmVudHMgYW5kIHJldHVyblxuICAgICAgLy8gdGFyZ2V0IHVuZGVmaW5lZCB3aWxsIG1ha2UgdGhlIF9oYW5kbGVFdmVudCBzZWFyY2ggdGhlIHRhcmdldFxuICAgICAgaWYgKGNoZWNrQ2xpY2soZSwgUklHSFRfQ0xJQ0spKSB7XG4gICAgICAgIGlmICh0aGlzLmZpcmVSaWdodENsaWNrKSB7XG4gICAgICAgICAgdGhpcy5faGFuZGxlRXZlbnQoZSwgJ3VwJywgUklHSFRfQ0xJQ0ssIGlzQ2xpY2spO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGNoZWNrQ2xpY2soZSwgTUlERExFX0NMSUNLKSkge1xuICAgICAgICBpZiAodGhpcy5maXJlTWlkZGxlQ2xpY2spIHtcbiAgICAgICAgICB0aGlzLl9oYW5kbGVFdmVudChlLCAndXAnLCBNSURETEVfQ0xJQ0ssIGlzQ2xpY2spO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3Jlc2V0VHJhbnNmb3JtRXZlbnREYXRhKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuaXNEcmF3aW5nTW9kZSAmJiB0aGlzLl9pc0N1cnJlbnRseURyYXdpbmcpIHtcbiAgICAgICAgdGhpcy5fb25Nb3VzZVVwSW5EcmF3aW5nTW9kZShlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuX2lzTWFpbkV2ZW50KGUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh0cmFuc2Zvcm0pIHtcbiAgICAgICAgdGhpcy5fZmluYWxpemVDdXJyZW50VHJhbnNmb3JtKGUpO1xuICAgICAgICBzaG91bGRSZW5kZXIgPSB0cmFuc2Zvcm0uYWN0aW9uUGVyZm9ybWVkO1xuICAgICAgfVxuICAgICAgaWYgKCFpc0NsaWNrKSB7XG4gICAgICAgIHZhciB0YXJnZXRXYXNBY3RpdmUgPSB0YXJnZXQgPT09IHRoaXMuX2FjdGl2ZU9iamVjdDtcbiAgICAgICAgdGhpcy5fbWF5YmVHcm91cE9iamVjdHMoZSk7XG4gICAgICAgIGlmICghc2hvdWxkUmVuZGVyKSB7XG4gICAgICAgICAgc2hvdWxkUmVuZGVyID0gKFxuICAgICAgICAgICAgdGhpcy5fc2hvdWxkUmVuZGVyKHRhcmdldCkgfHxcbiAgICAgICAgICAgICghdGFyZ2V0V2FzQWN0aXZlICYmIHRhcmdldCA9PT0gdGhpcy5fYWN0aXZlT2JqZWN0KVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBjb3JuZXIsIHBvaW50ZXI7XG4gICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgIGNvcm5lciA9IHRhcmdldC5fZmluZFRhcmdldENvcm5lcihcbiAgICAgICAgICB0aGlzLmdldFBvaW50ZXIoZSwgdHJ1ZSksXG4gICAgICAgICAgZmFicmljLnV0aWwuaXNUb3VjaEV2ZW50KGUpXG4gICAgICAgICk7XG4gICAgICAgIGlmICh0YXJnZXQuc2VsZWN0YWJsZSAmJiB0YXJnZXQgIT09IHRoaXMuX2FjdGl2ZU9iamVjdCAmJiB0YXJnZXQuYWN0aXZlT24gPT09ICd1cCcpIHtcbiAgICAgICAgICB0aGlzLnNldEFjdGl2ZU9iamVjdCh0YXJnZXQsIGUpO1xuICAgICAgICAgIHNob3VsZFJlbmRlciA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdmFyIGNvbnRyb2wgPSB0YXJnZXQuY29udHJvbHNbY29ybmVyXSxcbiAgICAgICAgICAgICAgbW91c2VVcEhhbmRsZXIgPSBjb250cm9sICYmIGNvbnRyb2wuZ2V0TW91c2VVcEhhbmRsZXIoZSwgdGFyZ2V0LCBjb250cm9sKTtcbiAgICAgICAgICBpZiAobW91c2VVcEhhbmRsZXIpIHtcbiAgICAgICAgICAgIHBvaW50ZXIgPSB0aGlzLmdldFBvaW50ZXIoZSk7XG4gICAgICAgICAgICBtb3VzZVVwSGFuZGxlcihlLCB0cmFuc2Zvcm0sIHBvaW50ZXIueCwgcG9pbnRlci55KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGFyZ2V0LmlzTW92aW5nID0gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBpZiB3ZSBhcmUgZW5kaW5nIHVwIGEgdHJhbnNmb3JtIG9uIGEgZGlmZmVyZW50IGNvbnRyb2wgb3IgYSBuZXcgb2JqZWN0XG4gICAgICAvLyBmaXJlIHRoZSBvcmlnaW5hbCBtb3VzZSB1cCBmcm9tIHRoZSBjb3JuZXIgdGhhdCBzdGFydGVkIHRoZSB0cmFuc2Zvcm1cbiAgICAgIGlmICh0cmFuc2Zvcm0gJiYgKHRyYW5zZm9ybS50YXJnZXQgIT09IHRhcmdldCB8fCB0cmFuc2Zvcm0uY29ybmVyICE9PSBjb3JuZXIpKSB7XG4gICAgICAgIHZhciBvcmlnaW5hbENvbnRyb2wgPSB0cmFuc2Zvcm0udGFyZ2V0ICYmIHRyYW5zZm9ybS50YXJnZXQuY29udHJvbHNbdHJhbnNmb3JtLmNvcm5lcl0sXG4gICAgICAgICAgICBvcmlnaW5hbE1vdXNlVXBIYW5kbGVyID0gb3JpZ2luYWxDb250cm9sICYmIG9yaWdpbmFsQ29udHJvbC5nZXRNb3VzZVVwSGFuZGxlcihlLCB0YXJnZXQsIGNvbnRyb2wpO1xuICAgICAgICBwb2ludGVyID0gcG9pbnRlciB8fCB0aGlzLmdldFBvaW50ZXIoZSk7XG4gICAgICAgIG9yaWdpbmFsTW91c2VVcEhhbmRsZXIgJiYgb3JpZ2luYWxNb3VzZVVwSGFuZGxlcihlLCB0cmFuc2Zvcm0sIHBvaW50ZXIueCwgcG9pbnRlci55KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3NldEN1cnNvckZyb21FdmVudChlLCB0YXJnZXQpO1xuICAgICAgdGhpcy5faGFuZGxlRXZlbnQoZSwgJ3VwJywgTEVGVF9DTElDSywgaXNDbGljayk7XG4gICAgICB0aGlzLl9ncm91cFNlbGVjdG9yID0gbnVsbDtcbiAgICAgIHRoaXMuX2N1cnJlbnRUcmFuc2Zvcm0gPSBudWxsO1xuICAgICAgLy8gcmVzZXQgdGhlIHRhcmdldCBpbmZvcm1hdGlvbiBhYm91dCB3aGljaCBjb3JuZXIgaXMgc2VsZWN0ZWRcbiAgICAgIHRhcmdldCAmJiAodGFyZ2V0Ll9fY29ybmVyID0gMCk7XG4gICAgICBpZiAoc2hvdWxkUmVuZGVyKSB7XG4gICAgICAgIHRoaXMucmVxdWVzdFJlbmRlckFsbCgpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoIWlzQ2xpY2spIHtcbiAgICAgICAgdGhpcy5yZW5kZXJUb3AoKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBIYW5kbGUgZXZlbnQgZmlyaW5nIGZvciB0YXJnZXQgYW5kIHN1YnRhcmdldHNcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIGV2ZW50IGZyb20gbW91c2VcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRUeXBlIGV2ZW50IHRvIGZpcmUgKHVwLCBkb3duIG9yIG1vdmUpXG4gICAgICogQHJldHVybiB7RmFicmljLk9iamVjdH0gdGFyZ2V0IHJldHVybiB0aGUgdGhlIHRhcmdldCBmb3VuZCwgZm9yIGludGVybmFsIHJlYXNvbnMuXG4gICAgICovXG4gICAgX3NpbXBsZUV2ZW50SGFuZGxlcjogZnVuY3Rpb24oZXZlbnRUeXBlLCBlKSB7XG4gICAgICB2YXIgdGFyZ2V0ID0gdGhpcy5maW5kVGFyZ2V0KGUpLFxuICAgICAgICAgIHRhcmdldHMgPSB0aGlzLnRhcmdldHMsXG4gICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGU6IGUsXG4gICAgICAgICAgICB0YXJnZXQ6IHRhcmdldCxcbiAgICAgICAgICAgIHN1YlRhcmdldHM6IHRhcmdldHMsXG4gICAgICAgICAgfTtcbiAgICAgIHRoaXMuZmlyZShldmVudFR5cGUsIG9wdGlvbnMpO1xuICAgICAgdGFyZ2V0ICYmIHRhcmdldC5maXJlKGV2ZW50VHlwZSwgb3B0aW9ucyk7XG4gICAgICBpZiAoIXRhcmdldHMpIHtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGFyZ2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0YXJnZXRzW2ldLmZpcmUoZXZlbnRUeXBlLCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogSGFuZGxlIGV2ZW50IGZpcmluZyBmb3IgdGFyZ2V0IGFuZCBzdWJ0YXJnZXRzXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBldmVudCBmcm9tIG1vdXNlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50VHlwZSBldmVudCB0byBmaXJlICh1cCwgZG93biBvciBtb3ZlKVxuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gdGFyZ2V0T2JqIHJlY2VpdmluZyBldmVudFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbYnV0dG9uXSBidXR0b24gdXNlZCBpbiB0aGUgZXZlbnQgMSA9IGxlZnQsIDIgPSBtaWRkbGUsIDMgPSByaWdodFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gaXNDbGljayBmb3IgbGVmdCBidXR0b24gb25seSwgaW5kaWNhdGVzIHRoYXQgdGhlIG1vdXNlIHVwIGhhcHBlbmVkIHdpdGhvdXQgbW92ZS5cbiAgICAgKi9cbiAgICBfaGFuZGxlRXZlbnQ6IGZ1bmN0aW9uKGUsIGV2ZW50VHlwZSwgYnV0dG9uLCBpc0NsaWNrKSB7XG4gICAgICB2YXIgdGFyZ2V0ID0gdGhpcy5fdGFyZ2V0LFxuICAgICAgICAgIHRhcmdldHMgPSB0aGlzLnRhcmdldHMgfHwgW10sXG4gICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGU6IGUsXG4gICAgICAgICAgICB0YXJnZXQ6IHRhcmdldCxcbiAgICAgICAgICAgIHN1YlRhcmdldHM6IHRhcmdldHMsXG4gICAgICAgICAgICBidXR0b246IGJ1dHRvbiB8fCBMRUZUX0NMSUNLLFxuICAgICAgICAgICAgaXNDbGljazogaXNDbGljayB8fCBmYWxzZSxcbiAgICAgICAgICAgIHBvaW50ZXI6IHRoaXMuX3BvaW50ZXIsXG4gICAgICAgICAgICBhYnNvbHV0ZVBvaW50ZXI6IHRoaXMuX2Fic29sdXRlUG9pbnRlcixcbiAgICAgICAgICAgIHRyYW5zZm9ybTogdGhpcy5fY3VycmVudFRyYW5zZm9ybVxuICAgICAgICAgIH07XG4gICAgICBpZiAoZXZlbnRUeXBlID09PSAndXAnKSB7XG4gICAgICAgIG9wdGlvbnMuY3VycmVudFRhcmdldCA9IHRoaXMuZmluZFRhcmdldChlKTtcbiAgICAgICAgb3B0aW9ucy5jdXJyZW50U3ViVGFyZ2V0cyA9IHRoaXMudGFyZ2V0cztcbiAgICAgIH1cbiAgICAgIHRoaXMuZmlyZSgnbW91c2U6JyArIGV2ZW50VHlwZSwgb3B0aW9ucyk7XG4gICAgICB0YXJnZXQgJiYgdGFyZ2V0LmZpcmUoJ21vdXNlJyArIGV2ZW50VHlwZSwgb3B0aW9ucyk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRhcmdldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGFyZ2V0c1tpXS5maXJlKCdtb3VzZScgKyBldmVudFR5cGUsIG9wdGlvbnMpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGUgc2VuZCB0aGUgbW91c2UgZXZlbnQgdGhhdCBnZW5lcmF0ZSB0aGUgZmluYWxpemUgZG93biwgc28gaXQgY2FuIGJlIHVzZWQgaW4gdGhlIGV2ZW50XG4gICAgICovXG4gICAgX2ZpbmFsaXplQ3VycmVudFRyYW5zZm9ybTogZnVuY3Rpb24oZSkge1xuXG4gICAgICB2YXIgdHJhbnNmb3JtID0gdGhpcy5fY3VycmVudFRyYW5zZm9ybSxcbiAgICAgICAgICB0YXJnZXQgPSB0cmFuc2Zvcm0udGFyZ2V0LFxuICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICBlOiBlLFxuICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zZm9ybSxcbiAgICAgICAgICAgIGFjdGlvbjogdHJhbnNmb3JtLmFjdGlvbixcbiAgICAgICAgICB9O1xuXG4gICAgICBpZiAodGFyZ2V0Ll9zY2FsaW5nKSB7XG4gICAgICAgIHRhcmdldC5fc2NhbGluZyA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB0YXJnZXQuc2V0Q29vcmRzKCk7XG5cbiAgICAgIGlmICh0cmFuc2Zvcm0uYWN0aW9uUGVyZm9ybWVkIHx8ICh0aGlzLnN0YXRlZnVsICYmIHRhcmdldC5oYXNTdGF0ZUNoYW5nZWQoKSkpIHtcbiAgICAgICAgdGhpcy5fZmlyZSgnbW9kaWZpZWQnLCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdCBmaXJlZCBvbiBtb3VzZWRvd25cbiAgICAgKi9cbiAgICBfb25Nb3VzZURvd25JbkRyYXdpbmdNb2RlOiBmdW5jdGlvbihlKSB7XG4gICAgICB0aGlzLl9pc0N1cnJlbnRseURyYXdpbmcgPSB0cnVlO1xuICAgICAgaWYgKHRoaXMuZ2V0QWN0aXZlT2JqZWN0KCkpIHtcbiAgICAgICAgdGhpcy5kaXNjYXJkQWN0aXZlT2JqZWN0KGUpLnJlcXVlc3RSZW5kZXJBbGwoKTtcbiAgICAgIH1cbiAgICAgIHZhciBwb2ludGVyID0gdGhpcy5nZXRQb2ludGVyKGUpO1xuICAgICAgdGhpcy5mcmVlRHJhd2luZ0JydXNoLm9uTW91c2VEb3duKHBvaW50ZXIsIHsgZTogZSwgcG9pbnRlcjogcG9pbnRlciB9KTtcbiAgICAgIHRoaXMuX2hhbmRsZUV2ZW50KGUsICdkb3duJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3QgZmlyZWQgb24gbW91c2Vtb3ZlXG4gICAgICovXG4gICAgX29uTW91c2VNb3ZlSW5EcmF3aW5nTW9kZTogZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKHRoaXMuX2lzQ3VycmVudGx5RHJhd2luZykge1xuICAgICAgICB2YXIgcG9pbnRlciA9IHRoaXMuZ2V0UG9pbnRlcihlKTtcbiAgICAgICAgdGhpcy5mcmVlRHJhd2luZ0JydXNoLm9uTW91c2VNb3ZlKHBvaW50ZXIsIHsgZTogZSwgcG9pbnRlcjogcG9pbnRlciB9KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2V0Q3Vyc29yKHRoaXMuZnJlZURyYXdpbmdDdXJzb3IpO1xuICAgICAgdGhpcy5faGFuZGxlRXZlbnQoZSwgJ21vdmUnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdCBmaXJlZCBvbiBtb3VzZXVwXG4gICAgICovXG4gICAgX29uTW91c2VVcEluRHJhd2luZ01vZGU6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBwb2ludGVyID0gdGhpcy5nZXRQb2ludGVyKGUpO1xuICAgICAgdGhpcy5faXNDdXJyZW50bHlEcmF3aW5nID0gdGhpcy5mcmVlRHJhd2luZ0JydXNoLm9uTW91c2VVcCh7IGU6IGUsIHBvaW50ZXI6IHBvaW50ZXIgfSk7XG4gICAgICB0aGlzLl9oYW5kbGVFdmVudChlLCAndXAnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRoYXQgZGVmaW5lcyB0aGUgYWN0aW9ucyB3aGVuIG1vdXNlIGlzIGNsaWNrZWQgb24gY2FudmFzLlxuICAgICAqIFRoZSBtZXRob2QgaW5pdHMgdGhlIGN1cnJlbnRUcmFuc2Zvcm0gcGFyYW1ldGVycyBhbmQgcmVuZGVycyBhbGwgdGhlXG4gICAgICogY2FudmFzIHNvIHRoZSBjdXJyZW50IGltYWdlIGNhbiBiZSBwbGFjZWQgb24gdGhlIHRvcCBjYW52YXMgYW5kIHRoZSByZXN0XG4gICAgICogaW4gb24gdGhlIGNvbnRhaW5lciBvbmUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdCBmaXJlZCBvbiBtb3VzZWRvd25cbiAgICAgKi9cbiAgICBfX29uTW91c2VEb3duOiBmdW5jdGlvbiAoZSkge1xuICAgICAgdGhpcy5fY2FjaGVUcmFuc2Zvcm1FdmVudERhdGEoZSk7XG4gICAgICB0aGlzLl9oYW5kbGVFdmVudChlLCAnZG93bjpiZWZvcmUnKTtcbiAgICAgIHZhciB0YXJnZXQgPSB0aGlzLl90YXJnZXQ7XG4gICAgICAvLyBpZiByaWdodCBjbGljayBqdXN0IGZpcmUgZXZlbnRzXG4gICAgICBpZiAoY2hlY2tDbGljayhlLCBSSUdIVF9DTElDSykpIHtcbiAgICAgICAgaWYgKHRoaXMuZmlyZVJpZ2h0Q2xpY2spIHtcbiAgICAgICAgICB0aGlzLl9oYW5kbGVFdmVudChlLCAnZG93bicsIFJJR0hUX0NMSUNLKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChjaGVja0NsaWNrKGUsIE1JRERMRV9DTElDSykpIHtcbiAgICAgICAgaWYgKHRoaXMuZmlyZU1pZGRsZUNsaWNrKSB7XG4gICAgICAgICAgdGhpcy5faGFuZGxlRXZlbnQoZSwgJ2Rvd24nLCBNSURETEVfQ0xJQ0spO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuaXNEcmF3aW5nTW9kZSkge1xuICAgICAgICB0aGlzLl9vbk1vdXNlRG93bkluRHJhd2luZ01vZGUoZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLl9pc01haW5FdmVudChlKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIGlnbm9yZSBpZiBzb21lIG9iamVjdCBpcyBiZWluZyB0cmFuc2Zvcm1lZCBhdCB0aGlzIG1vbWVudFxuICAgICAgaWYgKHRoaXMuX2N1cnJlbnRUcmFuc2Zvcm0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgcG9pbnRlciA9IHRoaXMuX3BvaW50ZXI7XG4gICAgICAvLyBzYXZlIHBvaW50ZXIgZm9yIGNoZWNrIGluIF9fb25Nb3VzZVVwIGV2ZW50XG4gICAgICB0aGlzLl9wcmV2aW91c1BvaW50ZXIgPSBwb2ludGVyO1xuICAgICAgdmFyIHNob3VsZFJlbmRlciA9IHRoaXMuX3Nob3VsZFJlbmRlcih0YXJnZXQpLFxuICAgICAgICAgIHNob3VsZEdyb3VwID0gdGhpcy5fc2hvdWxkR3JvdXAoZSwgdGFyZ2V0KTtcbiAgICAgIGlmICh0aGlzLl9zaG91bGRDbGVhclNlbGVjdGlvbihlLCB0YXJnZXQpKSB7XG4gICAgICAgIHRoaXMuZGlzY2FyZEFjdGl2ZU9iamVjdChlKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHNob3VsZEdyb3VwKSB7XG4gICAgICAgIHRoaXMuX2hhbmRsZUdyb3VwaW5nKGUsIHRhcmdldCk7XG4gICAgICAgIHRhcmdldCA9IHRoaXMuX2FjdGl2ZU9iamVjdDtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uICYmICghdGFyZ2V0IHx8XG4gICAgICAgICghdGFyZ2V0LnNlbGVjdGFibGUgJiYgIXRhcmdldC5pc0VkaXRpbmcgJiYgdGFyZ2V0ICE9PSB0aGlzLl9hY3RpdmVPYmplY3QpKSkge1xuICAgICAgICB0aGlzLl9ncm91cFNlbGVjdG9yID0ge1xuICAgICAgICAgIGV4OiB0aGlzLl9hYnNvbHV0ZVBvaW50ZXIueCxcbiAgICAgICAgICBleTogdGhpcy5fYWJzb2x1dGVQb2ludGVyLnksXG4gICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgIGxlZnQ6IDBcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICB2YXIgYWxyZWFkeVNlbGVjdGVkID0gdGFyZ2V0ID09PSB0aGlzLl9hY3RpdmVPYmplY3Q7XG4gICAgICAgIGlmICh0YXJnZXQuc2VsZWN0YWJsZSAmJiB0YXJnZXQuYWN0aXZlT24gPT09ICdkb3duJykge1xuICAgICAgICAgIHRoaXMuc2V0QWN0aXZlT2JqZWN0KHRhcmdldCwgZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvcm5lciA9IHRhcmdldC5fZmluZFRhcmdldENvcm5lcihcbiAgICAgICAgICB0aGlzLmdldFBvaW50ZXIoZSwgdHJ1ZSksXG4gICAgICAgICAgZmFicmljLnV0aWwuaXNUb3VjaEV2ZW50KGUpXG4gICAgICAgICk7XG4gICAgICAgIHRhcmdldC5fX2Nvcm5lciA9IGNvcm5lcjtcbiAgICAgICAgaWYgKHRhcmdldCA9PT0gdGhpcy5fYWN0aXZlT2JqZWN0ICYmIChjb3JuZXIgfHwgIXNob3VsZEdyb3VwKSkge1xuICAgICAgICAgIHRoaXMuX3NldHVwQ3VycmVudFRyYW5zZm9ybShlLCB0YXJnZXQsIGFscmVhZHlTZWxlY3RlZCk7XG4gICAgICAgICAgdmFyIGNvbnRyb2wgPSB0YXJnZXQuY29udHJvbHNbY29ybmVyXSxcbiAgICAgICAgICAgICAgcG9pbnRlciA9IHRoaXMuZ2V0UG9pbnRlcihlKSxcbiAgICAgICAgICAgICAgbW91c2VEb3duSGFuZGxlciA9IGNvbnRyb2wgJiYgY29udHJvbC5nZXRNb3VzZURvd25IYW5kbGVyKGUsIHRhcmdldCwgY29udHJvbCk7XG4gICAgICAgICAgaWYgKG1vdXNlRG93bkhhbmRsZXIpIHtcbiAgICAgICAgICAgIG1vdXNlRG93bkhhbmRsZXIoZSwgdGhpcy5fY3VycmVudFRyYW5zZm9ybSwgcG9pbnRlci54LCBwb2ludGVyLnkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5faGFuZGxlRXZlbnQoZSwgJ2Rvd24nKTtcbiAgICAgIC8vIHdlIG11c3QgcmVuZGVyQWxsIHNvIHRoYXQgd2UgdXBkYXRlIHRoZSB2aXN1YWxzXG4gICAgICAoc2hvdWxkUmVuZGVyIHx8IHNob3VsZEdyb3VwKSAmJiB0aGlzLnJlcXVlc3RSZW5kZXJBbGwoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmVzZXQgY2FjaGUgZm9ybSBjb21tb24gaW5mb3JtYXRpb24gbmVlZGVkIGR1cmluZyBldmVudCBwcm9jZXNzaW5nXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVzZXRUcmFuc2Zvcm1FdmVudERhdGE6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5fdGFyZ2V0ID0gbnVsbDtcbiAgICAgIHRoaXMuX3BvaW50ZXIgPSBudWxsO1xuICAgICAgdGhpcy5fYWJzb2x1dGVQb2ludGVyID0gbnVsbDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FjaGUgY29tbW9uIGluZm9ybWF0aW9uIG5lZWRlZCBkdXJpbmcgZXZlbnQgcHJvY2Vzc2luZ1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3QgZmlyZWQgb24gZXZlbnRcbiAgICAgKi9cbiAgICBfY2FjaGVUcmFuc2Zvcm1FdmVudERhdGE6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIC8vIHJlc2V0IGluIG9yZGVyIHRvIGF2b2lkIHN0YWxlIGNhY2hpbmdcbiAgICAgIHRoaXMuX3Jlc2V0VHJhbnNmb3JtRXZlbnREYXRhKCk7XG4gICAgICB0aGlzLl9wb2ludGVyID0gdGhpcy5nZXRQb2ludGVyKGUsIHRydWUpO1xuICAgICAgdGhpcy5fYWJzb2x1dGVQb2ludGVyID0gdGhpcy5yZXN0b3JlUG9pbnRlclZwdCh0aGlzLl9wb2ludGVyKTtcbiAgICAgIHRoaXMuX3RhcmdldCA9IHRoaXMuX2N1cnJlbnRUcmFuc2Zvcm0gPyB0aGlzLl9jdXJyZW50VHJhbnNmb3JtLnRhcmdldCA6IHRoaXMuZmluZFRhcmdldChlKSB8fCBudWxsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9iZWZvcmVUcmFuc2Zvcm06IGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciB0ID0gdGhpcy5fY3VycmVudFRyYW5zZm9ybTtcbiAgICAgIHRoaXMuc3RhdGVmdWwgJiYgdC50YXJnZXQuc2F2ZVN0YXRlKCk7XG4gICAgICB0aGlzLmZpcmUoJ2JlZm9yZTp0cmFuc2Zvcm0nLCB7XG4gICAgICAgIGU6IGUsXG4gICAgICAgIHRyYW5zZm9ybTogdCxcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdGhhdCBkZWZpbmVzIHRoZSBhY3Rpb25zIHdoZW4gbW91c2UgaXMgaG92ZXJpbmcgdGhlIGNhbnZhcy5cbiAgICAgKiBUaGUgY3VycmVudFRyYW5zZm9ybSBwYXJhbWV0ZXIgd2lsbCBkZWZpbmUgd2hldGhlciB0aGUgdXNlciBpcyByb3RhdGluZy9zY2FsaW5nL3RyYW5zbGF0aW5nXG4gICAgICogYW4gaW1hZ2Ugb3IgbmVpdGhlciBvZiB0aGVtIChvbmx5IGhvdmVyaW5nKS4gQSBncm91cCBzZWxlY3Rpb24gaXMgYWxzbyBwb3NzaWJsZSBhbmQgd291bGQgY2FuY2VsXG4gICAgICogYWxsIGFueSBvdGhlciB0eXBlIG9mIGFjdGlvbi5cbiAgICAgKiBJbiBjYXNlIG9mIGFuIGltYWdlIHRyYW5zZm9ybWF0aW9uIG9ubHkgdGhlIHRvcCBjYW52YXMgd2lsbCBiZSByZW5kZXJlZC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0IGZpcmVkIG9uIG1vdXNlbW92ZVxuICAgICAqL1xuICAgIF9fb25Nb3VzZU1vdmU6IGZ1bmN0aW9uIChlKSB7XG4gICAgICB0aGlzLl9oYW5kbGVFdmVudChlLCAnbW92ZTpiZWZvcmUnKTtcbiAgICAgIHRoaXMuX2NhY2hlVHJhbnNmb3JtRXZlbnREYXRhKGUpO1xuICAgICAgdmFyIHRhcmdldCwgcG9pbnRlcjtcblxuICAgICAgaWYgKHRoaXMuaXNEcmF3aW5nTW9kZSkge1xuICAgICAgICB0aGlzLl9vbk1vdXNlTW92ZUluRHJhd2luZ01vZGUoZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLl9pc01haW5FdmVudChlKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBncm91cFNlbGVjdG9yID0gdGhpcy5fZ3JvdXBTZWxlY3RvcjtcblxuICAgICAgLy8gV2UgaW5pdGlhbGx5IGNsaWNrZWQgaW4gYW4gZW1wdHkgYXJlYSwgc28gd2UgZHJhdyBhIGJveCBmb3IgbXVsdGlwbGUgc2VsZWN0aW9uXG4gICAgICBpZiAoZ3JvdXBTZWxlY3Rvcikge1xuICAgICAgICBwb2ludGVyID0gdGhpcy5fYWJzb2x1dGVQb2ludGVyO1xuXG4gICAgICAgIGdyb3VwU2VsZWN0b3IubGVmdCA9IHBvaW50ZXIueCAtIGdyb3VwU2VsZWN0b3IuZXg7XG4gICAgICAgIGdyb3VwU2VsZWN0b3IudG9wID0gcG9pbnRlci55IC0gZ3JvdXBTZWxlY3Rvci5leTtcblxuICAgICAgICB0aGlzLnJlbmRlclRvcCgpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoIXRoaXMuX2N1cnJlbnRUcmFuc2Zvcm0pIHtcbiAgICAgICAgdGFyZ2V0ID0gdGhpcy5maW5kVGFyZ2V0KGUpIHx8IG51bGw7XG4gICAgICAgIHRoaXMuX3NldEN1cnNvckZyb21FdmVudChlLCB0YXJnZXQpO1xuICAgICAgICB0aGlzLl9maXJlT3Zlck91dEV2ZW50cyh0YXJnZXQsIGUpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybU9iamVjdChlKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2hhbmRsZUV2ZW50KGUsICdtb3ZlJyk7XG4gICAgICB0aGlzLl9yZXNldFRyYW5zZm9ybUV2ZW50RGF0YSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNYW5hZ2UgdGhlIG1vdXNlb3V0LCBtb3VzZW92ZXIgZXZlbnRzIGZvciB0aGUgZmFicmljIG9iamVjdCBvbiB0aGUgY2FudmFzXG4gICAgICogQHBhcmFtIHtGYWJyaWMuT2JqZWN0fSB0YXJnZXQgdGhlIHRhcmdldCB3aGVyZSB0aGUgdGFyZ2V0IGZyb20gdGhlIG1vdXNlbW92ZSBldmVudFxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0IGZpcmVkIG9uIG1vdXNlbW92ZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2ZpcmVPdmVyT3V0RXZlbnRzOiBmdW5jdGlvbih0YXJnZXQsIGUpIHtcbiAgICAgIHZhciBfaG92ZXJlZFRhcmdldCA9IHRoaXMuX2hvdmVyZWRUYXJnZXQsXG4gICAgICAgICAgX2hvdmVyZWRUYXJnZXRzID0gdGhpcy5faG92ZXJlZFRhcmdldHMsIHRhcmdldHMgPSB0aGlzLnRhcmdldHMsXG4gICAgICAgICAgbGVuZ3RoID0gTWF0aC5tYXgoX2hvdmVyZWRUYXJnZXRzLmxlbmd0aCwgdGFyZ2V0cy5sZW5ndGgpO1xuXG4gICAgICB0aGlzLmZpcmVTeW50aGV0aWNJbk91dEV2ZW50cyh0YXJnZXQsIGUsIHtcbiAgICAgICAgb2xkVGFyZ2V0OiBfaG92ZXJlZFRhcmdldCxcbiAgICAgICAgZXZ0T3V0OiAnbW91c2VvdXQnLFxuICAgICAgICBjYW52YXNFdnRPdXQ6ICdtb3VzZTpvdXQnLFxuICAgICAgICBldnRJbjogJ21vdXNlb3ZlcicsXG4gICAgICAgIGNhbnZhc0V2dEluOiAnbW91c2U6b3ZlcicsXG4gICAgICB9KTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspe1xuICAgICAgICB0aGlzLmZpcmVTeW50aGV0aWNJbk91dEV2ZW50cyh0YXJnZXRzW2ldLCBlLCB7XG4gICAgICAgICAgb2xkVGFyZ2V0OiBfaG92ZXJlZFRhcmdldHNbaV0sXG4gICAgICAgICAgZXZ0T3V0OiAnbW91c2VvdXQnLFxuICAgICAgICAgIGV2dEluOiAnbW91c2VvdmVyJyxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICB0aGlzLl9ob3ZlcmVkVGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgdGhpcy5faG92ZXJlZFRhcmdldHMgPSB0aGlzLnRhcmdldHMuY29uY2F0KCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1hbmFnZSB0aGUgZHJhZ0VudGVyLCBkcmFnTGVhdmUgZXZlbnRzIGZvciB0aGUgZmFicmljIG9iamVjdHMgb24gdGhlIGNhbnZhc1xuICAgICAqIEBwYXJhbSB7RmFicmljLk9iamVjdH0gdGFyZ2V0IHRoZSB0YXJnZXQgd2hlcmUgdGhlIHRhcmdldCBmcm9tIHRoZSBvbkRyYWcgZXZlbnRcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdCBmaXJlZCBvbiBvbmRyYWdcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9maXJlRW50ZXJMZWF2ZUV2ZW50czogZnVuY3Rpb24odGFyZ2V0LCBlKSB7XG4gICAgICB2YXIgX2RyYWdnZWRvdmVyVGFyZ2V0ID0gdGhpcy5fZHJhZ2dlZG92ZXJUYXJnZXQsXG4gICAgICAgICAgX2hvdmVyZWRUYXJnZXRzID0gdGhpcy5faG92ZXJlZFRhcmdldHMsIHRhcmdldHMgPSB0aGlzLnRhcmdldHMsXG4gICAgICAgICAgbGVuZ3RoID0gTWF0aC5tYXgoX2hvdmVyZWRUYXJnZXRzLmxlbmd0aCwgdGFyZ2V0cy5sZW5ndGgpO1xuXG4gICAgICB0aGlzLmZpcmVTeW50aGV0aWNJbk91dEV2ZW50cyh0YXJnZXQsIGUsIHtcbiAgICAgICAgb2xkVGFyZ2V0OiBfZHJhZ2dlZG92ZXJUYXJnZXQsXG4gICAgICAgIGV2dE91dDogJ2RyYWdsZWF2ZScsXG4gICAgICAgIGV2dEluOiAnZHJhZ2VudGVyJyxcbiAgICAgIH0pO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLmZpcmVTeW50aGV0aWNJbk91dEV2ZW50cyh0YXJnZXRzW2ldLCBlLCB7XG4gICAgICAgICAgb2xkVGFyZ2V0OiBfaG92ZXJlZFRhcmdldHNbaV0sXG4gICAgICAgICAgZXZ0T3V0OiAnZHJhZ2xlYXZlJyxcbiAgICAgICAgICBldnRJbjogJ2RyYWdlbnRlcicsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdGhpcy5fZHJhZ2dlZG92ZXJUYXJnZXQgPSB0YXJnZXQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1hbmFnZSB0aGUgc3ludGhldGljIGluL291dCBldmVudHMgZm9yIHRoZSBmYWJyaWMgb2JqZWN0cyBvbiB0aGUgY2FudmFzXG4gICAgICogQHBhcmFtIHtGYWJyaWMuT2JqZWN0fSB0YXJnZXQgdGhlIHRhcmdldCB3aGVyZSB0aGUgdGFyZ2V0IGZyb20gdGhlIHN1cHBvcnRlZCBldmVudHNcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdCBmaXJlZFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgY29uZmlndXJhdGlvbiBmb3IgdGhlIGZ1bmN0aW9uIHRvIHdvcmtcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gY29uZmlnLnRhcmdldE5hbWUgcHJvcGVydHkgb24gdGhlIGNhbnZhcyB3aGVyZSB0aGUgb2xkIHRhcmdldCBpcyBzdG9yZWRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5jYW52YXNFdnRPdXRdIG5hbWUgb2YgdGhlIGV2ZW50IHRvIGZpcmUgYXQgY2FudmFzIGxldmVsIGZvciBvdXRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gY29uZmlnLmV2dE91dCBuYW1lIG9mIHRoZSBldmVudCB0byBmaXJlIGZvciBvdXRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5jYW52YXNFdnRJbl0gbmFtZSBvZiB0aGUgZXZlbnQgdG8gZmlyZSBhdCBjYW52YXMgbGV2ZWwgZm9yIGluXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGNvbmZpZy5ldnRJbiBuYW1lIG9mIHRoZSBldmVudCB0byBmaXJlIGZvciBpblxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZmlyZVN5bnRoZXRpY0luT3V0RXZlbnRzOiBmdW5jdGlvbih0YXJnZXQsIGUsIGNvbmZpZykge1xuICAgICAgdmFyIGluT3B0LCBvdXRPcHQsIG9sZFRhcmdldCA9IGNvbmZpZy5vbGRUYXJnZXQsIG91dEZpcmVzLCBpbkZpcmVzLFxuICAgICAgICAgIHRhcmdldENoYW5nZWQgPSBvbGRUYXJnZXQgIT09IHRhcmdldCwgY2FudmFzRXZ0SW4gPSBjb25maWcuY2FudmFzRXZ0SW4sIGNhbnZhc0V2dE91dCA9IGNvbmZpZy5jYW52YXNFdnRPdXQ7XG4gICAgICBpZiAodGFyZ2V0Q2hhbmdlZCkge1xuICAgICAgICBpbk9wdCA9IHsgZTogZSwgdGFyZ2V0OiB0YXJnZXQsIHByZXZpb3VzVGFyZ2V0OiBvbGRUYXJnZXQgfTtcbiAgICAgICAgb3V0T3B0ID0geyBlOiBlLCB0YXJnZXQ6IG9sZFRhcmdldCwgbmV4dFRhcmdldDogdGFyZ2V0IH07XG4gICAgICB9XG4gICAgICBpbkZpcmVzID0gdGFyZ2V0ICYmIHRhcmdldENoYW5nZWQ7XG4gICAgICBvdXRGaXJlcyA9IG9sZFRhcmdldCAmJiB0YXJnZXRDaGFuZ2VkO1xuICAgICAgaWYgKG91dEZpcmVzKSB7XG4gICAgICAgIGNhbnZhc0V2dE91dCAmJiB0aGlzLmZpcmUoY2FudmFzRXZ0T3V0LCBvdXRPcHQpO1xuICAgICAgICBvbGRUYXJnZXQuZmlyZShjb25maWcuZXZ0T3V0LCBvdXRPcHQpO1xuICAgICAgfVxuICAgICAgaWYgKGluRmlyZXMpIHtcbiAgICAgICAgY2FudmFzRXZ0SW4gJiYgdGhpcy5maXJlKGNhbnZhc0V2dEluLCBpbk9wdCk7XG4gICAgICAgIHRhcmdldC5maXJlKGNvbmZpZy5ldnRJbiwgaW5PcHQpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdGhhdCBkZWZpbmVzIGFjdGlvbnMgd2hlbiBhbiBFdmVudCBNb3VzZSBXaGVlbFxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0IGZpcmVkIG9uIG1vdXNldXBcbiAgICAgKi9cbiAgICBfX29uTW91c2VXaGVlbDogZnVuY3Rpb24oZSkge1xuICAgICAgdGhpcy5fY2FjaGVUcmFuc2Zvcm1FdmVudERhdGEoZSk7XG4gICAgICB0aGlzLl9oYW5kbGVFdmVudChlLCAnd2hlZWwnKTtcbiAgICAgIHRoaXMuX3Jlc2V0VHJhbnNmb3JtRXZlbnREYXRhKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBmaXJlZCBvbiBtb3VzZW1vdmVcbiAgICAgKi9cbiAgICBfdHJhbnNmb3JtT2JqZWN0OiBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgcG9pbnRlciA9IHRoaXMuZ2V0UG9pbnRlcihlKSxcbiAgICAgICAgICB0cmFuc2Zvcm0gPSB0aGlzLl9jdXJyZW50VHJhbnNmb3JtO1xuXG4gICAgICB0cmFuc2Zvcm0ucmVzZXQgPSBmYWxzZTtcbiAgICAgIHRyYW5zZm9ybS5zaGlmdEtleSA9IGUuc2hpZnRLZXk7XG4gICAgICB0cmFuc2Zvcm0uYWx0S2V5ID0gZVt0aGlzLmNlbnRlcmVkS2V5XTtcblxuICAgICAgdGhpcy5fcGVyZm9ybVRyYW5zZm9ybUFjdGlvbihlLCB0cmFuc2Zvcm0sIHBvaW50ZXIpO1xuICAgICAgdHJhbnNmb3JtLmFjdGlvblBlcmZvcm1lZCAmJiB0aGlzLnJlcXVlc3RSZW5kZXJBbGwoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcGVyZm9ybVRyYW5zZm9ybUFjdGlvbjogZnVuY3Rpb24oZSwgdHJhbnNmb3JtLCBwb2ludGVyKSB7XG4gICAgICB2YXIgeCA9IHBvaW50ZXIueCxcbiAgICAgICAgICB5ID0gcG9pbnRlci55LFxuICAgICAgICAgIGFjdGlvbiA9IHRyYW5zZm9ybS5hY3Rpb24sXG4gICAgICAgICAgYWN0aW9uUGVyZm9ybWVkID0gZmFsc2UsXG4gICAgICAgICAgYWN0aW9uSGFuZGxlciA9IHRyYW5zZm9ybS5hY3Rpb25IYW5kbGVyO1xuICAgICAgICAgIC8vIHRoaXMgb2JqZWN0IGNvdWxkIGJlIGNyZWF0ZWQgZnJvbSB0aGUgZnVuY3Rpb24gaW4gdGhlIGNvbnRyb2wgaGFuZGxlcnNcblxuXG4gICAgICBpZiAoYWN0aW9uSGFuZGxlcikge1xuICAgICAgICBhY3Rpb25QZXJmb3JtZWQgPSBhY3Rpb25IYW5kbGVyKGUsIHRyYW5zZm9ybSwgeCwgeSk7XG4gICAgICB9XG4gICAgICBpZiAoYWN0aW9uID09PSAnZHJhZycgJiYgYWN0aW9uUGVyZm9ybWVkKSB7XG4gICAgICAgIHRyYW5zZm9ybS50YXJnZXQuaXNNb3ZpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLnNldEN1cnNvcih0cmFuc2Zvcm0udGFyZ2V0Lm1vdmVDdXJzb3IgfHwgdGhpcy5tb3ZlQ3Vyc29yKTtcbiAgICAgIH1cbiAgICAgIHRyYW5zZm9ybS5hY3Rpb25QZXJmb3JtZWQgPSB0cmFuc2Zvcm0uYWN0aW9uUGVyZm9ybWVkIHx8IGFjdGlvblBlcmZvcm1lZDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZmlyZTogZmFicmljLmNvbnRyb2xzVXRpbHMuZmlyZUV2ZW50LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY3Vyc29yIGRlcGVuZGluZyBvbiB3aGVyZSB0aGUgY2FudmFzIGlzIGJlaW5nIGhvdmVyZWQuXG4gICAgICogTm90ZTogdmVyeSBidWdneSBpbiBPcGVyYVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCBPYmplY3QgdGhhdCB0aGUgbW91c2UgaXMgaG92ZXJpbmcsIGlmIHNvLlxuICAgICAqL1xuICAgIF9zZXRDdXJzb3JGcm9tRXZlbnQ6IGZ1bmN0aW9uIChlLCB0YXJnZXQpIHtcbiAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgIHRoaXMuc2V0Q3Vyc29yKHRoaXMuZGVmYXVsdEN1cnNvcik7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBob3ZlckN1cnNvciA9IHRhcmdldC5ob3ZlckN1cnNvciB8fCB0aGlzLmhvdmVyQ3Vyc29yLFxuICAgICAgICAgIGFjdGl2ZVNlbGVjdGlvbiA9IHRoaXMuX2FjdGl2ZU9iamVjdCAmJiB0aGlzLl9hY3RpdmVPYmplY3QudHlwZSA9PT0gJ2FjdGl2ZVNlbGVjdGlvbicgP1xuICAgICAgICAgICAgdGhpcy5fYWN0aXZlT2JqZWN0IDogbnVsbCxcbiAgICAgICAgICAvLyBvbmx5IHNob3cgcHJvcGVyIGNvcm5lciB3aGVuIGdyb3VwIHNlbGVjdGlvbiBpcyBub3QgYWN0aXZlXG4gICAgICAgICAgY29ybmVyID0gKCFhY3RpdmVTZWxlY3Rpb24gfHwgIWFjdGl2ZVNlbGVjdGlvbi5jb250YWlucyh0YXJnZXQpKVxuICAgICAgICAgIC8vIGhlcmUgd2UgY2FsbCBmaW5kVGFyZ2V0Q29ybmVyIGFsd2F5cyB3aXRoIHVuZGVmaW5lZCBmb3IgdGhlIHRvdWNoIHBhcmFtZXRlci5cbiAgICAgICAgICAvLyB3ZSBhc3N1bWUgdGhhdCBpZiB5b3UgYXJlIHVzaW5nIGEgY3Vyc29yIHlvdSBkbyBub3QgbmVlZCB0byBpbnRlcmFjdCB3aXRoXG4gICAgICAgICAgLy8gdGhlIGJpZ2dlciB0b3VjaCBhcmVhLlxuICAgICAgICAgICAgICAgICAgICAmJiB0YXJnZXQuX2ZpbmRUYXJnZXRDb3JuZXIodGhpcy5nZXRQb2ludGVyKGUsIHRydWUpKTtcblxuICAgICAgaWYgKCFjb3JuZXIpIHtcbiAgICAgICAgaWYgKHRhcmdldC5zdWJUYXJnZXRDaGVjayl7XG4gICAgICAgICAgLy8gaG92ZXJDdXJzb3Igc2hvdWxkIGNvbWUgZnJvbSB0b3AtbW9zdCBzdWJUYXJnZXQsXG4gICAgICAgICAgLy8gc28gd2Ugd2FsayB0aGUgYXJyYXkgYmFja3dhcmRzXG4gICAgICAgICAgdGhpcy50YXJnZXRzLmNvbmNhdCgpLnJldmVyc2UoKS5tYXAoZnVuY3Rpb24oX3RhcmdldCl7XG4gICAgICAgICAgICBob3ZlckN1cnNvciA9IF90YXJnZXQuaG92ZXJDdXJzb3IgfHwgaG92ZXJDdXJzb3I7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRDdXJzb3IoaG92ZXJDdXJzb3IpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0Q3Vyc29yKHRoaXMuZ2V0Q29ybmVyQ3Vyc29yKGNvcm5lciwgdGFyZ2V0LCBlKSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZ2V0Q29ybmVyQ3Vyc29yOiBmdW5jdGlvbihjb3JuZXIsIHRhcmdldCwgZSkge1xuICAgICAgdmFyIGNvbnRyb2wgPSB0YXJnZXQuY29udHJvbHNbY29ybmVyXTtcbiAgICAgIHJldHVybiBjb250cm9sLmN1cnNvclN0eWxlSGFuZGxlcihlLCBjb250cm9sLCB0YXJnZXQpO1xuICAgIH1cbiAgfSk7XG59KSgpO1xuXG5cbihmdW5jdGlvbigpIHtcblxuICB2YXIgbWluID0gTWF0aC5taW4sXG4gICAgICBtYXggPSBNYXRoLm1heDtcblxuICBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kKGZhYnJpYy5DYW52YXMucHJvdG90eXBlLCAvKiogQGxlbmRzIGZhYnJpYy5DYW52YXMucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IHRhcmdldFxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgX3Nob3VsZEdyb3VwOiBmdW5jdGlvbihlLCB0YXJnZXQpIHtcbiAgICAgIHZhciBhY3RpdmVPYmplY3QgPSB0aGlzLl9hY3RpdmVPYmplY3Q7XG4gICAgICByZXR1cm4gYWN0aXZlT2JqZWN0ICYmIHRoaXMuX2lzU2VsZWN0aW9uS2V5UHJlc3NlZChlKSAmJiB0YXJnZXQgJiYgdGFyZ2V0LnNlbGVjdGFibGUgJiYgdGhpcy5zZWxlY3Rpb24gJiZcbiAgICAgICAgICAgIChhY3RpdmVPYmplY3QgIT09IHRhcmdldCB8fCBhY3RpdmVPYmplY3QudHlwZSA9PT0gJ2FjdGl2ZVNlbGVjdGlvbicpICYmICF0YXJnZXQub25TZWxlY3QoeyBlOiBlIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSB0YXJnZXRcbiAgICAgKi9cbiAgICBfaGFuZGxlR3JvdXBpbmc6IGZ1bmN0aW9uIChlLCB0YXJnZXQpIHtcbiAgICAgIHZhciBhY3RpdmVPYmplY3QgPSB0aGlzLl9hY3RpdmVPYmplY3Q7XG4gICAgICAvLyBhdm9pZCBtdWx0aSBzZWxlY3Qgd2hlbiBzaGlmdCBjbGljayBvbiBhIGNvcm5lclxuICAgICAgaWYgKGFjdGl2ZU9iamVjdC5fX2Nvcm5lcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodGFyZ2V0ID09PSBhY3RpdmVPYmplY3QpIHtcbiAgICAgICAgLy8gaWYgaXQncyBhIGdyb3VwLCBmaW5kIHRhcmdldCBhZ2FpbiwgdXNpbmcgYWN0aXZlR3JvdXAgb2JqZWN0c1xuICAgICAgICB0YXJnZXQgPSB0aGlzLmZpbmRUYXJnZXQoZSwgdHJ1ZSk7XG4gICAgICAgIC8vIGlmIGV2ZW4gb2JqZWN0IGlzIG5vdCBmb3VuZCBvciB3ZSBhcmUgb24gYWN0aXZlT2JqZWN0Q29ybmVyLCBiYWlsIG91dFxuICAgICAgICBpZiAoIXRhcmdldCB8fCAhdGFyZ2V0LnNlbGVjdGFibGUpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChhY3RpdmVPYmplY3QgJiYgYWN0aXZlT2JqZWN0LnR5cGUgPT09ICdhY3RpdmVTZWxlY3Rpb24nKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUFjdGl2ZVNlbGVjdGlvbih0YXJnZXQsIGUpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuX2NyZWF0ZUFjdGl2ZVNlbGVjdGlvbih0YXJnZXQsIGUpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF91cGRhdGVBY3RpdmVTZWxlY3Rpb246IGZ1bmN0aW9uKHRhcmdldCwgZSkge1xuICAgICAgdmFyIGFjdGl2ZVNlbGVjdGlvbiA9IHRoaXMuX2FjdGl2ZU9iamVjdCxcbiAgICAgICAgICBjdXJyZW50QWN0aXZlT2JqZWN0cyA9IGFjdGl2ZVNlbGVjdGlvbi5fb2JqZWN0cy5zbGljZSgwKTtcbiAgICAgIGlmIChhY3RpdmVTZWxlY3Rpb24uY29udGFpbnModGFyZ2V0KSkge1xuICAgICAgICBhY3RpdmVTZWxlY3Rpb24ucmVtb3ZlV2l0aFVwZGF0ZSh0YXJnZXQpO1xuICAgICAgICB0aGlzLl9ob3ZlcmVkVGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB0aGlzLl9ob3ZlcmVkVGFyZ2V0cyA9IHRoaXMudGFyZ2V0cy5jb25jYXQoKTtcbiAgICAgICAgaWYgKGFjdGl2ZVNlbGVjdGlvbi5zaXplKCkgPT09IDEpIHtcbiAgICAgICAgICAvLyBhY3RpdmF0ZSBsYXN0IHJlbWFpbmluZyBvYmplY3RcbiAgICAgICAgICB0aGlzLl9zZXRBY3RpdmVPYmplY3QoYWN0aXZlU2VsZWN0aW9uLml0ZW0oMCksIGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgYWN0aXZlU2VsZWN0aW9uLmFkZFdpdGhVcGRhdGUodGFyZ2V0KTtcbiAgICAgICAgdGhpcy5faG92ZXJlZFRhcmdldCA9IGFjdGl2ZVNlbGVjdGlvbjtcbiAgICAgICAgdGhpcy5faG92ZXJlZFRhcmdldHMgPSB0aGlzLnRhcmdldHMuY29uY2F0KCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9maXJlU2VsZWN0aW9uRXZlbnRzKGN1cnJlbnRBY3RpdmVPYmplY3RzLCBlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfY3JlYXRlQWN0aXZlU2VsZWN0aW9uOiBmdW5jdGlvbih0YXJnZXQsIGUpIHtcbiAgICAgIHZhciBjdXJyZW50QWN0aXZlcyA9IHRoaXMuZ2V0QWN0aXZlT2JqZWN0cygpLCBncm91cCA9IHRoaXMuX2NyZWF0ZUdyb3VwKHRhcmdldCk7XG4gICAgICB0aGlzLl9ob3ZlcmVkVGFyZ2V0ID0gZ3JvdXA7XG4gICAgICAvLyBJU1NVRSA0MTE1OiBzaG91bGQgd2UgY29uc2lkZXIgc3ViVGFyZ2V0cyBoZXJlP1xuICAgICAgLy8gdGhpcy5faG92ZXJlZFRhcmdldHMgPSBbXTtcbiAgICAgIC8vIHRoaXMuX2hvdmVyZWRUYXJnZXRzID0gdGhpcy50YXJnZXRzLmNvbmNhdCgpO1xuICAgICAgdGhpcy5fc2V0QWN0aXZlT2JqZWN0KGdyb3VwLCBlKTtcbiAgICAgIHRoaXMuX2ZpcmVTZWxlY3Rpb25FdmVudHMoY3VycmVudEFjdGl2ZXMsIGUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRcbiAgICAgKi9cbiAgICBfY3JlYXRlR3JvdXA6IGZ1bmN0aW9uKHRhcmdldCkge1xuICAgICAgdmFyIG9iamVjdHMgPSB0aGlzLl9vYmplY3RzLFxuICAgICAgICAgIGlzQWN0aXZlTG93ZXIgPSBvYmplY3RzLmluZGV4T2YodGhpcy5fYWN0aXZlT2JqZWN0KSA8IG9iamVjdHMuaW5kZXhPZih0YXJnZXQpLFxuICAgICAgICAgIGdyb3VwT2JqZWN0cyA9IGlzQWN0aXZlTG93ZXJcbiAgICAgICAgICAgID8gW3RoaXMuX2FjdGl2ZU9iamVjdCwgdGFyZ2V0XVxuICAgICAgICAgICAgOiBbdGFyZ2V0LCB0aGlzLl9hY3RpdmVPYmplY3RdO1xuICAgICAgdGhpcy5fYWN0aXZlT2JqZWN0LmlzRWRpdGluZyAmJiB0aGlzLl9hY3RpdmVPYmplY3QuZXhpdEVkaXRpbmcoKTtcbiAgICAgIHJldHVybiBuZXcgZmFicmljLkFjdGl2ZVNlbGVjdGlvbihncm91cE9iamVjdHMsIHtcbiAgICAgICAgY2FudmFzOiB0aGlzXG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIG1vdXNlIGV2ZW50XG4gICAgICovXG4gICAgX2dyb3VwU2VsZWN0ZWRPYmplY3RzOiBmdW5jdGlvbiAoZSkge1xuXG4gICAgICB2YXIgZ3JvdXAgPSB0aGlzLl9jb2xsZWN0T2JqZWN0cyhlKSxcbiAgICAgICAgICBhR3JvdXA7XG5cbiAgICAgIC8vIGRvIG5vdCBjcmVhdGUgZ3JvdXAgZm9yIDEgZWxlbWVudCBvbmx5XG4gICAgICBpZiAoZ3JvdXAubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHRoaXMuc2V0QWN0aXZlT2JqZWN0KGdyb3VwWzBdLCBlKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGdyb3VwLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgYUdyb3VwID0gbmV3IGZhYnJpYy5BY3RpdmVTZWxlY3Rpb24oZ3JvdXAucmV2ZXJzZSgpLCB7XG4gICAgICAgICAgY2FudmFzOiB0aGlzXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNldEFjdGl2ZU9iamVjdChhR3JvdXAsIGUpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9jb2xsZWN0T2JqZWN0czogZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIGdyb3VwID0gW10sXG4gICAgICAgICAgY3VycmVudE9iamVjdCxcbiAgICAgICAgICB4MSA9IHRoaXMuX2dyb3VwU2VsZWN0b3IuZXgsXG4gICAgICAgICAgeTEgPSB0aGlzLl9ncm91cFNlbGVjdG9yLmV5LFxuICAgICAgICAgIHgyID0geDEgKyB0aGlzLl9ncm91cFNlbGVjdG9yLmxlZnQsXG4gICAgICAgICAgeTIgPSB5MSArIHRoaXMuX2dyb3VwU2VsZWN0b3IudG9wLFxuICAgICAgICAgIHNlbGVjdGlvblgxWTEgPSBuZXcgZmFicmljLlBvaW50KG1pbih4MSwgeDIpLCBtaW4oeTEsIHkyKSksXG4gICAgICAgICAgc2VsZWN0aW9uWDJZMiA9IG5ldyBmYWJyaWMuUG9pbnQobWF4KHgxLCB4MiksIG1heCh5MSwgeTIpKSxcbiAgICAgICAgICBhbGxvd0ludGVyc2VjdCA9ICF0aGlzLnNlbGVjdGlvbkZ1bGx5Q29udGFpbmVkLFxuICAgICAgICAgIGlzQ2xpY2sgPSB4MSA9PT0geDIgJiYgeTEgPT09IHkyO1xuICAgICAgLy8gd2UgaXRlcmF0ZSByZXZlcnNlIG9yZGVyIHRvIGNvbGxlY3QgdG9wIGZpcnN0IGluIGNhc2Ugb2YgY2xpY2suXG4gICAgICBmb3IgKHZhciBpID0gdGhpcy5fb2JqZWN0cy5sZW5ndGg7IGktLTsgKSB7XG4gICAgICAgIGN1cnJlbnRPYmplY3QgPSB0aGlzLl9vYmplY3RzW2ldO1xuXG4gICAgICAgIGlmICghY3VycmVudE9iamVjdCB8fCAhY3VycmVudE9iamVjdC5zZWxlY3RhYmxlIHx8ICFjdXJyZW50T2JqZWN0LnZpc2libGUpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgoYWxsb3dJbnRlcnNlY3QgJiYgY3VycmVudE9iamVjdC5pbnRlcnNlY3RzV2l0aFJlY3Qoc2VsZWN0aW9uWDFZMSwgc2VsZWN0aW9uWDJZMiwgdHJ1ZSkpIHx8XG4gICAgICAgICAgICBjdXJyZW50T2JqZWN0LmlzQ29udGFpbmVkV2l0aGluUmVjdChzZWxlY3Rpb25YMVkxLCBzZWxlY3Rpb25YMlkyLCB0cnVlKSB8fFxuICAgICAgICAgICAgKGFsbG93SW50ZXJzZWN0ICYmIGN1cnJlbnRPYmplY3QuY29udGFpbnNQb2ludChzZWxlY3Rpb25YMVkxLCBudWxsLCB0cnVlKSkgfHxcbiAgICAgICAgICAgIChhbGxvd0ludGVyc2VjdCAmJiBjdXJyZW50T2JqZWN0LmNvbnRhaW5zUG9pbnQoc2VsZWN0aW9uWDJZMiwgbnVsbCwgdHJ1ZSkpXG4gICAgICAgICkge1xuICAgICAgICAgIGdyb3VwLnB1c2goY3VycmVudE9iamVjdCk7XG4gICAgICAgICAgLy8gb25seSBhZGQgb25lIG9iamVjdCBpZiBpdCdzIGEgY2xpY2tcbiAgICAgICAgICBpZiAoaXNDbGljaykge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChncm91cC5sZW5ndGggPiAxKSB7XG4gICAgICAgIGdyb3VwID0gZ3JvdXAuZmlsdGVyKGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICAgIHJldHVybiAhb2JqZWN0Lm9uU2VsZWN0KHsgZTogZSB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBncm91cDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfbWF5YmVHcm91cE9iamVjdHM6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmICh0aGlzLnNlbGVjdGlvbiAmJiB0aGlzLl9ncm91cFNlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMuX2dyb3VwU2VsZWN0ZWRPYmplY3RzKGUpO1xuICAgICAgfVxuICAgICAgdGhpcy5zZXRDdXJzb3IodGhpcy5kZWZhdWx0Q3Vyc29yKTtcbiAgICAgIC8vIGNsZWFyIHNlbGVjdGlvbiBhbmQgY3VycmVudCB0cmFuc2Zvcm1hdGlvblxuICAgICAgdGhpcy5fZ3JvdXBTZWxlY3RvciA9IG51bGw7XG4gICAgfVxuICB9KTtcblxufSkoKTtcblxuXG4oZnVuY3Rpb24gKCkge1xuICBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kKGZhYnJpYy5TdGF0aWNDYW52YXMucHJvdG90eXBlLCAvKiogQGxlbmRzIGZhYnJpYy5TdGF0aWNDYW52YXMucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIEV4cG9ydHMgY2FudmFzIGVsZW1lbnQgdG8gYSBkYXRhdXJsIGltYWdlLiBOb3RlIHRoYXQgd2hlbiBtdWx0aXBsaWVyIGlzIHVzZWQsIGNyb3BwaW5nIGlzIHNjYWxlZCBhcHByb3ByaWF0ZWx5XG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5mb3JtYXQ9cG5nXSBUaGUgZm9ybWF0IG9mIHRoZSBvdXRwdXQgaW1hZ2UuIEVpdGhlciBcImpwZWdcIiBvciBcInBuZ1wiXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnF1YWxpdHk9MV0gUXVhbGl0eSBsZXZlbCAoMC4uMSkuIE9ubHkgdXNlZCBmb3IganBlZy5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubXVsdGlwbGllcj0xXSBNdWx0aXBsaWVyIHRvIHNjYWxlIGJ5LCB0byBoYXZlIGNvbnNpc3RlbnRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubGVmdF0gQ3JvcHBpbmcgbGVmdCBvZmZzZXQuIEludHJvZHVjZWQgaW4gdjEuMi4xNFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy50b3BdIENyb3BwaW5nIHRvcCBvZmZzZXQuIEludHJvZHVjZWQgaW4gdjEuMi4xNFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy53aWR0aF0gQ3JvcHBpbmcgd2lkdGguIEludHJvZHVjZWQgaW4gdjEuMi4xNFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5oZWlnaHRdIENyb3BwaW5nIGhlaWdodC4gSW50cm9kdWNlZCBpbiB2MS4yLjE0XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5lbmFibGVSZXRpbmFTY2FsaW5nXSBFbmFibGUgcmV0aW5hIHNjYWxpbmcgZm9yIGNsb25lIGltYWdlLiBJbnRyb2R1Y2UgaW4gMi4wLjBcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IFJldHVybnMgYSBkYXRhOiBVUkwgY29udGFpbmluZyBhIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBvYmplY3QgaW4gdGhlIGZvcm1hdCBzcGVjaWZpZWQgYnkgb3B0aW9ucy5mb3JtYXRcbiAgICAgKiBAc2VlIHtAbGluayBodHRwOi8vanNmaWRkbGUubmV0L2ZhYnJpY2pzL05mWlZiL3xqc0ZpZGRsZSBkZW1vfVxuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPkdlbmVyYXRlIGpwZWcgZGF0YVVSTCB3aXRoIGxvd2VyIHF1YWxpdHk8L2NhcHRpb24+XG4gICAgICogdmFyIGRhdGFVUkwgPSBjYW52YXMudG9EYXRhVVJMKHtcbiAgICAgKiAgIGZvcm1hdDogJ2pwZWcnLFxuICAgICAqICAgcXVhbGl0eTogMC44XG4gICAgICogfSk7XG4gICAgICogQGV4YW1wbGUgPGNhcHRpb24+R2VuZXJhdGUgY3JvcHBlZCBwbmcgZGF0YVVSTCAoY2xpcHBpbmcgb2YgY2FudmFzKTwvY2FwdGlvbj5cbiAgICAgKiB2YXIgZGF0YVVSTCA9IGNhbnZhcy50b0RhdGFVUkwoe1xuICAgICAqICAgZm9ybWF0OiAncG5nJyxcbiAgICAgKiAgIGxlZnQ6IDEwMCxcbiAgICAgKiAgIHRvcDogMTAwLFxuICAgICAqICAgd2lkdGg6IDIwMCxcbiAgICAgKiAgIGhlaWdodDogMjAwXG4gICAgICogfSk7XG4gICAgICogQGV4YW1wbGUgPGNhcHRpb24+R2VuZXJhdGUgZG91YmxlIHNjYWxlZCBwbmcgZGF0YVVSTDwvY2FwdGlvbj5cbiAgICAgKiB2YXIgZGF0YVVSTCA9IGNhbnZhcy50b0RhdGFVUkwoe1xuICAgICAqICAgZm9ybWF0OiAncG5nJyxcbiAgICAgKiAgIG11bHRpcGxpZXI6IDJcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICB0b0RhdGFVUkw6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICBvcHRpb25zIHx8IChvcHRpb25zID0geyB9KTtcblxuICAgICAgdmFyIGZvcm1hdCA9IG9wdGlvbnMuZm9ybWF0IHx8ICdwbmcnLFxuICAgICAgICAgIHF1YWxpdHkgPSBvcHRpb25zLnF1YWxpdHkgfHwgMSxcbiAgICAgICAgICBtdWx0aXBsaWVyID0gKG9wdGlvbnMubXVsdGlwbGllciB8fCAxKSAqIChvcHRpb25zLmVuYWJsZVJldGluYVNjYWxpbmcgPyB0aGlzLmdldFJldGluYVNjYWxpbmcoKSA6IDEpLFxuICAgICAgICAgIGNhbnZhc0VsID0gdGhpcy50b0NhbnZhc0VsZW1lbnQobXVsdGlwbGllciwgb3B0aW9ucyk7XG4gICAgICByZXR1cm4gZmFicmljLnV0aWwudG9EYXRhVVJMKGNhbnZhc0VsLCBmb3JtYXQsIHF1YWxpdHkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgSFRNTENhbnZhcyBlbGVtZW50IHBhaW50ZWQgd2l0aCB0aGUgY3VycmVudCBjYW52YXMgY29udGVudC5cbiAgICAgKiBObyBuZWVkIHRvIHJlc2l6ZSB0aGUgYWN0dWFsIG9uZSBvciByZXBhaW50IGl0LlxuICAgICAqIFdpbGwgdHJhbnNmZXIgb2JqZWN0IG93bmVyc2hpcCB0byBhIG5ldyBjYW52YXMsIHBhaW50IGl0LCBhbmQgc2V0IGV2ZXJ5dGhpbmcgYmFjay5cbiAgICAgKiBUaGlzIGlzIGFuIGludGVybWVkaWFyeSBzdGVwIHVzZWQgdG8gZ2V0IHRvIGEgZGF0YVVybCBidXQgYWxzbyBpdCBpcyB1c2VmdWwgdG9cbiAgICAgKiBjcmVhdGUgcXVpY2sgaW1hZ2UgY29waWVzIG9mIGEgY2FudmFzIHdpdGhvdXQgcGFzc2luZyBmb3IgdGhlIGRhdGFVcmwgc3RyaW5nXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFttdWx0aXBsaWVyXSBhIHpvb20gZmFjdG9yLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY3JvcHBpbmddIENyb3BwaW5nIGluZm9ybWF0aW9uc1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY3JvcHBpbmcubGVmdF0gQ3JvcHBpbmcgbGVmdCBvZmZzZXQuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjcm9wcGluZy50b3BdIENyb3BwaW5nIHRvcCBvZmZzZXQuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjcm9wcGluZy53aWR0aF0gQ3JvcHBpbmcgd2lkdGguXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjcm9wcGluZy5oZWlnaHRdIENyb3BwaW5nIGhlaWdodC5cbiAgICAgKi9cbiAgICB0b0NhbnZhc0VsZW1lbnQ6IGZ1bmN0aW9uKG11bHRpcGxpZXIsIGNyb3BwaW5nKSB7XG4gICAgICBtdWx0aXBsaWVyID0gbXVsdGlwbGllciB8fCAxO1xuICAgICAgY3JvcHBpbmcgPSBjcm9wcGluZyB8fCB7IH07XG4gICAgICB2YXIgc2NhbGVkV2lkdGggPSAoY3JvcHBpbmcud2lkdGggfHwgdGhpcy53aWR0aCkgKiBtdWx0aXBsaWVyLFxuICAgICAgICAgIHNjYWxlZEhlaWdodCA9IChjcm9wcGluZy5oZWlnaHQgfHwgdGhpcy5oZWlnaHQpICogbXVsdGlwbGllcixcbiAgICAgICAgICB6b29tID0gdGhpcy5nZXRab29tKCksXG4gICAgICAgICAgb3JpZ2luYWxXaWR0aCA9IHRoaXMud2lkdGgsXG4gICAgICAgICAgb3JpZ2luYWxIZWlnaHQgPSB0aGlzLmhlaWdodCxcbiAgICAgICAgICBuZXdab29tID0gem9vbSAqIG11bHRpcGxpZXIsXG4gICAgICAgICAgdnAgPSB0aGlzLnZpZXdwb3J0VHJhbnNmb3JtLFxuICAgICAgICAgIHRyYW5zbGF0ZVggPSAodnBbNF0gLSAoY3JvcHBpbmcubGVmdCB8fCAwKSkgKiBtdWx0aXBsaWVyLFxuICAgICAgICAgIHRyYW5zbGF0ZVkgPSAodnBbNV0gLSAoY3JvcHBpbmcudG9wIHx8IDApKSAqIG11bHRpcGxpZXIsXG4gICAgICAgICAgb3JpZ2luYWxJbnRlcmFjdGl2ZSA9IHRoaXMuaW50ZXJhY3RpdmUsXG4gICAgICAgICAgbmV3VnAgPSBbbmV3Wm9vbSwgMCwgMCwgbmV3Wm9vbSwgdHJhbnNsYXRlWCwgdHJhbnNsYXRlWV0sXG4gICAgICAgICAgb3JpZ2luYWxSZXRpbmEgPSB0aGlzLmVuYWJsZVJldGluYVNjYWxpbmcsXG4gICAgICAgICAgY2FudmFzRWwgPSBmYWJyaWMudXRpbC5jcmVhdGVDYW52YXNFbGVtZW50KCksXG4gICAgICAgICAgb3JpZ2luYWxDb250ZXh0VG9wID0gdGhpcy5jb250ZXh0VG9wO1xuICAgICAgY2FudmFzRWwud2lkdGggPSBzY2FsZWRXaWR0aDtcbiAgICAgIGNhbnZhc0VsLmhlaWdodCA9IHNjYWxlZEhlaWdodDtcbiAgICAgIHRoaXMuY29udGV4dFRvcCA9IG51bGw7XG4gICAgICB0aGlzLmVuYWJsZVJldGluYVNjYWxpbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMuaW50ZXJhY3RpdmUgPSBmYWxzZTtcbiAgICAgIHRoaXMudmlld3BvcnRUcmFuc2Zvcm0gPSBuZXdWcDtcbiAgICAgIHRoaXMud2lkdGggPSBzY2FsZWRXaWR0aDtcbiAgICAgIHRoaXMuaGVpZ2h0ID0gc2NhbGVkSGVpZ2h0O1xuICAgICAgdGhpcy5jYWxjVmlld3BvcnRCb3VuZGFyaWVzKCk7XG4gICAgICB0aGlzLnJlbmRlckNhbnZhcyhjYW52YXNFbC5nZXRDb250ZXh0KCcyZCcpLCB0aGlzLl9vYmplY3RzKTtcbiAgICAgIHRoaXMudmlld3BvcnRUcmFuc2Zvcm0gPSB2cDtcbiAgICAgIHRoaXMud2lkdGggPSBvcmlnaW5hbFdpZHRoO1xuICAgICAgdGhpcy5oZWlnaHQgPSBvcmlnaW5hbEhlaWdodDtcbiAgICAgIHRoaXMuY2FsY1ZpZXdwb3J0Qm91bmRhcmllcygpO1xuICAgICAgdGhpcy5pbnRlcmFjdGl2ZSA9IG9yaWdpbmFsSW50ZXJhY3RpdmU7XG4gICAgICB0aGlzLmVuYWJsZVJldGluYVNjYWxpbmcgPSBvcmlnaW5hbFJldGluYTtcbiAgICAgIHRoaXMuY29udGV4dFRvcCA9IG9yaWdpbmFsQ29udGV4dFRvcDtcbiAgICAgIHJldHVybiBjYW52YXNFbDtcbiAgICB9LFxuICB9KTtcblxufSkoKTtcblxuXG5mYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kKGZhYnJpYy5TdGF0aWNDYW52YXMucHJvdG90eXBlLCAvKiogQGxlbmRzIGZhYnJpYy5TdGF0aWNDYW52YXMucHJvdG90eXBlICovIHtcbiAgLyoqXG4gICAqIFBvcHVsYXRlcyBjYW52YXMgd2l0aCBkYXRhIGZyb20gdGhlIHNwZWNpZmllZCBKU09OLlxuICAgKiBKU09OIGZvcm1hdCBtdXN0IGNvbmZvcm0gdG8gdGhlIG9uZSBvZiB7QGxpbmsgZmFicmljLkNhbnZhcyN0b0pTT059XG4gICAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdH0ganNvbiBKU09OIHN0cmluZyBvciBvYmplY3RcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2ssIGludm9rZWQgd2hlbiBqc29uIGlzIHBhcnNlZFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmQgY29ycmVzcG9uZGluZyBvYmplY3RzIChlLmc6IHtAbGluayBmYWJyaWMuSW1hZ2V9KVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmUgaW5pdGlhbGl6ZWRcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3Jldml2ZXJdIE1ldGhvZCBmb3IgZnVydGhlciBwYXJzaW5nIG9mIEpTT04gZWxlbWVudHMsIGNhbGxlZCBhZnRlciBlYWNoIGZhYnJpYyBvYmplY3QgY3JlYXRlZC5cbiAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gaW5zdGFuY2VcbiAgICogQGNoYWluYWJsZVxuICAgKiBAdHV0b3JpYWwge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vZmFicmljLWludHJvLXBhcnQtMyNkZXNlcmlhbGl6YXRpb259XG4gICAqIEBzZWUge0BsaW5rIGh0dHA6Ly9qc2ZpZGRsZS5uZXQvZmFicmljanMvZm1nWHQvfGpzRmlkZGxlIGRlbW99XG4gICAqIEBleGFtcGxlIDxjYXB0aW9uPmxvYWRGcm9tSlNPTjwvY2FwdGlvbj5cbiAgICogY2FudmFzLmxvYWRGcm9tSlNPTihqc29uLCBjYW52YXMucmVuZGVyQWxsLmJpbmQoY2FudmFzKSk7XG4gICAqIEBleGFtcGxlIDxjYXB0aW9uPmxvYWRGcm9tSlNPTiB3aXRoIHJldml2ZXI8L2NhcHRpb24+XG4gICAqIGNhbnZhcy5sb2FkRnJvbUpTT04oanNvbiwgY2FudmFzLnJlbmRlckFsbC5iaW5kKGNhbnZhcyksIGZ1bmN0aW9uKG8sIG9iamVjdCkge1xuICAgKiAgIC8vIGBvYCA9IGpzb24gb2JqZWN0XG4gICAqICAgLy8gYG9iamVjdGAgPSBmYWJyaWMuT2JqZWN0IGluc3RhbmNlXG4gICAqICAgLy8gLi4uIGRvIHNvbWUgc3R1ZmYgLi4uXG4gICAqIH0pO1xuICAgKi9cbiAgbG9hZEZyb21KU09OOiBmdW5jdGlvbiAoanNvbiwgY2FsbGJhY2ssIHJldml2ZXIpIHtcbiAgICBpZiAoIWpzb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBzZXJpYWxpemUgaWYgaXQgd2Fzbid0IGFscmVhZHlcbiAgICB2YXIgc2VyaWFsaXplZCA9ICh0eXBlb2YganNvbiA9PT0gJ3N0cmluZycpXG4gICAgICA/IEpTT04ucGFyc2UoanNvbilcbiAgICAgIDogZmFicmljLnV0aWwub2JqZWN0LmNsb25lKGpzb24pO1xuXG4gICAgdmFyIF90aGlzID0gdGhpcyxcbiAgICAgICAgY2xpcFBhdGggPSBzZXJpYWxpemVkLmNsaXBQYXRoLFxuICAgICAgICByZW5kZXJPbkFkZFJlbW92ZSA9IHRoaXMucmVuZGVyT25BZGRSZW1vdmU7XG5cbiAgICB0aGlzLnJlbmRlck9uQWRkUmVtb3ZlID0gZmFsc2U7XG5cbiAgICBkZWxldGUgc2VyaWFsaXplZC5jbGlwUGF0aDtcblxuICAgIHRoaXMuX2VubGl2ZW5PYmplY3RzKHNlcmlhbGl6ZWQub2JqZWN0cywgZnVuY3Rpb24gKGVubGl2ZW5lZE9iamVjdHMpIHtcbiAgICAgIF90aGlzLmNsZWFyKCk7XG4gICAgICBfdGhpcy5fc2V0QmdPdmVybGF5KHNlcmlhbGl6ZWQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGNsaXBQYXRoKSB7XG4gICAgICAgICAgX3RoaXMuX2VubGl2ZW5PYmplY3RzKFtjbGlwUGF0aF0sIGZ1bmN0aW9uIChlbmxpdmVuZWRDYW52YXNDbGlwKSB7XG4gICAgICAgICAgICBfdGhpcy5jbGlwUGF0aCA9IGVubGl2ZW5lZENhbnZhc0NsaXBbMF07XG4gICAgICAgICAgICBfdGhpcy5fX3NldHVwQ2FudmFzLmNhbGwoX3RoaXMsIHNlcmlhbGl6ZWQsIGVubGl2ZW5lZE9iamVjdHMsIHJlbmRlck9uQWRkUmVtb3ZlLCBjYWxsYmFjayk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgX3RoaXMuX19zZXR1cENhbnZhcy5jYWxsKF90aGlzLCBzZXJpYWxpemVkLCBlbmxpdmVuZWRPYmplY3RzLCByZW5kZXJPbkFkZFJlbW92ZSwgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LCByZXZpdmVyKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IHNlcmlhbGl6ZWQgT2JqZWN0IHdpdGggYmFja2dyb3VuZCBhbmQgb3ZlcmxheSBpbmZvcm1hdGlvblxuICAgKiBAcGFyYW0ge0FycmF5fSByZXN0b3JlZCBjYW52YXMgb2JqZWN0c1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWNoZWQgcmVuZGVyT25BZGRSZW1vdmUgY2FsbGJhY2tcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgSW52b2tlZCBhZnRlciBhbGwgYmFja2dyb3VuZCBhbmQgb3ZlcmxheSBpbWFnZXMvcGF0dGVybnMgbG9hZGVkXG4gICAqL1xuICBfX3NldHVwQ2FudmFzOiBmdW5jdGlvbihzZXJpYWxpemVkLCBlbmxpdmVuZWRPYmplY3RzLCByZW5kZXJPbkFkZFJlbW92ZSwgY2FsbGJhY2spIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIGVubGl2ZW5lZE9iamVjdHMuZm9yRWFjaChmdW5jdGlvbihvYmosIGluZGV4KSB7XG4gICAgICAvLyB3ZSBzcGxpY2UgdGhlIGFycmF5IGp1c3QgaW4gY2FzZSBzb21lIGN1c3RvbSBjbGFzc2VzIHJlc3RvcmVkIGZyb20gSlNPTlxuICAgICAgLy8gd2lsbCBhZGQgbW9yZSBvYmplY3QgdG8gY2FudmFzIGF0IGNhbnZhcyBpbml0LlxuICAgICAgX3RoaXMuaW5zZXJ0QXQob2JqLCBpbmRleCk7XG4gICAgfSk7XG4gICAgdGhpcy5yZW5kZXJPbkFkZFJlbW92ZSA9IHJlbmRlck9uQWRkUmVtb3ZlO1xuICAgIC8vIHJlbW92ZSBwYXJ0cyBpIGNhbm5vdCBzZXQgYXMgb3B0aW9uc1xuICAgIGRlbGV0ZSBzZXJpYWxpemVkLm9iamVjdHM7XG4gICAgZGVsZXRlIHNlcmlhbGl6ZWQuYmFja2dyb3VuZEltYWdlO1xuICAgIGRlbGV0ZSBzZXJpYWxpemVkLm92ZXJsYXlJbWFnZTtcbiAgICBkZWxldGUgc2VyaWFsaXplZC5iYWNrZ3JvdW5kO1xuICAgIGRlbGV0ZSBzZXJpYWxpemVkLm92ZXJsYXk7XG4gICAgLy8gdGhpcy5faW5pdE9wdGlvbnMgZG9lcyB0b28gbWFueSB0aGluZ3MgdG8ganVzdFxuICAgIC8vIGNhbGwgaXQuIE5vcm1hbGx5IGxvYWRpbmcgYW4gT2JqZWN0IGZyb20gSlNPTlxuICAgIC8vIGNyZWF0ZSB0aGUgT2JqZWN0IGluc3RhbmNlLiBIZXJlIHRoZSBDYW52YXMgaXNcbiAgICAvLyBhbHJlYWR5IGFuIGluc3RhbmNlIGFuZCB3ZSBhcmUganVzdCBsb2FkaW5nIHRoaW5ncyBvdmVyIGl0XG4gICAgdGhpcy5fc2V0T3B0aW9ucyhzZXJpYWxpemVkKTtcbiAgICB0aGlzLnJlbmRlckFsbCgpO1xuICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzZXJpYWxpemVkIE9iamVjdCB3aXRoIGJhY2tncm91bmQgYW5kIG92ZXJsYXkgaW5mb3JtYXRpb25cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgSW52b2tlZCBhZnRlciBhbGwgYmFja2dyb3VuZCBhbmQgb3ZlcmxheSBpbWFnZXMvcGF0dGVybnMgbG9hZGVkXG4gICAqL1xuICBfc2V0QmdPdmVybGF5OiBmdW5jdGlvbihzZXJpYWxpemVkLCBjYWxsYmFjaykge1xuICAgIHZhciBsb2FkZWQgPSB7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IGZhbHNlLFxuICAgICAgb3ZlcmxheUNvbG9yOiBmYWxzZSxcbiAgICAgIGJhY2tncm91bmRJbWFnZTogZmFsc2UsXG4gICAgICBvdmVybGF5SW1hZ2U6IGZhbHNlXG4gICAgfTtcblxuICAgIGlmICghc2VyaWFsaXplZC5iYWNrZ3JvdW5kSW1hZ2UgJiYgIXNlcmlhbGl6ZWQub3ZlcmxheUltYWdlICYmICFzZXJpYWxpemVkLmJhY2tncm91bmQgJiYgIXNlcmlhbGl6ZWQub3ZlcmxheSkge1xuICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgY2JJZkxvYWRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChsb2FkZWQuYmFja2dyb3VuZEltYWdlICYmIGxvYWRlZC5vdmVybGF5SW1hZ2UgJiYgbG9hZGVkLmJhY2tncm91bmRDb2xvciAmJiBsb2FkZWQub3ZlcmxheUNvbG9yKSB7XG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuX19zZXRCZ092ZXJsYXkoJ2JhY2tncm91bmRJbWFnZScsIHNlcmlhbGl6ZWQuYmFja2dyb3VuZEltYWdlLCBsb2FkZWQsIGNiSWZMb2FkZWQpO1xuICAgIHRoaXMuX19zZXRCZ092ZXJsYXkoJ292ZXJsYXlJbWFnZScsIHNlcmlhbGl6ZWQub3ZlcmxheUltYWdlLCBsb2FkZWQsIGNiSWZMb2FkZWQpO1xuICAgIHRoaXMuX19zZXRCZ092ZXJsYXkoJ2JhY2tncm91bmRDb2xvcicsIHNlcmlhbGl6ZWQuYmFja2dyb3VuZCwgbG9hZGVkLCBjYklmTG9hZGVkKTtcbiAgICB0aGlzLl9fc2V0QmdPdmVybGF5KCdvdmVybGF5Q29sb3InLCBzZXJpYWxpemVkLm92ZXJsYXksIGxvYWRlZCwgY2JJZkxvYWRlZCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eSBQcm9wZXJ0eSB0byBzZXQgKGJhY2tncm91bmRJbWFnZSwgb3ZlcmxheUltYWdlLCBiYWNrZ3JvdW5kQ29sb3IsIG92ZXJsYXlDb2xvcilcbiAgICogQHBhcmFtIHsoT2JqZWN0fFN0cmluZyl9IHZhbHVlIFZhbHVlIHRvIHNldFxuICAgKiBAcGFyYW0ge09iamVjdH0gbG9hZGVkIFNldCBsb2FkZWQgcHJvcGVydHkgdG8gdHJ1ZSBpZiBwcm9wZXJ0eSBpcyBzZXRcbiAgICogQHBhcmFtIHtPYmplY3R9IGNhbGxiYWNrIENhbGxiYWNrIGZ1bmN0aW9uIHRvIGludm9rZSBhZnRlciBwcm9wZXJ0eSBpcyBzZXRcbiAgICovXG4gIF9fc2V0QmdPdmVybGF5OiBmdW5jdGlvbihwcm9wZXJ0eSwgdmFsdWUsIGxvYWRlZCwgY2FsbGJhY2spIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgbG9hZGVkW3Byb3BlcnR5XSA9IHRydWU7XG4gICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChwcm9wZXJ0eSA9PT0gJ2JhY2tncm91bmRJbWFnZScgfHwgcHJvcGVydHkgPT09ICdvdmVybGF5SW1hZ2UnKSB7XG4gICAgICBmYWJyaWMudXRpbC5lbmxpdmVuT2JqZWN0cyhbdmFsdWVdLCBmdW5jdGlvbihlbmxpdmVkT2JqZWN0KXtcbiAgICAgICAgX3RoaXNbcHJvcGVydHldID0gZW5saXZlZE9iamVjdFswXTtcbiAgICAgICAgbG9hZGVkW3Byb3BlcnR5XSA9IHRydWU7XG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzWydzZXQnICsgZmFicmljLnV0aWwuc3RyaW5nLmNhcGl0YWxpemUocHJvcGVydHksIHRydWUpXSh2YWx1ZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgIGxvYWRlZFtwcm9wZXJ0eV0gPSB0cnVlO1xuICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBvYmplY3RzXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXZpdmVyXVxuICAgKi9cbiAgX2VubGl2ZW5PYmplY3RzOiBmdW5jdGlvbiAob2JqZWN0cywgY2FsbGJhY2ssIHJldml2ZXIpIHtcbiAgICBpZiAoIW9iamVjdHMgfHwgb2JqZWN0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKFtdKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmYWJyaWMudXRpbC5lbmxpdmVuT2JqZWN0cyhvYmplY3RzLCBmdW5jdGlvbihlbmxpdmVuZWRPYmplY3RzKSB7XG4gICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhlbmxpdmVuZWRPYmplY3RzKTtcbiAgICB9LCBudWxsLCByZXZpdmVyKTtcbiAgfSxcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtTdHJpbmd9IGZvcm1hdFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgKi9cbiAgX3RvRGF0YVVSTDogZnVuY3Rpb24gKGZvcm1hdCwgY2FsbGJhY2spIHtcbiAgICB0aGlzLmNsb25lKGZ1bmN0aW9uIChjbG9uZSkge1xuICAgICAgY2FsbGJhY2soY2xvbmUudG9EYXRhVVJMKGZvcm1hdCkpO1xuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gZm9ybWF0XG4gICAqIEBwYXJhbSB7TnVtYmVyfSBtdWx0aXBsaWVyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAqL1xuICBfdG9EYXRhVVJMV2l0aE11bHRpcGxpZXI6IGZ1bmN0aW9uIChmb3JtYXQsIG11bHRpcGxpZXIsIGNhbGxiYWNrKSB7XG4gICAgdGhpcy5jbG9uZShmdW5jdGlvbiAoY2xvbmUpIHtcbiAgICAgIGNhbGxiYWNrKGNsb25lLnRvRGF0YVVSTFdpdGhNdWx0aXBsaWVyKGZvcm1hdCwgbXVsdGlwbGllcikpO1xuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDbG9uZXMgY2FudmFzIGluc3RhbmNlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbY2FsbGJhY2tdIFJlY2VpdmVzIGNsb25lZCBpbnN0YW5jZSBhcyBhIGZpcnN0IGFyZ3VtZW50XG4gICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wZXJ0aWVzXSBBcnJheSBvZiBwcm9wZXJ0aWVzIHRvIGluY2x1ZGUgaW4gdGhlIGNsb25lZCBjYW52YXMgYW5kIGNoaWxkcmVuXG4gICAqL1xuICBjbG9uZTogZnVuY3Rpb24gKGNhbGxiYWNrLCBwcm9wZXJ0aWVzKSB7XG4gICAgdmFyIGRhdGEgPSBKU09OLnN0cmluZ2lmeSh0aGlzLnRvSlNPTihwcm9wZXJ0aWVzKSk7XG4gICAgdGhpcy5jbG9uZVdpdGhvdXREYXRhKGZ1bmN0aW9uKGNsb25lKSB7XG4gICAgICBjbG9uZS5sb2FkRnJvbUpTT04oZGF0YSwgZnVuY3Rpb24oKSB7XG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGNsb25lKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDbG9uZXMgY2FudmFzIGluc3RhbmNlIHdpdGhvdXQgY2xvbmluZyBleGlzdGluZyBkYXRhLlxuICAgKiBUaGlzIGVzc2VudGlhbGx5IGNvcGllcyBjYW52YXMgZGltZW5zaW9ucywgY2xpcHBpbmcgcHJvcGVydGllcywgZXRjLlxuICAgKiBidXQgbGVhdmVzIGRhdGEgZW1wdHkgKHNvIHRoYXQgeW91IGNhbiBwb3B1bGF0ZSBpdCB3aXRoIHlvdXIgb3duKVxuICAgKiBAcGFyYW0ge09iamVjdH0gW2NhbGxiYWNrXSBSZWNlaXZlcyBjbG9uZWQgaW5zdGFuY2UgYXMgYSBmaXJzdCBhcmd1bWVudFxuICAgKi9cbiAgY2xvbmVXaXRob3V0RGF0YTogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICB2YXIgZWwgPSBmYWJyaWMudXRpbC5jcmVhdGVDYW52YXNFbGVtZW50KCk7XG5cbiAgICBlbC53aWR0aCA9IHRoaXMud2lkdGg7XG4gICAgZWwuaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XG5cbiAgICB2YXIgY2xvbmUgPSBuZXcgZmFicmljLkNhbnZhcyhlbCk7XG4gICAgaWYgKHRoaXMuYmFja2dyb3VuZEltYWdlKSB7XG4gICAgICBjbG9uZS5zZXRCYWNrZ3JvdW5kSW1hZ2UodGhpcy5iYWNrZ3JvdW5kSW1hZ2Uuc3JjLCBmdW5jdGlvbigpIHtcbiAgICAgICAgY2xvbmUucmVuZGVyQWxsKCk7XG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGNsb25lKTtcbiAgICAgIH0pO1xuICAgICAgY2xvbmUuYmFja2dyb3VuZEltYWdlT3BhY2l0eSA9IHRoaXMuYmFja2dyb3VuZEltYWdlT3BhY2l0eTtcbiAgICAgIGNsb25lLmJhY2tncm91bmRJbWFnZVN0cmV0Y2ggPSB0aGlzLmJhY2tncm91bmRJbWFnZVN0cmV0Y2g7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soY2xvbmUpO1xuICAgIH1cbiAgfVxufSk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSksXG4gICAgICBleHRlbmQgPSBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kLFxuICAgICAgY2xvbmUgPSBmYWJyaWMudXRpbC5vYmplY3QuY2xvbmUsXG4gICAgICB0b0ZpeGVkID0gZmFicmljLnV0aWwudG9GaXhlZCxcbiAgICAgIGNhcGl0YWxpemUgPSBmYWJyaWMudXRpbC5zdHJpbmcuY2FwaXRhbGl6ZSxcbiAgICAgIGRlZ3JlZXNUb1JhZGlhbnMgPSBmYWJyaWMudXRpbC5kZWdyZWVzVG9SYWRpYW5zLFxuICAgICAgb2JqZWN0Q2FjaGluZyA9ICFmYWJyaWMuaXNMaWtlbHlOb2RlLFxuICAgICAgQUxJQVNJTkdfTElNSVQgPSAyO1xuXG4gIGlmIChmYWJyaWMuT2JqZWN0KSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFJvb3Qgb2JqZWN0IGNsYXNzIGZyb20gd2hpY2ggYWxsIDJkIHNoYXBlIGNsYXNzZXMgaW5oZXJpdCBmcm9tXG4gICAqIEBjbGFzcyBmYWJyaWMuT2JqZWN0XG4gICAqIEB0dXRvcmlhbCB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9mYWJyaWMtaW50cm8tcGFydC0xI29iamVjdHN9XG4gICAqIEBzZWUge0BsaW5rIGZhYnJpYy5PYmplY3QjaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICpcbiAgICogQGZpcmVzIGFkZGVkXG4gICAqIEBmaXJlcyByZW1vdmVkXG4gICAqXG4gICAqIEBmaXJlcyBzZWxlY3RlZFxuICAgKiBAZmlyZXMgZGVzZWxlY3RlZFxuICAgKiBAZmlyZXMgbW9kaWZpZWRcbiAgICogQGZpcmVzIG1vZGlmaWVkXG4gICAqIEBmaXJlcyBtb3ZlZFxuICAgKiBAZmlyZXMgc2NhbGVkXG4gICAqIEBmaXJlcyByb3RhdGVkXG4gICAqIEBmaXJlcyBza2V3ZWRcbiAgICpcbiAgICogQGZpcmVzIHJvdGF0aW5nXG4gICAqIEBmaXJlcyBzY2FsaW5nXG4gICAqIEBmaXJlcyBtb3ZpbmdcbiAgICogQGZpcmVzIHNrZXdpbmdcbiAgICpcbiAgICogQGZpcmVzIG1vdXNlZG93blxuICAgKiBAZmlyZXMgbW91c2V1cFxuICAgKiBAZmlyZXMgbW91c2VvdmVyXG4gICAqIEBmaXJlcyBtb3VzZW91dFxuICAgKiBAZmlyZXMgbW91c2V3aGVlbFxuICAgKiBAZmlyZXMgbW91c2VkYmxjbGlja1xuICAgKlxuICAgKiBAZmlyZXMgZHJhZ292ZXJcbiAgICogQGZpcmVzIGRyYWdlbnRlclxuICAgKiBAZmlyZXMgZHJhZ2xlYXZlXG4gICAqIEBmaXJlcyBkcm9wXG4gICAqL1xuICBmYWJyaWMuT2JqZWN0ID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3MoZmFicmljLkNvbW1vbk1ldGhvZHMsIC8qKiBAbGVuZHMgZmFicmljLk9iamVjdC5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogVHlwZSBvZiBhbiBvYmplY3QgKHJlY3QsIGNpcmNsZSwgcGF0aCwgZXRjLikuXG4gICAgICogTm90ZSB0aGF0IHRoaXMgcHJvcGVydHkgaXMgbWVhbnQgdG8gYmUgcmVhZC1vbmx5IGFuZCBub3QgbWVhbnQgdG8gYmUgbW9kaWZpZWQuXG4gICAgICogSWYgeW91IG1vZGlmeSwgY2VydGFpbiBwYXJ0cyBvZiBGYWJyaWMgKHN1Y2ggYXMgSlNPTiBsb2FkaW5nKSB3b24ndCB3b3JrIGNvcnJlY3RseS5cbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHR5cGU6ICAgICAgICAgICAgICAgICAgICAgJ29iamVjdCcsXG5cbiAgICAvKipcbiAgICAgKiBIb3Jpem9udGFsIG9yaWdpbiBvZiB0cmFuc2Zvcm1hdGlvbiBvZiBhbiBvYmplY3QgKG9uZSBvZiBcImxlZnRcIiwgXCJyaWdodFwiLCBcImNlbnRlclwiKVxuICAgICAqIFNlZSBodHRwOi8vanNmaWRkbGUubmV0LzFvdzAyZ2VhLzI0NC8gb24gaG93IG9yaWdpblgvb3JpZ2luWSBhZmZlY3Qgb2JqZWN0cyBpbiBncm91cHNcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIG9yaWdpblg6ICAgICAgICAgICAgICAgICAgJ2xlZnQnLFxuXG4gICAgLyoqXG4gICAgICogVmVydGljYWwgb3JpZ2luIG9mIHRyYW5zZm9ybWF0aW9uIG9mIGFuIG9iamVjdCAob25lIG9mIFwidG9wXCIsIFwiYm90dG9tXCIsIFwiY2VudGVyXCIpXG4gICAgICogU2VlIGh0dHA6Ly9qc2ZpZGRsZS5uZXQvMW93MDJnZWEvMjQ0LyBvbiBob3cgb3JpZ2luWC9vcmlnaW5ZIGFmZmVjdCBvYmplY3RzIGluIGdyb3Vwc1xuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgb3JpZ2luWTogICAgICAgICAgICAgICAgICAndG9wJyxcblxuICAgIC8qKlxuICAgICAqIFRvcCBwb3NpdGlvbiBvZiBhbiBvYmplY3QuIE5vdGUgdGhhdCBieSBkZWZhdWx0IGl0J3MgcmVsYXRpdmUgdG8gb2JqZWN0IHRvcC4gWW91IGNhbiBjaGFuZ2UgdGhpcyBieSBzZXR0aW5nIG9yaWdpblk9e3RvcC9jZW50ZXIvYm90dG9tfVxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdG9wOiAgICAgICAgICAgICAgICAgICAgICAwLFxuXG4gICAgLyoqXG4gICAgICogTGVmdCBwb3NpdGlvbiBvZiBhbiBvYmplY3QuIE5vdGUgdGhhdCBieSBkZWZhdWx0IGl0J3MgcmVsYXRpdmUgdG8gb2JqZWN0IGxlZnQuIFlvdSBjYW4gY2hhbmdlIHRoaXMgYnkgc2V0dGluZyBvcmlnaW5YPXtsZWZ0L2NlbnRlci9yaWdodH1cbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGxlZnQ6ICAgICAgICAgICAgICAgICAgICAgMCxcblxuICAgIC8qKlxuICAgICAqIE9iamVjdCB3aWR0aFxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgd2lkdGg6ICAgICAgICAgICAgICAgICAgICAwLFxuXG4gICAgLyoqXG4gICAgICogT2JqZWN0IGhlaWdodFxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgaGVpZ2h0OiAgICAgICAgICAgICAgICAgICAwLFxuXG4gICAgLyoqXG4gICAgICogT2JqZWN0IHNjYWxlIGZhY3RvciAoaG9yaXpvbnRhbClcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHNjYWxlWDogICAgICAgICAgICAgICAgICAgMSxcblxuICAgIC8qKlxuICAgICAqIE9iamVjdCBzY2FsZSBmYWN0b3IgKHZlcnRpY2FsKVxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc2NhbGVZOiAgICAgICAgICAgICAgICAgICAxLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiB0cnVlLCBhbiBvYmplY3QgaXMgcmVuZGVyZWQgYXMgZmxpcHBlZCBob3Jpem9udGFsbHlcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBmbGlwWDogICAgICAgICAgICAgICAgICAgIGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiB0cnVlLCBhbiBvYmplY3QgaXMgcmVuZGVyZWQgYXMgZmxpcHBlZCB2ZXJ0aWNhbGx5XG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgZmxpcFk6ICAgICAgICAgICAgICAgICAgICBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIE9wYWNpdHkgb2YgYW4gb2JqZWN0XG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBvcGFjaXR5OiAgICAgICAgICAgICAgICAgIDEsXG5cbiAgICAvKipcbiAgICAgKiBBbmdsZSBvZiByb3RhdGlvbiBvZiBhbiBvYmplY3QgKGluIGRlZ3JlZXMpXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBhbmdsZTogICAgICAgICAgICAgICAgICAgIDAsXG5cbiAgICAvKipcbiAgICAgKiBBbmdsZSBvZiBza2V3IG9uIHggYXhlcyBvZiBhbiBvYmplY3QgKGluIGRlZ3JlZXMpXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBza2V3WDogICAgICAgICAgICAgICAgICAgIDAsXG5cbiAgICAvKipcbiAgICAgKiBBbmdsZSBvZiBza2V3IG9uIHkgYXhlcyBvZiBhbiBvYmplY3QgKGluIGRlZ3JlZXMpXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBza2V3WTogICAgICAgICAgICAgICAgICAgIDAsXG5cbiAgICAvKipcbiAgICAgKiBTaXplIG9mIG9iamVjdCdzIGNvbnRyb2xsaW5nIGNvcm5lcnMgKGluIHBpeGVscylcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGNvcm5lclNpemU6ICAgICAgICAgICAgICAgMTMsXG5cbiAgICAvKipcbiAgICAgKiBTaXplIG9mIG9iamVjdCdzIGNvbnRyb2xsaW5nIGNvcm5lcnMgd2hlbiB0b3VjaCBpbnRlcmFjdGlvbiBpcyBkZXRlY3RlZFxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdG91Y2hDb3JuZXJTaXplOiAgICAgICAgICAgICAgIDI0LFxuXG4gICAgLyoqXG4gICAgICogV2hlbiB0cnVlLCBvYmplY3QncyBjb250cm9sbGluZyBjb3JuZXJzIGFyZSByZW5kZXJlZCBhcyB0cmFuc3BhcmVudCBpbnNpZGUgKGkuZS4gc3Ryb2tlIGluc3RlYWQgb2YgZmlsbClcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0cmFuc3BhcmVudENvcm5lcnM6ICAgICAgIHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IGN1cnNvciB2YWx1ZSB1c2VkIHdoZW4gaG92ZXJpbmcgb3ZlciB0aGlzIG9iamVjdCBvbiBjYW52YXNcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGhvdmVyQ3Vyc29yOiAgICAgICAgICAgICAgbnVsbCxcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgY3Vyc29yIHZhbHVlIHVzZWQgd2hlbiBtb3ZpbmcgdGhpcyBvYmplY3Qgb24gY2FudmFzXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBtb3ZlQ3Vyc29yOiAgICAgICAgICAgICAgIG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBQYWRkaW5nIGJldHdlZW4gb2JqZWN0IGFuZCBpdHMgY29udHJvbGxpbmcgYm9yZGVycyAoaW4gcGl4ZWxzKVxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgcGFkZGluZzogICAgICAgICAgICAgICAgICAwLFxuXG4gICAgLyoqXG4gICAgICogQ29sb3Igb2YgY29udHJvbGxpbmcgYm9yZGVycyBvZiBhbiBvYmplY3QgKHdoZW4gaXQncyBhY3RpdmUpXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBib3JkZXJDb2xvcjogICAgICAgICAgICAgICdyZ2IoMTc4LDIwNCwyNTUpJyxcblxuICAgIC8qKlxuICAgICAqIEFycmF5IHNwZWNpZnlpbmcgZGFzaCBwYXR0ZXJuIG9mIGFuIG9iamVjdCdzIGJvcmRlcnMgKGhhc0JvcmRlciBtdXN0IGJlIHRydWUpXG4gICAgICogQHNpbmNlIDEuNi4yXG4gICAgICogQHR5cGUgQXJyYXlcbiAgICAgKi9cbiAgICBib3JkZXJEYXNoQXJyYXk6ICAgICAgICAgIG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBDb2xvciBvZiBjb250cm9sbGluZyBjb3JuZXJzIG9mIGFuIG9iamVjdCAod2hlbiBpdCdzIGFjdGl2ZSlcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGNvcm5lckNvbG9yOiAgICAgICAgICAgICAgJ3JnYigxNzgsMjA0LDI1NSknLFxuXG4gICAgLyoqXG4gICAgICogQ29sb3Igb2YgY29udHJvbGxpbmcgY29ybmVycyBvZiBhbiBvYmplY3QgKHdoZW4gaXQncyBhY3RpdmUgYW5kIHRyYW5zcGFyZW50Q29ybmVycyBmYWxzZSlcbiAgICAgKiBAc2luY2UgMS42LjJcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGNvcm5lclN0cm9rZUNvbG9yOiAgICAgICAgbnVsbCxcblxuICAgIC8qKlxuICAgICAqIFNwZWNpZnkgc3R5bGUgb2YgY29udHJvbCwgJ3JlY3QnIG9yICdjaXJjbGUnXG4gICAgICogQHNpbmNlIDEuNi4yXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICovXG4gICAgY29ybmVyU3R5bGU6ICAgICAgICAgICdyZWN0JyxcblxuICAgIC8qKlxuICAgICAqIEFycmF5IHNwZWNpZnlpbmcgZGFzaCBwYXR0ZXJuIG9mIGFuIG9iamVjdCdzIGNvbnRyb2wgKGhhc0JvcmRlciBtdXN0IGJlIHRydWUpXG4gICAgICogQHNpbmNlIDEuNi4yXG4gICAgICogQHR5cGUgQXJyYXlcbiAgICAgKi9cbiAgICBjb3JuZXJEYXNoQXJyYXk6ICAgICAgICAgIG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRydWUsIHRoaXMgb2JqZWN0IHdpbGwgdXNlIGNlbnRlciBwb2ludCBhcyB0aGUgb3JpZ2luIG9mIHRyYW5zZm9ybWF0aW9uXG4gICAgICogd2hlbiBiZWluZyBzY2FsZWQgdmlhIHRoZSBjb250cm9scy5cbiAgICAgKiA8Yj5CYWNrd2FyZHMgaW5jb21wYXRpYmlsaXR5IG5vdGU6PC9iPiBUaGlzIHByb3BlcnR5IHJlcGxhY2VzIFwiY2VudGVyVHJhbnNmb3JtXCIgKEJvb2xlYW4pLlxuICAgICAqIEBzaW5jZSAxLjMuNFxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGNlbnRlcmVkU2NhbGluZzogICAgICAgICAgZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRydWUsIHRoaXMgb2JqZWN0IHdpbGwgdXNlIGNlbnRlciBwb2ludCBhcyB0aGUgb3JpZ2luIG9mIHRyYW5zZm9ybWF0aW9uXG4gICAgICogd2hlbiBiZWluZyByb3RhdGVkIHZpYSB0aGUgY29udHJvbHMuXG4gICAgICogPGI+QmFja3dhcmRzIGluY29tcGF0aWJpbGl0eSBub3RlOjwvYj4gVGhpcyBwcm9wZXJ0eSByZXBsYWNlcyBcImNlbnRlclRyYW5zZm9ybVwiIChCb29sZWFuKS5cbiAgICAgKiBAc2luY2UgMS4zLjRcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBjZW50ZXJlZFJvdGF0aW9uOiAgICAgICAgIHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBDb2xvciBvZiBvYmplY3QncyBmaWxsXG4gICAgICogdGFrZXMgY3NzIGNvbG9ycyBodHRwczovL3d3dy53My5vcmcvVFIvY3NzLWNvbG9yLTMvXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBmaWxsOiAgICAgICAgICAgICAgICAgICAgICdyZ2IoMCwwLDApJyxcblxuICAgIC8qKlxuICAgICAqIEZpbGwgcnVsZSB1c2VkIHRvIGZpbGwgYW4gb2JqZWN0XG4gICAgICogYWNjZXB0ZWQgdmFsdWVzIGFyZSBub256ZXJvLCBldmVub2RkXG4gICAgICogPGI+QmFja3dhcmRzIGluY29tcGF0aWJpbGl0eSBub3RlOjwvYj4gVGhpcyBwcm9wZXJ0eSB3YXMgdXNlZCBmb3Igc2V0dGluZyBnbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gdW50aWwgdjEuNC4xMiAodXNlIGBmYWJyaWMuT2JqZWN0I2dsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbmAgaW5zdGVhZClcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGZpbGxSdWxlOiAgICAgICAgICAgICAgICAgJ25vbnplcm8nLFxuXG4gICAgLyoqXG4gICAgICogQ29tcG9zaXRlIHJ1bGUgdXNlZCBmb3IgY2FudmFzIGdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvblxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uOiAnc291cmNlLW92ZXInLFxuXG4gICAgLyoqXG4gICAgICogQmFja2dyb3VuZCBjb2xvciBvZiBhbiBvYmplY3QuXG4gICAgICogdGFrZXMgY3NzIGNvbG9ycyBodHRwczovL3d3dy53My5vcmcvVFIvY3NzLWNvbG9yLTMvXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICAgICAgICAgICcnLFxuXG4gICAgLyoqXG4gICAgICogU2VsZWN0aW9uIEJhY2tncm91bmQgY29sb3Igb2YgYW4gb2JqZWN0LiBjb2xvcmVkIGxheWVyIGJlaGluZCB0aGUgb2JqZWN0IHdoZW4gaXQgaXMgYWN0aXZlLlxuICAgICAqIGRvZXMgbm90IG1peCBnb29kIHdpdGggZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uIG1ldGhvZHMuXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzZWxlY3Rpb25CYWNrZ3JvdW5kQ29sb3I6ICAgICAgICAgICcnLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBkZWZpbmVkLCBhbiBvYmplY3QgaXMgcmVuZGVyZWQgdmlhIHN0cm9rZSBhbmQgdGhpcyBwcm9wZXJ0eSBzcGVjaWZpZXMgaXRzIGNvbG9yXG4gICAgICogdGFrZXMgY3NzIGNvbG9ycyBodHRwczovL3d3dy53My5vcmcvVFIvY3NzLWNvbG9yLTMvXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzdHJva2U6ICAgICAgICAgICAgICAgICAgIG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBXaWR0aCBvZiBhIHN0cm9rZSB1c2VkIHRvIHJlbmRlciB0aGlzIG9iamVjdFxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc3Ryb2tlV2lkdGg6ICAgICAgICAgICAgICAxLFxuXG4gICAgLyoqXG4gICAgICogQXJyYXkgc3BlY2lmeWluZyBkYXNoIHBhdHRlcm4gb2YgYW4gb2JqZWN0J3Mgc3Ryb2tlIChzdHJva2UgbXVzdCBiZSBkZWZpbmVkKVxuICAgICAqIEB0eXBlIEFycmF5XG4gICAgICovXG4gICAgc3Ryb2tlRGFzaEFycmF5OiAgICAgICAgICBudWxsLFxuXG4gICAgLyoqXG4gICAgICogTGluZSBvZmZzZXQgb2YgYW4gb2JqZWN0J3Mgc3Ryb2tlXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzdHJva2VEYXNoT2Zmc2V0OiAwLFxuXG4gICAgLyoqXG4gICAgICogTGluZSBlbmRpbmdzIHN0eWxlIG9mIGFuIG9iamVjdCdzIHN0cm9rZSAob25lIG9mIFwiYnV0dFwiLCBcInJvdW5kXCIsIFwic3F1YXJlXCIpXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzdHJva2VMaW5lQ2FwOiAgICAgICAgICAgICdidXR0JyxcblxuICAgIC8qKlxuICAgICAqIENvcm5lciBzdHlsZSBvZiBhbiBvYmplY3QncyBzdHJva2UgKG9uZSBvZiBcImJldmVsXCIsIFwicm91bmRcIiwgXCJtaXRlclwiKVxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc3Ryb2tlTGluZUpvaW46ICAgICAgICAgICAnbWl0ZXInLFxuXG4gICAgLyoqXG4gICAgICogTWF4aW11bSBtaXRlciBsZW5ndGggKHVzZWQgZm9yIHN0cm9rZUxpbmVKb2luID0gXCJtaXRlclwiKSBvZiBhbiBvYmplY3QncyBzdHJva2VcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHN0cm9rZU1pdGVyTGltaXQ6ICAgICAgICAgNCxcblxuICAgIC8qKlxuICAgICAqIFNoYWRvdyBvYmplY3QgcmVwcmVzZW50aW5nIHNoYWRvdyBvZiB0aGlzIHNoYXBlXG4gICAgICogQHR5cGUgZmFicmljLlNoYWRvd1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc2hhZG93OiAgICAgICAgICAgICAgICAgICBudWxsLFxuXG4gICAgLyoqXG4gICAgICogT3BhY2l0eSBvZiBvYmplY3QncyBjb250cm9sbGluZyBib3JkZXJzIHdoZW4gb2JqZWN0IGlzIGFjdGl2ZSBhbmQgbW92aW5nXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBib3JkZXJPcGFjaXR5V2hlbk1vdmluZzogIDAuNCxcblxuICAgIC8qKlxuICAgICAqIFNjYWxlIGZhY3RvciBvZiBvYmplY3QncyBjb250cm9sbGluZyBib3JkZXJzXG4gICAgICogYmlnZ2VyIG51bWJlciB3aWxsIG1ha2UgYSB0aGlja2VyIGJvcmRlclxuICAgICAqIGJvcmRlciBpcyAxLCBzbyB0aGlzIGlzIGJhc2ljYWxseSBhIGJvcmRlciB0aGlja25lc3NcbiAgICAgKiBzaW5jZSB0aGVyZSBpcyBubyB3YXkgdG8gY2hhbmdlIHRoZSBib3JkZXIgaXRzZWxmLlxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgYm9yZGVyU2NhbGVGYWN0b3I6ICAgICAgICAxLFxuXG4gICAgLyoqXG4gICAgICogTWluaW11bSBhbGxvd2VkIHNjYWxlIHZhbHVlIG9mIGFuIG9iamVjdFxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgbWluU2NhbGVMaW1pdDogICAgICAgICAgICAwLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBzZXQgdG8gYGZhbHNlYCwgYW4gb2JqZWN0IGNhbiBub3QgYmUgc2VsZWN0ZWQgZm9yIG1vZGlmaWNhdGlvbiAodXNpbmcgZWl0aGVyIHBvaW50LWNsaWNrLWJhc2VkIG9yIGdyb3VwLWJhc2VkIHNlbGVjdGlvbikuXG4gICAgICogQnV0IGV2ZW50cyBzdGlsbCBmaXJlIG9uIGl0LlxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHNlbGVjdGFibGU6ICAgICAgICAgICAgICAgdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gc2V0IHRvIGBmYWxzZWAsIGFuIG9iamVjdCBjYW4gbm90IGJlIGEgdGFyZ2V0IG9mIGV2ZW50cy4gQWxsIGV2ZW50cyBwcm9wYWdhdGUgdGhyb3VnaCBpdC4gSW50cm9kdWNlZCBpbiB2MS4zLjRcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBldmVudGVkOiAgICAgICAgICAgICAgICAgIHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHNldCB0byBgZmFsc2VgLCBhbiBvYmplY3QgaXMgbm90IHJlbmRlcmVkIG9uIGNhbnZhc1xuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHZpc2libGU6ICAgICAgICAgICAgICAgICAgdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gc2V0IHRvIGBmYWxzZWAsIG9iamVjdCdzIGNvbnRyb2xzIGFyZSBub3QgZGlzcGxheWVkIGFuZCBjYW4gbm90IGJlIHVzZWQgdG8gbWFuaXB1bGF0ZSBvYmplY3RcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBoYXNDb250cm9sczogICAgICAgICAgICAgIHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHNldCB0byBgZmFsc2VgLCBvYmplY3QncyBjb250cm9sbGluZyBib3JkZXJzIGFyZSBub3QgcmVuZGVyZWRcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBoYXNCb3JkZXJzOiAgICAgICAgICAgICAgIHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHNldCB0byBgdHJ1ZWAsIG9iamVjdHMgYXJlIFwiZm91bmRcIiBvbiBjYW52YXMgb24gcGVyLXBpeGVsIGJhc2lzIHJhdGhlciB0aGFuIGFjY29yZGluZyB0byBib3VuZGluZyBib3hcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBwZXJQaXhlbFRhcmdldEZpbmQ6ICAgICAgIGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBgZmFsc2VgLCBkZWZhdWx0IG9iamVjdCdzIHZhbHVlcyBhcmUgbm90IGluY2x1ZGVkIGluIGl0cyBzZXJpYWxpemF0aW9uXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgaW5jbHVkZURlZmF1bHRWYWx1ZXM6ICAgICB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBgdHJ1ZWAsIG9iamVjdCBob3Jpem9udGFsIG1vdmVtZW50IGlzIGxvY2tlZFxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGxvY2tNb3ZlbWVudFg6ICAgICAgICAgICAgZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIGB0cnVlYCwgb2JqZWN0IHZlcnRpY2FsIG1vdmVtZW50IGlzIGxvY2tlZFxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGxvY2tNb3ZlbWVudFk6ICAgICAgICAgICAgZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIGB0cnVlYCwgb2JqZWN0IHJvdGF0aW9uIGlzIGxvY2tlZFxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGxvY2tSb3RhdGlvbjogICAgICAgICAgICAgZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIGB0cnVlYCwgb2JqZWN0IGhvcml6b250YWwgc2NhbGluZyBpcyBsb2NrZWRcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBsb2NrU2NhbGluZ1g6ICAgICAgICAgICAgIGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBgdHJ1ZWAsIG9iamVjdCB2ZXJ0aWNhbCBzY2FsaW5nIGlzIGxvY2tlZFxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGxvY2tTY2FsaW5nWTogICAgICAgICAgICAgZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIGB0cnVlYCwgb2JqZWN0IGhvcml6b250YWwgc2tld2luZyBpcyBsb2NrZWRcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBsb2NrU2tld2luZ1g6ICAgICAgICAgICAgIGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBgdHJ1ZWAsIG9iamVjdCB2ZXJ0aWNhbCBza2V3aW5nIGlzIGxvY2tlZFxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGxvY2tTa2V3aW5nWTogICAgICAgICAgICAgZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIGB0cnVlYCwgb2JqZWN0IGNhbm5vdCBiZSBmbGlwcGVkIGJ5IHNjYWxpbmcgaW50byBuZWdhdGl2ZSB2YWx1ZXNcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBsb2NrU2NhbGluZ0ZsaXA6ICAgICAgICAgIGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBgdHJ1ZWAsIG9iamVjdCBpcyBub3QgZXhwb3J0ZWQgaW4gT0JKRUNUL0pTT05cbiAgICAgKiBAc2luY2UgMS42LjNcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBleGNsdWRlRnJvbUV4cG9ydDogICAgICAgIGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBgdHJ1ZWAsIG9iamVjdCBpcyBjYWNoZWQgb24gYW4gYWRkaXRpb25hbCBjYW52YXMuXG4gICAgICogV2hlbiBgZmFsc2VgLCBvYmplY3QgaXMgbm90IGNhY2hlZCB1bmxlc3MgbmVjZXNzYXJ5ICggY2xpcFBhdGggKVxuICAgICAqIGRlZmF1bHQgdG8gdHJ1ZVxuICAgICAqIEBzaW5jZSAxLjcuMFxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICovXG4gICAgb2JqZWN0Q2FjaGluZzogICAgICAgICAgICBvYmplY3RDYWNoaW5nLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBgdHJ1ZWAsIG9iamVjdCBwcm9wZXJ0aWVzIGFyZSBjaGVja2VkIGZvciBjYWNoZSBpbnZhbGlkYXRpb24uIEluIHNvbWUgcGFydGljdWxhclxuICAgICAqIHNpdHVhdGlvbiB5b3UgbWF5IHdhbnQgdGhpcyB0byBiZSBkaXNhYmxlZCAoIHNwcmF5IGJydXNoLCB2ZXJ5IGJpZywgZ3JvdXBzKVxuICAgICAqIG9yIGlmIHlvdXIgYXBwbGljYXRpb24gZG9lcyBub3QgYWxsb3cgeW91IHRvIG1vZGlmeSBwcm9wZXJ0aWVzIGZvciBncm91cHMgY2hpbGQgeW91IHdhbnRcbiAgICAgKiB0byBkaXNhYmxlIGl0IGZvciBncm91cHMuXG4gICAgICogZGVmYXVsdCB0byBmYWxzZVxuICAgICAqIHNpbmNlIDEuNy4wXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgc3RhdGVmdWxsQ2FjaGU6ICAgICAgICAgICAgZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIGB0cnVlYCwgY2FjaGUgZG9lcyBub3QgZ2V0IHVwZGF0ZWQgZHVyaW5nIHNjYWxpbmcuIFRoZSBwaWN0dXJlIHdpbGwgZ2V0IGJsb2NreSBpZiBzY2FsZWRcbiAgICAgKiB0b28gbXVjaCBhbmQgd2lsbCBiZSByZWRyYXduIHdpdGggY29ycmVjdCBkZXRhaWxzIGF0IHRoZSBlbmQgb2Ygc2NhbGluZy5cbiAgICAgKiB0aGlzIHNldHRpbmcgaXMgcGVyZm9ybWFuY2UgYW5kIGFwcGxpY2F0aW9uIGRlcGVuZGFudC5cbiAgICAgKiBkZWZhdWx0IHRvIHRydWVcbiAgICAgKiBzaW5jZSAxLjcuMFxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICovXG4gICAgbm9TY2FsZUNhY2hlOiAgICAgICAgICAgICAgdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gYGZhbHNlYCwgdGhlIHN0b2tlIHdpZHRoIHdpbGwgc2NhbGUgd2l0aCB0aGUgb2JqZWN0LlxuICAgICAqIFdoZW4gYHRydWVgLCB0aGUgc3Ryb2tlIHdpbGwgYWx3YXlzIG1hdGNoIHRoZSBleGFjdCBwaXhlbCBzaXplIGVudGVyZWQgZm9yIHN0cm9rZSB3aWR0aC5cbiAgICAgKiB0aGlzIFByb3BlcnR5IGRvZXMgbm90IHdvcmsgb24gVGV4dCBjbGFzc2VzIG9yIGRyYXdpbmcgY2FsbCB0aGF0IHVzZXMgc3Ryb2tlVGV4dCxmaWxsVGV4dCBtZXRob2RzXG4gICAgICogZGVmYXVsdCB0byBmYWxzZVxuICAgICAqIEBzaW5jZSAyLjYuMFxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIHN0cm9rZVVuaWZvcm06ICAgICAgICAgICAgICBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gc2V0IHRvIGB0cnVlYCwgb2JqZWN0J3MgY2FjaGUgd2lsbCBiZSByZXJlbmRlcmVkIG5leHQgcmVuZGVyIGNhbGwuXG4gICAgICogc2luY2UgMS43LjBcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAqL1xuICAgIGRpcnR5OiAgICAgICAgICAgICAgICB0cnVlLFxuXG4gICAgLyoqXG4gICAgICoga2VlcHMgdGhlIHZhbHVlIG9mIHRoZSBsYXN0IGhvdmVyZWQgY29ybmVyIGR1cmluZyBtb3VzZSBtb3ZlLlxuICAgICAqIDAgaXMgbm8gY29ybmVyLCBvciAnbXQnLCAnbWwnLCAnbXRyJyBldGMuLlxuICAgICAqIEl0IHNob3VsZCBiZSBwcml2YXRlLCBidXQgdGhlcmUgaXMgbm8gaGFybSBpbiB1c2luZyBpdCBhc1xuICAgICAqIGEgcmVhZC1vbmx5IHByb3BlcnR5LlxuICAgICAqIEB0eXBlIG51bWJlcnxzdHJpbmd8YW55XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIF9fY29ybmVyOiAwLFxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiB0aGUgZmlsbCBvciB0aGUgc3Ryb2tlIGlzIGRyYXduIGZpcnN0IChvbmUgb2YgXCJmaWxsXCIgb3IgXCJzdHJva2VcIilcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHBhaW50Rmlyc3Q6ICAgICAgICAgICAnZmlsbCcsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuICdkb3duJywgb2JqZWN0IGlzIHNldCB0byBhY3RpdmUgb24gbW91c2Vkb3duL3RvdWNoc3RhcnRcbiAgICAgKiBXaGVuICd1cCcsIG9iamVjdCBpcyBzZXQgdG8gYWN0aXZlIG9uIG1vdXNldXAvdG91Y2hlbmRcbiAgICAgKiBFeHBlcmltZW50YWwuIExldCdzIHNlZSBpZiB0aGlzIGJyZWFrcyBhbnl0aGluZyBiZWZvcmUgc3VwcG9ydGluZyBvZmZpY2lhbGx5XG4gICAgICogQHByaXZhdGVcbiAgICAgKiBzaW5jZSA0LjQuMFxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0ICdkb3duJ1xuICAgICAqL1xuICAgIGFjdGl2ZU9uOiAgICAgICAgICAgJ2Rvd24nLFxuXG4gICAgLyoqXG4gICAgICogTGlzdCBvZiBwcm9wZXJ0aWVzIHRvIGNvbnNpZGVyIHdoZW4gY2hlY2tpbmcgaWYgc3RhdGVcbiAgICAgKiBvZiBhbiBvYmplY3QgaXMgY2hhbmdlZCAoZmFicmljLk9iamVjdCNoYXNTdGF0ZUNoYW5nZWQpXG4gICAgICogYXMgd2VsbCBhcyBmb3IgaGlzdG9yeSAodW5kby9yZWRvKSBwdXJwb3Nlc1xuICAgICAqIEB0eXBlIEFycmF5XG4gICAgICovXG4gICAgc3RhdGVQcm9wZXJ0aWVzOiAoXG4gICAgICAndG9wIGxlZnQgd2lkdGggaGVpZ2h0IHNjYWxlWCBzY2FsZVkgZmxpcFggZmxpcFkgb3JpZ2luWCBvcmlnaW5ZIHRyYW5zZm9ybU1hdHJpeCAnICtcbiAgICAgICdzdHJva2Ugc3Ryb2tlV2lkdGggc3Ryb2tlRGFzaEFycmF5IHN0cm9rZUxpbmVDYXAgc3Ryb2tlRGFzaE9mZnNldCBzdHJva2VMaW5lSm9pbiBzdHJva2VNaXRlckxpbWl0ICcgK1xuICAgICAgJ2FuZ2xlIG9wYWNpdHkgZmlsbCBnbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gc2hhZG93IHZpc2libGUgYmFja2dyb3VuZENvbG9yICcgK1xuICAgICAgJ3NrZXdYIHNrZXdZIGZpbGxSdWxlIHBhaW50Rmlyc3QgY2xpcFBhdGggc3Ryb2tlVW5pZm9ybSdcbiAgICApLnNwbGl0KCcgJyksXG5cbiAgICAvKipcbiAgICAgKiBMaXN0IG9mIHByb3BlcnRpZXMgdG8gY29uc2lkZXIgd2hlbiBjaGVja2luZyBpZiBjYWNoZSBuZWVkcyByZWZyZXNoXG4gICAgICogVGhvc2UgcHJvcGVydGllcyBhcmUgY2hlY2tlZCBieSBzdGF0ZWZ1bGxDYWNoZSBPTiAoIG9yIGxhenkgbW9kZSBpZiB3ZSB3YW50ICkgb3IgZnJvbSBzaW5nbGVcbiAgICAgKiBjYWxscyB0byBPYmplY3Quc2V0KGtleSwgdmFsdWUpLiBJZiB0aGUga2V5IGlzIGluIHRoaXMgbGlzdCwgdGhlIG9iamVjdCBpcyBtYXJrZWQgYXMgZGlydHlcbiAgICAgKiBhbmQgcmVmcmVzaGVkIGF0IHRoZSBuZXh0IHJlbmRlclxuICAgICAqIEB0eXBlIEFycmF5XG4gICAgICovXG4gICAgY2FjaGVQcm9wZXJ0aWVzOiAoXG4gICAgICAnZmlsbCBzdHJva2Ugc3Ryb2tlV2lkdGggc3Ryb2tlRGFzaEFycmF5IHdpZHRoIGhlaWdodCBwYWludEZpcnN0IHN0cm9rZVVuaWZvcm0nICtcbiAgICAgICcgc3Ryb2tlTGluZUNhcCBzdHJva2VEYXNoT2Zmc2V0IHN0cm9rZUxpbmVKb2luIHN0cm9rZU1pdGVyTGltaXQgYmFja2dyb3VuZENvbG9yIGNsaXBQYXRoJ1xuICAgICkuc3BsaXQoJyAnKSxcblxuICAgIC8qKlxuICAgICAqIExpc3Qgb2YgcHJvcGVydGllcyB0byBjb25zaWRlciBmb3IgYW5pbWF0aW5nIGNvbG9ycy5cbiAgICAgKiBAdHlwZSBBcnJheVxuICAgICAqL1xuICAgIGNvbG9yUHJvcGVydGllczogKFxuICAgICAgJ2ZpbGwgc3Ryb2tlIGJhY2tncm91bmRDb2xvcidcbiAgICApLnNwbGl0KCcgJyksXG5cbiAgICAvKipcbiAgICAgKiBhIGZhYnJpY09iamVjdCB0aGF0LCB3aXRob3V0IHN0cm9rZSBkZWZpbmUgYSBjbGlwcGluZyBhcmVhIHdpdGggdGhlaXIgc2hhcGUuIGZpbGxlZCBpbiBibGFja1xuICAgICAqIHRoZSBjbGlwUGF0aCBvYmplY3QgZ2V0cyB1c2VkIHdoZW4gdGhlIG9iamVjdCBoYXMgcmVuZGVyZWQsIGFuZCB0aGUgY29udGV4dCBpcyBwbGFjZWQgaW4gdGhlIGNlbnRlclxuICAgICAqIG9mIHRoZSBvYmplY3QgY2FjaGVDYW52YXMuXG4gICAgICogSWYgeW91IHdhbnQgMCwwIG9mIGEgY2xpcFBhdGggdG8gYWxpZ24gd2l0aCBhbiBvYmplY3QgY2VudGVyLCB1c2UgY2xpcFBhdGgub3JpZ2luWC9ZIHRvICdjZW50ZXInXG4gICAgICogQHR5cGUgZmFicmljLk9iamVjdFxuICAgICAqL1xuICAgIGNsaXBQYXRoOiB1bmRlZmluZWQsXG5cbiAgICAvKipcbiAgICAgKiBNZWFuaW5nZnVsIE9OTFkgd2hlbiB0aGUgb2JqZWN0IGlzIHVzZWQgYXMgY2xpcFBhdGguXG4gICAgICogaWYgdHJ1ZSwgdGhlIGNsaXBQYXRoIHdpbGwgbWFrZSB0aGUgb2JqZWN0IGNsaXAgdG8gdGhlIG91dHNpZGUgb2YgdGhlIGNsaXBQYXRoXG4gICAgICogc2luY2UgMi40LjBcbiAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBpbnZlcnRlZDogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBNZWFuaW5nZnVsIE9OTFkgd2hlbiB0aGUgb2JqZWN0IGlzIHVzZWQgYXMgY2xpcFBhdGguXG4gICAgICogaWYgdHJ1ZSwgdGhlIGNsaXBQYXRoIHdpbGwgaGF2ZSBpdHMgdG9wIGFuZCBsZWZ0IHJlbGF0aXZlIHRvIGNhbnZhcywgYW5kIHdpbGxcbiAgICAgKiBub3QgYmUgaW5mbHVlbmNlZCBieSB0aGUgb2JqZWN0IHRyYW5zZm9ybS4gVGhpcyB3aWxsIG1ha2UgdGhlIGNsaXBQYXRoIHJlbGF0aXZlXG4gICAgICogdG8gdGhlIGNhbnZhcywgYnV0IGNsaXBwaW5nIGp1c3QgYSBwYXJ0aWN1bGFyIG9iamVjdC5cbiAgICAgKiBXQVJOSU5HIHRoaXMgaXMgYmV0YSwgdGhpcyBmZWF0dXJlIG1heSBjaGFuZ2Ugb3IgYmUgcmVuYW1lZC5cbiAgICAgKiBzaW5jZSAyLjQuMFxuICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIGFic29sdXRlUG9zaXRpb25lZDogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKi9cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICB0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHRoZSBjYW52YXMgdXNlZCB0byBrZWVwIHRoZSBjYWNoZWQgY29weSBvZiB0aGUgb2JqZWN0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfY3JlYXRlQ2FjaGVDYW52YXM6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5fY2FjaGVQcm9wZXJ0aWVzID0ge307XG4gICAgICB0aGlzLl9jYWNoZUNhbnZhcyA9IGZhYnJpYy51dGlsLmNyZWF0ZUNhbnZhc0VsZW1lbnQoKTtcbiAgICAgIHRoaXMuX2NhY2hlQ29udGV4dCA9IHRoaXMuX2NhY2hlQ2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICB0aGlzLl91cGRhdGVDYWNoZUNhbnZhcygpO1xuICAgICAgLy8gaWYgY2FudmFzIGdldHMgY3JlYXRlZCwgaXMgZW1wdHksIHNvIGRpcnR5LlxuICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIExpbWl0IHRoZSBjYWNoZSBkaW1lbnNpb25zIHNvIHRoYXQgWCAqIFkgZG8gbm90IGNyb3NzIGZhYnJpYy5wZXJmTGltaXRTaXplVG90YWxcbiAgICAgKiBhbmQgZWFjaCBzaWRlIGRvIG5vdCBjcm9zcyBmYWJyaWMuY2FjaGVTaWRlTGltaXRcbiAgICAgKiB0aG9zZSBudW1iZXJzIGFyZSBjb25maWd1cmFibGUgc28gdGhhdCB5b3UgY2FuIGdldCBhcyBtdWNoIGRldGFpbCBhcyB5b3Ugd2FudFxuICAgICAqIG1ha2luZyBiYXJnYWluIHdpdGggcGVyZm9ybWFuY2VzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkaW1zXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRpbXMud2lkdGggd2lkdGggb2YgY2FudmFzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRpbXMuaGVpZ2h0IGhlaWdodCBvZiBjYW52YXNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGltcy56b29tWCB6b29tWCB6b29tIHZhbHVlIHRvIHVuc2NhbGUgdGhlIGNhbnZhcyBiZWZvcmUgZHJhd2luZyBjYWNoZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkaW1zLnpvb21ZIHpvb21ZIHpvb20gdmFsdWUgdG8gdW5zY2FsZSB0aGUgY2FudmFzIGJlZm9yZSBkcmF3aW5nIGNhY2hlXG4gICAgICogQHJldHVybiB7T2JqZWN0fS53aWR0aCB3aWR0aCBvZiBjYW52YXNcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9LmhlaWdodCBoZWlnaHQgb2YgY2FudmFzXG4gICAgICogQHJldHVybiB7T2JqZWN0fS56b29tWCB6b29tWCB6b29tIHZhbHVlIHRvIHVuc2NhbGUgdGhlIGNhbnZhcyBiZWZvcmUgZHJhd2luZyBjYWNoZVxuICAgICAqIEByZXR1cm4ge09iamVjdH0uem9vbVkgem9vbVkgem9vbSB2YWx1ZSB0byB1bnNjYWxlIHRoZSBjYW52YXMgYmVmb3JlIGRyYXdpbmcgY2FjaGVcbiAgICAgKi9cbiAgICBfbGltaXRDYWNoZVNpemU6IGZ1bmN0aW9uKGRpbXMpIHtcbiAgICAgIHZhciBwZXJmTGltaXRTaXplVG90YWwgPSBmYWJyaWMucGVyZkxpbWl0U2l6ZVRvdGFsLFxuICAgICAgICAgIHdpZHRoID0gZGltcy53aWR0aCwgaGVpZ2h0ID0gZGltcy5oZWlnaHQsXG4gICAgICAgICAgbWF4ID0gZmFicmljLm1heENhY2hlU2lkZUxpbWl0LCBtaW4gPSBmYWJyaWMubWluQ2FjaGVTaWRlTGltaXQ7XG4gICAgICBpZiAod2lkdGggPD0gbWF4ICYmIGhlaWdodCA8PSBtYXggJiYgd2lkdGggKiBoZWlnaHQgPD0gcGVyZkxpbWl0U2l6ZVRvdGFsKSB7XG4gICAgICAgIGlmICh3aWR0aCA8IG1pbikge1xuICAgICAgICAgIGRpbXMud2lkdGggPSBtaW47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhlaWdodCA8IG1pbikge1xuICAgICAgICAgIGRpbXMuaGVpZ2h0ID0gbWluO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkaW1zO1xuICAgICAgfVxuICAgICAgdmFyIGFyID0gd2lkdGggLyBoZWlnaHQsIGxpbWl0ZWREaW1zID0gZmFicmljLnV0aWwubGltaXREaW1zQnlBcmVhKGFyLCBwZXJmTGltaXRTaXplVG90YWwpLFxuICAgICAgICAgIGNhcFZhbHVlID0gZmFicmljLnV0aWwuY2FwVmFsdWUsXG4gICAgICAgICAgeCA9IGNhcFZhbHVlKG1pbiwgbGltaXRlZERpbXMueCwgbWF4KSxcbiAgICAgICAgICB5ID0gY2FwVmFsdWUobWluLCBsaW1pdGVkRGltcy55LCBtYXgpO1xuICAgICAgaWYgKHdpZHRoID4geCkge1xuICAgICAgICBkaW1zLnpvb21YIC89IHdpZHRoIC8geDtcbiAgICAgICAgZGltcy53aWR0aCA9IHg7XG4gICAgICAgIGRpbXMuY2FwcGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChoZWlnaHQgPiB5KSB7XG4gICAgICAgIGRpbXMuem9vbVkgLz0gaGVpZ2h0IC8geTtcbiAgICAgICAgZGltcy5oZWlnaHQgPSB5O1xuICAgICAgICBkaW1zLmNhcHBlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGltcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBkaW1lbnNpb24gYW5kIHRoZSB6b29tIGxldmVsIG5lZWRlZCB0byBjcmVhdGUgYSBjYWNoZSBjYW52YXNcbiAgICAgKiBiaWcgZW5vdWdoIHRvIGhvc3QgdGhlIG9iamVjdCB0byBiZSBjYWNoZWQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9Lnggd2lkdGggb2Ygb2JqZWN0IHRvIGJlIGNhY2hlZFxuICAgICAqIEByZXR1cm4ge09iamVjdH0ueSBoZWlnaHQgb2Ygb2JqZWN0IHRvIGJlIGNhY2hlZFxuICAgICAqIEByZXR1cm4ge09iamVjdH0ud2lkdGggd2lkdGggb2YgY2FudmFzXG4gICAgICogQHJldHVybiB7T2JqZWN0fS5oZWlnaHQgaGVpZ2h0IG9mIGNhbnZhc1xuICAgICAqIEByZXR1cm4ge09iamVjdH0uem9vbVggem9vbVggem9vbSB2YWx1ZSB0byB1bnNjYWxlIHRoZSBjYW52YXMgYmVmb3JlIGRyYXdpbmcgY2FjaGVcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9Lnpvb21ZIHpvb21ZIHpvb20gdmFsdWUgdG8gdW5zY2FsZSB0aGUgY2FudmFzIGJlZm9yZSBkcmF3aW5nIGNhY2hlXG4gICAgICovXG4gICAgX2dldENhY2hlQ2FudmFzRGltZW5zaW9uczogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgb2JqZWN0U2NhbGUgPSB0aGlzLmdldFRvdGFsT2JqZWN0U2NhbGluZygpLFxuICAgICAgICAgIC8vIGNhY3VsYXRlIGRpbWVuc2lvbnMgd2l0aG91dCBza2V3aW5nXG4gICAgICAgICAgZGltID0gdGhpcy5fZ2V0VHJhbnNmb3JtZWREaW1lbnNpb25zKDAsIDApLFxuICAgICAgICAgIG5lZWRlZFggPSBkaW0ueCAqIG9iamVjdFNjYWxlLnNjYWxlWCAvIHRoaXMuc2NhbGVYLFxuICAgICAgICAgIG5lZWRlZFkgPSBkaW0ueSAqIG9iamVjdFNjYWxlLnNjYWxlWSAvIHRoaXMuc2NhbGVZO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLy8gZm9yIHN1cmUgdGhpcyBBTElBU0lOR19MSU1JVCBpcyBzbGlnaHRseSBjcmVhdGluZyBwcm9ibGVtXG4gICAgICAgIC8vIGluIHNpdHVhdGlvbiBpbiB3aGljaCB0aGUgY2FjaGUgY2FudmFzIGdldHMgYW4gdXBwZXIgbGltaXRcbiAgICAgICAgLy8gYWxzbyBvYmplY3RTY2FsZSBjb250YWlucyBhbHJlYWR5IHNjYWxlWCBhbmQgc2NhbGVZXG4gICAgICAgIHdpZHRoOiBuZWVkZWRYICsgQUxJQVNJTkdfTElNSVQsXG4gICAgICAgIGhlaWdodDogbmVlZGVkWSArIEFMSUFTSU5HX0xJTUlULFxuICAgICAgICB6b29tWDogb2JqZWN0U2NhbGUuc2NhbGVYLFxuICAgICAgICB6b29tWTogb2JqZWN0U2NhbGUuc2NhbGVZLFxuICAgICAgICB4OiBuZWVkZWRYLFxuICAgICAgICB5OiBuZWVkZWRZXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgd2lkdGggYW5kIGhlaWdodCBvZiB0aGUgY2FudmFzIGZvciBjYWNoZVxuICAgICAqIHJldHVybnMgdHJ1ZSBvciBmYWxzZSBpZiBjYW52YXMgbmVlZGVkIHJlc2l6ZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgdGhlIGNhbnZhcyBoYXMgYmVlbiByZXNpemVkXG4gICAgICovXG4gICAgX3VwZGF0ZUNhY2hlQ2FudmFzOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciB0YXJnZXRDYW52YXMgPSB0aGlzLmNhbnZhcztcbiAgICAgIGlmICh0aGlzLm5vU2NhbGVDYWNoZSAmJiB0YXJnZXRDYW52YXMgJiYgdGFyZ2V0Q2FudmFzLl9jdXJyZW50VHJhbnNmb3JtKSB7XG4gICAgICAgIHZhciB0YXJnZXQgPSB0YXJnZXRDYW52YXMuX2N1cnJlbnRUcmFuc2Zvcm0udGFyZ2V0LFxuICAgICAgICAgICAgYWN0aW9uID0gdGFyZ2V0Q2FudmFzLl9jdXJyZW50VHJhbnNmb3JtLmFjdGlvbjtcbiAgICAgICAgaWYgKHRoaXMgPT09IHRhcmdldCAmJiBhY3Rpb24uc2xpY2UgJiYgYWN0aW9uLnNsaWNlKDAsIDUpID09PSAnc2NhbGUnKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgY2FudmFzID0gdGhpcy5fY2FjaGVDYW52YXMsXG4gICAgICAgICAgZGltcyA9IHRoaXMuX2xpbWl0Q2FjaGVTaXplKHRoaXMuX2dldENhY2hlQ2FudmFzRGltZW5zaW9ucygpKSxcbiAgICAgICAgICBtaW5DYWNoZVNpemUgPSBmYWJyaWMubWluQ2FjaGVTaWRlTGltaXQsXG4gICAgICAgICAgd2lkdGggPSBkaW1zLndpZHRoLCBoZWlnaHQgPSBkaW1zLmhlaWdodCwgZHJhd2luZ1dpZHRoLCBkcmF3aW5nSGVpZ2h0LFxuICAgICAgICAgIHpvb21YID0gZGltcy56b29tWCwgem9vbVkgPSBkaW1zLnpvb21ZLFxuICAgICAgICAgIGRpbWVuc2lvbnNDaGFuZ2VkID0gd2lkdGggIT09IHRoaXMuY2FjaGVXaWR0aCB8fCBoZWlnaHQgIT09IHRoaXMuY2FjaGVIZWlnaHQsXG4gICAgICAgICAgem9vbUNoYW5nZWQgPSB0aGlzLnpvb21YICE9PSB6b29tWCB8fCB0aGlzLnpvb21ZICE9PSB6b29tWSxcbiAgICAgICAgICBzaG91bGRSZWRyYXcgPSBkaW1lbnNpb25zQ2hhbmdlZCB8fCB6b29tQ2hhbmdlZCxcbiAgICAgICAgICBhZGRpdGlvbmFsV2lkdGggPSAwLCBhZGRpdGlvbmFsSGVpZ2h0ID0gMCwgc2hvdWxkUmVzaXplQ2FudmFzID0gZmFsc2U7XG4gICAgICBpZiAoZGltZW5zaW9uc0NoYW5nZWQpIHtcbiAgICAgICAgdmFyIGNhbnZhc1dpZHRoID0gdGhpcy5fY2FjaGVDYW52YXMud2lkdGgsXG4gICAgICAgICAgICBjYW52YXNIZWlnaHQgPSB0aGlzLl9jYWNoZUNhbnZhcy5oZWlnaHQsXG4gICAgICAgICAgICBzaXplR3Jvd2luZyA9IHdpZHRoID4gY2FudmFzV2lkdGggfHwgaGVpZ2h0ID4gY2FudmFzSGVpZ2h0LFxuICAgICAgICAgICAgc2l6ZVNocmlua2luZyA9ICh3aWR0aCA8IGNhbnZhc1dpZHRoICogMC45IHx8IGhlaWdodCA8IGNhbnZhc0hlaWdodCAqIDAuOSkgJiZcbiAgICAgICAgICAgICAgY2FudmFzV2lkdGggPiBtaW5DYWNoZVNpemUgJiYgY2FudmFzSGVpZ2h0ID4gbWluQ2FjaGVTaXplO1xuICAgICAgICBzaG91bGRSZXNpemVDYW52YXMgPSBzaXplR3Jvd2luZyB8fCBzaXplU2hyaW5raW5nO1xuICAgICAgICBpZiAoc2l6ZUdyb3dpbmcgJiYgIWRpbXMuY2FwcGVkICYmICh3aWR0aCA+IG1pbkNhY2hlU2l6ZSB8fCBoZWlnaHQgPiBtaW5DYWNoZVNpemUpKSB7XG4gICAgICAgICAgYWRkaXRpb25hbFdpZHRoID0gd2lkdGggKiAwLjE7XG4gICAgICAgICAgYWRkaXRpb25hbEhlaWdodCA9IGhlaWdodCAqIDAuMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBmYWJyaWMuVGV4dCAmJiB0aGlzLnBhdGgpIHtcbiAgICAgICAgc2hvdWxkUmVkcmF3ID0gdHJ1ZTtcbiAgICAgICAgc2hvdWxkUmVzaXplQ2FudmFzID0gdHJ1ZTtcbiAgICAgICAgYWRkaXRpb25hbFdpZHRoICs9IHRoaXMuZ2V0SGVpZ2h0T2ZMaW5lKDApICogdGhpcy56b29tWDtcbiAgICAgICAgYWRkaXRpb25hbEhlaWdodCArPSB0aGlzLmdldEhlaWdodE9mTGluZSgwKSAqIHRoaXMuem9vbVk7XG4gICAgICB9XG4gICAgICBpZiAoc2hvdWxkUmVkcmF3KSB7XG4gICAgICAgIGlmIChzaG91bGRSZXNpemVDYW52YXMpIHtcbiAgICAgICAgICBjYW52YXMud2lkdGggPSBNYXRoLmNlaWwod2lkdGggKyBhZGRpdGlvbmFsV2lkdGgpO1xuICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0ICsgYWRkaXRpb25hbEhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdGhpcy5fY2FjaGVDb250ZXh0LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTtcbiAgICAgICAgICB0aGlzLl9jYWNoZUNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgZHJhd2luZ1dpZHRoID0gZGltcy54IC8gMjtcbiAgICAgICAgZHJhd2luZ0hlaWdodCA9IGRpbXMueSAvIDI7XG4gICAgICAgIHRoaXMuY2FjaGVUcmFuc2xhdGlvblggPSBNYXRoLnJvdW5kKGNhbnZhcy53aWR0aCAvIDIgLSBkcmF3aW5nV2lkdGgpICsgZHJhd2luZ1dpZHRoO1xuICAgICAgICB0aGlzLmNhY2hlVHJhbnNsYXRpb25ZID0gTWF0aC5yb3VuZChjYW52YXMuaGVpZ2h0IC8gMiAtIGRyYXdpbmdIZWlnaHQpICsgZHJhd2luZ0hlaWdodDtcbiAgICAgICAgdGhpcy5jYWNoZVdpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuY2FjaGVIZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMuX2NhY2hlQ29udGV4dC50cmFuc2xhdGUodGhpcy5jYWNoZVRyYW5zbGF0aW9uWCwgdGhpcy5jYWNoZVRyYW5zbGF0aW9uWSk7XG4gICAgICAgIHRoaXMuX2NhY2hlQ29udGV4dC5zY2FsZSh6b29tWCwgem9vbVkpO1xuICAgICAgICB0aGlzLnpvb21YID0gem9vbVg7XG4gICAgICAgIHRoaXMuem9vbVkgPSB6b29tWTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgb2JqZWN0J3MgcHJvcGVydGllcyBmcm9tIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAgICovXG4gICAgc2V0T3B0aW9uczogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdGhpcy5fc2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgICAgIHRoaXMuX2luaXRHcmFkaWVudChvcHRpb25zLmZpbGwsICdmaWxsJyk7XG4gICAgICB0aGlzLl9pbml0R3JhZGllbnQob3B0aW9ucy5zdHJva2UsICdzdHJva2UnKTtcbiAgICAgIHRoaXMuX2luaXRQYXR0ZXJuKG9wdGlvbnMuZmlsbCwgJ2ZpbGwnKTtcbiAgICAgIHRoaXMuX2luaXRQYXR0ZXJuKG9wdGlvbnMuc3Ryb2tlLCAnc3Ryb2tlJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybXMgY29udGV4dCB3aGVuIHJlbmRlcmluZyBhbiBvYmplY3RcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHRcbiAgICAgKi9cbiAgICB0cmFuc2Zvcm06IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgdmFyIG5lZWRGdWxsVHJhbnNmb3JtID0gKHRoaXMuZ3JvdXAgJiYgIXRoaXMuZ3JvdXAuX3RyYW5zZm9ybURvbmUpIHx8XG4gICAgICAgICAodGhpcy5ncm91cCAmJiB0aGlzLmNhbnZhcyAmJiBjdHggPT09IHRoaXMuY2FudmFzLmNvbnRleHRUb3ApO1xuICAgICAgdmFyIG0gPSB0aGlzLmNhbGNUcmFuc2Zvcm1NYXRyaXgoIW5lZWRGdWxsVHJhbnNmb3JtKTtcbiAgICAgIGN0eC50cmFuc2Zvcm0obVswXSwgbVsxXSwgbVsyXSwgbVszXSwgbVs0XSwgbVs1XSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BlcnRpZXNUb0luY2x1ZGVdIEFueSBwcm9wZXJ0aWVzIHRoYXQgeW91IG1pZ2h0IHdhbnQgdG8gYWRkaXRpb25hbGx5IGluY2x1ZGUgaW4gdGhlIG91dHB1dFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgdG9PYmplY3Q6IGZ1bmN0aW9uKHByb3BlcnRpZXNUb0luY2x1ZGUpIHtcbiAgICAgIHZhciBOVU1fRlJBQ1RJT05fRElHSVRTID0gZmFicmljLk9iamVjdC5OVU1fRlJBQ1RJT05fRElHSVRTLFxuXG4gICAgICAgICAgb2JqZWN0ID0ge1xuICAgICAgICAgICAgdHlwZTogICAgICAgICAgICAgICAgICAgICB0aGlzLnR5cGUsXG4gICAgICAgICAgICB2ZXJzaW9uOiAgICAgICAgICAgICAgICAgIGZhYnJpYy52ZXJzaW9uLFxuICAgICAgICAgICAgb3JpZ2luWDogICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpblgsXG4gICAgICAgICAgICBvcmlnaW5ZOiAgICAgICAgICAgICAgICAgIHRoaXMub3JpZ2luWSxcbiAgICAgICAgICAgIGxlZnQ6ICAgICAgICAgICAgICAgICAgICAgdG9GaXhlZCh0aGlzLmxlZnQsIE5VTV9GUkFDVElPTl9ESUdJVFMpLFxuICAgICAgICAgICAgdG9wOiAgICAgICAgICAgICAgICAgICAgICB0b0ZpeGVkKHRoaXMudG9wLCBOVU1fRlJBQ1RJT05fRElHSVRTKSxcbiAgICAgICAgICAgIHdpZHRoOiAgICAgICAgICAgICAgICAgICAgdG9GaXhlZCh0aGlzLndpZHRoLCBOVU1fRlJBQ1RJT05fRElHSVRTKSxcbiAgICAgICAgICAgIGhlaWdodDogICAgICAgICAgICAgICAgICAgdG9GaXhlZCh0aGlzLmhlaWdodCwgTlVNX0ZSQUNUSU9OX0RJR0lUUyksXG4gICAgICAgICAgICBmaWxsOiAgICAgICAgICAgICAgICAgICAgICh0aGlzLmZpbGwgJiYgdGhpcy5maWxsLnRvT2JqZWN0KSA/IHRoaXMuZmlsbC50b09iamVjdCgpIDogdGhpcy5maWxsLFxuICAgICAgICAgICAgc3Ryb2tlOiAgICAgICAgICAgICAgICAgICAodGhpcy5zdHJva2UgJiYgdGhpcy5zdHJva2UudG9PYmplY3QpID8gdGhpcy5zdHJva2UudG9PYmplY3QoKSA6IHRoaXMuc3Ryb2tlLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6ICAgICAgICAgICAgICB0b0ZpeGVkKHRoaXMuc3Ryb2tlV2lkdGgsIE5VTV9GUkFDVElPTl9ESUdJVFMpLFxuICAgICAgICAgICAgc3Ryb2tlRGFzaEFycmF5OiAgICAgICAgICB0aGlzLnN0cm9rZURhc2hBcnJheSA/IHRoaXMuc3Ryb2tlRGFzaEFycmF5LmNvbmNhdCgpIDogdGhpcy5zdHJva2VEYXNoQXJyYXksXG4gICAgICAgICAgICBzdHJva2VMaW5lQ2FwOiAgICAgICAgICAgIHRoaXMuc3Ryb2tlTGluZUNhcCxcbiAgICAgICAgICAgIHN0cm9rZURhc2hPZmZzZXQ6ICAgICAgICAgdGhpcy5zdHJva2VEYXNoT2Zmc2V0LFxuICAgICAgICAgICAgc3Ryb2tlTGluZUpvaW46ICAgICAgICAgICB0aGlzLnN0cm9rZUxpbmVKb2luLFxuICAgICAgICAgICAgc3Ryb2tlVW5pZm9ybTogICAgICAgICAgICB0aGlzLnN0cm9rZVVuaWZvcm0sXG4gICAgICAgICAgICBzdHJva2VNaXRlckxpbWl0OiAgICAgICAgIHRvRml4ZWQodGhpcy5zdHJva2VNaXRlckxpbWl0LCBOVU1fRlJBQ1RJT05fRElHSVRTKSxcbiAgICAgICAgICAgIHNjYWxlWDogICAgICAgICAgICAgICAgICAgdG9GaXhlZCh0aGlzLnNjYWxlWCwgTlVNX0ZSQUNUSU9OX0RJR0lUUyksXG4gICAgICAgICAgICBzY2FsZVk6ICAgICAgICAgICAgICAgICAgIHRvRml4ZWQodGhpcy5zY2FsZVksIE5VTV9GUkFDVElPTl9ESUdJVFMpLFxuICAgICAgICAgICAgYW5nbGU6ICAgICAgICAgICAgICAgICAgICB0b0ZpeGVkKHRoaXMuYW5nbGUsIE5VTV9GUkFDVElPTl9ESUdJVFMpLFxuICAgICAgICAgICAgZmxpcFg6ICAgICAgICAgICAgICAgICAgICB0aGlzLmZsaXBYLFxuICAgICAgICAgICAgZmxpcFk6ICAgICAgICAgICAgICAgICAgICB0aGlzLmZsaXBZLFxuICAgICAgICAgICAgb3BhY2l0eTogICAgICAgICAgICAgICAgICB0b0ZpeGVkKHRoaXMub3BhY2l0eSwgTlVNX0ZSQUNUSU9OX0RJR0lUUyksXG4gICAgICAgICAgICBzaGFkb3c6ICAgICAgICAgICAgICAgICAgICh0aGlzLnNoYWRvdyAmJiB0aGlzLnNoYWRvdy50b09iamVjdCkgPyB0aGlzLnNoYWRvdy50b09iamVjdCgpIDogdGhpcy5zaGFkb3csXG4gICAgICAgICAgICB2aXNpYmxlOiAgICAgICAgICAgICAgICAgIHRoaXMudmlzaWJsZSxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgICAgICBmaWxsUnVsZTogICAgICAgICAgICAgICAgIHRoaXMuZmlsbFJ1bGUsXG4gICAgICAgICAgICBwYWludEZpcnN0OiAgICAgICAgICAgICAgIHRoaXMucGFpbnRGaXJzdCxcbiAgICAgICAgICAgIGdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbjogdGhpcy5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24sXG4gICAgICAgICAgICBza2V3WDogICAgICAgICAgICAgICAgICAgIHRvRml4ZWQodGhpcy5za2V3WCwgTlVNX0ZSQUNUSU9OX0RJR0lUUyksXG4gICAgICAgICAgICBza2V3WTogICAgICAgICAgICAgICAgICAgIHRvRml4ZWQodGhpcy5za2V3WSwgTlVNX0ZSQUNUSU9OX0RJR0lUUyksXG4gICAgICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMuY2xpcFBhdGggJiYgIXRoaXMuY2xpcFBhdGguZXhjbHVkZUZyb21FeHBvcnQpIHtcbiAgICAgICAgb2JqZWN0LmNsaXBQYXRoID0gdGhpcy5jbGlwUGF0aC50b09iamVjdChwcm9wZXJ0aWVzVG9JbmNsdWRlKTtcbiAgICAgICAgb2JqZWN0LmNsaXBQYXRoLmludmVydGVkID0gdGhpcy5jbGlwUGF0aC5pbnZlcnRlZDtcbiAgICAgICAgb2JqZWN0LmNsaXBQYXRoLmFic29sdXRlUG9zaXRpb25lZCA9IHRoaXMuY2xpcFBhdGguYWJzb2x1dGVQb3NpdGlvbmVkO1xuICAgICAgfVxuXG4gICAgICBmYWJyaWMudXRpbC5wb3B1bGF0ZVdpdGhQcm9wZXJ0aWVzKHRoaXMsIG9iamVjdCwgcHJvcGVydGllc1RvSW5jbHVkZSk7XG4gICAgICBpZiAoIXRoaXMuaW5jbHVkZURlZmF1bHRWYWx1ZXMpIHtcbiAgICAgICAgb2JqZWN0ID0gdGhpcy5fcmVtb3ZlRGVmYXVsdFZhbHVlcyhvYmplY3QpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIChkYXRhbGVzcykgb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BlcnRpZXNUb0luY2x1ZGVdIEFueSBwcm9wZXJ0aWVzIHRoYXQgeW91IG1pZ2h0IHdhbnQgdG8gYWRkaXRpb25hbGx5IGluY2x1ZGUgaW4gdGhlIG91dHB1dFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgdG9EYXRhbGVzc09iamVjdDogZnVuY3Rpb24ocHJvcGVydGllc1RvSW5jbHVkZSkge1xuICAgICAgLy8gd2lsbCBiZSBvdmVyd3JpdHRlbiBieSBzdWJjbGFzc2VzXG4gICAgICByZXR1cm4gdGhpcy50b09iamVjdChwcm9wZXJ0aWVzVG9JbmNsdWRlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gICAgICovXG4gICAgX3JlbW92ZURlZmF1bHRWYWx1ZXM6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgdmFyIHByb3RvdHlwZSA9IGZhYnJpYy51dGlsLmdldEtsYXNzKG9iamVjdC50eXBlKS5wcm90b3R5cGUsXG4gICAgICAgICAgc3RhdGVQcm9wZXJ0aWVzID0gcHJvdG90eXBlLnN0YXRlUHJvcGVydGllcztcbiAgICAgIHN0YXRlUHJvcGVydGllcy5mb3JFYWNoKGZ1bmN0aW9uKHByb3ApIHtcbiAgICAgICAgaWYgKHByb3AgPT09ICdsZWZ0JyB8fCBwcm9wID09PSAndG9wJykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAob2JqZWN0W3Byb3BdID09PSBwcm90b3R5cGVbcHJvcF0pIHtcbiAgICAgICAgICBkZWxldGUgb2JqZWN0W3Byb3BdO1xuICAgICAgICB9XG4gICAgICAgIC8vIGJhc2ljYWxseSBhIGNoZWNrIGZvciBbXSA9PT0gW11cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqZWN0W3Byb3BdKSAmJiBBcnJheS5pc0FycmF5KHByb3RvdHlwZVtwcm9wXSlcbiAgICAgICAgICAmJiBvYmplY3RbcHJvcF0ubGVuZ3RoID09PSAwICYmIHByb3RvdHlwZVtwcm9wXS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBkZWxldGUgb2JqZWN0W3Byb3BdO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICAgKi9cbiAgICB0b1N0cmluZzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gJyM8ZmFicmljLicgKyBjYXBpdGFsaXplKHRoaXMudHlwZSkgKyAnPic7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgb2JqZWN0IHNjYWxlIGZhY3RvciBjb3VudGluZyBhbHNvIHRoZSBncm91cCBzY2FsaW5nXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBvYmplY3Qgd2l0aCBzY2FsZVggYW5kIHNjYWxlWSBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgZ2V0T2JqZWN0U2NhbGluZzogZnVuY3Rpb24oKSB7XG4gICAgICAvLyBpZiB0aGUgb2JqZWN0IGlzIGEgdG9wIGxldmVsIG9uZSwgb24gdGhlIGNhbnZhcywgd2UgZ28gZm9yIHNpbXBsZSBhcml0bWV0aWNcbiAgICAgIC8vIG90aGVyd2lzZSB0aGUgY29tcGxleCBtZXRob2Qgd2l0aCBhbmdsZXMgd2lsbCByZXR1cm4gYXBwcm94aW1hdGlvbnMgYW5kIGRlY2ltYWxzXG4gICAgICAvLyBhbmQgd2lsbCBsaWtlbHkga2lsbCB0aGUgY2FjaGUgd2hlbiBub3QgbmVlZGVkXG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZmFicmljanMvZmFicmljLmpzL2lzc3Vlcy83MTU3XG4gICAgICBpZiAoIXRoaXMuZ3JvdXApIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzY2FsZVg6IHRoaXMuc2NhbGVYLFxuICAgICAgICAgIHNjYWxlWTogdGhpcy5zY2FsZVksXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICAvLyBpZiB3ZSBhcmUgaW5zaWRlIGEgZ3JvdXAgdG90YWwgem9vbSBjYWxjdWxhdGlvbiBpcyBjb21wbGV4LCB3ZSBkZWZlciB0byBnZW5lcmljIG1hdHJpY2VzXG4gICAgICB2YXIgb3B0aW9ucyA9IGZhYnJpYy51dGlsLnFyRGVjb21wb3NlKHRoaXMuY2FsY1RyYW5zZm9ybU1hdHJpeCgpKTtcbiAgICAgIHJldHVybiB7IHNjYWxlWDogTWF0aC5hYnMob3B0aW9ucy5zY2FsZVgpLCBzY2FsZVk6IE1hdGguYWJzKG9wdGlvbnMuc2NhbGVZKSB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIG9iamVjdCBzY2FsZSBmYWN0b3IgY291bnRpbmcgYWxzbyB0aGUgZ3JvdXAgc2NhbGluZywgem9vbSBhbmQgcmV0aW5hXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBvYmplY3Qgd2l0aCBzY2FsZVggYW5kIHNjYWxlWSBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgZ2V0VG90YWxPYmplY3RTY2FsaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzY2FsZSA9IHRoaXMuZ2V0T2JqZWN0U2NhbGluZygpLCBzY2FsZVggPSBzY2FsZS5zY2FsZVgsIHNjYWxlWSA9IHNjYWxlLnNjYWxlWTtcbiAgICAgIGlmICh0aGlzLmNhbnZhcykge1xuICAgICAgICB2YXIgem9vbSA9IHRoaXMuY2FudmFzLmdldFpvb20oKTtcbiAgICAgICAgdmFyIHJldGluYSA9IHRoaXMuY2FudmFzLmdldFJldGluYVNjYWxpbmcoKTtcbiAgICAgICAgc2NhbGVYICo9IHpvb20gKiByZXRpbmE7XG4gICAgICAgIHNjYWxlWSAqPSB6b29tICogcmV0aW5hO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHsgc2NhbGVYOiBzY2FsZVgsIHNjYWxlWTogc2NhbGVZIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgb2JqZWN0IG9wYWNpdHkgY291bnRpbmcgYWxzbyB0aGUgZ3JvdXAgcHJvcGVydHlcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAgICovXG4gICAgZ2V0T2JqZWN0T3BhY2l0eTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgb3BhY2l0eSA9IHRoaXMub3BhY2l0eTtcbiAgICAgIGlmICh0aGlzLmdyb3VwKSB7XG4gICAgICAgIG9wYWNpdHkgKj0gdGhpcy5ncm91cC5nZXRPYmplY3RPcGFjaXR5KCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gb3BhY2l0eTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5XG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IHRoaXNBcmdcbiAgICAgKi9cbiAgICBfc2V0OiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgc2hvdWxkQ29uc3RyYWluVmFsdWUgPSAoa2V5ID09PSAnc2NhbGVYJyB8fCBrZXkgPT09ICdzY2FsZVknKSxcbiAgICAgICAgICBpc0NoYW5nZWQgPSB0aGlzW2tleV0gIT09IHZhbHVlLCBncm91cE5lZWRzVXBkYXRlID0gZmFsc2U7XG5cbiAgICAgIGlmIChzaG91bGRDb25zdHJhaW5WYWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IHRoaXMuX2NvbnN0cmFpblNjYWxlKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGlmIChrZXkgPT09ICdzY2FsZVgnICYmIHZhbHVlIDwgMCkge1xuICAgICAgICB0aGlzLmZsaXBYID0gIXRoaXMuZmxpcFg7XG4gICAgICAgIHZhbHVlICo9IC0xO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoa2V5ID09PSAnc2NhbGVZJyAmJiB2YWx1ZSA8IDApIHtcbiAgICAgICAgdGhpcy5mbGlwWSA9ICF0aGlzLmZsaXBZO1xuICAgICAgICB2YWx1ZSAqPSAtMTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGtleSA9PT0gJ3NoYWRvdycgJiYgdmFsdWUgJiYgISh2YWx1ZSBpbnN0YW5jZW9mIGZhYnJpYy5TaGFkb3cpKSB7XG4gICAgICAgIHZhbHVlID0gbmV3IGZhYnJpYy5TaGFkb3codmFsdWUpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoa2V5ID09PSAnZGlydHknICYmIHRoaXMuZ3JvdXApIHtcbiAgICAgICAgdGhpcy5ncm91cC5zZXQoJ2RpcnR5JywgdmFsdWUpO1xuICAgICAgfVxuXG4gICAgICB0aGlzW2tleV0gPSB2YWx1ZTtcblxuICAgICAgaWYgKGlzQ2hhbmdlZCkge1xuICAgICAgICBncm91cE5lZWRzVXBkYXRlID0gdGhpcy5ncm91cCAmJiB0aGlzLmdyb3VwLmlzT25BQ2FjaGUoKTtcbiAgICAgICAgaWYgKHRoaXMuY2FjaGVQcm9wZXJ0aWVzLmluZGV4T2Yoa2V5KSA+IC0xKSB7XG4gICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgZ3JvdXBOZWVkc1VwZGF0ZSAmJiB0aGlzLmdyb3VwLnNldCgnZGlydHknLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChncm91cE5lZWRzVXBkYXRlICYmIHRoaXMuc3RhdGVQcm9wZXJ0aWVzLmluZGV4T2Yoa2V5KSA+IC0xKSB7XG4gICAgICAgICAgdGhpcy5ncm91cC5zZXQoJ2RpcnR5JywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIGNhbGxlZCBieSB0aGUgcGFyZW50IGdyb3VwIG9mIGFuIG9iamVjdCBldmVyeVxuICAgICAqIHRpbWUgYSBub24tZGVsZWdhdGVkIHByb3BlcnR5IGNoYW5nZXMgb24gdGhlIGdyb3VwLiBJdCBpcyBwYXNzZWQgdGhlIGtleVxuICAgICAqIGFuZCB2YWx1ZSBhcyBwYXJhbWV0ZXJzLiBOb3QgYWRkaW5nIGluIHRoaXMgZnVuY3Rpb24ncyBzaWduYXR1cmUgdG8gYXZvaWRcbiAgICAgKiBUcmF2aXMgYnVpbGQgZXJyb3IgYWJvdXQgdW51c2VkIHZhcmlhYmxlcy5cbiAgICAgKi9cbiAgICBzZXRPbkdyb3VwOiBmdW5jdGlvbigpIHtcbiAgICAgIC8vIGltcGxlbWVudGVkIGJ5IHN1Yi1jbGFzc2VzLCBhcyBuZWVkZWQuXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB2aWV3cG9ydFRyYW5zZm9ybSBmcm9tIE9iamVjdCdzIGNhbnZhcyBpZiBwb3NzaWJsZVxuICAgICAqIEBtZXRob2QgZ2V0Vmlld3BvcnRUcmFuc2Zvcm1cbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLk9iamVjdC5wcm90b3R5cGVcbiAgICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICAgKi9cbiAgICBnZXRWaWV3cG9ydFRyYW5zZm9ybTogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMudmlld3BvcnRUcmFuc2Zvcm0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzLnZpZXdwb3J0VHJhbnNmb3JtO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhYnJpYy5pTWF0cml4LmNvbmNhdCgpO1xuICAgIH0sXG5cbiAgICAvKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogcmV0dXJuIGlmIHRoZSBvYmplY3Qgd291bGQgYmUgdmlzaWJsZSBpbiByZW5kZXJpbmdcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLk9iamVjdC5wcm90b3R5cGVcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIGlzTm90VmlzaWJsZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5vcGFjaXR5ID09PSAwIHx8XG4gICAgICAgICghdGhpcy53aWR0aCAmJiAhdGhpcy5oZWlnaHQgJiYgdGhpcy5zdHJva2VXaWR0aCA9PT0gMCkgfHxcbiAgICAgICAgIXRoaXMudmlzaWJsZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyBhbiBvYmplY3Qgb24gYSBzcGVjaWZpZWQgY29udGV4dFxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICByZW5kZXI6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgLy8gZG8gbm90IHJlbmRlciBpZiB3aWR0aC9oZWlnaHQgYXJlIHplcm9zIG9yIG9iamVjdCBpcyBub3QgdmlzaWJsZVxuICAgICAgaWYgKHRoaXMuaXNOb3RWaXNpYmxlKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLnNraXBPZmZzY3JlZW4gJiYgIXRoaXMuZ3JvdXAgJiYgIXRoaXMuaXNPblNjcmVlbigpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICB0aGlzLl9zZXR1cENvbXBvc2l0ZU9wZXJhdGlvbihjdHgpO1xuICAgICAgdGhpcy5kcmF3U2VsZWN0aW9uQmFja2dyb3VuZChjdHgpO1xuICAgICAgdGhpcy50cmFuc2Zvcm0oY3R4KTtcbiAgICAgIHRoaXMuX3NldE9wYWNpdHkoY3R4KTtcbiAgICAgIHRoaXMuX3NldFNoYWRvdyhjdHgsIHRoaXMpO1xuICAgICAgaWYgKHRoaXMuc2hvdWxkQ2FjaGUoKSkge1xuICAgICAgICB0aGlzLnJlbmRlckNhY2hlKCk7XG4gICAgICAgIHRoaXMuZHJhd0NhY2hlT25DYW52YXMoY3R4KTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLl9yZW1vdmVDYWNoZUNhbnZhcygpO1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZHJhd09iamVjdChjdHgpO1xuICAgICAgICBpZiAodGhpcy5vYmplY3RDYWNoaW5nICYmIHRoaXMuc3RhdGVmdWxsQ2FjaGUpIHtcbiAgICAgICAgICB0aGlzLnNhdmVTdGF0ZSh7IHByb3BlcnR5U2V0OiAnY2FjaGVQcm9wZXJ0aWVzJyB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9LFxuXG4gICAgcmVuZGVyQ2FjaGU6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgaWYgKCF0aGlzLl9jYWNoZUNhbnZhcyB8fCAhdGhpcy5fY2FjaGVDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuX2NyZWF0ZUNhY2hlQ2FudmFzKCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5pc0NhY2hlRGlydHkoKSkge1xuICAgICAgICB0aGlzLnN0YXRlZnVsbENhY2hlICYmIHRoaXMuc2F2ZVN0YXRlKHsgcHJvcGVydHlTZXQ6ICdjYWNoZVByb3BlcnRpZXMnIH0pO1xuICAgICAgICB0aGlzLmRyYXdPYmplY3QodGhpcy5fY2FjaGVDb250ZXh0LCBvcHRpb25zLmZvckNsaXBwaW5nKTtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgY2FjaGVDYW52YXMgYW5kIGl0cyBkaW1lbnNpb25zIGZyb20gdGhlIG9iamVjdHNcbiAgICAgKi9cbiAgICBfcmVtb3ZlQ2FjaGVDYW52YXM6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5fY2FjaGVDYW52YXMgPSBudWxsO1xuICAgICAgdGhpcy5fY2FjaGVDb250ZXh0ID0gbnVsbDtcbiAgICAgIHRoaXMuY2FjaGVXaWR0aCA9IDA7XG4gICAgICB0aGlzLmNhY2hlSGVpZ2h0ID0gMDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmV0dXJuIHRydWUgaWYgdGhlIG9iamVjdCB3aWxsIGRyYXcgYSBzdHJva2VcbiAgICAgKiBEb2VzIG5vdCBjb25zaWRlciB0ZXh0IHN0eWxlcy4gVGhpcyBpcyBqdXN0IGEgc2hvcnRjdXQgdXNlZCBhdCByZW5kZXJpbmcgdGltZVxuICAgICAqIFdlIHdhbnQgaXQgdG8gYmUgYW4gYXBwcm94aW1hdGlvbiBhbmQgYmUgZmFzdC5cbiAgICAgKiB3cm90ZSB0byBhdm9pZCBleHRyYSBjYWNoaW5nLCBpdCBoYXMgdG8gcmV0dXJuIHRydWUgd2hlbiBzdHJva2UgaGFwcGVucyxcbiAgICAgKiBjYW4gZ3Vlc3Mgd2hlbiBpdCB3aWxsIG5vdCBoYXBwZW4gYXQgMTAwJSBjaGFuY2UsIGRvZXMgbm90IG1hdHRlciBpZiBpdCBtaXNzZXNcbiAgICAgKiBzb21lIHVzZSBjYXNlIHdoZXJlIHRoZSBzdHJva2UgaXMgaW52aXNpYmxlLlxuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEByZXR1cm5zIEJvb2xlYW5cbiAgICAgKi9cbiAgICBoYXNTdHJva2U6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuc3Ryb2tlICYmIHRoaXMuc3Ryb2tlICE9PSAndHJhbnNwYXJlbnQnICYmIHRoaXMuc3Ryb2tlV2lkdGggIT09IDA7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJldHVybiB0cnVlIGlmIHRoZSBvYmplY3Qgd2lsbCBkcmF3IGEgZmlsbFxuICAgICAqIERvZXMgbm90IGNvbnNpZGVyIHRleHQgc3R5bGVzLiBUaGlzIGlzIGp1c3QgYSBzaG9ydGN1dCB1c2VkIGF0IHJlbmRlcmluZyB0aW1lXG4gICAgICogV2Ugd2FudCBpdCB0byBiZSBhbiBhcHByb3hpbWF0aW9uIGFuZCBiZSBmYXN0LlxuICAgICAqIHdyb3RlIHRvIGF2b2lkIGV4dHJhIGNhY2hpbmcsIGl0IGhhcyB0byByZXR1cm4gdHJ1ZSB3aGVuIGZpbGwgaGFwcGVucyxcbiAgICAgKiBjYW4gZ3Vlc3Mgd2hlbiBpdCB3aWxsIG5vdCBoYXBwZW4gYXQgMTAwJSBjaGFuY2UsIGRvZXMgbm90IG1hdHRlciBpZiBpdCBtaXNzZXNcbiAgICAgKiBzb21lIHVzZSBjYXNlIHdoZXJlIHRoZSBmaWxsIGlzIGludmlzaWJsZS5cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAcmV0dXJucyBCb29sZWFuXG4gICAgICovXG4gICAgaGFzRmlsbDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5maWxsICYmIHRoaXMuZmlsbCAhPT0gJ3RyYW5zcGFyZW50JztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBzZXQgdG8gYHRydWVgLCBmb3JjZSB0aGUgb2JqZWN0IHRvIGhhdmUgaXRzIG93biBjYWNoZSwgZXZlbiBpZiBpdCBpcyBpbnNpZGUgYSBncm91cFxuICAgICAqIGl0IG1heSBiZSBuZWVkZWQgd2hlbiB5b3VyIG9iamVjdCBiZWhhdmUgaW4gYSBwYXJ0aWN1bGFyIHdheSBvbiB0aGUgY2FjaGUgYW5kIGFsd2F5cyBuZWVkc1xuICAgICAqIGl0cyBvd24gaXNvbGF0ZWQgY2FudmFzIHRvIHJlbmRlciBjb3JyZWN0bHkuXG4gICAgICogQ3JlYXRlZCB0byBiZSBvdmVycmlkZGVuXG4gICAgICogc2luY2UgMS43LjEyXG4gICAgICogQHJldHVybnMgQm9vbGVhblxuICAgICAqL1xuICAgIG5lZWRzSXRzT3duQ2FjaGU6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMucGFpbnRGaXJzdCA9PT0gJ3N0cm9rZScgJiZcbiAgICAgICAgdGhpcy5oYXNGaWxsKCkgJiYgdGhpcy5oYXNTdHJva2UoKSAmJiB0eXBlb2YgdGhpcy5zaGFkb3cgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuY2xpcFBhdGgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERlY2lkZSBpZiB0aGUgb2JqZWN0IHNob3VsZCBjYWNoZSBvciBub3QuIENyZWF0ZSBpdHMgb3duIGNhY2hlIGxldmVsXG4gICAgICogb2JqZWN0Q2FjaGluZyBpcyBhIGdsb2JhbCBmbGFnLCB3aW5zIG92ZXIgZXZlcnl0aGluZ1xuICAgICAqIG5lZWRzSXRzT3duQ2FjaGUgc2hvdWxkIGJlIHVzZWQgd2hlbiB0aGUgb2JqZWN0IGRyYXdpbmcgbWV0aG9kIHJlcXVpcmVzXG4gICAgICogYSBjYWNoZSBzdGVwLiBOb25lIG9mIHRoZSBmYWJyaWMgY2xhc3NlcyByZXF1aXJlcyBpdC5cbiAgICAgKiBHZW5lcmFsbHkgeW91IGRvIG5vdCBjYWNoZSBvYmplY3RzIGluIGdyb3VwcyBiZWNhdXNlIHRoZSBncm91cCBvdXRzaWRlIGlzIGNhY2hlZC5cbiAgICAgKiBSZWFkIGFzOiBjYWNoZSBpZiBpcyBuZWVkZWQsIG9yIGlmIHRoZSBmZWF0dXJlIGlzIGVuYWJsZWQgYnV0IHdlIGFyZSBub3QgYWxyZWFkeSBjYWNoaW5nLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgc2hvdWxkQ2FjaGU6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5vd25DYWNoaW5nID0gdGhpcy5uZWVkc0l0c093bkNhY2hlKCkgfHwgKFxuICAgICAgICB0aGlzLm9iamVjdENhY2hpbmcgJiZcbiAgICAgICAgKCF0aGlzLmdyb3VwIHx8ICF0aGlzLmdyb3VwLmlzT25BQ2FjaGUoKSlcbiAgICAgICk7XG4gICAgICByZXR1cm4gdGhpcy5vd25DYWNoaW5nO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB0aGlzIG9iamVjdCBvciBhIGNoaWxkIG9iamVjdCB3aWxsIGNhc3QgYSBzaGFkb3dcbiAgICAgKiB1c2VkIGJ5IEdyb3VwLnNob3VsZENhY2hlIHRvIGtub3cgaWYgY2hpbGQgaGFzIGEgc2hhZG93IHJlY3Vyc2l2ZWx5XG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICB3aWxsRHJhd1NoYWRvdzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gISF0aGlzLnNoYWRvdyAmJiAodGhpcy5zaGFkb3cub2Zmc2V0WCAhPT0gMCB8fCB0aGlzLnNoYWRvdy5vZmZzZXRZICE9PSAwKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZSB0aGUgZHJhd2luZyBvcGVyYXRpb24gZm9yIGFuIG9iamVjdCBjbGlwUGF0aFxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IGNsaXBQYXRoXG4gICAgICovXG4gICAgZHJhd0NsaXBQYXRoT25DYWNoZTogZnVuY3Rpb24oY3R4LCBjbGlwUGF0aCkge1xuICAgICAgY3R4LnNhdmUoKTtcbiAgICAgIC8vIERFQlVHOiB1bmNvbW1lbnQgdGhpcyBsaW5lLCBjb21tZW50IHRoZSBmb2xsb3dpbmdcbiAgICAgIC8vIGN0eC5nbG9iYWxBbHBoYSA9IDAuNFxuICAgICAgaWYgKGNsaXBQYXRoLmludmVydGVkKSB7XG4gICAgICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnZGVzdGluYXRpb24tb3V0JztcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2Rlc3RpbmF0aW9uLWluJztcbiAgICAgIH1cbiAgICAgIC8vY3R4LnNjYWxlKDEgLyAyLCAxIC8gMik7XG4gICAgICBpZiAoY2xpcFBhdGguYWJzb2x1dGVQb3NpdGlvbmVkKSB7XG4gICAgICAgIHZhciBtID0gZmFicmljLnV0aWwuaW52ZXJ0VHJhbnNmb3JtKHRoaXMuY2FsY1RyYW5zZm9ybU1hdHJpeCgpKTtcbiAgICAgICAgY3R4LnRyYW5zZm9ybShtWzBdLCBtWzFdLCBtWzJdLCBtWzNdLCBtWzRdLCBtWzVdKTtcbiAgICAgIH1cbiAgICAgIGNsaXBQYXRoLnRyYW5zZm9ybShjdHgpO1xuICAgICAgY3R4LnNjYWxlKDEgLyBjbGlwUGF0aC56b29tWCwgMSAvIGNsaXBQYXRoLnpvb21ZKTtcbiAgICAgIGN0eC5kcmF3SW1hZ2UoY2xpcFBhdGguX2NhY2hlQ2FudmFzLCAtY2xpcFBhdGguY2FjaGVUcmFuc2xhdGlvblgsIC1jbGlwUGF0aC5jYWNoZVRyYW5zbGF0aW9uWSk7XG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlIHRoZSBkcmF3aW5nIG9wZXJhdGlvbiBmb3IgYW4gb2JqZWN0IG9uIGEgc3BlY2lmaWVkIGNvbnRleHRcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgZHJhd09iamVjdDogZnVuY3Rpb24oY3R4LCBmb3JDbGlwcGluZykge1xuICAgICAgdmFyIG9yaWdpbmFsRmlsbCA9IHRoaXMuZmlsbCwgb3JpZ2luYWxTdHJva2UgPSB0aGlzLnN0cm9rZTtcbiAgICAgIGlmIChmb3JDbGlwcGluZykge1xuICAgICAgICB0aGlzLmZpbGwgPSAnYmxhY2snO1xuICAgICAgICB0aGlzLnN0cm9rZSA9ICcnO1xuICAgICAgICB0aGlzLl9zZXRDbGlwcGluZ1Byb3BlcnRpZXMoY3R4KTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLl9yZW5kZXJCYWNrZ3JvdW5kKGN0eCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9yZW5kZXIoY3R4KTtcbiAgICAgIHRoaXMuX2RyYXdDbGlwUGF0aChjdHgsIHRoaXMuY2xpcFBhdGgpO1xuICAgICAgdGhpcy5maWxsID0gb3JpZ2luYWxGaWxsO1xuICAgICAgdGhpcy5zdHJva2UgPSBvcmlnaW5hbFN0cm9rZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUHJlcGFyZSBjbGlwUGF0aCBzdGF0ZSBhbmQgY2FjaGUgYW5kIGRyYXcgaXQgb24gaW5zdGFuY2UncyBjYWNoZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHhcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IGNsaXBQYXRoXG4gICAgICovXG4gICAgX2RyYXdDbGlwUGF0aDogZnVuY3Rpb24gKGN0eCwgY2xpcFBhdGgpIHtcbiAgICAgIGlmICghY2xpcFBhdGgpIHsgcmV0dXJuOyB9XG4gICAgICAvLyBuZWVkZWQgdG8gc2V0dXAgYSBjb3VwbGUgb2YgdmFyaWFibGVzXG4gICAgICAvLyBwYXRoIGNhbnZhcyBnZXRzIG92ZXJyaWRkZW4gd2l0aCB0aGlzIG9uZS5cbiAgICAgIC8vIFRPRE8gZmluZCBhIGJldHRlciBzb2x1dGlvbj9cbiAgICAgIGNsaXBQYXRoLmNhbnZhcyA9IHRoaXMuY2FudmFzO1xuICAgICAgY2xpcFBhdGguc2hvdWxkQ2FjaGUoKTtcbiAgICAgIGNsaXBQYXRoLl90cmFuc2Zvcm1Eb25lID0gdHJ1ZTtcbiAgICAgIGNsaXBQYXRoLnJlbmRlckNhY2hlKHsgZm9yQ2xpcHBpbmc6IHRydWUgfSk7XG4gICAgICB0aGlzLmRyYXdDbGlwUGF0aE9uQ2FjaGUoY3R4LCBjbGlwUGF0aCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFBhaW50IHRoZSBjYWNoZWQgY29weSBvZiB0aGUgb2JqZWN0IG9uIHRoZSB0YXJnZXQgY29udGV4dC5cbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgZHJhd0NhY2hlT25DYW52YXM6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgY3R4LnNjYWxlKDEgLyB0aGlzLnpvb21YLCAxIC8gdGhpcy56b29tWSk7XG4gICAgICBjdHguZHJhd0ltYWdlKHRoaXMuX2NhY2hlQ2FudmFzLCAtdGhpcy5jYWNoZVRyYW5zbGF0aW9uWCwgLXRoaXMuY2FjaGVUcmFuc2xhdGlvblkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBjYWNoZSBpcyBkaXJ0eVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gc2tpcENhbnZhcyBza2lwIGNhbnZhcyBjaGVja3MgYmVjYXVzZSB0aGlzIG9iamVjdCBpcyBwYWludGVkXG4gICAgICogb24gcGFyZW50IGNhbnZhcy5cbiAgICAgKi9cbiAgICBpc0NhY2hlRGlydHk6IGZ1bmN0aW9uKHNraXBDYW52YXMpIHtcbiAgICAgIGlmICh0aGlzLmlzTm90VmlzaWJsZSgpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLl9jYWNoZUNhbnZhcyAmJiB0aGlzLl9jYWNoZUNvbnRleHQgJiYgIXNraXBDYW52YXMgJiYgdGhpcy5fdXBkYXRlQ2FjaGVDYW52YXMoKSkge1xuICAgICAgICAvLyBpbiB0aGlzIGNhc2UgdGhlIGNvbnRleHQgaXMgYWxyZWFkeSBjbGVhcmVkLlxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBpZiAodGhpcy5kaXJ0eSB8fFxuICAgICAgICAgICh0aGlzLmNsaXBQYXRoICYmIHRoaXMuY2xpcFBhdGguYWJzb2x1dGVQb3NpdGlvbmVkKSB8fFxuICAgICAgICAgICh0aGlzLnN0YXRlZnVsbENhY2hlICYmIHRoaXMuaGFzU3RhdGVDaGFuZ2VkKCdjYWNoZVByb3BlcnRpZXMnKSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX2NhY2hlQ2FudmFzICYmIHRoaXMuX2NhY2hlQ29udGV4dCAmJiAhc2tpcENhbnZhcykge1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5jYWNoZVdpZHRoIC8gdGhpcy56b29tWDtcbiAgICAgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmNhY2hlSGVpZ2h0IC8gdGhpcy56b29tWTtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlQ29udGV4dC5jbGVhclJlY3QoLXdpZHRoIC8gMiwgLWhlaWdodCAvIDIsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyBhIGJhY2tncm91bmQgZm9yIHRoZSBvYmplY3QgYmlnIGFzIGl0cyB1bnRyYW5zZm9ybWVkIGRpbWVuc2lvbnNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfcmVuZGVyQmFja2dyb3VuZDogZnVuY3Rpb24oY3R4KSB7XG4gICAgICBpZiAoIXRoaXMuYmFja2dyb3VuZENvbG9yKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBkaW0gPSB0aGlzLl9nZXROb25UcmFuc2Zvcm1lZERpbWVuc2lvbnMoKTtcbiAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmJhY2tncm91bmRDb2xvcjtcblxuICAgICAgY3R4LmZpbGxSZWN0KFxuICAgICAgICAtZGltLnggLyAyLFxuICAgICAgICAtZGltLnkgLyAyLFxuICAgICAgICBkaW0ueCxcbiAgICAgICAgZGltLnlcbiAgICAgICk7XG4gICAgICAvLyBpZiB0aGVyZSBpcyBiYWNrZ3JvdW5kIGNvbG9yIG5vIG90aGVyIHNoYWRvd3NcbiAgICAgIC8vIHNob3VsZCBiZSBjYXN0ZWRcbiAgICAgIHRoaXMuX3JlbW92ZVNoYWRvdyhjdHgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfc2V0T3BhY2l0eTogZnVuY3Rpb24oY3R4KSB7XG4gICAgICBpZiAodGhpcy5ncm91cCAmJiAhdGhpcy5ncm91cC5fdHJhbnNmb3JtRG9uZSkge1xuICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSB0aGlzLmdldE9iamVjdE9wYWNpdHkoKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBjdHguZ2xvYmFsQWxwaGEgKj0gdGhpcy5vcGFjaXR5O1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBfc2V0U3Ryb2tlU3R5bGVzOiBmdW5jdGlvbihjdHgsIGRlY2wpIHtcbiAgICAgIHZhciBzdHJva2UgPSBkZWNsLnN0cm9rZTtcbiAgICAgIGlmIChzdHJva2UpIHtcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IGRlY2wuc3Ryb2tlV2lkdGg7XG4gICAgICAgIGN0eC5saW5lQ2FwID0gZGVjbC5zdHJva2VMaW5lQ2FwO1xuICAgICAgICBjdHgubGluZURhc2hPZmZzZXQgPSBkZWNsLnN0cm9rZURhc2hPZmZzZXQ7XG4gICAgICAgIGN0eC5saW5lSm9pbiA9IGRlY2wuc3Ryb2tlTGluZUpvaW47XG4gICAgICAgIGN0eC5taXRlckxpbWl0ID0gZGVjbC5zdHJva2VNaXRlckxpbWl0O1xuICAgICAgICBpZiAoc3Ryb2tlLnRvTGl2ZSkge1xuICAgICAgICAgIGlmIChzdHJva2UuZ3JhZGllbnRVbml0cyA9PT0gJ3BlcmNlbnRhZ2UnIHx8IHN0cm9rZS5ncmFkaWVudFRyYW5zZm9ybSB8fCBzdHJva2UucGF0dGVyblRyYW5zZm9ybSkge1xuICAgICAgICAgICAgLy8gbmVlZCB0byB0cmFuc2Zvcm0gZ3JhZGllbnQgaW4gYSBwYXR0ZXJuLlxuICAgICAgICAgICAgLy8gdGhpcyBpcyBhIHNsb3cgcHJvY2Vzcy4gSWYgeW91IGFyZSBoaXR0aW5nIHRoaXMgY29kZXBhdGgsIGFuZCB0aGUgb2JqZWN0XG4gICAgICAgICAgICAvLyBpcyBub3QgdXNpbmcgY2FjaGluZywgeW91IHNob3VsZCBjb25zaWRlciBzd2l0Y2hpbmcgaXQgb24uXG4gICAgICAgICAgICAvLyB3ZSBuZWVkIGEgY2FudmFzIGFzIGJpZyBhcyB0aGUgY3VycmVudCBvYmplY3QgY2FjaGluZyBjYW52YXMuXG4gICAgICAgICAgICB0aGlzLl9hcHBseVBhdHRlcm5Gb3JUcmFuc2Zvcm1lZEdyYWRpZW50KGN0eCwgc3Ryb2tlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBpcyBhIHNpbXBsZSBncmFkaWVudCBvciBwYXR0ZXJuXG4gICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBzdHJva2UudG9MaXZlKGN0eCwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLl9hcHBseVBhdHRlcm5HcmFkaWVudFRyYW5zZm9ybShjdHgsIHN0cm9rZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIC8vIGlzIGEgY29sb3JcbiAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBkZWNsLnN0cm9rZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBfc2V0RmlsbFN0eWxlczogZnVuY3Rpb24oY3R4LCBkZWNsKSB7XG4gICAgICB2YXIgZmlsbCA9IGRlY2wuZmlsbDtcbiAgICAgIGlmIChmaWxsKSB7XG4gICAgICAgIGlmIChmaWxsLnRvTGl2ZSkge1xuICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBmaWxsLnRvTGl2ZShjdHgsIHRoaXMpO1xuICAgICAgICAgIHRoaXMuX2FwcGx5UGF0dGVybkdyYWRpZW50VHJhbnNmb3JtKGN0eCwgZGVjbC5maWxsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gZmlsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBfc2V0Q2xpcHBpbmdQcm9wZXJ0aWVzOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IDE7XG4gICAgICBjdHguc3Ryb2tlU3R5bGUgPSAndHJhbnNwYXJlbnQnO1xuICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjMDAwMDAwJztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBTZXRzIGxpbmUgZGFzaFxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byBzZXQgdGhlIGRhc2ggbGluZSBvblxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGRhc2hBcnJheSBhcnJheSByZXByZXNlbnRpbmcgZGFzaGVzXG4gICAgICovXG4gICAgX3NldExpbmVEYXNoOiBmdW5jdGlvbihjdHgsIGRhc2hBcnJheSkge1xuICAgICAgaWYgKCFkYXNoQXJyYXkgfHwgZGFzaEFycmF5Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBTcGVjIHJlcXVpcmVzIHRoZSBjb25jYXRlbmF0aW9uIG9mIHR3byBjb3BpZXMgdGhlIGRhc2ggbGlzdCB3aGVuIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgaXMgb2RkXG4gICAgICBpZiAoMSAmIGRhc2hBcnJheS5sZW5ndGgpIHtcbiAgICAgICAgZGFzaEFycmF5LnB1c2guYXBwbHkoZGFzaEFycmF5LCBkYXNoQXJyYXkpO1xuICAgICAgfVxuICAgICAgY3R4LnNldExpbmVEYXNoKGRhc2hBcnJheSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgY29udHJvbHMgYW5kIGJvcmRlcnMgZm9yIHRoZSBvYmplY3RcbiAgICAgKiB0aGUgY29udGV4dCBoZXJlIGlzIG5vdCB0cmFuc2Zvcm1lZFxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0eWxlT3ZlcnJpZGVdIHByb3BlcnRpZXMgdG8gb3ZlcnJpZGUgdGhlIG9iamVjdCBzdHlsZVxuICAgICAqL1xuICAgIF9yZW5kZXJDb250cm9sczogZnVuY3Rpb24oY3R4LCBzdHlsZU92ZXJyaWRlKSB7XG4gICAgICB2YXIgdnB0ID0gdGhpcy5nZXRWaWV3cG9ydFRyYW5zZm9ybSgpLFxuICAgICAgICAgIG1hdHJpeCA9IHRoaXMuY2FsY1RyYW5zZm9ybU1hdHJpeCgpLFxuICAgICAgICAgIG9wdGlvbnMsIGRyYXdCb3JkZXJzLCBkcmF3Q29udHJvbHM7XG4gICAgICBzdHlsZU92ZXJyaWRlID0gc3R5bGVPdmVycmlkZSB8fCB7IH07XG4gICAgICBkcmF3Qm9yZGVycyA9IHR5cGVvZiBzdHlsZU92ZXJyaWRlLmhhc0JvcmRlcnMgIT09ICd1bmRlZmluZWQnID8gc3R5bGVPdmVycmlkZS5oYXNCb3JkZXJzIDogdGhpcy5oYXNCb3JkZXJzO1xuICAgICAgZHJhd0NvbnRyb2xzID0gdHlwZW9mIHN0eWxlT3ZlcnJpZGUuaGFzQ29udHJvbHMgIT09ICd1bmRlZmluZWQnID8gc3R5bGVPdmVycmlkZS5oYXNDb250cm9scyA6IHRoaXMuaGFzQ29udHJvbHM7XG4gICAgICBtYXRyaXggPSBmYWJyaWMudXRpbC5tdWx0aXBseVRyYW5zZm9ybU1hdHJpY2VzKHZwdCwgbWF0cml4KTtcbiAgICAgIG9wdGlvbnMgPSBmYWJyaWMudXRpbC5xckRlY29tcG9zZShtYXRyaXgpO1xuICAgICAgY3R4LnNhdmUoKTtcbiAgICAgIGN0eC50cmFuc2xhdGUob3B0aW9ucy50cmFuc2xhdGVYLCBvcHRpb25zLnRyYW5zbGF0ZVkpO1xuICAgICAgY3R4LmxpbmVXaWR0aCA9IDEgKiB0aGlzLmJvcmRlclNjYWxlRmFjdG9yO1xuICAgICAgaWYgKCF0aGlzLmdyb3VwKSB7XG4gICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IHRoaXMuaXNNb3ZpbmcgPyB0aGlzLmJvcmRlck9wYWNpdHlXaGVuTW92aW5nIDogMTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmZsaXBYKSB7XG4gICAgICAgIG9wdGlvbnMuYW5nbGUgLT0gMTgwO1xuICAgICAgfVxuICAgICAgY3R4LnJvdGF0ZShkZWdyZWVzVG9SYWRpYW5zKHRoaXMuZ3JvdXAgPyBvcHRpb25zLmFuZ2xlIDogdGhpcy5hbmdsZSkpO1xuICAgICAgaWYgKHN0eWxlT3ZlcnJpZGUuZm9yQWN0aXZlU2VsZWN0aW9uIHx8IHRoaXMuZ3JvdXApIHtcbiAgICAgICAgZHJhd0JvcmRlcnMgJiYgdGhpcy5kcmF3Qm9yZGVyc0luR3JvdXAoY3R4LCBvcHRpb25zLCBzdHlsZU92ZXJyaWRlKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBkcmF3Qm9yZGVycyAmJiB0aGlzLmRyYXdCb3JkZXJzKGN0eCwgc3R5bGVPdmVycmlkZSk7XG4gICAgICB9XG4gICAgICBkcmF3Q29udHJvbHMgJiYgdGhpcy5kcmF3Q29udHJvbHMoY3R4LCBzdHlsZU92ZXJyaWRlKTtcbiAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIF9zZXRTaGFkb3c6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgaWYgKCF0aGlzLnNoYWRvdykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBzaGFkb3cgPSB0aGlzLnNoYWRvdywgY2FudmFzID0gdGhpcy5jYW52YXMsIHNjYWxpbmcsXG4gICAgICAgICAgbXVsdFggPSAoY2FudmFzICYmIGNhbnZhcy52aWV3cG9ydFRyYW5zZm9ybVswXSkgfHwgMSxcbiAgICAgICAgICBtdWx0WSA9IChjYW52YXMgJiYgY2FudmFzLnZpZXdwb3J0VHJhbnNmb3JtWzNdKSB8fCAxO1xuICAgICAgaWYgKHNoYWRvdy5ub25TY2FsaW5nKSB7XG4gICAgICAgIHNjYWxpbmcgPSB7IHNjYWxlWDogMSwgc2NhbGVZOiAxIH07XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgc2NhbGluZyA9IHRoaXMuZ2V0T2JqZWN0U2NhbGluZygpO1xuICAgICAgfVxuICAgICAgaWYgKGNhbnZhcyAmJiBjYW52YXMuX2lzUmV0aW5hU2NhbGluZygpKSB7XG4gICAgICAgIG11bHRYICo9IGZhYnJpYy5kZXZpY2VQaXhlbFJhdGlvO1xuICAgICAgICBtdWx0WSAqPSBmYWJyaWMuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICAgIH1cbiAgICAgIGN0eC5zaGFkb3dDb2xvciA9IHNoYWRvdy5jb2xvcjtcbiAgICAgIGN0eC5zaGFkb3dCbHVyID0gc2hhZG93LmJsdXIgKiBmYWJyaWMuYnJvd3NlclNoYWRvd0JsdXJDb25zdGFudCAqXG4gICAgICAgIChtdWx0WCArIG11bHRZKSAqIChzY2FsaW5nLnNjYWxlWCArIHNjYWxpbmcuc2NhbGVZKSAvIDQ7XG4gICAgICBjdHguc2hhZG93T2Zmc2V0WCA9IHNoYWRvdy5vZmZzZXRYICogbXVsdFggKiBzY2FsaW5nLnNjYWxlWDtcbiAgICAgIGN0eC5zaGFkb3dPZmZzZXRZID0gc2hhZG93Lm9mZnNldFkgKiBtdWx0WSAqIHNjYWxpbmcuc2NhbGVZO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfcmVtb3ZlU2hhZG93OiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIGlmICghdGhpcy5zaGFkb3cpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjdHguc2hhZG93Q29sb3IgPSAnJztcbiAgICAgIGN0eC5zaGFkb3dCbHVyID0gY3R4LnNoYWRvd09mZnNldFggPSBjdHguc2hhZG93T2Zmc2V0WSA9IDA7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBmaWxsZXIgZmFicmljLlBhdHRlcm4gb3IgZmFicmljLkdyYWRpZW50XG4gICAgICogQHJldHVybiB7T2JqZWN0fSBvZmZzZXQub2Zmc2V0WCBvZmZzZXQgZm9yIHRleHQgcmVuZGVyaW5nXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBvZmZzZXQub2Zmc2V0WSBvZmZzZXQgZm9yIHRleHQgcmVuZGVyaW5nXG4gICAgICovXG4gICAgX2FwcGx5UGF0dGVybkdyYWRpZW50VHJhbnNmb3JtOiBmdW5jdGlvbihjdHgsIGZpbGxlcikge1xuICAgICAgaWYgKCFmaWxsZXIgfHwgIWZpbGxlci50b0xpdmUpIHtcbiAgICAgICAgcmV0dXJuIHsgb2Zmc2V0WDogMCwgb2Zmc2V0WTogMCB9O1xuICAgICAgfVxuICAgICAgdmFyIHQgPSBmaWxsZXIuZ3JhZGllbnRUcmFuc2Zvcm0gfHwgZmlsbGVyLnBhdHRlcm5UcmFuc2Zvcm07XG4gICAgICB2YXIgb2Zmc2V0WCA9IC10aGlzLndpZHRoIC8gMiArIGZpbGxlci5vZmZzZXRYIHx8IDAsXG4gICAgICAgICAgb2Zmc2V0WSA9IC10aGlzLmhlaWdodCAvIDIgKyBmaWxsZXIub2Zmc2V0WSB8fCAwO1xuXG4gICAgICBpZiAoZmlsbGVyLmdyYWRpZW50VW5pdHMgPT09ICdwZXJjZW50YWdlJykge1xuICAgICAgICBjdHgudHJhbnNmb3JtKHRoaXMud2lkdGgsIDAsIDAsIHRoaXMuaGVpZ2h0LCBvZmZzZXRYLCBvZmZzZXRZKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBjdHgudHJhbnNmb3JtKDEsIDAsIDAsIDEsIG9mZnNldFgsIG9mZnNldFkpO1xuICAgICAgfVxuICAgICAgaWYgKHQpIHtcbiAgICAgICAgY3R4LnRyYW5zZm9ybSh0WzBdLCB0WzFdLCB0WzJdLCB0WzNdLCB0WzRdLCB0WzVdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7IG9mZnNldFg6IG9mZnNldFgsIG9mZnNldFk6IG9mZnNldFkgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgX3JlbmRlclBhaW50SW5PcmRlcjogZnVuY3Rpb24oY3R4KSB7XG4gICAgICBpZiAodGhpcy5wYWludEZpcnN0ID09PSAnc3Ryb2tlJykge1xuICAgICAgICB0aGlzLl9yZW5kZXJTdHJva2UoY3R4KTtcbiAgICAgICAgdGhpcy5fcmVuZGVyRmlsbChjdHgpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuX3JlbmRlckZpbGwoY3R4KTtcbiAgICAgICAgdGhpcy5fcmVuZGVyU3Ryb2tlKGN0eCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogZnVuY3Rpb24gdGhhdCBhY3R1YWxseSByZW5kZXIgc29tZXRoaW5nIG9uIHRoZSBjb250ZXh0LlxuICAgICAqIGVtcHR5IGhlcmUgdG8gYWxsb3cgT2JlY3RzIHRvIHdvcmsgb24gdGVzdHMgdG8gYmVuY2htYXJrIGZhYnJpYyBmdW5jdGlvbmFsaXRlc1xuICAgICAqIG5vdCByZWxhdGVkIHRvIHJlbmRlcmluZ1xuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfcmVuZGVyOiBmdW5jdGlvbigvKiBjdHggKi8pIHtcblxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfcmVuZGVyRmlsbDogZnVuY3Rpb24oY3R4KSB7XG4gICAgICBpZiAoIXRoaXMuZmlsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICB0aGlzLl9zZXRGaWxsU3R5bGVzKGN0eCwgdGhpcyk7XG4gICAgICBpZiAodGhpcy5maWxsUnVsZSA9PT0gJ2V2ZW5vZGQnKSB7XG4gICAgICAgIGN0eC5maWxsKCdldmVub2RkJyk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgIH1cbiAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIF9yZW5kZXJTdHJva2U6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgaWYgKCF0aGlzLnN0cm9rZSB8fCB0aGlzLnN0cm9rZVdpZHRoID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuc2hhZG93ICYmICF0aGlzLnNoYWRvdy5hZmZlY3RTdHJva2UpIHtcbiAgICAgICAgdGhpcy5fcmVtb3ZlU2hhZG93KGN0eCk7XG4gICAgICB9XG5cbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICBpZiAodGhpcy5zdHJva2VVbmlmb3JtICYmIHRoaXMuZ3JvdXApIHtcbiAgICAgICAgdmFyIHNjYWxpbmcgPSB0aGlzLmdldE9iamVjdFNjYWxpbmcoKTtcbiAgICAgICAgY3R4LnNjYWxlKDEgLyBzY2FsaW5nLnNjYWxlWCwgMSAvIHNjYWxpbmcuc2NhbGVZKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHRoaXMuc3Ryb2tlVW5pZm9ybSkge1xuICAgICAgICBjdHguc2NhbGUoMSAvIHRoaXMuc2NhbGVYLCAxIC8gdGhpcy5zY2FsZVkpO1xuICAgICAgfVxuICAgICAgdGhpcy5fc2V0TGluZURhc2goY3R4LCB0aGlzLnN0cm9rZURhc2hBcnJheSk7XG4gICAgICB0aGlzLl9zZXRTdHJva2VTdHlsZXMoY3R4LCB0aGlzKTtcbiAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gdHJ5IHRvIHBhdGNoIHRoZSBtaXNzaW5nIGdyYWRpZW50VHJhbnNmb3JtIG9uIGNhbnZhcyBncmFkaWVudHMuXG4gICAgICogdHJhbnNmb3JtaW5nIGEgY29udGV4dCB0byB0cmFuc2Zvcm0gdGhlIGdyYWRpZW50LCBpcyBnb2luZyB0byB0cmFuc2Zvcm0gdGhlIHN0cm9rZSB0b28uXG4gICAgICogd2Ugd2FudCB0byB0cmFuc2Zvcm0gdGhlIGdyYWRpZW50IGJ1dCBub3QgdGhlIHN0cm9rZSBvcGVyYXRpb24sIHNvIHdlIGNyZWF0ZVxuICAgICAqIGEgdHJhbnNmb3JtZWQgZ3JhZGllbnQgb24gYSBwYXR0ZXJuIGFuZCB0aGVuIHdlIHVzZSB0aGUgcGF0dGVybiBpbnN0ZWFkIG9mIHRoZSBncmFkaWVudC5cbiAgICAgKiB0aGlzIG1ldGhvZCBoYXMgZHJ3YWJhY2tzOiBpcyBzbG93LCBpcyBpbiBsb3cgcmVzb2x1dGlvbiwgbmVlZHMgYSBwYXRjaCBmb3Igd2hlbiB0aGUgc2l6ZVxuICAgICAqIGlzIGxpbWl0ZWQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICogQHBhcmFtIHtmYWJyaWMuR3JhZGllbnR9IGZpbGxlciBhIGZhYnJpYyBncmFkaWVudCBpbnN0YW5jZVxuICAgICAqL1xuICAgIF9hcHBseVBhdHRlcm5Gb3JUcmFuc2Zvcm1lZEdyYWRpZW50OiBmdW5jdGlvbihjdHgsIGZpbGxlcikge1xuICAgICAgdmFyIGRpbXMgPSB0aGlzLl9saW1pdENhY2hlU2l6ZSh0aGlzLl9nZXRDYWNoZUNhbnZhc0RpbWVuc2lvbnMoKSksXG4gICAgICAgICAgcENhbnZhcyA9IGZhYnJpYy51dGlsLmNyZWF0ZUNhbnZhc0VsZW1lbnQoKSwgcEN0eCwgcmV0aW5hU2NhbGluZyA9IHRoaXMuY2FudmFzLmdldFJldGluYVNjYWxpbmcoKSxcbiAgICAgICAgICB3aWR0aCA9IGRpbXMueCAvIHRoaXMuc2NhbGVYIC8gcmV0aW5hU2NhbGluZywgaGVpZ2h0ID0gZGltcy55IC8gdGhpcy5zY2FsZVkgLyByZXRpbmFTY2FsaW5nO1xuICAgICAgcENhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgcENhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICBwQ3R4ID0gcENhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgcEN0eC5iZWdpblBhdGgoKTsgcEN0eC5tb3ZlVG8oMCwgMCk7IHBDdHgubGluZVRvKHdpZHRoLCAwKTsgcEN0eC5saW5lVG8od2lkdGgsIGhlaWdodCk7XG4gICAgICBwQ3R4LmxpbmVUbygwLCBoZWlnaHQpOyBwQ3R4LmNsb3NlUGF0aCgpO1xuICAgICAgcEN0eC50cmFuc2xhdGUod2lkdGggLyAyLCBoZWlnaHQgLyAyKTtcbiAgICAgIHBDdHguc2NhbGUoXG4gICAgICAgIGRpbXMuem9vbVggLyB0aGlzLnNjYWxlWCAvIHJldGluYVNjYWxpbmcsXG4gICAgICAgIGRpbXMuem9vbVkgLyB0aGlzLnNjYWxlWSAvIHJldGluYVNjYWxpbmdcbiAgICAgICk7XG4gICAgICB0aGlzLl9hcHBseVBhdHRlcm5HcmFkaWVudFRyYW5zZm9ybShwQ3R4LCBmaWxsZXIpO1xuICAgICAgcEN0eC5maWxsU3R5bGUgPSBmaWxsZXIudG9MaXZlKGN0eCk7XG4gICAgICBwQ3R4LmZpbGwoKTtcbiAgICAgIGN0eC50cmFuc2xhdGUoLXRoaXMud2lkdGggLyAyIC0gdGhpcy5zdHJva2VXaWR0aCAvIDIsIC10aGlzLmhlaWdodCAvIDIgLSB0aGlzLnN0cm9rZVdpZHRoIC8gMik7XG4gICAgICBjdHguc2NhbGUoXG4gICAgICAgIHJldGluYVNjYWxpbmcgKiB0aGlzLnNjYWxlWCAvIGRpbXMuem9vbVgsXG4gICAgICAgIHJldGluYVNjYWxpbmcgKiB0aGlzLnNjYWxlWSAvIGRpbXMuem9vbVlcbiAgICAgICk7XG4gICAgICBjdHguc3Ryb2tlU3R5bGUgPSBwQ3R4LmNyZWF0ZVBhdHRlcm4ocENhbnZhcywgJ25vLXJlcGVhdCcpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGFuIGhlbHBlciBmb3Igc3ZnIGltcG9ydC4gaXQgcmV0dXJucyB0aGUgY2VudGVyIG9mIHRoZSBvYmplY3QgaW4gdGhlIHN2Z1xuICAgICAqIHVudHJhbnNmb3JtZWQgY29vcmRpbmF0ZXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge09iamVjdH0gY2VudGVyIHBvaW50IGZyb20gZWxlbWVudCBjb29yZGluYXRlc1xuICAgICAqL1xuICAgIF9maW5kQ2VudGVyRnJvbUVsZW1lbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHsgeDogdGhpcy5sZWZ0ICsgdGhpcy53aWR0aCAvIDIsIHk6IHRoaXMudG9wICsgdGhpcy5oZWlnaHQgLyAyIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgYW4gaGVscGVyIGZvciBzdmcgaW1wb3J0LiBpdCBkZWNvbXBvc2UgdGhlIHRyYW5zZm9ybU1hdHJpeFxuICAgICAqIGFuZCBhc3NpZ24gcHJvcGVydGllcyB0byBvYmplY3QuXG4gICAgICogdW50cmFuc2Zvcm1lZCBjb29yZGluYXRlc1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIF9hc3NpZ25UcmFuc2Zvcm1NYXRyaXhQcm9wczogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy50cmFuc2Zvcm1NYXRyaXgpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBmYWJyaWMudXRpbC5xckRlY29tcG9zZSh0aGlzLnRyYW5zZm9ybU1hdHJpeCk7XG4gICAgICAgIHRoaXMuZmxpcFggPSBmYWxzZTtcbiAgICAgICAgdGhpcy5mbGlwWSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNldCgnc2NhbGVYJywgb3B0aW9ucy5zY2FsZVgpO1xuICAgICAgICB0aGlzLnNldCgnc2NhbGVZJywgb3B0aW9ucy5zY2FsZVkpO1xuICAgICAgICB0aGlzLmFuZ2xlID0gb3B0aW9ucy5hbmdsZTtcbiAgICAgICAgdGhpcy5za2V3WCA9IG9wdGlvbnMuc2tld1g7XG4gICAgICAgIHRoaXMuc2tld1kgPSAwO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGFuIGhlbHBlciBmb3Igc3ZnIGltcG9ydC4gaXQgcmVtb3ZlcyB0aGUgdHJhbnNmb3JtIG1hdHJpeFxuICAgICAqIGFuZCBzZXQgdG8gb2JqZWN0IHByb3BlcnRpZXMgdGhhdCBmYWJyaWNqcyBjYW4gaGFuZGxlXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJlc2VydmVBc3BlY3RSYXRpb09wdGlvbnNcbiAgICAgKiBAcmV0dXJuIHt0aGlzQXJnfVxuICAgICAqL1xuICAgIF9yZW1vdmVUcmFuc2Zvcm1NYXRyaXg6IGZ1bmN0aW9uKHByZXNlcnZlQXNwZWN0UmF0aW9PcHRpb25zKSB7XG4gICAgICB2YXIgY2VudGVyID0gdGhpcy5fZmluZENlbnRlckZyb21FbGVtZW50KCk7XG4gICAgICBpZiAodGhpcy50cmFuc2Zvcm1NYXRyaXgpIHtcbiAgICAgICAgdGhpcy5fYXNzaWduVHJhbnNmb3JtTWF0cml4UHJvcHMoKTtcbiAgICAgICAgY2VudGVyID0gZmFicmljLnV0aWwudHJhbnNmb3JtUG9pbnQoY2VudGVyLCB0aGlzLnRyYW5zZm9ybU1hdHJpeCk7XG4gICAgICB9XG4gICAgICB0aGlzLnRyYW5zZm9ybU1hdHJpeCA9IG51bGw7XG4gICAgICBpZiAocHJlc2VydmVBc3BlY3RSYXRpb09wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5zY2FsZVggKj0gcHJlc2VydmVBc3BlY3RSYXRpb09wdGlvbnMuc2NhbGVYO1xuICAgICAgICB0aGlzLnNjYWxlWSAqPSBwcmVzZXJ2ZUFzcGVjdFJhdGlvT3B0aW9ucy5zY2FsZVk7XG4gICAgICAgIHRoaXMuY3JvcFggPSBwcmVzZXJ2ZUFzcGVjdFJhdGlvT3B0aW9ucy5jcm9wWDtcbiAgICAgICAgdGhpcy5jcm9wWSA9IHByZXNlcnZlQXNwZWN0UmF0aW9PcHRpb25zLmNyb3BZO1xuICAgICAgICBjZW50ZXIueCArPSBwcmVzZXJ2ZUFzcGVjdFJhdGlvT3B0aW9ucy5vZmZzZXRMZWZ0O1xuICAgICAgICBjZW50ZXIueSArPSBwcmVzZXJ2ZUFzcGVjdFJhdGlvT3B0aW9ucy5vZmZzZXRUb3A7XG4gICAgICAgIHRoaXMud2lkdGggPSBwcmVzZXJ2ZUFzcGVjdFJhdGlvT3B0aW9ucy53aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBwcmVzZXJ2ZUFzcGVjdFJhdGlvT3B0aW9ucy5oZWlnaHQ7XG4gICAgICB9XG4gICAgICB0aGlzLnNldFBvc2l0aW9uQnlPcmlnaW4oY2VudGVyLCAnY2VudGVyJywgJ2NlbnRlcicpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDbG9uZXMgYW4gaW5zdGFuY2UsIHVzaW5nIGEgY2FsbGJhY2sgbWV0aG9kIHdpbGwgd29yayBmb3IgZXZlcnkgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIENhbGxiYWNrIGlzIGludm9rZWQgd2l0aCBhIGNsb25lIGFzIGEgZmlyc3QgYXJndW1lbnRcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcGVydGllc1RvSW5jbHVkZV0gQW55IHByb3BlcnRpZXMgdGhhdCB5b3UgbWlnaHQgd2FudCB0byBhZGRpdGlvbmFsbHkgaW5jbHVkZSBpbiB0aGUgb3V0cHV0XG4gICAgICovXG4gICAgY2xvbmU6IGZ1bmN0aW9uKGNhbGxiYWNrLCBwcm9wZXJ0aWVzVG9JbmNsdWRlKSB7XG4gICAgICB2YXIgb2JqZWN0Rm9ybSA9IHRoaXMudG9PYmplY3QocHJvcGVydGllc1RvSW5jbHVkZSk7XG4gICAgICBpZiAodGhpcy5jb25zdHJ1Y3Rvci5mcm9tT2JqZWN0KSB7XG4gICAgICAgIHRoaXMuY29uc3RydWN0b3IuZnJvbU9iamVjdChvYmplY3RGb3JtLCBjYWxsYmFjayk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgZmFicmljLk9iamVjdC5fZnJvbU9iamVjdCgnT2JqZWN0Jywgb2JqZWN0Rm9ybSwgY2FsbGJhY2spO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIGZhYnJpYy5JbWFnZSBvdXQgb2YgYW4gb2JqZWN0XG4gICAgICogbWFrZXMgdXNlIG9mIHRvQ2FudmFzRWxlbWVudC5cbiAgICAgKiBPbmNlIHRoaXMgbWV0aG9kIHdhcyBiYXNlZCBvbiB0b0RhdGFVcmwgYW5kIGxvYWRJbWFnZSwgc28gaXQgYWxzbyBoYWQgYSBxdWFsaXR5XG4gICAgICogYW5kIGZvcm1hdCBvcHRpb24uIHRvQ2FudmFzRWxlbWVudCBpcyBmYXN0ZXIgYW5kIHByb2R1Y2Ugbm8gbG9zcyBvZiBxdWFsaXR5LlxuICAgICAqIElmIHlvdSBuZWVkIHRvIGdldCBhIHJlYWwgSnBlZyBvciBQbmcgZnJvbSBhbiBvYmplY3QsIHVzaW5nIHRvRGF0YVVSTCBpcyB0aGUgcmlnaHQgd2F5IHRvIGRvIGl0LlxuICAgICAqIHRvQ2FudmFzRWxlbWVudCBhbmQgdGhlbiB0b0Jsb2IgZnJvbSB0aGUgb2J0YWluZWQgY2FudmFzIGlzIGFsc28gYSBnb29kIG9wdGlvbi5cbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBzeW5jIG5vdywgYnV0IHN0aWxsIHN1cHBvcnQgdGhlIGNhbGxiYWNrIGJlY2F1c2Ugd2UgZGlkIG5vdCB3YW50IHRvIGJyZWFrLlxuICAgICAqIFdoZW4gZmFicmljSlMgNS4wIHdpbGwgYmUgcGxhbm5lZCwgdGhpcyB3aWxsIHByb2JhYmx5IGJlIGNoYW5nZWQgdG8gbm90IGhhdmUgYSBjYWxsYmFjay5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBjYWxsYmFjaywgaW52b2tlZCB3aXRoIGFuIGluc3RhbmNlIGFzIGEgZmlyc3QgYXJndW1lbnRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIGZvciBjbG9uZSBhcyBpbWFnZSwgcGFzc2VkIHRvIHRvRGF0YVVSTFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5tdWx0aXBsaWVyPTFdIE11bHRpcGxpZXIgdG8gc2NhbGUgYnlcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubGVmdF0gQ3JvcHBpbmcgbGVmdCBvZmZzZXQuIEludHJvZHVjZWQgaW4gdjEuMi4xNFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy50b3BdIENyb3BwaW5nIHRvcCBvZmZzZXQuIEludHJvZHVjZWQgaW4gdjEuMi4xNFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy53aWR0aF0gQ3JvcHBpbmcgd2lkdGguIEludHJvZHVjZWQgaW4gdjEuMi4xNFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5oZWlnaHRdIENyb3BwaW5nIGhlaWdodC4gSW50cm9kdWNlZCBpbiB2MS4yLjE0XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5lbmFibGVSZXRpbmFTY2FsaW5nXSBFbmFibGUgcmV0aW5hIHNjYWxpbmcgZm9yIGNsb25lIGltYWdlLiBJbnRyb2R1Y2UgaW4gMS42LjRcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLndpdGhvdXRUcmFuc2Zvcm1dIFJlbW92ZSBjdXJyZW50IG9iamVjdCB0cmFuc2Zvcm0gKCBubyBzY2FsZSAsIG5vIGFuZ2xlLCBubyBmbGlwLCBubyBza2V3ICkuIEludHJvZHVjZWQgaW4gMi4zLjRcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLndpdGhvdXRTaGFkb3ddIFJlbW92ZSBjdXJyZW50IG9iamVjdCBzaGFkb3cuIEludHJvZHVjZWQgaW4gMi40LjJcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAgICovXG4gICAgY2xvbmVBc0ltYWdlOiBmdW5jdGlvbihjYWxsYmFjaywgb3B0aW9ucykge1xuICAgICAgdmFyIGNhbnZhc0VsID0gdGhpcy50b0NhbnZhc0VsZW1lbnQob3B0aW9ucyk7XG4gICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2sobmV3IGZhYnJpYy5JbWFnZShjYW52YXNFbCkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGFuIG9iamVjdCBpbnRvIGEgSFRNTENhbnZhcyBlbGVtZW50XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgT3B0aW9ucyBvYmplY3RcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubXVsdGlwbGllcj0xXSBNdWx0aXBsaWVyIHRvIHNjYWxlIGJ5XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmxlZnRdIENyb3BwaW5nIGxlZnQgb2Zmc2V0LiBJbnRyb2R1Y2VkIGluIHYxLjIuMTRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMudG9wXSBDcm9wcGluZyB0b3Agb2Zmc2V0LiBJbnRyb2R1Y2VkIGluIHYxLjIuMTRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMud2lkdGhdIENyb3BwaW5nIHdpZHRoLiBJbnRyb2R1Y2VkIGluIHYxLjIuMTRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuaGVpZ2h0XSBDcm9wcGluZyBoZWlnaHQuIEludHJvZHVjZWQgaW4gdjEuMi4xNFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuZW5hYmxlUmV0aW5hU2NhbGluZ10gRW5hYmxlIHJldGluYSBzY2FsaW5nIGZvciBjbG9uZSBpbWFnZS4gSW50cm9kdWNlIGluIDEuNi40XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy53aXRob3V0VHJhbnNmb3JtXSBSZW1vdmUgY3VycmVudCBvYmplY3QgdHJhbnNmb3JtICggbm8gc2NhbGUgLCBubyBhbmdsZSwgbm8gZmxpcCwgbm8gc2tldyApLiBJbnRyb2R1Y2VkIGluIDIuMy40XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy53aXRob3V0U2hhZG93XSBSZW1vdmUgY3VycmVudCBvYmplY3Qgc2hhZG93LiBJbnRyb2R1Y2VkIGluIDIuNC4yXG4gICAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR9IFJldHVybnMgRE9NIGVsZW1lbnQgPGNhbnZhcz4gd2l0aCB0aGUgZmFicmljLk9iamVjdFxuICAgICAqL1xuICAgIHRvQ2FudmFzRWxlbWVudDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgb3B0aW9ucyB8fCAob3B0aW9ucyA9IHsgfSk7XG5cbiAgICAgIHZhciB1dGlscyA9IGZhYnJpYy51dGlsLCBvcmlnUGFyYW1zID0gdXRpbHMuc2F2ZU9iamVjdFRyYW5zZm9ybSh0aGlzKSxcbiAgICAgICAgICBvcmlnaW5hbEdyb3VwID0gdGhpcy5ncm91cCxcbiAgICAgICAgICBvcmlnaW5hbFNoYWRvdyA9IHRoaXMuc2hhZG93LCBhYnMgPSBNYXRoLmFicyxcbiAgICAgICAgICBtdWx0aXBsaWVyID0gKG9wdGlvbnMubXVsdGlwbGllciB8fCAxKSAqIChvcHRpb25zLmVuYWJsZVJldGluYVNjYWxpbmcgPyBmYWJyaWMuZGV2aWNlUGl4ZWxSYXRpbyA6IDEpO1xuICAgICAgZGVsZXRlIHRoaXMuZ3JvdXA7XG4gICAgICBpZiAob3B0aW9ucy53aXRob3V0VHJhbnNmb3JtKSB7XG4gICAgICAgIHV0aWxzLnJlc2V0T2JqZWN0VHJhbnNmb3JtKHRoaXMpO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMud2l0aG91dFNoYWRvdykge1xuICAgICAgICB0aGlzLnNoYWRvdyA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciBlbCA9IGZhYnJpYy51dGlsLmNyZWF0ZUNhbnZhc0VsZW1lbnQoKSxcbiAgICAgICAgICAvLyBza2lwIGNhbnZhcyB6b29tIGFuZCBjYWxjdWxhdGUgd2l0aCBzZXRDb29yZHMgbm93LlxuICAgICAgICAgIGJvdW5kaW5nUmVjdCA9IHRoaXMuZ2V0Qm91bmRpbmdSZWN0KHRydWUsIHRydWUpLFxuICAgICAgICAgIHNoYWRvdyA9IHRoaXMuc2hhZG93LCBzY2FsaW5nLFxuICAgICAgICAgIHNoYWRvd09mZnNldCA9IHsgeDogMCwgeTogMCB9LCBzaGFkb3dCbHVyLFxuICAgICAgICAgIHdpZHRoLCBoZWlnaHQ7XG5cbiAgICAgIGlmIChzaGFkb3cpIHtcbiAgICAgICAgc2hhZG93Qmx1ciA9IHNoYWRvdy5ibHVyO1xuICAgICAgICBpZiAoc2hhZG93Lm5vblNjYWxpbmcpIHtcbiAgICAgICAgICBzY2FsaW5nID0geyBzY2FsZVg6IDEsIHNjYWxlWTogMSB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHNjYWxpbmcgPSB0aGlzLmdldE9iamVjdFNjYWxpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjb25zaWRlciBub24gc2NhbGluZyBzaGFkb3cuXG4gICAgICAgIHNoYWRvd09mZnNldC54ID0gMiAqIE1hdGgucm91bmQoYWJzKHNoYWRvdy5vZmZzZXRYKSArIHNoYWRvd0JsdXIpICogKGFicyhzY2FsaW5nLnNjYWxlWCkpO1xuICAgICAgICBzaGFkb3dPZmZzZXQueSA9IDIgKiBNYXRoLnJvdW5kKGFicyhzaGFkb3cub2Zmc2V0WSkgKyBzaGFkb3dCbHVyKSAqIChhYnMoc2NhbGluZy5zY2FsZVkpKTtcbiAgICAgIH1cbiAgICAgIHdpZHRoID0gYm91bmRpbmdSZWN0LndpZHRoICsgc2hhZG93T2Zmc2V0Lng7XG4gICAgICBoZWlnaHQgPSBib3VuZGluZ1JlY3QuaGVpZ2h0ICsgc2hhZG93T2Zmc2V0Lnk7XG4gICAgICAvLyBpZiB0aGUgY3VycmVudCB3aWR0aC9oZWlnaHQgaXMgbm90IGFuIGludGVnZXJcbiAgICAgIC8vIHdlIG5lZWQgdG8gbWFrZSBpdCBzby5cbiAgICAgIGVsLndpZHRoID0gTWF0aC5jZWlsKHdpZHRoKTtcbiAgICAgIGVsLmhlaWdodCA9IE1hdGguY2VpbChoZWlnaHQpO1xuICAgICAgdmFyIGNhbnZhcyA9IG5ldyBmYWJyaWMuU3RhdGljQ2FudmFzKGVsLCB7XG4gICAgICAgIGVuYWJsZVJldGluYVNjYWxpbmc6IGZhbHNlLFxuICAgICAgICByZW5kZXJPbkFkZFJlbW92ZTogZmFsc2UsXG4gICAgICAgIHNraXBPZmZzY3JlZW46IGZhbHNlLFxuICAgICAgfSk7XG4gICAgICBpZiAob3B0aW9ucy5mb3JtYXQgPT09ICdqcGVnJykge1xuICAgICAgICBjYW52YXMuYmFja2dyb3VuZENvbG9yID0gJyNmZmYnO1xuICAgICAgfVxuICAgICAgdGhpcy5zZXRQb3NpdGlvbkJ5T3JpZ2luKG5ldyBmYWJyaWMuUG9pbnQoY2FudmFzLndpZHRoIC8gMiwgY2FudmFzLmhlaWdodCAvIDIpLCAnY2VudGVyJywgJ2NlbnRlcicpO1xuXG4gICAgICB2YXIgb3JpZ2luYWxDYW52YXMgPSB0aGlzLmNhbnZhcztcbiAgICAgIGNhbnZhcy5hZGQodGhpcyk7XG4gICAgICB2YXIgY2FudmFzRWwgPSBjYW52YXMudG9DYW52YXNFbGVtZW50KG11bHRpcGxpZXIgfHwgMSwgb3B0aW9ucyk7XG4gICAgICB0aGlzLnNoYWRvdyA9IG9yaWdpbmFsU2hhZG93O1xuICAgICAgdGhpcy5zZXQoJ2NhbnZhcycsIG9yaWdpbmFsQ2FudmFzKTtcbiAgICAgIGlmIChvcmlnaW5hbEdyb3VwKSB7XG4gICAgICAgIHRoaXMuZ3JvdXAgPSBvcmlnaW5hbEdyb3VwO1xuICAgICAgfVxuICAgICAgdGhpcy5zZXQob3JpZ1BhcmFtcykuc2V0Q29vcmRzKCk7XG4gICAgICAvLyBjYW52YXMuZGlzcG9zZSB3aWxsIGNhbGwgaW1hZ2UuZGlzcG9zZSB0aGF0IHdpbGwgbnVsbGlmeSB0aGUgZWxlbWVudHNcbiAgICAgIC8vIHNpbmNlIHRoaXMgY2FudmFzIGlzIGEgc2ltcGxlIGVsZW1lbnQgZm9yIHRoZSBwcm9jZXNzLCB3ZSByZW1vdmUgcmVmZXJlbmNlc1xuICAgICAgLy8gdG8gb2JqZWN0cyBpbiB0aGlzIHdheSBpbiBvcmRlciB0byBhdm9pZCBvYmplY3QgdHJhc2hpbmcuXG4gICAgICBjYW52YXMuX29iamVjdHMgPSBbXTtcbiAgICAgIGNhbnZhcy5kaXNwb3NlKCk7XG4gICAgICBjYW52YXMgPSBudWxsO1xuXG4gICAgICByZXR1cm4gY2FudmFzRWw7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGFuIG9iamVjdCBpbnRvIGEgZGF0YS11cmwtbGlrZSBzdHJpbmdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBPcHRpb25zIG9iamVjdFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5mb3JtYXQ9cG5nXSBUaGUgZm9ybWF0IG9mIHRoZSBvdXRwdXQgaW1hZ2UuIEVpdGhlciBcImpwZWdcIiBvciBcInBuZ1wiXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnF1YWxpdHk9MV0gUXVhbGl0eSBsZXZlbCAoMC4uMSkuIE9ubHkgdXNlZCBmb3IganBlZy5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubXVsdGlwbGllcj0xXSBNdWx0aXBsaWVyIHRvIHNjYWxlIGJ5XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmxlZnRdIENyb3BwaW5nIGxlZnQgb2Zmc2V0LiBJbnRyb2R1Y2VkIGluIHYxLjIuMTRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMudG9wXSBDcm9wcGluZyB0b3Agb2Zmc2V0LiBJbnRyb2R1Y2VkIGluIHYxLjIuMTRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMud2lkdGhdIENyb3BwaW5nIHdpZHRoLiBJbnRyb2R1Y2VkIGluIHYxLjIuMTRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuaGVpZ2h0XSBDcm9wcGluZyBoZWlnaHQuIEludHJvZHVjZWQgaW4gdjEuMi4xNFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuZW5hYmxlUmV0aW5hU2NhbGluZ10gRW5hYmxlIHJldGluYSBzY2FsaW5nIGZvciBjbG9uZSBpbWFnZS4gSW50cm9kdWNlIGluIDEuNi40XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy53aXRob3V0VHJhbnNmb3JtXSBSZW1vdmUgY3VycmVudCBvYmplY3QgdHJhbnNmb3JtICggbm8gc2NhbGUgLCBubyBhbmdsZSwgbm8gZmxpcCwgbm8gc2tldyApLiBJbnRyb2R1Y2VkIGluIDIuMy40XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy53aXRob3V0U2hhZG93XSBSZW1vdmUgY3VycmVudCBvYmplY3Qgc2hhZG93LiBJbnRyb2R1Y2VkIGluIDIuNC4yXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBSZXR1cm5zIGEgZGF0YTogVVJMIGNvbnRhaW5pbmcgYSByZXByZXNlbnRhdGlvbiBvZiB0aGUgb2JqZWN0IGluIHRoZSBmb3JtYXQgc3BlY2lmaWVkIGJ5IG9wdGlvbnMuZm9ybWF0XG4gICAgICovXG4gICAgdG9EYXRhVVJMOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBvcHRpb25zIHx8IChvcHRpb25zID0geyB9KTtcbiAgICAgIHJldHVybiBmYWJyaWMudXRpbC50b0RhdGFVUkwodGhpcy50b0NhbnZhc0VsZW1lbnQob3B0aW9ucyksIG9wdGlvbnMuZm9ybWF0IHx8ICdwbmcnLCBvcHRpb25zLnF1YWxpdHkgfHwgMSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiBzcGVjaWZpZWQgdHlwZSBpcyBpZGVudGljYWwgdG8gdGhlIHR5cGUgb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBUeXBlIHRvIGNoZWNrIGFnYWluc3RcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIGlzVHlwZTogZnVuY3Rpb24odHlwZSkge1xuICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gQXJyYXkuZnJvbShhcmd1bWVudHMpLmluY2x1ZGVzKHRoaXMudHlwZSkgOiB0aGlzLnR5cGUgPT09IHR5cGU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgY29tcGxleGl0eSBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEByZXR1cm4ge051bWJlcn0gY29tcGxleGl0eSBvZiB0aGlzIGluc3RhbmNlIChpcyAxIHVubGVzcyBzdWJjbGFzc2VkKVxuICAgICAqL1xuICAgIGNvbXBsZXhpdHk6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BlcnRpZXNUb0luY2x1ZGVdIEFueSBwcm9wZXJ0aWVzIHRoYXQgeW91IG1pZ2h0IHdhbnQgdG8gYWRkaXRpb25hbGx5IGluY2x1ZGUgaW4gdGhlIG91dHB1dFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gSlNPTlxuICAgICAqL1xuICAgIHRvSlNPTjogZnVuY3Rpb24ocHJvcGVydGllc1RvSW5jbHVkZSkge1xuICAgICAgLy8gZGVsZWdhdGUsIG5vdCBhbGlhc1xuICAgICAgcmV0dXJuIHRoaXMudG9PYmplY3QocHJvcGVydGllc1RvSW5jbHVkZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgXCJhbmdsZVwiIG9mIGFuIGluc3RhbmNlIHdpdGggY2VudGVyZWQgcm90YXRpb25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYW5nbGUgQW5nbGUgdmFsdWUgKGluIGRlZ3JlZXMpXG4gICAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICByb3RhdGU6IGZ1bmN0aW9uKGFuZ2xlKSB7XG4gICAgICB2YXIgc2hvdWxkQ2VudGVyT3JpZ2luID0gKHRoaXMub3JpZ2luWCAhPT0gJ2NlbnRlcicgfHwgdGhpcy5vcmlnaW5ZICE9PSAnY2VudGVyJykgJiYgdGhpcy5jZW50ZXJlZFJvdGF0aW9uO1xuXG4gICAgICBpZiAoc2hvdWxkQ2VudGVyT3JpZ2luKSB7XG4gICAgICAgIHRoaXMuX3NldE9yaWdpblRvQ2VudGVyKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2V0KCdhbmdsZScsIGFuZ2xlKTtcblxuICAgICAgaWYgKHNob3VsZENlbnRlck9yaWdpbikge1xuICAgICAgICB0aGlzLl9yZXNldE9yaWdpbigpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2VudGVycyBvYmplY3QgaG9yaXpvbnRhbGx5IG9uIGNhbnZhcyB0byB3aGljaCBpdCB3YXMgYWRkZWQgbGFzdC5cbiAgICAgKiBZb3UgbWlnaHQgbmVlZCB0byBjYWxsIGBzZXRDb29yZHNgIG9uIGFuIG9iamVjdCBhZnRlciBjZW50ZXJpbmcsIHRvIHVwZGF0ZSBjb250cm9scyBhcmVhLlxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgY2VudGVySDogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMuY2VudGVyT2JqZWN0SCh0aGlzKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDZW50ZXJzIG9iamVjdCBob3Jpem9udGFsbHkgb24gY3VycmVudCB2aWV3cG9ydCBvZiBjYW52YXMgdG8gd2hpY2ggaXQgd2FzIGFkZGVkIGxhc3QuXG4gICAgICogWW91IG1pZ2h0IG5lZWQgdG8gY2FsbCBgc2V0Q29vcmRzYCBvbiBhbiBvYmplY3QgYWZ0ZXIgY2VudGVyaW5nLCB0byB1cGRhdGUgY29udHJvbHMgYXJlYS5cbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHZpZXdwb3J0Q2VudGVySDogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMudmlld3BvcnRDZW50ZXJPYmplY3RIKHRoaXMpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENlbnRlcnMgb2JqZWN0IHZlcnRpY2FsbHkgb24gY2FudmFzIHRvIHdoaWNoIGl0IHdhcyBhZGRlZCBsYXN0LlxuICAgICAqIFlvdSBtaWdodCBuZWVkIHRvIGNhbGwgYHNldENvb3Jkc2Agb24gYW4gb2JqZWN0IGFmdGVyIGNlbnRlcmluZywgdG8gdXBkYXRlIGNvbnRyb2xzIGFyZWEuXG4gICAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBjZW50ZXJWOiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy5jZW50ZXJPYmplY3RWKHRoaXMpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENlbnRlcnMgb2JqZWN0IHZlcnRpY2FsbHkgb24gY3VycmVudCB2aWV3cG9ydCBvZiBjYW52YXMgdG8gd2hpY2ggaXQgd2FzIGFkZGVkIGxhc3QuXG4gICAgICogWW91IG1pZ2h0IG5lZWQgdG8gY2FsbCBgc2V0Q29vcmRzYCBvbiBhbiBvYmplY3QgYWZ0ZXIgY2VudGVyaW5nLCB0byB1cGRhdGUgY29udHJvbHMgYXJlYS5cbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHZpZXdwb3J0Q2VudGVyVjogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMudmlld3BvcnRDZW50ZXJPYmplY3RWKHRoaXMpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENlbnRlcnMgb2JqZWN0IHZlcnRpY2FsbHkgYW5kIGhvcml6b250YWxseSBvbiBjYW52YXMgdG8gd2hpY2ggaXMgd2FzIGFkZGVkIGxhc3RcbiAgICAgKiBZb3UgbWlnaHQgbmVlZCB0byBjYWxsIGBzZXRDb29yZHNgIG9uIGFuIG9iamVjdCBhZnRlciBjZW50ZXJpbmcsIHRvIHVwZGF0ZSBjb250cm9scyBhcmVhLlxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgY2VudGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy5jZW50ZXJPYmplY3QodGhpcyk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2VudGVycyBvYmplY3Qgb24gY3VycmVudCB2aWV3cG9ydCBvZiBjYW52YXMgdG8gd2hpY2ggaXQgd2FzIGFkZGVkIGxhc3QuXG4gICAgICogWW91IG1pZ2h0IG5lZWQgdG8gY2FsbCBgc2V0Q29vcmRzYCBvbiBhbiBvYmplY3QgYWZ0ZXIgY2VudGVyaW5nLCB0byB1cGRhdGUgY29udHJvbHMgYXJlYS5cbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHZpZXdwb3J0Q2VudGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy52aWV3cG9ydENlbnRlck9iamVjdCh0aGlzKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGNvb3JkaW5hdGVzIG9mIGEgcG9pbnRlciByZWxhdGl2ZSB0byBhbiBvYmplY3RcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IHRvIG9wZXJhdGUgdXBvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbcG9pbnRlcl0gUG9pbnRlciB0byBvcGVyYXRlIHVwb24gKGluc3RlYWQgb2YgZXZlbnQpXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBDb29yZGluYXRlcyBvZiBhIHBvaW50ZXIgKHgsIHkpXG4gICAgICovXG4gICAgZ2V0TG9jYWxQb2ludGVyOiBmdW5jdGlvbihlLCBwb2ludGVyKSB7XG4gICAgICBwb2ludGVyID0gcG9pbnRlciB8fCB0aGlzLmNhbnZhcy5nZXRQb2ludGVyKGUpO1xuICAgICAgdmFyIHBDbGlja2VkID0gbmV3IGZhYnJpYy5Qb2ludChwb2ludGVyLngsIHBvaW50ZXIueSksXG4gICAgICAgICAgb2JqZWN0TGVmdFRvcCA9IHRoaXMuX2dldExlZnRUb3BDb29yZHMoKTtcbiAgICAgIGlmICh0aGlzLmFuZ2xlKSB7XG4gICAgICAgIHBDbGlja2VkID0gZmFicmljLnV0aWwucm90YXRlUG9pbnQoXG4gICAgICAgICAgcENsaWNrZWQsIG9iamVjdExlZnRUb3AsIGRlZ3JlZXNUb1JhZGlhbnMoLXRoaXMuYW5nbGUpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHg6IHBDbGlja2VkLnggLSBvYmplY3RMZWZ0VG9wLngsXG4gICAgICAgIHk6IHBDbGlja2VkLnkgLSBvYmplY3RMZWZ0VG9wLnlcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgY2FudmFzIGdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiBmb3Igc3BlY2lmaWMgb2JqZWN0XG4gICAgICogY3VzdG9tIGNvbXBvc2l0aW9uIG9wZXJhdGlvbiBmb3IgdGhlIHBhcnRpY3VsYXIgb2JqZWN0IGNhbiBiZSBzcGVjaWZpZWQgdXNpbmcgZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uIHByb3BlcnR5XG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBSZW5kZXJpbmcgY2FudmFzIGNvbnRleHRcbiAgICAgKi9cbiAgICBfc2V0dXBDb21wb3NpdGVPcGVyYXRpb246IGZ1bmN0aW9uIChjdHgpIHtcbiAgICAgIGlmICh0aGlzLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbikge1xuICAgICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gdGhpcy5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb247XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGNhbmNlbCBpbnN0YW5jZSdzIHJ1bm5pbmcgYW5pbWF0aW9uc1xuICAgICAqIG92ZXJyaWRlIGlmIG5lY2Vzc2FyeSB0byBkaXNwb3NlIGFydGlmYWN0cyBzdWNoIGFzIGBjbGlwUGF0aGBcbiAgICAgKi9cbiAgICBkaXNwb3NlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoZmFicmljLnJ1bm5pbmdBbmltYXRpb25zKSB7XG4gICAgICAgIGZhYnJpYy5ydW5uaW5nQW5pbWF0aW9ucy5jYW5jZWxCeVRhcmdldCh0aGlzKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGZhYnJpYy51dGlsLmNyZWF0ZUFjY2Vzc29ycyAmJiBmYWJyaWMudXRpbC5jcmVhdGVBY2Nlc3NvcnMoZmFicmljLk9iamVjdCk7XG5cbiAgZXh0ZW5kKGZhYnJpYy5PYmplY3QucHJvdG90eXBlLCBmYWJyaWMuT2JzZXJ2YWJsZSk7XG5cbiAgLyoqXG4gICAqIERlZmluZXMgdGhlIG51bWJlciBvZiBmcmFjdGlvbiBkaWdpdHMgdG8gdXNlIHdoZW4gc2VyaWFsaXppbmcgb2JqZWN0IHZhbHVlcy5cbiAgICogWW91IGNhbiB1c2UgaXQgdG8gaW5jcmVhc2UvZGVjcmVhc2UgcHJlY2lzaW9uIG9mIHN1Y2ggdmFsdWVzIGxpa2UgbGVmdCwgdG9wLCBzY2FsZVgsIHNjYWxlWSwgZXRjLlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuT2JqZWN0XG4gICAqIEBjb25zdGFudFxuICAgKiBAdHlwZSBOdW1iZXJcbiAgICovXG4gIGZhYnJpYy5PYmplY3QuTlVNX0ZSQUNUSU9OX0RJR0lUUyA9IDI7XG5cbiAgLyoqXG4gICAqIERlZmluZXMgd2hpY2ggcHJvcGVydGllcyBzaG91bGQgYmUgZW5saXZlbmVkIGZyb20gdGhlIG9iamVjdCBwYXNzZWQgdG8ge0BsaW5rIGZhYnJpYy5PYmplY3QuX2Zyb21PYmplY3R9XG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5PYmplY3RcbiAgICogQGNvbnN0YW50XG4gICAqIEB0eXBlIHN0cmluZ1tdXG4gICAqL1xuICBmYWJyaWMuT2JqZWN0LkVOTElWRU5fUFJPUFMgPSBbJ2NsaXBQYXRoJ107XG5cbiAgZmFicmljLk9iamVjdC5fZnJvbU9iamVjdCA9IGZ1bmN0aW9uKGNsYXNzTmFtZSwgb2JqZWN0LCBjYWxsYmFjaywgZXh0cmFQYXJhbSkge1xuICAgIHZhciBrbGFzcyA9IGZhYnJpY1tjbGFzc05hbWVdO1xuICAgIG9iamVjdCA9IGNsb25lKG9iamVjdCwgdHJ1ZSk7XG4gICAgZmFicmljLnV0aWwuZW5saXZlblBhdHRlcm5zKFtvYmplY3QuZmlsbCwgb2JqZWN0LnN0cm9rZV0sIGZ1bmN0aW9uKHBhdHRlcm5zKSB7XG4gICAgICBpZiAodHlwZW9mIHBhdHRlcm5zWzBdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBvYmplY3QuZmlsbCA9IHBhdHRlcm5zWzBdO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBwYXR0ZXJuc1sxXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgb2JqZWN0LnN0cm9rZSA9IHBhdHRlcm5zWzFdO1xuICAgICAgfVxuICAgICAgZmFicmljLnV0aWwuZW5saXZlbk9iamVjdEVubGl2YWJsZXMob2JqZWN0LCBvYmplY3QsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGluc3RhbmNlID0gZXh0cmFQYXJhbSA/IG5ldyBrbGFzcyhvYmplY3RbZXh0cmFQYXJhbV0sIG9iamVjdCkgOiBuZXcga2xhc3Mob2JqZWN0KTtcbiAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soaW5zdGFuY2UpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVuaXF1ZSBpZCB1c2VkIGludGVybmFsbHkgd2hlbiBjcmVhdGluZyBTVkcgZWxlbWVudHNcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLk9iamVjdFxuICAgKiBAdHlwZSBOdW1iZXJcbiAgICovXG4gIGZhYnJpYy5PYmplY3QuX191aWQgPSAwO1xufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbigpIHtcblxuICB2YXIgZGVncmVlc1RvUmFkaWFucyA9IGZhYnJpYy51dGlsLmRlZ3JlZXNUb1JhZGlhbnMsXG4gICAgICBvcmlnaW5YT2Zmc2V0ID0ge1xuICAgICAgICBsZWZ0OiAtMC41LFxuICAgICAgICBjZW50ZXI6IDAsXG4gICAgICAgIHJpZ2h0OiAwLjVcbiAgICAgIH0sXG4gICAgICBvcmlnaW5ZT2Zmc2V0ID0ge1xuICAgICAgICB0b3A6IC0wLjUsXG4gICAgICAgIGNlbnRlcjogMCxcbiAgICAgICAgYm90dG9tOiAwLjVcbiAgICAgIH07XG5cbiAgZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZChmYWJyaWMuT2JqZWN0LnByb3RvdHlwZSwgLyoqIEBsZW5kcyBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2xhdGVzIHRoZSBjb29yZGluYXRlcyBmcm9tIGEgc2V0IG9mIG9yaWdpbiB0byBhbm90aGVyIChiYXNlZCBvbiB0aGUgb2JqZWN0J3MgZGltZW5zaW9ucylcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gcG9pbnQgVGhlIHBvaW50IHdoaWNoIGNvcnJlc3BvbmRzIHRvIHRoZSBvcmlnaW5YIGFuZCBvcmlnaW5ZIHBhcmFtc1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBmcm9tT3JpZ2luWCBIb3Jpem9udGFsIG9yaWdpbjogJ2xlZnQnLCAnY2VudGVyJyBvciAncmlnaHQnXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGZyb21PcmlnaW5ZIFZlcnRpY2FsIG9yaWdpbjogJ3RvcCcsICdjZW50ZXInIG9yICdib3R0b20nXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHRvT3JpZ2luWCBIb3Jpem9udGFsIG9yaWdpbjogJ2xlZnQnLCAnY2VudGVyJyBvciAncmlnaHQnXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHRvT3JpZ2luWSBWZXJ0aWNhbCBvcmlnaW46ICd0b3AnLCAnY2VudGVyJyBvciAnYm90dG9tJ1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH1cbiAgICAgKi9cbiAgICB0cmFuc2xhdGVUb0dpdmVuT3JpZ2luOiBmdW5jdGlvbihwb2ludCwgZnJvbU9yaWdpblgsIGZyb21PcmlnaW5ZLCB0b09yaWdpblgsIHRvT3JpZ2luWSkge1xuICAgICAgdmFyIHggPSBwb2ludC54LFxuICAgICAgICAgIHkgPSBwb2ludC55LFxuICAgICAgICAgIG9mZnNldFgsIG9mZnNldFksIGRpbTtcblxuICAgICAgaWYgKHR5cGVvZiBmcm9tT3JpZ2luWCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgZnJvbU9yaWdpblggPSBvcmlnaW5YT2Zmc2V0W2Zyb21PcmlnaW5YXTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBmcm9tT3JpZ2luWCAtPSAwLjU7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgdG9PcmlnaW5YID09PSAnc3RyaW5nJykge1xuICAgICAgICB0b09yaWdpblggPSBvcmlnaW5YT2Zmc2V0W3RvT3JpZ2luWF07XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdG9PcmlnaW5YIC09IDAuNTtcbiAgICAgIH1cblxuICAgICAgb2Zmc2V0WCA9IHRvT3JpZ2luWCAtIGZyb21PcmlnaW5YO1xuXG4gICAgICBpZiAodHlwZW9mIGZyb21PcmlnaW5ZID09PSAnc3RyaW5nJykge1xuICAgICAgICBmcm9tT3JpZ2luWSA9IG9yaWdpbllPZmZzZXRbZnJvbU9yaWdpblldO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGZyb21PcmlnaW5ZIC09IDAuNTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiB0b09yaWdpblkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRvT3JpZ2luWSA9IG9yaWdpbllPZmZzZXRbdG9PcmlnaW5ZXTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0b09yaWdpblkgLT0gMC41O1xuICAgICAgfVxuXG4gICAgICBvZmZzZXRZID0gdG9PcmlnaW5ZIC0gZnJvbU9yaWdpblk7XG5cbiAgICAgIGlmIChvZmZzZXRYIHx8IG9mZnNldFkpIHtcbiAgICAgICAgZGltID0gdGhpcy5fZ2V0VHJhbnNmb3JtZWREaW1lbnNpb25zKCk7XG4gICAgICAgIHggPSBwb2ludC54ICsgb2Zmc2V0WCAqIGRpbS54O1xuICAgICAgICB5ID0gcG9pbnQueSArIG9mZnNldFkgKiBkaW0ueTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBmYWJyaWMuUG9pbnQoeCwgeSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRyYW5zbGF0ZXMgdGhlIGNvb3JkaW5hdGVzIGZyb20gb3JpZ2luIHRvIGNlbnRlciBjb29yZGluYXRlcyAoYmFzZWQgb24gdGhlIG9iamVjdCdzIGRpbWVuc2lvbnMpXG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IHBvaW50IFRoZSBwb2ludCB3aGljaCBjb3JyZXNwb25kcyB0byB0aGUgb3JpZ2luWCBhbmQgb3JpZ2luWSBwYXJhbXNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gb3JpZ2luWCBIb3Jpem9udGFsIG9yaWdpbjogJ2xlZnQnLCAnY2VudGVyJyBvciAncmlnaHQnXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG9yaWdpblkgVmVydGljYWwgb3JpZ2luOiAndG9wJywgJ2NlbnRlcicgb3IgJ2JvdHRvbSdcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUG9pbnR9XG4gICAgICovXG4gICAgdHJhbnNsYXRlVG9DZW50ZXJQb2ludDogZnVuY3Rpb24ocG9pbnQsIG9yaWdpblgsIG9yaWdpblkpIHtcbiAgICAgIHZhciBwID0gdGhpcy50cmFuc2xhdGVUb0dpdmVuT3JpZ2luKHBvaW50LCBvcmlnaW5YLCBvcmlnaW5ZLCAnY2VudGVyJywgJ2NlbnRlcicpO1xuICAgICAgaWYgKHRoaXMuYW5nbGUpIHtcbiAgICAgICAgcmV0dXJuIGZhYnJpYy51dGlsLnJvdGF0ZVBvaW50KHAsIHBvaW50LCBkZWdyZWVzVG9SYWRpYW5zKHRoaXMuYW5nbGUpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2xhdGVzIHRoZSBjb29yZGluYXRlcyBmcm9tIGNlbnRlciB0byBvcmlnaW4gY29vcmRpbmF0ZXMgKGJhc2VkIG9uIHRoZSBvYmplY3QncyBkaW1lbnNpb25zKVxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSBjZW50ZXIgVGhlIHBvaW50IHdoaWNoIGNvcnJlc3BvbmRzIHRvIGNlbnRlciBvZiB0aGUgb2JqZWN0XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG9yaWdpblggSG9yaXpvbnRhbCBvcmlnaW46ICdsZWZ0JywgJ2NlbnRlcicgb3IgJ3JpZ2h0J1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvcmlnaW5ZIFZlcnRpY2FsIG9yaWdpbjogJ3RvcCcsICdjZW50ZXInIG9yICdib3R0b20nXG4gICAgICogQHJldHVybiB7ZmFicmljLlBvaW50fVxuICAgICAqL1xuICAgIHRyYW5zbGF0ZVRvT3JpZ2luUG9pbnQ6IGZ1bmN0aW9uKGNlbnRlciwgb3JpZ2luWCwgb3JpZ2luWSkge1xuICAgICAgdmFyIHAgPSB0aGlzLnRyYW5zbGF0ZVRvR2l2ZW5PcmlnaW4oY2VudGVyLCAnY2VudGVyJywgJ2NlbnRlcicsIG9yaWdpblgsIG9yaWdpblkpO1xuICAgICAgaWYgKHRoaXMuYW5nbGUpIHtcbiAgICAgICAgcmV0dXJuIGZhYnJpYy51dGlsLnJvdGF0ZVBvaW50KHAsIGNlbnRlciwgZGVncmVlc1RvUmFkaWFucyh0aGlzLmFuZ2xlKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcmVhbCBjZW50ZXIgY29vcmRpbmF0ZXMgb2YgdGhlIG9iamVjdFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH1cbiAgICAgKi9cbiAgICBnZXRDZW50ZXJQb2ludDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbGVmdFRvcCA9IG5ldyBmYWJyaWMuUG9pbnQodGhpcy5sZWZ0LCB0aGlzLnRvcCk7XG4gICAgICByZXR1cm4gdGhpcy50cmFuc2xhdGVUb0NlbnRlclBvaW50KGxlZnRUb3AsIHRoaXMub3JpZ2luWCwgdGhpcy5vcmlnaW5ZKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIG9iamVjdCBiYXNlZCBvbiBjZW50ZXIgY29vcmRpbmF0ZXNcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gcG9pbnQgVGhlIHBvaW50IHdoaWNoIGNvcnJlc3BvbmRzIHRvIHRoZSBvcmlnaW5YIGFuZCBvcmlnaW5ZIHBhcmFtc1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH1cbiAgICAgKi9cbiAgICAvLyBnZXRPcmlnaW5Qb2ludDogZnVuY3Rpb24oY2VudGVyKSB7XG4gICAgLy8gICByZXR1cm4gdGhpcy50cmFuc2xhdGVUb09yaWdpblBvaW50KGNlbnRlciwgdGhpcy5vcmlnaW5YLCB0aGlzLm9yaWdpblkpO1xuICAgIC8vIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjb29yZGluYXRlcyBvZiB0aGUgb2JqZWN0IGFzIGlmIGl0IGhhcyBhIGRpZmZlcmVudCBvcmlnaW5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gb3JpZ2luWCBIb3Jpem9udGFsIG9yaWdpbjogJ2xlZnQnLCAnY2VudGVyJyBvciAncmlnaHQnXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG9yaWdpblkgVmVydGljYWwgb3JpZ2luOiAndG9wJywgJ2NlbnRlcicgb3IgJ2JvdHRvbSdcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUG9pbnR9XG4gICAgICovXG4gICAgZ2V0UG9pbnRCeU9yaWdpbjogZnVuY3Rpb24ob3JpZ2luWCwgb3JpZ2luWSkge1xuICAgICAgdmFyIGNlbnRlciA9IHRoaXMuZ2V0Q2VudGVyUG9pbnQoKTtcbiAgICAgIHJldHVybiB0aGlzLnRyYW5zbGF0ZVRvT3JpZ2luUG9pbnQoY2VudGVyLCBvcmlnaW5YLCBvcmlnaW5ZKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcG9pbnQgaW4gbG9jYWwgY29vcmRpbmF0ZXNcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gcG9pbnQgVGhlIHBvaW50IHJlbGF0aXZlIHRvIHRoZSBnbG9iYWwgY29vcmRpbmF0ZSBzeXN0ZW1cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gb3JpZ2luWCBIb3Jpem9udGFsIG9yaWdpbjogJ2xlZnQnLCAnY2VudGVyJyBvciAncmlnaHQnXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG9yaWdpblkgVmVydGljYWwgb3JpZ2luOiAndG9wJywgJ2NlbnRlcicgb3IgJ2JvdHRvbSdcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUG9pbnR9XG4gICAgICovXG4gICAgdG9Mb2NhbFBvaW50OiBmdW5jdGlvbihwb2ludCwgb3JpZ2luWCwgb3JpZ2luWSkge1xuICAgICAgdmFyIGNlbnRlciA9IHRoaXMuZ2V0Q2VudGVyUG9pbnQoKSxcbiAgICAgICAgICBwLCBwMjtcblxuICAgICAgaWYgKHR5cGVvZiBvcmlnaW5YICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygb3JpZ2luWSAhPT0gJ3VuZGVmaW5lZCcgKSB7XG4gICAgICAgIHAgPSB0aGlzLnRyYW5zbGF0ZVRvR2l2ZW5PcmlnaW4oY2VudGVyLCAnY2VudGVyJywgJ2NlbnRlcicsIG9yaWdpblgsIG9yaWdpblkpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHAgPSBuZXcgZmFicmljLlBvaW50KHRoaXMubGVmdCwgdGhpcy50b3ApO1xuICAgICAgfVxuXG4gICAgICBwMiA9IG5ldyBmYWJyaWMuUG9pbnQocG9pbnQueCwgcG9pbnQueSk7XG4gICAgICBpZiAodGhpcy5hbmdsZSkge1xuICAgICAgICBwMiA9IGZhYnJpYy51dGlsLnJvdGF0ZVBvaW50KHAyLCBjZW50ZXIsIC1kZWdyZWVzVG9SYWRpYW5zKHRoaXMuYW5nbGUpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwMi5zdWJ0cmFjdEVxdWFscyhwKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcG9pbnQgaW4gZ2xvYmFsIGNvb3JkaW5hdGVzXG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IFRoZSBwb2ludCByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZSBzeXN0ZW1cbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUG9pbnR9XG4gICAgICovXG4gICAgLy8gdG9HbG9iYWxQb2ludDogZnVuY3Rpb24ocG9pbnQpIHtcbiAgICAvLyAgIHJldHVybiBmYWJyaWMudXRpbC5yb3RhdGVQb2ludChwb2ludCwgdGhpcy5nZXRDZW50ZXJQb2ludCgpLCBkZWdyZWVzVG9SYWRpYW5zKHRoaXMuYW5nbGUpKS5hZGRFcXVhbHMobmV3IGZhYnJpYy5Qb2ludCh0aGlzLmxlZnQsIHRoaXMudG9wKSk7XG4gICAgLy8gfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHBvc2l0aW9uIG9mIHRoZSBvYmplY3QgdGFraW5nIGludG8gY29uc2lkZXJhdGlvbiB0aGUgb2JqZWN0J3Mgb3JpZ2luXG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IHBvcyBUaGUgbmV3IHBvc2l0aW9uIG9mIHRoZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gb3JpZ2luWCBIb3Jpem9udGFsIG9yaWdpbjogJ2xlZnQnLCAnY2VudGVyJyBvciAncmlnaHQnXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG9yaWdpblkgVmVydGljYWwgb3JpZ2luOiAndG9wJywgJ2NlbnRlcicgb3IgJ2JvdHRvbSdcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIHNldFBvc2l0aW9uQnlPcmlnaW46IGZ1bmN0aW9uKHBvcywgb3JpZ2luWCwgb3JpZ2luWSkge1xuICAgICAgdmFyIGNlbnRlciA9IHRoaXMudHJhbnNsYXRlVG9DZW50ZXJQb2ludChwb3MsIG9yaWdpblgsIG9yaWdpblkpLFxuICAgICAgICAgIHBvc2l0aW9uID0gdGhpcy50cmFuc2xhdGVUb09yaWdpblBvaW50KGNlbnRlciwgdGhpcy5vcmlnaW5YLCB0aGlzLm9yaWdpblkpO1xuICAgICAgdGhpcy5zZXQoJ2xlZnQnLCBwb3NpdGlvbi54KTtcbiAgICAgIHRoaXMuc2V0KCd0b3AnLCBwb3NpdGlvbi55KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHRvIE9uZSBvZiAnbGVmdCcsICdjZW50ZXInLCAncmlnaHQnXG4gICAgICovXG4gICAgYWRqdXN0UG9zaXRpb246IGZ1bmN0aW9uKHRvKSB7XG4gICAgICB2YXIgYW5nbGUgPSBkZWdyZWVzVG9SYWRpYW5zKHRoaXMuYW5nbGUpLFxuICAgICAgICAgIGh5cG90RnVsbCA9IHRoaXMuZ2V0U2NhbGVkV2lkdGgoKSxcbiAgICAgICAgICB4RnVsbCA9IGZhYnJpYy51dGlsLmNvcyhhbmdsZSkgKiBoeXBvdEZ1bGwsXG4gICAgICAgICAgeUZ1bGwgPSBmYWJyaWMudXRpbC5zaW4oYW5nbGUpICogaHlwb3RGdWxsLFxuICAgICAgICAgIG9mZnNldEZyb20sIG9mZnNldFRvO1xuXG4gICAgICAvL1RPRE86IHRoaXMgZnVuY3Rpb24gZG9lcyBub3QgY29uc2lkZXIgbWl4ZWQgc2l0dWF0aW9uIGxpa2UgdG9wLCBjZW50ZXIuXG4gICAgICBpZiAodHlwZW9mIHRoaXMub3JpZ2luWCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgb2Zmc2V0RnJvbSA9IG9yaWdpblhPZmZzZXRbdGhpcy5vcmlnaW5YXTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBvZmZzZXRGcm9tID0gdGhpcy5vcmlnaW5YIC0gMC41O1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiB0byA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgb2Zmc2V0VG8gPSBvcmlnaW5YT2Zmc2V0W3RvXTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBvZmZzZXRUbyA9IHRvIC0gMC41O1xuICAgICAgfVxuICAgICAgdGhpcy5sZWZ0ICs9IHhGdWxsICogKG9mZnNldFRvIC0gb2Zmc2V0RnJvbSk7XG4gICAgICB0aGlzLnRvcCArPSB5RnVsbCAqIChvZmZzZXRUbyAtIG9mZnNldEZyb20pO1xuICAgICAgdGhpcy5zZXRDb29yZHMoKTtcbiAgICAgIHRoaXMub3JpZ2luWCA9IHRvO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBvcmlnaW4vcG9zaXRpb24gb2YgdGhlIG9iamVjdCB0byBpdCdzIGNlbnRlciBwb2ludFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBfc2V0T3JpZ2luVG9DZW50ZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5fb3JpZ2luYWxPcmlnaW5YID0gdGhpcy5vcmlnaW5YO1xuICAgICAgdGhpcy5fb3JpZ2luYWxPcmlnaW5ZID0gdGhpcy5vcmlnaW5ZO1xuXG4gICAgICB2YXIgY2VudGVyID0gdGhpcy5nZXRDZW50ZXJQb2ludCgpO1xuXG4gICAgICB0aGlzLm9yaWdpblggPSAnY2VudGVyJztcbiAgICAgIHRoaXMub3JpZ2luWSA9ICdjZW50ZXInO1xuXG4gICAgICB0aGlzLmxlZnQgPSBjZW50ZXIueDtcbiAgICAgIHRoaXMudG9wID0gY2VudGVyLnk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgb3JpZ2luL3Bvc2l0aW9uIG9mIHRoZSBvYmplY3QgdG8gaXQncyBvcmlnaW5hbCBvcmlnaW5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgX3Jlc2V0T3JpZ2luOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBvcmlnaW5Qb2ludCA9IHRoaXMudHJhbnNsYXRlVG9PcmlnaW5Qb2ludChcbiAgICAgICAgdGhpcy5nZXRDZW50ZXJQb2ludCgpLFxuICAgICAgICB0aGlzLl9vcmlnaW5hbE9yaWdpblgsXG4gICAgICAgIHRoaXMuX29yaWdpbmFsT3JpZ2luWSk7XG5cbiAgICAgIHRoaXMub3JpZ2luWCA9IHRoaXMuX29yaWdpbmFsT3JpZ2luWDtcbiAgICAgIHRoaXMub3JpZ2luWSA9IHRoaXMuX29yaWdpbmFsT3JpZ2luWTtcblxuICAgICAgdGhpcy5sZWZ0ID0gb3JpZ2luUG9pbnQueDtcbiAgICAgIHRoaXMudG9wID0gb3JpZ2luUG9pbnQueTtcblxuICAgICAgdGhpcy5fb3JpZ2luYWxPcmlnaW5YID0gbnVsbDtcbiAgICAgIHRoaXMuX29yaWdpbmFsT3JpZ2luWSA9IG51bGw7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2dldExlZnRUb3BDb29yZHM6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudHJhbnNsYXRlVG9PcmlnaW5Qb2ludCh0aGlzLmdldENlbnRlclBvaW50KCksICdsZWZ0JywgJ3RvcCcpO1xuICAgIH0sXG4gIH0pO1xuXG59KSgpO1xuXG5cbihmdW5jdGlvbigpIHtcblxuICBmdW5jdGlvbiBhcnJheUZyb21Db29yZHMoY29vcmRzKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIG5ldyBmYWJyaWMuUG9pbnQoY29vcmRzLnRsLngsIGNvb3Jkcy50bC55KSxcbiAgICAgIG5ldyBmYWJyaWMuUG9pbnQoY29vcmRzLnRyLngsIGNvb3Jkcy50ci55KSxcbiAgICAgIG5ldyBmYWJyaWMuUG9pbnQoY29vcmRzLmJyLngsIGNvb3Jkcy5ici55KSxcbiAgICAgIG5ldyBmYWJyaWMuUG9pbnQoY29vcmRzLmJsLngsIGNvb3Jkcy5ibC55KVxuICAgIF07XG4gIH1cblxuICB2YXIgdXRpbCA9IGZhYnJpYy51dGlsLFxuICAgICAgZGVncmVlc1RvUmFkaWFucyA9IHV0aWwuZGVncmVlc1RvUmFkaWFucyxcbiAgICAgIG11bHRpcGx5TWF0cmljZXMgPSB1dGlsLm11bHRpcGx5VHJhbnNmb3JtTWF0cmljZXMsXG4gICAgICB0cmFuc2Zvcm1Qb2ludCA9IHV0aWwudHJhbnNmb3JtUG9pbnQ7XG5cbiAgdXRpbC5vYmplY3QuZXh0ZW5kKGZhYnJpYy5PYmplY3QucHJvdG90eXBlLCAvKiogQGxlbmRzIGZhYnJpYy5PYmplY3QucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIERlc2NyaWJlIG9iamVjdCdzIGNvcm5lciBwb3NpdGlvbiBpbiBjYW52YXMgZWxlbWVudCBjb29yZGluYXRlcy5cbiAgICAgKiBwcm9wZXJ0aWVzIGFyZSBkZXBlbmRpbmcgb24gY29udHJvbCBrZXlzIGFuZCBwYWRkaW5nIHRoZSBtYWluIGNvbnRyb2xzLlxuICAgICAqIGVhY2ggcHJvcGVydHkgaXMgYW4gb2JqZWN0IHdpdGggeCwgeSBhbmQgY29ybmVyLlxuICAgICAqIFRoZSBgY29ybmVyYCBwcm9wZXJ0eSBjb250YWlucyBpbiBhIHNpbWlsYXIgbWFubmVyIHRoZSA0IHBvaW50cyBvZiB0aGVcbiAgICAgKiBpbnRlcmFjdGl2ZSBhcmVhIG9mIHRoZSBjb3JuZXIuXG4gICAgICogVGhlIGNvb3JkaW5hdGVzIGRlcGVuZHMgZnJvbSB0aGUgY29udHJvbHMgcG9zaXRpb25IYW5kbGVyIGFuZCBhcmUgdXNlZFxuICAgICAqIHRvIGRyYXcgYW5kIGxvY2F0ZSBjb250cm9sc1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZVxuICAgICAqL1xuICAgIG9Db29yZHM6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBEZXNjcmliZSBvYmplY3QncyBjb3JuZXIgcG9zaXRpb24gaW4gY2FudmFzIG9iamVjdCBhYnNvbHV0ZSBjb29yZGluYXRlc1xuICAgICAqIHByb3BlcnRpZXMgYXJlIHRsLHRyLGJsLGJyIGFuZCBkZXNjcmliZSB0aGUgZm91ciBtYWluIGNvcm5lci5cbiAgICAgKiBlYWNoIHByb3BlcnR5IGlzIGFuIG9iamVjdCB3aXRoIHgsIHksIGluc3RhbmNlIG9mIEZhYnJpYy5Qb2ludC5cbiAgICAgKiBUaGUgY29vcmRpbmF0ZXMgZGVwZW5kcyBmcm9tIHRoaXMgcHJvcGVydGllczogd2lkdGgsIGhlaWdodCwgc2NhbGVYLCBzY2FsZVlcbiAgICAgKiBza2V3WCwgc2tld1ksIGFuZ2xlLCBzdHJva2VXaWR0aCwgdG9wLCBsZWZ0LlxuICAgICAqIFRob3NlIGNvb3JkaW5hdGVzIGFyZSB1c2VmdWwgdG8gdW5kZXJzdGFuZCB3aGVyZSBhbiBvYmplY3QgaXMuIFRoZXkgZ2V0IHVwZGF0ZWRcbiAgICAgKiB3aXRoIG9Db29yZHMgYnV0IHRoZXkgZG8gbm90IG5lZWQgdG8gYmUgdXBkYXRlZCB3aGVuIHpvb20gb3IgcGFubmluZyBjaGFuZ2UuXG4gICAgICogVGhlIGNvb3JkaW5hdGVzIGdldCB1cGRhdGVkIHdpdGggQG1ldGhvZCBzZXRDb29yZHMuXG4gICAgICogWW91IGNhbiBjYWxjdWxhdGUgdGhlbSB3aXRob3V0IHVwZGF0aW5nIHdpdGggQG1ldGhvZCBjYWxjQUNvb3JkcygpO1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZVxuICAgICAqL1xuICAgIGFDb29yZHM6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBEZXNjcmliZSBvYmplY3QncyBjb3JuZXIgcG9zaXRpb24gaW4gY2FudmFzIGVsZW1lbnQgY29vcmRpbmF0ZXMuXG4gICAgICogaW5jbHVkZXMgcGFkZGluZy4gVXNlZCBvZiBvYmplY3QgZGV0ZWN0aW9uLlxuICAgICAqIHNldCBhbmQgcmVmcmVzaGVkIHdpdGggc2V0Q29vcmRzLlxuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZVxuICAgICAqL1xuICAgIGxpbmVDb29yZHM6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBzdG9yYWdlIGZvciBvYmplY3QgdHJhbnNmb3JtIG1hdHJpeFxuICAgICAqL1xuICAgIG93bk1hdHJpeENhY2hlOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogc3RvcmFnZSBmb3Igb2JqZWN0IGZ1bGwgdHJhbnNmb3JtIG1hdHJpeFxuICAgICAqL1xuICAgIG1hdHJpeENhY2hlOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogY3VzdG9tIGNvbnRyb2xzIGludGVyZmFjZVxuICAgICAqIGNvbnRyb2xzIGFyZSBhZGRlZCBieSBkZWZhdWx0X2NvbnRyb2xzLmpzXG4gICAgICovXG4gICAgY29udHJvbHM6IHsgfSxcblxuICAgIC8qKlxuICAgICAqIHJldHVybiBjb3JyZWN0IHNldCBvZiBjb29yZGluYXRlcyBmb3IgaW50ZXJzZWN0aW9uXG4gICAgICogdGhpcyB3aWxsIHJldHVybiBlaXRoZXIgYUNvb3JkcyBvciBsaW5lQ29vcmRzLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gYWJzb2x1dGUgd2lsbCByZXR1cm4gYUNvb3JkcyBpZiB0cnVlIG9yIGxpbmVDb29yZHNcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IHt0bCwgdHIsIGJyLCBibH0gcG9pbnRzXG4gICAgICovXG4gICAgX2dldENvb3JkczogZnVuY3Rpb24oYWJzb2x1dGUsIGNhbGN1bGF0ZSkge1xuICAgICAgaWYgKGNhbGN1bGF0ZSkge1xuICAgICAgICByZXR1cm4gKGFic29sdXRlID8gdGhpcy5jYWxjQUNvb3JkcygpIDogdGhpcy5jYWxjTGluZUNvb3JkcygpKTtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5hQ29vcmRzIHx8ICF0aGlzLmxpbmVDb29yZHMpIHtcbiAgICAgICAgdGhpcy5zZXRDb29yZHModHJ1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gKGFic29sdXRlID8gdGhpcy5hQ29vcmRzIDogdGhpcy5saW5lQ29vcmRzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmV0dXJuIGNvcnJlY3Qgc2V0IG9mIGNvb3JkaW5hdGVzIGZvciBpbnRlcnNlY3Rpb25cbiAgICAgKiB0aGlzIHdpbGwgcmV0dXJuIGVpdGhlciBhQ29vcmRzIG9yIGxpbmVDb29yZHMuXG4gICAgICogVGhlIGNvb3JkcyBhcmUgcmV0dXJuZWQgaW4gYW4gYXJyYXkuXG4gICAgICogQHJldHVybiB7QXJyYXl9IFt0bCwgdHIsIGJyLCBibF0gb2YgcG9pbnRzXG4gICAgICovXG4gICAgZ2V0Q29vcmRzOiBmdW5jdGlvbihhYnNvbHV0ZSwgY2FsY3VsYXRlKSB7XG4gICAgICByZXR1cm4gYXJyYXlGcm9tQ29vcmRzKHRoaXMuX2dldENvb3JkcyhhYnNvbHV0ZSwgY2FsY3VsYXRlKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBvYmplY3QgaW50ZXJzZWN0cyB3aXRoIGFuIGFyZWEgZm9ybWVkIGJ5IDIgcG9pbnRzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50VEwgdG9wLWxlZnQgcG9pbnQgb2YgYXJlYVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludEJSIGJvdHRvbS1yaWdodCBwb2ludCBvZiBhcmVhXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbYWJzb2x1dGVdIHVzZSBjb29yZGluYXRlcyB3aXRob3V0IHZpZXdwb3J0VHJhbnNmb3JtXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY2FsY3VsYXRlXSB1c2UgY29vcmRpbmF0ZXMgb2YgY3VycmVudCBwb3NpdGlvbiBpbnN0ZWFkIG9mIC5vQ29vcmRzXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBvYmplY3QgaW50ZXJzZWN0cyB3aXRoIGFuIGFyZWEgZm9ybWVkIGJ5IDIgcG9pbnRzXG4gICAgICovXG4gICAgaW50ZXJzZWN0c1dpdGhSZWN0OiBmdW5jdGlvbihwb2ludFRMLCBwb2ludEJSLCBhYnNvbHV0ZSwgY2FsY3VsYXRlKSB7XG4gICAgICB2YXIgY29vcmRzID0gdGhpcy5nZXRDb29yZHMoYWJzb2x1dGUsIGNhbGN1bGF0ZSksXG4gICAgICAgICAgaW50ZXJzZWN0aW9uID0gZmFicmljLkludGVyc2VjdGlvbi5pbnRlcnNlY3RQb2x5Z29uUmVjdGFuZ2xlKFxuICAgICAgICAgICAgY29vcmRzLFxuICAgICAgICAgICAgcG9pbnRUTCxcbiAgICAgICAgICAgIHBvaW50QlJcbiAgICAgICAgICApO1xuICAgICAgcmV0dXJuIGludGVyc2VjdGlvbi5zdGF0dXMgPT09ICdJbnRlcnNlY3Rpb24nO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgb2JqZWN0IGludGVyc2VjdHMgd2l0aCBhbm90aGVyIG9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBPYmplY3QgdG8gdGVzdFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2Fic29sdXRlXSB1c2UgY29vcmRpbmF0ZXMgd2l0aG91dCB2aWV3cG9ydFRyYW5zZm9ybVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NhbGN1bGF0ZV0gdXNlIGNvb3JkaW5hdGVzIG9mIGN1cnJlbnQgcG9zaXRpb24gaW5zdGVhZCBvZiAub0Nvb3Jkc1xuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgb2JqZWN0IGludGVyc2VjdHMgd2l0aCBhbm90aGVyIG9iamVjdFxuICAgICAqL1xuICAgIGludGVyc2VjdHNXaXRoT2JqZWN0OiBmdW5jdGlvbihvdGhlciwgYWJzb2x1dGUsIGNhbGN1bGF0ZSkge1xuICAgICAgdmFyIGludGVyc2VjdGlvbiA9IGZhYnJpYy5JbnRlcnNlY3Rpb24uaW50ZXJzZWN0UG9seWdvblBvbHlnb24oXG4gICAgICAgIHRoaXMuZ2V0Q29vcmRzKGFic29sdXRlLCBjYWxjdWxhdGUpLFxuICAgICAgICBvdGhlci5nZXRDb29yZHMoYWJzb2x1dGUsIGNhbGN1bGF0ZSlcbiAgICAgICk7XG5cbiAgICAgIHJldHVybiBpbnRlcnNlY3Rpb24uc3RhdHVzID09PSAnSW50ZXJzZWN0aW9uJ1xuICAgICAgICB8fCBvdGhlci5pc0NvbnRhaW5lZFdpdGhpbk9iamVjdCh0aGlzLCBhYnNvbHV0ZSwgY2FsY3VsYXRlKVxuICAgICAgICB8fCB0aGlzLmlzQ29udGFpbmVkV2l0aGluT2JqZWN0KG90aGVyLCBhYnNvbHV0ZSwgY2FsY3VsYXRlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIG9iamVjdCBpcyBmdWxseSBjb250YWluZWQgd2l0aGluIGFyZWEgb2YgYW5vdGhlciBvYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgT2JqZWN0IHRvIHRlc3RcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFthYnNvbHV0ZV0gdXNlIGNvb3JkaW5hdGVzIHdpdGhvdXQgdmlld3BvcnRUcmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjYWxjdWxhdGVdIHVzZSBjb29yZGluYXRlcyBvZiBjdXJyZW50IHBvc2l0aW9uIGluc3RlYWQgb2YgLm9Db29yZHNcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIG9iamVjdCBpcyBmdWxseSBjb250YWluZWQgd2l0aGluIGFyZWEgb2YgYW5vdGhlciBvYmplY3RcbiAgICAgKi9cbiAgICBpc0NvbnRhaW5lZFdpdGhpbk9iamVjdDogZnVuY3Rpb24ob3RoZXIsIGFic29sdXRlLCBjYWxjdWxhdGUpIHtcbiAgICAgIHZhciBwb2ludHMgPSB0aGlzLmdldENvb3JkcyhhYnNvbHV0ZSwgY2FsY3VsYXRlKSxcbiAgICAgICAgICBvdGhlckNvb3JkcyA9IGFic29sdXRlID8gb3RoZXIuYUNvb3JkcyA6IG90aGVyLmxpbmVDb29yZHMsXG4gICAgICAgICAgaSA9IDAsIGxpbmVzID0gb3RoZXIuX2dldEltYWdlTGluZXMob3RoZXJDb29yZHMpO1xuICAgICAgZm9yICg7IGkgPCA0OyBpKyspIHtcbiAgICAgICAgaWYgKCFvdGhlci5jb250YWluc1BvaW50KHBvaW50c1tpXSwgbGluZXMpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIG9iamVjdCBpcyBmdWxseSBjb250YWluZWQgd2l0aGluIGFyZWEgZm9ybWVkIGJ5IDIgcG9pbnRzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50VEwgdG9wLWxlZnQgcG9pbnQgb2YgYXJlYVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludEJSIGJvdHRvbS1yaWdodCBwb2ludCBvZiBhcmVhXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbYWJzb2x1dGVdIHVzZSBjb29yZGluYXRlcyB3aXRob3V0IHZpZXdwb3J0VHJhbnNmb3JtXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY2FsY3VsYXRlXSB1c2UgY29vcmRpbmF0ZXMgb2YgY3VycmVudCBwb3NpdGlvbiBpbnN0ZWFkIG9mIC5vQ29vcmRzXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBvYmplY3QgaXMgZnVsbHkgY29udGFpbmVkIHdpdGhpbiBhcmVhIGZvcm1lZCBieSAyIHBvaW50c1xuICAgICAqL1xuICAgIGlzQ29udGFpbmVkV2l0aGluUmVjdDogZnVuY3Rpb24ocG9pbnRUTCwgcG9pbnRCUiwgYWJzb2x1dGUsIGNhbGN1bGF0ZSkge1xuICAgICAgdmFyIGJvdW5kaW5nUmVjdCA9IHRoaXMuZ2V0Qm91bmRpbmdSZWN0KGFic29sdXRlLCBjYWxjdWxhdGUpO1xuXG4gICAgICByZXR1cm4gKFxuICAgICAgICBib3VuZGluZ1JlY3QubGVmdCA+PSBwb2ludFRMLnggJiZcbiAgICAgICAgYm91bmRpbmdSZWN0LmxlZnQgKyBib3VuZGluZ1JlY3Qud2lkdGggPD0gcG9pbnRCUi54ICYmXG4gICAgICAgIGJvdW5kaW5nUmVjdC50b3AgPj0gcG9pbnRUTC55ICYmXG4gICAgICAgIGJvdW5kaW5nUmVjdC50b3AgKyBib3VuZGluZ1JlY3QuaGVpZ2h0IDw9IHBvaW50QlIueVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHBvaW50IGlzIGluc2lkZSB0aGUgb2JqZWN0XG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IHBvaW50IFBvaW50IHRvIGNoZWNrIGFnYWluc3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2xpbmVzXSBvYmplY3QgcmV0dXJuZWQgZnJvbSBAbWV0aG9kIF9nZXRJbWFnZUxpbmVzXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbYWJzb2x1dGVdIHVzZSBjb29yZGluYXRlcyB3aXRob3V0IHZpZXdwb3J0VHJhbnNmb3JtXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY2FsY3VsYXRlXSB1c2UgY29vcmRpbmF0ZXMgb2YgY3VycmVudCBwb3NpdGlvbiBpbnN0ZWFkIG9mIC5vQ29vcmRzXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBwb2ludCBpcyBpbnNpZGUgdGhlIG9iamVjdFxuICAgICAqL1xuICAgIGNvbnRhaW5zUG9pbnQ6IGZ1bmN0aW9uKHBvaW50LCBsaW5lcywgYWJzb2x1dGUsIGNhbGN1bGF0ZSkge1xuICAgICAgdmFyIGNvb3JkcyA9IHRoaXMuX2dldENvb3JkcyhhYnNvbHV0ZSwgY2FsY3VsYXRlKSxcbiAgICAgICAgICBsaW5lcyA9IGxpbmVzIHx8IHRoaXMuX2dldEltYWdlTGluZXMoY29vcmRzKSxcbiAgICAgICAgICB4UG9pbnRzID0gdGhpcy5fZmluZENyb3NzUG9pbnRzKHBvaW50LCBsaW5lcyk7XG4gICAgICAvLyBpZiB4UG9pbnRzIGlzIG9kZCB0aGVuIHBvaW50IGlzIGluc2lkZSB0aGUgb2JqZWN0XG4gICAgICByZXR1cm4gKHhQb2ludHMgIT09IDAgJiYgeFBvaW50cyAlIDIgPT09IDEpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgb2JqZWN0IGlzIGNvbnRhaW5lZCB3aXRoaW4gdGhlIGNhbnZhcyB3aXRoIGN1cnJlbnQgdmlld3BvcnRUcmFuc2Zvcm1cbiAgICAgKiB0aGUgY2hlY2sgaXMgZG9uZSBzdG9wcGluZyBhdCBmaXJzdCBwb2ludCB0aGF0IGFwcGVhcnMgb24gc2NyZWVuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY2FsY3VsYXRlXSB1c2UgY29vcmRpbmF0ZXMgb2YgY3VycmVudCBwb3NpdGlvbiBpbnN0ZWFkIG9mIC5hQ29vcmRzXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBvYmplY3QgaXMgZnVsbHkgb3IgcGFydGlhbGx5IGNvbnRhaW5lZCB3aXRoaW4gY2FudmFzXG4gICAgICovXG4gICAgaXNPblNjcmVlbjogZnVuY3Rpb24oY2FsY3VsYXRlKSB7XG4gICAgICBpZiAoIXRoaXMuY2FudmFzKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBwb2ludFRMID0gdGhpcy5jYW52YXMudnB0Q29vcmRzLnRsLCBwb2ludEJSID0gdGhpcy5jYW52YXMudnB0Q29vcmRzLmJyO1xuICAgICAgdmFyIHBvaW50cyA9IHRoaXMuZ2V0Q29vcmRzKHRydWUsIGNhbGN1bGF0ZSk7XG4gICAgICAvLyBpZiBzb21lIHBvaW50IGlzIG9uIHNjcmVlbiwgdGhlIG9iamVjdCBpcyBvbiBzY3JlZW4uXG4gICAgICBpZiAocG9pbnRzLnNvbWUoZnVuY3Rpb24ocG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIHBvaW50LnggPD0gcG9pbnRCUi54ICYmIHBvaW50LnggPj0gcG9pbnRUTC54ICYmXG4gICAgICAgIHBvaW50LnkgPD0gcG9pbnRCUi55ICYmIHBvaW50LnkgPj0gcG9pbnRUTC55O1xuICAgICAgfSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICAvLyBubyBwb2ludHMgb24gc2NyZWVuLCBjaGVjayBpbnRlcnNlY3Rpb24gd2l0aCBhYnNvbHV0ZSBjb29yZGluYXRlc1xuICAgICAgaWYgKHRoaXMuaW50ZXJzZWN0c1dpdGhSZWN0KHBvaW50VEwsIHBvaW50QlIsIHRydWUsIGNhbGN1bGF0ZSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5fY29udGFpbnNDZW50ZXJPZkNhbnZhcyhwb2ludFRMLCBwb2ludEJSLCBjYWxjdWxhdGUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIG9iamVjdCBjb250YWlucyB0aGUgbWlkcG9pbnQgYmV0d2VlbiBjYW52YXMgZXh0cmVtaXRpZXNcbiAgICAgKiBEb2VzIG5vdCBtYWtlIHNlbnNlIG91dHNpZGUgdGhlIGNvbnRleHQgb2YgaXNPblNjcmVlbiBhbmQgaXNQYXJ0aWFsbHlPblNjcmVlblxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGYWJyaWMuUG9pbnR9IHBvaW50VEwgVG9wIExlZnQgcG9pbnRcbiAgICAgKiBAcGFyYW0ge0ZhYnJpYy5Qb2ludH0gcG9pbnRCUiBUb3AgUmlnaHQgcG9pbnRcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGNhbGN1bGF0ZSB1c2UgY29vcmRpbmF0ZXMgb2YgY3VycmVudCBwb3NpdGlvbiBpbnN0ZWFkIG9mIC5vQ29vcmRzXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiB0aGUgb2JqZWN0IGNvbnRhaW5zIHRoZSBwb2ludFxuICAgICAqL1xuICAgIF9jb250YWluc0NlbnRlck9mQ2FudmFzOiBmdW5jdGlvbihwb2ludFRMLCBwb2ludEJSLCBjYWxjdWxhdGUpIHtcbiAgICAgIC8vIHdvcnN0IGNhc2Ugc2NlbmFyaW8gdGhlIG9iamVjdCBpcyBzbyBiaWcgdGhhdCBjb250YWlucyB0aGUgc2NyZWVuXG4gICAgICB2YXIgY2VudGVyUG9pbnQgPSB7IHg6IChwb2ludFRMLnggKyBwb2ludEJSLngpIC8gMiwgeTogKHBvaW50VEwueSArIHBvaW50QlIueSkgLyAyIH07XG4gICAgICBpZiAodGhpcy5jb250YWluc1BvaW50KGNlbnRlclBvaW50LCBudWxsLCB0cnVlLCBjYWxjdWxhdGUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgb2JqZWN0IGlzIHBhcnRpYWxseSBjb250YWluZWQgd2l0aGluIHRoZSBjYW52YXMgd2l0aCBjdXJyZW50IHZpZXdwb3J0VHJhbnNmb3JtXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY2FsY3VsYXRlXSB1c2UgY29vcmRpbmF0ZXMgb2YgY3VycmVudCBwb3NpdGlvbiBpbnN0ZWFkIG9mIC5vQ29vcmRzXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBvYmplY3QgaXMgcGFydGlhbGx5IGNvbnRhaW5lZCB3aXRoaW4gY2FudmFzXG4gICAgICovXG4gICAgaXNQYXJ0aWFsbHlPblNjcmVlbjogZnVuY3Rpb24oY2FsY3VsYXRlKSB7XG4gICAgICBpZiAoIXRoaXMuY2FudmFzKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBwb2ludFRMID0gdGhpcy5jYW52YXMudnB0Q29vcmRzLnRsLCBwb2ludEJSID0gdGhpcy5jYW52YXMudnB0Q29vcmRzLmJyO1xuICAgICAgaWYgKHRoaXMuaW50ZXJzZWN0c1dpdGhSZWN0KHBvaW50VEwsIHBvaW50QlIsIHRydWUsIGNhbGN1bGF0ZSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICB2YXIgYWxsUG9pbnRzQXJlT3V0c2lkZSA9IHRoaXMuZ2V0Q29vcmRzKHRydWUsIGNhbGN1bGF0ZSkuZXZlcnkoZnVuY3Rpb24ocG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIChwb2ludC54ID49IHBvaW50QlIueCB8fCBwb2ludC54IDw9IHBvaW50VEwueCkgJiZcbiAgICAgICAgKHBvaW50LnkgPj0gcG9pbnRCUi55IHx8IHBvaW50LnkgPD0gcG9pbnRUTC55KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGFsbFBvaW50c0FyZU91dHNpZGUgJiYgdGhpcy5fY29udGFpbnNDZW50ZXJPZkNhbnZhcyhwb2ludFRMLCBwb2ludEJSLCBjYWxjdWxhdGUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdGhhdCByZXR1cm5zIGFuIG9iamVjdCB3aXRoIHRoZSBvYmplY3QgZWRnZXMgaW4gaXQsIGdpdmVuIHRoZSBjb29yZGluYXRlcyBvZiB0aGUgY29ybmVyc1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9Db29yZHMgQ29vcmRpbmF0ZXMgb2YgdGhlIG9iamVjdCBjb3JuZXJzXG4gICAgICovXG4gICAgX2dldEltYWdlTGluZXM6IGZ1bmN0aW9uKG9Db29yZHMpIHtcblxuICAgICAgdmFyIGxpbmVzID0ge1xuICAgICAgICB0b3BsaW5lOiB7XG4gICAgICAgICAgbzogb0Nvb3Jkcy50bCxcbiAgICAgICAgICBkOiBvQ29vcmRzLnRyXG4gICAgICAgIH0sXG4gICAgICAgIHJpZ2h0bGluZToge1xuICAgICAgICAgIG86IG9Db29yZHMudHIsXG4gICAgICAgICAgZDogb0Nvb3Jkcy5iclxuICAgICAgICB9LFxuICAgICAgICBib3R0b21saW5lOiB7XG4gICAgICAgICAgbzogb0Nvb3Jkcy5icixcbiAgICAgICAgICBkOiBvQ29vcmRzLmJsXG4gICAgICAgIH0sXG4gICAgICAgIGxlZnRsaW5lOiB7XG4gICAgICAgICAgbzogb0Nvb3Jkcy5ibCxcbiAgICAgICAgICBkOiBvQ29vcmRzLnRsXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIC8vIC8vIGRlYnVnZ2luZ1xuICAgICAgLy8gaWYgKHRoaXMuY2FudmFzLmNvbnRleHRUb3ApIHtcbiAgICAgIC8vICAgdGhpcy5jYW52YXMuY29udGV4dFRvcC5maWxsUmVjdChsaW5lcy5ib3R0b21saW5lLmQueCwgbGluZXMuYm90dG9tbGluZS5kLnksIDIsIDIpO1xuICAgICAgLy8gICB0aGlzLmNhbnZhcy5jb250ZXh0VG9wLmZpbGxSZWN0KGxpbmVzLmJvdHRvbWxpbmUuby54LCBsaW5lcy5ib3R0b21saW5lLm8ueSwgMiwgMik7XG4gICAgICAvL1xuICAgICAgLy8gICB0aGlzLmNhbnZhcy5jb250ZXh0VG9wLmZpbGxSZWN0KGxpbmVzLmxlZnRsaW5lLmQueCwgbGluZXMubGVmdGxpbmUuZC55LCAyLCAyKTtcbiAgICAgIC8vICAgdGhpcy5jYW52YXMuY29udGV4dFRvcC5maWxsUmVjdChsaW5lcy5sZWZ0bGluZS5vLngsIGxpbmVzLmxlZnRsaW5lLm8ueSwgMiwgMik7XG4gICAgICAvL1xuICAgICAgLy8gICB0aGlzLmNhbnZhcy5jb250ZXh0VG9wLmZpbGxSZWN0KGxpbmVzLnRvcGxpbmUuZC54LCBsaW5lcy50b3BsaW5lLmQueSwgMiwgMik7XG4gICAgICAvLyAgIHRoaXMuY2FudmFzLmNvbnRleHRUb3AuZmlsbFJlY3QobGluZXMudG9wbGluZS5vLngsIGxpbmVzLnRvcGxpbmUuby55LCAyLCAyKTtcbiAgICAgIC8vXG4gICAgICAvLyAgIHRoaXMuY2FudmFzLmNvbnRleHRUb3AuZmlsbFJlY3QobGluZXMucmlnaHRsaW5lLmQueCwgbGluZXMucmlnaHRsaW5lLmQueSwgMiwgMik7XG4gICAgICAvLyAgIHRoaXMuY2FudmFzLmNvbnRleHRUb3AuZmlsbFJlY3QobGluZXMucmlnaHRsaW5lLm8ueCwgbGluZXMucmlnaHRsaW5lLm8ueSwgMiwgMik7XG4gICAgICAvLyB9XG5cbiAgICAgIHJldHVybiBsaW5lcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSGVscGVyIG1ldGhvZCB0byBkZXRlcm1pbmUgaG93IG1hbnkgY3Jvc3MgcG9pbnRzIGFyZSBiZXR3ZWVuIHRoZSA0IG9iamVjdCBlZGdlc1xuICAgICAqIGFuZCB0aGUgaG9yaXpvbnRhbCBsaW5lIGRldGVybWluZWQgYnkgYSBwb2ludCBvbiBjYW52YXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSBwb2ludCBQb2ludCB0byBjaGVja1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBsaW5lcyBDb29yZGluYXRlcyBvZiB0aGUgb2JqZWN0IGJlaW5nIGV2YWx1YXRlZFxuICAgICAqL1xuICAgIC8vIHJlbW92ZSB5aSwgbm90IHVzZWQgYnV0IGxlZnQgY29kZSBoZXJlIGp1c3QgaW4gY2FzZS5cbiAgICBfZmluZENyb3NzUG9pbnRzOiBmdW5jdGlvbihwb2ludCwgbGluZXMpIHtcbiAgICAgIHZhciBiMSwgYjIsIGExLCBhMiwgeGksIC8vIHlpLFxuICAgICAgICAgIHhjb3VudCA9IDAsXG4gICAgICAgICAgaUxpbmU7XG5cbiAgICAgIGZvciAodmFyIGxpbmVLZXkgaW4gbGluZXMpIHtcbiAgICAgICAgaUxpbmUgPSBsaW5lc1tsaW5lS2V5XTtcbiAgICAgICAgLy8gb3B0aW1pc2F0aW9uIDE6IGxpbmUgYmVsb3cgcG9pbnQuIG5vIGNyb3NzXG4gICAgICAgIGlmICgoaUxpbmUuby55IDwgcG9pbnQueSkgJiYgKGlMaW5lLmQueSA8IHBvaW50LnkpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gb3B0aW1pc2F0aW9uIDI6IGxpbmUgYWJvdmUgcG9pbnQuIG5vIGNyb3NzXG4gICAgICAgIGlmICgoaUxpbmUuby55ID49IHBvaW50LnkpICYmIChpTGluZS5kLnkgPj0gcG9pbnQueSkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBvcHRpbWlzYXRpb24gMzogdmVydGljYWwgbGluZSBjYXNlXG4gICAgICAgIGlmICgoaUxpbmUuby54ID09PSBpTGluZS5kLngpICYmIChpTGluZS5vLnggPj0gcG9pbnQueCkpIHtcbiAgICAgICAgICB4aSA9IGlMaW5lLm8ueDtcbiAgICAgICAgICAvLyB5aSA9IHBvaW50Lnk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2FsY3VsYXRlIHRoZSBpbnRlcnNlY3Rpb24gcG9pbnRcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgYjEgPSAwO1xuICAgICAgICAgIGIyID0gKGlMaW5lLmQueSAtIGlMaW5lLm8ueSkgLyAoaUxpbmUuZC54IC0gaUxpbmUuby54KTtcbiAgICAgICAgICBhMSA9IHBvaW50LnkgLSBiMSAqIHBvaW50Lng7XG4gICAgICAgICAgYTIgPSBpTGluZS5vLnkgLSBiMiAqIGlMaW5lLm8ueDtcblxuICAgICAgICAgIHhpID0gLShhMSAtIGEyKSAvIChiMSAtIGIyKTtcbiAgICAgICAgICAvLyB5aSA9IGExICsgYjEgKiB4aTtcbiAgICAgICAgfVxuICAgICAgICAvLyBkb250IGNvdW50IHhpIDwgcG9pbnQueCBjYXNlc1xuICAgICAgICBpZiAoeGkgPj0gcG9pbnQueCkge1xuICAgICAgICAgIHhjb3VudCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIC8vIG9wdGltaXNhdGlvbiA0OiBzcGVjaWZpYyBmb3Igc3F1YXJlIGltYWdlc1xuICAgICAgICBpZiAoeGNvdW50ID09PSAyKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB4Y291bnQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgY29vcmRpbmF0ZXMgb2Ygb2JqZWN0J3MgYm91bmRpbmcgcmVjdGFuZ2xlIChsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQpXG4gICAgICogdGhlIGJveCBpcyBpbnRlbmRlZCBhcyBhbGlnbmVkIHRvIGF4aXMgb2YgY2FudmFzLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2Fic29sdXRlXSB1c2UgY29vcmRpbmF0ZXMgd2l0aG91dCB2aWV3cG9ydFRyYW5zZm9ybVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NhbGN1bGF0ZV0gdXNlIGNvb3JkaW5hdGVzIG9mIGN1cnJlbnQgcG9zaXRpb24gaW5zdGVhZCBvZiAub0Nvb3JkcyAvIC5hQ29vcmRzXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBPYmplY3Qgd2l0aCBsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQgcHJvcGVydGllc1xuICAgICAqL1xuICAgIGdldEJvdW5kaW5nUmVjdDogZnVuY3Rpb24oYWJzb2x1dGUsIGNhbGN1bGF0ZSkge1xuICAgICAgdmFyIGNvb3JkcyA9IHRoaXMuZ2V0Q29vcmRzKGFic29sdXRlLCBjYWxjdWxhdGUpO1xuICAgICAgcmV0dXJuIHV0aWwubWFrZUJvdW5kaW5nQm94RnJvbVBvaW50cyhjb29yZHMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHdpZHRoIG9mIGFuIG9iamVjdCdzIGJvdW5kaW5nIGJveCBjb3VudGluZyB0cmFuc2Zvcm1hdGlvbnNcbiAgICAgKiBiZWZvcmUgMi4wIGl0IHdhcyBuYW1lZCBnZXRXaWR0aCgpO1xuICAgICAqIEByZXR1cm4ge051bWJlcn0gd2lkdGggdmFsdWVcbiAgICAgKi9cbiAgICBnZXRTY2FsZWRXaWR0aDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZ2V0VHJhbnNmb3JtZWREaW1lbnNpb25zKCkueDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBoZWlnaHQgb2YgYW4gb2JqZWN0IGJvdW5kaW5nIGJveCBjb3VudGluZyB0cmFuc2Zvcm1hdGlvbnNcbiAgICAgKiBiZWZvcmUgMi4wIGl0IHdhcyBuYW1lZCBnZXRIZWlnaHQoKTtcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IGhlaWdodCB2YWx1ZVxuICAgICAqL1xuICAgIGdldFNjYWxlZEhlaWdodDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZ2V0VHJhbnNmb3JtZWREaW1lbnNpb25zKCkueTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTWFrZXMgc3VyZSB0aGUgc2NhbGUgaXMgdmFsaWQgYW5kIG1vZGlmaWVzIGl0IGlmIG5lY2Vzc2FyeVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHZhbHVlXG4gICAgICogQHJldHVybiB7TnVtYmVyfVxuICAgICAqL1xuICAgIF9jb25zdHJhaW5TY2FsZTogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGlmIChNYXRoLmFicyh2YWx1ZSkgPCB0aGlzLm1pblNjYWxlTGltaXQpIHtcbiAgICAgICAgaWYgKHZhbHVlIDwgMCkge1xuICAgICAgICAgIHJldHVybiAtdGhpcy5taW5TY2FsZUxpbWl0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0aGlzLm1pblNjYWxlTGltaXQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHZhbHVlID09PSAwKSB7XG4gICAgICAgIHJldHVybiAwLjAwMDE7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNjYWxlcyBhbiBvYmplY3QgKGVxdWFsbHkgYnkgeCBhbmQgeSlcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdmFsdWUgU2NhbGUgZmFjdG9yXG4gICAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzY2FsZTogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHRoaXMuX3NldCgnc2NhbGVYJywgdmFsdWUpO1xuICAgICAgdGhpcy5fc2V0KCdzY2FsZVknLCB2YWx1ZSk7XG4gICAgICByZXR1cm4gdGhpcy5zZXRDb29yZHMoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2NhbGVzIGFuIG9iamVjdCB0byBhIGdpdmVuIHdpZHRoLCB3aXRoIHJlc3BlY3QgdG8gYm91bmRpbmcgYm94IChzY2FsaW5nIGJ5IHgveSBlcXVhbGx5KVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB2YWx1ZSBOZXcgd2lkdGggdmFsdWVcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGFic29sdXRlIGlnbm9yZSB2aWV3cG9ydFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgc2NhbGVUb1dpZHRoOiBmdW5jdGlvbih2YWx1ZSwgYWJzb2x1dGUpIHtcbiAgICAgIC8vIGFkanVzdCB0byBib3VuZGluZyByZWN0IGZhY3RvciBzbyB0aGF0IHJvdGF0ZWQgc2hhcGVzIHdvdWxkIGZpdCBhcyB3ZWxsXG4gICAgICB2YXIgYm91bmRpbmdSZWN0RmFjdG9yID0gdGhpcy5nZXRCb3VuZGluZ1JlY3QoYWJzb2x1dGUpLndpZHRoIC8gdGhpcy5nZXRTY2FsZWRXaWR0aCgpO1xuICAgICAgcmV0dXJuIHRoaXMuc2NhbGUodmFsdWUgLyB0aGlzLndpZHRoIC8gYm91bmRpbmdSZWN0RmFjdG9yKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2NhbGVzIGFuIG9iamVjdCB0byBhIGdpdmVuIGhlaWdodCwgd2l0aCByZXNwZWN0IHRvIGJvdW5kaW5nIGJveCAoc2NhbGluZyBieSB4L3kgZXF1YWxseSlcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdmFsdWUgTmV3IGhlaWdodCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gYWJzb2x1dGUgaWdub3JlIHZpZXdwb3J0XG4gICAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzY2FsZVRvSGVpZ2h0OiBmdW5jdGlvbih2YWx1ZSwgYWJzb2x1dGUpIHtcbiAgICAgIC8vIGFkanVzdCB0byBib3VuZGluZyByZWN0IGZhY3RvciBzbyB0aGF0IHJvdGF0ZWQgc2hhcGVzIHdvdWxkIGZpdCBhcyB3ZWxsXG4gICAgICB2YXIgYm91bmRpbmdSZWN0RmFjdG9yID0gdGhpcy5nZXRCb3VuZGluZ1JlY3QoYWJzb2x1dGUpLmhlaWdodCAvIHRoaXMuZ2V0U2NhbGVkSGVpZ2h0KCk7XG4gICAgICByZXR1cm4gdGhpcy5zY2FsZSh2YWx1ZSAvIHRoaXMuaGVpZ2h0IC8gYm91bmRpbmdSZWN0RmFjdG9yKTtcbiAgICB9LFxuXG4gICAgY2FsY0xpbmVDb29yZHM6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHZwdCA9IHRoaXMuZ2V0Vmlld3BvcnRUcmFuc2Zvcm0oKSxcbiAgICAgICAgICBwYWRkaW5nID0gdGhpcy5wYWRkaW5nLCBhbmdsZSA9IGRlZ3JlZXNUb1JhZGlhbnModGhpcy5hbmdsZSksXG4gICAgICAgICAgY29zID0gdXRpbC5jb3MoYW5nbGUpLCBzaW4gPSB1dGlsLnNpbihhbmdsZSksXG4gICAgICAgICAgY29zUCA9IGNvcyAqIHBhZGRpbmcsIHNpblAgPSBzaW4gKiBwYWRkaW5nLCBjb3NQU2luUCA9IGNvc1AgKyBzaW5QLFxuICAgICAgICAgIGNvc1BNaW51c1NpblAgPSBjb3NQIC0gc2luUCwgYUNvb3JkcyA9IHRoaXMuY2FsY0FDb29yZHMoKTtcblxuICAgICAgdmFyIGxpbmVDb29yZHMgPSB7XG4gICAgICAgIHRsOiB0cmFuc2Zvcm1Qb2ludChhQ29vcmRzLnRsLCB2cHQpLFxuICAgICAgICB0cjogdHJhbnNmb3JtUG9pbnQoYUNvb3Jkcy50ciwgdnB0KSxcbiAgICAgICAgYmw6IHRyYW5zZm9ybVBvaW50KGFDb29yZHMuYmwsIHZwdCksXG4gICAgICAgIGJyOiB0cmFuc2Zvcm1Qb2ludChhQ29vcmRzLmJyLCB2cHQpLFxuICAgICAgfTtcblxuICAgICAgaWYgKHBhZGRpbmcpIHtcbiAgICAgICAgbGluZUNvb3Jkcy50bC54IC09IGNvc1BNaW51c1NpblA7XG4gICAgICAgIGxpbmVDb29yZHMudGwueSAtPSBjb3NQU2luUDtcbiAgICAgICAgbGluZUNvb3Jkcy50ci54ICs9IGNvc1BTaW5QO1xuICAgICAgICBsaW5lQ29vcmRzLnRyLnkgLT0gY29zUE1pbnVzU2luUDtcbiAgICAgICAgbGluZUNvb3Jkcy5ibC54IC09IGNvc1BTaW5QO1xuICAgICAgICBsaW5lQ29vcmRzLmJsLnkgKz0gY29zUE1pbnVzU2luUDtcbiAgICAgICAgbGluZUNvb3Jkcy5ici54ICs9IGNvc1BNaW51c1NpblA7XG4gICAgICAgIGxpbmVDb29yZHMuYnIueSArPSBjb3NQU2luUDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGxpbmVDb29yZHM7XG4gICAgfSxcblxuICAgIGNhbGNPQ29vcmRzOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciByb3RhdGVNYXRyaXggPSB0aGlzLl9jYWxjUm90YXRlTWF0cml4KCksXG4gICAgICAgICAgdHJhbnNsYXRlTWF0cml4ID0gdGhpcy5fY2FsY1RyYW5zbGF0ZU1hdHJpeCgpLFxuICAgICAgICAgIHZwdCA9IHRoaXMuZ2V0Vmlld3BvcnRUcmFuc2Zvcm0oKSxcbiAgICAgICAgICBzdGFydE1hdHJpeCA9IG11bHRpcGx5TWF0cmljZXModnB0LCB0cmFuc2xhdGVNYXRyaXgpLFxuICAgICAgICAgIGZpbmFsTWF0cml4ID0gbXVsdGlwbHlNYXRyaWNlcyhzdGFydE1hdHJpeCwgcm90YXRlTWF0cml4KSxcbiAgICAgICAgICBmaW5hbE1hdHJpeCA9IG11bHRpcGx5TWF0cmljZXMoZmluYWxNYXRyaXgsIFsxIC8gdnB0WzBdLCAwLCAwLCAxIC8gdnB0WzNdLCAwLCAwXSksXG4gICAgICAgICAgZGltID0gdGhpcy5fY2FsY3VsYXRlQ3VycmVudERpbWVuc2lvbnMoKSxcbiAgICAgICAgICBjb29yZHMgPSB7fTtcbiAgICAgIHRoaXMuZm9yRWFjaENvbnRyb2woZnVuY3Rpb24oY29udHJvbCwga2V5LCBmYWJyaWNPYmplY3QpIHtcbiAgICAgICAgY29vcmRzW2tleV0gPSBjb250cm9sLnBvc2l0aW9uSGFuZGxlcihkaW0sIGZpbmFsTWF0cml4LCBmYWJyaWNPYmplY3QpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIGRlYnVnIGNvZGVcbiAgICAgIC8vIHZhciBjYW52YXMgPSB0aGlzLmNhbnZhcztcbiAgICAgIC8vIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAvLyAgIGNhbnZhcy5jb250ZXh0VG9wLmNsZWFyUmVjdCgwLCAwLCA3MDAsIDcwMCk7XG4gICAgICAvLyAgIGNhbnZhcy5jb250ZXh0VG9wLmZpbGxTdHlsZSA9ICdncmVlbic7XG4gICAgICAvLyAgIE9iamVjdC5rZXlzKGNvb3JkcykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgIC8vICAgICB2YXIgY29udHJvbCA9IGNvb3Jkc1trZXldO1xuICAgICAgLy8gICAgIGNhbnZhcy5jb250ZXh0VG9wLmZpbGxSZWN0KGNvbnRyb2wueCwgY29udHJvbC55LCAzLCAzKTtcbiAgICAgIC8vICAgfSk7XG4gICAgICAvLyB9LCA1MCk7XG4gICAgICByZXR1cm4gY29vcmRzO1xuICAgIH0sXG5cbiAgICBjYWxjQUNvb3JkczogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcm90YXRlTWF0cml4ID0gdGhpcy5fY2FsY1JvdGF0ZU1hdHJpeCgpLFxuICAgICAgICAgIHRyYW5zbGF0ZU1hdHJpeCA9IHRoaXMuX2NhbGNUcmFuc2xhdGVNYXRyaXgoKSxcbiAgICAgICAgICBmaW5hbE1hdHJpeCA9IG11bHRpcGx5TWF0cmljZXModHJhbnNsYXRlTWF0cml4LCByb3RhdGVNYXRyaXgpLFxuICAgICAgICAgIGRpbSA9IHRoaXMuX2dldFRyYW5zZm9ybWVkRGltZW5zaW9ucygpLFxuICAgICAgICAgIHcgPSBkaW0ueCAvIDIsIGggPSBkaW0ueSAvIDI7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAvLyBjb3JuZXJzXG4gICAgICAgIHRsOiB0cmFuc2Zvcm1Qb2ludCh7IHg6IC13LCB5OiAtaCB9LCBmaW5hbE1hdHJpeCksXG4gICAgICAgIHRyOiB0cmFuc2Zvcm1Qb2ludCh7IHg6IHcsIHk6IC1oIH0sIGZpbmFsTWF0cml4KSxcbiAgICAgICAgYmw6IHRyYW5zZm9ybVBvaW50KHsgeDogLXcsIHk6IGggfSwgZmluYWxNYXRyaXgpLFxuICAgICAgICBicjogdHJhbnNmb3JtUG9pbnQoeyB4OiB3LCB5OiBoIH0sIGZpbmFsTWF0cml4KVxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyBjb3JuZXIgYW5kIGNvbnRyb2xzIHBvc2l0aW9uIGNvb3JkaW5hdGVzIGJhc2VkIG9uIGN1cnJlbnQgYW5nbGUsIHdpZHRoIGFuZCBoZWlnaHQsIGxlZnQgYW5kIHRvcC5cbiAgICAgKiBvQ29vcmRzIGFyZSB1c2VkIHRvIGZpbmQgdGhlIGNvcm5lcnNcbiAgICAgKiBhQ29vcmRzIGFyZSB1c2VkIHRvIHF1aWNrbHkgZmluZCBhbiBvYmplY3Qgb24gdGhlIGNhbnZhc1xuICAgICAqIGxpbmVDb29yZHMgYXJlIHVzZWQgdG8gcXVpY2tseSBmaW5kIG9iamVjdCBkdXJpbmcgcG9pbnRlciBldmVudHMuXG4gICAgICogU2VlIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vZmFicmljanMvZmFicmljLmpzL3dpa2kvV2hlbi10by1jYWxsLXNldENvb3Jkc30gYW5kIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ZhYnJpYy1nb3RjaGFzfVxuICAgICAqXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbc2tpcENvcm5lcnNdIHNraXAgY2FsY3VsYXRpb24gb2Ygb0Nvb3Jkcy5cbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHNldENvb3JkczogZnVuY3Rpb24oc2tpcENvcm5lcnMpIHtcbiAgICAgIHRoaXMuYUNvb3JkcyA9IHRoaXMuY2FsY0FDb29yZHMoKTtcbiAgICAgIC8vIGluIGNhc2Ugd2UgYXJlIGluIGEgZ3JvdXAsIGZvciBob3cgdGhlIGlubmVyIGdyb3VwIHRhcmdldCBjaGVjayB3b3JrcyxcbiAgICAgIC8vIGxpbmVDb29yZHMgYXJlIGV4YWN0bHkgYUNvb3Jkcy4gU2luY2UgdGhlIHZwdCBnZXRzIGFic29yYmVkIGJ5IHRoZSBub3JtYWxpemVkIHBvaW50ZXIuXG4gICAgICB0aGlzLmxpbmVDb29yZHMgPSB0aGlzLmdyb3VwID8gdGhpcy5hQ29vcmRzIDogdGhpcy5jYWxjTGluZUNvb3JkcygpO1xuICAgICAgaWYgKHNraXBDb3JuZXJzKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgLy8gc2V0IGNvb3JkaW5hdGVzIG9mIHRoZSBkcmFnZ2FibGUgYm94ZXMgaW4gdGhlIGNvcm5lcnMgdXNlZCB0byBzY2FsZS9yb3RhdGUgdGhlIGltYWdlXG4gICAgICB0aGlzLm9Db29yZHMgPSB0aGlzLmNhbGNPQ29vcmRzKCk7XG4gICAgICB0aGlzLl9zZXRDb3JuZXJDb29yZHMgJiYgdGhpcy5fc2V0Q29ybmVyQ29vcmRzKCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogY2FsY3VsYXRlIHJvdGF0aW9uIG1hdHJpeCBvZiBhbiBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gcm90YXRpb24gbWF0cml4IGZvciB0aGUgb2JqZWN0XG4gICAgICovXG4gICAgX2NhbGNSb3RhdGVNYXRyaXg6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHV0aWwuY2FsY1JvdGF0ZU1hdHJpeCh0aGlzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogY2FsY3VsYXRlIHRoZSB0cmFuc2xhdGlvbiBtYXRyaXggZm9yIGFuIG9iamVjdCB0cmFuc2Zvcm1cbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gcm90YXRpb24gbWF0cml4IGZvciB0aGUgb2JqZWN0XG4gICAgICovXG4gICAgX2NhbGNUcmFuc2xhdGVNYXRyaXg6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGNlbnRlciA9IHRoaXMuZ2V0Q2VudGVyUG9pbnQoKTtcbiAgICAgIHJldHVybiBbMSwgMCwgMCwgMSwgY2VudGVyLngsIGNlbnRlci55XTtcbiAgICB9LFxuXG4gICAgdHJhbnNmb3JtTWF0cml4S2V5OiBmdW5jdGlvbihza2lwR3JvdXApIHtcbiAgICAgIHZhciBzZXAgPSAnXycsIHByZWZpeCA9ICcnO1xuICAgICAgaWYgKCFza2lwR3JvdXAgJiYgdGhpcy5ncm91cCkge1xuICAgICAgICBwcmVmaXggPSB0aGlzLmdyb3VwLnRyYW5zZm9ybU1hdHJpeEtleShza2lwR3JvdXApICsgc2VwO1xuICAgICAgfTtcbiAgICAgIHJldHVybiBwcmVmaXggKyB0aGlzLnRvcCArIHNlcCArIHRoaXMubGVmdCArIHNlcCArIHRoaXMuc2NhbGVYICsgc2VwICsgdGhpcy5zY2FsZVkgK1xuICAgICAgICBzZXAgKyB0aGlzLnNrZXdYICsgc2VwICsgdGhpcy5za2V3WSArIHNlcCArIHRoaXMuYW5nbGUgKyBzZXAgKyB0aGlzLm9yaWdpblggKyBzZXAgKyB0aGlzLm9yaWdpblkgK1xuICAgICAgICBzZXAgKyB0aGlzLndpZHRoICsgc2VwICsgdGhpcy5oZWlnaHQgKyBzZXAgKyB0aGlzLnN0cm9rZVdpZHRoICsgdGhpcy5mbGlwWCArIHRoaXMuZmxpcFk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGNhbGN1bGF0ZSB0cmFuc2Zvcm0gbWF0cml4IHRoYXQgcmVwcmVzZW50cyB0aGUgY3VycmVudCB0cmFuc2Zvcm1hdGlvbnMgZnJvbSB0aGVcbiAgICAgKiBvYmplY3QncyBwcm9wZXJ0aWVzLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3NraXBHcm91cF0gcmV0dXJuIHRyYW5zZm9ybSBtYXRyaXggZm9yIG9iamVjdCBub3QgY291bnRpbmcgcGFyZW50IHRyYW5zZm9ybWF0aW9uc1xuICAgICAqIFRoZXJlIGFyZSBzb21lIHNpdHVhdGlvbiBpbiB3aGljaCB0aGlzIGlzIHVzZWZ1bCB0byBhdm9pZCB0aGUgZmFrZSByb3RhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gdHJhbnNmb3JtIG1hdHJpeCBmb3IgdGhlIG9iamVjdFxuICAgICAqL1xuICAgIGNhbGNUcmFuc2Zvcm1NYXRyaXg6IGZ1bmN0aW9uKHNraXBHcm91cCkge1xuICAgICAgdmFyIG1hdHJpeCA9IHRoaXMuY2FsY093bk1hdHJpeCgpO1xuICAgICAgaWYgKHNraXBHcm91cCB8fCAhdGhpcy5ncm91cCkge1xuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgICAgfVxuICAgICAgdmFyIGtleSA9IHRoaXMudHJhbnNmb3JtTWF0cml4S2V5KHNraXBHcm91cCksIGNhY2hlID0gdGhpcy5tYXRyaXhDYWNoZSB8fCAodGhpcy5tYXRyaXhDYWNoZSA9IHt9KTtcbiAgICAgIGlmIChjYWNoZS5rZXkgPT09IGtleSkge1xuICAgICAgICByZXR1cm4gY2FjaGUudmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5ncm91cCkge1xuICAgICAgICBtYXRyaXggPSBtdWx0aXBseU1hdHJpY2VzKHRoaXMuZ3JvdXAuY2FsY1RyYW5zZm9ybU1hdHJpeChmYWxzZSksIG1hdHJpeCk7XG4gICAgICB9XG4gICAgICBjYWNoZS5rZXkgPSBrZXk7XG4gICAgICBjYWNoZS52YWx1ZSA9IG1hdHJpeDtcbiAgICAgIHJldHVybiBtYXRyaXg7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGNhbGN1bGF0ZSB0cmFuc2Zvcm0gbWF0cml4IHRoYXQgcmVwcmVzZW50cyB0aGUgY3VycmVudCB0cmFuc2Zvcm1hdGlvbnMgZnJvbSB0aGVcbiAgICAgKiBvYmplY3QncyBwcm9wZXJ0aWVzLCB0aGlzIG1hdHJpeCBkb2VzIG5vdCBpbmNsdWRlIHRoZSBncm91cCB0cmFuc2Zvcm1hdGlvblxuICAgICAqIEByZXR1cm4ge0FycmF5fSB0cmFuc2Zvcm0gbWF0cml4IGZvciB0aGUgb2JqZWN0XG4gICAgICovXG4gICAgY2FsY093bk1hdHJpeDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIga2V5ID0gdGhpcy50cmFuc2Zvcm1NYXRyaXhLZXkodHJ1ZSksIGNhY2hlID0gdGhpcy5vd25NYXRyaXhDYWNoZSB8fCAodGhpcy5vd25NYXRyaXhDYWNoZSA9IHt9KTtcbiAgICAgIGlmIChjYWNoZS5rZXkgPT09IGtleSkge1xuICAgICAgICByZXR1cm4gY2FjaGUudmFsdWU7XG4gICAgICB9XG4gICAgICB2YXIgdE1hdHJpeCA9IHRoaXMuX2NhbGNUcmFuc2xhdGVNYXRyaXgoKSxcbiAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgYW5nbGU6IHRoaXMuYW5nbGUsXG4gICAgICAgICAgICB0cmFuc2xhdGVYOiB0TWF0cml4WzRdLFxuICAgICAgICAgICAgdHJhbnNsYXRlWTogdE1hdHJpeFs1XSxcbiAgICAgICAgICAgIHNjYWxlWDogdGhpcy5zY2FsZVgsXG4gICAgICAgICAgICBzY2FsZVk6IHRoaXMuc2NhbGVZLFxuICAgICAgICAgICAgc2tld1g6IHRoaXMuc2tld1gsXG4gICAgICAgICAgICBza2V3WTogdGhpcy5za2V3WSxcbiAgICAgICAgICAgIGZsaXBYOiB0aGlzLmZsaXBYLFxuICAgICAgICAgICAgZmxpcFk6IHRoaXMuZmxpcFksXG4gICAgICAgICAgfTtcbiAgICAgIGNhY2hlLmtleSA9IGtleTtcbiAgICAgIGNhY2hlLnZhbHVlID0gdXRpbC5jb21wb3NlTWF0cml4KG9wdGlvbnMpO1xuICAgICAgcmV0dXJuIGNhY2hlLnZhbHVlO1xuICAgIH0sXG5cbiAgICAvKlxuICAgICAqIENhbGN1bGF0ZSBvYmplY3QgZGltZW5zaW9ucyBmcm9tIGl0cyBwcm9wZXJ0aWVzXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IC54IHdpZHRoIGRpbWVuc2lvblxuICAgICAqIEByZXR1cm4ge09iamVjdH0gLnkgaGVpZ2h0IGRpbWVuc2lvblxuICAgICAqL1xuICAgIF9nZXROb25UcmFuc2Zvcm1lZERpbWVuc2lvbnM6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHN0cm9rZVdpZHRoID0gdGhpcy5zdHJva2VXaWR0aCxcbiAgICAgICAgICB3ID0gdGhpcy53aWR0aCArIHN0cm9rZVdpZHRoLFxuICAgICAgICAgIGggPSB0aGlzLmhlaWdodCArIHN0cm9rZVdpZHRoO1xuICAgICAgcmV0dXJuIHsgeDogdywgeTogaCB9O1xuICAgIH0sXG5cbiAgICAvKlxuICAgICAqIENhbGN1bGF0ZSBvYmplY3QgYm91bmRpbmcgYm94IGRpbWVuc2lvbnMgZnJvbSBpdHMgcHJvcGVydGllcyBzY2FsZSwgc2tldy5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc2tld1gsIGEgdmFsdWUgdG8gb3ZlcnJpZGUgY3VycmVudCBza2V3WFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBza2V3WSwgYSB2YWx1ZSB0byBvdmVycmlkZSBjdXJyZW50IHNrZXdZXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IC54IHdpZHRoIGRpbWVuc2lvblxuICAgICAqIEByZXR1cm4ge09iamVjdH0gLnkgaGVpZ2h0IGRpbWVuc2lvblxuICAgICAqL1xuICAgIF9nZXRUcmFuc2Zvcm1lZERpbWVuc2lvbnM6IGZ1bmN0aW9uKHNrZXdYLCBza2V3WSkge1xuICAgICAgaWYgKHR5cGVvZiBza2V3WCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgc2tld1ggPSB0aGlzLnNrZXdYO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBza2V3WSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgc2tld1kgPSB0aGlzLnNrZXdZO1xuICAgICAgfVxuICAgICAgdmFyIGRpbWVuc2lvbnMsIGRpbVgsIGRpbVksXG4gICAgICAgICAgbm9Ta2V3ID0gc2tld1ggPT09IDAgJiYgc2tld1kgPT09IDA7XG5cbiAgICAgIGlmICh0aGlzLnN0cm9rZVVuaWZvcm0pIHtcbiAgICAgICAgZGltWCA9IHRoaXMud2lkdGg7XG4gICAgICAgIGRpbVkgPSB0aGlzLmhlaWdodDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBkaW1lbnNpb25zID0gdGhpcy5fZ2V0Tm9uVHJhbnNmb3JtZWREaW1lbnNpb25zKCk7XG4gICAgICAgIGRpbVggPSBkaW1lbnNpb25zLng7XG4gICAgICAgIGRpbVkgPSBkaW1lbnNpb25zLnk7XG4gICAgICB9XG4gICAgICBpZiAobm9Ta2V3KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9maW5hbGl6ZURpbWVuc2lvbnMoZGltWCAqIHRoaXMuc2NhbGVYLCBkaW1ZICogdGhpcy5zY2FsZVkpO1xuICAgICAgfVxuICAgICAgdmFyIGJib3ggPSB1dGlsLnNpemVBZnRlclRyYW5zZm9ybShkaW1YLCBkaW1ZLCB7XG4gICAgICAgIHNjYWxlWDogdGhpcy5zY2FsZVgsXG4gICAgICAgIHNjYWxlWTogdGhpcy5zY2FsZVksXG4gICAgICAgIHNrZXdYOiBza2V3WCxcbiAgICAgICAgc2tld1k6IHNrZXdZLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gdGhpcy5fZmluYWxpemVEaW1lbnNpb25zKGJib3gueCwgYmJveC55KTtcbiAgICB9LFxuXG4gICAgLypcbiAgICAgKiBDYWxjdWxhdGUgb2JqZWN0IGJvdW5kaW5nIGJveCBkaW1lbnNpb25zIGZyb20gaXRzIHByb3BlcnRpZXMgc2NhbGUsIHNrZXcuXG4gICAgICogQHBhcmFtIE51bWJlciB3aWR0aCB3aWR0aCBvZiB0aGUgYmJveFxuICAgICAqIEBwYXJhbSBOdW1iZXIgaGVpZ2h0IGhlaWdodCBvZiB0aGUgYmJveFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7T2JqZWN0fSAueCBmaW5hbGl6ZWQgd2lkdGggZGltZW5zaW9uXG4gICAgICogQHJldHVybiB7T2JqZWN0fSAueSBmaW5hbGl6ZWQgaGVpZ2h0IGRpbWVuc2lvblxuICAgICAqL1xuICAgIF9maW5hbGl6ZURpbWVuc2lvbnM6IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0cm9rZVVuaWZvcm0gP1xuICAgICAgICB7IHg6IHdpZHRoICsgdGhpcy5zdHJva2VXaWR0aCwgeTogaGVpZ2h0ICsgdGhpcy5zdHJva2VXaWR0aCB9XG4gICAgICAgIDpcbiAgICAgICAgeyB4OiB3aWR0aCwgeTogaGVpZ2h0IH07XG4gICAgfSxcblxuICAgIC8qXG4gICAgICogQ2FsY3VsYXRlIG9iamVjdCBkaW1lbnNpb25zIGZvciBjb250cm9scyBib3gsIGluY2x1ZGluZyBwYWRkaW5nIGFuZCBjYW52YXMgem9vbS5cbiAgICAgKiBhbmQgYWN0aXZlIHNlbGVjdGlvblxuICAgICAqIHByaXZhdGVcbiAgICAgKi9cbiAgICBfY2FsY3VsYXRlQ3VycmVudERpbWVuc2lvbnM6IGZ1bmN0aW9uKCkgIHtcbiAgICAgIHZhciB2cHQgPSB0aGlzLmdldFZpZXdwb3J0VHJhbnNmb3JtKCksXG4gICAgICAgICAgZGltID0gdGhpcy5fZ2V0VHJhbnNmb3JtZWREaW1lbnNpb25zKCksXG4gICAgICAgICAgcCA9IHRyYW5zZm9ybVBvaW50KGRpbSwgdnB0LCB0cnVlKTtcbiAgICAgIHJldHVybiBwLnNjYWxhckFkZCgyICogdGhpcy5wYWRkaW5nKTtcbiAgICB9LFxuICB9KTtcbn0pKCk7XG5cblxuZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZChmYWJyaWMuT2JqZWN0LnByb3RvdHlwZSwgLyoqIEBsZW5kcyBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZSAqLyB7XG5cbiAgLyoqXG4gICAqIE1vdmVzIGFuIG9iamVjdCB0byB0aGUgYm90dG9tIG9mIHRoZSBzdGFjayBvZiBkcmF3biBvYmplY3RzXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IHRoaXNBcmdcbiAgICogQGNoYWluYWJsZVxuICAgKi9cbiAgc2VuZFRvQmFjazogZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuZ3JvdXApIHtcbiAgICAgIGZhYnJpYy5TdGF0aWNDYW52YXMucHJvdG90eXBlLnNlbmRUb0JhY2suY2FsbCh0aGlzLmdyb3VwLCB0aGlzKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodGhpcy5jYW52YXMpIHtcbiAgICAgIHRoaXMuY2FudmFzLnNlbmRUb0JhY2sodGhpcyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBNb3ZlcyBhbiBvYmplY3QgdG8gdGhlIHRvcCBvZiB0aGUgc3RhY2sgb2YgZHJhd24gb2JqZWN0c1xuICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAqIEBjaGFpbmFibGVcbiAgICovXG4gIGJyaW5nVG9Gcm9udDogZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuZ3JvdXApIHtcbiAgICAgIGZhYnJpYy5TdGF0aWNDYW52YXMucHJvdG90eXBlLmJyaW5nVG9Gcm9udC5jYWxsKHRoaXMuZ3JvdXAsIHRoaXMpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0aGlzLmNhbnZhcykge1xuICAgICAgdGhpcy5jYW52YXMuYnJpbmdUb0Zyb250KHRoaXMpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvKipcbiAgICogTW92ZXMgYW4gb2JqZWN0IGRvd24gaW4gc3RhY2sgb2YgZHJhd24gb2JqZWN0c1xuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtpbnRlcnNlY3RpbmddIElmIGB0cnVlYCwgc2VuZCBvYmplY3QgYmVoaW5kIG5leHQgbG93ZXIgaW50ZXJzZWN0aW5nIG9iamVjdFxuICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAqIEBjaGFpbmFibGVcbiAgICovXG4gIHNlbmRCYWNrd2FyZHM6IGZ1bmN0aW9uKGludGVyc2VjdGluZykge1xuICAgIGlmICh0aGlzLmdyb3VwKSB7XG4gICAgICBmYWJyaWMuU3RhdGljQ2FudmFzLnByb3RvdHlwZS5zZW5kQmFja3dhcmRzLmNhbGwodGhpcy5ncm91cCwgdGhpcywgaW50ZXJzZWN0aW5nKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodGhpcy5jYW52YXMpIHtcbiAgICAgIHRoaXMuY2FudmFzLnNlbmRCYWNrd2FyZHModGhpcywgaW50ZXJzZWN0aW5nKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIE1vdmVzIGFuIG9iamVjdCB1cCBpbiBzdGFjayBvZiBkcmF3biBvYmplY3RzXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2ludGVyc2VjdGluZ10gSWYgYHRydWVgLCBzZW5kIG9iamVjdCBpbiBmcm9udCBvZiBuZXh0IHVwcGVyIGludGVyc2VjdGluZyBvYmplY3RcbiAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgKiBAY2hhaW5hYmxlXG4gICAqL1xuICBicmluZ0ZvcndhcmQ6IGZ1bmN0aW9uKGludGVyc2VjdGluZykge1xuICAgIGlmICh0aGlzLmdyb3VwKSB7XG4gICAgICBmYWJyaWMuU3RhdGljQ2FudmFzLnByb3RvdHlwZS5icmluZ0ZvcndhcmQuY2FsbCh0aGlzLmdyb3VwLCB0aGlzLCBpbnRlcnNlY3RpbmcpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0aGlzLmNhbnZhcykge1xuICAgICAgdGhpcy5jYW52YXMuYnJpbmdGb3J3YXJkKHRoaXMsIGludGVyc2VjdGluZyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBNb3ZlcyBhbiBvYmplY3QgdG8gc3BlY2lmaWVkIGxldmVsIGluIHN0YWNrIG9mIGRyYXduIG9iamVjdHNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4IE5ldyBwb3NpdGlvbiBvZiBvYmplY3RcbiAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgKiBAY2hhaW5hYmxlXG4gICAqL1xuICBtb3ZlVG86IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgaWYgKHRoaXMuZ3JvdXAgJiYgdGhpcy5ncm91cC50eXBlICE9PSAnYWN0aXZlU2VsZWN0aW9uJykge1xuICAgICAgZmFicmljLlN0YXRpY0NhbnZhcy5wcm90b3R5cGUubW92ZVRvLmNhbGwodGhpcy5ncm91cCwgdGhpcywgaW5kZXgpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0aGlzLmNhbnZhcykge1xuICAgICAgdGhpcy5jYW52YXMubW92ZVRvKHRoaXMsIGluZGV4KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn0pO1xuXG5cbi8qIF9UT19TVkdfU1RBUlRfICovXG4oZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIGdldFN2Z0NvbG9yU3RyaW5nKHByb3AsIHZhbHVlKSB7XG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgcmV0dXJuIHByb3AgKyAnOiBub25lOyAnO1xuICAgIH1cbiAgICBlbHNlIGlmICh2YWx1ZS50b0xpdmUpIHtcbiAgICAgIHJldHVybiBwcm9wICsgJzogdXJsKCNTVkdJRF8nICsgdmFsdWUuaWQgKyAnKTsgJztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB2YXIgY29sb3IgPSBuZXcgZmFicmljLkNvbG9yKHZhbHVlKSxcbiAgICAgICAgICBzdHIgPSBwcm9wICsgJzogJyArIGNvbG9yLnRvUmdiKCkgKyAnOyAnLFxuICAgICAgICAgIG9wYWNpdHkgPSBjb2xvci5nZXRBbHBoYSgpO1xuICAgICAgaWYgKG9wYWNpdHkgIT09IDEpIHtcbiAgICAgICAgLy9jaGFuZ2UgdGhlIGNvbG9yIGluIHJnYiArIG9wYWNpdHlcbiAgICAgICAgc3RyICs9IHByb3AgKyAnLW9wYWNpdHk6ICcgKyBvcGFjaXR5LnRvU3RyaW5nKCkgKyAnOyAnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG4gIH1cblxuICB2YXIgdG9GaXhlZCA9IGZhYnJpYy51dGlsLnRvRml4ZWQ7XG5cbiAgZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZChmYWJyaWMuT2JqZWN0LnByb3RvdHlwZSwgLyoqIEBsZW5kcyBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZSAqLyB7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBzdHlsZXMtc3RyaW5nIGZvciBzdmctZXhwb3J0XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBza2lwU2hhZG93IGEgYm9vbGVhbiB0byBza2lwIHNoYWRvdyBmaWx0ZXIgb3V0cHV0XG4gICAgICogQHJldHVybiB7U3RyaW5nfVxuICAgICAqL1xuICAgIGdldFN2Z1N0eWxlczogZnVuY3Rpb24oc2tpcFNoYWRvdykge1xuXG4gICAgICB2YXIgZmlsbFJ1bGUgPSB0aGlzLmZpbGxSdWxlID8gdGhpcy5maWxsUnVsZSA6ICdub256ZXJvJyxcbiAgICAgICAgICBzdHJva2VXaWR0aCA9IHRoaXMuc3Ryb2tlV2lkdGggPyB0aGlzLnN0cm9rZVdpZHRoIDogJzAnLFxuICAgICAgICAgIHN0cm9rZURhc2hBcnJheSA9IHRoaXMuc3Ryb2tlRGFzaEFycmF5ID8gdGhpcy5zdHJva2VEYXNoQXJyYXkuam9pbignICcpIDogJ25vbmUnLFxuICAgICAgICAgIHN0cm9rZURhc2hPZmZzZXQgPSB0aGlzLnN0cm9rZURhc2hPZmZzZXQgPyB0aGlzLnN0cm9rZURhc2hPZmZzZXQgOiAnMCcsXG4gICAgICAgICAgc3Ryb2tlTGluZUNhcCA9IHRoaXMuc3Ryb2tlTGluZUNhcCA/IHRoaXMuc3Ryb2tlTGluZUNhcCA6ICdidXR0JyxcbiAgICAgICAgICBzdHJva2VMaW5lSm9pbiA9IHRoaXMuc3Ryb2tlTGluZUpvaW4gPyB0aGlzLnN0cm9rZUxpbmVKb2luIDogJ21pdGVyJyxcbiAgICAgICAgICBzdHJva2VNaXRlckxpbWl0ID0gdGhpcy5zdHJva2VNaXRlckxpbWl0ID8gdGhpcy5zdHJva2VNaXRlckxpbWl0IDogJzQnLFxuICAgICAgICAgIG9wYWNpdHkgPSB0eXBlb2YgdGhpcy5vcGFjaXR5ICE9PSAndW5kZWZpbmVkJyA/IHRoaXMub3BhY2l0eSA6ICcxJyxcbiAgICAgICAgICB2aXNpYmlsaXR5ID0gdGhpcy52aXNpYmxlID8gJycgOiAnIHZpc2liaWxpdHk6IGhpZGRlbjsnLFxuICAgICAgICAgIGZpbHRlciA9IHNraXBTaGFkb3cgPyAnJyA6IHRoaXMuZ2V0U3ZnRmlsdGVyKCksXG4gICAgICAgICAgZmlsbCA9IGdldFN2Z0NvbG9yU3RyaW5nKCdmaWxsJywgdGhpcy5maWxsKSxcbiAgICAgICAgICBzdHJva2UgPSBnZXRTdmdDb2xvclN0cmluZygnc3Ryb2tlJywgdGhpcy5zdHJva2UpO1xuXG4gICAgICByZXR1cm4gW1xuICAgICAgICBzdHJva2UsXG4gICAgICAgICdzdHJva2Utd2lkdGg6ICcsIHN0cm9rZVdpZHRoLCAnOyAnLFxuICAgICAgICAnc3Ryb2tlLWRhc2hhcnJheTogJywgc3Ryb2tlRGFzaEFycmF5LCAnOyAnLFxuICAgICAgICAnc3Ryb2tlLWxpbmVjYXA6ICcsIHN0cm9rZUxpbmVDYXAsICc7ICcsXG4gICAgICAgICdzdHJva2UtZGFzaG9mZnNldDogJywgc3Ryb2tlRGFzaE9mZnNldCwgJzsgJyxcbiAgICAgICAgJ3N0cm9rZS1saW5lam9pbjogJywgc3Ryb2tlTGluZUpvaW4sICc7ICcsXG4gICAgICAgICdzdHJva2UtbWl0ZXJsaW1pdDogJywgc3Ryb2tlTWl0ZXJMaW1pdCwgJzsgJyxcbiAgICAgICAgZmlsbCxcbiAgICAgICAgJ2ZpbGwtcnVsZTogJywgZmlsbFJ1bGUsICc7ICcsXG4gICAgICAgICdvcGFjaXR5OiAnLCBvcGFjaXR5LCAnOycsXG4gICAgICAgIGZpbHRlcixcbiAgICAgICAgdmlzaWJpbGl0eVxuICAgICAgXS5qb2luKCcnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBzdHlsZXMtc3RyaW5nIGZvciBzdmctZXhwb3J0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0eWxlIHRoZSBvYmplY3QgZnJvbSB3aGljaCB0byByZXRyaWV2ZSBzdHlsZSBwcm9wZXJ0aWVzXG4gICAgICogQHBhcmFtIHtCb29sZWFufSB1c2VXaGl0ZVNwYWNlIGEgYm9vbGVhbiB0byBpbmNsdWRlIGFuIGFkZGl0aW9uYWwgYXR0cmlidXRlIGluIHRoZSBzdHlsZS5cbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAgICovXG4gICAgZ2V0U3ZnU3BhblN0eWxlczogZnVuY3Rpb24oc3R5bGUsIHVzZVdoaXRlU3BhY2UpIHtcbiAgICAgIHZhciB0ZXJtID0gJzsgJztcbiAgICAgIHZhciBmb250RmFtaWx5ID0gc3R5bGUuZm9udEZhbWlseSA/XG4gICAgICAgICdmb250LWZhbWlseTogJyArICgoKHN0eWxlLmZvbnRGYW1pbHkuaW5kZXhPZignXFwnJykgPT09IC0xICYmIHN0eWxlLmZvbnRGYW1pbHkuaW5kZXhPZignXCInKSA9PT0gLTEpID9cbiAgICAgICAgICAnXFwnJyArIHN0eWxlLmZvbnRGYW1pbHkgICsgJ1xcJycgOiBzdHlsZS5mb250RmFtaWx5KSkgKyB0ZXJtIDogJyc7XG4gICAgICB2YXIgc3Ryb2tlV2lkdGggPSBzdHlsZS5zdHJva2VXaWR0aCA/ICdzdHJva2Utd2lkdGg6ICcgKyBzdHlsZS5zdHJva2VXaWR0aCArIHRlcm0gOiAnJyxcbiAgICAgICAgICBmb250RmFtaWx5ID0gZm9udEZhbWlseSxcbiAgICAgICAgICBmb250U2l6ZSA9IHN0eWxlLmZvbnRTaXplID8gJ2ZvbnQtc2l6ZTogJyArIHN0eWxlLmZvbnRTaXplICsgJ3B4JyArIHRlcm0gOiAnJyxcbiAgICAgICAgICBmb250U3R5bGUgPSBzdHlsZS5mb250U3R5bGUgPyAnZm9udC1zdHlsZTogJyArIHN0eWxlLmZvbnRTdHlsZSArIHRlcm0gOiAnJyxcbiAgICAgICAgICBmb250V2VpZ2h0ID0gc3R5bGUuZm9udFdlaWdodCA/ICdmb250LXdlaWdodDogJyArIHN0eWxlLmZvbnRXZWlnaHQgKyB0ZXJtIDogJycsXG4gICAgICAgICAgZmlsbCA9IHN0eWxlLmZpbGwgPyBnZXRTdmdDb2xvclN0cmluZygnZmlsbCcsIHN0eWxlLmZpbGwpIDogJycsXG4gICAgICAgICAgc3Ryb2tlID0gc3R5bGUuc3Ryb2tlID8gZ2V0U3ZnQ29sb3JTdHJpbmcoJ3N0cm9rZScsIHN0eWxlLnN0cm9rZSkgOiAnJyxcbiAgICAgICAgICB0ZXh0RGVjb3JhdGlvbiA9IHRoaXMuZ2V0U3ZnVGV4dERlY29yYXRpb24oc3R5bGUpLFxuICAgICAgICAgIGRlbHRhWSA9IHN0eWxlLmRlbHRhWSA/ICdiYXNlbGluZS1zaGlmdDogJyArICgtc3R5bGUuZGVsdGFZKSArICc7ICcgOiAnJztcbiAgICAgIGlmICh0ZXh0RGVjb3JhdGlvbikge1xuICAgICAgICB0ZXh0RGVjb3JhdGlvbiA9ICd0ZXh0LWRlY29yYXRpb246ICcgKyB0ZXh0RGVjb3JhdGlvbiArIHRlcm07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBbXG4gICAgICAgIHN0cm9rZSxcbiAgICAgICAgc3Ryb2tlV2lkdGgsXG4gICAgICAgIGZvbnRGYW1pbHksXG4gICAgICAgIGZvbnRTaXplLFxuICAgICAgICBmb250U3R5bGUsXG4gICAgICAgIGZvbnRXZWlnaHQsXG4gICAgICAgIHRleHREZWNvcmF0aW9uLFxuICAgICAgICBmaWxsLFxuICAgICAgICBkZWx0YVksXG4gICAgICAgIHVzZVdoaXRlU3BhY2UgPyAnd2hpdGUtc3BhY2U6IHByZTsgJyA6ICcnXG4gICAgICBdLmpvaW4oJycpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRleHQtZGVjb3JhdGlvbiBwcm9wZXJ0eSBmb3Igc3ZnLWV4cG9ydFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdHlsZSB0aGUgb2JqZWN0IGZyb20gd2hpY2ggdG8gcmV0cmlldmUgc3R5bGUgcHJvcGVydGllc1xuICAgICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICAgKi9cbiAgICBnZXRTdmdUZXh0RGVjb3JhdGlvbjogZnVuY3Rpb24oc3R5bGUpIHtcbiAgICAgIHJldHVybiBbJ292ZXJsaW5lJywgJ3VuZGVybGluZScsICdsaW5lLXRocm91Z2gnXS5maWx0ZXIoZnVuY3Rpb24oZGVjb3JhdGlvbikge1xuICAgICAgICByZXR1cm4gc3R5bGVbZGVjb3JhdGlvbi5yZXBsYWNlKCctJywgJycpXTtcbiAgICAgIH0pLmpvaW4oJyAnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBmaWx0ZXIgZm9yIHN2ZyBzaGFkb3dcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAgICovXG4gICAgZ2V0U3ZnRmlsdGVyOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnNoYWRvdyA/ICdmaWx0ZXI6IHVybCgjU1ZHSURfJyArIHRoaXMuc2hhZG93LmlkICsgJyk7JyA6ICcnO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGlkIGF0dHJpYnV0ZSBmb3Igc3ZnIG91dHB1dFxuICAgICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICAgKi9cbiAgICBnZXRTdmdDb21tb25zOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIHRoaXMuaWQgPyAnaWQ9XCInICsgdGhpcy5pZCArICdcIiAnIDogJycsXG4gICAgICAgIHRoaXMuY2xpcFBhdGggPyAnY2xpcC1wYXRoPVwidXJsKCMnICsgdGhpcy5jbGlwUGF0aC5jbGlwUGF0aElkICsgJylcIiAnIDogJycsXG4gICAgICBdLmpvaW4oJycpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRyYW5zZm9ybS1zdHJpbmcgZm9yIHN2Zy1leHBvcnRcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHVzZSB0aGUgZnVsbCB0cmFuc2Zvcm0gb3IgdGhlIHNpbmdsZSBvYmplY3Qgb25lLlxuICAgICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICAgKi9cbiAgICBnZXRTdmdUcmFuc2Zvcm06IGZ1bmN0aW9uKGZ1bGwsIGFkZGl0aW9uYWxUcmFuc2Zvcm0pIHtcbiAgICAgIHZhciB0cmFuc2Zvcm0gPSBmdWxsID8gdGhpcy5jYWxjVHJhbnNmb3JtTWF0cml4KCkgOiB0aGlzLmNhbGNPd25NYXRyaXgoKSxcbiAgICAgICAgICBzdmdUcmFuc2Zvcm0gPSAndHJhbnNmb3JtPVwiJyArIGZhYnJpYy51dGlsLm1hdHJpeFRvU1ZHKHRyYW5zZm9ybSk7XG4gICAgICByZXR1cm4gc3ZnVHJhbnNmb3JtICtcbiAgICAgICAgKGFkZGl0aW9uYWxUcmFuc2Zvcm0gfHwgJycpICsgJ1wiICc7XG4gICAgfSxcblxuICAgIF9zZXRTVkdCZzogZnVuY3Rpb24odGV4dEJnUmVjdHMpIHtcbiAgICAgIGlmICh0aGlzLmJhY2tncm91bmRDb2xvcikge1xuICAgICAgICB2YXIgTlVNX0ZSQUNUSU9OX0RJR0lUUyA9IGZhYnJpYy5PYmplY3QuTlVNX0ZSQUNUSU9OX0RJR0lUUztcbiAgICAgICAgdGV4dEJnUmVjdHMucHVzaChcbiAgICAgICAgICAnXFx0XFx0PHJlY3QgJyxcbiAgICAgICAgICB0aGlzLl9nZXRGaWxsQXR0cmlidXRlcyh0aGlzLmJhY2tncm91bmRDb2xvciksXG4gICAgICAgICAgJyB4PVwiJyxcbiAgICAgICAgICB0b0ZpeGVkKC10aGlzLndpZHRoIC8gMiwgTlVNX0ZSQUNUSU9OX0RJR0lUUyksXG4gICAgICAgICAgJ1wiIHk9XCInLFxuICAgICAgICAgIHRvRml4ZWQoLXRoaXMuaGVpZ2h0IC8gMiwgTlVNX0ZSQUNUSU9OX0RJR0lUUyksXG4gICAgICAgICAgJ1wiIHdpZHRoPVwiJyxcbiAgICAgICAgICB0b0ZpeGVkKHRoaXMud2lkdGgsIE5VTV9GUkFDVElPTl9ESUdJVFMpLFxuICAgICAgICAgICdcIiBoZWlnaHQ9XCInLFxuICAgICAgICAgIHRvRml4ZWQodGhpcy5oZWlnaHQsIE5VTV9GUkFDVElPTl9ESUdJVFMpLFxuICAgICAgICAgICdcIj48L3JlY3Q+XFxuJyk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgc3ZnIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3Jldml2ZXJdIE1ldGhvZCBmb3IgZnVydGhlciBwYXJzaW5nIG9mIHN2ZyByZXByZXNlbnRhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IHN2ZyByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRvU1ZHOiBmdW5jdGlvbihyZXZpdmVyKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY3JlYXRlQmFzZVNWR01hcmt1cCh0aGlzLl90b1NWRyhyZXZpdmVyKSwgeyByZXZpdmVyOiByZXZpdmVyIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHN2ZyBjbGlwUGF0aCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXZpdmVyXSBNZXRob2QgZm9yIGZ1cnRoZXIgcGFyc2luZyBvZiBzdmcgcmVwcmVzZW50YXRpb24uXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBzdmcgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b0NsaXBQYXRoU1ZHOiBmdW5jdGlvbihyZXZpdmVyKSB7XG4gICAgICByZXR1cm4gJ1xcdCcgKyB0aGlzLl9jcmVhdGVCYXNlQ2xpcFBhdGhTVkdNYXJrdXAodGhpcy5fdG9TVkcocmV2aXZlciksIHsgcmV2aXZlcjogcmV2aXZlciB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfY3JlYXRlQmFzZUNsaXBQYXRoU1ZHTWFya3VwOiBmdW5jdGlvbihvYmplY3RNYXJrdXAsIG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgdmFyIHJldml2ZXIgPSBvcHRpb25zLnJldml2ZXIsXG4gICAgICAgICAgYWRkaXRpb25hbFRyYW5zZm9ybSA9IG9wdGlvbnMuYWRkaXRpb25hbFRyYW5zZm9ybSB8fCAnJyxcbiAgICAgICAgICBjb21tb25QaWVjZXMgPSBbXG4gICAgICAgICAgICB0aGlzLmdldFN2Z1RyYW5zZm9ybSh0cnVlLCBhZGRpdGlvbmFsVHJhbnNmb3JtKSxcbiAgICAgICAgICAgIHRoaXMuZ2V0U3ZnQ29tbW9ucygpLFxuICAgICAgICAgIF0uam9pbignJyksXG4gICAgICAgICAgLy8gaW5zZXJ0IGNvbW1vbnMgaW4gdGhlIG1hcmt1cCwgc3R5bGUgYW5kIHN2Z0NvbW1vbnNcbiAgICAgICAgICBpbmRleCA9IG9iamVjdE1hcmt1cC5pbmRleE9mKCdDT01NT05fUEFSVFMnKTtcbiAgICAgIG9iamVjdE1hcmt1cFtpbmRleF0gPSBjb21tb25QaWVjZXM7XG4gICAgICByZXR1cm4gcmV2aXZlciA/IHJldml2ZXIob2JqZWN0TWFya3VwLmpvaW4oJycpKSA6IG9iamVjdE1hcmt1cC5qb2luKCcnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfY3JlYXRlQmFzZVNWR01hcmt1cDogZnVuY3Rpb24ob2JqZWN0TWFya3VwLCBvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgIHZhciBub1N0eWxlID0gb3B0aW9ucy5ub1N0eWxlLFxuICAgICAgICAgIHJldml2ZXIgPSBvcHRpb25zLnJldml2ZXIsXG4gICAgICAgICAgc3R5bGVJbmZvID0gbm9TdHlsZSA/ICcnIDogJ3N0eWxlPVwiJyArIHRoaXMuZ2V0U3ZnU3R5bGVzKCkgKyAnXCIgJyxcbiAgICAgICAgICBzaGFkb3dJbmZvID0gb3B0aW9ucy53aXRoU2hhZG93ID8gJ3N0eWxlPVwiJyArIHRoaXMuZ2V0U3ZnRmlsdGVyKCkgKyAnXCIgJyA6ICcnLFxuICAgICAgICAgIGNsaXBQYXRoID0gdGhpcy5jbGlwUGF0aCxcbiAgICAgICAgICB2ZWN0b3JFZmZlY3QgPSB0aGlzLnN0cm9rZVVuaWZvcm0gPyAndmVjdG9yLWVmZmVjdD1cIm5vbi1zY2FsaW5nLXN0cm9rZVwiICcgOiAnJyxcbiAgICAgICAgICBhYnNvbHV0ZUNsaXBQYXRoID0gY2xpcFBhdGggJiYgY2xpcFBhdGguYWJzb2x1dGVQb3NpdGlvbmVkLFxuICAgICAgICAgIHN0cm9rZSA9IHRoaXMuc3Ryb2tlLCBmaWxsID0gdGhpcy5maWxsLCBzaGFkb3cgPSB0aGlzLnNoYWRvdyxcbiAgICAgICAgICBjb21tb25QaWVjZXMsIG1hcmt1cCA9IFtdLCBjbGlwUGF0aE1hcmt1cCxcbiAgICAgICAgICAvLyBpbnNlcnQgY29tbW9ucyBpbiB0aGUgbWFya3VwLCBzdHlsZSBhbmQgc3ZnQ29tbW9uc1xuICAgICAgICAgIGluZGV4ID0gb2JqZWN0TWFya3VwLmluZGV4T2YoJ0NPTU1PTl9QQVJUUycpLFxuICAgICAgICAgIGFkZGl0aW9uYWxUcmFuc2Zvcm0gPSBvcHRpb25zLmFkZGl0aW9uYWxUcmFuc2Zvcm07XG4gICAgICBpZiAoY2xpcFBhdGgpIHtcbiAgICAgICAgY2xpcFBhdGguY2xpcFBhdGhJZCA9ICdDTElQUEFUSF8nICsgZmFicmljLk9iamVjdC5fX3VpZCsrO1xuICAgICAgICBjbGlwUGF0aE1hcmt1cCA9ICc8Y2xpcFBhdGggaWQ9XCInICsgY2xpcFBhdGguY2xpcFBhdGhJZCArICdcIiA+XFxuJyArXG4gICAgICAgICAgY2xpcFBhdGgudG9DbGlwUGF0aFNWRyhyZXZpdmVyKSArXG4gICAgICAgICAgJzwvY2xpcFBhdGg+XFxuJztcbiAgICAgIH1cbiAgICAgIGlmIChhYnNvbHV0ZUNsaXBQYXRoKSB7XG4gICAgICAgIG1hcmt1cC5wdXNoKFxuICAgICAgICAgICc8ZyAnLCBzaGFkb3dJbmZvLCB0aGlzLmdldFN2Z0NvbW1vbnMoKSwgJyA+XFxuJ1xuICAgICAgICApO1xuICAgICAgfVxuICAgICAgbWFya3VwLnB1c2goXG4gICAgICAgICc8ZyAnLFxuICAgICAgICB0aGlzLmdldFN2Z1RyYW5zZm9ybShmYWxzZSksXG4gICAgICAgICFhYnNvbHV0ZUNsaXBQYXRoID8gc2hhZG93SW5mbyArIHRoaXMuZ2V0U3ZnQ29tbW9ucygpIDogJycsXG4gICAgICAgICcgPlxcbidcbiAgICAgICk7XG4gICAgICBjb21tb25QaWVjZXMgPSBbXG4gICAgICAgIHN0eWxlSW5mbyxcbiAgICAgICAgdmVjdG9yRWZmZWN0LFxuICAgICAgICBub1N0eWxlID8gJycgOiB0aGlzLmFkZFBhaW50T3JkZXIoKSwgJyAnLFxuICAgICAgICBhZGRpdGlvbmFsVHJhbnNmb3JtID8gJ3RyYW5zZm9ybT1cIicgKyBhZGRpdGlvbmFsVHJhbnNmb3JtICsgJ1wiICcgOiAnJyxcbiAgICAgIF0uam9pbignJyk7XG4gICAgICBvYmplY3RNYXJrdXBbaW5kZXhdID0gY29tbW9uUGllY2VzO1xuICAgICAgaWYgKGZpbGwgJiYgZmlsbC50b0xpdmUpIHtcbiAgICAgICAgbWFya3VwLnB1c2goZmlsbC50b1NWRyh0aGlzKSk7XG4gICAgICB9XG4gICAgICBpZiAoc3Ryb2tlICYmIHN0cm9rZS50b0xpdmUpIHtcbiAgICAgICAgbWFya3VwLnB1c2goc3Ryb2tlLnRvU1ZHKHRoaXMpKTtcbiAgICAgIH1cbiAgICAgIGlmIChzaGFkb3cpIHtcbiAgICAgICAgbWFya3VwLnB1c2goc2hhZG93LnRvU1ZHKHRoaXMpKTtcbiAgICAgIH1cbiAgICAgIGlmIChjbGlwUGF0aCkge1xuICAgICAgICBtYXJrdXAucHVzaChjbGlwUGF0aE1hcmt1cCk7XG4gICAgICB9XG4gICAgICBtYXJrdXAucHVzaChvYmplY3RNYXJrdXAuam9pbignJykpO1xuICAgICAgbWFya3VwLnB1c2goJzwvZz5cXG4nKTtcbiAgICAgIGFic29sdXRlQ2xpcFBhdGggJiYgbWFya3VwLnB1c2goJzwvZz5cXG4nKTtcbiAgICAgIHJldHVybiByZXZpdmVyID8gcmV2aXZlcihtYXJrdXAuam9pbignJykpIDogbWFya3VwLmpvaW4oJycpO1xuICAgIH0sXG5cbiAgICBhZGRQYWludE9yZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnBhaW50Rmlyc3QgIT09ICdmaWxsJyA/ICcgcGFpbnQtb3JkZXI9XCInICsgdGhpcy5wYWludEZpcnN0ICsgJ1wiICcgOiAnJztcbiAgICB9XG4gIH0pO1xufSkoKTtcbi8qIF9UT19TVkdfRU5EXyAqL1xuXG5cbihmdW5jdGlvbigpIHtcblxuICB2YXIgZXh0ZW5kID0gZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZCxcbiAgICAgIG9yaWdpbmFsU2V0ID0gJ3N0YXRlUHJvcGVydGllcyc7XG5cbiAgLypcbiAgICBEZXBlbmRzIG9uIGBzdGF0ZVByb3BlcnRpZXNgXG4gICovXG4gIGZ1bmN0aW9uIHNhdmVQcm9wcyhvcmlnaW4sIGRlc3RpbmF0aW9uLCBwcm9wcykge1xuICAgIHZhciB0bXBPYmogPSB7IH0sIGRlZXAgPSB0cnVlO1xuICAgIHByb3BzLmZvckVhY2goZnVuY3Rpb24ocHJvcCkge1xuICAgICAgdG1wT2JqW3Byb3BdID0gb3JpZ2luW3Byb3BdO1xuICAgIH0pO1xuXG4gICAgZXh0ZW5kKG9yaWdpbltkZXN0aW5hdGlvbl0sIHRtcE9iaiwgZGVlcCk7XG4gIH1cblxuICBmdW5jdGlvbiBfaXNFcXVhbChvcmlnVmFsdWUsIGN1cnJlbnRWYWx1ZSwgZmlyc3RQYXNzKSB7XG4gICAgaWYgKG9yaWdWYWx1ZSA9PT0gY3VycmVudFZhbHVlKSB7XG4gICAgICAvLyBpZiB0aGUgb2JqZWN0cyBhcmUgaWRlbnRpY2FsLCByZXR1cm5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KG9yaWdWYWx1ZSkpIHtcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShjdXJyZW50VmFsdWUpIHx8IG9yaWdWYWx1ZS5sZW5ndGggIT09IGN1cnJlbnRWYWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IG9yaWdWYWx1ZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBpZiAoIV9pc0VxdWFsKG9yaWdWYWx1ZVtpXSwgY3VycmVudFZhbHVlW2ldKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKG9yaWdWYWx1ZSAmJiB0eXBlb2Ygb3JpZ1ZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvcmlnVmFsdWUpLCBrZXk7XG4gICAgICBpZiAoIWN1cnJlbnRWYWx1ZSB8fFxuICAgICAgICAgIHR5cGVvZiBjdXJyZW50VmFsdWUgIT09ICdvYmplY3QnIHx8XG4gICAgICAgICAgKCFmaXJzdFBhc3MgJiYga2V5cy5sZW5ndGggIT09IE9iamVjdC5rZXlzKGN1cnJlbnRWYWx1ZSkubGVuZ3RoKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBrZXlzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICAgIC8vIHNpbmNlIGNsaXBQYXRoIGlzIGluIHRoZSBzdGF0ZWZ1bGwgY2FjaGUgbGlzdCBhbmQgdGhlIGNsaXBQYXRoIG9iamVjdHNcbiAgICAgICAgLy8gd291bGQgYmUgaXRlcmF0ZWQgYXMgYW4gb2JqZWN0LCB0aGlzIHdvdWxkIGxlYWQgdG8gcG9zc2libGUgaW5maW5pdGUgcmVjdXJzaW9uXG4gICAgICAgIC8vIHdlIGRvIG5vdCB3YW50IHRvIGNvbXBhcmUgdGhvc2UuXG4gICAgICAgIGlmIChrZXkgPT09ICdjYW52YXMnIHx8IGtleSA9PT0gJ2dyb3VwJykge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghX2lzRXF1YWwob3JpZ1ZhbHVlW2tleV0sIGN1cnJlbnRWYWx1ZVtrZXldKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cblxuICBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kKGZhYnJpYy5PYmplY3QucHJvdG90eXBlLCAvKiogQGxlbmRzIGZhYnJpYy5PYmplY3QucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiBvYmplY3Qgc3RhdGUgKG9uZSBvZiBpdHMgc3RhdGUgcHJvcGVydGllcykgd2FzIGNoYW5nZWRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW3Byb3BlcnR5U2V0XSBvcHRpb25hbCBuYW1lIGZvciB0aGUgc2V0IG9mIHByb3BlcnR5IHdlIHdhbnQgdG8gc2F2ZVxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgaW5zdGFuY2UnIHN0YXRlIGhhcyBjaGFuZ2VkIHNpbmNlIGB7QGxpbmsgZmFicmljLk9iamVjdCNzYXZlU3RhdGV9YCB3YXMgY2FsbGVkXG4gICAgICovXG4gICAgaGFzU3RhdGVDaGFuZ2VkOiBmdW5jdGlvbihwcm9wZXJ0eVNldCkge1xuICAgICAgcHJvcGVydHlTZXQgPSBwcm9wZXJ0eVNldCB8fCBvcmlnaW5hbFNldDtcbiAgICAgIHZhciBkYXNoZWRQcm9wZXJ0eVNldCA9ICdfJyArIHByb3BlcnR5U2V0O1xuICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXNbZGFzaGVkUHJvcGVydHlTZXRdKS5sZW5ndGggPCB0aGlzW3Byb3BlcnR5U2V0XS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gIV9pc0VxdWFsKHRoaXNbZGFzaGVkUHJvcGVydHlTZXRdLCB0aGlzLCB0cnVlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2F2ZXMgc3RhdGUgb2YgYW4gb2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPYmplY3Qgd2l0aCBhZGRpdGlvbmFsIGBzdGF0ZVByb3BlcnRpZXNgIGFycmF5IHRvIGluY2x1ZGUgd2hlbiBzYXZpbmcgc3RhdGVcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAgICovXG4gICAgc2F2ZVN0YXRlOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICB2YXIgcHJvcGVydHlTZXQgPSBvcHRpb25zICYmIG9wdGlvbnMucHJvcGVydHlTZXQgfHwgb3JpZ2luYWxTZXQsXG4gICAgICAgICAgZGVzdGluYXRpb24gPSAnXycgKyBwcm9wZXJ0eVNldDtcbiAgICAgIGlmICghdGhpc1tkZXN0aW5hdGlvbl0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dXBTdGF0ZShvcHRpb25zKTtcbiAgICAgIH1cbiAgICAgIHNhdmVQcm9wcyh0aGlzLCBkZXN0aW5hdGlvbiwgdGhpc1twcm9wZXJ0eVNldF0pO1xuICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5zdGF0ZVByb3BlcnRpZXMpIHtcbiAgICAgICAgc2F2ZVByb3BzKHRoaXMsIGRlc3RpbmF0aW9uLCBvcHRpb25zLnN0YXRlUHJvcGVydGllcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0dXBzIHN0YXRlIG9mIGFuIG9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT2JqZWN0IHdpdGggYWRkaXRpb25hbCBgc3RhdGVQcm9wZXJ0aWVzYCBhcnJheSB0byBpbmNsdWRlIHdoZW4gc2F2aW5nIHN0YXRlXG4gICAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgICAqL1xuICAgIHNldHVwU3RhdGU6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgfTtcbiAgICAgIHZhciBwcm9wZXJ0eVNldCA9IG9wdGlvbnMucHJvcGVydHlTZXQgfHwgb3JpZ2luYWxTZXQ7XG4gICAgICBvcHRpb25zLnByb3BlcnR5U2V0ID0gcHJvcGVydHlTZXQ7XG4gICAgICB0aGlzWydfJyArIHByb3BlcnR5U2V0XSA9IHsgfTtcbiAgICAgIHRoaXMuc2F2ZVN0YXRlKG9wdGlvbnMpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9KTtcbn0pKCk7XG5cblxuKGZ1bmN0aW9uKCkge1xuXG4gIHZhciBkZWdyZWVzVG9SYWRpYW5zID0gZmFicmljLnV0aWwuZGVncmVlc1RvUmFkaWFucztcblxuICBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kKGZhYnJpYy5PYmplY3QucHJvdG90eXBlLCAvKiogQGxlbmRzIGZhYnJpYy5PYmplY3QucHJvdG90eXBlICovIHtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHdoaWNoIGNvcm5lciBoYXMgYmVlbiBjbGlja2VkXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnRlciBUaGUgcG9pbnRlciBpbmRpY2F0aW5nIHRoZSBtb3VzZSBwb3NpdGlvblxuICAgICAqIEByZXR1cm4ge1N0cmluZ3xCb29sZWFufSBjb3JuZXIgY29kZSAodGwsIHRyLCBibCwgYnIsIGV0Yy4pLCBvciBmYWxzZSBpZiBub3RoaW5nIGlzIGZvdW5kXG4gICAgICovXG4gICAgX2ZpbmRUYXJnZXRDb3JuZXI6IGZ1bmN0aW9uKHBvaW50ZXIsIGZvclRvdWNoKSB7XG4gICAgICAvLyBvYmplY3RzIGluIGdyb3VwLCBhbnlraW5kLCBhcmUgbm90IHNlbGYgbW9kaWZpY2FibGUsXG4gICAgICAvLyBtdXN0IG5vdCByZXR1cm4gYW4gaG92ZXJlZCBjb3JuZXIuXG4gICAgICBpZiAoIXRoaXMuaGFzQ29udHJvbHMgfHwgdGhpcy5ncm91cCB8fCAoIXRoaXMuY2FudmFzIHx8IHRoaXMuY2FudmFzLl9hY3RpdmVPYmplY3QgIT09IHRoaXMpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGV4ID0gcG9pbnRlci54LFxuICAgICAgICAgIGV5ID0gcG9pbnRlci55LFxuICAgICAgICAgIHhQb2ludHMsXG4gICAgICAgICAgbGluZXMsIGtleXMgPSBPYmplY3Qua2V5cyh0aGlzLm9Db29yZHMpLFxuICAgICAgICAgIGogPSBrZXlzLmxlbmd0aCAtIDEsIGk7XG4gICAgICB0aGlzLl9fY29ybmVyID0gMDtcblxuICAgICAgLy8gY3ljbGUgaW4gcmV2ZXJzZSBvcmRlciBzbyB3ZSBwaWNrIGZpcnN0IHRoZSBvbmUgb24gdG9wXG4gICAgICBmb3IgKDsgaiA+PSAwOyBqLS0pIHtcbiAgICAgICAgaSA9IGtleXNbal07XG4gICAgICAgIGlmICghdGhpcy5pc0NvbnRyb2xWaXNpYmxlKGkpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBsaW5lcyA9IHRoaXMuX2dldEltYWdlTGluZXMoZm9yVG91Y2ggPyB0aGlzLm9Db29yZHNbaV0udG91Y2hDb3JuZXIgOiB0aGlzLm9Db29yZHNbaV0uY29ybmVyKTtcbiAgICAgICAgLy8gLy8gZGVidWdnaW5nXG4gICAgICAgIC8vXG4gICAgICAgIC8vIHRoaXMuY2FudmFzLmNvbnRleHRUb3AuZmlsbFJlY3QobGluZXMuYm90dG9tbGluZS5kLngsIGxpbmVzLmJvdHRvbWxpbmUuZC55LCAyLCAyKTtcbiAgICAgICAgLy8gdGhpcy5jYW52YXMuY29udGV4dFRvcC5maWxsUmVjdChsaW5lcy5ib3R0b21saW5lLm8ueCwgbGluZXMuYm90dG9tbGluZS5vLnksIDIsIDIpO1xuICAgICAgICAvL1xuICAgICAgICAvLyB0aGlzLmNhbnZhcy5jb250ZXh0VG9wLmZpbGxSZWN0KGxpbmVzLmxlZnRsaW5lLmQueCwgbGluZXMubGVmdGxpbmUuZC55LCAyLCAyKTtcbiAgICAgICAgLy8gdGhpcy5jYW52YXMuY29udGV4dFRvcC5maWxsUmVjdChsaW5lcy5sZWZ0bGluZS5vLngsIGxpbmVzLmxlZnRsaW5lLm8ueSwgMiwgMik7XG4gICAgICAgIC8vXG4gICAgICAgIC8vIHRoaXMuY2FudmFzLmNvbnRleHRUb3AuZmlsbFJlY3QobGluZXMudG9wbGluZS5kLngsIGxpbmVzLnRvcGxpbmUuZC55LCAyLCAyKTtcbiAgICAgICAgLy8gdGhpcy5jYW52YXMuY29udGV4dFRvcC5maWxsUmVjdChsaW5lcy50b3BsaW5lLm8ueCwgbGluZXMudG9wbGluZS5vLnksIDIsIDIpO1xuICAgICAgICAvL1xuICAgICAgICAvLyB0aGlzLmNhbnZhcy5jb250ZXh0VG9wLmZpbGxSZWN0KGxpbmVzLnJpZ2h0bGluZS5kLngsIGxpbmVzLnJpZ2h0bGluZS5kLnksIDIsIDIpO1xuICAgICAgICAvLyB0aGlzLmNhbnZhcy5jb250ZXh0VG9wLmZpbGxSZWN0KGxpbmVzLnJpZ2h0bGluZS5vLngsIGxpbmVzLnJpZ2h0bGluZS5vLnksIDIsIDIpO1xuXG4gICAgICAgIHhQb2ludHMgPSB0aGlzLl9maW5kQ3Jvc3NQb2ludHMoeyB4OiBleCwgeTogZXkgfSwgbGluZXMpO1xuICAgICAgICBpZiAoeFBvaW50cyAhPT0gMCAmJiB4UG9pbnRzICUgMiA9PT0gMSkge1xuICAgICAgICAgIHRoaXMuX19jb3JuZXIgPSBpO1xuICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGxzIGEgZnVuY3Rpb24gZm9yIGVhY2ggY29udHJvbC4gVGhlIGZ1bmN0aW9uIGdldHMgY2FsbGVkLFxuICAgICAqIHdpdGggdGhlIGNvbnRyb2wsIHRoZSBvYmplY3QgdGhhdCBpcyBjYWxsaW5nIHRoZSBpdGVyYXRvciBhbmQgdGhlIGNvbnRyb2wncyBrZXlcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgdGhlIGNvbnRyb2xzIG92ZXJcbiAgICAgKi9cbiAgICBmb3JFYWNoQ29udHJvbDogZnVuY3Rpb24oZm4pIHtcbiAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5jb250cm9scykge1xuICAgICAgICBmbih0aGlzLmNvbnRyb2xzW2ldLCBpLCB0aGlzKTtcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBkcmFnZ2FibGUgYm94ZXMgaW4gdGhlIGNvcm5lcnMgb2ZcbiAgICAgKiB0aGUgaW1hZ2UgdXNlZCB0byBzY2FsZS9yb3RhdGUgaXQuXG4gICAgICogbm90ZTogaWYgd2Ugd291bGQgc3dpdGNoIHRvIFJPVU5EIGNvcm5lciBhcmVhLCBhbGwgb2YgdGhpcyB3b3VsZCBkaXNhcHBlYXIuXG4gICAgICogZXZlcnl0aGluZyB3b3VsZCByZXNvbHZlIHRvIGEgc2luZ2xlIHBvaW50IGFuZCBhIHB5dGhhZ29yZWFuIHRoZW9yZW0gZm9yIHRoZSBkaXN0YW5jZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3NldENvcm5lckNvb3JkczogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY29vcmRzID0gdGhpcy5vQ29vcmRzO1xuXG4gICAgICBmb3IgKHZhciBjb250cm9sIGluIGNvb3Jkcykge1xuICAgICAgICB2YXIgY29udHJvbE9iamVjdCA9IHRoaXMuY29udHJvbHNbY29udHJvbF07XG4gICAgICAgIGNvb3Jkc1tjb250cm9sXS5jb3JuZXIgPSBjb250cm9sT2JqZWN0LmNhbGNDb3JuZXJDb29yZHMoXG4gICAgICAgICAgdGhpcy5hbmdsZSwgdGhpcy5jb3JuZXJTaXplLCBjb29yZHNbY29udHJvbF0ueCwgY29vcmRzW2NvbnRyb2xdLnksIGZhbHNlKTtcbiAgICAgICAgY29vcmRzW2NvbnRyb2xdLnRvdWNoQ29ybmVyID0gY29udHJvbE9iamVjdC5jYWxjQ29ybmVyQ29vcmRzKFxuICAgICAgICAgIHRoaXMuYW5nbGUsIHRoaXMudG91Y2hDb3JuZXJTaXplLCBjb29yZHNbY29udHJvbF0ueCwgY29vcmRzW2NvbnRyb2xdLnksIHRydWUpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyBhIGNvbG9yZWQgbGF5ZXIgYmVoaW5kIHRoZSBvYmplY3QsIGluc2lkZSBpdHMgc2VsZWN0aW9uIGJvcmRlcnMuXG4gICAgICogUmVxdWlyZXMgcHVibGljIG9wdGlvbnM6IHBhZGRpbmcsIHNlbGVjdGlvbkJhY2tncm91bmRDb2xvclxuICAgICAqIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIHdoZW4gdGhlIGNvbnRleHQgaXMgdHJhbnNmb3JtZWRcbiAgICAgKiBoYXMgY2hlY2tzIHRvIGJlIHNraXBwZWQgd2hlbiB0aGUgb2JqZWN0IGlzIG9uIGEgc3RhdGljQ2FudmFzXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIGRyYXcgb25cbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGRyYXdTZWxlY3Rpb25CYWNrZ3JvdW5kOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIGlmICghdGhpcy5zZWxlY3Rpb25CYWNrZ3JvdW5kQ29sb3IgfHxcbiAgICAgICAgKHRoaXMuY2FudmFzICYmICF0aGlzLmNhbnZhcy5pbnRlcmFjdGl2ZSkgfHxcbiAgICAgICAgKHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLl9hY3RpdmVPYmplY3QgIT09IHRoaXMpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgdmFyIGNlbnRlciA9IHRoaXMuZ2V0Q2VudGVyUG9pbnQoKSwgd2ggPSB0aGlzLl9jYWxjdWxhdGVDdXJyZW50RGltZW5zaW9ucygpLFxuICAgICAgICAgIHZwdCA9IHRoaXMuY2FudmFzLnZpZXdwb3J0VHJhbnNmb3JtO1xuICAgICAgY3R4LnRyYW5zbGF0ZShjZW50ZXIueCwgY2VudGVyLnkpO1xuICAgICAgY3R4LnNjYWxlKDEgLyB2cHRbMF0sIDEgLyB2cHRbM10pO1xuICAgICAgY3R4LnJvdGF0ZShkZWdyZWVzVG9SYWRpYW5zKHRoaXMuYW5nbGUpKTtcbiAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLnNlbGVjdGlvbkJhY2tncm91bmRDb2xvcjtcbiAgICAgIGN0eC5maWxsUmVjdCgtd2gueCAvIDIsIC13aC55IC8gMiwgd2gueCwgd2gueSk7XG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERyYXdzIGJvcmRlcnMgb2YgYW4gb2JqZWN0J3MgYm91bmRpbmcgYm94LlxuICAgICAqIFJlcXVpcmVzIHB1YmxpYyBwcm9wZXJ0aWVzOiB3aWR0aCwgaGVpZ2h0XG4gICAgICogUmVxdWlyZXMgcHVibGljIG9wdGlvbnM6IHBhZGRpbmcsIGJvcmRlckNvbG9yXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIGRyYXcgb25cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3R5bGVPdmVycmlkZSBvYmplY3QgdG8gb3ZlcnJpZGUgdGhlIG9iamVjdCBzdHlsZVxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgZHJhd0JvcmRlcnM6IGZ1bmN0aW9uKGN0eCwgc3R5bGVPdmVycmlkZSkge1xuICAgICAgc3R5bGVPdmVycmlkZSA9IHN0eWxlT3ZlcnJpZGUgfHwge307XG4gICAgICB2YXIgd2ggPSB0aGlzLl9jYWxjdWxhdGVDdXJyZW50RGltZW5zaW9ucygpLFxuICAgICAgICAgIHN0cm9rZVdpZHRoID0gdGhpcy5ib3JkZXJTY2FsZUZhY3RvcixcbiAgICAgICAgICB3aWR0aCA9IHdoLnggKyBzdHJva2VXaWR0aCxcbiAgICAgICAgICBoZWlnaHQgPSB3aC55ICsgc3Ryb2tlV2lkdGgsXG4gICAgICAgICAgaGFzQ29udHJvbHMgPSB0eXBlb2Ygc3R5bGVPdmVycmlkZS5oYXNDb250cm9scyAhPT0gJ3VuZGVmaW5lZCcgP1xuICAgICAgICAgICAgc3R5bGVPdmVycmlkZS5oYXNDb250cm9scyA6IHRoaXMuaGFzQ29udHJvbHMsXG4gICAgICAgICAgc2hvdWxkU3Ryb2tlID0gZmFsc2U7XG5cbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICBjdHguc3Ryb2tlU3R5bGUgPSBzdHlsZU92ZXJyaWRlLmJvcmRlckNvbG9yIHx8IHRoaXMuYm9yZGVyQ29sb3I7XG4gICAgICB0aGlzLl9zZXRMaW5lRGFzaChjdHgsIHN0eWxlT3ZlcnJpZGUuYm9yZGVyRGFzaEFycmF5IHx8IHRoaXMuYm9yZGVyRGFzaEFycmF5KTtcblxuICAgICAgY3R4LnN0cm9rZVJlY3QoXG4gICAgICAgIC13aWR0aCAvIDIsXG4gICAgICAgIC1oZWlnaHQgLyAyLFxuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0XG4gICAgICApO1xuXG4gICAgICBpZiAoaGFzQ29udHJvbHMpIHtcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICB0aGlzLmZvckVhY2hDb250cm9sKGZ1bmN0aW9uKGNvbnRyb2wsIGtleSwgZmFicmljT2JqZWN0KSB7XG4gICAgICAgICAgLy8gaW4gdGhpcyBtb21lbnQsIHRoZSBjdHggaXMgY2VudGVyZWQgb24gdGhlIG9iamVjdC5cbiAgICAgICAgICAvLyB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSBhYm92ZSBmdW5jdGlvbiBhcmUgdGhlIHNpemUgb2YgdGhlIGJib3guXG4gICAgICAgICAgaWYgKGNvbnRyb2wud2l0aENvbm5lY3Rpb24gJiYgY29udHJvbC5nZXRWaXNpYmlsaXR5KGZhYnJpY09iamVjdCwga2V5KSkge1xuICAgICAgICAgICAgLy8gcmVzZXQgbW92ZW1lbnQgZm9yIGVhY2ggY29udHJvbFxuICAgICAgICAgICAgc2hvdWxkU3Ryb2tlID0gdHJ1ZTtcbiAgICAgICAgICAgIGN0eC5tb3ZlVG8oY29udHJvbC54ICogd2lkdGgsIGNvbnRyb2wueSAqIGhlaWdodCk7XG4gICAgICAgICAgICBjdHgubGluZVRvKFxuICAgICAgICAgICAgICBjb250cm9sLnggKiB3aWR0aCArIGNvbnRyb2wub2Zmc2V0WCxcbiAgICAgICAgICAgICAgY29udHJvbC55ICogaGVpZ2h0ICsgY29udHJvbC5vZmZzZXRZXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChzaG91bGRTdHJva2UpIHtcbiAgICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYm9yZGVycyBvZiBhbiBvYmplY3QncyBib3VuZGluZyBib3ggd2hlbiBpdCBpcyBpbnNpZGUgYSBncm91cC5cbiAgICAgKiBSZXF1aXJlcyBwdWJsaWMgcHJvcGVydGllczogd2lkdGgsIGhlaWdodFxuICAgICAqIFJlcXVpcmVzIHB1YmxpYyBvcHRpb25zOiBwYWRkaW5nLCBib3JkZXJDb2xvclxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byBkcmF3IG9uXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgb2JqZWN0IHJlcHJlc2VudGluZyBjdXJyZW50IG9iamVjdCBwYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0eWxlT3ZlcnJpZGUgb2JqZWN0IHRvIG92ZXJyaWRlIHRoZSBvYmplY3Qgc3R5bGVcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGRyYXdCb3JkZXJzSW5Hcm91cDogZnVuY3Rpb24oY3R4LCBvcHRpb25zLCBzdHlsZU92ZXJyaWRlKSB7XG4gICAgICBzdHlsZU92ZXJyaWRlID0gc3R5bGVPdmVycmlkZSB8fCB7fTtcbiAgICAgIHZhciBiYm94ID0gZmFicmljLnV0aWwuc2l6ZUFmdGVyVHJhbnNmb3JtKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCBvcHRpb25zKSxcbiAgICAgICAgICBzdHJva2VXaWR0aCA9IHRoaXMuc3Ryb2tlV2lkdGgsXG4gICAgICAgICAgc3Ryb2tlVW5pZm9ybSA9IHRoaXMuc3Ryb2tlVW5pZm9ybSxcbiAgICAgICAgICBib3JkZXJTY2FsZUZhY3RvciA9IHRoaXMuYm9yZGVyU2NhbGVGYWN0b3IsXG4gICAgICAgICAgd2lkdGggPVxuICAgICAgICAgICAgYmJveC54ICsgc3Ryb2tlV2lkdGggKiAoc3Ryb2tlVW5pZm9ybSA/IHRoaXMuY2FudmFzLmdldFpvb20oKSA6IG9wdGlvbnMuc2NhbGVYKSArIGJvcmRlclNjYWxlRmFjdG9yLFxuICAgICAgICAgIGhlaWdodCA9XG4gICAgICAgICAgICBiYm94LnkgKyBzdHJva2VXaWR0aCAqIChzdHJva2VVbmlmb3JtID8gdGhpcy5jYW52YXMuZ2V0Wm9vbSgpIDogb3B0aW9ucy5zY2FsZVkpICsgYm9yZGVyU2NhbGVGYWN0b3I7XG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgdGhpcy5fc2V0TGluZURhc2goY3R4LCBzdHlsZU92ZXJyaWRlLmJvcmRlckRhc2hBcnJheSB8fCB0aGlzLmJvcmRlckRhc2hBcnJheSk7XG4gICAgICBjdHguc3Ryb2tlU3R5bGUgPSBzdHlsZU92ZXJyaWRlLmJvcmRlckNvbG9yIHx8IHRoaXMuYm9yZGVyQ29sb3I7XG4gICAgICBjdHguc3Ryb2tlUmVjdChcbiAgICAgICAgLXdpZHRoIC8gMixcbiAgICAgICAgLWhlaWdodCAvIDIsXG4gICAgICAgIHdpZHRoLFxuICAgICAgICBoZWlnaHRcbiAgICAgICk7XG5cbiAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRHJhd3MgY29ybmVycyBvZiBhbiBvYmplY3QncyBib3VuZGluZyBib3guXG4gICAgICogUmVxdWlyZXMgcHVibGljIHByb3BlcnRpZXM6IHdpZHRoLCBoZWlnaHRcbiAgICAgKiBSZXF1aXJlcyBwdWJsaWMgb3B0aW9uczogY29ybmVyU2l6ZSwgcGFkZGluZ1xuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byBkcmF3IG9uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0eWxlT3ZlcnJpZGUgb2JqZWN0IHRvIG92ZXJyaWRlIHRoZSBvYmplY3Qgc3R5bGVcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGRyYXdDb250cm9sczogZnVuY3Rpb24oY3R4LCBzdHlsZU92ZXJyaWRlKSB7XG4gICAgICBzdHlsZU92ZXJyaWRlID0gc3R5bGVPdmVycmlkZSB8fCB7fTtcbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICB2YXIgcmV0aW5hU2NhbGluZyA9IHRoaXMuY2FudmFzLmdldFJldGluYVNjYWxpbmcoKSwgbWF0cml4LCBwO1xuICAgICAgY3R4LnNldFRyYW5zZm9ybShyZXRpbmFTY2FsaW5nLCAwLCAwLCByZXRpbmFTY2FsaW5nLCAwLCAwKTtcbiAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGN0eC5maWxsU3R5bGUgPSBzdHlsZU92ZXJyaWRlLmNvcm5lckNvbG9yIHx8IHRoaXMuY29ybmVyQ29sb3I7XG4gICAgICBpZiAoIXRoaXMudHJhbnNwYXJlbnRDb3JuZXJzKSB7XG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHN0eWxlT3ZlcnJpZGUuY29ybmVyU3Ryb2tlQ29sb3IgfHwgdGhpcy5jb3JuZXJTdHJva2VDb2xvcjtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3NldExpbmVEYXNoKGN0eCwgc3R5bGVPdmVycmlkZS5jb3JuZXJEYXNoQXJyYXkgfHwgdGhpcy5jb3JuZXJEYXNoQXJyYXkpO1xuICAgICAgdGhpcy5zZXRDb29yZHMoKTtcbiAgICAgIGlmICh0aGlzLmdyb3VwKSB7XG4gICAgICAgIC8vIGZhYnJpY0pTIGRvZXMgbm90IHJlYWxseSBzdXBwb3J0IGRyYXdpbmcgY29udHJvbHMgaW5zaWRlIGdyb3VwcyxcbiAgICAgICAgLy8gdGhpcyBwaWVjZSBvZiBjb2RlIGhlcmUgaGVscHMgaGF2aW5nIGF0IGxlYXN0IHRoZSBjb250cm9sIGluIHBsYWNlcy5cbiAgICAgICAgLy8gSWYgYW4gYXBwbGljYXRpb24gbmVlZHMgdG8gc2hvdyBzb21lIG9iamVjdHMgYXMgc2VsZWN0ZWQgYmVjYXVzZSBvZiBzb21lIFVJIHN0YXRlXG4gICAgICAgIC8vIGNhbiBzdGlsbCBjYWxsIE9iamVjdC5fcmVuZGVyQ29udHJvbHMoKSBvbiBhbnkgb2JqZWN0IHRoZXkgZGVzaXJlLCBpbmRlcGVuZGVudGx5IG9mIGdyb3Vwcy5cbiAgICAgICAgLy8gdXNpbmcgbm8gcGFkZGluZywgY2lyY3VsYXIgY29udHJvbHMgYW5kIGhpZGluZyB0aGUgcm90YXRpbmcgY3Vyc29yIGlzIGhpZ2x5IHN1Z2dlc3RlZCxcbiAgICAgICAgbWF0cml4ID0gdGhpcy5ncm91cC5jYWxjVHJhbnNmb3JtTWF0cml4KCk7XG4gICAgICB9XG4gICAgICB0aGlzLmZvckVhY2hDb250cm9sKGZ1bmN0aW9uKGNvbnRyb2wsIGtleSwgZmFicmljT2JqZWN0KSB7XG4gICAgICAgIHAgPSBmYWJyaWNPYmplY3Qub0Nvb3Jkc1trZXldO1xuICAgICAgICBpZiAoY29udHJvbC5nZXRWaXNpYmlsaXR5KGZhYnJpY09iamVjdCwga2V5KSkge1xuICAgICAgICAgIGlmIChtYXRyaXgpIHtcbiAgICAgICAgICAgIHAgPSBmYWJyaWMudXRpbC50cmFuc2Zvcm1Qb2ludChwLCBtYXRyaXgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250cm9sLnJlbmRlcihjdHgsIHAueCwgcC55LCBzdHlsZU92ZXJyaWRlLCBmYWJyaWNPYmplY3QpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGN0eC5yZXN0b3JlKCk7XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHNwZWNpZmllZCBjb250cm9sIGlzIHZpc2libGUsIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gY29udHJvbEtleSBUaGUga2V5IG9mIHRoZSBjb250cm9sLiBQb3NzaWJsZSB2YWx1ZXMgYXJlICd0bCcsICd0cicsICdicicsICdibCcsICdtbCcsICdtdCcsICdtcicsICdtYicsICdtdHInLlxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufSB0cnVlIGlmIHRoZSBzcGVjaWZpZWQgY29udHJvbCBpcyB2aXNpYmxlLCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKi9cbiAgICBpc0NvbnRyb2xWaXNpYmxlOiBmdW5jdGlvbihjb250cm9sS2V5KSB7XG4gICAgICByZXR1cm4gdGhpcy5jb250cm9sc1tjb250cm9sS2V5XSAmJiB0aGlzLmNvbnRyb2xzW2NvbnRyb2xLZXldLmdldFZpc2liaWxpdHkodGhpcywgY29udHJvbEtleSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHZpc2liaWxpdHkgb2YgdGhlIHNwZWNpZmllZCBjb250cm9sLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjb250cm9sS2V5IFRoZSBrZXkgb2YgdGhlIGNvbnRyb2wuIFBvc3NpYmxlIHZhbHVlcyBhcmUgJ3RsJywgJ3RyJywgJ2JyJywgJ2JsJywgJ21sJywgJ210JywgJ21yJywgJ21iJywgJ210cicuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSB2aXNpYmxlIHRydWUgdG8gc2V0IHRoZSBzcGVjaWZpZWQgY29udHJvbCB2aXNpYmxlLCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHNldENvbnRyb2xWaXNpYmxlOiBmdW5jdGlvbihjb250cm9sS2V5LCB2aXNpYmxlKSB7XG4gICAgICBpZiAoIXRoaXMuX2NvbnRyb2xzVmlzaWJpbGl0eSkge1xuICAgICAgICB0aGlzLl9jb250cm9sc1Zpc2liaWxpdHkgPSB7fTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2NvbnRyb2xzVmlzaWJpbGl0eVtjb250cm9sS2V5XSA9IHZpc2libGU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdmlzaWJpbGl0eSBzdGF0ZSBvZiBvYmplY3QgY29udHJvbHMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuYmxdIHRydWUgdG8gZW5hYmxlIHRoZSBib3R0b20tbGVmdCBjb250cm9sLCBmYWxzZSB0byBkaXNhYmxlIGl0XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5icl0gdHJ1ZSB0byBlbmFibGUgdGhlIGJvdHRvbS1yaWdodCBjb250cm9sLCBmYWxzZSB0byBkaXNhYmxlIGl0XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5tYl0gdHJ1ZSB0byBlbmFibGUgdGhlIG1pZGRsZS1ib3R0b20gY29udHJvbCwgZmFsc2UgdG8gZGlzYWJsZSBpdFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMubWxdIHRydWUgdG8gZW5hYmxlIHRoZSBtaWRkbGUtbGVmdCBjb250cm9sLCBmYWxzZSB0byBkaXNhYmxlIGl0XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5tcl0gdHJ1ZSB0byBlbmFibGUgdGhlIG1pZGRsZS1yaWdodCBjb250cm9sLCBmYWxzZSB0byBkaXNhYmxlIGl0XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5tdF0gdHJ1ZSB0byBlbmFibGUgdGhlIG1pZGRsZS10b3AgY29udHJvbCwgZmFsc2UgdG8gZGlzYWJsZSBpdFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMudGxdIHRydWUgdG8gZW5hYmxlIHRoZSB0b3AtbGVmdCBjb250cm9sLCBmYWxzZSB0byBkaXNhYmxlIGl0XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy50cl0gdHJ1ZSB0byBlbmFibGUgdGhlIHRvcC1yaWdodCBjb250cm9sLCBmYWxzZSB0byBkaXNhYmxlIGl0XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5tdHJdIHRydWUgdG8gZW5hYmxlIHRoZSBtaWRkbGUtdG9wLXJvdGF0ZSBjb250cm9sLCBmYWxzZSB0byBkaXNhYmxlIGl0XG4gICAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzZXRDb250cm9sc1Zpc2liaWxpdHk6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7IH0pO1xuXG4gICAgICBmb3IgKHZhciBwIGluIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5zZXRDb250cm9sVmlzaWJsZShwLCBvcHRpb25zW3BdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cblxuICAgIC8qKlxuICAgICAqIFRoaXMgY2FsbGJhY2sgZnVuY3Rpb24gaXMgY2FsbGVkIGV2ZXJ5IHRpbWUgX2Rpc2NhcmRBY3RpdmVPYmplY3Qgb3IgX3NldEFjdGl2ZU9iamVjdFxuICAgICAqIHRyeSB0byB0byBkZXNlbGVjdCB0aGlzIG9iamVjdC4gSWYgdGhlIGZ1bmN0aW9uIHJldHVybnMgdHJ1ZSwgdGhlIHByb2Nlc3MgaXMgY2FuY2VsbGVkXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBvcHRpb25zIHNlbnQgZnJvbSB0aGUgdXBwZXIgZnVuY3Rpb25zXG4gICAgICogQHBhcmFtIHtFdmVudH0gW29wdGlvbnMuZV0gZXZlbnQgaWYgdGhlIHByb2Nlc3MgaXMgZ2VuZXJhdGVkIGJ5IGFuIGV2ZW50XG4gICAgICovXG4gICAgb25EZXNlbGVjdDogZnVuY3Rpb24oKSB7XG4gICAgICAvLyBpbXBsZW1lbnRlZCBieSBzdWItY2xhc3NlcywgYXMgbmVlZGVkLlxuICAgIH0sXG5cblxuICAgIC8qKlxuICAgICAqIFRoaXMgY2FsbGJhY2sgZnVuY3Rpb24gaXMgY2FsbGVkIGV2ZXJ5IHRpbWUgX2Rpc2NhcmRBY3RpdmVPYmplY3Qgb3IgX3NldEFjdGl2ZU9iamVjdFxuICAgICAqIHRyeSB0byB0byBzZWxlY3QgdGhpcyBvYmplY3QuIElmIHRoZSBmdW5jdGlvbiByZXR1cm5zIHRydWUsIHRoZSBwcm9jZXNzIGlzIGNhbmNlbGxlZFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gb3B0aW9ucyBzZW50IGZyb20gdGhlIHVwcGVyIGZ1bmN0aW9uc1xuICAgICAqIEBwYXJhbSB7RXZlbnR9IFtvcHRpb25zLmVdIGV2ZW50IGlmIHRoZSBwcm9jZXNzIGlzIGdlbmVyYXRlZCBieSBhbiBldmVudFxuICAgICAqL1xuICAgIG9uU2VsZWN0OiBmdW5jdGlvbigpIHtcbiAgICAgIC8vIGltcGxlbWVudGVkIGJ5IHN1Yi1jbGFzc2VzLCBhcyBuZWVkZWQuXG4gICAgfVxuICB9KTtcbn0pKCk7XG5cblxuZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZChmYWJyaWMuU3RhdGljQ2FudmFzLnByb3RvdHlwZSwgLyoqIEBsZW5kcyBmYWJyaWMuU3RhdGljQ2FudmFzLnByb3RvdHlwZSAqLyB7XG5cbiAgLyoqXG4gICAqIEFuaW1hdGlvbiBkdXJhdGlvbiAoaW4gbXMpIGZvciBmeCogbWV0aG9kc1xuICAgKiBAdHlwZSBOdW1iZXJcbiAgICogQGRlZmF1bHRcbiAgICovXG4gIEZYX0RVUkFUSU9OOiA1MDAsXG5cbiAgLyoqXG4gICAqIENlbnRlcnMgb2JqZWN0IGhvcml6b250YWxseSB3aXRoIGFuaW1hdGlvbi5cbiAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNlbnRlclxuICAgKiBAcGFyYW0ge09iamVjdH0gW2NhbGxiYWNrc10gQ2FsbGJhY2tzIG9iamVjdCB3aXRoIG9wdGlvbmFsIFwib25Db21wbGV0ZVwiIGFuZC9vciBcIm9uQ2hhbmdlXCIgcHJvcGVydGllc1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tzLm9uQ29tcGxldGVdIEludm9rZWQgb24gY29tcGxldGlvblxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tzLm9uQ2hhbmdlXSBJbnZva2VkIG9uIGV2ZXJ5IHN0ZXAgb2YgYW5pbWF0aW9uXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5BbmltYXRpb25Db250ZXh0fSBjb250ZXh0XG4gICAqL1xuICBmeENlbnRlck9iamVjdEg6IGZ1bmN0aW9uIChvYmplY3QsIGNhbGxiYWNrcykge1xuICAgIGNhbGxiYWNrcyA9IGNhbGxiYWNrcyB8fCB7IH07XG5cbiAgICB2YXIgZW1wdHkgPSBmdW5jdGlvbigpIHsgfSxcbiAgICAgICAgb25Db21wbGV0ZSA9IGNhbGxiYWNrcy5vbkNvbXBsZXRlIHx8IGVtcHR5LFxuICAgICAgICBvbkNoYW5nZSA9IGNhbGxiYWNrcy5vbkNoYW5nZSB8fCBlbXB0eSxcbiAgICAgICAgX3RoaXMgPSB0aGlzO1xuXG4gICAgcmV0dXJuIGZhYnJpYy51dGlsLmFuaW1hdGUoe1xuICAgICAgdGFyZ2V0OiB0aGlzLFxuICAgICAgc3RhcnRWYWx1ZTogb2JqZWN0LmxlZnQsXG4gICAgICBlbmRWYWx1ZTogdGhpcy5nZXRDZW50ZXJQb2ludCgpLngsXG4gICAgICBkdXJhdGlvbjogdGhpcy5GWF9EVVJBVElPTixcbiAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBvYmplY3Quc2V0KCdsZWZ0JywgdmFsdWUpO1xuICAgICAgICBfdGhpcy5yZXF1ZXN0UmVuZGVyQWxsKCk7XG4gICAgICAgIG9uQ2hhbmdlKCk7XG4gICAgICB9LFxuICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIG9iamVjdC5zZXRDb29yZHMoKTtcbiAgICAgICAgb25Db21wbGV0ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDZW50ZXJzIG9iamVjdCB2ZXJ0aWNhbGx5IHdpdGggYW5pbWF0aW9uLlxuICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY2VudGVyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbY2FsbGJhY2tzXSBDYWxsYmFja3Mgb2JqZWN0IHdpdGggb3B0aW9uYWwgXCJvbkNvbXBsZXRlXCIgYW5kL29yIFwib25DaGFuZ2VcIiBwcm9wZXJ0aWVzXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja3Mub25Db21wbGV0ZV0gSW52b2tlZCBvbiBjb21wbGV0aW9uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja3Mub25DaGFuZ2VdIEludm9rZWQgb24gZXZlcnkgc3RlcCBvZiBhbmltYXRpb25cbiAgICogQHJldHVybiB7ZmFicmljLkFuaW1hdGlvbkNvbnRleHR9IGNvbnRleHRcbiAgICovXG4gIGZ4Q2VudGVyT2JqZWN0VjogZnVuY3Rpb24gKG9iamVjdCwgY2FsbGJhY2tzKSB7XG4gICAgY2FsbGJhY2tzID0gY2FsbGJhY2tzIHx8IHsgfTtcblxuICAgIHZhciBlbXB0eSA9IGZ1bmN0aW9uKCkgeyB9LFxuICAgICAgICBvbkNvbXBsZXRlID0gY2FsbGJhY2tzLm9uQ29tcGxldGUgfHwgZW1wdHksXG4gICAgICAgIG9uQ2hhbmdlID0gY2FsbGJhY2tzLm9uQ2hhbmdlIHx8IGVtcHR5LFxuICAgICAgICBfdGhpcyA9IHRoaXM7XG5cbiAgICByZXR1cm4gZmFicmljLnV0aWwuYW5pbWF0ZSh7XG4gICAgICB0YXJnZXQ6IHRoaXMsXG4gICAgICBzdGFydFZhbHVlOiBvYmplY3QudG9wLFxuICAgICAgZW5kVmFsdWU6IHRoaXMuZ2V0Q2VudGVyUG9pbnQoKS55LFxuICAgICAgZHVyYXRpb246IHRoaXMuRlhfRFVSQVRJT04sXG4gICAgICBvbkNoYW5nZTogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgb2JqZWN0LnNldCgndG9wJywgdmFsdWUpO1xuICAgICAgICBfdGhpcy5yZXF1ZXN0UmVuZGVyQWxsKCk7XG4gICAgICAgIG9uQ2hhbmdlKCk7XG4gICAgICB9LFxuICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIG9iamVjdC5zZXRDb29yZHMoKTtcbiAgICAgICAgb25Db21wbGV0ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTYW1lIGFzIGBmYWJyaWMuQ2FudmFzI3JlbW92ZWAgYnV0IGFuaW1hdGVkXG4gICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gb2JqZWN0IE9iamVjdCB0byByZW1vdmVcbiAgICogQHBhcmFtIHtPYmplY3R9IFtjYWxsYmFja3NdIENhbGxiYWNrcyBvYmplY3Qgd2l0aCBvcHRpb25hbCBcIm9uQ29tcGxldGVcIiBhbmQvb3IgXCJvbkNoYW5nZVwiIHByb3BlcnRpZXNcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrcy5vbkNvbXBsZXRlXSBJbnZva2VkIG9uIGNvbXBsZXRpb25cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrcy5vbkNoYW5nZV0gSW52b2tlZCBvbiBldmVyeSBzdGVwIG9mIGFuaW1hdGlvblxuICAgKiBAcmV0dXJuIHtmYWJyaWMuQW5pbWF0aW9uQ29udGV4dH0gY29udGV4dFxuICAgKi9cbiAgZnhSZW1vdmU6IGZ1bmN0aW9uIChvYmplY3QsIGNhbGxiYWNrcykge1xuICAgIGNhbGxiYWNrcyA9IGNhbGxiYWNrcyB8fCB7IH07XG5cbiAgICB2YXIgZW1wdHkgPSBmdW5jdGlvbigpIHsgfSxcbiAgICAgICAgb25Db21wbGV0ZSA9IGNhbGxiYWNrcy5vbkNvbXBsZXRlIHx8IGVtcHR5LFxuICAgICAgICBvbkNoYW5nZSA9IGNhbGxiYWNrcy5vbkNoYW5nZSB8fCBlbXB0eSxcbiAgICAgICAgX3RoaXMgPSB0aGlzO1xuXG4gICAgcmV0dXJuIGZhYnJpYy51dGlsLmFuaW1hdGUoe1xuICAgICAgdGFyZ2V0OiB0aGlzLFxuICAgICAgc3RhcnRWYWx1ZTogb2JqZWN0Lm9wYWNpdHksXG4gICAgICBlbmRWYWx1ZTogMCxcbiAgICAgIGR1cmF0aW9uOiB0aGlzLkZYX0RVUkFUSU9OLFxuICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIG9iamVjdC5zZXQoJ29wYWNpdHknLCB2YWx1ZSk7XG4gICAgICAgIF90aGlzLnJlcXVlc3RSZW5kZXJBbGwoKTtcbiAgICAgICAgb25DaGFuZ2UoKTtcbiAgICAgIH0sXG4gICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLnJlbW92ZShvYmplY3QpO1xuICAgICAgICBvbkNvbXBsZXRlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuXG5mYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kKGZhYnJpYy5PYmplY3QucHJvdG90eXBlLCAvKiogQGxlbmRzIGZhYnJpYy5PYmplY3QucHJvdG90eXBlICovIHtcbiAgLyoqXG4gICAqIEFuaW1hdGVzIG9iamVjdCdzIHByb3BlcnRpZXNcbiAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBwcm9wZXJ0eSBQcm9wZXJ0eSB0byBhbmltYXRlIChpZiBzdHJpbmcpIG9yIHByb3BlcnRpZXMgdG8gYW5pbWF0ZSAoaWYgb2JqZWN0KVxuICAgKiBAcGFyYW0ge051bWJlcnxPYmplY3R9IHZhbHVlIFZhbHVlIHRvIGFuaW1hdGUgcHJvcGVydHkgdG8gKGlmIHN0cmluZyB3YXMgZ2l2ZW4gZmlyc3QpIG9yIG9wdGlvbnMgb2JqZWN0XG4gICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IHRoaXNBcmdcbiAgICogQHR1dG9yaWFsIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ZhYnJpYy1pbnRyby1wYXJ0LTIjYW5pbWF0aW9ufVxuICAgKiBAcmV0dXJuIHtmYWJyaWMuQW5pbWF0aW9uQ29udGV4dCB8IGZhYnJpYy5BbmltYXRpb25Db250ZXh0W119IGFuaW1hdGlvbiBjb250ZXh0IChvciBhbiBhcnJheSBpZiBwYXNzZWQgbXVsdGlwbGUgcHJvcGVydGllcylcbiAgICpcbiAgICogQXMgb2JqZWN0IOKAlCBtdWx0aXBsZSBwcm9wZXJ0aWVzXG4gICAqXG4gICAqIG9iamVjdC5hbmltYXRlKHsgbGVmdDogLi4uLCB0b3A6IC4uLiB9KTtcbiAgICogb2JqZWN0LmFuaW1hdGUoeyBsZWZ0OiAuLi4sIHRvcDogLi4uIH0sIHsgZHVyYXRpb246IC4uLiB9KTtcbiAgICpcbiAgICogQXMgc3RyaW5nIOKAlCBvbmUgcHJvcGVydHlcbiAgICpcbiAgICogb2JqZWN0LmFuaW1hdGUoJ2xlZnQnLCAuLi4pO1xuICAgKiBvYmplY3QuYW5pbWF0ZSgnbGVmdCcsIHsgZHVyYXRpb246IC4uLiB9KTtcbiAgICpcbiAgICovXG4gIGFuaW1hdGU6IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoYXJndW1lbnRzWzBdICYmIHR5cGVvZiBhcmd1bWVudHNbMF0gPT09ICdvYmplY3QnKSB7XG4gICAgICB2YXIgcHJvcHNUb0FuaW1hdGUgPSBbXSwgcHJvcCwgc2tpcENhbGxiYWNrcywgb3V0ID0gW107XG4gICAgICBmb3IgKHByb3AgaW4gYXJndW1lbnRzWzBdKSB7XG4gICAgICAgIHByb3BzVG9BbmltYXRlLnB1c2gocHJvcCk7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gcHJvcHNUb0FuaW1hdGUubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgcHJvcCA9IHByb3BzVG9BbmltYXRlW2ldO1xuICAgICAgICBza2lwQ2FsbGJhY2tzID0gaSAhPT0gbGVuIC0gMTtcbiAgICAgICAgb3V0LnB1c2godGhpcy5fYW5pbWF0ZShwcm9wLCBhcmd1bWVudHNbMF1bcHJvcF0sIGFyZ3VtZW50c1sxXSwgc2tpcENhbGxiYWNrcykpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5fYW5pbWF0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IHRvIGFuaW1hdGVcbiAgICogQHBhcmFtIHtTdHJpbmd9IHRvIFZhbHVlIHRvIGFuaW1hdGUgdG9cbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtza2lwQ2FsbGJhY2tzXSBXaGVuIHRydWUsIGNhbGxiYWNrcyBsaWtlIG9uY2hhbmdlIGFuZCBvbmNvbXBsZXRlIGFyZSBub3QgaW52b2tlZFxuICAgKi9cbiAgX2FuaW1hdGU6IGZ1bmN0aW9uKHByb3BlcnR5LCB0bywgb3B0aW9ucywgc2tpcENhbGxiYWNrcykge1xuICAgIHZhciBfdGhpcyA9IHRoaXMsIHByb3BQYWlyO1xuXG4gICAgdG8gPSB0by50b1N0cmluZygpO1xuXG4gICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0geyB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIG9wdGlvbnMgPSBmYWJyaWMudXRpbC5vYmplY3QuY2xvbmUob3B0aW9ucyk7XG4gICAgfVxuXG4gICAgaWYgKH5wcm9wZXJ0eS5pbmRleE9mKCcuJykpIHtcbiAgICAgIHByb3BQYWlyID0gcHJvcGVydHkuc3BsaXQoJy4nKTtcbiAgICB9XG5cbiAgICB2YXIgcHJvcElzQ29sb3IgPVxuICAgICAgX3RoaXMuY29sb3JQcm9wZXJ0aWVzLmluZGV4T2YocHJvcGVydHkpID4gLTEgfHxcbiAgICAgIChwcm9wUGFpciAmJiBfdGhpcy5jb2xvclByb3BlcnRpZXMuaW5kZXhPZihwcm9wUGFpclsxXSkgPiAtMSk7XG5cbiAgICB2YXIgY3VycmVudFZhbHVlID0gcHJvcFBhaXJcbiAgICAgID8gdGhpcy5nZXQocHJvcFBhaXJbMF0pW3Byb3BQYWlyWzFdXVxuICAgICAgOiB0aGlzLmdldChwcm9wZXJ0eSk7XG5cbiAgICBpZiAoISgnZnJvbScgaW4gb3B0aW9ucykpIHtcbiAgICAgIG9wdGlvbnMuZnJvbSA9IGN1cnJlbnRWYWx1ZTtcbiAgICB9XG5cbiAgICBpZiAoIXByb3BJc0NvbG9yKSB7XG4gICAgICBpZiAofnRvLmluZGV4T2YoJz0nKSkge1xuICAgICAgICB0byA9IGN1cnJlbnRWYWx1ZSArIHBhcnNlRmxvYXQodG8ucmVwbGFjZSgnPScsICcnKSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdG8gPSBwYXJzZUZsb2F0KHRvKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgX29wdGlvbnMgPSB7XG4gICAgICB0YXJnZXQ6IHRoaXMsXG4gICAgICBzdGFydFZhbHVlOiBvcHRpb25zLmZyb20sXG4gICAgICBlbmRWYWx1ZTogdG8sXG4gICAgICBieVZhbHVlOiBvcHRpb25zLmJ5LFxuICAgICAgZWFzaW5nOiBvcHRpb25zLmVhc2luZyxcbiAgICAgIGR1cmF0aW9uOiBvcHRpb25zLmR1cmF0aW9uLFxuICAgICAgYWJvcnQ6IG9wdGlvbnMuYWJvcnQgJiYgZnVuY3Rpb24odmFsdWUsIHZhbHVlUHJvZ3Jlc3MsIHRpbWVQcm9ncmVzcykge1xuICAgICAgICByZXR1cm4gb3B0aW9ucy5hYm9ydC5jYWxsKF90aGlzLCB2YWx1ZSwgdmFsdWVQcm9ncmVzcywgdGltZVByb2dyZXNzKTtcbiAgICAgIH0sXG4gICAgICBvbkNoYW5nZTogZnVuY3Rpb24gKHZhbHVlLCB2YWx1ZVByb2dyZXNzLCB0aW1lUHJvZ3Jlc3MpIHtcbiAgICAgICAgaWYgKHByb3BQYWlyKSB7XG4gICAgICAgICAgX3RoaXNbcHJvcFBhaXJbMF1dW3Byb3BQYWlyWzFdXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIF90aGlzLnNldChwcm9wZXJ0eSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChza2lwQ2FsbGJhY2tzKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMub25DaGFuZ2UgJiYgb3B0aW9ucy5vbkNoYW5nZSh2YWx1ZSwgdmFsdWVQcm9ncmVzcywgdGltZVByb2dyZXNzKTtcbiAgICAgIH0sXG4gICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbiAodmFsdWUsIHZhbHVlUHJvZ3Jlc3MsIHRpbWVQcm9ncmVzcykge1xuICAgICAgICBpZiAoc2tpcENhbGxiYWNrcykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzLnNldENvb3JkcygpO1xuICAgICAgICBvcHRpb25zLm9uQ29tcGxldGUgJiYgb3B0aW9ucy5vbkNvbXBsZXRlKHZhbHVlLCB2YWx1ZVByb2dyZXNzLCB0aW1lUHJvZ3Jlc3MpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAocHJvcElzQ29sb3IpIHtcbiAgICAgIHJldHVybiBmYWJyaWMudXRpbC5hbmltYXRlQ29sb3IoX29wdGlvbnMuc3RhcnRWYWx1ZSwgX29wdGlvbnMuZW5kVmFsdWUsIF9vcHRpb25zLmR1cmF0aW9uLCBfb3B0aW9ucyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmV0dXJuIGZhYnJpYy51dGlsLmFuaW1hdGUoX29wdGlvbnMpO1xuICAgIH1cbiAgfVxufSk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSksXG4gICAgICBleHRlbmQgPSBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kLFxuICAgICAgY2xvbmUgPSBmYWJyaWMudXRpbC5vYmplY3QuY2xvbmUsXG4gICAgICBjb29yZFByb3BzID0geyB4MTogMSwgeDI6IDEsIHkxOiAxLCB5MjogMSB9O1xuXG4gIGlmIChmYWJyaWMuTGluZSkge1xuICAgIGZhYnJpYy53YXJuKCdmYWJyaWMuTGluZSBpcyBhbHJlYWR5IGRlZmluZWQnKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogTGluZSBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkxpbmVcbiAgICogQGV4dGVuZHMgZmFicmljLk9iamVjdFxuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuTGluZSNpbml0aWFsaXplfSBmb3IgY29uc3RydWN0b3IgZGVmaW5pdGlvblxuICAgKi9cbiAgZmFicmljLkxpbmUgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcyhmYWJyaWMuT2JqZWN0LCAvKiogQGxlbmRzIGZhYnJpYy5MaW5lLnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBUeXBlIG9mIGFuIG9iamVjdFxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHlwZTogJ2xpbmUnLFxuXG4gICAgLyoqXG4gICAgICogeCB2YWx1ZSBvciBmaXJzdCBsaW5lIGVkZ2VcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHgxOiAwLFxuXG4gICAgLyoqXG4gICAgICogeSB2YWx1ZSBvciBmaXJzdCBsaW5lIGVkZ2VcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHkxOiAwLFxuXG4gICAgLyoqXG4gICAgICogeCB2YWx1ZSBvciBzZWNvbmQgbGluZSBlZGdlXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB4MjogMCxcblxuICAgIC8qKlxuICAgICAqIHkgdmFsdWUgb3Igc2Vjb25kIGxpbmUgZWRnZVxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgeTI6IDAsXG5cbiAgICBjYWNoZVByb3BlcnRpZXM6IGZhYnJpYy5PYmplY3QucHJvdG90eXBlLmNhY2hlUHJvcGVydGllcy5jb25jYXQoJ3gxJywgJ3gyJywgJ3kxJywgJ3kyJyksXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwb2ludHNdIEFycmF5IG9mIHBvaW50c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuTGluZX0gdGhpc0FyZ1xuICAgICAqL1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKHBvaW50cywgb3B0aW9ucykge1xuICAgICAgaWYgKCFwb2ludHMpIHtcbiAgICAgICAgcG9pbnRzID0gWzAsIDAsIDAsIDBdO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmNhbGxTdXBlcignaW5pdGlhbGl6ZScsIG9wdGlvbnMpO1xuXG4gICAgICB0aGlzLnNldCgneDEnLCBwb2ludHNbMF0pO1xuICAgICAgdGhpcy5zZXQoJ3kxJywgcG9pbnRzWzFdKTtcbiAgICAgIHRoaXMuc2V0KCd4MicsIHBvaW50c1syXSk7XG4gICAgICB0aGlzLnNldCgneTInLCBwb2ludHNbM10pO1xuXG4gICAgICB0aGlzLl9zZXRXaWR0aEhlaWdodChvcHRpb25zKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnNcbiAgICAgKi9cbiAgICBfc2V0V2lkdGhIZWlnaHQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7IH0pO1xuXG4gICAgICB0aGlzLndpZHRoID0gTWF0aC5hYnModGhpcy54MiAtIHRoaXMueDEpO1xuICAgICAgdGhpcy5oZWlnaHQgPSBNYXRoLmFicyh0aGlzLnkyIC0gdGhpcy55MSk7XG5cbiAgICAgIHRoaXMubGVmdCA9ICdsZWZ0JyBpbiBvcHRpb25zXG4gICAgICAgID8gb3B0aW9ucy5sZWZ0XG4gICAgICAgIDogdGhpcy5fZ2V0TGVmdFRvT3JpZ2luWCgpO1xuXG4gICAgICB0aGlzLnRvcCA9ICd0b3AnIGluIG9wdGlvbnNcbiAgICAgICAgPyBvcHRpb25zLnRvcFxuICAgICAgICA6IHRoaXMuX2dldFRvcFRvT3JpZ2luWSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlXG4gICAgICovXG4gICAgX3NldDogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgdGhpcy5jYWxsU3VwZXIoJ19zZXQnLCBrZXksIHZhbHVlKTtcbiAgICAgIGlmICh0eXBlb2YgY29vcmRQcm9wc1trZXldICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aGlzLl9zZXRXaWR0aEhlaWdodCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7TnVtYmVyfSBsZWZ0VG9PcmlnaW5YIERpc3RhbmNlIGZyb20gbGVmdCBlZGdlIG9mIGNhbnZhcyB0byBvcmlnaW5YIG9mIExpbmUuXG4gICAgICovXG4gICAgX2dldExlZnRUb09yaWdpblg6IG1ha2VFZGdlVG9PcmlnaW5HZXR0ZXIoXG4gICAgICB7IC8vIHByb3BlcnR5IG5hbWVzXG4gICAgICAgIG9yaWdpbjogJ29yaWdpblgnLFxuICAgICAgICBheGlzMTogJ3gxJyxcbiAgICAgICAgYXhpczI6ICd4MicsXG4gICAgICAgIGRpbWVuc2lvbjogJ3dpZHRoJ1xuICAgICAgfSxcbiAgICAgIHsgLy8gcG9zc2libGUgdmFsdWVzIG9mIG9yaWdpblxuICAgICAgICBuZWFyZXN0OiAnbGVmdCcsXG4gICAgICAgIGNlbnRlcjogJ2NlbnRlcicsXG4gICAgICAgIGZhcnRoZXN0OiAncmlnaHQnXG4gICAgICB9XG4gICAgKSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7TnVtYmVyfSB0b3BUb09yaWdpblkgRGlzdGFuY2UgZnJvbSB0b3AgZWRnZSBvZiBjYW52YXMgdG8gb3JpZ2luWSBvZiBMaW5lLlxuICAgICAqL1xuICAgIF9nZXRUb3BUb09yaWdpblk6IG1ha2VFZGdlVG9PcmlnaW5HZXR0ZXIoXG4gICAgICB7IC8vIHByb3BlcnR5IG5hbWVzXG4gICAgICAgIG9yaWdpbjogJ29yaWdpblknLFxuICAgICAgICBheGlzMTogJ3kxJyxcbiAgICAgICAgYXhpczI6ICd5MicsXG4gICAgICAgIGRpbWVuc2lvbjogJ2hlaWdodCdcbiAgICAgIH0sXG4gICAgICB7IC8vIHBvc3NpYmxlIHZhbHVlcyBvZiBvcmlnaW5cbiAgICAgICAgbmVhcmVzdDogJ3RvcCcsXG4gICAgICAgIGNlbnRlcjogJ2NlbnRlcicsXG4gICAgICAgIGZhcnRoZXN0OiAnYm90dG9tJ1xuICAgICAgfVxuICAgICksXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfcmVuZGVyOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcblxuXG4gICAgICB2YXIgcCA9IHRoaXMuY2FsY0xpbmVQb2ludHMoKTtcbiAgICAgIGN0eC5tb3ZlVG8ocC54MSwgcC55MSk7XG4gICAgICBjdHgubGluZVRvKHAueDIsIHAueTIpO1xuXG4gICAgICBjdHgubGluZVdpZHRoID0gdGhpcy5zdHJva2VXaWR0aDtcblxuICAgICAgLy8gVE9ETzogdGVzdCB0aGlzXG4gICAgICAvLyBtYWtlIHN1cmUgc2V0dGluZyBcImZpbGxcIiBjaGFuZ2VzIGNvbG9yIG9mIGEgbGluZVxuICAgICAgLy8gKGJ5IGNvcHlpbmcgZmlsbFN0eWxlIHRvIHN0cm9rZVN0eWxlLCBzaW5jZSBsaW5lIGlzIHN0cm9rZWQsIG5vdCBmaWxsZWQpXG4gICAgICB2YXIgb3JpZ1N0cm9rZVN0eWxlID0gY3R4LnN0cm9rZVN0eWxlO1xuICAgICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5zdHJva2UgfHwgY3R4LmZpbGxTdHlsZTtcbiAgICAgIHRoaXMuc3Ryb2tlICYmIHRoaXMuX3JlbmRlclN0cm9rZShjdHgpO1xuICAgICAgY3R4LnN0cm9rZVN0eWxlID0gb3JpZ1N0cm9rZVN0eWxlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGFuIGhlbHBlciBmb3Igc3ZnIGltcG9ydC4gaXQgcmV0dXJucyB0aGUgY2VudGVyIG9mIHRoZSBvYmplY3QgaW4gdGhlIHN2Z1xuICAgICAqIHVudHJhbnNmb3JtZWQgY29vcmRpbmF0ZXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge09iamVjdH0gY2VudGVyIHBvaW50IGZyb20gZWxlbWVudCBjb29yZGluYXRlc1xuICAgICAqL1xuICAgIF9maW5kQ2VudGVyRnJvbUVsZW1lbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDogKHRoaXMueDEgKyB0aGlzLngyKSAvIDIsXG4gICAgICAgIHk6ICh0aGlzLnkxICsgdGhpcy55MikgLyAyLFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAbWV0aG9kIHRvT2JqZWN0XG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BlcnRpZXNUb0luY2x1ZGVdIEFueSBwcm9wZXJ0aWVzIHRoYXQgeW91IG1pZ2h0IHdhbnQgdG8gYWRkaXRpb25hbGx5IGluY2x1ZGUgaW4gdGhlIG91dHB1dFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgdG9PYmplY3Q6IGZ1bmN0aW9uKHByb3BlcnRpZXNUb0luY2x1ZGUpIHtcbiAgICAgIHJldHVybiBleHRlbmQodGhpcy5jYWxsU3VwZXIoJ3RvT2JqZWN0JywgcHJvcGVydGllc1RvSW5jbHVkZSksIHRoaXMuY2FsY0xpbmVQb2ludHMoKSk7XG4gICAgfSxcblxuICAgIC8qXG4gICAgICogQ2FsY3VsYXRlIG9iamVjdCBkaW1lbnNpb25zIGZyb20gaXRzIHByb3BlcnRpZXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZXROb25UcmFuc2Zvcm1lZERpbWVuc2lvbnM6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGRpbSA9IHRoaXMuY2FsbFN1cGVyKCdfZ2V0Tm9uVHJhbnNmb3JtZWREaW1lbnNpb25zJyk7XG4gICAgICBpZiAodGhpcy5zdHJva2VMaW5lQ2FwID09PSAnYnV0dCcpIHtcbiAgICAgICAgaWYgKHRoaXMud2lkdGggPT09IDApIHtcbiAgICAgICAgICBkaW0ueSAtPSB0aGlzLnN0cm9rZVdpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmhlaWdodCA9PT0gMCkge1xuICAgICAgICAgIGRpbS54IC09IHRoaXMuc3Ryb2tlV2lkdGg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBkaW07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlY2FsY3VsYXRlcyBsaW5lIHBvaW50cyBnaXZlbiB3aWR0aCBhbmQgaGVpZ2h0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjYWxjTGluZVBvaW50czogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgeE11bHQgPSB0aGlzLngxIDw9IHRoaXMueDIgPyAtMSA6IDEsXG4gICAgICAgICAgeU11bHQgPSB0aGlzLnkxIDw9IHRoaXMueTIgPyAtMSA6IDEsXG4gICAgICAgICAgeDEgPSAoeE11bHQgKiB0aGlzLndpZHRoICogMC41KSxcbiAgICAgICAgICB5MSA9ICh5TXVsdCAqIHRoaXMuaGVpZ2h0ICogMC41KSxcbiAgICAgICAgICB4MiA9ICh4TXVsdCAqIHRoaXMud2lkdGggKiAtMC41KSxcbiAgICAgICAgICB5MiA9ICh5TXVsdCAqIHRoaXMuaGVpZ2h0ICogLTAuNSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHgxOiB4MSxcbiAgICAgICAgeDI6IHgyLFxuICAgICAgICB5MTogeTEsXG4gICAgICAgIHkyOiB5MlxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyogX1RPX1NWR19TVEFSVF8gKi9cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHN2ZyByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEByZXR1cm4ge0FycmF5fSBhbiBhcnJheSBvZiBzdHJpbmdzIHdpdGggdGhlIHNwZWNpZmljIHN2ZyByZXByZXNlbnRhdGlvblxuICAgICAqIG9mIHRoZSBpbnN0YW5jZVxuICAgICAqL1xuICAgIF90b1NWRzogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcCA9IHRoaXMuY2FsY0xpbmVQb2ludHMoKTtcbiAgICAgIHJldHVybiBbXG4gICAgICAgICc8bGluZSAnLCAnQ09NTU9OX1BBUlRTJyxcbiAgICAgICAgJ3gxPVwiJywgcC54MSxcbiAgICAgICAgJ1wiIHkxPVwiJywgcC55MSxcbiAgICAgICAgJ1wiIHgyPVwiJywgcC54MixcbiAgICAgICAgJ1wiIHkyPVwiJywgcC55MixcbiAgICAgICAgJ1wiIC8+XFxuJ1xuICAgICAgXTtcbiAgICB9LFxuICAgIC8qIF9UT19TVkdfRU5EXyAqL1xuICB9KTtcblxuICAvKiBfRlJPTV9TVkdfU1RBUlRfICovXG4gIC8qKlxuICAgKiBMaXN0IG9mIGF0dHJpYnV0ZSBuYW1lcyB0byBhY2NvdW50IGZvciB3aGVuIHBhcnNpbmcgU1ZHIGVsZW1lbnQgKHVzZWQgYnkge0BsaW5rIGZhYnJpYy5MaW5lLmZyb21FbGVtZW50fSlcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLkxpbmVcbiAgICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcvc2hhcGVzLmh0bWwjTGluZUVsZW1lbnRcbiAgICovXG4gIGZhYnJpYy5MaW5lLkFUVFJJQlVURV9OQU1FUyA9IGZhYnJpYy5TSEFSRURfQVRUUklCVVRFUy5jb25jYXQoJ3gxIHkxIHgyIHkyJy5zcGxpdCgnICcpKTtcblxuICAvKipcbiAgICogUmV0dXJucyBmYWJyaWMuTGluZSBpbnN0YW5jZSBmcm9tIGFuIFNWRyBlbGVtZW50XG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5MaW5lXG4gICAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gZWxlbWVudCBFbGVtZW50IHRvIHBhcnNlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBjYWxsYmFjayBmdW5jdGlvbiBpbnZva2VkIGFmdGVyIHBhcnNpbmdcbiAgICovXG4gIGZhYnJpYy5MaW5lLmZyb21FbGVtZW50ID0gZnVuY3Rpb24oZWxlbWVudCwgY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IH07XG4gICAgdmFyIHBhcnNlZEF0dHJpYnV0ZXMgPSBmYWJyaWMucGFyc2VBdHRyaWJ1dGVzKGVsZW1lbnQsIGZhYnJpYy5MaW5lLkFUVFJJQlVURV9OQU1FUyksXG4gICAgICAgIHBvaW50cyA9IFtcbiAgICAgICAgICBwYXJzZWRBdHRyaWJ1dGVzLngxIHx8IDAsXG4gICAgICAgICAgcGFyc2VkQXR0cmlidXRlcy55MSB8fCAwLFxuICAgICAgICAgIHBhcnNlZEF0dHJpYnV0ZXMueDIgfHwgMCxcbiAgICAgICAgICBwYXJzZWRBdHRyaWJ1dGVzLnkyIHx8IDBcbiAgICAgICAgXTtcbiAgICBjYWxsYmFjayhuZXcgZmFicmljLkxpbmUocG9pbnRzLCBleHRlbmQocGFyc2VkQXR0cmlidXRlcywgb3B0aW9ucykpKTtcbiAgfTtcbiAgLyogX0ZST01fU1ZHX0VORF8gKi9cblxuICAvKipcbiAgICogUmV0dXJucyBmYWJyaWMuTGluZSBpbnN0YW5jZSBmcm9tIGFuIG9iamVjdCByZXByZXNlbnRhdGlvblxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuTGluZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIGludm9rZWQgd2l0aCBuZXcgaW5zdGFuY2UgYXMgZmlyc3QgYXJndW1lbnRcbiAgICovXG4gIGZhYnJpYy5MaW5lLmZyb21PYmplY3QgPSBmdW5jdGlvbihvYmplY3QsIGNhbGxiYWNrKSB7XG4gICAgZnVuY3Rpb24gX2NhbGxiYWNrKGluc3RhbmNlKSB7XG4gICAgICBkZWxldGUgaW5zdGFuY2UucG9pbnRzO1xuICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soaW5zdGFuY2UpO1xuICAgIH07XG4gICAgdmFyIG9wdGlvbnMgPSBjbG9uZShvYmplY3QsIHRydWUpO1xuICAgIG9wdGlvbnMucG9pbnRzID0gW29iamVjdC54MSwgb2JqZWN0LnkxLCBvYmplY3QueDIsIG9iamVjdC55Ml07XG4gICAgZmFicmljLk9iamVjdC5fZnJvbU9iamVjdCgnTGluZScsIG9wdGlvbnMsIF9jYWxsYmFjaywgJ3BvaW50cycpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBQcm9kdWNlcyBhIGZ1bmN0aW9uIHRoYXQgY2FsY3VsYXRlcyBkaXN0YW5jZSBmcm9tIGNhbnZhcyBlZGdlIHRvIExpbmUgb3JpZ2luLlxuICAgKi9cbiAgZnVuY3Rpb24gbWFrZUVkZ2VUb09yaWdpbkdldHRlcihwcm9wZXJ0eU5hbWVzLCBvcmlnaW5WYWx1ZXMpIHtcbiAgICB2YXIgb3JpZ2luID0gcHJvcGVydHlOYW1lcy5vcmlnaW4sXG4gICAgICAgIGF4aXMxID0gcHJvcGVydHlOYW1lcy5heGlzMSxcbiAgICAgICAgYXhpczIgPSBwcm9wZXJ0eU5hbWVzLmF4aXMyLFxuICAgICAgICBkaW1lbnNpb24gPSBwcm9wZXJ0eU5hbWVzLmRpbWVuc2lvbixcbiAgICAgICAgbmVhcmVzdCA9IG9yaWdpblZhbHVlcy5uZWFyZXN0LFxuICAgICAgICBjZW50ZXIgPSBvcmlnaW5WYWx1ZXMuY2VudGVyLFxuICAgICAgICBmYXJ0aGVzdCA9IG9yaWdpblZhbHVlcy5mYXJ0aGVzdDtcblxuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHN3aXRjaCAodGhpcy5nZXQob3JpZ2luKSkge1xuICAgICAgICBjYXNlIG5lYXJlc3Q6XG4gICAgICAgICAgcmV0dXJuIE1hdGgubWluKHRoaXMuZ2V0KGF4aXMxKSwgdGhpcy5nZXQoYXhpczIpKTtcbiAgICAgICAgY2FzZSBjZW50ZXI6XG4gICAgICAgICAgcmV0dXJuIE1hdGgubWluKHRoaXMuZ2V0KGF4aXMxKSwgdGhpcy5nZXQoYXhpczIpKSArICgwLjUgKiB0aGlzLmdldChkaW1lbnNpb24pKTtcbiAgICAgICAgY2FzZSBmYXJ0aGVzdDpcbiAgICAgICAgICByZXR1cm4gTWF0aC5tYXgodGhpcy5nZXQoYXhpczEpLCB0aGlzLmdldChheGlzMikpO1xuICAgICAgfVxuICAgIH07XG5cbiAgfVxuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSksXG4gICAgICBkZWdyZWVzVG9SYWRpYW5zID0gZmFicmljLnV0aWwuZGVncmVlc1RvUmFkaWFucztcblxuICBpZiAoZmFicmljLkNpcmNsZSkge1xuICAgIGZhYnJpYy53YXJuKCdmYWJyaWMuQ2lyY2xlIGlzIGFscmVhZHkgZGVmaW5lZC4nKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogQ2lyY2xlIGNsYXNzXG4gICAqIEBjbGFzcyBmYWJyaWMuQ2lyY2xlXG4gICAqIEBleHRlbmRzIGZhYnJpYy5PYmplY3RcbiAgICogQHNlZSB7QGxpbmsgZmFicmljLkNpcmNsZSNpbml0aWFsaXplfSBmb3IgY29uc3RydWN0b3IgZGVmaW5pdGlvblxuICAgKi9cbiAgZmFicmljLkNpcmNsZSA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzKGZhYnJpYy5PYmplY3QsIC8qKiBAbGVuZHMgZmFicmljLkNpcmNsZS5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogVHlwZSBvZiBhbiBvYmplY3RcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHR5cGU6ICdjaXJjbGUnLFxuXG4gICAgLyoqXG4gICAgICogUmFkaXVzIG9mIHRoaXMgY2lyY2xlXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICByYWRpdXM6IDAsXG5cbiAgICAvKipcbiAgICAgKiBkZWdyZWVzIG9mIHN0YXJ0IG9mIHRoZSBjaXJjbGUuXG4gICAgICogcHJvYmFibHkgd2lsbCBjaGFuZ2UgdG8gZGVncmVlcyBpbiBuZXh0IG1ham9yIHZlcnNpb25cbiAgICAgKiBAdHlwZSBOdW1iZXIgMCAtIDM1OVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICBzdGFydEFuZ2xlOiAwLFxuXG4gICAgLyoqXG4gICAgICogRW5kIGFuZ2xlIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBwcm9iYWJseSB3aWxsIGNoYW5nZSB0byBkZWdyZWVzIGluIG5leHQgbWFqb3IgdmVyc2lvblxuICAgICAqIEB0eXBlIE51bWJlciAxIC0gMzYwXG4gICAgICogQGRlZmF1bHQgMzYwXG4gICAgICovXG4gICAgZW5kQW5nbGU6IDM2MCxcblxuICAgIGNhY2hlUHJvcGVydGllczogZmFicmljLk9iamVjdC5wcm90b3R5cGUuY2FjaGVQcm9wZXJ0aWVzLmNvbmNhdCgncmFkaXVzJywgJ3N0YXJ0QW5nbGUnLCAnZW5kQW5nbGUnKSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGtleVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2lyY2xlfSB0aGlzQXJnXG4gICAgICovXG4gICAgX3NldDogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgdGhpcy5jYWxsU3VwZXIoJ19zZXQnLCBrZXksIHZhbHVlKTtcblxuICAgICAgaWYgKGtleSA9PT0gJ3JhZGl1cycpIHtcbiAgICAgICAgdGhpcy5zZXRSYWRpdXModmFsdWUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcGVydGllc1RvSW5jbHVkZV0gQW55IHByb3BlcnRpZXMgdGhhdCB5b3UgbWlnaHQgd2FudCB0byBhZGRpdGlvbmFsbHkgaW5jbHVkZSBpbiB0aGUgb3V0cHV0XG4gICAgICogQHJldHVybiB7T2JqZWN0fSBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b09iamVjdDogZnVuY3Rpb24ocHJvcGVydGllc1RvSW5jbHVkZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FsbFN1cGVyKCd0b09iamVjdCcsIFsncmFkaXVzJywgJ3N0YXJ0QW5nbGUnLCAnZW5kQW5nbGUnXS5jb25jYXQocHJvcGVydGllc1RvSW5jbHVkZSkpO1xuICAgIH0sXG5cbiAgICAvKiBfVE9fU1ZHX1NUQVJUXyAqL1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBzdmcgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gYW4gYXJyYXkgb2Ygc3RyaW5ncyB3aXRoIHRoZSBzcGVjaWZpYyBzdmcgcmVwcmVzZW50YXRpb25cbiAgICAgKiBvZiB0aGUgaW5zdGFuY2VcbiAgICAgKi9cbiAgICBfdG9TVkc6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHN2Z1N0cmluZywgeCA9IDAsIHkgPSAwLFxuICAgICAgICAgIGFuZ2xlID0gKHRoaXMuZW5kQW5nbGUgLSB0aGlzLnN0YXJ0QW5nbGUpICUgMzYwO1xuXG4gICAgICBpZiAoYW5nbGUgPT09IDApIHtcbiAgICAgICAgc3ZnU3RyaW5nID0gW1xuICAgICAgICAgICc8Y2lyY2xlICcsICdDT01NT05fUEFSVFMnLFxuICAgICAgICAgICdjeD1cIicgKyB4ICsgJ1wiIGN5PVwiJyArIHkgKyAnXCIgJyxcbiAgICAgICAgICAncj1cIicsIHRoaXMucmFkaXVzLFxuICAgICAgICAgICdcIiAvPlxcbidcbiAgICAgICAgXTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB2YXIgc3RhcnQgPSBkZWdyZWVzVG9SYWRpYW5zKHRoaXMuc3RhcnRBbmdsZSksXG4gICAgICAgICAgICBlbmQgPSBkZWdyZWVzVG9SYWRpYW5zKHRoaXMuZW5kQW5nbGUpLFxuICAgICAgICAgICAgcmFkaXVzID0gdGhpcy5yYWRpdXMsXG4gICAgICAgICAgICBzdGFydFggPSBmYWJyaWMudXRpbC5jb3Moc3RhcnQpICogcmFkaXVzLFxuICAgICAgICAgICAgc3RhcnRZID0gZmFicmljLnV0aWwuc2luKHN0YXJ0KSAqIHJhZGl1cyxcbiAgICAgICAgICAgIGVuZFggPSBmYWJyaWMudXRpbC5jb3MoZW5kKSAqIHJhZGl1cyxcbiAgICAgICAgICAgIGVuZFkgPSBmYWJyaWMudXRpbC5zaW4oZW5kKSAqIHJhZGl1cyxcbiAgICAgICAgICAgIGxhcmdlRmxhZyA9IGFuZ2xlID4gMTgwID8gJzEnIDogJzAnO1xuICAgICAgICBzdmdTdHJpbmcgPSBbXG4gICAgICAgICAgJzxwYXRoIGQ9XCJNICcgKyBzdGFydFggKyAnICcgKyBzdGFydFksXG4gICAgICAgICAgJyBBICcgKyByYWRpdXMgKyAnICcgKyByYWRpdXMsXG4gICAgICAgICAgJyAwICcsICtsYXJnZUZsYWcgKyAnIDEnLCAnICcgKyBlbmRYICsgJyAnICsgZW5kWSxcbiAgICAgICAgICAnXCIgJywgJ0NPTU1PTl9QQVJUUycsICcgLz5cXG4nXG4gICAgICAgIF07XG4gICAgICB9XG4gICAgICByZXR1cm4gc3ZnU3RyaW5nO1xuICAgIH0sXG4gICAgLyogX1RPX1NWR19FTkRfICovXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggY29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfcmVuZGVyOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5hcmMoXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIHRoaXMucmFkaXVzLFxuICAgICAgICBkZWdyZWVzVG9SYWRpYW5zKHRoaXMuc3RhcnRBbmdsZSksXG4gICAgICAgIGRlZ3JlZXNUb1JhZGlhbnModGhpcy5lbmRBbmdsZSksXG4gICAgICAgIGZhbHNlXG4gICAgICApO1xuICAgICAgdGhpcy5fcmVuZGVyUGFpbnRJbk9yZGVyKGN0eCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgaG9yaXpvbnRhbCByYWRpdXMgb2YgYW4gb2JqZWN0IChhY2NvcmRpbmcgdG8gaG93IGFuIG9iamVjdCBpcyBzY2FsZWQpXG4gICAgICogQHJldHVybiB7TnVtYmVyfVxuICAgICAqL1xuICAgIGdldFJhZGl1c1g6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdyYWRpdXMnKSAqIHRoaXMuZ2V0KCdzY2FsZVgnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB2ZXJ0aWNhbCByYWRpdXMgb2YgYW4gb2JqZWN0IChhY2NvcmRpbmcgdG8gaG93IGFuIG9iamVjdCBpcyBzY2FsZWQpXG4gICAgICogQHJldHVybiB7TnVtYmVyfVxuICAgICAqL1xuICAgIGdldFJhZGl1c1k6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdyYWRpdXMnKSAqIHRoaXMuZ2V0KCdzY2FsZVknKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyByYWRpdXMgb2YgYW4gb2JqZWN0IChhbmQgdXBkYXRlcyB3aWR0aCBhY2NvcmRpbmdseSlcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2lyY2xlfSB0aGlzQXJnXG4gICAgICovXG4gICAgc2V0UmFkaXVzOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdGhpcy5yYWRpdXMgPSB2YWx1ZTtcbiAgICAgIHJldHVybiB0aGlzLnNldCgnd2lkdGgnLCB2YWx1ZSAqIDIpLnNldCgnaGVpZ2h0JywgdmFsdWUgKiAyKTtcbiAgICB9LFxuICB9KTtcblxuICAvKiBfRlJPTV9TVkdfU1RBUlRfICovXG4gIC8qKlxuICAgKiBMaXN0IG9mIGF0dHJpYnV0ZSBuYW1lcyB0byBhY2NvdW50IGZvciB3aGVuIHBhcnNpbmcgU1ZHIGVsZW1lbnQgKHVzZWQgYnkge0BsaW5rIGZhYnJpYy5DaXJjbGUuZnJvbUVsZW1lbnR9KVxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuQ2lyY2xlXG4gICAqIEBzZWU6IGh0dHA6Ly93d3cudzMub3JnL1RSL1NWRy9zaGFwZXMuaHRtbCNDaXJjbGVFbGVtZW50XG4gICAqL1xuICBmYWJyaWMuQ2lyY2xlLkFUVFJJQlVURV9OQU1FUyA9IGZhYnJpYy5TSEFSRURfQVRUUklCVVRFUy5jb25jYXQoJ2N4IGN5IHInLnNwbGl0KCcgJykpO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHtAbGluayBmYWJyaWMuQ2lyY2xlfSBpbnN0YW5jZSBmcm9tIGFuIFNWRyBlbGVtZW50XG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5DaXJjbGVcbiAgICogQHBhcmFtIHtTVkdFbGVtZW50fSBlbGVtZW50IEVsZW1lbnQgdG8gcGFyc2VcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBPcHRpb25zIGNhbGxiYWNrIGludm9rZWQgYWZ0ZXIgcGFyc2luZyBpcyBmaW5pc2hlZFxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB2YWx1ZSBvZiBgcmAgYXR0cmlidXRlIGlzIG1pc3Npbmcgb3IgaW52YWxpZFxuICAgKi9cbiAgZmFicmljLkNpcmNsZS5mcm9tRWxlbWVudCA9IGZ1bmN0aW9uKGVsZW1lbnQsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHBhcnNlZEF0dHJpYnV0ZXMgPSBmYWJyaWMucGFyc2VBdHRyaWJ1dGVzKGVsZW1lbnQsIGZhYnJpYy5DaXJjbGUuQVRUUklCVVRFX05BTUVTKTtcblxuICAgIGlmICghaXNWYWxpZFJhZGl1cyhwYXJzZWRBdHRyaWJ1dGVzKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCd2YWx1ZSBvZiBgcmAgYXR0cmlidXRlIGlzIHJlcXVpcmVkIGFuZCBjYW4gbm90IGJlIG5lZ2F0aXZlJyk7XG4gICAgfVxuXG4gICAgcGFyc2VkQXR0cmlidXRlcy5sZWZ0ID0gKHBhcnNlZEF0dHJpYnV0ZXMubGVmdCB8fCAwKSAtIHBhcnNlZEF0dHJpYnV0ZXMucmFkaXVzO1xuICAgIHBhcnNlZEF0dHJpYnV0ZXMudG9wID0gKHBhcnNlZEF0dHJpYnV0ZXMudG9wIHx8IDApIC0gcGFyc2VkQXR0cmlidXRlcy5yYWRpdXM7XG4gICAgY2FsbGJhY2sobmV3IGZhYnJpYy5DaXJjbGUocGFyc2VkQXR0cmlidXRlcykpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gaXNWYWxpZFJhZGl1cyhhdHRyaWJ1dGVzKSB7XG4gICAgcmV0dXJuICgoJ3JhZGl1cycgaW4gYXR0cmlidXRlcykgJiYgKGF0dHJpYnV0ZXMucmFkaXVzID49IDApKTtcbiAgfVxuICAvKiBfRlJPTV9TVkdfRU5EXyAqL1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHtAbGluayBmYWJyaWMuQ2lyY2xlfSBpbnN0YW5jZSBmcm9tIGFuIG9iamVjdCByZXByZXNlbnRhdGlvblxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuQ2lyY2xlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBmcm9tXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYWxsYmFja10gaW52b2tlZCB3aXRoIG5ldyBpbnN0YW5jZSBhcyBmaXJzdCBhcmd1bWVudFxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgZmFicmljLkNpcmNsZS5mcm9tT2JqZWN0ID0gZnVuY3Rpb24ob2JqZWN0LCBjYWxsYmFjaykge1xuICAgIGZhYnJpYy5PYmplY3QuX2Zyb21PYmplY3QoJ0NpcmNsZScsIG9iamVjdCwgY2FsbGJhY2spO1xuICB9O1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSk7XG5cbiAgaWYgKGZhYnJpYy5UcmlhbmdsZSkge1xuICAgIGZhYnJpYy53YXJuKCdmYWJyaWMuVHJpYW5nbGUgaXMgYWxyZWFkeSBkZWZpbmVkJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyaWFuZ2xlIGNsYXNzXG4gICAqIEBjbGFzcyBmYWJyaWMuVHJpYW5nbGVcbiAgICogQGV4dGVuZHMgZmFicmljLk9iamVjdFxuICAgKiBAcmV0dXJuIHtmYWJyaWMuVHJpYW5nbGV9IHRoaXNBcmdcbiAgICogQHNlZSB7QGxpbmsgZmFicmljLlRyaWFuZ2xlI2luaXRpYWxpemV9IGZvciBjb25zdHJ1Y3RvciBkZWZpbml0aW9uXG4gICAqL1xuICBmYWJyaWMuVHJpYW5nbGUgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcyhmYWJyaWMuT2JqZWN0LCAvKiogQGxlbmRzIGZhYnJpYy5UcmlhbmdsZS5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogVHlwZSBvZiBhbiBvYmplY3RcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHR5cGU6ICd0cmlhbmdsZScsXG5cbiAgICAvKipcbiAgICAgKiBXaWR0aCBpcyBzZXQgdG8gMTAwIHRvIGNvbXBlbnNhdGUgdGhlIG9sZCBpbml0aWFsaXplIGNvZGUgdGhhdCB3YXMgc2V0dGluZyBpdCB0byAxMDBcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHdpZHRoOiAxMDAsXG5cbiAgICAvKipcbiAgICAgKiBIZWlnaHQgaXMgc2V0IHRvIDEwMCB0byBjb21wZW5zYXRlIHRoZSBvbGQgaW5pdGlhbGl6ZSBjb2RlIHRoYXQgd2FzIHNldHRpbmcgaXQgdG8gMTAwXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBoZWlnaHQ6IDEwMCxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIF9yZW5kZXI6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgdmFyIHdpZHRoQnkyID0gdGhpcy53aWR0aCAvIDIsXG4gICAgICAgICAgaGVpZ2h0QnkyID0gdGhpcy5oZWlnaHQgLyAyO1xuXG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICBjdHgubW92ZVRvKC13aWR0aEJ5MiwgaGVpZ2h0QnkyKTtcbiAgICAgIGN0eC5saW5lVG8oMCwgLWhlaWdodEJ5Mik7XG4gICAgICBjdHgubGluZVRvKHdpZHRoQnkyLCBoZWlnaHRCeTIpO1xuICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuXG4gICAgICB0aGlzLl9yZW5kZXJQYWludEluT3JkZXIoY3R4KTtcbiAgICB9LFxuXG4gICAgLyogX1RPX1NWR19TVEFSVF8gKi9cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHN2ZyByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEByZXR1cm4ge0FycmF5fSBhbiBhcnJheSBvZiBzdHJpbmdzIHdpdGggdGhlIHNwZWNpZmljIHN2ZyByZXByZXNlbnRhdGlvblxuICAgICAqIG9mIHRoZSBpbnN0YW5jZVxuICAgICAqL1xuICAgIF90b1NWRzogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgd2lkdGhCeTIgPSB0aGlzLndpZHRoIC8gMixcbiAgICAgICAgICBoZWlnaHRCeTIgPSB0aGlzLmhlaWdodCAvIDIsXG4gICAgICAgICAgcG9pbnRzID0gW1xuICAgICAgICAgICAgLXdpZHRoQnkyICsgJyAnICsgaGVpZ2h0QnkyLFxuICAgICAgICAgICAgJzAgJyArIC1oZWlnaHRCeTIsXG4gICAgICAgICAgICB3aWR0aEJ5MiArICcgJyArIGhlaWdodEJ5MlxuICAgICAgICAgIF0uam9pbignLCcpO1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgJzxwb2x5Z29uICcsICdDT01NT05fUEFSVFMnLFxuICAgICAgICAncG9pbnRzPVwiJywgcG9pbnRzLFxuICAgICAgICAnXCIgLz4nXG4gICAgICBdO1xuICAgIH0sXG4gICAgLyogX1RPX1NWR19FTkRfICovXG4gIH0pO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHtAbGluayBmYWJyaWMuVHJpYW5nbGV9IGluc3RhbmNlIGZyb20gYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5UcmlhbmdsZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIGludm9rZWQgd2l0aCBuZXcgaW5zdGFuY2UgYXMgZmlyc3QgYXJndW1lbnRcbiAgICovXG4gIGZhYnJpYy5UcmlhbmdsZS5mcm9tT2JqZWN0ID0gZnVuY3Rpb24ob2JqZWN0LCBjYWxsYmFjaykge1xuICAgIHJldHVybiBmYWJyaWMuT2JqZWN0Ll9mcm9tT2JqZWN0KCdUcmlhbmdsZScsIG9iamVjdCwgY2FsbGJhY2spO1xuICB9O1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSksXG4gICAgICBwaUJ5MiAgID0gTWF0aC5QSSAqIDI7XG5cbiAgaWYgKGZhYnJpYy5FbGxpcHNlKSB7XG4gICAgZmFicmljLndhcm4oJ2ZhYnJpYy5FbGxpcHNlIGlzIGFscmVhZHkgZGVmaW5lZC4nKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogRWxsaXBzZSBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkVsbGlwc2VcbiAgICogQGV4dGVuZHMgZmFicmljLk9iamVjdFxuICAgKiBAcmV0dXJuIHtmYWJyaWMuRWxsaXBzZX0gdGhpc0FyZ1xuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuRWxsaXBzZSNpbml0aWFsaXplfSBmb3IgY29uc3RydWN0b3IgZGVmaW5pdGlvblxuICAgKi9cbiAgZmFicmljLkVsbGlwc2UgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcyhmYWJyaWMuT2JqZWN0LCAvKiogQGxlbmRzIGZhYnJpYy5FbGxpcHNlLnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBUeXBlIG9mIGFuIG9iamVjdFxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHlwZTogJ2VsbGlwc2UnLFxuXG4gICAgLyoqXG4gICAgICogSG9yaXpvbnRhbCByYWRpdXNcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHJ4OiAgIDAsXG5cbiAgICAvKipcbiAgICAgKiBWZXJ0aWNhbCByYWRpdXNcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHJ5OiAgIDAsXG5cbiAgICBjYWNoZVByb3BlcnRpZXM6IGZhYnJpYy5PYmplY3QucHJvdG90eXBlLmNhY2hlUHJvcGVydGllcy5jb25jYXQoJ3J4JywgJ3J5JyksXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuRWxsaXBzZX0gdGhpc0FyZ1xuICAgICAqL1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuY2FsbFN1cGVyKCdpbml0aWFsaXplJywgb3B0aW9ucyk7XG4gICAgICB0aGlzLnNldCgncngnLCBvcHRpb25zICYmIG9wdGlvbnMucnggfHwgMCk7XG4gICAgICB0aGlzLnNldCgncnknLCBvcHRpb25zICYmIG9wdGlvbnMucnkgfHwgMCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGtleVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuRWxsaXBzZX0gdGhpc0FyZ1xuICAgICAqL1xuICAgIF9zZXQ6IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgIHRoaXMuY2FsbFN1cGVyKCdfc2V0Jywga2V5LCB2YWx1ZSk7XG4gICAgICBzd2l0Y2ggKGtleSkge1xuXG4gICAgICAgIGNhc2UgJ3J4JzpcbiAgICAgICAgICB0aGlzLnJ4ID0gdmFsdWU7XG4gICAgICAgICAgdGhpcy5zZXQoJ3dpZHRoJywgdmFsdWUgKiAyKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdyeSc6XG4gICAgICAgICAgdGhpcy5yeSA9IHZhbHVlO1xuICAgICAgICAgIHRoaXMuc2V0KCdoZWlnaHQnLCB2YWx1ZSAqIDIpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBob3Jpem9udGFsIHJhZGl1cyBvZiBhbiBvYmplY3QgKGFjY29yZGluZyB0byBob3cgYW4gb2JqZWN0IGlzIHNjYWxlZClcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAgICovXG4gICAgZ2V0Ung6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdyeCcpICogdGhpcy5nZXQoJ3NjYWxlWCcpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIFZlcnRpY2FsIHJhZGl1cyBvZiBhbiBvYmplY3QgKGFjY29yZGluZyB0byBob3cgYW4gb2JqZWN0IGlzIHNjYWxlZClcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAgICovXG4gICAgZ2V0Unk6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdyeScpICogdGhpcy5nZXQoJ3NjYWxlWScpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wZXJ0aWVzVG9JbmNsdWRlXSBBbnkgcHJvcGVydGllcyB0aGF0IHlvdSBtaWdodCB3YW50IHRvIGFkZGl0aW9uYWxseSBpbmNsdWRlIGluIHRoZSBvdXRwdXRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRvT2JqZWN0OiBmdW5jdGlvbihwcm9wZXJ0aWVzVG9JbmNsdWRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWxsU3VwZXIoJ3RvT2JqZWN0JywgWydyeCcsICdyeSddLmNvbmNhdChwcm9wZXJ0aWVzVG9JbmNsdWRlKSk7XG4gICAgfSxcblxuICAgIC8qIF9UT19TVkdfU1RBUlRfICovXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBzdmcgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gYW4gYXJyYXkgb2Ygc3RyaW5ncyB3aXRoIHRoZSBzcGVjaWZpYyBzdmcgcmVwcmVzZW50YXRpb25cbiAgICAgKiBvZiB0aGUgaW5zdGFuY2VcbiAgICAgKi9cbiAgICBfdG9TVkc6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgJzxlbGxpcHNlICcsICdDT01NT05fUEFSVFMnLFxuICAgICAgICAnY3g9XCIwXCIgY3k9XCIwXCIgJyxcbiAgICAgICAgJ3J4PVwiJywgdGhpcy5yeCxcbiAgICAgICAgJ1wiIHJ5PVwiJywgdGhpcy5yeSxcbiAgICAgICAgJ1wiIC8+XFxuJ1xuICAgICAgXTtcbiAgICB9LFxuICAgIC8qIF9UT19TVkdfRU5EXyAqL1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IGNvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgX3JlbmRlcjogZnVuY3Rpb24oY3R4KSB7XG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgY3R4LnRyYW5zZm9ybSgxLCAwLCAwLCB0aGlzLnJ5IC8gdGhpcy5yeCwgMCwgMCk7XG4gICAgICBjdHguYXJjKFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICB0aGlzLnJ4LFxuICAgICAgICAwLFxuICAgICAgICBwaUJ5MixcbiAgICAgICAgZmFsc2UpO1xuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgIHRoaXMuX3JlbmRlclBhaW50SW5PcmRlcihjdHgpO1xuICAgIH0sXG4gIH0pO1xuXG4gIC8qIF9GUk9NX1NWR19TVEFSVF8gKi9cbiAgLyoqXG4gICAqIExpc3Qgb2YgYXR0cmlidXRlIG5hbWVzIHRvIGFjY291bnQgZm9yIHdoZW4gcGFyc2luZyBTVkcgZWxlbWVudCAodXNlZCBieSB7QGxpbmsgZmFicmljLkVsbGlwc2UuZnJvbUVsZW1lbnR9KVxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuRWxsaXBzZVxuICAgKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL1NWRy9zaGFwZXMuaHRtbCNFbGxpcHNlRWxlbWVudFxuICAgKi9cbiAgZmFicmljLkVsbGlwc2UuQVRUUklCVVRFX05BTUVTID0gZmFicmljLlNIQVJFRF9BVFRSSUJVVEVTLmNvbmNhdCgnY3ggY3kgcnggcnknLnNwbGl0KCcgJykpO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHtAbGluayBmYWJyaWMuRWxsaXBzZX0gaW5zdGFuY2UgZnJvbSBhbiBTVkcgZWxlbWVudFxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuRWxsaXBzZVxuICAgKiBAcGFyYW0ge1NWR0VsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCB0byBwYXJzZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIE9wdGlvbnMgY2FsbGJhY2sgaW52b2tlZCBhZnRlciBwYXJzaW5nIGlzIGZpbmlzaGVkXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5FbGxpcHNlfVxuICAgKi9cbiAgZmFicmljLkVsbGlwc2UuZnJvbUVsZW1lbnQgPSBmdW5jdGlvbihlbGVtZW50LCBjYWxsYmFjaykge1xuXG4gICAgdmFyIHBhcnNlZEF0dHJpYnV0ZXMgPSBmYWJyaWMucGFyc2VBdHRyaWJ1dGVzKGVsZW1lbnQsIGZhYnJpYy5FbGxpcHNlLkFUVFJJQlVURV9OQU1FUyk7XG5cbiAgICBwYXJzZWRBdHRyaWJ1dGVzLmxlZnQgPSAocGFyc2VkQXR0cmlidXRlcy5sZWZ0IHx8IDApIC0gcGFyc2VkQXR0cmlidXRlcy5yeDtcbiAgICBwYXJzZWRBdHRyaWJ1dGVzLnRvcCA9IChwYXJzZWRBdHRyaWJ1dGVzLnRvcCB8fCAwKSAtIHBhcnNlZEF0dHJpYnV0ZXMucnk7XG4gICAgY2FsbGJhY2sobmV3IGZhYnJpYy5FbGxpcHNlKHBhcnNlZEF0dHJpYnV0ZXMpKTtcbiAgfTtcbiAgLyogX0ZST01fU1ZHX0VORF8gKi9cblxuICAvKipcbiAgICogUmV0dXJucyB7QGxpbmsgZmFicmljLkVsbGlwc2V9IGluc3RhbmNlIGZyb20gYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5FbGxpcHNlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBmcm9tXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYWxsYmFja10gaW52b2tlZCB3aXRoIG5ldyBpbnN0YW5jZSBhcyBmaXJzdCBhcmd1bWVudFxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgZmFicmljLkVsbGlwc2UuZnJvbU9iamVjdCA9IGZ1bmN0aW9uKG9iamVjdCwgY2FsbGJhY2spIHtcbiAgICBmYWJyaWMuT2JqZWN0Ll9mcm9tT2JqZWN0KCdFbGxpcHNlJywgb2JqZWN0LCBjYWxsYmFjayk7XG4gIH07XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBmYWJyaWMgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIGV4dGVuZCA9IGZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQ7XG5cbiAgaWYgKGZhYnJpYy5SZWN0KSB7XG4gICAgZmFicmljLndhcm4oJ2ZhYnJpYy5SZWN0IGlzIGFscmVhZHkgZGVmaW5lZCcpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWN0YW5nbGUgY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5SZWN0XG4gICAqIEBleHRlbmRzIGZhYnJpYy5PYmplY3RcbiAgICogQHJldHVybiB7ZmFicmljLlJlY3R9IHRoaXNBcmdcbiAgICogQHNlZSB7QGxpbmsgZmFicmljLlJlY3QjaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICovXG4gIGZhYnJpYy5SZWN0ID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3MoZmFicmljLk9iamVjdCwgLyoqIEBsZW5kcyBmYWJyaWMuUmVjdC5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogTGlzdCBvZiBwcm9wZXJ0aWVzIHRvIGNvbnNpZGVyIHdoZW4gY2hlY2tpbmcgaWYgc3RhdGUgb2YgYW4gb2JqZWN0IGlzIGNoYW5nZWQgKHtAbGluayBmYWJyaWMuT2JqZWN0I2hhc1N0YXRlQ2hhbmdlZH0pXG4gICAgICogYXMgd2VsbCBhcyBmb3IgaGlzdG9yeSAodW5kby9yZWRvKSBwdXJwb3Nlc1xuICAgICAqIEB0eXBlIEFycmF5XG4gICAgICovXG4gICAgc3RhdGVQcm9wZXJ0aWVzOiBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZS5zdGF0ZVByb3BlcnRpZXMuY29uY2F0KCdyeCcsICdyeScpLFxuXG4gICAgLyoqXG4gICAgICogVHlwZSBvZiBhbiBvYmplY3RcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHR5cGU6ICdyZWN0JyxcblxuICAgIC8qKlxuICAgICAqIEhvcml6b250YWwgYm9yZGVyIHJhZGl1c1xuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgcng6ICAgMCxcblxuICAgIC8qKlxuICAgICAqIFZlcnRpY2FsIGJvcmRlciByYWRpdXNcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHJ5OiAgIDAsXG5cbiAgICBjYWNoZVByb3BlcnRpZXM6IGZhYnJpYy5PYmplY3QucHJvdG90eXBlLmNhY2hlUHJvcGVydGllcy5jb25jYXQoJ3J4JywgJ3J5JyksXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IHRoaXNBcmdcbiAgICAgKi9cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICB0aGlzLmNhbGxTdXBlcignaW5pdGlhbGl6ZScsIG9wdGlvbnMpO1xuICAgICAgdGhpcy5faW5pdFJ4UnkoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgcngvcnkgYXR0cmlidXRlc1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2luaXRSeFJ5OiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLnJ4ICYmICF0aGlzLnJ5KSB7XG4gICAgICAgIHRoaXMucnkgPSB0aGlzLnJ4O1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodGhpcy5yeSAmJiAhdGhpcy5yeCkge1xuICAgICAgICB0aGlzLnJ4ID0gdGhpcy5yeTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgX3JlbmRlcjogZnVuY3Rpb24oY3R4KSB7XG5cbiAgICAgIC8vIDF4MSBjYXNlICh1c2VkIGluIHNwcmF5IGJydXNoKSBvcHRpbWl6YXRpb24gd2FzIHJlbW92ZWQgYmVjYXVzZVxuICAgICAgLy8gd2l0aCBjYWNoaW5nIGFuZCBoaWdoZXIgem9vbSBsZXZlbCB0aGlzIG1ha2VzIG1vcmUgZGFtYWdlIHRoYW4gaGVscFxuXG4gICAgICB2YXIgcnggPSB0aGlzLnJ4ID8gTWF0aC5taW4odGhpcy5yeCwgdGhpcy53aWR0aCAvIDIpIDogMCxcbiAgICAgICAgICByeSA9IHRoaXMucnkgPyBNYXRoLm1pbih0aGlzLnJ5LCB0aGlzLmhlaWdodCAvIDIpIDogMCxcbiAgICAgICAgICB3ID0gdGhpcy53aWR0aCxcbiAgICAgICAgICBoID0gdGhpcy5oZWlnaHQsXG4gICAgICAgICAgeCA9IC10aGlzLndpZHRoIC8gMixcbiAgICAgICAgICB5ID0gLXRoaXMuaGVpZ2h0IC8gMixcbiAgICAgICAgICBpc1JvdW5kZWQgPSByeCAhPT0gMCB8fCByeSAhPT0gMCxcbiAgICAgICAgICAvKiBcIm1hZ2ljIG51bWJlclwiIGZvciBiZXppZXIgYXBwcm94aW1hdGlvbnMgb2YgYXJjcyAoaHR0cDovL2l0Yy5rdHUubHQvaXRjMzU0L1Jpc2t1czM1NC5wZGYpICovXG4gICAgICAgICAgayA9IDEgLSAwLjU1MjI4NDc0OTg7XG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG5cbiAgICAgIGN0eC5tb3ZlVG8oeCArIHJ4LCB5KTtcblxuICAgICAgY3R4LmxpbmVUbyh4ICsgdyAtIHJ4LCB5KTtcbiAgICAgIGlzUm91bmRlZCAmJiBjdHguYmV6aWVyQ3VydmVUbyh4ICsgdyAtIGsgKiByeCwgeSwgeCArIHcsIHkgKyBrICogcnksIHggKyB3LCB5ICsgcnkpO1xuXG4gICAgICBjdHgubGluZVRvKHggKyB3LCB5ICsgaCAtIHJ5KTtcbiAgICAgIGlzUm91bmRlZCAmJiBjdHguYmV6aWVyQ3VydmVUbyh4ICsgdywgeSArIGggLSBrICogcnksIHggKyB3IC0gayAqIHJ4LCB5ICsgaCwgeCArIHcgLSByeCwgeSArIGgpO1xuXG4gICAgICBjdHgubGluZVRvKHggKyByeCwgeSArIGgpO1xuICAgICAgaXNSb3VuZGVkICYmIGN0eC5iZXppZXJDdXJ2ZVRvKHggKyBrICogcngsIHkgKyBoLCB4LCB5ICsgaCAtIGsgKiByeSwgeCwgeSArIGggLSByeSk7XG5cbiAgICAgIGN0eC5saW5lVG8oeCwgeSArIHJ5KTtcbiAgICAgIGlzUm91bmRlZCAmJiBjdHguYmV6aWVyQ3VydmVUbyh4LCB5ICsgayAqIHJ5LCB4ICsgayAqIHJ4LCB5LCB4ICsgcngsIHkpO1xuXG4gICAgICBjdHguY2xvc2VQYXRoKCk7XG5cbiAgICAgIHRoaXMuX3JlbmRlclBhaW50SW5PcmRlcihjdHgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wZXJ0aWVzVG9JbmNsdWRlXSBBbnkgcHJvcGVydGllcyB0aGF0IHlvdSBtaWdodCB3YW50IHRvIGFkZGl0aW9uYWxseSBpbmNsdWRlIGluIHRoZSBvdXRwdXRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRvT2JqZWN0OiBmdW5jdGlvbihwcm9wZXJ0aWVzVG9JbmNsdWRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWxsU3VwZXIoJ3RvT2JqZWN0JywgWydyeCcsICdyeSddLmNvbmNhdChwcm9wZXJ0aWVzVG9JbmNsdWRlKSk7XG4gICAgfSxcblxuICAgIC8qIF9UT19TVkdfU1RBUlRfICovXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBzdmcgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gYW4gYXJyYXkgb2Ygc3RyaW5ncyB3aXRoIHRoZSBzcGVjaWZpYyBzdmcgcmVwcmVzZW50YXRpb25cbiAgICAgKiBvZiB0aGUgaW5zdGFuY2VcbiAgICAgKi9cbiAgICBfdG9TVkc6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHggPSAtdGhpcy53aWR0aCAvIDIsIHkgPSAtdGhpcy5oZWlnaHQgLyAyO1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgJzxyZWN0ICcsICdDT01NT05fUEFSVFMnLFxuICAgICAgICAneD1cIicsIHgsICdcIiB5PVwiJywgeSxcbiAgICAgICAgJ1wiIHJ4PVwiJywgdGhpcy5yeCwgJ1wiIHJ5PVwiJywgdGhpcy5yeSxcbiAgICAgICAgJ1wiIHdpZHRoPVwiJywgdGhpcy53aWR0aCwgJ1wiIGhlaWdodD1cIicsIHRoaXMuaGVpZ2h0LFxuICAgICAgICAnXCIgLz5cXG4nXG4gICAgICBdO1xuICAgIH0sXG4gICAgLyogX1RPX1NWR19FTkRfICovXG4gIH0pO1xuXG4gIC8qIF9GUk9NX1NWR19TVEFSVF8gKi9cbiAgLyoqXG4gICAqIExpc3Qgb2YgYXR0cmlidXRlIG5hbWVzIHRvIGFjY291bnQgZm9yIHdoZW4gcGFyc2luZyBTVkcgZWxlbWVudCAodXNlZCBieSBgZmFicmljLlJlY3QuZnJvbUVsZW1lbnRgKVxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuUmVjdFxuICAgKiBAc2VlOiBodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcvc2hhcGVzLmh0bWwjUmVjdEVsZW1lbnRcbiAgICovXG4gIGZhYnJpYy5SZWN0LkFUVFJJQlVURV9OQU1FUyA9IGZhYnJpYy5TSEFSRURfQVRUUklCVVRFUy5jb25jYXQoJ3ggeSByeCByeSB3aWR0aCBoZWlnaHQnLnNwbGl0KCcgJykpO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHtAbGluayBmYWJyaWMuUmVjdH0gaW5zdGFuY2UgZnJvbSBhbiBTVkcgZWxlbWVudFxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuUmVjdFxuICAgKiBAcGFyYW0ge1NWR0VsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCB0byBwYXJzZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBjYWxsYmFjayBmdW5jdGlvbiBpbnZva2VkIGFmdGVyIHBhcnNpbmdcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgKi9cbiAgZmFicmljLlJlY3QuZnJvbUVsZW1lbnQgPSBmdW5jdGlvbihlbGVtZW50LCBjYWxsYmFjaywgb3B0aW9ucykge1xuICAgIGlmICghZWxlbWVudCkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwpO1xuICAgIH1cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IH07XG5cbiAgICB2YXIgcGFyc2VkQXR0cmlidXRlcyA9IGZhYnJpYy5wYXJzZUF0dHJpYnV0ZXMoZWxlbWVudCwgZmFicmljLlJlY3QuQVRUUklCVVRFX05BTUVTKTtcbiAgICBwYXJzZWRBdHRyaWJ1dGVzLmxlZnQgPSBwYXJzZWRBdHRyaWJ1dGVzLmxlZnQgfHwgMDtcbiAgICBwYXJzZWRBdHRyaWJ1dGVzLnRvcCAgPSBwYXJzZWRBdHRyaWJ1dGVzLnRvcCAgfHwgMDtcbiAgICBwYXJzZWRBdHRyaWJ1dGVzLmhlaWdodCAgPSBwYXJzZWRBdHRyaWJ1dGVzLmhlaWdodCB8fCAwO1xuICAgIHBhcnNlZEF0dHJpYnV0ZXMud2lkdGggID0gcGFyc2VkQXR0cmlidXRlcy53aWR0aCB8fCAwO1xuICAgIHZhciByZWN0ID0gbmV3IGZhYnJpYy5SZWN0KGV4dGVuZCgob3B0aW9ucyA/IGZhYnJpYy51dGlsLm9iamVjdC5jbG9uZShvcHRpb25zKSA6IHsgfSksIHBhcnNlZEF0dHJpYnV0ZXMpKTtcbiAgICByZWN0LnZpc2libGUgPSByZWN0LnZpc2libGUgJiYgcmVjdC53aWR0aCA+IDAgJiYgcmVjdC5oZWlnaHQgPiAwO1xuICAgIGNhbGxiYWNrKHJlY3QpO1xuICB9O1xuICAvKiBfRlJPTV9TVkdfRU5EXyAqL1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHtAbGluayBmYWJyaWMuUmVjdH0gaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLlJlY3RcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY3JlYXRlIGFuIGluc3RhbmNlIGZyb21cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBDYWxsYmFjayB0byBpbnZva2Ugd2hlbiBhbiBmYWJyaWMuUmVjdCBpbnN0YW5jZSBpcyBjcmVhdGVkXG4gICAqL1xuICBmYWJyaWMuUmVjdC5mcm9tT2JqZWN0ID0gZnVuY3Rpb24ob2JqZWN0LCBjYWxsYmFjaykge1xuICAgIHJldHVybiBmYWJyaWMuT2JqZWN0Ll9mcm9tT2JqZWN0KCdSZWN0Jywgb2JqZWN0LCBjYWxsYmFjayk7XG4gIH07XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBmYWJyaWMgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIGV4dGVuZCA9IGZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQsXG4gICAgICBtaW4gPSBmYWJyaWMudXRpbC5hcnJheS5taW4sXG4gICAgICBtYXggPSBmYWJyaWMudXRpbC5hcnJheS5tYXgsXG4gICAgICB0b0ZpeGVkID0gZmFicmljLnV0aWwudG9GaXhlZCxcbiAgICAgIHByb2plY3RTdHJva2VPblBvaW50cyA9IGZhYnJpYy51dGlsLnByb2plY3RTdHJva2VPblBvaW50cztcblxuICBpZiAoZmFicmljLlBvbHlsaW5lKSB7XG4gICAgZmFicmljLndhcm4oJ2ZhYnJpYy5Qb2x5bGluZSBpcyBhbHJlYWR5IGRlZmluZWQnKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUG9seWxpbmUgY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5Qb2x5bGluZVxuICAgKiBAZXh0ZW5kcyBmYWJyaWMuT2JqZWN0XG4gICAqIEBzZWUge0BsaW5rIGZhYnJpYy5Qb2x5bGluZSNpbml0aWFsaXplfSBmb3IgY29uc3RydWN0b3IgZGVmaW5pdGlvblxuICAgKi9cbiAgZmFicmljLlBvbHlsaW5lID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3MoZmFicmljLk9iamVjdCwgLyoqIEBsZW5kcyBmYWJyaWMuUG9seWxpbmUucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIFR5cGUgb2YgYW4gb2JqZWN0XG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0eXBlOiAncG9seWxpbmUnLFxuXG4gICAgLyoqXG4gICAgICogUG9pbnRzIGFycmF5XG4gICAgICogQHR5cGUgQXJyYXlcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHBvaW50czogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIFdBUk5JTkc6IEZlYXR1cmUgaW4gcHJvZ3Jlc3NcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGV4YWN0IGJvdW5kaW5nIGJveCB0YWtpbmcgaW4gYWNjb3VudCBzdHJva2VXaWR0aCBvbiBhY3V0ZSBhbmdsZXNcbiAgICAgKiB0aGlzIHdpbGwgYmUgdHVybmVkIHRvIHRydWUgYnkgZGVmYXVsdCBvbiBmYWJyaWMgNi4wXG4gICAgICogbWF5YmUgd2lsbCBiZSBsZWZ0IGluIGFzIGFuIG9wdGltaXphdGlvbiBzaW5jZSBjYWxjdWxhdGlvbnMgbWF5IGJlIHNsb3dcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIGV4YWN0Qm91bmRpbmdCb3g6IGZhbHNlLFxuXG4gICAgY2FjaGVQcm9wZXJ0aWVzOiBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZS5jYWNoZVByb3BlcnRpZXMuY29uY2F0KCdwb2ludHMnKSxcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gcG9pbnRzIEFycmF5IG9mIHBvaW50cyAod2hlcmUgZWFjaCBwb2ludCBpcyBhbiBvYmplY3Qgd2l0aCB4IGFuZCB5KVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUG9seWxpbmV9IHRoaXNBcmdcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHZhciBwb2x5ID0gbmV3IGZhYnJpYy5Qb2x5bGluZShbXG4gICAgICogICAgIHsgeDogMTAsIHk6IDEwIH0sXG4gICAgICogICAgIHsgeDogNTAsIHk6IDMwIH0sXG4gICAgICogICAgIHsgeDogNDAsIHk6IDcwIH0sXG4gICAgICogICAgIHsgeDogNjAsIHk6IDUwIH0sXG4gICAgICogICAgIHsgeDogMTAwLCB5OiAxNTAgfSxcbiAgICAgKiAgICAgeyB4OiA0MCwgeTogMTAwIH1cbiAgICAgKiAgIF0sIHtcbiAgICAgKiAgIHN0cm9rZTogJ3JlZCcsXG4gICAgICogICBsZWZ0OiAxMDAsXG4gICAgICogICB0b3A6IDEwMFxuICAgICAqIH0pO1xuICAgICAqL1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKHBvaW50cywgb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICB0aGlzLnBvaW50cyA9IHBvaW50cyB8fCBbXTtcbiAgICAgIHRoaXMuY2FsbFN1cGVyKCdpbml0aWFsaXplJywgb3B0aW9ucyk7XG4gICAgICB0aGlzLl9zZXRQb3NpdGlvbkRpbWVuc2lvbnMob3B0aW9ucyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3Byb2plY3RTdHJva2VPblBvaW50czogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHByb2plY3RTdHJva2VPblBvaW50cyh0aGlzLnBvaW50cywgdGhpcywgdHJ1ZSk7XG4gICAgfSxcblxuICAgIF9zZXRQb3NpdGlvbkRpbWVuc2lvbnM6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBjYWxjRGltID0gdGhpcy5fY2FsY0RpbWVuc2lvbnMob3B0aW9ucyksIGNvcnJlY3RMZWZ0VG9wLFxuICAgICAgICAgIGNvcnJlY3RTaXplID0gdGhpcy5leGFjdEJvdW5kaW5nQm94ID8gdGhpcy5zdHJva2VXaWR0aCA6IDA7XG4gICAgICB0aGlzLndpZHRoID0gY2FsY0RpbS53aWR0aCAtIGNvcnJlY3RTaXplO1xuICAgICAgdGhpcy5oZWlnaHQgPSBjYWxjRGltLmhlaWdodCAtIGNvcnJlY3RTaXplO1xuICAgICAgaWYgKCFvcHRpb25zLmZyb21TVkcpIHtcbiAgICAgICAgY29ycmVjdExlZnRUb3AgPSB0aGlzLnRyYW5zbGF0ZVRvR2l2ZW5PcmlnaW4oXG4gICAgICAgICAge1xuICAgICAgICAgICAgLy8gdGhpcyBsb29rcyBiYWQsIGJ1dCBpcyBvbmUgd2F5IHRvIGtlZXAgaXQgb3B0aW9uYWwgZm9yIG5vdy5cbiAgICAgICAgICAgIHg6IGNhbGNEaW0ubGVmdCAtIHRoaXMuc3Ryb2tlV2lkdGggLyAyICsgY29ycmVjdFNpemUgLyAyLFxuICAgICAgICAgICAgeTogY2FsY0RpbS50b3AgLSB0aGlzLnN0cm9rZVdpZHRoIC8gMiArIGNvcnJlY3RTaXplIC8gMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgJ2xlZnQnLFxuICAgICAgICAgICd0b3AnLFxuICAgICAgICAgIHRoaXMub3JpZ2luWCxcbiAgICAgICAgICB0aGlzLm9yaWdpbllcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5sZWZ0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aGlzLmxlZnQgPSBvcHRpb25zLmZyb21TVkcgPyBjYWxjRGltLmxlZnQgOiBjb3JyZWN0TGVmdFRvcC54O1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLnRvcCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhpcy50b3AgPSBvcHRpb25zLmZyb21TVkcgPyBjYWxjRGltLnRvcCA6IGNvcnJlY3RMZWZ0VG9wLnk7XG4gICAgICB9XG4gICAgICB0aGlzLnBhdGhPZmZzZXQgPSB7XG4gICAgICAgIHg6IGNhbGNEaW0ubGVmdCArIHRoaXMud2lkdGggLyAyICsgY29ycmVjdFNpemUgLyAyLFxuICAgICAgICB5OiBjYWxjRGltLnRvcCArIHRoaXMuaGVpZ2h0IC8gMiArIGNvcnJlY3RTaXplIC8gMlxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBwb2x5Z29uIG1pbiBhbmQgbWF4IHBvaW50IGZyb20gcG9pbnRzIGFycmF5LFxuICAgICAqIHJldHVybmluZyBhbiBvYmplY3Qgd2l0aCBsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQgdG8gbWVhc3VyZSB0aGVcbiAgICAgKiBwb2x5Z29uIHNpemVcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IG9iamVjdC5sZWZ0IFggY29vcmRpbmF0ZSBvZiB0aGUgcG9seWdvbiBsZWZ0bW9zdCBwb2ludFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gb2JqZWN0LnRvcCBZIGNvb3JkaW5hdGUgb2YgdGhlIHBvbHlnb24gdG9wbW9zdCBwb2ludFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gb2JqZWN0LndpZHRoIGRpc3RhbmNlIGJldHdlZW4gWCBjb29yZGluYXRlcyBvZiB0aGUgcG9seWdvbiBsZWZ0bW9zdCBhbmQgcmlnaHRtb3N0IHBvaW50XG4gICAgICogQHJldHVybiB7T2JqZWN0fSBvYmplY3QuaGVpZ2h0IGRpc3RhbmNlIGJldHdlZW4gWSBjb29yZGluYXRlcyBvZiB0aGUgcG9seWdvbiB0b3Btb3N0IGFuZCBib3R0b21tb3N0IHBvaW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfY2FsY0RpbWVuc2lvbnM6IGZ1bmN0aW9uKCkge1xuXG4gICAgICB2YXIgcG9pbnRzID0gdGhpcy5leGFjdEJvdW5kaW5nQm94ID8gdGhpcy5fcHJvamVjdFN0cm9rZU9uUG9pbnRzKCkgOiB0aGlzLnBvaW50cyxcbiAgICAgICAgICBtaW5YID0gbWluKHBvaW50cywgJ3gnKSB8fCAwLFxuICAgICAgICAgIG1pblkgPSBtaW4ocG9pbnRzLCAneScpIHx8IDAsXG4gICAgICAgICAgbWF4WCA9IG1heChwb2ludHMsICd4JykgfHwgMCxcbiAgICAgICAgICBtYXhZID0gbWF4KHBvaW50cywgJ3knKSB8fCAwLFxuICAgICAgICAgIHdpZHRoID0gKG1heFggLSBtaW5YKSxcbiAgICAgICAgICBoZWlnaHQgPSAobWF4WSAtIG1pblkpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBsZWZ0OiBtaW5YLFxuICAgICAgICB0b3A6IG1pblksXG4gICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wZXJ0aWVzVG9JbmNsdWRlXSBBbnkgcHJvcGVydGllcyB0aGF0IHlvdSBtaWdodCB3YW50IHRvIGFkZGl0aW9uYWxseSBpbmNsdWRlIGluIHRoZSBvdXRwdXRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IE9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRvT2JqZWN0OiBmdW5jdGlvbihwcm9wZXJ0aWVzVG9JbmNsdWRlKSB7XG4gICAgICByZXR1cm4gZXh0ZW5kKHRoaXMuY2FsbFN1cGVyKCd0b09iamVjdCcsIHByb3BlcnRpZXNUb0luY2x1ZGUpLCB7XG4gICAgICAgIHBvaW50czogdGhpcy5wb2ludHMuY29uY2F0KClcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKiBfVE9fU1ZHX1NUQVJUXyAqL1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgc3ZnIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHJldHVybiB7QXJyYXl9IGFuIGFycmF5IG9mIHN0cmluZ3Mgd2l0aCB0aGUgc3BlY2lmaWMgc3ZnIHJlcHJlc2VudGF0aW9uXG4gICAgICogb2YgdGhlIGluc3RhbmNlXG4gICAgICovXG4gICAgX3RvU1ZHOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBwb2ludHMgPSBbXSwgZGlmZlggPSB0aGlzLnBhdGhPZmZzZXQueCwgZGlmZlkgPSB0aGlzLnBhdGhPZmZzZXQueSxcbiAgICAgICAgICBOVU1fRlJBQ1RJT05fRElHSVRTID0gZmFicmljLk9iamVjdC5OVU1fRlJBQ1RJT05fRElHSVRTO1xuXG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5wb2ludHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgcG9pbnRzLnB1c2goXG4gICAgICAgICAgdG9GaXhlZCh0aGlzLnBvaW50c1tpXS54IC0gZGlmZlgsIE5VTV9GUkFDVElPTl9ESUdJVFMpLCAnLCcsXG4gICAgICAgICAgdG9GaXhlZCh0aGlzLnBvaW50c1tpXS55IC0gZGlmZlksIE5VTV9GUkFDVElPTl9ESUdJVFMpLCAnICdcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBbXG4gICAgICAgICc8JyArIHRoaXMudHlwZSArICcgJywgJ0NPTU1PTl9QQVJUUycsXG4gICAgICAgICdwb2ludHM9XCInLCBwb2ludHMuam9pbignJyksXG4gICAgICAgICdcIiAvPlxcbidcbiAgICAgIF07XG4gICAgfSxcbiAgICAvKiBfVE9fU1ZHX0VORF8gKi9cblxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgY29tbW9uUmVuZGVyOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIHZhciBwb2ludCwgbGVuID0gdGhpcy5wb2ludHMubGVuZ3RoLFxuICAgICAgICAgIHggPSB0aGlzLnBhdGhPZmZzZXQueCxcbiAgICAgICAgICB5ID0gdGhpcy5wYXRoT2Zmc2V0Lnk7XG5cbiAgICAgIGlmICghbGVuIHx8IGlzTmFOKHRoaXMucG9pbnRzW2xlbiAtIDFdLnkpKSB7XG4gICAgICAgIC8vIGRvIG5vdCBkcmF3IGlmIG5vIHBvaW50cyBvciBvZGQgcG9pbnRzXG4gICAgICAgIC8vIE5hTiBjb21lcyBmcm9tIHBhcnNlRmxvYXQgb2YgYSBlbXB0eSBzdHJpbmcgaW4gcGFyc2VyXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5tb3ZlVG8odGhpcy5wb2ludHNbMF0ueCAtIHgsIHRoaXMucG9pbnRzWzBdLnkgLSB5KTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgcG9pbnQgPSB0aGlzLnBvaW50c1tpXTtcbiAgICAgICAgY3R4LmxpbmVUbyhwb2ludC54IC0geCwgcG9pbnQueSAtIHkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIF9yZW5kZXI6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgaWYgKCF0aGlzLmNvbW1vblJlbmRlcihjdHgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3JlbmRlclBhaW50SW5PcmRlcihjdHgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGNvbXBsZXhpdHkgb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IGNvbXBsZXhpdHkgb2YgdGhpcyBpbnN0YW5jZVxuICAgICAqL1xuICAgIGNvbXBsZXhpdHk6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdwb2ludHMnKS5sZW5ndGg7XG4gICAgfVxuICB9KTtcblxuICAvKiBfRlJPTV9TVkdfU1RBUlRfICovXG4gIC8qKlxuICAgKiBMaXN0IG9mIGF0dHJpYnV0ZSBuYW1lcyB0byBhY2NvdW50IGZvciB3aGVuIHBhcnNpbmcgU1ZHIGVsZW1lbnQgKHVzZWQgYnkge0BsaW5rIGZhYnJpYy5Qb2x5bGluZS5mcm9tRWxlbWVudH0pXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5Qb2x5bGluZVxuICAgKiBAc2VlOiBodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcvc2hhcGVzLmh0bWwjUG9seWxpbmVFbGVtZW50XG4gICAqL1xuICBmYWJyaWMuUG9seWxpbmUuQVRUUklCVVRFX05BTUVTID0gZmFicmljLlNIQVJFRF9BVFRSSUJVVEVTLmNvbmNhdCgpO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGZhYnJpYy5Qb2x5bGluZSBpbnN0YW5jZSBmcm9tIGFuIFNWRyBlbGVtZW50XG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5Qb2x5bGluZVxuICAgKiBAcGFyYW0ge1NWR0VsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCB0byBwYXJzZXJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgY2FsbGJhY2sgZnVuY3Rpb24gaW52b2tlZCBhZnRlciBwYXJzaW5nXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICovXG4gIGZhYnJpYy5Qb2x5bGluZS5mcm9tRWxlbWVudEdlbmVyYXRvciA9IGZ1bmN0aW9uKF9jbGFzcykge1xuICAgIHJldHVybiBmdW5jdGlvbihlbGVtZW50LCBjYWxsYmFjaywgb3B0aW9ucykge1xuICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsKTtcbiAgICAgIH1cbiAgICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7IH0pO1xuXG4gICAgICB2YXIgcG9pbnRzID0gZmFicmljLnBhcnNlUG9pbnRzQXR0cmlidXRlKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdwb2ludHMnKSksXG4gICAgICAgICAgcGFyc2VkQXR0cmlidXRlcyA9IGZhYnJpYy5wYXJzZUF0dHJpYnV0ZXMoZWxlbWVudCwgZmFicmljW19jbGFzc10uQVRUUklCVVRFX05BTUVTKTtcbiAgICAgIHBhcnNlZEF0dHJpYnV0ZXMuZnJvbVNWRyA9IHRydWU7XG4gICAgICBjYWxsYmFjayhuZXcgZmFicmljW19jbGFzc10ocG9pbnRzLCBleHRlbmQocGFyc2VkQXR0cmlidXRlcywgb3B0aW9ucykpKTtcbiAgICB9O1xuICB9O1xuXG4gIGZhYnJpYy5Qb2x5bGluZS5mcm9tRWxlbWVudCA9IGZhYnJpYy5Qb2x5bGluZS5mcm9tRWxlbWVudEdlbmVyYXRvcignUG9seWxpbmUnKTtcblxuICAvKiBfRlJPTV9TVkdfRU5EXyAqL1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGZhYnJpYy5Qb2x5bGluZSBpbnN0YW5jZSBmcm9tIGFuIG9iamVjdCByZXByZXNlbnRhdGlvblxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuUG9seWxpbmVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY3JlYXRlIGFuIGluc3RhbmNlIGZyb21cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBDYWxsYmFjayB0byBpbnZva2Ugd2hlbiBhbiBmYWJyaWMuUGF0aCBpbnN0YW5jZSBpcyBjcmVhdGVkXG4gICAqL1xuICBmYWJyaWMuUG9seWxpbmUuZnJvbU9iamVjdCA9IGZ1bmN0aW9uKG9iamVjdCwgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gZmFicmljLk9iamVjdC5fZnJvbU9iamVjdCgnUG9seWxpbmUnLCBvYmplY3QsIGNhbGxiYWNrLCAncG9pbnRzJyk7XG4gIH07XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBmYWJyaWMgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0ge30pLFxuICAgICAgcHJvamVjdFN0cm9rZU9uUG9pbnRzID0gZmFicmljLnV0aWwucHJvamVjdFN0cm9rZU9uUG9pbnRzO1xuXG4gIGlmIChmYWJyaWMuUG9seWdvbikge1xuICAgIGZhYnJpYy53YXJuKCdmYWJyaWMuUG9seWdvbiBpcyBhbHJlYWR5IGRlZmluZWQnKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUG9seWdvbiBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLlBvbHlnb25cbiAgICogQGV4dGVuZHMgZmFicmljLlBvbHlsaW5lXG4gICAqIEBzZWUge0BsaW5rIGZhYnJpYy5Qb2x5Z29uI2luaXRpYWxpemV9IGZvciBjb25zdHJ1Y3RvciBkZWZpbml0aW9uXG4gICAqL1xuICBmYWJyaWMuUG9seWdvbiA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzKGZhYnJpYy5Qb2x5bGluZSwgLyoqIEBsZW5kcyBmYWJyaWMuUG9seWdvbi5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogVHlwZSBvZiBhbiBvYmplY3RcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHR5cGU6ICdwb2x5Z29uJyxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3Byb2plY3RTdHJva2VPblBvaW50czogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHByb2plY3RTdHJva2VPblBvaW50cyh0aGlzLnBvaW50cywgdGhpcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIF9yZW5kZXI6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgaWYgKCF0aGlzLmNvbW1vblJlbmRlcihjdHgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgIHRoaXMuX3JlbmRlclBhaW50SW5PcmRlcihjdHgpO1xuICAgIH0sXG5cbiAgfSk7XG5cbiAgLyogX0ZST01fU1ZHX1NUQVJUXyAqL1xuICAvKipcbiAgICogTGlzdCBvZiBhdHRyaWJ1dGUgbmFtZXMgdG8gYWNjb3VudCBmb3Igd2hlbiBwYXJzaW5nIFNWRyBlbGVtZW50ICh1c2VkIGJ5IGBmYWJyaWMuUG9seWdvbi5mcm9tRWxlbWVudGApXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5Qb2x5Z29uXG4gICAqIEBzZWU6IGh0dHA6Ly93d3cudzMub3JnL1RSL1NWRy9zaGFwZXMuaHRtbCNQb2x5Z29uRWxlbWVudFxuICAgKi9cbiAgZmFicmljLlBvbHlnb24uQVRUUklCVVRFX05BTUVTID0gZmFicmljLlNIQVJFRF9BVFRSSUJVVEVTLmNvbmNhdCgpO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHtAbGluayBmYWJyaWMuUG9seWdvbn0gaW5zdGFuY2UgZnJvbSBhbiBTVkcgZWxlbWVudFxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuUG9seWdvblxuICAgKiBAcGFyYW0ge1NWR0VsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCB0byBwYXJzZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBjYWxsYmFjayBmdW5jdGlvbiBpbnZva2VkIGFmdGVyIHBhcnNpbmdcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgKi9cbiAgZmFicmljLlBvbHlnb24uZnJvbUVsZW1lbnQgPSBmYWJyaWMuUG9seWxpbmUuZnJvbUVsZW1lbnRHZW5lcmF0b3IoJ1BvbHlnb24nKTtcbiAgLyogX0ZST01fU1ZHX0VORF8gKi9cblxuICAvKipcbiAgICogUmV0dXJucyBmYWJyaWMuUG9seWdvbiBpbnN0YW5jZSBmcm9tIGFuIG9iamVjdCByZXByZXNlbnRhdGlvblxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuUG9seWdvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIENhbGxiYWNrIHRvIGludm9rZSB3aGVuIGFuIGZhYnJpYy5QYXRoIGluc3RhbmNlIGlzIGNyZWF0ZWRcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIGZhYnJpYy5Qb2x5Z29uLmZyb21PYmplY3QgPSBmdW5jdGlvbihvYmplY3QsIGNhbGxiYWNrKSB7XG4gICAgZmFicmljLk9iamVjdC5fZnJvbU9iamVjdCgnUG9seWdvbicsIG9iamVjdCwgY2FsbGJhY2ssICdwb2ludHMnKTtcbiAgfTtcblxufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyA9IGdsb2JhbC5mYWJyaWMgfHwgKGdsb2JhbC5mYWJyaWMgPSB7IH0pLFxuICAgICAgbWluID0gZmFicmljLnV0aWwuYXJyYXkubWluLFxuICAgICAgbWF4ID0gZmFicmljLnV0aWwuYXJyYXkubWF4LFxuICAgICAgZXh0ZW5kID0gZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZCxcbiAgICAgIGNsb25lID0gZmFicmljLnV0aWwub2JqZWN0LmNsb25lLFxuICAgICAgdG9GaXhlZCA9IGZhYnJpYy51dGlsLnRvRml4ZWQ7XG5cbiAgaWYgKGZhYnJpYy5QYXRoKSB7XG4gICAgZmFicmljLndhcm4oJ2ZhYnJpYy5QYXRoIGlzIGFscmVhZHkgZGVmaW5lZCcpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBQYXRoIGNsYXNzXG4gICAqIEBjbGFzcyBmYWJyaWMuUGF0aFxuICAgKiBAZXh0ZW5kcyBmYWJyaWMuT2JqZWN0XG4gICAqIEB0dXRvcmlhbCB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9mYWJyaWMtaW50cm8tcGFydC0xI3BhdGhfYW5kX3BhdGhncm91cH1cbiAgICogQHNlZSB7QGxpbmsgZmFicmljLlBhdGgjaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICovXG4gIGZhYnJpYy5QYXRoID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3MoZmFicmljLk9iamVjdCwgLyoqIEBsZW5kcyBmYWJyaWMuUGF0aC5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogVHlwZSBvZiBhbiBvYmplY3RcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHR5cGU6ICdwYXRoJyxcblxuICAgIC8qKlxuICAgICAqIEFycmF5IG9mIHBhdGggcG9pbnRzXG4gICAgICogQHR5cGUgQXJyYXlcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHBhdGg6IG51bGwsXG5cbiAgICBjYWNoZVByb3BlcnRpZXM6IGZhYnJpYy5PYmplY3QucHJvdG90eXBlLmNhY2hlUHJvcGVydGllcy5jb25jYXQoJ3BhdGgnLCAnZmlsbFJ1bGUnKSxcblxuICAgIHN0YXRlUHJvcGVydGllczogZmFicmljLk9iamVjdC5wcm90b3R5cGUuc3RhdGVQcm9wZXJ0aWVzLmNvbmNhdCgncGF0aCcpLFxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fFN0cmluZ30gcGF0aCBQYXRoIGRhdGEgKHNlcXVlbmNlIG9mIGNvb3JkaW5hdGVzIGFuZCBjb3JyZXNwb25kaW5nIFwiY29tbWFuZFwiIHRva2VucylcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAgICogQHJldHVybiB7ZmFicmljLlBhdGh9IHRoaXNBcmdcbiAgICAgKi9cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbiAocGF0aCwgb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IGNsb25lKG9wdGlvbnMgfHwge30pO1xuICAgICAgZGVsZXRlIG9wdGlvbnMucGF0aDtcbiAgICAgIHRoaXMuY2FsbFN1cGVyKCdpbml0aWFsaXplJywgb3B0aW9ucyk7XG4gICAgICB0aGlzLl9zZXRQYXRoKHBhdGggfHwgW10sIG9wdGlvbnMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAqIEBwcml2YXRlXG4gICAgKiBAcGFyYW0ge0FycmF5fFN0cmluZ30gcGF0aCBQYXRoIGRhdGEgKHNlcXVlbmNlIG9mIGNvb3JkaW5hdGVzIGFuZCBjb3JyZXNwb25kaW5nIFwiY29tbWFuZFwiIHRva2VucylcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAqL1xuICAgIF9zZXRQYXRoOiBmdW5jdGlvbiAocGF0aCwgb3B0aW9ucykge1xuICAgICAgdGhpcy5wYXRoID0gZmFicmljLnV0aWwubWFrZVBhdGhTaW1wbGVyKFxuICAgICAgICBBcnJheS5pc0FycmF5KHBhdGgpID8gcGF0aCA6IGZhYnJpYy51dGlsLnBhcnNlUGF0aChwYXRoKVxuICAgICAgKTtcblxuICAgICAgZmFicmljLlBvbHlsaW5lLnByb3RvdHlwZS5fc2V0UG9zaXRpb25EaW1lbnNpb25zLmNhbGwodGhpcywgb3B0aW9ucyB8fCB7fSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBjb250ZXh0IHRvIHJlbmRlciBwYXRoIG9uXG4gICAgICovXG4gICAgX3JlbmRlclBhdGhDb21tYW5kczogZnVuY3Rpb24oY3R4KSB7XG4gICAgICB2YXIgY3VycmVudCwgLy8gY3VycmVudCBpbnN0cnVjdGlvblxuICAgICAgICAgIHN1YnBhdGhTdGFydFggPSAwLFxuICAgICAgICAgIHN1YnBhdGhTdGFydFkgPSAwLFxuICAgICAgICAgIHggPSAwLCAvLyBjdXJyZW50IHhcbiAgICAgICAgICB5ID0gMCwgLy8gY3VycmVudCB5XG4gICAgICAgICAgY29udHJvbFggPSAwLCAvLyBjdXJyZW50IGNvbnRyb2wgcG9pbnQgeFxuICAgICAgICAgIGNvbnRyb2xZID0gMCwgLy8gY3VycmVudCBjb250cm9sIHBvaW50IHlcbiAgICAgICAgICBsID0gLXRoaXMucGF0aE9mZnNldC54LFxuICAgICAgICAgIHQgPSAtdGhpcy5wYXRoT2Zmc2V0Lnk7XG5cbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMucGF0aC5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuXG4gICAgICAgIGN1cnJlbnQgPSB0aGlzLnBhdGhbaV07XG5cbiAgICAgICAgc3dpdGNoIChjdXJyZW50WzBdKSB7IC8vIGZpcnN0IGxldHRlclxuXG4gICAgICAgICAgY2FzZSAnTCc6IC8vIGxpbmV0bywgYWJzb2x1dGVcbiAgICAgICAgICAgIHggPSBjdXJyZW50WzFdO1xuICAgICAgICAgICAgeSA9IGN1cnJlbnRbMl07XG4gICAgICAgICAgICBjdHgubGluZVRvKHggKyBsLCB5ICsgdCk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ00nOiAvLyBtb3ZlVG8sIGFic29sdXRlXG4gICAgICAgICAgICB4ID0gY3VycmVudFsxXTtcbiAgICAgICAgICAgIHkgPSBjdXJyZW50WzJdO1xuICAgICAgICAgICAgc3VicGF0aFN0YXJ0WCA9IHg7XG4gICAgICAgICAgICBzdWJwYXRoU3RhcnRZID0geTtcbiAgICAgICAgICAgIGN0eC5tb3ZlVG8oeCArIGwsIHkgKyB0KTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnQyc6IC8vIGJlemllckN1cnZlVG8sIGFic29sdXRlXG4gICAgICAgICAgICB4ID0gY3VycmVudFs1XTtcbiAgICAgICAgICAgIHkgPSBjdXJyZW50WzZdO1xuICAgICAgICAgICAgY29udHJvbFggPSBjdXJyZW50WzNdO1xuICAgICAgICAgICAgY29udHJvbFkgPSBjdXJyZW50WzRdO1xuICAgICAgICAgICAgY3R4LmJlemllckN1cnZlVG8oXG4gICAgICAgICAgICAgIGN1cnJlbnRbMV0gKyBsLFxuICAgICAgICAgICAgICBjdXJyZW50WzJdICsgdCxcbiAgICAgICAgICAgICAgY29udHJvbFggKyBsLFxuICAgICAgICAgICAgICBjb250cm9sWSArIHQsXG4gICAgICAgICAgICAgIHggKyBsLFxuICAgICAgICAgICAgICB5ICsgdFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnUSc6IC8vIHF1YWRyYXRpY0N1cnZlVG8sIGFic29sdXRlXG4gICAgICAgICAgICBjdHgucXVhZHJhdGljQ3VydmVUbyhcbiAgICAgICAgICAgICAgY3VycmVudFsxXSArIGwsXG4gICAgICAgICAgICAgIGN1cnJlbnRbMl0gKyB0LFxuICAgICAgICAgICAgICBjdXJyZW50WzNdICsgbCxcbiAgICAgICAgICAgICAgY3VycmVudFs0XSArIHRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB4ID0gY3VycmVudFszXTtcbiAgICAgICAgICAgIHkgPSBjdXJyZW50WzRdO1xuICAgICAgICAgICAgY29udHJvbFggPSBjdXJyZW50WzFdO1xuICAgICAgICAgICAgY29udHJvbFkgPSBjdXJyZW50WzJdO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICd6JzpcbiAgICAgICAgICBjYXNlICdaJzpcbiAgICAgICAgICAgIHggPSBzdWJwYXRoU3RhcnRYO1xuICAgICAgICAgICAgeSA9IHN1YnBhdGhTdGFydFk7XG4gICAgICAgICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggY29udGV4dCB0byByZW5kZXIgcGF0aCBvblxuICAgICAqL1xuICAgIF9yZW5kZXI6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgdGhpcy5fcmVuZGVyUGF0aENvbW1hbmRzKGN0eCk7XG4gICAgICB0aGlzLl9yZW5kZXJQYWludEluT3JkZXIoY3R4KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRvU3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAnIzxmYWJyaWMuUGF0aCAoJyArIHRoaXMuY29tcGxleGl0eSgpICtcbiAgICAgICAgJyk6IHsgXCJ0b3BcIjogJyArIHRoaXMudG9wICsgJywgXCJsZWZ0XCI6ICcgKyB0aGlzLmxlZnQgKyAnIH0+JztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcGVydGllc1RvSW5jbHVkZV0gQW55IHByb3BlcnRpZXMgdGhhdCB5b3UgbWlnaHQgd2FudCB0byBhZGRpdGlvbmFsbHkgaW5jbHVkZSBpbiB0aGUgb3V0cHV0XG4gICAgICogQHJldHVybiB7T2JqZWN0fSBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b09iamVjdDogZnVuY3Rpb24ocHJvcGVydGllc1RvSW5jbHVkZSkge1xuICAgICAgcmV0dXJuIGV4dGVuZCh0aGlzLmNhbGxTdXBlcigndG9PYmplY3QnLCBwcm9wZXJ0aWVzVG9JbmNsdWRlKSwge1xuICAgICAgICBwYXRoOiB0aGlzLnBhdGgubWFwKGZ1bmN0aW9uKGl0ZW0pIHsgcmV0dXJuIGl0ZW0uc2xpY2UoKTsgfSksXG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBkYXRhbGVzcyBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcGVydGllc1RvSW5jbHVkZV0gQW55IHByb3BlcnRpZXMgdGhhdCB5b3UgbWlnaHQgd2FudCB0byBhZGRpdGlvbmFsbHkgaW5jbHVkZSBpbiB0aGUgb3V0cHV0XG4gICAgICogQHJldHVybiB7T2JqZWN0fSBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b0RhdGFsZXNzT2JqZWN0OiBmdW5jdGlvbihwcm9wZXJ0aWVzVG9JbmNsdWRlKSB7XG4gICAgICB2YXIgbyA9IHRoaXMudG9PYmplY3QoWydzb3VyY2VQYXRoJ10uY29uY2F0KHByb3BlcnRpZXNUb0luY2x1ZGUpKTtcbiAgICAgIGlmIChvLnNvdXJjZVBhdGgpIHtcbiAgICAgICAgZGVsZXRlIG8ucGF0aDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvO1xuICAgIH0sXG5cbiAgICAvKiBfVE9fU1ZHX1NUQVJUXyAqL1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgc3ZnIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHJldHVybiB7QXJyYXl9IGFuIGFycmF5IG9mIHN0cmluZ3Mgd2l0aCB0aGUgc3BlY2lmaWMgc3ZnIHJlcHJlc2VudGF0aW9uXG4gICAgICogb2YgdGhlIGluc3RhbmNlXG4gICAgICovXG4gICAgX3RvU1ZHOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBwYXRoID0gZmFicmljLnV0aWwuam9pblBhdGgodGhpcy5wYXRoKTtcbiAgICAgIHJldHVybiBbXG4gICAgICAgICc8cGF0aCAnLCAnQ09NTU9OX1BBUlRTJyxcbiAgICAgICAgJ2Q9XCInLCBwYXRoLFxuICAgICAgICAnXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiICcsXG4gICAgICAgICcvPlxcbidcbiAgICAgIF07XG4gICAgfSxcblxuICAgIF9nZXRPZmZzZXRUcmFuc2Zvcm06IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGRpZ2l0cyA9IGZhYnJpYy5PYmplY3QuTlVNX0ZSQUNUSU9OX0RJR0lUUztcbiAgICAgIHJldHVybiAnIHRyYW5zbGF0ZSgnICsgdG9GaXhlZCgtdGhpcy5wYXRoT2Zmc2V0LngsIGRpZ2l0cykgKyAnLCAnICtcbiAgICAgICAgICB0b0ZpeGVkKC10aGlzLnBhdGhPZmZzZXQueSwgZGlnaXRzKSArICcpJztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBzdmcgY2xpcFBhdGggcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcmV2aXZlcl0gTWV0aG9kIGZvciBmdXJ0aGVyIHBhcnNpbmcgb2Ygc3ZnIHJlcHJlc2VudGF0aW9uLlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gc3ZnIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgdG9DbGlwUGF0aFNWRzogZnVuY3Rpb24ocmV2aXZlcikge1xuICAgICAgdmFyIGFkZGl0aW9uYWxUcmFuc2Zvcm0gPSB0aGlzLl9nZXRPZmZzZXRUcmFuc2Zvcm0oKTtcbiAgICAgIHJldHVybiAnXFx0JyArIHRoaXMuX2NyZWF0ZUJhc2VDbGlwUGF0aFNWR01hcmt1cChcbiAgICAgICAgdGhpcy5fdG9TVkcoKSwgeyByZXZpdmVyOiByZXZpdmVyLCBhZGRpdGlvbmFsVHJhbnNmb3JtOiBhZGRpdGlvbmFsVHJhbnNmb3JtIH1cbiAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgc3ZnIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3Jldml2ZXJdIE1ldGhvZCBmb3IgZnVydGhlciBwYXJzaW5nIG9mIHN2ZyByZXByZXNlbnRhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IHN2ZyByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRvU1ZHOiBmdW5jdGlvbihyZXZpdmVyKSB7XG4gICAgICB2YXIgYWRkaXRpb25hbFRyYW5zZm9ybSA9IHRoaXMuX2dldE9mZnNldFRyYW5zZm9ybSgpO1xuICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZUJhc2VTVkdNYXJrdXAodGhpcy5fdG9TVkcoKSwgeyByZXZpdmVyOiByZXZpdmVyLCBhZGRpdGlvbmFsVHJhbnNmb3JtOiBhZGRpdGlvbmFsVHJhbnNmb3JtICB9KTtcbiAgICB9LFxuICAgIC8qIF9UT19TVkdfRU5EXyAqL1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBudW1iZXIgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2UgY29tcGxleGl0eVxuICAgICAqIEByZXR1cm4ge051bWJlcn0gY29tcGxleGl0eSBvZiB0aGlzIGluc3RhbmNlXG4gICAgICovXG4gICAgY29tcGxleGl0eTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5wYXRoLmxlbmd0aDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfY2FsY0RpbWVuc2lvbnM6IGZ1bmN0aW9uKCkge1xuXG4gICAgICB2YXIgYVggPSBbXSxcbiAgICAgICAgICBhWSA9IFtdLFxuICAgICAgICAgIGN1cnJlbnQsIC8vIGN1cnJlbnQgaW5zdHJ1Y3Rpb25cbiAgICAgICAgICBzdWJwYXRoU3RhcnRYID0gMCxcbiAgICAgICAgICBzdWJwYXRoU3RhcnRZID0gMCxcbiAgICAgICAgICB4ID0gMCwgLy8gY3VycmVudCB4XG4gICAgICAgICAgeSA9IDAsIC8vIGN1cnJlbnQgeVxuICAgICAgICAgIGJvdW5kcztcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMucGF0aC5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuXG4gICAgICAgIGN1cnJlbnQgPSB0aGlzLnBhdGhbaV07XG5cbiAgICAgICAgc3dpdGNoIChjdXJyZW50WzBdKSB7IC8vIGZpcnN0IGxldHRlclxuXG4gICAgICAgICAgY2FzZSAnTCc6IC8vIGxpbmV0bywgYWJzb2x1dGVcbiAgICAgICAgICAgIHggPSBjdXJyZW50WzFdO1xuICAgICAgICAgICAgeSA9IGN1cnJlbnRbMl07XG4gICAgICAgICAgICBib3VuZHMgPSBbXTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnTSc6IC8vIG1vdmVUbywgYWJzb2x1dGVcbiAgICAgICAgICAgIHggPSBjdXJyZW50WzFdO1xuICAgICAgICAgICAgeSA9IGN1cnJlbnRbMl07XG4gICAgICAgICAgICBzdWJwYXRoU3RhcnRYID0geDtcbiAgICAgICAgICAgIHN1YnBhdGhTdGFydFkgPSB5O1xuICAgICAgICAgICAgYm91bmRzID0gW107XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ0MnOiAvLyBiZXppZXJDdXJ2ZVRvLCBhYnNvbHV0ZVxuICAgICAgICAgICAgYm91bmRzID0gZmFicmljLnV0aWwuZ2V0Qm91bmRzT2ZDdXJ2ZSh4LCB5LFxuICAgICAgICAgICAgICBjdXJyZW50WzFdLFxuICAgICAgICAgICAgICBjdXJyZW50WzJdLFxuICAgICAgICAgICAgICBjdXJyZW50WzNdLFxuICAgICAgICAgICAgICBjdXJyZW50WzRdLFxuICAgICAgICAgICAgICBjdXJyZW50WzVdLFxuICAgICAgICAgICAgICBjdXJyZW50WzZdXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgeCA9IGN1cnJlbnRbNV07XG4gICAgICAgICAgICB5ID0gY3VycmVudFs2XTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnUSc6IC8vIHF1YWRyYXRpY0N1cnZlVG8sIGFic29sdXRlXG4gICAgICAgICAgICBib3VuZHMgPSBmYWJyaWMudXRpbC5nZXRCb3VuZHNPZkN1cnZlKHgsIHksXG4gICAgICAgICAgICAgIGN1cnJlbnRbMV0sXG4gICAgICAgICAgICAgIGN1cnJlbnRbMl0sXG4gICAgICAgICAgICAgIGN1cnJlbnRbMV0sXG4gICAgICAgICAgICAgIGN1cnJlbnRbMl0sXG4gICAgICAgICAgICAgIGN1cnJlbnRbM10sXG4gICAgICAgICAgICAgIGN1cnJlbnRbNF1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB4ID0gY3VycmVudFszXTtcbiAgICAgICAgICAgIHkgPSBjdXJyZW50WzRdO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICd6JzpcbiAgICAgICAgICBjYXNlICdaJzpcbiAgICAgICAgICAgIHggPSBzdWJwYXRoU3RhcnRYO1xuICAgICAgICAgICAgeSA9IHN1YnBhdGhTdGFydFk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBib3VuZHMuZm9yRWFjaChmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgICBhWC5wdXNoKHBvaW50LngpO1xuICAgICAgICAgIGFZLnB1c2gocG9pbnQueSk7XG4gICAgICAgIH0pO1xuICAgICAgICBhWC5wdXNoKHgpO1xuICAgICAgICBhWS5wdXNoKHkpO1xuICAgICAgfVxuXG4gICAgICB2YXIgbWluWCA9IG1pbihhWCkgfHwgMCxcbiAgICAgICAgICBtaW5ZID0gbWluKGFZKSB8fCAwLFxuICAgICAgICAgIG1heFggPSBtYXgoYVgpIHx8IDAsXG4gICAgICAgICAgbWF4WSA9IG1heChhWSkgfHwgMCxcbiAgICAgICAgICBkZWx0YVggPSBtYXhYIC0gbWluWCxcbiAgICAgICAgICBkZWx0YVkgPSBtYXhZIC0gbWluWTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbGVmdDogbWluWCxcbiAgICAgICAgdG9wOiBtaW5ZLFxuICAgICAgICB3aWR0aDogZGVsdGFYLFxuICAgICAgICBoZWlnaHQ6IGRlbHRhWVxuICAgICAgfTtcbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIGZhYnJpYy5QYXRoIGZyb20gYW4gb2JqZWN0XG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5QYXRoXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBDYWxsYmFjayB0byBpbnZva2Ugd2hlbiBhbiBmYWJyaWMuUGF0aCBpbnN0YW5jZSBpcyBjcmVhdGVkXG4gICAqL1xuICBmYWJyaWMuUGF0aC5mcm9tT2JqZWN0ID0gZnVuY3Rpb24ob2JqZWN0LCBjYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2Ygb2JqZWN0LnNvdXJjZVBhdGggPT09ICdzdHJpbmcnKSB7XG4gICAgICB2YXIgcGF0aFVybCA9IG9iamVjdC5zb3VyY2VQYXRoO1xuICAgICAgZmFicmljLmxvYWRTVkdGcm9tVVJMKHBhdGhVcmwsIGZ1bmN0aW9uIChlbGVtZW50cykge1xuICAgICAgICB2YXIgcGF0aCA9IGVsZW1lbnRzWzBdO1xuICAgICAgICBwYXRoLnNldE9wdGlvbnMob2JqZWN0KTtcbiAgICAgICAgaWYgKG9iamVjdC5jbGlwUGF0aCkge1xuICAgICAgICAgIGZhYnJpYy51dGlsLmVubGl2ZW5PYmplY3RzKFtvYmplY3QuY2xpcFBhdGhdLCBmdW5jdGlvbihlbGl2ZW5lZE9iamVjdHMpIHtcbiAgICAgICAgICAgIHBhdGguY2xpcFBhdGggPSBlbGl2ZW5lZE9iamVjdHNbMF07XG4gICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhwYXRoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhwYXRoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZmFicmljLk9iamVjdC5fZnJvbU9iamVjdCgnUGF0aCcsIG9iamVjdCwgY2FsbGJhY2ssICdwYXRoJyk7XG4gICAgfVxuICB9O1xuXG4gIC8qIF9GUk9NX1NWR19TVEFSVF8gKi9cbiAgLyoqXG4gICAqIExpc3Qgb2YgYXR0cmlidXRlIG5hbWVzIHRvIGFjY291bnQgZm9yIHdoZW4gcGFyc2luZyBTVkcgZWxlbWVudCAodXNlZCBieSBgZmFicmljLlBhdGguZnJvbUVsZW1lbnRgKVxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuUGF0aFxuICAgKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL1NWRy9wYXRocy5odG1sI1BhdGhFbGVtZW50XG4gICAqL1xuICBmYWJyaWMuUGF0aC5BVFRSSUJVVEVfTkFNRVMgPSBmYWJyaWMuU0hBUkVEX0FUVFJJQlVURVMuY29uY2F0KFsnZCddKTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBmYWJyaWMuUGF0aCBmcm9tIGFuIFNWRyA8cGF0aD4gZWxlbWVudFxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuUGF0aFxuICAgKiBAcGFyYW0ge1NWR0VsZW1lbnR9IGVsZW1lbnQgdG8gcGFyc2VcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2sgdG8gaW52b2tlIHdoZW4gYW4gZmFicmljLlBhdGggaW5zdGFuY2UgaXMgY3JlYXRlZFxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gT3B0aW9ucyBjYWxsYmFjayBpbnZva2VkIGFmdGVyIHBhcnNpbmcgaXMgZmluaXNoZWRcbiAgICovXG4gIGZhYnJpYy5QYXRoLmZyb21FbGVtZW50ID0gZnVuY3Rpb24oZWxlbWVudCwgY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgICB2YXIgcGFyc2VkQXR0cmlidXRlcyA9IGZhYnJpYy5wYXJzZUF0dHJpYnV0ZXMoZWxlbWVudCwgZmFicmljLlBhdGguQVRUUklCVVRFX05BTUVTKTtcbiAgICBwYXJzZWRBdHRyaWJ1dGVzLmZyb21TVkcgPSB0cnVlO1xuICAgIGNhbGxiYWNrKG5ldyBmYWJyaWMuUGF0aChwYXJzZWRBdHRyaWJ1dGVzLmQsIGV4dGVuZChwYXJzZWRBdHRyaWJ1dGVzLCBvcHRpb25zKSkpO1xuICB9O1xuICAvKiBfRlJPTV9TVkdfRU5EXyAqL1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSksXG4gICAgICBtaW4gPSBmYWJyaWMudXRpbC5hcnJheS5taW4sXG4gICAgICBtYXggPSBmYWJyaWMudXRpbC5hcnJheS5tYXg7XG5cbiAgaWYgKGZhYnJpYy5Hcm91cCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBHcm91cCBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkdyb3VwXG4gICAqIEBleHRlbmRzIGZhYnJpYy5PYmplY3RcbiAgICogQG1peGVzIGZhYnJpYy5Db2xsZWN0aW9uXG4gICAqIEB0dXRvcmlhbCB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9mYWJyaWMtaW50cm8tcGFydC0zI2dyb3Vwc31cbiAgICogQHNlZSB7QGxpbmsgZmFicmljLkdyb3VwI2luaXRpYWxpemV9IGZvciBjb25zdHJ1Y3RvciBkZWZpbml0aW9uXG4gICAqL1xuICBmYWJyaWMuR3JvdXAgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcyhmYWJyaWMuT2JqZWN0LCBmYWJyaWMuQ29sbGVjdGlvbiwgLyoqIEBsZW5kcyBmYWJyaWMuR3JvdXAucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIFR5cGUgb2YgYW4gb2JqZWN0XG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0eXBlOiAnZ3JvdXAnLFxuXG4gICAgLyoqXG4gICAgICogV2lkdGggb2Ygc3Ryb2tlXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzdHJva2VXaWR0aDogMCxcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyBpZiBjbGljaywgbW91c2VvdmVyLCBtb3VzZW91dCBldmVudHMgJiBob3ZlckN1cnNvciBzaG91bGQgYWxzbyBjaGVjayBmb3Igc3VidGFyZ2V0c1xuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHN1YlRhcmdldENoZWNrOiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIEdyb3VwcyBhcmUgY29udGFpbmVyLCBkbyBub3QgcmVuZGVyIGFueXRoaW5nIG9uIHRoZXlyIG93biwgZW5jZSBubyBjYWNoZSBwcm9wZXJ0aWVzXG4gICAgICogQHR5cGUgQXJyYXlcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGNhY2hlUHJvcGVydGllczogW10sXG5cbiAgICAvKipcbiAgICAgKiBzZXRPbkdyb3VwIGlzIGEgbWV0aG9kIHVzZWQgZm9yIFRleHRCb3ggdGhhdCBpcyBubyBtb3JlIHVzZWQgc2luY2UgMi4wLjAgVGhlIGJlaGF2aW9yIGlzIHN0aWxsXG4gICAgICogYXZhaWxhYmxlIHNldHRpbmcgdGhpcyBib29sZWFuIHRvIHRydWUuXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdXNlU2V0T25Hcm91cDogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RzIEdyb3VwIG9iamVjdHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbaXNBbHJlYWR5R3JvdXBlZF0gaWYgdHJ1ZSwgb2JqZWN0cyBoYXZlIGJlZW4gZ3JvdXBlZCBhbHJlYWR5LlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gdGhpc0FyZ1xuICAgICAqL1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKG9iamVjdHMsIG9wdGlvbnMsIGlzQWxyZWFkeUdyb3VwZWQpIHtcbiAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgdGhpcy5fb2JqZWN0cyA9IFtdO1xuICAgICAgLy8gaWYgb2JqZWN0cyBlbmNsb3NlZCBpbiBhIGdyb3VwIGhhdmUgYmVlbiBncm91cGVkIGFscmVhZHksXG4gICAgICAvLyB3ZSBjYW5ub3QgY2hhbmdlIHByb3BlcnRpZXMgb2Ygb2JqZWN0cy5cbiAgICAgIC8vIFRodXMgd2UgbmVlZCB0byBzZXQgb3B0aW9ucyB0byBncm91cCB3aXRob3V0IG9iamVjdHMsXG4gICAgICBpc0FscmVhZHlHcm91cGVkICYmIHRoaXMuY2FsbFN1cGVyKCdpbml0aWFsaXplJywgb3B0aW9ucyk7XG4gICAgICB0aGlzLl9vYmplY3RzID0gb2JqZWN0cyB8fCBbXTtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLl9vYmplY3RzLmxlbmd0aDsgaS0tOyApIHtcbiAgICAgICAgdGhpcy5fb2JqZWN0c1tpXS5ncm91cCA9IHRoaXM7XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNBbHJlYWR5R3JvdXBlZCkge1xuICAgICAgICB2YXIgY2VudGVyID0gb3B0aW9ucyAmJiBvcHRpb25zLmNlbnRlclBvaW50O1xuICAgICAgICAvLyB3ZSB3YW50IHRvIHNldCBvcmlnaW5zIGJlZm9yZSBjYWxjdWxhdGluZyB0aGUgYm91bmRpbmcgYm94LlxuICAgICAgICAvLyBzbyB0aGF0IHRoZSB0b3BsZWZ0IGNhbiBiZSBzZXQgd2l0aCB0aGF0IGluIG1pbmQuXG4gICAgICAgIC8vIGlmIHNwZWNpZmljIHRvcCBhbmQgbGVmdCBhcmUgcGFzc2VkLCBhcmUgb3ZlcndyaXR0ZW4gbGF0ZXJcbiAgICAgICAgLy8gd2l0aCB0aGUgY2FsbFN1cGVyKCdpbml0aWFsaXplJywgb3B0aW9ucylcbiAgICAgICAgaWYgKG9wdGlvbnMub3JpZ2luWCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGhpcy5vcmlnaW5YID0gb3B0aW9ucy5vcmlnaW5YO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLm9yaWdpblkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRoaXMub3JpZ2luWSA9IG9wdGlvbnMub3JpZ2luWTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiBjb21pbmcgZnJvbSBzdmcgaSBkbyBub3Qgd2FudCB0byBjYWxjIGJvdW5kcy5cbiAgICAgICAgLy8gaSBhc3N1bWUgd2lkdGggYW5kIGhlaWdodCBhcmUgcGFzc2VkIGFsb25nIG9wdGlvbnNcbiAgICAgICAgY2VudGVyIHx8IHRoaXMuX2NhbGNCb3VuZHMoKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlT2JqZWN0c0Nvb3JkcyhjZW50ZXIpO1xuICAgICAgICBkZWxldGUgb3B0aW9ucy5jZW50ZXJQb2ludDtcbiAgICAgICAgdGhpcy5jYWxsU3VwZXIoJ2luaXRpYWxpemUnLCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLl91cGRhdGVPYmplY3RzQUNvb3JkcygpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNldENvb3JkcygpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF91cGRhdGVPYmplY3RzQUNvb3JkczogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2tpcENvbnRyb2xzID0gdHJ1ZTtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLl9vYmplY3RzLmxlbmd0aDsgaS0tOyApe1xuICAgICAgICB0aGlzLl9vYmplY3RzW2ldLnNldENvb3Jkcyhza2lwQ29udHJvbHMpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3NraXBDb29yZHNDaGFuZ2VdIGlmIHRydWUsIGNvb3JkaW5hdGVzIG9mIG9iamVjdHMgZW5jbG9zZWQgaW4gYSBncm91cCBkbyBub3QgY2hhbmdlXG4gICAgICovXG4gICAgX3VwZGF0ZU9iamVjdHNDb29yZHM6IGZ1bmN0aW9uKGNlbnRlcikge1xuICAgICAgdmFyIGNlbnRlciA9IGNlbnRlciB8fCB0aGlzLmdldENlbnRlclBvaW50KCk7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy5fb2JqZWN0cy5sZW5ndGg7IGktLTsgKXtcbiAgICAgICAgdGhpcy5fdXBkYXRlT2JqZWN0Q29vcmRzKHRoaXMuX29iamVjdHNbaV0sIGNlbnRlcik7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSBjZW50ZXIsIGN1cnJlbnQgY2VudGVyIG9mIGdyb3VwLlxuICAgICAqL1xuICAgIF91cGRhdGVPYmplY3RDb29yZHM6IGZ1bmN0aW9uKG9iamVjdCwgY2VudGVyKSB7XG4gICAgICB2YXIgb2JqZWN0TGVmdCA9IG9iamVjdC5sZWZ0LFxuICAgICAgICAgIG9iamVjdFRvcCA9IG9iamVjdC50b3AsXG4gICAgICAgICAgc2tpcENvbnRyb2xzID0gdHJ1ZTtcblxuICAgICAgb2JqZWN0LnNldCh7XG4gICAgICAgIGxlZnQ6IG9iamVjdExlZnQgLSBjZW50ZXIueCxcbiAgICAgICAgdG9wOiBvYmplY3RUb3AgLSBjZW50ZXIueVxuICAgICAgfSk7XG4gICAgICBvYmplY3QuZ3JvdXAgPSB0aGlzO1xuICAgICAgb2JqZWN0LnNldENvb3Jkcyhza2lwQ29udHJvbHMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHN0cmluZyByZXByZXNlbmF0aW9uIG9mIGEgZ3JvdXBcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAgICovXG4gICAgdG9TdHJpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICcjPGZhYnJpYy5Hcm91cDogKCcgKyB0aGlzLmNvbXBsZXhpdHkoKSArICcpPic7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYW4gb2JqZWN0IHRvIGEgZ3JvdXA7IFRoZW4gcmVjYWxjdWxhdGVzIGdyb3VwJ3MgZGltZW5zaW9uLCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gICAgICogQHJldHVybiB7ZmFicmljLkdyb3VwfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGFkZFdpdGhVcGRhdGU6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgdmFyIG5lc3RlZCA9ICEhdGhpcy5ncm91cDtcbiAgICAgIHRoaXMuX3Jlc3RvcmVPYmplY3RzU3RhdGUoKTtcbiAgICAgIGZhYnJpYy51dGlsLnJlc2V0T2JqZWN0VHJhbnNmb3JtKHRoaXMpO1xuICAgICAgaWYgKG9iamVjdCkge1xuICAgICAgICBpZiAobmVzdGVkKSB7XG4gICAgICAgICAgLy8gaWYgdGhpcyBncm91cCBpcyBpbnNpZGUgYW5vdGhlciBncm91cCwgd2UgbmVlZCB0byBwcmUgdHJhbnNmb3JtIHRoZSBvYmplY3RcbiAgICAgICAgICBmYWJyaWMudXRpbC5yZW1vdmVUcmFuc2Zvcm1Gcm9tT2JqZWN0KG9iamVjdCwgdGhpcy5ncm91cC5jYWxjVHJhbnNmb3JtTWF0cml4KCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX29iamVjdHMucHVzaChvYmplY3QpO1xuICAgICAgICBvYmplY3QuZ3JvdXAgPSB0aGlzO1xuICAgICAgICBvYmplY3QuX3NldCgnY2FudmFzJywgdGhpcy5jYW52YXMpO1xuICAgICAgfVxuICAgICAgdGhpcy5fY2FsY0JvdW5kcygpO1xuICAgICAgdGhpcy5fdXBkYXRlT2JqZWN0c0Nvb3JkcygpO1xuICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICBpZiAobmVzdGVkKSB7XG4gICAgICAgIHRoaXMuZ3JvdXAuYWRkV2l0aFVwZGF0ZSgpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0Q29vcmRzKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbiBvYmplY3QgZnJvbSBhIGdyb3VwOyBUaGVuIHJlY2FsY3VsYXRlcyBncm91cCdzIGRpbWVuc2lvbiwgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Hcm91cH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICByZW1vdmVXaXRoVXBkYXRlOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHRoaXMuX3Jlc3RvcmVPYmplY3RzU3RhdGUoKTtcbiAgICAgIGZhYnJpYy51dGlsLnJlc2V0T2JqZWN0VHJhbnNmb3JtKHRoaXMpO1xuXG4gICAgICB0aGlzLnJlbW92ZShvYmplY3QpO1xuICAgICAgdGhpcy5fY2FsY0JvdW5kcygpO1xuICAgICAgdGhpcy5fdXBkYXRlT2JqZWN0c0Nvb3JkcygpO1xuICAgICAgdGhpcy5zZXRDb29yZHMoKTtcbiAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX29uT2JqZWN0QWRkZWQ6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICBvYmplY3QuZ3JvdXAgPSB0aGlzO1xuICAgICAgb2JqZWN0Ll9zZXQoJ2NhbnZhcycsIHRoaXMuY2FudmFzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfb25PYmplY3RSZW1vdmVkOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgZGVsZXRlIG9iamVjdC5ncm91cDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2V0OiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgaSA9IHRoaXMuX29iamVjdHMubGVuZ3RoO1xuICAgICAgaWYgKHRoaXMudXNlU2V0T25Hcm91cCkge1xuICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgdGhpcy5fb2JqZWN0c1tpXS5zZXRPbkdyb3VwKGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoa2V5ID09PSAnY2FudmFzJykge1xuICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgdGhpcy5fb2JqZWN0c1tpXS5fc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZS5fc2V0LmNhbGwodGhpcywga2V5LCB2YWx1ZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BlcnRpZXNUb0luY2x1ZGVdIEFueSBwcm9wZXJ0aWVzIHRoYXQgeW91IG1pZ2h0IHdhbnQgdG8gYWRkaXRpb25hbGx5IGluY2x1ZGUgaW4gdGhlIG91dHB1dFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgdG9PYmplY3Q6IGZ1bmN0aW9uKHByb3BlcnRpZXNUb0luY2x1ZGUpIHtcbiAgICAgIHZhciBfaW5jbHVkZURlZmF1bHRWYWx1ZXMgPSB0aGlzLmluY2x1ZGVEZWZhdWx0VmFsdWVzO1xuICAgICAgdmFyIG9ianNUb09iamVjdCA9IHRoaXMuX29iamVjdHNcbiAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgcmV0dXJuICFvYmouZXhjbHVkZUZyb21FeHBvcnQ7XG4gICAgICAgIH0pXG4gICAgICAgIC5tYXAoZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgIHZhciBvcmlnaW5hbERlZmF1bHRzID0gb2JqLmluY2x1ZGVEZWZhdWx0VmFsdWVzO1xuICAgICAgICAgIG9iai5pbmNsdWRlRGVmYXVsdFZhbHVlcyA9IF9pbmNsdWRlRGVmYXVsdFZhbHVlcztcbiAgICAgICAgICB2YXIgX29iaiA9IG9iai50b09iamVjdChwcm9wZXJ0aWVzVG9JbmNsdWRlKTtcbiAgICAgICAgICBvYmouaW5jbHVkZURlZmF1bHRWYWx1ZXMgPSBvcmlnaW5hbERlZmF1bHRzO1xuICAgICAgICAgIHJldHVybiBfb2JqO1xuICAgICAgICB9KTtcbiAgICAgIHZhciBvYmogPSBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZS50b09iamVjdC5jYWxsKHRoaXMsIHByb3BlcnRpZXNUb0luY2x1ZGUpO1xuICAgICAgb2JqLm9iamVjdHMgPSBvYmpzVG9PYmplY3Q7XG4gICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZSwgaW4gZGF0YWxlc3MgbW9kZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcGVydGllc1RvSW5jbHVkZV0gQW55IHByb3BlcnRpZXMgdGhhdCB5b3UgbWlnaHQgd2FudCB0byBhZGRpdGlvbmFsbHkgaW5jbHVkZSBpbiB0aGUgb3V0cHV0XG4gICAgICogQHJldHVybiB7T2JqZWN0fSBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b0RhdGFsZXNzT2JqZWN0OiBmdW5jdGlvbihwcm9wZXJ0aWVzVG9JbmNsdWRlKSB7XG4gICAgICB2YXIgb2Jqc1RvT2JqZWN0LCBzb3VyY2VQYXRoID0gdGhpcy5zb3VyY2VQYXRoO1xuICAgICAgaWYgKHNvdXJjZVBhdGgpIHtcbiAgICAgICAgb2Jqc1RvT2JqZWN0ID0gc291cmNlUGF0aDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB2YXIgX2luY2x1ZGVEZWZhdWx0VmFsdWVzID0gdGhpcy5pbmNsdWRlRGVmYXVsdFZhbHVlcztcbiAgICAgICAgb2Jqc1RvT2JqZWN0ID0gdGhpcy5fb2JqZWN0cy5tYXAoZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgICAgdmFyIG9yaWdpbmFsRGVmYXVsdHMgPSBvYmouaW5jbHVkZURlZmF1bHRWYWx1ZXM7XG4gICAgICAgICAgb2JqLmluY2x1ZGVEZWZhdWx0VmFsdWVzID0gX2luY2x1ZGVEZWZhdWx0VmFsdWVzO1xuICAgICAgICAgIHZhciBfb2JqID0gb2JqLnRvRGF0YWxlc3NPYmplY3QocHJvcGVydGllc1RvSW5jbHVkZSk7XG4gICAgICAgICAgb2JqLmluY2x1ZGVEZWZhdWx0VmFsdWVzID0gb3JpZ2luYWxEZWZhdWx0cztcbiAgICAgICAgICByZXR1cm4gX29iajtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICB2YXIgb2JqID0gZmFicmljLk9iamVjdC5wcm90b3R5cGUudG9EYXRhbGVzc09iamVjdC5jYWxsKHRoaXMsIHByb3BlcnRpZXNUb0luY2x1ZGUpO1xuICAgICAgb2JqLm9iamVjdHMgPSBvYmpzVG9PYmplY3Q7XG4gICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIGluc3RhbmNlIG9uIGEgZ2l2ZW4gY29udGV4dFxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggY29udGV4dCB0byByZW5kZXIgaW5zdGFuY2Ugb25cbiAgICAgKi9cbiAgICByZW5kZXI6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgdGhpcy5fdHJhbnNmb3JtRG9uZSA9IHRydWU7XG4gICAgICB0aGlzLmNhbGxTdXBlcigncmVuZGVyJywgY3R4KTtcbiAgICAgIHRoaXMuX3RyYW5zZm9ybURvbmUgPSBmYWxzZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGVjaWRlIGlmIHRoZSBvYmplY3Qgc2hvdWxkIGNhY2hlIG9yIG5vdC4gQ3JlYXRlIGl0cyBvd24gY2FjaGUgbGV2ZWxcbiAgICAgKiBuZWVkc0l0c093bkNhY2hlIHNob3VsZCBiZSB1c2VkIHdoZW4gdGhlIG9iamVjdCBkcmF3aW5nIG1ldGhvZCByZXF1aXJlc1xuICAgICAqIGEgY2FjaGUgc3RlcC4gTm9uZSBvZiB0aGUgZmFicmljIGNsYXNzZXMgcmVxdWlyZXMgaXQuXG4gICAgICogR2VuZXJhbGx5IHlvdSBkbyBub3QgY2FjaGUgb2JqZWN0cyBpbiBncm91cHMgYmVjYXVzZSB0aGUgZ3JvdXAgaXMgYWxyZWFkeSBjYWNoZWQuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBzaG91bGRDYWNoZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgb3duQ2FjaGUgPSBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZS5zaG91bGRDYWNoZS5jYWxsKHRoaXMpO1xuICAgICAgaWYgKG93bkNhY2hlKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLl9vYmplY3RzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX29iamVjdHNbaV0ud2lsbERyYXdTaGFkb3coKSkge1xuICAgICAgICAgICAgdGhpcy5vd25DYWNoaW5nID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gb3duQ2FjaGU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHRoaXMgb2JqZWN0IG9yIGEgY2hpbGQgb2JqZWN0IHdpbGwgY2FzdCBhIHNoYWRvd1xuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgd2lsbERyYXdTaGFkb3c6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKGZhYnJpYy5PYmplY3QucHJvdG90eXBlLndpbGxEcmF3U2hhZG93LmNhbGwodGhpcykpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5fb2JqZWN0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBpZiAodGhpcy5fb2JqZWN0c1tpXS53aWxsRHJhd1NoYWRvdygpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhpcyBncm91cCBvciBpdHMgcGFyZW50IGdyb3VwIGFyZSBjYWNoaW5nLCByZWN1cnNpdmVseSB1cFxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgaXNPbkFDYWNoZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5vd25DYWNoaW5nIHx8ICh0aGlzLmdyb3VwICYmIHRoaXMuZ3JvdXAuaXNPbkFDYWNoZSgpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZSB0aGUgZHJhd2luZyBvcGVyYXRpb24gZm9yIGFuIG9iamVjdCBvbiBhIHNwZWNpZmllZCBjb250ZXh0XG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIGRyYXdPYmplY3Q6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMuX29iamVjdHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdGhpcy5fb2JqZWN0c1tpXS5yZW5kZXIoY3R4KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2RyYXdDbGlwUGF0aChjdHgsIHRoaXMuY2xpcFBhdGgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBjYWNoZSBpcyBkaXJ0eVxuICAgICAqL1xuICAgIGlzQ2FjaGVEaXJ0eTogZnVuY3Rpb24oc2tpcENhbnZhcykge1xuICAgICAgaWYgKHRoaXMuY2FsbFN1cGVyKCdpc0NhY2hlRGlydHknLCBza2lwQ2FudmFzKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5zdGF0ZWZ1bGxDYWNoZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5fb2JqZWN0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBpZiAodGhpcy5fb2JqZWN0c1tpXS5pc0NhY2hlRGlydHkodHJ1ZSkpIHtcbiAgICAgICAgICBpZiAodGhpcy5fY2FjaGVDYW52YXMpIHtcbiAgICAgICAgICAgIC8vIGlmIHRoaXMgZ3JvdXAgaGFzIG5vdCBhIGNhY2hlIGNhbnZhcyB0aGVyZSBpcyBub3RoaW5nIHRvIGNsZWFuXG4gICAgICAgICAgICB2YXIgeCA9IHRoaXMuY2FjaGVXaWR0aCAvIHRoaXMuem9vbVgsIHkgPSB0aGlzLmNhY2hlSGVpZ2h0IC8gdGhpcy56b29tWTtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlQ29udGV4dC5jbGVhclJlY3QoLXggLyAyLCAteSAvIDIsIHgsIHkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXN0b3JlcyBvcmlnaW5hbCBzdGF0ZSBvZiBlYWNoIG9mIGdyb3VwIG9iamVjdHMgKG9yaWdpbmFsIHN0YXRlIGlzIHRoYXQgd2hpY2ggd2FzIGJlZm9yZSBncm91cCB3YXMgY3JlYXRlZCkuXG4gICAgICogaWYgdGhlIG5lc3RlZCBib29sZWFuIGlzIHRydWUsIHRoZSBvcmlnaW5hbCBzdGF0ZSB3aWxsIGJlIHJlc3RvcmVkIGp1c3QgZm9yIHRoZVxuICAgICAqIGZpcnN0IGdyb3VwIGFuZCBub3QgZm9yIGFsbCB0aGUgZ3JvdXAgY2hhaW5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gbmVzdGVkIHRlbGwgdGhlIGZ1bmN0aW9uIHRvIHJlc3RvcmUgb2JqZWN0IHN0YXRlIHVwIHRvIHRoZSBwYXJlbnQgZ3JvdXAgYW5kIG5vdCBtb3JlXG4gICAgICogQHJldHVybiB7ZmFicmljLkdyb3VwfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIF9yZXN0b3JlT2JqZWN0c1N0YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBncm91cE1hdHJpeCA9IHRoaXMuY2FsY093bk1hdHJpeCgpO1xuICAgICAgdGhpcy5fb2JqZWN0cy5mb3JFYWNoKGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICAvLyBpbnN0ZWFkIG9mIHVzaW5nIF90aGlzID0gdGhpcztcbiAgICAgICAgZmFicmljLnV0aWwuYWRkVHJhbnNmb3JtVG9PYmplY3Qob2JqZWN0LCBncm91cE1hdHJpeCk7XG4gICAgICAgIGRlbGV0ZSBvYmplY3QuZ3JvdXA7XG4gICAgICAgIG9iamVjdC5zZXRDb29yZHMoKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIGEgZ3JvdXAgKHJlc3RvcmluZyBzdGF0ZSBvZiBpdHMgb2JqZWN0cylcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuR3JvdXB9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAvLyB3aGVuIGdyb3VwIGlzIGRlc3Ryb3llZCBvYmplY3RzIG5lZWRzIHRvIGdldCBhIHJlcGFpbnQgdG8gYmUgZXZlbnR1YWxseVxuICAgICAgLy8gZGlzcGxheWVkIG9uIGNhbnZhcy5cbiAgICAgIHRoaXMuX29iamVjdHMuZm9yRWFjaChmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgb2JqZWN0LnNldCgnZGlydHknLCB0cnVlKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRoaXMuX3Jlc3RvcmVPYmplY3RzU3RhdGUoKTtcbiAgICB9LFxuXG4gICAgZGlzcG9zZTogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jYWxsU3VwZXIoJ2Rpc3Bvc2UnKTtcbiAgICAgIHRoaXMuZm9yRWFjaE9iamVjdChmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICAgIG9iamVjdC5kaXNwb3NlICYmIG9iamVjdC5kaXNwb3NlKCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuX29iamVjdHMgPSBbXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogbWFrZSBhIGdyb3VwIGFuIGFjdGl2ZSBzZWxlY3Rpb24sIHJlbW92ZSB0aGUgZ3JvdXAgZnJvbSBjYW52YXNcbiAgICAgKiB0aGUgZ3JvdXAgaGFzIHRvIGJlIG9uIGNhbnZhcyBmb3IgdGhpcyB0byB3b3JrLlxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5BY3RpdmVTZWxlY3Rpb259IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgdG9BY3RpdmVTZWxlY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCF0aGlzLmNhbnZhcykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgb2JqZWN0cyA9IHRoaXMuX29iamVjdHMsIGNhbnZhcyA9IHRoaXMuY2FudmFzO1xuICAgICAgdGhpcy5fb2JqZWN0cyA9IFtdO1xuICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLnRvT2JqZWN0KCk7XG4gICAgICBkZWxldGUgb3B0aW9ucy5vYmplY3RzO1xuICAgICAgdmFyIGFjdGl2ZVNlbGVjdGlvbiA9IG5ldyBmYWJyaWMuQWN0aXZlU2VsZWN0aW9uKFtdKTtcbiAgICAgIGFjdGl2ZVNlbGVjdGlvbi5zZXQob3B0aW9ucyk7XG4gICAgICBhY3RpdmVTZWxlY3Rpb24udHlwZSA9ICdhY3RpdmVTZWxlY3Rpb24nO1xuICAgICAgY2FudmFzLnJlbW92ZSh0aGlzKTtcbiAgICAgIG9iamVjdHMuZm9yRWFjaChmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgb2JqZWN0Lmdyb3VwID0gYWN0aXZlU2VsZWN0aW9uO1xuICAgICAgICBvYmplY3QuZGlydHkgPSB0cnVlO1xuICAgICAgICBjYW52YXMuYWRkKG9iamVjdCk7XG4gICAgICB9KTtcbiAgICAgIGFjdGl2ZVNlbGVjdGlvbi5jYW52YXMgPSBjYW52YXM7XG4gICAgICBhY3RpdmVTZWxlY3Rpb24uX29iamVjdHMgPSBvYmplY3RzO1xuICAgICAgY2FudmFzLl9hY3RpdmVPYmplY3QgPSBhY3RpdmVTZWxlY3Rpb247XG4gICAgICBhY3RpdmVTZWxlY3Rpb24uc2V0Q29vcmRzKCk7XG4gICAgICByZXR1cm4gYWN0aXZlU2VsZWN0aW9uO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyBhIGdyb3VwIChyZXN0b3Jpbmcgc3RhdGUgb2YgaXRzIG9iamVjdHMpXG4gICAgICogQHJldHVybiB7ZmFicmljLkdyb3VwfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHVuZ3JvdXBPbkNhbnZhczogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcmVzdG9yZU9iamVjdHNTdGF0ZSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIGNvb3JkaW5hdGVzIG9mIGFsbCBvYmplY3RzIGluc2lkZSBncm91cFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Hcm91cH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzZXRPYmplY3RzQ29vcmRzOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBza2lwQ29udHJvbHMgPSB0cnVlO1xuICAgICAgdGhpcy5mb3JFYWNoT2JqZWN0KGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICBvYmplY3Quc2V0Q29vcmRzKHNraXBDb250cm9scyk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9jYWxjQm91bmRzOiBmdW5jdGlvbihvbmx5V2lkdGhIZWlnaHQpIHtcbiAgICAgIHZhciBhWCA9IFtdLFxuICAgICAgICAgIGFZID0gW10sXG4gICAgICAgICAgbywgcHJvcCwgY29vcmRzLFxuICAgICAgICAgIHByb3BzID0gWyd0cicsICdicicsICdibCcsICd0bCddLFxuICAgICAgICAgIGkgPSAwLCBpTGVuID0gdGhpcy5fb2JqZWN0cy5sZW5ndGgsXG4gICAgICAgICAgaiwgakxlbiA9IHByb3BzLmxlbmd0aDtcblxuICAgICAgZm9yICggOyBpIDwgaUxlbjsgKytpKSB7XG4gICAgICAgIG8gPSB0aGlzLl9vYmplY3RzW2ldO1xuICAgICAgICBjb29yZHMgPSBvLmNhbGNBQ29vcmRzKCk7XG4gICAgICAgIGZvciAoaiA9IDA7IGogPCBqTGVuOyBqKyspIHtcbiAgICAgICAgICBwcm9wID0gcHJvcHNbal07XG4gICAgICAgICAgYVgucHVzaChjb29yZHNbcHJvcF0ueCk7XG4gICAgICAgICAgYVkucHVzaChjb29yZHNbcHJvcF0ueSk7XG4gICAgICAgIH1cbiAgICAgICAgby5hQ29vcmRzID0gY29vcmRzO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9nZXRCb3VuZHMoYVgsIGFZLCBvbmx5V2lkdGhIZWlnaHQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZXRCb3VuZHM6IGZ1bmN0aW9uKGFYLCBhWSwgb25seVdpZHRoSGVpZ2h0KSB7XG4gICAgICB2YXIgbWluWFkgPSBuZXcgZmFicmljLlBvaW50KG1pbihhWCksIG1pbihhWSkpLFxuICAgICAgICAgIG1heFhZID0gbmV3IGZhYnJpYy5Qb2ludChtYXgoYVgpLCBtYXgoYVkpKSxcbiAgICAgICAgICB0b3AgPSBtaW5YWS55IHx8IDAsIGxlZnQgPSBtaW5YWS54IHx8IDAsXG4gICAgICAgICAgd2lkdGggPSAobWF4WFkueCAtIG1pblhZLngpIHx8IDAsXG4gICAgICAgICAgaGVpZ2h0ID0gKG1heFhZLnkgLSBtaW5YWS55KSB8fCAwO1xuICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICBpZiAoIW9ubHlXaWR0aEhlaWdodCkge1xuICAgICAgICAvLyB0aGUgYm91bmRpbmcgYm94IGFsd2F5cyBmaW5kcyB0aGUgdG9wbGVmdCBtb3N0IGNvcm5lci5cbiAgICAgICAgLy8gd2hhdGV2ZXIgaXMgdGhlIGdyb3VwIG9yaWdpbiwgd2Ugc2V0IHVwIGhlcmUgdGhlIGxlZnQvdG9wIHBvc2l0aW9uLlxuICAgICAgICB0aGlzLnNldFBvc2l0aW9uQnlPcmlnaW4oeyB4OiBsZWZ0LCB5OiB0b3AgfSwgJ2xlZnQnLCAndG9wJyk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qIF9UT19TVkdfU1RBUlRfICovXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBzdmcgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcmV2aXZlcl0gTWV0aG9kIGZvciBmdXJ0aGVyIHBhcnNpbmcgb2Ygc3ZnIHJlcHJlc2VudGF0aW9uLlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gc3ZnIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgX3RvU1ZHOiBmdW5jdGlvbihyZXZpdmVyKSB7XG4gICAgICB2YXIgc3ZnU3RyaW5nID0gWyc8ZyAnLCAnQ09NTU9OX1BBUlRTJywgJyA+XFxuJ107XG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLl9vYmplY3RzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHN2Z1N0cmluZy5wdXNoKCdcXHRcXHQnLCB0aGlzLl9vYmplY3RzW2ldLnRvU1ZHKHJldml2ZXIpKTtcbiAgICAgIH1cbiAgICAgIHN2Z1N0cmluZy5wdXNoKCc8L2c+XFxuJyk7XG4gICAgICByZXR1cm4gc3ZnU3RyaW5nO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHN0eWxlcy1zdHJpbmcgZm9yIHN2Zy1leHBvcnQsIHNwZWNpZmljIHZlcnNpb24gZm9yIGdyb3VwXG4gICAgICogQHJldHVybiB7U3RyaW5nfVxuICAgICAqL1xuICAgIGdldFN2Z1N0eWxlczogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgb3BhY2l0eSA9IHR5cGVvZiB0aGlzLm9wYWNpdHkgIT09ICd1bmRlZmluZWQnICYmIHRoaXMub3BhY2l0eSAhPT0gMSA/XG4gICAgICAgICAgICAnb3BhY2l0eTogJyArIHRoaXMub3BhY2l0eSArICc7JyA6ICcnLFxuICAgICAgICAgIHZpc2liaWxpdHkgPSB0aGlzLnZpc2libGUgPyAnJyA6ICcgdmlzaWJpbGl0eTogaGlkZGVuOyc7XG4gICAgICByZXR1cm4gW1xuICAgICAgICBvcGFjaXR5LFxuICAgICAgICB0aGlzLmdldFN2Z0ZpbHRlcigpLFxuICAgICAgICB2aXNpYmlsaXR5XG4gICAgICBdLmpvaW4oJycpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHN2ZyBjbGlwUGF0aCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXZpdmVyXSBNZXRob2QgZm9yIGZ1cnRoZXIgcGFyc2luZyBvZiBzdmcgcmVwcmVzZW50YXRpb24uXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBzdmcgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b0NsaXBQYXRoU1ZHOiBmdW5jdGlvbihyZXZpdmVyKSB7XG4gICAgICB2YXIgc3ZnU3RyaW5nID0gW107XG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLl9vYmplY3RzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHN2Z1N0cmluZy5wdXNoKCdcXHQnLCB0aGlzLl9vYmplY3RzW2ldLnRvQ2xpcFBhdGhTVkcocmV2aXZlcikpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5fY3JlYXRlQmFzZUNsaXBQYXRoU1ZHTWFya3VwKHN2Z1N0cmluZywgeyByZXZpdmVyOiByZXZpdmVyIH0pO1xuICAgIH0sXG4gICAgLyogX1RPX1NWR19FTkRfICovXG4gIH0pO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHtAbGluayBmYWJyaWMuR3JvdXB9IGluc3RhbmNlIGZyb20gYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5Hcm91cFxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYSBncm91cCBmcm9tXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gQ2FsbGJhY2sgdG8gaW52b2tlIHdoZW4gYW4gZ3JvdXAgaW5zdGFuY2UgaXMgY3JlYXRlZFxuICAgKi9cbiAgZmFicmljLkdyb3VwLmZyb21PYmplY3QgPSBmdW5jdGlvbihvYmplY3QsIGNhbGxiYWNrKSB7XG4gICAgdmFyIG9iamVjdHMgPSBvYmplY3Qub2JqZWN0cyxcbiAgICAgICAgb3B0aW9ucyA9IGZhYnJpYy51dGlsLm9iamVjdC5jbG9uZShvYmplY3QsIHRydWUpO1xuICAgIGRlbGV0ZSBvcHRpb25zLm9iamVjdHM7XG4gICAgaWYgKHR5cGVvZiBvYmplY3RzID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gaXQgaGFzIHRvIGJlIGFuIHVybCBvciBzb21ldGhpbmcgd2VudCB3cm9uZy5cbiAgICAgIGZhYnJpYy5sb2FkU1ZHRnJvbVVSTChvYmplY3RzLCBmdW5jdGlvbiAoZWxlbWVudHMpIHtcbiAgICAgICAgdmFyIGdyb3VwID0gZmFicmljLnV0aWwuZ3JvdXBTVkdFbGVtZW50cyhlbGVtZW50cywgb2JqZWN0LCBvYmplY3RzKTtcbiAgICAgICAgdmFyIGNsaXBQYXRoID0gb3B0aW9ucy5jbGlwUGF0aDtcbiAgICAgICAgZGVsZXRlIG9wdGlvbnMuY2xpcFBhdGg7XG4gICAgICAgIGdyb3VwLnNldChvcHRpb25zKTtcbiAgICAgICAgaWYgKGNsaXBQYXRoKSB7XG4gICAgICAgICAgZmFicmljLnV0aWwuZW5saXZlbk9iamVjdHMoW2NsaXBQYXRoXSwgZnVuY3Rpb24oZWxpdmVuZWRPYmplY3RzKSB7XG4gICAgICAgICAgICBncm91cC5jbGlwUGF0aCA9IGVsaXZlbmVkT2JqZWN0c1swXTtcbiAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGdyb3VwKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhncm91cCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmYWJyaWMudXRpbC5lbmxpdmVuT2JqZWN0cyhvYmplY3RzLCBmdW5jdGlvbiAoZW5saXZlbmVkT2JqZWN0cykge1xuICAgICAgZmFicmljLnV0aWwuZW5saXZlbk9iamVjdEVubGl2YWJsZXMob2JqZWN0LCBvcHRpb25zLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKG5ldyBmYWJyaWMuR3JvdXAoZW5saXZlbmVkT2JqZWN0cywgb3B0aW9ucywgdHJ1ZSkpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSk7XG5cbiAgaWYgKGZhYnJpYy5BY3RpdmVTZWxlY3Rpb24pIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogR3JvdXAgY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5BY3RpdmVTZWxlY3Rpb25cbiAgICogQGV4dGVuZHMgZmFicmljLkdyb3VwXG4gICAqIEB0dXRvcmlhbCB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9mYWJyaWMtaW50cm8tcGFydC0zI2dyb3Vwc31cbiAgICogQHNlZSB7QGxpbmsgZmFicmljLkFjdGl2ZVNlbGVjdGlvbiNpbml0aWFsaXplfSBmb3IgY29uc3RydWN0b3IgZGVmaW5pdGlvblxuICAgKi9cbiAgZmFicmljLkFjdGl2ZVNlbGVjdGlvbiA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzKGZhYnJpYy5Hcm91cCwgLyoqIEBsZW5kcyBmYWJyaWMuQWN0aXZlU2VsZWN0aW9uLnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBUeXBlIG9mIGFuIG9iamVjdFxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHlwZTogJ2FjdGl2ZVNlbGVjdGlvbicsXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RzIEFjdGl2ZVNlbGVjdGlvbiBvYmplY3RzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gdGhpc0FyZ1xuICAgICAqL1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKG9iamVjdHMsIG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgdGhpcy5fb2JqZWN0cyA9IG9iamVjdHMgfHwgW107XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy5fb2JqZWN0cy5sZW5ndGg7IGktLTsgKSB7XG4gICAgICAgIHRoaXMuX29iamVjdHNbaV0uZ3JvdXAgPSB0aGlzO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5vcmlnaW5YKSB7XG4gICAgICAgIHRoaXMub3JpZ2luWCA9IG9wdGlvbnMub3JpZ2luWDtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zLm9yaWdpblkpIHtcbiAgICAgICAgdGhpcy5vcmlnaW5ZID0gb3B0aW9ucy5vcmlnaW5ZO1xuICAgICAgfVxuICAgICAgdGhpcy5fY2FsY0JvdW5kcygpO1xuICAgICAgdGhpcy5fdXBkYXRlT2JqZWN0c0Nvb3JkcygpO1xuICAgICAgZmFicmljLk9iamVjdC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgdGhpcy5zZXRDb29yZHMoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlIHRlIGFjdGl2ZVNlbGVjdGlvbiB0byBhIG5vcm1hbCBncm91cCxcbiAgICAgKiBIaWdoIGxldmVsIGZ1bmN0aW9uIHRoYXQgYXV0b21hdGljYWxseSBhZGRzIGl0IHRvIGNhbnZhcyBhc1xuICAgICAqIGFjdGl2ZSBvYmplY3QuIG5vIGV2ZW50cyBmaXJlZC5cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuR3JvdXB9XG4gICAgICovXG4gICAgdG9Hcm91cDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgb2JqZWN0cyA9IHRoaXMuX29iamVjdHMuY29uY2F0KCk7XG4gICAgICB0aGlzLl9vYmplY3RzID0gW107XG4gICAgICB2YXIgb3B0aW9ucyA9IGZhYnJpYy5PYmplY3QucHJvdG90eXBlLnRvT2JqZWN0LmNhbGwodGhpcyk7XG4gICAgICB2YXIgbmV3R3JvdXAgPSBuZXcgZmFicmljLkdyb3VwKFtdKTtcbiAgICAgIGRlbGV0ZSBvcHRpb25zLnR5cGU7XG4gICAgICBuZXdHcm91cC5zZXQob3B0aW9ucyk7XG4gICAgICBvYmplY3RzLmZvckVhY2goZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIG9iamVjdC5jYW52YXMucmVtb3ZlKG9iamVjdCk7XG4gICAgICAgIG9iamVjdC5ncm91cCA9IG5ld0dyb3VwO1xuICAgICAgfSk7XG4gICAgICBuZXdHcm91cC5fb2JqZWN0cyA9IG9iamVjdHM7XG4gICAgICBpZiAoIXRoaXMuY2FudmFzKSB7XG4gICAgICAgIHJldHVybiBuZXdHcm91cDtcbiAgICAgIH1cbiAgICAgIHZhciBjYW52YXMgPSB0aGlzLmNhbnZhcztcbiAgICAgIGNhbnZhcy5hZGQobmV3R3JvdXApO1xuICAgICAgY2FudmFzLl9hY3RpdmVPYmplY3QgPSBuZXdHcm91cDtcbiAgICAgIG5ld0dyb3VwLnNldENvb3JkcygpO1xuICAgICAgcmV0dXJuIG5ld0dyb3VwO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJZiByZXR1cm5zIHRydWUsIGRlc2VsZWN0aW9uIGlzIGNhbmNlbGxlZC5cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBbY2FuY2VsXVxuICAgICAqL1xuICAgIG9uRGVzZWxlY3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgZ3JvdXBcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAgICovXG4gICAgdG9TdHJpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICcjPGZhYnJpYy5BY3RpdmVTZWxlY3Rpb246ICgnICsgdGhpcy5jb21wbGV4aXR5KCkgKyAnKT4nO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZWNpZGUgaWYgdGhlIG9iamVjdCBzaG91bGQgY2FjaGUgb3Igbm90LiBDcmVhdGUgaXRzIG93biBjYWNoZSBsZXZlbFxuICAgICAqIG9iamVjdENhY2hpbmcgaXMgYSBnbG9iYWwgZmxhZywgd2lucyBvdmVyIGV2ZXJ5dGhpbmdcbiAgICAgKiBuZWVkc0l0c093bkNhY2hlIHNob3VsZCBiZSB1c2VkIHdoZW4gdGhlIG9iamVjdCBkcmF3aW5nIG1ldGhvZCByZXF1aXJlc1xuICAgICAqIGEgY2FjaGUgc3RlcC4gTm9uZSBvZiB0aGUgZmFicmljIGNsYXNzZXMgcmVxdWlyZXMgaXQuXG4gICAgICogR2VuZXJhbGx5IHlvdSBkbyBub3QgY2FjaGUgb2JqZWN0cyBpbiBncm91cHMgYmVjYXVzZSB0aGUgZ3JvdXAgb3V0c2lkZSBpcyBjYWNoZWQuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBzaG91bGRDYWNoZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHRoaXMgZ3JvdXAgb3IgaXRzIHBhcmVudCBncm91cCBhcmUgY2FjaGluZywgcmVjdXJzaXZlbHkgdXBcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIGlzT25BQ2FjaGU6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIGNvbnRyb2xzIGFuZCBib3JkZXJzIGZvciB0aGUgb2JqZWN0XG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3R5bGVPdmVycmlkZV0gcHJvcGVydGllcyB0byBvdmVycmlkZSB0aGUgb2JqZWN0IHN0eWxlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjaGlsZHJlbk92ZXJyaWRlXSBwcm9wZXJ0aWVzIHRvIG92ZXJyaWRlIHRoZSBjaGlsZHJlbiBvdmVycmlkZXNcbiAgICAgKi9cbiAgICBfcmVuZGVyQ29udHJvbHM6IGZ1bmN0aW9uKGN0eCwgc3R5bGVPdmVycmlkZSwgY2hpbGRyZW5PdmVycmlkZSkge1xuICAgICAgY3R4LnNhdmUoKTtcbiAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IHRoaXMuaXNNb3ZpbmcgPyB0aGlzLmJvcmRlck9wYWNpdHlXaGVuTW92aW5nIDogMTtcbiAgICAgIHRoaXMuY2FsbFN1cGVyKCdfcmVuZGVyQ29udHJvbHMnLCBjdHgsIHN0eWxlT3ZlcnJpZGUpO1xuICAgICAgY2hpbGRyZW5PdmVycmlkZSA9IGNoaWxkcmVuT3ZlcnJpZGUgfHwgeyB9O1xuICAgICAgaWYgKHR5cGVvZiBjaGlsZHJlbk92ZXJyaWRlLmhhc0NvbnRyb2xzID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjaGlsZHJlbk92ZXJyaWRlLmhhc0NvbnRyb2xzID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBjaGlsZHJlbk92ZXJyaWRlLmZvckFjdGl2ZVNlbGVjdGlvbiA9IHRydWU7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5fb2JqZWN0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB0aGlzLl9vYmplY3RzW2ldLl9yZW5kZXJDb250cm9scyhjdHgsIGNoaWxkcmVuT3ZlcnJpZGUpO1xuICAgICAgfVxuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9LFxuICB9KTtcblxuICAvKipcbiAgICogUmV0dXJucyB7QGxpbmsgZmFicmljLkFjdGl2ZVNlbGVjdGlvbn0gaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLkFjdGl2ZVNlbGVjdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYSBncm91cCBmcm9tXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gQ2FsbGJhY2sgdG8gaW52b2tlIHdoZW4gYW4gQWN0aXZlU2VsZWN0aW9uIGluc3RhbmNlIGlzIGNyZWF0ZWRcbiAgICovXG4gIGZhYnJpYy5BY3RpdmVTZWxlY3Rpb24uZnJvbU9iamVjdCA9IGZ1bmN0aW9uKG9iamVjdCwgY2FsbGJhY2spIHtcbiAgICBmYWJyaWMudXRpbC5lbmxpdmVuT2JqZWN0cyhvYmplY3Qub2JqZWN0cywgZnVuY3Rpb24oZW5saXZlbmVkT2JqZWN0cykge1xuICAgICAgZGVsZXRlIG9iamVjdC5vYmplY3RzO1xuICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2sobmV3IGZhYnJpYy5BY3RpdmVTZWxlY3Rpb24oZW5saXZlbmVkT2JqZWN0cywgb2JqZWN0LCB0cnVlKSk7XG4gICAgfSk7XG4gIH07XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBleHRlbmQgPSBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kO1xuXG4gIGlmICghZ2xvYmFsLmZhYnJpYykge1xuICAgIGdsb2JhbC5mYWJyaWMgPSB7IH07XG4gIH1cblxuICBpZiAoZ2xvYmFsLmZhYnJpYy5JbWFnZSkge1xuICAgIGZhYnJpYy53YXJuKCdmYWJyaWMuSW1hZ2UgaXMgYWxyZWFkeSBkZWZpbmVkLicpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbWFnZSBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkltYWdlXG4gICAqIEBleHRlbmRzIGZhYnJpYy5PYmplY3RcbiAgICogQHR1dG9yaWFsIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ZhYnJpYy1pbnRyby1wYXJ0LTEjaW1hZ2VzfVxuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuSW1hZ2UjaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICovXG4gIGZhYnJpYy5JbWFnZSA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzKGZhYnJpYy5PYmplY3QsIC8qKiBAbGVuZHMgZmFicmljLkltYWdlLnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBUeXBlIG9mIGFuIG9iamVjdFxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHlwZTogJ2ltYWdlJyxcblxuICAgIC8qKlxuICAgICAqIFdpZHRoIG9mIGEgc3Ryb2tlLlxuICAgICAqIEZvciBpbWFnZSBxdWFsaXR5IGEgc3Ryb2tlIG11bHRpcGxlIG9mIDIgZ2l2ZXMgYmV0dGVyIHJlc3VsdHMuXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzdHJva2VXaWR0aDogMCxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gY2FsbGluZyB7QGxpbmsgZmFicmljLkltYWdlLmdldFNyY30sIHJldHVybiB2YWx1ZSBmcm9tIGVsZW1lbnQgc3JjIHdpdGggYGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdzcmMnKWAuXG4gICAgICogVGhpcyBhbGxvd3MgZm9yIHJlbGF0aXZlIHVybHMgYXMgaW1hZ2Ugc3JjLlxuICAgICAqIEBzaW5jZSAyLjcuMFxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHNyY0Zyb21BdHRyaWJ1dGU6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogcHJpdmF0ZVxuICAgICAqIGNvbnRhaW5zIGxhc3QgdmFsdWUgb2Ygc2NhbGVYIHRvIGRldGVjdFxuICAgICAqIGlmIHRoZSBJbWFnZSBnb3QgcmVzaXplZCBhZnRlciB0aGUgbGFzdCBSZW5kZXJcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKi9cbiAgICBfbGFzdFNjYWxlWDogMSxcblxuICAgIC8qKlxuICAgICAqIHByaXZhdGVcbiAgICAgKiBjb250YWlucyBsYXN0IHZhbHVlIG9mIHNjYWxlWSB0byBkZXRlY3RcbiAgICAgKiBpZiB0aGUgSW1hZ2UgZ290IHJlc2l6ZWQgYWZ0ZXIgdGhlIGxhc3QgUmVuZGVyXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICovXG4gICAgX2xhc3RTY2FsZVk6IDEsXG5cbiAgICAvKipcbiAgICAgKiBwcml2YXRlXG4gICAgICogY29udGFpbnMgbGFzdCB2YWx1ZSBvZiBzY2FsaW5nIGFwcGxpZWQgYnkgdGhlIGFwcGx5IGZpbHRlciBjaGFpblxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqL1xuICAgIF9maWx0ZXJTY2FsaW5nWDogMSxcblxuICAgIC8qKlxuICAgICAqIHByaXZhdGVcbiAgICAgKiBjb250YWlucyBsYXN0IHZhbHVlIG9mIHNjYWxpbmcgYXBwbGllZCBieSB0aGUgYXBwbHkgZmlsdGVyIGNoYWluXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICovXG4gICAgX2ZpbHRlclNjYWxpbmdZOiAxLFxuXG4gICAgLyoqXG4gICAgICogbWluaW11bSBzY2FsZSBmYWN0b3IgdW5kZXIgd2hpY2ggYW55IHJlc2l6ZUZpbHRlciBpcyB0cmlnZ2VyZWQgdG8gcmVzaXplIHRoZSBpbWFnZVxuICAgICAqIDAgd2lsbCBkaXNhYmxlIHRoZSBhdXRvbWF0aWMgcmVzaXplLiAxIHdpbGwgdHJpZ2dlciBhdXRvbWF0aWNhbGx5IGFsd2F5cy5cbiAgICAgKiBudW1iZXIgYmlnZ2VyIHRoYW4gMSBhcmUgbm90IGltcGxlbWVudGVkIHlldC5cbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKi9cbiAgICBtaW5pbXVtU2NhbGVUcmlnZ2VyOiAwLjUsXG5cbiAgICAvKipcbiAgICAgKiBMaXN0IG9mIHByb3BlcnRpZXMgdG8gY29uc2lkZXIgd2hlbiBjaGVja2luZyBpZlxuICAgICAqIHN0YXRlIG9mIGFuIG9iamVjdCBpcyBjaGFuZ2VkICh7QGxpbmsgZmFicmljLk9iamVjdCNoYXNTdGF0ZUNoYW5nZWR9KVxuICAgICAqIGFzIHdlbGwgYXMgZm9yIGhpc3RvcnkgKHVuZG8vcmVkbykgcHVycG9zZXNcbiAgICAgKiBAdHlwZSBBcnJheVxuICAgICAqL1xuICAgIHN0YXRlUHJvcGVydGllczogZmFicmljLk9iamVjdC5wcm90b3R5cGUuc3RhdGVQcm9wZXJ0aWVzLmNvbmNhdCgnY3JvcFgnLCAnY3JvcFknKSxcblxuICAgIC8qKlxuICAgICAqIExpc3Qgb2YgcHJvcGVydGllcyB0byBjb25zaWRlciB3aGVuIGNoZWNraW5nIGlmIGNhY2hlIG5lZWRzIHJlZnJlc2hcbiAgICAgKiBUaG9zZSBwcm9wZXJ0aWVzIGFyZSBjaGVja2VkIGJ5IHN0YXRlZnVsbENhY2hlIE9OICggb3IgbGF6eSBtb2RlIGlmIHdlIHdhbnQgKSBvciBmcm9tIHNpbmdsZVxuICAgICAqIGNhbGxzIHRvIE9iamVjdC5zZXQoa2V5LCB2YWx1ZSkuIElmIHRoZSBrZXkgaXMgaW4gdGhpcyBsaXN0LCB0aGUgb2JqZWN0IGlzIG1hcmtlZCBhcyBkaXJ0eVxuICAgICAqIGFuZCByZWZyZXNoZWQgYXQgdGhlIG5leHQgcmVuZGVyXG4gICAgICogQHR5cGUgQXJyYXlcbiAgICAgKi9cbiAgICBjYWNoZVByb3BlcnRpZXM6IGZhYnJpYy5PYmplY3QucHJvdG90eXBlLmNhY2hlUHJvcGVydGllcy5jb25jYXQoJ2Nyb3BYJywgJ2Nyb3BZJyksXG5cbiAgICAvKipcbiAgICAgKiBrZXkgdXNlZCB0byByZXRyaWV2ZSB0aGUgdGV4dHVyZSByZXByZXNlbnRpbmcgdGhpcyBpbWFnZVxuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgY2FjaGVLZXk6ICcnLFxuXG4gICAgLyoqXG4gICAgICogSW1hZ2UgY3JvcCBpbiBwaXhlbHMgZnJvbSBvcmlnaW5hbCBpbWFnZSBzaXplLlxuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgY3JvcFg6IDAsXG5cbiAgICAvKipcbiAgICAgKiBJbWFnZSBjcm9wIGluIHBpeGVscyBmcm9tIG9yaWdpbmFsIGltYWdlIHNpemUuXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBjcm9wWTogMCxcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIHRoaXMgY2FudmFzIHdpbGwgdXNlIGltYWdlIHNtb290aGluZyB3aGVuIHBhaW50aW5nIHRoaXMgaW1hZ2UuXG4gICAgICogQWxzbyBpbmZsdWVuY2UgaWYgdGhlIGNhY2hlQ2FudmFzIGZvciB0aGlzIGltYWdlIHVzZXMgaW1hZ2VTbW9vdGhpbmdcbiAgICAgKiBAc2luY2UgNC4wLjAtYmV0YS4xMVxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGltYWdlU21vb3RoaW5nOiB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBJbWFnZSBjYW4gYmUgaW5pdGlhbGl6ZWQgd2l0aCBhbnkgY2FudmFzIGRyYXdhYmxlIG9yIGEgc3RyaW5nLlxuICAgICAqIFRoZSBzdHJpbmcgc2hvdWxkIGJlIGEgdXJsIGFuZCB3aWxsIGJlIGxvYWRlZCBhcyBhbiBpbWFnZS5cbiAgICAgKiBDYW52YXMgYW5kIEltYWdlIGVsZW1lbnQgd29yayBvdXQgb2YgdGhlIGJveCwgd2hpbGUgdmlkZW9zIHJlcXVpcmUgZXh0cmEgY29kZSB0byB3b3JrLlxuICAgICAqIFBsZWFzZSBjaGVjayB2aWRlbyBlbGVtZW50IGV2ZW50cyBmb3Igc2Vla2luZy5cbiAgICAgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnQgfCBIVE1MQ2FudmFzRWxlbWVudCB8IEhUTUxWaWRlb0VsZW1lbnQgfCBTdHJpbmd9IGVsZW1lbnQgSW1hZ2UgZWxlbWVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGNhbGwgYWZ0ZXIgZXZlbnR1YWwgZmlsdGVycyBhcHBsaWVkLlxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5JbWFnZX0gdGhpc0FyZ1xuICAgICAqL1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7IH0pO1xuICAgICAgdGhpcy5maWx0ZXJzID0gW107XG4gICAgICB0aGlzLmNhY2hlS2V5ID0gJ3RleHR1cmUnICsgZmFicmljLk9iamVjdC5fX3VpZCsrO1xuICAgICAgdGhpcy5jYWxsU3VwZXIoJ2luaXRpYWxpemUnLCBvcHRpb25zKTtcbiAgICAgIHRoaXMuX2luaXRFbGVtZW50KGVsZW1lbnQsIG9wdGlvbnMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGltYWdlIGVsZW1lbnQgd2hpY2ggdGhpcyBpbnN0YW5jZSBpZiBiYXNlZCBvblxuICAgICAqIEByZXR1cm4ge0hUTUxJbWFnZUVsZW1lbnR9IEltYWdlIGVsZW1lbnRcbiAgICAgKi9cbiAgICBnZXRFbGVtZW50OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50IHx8IHt9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIGltYWdlIGVsZW1lbnQgZm9yIHRoaXMgaW5zdGFuY2UgdG8gYSBzcGVjaWZpZWQgb25lLlxuICAgICAqIElmIGZpbHRlcnMgZGVmaW5lZCB0aGV5IGFyZSBhcHBsaWVkIHRvIG5ldyBpbWFnZS5cbiAgICAgKiBZb3UgbWlnaHQgbmVlZCB0byBjYWxsIGBjYW52YXMucmVuZGVyQWxsYCBhbmQgYG9iamVjdC5zZXRDb29yZHNgIGFmdGVyIHJlcGxhY2luZywgdG8gcmVuZGVyIG5ldyBpbWFnZSBhbmQgdXBkYXRlIGNvbnRyb2xzIGFyZWEuXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fSBlbGVtZW50XG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5JbWFnZX0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzZXRFbGVtZW50OiBmdW5jdGlvbihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICB0aGlzLnJlbW92ZVRleHR1cmUodGhpcy5jYWNoZUtleSk7XG4gICAgICB0aGlzLnJlbW92ZVRleHR1cmUodGhpcy5jYWNoZUtleSArICdfZmlsdGVyZWQnKTtcbiAgICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgdGhpcy5fb3JpZ2luYWxFbGVtZW50ID0gZWxlbWVudDtcbiAgICAgIHRoaXMuX2luaXRDb25maWcob3B0aW9ucyk7XG4gICAgICBpZiAodGhpcy5maWx0ZXJzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICB0aGlzLmFwcGx5RmlsdGVycygpO1xuICAgICAgfVxuICAgICAgLy8gcmVzaXplRmlsdGVycyB3b3JrIG9uIHRoZSBhbHJlYWR5IGZpbHRlcmVkIGNvcHkuXG4gICAgICAvLyB3ZSBuZWVkIHRvIGFwcGx5IHJlc2l6ZUZpbHRlcnMgQUZURVIgbm9ybWFsIGZpbHRlcnMuXG4gICAgICAvLyBhcHBseVJlc2l6ZUZpbHRlcnMgaXMgcnVuIG1vcmUgb2Z0ZW4gdGhhbiBub3JtYWwgZmlsdGVyc1xuICAgICAgLy8gYW5kIGlzIHRyaWdnZXJlZCBieSB1c2VyIGludGVyYWN0aW9ucyByYXRoZXIgdGhhbiBkZXYgY29kZVxuICAgICAgaWYgKHRoaXMucmVzaXplRmlsdGVyKSB7XG4gICAgICAgIHRoaXMuYXBwbHlSZXNpemVGaWx0ZXJzKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGVsZXRlIGEgc2luZ2xlIHRleHR1cmUgaWYgaW4gd2ViZ2wgbW9kZVxuICAgICAqL1xuICAgIHJlbW92ZVRleHR1cmU6IGZ1bmN0aW9uKGtleSkge1xuICAgICAgdmFyIGJhY2tlbmQgPSBmYWJyaWMuZmlsdGVyQmFja2VuZDtcbiAgICAgIGlmIChiYWNrZW5kICYmIGJhY2tlbmQuZXZpY3RDYWNoZXNGb3JLZXkpIHtcbiAgICAgICAgYmFja2VuZC5ldmljdENhY2hlc0ZvcktleShrZXkpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZWxldGUgdGV4dHVyZXMsIHJlZmVyZW5jZSB0byBlbGVtZW50cyBhbmQgZXZlbnR1YWxseSBKU0RPTSBjbGVhbnVwXG4gICAgICovXG4gICAgZGlzcG9zZTogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jYWxsU3VwZXIoJ2Rpc3Bvc2UnKTtcbiAgICAgIHRoaXMucmVtb3ZlVGV4dHVyZSh0aGlzLmNhY2hlS2V5KTtcbiAgICAgIHRoaXMucmVtb3ZlVGV4dHVyZSh0aGlzLmNhY2hlS2V5ICsgJ19maWx0ZXJlZCcpO1xuICAgICAgdGhpcy5fY2FjaGVDb250ZXh0ID0gdW5kZWZpbmVkO1xuICAgICAgWydfb3JpZ2luYWxFbGVtZW50JywgJ19lbGVtZW50JywgJ19maWx0ZXJlZEVsJywgJ19jYWNoZUNhbnZhcyddLmZvckVhY2goKGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgZmFicmljLnV0aWwuY2xlYW5VcEpzZG9tTm9kZSh0aGlzW2VsZW1lbnRdKTtcbiAgICAgICAgdGhpc1tlbGVtZW50XSA9IHVuZGVmaW5lZDtcbiAgICAgIH0pLmJpbmQodGhpcykpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNyb3NzT3JpZ2luIHZhbHVlIChvZiB0aGUgY29ycmVzcG9uZGluZyBpbWFnZSBlbGVtZW50KVxuICAgICAqL1xuICAgIGdldENyb3NzT3JpZ2luOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9vcmlnaW5hbEVsZW1lbnQgJiYgKHRoaXMuX29yaWdpbmFsRWxlbWVudC5jcm9zc09yaWdpbiB8fCBudWxsKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBvcmlnaW5hbCBzaXplIG9mIGFuIGltYWdlXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBPYmplY3Qgd2l0aCBcIndpZHRoXCIgYW5kIFwiaGVpZ2h0XCIgcHJvcGVydGllc1xuICAgICAqL1xuICAgIGdldE9yaWdpbmFsU2l6ZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZWxlbWVudCA9IHRoaXMuZ2V0RWxlbWVudCgpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgd2lkdGg6IGVsZW1lbnQubmF0dXJhbFdpZHRoIHx8IGVsZW1lbnQud2lkdGgsXG4gICAgICAgIGhlaWdodDogZWxlbWVudC5uYXR1cmFsSGVpZ2h0IHx8IGVsZW1lbnQuaGVpZ2h0XG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfc3Ryb2tlOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIGlmICghdGhpcy5zdHJva2UgfHwgdGhpcy5zdHJva2VXaWR0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgdyA9IHRoaXMud2lkdGggLyAyLCBoID0gdGhpcy5oZWlnaHQgLyAyO1xuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgY3R4Lm1vdmVUbygtdywgLWgpO1xuICAgICAgY3R4LmxpbmVUbyh3LCAtaCk7XG4gICAgICBjdHgubGluZVRvKHcsIGgpO1xuICAgICAgY3R4LmxpbmVUbygtdywgaCk7XG4gICAgICBjdHgubGluZVRvKC13LCAtaCk7XG4gICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BlcnRpZXNUb0luY2x1ZGVdIEFueSBwcm9wZXJ0aWVzIHRoYXQgeW91IG1pZ2h0IHdhbnQgdG8gYWRkaXRpb25hbGx5IGluY2x1ZGUgaW4gdGhlIG91dHB1dFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgdG9PYmplY3Q6IGZ1bmN0aW9uKHByb3BlcnRpZXNUb0luY2x1ZGUpIHtcbiAgICAgIHZhciBmaWx0ZXJzID0gW107XG5cbiAgICAgIHRoaXMuZmlsdGVycy5mb3JFYWNoKGZ1bmN0aW9uKGZpbHRlck9iaikge1xuICAgICAgICBpZiAoZmlsdGVyT2JqKSB7XG4gICAgICAgICAgZmlsdGVycy5wdXNoKGZpbHRlck9iai50b09iamVjdCgpKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB2YXIgb2JqZWN0ID0gZXh0ZW5kKFxuICAgICAgICB0aGlzLmNhbGxTdXBlcihcbiAgICAgICAgICAndG9PYmplY3QnLFxuICAgICAgICAgIFsnY3JvcFgnLCAnY3JvcFknXS5jb25jYXQocHJvcGVydGllc1RvSW5jbHVkZSlcbiAgICAgICAgKSwge1xuICAgICAgICAgIHNyYzogdGhpcy5nZXRTcmMoKSxcbiAgICAgICAgICBjcm9zc09yaWdpbjogdGhpcy5nZXRDcm9zc09yaWdpbigpLFxuICAgICAgICAgIGZpbHRlcnM6IGZpbHRlcnMsXG4gICAgICAgIH0pO1xuICAgICAgaWYgKHRoaXMucmVzaXplRmlsdGVyKSB7XG4gICAgICAgIG9iamVjdC5yZXNpemVGaWx0ZXIgPSB0aGlzLnJlc2l6ZUZpbHRlci50b09iamVjdCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIGFuIGltYWdlIGhhcyBjcm9wIGFwcGxpZWQsIGluc3BlY3RpbmcgdmFsdWVzIG9mIGNyb3BYLGNyb3BZLHdpZHRoLGhlaWdodC5cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIGhhc0Nyb3A6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY3JvcFggfHwgdGhpcy5jcm9wWSB8fCB0aGlzLndpZHRoIDwgdGhpcy5fZWxlbWVudC53aWR0aCB8fCB0aGlzLmhlaWdodCA8IHRoaXMuX2VsZW1lbnQuaGVpZ2h0O1xuICAgIH0sXG5cbiAgICAvKiBfVE9fU1ZHX1NUQVJUXyAqL1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgc3ZnIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHJldHVybiB7QXJyYXl9IGFuIGFycmF5IG9mIHN0cmluZ3Mgd2l0aCB0aGUgc3BlY2lmaWMgc3ZnIHJlcHJlc2VudGF0aW9uXG4gICAgICogb2YgdGhlIGluc3RhbmNlXG4gICAgICovXG4gICAgX3RvU1ZHOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzdmdTdHJpbmcgPSBbXSwgaW1hZ2VNYXJrdXAgPSBbXSwgc3Ryb2tlU3ZnLCBlbGVtZW50ID0gdGhpcy5fZWxlbWVudCxcbiAgICAgICAgICB4ID0gLXRoaXMud2lkdGggLyAyLCB5ID0gLXRoaXMuaGVpZ2h0IC8gMiwgY2xpcFBhdGggPSAnJywgaW1hZ2VSZW5kZXJpbmcgPSAnJztcbiAgICAgIGlmICghZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5oYXNDcm9wKCkpIHtcbiAgICAgICAgdmFyIGNsaXBQYXRoSWQgPSBmYWJyaWMuT2JqZWN0Ll9fdWlkKys7XG4gICAgICAgIHN2Z1N0cmluZy5wdXNoKFxuICAgICAgICAgICc8Y2xpcFBhdGggaWQ9XCJpbWFnZUNyb3BfJyArIGNsaXBQYXRoSWQgKyAnXCI+XFxuJyxcbiAgICAgICAgICAnXFx0PHJlY3QgeD1cIicgKyB4ICsgJ1wiIHk9XCInICsgeSArICdcIiB3aWR0aD1cIicgKyB0aGlzLndpZHRoICsgJ1wiIGhlaWdodD1cIicgKyB0aGlzLmhlaWdodCArICdcIiAvPlxcbicsXG4gICAgICAgICAgJzwvY2xpcFBhdGg+XFxuJ1xuICAgICAgICApO1xuICAgICAgICBjbGlwUGF0aCA9ICcgY2xpcC1wYXRoPVwidXJsKCNpbWFnZUNyb3BfJyArIGNsaXBQYXRoSWQgKyAnKVwiICc7XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuaW1hZ2VTbW9vdGhpbmcpIHtcbiAgICAgICAgaW1hZ2VSZW5kZXJpbmcgPSAnXCIgaW1hZ2UtcmVuZGVyaW5nPVwib3B0aW1pemVTcGVlZCc7XG4gICAgICB9XG4gICAgICBpbWFnZU1hcmt1cC5wdXNoKCdcXHQ8aW1hZ2UgJywgJ0NPTU1PTl9QQVJUUycsICd4bGluazpocmVmPVwiJywgdGhpcy5nZXRTdmdTcmModHJ1ZSksXG4gICAgICAgICdcIiB4PVwiJywgeCAtIHRoaXMuY3JvcFgsICdcIiB5PVwiJywgeSAtIHRoaXMuY3JvcFksXG4gICAgICAgIC8vIHdlJ3JlIGVzc2VudGlhbGx5IG1vdmluZyBvcmlnaW4gb2YgdHJhbnNmb3JtYXRpb24gZnJvbSB0b3AvbGVmdCBjb3JuZXIgdG8gdGhlIGNlbnRlciBvZiB0aGUgc2hhcGVcbiAgICAgICAgLy8gYnkgd3JhcHBpbmcgaXQgaW4gY29udGFpbmVyIDxnPiBlbGVtZW50IHdpdGggYWN0dWFsIHRyYW5zZm9ybWF0aW9uLCB0aGVuIG9mZnNldHRpbmcgb2JqZWN0IHRvIHRoZSB0b3AvbGVmdFxuICAgICAgICAvLyBzbyB0aGF0IG9iamVjdCdzIGNlbnRlciBhbGlnbnMgd2l0aCBjb250YWluZXIncyBsZWZ0L3RvcFxuICAgICAgICAnXCIgd2lkdGg9XCInLCBlbGVtZW50LndpZHRoIHx8IGVsZW1lbnQubmF0dXJhbFdpZHRoLFxuICAgICAgICAnXCIgaGVpZ2h0PVwiJywgZWxlbWVudC5oZWlnaHQgfHwgZWxlbWVudC5oZWlnaHQsXG4gICAgICAgIGltYWdlUmVuZGVyaW5nLFxuICAgICAgICAnXCInLCBjbGlwUGF0aCxcbiAgICAgICAgJz48L2ltYWdlPlxcbicpO1xuXG4gICAgICBpZiAodGhpcy5zdHJva2UgfHwgdGhpcy5zdHJva2VEYXNoQXJyYXkpIHtcbiAgICAgICAgdmFyIG9yaWdGaWxsID0gdGhpcy5maWxsO1xuICAgICAgICB0aGlzLmZpbGwgPSBudWxsO1xuICAgICAgICBzdHJva2VTdmcgPSBbXG4gICAgICAgICAgJ1xcdDxyZWN0ICcsXG4gICAgICAgICAgJ3g9XCInLCB4LCAnXCIgeT1cIicsIHksXG4gICAgICAgICAgJ1wiIHdpZHRoPVwiJywgdGhpcy53aWR0aCwgJ1wiIGhlaWdodD1cIicsIHRoaXMuaGVpZ2h0LFxuICAgICAgICAgICdcIiBzdHlsZT1cIicsIHRoaXMuZ2V0U3ZnU3R5bGVzKCksXG4gICAgICAgICAgJ1wiLz5cXG4nXG4gICAgICAgIF07XG4gICAgICAgIHRoaXMuZmlsbCA9IG9yaWdGaWxsO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMucGFpbnRGaXJzdCAhPT0gJ2ZpbGwnKSB7XG4gICAgICAgIHN2Z1N0cmluZyA9IHN2Z1N0cmluZy5jb25jYXQoc3Ryb2tlU3ZnLCBpbWFnZU1hcmt1cCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgc3ZnU3RyaW5nID0gc3ZnU3RyaW5nLmNvbmNhdChpbWFnZU1hcmt1cCwgc3Ryb2tlU3ZnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdmdTdHJpbmc7XG4gICAgfSxcbiAgICAvKiBfVE9fU1ZHX0VORF8gKi9cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgc291cmNlIG9mIGFuIGltYWdlXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBmaWx0ZXJlZCBpbmRpY2F0ZXMgaWYgdGhlIHNyYyBpcyBuZWVkZWQgZm9yIHN2Z1xuICAgICAqIEByZXR1cm4ge1N0cmluZ30gU291cmNlIG9mIGFuIGltYWdlXG4gICAgICovXG4gICAgZ2V0U3JjOiBmdW5jdGlvbihmaWx0ZXJlZCkge1xuICAgICAgdmFyIGVsZW1lbnQgPSBmaWx0ZXJlZCA/IHRoaXMuX2VsZW1lbnQgOiB0aGlzLl9vcmlnaW5hbEVsZW1lbnQ7XG4gICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICBpZiAoZWxlbWVudC50b0RhdGFVUkwpIHtcbiAgICAgICAgICByZXR1cm4gZWxlbWVudC50b0RhdGFVUkwoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnNyY0Zyb21BdHRyaWJ1dGUpIHtcbiAgICAgICAgICByZXR1cm4gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3NyYycpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHJldHVybiBlbGVtZW50LnNyYztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNyYyB8fCAnJztcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyBzb3VyY2Ugb2YgYW4gaW1hZ2VcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc3JjIFNvdXJjZSBzdHJpbmcgKFVSTClcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIENhbGxiYWNrIGlzIGludm9rZWQgd2hlbiBpbWFnZSBoYXMgYmVlbiBsb2FkZWQgKGFuZCBhbGwgZmlsdGVycyBoYXZlIGJlZW4gYXBwbGllZClcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmNyb3NzT3JpZ2luXSBjcm9zc09yaWdpbiB2YWx1ZSAob25lIG9mIFwiXCIsIFwiYW5vbnltb3VzXCIsIFwidXNlLWNyZWRlbnRpYWxzXCIpXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0hUTUwvQ09SU19zZXR0aW5nc19hdHRyaWJ1dGVzXG4gICAgICogQHJldHVybiB7ZmFicmljLkltYWdlfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHNldFNyYzogZnVuY3Rpb24oc3JjLCBjYWxsYmFjaywgb3B0aW9ucykge1xuICAgICAgZmFicmljLnV0aWwubG9hZEltYWdlKHNyYywgZnVuY3Rpb24oaW1nLCBpc0Vycm9yKSB7XG4gICAgICAgIHRoaXMuc2V0RWxlbWVudChpbWcsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl9zZXRXaWR0aEhlaWdodCgpO1xuICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayh0aGlzLCBpc0Vycm9yKTtcbiAgICAgIH0sIHRoaXMsIG9wdGlvbnMgJiYgb3B0aW9ucy5jcm9zc09yaWdpbik7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IFN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRvU3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAnIzxmYWJyaWMuSW1hZ2U6IHsgc3JjOiBcIicgKyB0aGlzLmdldFNyYygpICsgJ1wiIH0+JztcbiAgICB9LFxuXG4gICAgYXBwbHlSZXNpemVGaWx0ZXJzOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBmaWx0ZXIgPSB0aGlzLnJlc2l6ZUZpbHRlcixcbiAgICAgICAgICBtaW5pbXVtU2NhbGUgPSB0aGlzLm1pbmltdW1TY2FsZVRyaWdnZXIsXG4gICAgICAgICAgb2JqZWN0U2NhbGUgPSB0aGlzLmdldFRvdGFsT2JqZWN0U2NhbGluZygpLFxuICAgICAgICAgIHNjYWxlWCA9IG9iamVjdFNjYWxlLnNjYWxlWCxcbiAgICAgICAgICBzY2FsZVkgPSBvYmplY3RTY2FsZS5zY2FsZVksXG4gICAgICAgICAgZWxlbWVudFRvRmlsdGVyID0gdGhpcy5fZmlsdGVyZWRFbCB8fCB0aGlzLl9vcmlnaW5hbEVsZW1lbnQ7XG4gICAgICBpZiAodGhpcy5ncm91cCkge1xuICAgICAgICB0aGlzLnNldCgnZGlydHknLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGlmICghZmlsdGVyIHx8IChzY2FsZVggPiBtaW5pbXVtU2NhbGUgJiYgc2NhbGVZID4gbWluaW11bVNjYWxlKSkge1xuICAgICAgICB0aGlzLl9lbGVtZW50ID0gZWxlbWVudFRvRmlsdGVyO1xuICAgICAgICB0aGlzLl9maWx0ZXJTY2FsaW5nWCA9IDE7XG4gICAgICAgIHRoaXMuX2ZpbHRlclNjYWxpbmdZID0gMTtcbiAgICAgICAgdGhpcy5fbGFzdFNjYWxlWCA9IHNjYWxlWDtcbiAgICAgICAgdGhpcy5fbGFzdFNjYWxlWSA9IHNjYWxlWTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFmYWJyaWMuZmlsdGVyQmFja2VuZCkge1xuICAgICAgICBmYWJyaWMuZmlsdGVyQmFja2VuZCA9IGZhYnJpYy5pbml0RmlsdGVyQmFja2VuZCgpO1xuICAgICAgfVxuICAgICAgdmFyIGNhbnZhc0VsID0gZmFicmljLnV0aWwuY3JlYXRlQ2FudmFzRWxlbWVudCgpLFxuICAgICAgICAgIGNhY2hlS2V5ID0gdGhpcy5fZmlsdGVyZWRFbCA/ICh0aGlzLmNhY2hlS2V5ICsgJ19maWx0ZXJlZCcpIDogdGhpcy5jYWNoZUtleSxcbiAgICAgICAgICBzb3VyY2VXaWR0aCA9IGVsZW1lbnRUb0ZpbHRlci53aWR0aCwgc291cmNlSGVpZ2h0ID0gZWxlbWVudFRvRmlsdGVyLmhlaWdodDtcbiAgICAgIGNhbnZhc0VsLndpZHRoID0gc291cmNlV2lkdGg7XG4gICAgICBjYW52YXNFbC5oZWlnaHQgPSBzb3VyY2VIZWlnaHQ7XG4gICAgICB0aGlzLl9lbGVtZW50ID0gY2FudmFzRWw7XG4gICAgICB0aGlzLl9sYXN0U2NhbGVYID0gZmlsdGVyLnNjYWxlWCA9IHNjYWxlWDtcbiAgICAgIHRoaXMuX2xhc3RTY2FsZVkgPSBmaWx0ZXIuc2NhbGVZID0gc2NhbGVZO1xuICAgICAgZmFicmljLmZpbHRlckJhY2tlbmQuYXBwbHlGaWx0ZXJzKFxuICAgICAgICBbZmlsdGVyXSwgZWxlbWVudFRvRmlsdGVyLCBzb3VyY2VXaWR0aCwgc291cmNlSGVpZ2h0LCB0aGlzLl9lbGVtZW50LCBjYWNoZUtleSk7XG4gICAgICB0aGlzLl9maWx0ZXJTY2FsaW5nWCA9IGNhbnZhc0VsLndpZHRoIC8gdGhpcy5fb3JpZ2luYWxFbGVtZW50LndpZHRoO1xuICAgICAgdGhpcy5fZmlsdGVyU2NhbGluZ1kgPSBjYW52YXNFbC5oZWlnaHQgLyB0aGlzLl9vcmlnaW5hbEVsZW1lbnQuaGVpZ2h0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGZpbHRlcnMgYXNzaWduZWQgdG8gdGhpcyBpbWFnZSAoZnJvbSBcImZpbHRlcnNcIiBhcnJheSkgb3IgZnJvbSBmaWx0ZXIgcGFyYW1cbiAgICAgKiBAbWV0aG9kIGFwcGx5RmlsdGVyc1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IGZpbHRlcnMgdG8gYmUgYXBwbGllZFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZm9yUmVzaXppbmcgc3BlY2lmeSBpZiB0aGUgZmlsdGVyIG9wZXJhdGlvbiBpcyBhIHJlc2l6ZSBvcGVyYXRpb25cbiAgICAgKiBAcmV0dXJuIHt0aGlzQXJnfSByZXR1cm4gdGhlIGZhYnJpYy5JbWFnZSBvYmplY3RcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgYXBwbHlGaWx0ZXJzOiBmdW5jdGlvbihmaWx0ZXJzKSB7XG5cbiAgICAgIGZpbHRlcnMgPSBmaWx0ZXJzIHx8IHRoaXMuZmlsdGVycyB8fCBbXTtcbiAgICAgIGZpbHRlcnMgPSBmaWx0ZXJzLmZpbHRlcihmdW5jdGlvbihmaWx0ZXIpIHsgcmV0dXJuIGZpbHRlciAmJiAhZmlsdGVyLmlzTmV1dHJhbFN0YXRlKCk7IH0pO1xuICAgICAgdGhpcy5zZXQoJ2RpcnR5JywgdHJ1ZSk7XG5cbiAgICAgIC8vIG5lZWRzIHRvIGNsZWFyIG91dCBvciBXRUJHTCB3aWxsIG5vdCByZXNpemUgY29ycmVjdGx5XG4gICAgICB0aGlzLnJlbW92ZVRleHR1cmUodGhpcy5jYWNoZUtleSArICdfZmlsdGVyZWQnKTtcblxuICAgICAgaWYgKGZpbHRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9vcmlnaW5hbEVsZW1lbnQ7XG4gICAgICAgIHRoaXMuX2ZpbHRlcmVkRWwgPSBudWxsO1xuICAgICAgICB0aGlzLl9maWx0ZXJTY2FsaW5nWCA9IDE7XG4gICAgICAgIHRoaXMuX2ZpbHRlclNjYWxpbmdZID0gMTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHZhciBpbWdFbGVtZW50ID0gdGhpcy5fb3JpZ2luYWxFbGVtZW50LFxuICAgICAgICAgIHNvdXJjZVdpZHRoID0gaW1nRWxlbWVudC5uYXR1cmFsV2lkdGggfHwgaW1nRWxlbWVudC53aWR0aCxcbiAgICAgICAgICBzb3VyY2VIZWlnaHQgPSBpbWdFbGVtZW50Lm5hdHVyYWxIZWlnaHQgfHwgaW1nRWxlbWVudC5oZWlnaHQ7XG5cbiAgICAgIGlmICh0aGlzLl9lbGVtZW50ID09PSB0aGlzLl9vcmlnaW5hbEVsZW1lbnQpIHtcbiAgICAgICAgLy8gaWYgdGhlIGVsZW1lbnQgaXMgdGhlIHNhbWUgd2UgbmVlZCB0byBjcmVhdGUgYSBuZXcgZWxlbWVudFxuICAgICAgICB2YXIgY2FudmFzRWwgPSBmYWJyaWMudXRpbC5jcmVhdGVDYW52YXNFbGVtZW50KCk7XG4gICAgICAgIGNhbnZhc0VsLndpZHRoID0gc291cmNlV2lkdGg7XG4gICAgICAgIGNhbnZhc0VsLmhlaWdodCA9IHNvdXJjZUhlaWdodDtcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IGNhbnZhc0VsO1xuICAgICAgICB0aGlzLl9maWx0ZXJlZEVsID0gY2FudmFzRWw7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgLy8gY2xlYXIgdGhlIGV4aXN0aW5nIGVsZW1lbnQgdG8gZ2V0IG5ldyBmaWx0ZXIgZGF0YVxuICAgICAgICAvLyBhbHNvIGRlcmVmZXJlbmNlIHRoZSBldmVudHVhbCByZXNpemVkIF9lbGVtZW50XG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9maWx0ZXJlZEVsO1xuICAgICAgICB0aGlzLl9maWx0ZXJlZEVsLmdldENvbnRleHQoJzJkJykuY2xlYXJSZWN0KDAsIDAsIHNvdXJjZVdpZHRoLCBzb3VyY2VIZWlnaHQpO1xuICAgICAgICAvLyB3ZSBhbHNvIG5lZWQgdG8gcmVzaXplIGFnYWluIGF0IG5leHQgcmVuZGVyQWxsLCBzbyByZW1vdmUgc2F2ZWQgX2xhc3RTY2FsZVgvWVxuICAgICAgICB0aGlzLl9sYXN0U2NhbGVYID0gMTtcbiAgICAgICAgdGhpcy5fbGFzdFNjYWxlWSA9IDE7XG4gICAgICB9XG4gICAgICBpZiAoIWZhYnJpYy5maWx0ZXJCYWNrZW5kKSB7XG4gICAgICAgIGZhYnJpYy5maWx0ZXJCYWNrZW5kID0gZmFicmljLmluaXRGaWx0ZXJCYWNrZW5kKCk7XG4gICAgICB9XG4gICAgICBmYWJyaWMuZmlsdGVyQmFja2VuZC5hcHBseUZpbHRlcnMoXG4gICAgICAgIGZpbHRlcnMsIHRoaXMuX29yaWdpbmFsRWxlbWVudCwgc291cmNlV2lkdGgsIHNvdXJjZUhlaWdodCwgdGhpcy5fZWxlbWVudCwgdGhpcy5jYWNoZUtleSk7XG4gICAgICBpZiAodGhpcy5fb3JpZ2luYWxFbGVtZW50LndpZHRoICE9PSB0aGlzLl9lbGVtZW50LndpZHRoIHx8XG4gICAgICAgIHRoaXMuX29yaWdpbmFsRWxlbWVudC5oZWlnaHQgIT09IHRoaXMuX2VsZW1lbnQuaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuX2ZpbHRlclNjYWxpbmdYID0gdGhpcy5fZWxlbWVudC53aWR0aCAvIHRoaXMuX29yaWdpbmFsRWxlbWVudC53aWR0aDtcbiAgICAgICAgdGhpcy5fZmlsdGVyU2NhbGluZ1kgPSB0aGlzLl9lbGVtZW50LmhlaWdodCAvIHRoaXMuX29yaWdpbmFsRWxlbWVudC5oZWlnaHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgX3JlbmRlcjogZnVuY3Rpb24oY3R4KSB7XG4gICAgICBmYWJyaWMudXRpbC5zZXRJbWFnZVNtb290aGluZyhjdHgsIHRoaXMuaW1hZ2VTbW9vdGhpbmcpO1xuICAgICAgaWYgKHRoaXMuaXNNb3ZpbmcgIT09IHRydWUgJiYgdGhpcy5yZXNpemVGaWx0ZXIgJiYgdGhpcy5fbmVlZHNSZXNpemUoKSkge1xuICAgICAgICB0aGlzLmFwcGx5UmVzaXplRmlsdGVycygpO1xuICAgICAgfVxuICAgICAgdGhpcy5fc3Ryb2tlKGN0eCk7XG4gICAgICB0aGlzLl9yZW5kZXJQYWludEluT3JkZXIoY3R4KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUGFpbnQgdGhlIGNhY2hlZCBjb3B5IG9mIHRoZSBvYmplY3Qgb24gdGhlIHRhcmdldCBjb250ZXh0LlxuICAgICAqIGl0IHdpbGwgc2V0IHRoZSBpbWFnZVNtb290aGluZyBmb3IgdGhlIGRyYXcgb3BlcmF0aW9uXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIGRyYXdDYWNoZU9uQ2FudmFzOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIGZhYnJpYy51dGlsLnNldEltYWdlU21vb3RoaW5nKGN0eCwgdGhpcy5pbWFnZVNtb290aGluZyk7XG4gICAgICBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZS5kcmF3Q2FjaGVPbkNhbnZhcy5jYWxsKHRoaXMsIGN0eCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERlY2lkZSBpZiB0aGUgb2JqZWN0IHNob3VsZCBjYWNoZSBvciBub3QuIENyZWF0ZSBpdHMgb3duIGNhY2hlIGxldmVsXG4gICAgICogbmVlZHNJdHNPd25DYWNoZSBzaG91bGQgYmUgdXNlZCB3aGVuIHRoZSBvYmplY3QgZHJhd2luZyBtZXRob2QgcmVxdWlyZXNcbiAgICAgKiBhIGNhY2hlIHN0ZXAuIE5vbmUgb2YgdGhlIGZhYnJpYyBjbGFzc2VzIHJlcXVpcmVzIGl0LlxuICAgICAqIEdlbmVyYWxseSB5b3UgZG8gbm90IGNhY2hlIG9iamVjdHMgaW4gZ3JvdXBzIGJlY2F1c2UgdGhlIGdyb3VwIG91dHNpZGUgaXMgY2FjaGVkLlxuICAgICAqIFRoaXMgaXMgdGhlIHNwZWNpYWwgaW1hZ2UgdmVyc2lvbiB3aGVyZSB3ZSB3b3VsZCBsaWtlIHRvIGF2b2lkIGNhY2hpbmcgd2hlcmUgcG9zc2libGUuXG4gICAgICogRXNzZW50aWFsbHkgaW1hZ2VzIGRvIG5vdCBiZW5lZml0IGZyb20gY2FjaGluZy4gVGhleSBtYXkgcmVxdWlyZSBjYWNoaW5nLCBhbmQgaW4gdGhhdFxuICAgICAqIGNhc2Ugd2UgZG8gaXQuIEFsc28gY2FjaGluZyBhbiBpbWFnZSB1c3VhbGx5IGVuZHMgaW4gYSBsb3NzIG9mIGRldGFpbHMuXG4gICAgICogQSBmdWxsIHBlcmZvcm1hbmNlIGF1ZGl0IHNob3VsZCBiZSBkb25lLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgc2hvdWxkQ2FjaGU6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMubmVlZHNJdHNPd25DYWNoZSgpO1xuICAgIH0sXG5cbiAgICBfcmVuZGVyRmlsbDogZnVuY3Rpb24oY3R4KSB7XG4gICAgICB2YXIgZWxlbWVudFRvRHJhdyA9IHRoaXMuX2VsZW1lbnQ7XG4gICAgICBpZiAoIWVsZW1lbnRUb0RyYXcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIHNjYWxlWCA9IHRoaXMuX2ZpbHRlclNjYWxpbmdYLCBzY2FsZVkgPSB0aGlzLl9maWx0ZXJTY2FsaW5nWSxcbiAgICAgICAgICB3ID0gdGhpcy53aWR0aCwgaCA9IHRoaXMuaGVpZ2h0LCBtaW4gPSBNYXRoLm1pbiwgbWF4ID0gTWF0aC5tYXgsXG4gICAgICAgICAgLy8gY3JvcCB2YWx1ZXMgY2Fubm90IGJlIGxlc3NlciB0aGFuIDAuXG4gICAgICAgICAgY3JvcFggPSBtYXgodGhpcy5jcm9wWCwgMCksIGNyb3BZID0gbWF4KHRoaXMuY3JvcFksIDApLFxuICAgICAgICAgIGVsV2lkdGggPSBlbGVtZW50VG9EcmF3Lm5hdHVyYWxXaWR0aCB8fCBlbGVtZW50VG9EcmF3LndpZHRoLFxuICAgICAgICAgIGVsSGVpZ2h0ID0gZWxlbWVudFRvRHJhdy5uYXR1cmFsSGVpZ2h0IHx8IGVsZW1lbnRUb0RyYXcuaGVpZ2h0LFxuICAgICAgICAgIHNYID0gY3JvcFggKiBzY2FsZVgsXG4gICAgICAgICAgc1kgPSBjcm9wWSAqIHNjYWxlWSxcbiAgICAgICAgICAvLyB0aGUgd2lkdGggaGVpZ2h0IGNhbm5vdCBleGNlZWQgZWxlbWVudCB3aWR0aC9oZWlnaHQsIHN0YXJ0aW5nIGZyb20gdGhlIGNyb3Agb2Zmc2V0LlxuICAgICAgICAgIHNXID0gbWluKHcgKiBzY2FsZVgsIGVsV2lkdGggLSBzWCksXG4gICAgICAgICAgc0ggPSBtaW4oaCAqIHNjYWxlWSwgZWxIZWlnaHQgLSBzWSksXG4gICAgICAgICAgeCA9IC13IC8gMiwgeSA9IC1oIC8gMixcbiAgICAgICAgICBtYXhEZXN0VyA9IG1pbih3LCBlbFdpZHRoIC8gc2NhbGVYIC0gY3JvcFgpLFxuICAgICAgICAgIG1heERlc3RIID0gbWluKGgsIGVsSGVpZ2h0IC8gc2NhbGVZIC0gY3JvcFkpO1xuXG4gICAgICBlbGVtZW50VG9EcmF3ICYmIGN0eC5kcmF3SW1hZ2UoZWxlbWVudFRvRHJhdywgc1gsIHNZLCBzVywgc0gsIHgsIHksIG1heERlc3RXLCBtYXhEZXN0SCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIG5lZWRlZCB0byBjaGVjayBpZiBpbWFnZSBuZWVkcyByZXNpemVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9uZWVkc1Jlc2l6ZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2NhbGUgPSB0aGlzLmdldFRvdGFsT2JqZWN0U2NhbGluZygpO1xuICAgICAgcmV0dXJuIChzY2FsZS5zY2FsZVggIT09IHRoaXMuX2xhc3RTY2FsZVggfHwgc2NhbGUuc2NhbGVZICE9PSB0aGlzLl9sYXN0U2NhbGVZKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVzZXRXaWR0aEhlaWdodDogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLnNldCh0aGlzLmdldE9yaWdpbmFsU2l6ZSgpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVGhlIEltYWdlIGNsYXNzJ3MgaW5pdGlhbGl6YXRpb24gbWV0aG9kLiBUaGlzIG1ldGhvZCBpcyBhdXRvbWF0aWNhbGx5XG4gICAgICogY2FsbGVkIGJ5IHRoZSBjb25zdHJ1Y3Rvci5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxTdHJpbmd9IGVsZW1lbnQgVGhlIGVsZW1lbnQgcmVwcmVzZW50aW5nIHRoZSBpbWFnZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKi9cbiAgICBfaW5pdEVsZW1lbnQ6IGZ1bmN0aW9uKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuc2V0RWxlbWVudChmYWJyaWMudXRpbC5nZXRCeUlkKGVsZW1lbnQpLCBvcHRpb25zKTtcbiAgICAgIGZhYnJpYy51dGlsLmFkZENsYXNzKHRoaXMuZ2V0RWxlbWVudCgpLCBmYWJyaWMuSW1hZ2UuQ1NTX0NBTlZBUyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqL1xuICAgIF9pbml0Q29uZmlnOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBvcHRpb25zIHx8IChvcHRpb25zID0geyB9KTtcbiAgICAgIHRoaXMuc2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgICAgIHRoaXMuX3NldFdpZHRoSGVpZ2h0KG9wdGlvbnMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGZpbHRlcnMgdG8gYmUgaW5pdGlhbGl6ZWRcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsYmFjayB0byBpbnZva2Ugd2hlbiBhbGwgZmFicmljLkltYWdlLmZpbHRlcnMgaW5zdGFuY2VzIGFyZSBjcmVhdGVkXG4gICAgICovXG4gICAgX2luaXRGaWx0ZXJzOiBmdW5jdGlvbihmaWx0ZXJzLCBjYWxsYmFjaykge1xuICAgICAgaWYgKGZpbHRlcnMgJiYgZmlsdGVycy5sZW5ndGgpIHtcbiAgICAgICAgZmFicmljLnV0aWwuZW5saXZlbk9iamVjdHMoZmlsdGVycywgZnVuY3Rpb24oZW5saXZlbmVkT2JqZWN0cykge1xuICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGVubGl2ZW5lZE9iamVjdHMpO1xuICAgICAgICB9LCAnZmFicmljLkltYWdlLmZpbHRlcnMnKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIFNldCB0aGUgd2lkdGggYW5kIHRoZSBoZWlnaHQgb2YgdGhlIGltYWdlIG9iamVjdCwgdXNpbmcgdGhlIGVsZW1lbnQgb3IgdGhlXG4gICAgICogb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9iamVjdCB3aXRoIHdpZHRoL2hlaWdodCBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgX3NldFdpZHRoSGVpZ2h0OiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBvcHRpb25zIHx8IChvcHRpb25zID0geyB9KTtcbiAgICAgIHZhciBlbCA9IHRoaXMuZ2V0RWxlbWVudCgpO1xuICAgICAgdGhpcy53aWR0aCA9IG9wdGlvbnMud2lkdGggfHwgZWwubmF0dXJhbFdpZHRoIHx8IGVsLndpZHRoIHx8IDA7XG4gICAgICB0aGlzLmhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0IHx8IGVsLm5hdHVyYWxIZWlnaHQgfHwgZWwuaGVpZ2h0IHx8IDA7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSBvZmZzZXQgZm9yIGNlbnRlciBhbmQgc2NhbGUgZmFjdG9yIGZvciB0aGUgaW1hZ2UgaW4gb3JkZXIgdG8gcmVzcGVjdFxuICAgICAqIHRoZSBwcmVzZXJ2ZUFzcGVjdFJhdGlvIGF0dHJpYnV0ZVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7T2JqZWN0fVxuICAgICAqL1xuICAgIHBhcnNlUHJlc2VydmVBc3BlY3RSYXRpb0F0dHJpYnV0ZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcEFSID0gZmFicmljLnV0aWwucGFyc2VQcmVzZXJ2ZUFzcGVjdFJhdGlvQXR0cmlidXRlKHRoaXMucHJlc2VydmVBc3BlY3RSYXRpbyB8fCAnJyksXG4gICAgICAgICAgcldpZHRoID0gdGhpcy5fZWxlbWVudC53aWR0aCwgckhlaWdodCA9IHRoaXMuX2VsZW1lbnQuaGVpZ2h0LFxuICAgICAgICAgIHNjYWxlWCA9IDEsIHNjYWxlWSA9IDEsIG9mZnNldExlZnQgPSAwLCBvZmZzZXRUb3AgPSAwLCBjcm9wWCA9IDAsIGNyb3BZID0gMCxcbiAgICAgICAgICBvZmZzZXQsIHBXaWR0aCA9IHRoaXMud2lkdGgsIHBIZWlnaHQgPSB0aGlzLmhlaWdodCwgcGFyc2VkQXR0cmlidXRlcyA9IHsgd2lkdGg6IHBXaWR0aCwgaGVpZ2h0OiBwSGVpZ2h0IH07XG4gICAgICBpZiAocEFSICYmIChwQVIuYWxpZ25YICE9PSAnbm9uZScgfHwgcEFSLmFsaWduWSAhPT0gJ25vbmUnKSkge1xuICAgICAgICBpZiAocEFSLm1lZXRPclNsaWNlID09PSAnbWVldCcpIHtcbiAgICAgICAgICBzY2FsZVggPSBzY2FsZVkgPSBmYWJyaWMudXRpbC5maW5kU2NhbGVUb0ZpdCh0aGlzLl9lbGVtZW50LCBwYXJzZWRBdHRyaWJ1dGVzKTtcbiAgICAgICAgICBvZmZzZXQgPSAocFdpZHRoIC0gcldpZHRoICogc2NhbGVYKSAvIDI7XG4gICAgICAgICAgaWYgKHBBUi5hbGlnblggPT09ICdNaW4nKSB7XG4gICAgICAgICAgICBvZmZzZXRMZWZ0ID0gLW9mZnNldDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHBBUi5hbGlnblggPT09ICdNYXgnKSB7XG4gICAgICAgICAgICBvZmZzZXRMZWZ0ID0gb2Zmc2V0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBvZmZzZXQgPSAocEhlaWdodCAtIHJIZWlnaHQgKiBzY2FsZVkpIC8gMjtcbiAgICAgICAgICBpZiAocEFSLmFsaWduWSA9PT0gJ01pbicpIHtcbiAgICAgICAgICAgIG9mZnNldFRvcCA9IC1vZmZzZXQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwQVIuYWxpZ25ZID09PSAnTWF4Jykge1xuICAgICAgICAgICAgb2Zmc2V0VG9wID0gb2Zmc2V0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocEFSLm1lZXRPclNsaWNlID09PSAnc2xpY2UnKSB7XG4gICAgICAgICAgc2NhbGVYID0gc2NhbGVZID0gZmFicmljLnV0aWwuZmluZFNjYWxlVG9Db3Zlcih0aGlzLl9lbGVtZW50LCBwYXJzZWRBdHRyaWJ1dGVzKTtcbiAgICAgICAgICBvZmZzZXQgPSByV2lkdGggLSBwV2lkdGggLyBzY2FsZVg7XG4gICAgICAgICAgaWYgKHBBUi5hbGlnblggPT09ICdNaWQnKSB7XG4gICAgICAgICAgICBjcm9wWCA9IG9mZnNldCAvIDI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwQVIuYWxpZ25YID09PSAnTWF4Jykge1xuICAgICAgICAgICAgY3JvcFggPSBvZmZzZXQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9mZnNldCA9IHJIZWlnaHQgLSBwSGVpZ2h0IC8gc2NhbGVZO1xuICAgICAgICAgIGlmIChwQVIuYWxpZ25ZID09PSAnTWlkJykge1xuICAgICAgICAgICAgY3JvcFkgPSBvZmZzZXQgLyAyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocEFSLmFsaWduWSA9PT0gJ01heCcpIHtcbiAgICAgICAgICAgIGNyb3BZID0gb2Zmc2V0O1xuICAgICAgICAgIH1cbiAgICAgICAgICByV2lkdGggPSBwV2lkdGggLyBzY2FsZVg7XG4gICAgICAgICAgckhlaWdodCA9IHBIZWlnaHQgLyBzY2FsZVk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBzY2FsZVggPSBwV2lkdGggLyByV2lkdGg7XG4gICAgICAgIHNjYWxlWSA9IHBIZWlnaHQgLyBySGVpZ2h0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgd2lkdGg6IHJXaWR0aCxcbiAgICAgICAgaGVpZ2h0OiBySGVpZ2h0LFxuICAgICAgICBzY2FsZVg6IHNjYWxlWCxcbiAgICAgICAgc2NhbGVZOiBzY2FsZVksXG4gICAgICAgIG9mZnNldExlZnQ6IG9mZnNldExlZnQsXG4gICAgICAgIG9mZnNldFRvcDogb2Zmc2V0VG9wLFxuICAgICAgICBjcm9wWDogY3JvcFgsXG4gICAgICAgIGNyb3BZOiBjcm9wWVxuICAgICAgfTtcbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBEZWZhdWx0IENTUyBjbGFzcyBuYW1lIGZvciBjYW52YXNcbiAgICogQHN0YXRpY1xuICAgKiBAdHlwZSBTdHJpbmdcbiAgICogQGRlZmF1bHRcbiAgICovXG4gIGZhYnJpYy5JbWFnZS5DU1NfQ0FOVkFTID0gJ2NhbnZhcy1pbWcnO1xuXG4gIC8qKlxuICAgKiBBbGlhcyBmb3IgZ2V0U3JjXG4gICAqIEBzdGF0aWNcbiAgICovXG4gIGZhYnJpYy5JbWFnZS5wcm90b3R5cGUuZ2V0U3ZnU3JjID0gZmFicmljLkltYWdlLnByb3RvdHlwZS5nZXRTcmM7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgZmFicmljLkltYWdlIGZyb20gaXRzIG9iamVjdCByZXByZXNlbnRhdGlvblxuICAgKiBAc3RhdGljXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBmcm9tXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIENhbGxiYWNrIHRvIGludm9rZSB3aGVuIGFuIGltYWdlIGluc3RhbmNlIGlzIGNyZWF0ZWRcbiAgICovXG4gIGZhYnJpYy5JbWFnZS5mcm9tT2JqZWN0ID0gZnVuY3Rpb24oX29iamVjdCwgY2FsbGJhY2spIHtcbiAgICB2YXIgb2JqZWN0ID0gZmFicmljLnV0aWwub2JqZWN0LmNsb25lKF9vYmplY3QpO1xuICAgIGZhYnJpYy51dGlsLmxvYWRJbWFnZShvYmplY3Quc3JjLCBmdW5jdGlvbihpbWcsIGlzRXJyb3IpIHtcbiAgICAgIGlmIChpc0Vycm9yKSB7XG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKG51bGwsIHRydWUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBmYWJyaWMuSW1hZ2UucHJvdG90eXBlLl9pbml0RmlsdGVycy5jYWxsKG9iamVjdCwgb2JqZWN0LmZpbHRlcnMsIGZ1bmN0aW9uKGZpbHRlcnMpIHtcbiAgICAgICAgb2JqZWN0LmZpbHRlcnMgPSBmaWx0ZXJzIHx8IFtdO1xuICAgICAgICBmYWJyaWMuSW1hZ2UucHJvdG90eXBlLl9pbml0RmlsdGVycy5jYWxsKG9iamVjdCwgW29iamVjdC5yZXNpemVGaWx0ZXJdLCBmdW5jdGlvbihyZXNpemVGaWx0ZXJzKSB7XG4gICAgICAgICAgb2JqZWN0LnJlc2l6ZUZpbHRlciA9IHJlc2l6ZUZpbHRlcnNbMF07XG4gICAgICAgICAgZmFicmljLnV0aWwuZW5saXZlbk9iamVjdEVubGl2YWJsZXMob2JqZWN0LCBvYmplY3QsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBpbWFnZSA9IG5ldyBmYWJyaWMuSW1hZ2UoaW1nLCBvYmplY3QpO1xuICAgICAgICAgICAgY2FsbGJhY2soaW1hZ2UsIGZhbHNlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LCBudWxsLCBvYmplY3QuY3Jvc3NPcmlnaW4pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIGZhYnJpYy5JbWFnZSBmcm9tIGFuIFVSTCBzdHJpbmdcbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsIFVSTCB0byBjcmVhdGUgYW4gaW1hZ2UgZnJvbVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIENhbGxiYWNrIHRvIGludm9rZSB3aGVuIGltYWdlIGlzIGNyZWF0ZWQgKG5ld2x5IGNyZWF0ZWQgaW1hZ2UgaXMgcGFzc2VkIGFzIGEgZmlyc3QgYXJndW1lbnQpLiBTZWNvbmQgYXJndW1lbnQgaXMgYSBib29sZWFuIGluZGljYXRpbmcgaWYgYW4gZXJyb3Igb2NjdXJyZWQgb3Igbm90LlxuICAgKiBAcGFyYW0ge09iamVjdH0gW2ltZ09wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAqL1xuICBmYWJyaWMuSW1hZ2UuZnJvbVVSTCA9IGZ1bmN0aW9uKHVybCwgY2FsbGJhY2ssIGltZ09wdGlvbnMpIHtcbiAgICBmYWJyaWMudXRpbC5sb2FkSW1hZ2UodXJsLCBmdW5jdGlvbihpbWcsIGlzRXJyb3IpIHtcbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKG5ldyBmYWJyaWMuSW1hZ2UoaW1nLCBpbWdPcHRpb25zKSwgaXNFcnJvcik7XG4gICAgfSwgbnVsbCwgaW1nT3B0aW9ucyAmJiBpbWdPcHRpb25zLmNyb3NzT3JpZ2luKTtcbiAgfTtcblxuICAvKiBfRlJPTV9TVkdfU1RBUlRfICovXG4gIC8qKlxuICAgKiBMaXN0IG9mIGF0dHJpYnV0ZSBuYW1lcyB0byBhY2NvdW50IGZvciB3aGVuIHBhcnNpbmcgU1ZHIGVsZW1lbnQgKHVzZWQgYnkge0BsaW5rIGZhYnJpYy5JbWFnZS5mcm9tRWxlbWVudH0pXG4gICAqIEBzdGF0aWNcbiAgICogQHNlZSB7QGxpbmsgaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHL3N0cnVjdC5odG1sI0ltYWdlRWxlbWVudH1cbiAgICovXG4gIGZhYnJpYy5JbWFnZS5BVFRSSUJVVEVfTkFNRVMgPVxuICAgIGZhYnJpYy5TSEFSRURfQVRUUklCVVRFUy5jb25jYXQoXG4gICAgICAneCB5IHdpZHRoIGhlaWdodCBwcmVzZXJ2ZUFzcGVjdFJhdGlvIHhsaW5rOmhyZWYgY3Jvc3NPcmlnaW4gaW1hZ2UtcmVuZGVyaW5nJy5zcGxpdCgnICcpXG4gICAgKTtcblxuICAvKipcbiAgICogUmV0dXJucyB7QGxpbmsgZmFicmljLkltYWdlfSBpbnN0YW5jZSBmcm9tIGFuIFNWRyBlbGVtZW50XG4gICAqIEBzdGF0aWNcbiAgICogQHBhcmFtIHtTVkdFbGVtZW50fSBlbGVtZW50IEVsZW1lbnQgdG8gcGFyc2VcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsYmFjayB0byBleGVjdXRlIHdoZW4gZmFicmljLkltYWdlIG9iamVjdCBpcyBjcmVhdGVkXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JbWFnZX0gSW5zdGFuY2Ugb2YgZmFicmljLkltYWdlXG4gICAqL1xuICBmYWJyaWMuSW1hZ2UuZnJvbUVsZW1lbnQgPSBmdW5jdGlvbihlbGVtZW50LCBjYWxsYmFjaywgb3B0aW9ucykge1xuICAgIHZhciBwYXJzZWRBdHRyaWJ1dGVzID0gZmFicmljLnBhcnNlQXR0cmlidXRlcyhlbGVtZW50LCBmYWJyaWMuSW1hZ2UuQVRUUklCVVRFX05BTUVTKTtcbiAgICBmYWJyaWMuSW1hZ2UuZnJvbVVSTChwYXJzZWRBdHRyaWJ1dGVzWyd4bGluazpocmVmJ10sIGNhbGxiYWNrLFxuICAgICAgZXh0ZW5kKChvcHRpb25zID8gZmFicmljLnV0aWwub2JqZWN0LmNsb25lKG9wdGlvbnMpIDogeyB9KSwgcGFyc2VkQXR0cmlidXRlcykpO1xuICB9O1xuICAvKiBfRlJPTV9TVkdfRU5EXyAqL1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZChmYWJyaWMuT2JqZWN0LnByb3RvdHlwZSwgLyoqIEBsZW5kcyBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZSAqLyB7XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm4ge051bWJlcn0gYW5nbGUgdmFsdWVcbiAgICovXG4gIF9nZXRBbmdsZVZhbHVlRm9yU3RyYWlnaHRlbjogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFuZ2xlID0gdGhpcy5hbmdsZSAlIDM2MDtcbiAgICBpZiAoYW5nbGUgPiAwKSB7XG4gICAgICByZXR1cm4gTWF0aC5yb3VuZCgoYW5nbGUgLSAxKSAvIDkwKSAqIDkwO1xuICAgIH1cbiAgICByZXR1cm4gTWF0aC5yb3VuZChhbmdsZSAvIDkwKSAqIDkwO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTdHJhaWdodGVucyBhbiBvYmplY3QgKHJvdGF0aW5nIGl0IGZyb20gY3VycmVudCBhbmdsZSB0byBvbmUgb2YgMCwgOTAsIDE4MCwgMjcwLCBldGMuIGRlcGVuZGluZyBvbiB3aGljaCBpcyBjbG9zZXIpXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IHRoaXNBcmdcbiAgICogQGNoYWluYWJsZVxuICAgKi9cbiAgc3RyYWlnaHRlbjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucm90YXRlKHRoaXMuX2dldEFuZ2xlVmFsdWVGb3JTdHJhaWdodGVuKCkpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTYW1lIGFzIHtAbGluayBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZS5zdHJhaWdodGVufSBidXQgd2l0aCBhbmltYXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGNhbGxiYWNrcyBPYmplY3Qgd2l0aCBjYWxsYmFjayBmdW5jdGlvbnNcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrcy5vbkNvbXBsZXRlXSBJbnZva2VkIG9uIGNvbXBsZXRpb25cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrcy5vbkNoYW5nZV0gSW52b2tlZCBvbiBldmVyeSBzdGVwIG9mIGFuaW1hdGlvblxuICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAqL1xuICBmeFN0cmFpZ2h0ZW46IGZ1bmN0aW9uKGNhbGxiYWNrcykge1xuICAgIGNhbGxiYWNrcyA9IGNhbGxiYWNrcyB8fCB7IH07XG5cbiAgICB2YXIgZW1wdHkgPSBmdW5jdGlvbigpIHsgfSxcbiAgICAgICAgb25Db21wbGV0ZSA9IGNhbGxiYWNrcy5vbkNvbXBsZXRlIHx8IGVtcHR5LFxuICAgICAgICBvbkNoYW5nZSA9IGNhbGxiYWNrcy5vbkNoYW5nZSB8fCBlbXB0eSxcbiAgICAgICAgX3RoaXMgPSB0aGlzO1xuXG4gICAgcmV0dXJuIGZhYnJpYy51dGlsLmFuaW1hdGUoe1xuICAgICAgdGFyZ2V0OiB0aGlzLFxuICAgICAgc3RhcnRWYWx1ZTogdGhpcy5nZXQoJ2FuZ2xlJyksXG4gICAgICBlbmRWYWx1ZTogdGhpcy5fZ2V0QW5nbGVWYWx1ZUZvclN0cmFpZ2h0ZW4oKSxcbiAgICAgIGR1cmF0aW9uOiB0aGlzLkZYX0RVUkFUSU9OLFxuICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIF90aGlzLnJvdGF0ZSh2YWx1ZSk7XG4gICAgICAgIG9uQ2hhbmdlKCk7XG4gICAgICB9LFxuICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIF90aGlzLnNldENvb3JkcygpO1xuICAgICAgICBvbkNvbXBsZXRlKCk7XG4gICAgICB9LFxuICAgIH0pO1xuICB9XG59KTtcblxuZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZChmYWJyaWMuU3RhdGljQ2FudmFzLnByb3RvdHlwZSwgLyoqIEBsZW5kcyBmYWJyaWMuU3RhdGljQ2FudmFzLnByb3RvdHlwZSAqLyB7XG5cbiAgLyoqXG4gICAqIFN0cmFpZ2h0ZW5zIG9iamVjdCwgdGhlbiByZXJlbmRlcnMgY2FudmFzXG4gICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gb2JqZWN0IE9iamVjdCB0byBzdHJhaWdodGVuXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IHRoaXNBcmdcbiAgICogQGNoYWluYWJsZVxuICAgKi9cbiAgc3RyYWlnaHRlbk9iamVjdDogZnVuY3Rpb24gKG9iamVjdCkge1xuICAgIG9iamVjdC5zdHJhaWdodGVuKCk7XG4gICAgdGhpcy5yZXF1ZXN0UmVuZGVyQWxsKCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNhbWUgYXMge0BsaW5rIGZhYnJpYy5DYW52YXMucHJvdG90eXBlLnN0cmFpZ2h0ZW5PYmplY3R9LCBidXQgYW5pbWF0ZWRcbiAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIHN0cmFpZ2h0ZW5cbiAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gdGhpc0FyZ1xuICAgKi9cbiAgZnhTdHJhaWdodGVuT2JqZWN0OiBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgcmV0dXJuIG9iamVjdC5meFN0cmFpZ2h0ZW4oe1xuICAgICAgb25DaGFuZ2U6IHRoaXMucmVxdWVzdFJlbmRlckFsbEJvdW5kXG4gICAgfSk7XG4gIH1cbn0pO1xuXG5cbihmdW5jdGlvbigpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgLyoqXG4gICAqIFRlc3RzIGlmIHdlYmdsIHN1cHBvcnRzIGNlcnRhaW4gcHJlY2lzaW9uXG4gICAqIEBwYXJhbSB7V2ViR0x9IENhbnZhcyBXZWJHTCBjb250ZXh0IHRvIHRlc3Qgb25cbiAgICogQHBhcmFtIHtTdHJpbmd9IFByZWNpc2lvbiB0byB0ZXN0IGNhbiBiZSBhbnkgb2YgZm9sbG93aW5nOiAnbG93cCcsICdtZWRpdW1wJywgJ2hpZ2hwJ1xuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gV2hldGhlciB0aGUgdXNlcidzIGJyb3dzZXIgV2ViR0wgc3VwcG9ydHMgZ2l2ZW4gcHJlY2lzaW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gdGVzdFByZWNpc2lvbihnbCwgcHJlY2lzaW9uKXtcbiAgICB2YXIgZnJhZ21lbnRTb3VyY2UgPSAncHJlY2lzaW9uICcgKyBwcmVjaXNpb24gKyAnIGZsb2F0O1xcbnZvaWQgbWFpbigpe30nO1xuICAgIHZhciBmcmFnbWVudFNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihnbC5GUkFHTUVOVF9TSEFERVIpO1xuICAgIGdsLnNoYWRlclNvdXJjZShmcmFnbWVudFNoYWRlciwgZnJhZ21lbnRTb3VyY2UpO1xuICAgIGdsLmNvbXBpbGVTaGFkZXIoZnJhZ21lbnRTaGFkZXIpO1xuICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKGZyYWdtZW50U2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogSW5kaWNhdGUgd2hldGhlciB0aGlzIGZpbHRlcmluZyBiYWNrZW5kIGlzIHN1cHBvcnRlZCBieSB0aGUgdXNlcidzIGJyb3dzZXIuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB0aWxlU2l6ZSBjaGVjayBpZiB0aGUgdGlsZVNpemUgaXMgc3VwcG9ydGVkXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBXaGV0aGVyIHRoZSB1c2VyJ3MgYnJvd3NlciBzdXBwb3J0cyBXZWJHTC5cbiAgICovXG4gIGZhYnJpYy5pc1dlYmdsU3VwcG9ydGVkID0gZnVuY3Rpb24odGlsZVNpemUpIHtcbiAgICBpZiAoZmFicmljLmlzTGlrZWx5Tm9kZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0aWxlU2l6ZSA9IHRpbGVTaXplIHx8IGZhYnJpYy5XZWJnbEZpbHRlckJhY2tlbmQucHJvdG90eXBlLnRpbGVTaXplO1xuICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICB2YXIgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnKSB8fCBjYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJyk7XG4gICAgdmFyIGlzU3VwcG9ydGVkID0gZmFsc2U7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgaWYgKGdsKSB7XG4gICAgICBmYWJyaWMubWF4VGV4dHVyZVNpemUgPSBnbC5nZXRQYXJhbWV0ZXIoZ2wuTUFYX1RFWFRVUkVfU0laRSk7XG4gICAgICBpc1N1cHBvcnRlZCA9IGZhYnJpYy5tYXhUZXh0dXJlU2l6ZSA+PSB0aWxlU2l6ZTtcbiAgICAgIHZhciBwcmVjaXNpb25zID0gWydoaWdocCcsICdtZWRpdW1wJywgJ2xvd3AnXTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMzsgaSsrKXtcbiAgICAgICAgaWYgKHRlc3RQcmVjaXNpb24oZ2wsIHByZWNpc2lvbnNbaV0pKXtcbiAgICAgICAgICBmYWJyaWMud2ViR2xQcmVjaXNpb24gPSBwcmVjaXNpb25zW2ldO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmlzU3VwcG9ydGVkID0gaXNTdXBwb3J0ZWQ7XG4gICAgcmV0dXJuIGlzU3VwcG9ydGVkO1xuICB9O1xuXG4gIGZhYnJpYy5XZWJnbEZpbHRlckJhY2tlbmQgPSBXZWJnbEZpbHRlckJhY2tlbmQ7XG5cbiAgLyoqXG4gICAqIFdlYkdMIGZpbHRlciBiYWNrZW5kLlxuICAgKi9cbiAgZnVuY3Rpb24gV2ViZ2xGaWx0ZXJCYWNrZW5kKG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnRpbGVTaXplKSB7XG4gICAgICB0aGlzLnRpbGVTaXplID0gb3B0aW9ucy50aWxlU2l6ZTtcbiAgICB9XG4gICAgdGhpcy5zZXR1cEdMQ29udGV4dCh0aGlzLnRpbGVTaXplLCB0aGlzLnRpbGVTaXplKTtcbiAgICB0aGlzLmNhcHR1cmVHUFVJbmZvKCk7XG4gIH07XG5cbiAgV2ViZ2xGaWx0ZXJCYWNrZW5kLnByb3RvdHlwZSA9IC8qKiBAbGVuZHMgZmFicmljLldlYmdsRmlsdGVyQmFja2VuZC5wcm90b3R5cGUgKi8ge1xuXG4gICAgdGlsZVNpemU6IDIwNDgsXG5cbiAgICAvKipcbiAgICAgKiBFeHBlcmltZW50YWwuIFRoaXMgb2JqZWN0IGlzIGEgc29ydCBvZiByZXBvc2l0b3J5IG9mIGhlbHAgbGF5ZXJzIHVzZWQgdG8gYXZvaWRcbiAgICAgKiBvZiByZWNyZWF0aW5nIHRoZW0gZHVyaW5nIGZyZXF1ZW50IGZpbHRlcmluZy4gSWYgeW91IGFyZSBwcmV2aWV3aW5nIGEgZmlsdGVyIHdpdGhcbiAgICAgKiBhIHNsaWRlciB5b3UgcHJvYmFibHkgZG8gbm90IHdhbnQgdG8gY3JlYXRlIGhlbHAgbGF5ZXJzIGV2ZXJ5IGZpbHRlciBzdGVwLlxuICAgICAqIGluIHRoaXMgb2JqZWN0IHRoZXJlIHdpbGwgYmUgYXBwZW5kZWQgc29tZSBjYW52YXNlcywgY3JlYXRlZCBvbmNlLCByZXNpemVkIHNvbWV0aW1lc1xuICAgICAqIGNsZWFyZWQgbmV2ZXIuIENsZWFyaW5nIGlzIGxlZnQgdG8gdGhlIGRldmVsb3Blci5cbiAgICAgKiovXG4gICAgcmVzb3VyY2VzOiB7XG5cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0dXAgYSBXZWJHTCBjb250ZXh0IHN1aXRhYmxlIGZvciBmaWx0ZXJpbmcsIGFuZCBiaW5kIGFueSBuZWVkZWQgZXZlbnQgaGFuZGxlcnMuXG4gICAgICovXG4gICAgc2V0dXBHTENvbnRleHQ6IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgICAgdGhpcy5jcmVhdGVXZWJHTENhbnZhcyh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgdGhpcy5hUG9zaXRpb24gPSBuZXcgRmxvYXQzMkFycmF5KFswLCAwLCAwLCAxLCAxLCAwLCAxLCAxXSk7XG4gICAgICB0aGlzLmNob29zZUZhc3Rlc3RDb3B5R0xUbzJETWV0aG9kKHdpZHRoLCBoZWlnaHQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQaWNrIGEgbWV0aG9kIHRvIGNvcHkgZGF0YSBmcm9tIEdMIGNvbnRleHQgdG8gMmQgY2FudmFzLiAgSW4gc29tZSBicm93c2VycyB1c2luZ1xuICAgICAqIHB1dEltYWdlRGF0YSBpcyBmYXN0ZXIgdGhhbiBkcmF3SW1hZ2UgZm9yIHRoYXQgc3BlY2lmaWMgb3BlcmF0aW9uLlxuICAgICAqL1xuICAgIGNob29zZUZhc3Rlc3RDb3B5R0xUbzJETWV0aG9kOiBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICB2YXIgY2FuTWVhc3VyZVBlcmYgPSB0eXBlb2Ygd2luZG93LnBlcmZvcm1hbmNlICE9PSAndW5kZWZpbmVkJywgY2FuVXNlSW1hZ2VEYXRhO1xuICAgICAgdHJ5IHtcbiAgICAgICAgbmV3IEltYWdlRGF0YSgxLCAxKTtcbiAgICAgICAgY2FuVXNlSW1hZ2VEYXRhID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgIGNhblVzZUltYWdlRGF0YSA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICB2YXIgY2FuVXNlQXJyYXlCdWZmZXIgPSB0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICB2YXIgY2FuVXNlVWludDhDbGFtcGVkID0gdHlwZW9mIFVpbnQ4Q2xhbXBlZEFycmF5ICE9PSAndW5kZWZpbmVkJztcblxuICAgICAgaWYgKCEoY2FuTWVhc3VyZVBlcmYgJiYgY2FuVXNlSW1hZ2VEYXRhICYmIGNhblVzZUFycmF5QnVmZmVyICYmIGNhblVzZVVpbnQ4Q2xhbXBlZCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgdGFyZ2V0Q2FudmFzID0gZmFicmljLnV0aWwuY3JlYXRlQ2FudmFzRWxlbWVudCgpO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICB2YXIgaW1hZ2VCdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIod2lkdGggKiBoZWlnaHQgKiA0KTtcbiAgICAgIGlmIChmYWJyaWMuZm9yY2VHTFB1dEltYWdlRGF0YSkge1xuICAgICAgICB0aGlzLmltYWdlQnVmZmVyID0gaW1hZ2VCdWZmZXI7XG4gICAgICAgIHRoaXMuY29weUdMVG8yRCA9IGNvcHlHTFRvMkRQdXRJbWFnZURhdGE7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciB0ZXN0Q29udGV4dCA9IHtcbiAgICAgICAgaW1hZ2VCdWZmZXI6IGltYWdlQnVmZmVyLFxuICAgICAgICBkZXN0aW5hdGlvbldpZHRoOiB3aWR0aCxcbiAgICAgICAgZGVzdGluYXRpb25IZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgdGFyZ2V0Q2FudmFzOiB0YXJnZXRDYW52YXNcbiAgICAgIH07XG4gICAgICB2YXIgc3RhcnRUaW1lLCBkcmF3SW1hZ2VUaW1lLCBwdXRJbWFnZURhdGFUaW1lO1xuICAgICAgdGFyZ2V0Q2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICB0YXJnZXRDYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICBzdGFydFRpbWUgPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBjb3B5R0xUbzJERHJhd0ltYWdlLmNhbGwodGVzdENvbnRleHQsIHRoaXMuZ2wsIHRlc3RDb250ZXh0KTtcbiAgICAgIGRyYXdJbWFnZVRpbWUgPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydFRpbWU7XG5cbiAgICAgIHN0YXJ0VGltZSA9IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIGNvcHlHTFRvMkRQdXRJbWFnZURhdGEuY2FsbCh0ZXN0Q29udGV4dCwgdGhpcy5nbCwgdGVzdENvbnRleHQpO1xuICAgICAgcHV0SW1hZ2VEYXRhVGltZSA9IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0VGltZTtcblxuICAgICAgaWYgKGRyYXdJbWFnZVRpbWUgPiBwdXRJbWFnZURhdGFUaW1lKSB7XG4gICAgICAgIHRoaXMuaW1hZ2VCdWZmZXIgPSBpbWFnZUJ1ZmZlcjtcbiAgICAgICAgdGhpcy5jb3B5R0xUbzJEID0gY29weUdMVG8yRFB1dEltYWdlRGF0YTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLmNvcHlHTFRvMkQgPSBjb3B5R0xUbzJERHJhd0ltYWdlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBjYW52YXMgZWxlbWVudCBhbmQgYXNzb2NpYXRlZCBXZWJHTCBjb250ZXh0IGFuZCBhdHRhY2hlcyB0aGVtIGFzXG4gICAgICogY2xhc3MgcHJvcGVydGllcyB0byB0aGUgR0xGaWx0ZXJCYWNrZW5kIGNsYXNzLlxuICAgICAqL1xuICAgIGNyZWF0ZVdlYkdMQ2FudmFzOiBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICB2YXIgY2FudmFzID0gZmFicmljLnV0aWwuY3JlYXRlQ2FudmFzRWxlbWVudCgpO1xuICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgdmFyIGdsT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGFscGhhOiB0cnVlLFxuICAgICAgICAgICAgcHJlbXVsdGlwbGllZEFscGhhOiBmYWxzZSxcbiAgICAgICAgICAgIGRlcHRoOiBmYWxzZSxcbiAgICAgICAgICAgIHN0ZW5jaWw6IGZhbHNlLFxuICAgICAgICAgICAgYW50aWFsaWFzOiBmYWxzZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnLCBnbE9wdGlvbnMpO1xuICAgICAgaWYgKCFnbCkge1xuICAgICAgICBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnLCBnbE9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgaWYgKCFnbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBnbC5jbGVhckNvbG9yKDAsIDAsIDAsIDApO1xuICAgICAgLy8gdGhpcyBjYW52YXMgY2FuIGZpcmUgd2ViZ2xjb250ZXh0bG9zdCBhbmQgd2ViZ2xjb250ZXh0cmVzdG9yZWRcbiAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xuICAgICAgdGhpcy5nbCA9IGdsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBdHRlbXB0cyB0byBhcHBseSB0aGUgcmVxdWVzdGVkIGZpbHRlcnMgdG8gdGhlIHNvdXJjZSBwcm92aWRlZCwgZHJhd2luZyB0aGUgZmlsdGVyZWQgb3V0cHV0XG4gICAgICogdG8gdGhlIHByb3ZpZGVkIHRhcmdldCBjYW52YXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBmaWx0ZXJzIFRoZSBmaWx0ZXJzIHRvIGFwcGx5LlxuICAgICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH0gc291cmNlIFRoZSBzb3VyY2UgdG8gYmUgZmlsdGVyZWQuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHdpZHRoIFRoZSB3aWR0aCBvZiB0aGUgc291cmNlIGlucHV0LlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBoZWlnaHQgVGhlIGhlaWdodCBvZiB0aGUgc291cmNlIGlucHV0LlxuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IHRhcmdldENhbnZhcyBUaGUgZGVzdGluYXRpb24gZm9yIGZpbHRlcmVkIG91dHB1dCB0byBiZSBkcmF3bi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ3x1bmRlZmluZWR9IGNhY2hlS2V5IEEga2V5IHVzZWQgdG8gY2FjaGUgcmVzb3VyY2VzIHJlbGF0ZWQgdG8gdGhlIHNvdXJjZS4gSWZcbiAgICAgKiBvbWl0dGVkLCBjYWNoaW5nIHdpbGwgYmUgc2tpcHBlZC5cbiAgICAgKi9cbiAgICBhcHBseUZpbHRlcnM6IGZ1bmN0aW9uKGZpbHRlcnMsIHNvdXJjZSwgd2lkdGgsIGhlaWdodCwgdGFyZ2V0Q2FudmFzLCBjYWNoZUtleSkge1xuICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgIHZhciBjYWNoZWRUZXh0dXJlO1xuICAgICAgaWYgKGNhY2hlS2V5KSB7XG4gICAgICAgIGNhY2hlZFRleHR1cmUgPSB0aGlzLmdldENhY2hlZFRleHR1cmUoY2FjaGVLZXksIHNvdXJjZSk7XG4gICAgICB9XG4gICAgICB2YXIgcGlwZWxpbmVTdGF0ZSA9IHtcbiAgICAgICAgb3JpZ2luYWxXaWR0aDogc291cmNlLndpZHRoIHx8IHNvdXJjZS5vcmlnaW5hbFdpZHRoLFxuICAgICAgICBvcmlnaW5hbEhlaWdodDogc291cmNlLmhlaWdodCB8fCBzb3VyY2Uub3JpZ2luYWxIZWlnaHQsXG4gICAgICAgIHNvdXJjZVdpZHRoOiB3aWR0aCxcbiAgICAgICAgc291cmNlSGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgIGRlc3RpbmF0aW9uV2lkdGg6IHdpZHRoLFxuICAgICAgICBkZXN0aW5hdGlvbkhlaWdodDogaGVpZ2h0LFxuICAgICAgICBjb250ZXh0OiBnbCxcbiAgICAgICAgc291cmNlVGV4dHVyZTogdGhpcy5jcmVhdGVUZXh0dXJlKGdsLCB3aWR0aCwgaGVpZ2h0LCAhY2FjaGVkVGV4dHVyZSAmJiBzb3VyY2UpLFxuICAgICAgICB0YXJnZXRUZXh0dXJlOiB0aGlzLmNyZWF0ZVRleHR1cmUoZ2wsIHdpZHRoLCBoZWlnaHQpLFxuICAgICAgICBvcmlnaW5hbFRleHR1cmU6IGNhY2hlZFRleHR1cmUgfHxcbiAgICAgICAgICB0aGlzLmNyZWF0ZVRleHR1cmUoZ2wsIHdpZHRoLCBoZWlnaHQsICFjYWNoZWRUZXh0dXJlICYmIHNvdXJjZSksXG4gICAgICAgIHBhc3NlczogZmlsdGVycy5sZW5ndGgsXG4gICAgICAgIHdlYmdsOiB0cnVlLFxuICAgICAgICBhUG9zaXRpb246IHRoaXMuYVBvc2l0aW9uLFxuICAgICAgICBwcm9ncmFtQ2FjaGU6IHRoaXMucHJvZ3JhbUNhY2hlLFxuICAgICAgICBwYXNzOiAwLFxuICAgICAgICBmaWx0ZXJCYWNrZW5kOiB0aGlzLFxuICAgICAgICB0YXJnZXRDYW52YXM6IHRhcmdldENhbnZhc1xuICAgICAgfTtcbiAgICAgIHZhciB0ZW1wRmJvID0gZ2wuY3JlYXRlRnJhbWVidWZmZXIoKTtcbiAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgdGVtcEZibyk7XG4gICAgICBmaWx0ZXJzLmZvckVhY2goZnVuY3Rpb24oZmlsdGVyKSB7IGZpbHRlciAmJiBmaWx0ZXIuYXBwbHlUbyhwaXBlbGluZVN0YXRlKTsgfSk7XG4gICAgICByZXNpemVDYW52YXNJZk5lZWRlZChwaXBlbGluZVN0YXRlKTtcbiAgICAgIHRoaXMuY29weUdMVG8yRChnbCwgcGlwZWxpbmVTdGF0ZSk7XG4gICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBudWxsKTtcbiAgICAgIGdsLmRlbGV0ZVRleHR1cmUocGlwZWxpbmVTdGF0ZS5zb3VyY2VUZXh0dXJlKTtcbiAgICAgIGdsLmRlbGV0ZVRleHR1cmUocGlwZWxpbmVTdGF0ZS50YXJnZXRUZXh0dXJlKTtcbiAgICAgIGdsLmRlbGV0ZUZyYW1lYnVmZmVyKHRlbXBGYm8pO1xuICAgICAgdGFyZ2V0Q2FudmFzLmdldENvbnRleHQoJzJkJykuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuICAgICAgcmV0dXJuIHBpcGVsaW5lU3RhdGU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERldGFjaCBldmVudCBsaXN0ZW5lcnMsIHJlbW92ZSByZWZlcmVuY2VzLCBhbmQgY2xlYW4gdXAgY2FjaGVzLlxuICAgICAqL1xuICAgIGRpc3Bvc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuY2FudmFzKSB7XG4gICAgICAgIHRoaXMuY2FudmFzID0gbnVsbDtcbiAgICAgICAgdGhpcy5nbCA9IG51bGw7XG4gICAgICB9XG4gICAgICB0aGlzLmNsZWFyV2ViR0xDYWNoZXMoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogV2lwZSBvdXQgV2ViR0wtcmVsYXRlZCBjYWNoZXMuXG4gICAgICovXG4gICAgY2xlYXJXZWJHTENhY2hlczogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLnByb2dyYW1DYWNoZSA9IHt9O1xuICAgICAgdGhpcy50ZXh0dXJlQ2FjaGUgPSB7fTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgV2ViR0wgdGV4dHVyZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBBY2NlcHRzIHNwZWNpZmljIGRpbWVuc2lvbnMgdG8gaW5pdGlhbGl6ZSB0aGUgdGV4dHVyZSB0byBvciBhIHNvdXJjZSBpbWFnZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgR0wgY29udGV4dCB0byB1c2UgZm9yIGNyZWF0aW5nIHRoZSB0ZXh0dXJlLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB3aWR0aCBUaGUgd2lkdGggdG8gaW5pdGlhbGl6ZSB0aGUgdGV4dHVyZSBhdC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gaGVpZ2h0IFRoZSBoZWlnaHQgdG8gaW5pdGlhbGl6ZSB0aGUgdGV4dHVyZS5cbiAgICAgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9IHRleHR1cmVJbWFnZVNvdXJjZSBBIHNvdXJjZSBmb3IgdGhlIHRleHR1cmUgZGF0YS5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZmlsdGVyVHlwZSBnbC5ORUFSRVNUIG9yIGdsLkxJTkVBUiB1c3VhbGx5LCB3ZWJnbCBudW1lcmkgY29uc3RhbnRzXG4gICAgICogQHJldHVybnMge1dlYkdMVGV4dHVyZX1cbiAgICAgKi9cbiAgICBjcmVhdGVUZXh0dXJlOiBmdW5jdGlvbihnbCwgd2lkdGgsIGhlaWdodCwgdGV4dHVyZUltYWdlU291cmNlLCBmaWx0ZXJUeXBlKSB7XG4gICAgICB2YXIgdGV4dHVyZSA9IGdsLmNyZWF0ZVRleHR1cmUoKTtcbiAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmUpO1xuICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01BR19GSUxURVIsIGZpbHRlclR5cGUgfHwgZ2wuTkVBUkVTVCk7XG4gICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgZmlsdGVyVHlwZSB8fCBnbC5ORUFSRVNUKTtcbiAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1MsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfVCwgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgICBpZiAodGV4dHVyZUltYWdlU291cmNlKSB7XG4gICAgICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgdGV4dHVyZUltYWdlU291cmNlKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsIHdpZHRoLCBoZWlnaHQsIDAsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIG51bGwpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRleHR1cmU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbiBiZSBvcHRpb25hbGx5IHVzZWQgdG8gZ2V0IGEgdGV4dHVyZSBmcm9tIHRoZSBjYWNoZSBhcnJheVxuICAgICAqXG4gICAgICogSWYgYW4gZXhpc3RpbmcgdGV4dHVyZSBpcyBub3QgZm91bmQsIGEgbmV3IHRleHR1cmUgaXMgY3JlYXRlZCBhbmQgY2FjaGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHVuaXF1ZUlkIEEgY2FjaGUga2V5IHRvIHVzZSB0byBmaW5kIGFuIGV4aXN0aW5nIHRleHR1cmUuXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fSB0ZXh0dXJlSW1hZ2VTb3VyY2UgQSBzb3VyY2UgdG8gdXNlIHRvIGNyZWF0ZSB0aGVcbiAgICAgKiB0ZXh0dXJlIGNhY2hlIGVudHJ5IGlmIG9uZSBkb2VzIG5vdCBhbHJlYWR5IGV4aXN0LlxuICAgICAqL1xuICAgIGdldENhY2hlZFRleHR1cmU6IGZ1bmN0aW9uKHVuaXF1ZUlkLCB0ZXh0dXJlSW1hZ2VTb3VyY2UpIHtcbiAgICAgIGlmICh0aGlzLnRleHR1cmVDYWNoZVt1bmlxdWVJZF0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dHVyZUNhY2hlW3VuaXF1ZUlkXTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMuY3JlYXRlVGV4dHVyZShcbiAgICAgICAgICB0aGlzLmdsLCB0ZXh0dXJlSW1hZ2VTb3VyY2Uud2lkdGgsIHRleHR1cmVJbWFnZVNvdXJjZS5oZWlnaHQsIHRleHR1cmVJbWFnZVNvdXJjZSk7XG4gICAgICAgIHRoaXMudGV4dHVyZUNhY2hlW3VuaXF1ZUlkXSA9IHRleHR1cmU7XG4gICAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDbGVhciBvdXQgY2FjaGVkIHJlc291cmNlcyByZWxhdGVkIHRvIGEgc291cmNlIGltYWdlIHRoYXQgaGFzIGJlZW5cbiAgICAgKiBmaWx0ZXJlZCBwcmV2aW91c2x5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGNhY2hlS2V5IFRoZSBjYWNoZSBrZXkgcHJvdmlkZWQgd2hlbiB0aGUgc291cmNlIGltYWdlIHdhcyBmaWx0ZXJlZC5cbiAgICAgKi9cbiAgICBldmljdENhY2hlc0ZvcktleTogZnVuY3Rpb24oY2FjaGVLZXkpIHtcbiAgICAgIGlmICh0aGlzLnRleHR1cmVDYWNoZVtjYWNoZUtleV0pIHtcbiAgICAgICAgdGhpcy5nbC5kZWxldGVUZXh0dXJlKHRoaXMudGV4dHVyZUNhY2hlW2NhY2hlS2V5XSk7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnRleHR1cmVDYWNoZVtjYWNoZUtleV07XG4gICAgICB9XG4gICAgfSxcblxuICAgIGNvcHlHTFRvMkQ6IGNvcHlHTFRvMkREcmF3SW1hZ2UsXG5cbiAgICAvKipcbiAgICAgKiBBdHRlbXB0IHRvIGV4dHJhY3QgR1BVIGluZm9ybWF0aW9uIHN0cmluZ3MgZnJvbSBhIFdlYkdMIGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBVc2VmdWwgaW5mb3JtYXRpb24gd2hlbiBkZWJ1Z2dpbmcgb3IgYmxhY2tsaXN0aW5nIHNwZWNpZmljIEdQVXMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBBIEdQVSBpbmZvIG9iamVjdCB3aXRoIHJlbmRlcmVyIGFuZCB2ZW5kb3Igc3RyaW5ncy5cbiAgICAgKi9cbiAgICBjYXB0dXJlR1BVSW5mbzogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5ncHVJbmZvKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdwdUluZm87XG4gICAgICB9XG4gICAgICB2YXIgZ2wgPSB0aGlzLmdsLCBncHVJbmZvID0geyByZW5kZXJlcjogJycsIHZlbmRvcjogJycgfTtcbiAgICAgIGlmICghZ2wpIHtcbiAgICAgICAgcmV0dXJuIGdwdUluZm87XG4gICAgICB9XG4gICAgICB2YXIgZXh0ID0gZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9kZWJ1Z19yZW5kZXJlcl9pbmZvJyk7XG4gICAgICBpZiAoZXh0KSB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IGdsLmdldFBhcmFtZXRlcihleHQuVU5NQVNLRURfUkVOREVSRVJfV0VCR0wpO1xuICAgICAgICB2YXIgdmVuZG9yID0gZ2wuZ2V0UGFyYW1ldGVyKGV4dC5VTk1BU0tFRF9WRU5ET1JfV0VCR0wpO1xuICAgICAgICBpZiAocmVuZGVyZXIpIHtcbiAgICAgICAgICBncHVJbmZvLnJlbmRlcmVyID0gcmVuZGVyZXIudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmVuZG9yKSB7XG4gICAgICAgICAgZ3B1SW5mby52ZW5kb3IgPSB2ZW5kb3IudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5ncHVJbmZvID0gZ3B1SW5mbztcbiAgICAgIHJldHVybiBncHVJbmZvO1xuICAgIH0sXG4gIH07XG59KSgpO1xuXG5mdW5jdGlvbiByZXNpemVDYW52YXNJZk5lZWRlZChwaXBlbGluZVN0YXRlKSB7XG4gIHZhciB0YXJnZXRDYW52YXMgPSBwaXBlbGluZVN0YXRlLnRhcmdldENhbnZhcyxcbiAgICAgIHdpZHRoID0gdGFyZ2V0Q2FudmFzLndpZHRoLCBoZWlnaHQgPSB0YXJnZXRDYW52YXMuaGVpZ2h0LFxuICAgICAgZFdpZHRoID0gcGlwZWxpbmVTdGF0ZS5kZXN0aW5hdGlvbldpZHRoLFxuICAgICAgZEhlaWdodCA9IHBpcGVsaW5lU3RhdGUuZGVzdGluYXRpb25IZWlnaHQ7XG5cbiAgaWYgKHdpZHRoICE9PSBkV2lkdGggfHwgaGVpZ2h0ICE9PSBkSGVpZ2h0KSB7XG4gICAgdGFyZ2V0Q2FudmFzLndpZHRoID0gZFdpZHRoO1xuICAgIHRhcmdldENhbnZhcy5oZWlnaHQgPSBkSGVpZ2h0O1xuICB9XG59XG5cbi8qKlxuICogQ29weSBhbiBpbnB1dCBXZWJHTCBjYW52YXMgb24gdG8gYW4gb3V0cHV0IDJEIGNhbnZhcy5cbiAqXG4gKiBUaGUgV2ViR0wgY2FudmFzIGlzIGFzc3VtZWQgdG8gYmUgdXBzaWRlIGRvd24sIHdpdGggdGhlIHRvcC1sZWZ0IHBpeGVsIG9mIHRoZVxuICogZGVzaXJlZCBvdXRwdXQgaW1hZ2UgYXBwZWFyaW5nIGluIHRoZSBib3R0b20tbGVmdCBjb3JuZXIgb2YgdGhlIFdlYkdMIGNhbnZhcy5cbiAqXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gc291cmNlQ29udGV4dCBUaGUgV2ViR0wgY29udGV4dCB0byBjb3B5IGZyb20uXG4gKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSB0YXJnZXRDYW52YXMgVGhlIDJEIHRhcmdldCBjYW52YXMgdG8gY29weSBvbiB0by5cbiAqIEBwYXJhbSB7T2JqZWN0fSBwaXBlbGluZVN0YXRlIFRoZSAyRCB0YXJnZXQgY2FudmFzIHRvIGNvcHkgb24gdG8uXG4gKi9cbmZ1bmN0aW9uIGNvcHlHTFRvMkREcmF3SW1hZ2UoZ2wsIHBpcGVsaW5lU3RhdGUpIHtcbiAgdmFyIGdsQ2FudmFzID0gZ2wuY2FudmFzLCB0YXJnZXRDYW52YXMgPSBwaXBlbGluZVN0YXRlLnRhcmdldENhbnZhcyxcbiAgICAgIGN0eCA9IHRhcmdldENhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICBjdHgudHJhbnNsYXRlKDAsIHRhcmdldENhbnZhcy5oZWlnaHQpOyAvLyBtb3ZlIGl0IGRvd24gYWdhaW5cbiAgY3R4LnNjYWxlKDEsIC0xKTsgLy8gdmVydGljYWwgZmxpcFxuICAvLyB3aGVyZSBpcyBteSBpbWFnZSBvbiB0aGUgYmlnIGdsY2FudmFzP1xuICB2YXIgc291cmNlWSA9IGdsQ2FudmFzLmhlaWdodCAtIHRhcmdldENhbnZhcy5oZWlnaHQ7XG4gIGN0eC5kcmF3SW1hZ2UoZ2xDYW52YXMsIDAsIHNvdXJjZVksIHRhcmdldENhbnZhcy53aWR0aCwgdGFyZ2V0Q2FudmFzLmhlaWdodCwgMCwgMCxcbiAgICB0YXJnZXRDYW52YXMud2lkdGgsIHRhcmdldENhbnZhcy5oZWlnaHQpO1xufVxuXG4vKipcbiAqIENvcHkgYW4gaW5wdXQgV2ViR0wgY2FudmFzIG9uIHRvIGFuIG91dHB1dCAyRCBjYW52YXMgdXNpbmcgMmQgY2FudmFzJyBwdXRJbWFnZURhdGFcbiAqIEFQSS4gTWVhc3VyYWJseSBmYXN0ZXIgdGhhbiB1c2luZyBjdHguZHJhd0ltYWdlIGluIEZpcmVmb3ggKHZlcnNpb24gNTQgb24gT1NYIFNpZXJyYSkuXG4gKlxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IHNvdXJjZUNvbnRleHQgVGhlIFdlYkdMIGNvbnRleHQgdG8gY29weSBmcm9tLlxuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gdGFyZ2V0Q2FudmFzIFRoZSAyRCB0YXJnZXQgY2FudmFzIHRvIGNvcHkgb24gdG8uXG4gKiBAcGFyYW0ge09iamVjdH0gcGlwZWxpbmVTdGF0ZSBUaGUgMkQgdGFyZ2V0IGNhbnZhcyB0byBjb3B5IG9uIHRvLlxuICovXG5mdW5jdGlvbiBjb3B5R0xUbzJEUHV0SW1hZ2VEYXRhKGdsLCBwaXBlbGluZVN0YXRlKSB7XG4gIHZhciB0YXJnZXRDYW52YXMgPSBwaXBlbGluZVN0YXRlLnRhcmdldENhbnZhcywgY3R4ID0gdGFyZ2V0Q2FudmFzLmdldENvbnRleHQoJzJkJyksXG4gICAgICBkV2lkdGggPSBwaXBlbGluZVN0YXRlLmRlc3RpbmF0aW9uV2lkdGgsXG4gICAgICBkSGVpZ2h0ID0gcGlwZWxpbmVTdGF0ZS5kZXN0aW5hdGlvbkhlaWdodCxcbiAgICAgIG51bUJ5dGVzID0gZFdpZHRoICogZEhlaWdodCAqIDQ7XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gIHZhciB1OCA9IG5ldyBVaW50OEFycmF5KHRoaXMuaW1hZ2VCdWZmZXIsIDAsIG51bUJ5dGVzKTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gIHZhciB1OENsYW1wZWQgPSBuZXcgVWludDhDbGFtcGVkQXJyYXkodGhpcy5pbWFnZUJ1ZmZlciwgMCwgbnVtQnl0ZXMpO1xuXG4gIGdsLnJlYWRQaXhlbHMoMCwgMCwgZFdpZHRoLCBkSGVpZ2h0LCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCB1OCk7XG4gIHZhciBpbWdEYXRhID0gbmV3IEltYWdlRGF0YSh1OENsYW1wZWQsIGRXaWR0aCwgZEhlaWdodCk7XG4gIGN0eC5wdXRJbWFnZURhdGEoaW1nRGF0YSwgMCwgMCk7XG59XG5cblxuKGZ1bmN0aW9uKCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgbm9vcCA9IGZ1bmN0aW9uKCkge307XG5cbiAgZmFicmljLkNhbnZhczJkRmlsdGVyQmFja2VuZCA9IENhbnZhczJkRmlsdGVyQmFja2VuZDtcblxuICAvKipcbiAgICogQ2FudmFzIDJEIGZpbHRlciBiYWNrZW5kLlxuICAgKi9cbiAgZnVuY3Rpb24gQ2FudmFzMmRGaWx0ZXJCYWNrZW5kKCkge307XG5cbiAgQ2FudmFzMmRGaWx0ZXJCYWNrZW5kLnByb3RvdHlwZSA9IC8qKiBAbGVuZHMgZmFicmljLkNhbnZhczJkRmlsdGVyQmFja2VuZC5wcm90b3R5cGUgKi8ge1xuICAgIGV2aWN0Q2FjaGVzRm9yS2V5OiBub29wLFxuICAgIGRpc3Bvc2U6IG5vb3AsXG4gICAgY2xlYXJXZWJHTENhY2hlczogbm9vcCxcblxuICAgIC8qKlxuICAgICAqIEV4cGVyaW1lbnRhbC4gVGhpcyBvYmplY3QgaXMgYSBzb3J0IG9mIHJlcG9zaXRvcnkgb2YgaGVscCBsYXllcnMgdXNlZCB0byBhdm9pZFxuICAgICAqIG9mIHJlY3JlYXRpbmcgdGhlbSBkdXJpbmcgZnJlcXVlbnQgZmlsdGVyaW5nLiBJZiB5b3UgYXJlIHByZXZpZXdpbmcgYSBmaWx0ZXIgd2l0aFxuICAgICAqIGEgc2xpZGVyIHlvdSBwcm9iYWJseSBkbyBub3Qgd2FudCB0byBjcmVhdGUgaGVscCBsYXllcnMgZXZlcnkgZmlsdGVyIHN0ZXAuXG4gICAgICogaW4gdGhpcyBvYmplY3QgdGhlcmUgd2lsbCBiZSBhcHBlbmRlZCBzb21lIGNhbnZhc2VzLCBjcmVhdGVkIG9uY2UsIHJlc2l6ZWQgc29tZXRpbWVzXG4gICAgICogY2xlYXJlZCBuZXZlci4gQ2xlYXJpbmcgaXMgbGVmdCB0byB0aGUgZGV2ZWxvcGVyLlxuICAgICAqKi9cbiAgICByZXNvdXJjZXM6IHtcblxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBcHBseSBhIHNldCBvZiBmaWx0ZXJzIGFnYWluc3QgYSBzb3VyY2UgaW1hZ2UgYW5kIGRyYXcgdGhlIGZpbHRlcmVkIG91dHB1dFxuICAgICAqIHRvIHRoZSBwcm92aWRlZCBkZXN0aW5hdGlvbiBjYW52YXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0VuaGFuY2VkRmlsdGVyfSBmaWx0ZXJzIFRoZSBmaWx0ZXIgdG8gYXBwbHkuXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fSBzb3VyY2VFbGVtZW50IFRoZSBzb3VyY2UgdG8gYmUgZmlsdGVyZWQuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNvdXJjZVdpZHRoIFRoZSB3aWR0aCBvZiB0aGUgc291cmNlIGlucHV0LlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzb3VyY2VIZWlnaHQgVGhlIGhlaWdodCBvZiB0aGUgc291cmNlIGlucHV0LlxuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IHRhcmdldENhbnZhcyBUaGUgZGVzdGluYXRpb24gZm9yIGZpbHRlcmVkIG91dHB1dCB0byBiZSBkcmF3bi5cbiAgICAgKi9cbiAgICBhcHBseUZpbHRlcnM6IGZ1bmN0aW9uKGZpbHRlcnMsIHNvdXJjZUVsZW1lbnQsIHNvdXJjZVdpZHRoLCBzb3VyY2VIZWlnaHQsIHRhcmdldENhbnZhcykge1xuICAgICAgdmFyIGN0eCA9IHRhcmdldENhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgY3R4LmRyYXdJbWFnZShzb3VyY2VFbGVtZW50LCAwLCAwLCBzb3VyY2VXaWR0aCwgc291cmNlSGVpZ2h0KTtcbiAgICAgIHZhciBpbWFnZURhdGEgPSBjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIHNvdXJjZVdpZHRoLCBzb3VyY2VIZWlnaHQpO1xuICAgICAgdmFyIG9yaWdpbmFsSW1hZ2VEYXRhID0gY3R4LmdldEltYWdlRGF0YSgwLCAwLCBzb3VyY2VXaWR0aCwgc291cmNlSGVpZ2h0KTtcbiAgICAgIHZhciBwaXBlbGluZVN0YXRlID0ge1xuICAgICAgICBzb3VyY2VXaWR0aDogc291cmNlV2lkdGgsXG4gICAgICAgIHNvdXJjZUhlaWdodDogc291cmNlSGVpZ2h0LFxuICAgICAgICBpbWFnZURhdGE6IGltYWdlRGF0YSxcbiAgICAgICAgb3JpZ2luYWxFbDogc291cmNlRWxlbWVudCxcbiAgICAgICAgb3JpZ2luYWxJbWFnZURhdGE6IG9yaWdpbmFsSW1hZ2VEYXRhLFxuICAgICAgICBjYW52YXNFbDogdGFyZ2V0Q2FudmFzLFxuICAgICAgICBjdHg6IGN0eCxcbiAgICAgICAgZmlsdGVyQmFja2VuZDogdGhpcyxcbiAgICAgIH07XG4gICAgICBmaWx0ZXJzLmZvckVhY2goZnVuY3Rpb24oZmlsdGVyKSB7IGZpbHRlci5hcHBseVRvKHBpcGVsaW5lU3RhdGUpOyB9KTtcbiAgICAgIGlmIChwaXBlbGluZVN0YXRlLmltYWdlRGF0YS53aWR0aCAhPT0gc291cmNlV2lkdGggfHwgcGlwZWxpbmVTdGF0ZS5pbWFnZURhdGEuaGVpZ2h0ICE9PSBzb3VyY2VIZWlnaHQpIHtcbiAgICAgICAgdGFyZ2V0Q2FudmFzLndpZHRoID0gcGlwZWxpbmVTdGF0ZS5pbWFnZURhdGEud2lkdGg7XG4gICAgICAgIHRhcmdldENhbnZhcy5oZWlnaHQgPSBwaXBlbGluZVN0YXRlLmltYWdlRGF0YS5oZWlnaHQ7XG4gICAgICB9XG4gICAgICBjdHgucHV0SW1hZ2VEYXRhKHBpcGVsaW5lU3RhdGUuaW1hZ2VEYXRhLCAwLCAwKTtcbiAgICAgIHJldHVybiBwaXBlbGluZVN0YXRlO1xuICAgIH0sXG5cbiAgfTtcbn0pKCk7XG5cblxuLyoqXG4gKiBAbmFtZXNwYWNlIGZhYnJpYy5JbWFnZS5maWx0ZXJzXG4gKiBAbWVtYmVyT2YgZmFicmljLkltYWdlXG4gKiBAdHV0b3JpYWwge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vZmFicmljLWludHJvLXBhcnQtMiNpbWFnZV9maWx0ZXJzfVxuICogQHNlZSB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9pbWFnZS1maWx0ZXJzfEltYWdlRmlsdGVycyBkZW1vfVxuICovXG5mYWJyaWMuSW1hZ2UgPSBmYWJyaWMuSW1hZ2UgfHwgeyB9O1xuZmFicmljLkltYWdlLmZpbHRlcnMgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycyB8fCB7IH07XG5cbi8qKlxuICogUm9vdCBmaWx0ZXIgY2xhc3MgZnJvbSB3aGljaCBhbGwgZmlsdGVyIGNsYXNzZXMgaW5oZXJpdCBmcm9tXG4gKiBAY2xhc3MgZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlclxuICogQG1lbWJlck9mIGZhYnJpYy5JbWFnZS5maWx0ZXJzXG4gKi9cbmZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXIgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcygvKiogQGxlbmRzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXIucHJvdG90eXBlICovIHtcblxuICAvKipcbiAgICogRmlsdGVyIHR5cGVcbiAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAgICogQGRlZmF1bHRcbiAgICovXG4gIHR5cGU6ICdCYXNlRmlsdGVyJyxcblxuICAvKipcbiAgICogQXJyYXkgb2YgYXR0cmlidXRlcyB0byBzZW5kIHdpdGggYnVmZmVycy4gZG8gbm90IG1vZGlmeVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuICB2ZXJ0ZXhTb3VyY2U6ICdhdHRyaWJ1dGUgdmVjMiBhUG9zaXRpb247XFxuJyArXG4gICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgJ3ZvaWQgbWFpbigpIHtcXG4nICtcbiAgICAgICd2VGV4Q29vcmQgPSBhUG9zaXRpb247XFxuJyArXG4gICAgICAnZ2xfUG9zaXRpb24gPSB2ZWM0KGFQb3NpdGlvbiAqIDIuMCAtIDEuMCwgMC4wLCAxLjApO1xcbicgK1xuICAgICd9JyxcblxuICBmcmFnbWVudFNvdXJjZTogJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4nICtcbiAgICAndmFyeWluZyB2ZWMyIHZUZXhDb29yZDtcXG4nICtcbiAgICAndW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuJyArXG4gICAgJ3ZvaWQgbWFpbigpIHtcXG4nICtcbiAgICAgICdnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVRleHR1cmUsIHZUZXhDb29yZCk7XFxuJyArXG4gICAgJ30nLFxuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAqL1xuICBpbml0aWFsaXplOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuc2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNldHMgZmlsdGVyJ3MgcHJvcGVydGllcyBmcm9tIG9wdGlvbnNcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgKi9cbiAgc2V0T3B0aW9uczogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIGZvciAodmFyIHByb3AgaW4gb3B0aW9ucykge1xuICAgICAgdGhpc1twcm9wXSA9IG9wdGlvbnNbcHJvcF07XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBDb21waWxlIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyIHByb2dyYW0uXG4gICAqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgR0wgY2FudmFzIGNvbnRleHQgdG8gdXNlIGZvciBzaGFkZXIgY29tcGlsYXRpb24uXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBmcmFnbWVudFNvdXJjZSBmcmFnbWVudFNoYWRlciBzb3VyY2UgZm9yIGNvbXBpbGF0aW9uXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB2ZXJ0ZXhTb3VyY2UgdmVydGV4U2hhZGVyIHNvdXJjZSBmb3IgY29tcGlsYXRpb25cbiAgICovXG4gIGNyZWF0ZVByb2dyYW06IGZ1bmN0aW9uKGdsLCBmcmFnbWVudFNvdXJjZSwgdmVydGV4U291cmNlKSB7XG4gICAgZnJhZ21lbnRTb3VyY2UgPSBmcmFnbWVudFNvdXJjZSB8fCB0aGlzLmZyYWdtZW50U291cmNlO1xuICAgIHZlcnRleFNvdXJjZSA9IHZlcnRleFNvdXJjZSB8fCB0aGlzLnZlcnRleFNvdXJjZTtcbiAgICBpZiAoZmFicmljLndlYkdsUHJlY2lzaW9uICE9PSAnaGlnaHAnKXtcbiAgICAgIGZyYWdtZW50U291cmNlID0gZnJhZ21lbnRTb3VyY2UucmVwbGFjZShcbiAgICAgICAgL3ByZWNpc2lvbiBoaWdocCBmbG9hdC9nLFxuICAgICAgICAncHJlY2lzaW9uICcgKyBmYWJyaWMud2ViR2xQcmVjaXNpb24gKyAnIGZsb2F0J1xuICAgICAgKTtcbiAgICB9XG4gICAgdmFyIHZlcnRleFNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihnbC5WRVJURVhfU0hBREVSKTtcbiAgICBnbC5zaGFkZXJTb3VyY2UodmVydGV4U2hhZGVyLCB2ZXJ0ZXhTb3VyY2UpO1xuICAgIGdsLmNvbXBpbGVTaGFkZXIodmVydGV4U2hhZGVyKTtcbiAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcih2ZXJ0ZXhTaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLXRlbXBsYXRlXG4gICAgICAgICdWZXJ0ZXggc2hhZGVyIGNvbXBpbGUgZXJyb3IgZm9yICcgKyB0aGlzLnR5cGUgKyAnOiAnICtcbiAgICAgICAgZ2wuZ2V0U2hhZGVySW5mb0xvZyh2ZXJ0ZXhTaGFkZXIpXG4gICAgICApO1xuICAgIH1cblxuICAgIHZhciBmcmFnbWVudFNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihnbC5GUkFHTUVOVF9TSEFERVIpO1xuICAgIGdsLnNoYWRlclNvdXJjZShmcmFnbWVudFNoYWRlciwgZnJhZ21lbnRTb3VyY2UpO1xuICAgIGdsLmNvbXBpbGVTaGFkZXIoZnJhZ21lbnRTaGFkZXIpO1xuICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKGZyYWdtZW50U2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci10ZW1wbGF0ZVxuICAgICAgICAnRnJhZ21lbnQgc2hhZGVyIGNvbXBpbGUgZXJyb3IgZm9yICcgKyB0aGlzLnR5cGUgKyAnOiAnICtcbiAgICAgICAgZ2wuZ2V0U2hhZGVySW5mb0xvZyhmcmFnbWVudFNoYWRlcilcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdmFyIHByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XG4gICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIHZlcnRleFNoYWRlcik7XG4gICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIGZyYWdtZW50U2hhZGVyKTtcbiAgICBnbC5saW5rUHJvZ3JhbShwcm9ncmFtKTtcbiAgICBpZiAoIWdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuTElOS19TVEFUVVMpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItdGVtcGxhdGVcbiAgICAgICAgJ1NoYWRlciBsaW5rIGVycm9yIGZvciBcIiR7dGhpcy50eXBlfVwiICcgK1xuICAgICAgICBnbC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICB2YXIgYXR0cmlidXRlTG9jYXRpb25zID0gdGhpcy5nZXRBdHRyaWJ1dGVMb2NhdGlvbnMoZ2wsIHByb2dyYW0pO1xuICAgIHZhciB1bmlmb3JtTG9jYXRpb25zID0gdGhpcy5nZXRVbmlmb3JtTG9jYXRpb25zKGdsLCBwcm9ncmFtKSB8fCB7IH07XG4gICAgdW5pZm9ybUxvY2F0aW9ucy51U3RlcFcgPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VTdGVwVycpO1xuICAgIHVuaWZvcm1Mb2NhdGlvbnMudVN0ZXBIID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1U3RlcEgnKTtcbiAgICByZXR1cm4ge1xuICAgICAgcHJvZ3JhbTogcHJvZ3JhbSxcbiAgICAgIGF0dHJpYnV0ZUxvY2F0aW9uczogYXR0cmlidXRlTG9jYXRpb25zLFxuICAgICAgdW5pZm9ybUxvY2F0aW9uczogdW5pZm9ybUxvY2F0aW9uc1xuICAgIH07XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybiBhIG1hcCBvZiBhdHRyaWJ1dGUgbmFtZXMgdG8gV2ViR0xBdHRyaWJ1dGVMb2NhdGlvbiBvYmplY3RzLlxuICAgKlxuICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGUgc2hhZGVyIHByb2dyYW0uXG4gICAqIEBwYXJhbSB7V2ViR0xTaGFkZXJQcm9ncmFtfSBwcm9ncmFtIFRoZSBzaGFkZXIgcHJvZ3JhbSBmcm9tIHdoaWNoIHRvIHRha2UgYXR0cmlidXRlIGxvY2F0aW9ucy5cbiAgICogQHJldHVybnMge09iamVjdH0gQSBtYXAgb2YgYXR0cmlidXRlIG5hbWVzIHRvIGF0dHJpYnV0ZSBsb2NhdGlvbnMuXG4gICAqL1xuICBnZXRBdHRyaWJ1dGVMb2NhdGlvbnM6IGZ1bmN0aW9uKGdsLCBwcm9ncmFtKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFQb3NpdGlvbjogZ2wuZ2V0QXR0cmliTG9jYXRpb24ocHJvZ3JhbSwgJ2FQb3NpdGlvbicpLFxuICAgIH07XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybiBhIG1hcCBvZiB1bmlmb3JtIG5hbWVzIHRvIFdlYkdMVW5pZm9ybUxvY2F0aW9uIG9iamVjdHMuXG4gICAqXG4gICAqIEludGVuZGVkIHRvIGJlIG92ZXJyaWRkZW4gYnkgc3ViY2xhc3Nlcy5cbiAgICpcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhlIHNoYWRlciBwcm9ncmFtLlxuICAgKiBAcGFyYW0ge1dlYkdMU2hhZGVyUHJvZ3JhbX0gcHJvZ3JhbSBUaGUgc2hhZGVyIHByb2dyYW0gZnJvbSB3aGljaCB0byB0YWtlIHVuaWZvcm0gbG9jYXRpb25zLlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBBIG1hcCBvZiB1bmlmb3JtIG5hbWVzIHRvIHVuaWZvcm0gbG9jYXRpb25zLlxuICAgKi9cbiAgZ2V0VW5pZm9ybUxvY2F0aW9uczogZnVuY3Rpb24gKC8qIGdsLCBwcm9ncmFtICovKSB7XG4gICAgLy8gaW4gY2FzZSBpIGRvIG5vdCBuZWVkIGFueSBzcGVjaWFsIHVuaWZvcm0gaSBuZWVkIHRvIHJldHVybiBhbiBlbXB0eSBvYmplY3RcbiAgICByZXR1cm4geyB9O1xuICB9LFxuXG4gIC8qKlxuICAgKiBTZW5kIGF0dHJpYnV0ZSBkYXRhIGZyb20gdGhpcyBmaWx0ZXIgdG8gaXRzIHNoYWRlciBwcm9ncmFtIG9uIHRoZSBHUFUuXG4gICAqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoZSBzaGFkZXIgcHJvZ3JhbS5cbiAgICogQHBhcmFtIHtPYmplY3R9IGF0dHJpYnV0ZUxvY2F0aW9ucyBBIG1hcCBvZiBzaGFkZXIgYXR0cmlidXRlIG5hbWVzIHRvIHRoZWlyIGxvY2F0aW9ucy5cbiAgICovXG4gIHNlbmRBdHRyaWJ1dGVEYXRhOiBmdW5jdGlvbihnbCwgYXR0cmlidXRlTG9jYXRpb25zLCBhUG9zaXRpb25EYXRhKSB7XG4gICAgdmFyIGF0dHJpYnV0ZUxvY2F0aW9uID0gYXR0cmlidXRlTG9jYXRpb25zLmFQb3NpdGlvbjtcbiAgICB2YXIgYnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIGJ1ZmZlcik7XG4gICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoYXR0cmlidXRlTG9jYXRpb24pO1xuICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIoYXR0cmlidXRlTG9jYXRpb24sIDIsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XG4gICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIGFQb3NpdGlvbkRhdGEsIGdsLlNUQVRJQ19EUkFXKTtcbiAgfSxcblxuICBfc2V0dXBGcmFtZUJ1ZmZlcjogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHZhciBnbCA9IG9wdGlvbnMuY29udGV4dCwgd2lkdGgsIGhlaWdodDtcbiAgICBpZiAob3B0aW9ucy5wYXNzZXMgPiAxKSB7XG4gICAgICB3aWR0aCA9IG9wdGlvbnMuZGVzdGluYXRpb25XaWR0aDtcbiAgICAgIGhlaWdodCA9IG9wdGlvbnMuZGVzdGluYXRpb25IZWlnaHQ7XG4gICAgICBpZiAob3B0aW9ucy5zb3VyY2VXaWR0aCAhPT0gd2lkdGggfHwgb3B0aW9ucy5zb3VyY2VIZWlnaHQgIT09IGhlaWdodCkge1xuICAgICAgICBnbC5kZWxldGVUZXh0dXJlKG9wdGlvbnMudGFyZ2V0VGV4dHVyZSk7XG4gICAgICAgIG9wdGlvbnMudGFyZ2V0VGV4dHVyZSA9IG9wdGlvbnMuZmlsdGVyQmFja2VuZC5jcmVhdGVUZXh0dXJlKGdsLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgIH1cbiAgICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLCBnbC5DT0xPUl9BVFRBQ0hNRU5UMCwgZ2wuVEVYVFVSRV8yRCxcbiAgICAgICAgb3B0aW9ucy50YXJnZXRUZXh0dXJlLCAwKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAvLyBkcmF3IGxhc3QgZmlsdGVyIG9uIGNhbnZhcyBhbmQgbm90IHRvIGZyYW1lYnVmZmVyLlxuICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBudWxsKTtcbiAgICAgIGdsLmZpbmlzaCgpO1xuICAgIH1cbiAgfSxcblxuICBfc3dhcFRleHR1cmVzOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgb3B0aW9ucy5wYXNzZXMtLTtcbiAgICBvcHRpb25zLnBhc3MrKztcbiAgICB2YXIgdGVtcCA9IG9wdGlvbnMudGFyZ2V0VGV4dHVyZTtcbiAgICBvcHRpb25zLnRhcmdldFRleHR1cmUgPSBvcHRpb25zLnNvdXJjZVRleHR1cmU7XG4gICAgb3B0aW9ucy5zb3VyY2VUZXh0dXJlID0gdGVtcDtcbiAgfSxcblxuICAvKipcbiAgICogR2VuZXJpYyBpc05ldXRyYWwgaW1wbGVtZW50YXRpb24gZm9yIG9uZSBwYXJhbWV0ZXIgYmFzZWQgZmlsdGVycy5cbiAgICogVXNlZCBvbmx5IGluIGltYWdlIGFwcGx5RmlsdGVycyB0byBkaXNjYXJkIGZpbHRlcnMgdGhhdCB3aWxsIG5vdCBoYXZlIGFuIGVmZmVjdFxuICAgKiBvbiB0aGUgaW1hZ2VcbiAgICogT3RoZXIgZmlsdGVycyBtYXkgbmVlZCB0aGVpciBvd24gdmVyc2lvbiAoIENvbG9yTWF0cml4LCBIdWVSb3RhdGlvbiwgZ2FtbWEsIENvbXBvc2VkRmlsdGVyIClcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICoqL1xuICBpc05ldXRyYWxTdGF0ZTogZnVuY3Rpb24oLyogb3B0aW9ucyAqLykge1xuICAgIHZhciBtYWluID0gdGhpcy5tYWluUGFyYW1ldGVyLFxuICAgICAgICBfY2xhc3MgPSBmYWJyaWMuSW1hZ2UuZmlsdGVyc1t0aGlzLnR5cGVdLnByb3RvdHlwZTtcbiAgICBpZiAobWFpbikge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoX2NsYXNzW21haW5dKSkge1xuICAgICAgICBmb3IgKHZhciBpID0gX2NsYXNzW21haW5dLmxlbmd0aDsgaS0tOykge1xuICAgICAgICAgIGlmICh0aGlzW21haW5dW2ldICE9PSBfY2xhc3NbbWFpbl1baV0pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIF9jbGFzc1ttYWluXSA9PT0gdGhpc1ttYWluXTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBBcHBseSB0aGlzIGZpbHRlciB0byB0aGUgaW5wdXQgaW1hZ2UgZGF0YSBwcm92aWRlZC5cbiAgICpcbiAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRvIHVzZSBXZWJHTCBvciBDYW52YXMyRCBiYXNlZCBvbiB0aGUgb3B0aW9ucy53ZWJnbCBmbGFnLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcGFyYW0ge051bWJlcn0gb3B0aW9ucy5wYXNzZXMgVGhlIG51bWJlciBvZiBmaWx0ZXJzIHJlbWFpbmluZyB0byBiZSBleGVjdXRlZFxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IG9wdGlvbnMud2ViZ2wgV2hldGhlciB0byB1c2Ugd2ViZ2wgdG8gcmVuZGVyIHRoZSBmaWx0ZXIuXG4gICAqIEBwYXJhbSB7V2ViR0xUZXh0dXJlfSBvcHRpb25zLnNvdXJjZVRleHR1cmUgVGhlIHRleHR1cmUgc2V0dXAgYXMgdGhlIHNvdXJjZSB0byBiZSBmaWx0ZXJlZC5cbiAgICogQHBhcmFtIHtXZWJHTFRleHR1cmV9IG9wdGlvbnMudGFyZ2V0VGV4dHVyZSBUaGUgdGV4dHVyZSB3aGVyZSBmaWx0ZXJlZCBvdXRwdXQgc2hvdWxkIGJlIGRyYXduLlxuICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gb3B0aW9ucy5jb250ZXh0IFRoZSBHTCBjb250ZXh0IHVzZWQgZm9yIHJlbmRlcmluZy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMucHJvZ3JhbUNhY2hlIEEgbWFwIG9mIGNvbXBpbGVkIHNoYWRlciBwcm9ncmFtcywga2V5ZWQgYnkgZmlsdGVyIHR5cGUuXG4gICAqL1xuICBhcHBseVRvOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMud2ViZ2wpIHtcbiAgICAgIHRoaXMuX3NldHVwRnJhbWVCdWZmZXIob3B0aW9ucyk7XG4gICAgICB0aGlzLmFwcGx5VG9XZWJHTChvcHRpb25zKTtcbiAgICAgIHRoaXMuX3N3YXBUZXh0dXJlcyhvcHRpb25zKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLmFwcGx5VG8yZChvcHRpb25zKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyB0aGUgY2FjaGVkIHNoYWRlci5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IG9wdGlvbnMuY29udGV4dCBUaGUgR0wgY29udGV4dCB1c2VkIGZvciByZW5kZXJpbmcuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLnByb2dyYW1DYWNoZSBBIG1hcCBvZiBjb21waWxlZCBzaGFkZXIgcHJvZ3JhbXMsIGtleWVkIGJ5IGZpbHRlciB0eXBlLlxuICAgKi9cbiAgcmV0cmlldmVTaGFkZXI6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMucHJvZ3JhbUNhY2hlLmhhc093blByb3BlcnR5KHRoaXMudHlwZSkpIHtcbiAgICAgIG9wdGlvbnMucHJvZ3JhbUNhY2hlW3RoaXMudHlwZV0gPSB0aGlzLmNyZWF0ZVByb2dyYW0ob3B0aW9ucy5jb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIG9wdGlvbnMucHJvZ3JhbUNhY2hlW3RoaXMudHlwZV07XG4gIH0sXG5cbiAgLyoqXG4gICAqIEFwcGx5IHRoaXMgZmlsdGVyIHVzaW5nIHdlYmdsLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcGFyYW0ge051bWJlcn0gb3B0aW9ucy5wYXNzZXMgVGhlIG51bWJlciBvZiBmaWx0ZXJzIHJlbWFpbmluZyB0byBiZSBleGVjdXRlZFxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IG9wdGlvbnMud2ViZ2wgV2hldGhlciB0byB1c2Ugd2ViZ2wgdG8gcmVuZGVyIHRoZSBmaWx0ZXIuXG4gICAqIEBwYXJhbSB7V2ViR0xUZXh0dXJlfSBvcHRpb25zLm9yaWdpbmFsVGV4dHVyZSBUaGUgdGV4dHVyZSBvZiB0aGUgb3JpZ2luYWwgaW5wdXQgaW1hZ2UuXG4gICAqIEBwYXJhbSB7V2ViR0xUZXh0dXJlfSBvcHRpb25zLnNvdXJjZVRleHR1cmUgVGhlIHRleHR1cmUgc2V0dXAgYXMgdGhlIHNvdXJjZSB0byBiZSBmaWx0ZXJlZC5cbiAgICogQHBhcmFtIHtXZWJHTFRleHR1cmV9IG9wdGlvbnMudGFyZ2V0VGV4dHVyZSBUaGUgdGV4dHVyZSB3aGVyZSBmaWx0ZXJlZCBvdXRwdXQgc2hvdWxkIGJlIGRyYXduLlxuICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gb3B0aW9ucy5jb250ZXh0IFRoZSBHTCBjb250ZXh0IHVzZWQgZm9yIHJlbmRlcmluZy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMucHJvZ3JhbUNhY2hlIEEgbWFwIG9mIGNvbXBpbGVkIHNoYWRlciBwcm9ncmFtcywga2V5ZWQgYnkgZmlsdGVyIHR5cGUuXG4gICAqL1xuICBhcHBseVRvV2ViR0w6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICB2YXIgZ2wgPSBvcHRpb25zLmNvbnRleHQ7XG4gICAgdmFyIHNoYWRlciA9IHRoaXMucmV0cmlldmVTaGFkZXIob3B0aW9ucyk7XG4gICAgaWYgKG9wdGlvbnMucGFzcyA9PT0gMCAmJiBvcHRpb25zLm9yaWdpbmFsVGV4dHVyZSkge1xuICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgb3B0aW9ucy5vcmlnaW5hbFRleHR1cmUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIG9wdGlvbnMuc291cmNlVGV4dHVyZSk7XG4gICAgfVxuICAgIGdsLnVzZVByb2dyYW0oc2hhZGVyLnByb2dyYW0pO1xuICAgIHRoaXMuc2VuZEF0dHJpYnV0ZURhdGEoZ2wsIHNoYWRlci5hdHRyaWJ1dGVMb2NhdGlvbnMsIG9wdGlvbnMuYVBvc2l0aW9uKTtcblxuICAgIGdsLnVuaWZvcm0xZihzaGFkZXIudW5pZm9ybUxvY2F0aW9ucy51U3RlcFcsIDEgLyBvcHRpb25zLnNvdXJjZVdpZHRoKTtcbiAgICBnbC51bmlmb3JtMWYoc2hhZGVyLnVuaWZvcm1Mb2NhdGlvbnMudVN0ZXBILCAxIC8gb3B0aW9ucy5zb3VyY2VIZWlnaHQpO1xuXG4gICAgdGhpcy5zZW5kVW5pZm9ybURhdGEoZ2wsIHNoYWRlci51bmlmb3JtTG9jYXRpb25zKTtcbiAgICBnbC52aWV3cG9ydCgwLCAwLCBvcHRpb25zLmRlc3RpbmF0aW9uV2lkdGgsIG9wdGlvbnMuZGVzdGluYXRpb25IZWlnaHQpO1xuICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVfU1RSSVAsIDAsIDQpO1xuICB9LFxuXG4gIGJpbmRBZGRpdGlvbmFsVGV4dHVyZTogZnVuY3Rpb24oZ2wsIHRleHR1cmUsIHRleHR1cmVVbml0KSB7XG4gICAgZ2wuYWN0aXZlVGV4dHVyZSh0ZXh0dXJlVW5pdCk7XG4gICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZSk7XG4gICAgLy8gcmVzZXQgYWN0aXZlIHRleHR1cmUgdG8gMCBhcyB1c3VhbFxuICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTApO1xuICB9LFxuXG4gIHVuYmluZEFkZGl0aW9uYWxUZXh0dXJlOiBmdW5jdGlvbihnbCwgdGV4dHVyZVVuaXQpIHtcbiAgICBnbC5hY3RpdmVUZXh0dXJlKHRleHR1cmVVbml0KTtcbiAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBudWxsKTtcbiAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwKTtcbiAgfSxcblxuICBnZXRNYWluUGFyYW1ldGVyOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpc1t0aGlzLm1haW5QYXJhbWV0ZXJdO1xuICB9LFxuXG4gIHNldE1haW5QYXJhbWV0ZXI6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdGhpc1t0aGlzLm1haW5QYXJhbWV0ZXJdID0gdmFsdWU7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNlbmQgdW5pZm9ybSBkYXRhIGZyb20gdGhpcyBmaWx0ZXIgdG8gaXRzIHNoYWRlciBwcm9ncmFtIG9uIHRoZSBHUFUuXG4gICAqXG4gICAqIEludGVuZGVkIHRvIGJlIG92ZXJyaWRkZW4gYnkgc3ViY2xhc3Nlcy5cbiAgICpcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhlIHNoYWRlciBwcm9ncmFtLlxuICAgKiBAcGFyYW0ge09iamVjdH0gdW5pZm9ybUxvY2F0aW9ucyBBIG1hcCBvZiBzaGFkZXIgdW5pZm9ybSBuYW1lcyB0byB0aGVpciBsb2NhdGlvbnMuXG4gICAqL1xuICBzZW5kVW5pZm9ybURhdGE6IGZ1bmN0aW9uKC8qIGdsLCB1bmlmb3JtTG9jYXRpb25zICovKSB7XG4gICAgLy8gSW50ZW50aW9uYWxseSBsZWZ0IGJsYW5rLiAgT3ZlcnJpZGUgbWUgaW4gc3ViY2xhc3Nlcy5cbiAgfSxcblxuICAvKipcbiAgICogSWYgbmVlZGVkIGJ5IGEgMmQgZmlsdGVyLCB0aGlzIGZ1bmN0aW9ucyBjYW4gY3JlYXRlIGFuIGhlbHBlciBjYW52YXMgdG8gYmUgdXNlZFxuICAgKiByZW1lbWJlciB0aGF0IG9wdGlvbnMudGFyZ2V0Q2FudmFzIGlzIGF2YWlsYWJsZSBmb3IgdXNlIHRpbGwgZW5kIG9mIGNoYWluLlxuICAgKi9cbiAgY3JlYXRlSGVscExheWVyOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zLmhlbHBMYXllcikge1xuICAgICAgdmFyIGhlbHBMYXllciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgaGVscExheWVyLndpZHRoID0gb3B0aW9ucy5zb3VyY2VXaWR0aDtcbiAgICAgIGhlbHBMYXllci5oZWlnaHQgPSBvcHRpb25zLnNvdXJjZUhlaWdodDtcbiAgICAgIG9wdGlvbnMuaGVscExheWVyID0gaGVscExheWVyO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogUmV0dXJucyBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICogQHJldHVybiB7T2JqZWN0fSBPYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICovXG4gIHRvT2JqZWN0OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgb2JqZWN0ID0geyB0eXBlOiB0aGlzLnR5cGUgfSwgbWFpblAgPSB0aGlzLm1haW5QYXJhbWV0ZXI7XG4gICAgaWYgKG1haW5QKSB7XG4gICAgICBvYmplY3RbbWFpblBdID0gdGhpc1ttYWluUF07XG4gICAgfVxuICAgIHJldHVybiBvYmplY3Q7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAqIEByZXR1cm4ge09iamVjdH0gSlNPTlxuICAgKi9cbiAgdG9KU09OOiBmdW5jdGlvbigpIHtcbiAgICAvLyBkZWxlZ2F0ZSwgbm90IGFsaWFzXG4gICAgcmV0dXJuIHRoaXMudG9PYmplY3QoKTtcbiAgfVxufSk7XG5cbmZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXIuZnJvbU9iamVjdCA9IGZ1bmN0aW9uKG9iamVjdCwgY2FsbGJhY2spIHtcbiAgdmFyIGZpbHRlciA9IG5ldyBmYWJyaWMuSW1hZ2UuZmlsdGVyc1tvYmplY3QudHlwZV0ob2JqZWN0KTtcbiAgY2FsbGJhY2sgJiYgY2FsbGJhY2soZmlsdGVyKTtcbiAgcmV0dXJuIGZpbHRlcjtcbn07XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljICA9IGdsb2JhbC5mYWJyaWMgfHwgKGdsb2JhbC5mYWJyaWMgPSB7IH0pLFxuICAgICAgZmlsdGVycyA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLFxuICAgICAgY3JlYXRlQ2xhc3MgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcztcblxuICAvKipcbiAgICogQ29sb3IgTWF0cml4IGZpbHRlciBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkltYWdlLmZpbHRlcnMuQ29sb3JNYXRyaXhcbiAgICogQG1lbWJlck9mIGZhYnJpYy5JbWFnZS5maWx0ZXJzXG4gICAqIEBleHRlbmRzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXJcbiAgICogQHNlZSB7QGxpbmsgZmFicmljLkltYWdlLmZpbHRlcnMuQ29sb3JNYXRyaXgjaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICogQHNlZSB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9pbWFnZS1maWx0ZXJzfEltYWdlRmlsdGVycyBkZW1vfVxuICAgKiBAc2VlIHtATGluayBodHRwOi8vd3d3LndlYndhc3AuY28udWsvdHV0b3JpYWxzLzIxOS9Db2xvcl9NYXRyaXhfRmlsdGVyLnBocH1cbiAgICogQHNlZSB7QExpbmsgaHR0cDovL3Bob2Jvc2xhYi5vcmcvbG9nLzIwMTMvMTEvZmFzdC1pbWFnZS1maWx0ZXJzLXdpdGgtd2ViZ2x9XG4gICAqIEBleGFtcGxlIDxjYXB0aW9uPktvZGFjaHJvbWUgZmlsdGVyPC9jYXB0aW9uPlxuICAgKiB2YXIgZmlsdGVyID0gbmV3IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkNvbG9yTWF0cml4KHtcbiAgICogIG1hdHJpeDogW1xuICAgICAgIDEuMTI4NTU4MjM5NjU5MzUyNSwgLTAuMzk2NzM4MjI4MzYwMTM0OCwgLTAuMDM5OTI1NTkxNzI5MjE3OTMsIDAsIDYzLjcyOTU4NzYyMTk2NTAyLFxuICAgICAgIC0wLjE2NDA0MzM5OTYyMjQ0NjE2LCAxLjA4MzUyNTE1NjYyOTEzMDQsIC0wLjA1NDk4ODA1MTE1NjMzMTMyLCAwLCAyNC43MzI0MDc4OTY3MDYyMDMsXG4gICAgICAgLTAuMTY3ODYwMTA3MDYxNTU3NjMsIC0wLjU2MDM0MTYyNzc2OTUyNDgsIDEuNjAxNDg1MDc2MTk2NDk0MywgMCwgMzUuNjI5ODI4MDc0NjA5NDYsXG4gICAgICAgMCwgMCwgMCwgMSwgMFxuICAgICAgXVxuICAgKiB9KTtcbiAgICogb2JqZWN0LmZpbHRlcnMucHVzaChmaWx0ZXIpO1xuICAgKiBvYmplY3QuYXBwbHlGaWx0ZXJzKCk7XG4gICAqL1xuICBmaWx0ZXJzLkNvbG9yTWF0cml4ID0gY3JlYXRlQ2xhc3MoZmlsdGVycy5CYXNlRmlsdGVyLCAvKiogQGxlbmRzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkNvbG9yTWF0cml4LnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgdHlwZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0eXBlOiAnQ29sb3JNYXRyaXgnLFxuXG4gICAgZnJhZ21lbnRTb3VyY2U6ICdwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuJyArXG4gICAgICAndW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuJyArXG4gICAgICAndmFyeWluZyB2ZWMyIHZUZXhDb29yZDtcXG4nICtcbiAgICAgICd1bmlmb3JtIG1hdDQgdUNvbG9yTWF0cml4O1xcbicgK1xuICAgICAgJ3VuaWZvcm0gdmVjNCB1Q29uc3RhbnRzO1xcbicgK1xuICAgICAgJ3ZvaWQgbWFpbigpIHtcXG4nICtcbiAgICAgICAgJ3ZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVRleHR1cmUsIHZUZXhDb29yZCk7XFxuJyArXG4gICAgICAgICdjb2xvciAqPSB1Q29sb3JNYXRyaXg7XFxuJyArXG4gICAgICAgICdjb2xvciArPSB1Q29uc3RhbnRzO1xcbicgK1xuICAgICAgICAnZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxuJyArXG4gICAgICAnfScsXG5cbiAgICAvKipcbiAgICAgKiBDb2xvcm1hdHJpeCBmb3IgcGl4ZWxzLlxuICAgICAqIGFycmF5IG9mIDIwIGZsb2F0cy4gTnVtYmVycyBpbiBwb3NpdGlvbnMgNCwgOSwgMTQsIDE5IGxvb3NlIG1lYW5pbmdcbiAgICAgKiBvdXRzaWRlIHRoZSAtMSwgMSByYW5nZS5cbiAgICAgKiAwLjAwMzkyMTU2ODYgaXMgdGhlIHBhcnQgb2YgMSB0aGF0IGdldCB0cmFuc2xhdGVkIHRvIDEgaW4gMmRcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBtYXRyaXggYXJyYXkgb2YgMjAgbnVtYmVycy5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIG1hdHJpeDogW1xuICAgICAgMSwgMCwgMCwgMCwgMCxcbiAgICAgIDAsIDEsIDAsIDAsIDAsXG4gICAgICAwLCAwLCAxLCAwLCAwLFxuICAgICAgMCwgMCwgMCwgMSwgMFxuICAgIF0sXG5cbiAgICBtYWluUGFyYW1ldGVyOiAnbWF0cml4JyxcblxuICAgIC8qKlxuICAgICAqIExvY2sgdGhlIGNvbG9ybWF0cml4IG9uIHRoZSBjb2xvciBwYXJ0LCBza2lwcGluZyBhbHBoYSwgbWFpbmx5IGZvciBub24gd2ViZ2wgc2NlbmFyaW9cbiAgICAgKiB0byBzYXZlIHNvbWUgY2FsY3VsYXRpb25cbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAqL1xuICAgIGNvbG9yc09ubHk6IHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKi9cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICB0aGlzLmNhbGxTdXBlcignaW5pdGlhbGl6ZScsIG9wdGlvbnMpO1xuICAgICAgLy8gY3JlYXRlIGEgbmV3IGFycmF5IGluc3RlYWQgbXV0YXRpbmcgdGhlIHByb3RvdHlwZSB3aXRoIHB1c2hcbiAgICAgIHRoaXMubWF0cml4ID0gdGhpcy5tYXRyaXguc2xpY2UoMCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFwcGx5IHRoZSBDb2xvck1hdHJpeCBvcGVyYXRpb24gdG8gYSBVaW50OEFycmF5IHJlcHJlc2VudGluZyB0aGUgcGl4ZWxzIG9mIGFuIGltYWdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge0ltYWdlRGF0YX0gb3B0aW9ucy5pbWFnZURhdGEgVGhlIFVpbnQ4QXJyYXkgdG8gYmUgZmlsdGVyZWQuXG4gICAgICovXG4gICAgYXBwbHlUbzJkOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICB2YXIgaW1hZ2VEYXRhID0gb3B0aW9ucy5pbWFnZURhdGEsXG4gICAgICAgICAgZGF0YSA9IGltYWdlRGF0YS5kYXRhLFxuICAgICAgICAgIGlMZW4gPSBkYXRhLmxlbmd0aCxcbiAgICAgICAgICBtID0gdGhpcy5tYXRyaXgsXG4gICAgICAgICAgciwgZywgYiwgYSwgaSwgY29sb3JzT25seSA9IHRoaXMuY29sb3JzT25seTtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IGlMZW47IGkgKz0gNCkge1xuICAgICAgICByID0gZGF0YVtpXTtcbiAgICAgICAgZyA9IGRhdGFbaSArIDFdO1xuICAgICAgICBiID0gZGF0YVtpICsgMl07XG4gICAgICAgIGlmIChjb2xvcnNPbmx5KSB7XG4gICAgICAgICAgZGF0YVtpXSA9IHIgKiBtWzBdICsgZyAqIG1bMV0gKyBiICogbVsyXSArIG1bNF0gKiAyNTU7XG4gICAgICAgICAgZGF0YVtpICsgMV0gPSByICogbVs1XSArIGcgKiBtWzZdICsgYiAqIG1bN10gKyBtWzldICogMjU1O1xuICAgICAgICAgIGRhdGFbaSArIDJdID0gciAqIG1bMTBdICsgZyAqIG1bMTFdICsgYiAqIG1bMTJdICsgbVsxNF0gKiAyNTU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgYSA9IGRhdGFbaSArIDNdO1xuICAgICAgICAgIGRhdGFbaV0gPSByICogbVswXSArIGcgKiBtWzFdICsgYiAqIG1bMl0gKyBhICogbVszXSArIG1bNF0gKiAyNTU7XG4gICAgICAgICAgZGF0YVtpICsgMV0gPSByICogbVs1XSArIGcgKiBtWzZdICsgYiAqIG1bN10gKyBhICogbVs4XSArIG1bOV0gKiAyNTU7XG4gICAgICAgICAgZGF0YVtpICsgMl0gPSByICogbVsxMF0gKyBnICogbVsxMV0gKyBiICogbVsxMl0gKyBhICogbVsxM10gKyBtWzE0XSAqIDI1NTtcbiAgICAgICAgICBkYXRhW2kgKyAzXSA9IHIgKiBtWzE1XSArIGcgKiBtWzE2XSArIGIgKiBtWzE3XSArIGEgKiBtWzE4XSArIG1bMTldICogMjU1O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiBXZWJHTCB1bmlmb3JtIGxvY2F0aW9ucyBmb3IgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge1dlYkdMU2hhZGVyUHJvZ3JhbX0gcHJvZ3JhbSBUaGlzIGZpbHRlcidzIGNvbXBpbGVkIHNoYWRlciBwcm9ncmFtLlxuICAgICAqL1xuICAgIGdldFVuaWZvcm1Mb2NhdGlvbnM6IGZ1bmN0aW9uKGdsLCBwcm9ncmFtKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB1Q29sb3JNYXRyaXg6IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndUNvbG9yTWF0cml4JyksXG4gICAgICAgIHVDb25zdGFudHM6IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndUNvbnN0YW50cycpLFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2VuZCBkYXRhIGZyb20gdGhpcyBmaWx0ZXIgdG8gaXRzIHNoYWRlciBwcm9ncmFtJ3MgdW5pZm9ybXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdW5pZm9ybUxvY2F0aW9ucyBBIG1hcCBvZiBzdHJpbmcgdW5pZm9ybSBuYW1lcyB0byBXZWJHTFVuaWZvcm1Mb2NhdGlvbiBvYmplY3RzXG4gICAgICovXG4gICAgc2VuZFVuaWZvcm1EYXRhOiBmdW5jdGlvbihnbCwgdW5pZm9ybUxvY2F0aW9ucykge1xuICAgICAgdmFyIG0gPSB0aGlzLm1hdHJpeCxcbiAgICAgICAgICBtYXRyaXggPSBbXG4gICAgICAgICAgICBtWzBdLCBtWzFdLCBtWzJdLCBtWzNdLFxuICAgICAgICAgICAgbVs1XSwgbVs2XSwgbVs3XSwgbVs4XSxcbiAgICAgICAgICAgIG1bMTBdLCBtWzExXSwgbVsxMl0sIG1bMTNdLFxuICAgICAgICAgICAgbVsxNV0sIG1bMTZdLCBtWzE3XSwgbVsxOF1cbiAgICAgICAgICBdLFxuICAgICAgICAgIGNvbnN0YW50cyA9IFttWzRdLCBtWzldLCBtWzE0XSwgbVsxOV1dO1xuICAgICAgZ2wudW5pZm9ybU1hdHJpeDRmdih1bmlmb3JtTG9jYXRpb25zLnVDb2xvck1hdHJpeCwgZmFsc2UsIG1hdHJpeCk7XG4gICAgICBnbC51bmlmb3JtNGZ2KHVuaWZvcm1Mb2NhdGlvbnMudUNvbnN0YW50cywgY29uc3RhbnRzKTtcbiAgICB9LFxuICB9KTtcblxuICAvKipcbiAgICogUmV0dXJucyBmaWx0ZXIgaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIGZ1bmN0aW9uIHRvIGludm9rZSBhZnRlciBmaWx0ZXIgY3JlYXRpb25cbiAgICogQHJldHVybiB7ZmFicmljLkltYWdlLmZpbHRlcnMuQ29sb3JNYXRyaXh9IEluc3RhbmNlIG9mIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkNvbG9yTWF0cml4XG4gICAqL1xuICBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db2xvck1hdHJpeC5mcm9tT2JqZWN0ID0gZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlci5mcm9tT2JqZWN0O1xufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyAgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIGZpbHRlcnMgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycyxcbiAgICAgIGNyZWF0ZUNsYXNzID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3M7XG5cbiAgLyoqXG4gICAqIEJyaWdodG5lc3MgZmlsdGVyIGNsYXNzXG4gICAqIEBjbGFzcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CcmlnaHRuZXNzXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuSW1hZ2UuZmlsdGVyc1xuICAgKiBAZXh0ZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyXG4gICAqIEBzZWUge0BsaW5rIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJyaWdodG5lc3MjaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICogQHNlZSB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9pbWFnZS1maWx0ZXJzfEltYWdlRmlsdGVycyBkZW1vfVxuICAgKiBAZXhhbXBsZVxuICAgKiB2YXIgZmlsdGVyID0gbmV3IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJyaWdodG5lc3Moe1xuICAgKiAgIGJyaWdodG5lc3M6IDAuMDVcbiAgICogfSk7XG4gICAqIG9iamVjdC5maWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgICogb2JqZWN0LmFwcGx5RmlsdGVycygpO1xuICAgKi9cbiAgZmlsdGVycy5CcmlnaHRuZXNzID0gY3JlYXRlQ2xhc3MoZmlsdGVycy5CYXNlRmlsdGVyLCAvKiogQGxlbmRzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJyaWdodG5lc3MucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIEZpbHRlciB0eXBlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHR5cGU6ICdCcmlnaHRuZXNzJyxcblxuICAgIC8qKlxuICAgICAqIEZyYWdtZW50IHNvdXJjZSBmb3IgdGhlIGJyaWdodG5lc3MgcHJvZ3JhbVxuICAgICAqL1xuICAgIGZyYWdtZW50U291cmNlOiAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbicgK1xuICAgICAgJ3VuaWZvcm0gZmxvYXQgdUJyaWdodG5lc3M7XFxuJyArXG4gICAgICAndmFyeWluZyB2ZWMyIHZUZXhDb29yZDtcXG4nICtcbiAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICd2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQpO1xcbicgK1xuICAgICAgICAnY29sb3IucmdiICs9IHVCcmlnaHRuZXNzO1xcbicgK1xuICAgICAgICAnZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxuJyArXG4gICAgICAnfScsXG5cbiAgICAvKipcbiAgICAgKiBCcmlnaHRuZXNzIHZhbHVlLCBmcm9tIC0xIHRvIDEuXG4gICAgICogdHJhbnNsYXRlZCB0byAtMjU1IHRvIDI1NSBmb3IgMmRcbiAgICAgKiAwLjAwMzkyMTU2ODYgaXMgdGhlIHBhcnQgb2YgMSB0aGF0IGdldCB0cmFuc2xhdGVkIHRvIDEgaW4gMmRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYnJpZ2h0bmVzc1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgYnJpZ2h0bmVzczogMCxcblxuICAgIC8qKlxuICAgICAqIERlc2NyaWJlIHRoZSBwcm9wZXJ0eSB0aGF0IGlzIHRoZSBmaWx0ZXIgcGFyYW1ldGVyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIG1haW5QYXJhbWV0ZXI6ICdicmlnaHRuZXNzJyxcblxuICAgIC8qKlxuICAgICogQXBwbHkgdGhlIEJyaWdodG5lc3Mgb3BlcmF0aW9uIHRvIGEgVWludDhDbGFtcGVkQXJyYXkgcmVwcmVzZW50aW5nIHRoZSBwaXhlbHMgb2YgYW4gaW1hZ2UuXG4gICAgKlxuICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAqIEBwYXJhbSB7SW1hZ2VEYXRhfSBvcHRpb25zLmltYWdlRGF0YSBUaGUgVWludDhDbGFtcGVkQXJyYXkgdG8gYmUgZmlsdGVyZWQuXG4gICAgKi9cbiAgICBhcHBseVRvMmQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIGlmICh0aGlzLmJyaWdodG5lc3MgPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIGltYWdlRGF0YSA9IG9wdGlvbnMuaW1hZ2VEYXRhLFxuICAgICAgICAgIGRhdGEgPSBpbWFnZURhdGEuZGF0YSwgaSwgbGVuID0gZGF0YS5sZW5ndGgsXG4gICAgICAgICAgYnJpZ2h0bmVzcyA9IE1hdGgucm91bmQodGhpcy5icmlnaHRuZXNzICogMjU1KTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgICAgICBkYXRhW2ldID0gZGF0YVtpXSArIGJyaWdodG5lc3M7XG4gICAgICAgIGRhdGFbaSArIDFdID0gZGF0YVtpICsgMV0gKyBicmlnaHRuZXNzO1xuICAgICAgICBkYXRhW2kgKyAyXSA9IGRhdGFbaSArIDJdICsgYnJpZ2h0bmVzcztcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIFdlYkdMIHVuaWZvcm0gbG9jYXRpb25zIGZvciB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgR0wgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7V2ViR0xTaGFkZXJQcm9ncmFtfSBwcm9ncmFtIFRoaXMgZmlsdGVyJ3MgY29tcGlsZWQgc2hhZGVyIHByb2dyYW0uXG4gICAgICovXG4gICAgZ2V0VW5pZm9ybUxvY2F0aW9uczogZnVuY3Rpb24oZ2wsIHByb2dyYW0pIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVCcmlnaHRuZXNzOiBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VCcmlnaHRuZXNzJyksXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZW5kIGRhdGEgZnJvbSB0aGlzIGZpbHRlciB0byBpdHMgc2hhZGVyIHByb2dyYW0ncyB1bmlmb3Jtcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgR0wgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB1bmlmb3JtTG9jYXRpb25zIEEgbWFwIG9mIHN0cmluZyB1bmlmb3JtIG5hbWVzIHRvIFdlYkdMVW5pZm9ybUxvY2F0aW9uIG9iamVjdHNcbiAgICAgKi9cbiAgICBzZW5kVW5pZm9ybURhdGE6IGZ1bmN0aW9uKGdsLCB1bmlmb3JtTG9jYXRpb25zKSB7XG4gICAgICBnbC51bmlmb3JtMWYodW5pZm9ybUxvY2F0aW9ucy51QnJpZ2h0bmVzcywgdGhpcy5icmlnaHRuZXNzKTtcbiAgICB9LFxuICB9KTtcblxuICAvKipcbiAgICogUmV0dXJucyBmaWx0ZXIgaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIHRvIGJlIGludm9rZWQgYWZ0ZXIgZmlsdGVyIGNyZWF0aW9uXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JbWFnZS5maWx0ZXJzLkJyaWdodG5lc3N9IEluc3RhbmNlIG9mIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJyaWdodG5lc3NcbiAgICovXG4gIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJyaWdodG5lc3MuZnJvbU9iamVjdCA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXIuZnJvbU9iamVjdDtcblxufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyAgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIGV4dGVuZCA9IGZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQsXG4gICAgICBmaWx0ZXJzID0gZmFicmljLkltYWdlLmZpbHRlcnMsXG4gICAgICBjcmVhdGVDbGFzcyA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzO1xuXG4gIC8qKlxuICAgKiBBZGFwdGVkIGZyb20gPGEgaHJlZj1cImh0dHA6Ly93d3cuaHRtbDVyb2Nrcy5jb20vZW4vdHV0b3JpYWxzL2NhbnZhcy9pbWFnZWZpbHRlcnMvXCI+aHRtbDVyb2NrcyBhcnRpY2xlPC9hPlxuICAgKiBAY2xhc3MgZmFicmljLkltYWdlLmZpbHRlcnMuQ29udm9sdXRlXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuSW1hZ2UuZmlsdGVyc1xuICAgKiBAZXh0ZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyXG4gICAqIEBzZWUge0BsaW5rIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkNvbnZvbHV0ZSNpbml0aWFsaXplfSBmb3IgY29uc3RydWN0b3IgZGVmaW5pdGlvblxuICAgKiBAc2VlIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ltYWdlLWZpbHRlcnN8SW1hZ2VGaWx0ZXJzIGRlbW99XG4gICAqIEBleGFtcGxlIDxjYXB0aW9uPlNoYXJwZW4gZmlsdGVyPC9jYXB0aW9uPlxuICAgKiB2YXIgZmlsdGVyID0gbmV3IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkNvbnZvbHV0ZSh7XG4gICAqICAgbWF0cml4OiBbIDAsIC0xLCAgMCxcbiAgICogICAgICAgICAgICAtMSwgIDUsIC0xLFxuICAgKiAgICAgICAgICAgICAwLCAtMSwgIDAgXVxuICAgKiB9KTtcbiAgICogb2JqZWN0LmZpbHRlcnMucHVzaChmaWx0ZXIpO1xuICAgKiBvYmplY3QuYXBwbHlGaWx0ZXJzKCk7XG4gICAqIGNhbnZhcy5yZW5kZXJBbGwoKTtcbiAgICogQGV4YW1wbGUgPGNhcHRpb24+Qmx1ciBmaWx0ZXI8L2NhcHRpb24+XG4gICAqIHZhciBmaWx0ZXIgPSBuZXcgZmFicmljLkltYWdlLmZpbHRlcnMuQ29udm9sdXRlKHtcbiAgICogICBtYXRyaXg6IFsgMS85LCAxLzksIDEvOSxcbiAgICogICAgICAgICAgICAgMS85LCAxLzksIDEvOSxcbiAgICogICAgICAgICAgICAgMS85LCAxLzksIDEvOSBdXG4gICAqIH0pO1xuICAgKiBvYmplY3QuZmlsdGVycy5wdXNoKGZpbHRlcik7XG4gICAqIG9iamVjdC5hcHBseUZpbHRlcnMoKTtcbiAgICogY2FudmFzLnJlbmRlckFsbCgpO1xuICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5FbWJvc3MgZmlsdGVyPC9jYXB0aW9uPlxuICAgKiB2YXIgZmlsdGVyID0gbmV3IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkNvbnZvbHV0ZSh7XG4gICAqICAgbWF0cml4OiBbIDEsICAgMSwgIDEsXG4gICAqICAgICAgICAgICAgIDEsIDAuNywgLTEsXG4gICAqICAgICAgICAgICAgLTEsICAtMSwgLTEgXVxuICAgKiB9KTtcbiAgICogb2JqZWN0LmZpbHRlcnMucHVzaChmaWx0ZXIpO1xuICAgKiBvYmplY3QuYXBwbHlGaWx0ZXJzKCk7XG4gICAqIGNhbnZhcy5yZW5kZXJBbGwoKTtcbiAgICogQGV4YW1wbGUgPGNhcHRpb24+RW1ib3NzIGZpbHRlciB3aXRoIG9wYXF1ZW5lc3M8L2NhcHRpb24+XG4gICAqIHZhciBmaWx0ZXIgPSBuZXcgZmFicmljLkltYWdlLmZpbHRlcnMuQ29udm9sdXRlKHtcbiAgICogICBvcGFxdWU6IHRydWUsXG4gICAqICAgbWF0cml4OiBbIDEsICAgMSwgIDEsXG4gICAqICAgICAgICAgICAgIDEsIDAuNywgLTEsXG4gICAqICAgICAgICAgICAgLTEsICAtMSwgLTEgXVxuICAgKiB9KTtcbiAgICogb2JqZWN0LmZpbHRlcnMucHVzaChmaWx0ZXIpO1xuICAgKiBvYmplY3QuYXBwbHlGaWx0ZXJzKCk7XG4gICAqIGNhbnZhcy5yZW5kZXJBbGwoKTtcbiAgICovXG4gIGZpbHRlcnMuQ29udm9sdXRlID0gY3JlYXRlQ2xhc3MoZmlsdGVycy5CYXNlRmlsdGVyLCAvKiogQGxlbmRzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkNvbnZvbHV0ZS5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogRmlsdGVyIHR5cGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHlwZTogJ0NvbnZvbHV0ZScsXG5cbiAgICAvKlxuICAgICAqIE9wYXF1ZSB2YWx1ZSAodHJ1ZS9mYWxzZSlcbiAgICAgKi9cbiAgICBvcGFxdWU6IGZhbHNlLFxuXG4gICAgLypcbiAgICAgKiBtYXRyaXggZm9yIHRoZSBmaWx0ZXIsIG1heCA5eDlcbiAgICAgKi9cbiAgICBtYXRyaXg6IFswLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAwXSxcblxuICAgIC8qKlxuICAgICAqIEZyYWdtZW50IHNvdXJjZSBmb3IgdGhlIGJyaWdodG5lc3MgcHJvZ3JhbVxuICAgICAqL1xuICAgIGZyYWdtZW50U291cmNlOiB7XG4gICAgICBDb252b2x1dGVfM18xOiAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgICAndW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIGZsb2F0IHVNYXRyaXhbOV07XFxuJyArXG4gICAgICAgICd1bmlmb3JtIGZsb2F0IHVTdGVwVztcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gZmxvYXQgdVN0ZXBIO1xcbicgK1xuICAgICAgICAndmFyeWluZyB2ZWMyIHZUZXhDb29yZDtcXG4nICtcbiAgICAgICAgJ3ZvaWQgbWFpbigpIHtcXG4nICtcbiAgICAgICAgICAndmVjNCBjb2xvciA9IHZlYzQoMCwgMCwgMCwgMCk7XFxuJyArXG4gICAgICAgICAgJ2ZvciAoZmxvYXQgaCA9IDAuMDsgaCA8IDMuMDsgaCs9MS4wKSB7XFxuJyArXG4gICAgICAgICAgICAnZm9yIChmbG9hdCB3ID0gMC4wOyB3IDwgMy4wOyB3Kz0xLjApIHtcXG4nICtcbiAgICAgICAgICAgICAgJ3ZlYzIgbWF0cml4UG9zID0gdmVjMih1U3RlcFcgKiAodyAtIDEpLCB1U3RlcEggKiAoaCAtIDEpKTtcXG4nICtcbiAgICAgICAgICAgICAgJ2NvbG9yICs9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkICsgbWF0cml4UG9zKSAqIHVNYXRyaXhbaW50KGggKiAzLjAgKyB3KV07XFxuJyArXG4gICAgICAgICAgICAnfVxcbicgK1xuICAgICAgICAgICd9XFxuJyArXG4gICAgICAgICAgJ2dsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbicgK1xuICAgICAgICAnfScsXG4gICAgICBDb252b2x1dGVfM18wOiAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgICAndW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIGZsb2F0IHVNYXRyaXhbOV07XFxuJyArXG4gICAgICAgICd1bmlmb3JtIGZsb2F0IHVTdGVwVztcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gZmxvYXQgdVN0ZXBIO1xcbicgK1xuICAgICAgICAndmFyeWluZyB2ZWMyIHZUZXhDb29yZDtcXG4nICtcbiAgICAgICAgJ3ZvaWQgbWFpbigpIHtcXG4nICtcbiAgICAgICAgICAndmVjNCBjb2xvciA9IHZlYzQoMCwgMCwgMCwgMSk7XFxuJyArXG4gICAgICAgICAgJ2ZvciAoZmxvYXQgaCA9IDAuMDsgaCA8IDMuMDsgaCs9MS4wKSB7XFxuJyArXG4gICAgICAgICAgICAnZm9yIChmbG9hdCB3ID0gMC4wOyB3IDwgMy4wOyB3Kz0xLjApIHtcXG4nICtcbiAgICAgICAgICAgICAgJ3ZlYzIgbWF0cml4UG9zID0gdmVjMih1U3RlcFcgKiAodyAtIDEuMCksIHVTdGVwSCAqIChoIC0gMS4wKSk7XFxuJyArXG4gICAgICAgICAgICAgICdjb2xvci5yZ2IgKz0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQgKyBtYXRyaXhQb3MpLnJnYiAqIHVNYXRyaXhbaW50KGggKiAzLjAgKyB3KV07XFxuJyArXG4gICAgICAgICAgICAnfVxcbicgK1xuICAgICAgICAgICd9XFxuJyArXG4gICAgICAgICAgJ2Zsb2F0IGFscGhhID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQpLmE7XFxuJyArXG4gICAgICAgICAgJ2dsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbicgK1xuICAgICAgICAgICdnbF9GcmFnQ29sb3IuYSA9IGFscGhhO1xcbicgK1xuICAgICAgICAnfScsXG4gICAgICBDb252b2x1dGVfNV8xOiAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgICAndW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIGZsb2F0IHVNYXRyaXhbMjVdO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBmbG9hdCB1U3RlcFc7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIGZsb2F0IHVTdGVwSDtcXG4nICtcbiAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICAgJ3ZlYzQgY29sb3IgPSB2ZWM0KDAsIDAsIDAsIDApO1xcbicgK1xuICAgICAgICAgICdmb3IgKGZsb2F0IGggPSAwLjA7IGggPCA1LjA7IGgrPTEuMCkge1xcbicgK1xuICAgICAgICAgICAgJ2ZvciAoZmxvYXQgdyA9IDAuMDsgdyA8IDUuMDsgdys9MS4wKSB7XFxuJyArXG4gICAgICAgICAgICAgICd2ZWMyIG1hdHJpeFBvcyA9IHZlYzIodVN0ZXBXICogKHcgLSAyLjApLCB1U3RlcEggKiAoaCAtIDIuMCkpO1xcbicgK1xuICAgICAgICAgICAgICAnY29sb3IgKz0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQgKyBtYXRyaXhQb3MpICogdU1hdHJpeFtpbnQoaCAqIDUuMCArIHcpXTtcXG4nICtcbiAgICAgICAgICAgICd9XFxuJyArXG4gICAgICAgICAgJ31cXG4nICtcbiAgICAgICAgICAnZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxuJyArXG4gICAgICAgICd9JyxcbiAgICAgIENvbnZvbHV0ZV81XzA6ICdwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZTtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gZmxvYXQgdU1hdHJpeFsyNV07XFxuJyArXG4gICAgICAgICd1bmlmb3JtIGZsb2F0IHVTdGVwVztcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gZmxvYXQgdVN0ZXBIO1xcbicgK1xuICAgICAgICAndmFyeWluZyB2ZWMyIHZUZXhDb29yZDtcXG4nICtcbiAgICAgICAgJ3ZvaWQgbWFpbigpIHtcXG4nICtcbiAgICAgICAgICAndmVjNCBjb2xvciA9IHZlYzQoMCwgMCwgMCwgMSk7XFxuJyArXG4gICAgICAgICAgJ2ZvciAoZmxvYXQgaCA9IDAuMDsgaCA8IDUuMDsgaCs9MS4wKSB7XFxuJyArXG4gICAgICAgICAgICAnZm9yIChmbG9hdCB3ID0gMC4wOyB3IDwgNS4wOyB3Kz0xLjApIHtcXG4nICtcbiAgICAgICAgICAgICAgJ3ZlYzIgbWF0cml4UG9zID0gdmVjMih1U3RlcFcgKiAodyAtIDIuMCksIHVTdGVwSCAqIChoIC0gMi4wKSk7XFxuJyArXG4gICAgICAgICAgICAgICdjb2xvci5yZ2IgKz0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQgKyBtYXRyaXhQb3MpLnJnYiAqIHVNYXRyaXhbaW50KGggKiA1LjAgKyB3KV07XFxuJyArXG4gICAgICAgICAgICAnfVxcbicgK1xuICAgICAgICAgICd9XFxuJyArXG4gICAgICAgICAgJ2Zsb2F0IGFscGhhID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQpLmE7XFxuJyArXG4gICAgICAgICAgJ2dsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbicgK1xuICAgICAgICAgICdnbF9GcmFnQ29sb3IuYSA9IGFscGhhO1xcbicgK1xuICAgICAgICAnfScsXG4gICAgICBDb252b2x1dGVfN18xOiAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgICAndW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIGZsb2F0IHVNYXRyaXhbNDldO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBmbG9hdCB1U3RlcFc7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIGZsb2F0IHVTdGVwSDtcXG4nICtcbiAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICAgJ3ZlYzQgY29sb3IgPSB2ZWM0KDAsIDAsIDAsIDApO1xcbicgK1xuICAgICAgICAgICdmb3IgKGZsb2F0IGggPSAwLjA7IGggPCA3LjA7IGgrPTEuMCkge1xcbicgK1xuICAgICAgICAgICAgJ2ZvciAoZmxvYXQgdyA9IDAuMDsgdyA8IDcuMDsgdys9MS4wKSB7XFxuJyArXG4gICAgICAgICAgICAgICd2ZWMyIG1hdHJpeFBvcyA9IHZlYzIodVN0ZXBXICogKHcgLSAzLjApLCB1U3RlcEggKiAoaCAtIDMuMCkpO1xcbicgK1xuICAgICAgICAgICAgICAnY29sb3IgKz0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQgKyBtYXRyaXhQb3MpICogdU1hdHJpeFtpbnQoaCAqIDcuMCArIHcpXTtcXG4nICtcbiAgICAgICAgICAgICd9XFxuJyArXG4gICAgICAgICAgJ31cXG4nICtcbiAgICAgICAgICAnZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxuJyArXG4gICAgICAgICd9JyxcbiAgICAgIENvbnZvbHV0ZV83XzA6ICdwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZTtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gZmxvYXQgdU1hdHJpeFs0OV07XFxuJyArXG4gICAgICAgICd1bmlmb3JtIGZsb2F0IHVTdGVwVztcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gZmxvYXQgdVN0ZXBIO1xcbicgK1xuICAgICAgICAndmFyeWluZyB2ZWMyIHZUZXhDb29yZDtcXG4nICtcbiAgICAgICAgJ3ZvaWQgbWFpbigpIHtcXG4nICtcbiAgICAgICAgICAndmVjNCBjb2xvciA9IHZlYzQoMCwgMCwgMCwgMSk7XFxuJyArXG4gICAgICAgICAgJ2ZvciAoZmxvYXQgaCA9IDAuMDsgaCA8IDcuMDsgaCs9MS4wKSB7XFxuJyArXG4gICAgICAgICAgICAnZm9yIChmbG9hdCB3ID0gMC4wOyB3IDwgNy4wOyB3Kz0xLjApIHtcXG4nICtcbiAgICAgICAgICAgICAgJ3ZlYzIgbWF0cml4UG9zID0gdmVjMih1U3RlcFcgKiAodyAtIDMuMCksIHVTdGVwSCAqIChoIC0gMy4wKSk7XFxuJyArXG4gICAgICAgICAgICAgICdjb2xvci5yZ2IgKz0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQgKyBtYXRyaXhQb3MpLnJnYiAqIHVNYXRyaXhbaW50KGggKiA3LjAgKyB3KV07XFxuJyArXG4gICAgICAgICAgICAnfVxcbicgK1xuICAgICAgICAgICd9XFxuJyArXG4gICAgICAgICAgJ2Zsb2F0IGFscGhhID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQpLmE7XFxuJyArXG4gICAgICAgICAgJ2dsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbicgK1xuICAgICAgICAgICdnbF9GcmFnQ29sb3IuYSA9IGFscGhhO1xcbicgK1xuICAgICAgICAnfScsXG4gICAgICBDb252b2x1dGVfOV8xOiAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgICAndW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIGZsb2F0IHVNYXRyaXhbODFdO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBmbG9hdCB1U3RlcFc7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIGZsb2F0IHVTdGVwSDtcXG4nICtcbiAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICAgJ3ZlYzQgY29sb3IgPSB2ZWM0KDAsIDAsIDAsIDApO1xcbicgK1xuICAgICAgICAgICdmb3IgKGZsb2F0IGggPSAwLjA7IGggPCA5LjA7IGgrPTEuMCkge1xcbicgK1xuICAgICAgICAgICAgJ2ZvciAoZmxvYXQgdyA9IDAuMDsgdyA8IDkuMDsgdys9MS4wKSB7XFxuJyArXG4gICAgICAgICAgICAgICd2ZWMyIG1hdHJpeFBvcyA9IHZlYzIodVN0ZXBXICogKHcgLSA0LjApLCB1U3RlcEggKiAoaCAtIDQuMCkpO1xcbicgK1xuICAgICAgICAgICAgICAnY29sb3IgKz0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQgKyBtYXRyaXhQb3MpICogdU1hdHJpeFtpbnQoaCAqIDkuMCArIHcpXTtcXG4nICtcbiAgICAgICAgICAgICd9XFxuJyArXG4gICAgICAgICAgJ31cXG4nICtcbiAgICAgICAgICAnZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxuJyArXG4gICAgICAgICd9JyxcbiAgICAgIENvbnZvbHV0ZV85XzA6ICdwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZTtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gZmxvYXQgdU1hdHJpeFs4MV07XFxuJyArXG4gICAgICAgICd1bmlmb3JtIGZsb2F0IHVTdGVwVztcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gZmxvYXQgdVN0ZXBIO1xcbicgK1xuICAgICAgICAndmFyeWluZyB2ZWMyIHZUZXhDb29yZDtcXG4nICtcbiAgICAgICAgJ3ZvaWQgbWFpbigpIHtcXG4nICtcbiAgICAgICAgICAndmVjNCBjb2xvciA9IHZlYzQoMCwgMCwgMCwgMSk7XFxuJyArXG4gICAgICAgICAgJ2ZvciAoZmxvYXQgaCA9IDAuMDsgaCA8IDkuMDsgaCs9MS4wKSB7XFxuJyArXG4gICAgICAgICAgICAnZm9yIChmbG9hdCB3ID0gMC4wOyB3IDwgOS4wOyB3Kz0xLjApIHtcXG4nICtcbiAgICAgICAgICAgICAgJ3ZlYzIgbWF0cml4UG9zID0gdmVjMih1U3RlcFcgKiAodyAtIDQuMCksIHVTdGVwSCAqIChoIC0gNC4wKSk7XFxuJyArXG4gICAgICAgICAgICAgICdjb2xvci5yZ2IgKz0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQgKyBtYXRyaXhQb3MpLnJnYiAqIHVNYXRyaXhbaW50KGggKiA5LjAgKyB3KV07XFxuJyArXG4gICAgICAgICAgICAnfVxcbicgK1xuICAgICAgICAgICd9XFxuJyArXG4gICAgICAgICAgJ2Zsb2F0IGFscGhhID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQpLmE7XFxuJyArXG4gICAgICAgICAgJ2dsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbicgK1xuICAgICAgICAgICdnbF9GcmFnQ29sb3IuYSA9IGFscGhhO1xcbicgK1xuICAgICAgICAnfScsXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkNvbnZvbHV0ZS5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5vcGFxdWU9ZmFsc2VdIE9wYXF1ZSB2YWx1ZSAodHJ1ZS9mYWxzZSlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbb3B0aW9ucy5tYXRyaXhdIEZpbHRlciBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgLyoqXG4gICAgKiBSZXRyaWV2ZXMgdGhlIGNhY2hlZCBzaGFkZXIuXG4gICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IG9wdGlvbnMuY29udGV4dCBUaGUgR0wgY29udGV4dCB1c2VkIGZvciByZW5kZXJpbmcuXG4gICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucy5wcm9ncmFtQ2FjaGUgQSBtYXAgb2YgY29tcGlsZWQgc2hhZGVyIHByb2dyYW1zLCBrZXllZCBieSBmaWx0ZXIgdHlwZS5cbiAgICAqL1xuICAgIHJldHJpZXZlU2hhZGVyOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICB2YXIgc2l6ZSA9IE1hdGguc3FydCh0aGlzLm1hdHJpeC5sZW5ndGgpO1xuICAgICAgdmFyIGNhY2hlS2V5ID0gdGhpcy50eXBlICsgJ18nICsgc2l6ZSArICdfJyArICh0aGlzLm9wYXF1ZSA/IDEgOiAwKTtcbiAgICAgIHZhciBzaGFkZXJTb3VyY2UgPSB0aGlzLmZyYWdtZW50U291cmNlW2NhY2hlS2V5XTtcbiAgICAgIGlmICghb3B0aW9ucy5wcm9ncmFtQ2FjaGUuaGFzT3duUHJvcGVydHkoY2FjaGVLZXkpKSB7XG4gICAgICAgIG9wdGlvbnMucHJvZ3JhbUNhY2hlW2NhY2hlS2V5XSA9IHRoaXMuY3JlYXRlUHJvZ3JhbShvcHRpb25zLmNvbnRleHQsIHNoYWRlclNvdXJjZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gb3B0aW9ucy5wcm9ncmFtQ2FjaGVbY2FjaGVLZXldO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBcHBseSB0aGUgQnJpZ2h0bmVzcyBvcGVyYXRpb24gdG8gYSBVaW50OENsYW1wZWRBcnJheSByZXByZXNlbnRpbmcgdGhlIHBpeGVscyBvZiBhbiBpbWFnZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHBhcmFtIHtJbWFnZURhdGF9IG9wdGlvbnMuaW1hZ2VEYXRhIFRoZSBVaW50OENsYW1wZWRBcnJheSB0byBiZSBmaWx0ZXJlZC5cbiAgICAgKi9cbiAgICBhcHBseVRvMmQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBpbWFnZURhdGEgPSBvcHRpb25zLmltYWdlRGF0YSxcbiAgICAgICAgICBkYXRhID0gaW1hZ2VEYXRhLmRhdGEsXG4gICAgICAgICAgd2VpZ2h0cyA9IHRoaXMubWF0cml4LFxuICAgICAgICAgIHNpZGUgPSBNYXRoLnJvdW5kKE1hdGguc3FydCh3ZWlnaHRzLmxlbmd0aCkpLFxuICAgICAgICAgIGhhbGZTaWRlID0gTWF0aC5mbG9vcihzaWRlIC8gMiksXG4gICAgICAgICAgc3cgPSBpbWFnZURhdGEud2lkdGgsXG4gICAgICAgICAgc2ggPSBpbWFnZURhdGEuaGVpZ2h0LFxuICAgICAgICAgIG91dHB1dCA9IG9wdGlvbnMuY3R4LmNyZWF0ZUltYWdlRGF0YShzdywgc2gpLFxuICAgICAgICAgIGRzdCA9IG91dHB1dC5kYXRhLFxuICAgICAgICAgIC8vIGdvIHRocm91Z2ggdGhlIGRlc3RpbmF0aW9uIGltYWdlIHBpeGVsc1xuICAgICAgICAgIGFscGhhRmFjID0gdGhpcy5vcGFxdWUgPyAxIDogMCxcbiAgICAgICAgICByLCBnLCBiLCBhLCBkc3RPZmYsXG4gICAgICAgICAgc2N4LCBzY3ksIHNyY09mZiwgd3QsXG4gICAgICAgICAgeCwgeSwgY3gsIGN5O1xuXG4gICAgICBmb3IgKHkgPSAwOyB5IDwgc2g7IHkrKykge1xuICAgICAgICBmb3IgKHggPSAwOyB4IDwgc3c7IHgrKykge1xuICAgICAgICAgIGRzdE9mZiA9ICh5ICogc3cgKyB4KSAqIDQ7XG4gICAgICAgICAgLy8gY2FsY3VsYXRlIHRoZSB3ZWlnaGVkIHN1bSBvZiB0aGUgc291cmNlIGltYWdlIHBpeGVscyB0aGF0XG4gICAgICAgICAgLy8gZmFsbCB1bmRlciB0aGUgY29udm9sdXRpb24gbWF0cml4XG4gICAgICAgICAgciA9IDA7IGcgPSAwOyBiID0gMDsgYSA9IDA7XG5cbiAgICAgICAgICBmb3IgKGN5ID0gMDsgY3kgPCBzaWRlOyBjeSsrKSB7XG4gICAgICAgICAgICBmb3IgKGN4ID0gMDsgY3ggPCBzaWRlOyBjeCsrKSB7XG4gICAgICAgICAgICAgIHNjeSA9IHkgKyBjeSAtIGhhbGZTaWRlO1xuICAgICAgICAgICAgICBzY3ggPSB4ICsgY3ggLSBoYWxmU2lkZTtcblxuICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWRlcHRoXG4gICAgICAgICAgICAgIGlmIChzY3kgPCAwIHx8IHNjeSA+PSBzaCB8fCBzY3ggPCAwIHx8IHNjeCA+PSBzdykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgc3JjT2ZmID0gKHNjeSAqIHN3ICsgc2N4KSAqIDQ7XG4gICAgICAgICAgICAgIHd0ID0gd2VpZ2h0c1tjeSAqIHNpZGUgKyBjeF07XG5cbiAgICAgICAgICAgICAgciArPSBkYXRhW3NyY09mZl0gKiB3dDtcbiAgICAgICAgICAgICAgZyArPSBkYXRhW3NyY09mZiArIDFdICogd3Q7XG4gICAgICAgICAgICAgIGIgKz0gZGF0YVtzcmNPZmYgKyAyXSAqIHd0O1xuICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWRlcHRoXG4gICAgICAgICAgICAgIGlmICghYWxwaGFGYWMpIHtcbiAgICAgICAgICAgICAgICBhICs9IGRhdGFbc3JjT2ZmICsgM10gKiB3dDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBkc3RbZHN0T2ZmXSA9IHI7XG4gICAgICAgICAgZHN0W2RzdE9mZiArIDFdID0gZztcbiAgICAgICAgICBkc3RbZHN0T2ZmICsgMl0gPSBiO1xuICAgICAgICAgIGlmICghYWxwaGFGYWMpIHtcbiAgICAgICAgICAgIGRzdFtkc3RPZmYgKyAzXSA9IGE7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZHN0W2RzdE9mZiArIDNdID0gZGF0YVtkc3RPZmYgKyAzXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG9wdGlvbnMuaW1hZ2VEYXRhID0gb3V0cHV0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gV2ViR0wgdW5pZm9ybSBsb2NhdGlvbnMgZm9yIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtXZWJHTFNoYWRlclByb2dyYW19IHByb2dyYW0gVGhpcyBmaWx0ZXIncyBjb21waWxlZCBzaGFkZXIgcHJvZ3JhbS5cbiAgICAgKi9cbiAgICBnZXRVbmlmb3JtTG9jYXRpb25zOiBmdW5jdGlvbihnbCwgcHJvZ3JhbSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdU1hdHJpeDogZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1TWF0cml4JyksXG4gICAgICAgIHVPcGFxdWU6IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndU9wYXF1ZScpLFxuICAgICAgICB1SGFsZlNpemU6IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndUhhbGZTaXplJyksXG4gICAgICAgIHVTaXplOiBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VTaXplJyksXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZW5kIGRhdGEgZnJvbSB0aGlzIGZpbHRlciB0byBpdHMgc2hhZGVyIHByb2dyYW0ncyB1bmlmb3Jtcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgR0wgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB1bmlmb3JtTG9jYXRpb25zIEEgbWFwIG9mIHN0cmluZyB1bmlmb3JtIG5hbWVzIHRvIFdlYkdMVW5pZm9ybUxvY2F0aW9uIG9iamVjdHNcbiAgICAgKi9cbiAgICBzZW5kVW5pZm9ybURhdGE6IGZ1bmN0aW9uKGdsLCB1bmlmb3JtTG9jYXRpb25zKSB7XG4gICAgICBnbC51bmlmb3JtMWZ2KHVuaWZvcm1Mb2NhdGlvbnMudU1hdHJpeCwgdGhpcy5tYXRyaXgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgdG9PYmplY3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGV4dGVuZCh0aGlzLmNhbGxTdXBlcigndG9PYmplY3QnKSwge1xuICAgICAgICBvcGFxdWU6IHRoaXMub3BhcXVlLFxuICAgICAgICBtYXRyaXg6IHRoaXMubWF0cml4XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGZpbHRlciBpbnN0YW5jZSBmcm9tIGFuIG9iamVjdCByZXByZXNlbnRhdGlvblxuICAgKiBAc3RhdGljXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBmcm9tXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYWxsYmFja10gdG8gYmUgaW52b2tlZCBhZnRlciBmaWx0ZXIgY3JlYXRpb25cbiAgICogQHJldHVybiB7ZmFicmljLkltYWdlLmZpbHRlcnMuQ29udm9sdXRlfSBJbnN0YW5jZSBvZiBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db252b2x1dGVcbiAgICovXG4gIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkNvbnZvbHV0ZS5mcm9tT2JqZWN0ID0gZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlci5mcm9tT2JqZWN0O1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljICA9IGdsb2JhbC5mYWJyaWMgfHwgKGdsb2JhbC5mYWJyaWMgPSB7IH0pLFxuICAgICAgZmlsdGVycyA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLFxuICAgICAgY3JlYXRlQ2xhc3MgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcztcblxuICAvKipcbiAgICogR3JheXNjYWxlIGltYWdlIGZpbHRlciBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkltYWdlLmZpbHRlcnMuR3JheXNjYWxlXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuSW1hZ2UuZmlsdGVyc1xuICAgKiBAZXh0ZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyXG4gICAqIEBzZWUge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vaW1hZ2UtZmlsdGVyc3xJbWFnZUZpbHRlcnMgZGVtb31cbiAgICogQGV4YW1wbGVcbiAgICogdmFyIGZpbHRlciA9IG5ldyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5HcmF5c2NhbGUoKTtcbiAgICogb2JqZWN0LmZpbHRlcnMucHVzaChmaWx0ZXIpO1xuICAgKiBvYmplY3QuYXBwbHlGaWx0ZXJzKCk7XG4gICAqL1xuICBmaWx0ZXJzLkdyYXlzY2FsZSA9IGNyZWF0ZUNsYXNzKGZpbHRlcnMuQmFzZUZpbHRlciwgLyoqIEBsZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5HcmF5c2NhbGUucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIEZpbHRlciB0eXBlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHR5cGU6ICdHcmF5c2NhbGUnLFxuXG4gICAgZnJhZ21lbnRTb3VyY2U6IHtcbiAgICAgIGF2ZXJhZ2U6ICdwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZTtcXG4nICtcbiAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICAgJ3ZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVRleHR1cmUsIHZUZXhDb29yZCk7XFxuJyArXG4gICAgICAgICAgJ2Zsb2F0IGF2ZXJhZ2UgPSAoY29sb3IuciArIGNvbG9yLmIgKyBjb2xvci5nKSAvIDMuMDtcXG4nICtcbiAgICAgICAgICAnZ2xfRnJhZ0NvbG9yID0gdmVjNChhdmVyYWdlLCBhdmVyYWdlLCBhdmVyYWdlLCBjb2xvci5hKTtcXG4nICtcbiAgICAgICAgJ30nLFxuICAgICAgbGlnaHRuZXNzOiAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgICAndW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIGludCB1TW9kZTtcXG4nICtcbiAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICAgJ3ZlYzQgY29sID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQpO1xcbicgK1xuICAgICAgICAgICdmbG9hdCBhdmVyYWdlID0gKG1heChtYXgoY29sLnIsIGNvbC5nKSxjb2wuYikgKyBtaW4obWluKGNvbC5yLCBjb2wuZyksY29sLmIpKSAvIDIuMDtcXG4nICtcbiAgICAgICAgICAnZ2xfRnJhZ0NvbG9yID0gdmVjNChhdmVyYWdlLCBhdmVyYWdlLCBhdmVyYWdlLCBjb2wuYSk7XFxuJyArXG4gICAgICAgICd9JyxcbiAgICAgIGx1bWlub3NpdHk6ICdwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZTtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gaW50IHVNb2RlO1xcbicgK1xuICAgICAgICAndmFyeWluZyB2ZWMyIHZUZXhDb29yZDtcXG4nICtcbiAgICAgICAgJ3ZvaWQgbWFpbigpIHtcXG4nICtcbiAgICAgICAgICAndmVjNCBjb2wgPSB0ZXh0dXJlMkQodVRleHR1cmUsIHZUZXhDb29yZCk7XFxuJyArXG4gICAgICAgICAgJ2Zsb2F0IGF2ZXJhZ2UgPSAwLjIxICogY29sLnIgKyAwLjcyICogY29sLmcgKyAwLjA3ICogY29sLmI7XFxuJyArXG4gICAgICAgICAgJ2dsX0ZyYWdDb2xvciA9IHZlYzQoYXZlcmFnZSwgYXZlcmFnZSwgYXZlcmFnZSwgY29sLmEpO1xcbicgK1xuICAgICAgICAnfScsXG4gICAgfSxcblxuXG4gICAgLyoqXG4gICAgICogR3JheXNjYWxlIG1vZGUsIGJldHdlZW4gJ2F2ZXJhZ2UnLCAnbGlnaHRuZXNzJywgJ2x1bWlub3NpdHknXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIG1vZGU6ICdhdmVyYWdlJyxcblxuICAgIG1haW5QYXJhbWV0ZXI6ICdtb2RlJyxcblxuICAgIC8qKlxuICAgICAqIEFwcGx5IHRoZSBHcmF5c2NhbGUgb3BlcmF0aW9uIHRvIGEgVWludDhBcnJheSByZXByZXNlbnRpbmcgdGhlIHBpeGVscyBvZiBhbiBpbWFnZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHBhcmFtIHtJbWFnZURhdGF9IG9wdGlvbnMuaW1hZ2VEYXRhIFRoZSBVaW50OEFycmF5IHRvIGJlIGZpbHRlcmVkLlxuICAgICAqL1xuICAgIGFwcGx5VG8yZDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdmFyIGltYWdlRGF0YSA9IG9wdGlvbnMuaW1hZ2VEYXRhLFxuICAgICAgICAgIGRhdGEgPSBpbWFnZURhdGEuZGF0YSwgaSxcbiAgICAgICAgICBsZW4gPSBkYXRhLmxlbmd0aCwgdmFsdWUsXG4gICAgICAgICAgbW9kZSA9IHRoaXMubW9kZTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgICAgICBpZiAobW9kZSA9PT0gJ2F2ZXJhZ2UnKSB7XG4gICAgICAgICAgdmFsdWUgPSAoZGF0YVtpXSArIGRhdGFbaSArIDFdICsgZGF0YVtpICsgMl0pIC8gMztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtb2RlID09PSAnbGlnaHRuZXNzJykge1xuICAgICAgICAgIHZhbHVlID0gKE1hdGgubWluKGRhdGFbaV0sIGRhdGFbaSArIDFdLCBkYXRhW2kgKyAyXSkgK1xuICAgICAgICAgICAgTWF0aC5tYXgoZGF0YVtpXSwgZGF0YVtpICsgMV0sIGRhdGFbaSArIDJdKSkgLyAyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG1vZGUgPT09ICdsdW1pbm9zaXR5Jykge1xuICAgICAgICAgIHZhbHVlID0gMC4yMSAqIGRhdGFbaV0gKyAwLjcyICogZGF0YVtpICsgMV0gKyAwLjA3ICogZGF0YVtpICsgMl07XG4gICAgICAgIH1cbiAgICAgICAgZGF0YVtpXSA9IHZhbHVlO1xuICAgICAgICBkYXRhW2kgKyAxXSA9IHZhbHVlO1xuICAgICAgICBkYXRhW2kgKyAyXSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGNhY2hlZCBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gb3B0aW9ucy5jb250ZXh0IFRoZSBHTCBjb250ZXh0IHVzZWQgZm9yIHJlbmRlcmluZy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucy5wcm9ncmFtQ2FjaGUgQSBtYXAgb2YgY29tcGlsZWQgc2hhZGVyIHByb2dyYW1zLCBrZXllZCBieSBmaWx0ZXIgdHlwZS5cbiAgICAgKi9cbiAgICByZXRyaWV2ZVNoYWRlcjogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdmFyIGNhY2hlS2V5ID0gdGhpcy50eXBlICsgJ18nICsgdGhpcy5tb2RlO1xuICAgICAgaWYgKCFvcHRpb25zLnByb2dyYW1DYWNoZS5oYXNPd25Qcm9wZXJ0eShjYWNoZUtleSkpIHtcbiAgICAgICAgdmFyIHNoYWRlclNvdXJjZSA9IHRoaXMuZnJhZ21lbnRTb3VyY2VbdGhpcy5tb2RlXTtcbiAgICAgICAgb3B0aW9ucy5wcm9ncmFtQ2FjaGVbY2FjaGVLZXldID0gdGhpcy5jcmVhdGVQcm9ncmFtKG9wdGlvbnMuY29udGV4dCwgc2hhZGVyU291cmNlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvcHRpb25zLnByb2dyYW1DYWNoZVtjYWNoZUtleV07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiBXZWJHTCB1bmlmb3JtIGxvY2F0aW9ucyBmb3IgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge1dlYkdMU2hhZGVyUHJvZ3JhbX0gcHJvZ3JhbSBUaGlzIGZpbHRlcidzIGNvbXBpbGVkIHNoYWRlciBwcm9ncmFtLlxuICAgICAqL1xuICAgIGdldFVuaWZvcm1Mb2NhdGlvbnM6IGZ1bmN0aW9uKGdsLCBwcm9ncmFtKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB1TW9kZTogZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1TW9kZScpLFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2VuZCBkYXRhIGZyb20gdGhpcyBmaWx0ZXIgdG8gaXRzIHNoYWRlciBwcm9ncmFtJ3MgdW5pZm9ybXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdW5pZm9ybUxvY2F0aW9ucyBBIG1hcCBvZiBzdHJpbmcgdW5pZm9ybSBuYW1lcyB0byBXZWJHTFVuaWZvcm1Mb2NhdGlvbiBvYmplY3RzXG4gICAgICovXG4gICAgc2VuZFVuaWZvcm1EYXRhOiBmdW5jdGlvbihnbCwgdW5pZm9ybUxvY2F0aW9ucykge1xuICAgICAgLy8gZGVmYXVsdCBhdmVyYWdlIG1vZGUuXG4gICAgICB2YXIgbW9kZSA9IDE7XG4gICAgICBnbC51bmlmb3JtMWkodW5pZm9ybUxvY2F0aW9ucy51TW9kZSwgbW9kZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdyYXlzY2FsZSBmaWx0ZXIgaXNOZXV0cmFsU3RhdGUgaW1wbGVtZW50YXRpb25cbiAgICAgKiBUaGUgZmlsdGVyIGlzIG5ldmVyIG5ldXRyYWxcbiAgICAgKiBvbiB0aGUgaW1hZ2VcbiAgICAgKiovXG4gICAgaXNOZXV0cmFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gIH0pO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGZpbHRlciBpbnN0YW5jZSBmcm9tIGFuIG9iamVjdCByZXByZXNlbnRhdGlvblxuICAgKiBAc3RhdGljXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBmcm9tXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYWxsYmFja10gdG8gYmUgaW52b2tlZCBhZnRlciBmaWx0ZXIgY3JlYXRpb25cbiAgICogQHJldHVybiB7ZmFicmljLkltYWdlLmZpbHRlcnMuR3JheXNjYWxlfSBJbnN0YW5jZSBvZiBmYWJyaWMuSW1hZ2UuZmlsdGVycy5HcmF5c2NhbGVcbiAgICovXG4gIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkdyYXlzY2FsZS5mcm9tT2JqZWN0ID0gZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlci5mcm9tT2JqZWN0O1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljICA9IGdsb2JhbC5mYWJyaWMgfHwgKGdsb2JhbC5mYWJyaWMgPSB7IH0pLFxuICAgICAgZmlsdGVycyA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLFxuICAgICAgY3JlYXRlQ2xhc3MgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcztcblxuICAvKipcbiAgICogSW52ZXJ0IGZpbHRlciBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkltYWdlLmZpbHRlcnMuSW52ZXJ0XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuSW1hZ2UuZmlsdGVyc1xuICAgKiBAZXh0ZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyXG4gICAqIEBzZWUge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vaW1hZ2UtZmlsdGVyc3xJbWFnZUZpbHRlcnMgZGVtb31cbiAgICogQGV4YW1wbGVcbiAgICogdmFyIGZpbHRlciA9IG5ldyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5JbnZlcnQoKTtcbiAgICogb2JqZWN0LmZpbHRlcnMucHVzaChmaWx0ZXIpO1xuICAgKiBvYmplY3QuYXBwbHlGaWx0ZXJzKGNhbnZhcy5yZW5kZXJBbGwuYmluZChjYW52YXMpKTtcbiAgICovXG4gIGZpbHRlcnMuSW52ZXJ0ID0gY3JlYXRlQ2xhc3MoZmlsdGVycy5CYXNlRmlsdGVyLCAvKiogQGxlbmRzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkludmVydC5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogRmlsdGVyIHR5cGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHlwZTogJ0ludmVydCcsXG5cbiAgICBmcmFnbWVudFNvdXJjZTogJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4nICtcbiAgICAgICd1bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZTtcXG4nICtcbiAgICAgICd1bmlmb3JtIGludCB1SW52ZXJ0O1xcbicgK1xuICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAndmVjNCBjb2xvciA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKTtcXG4nICtcbiAgICAgICAgJ2lmICh1SW52ZXJ0ID09IDEpIHtcXG4nICtcbiAgICAgICAgICAnZ2xfRnJhZ0NvbG9yID0gdmVjNCgxLjAgLSBjb2xvci5yLDEuMCAtY29sb3IuZywxLjAgLWNvbG9yLmIsY29sb3IuYSk7XFxuJyArXG4gICAgICAgICd9IGVsc2Uge1xcbicgK1xuICAgICAgICAgICdnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG4nICtcbiAgICAgICAgJ31cXG4nICtcbiAgICAgICd9JyxcblxuICAgIC8qKlxuICAgICAqIEZpbHRlciBpbnZlcnQuIGlmIGZhbHNlLCBkb2VzIG5vdGhpbmdcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGludmVydFxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgaW52ZXJ0OiB0cnVlLFxuXG4gICAgbWFpblBhcmFtZXRlcjogJ2ludmVydCcsXG5cbiAgICAvKipcbiAgICAgKiBBcHBseSB0aGUgSW52ZXJ0IG9wZXJhdGlvbiB0byBhIFVpbnQ4QXJyYXkgcmVwcmVzZW50aW5nIHRoZSBwaXhlbHMgb2YgYW4gaW1hZ2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7SW1hZ2VEYXRhfSBvcHRpb25zLmltYWdlRGF0YSBUaGUgVWludDhBcnJheSB0byBiZSBmaWx0ZXJlZC5cbiAgICAgKi9cbiAgICBhcHBseVRvMmQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBpbWFnZURhdGEgPSBvcHRpb25zLmltYWdlRGF0YSxcbiAgICAgICAgICBkYXRhID0gaW1hZ2VEYXRhLmRhdGEsIGksXG4gICAgICAgICAgbGVuID0gZGF0YS5sZW5ndGg7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICAgICAgZGF0YVtpXSA9IDI1NSAtIGRhdGFbaV07XG4gICAgICAgIGRhdGFbaSArIDFdID0gMjU1IC0gZGF0YVtpICsgMV07XG4gICAgICAgIGRhdGFbaSArIDJdID0gMjU1IC0gZGF0YVtpICsgMl07XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEludmVydCBmaWx0ZXIgaXNOZXV0cmFsU3RhdGUgaW1wbGVtZW50YXRpb25cbiAgICAgKiBVc2VkIG9ubHkgaW4gaW1hZ2UgYXBwbHlGaWx0ZXJzIHRvIGRpc2NhcmQgZmlsdGVycyB0aGF0IHdpbGwgbm90IGhhdmUgYW4gZWZmZWN0XG4gICAgICogb24gdGhlIGltYWdlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiovXG4gICAgaXNOZXV0cmFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICF0aGlzLmludmVydDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIFdlYkdMIHVuaWZvcm0gbG9jYXRpb25zIGZvciB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgR0wgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7V2ViR0xTaGFkZXJQcm9ncmFtfSBwcm9ncmFtIFRoaXMgZmlsdGVyJ3MgY29tcGlsZWQgc2hhZGVyIHByb2dyYW0uXG4gICAgICovXG4gICAgZ2V0VW5pZm9ybUxvY2F0aW9uczogZnVuY3Rpb24oZ2wsIHByb2dyYW0pIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVJbnZlcnQ6IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndUludmVydCcpLFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2VuZCBkYXRhIGZyb20gdGhpcyBmaWx0ZXIgdG8gaXRzIHNoYWRlciBwcm9ncmFtJ3MgdW5pZm9ybXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdW5pZm9ybUxvY2F0aW9ucyBBIG1hcCBvZiBzdHJpbmcgdW5pZm9ybSBuYW1lcyB0byBXZWJHTFVuaWZvcm1Mb2NhdGlvbiBvYmplY3RzXG4gICAgICovXG4gICAgc2VuZFVuaWZvcm1EYXRhOiBmdW5jdGlvbihnbCwgdW5pZm9ybUxvY2F0aW9ucykge1xuICAgICAgZ2wudW5pZm9ybTFpKHVuaWZvcm1Mb2NhdGlvbnMudUludmVydCwgdGhpcy5pbnZlcnQpO1xuICAgIH0sXG4gIH0pO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGZpbHRlciBpbnN0YW5jZSBmcm9tIGFuIG9iamVjdCByZXByZXNlbnRhdGlvblxuICAgKiBAc3RhdGljXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBmcm9tXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYWxsYmFja10gdG8gYmUgaW52b2tlZCBhZnRlciBmaWx0ZXIgY3JlYXRpb25cbiAgICogQHJldHVybiB7ZmFicmljLkltYWdlLmZpbHRlcnMuSW52ZXJ0fSBJbnN0YW5jZSBvZiBmYWJyaWMuSW1hZ2UuZmlsdGVycy5JbnZlcnRcbiAgICovXG4gIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkludmVydC5mcm9tT2JqZWN0ID0gZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlci5mcm9tT2JqZWN0O1xuXG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBmYWJyaWMgID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSksXG4gICAgICBleHRlbmQgPSBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kLFxuICAgICAgZmlsdGVycyA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLFxuICAgICAgY3JlYXRlQ2xhc3MgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcztcblxuICAvKipcbiAgICogTm9pc2UgZmlsdGVyIGNsYXNzXG4gICAqIEBjbGFzcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Ob2lzZVxuICAgKiBAbWVtYmVyT2YgZmFicmljLkltYWdlLmZpbHRlcnNcbiAgICogQGV4dGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlclxuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Ob2lzZSNpbml0aWFsaXplfSBmb3IgY29uc3RydWN0b3IgZGVmaW5pdGlvblxuICAgKiBAc2VlIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ltYWdlLWZpbHRlcnN8SW1hZ2VGaWx0ZXJzIGRlbW99XG4gICAqIEBleGFtcGxlXG4gICAqIHZhciBmaWx0ZXIgPSBuZXcgZmFicmljLkltYWdlLmZpbHRlcnMuTm9pc2Uoe1xuICAgKiAgIG5vaXNlOiA3MDBcbiAgICogfSk7XG4gICAqIG9iamVjdC5maWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgICogb2JqZWN0LmFwcGx5RmlsdGVycygpO1xuICAgKiBjYW52YXMucmVuZGVyQWxsKCk7XG4gICAqL1xuICBmaWx0ZXJzLk5vaXNlID0gY3JlYXRlQ2xhc3MoZmlsdGVycy5CYXNlRmlsdGVyLCAvKiogQGxlbmRzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLk5vaXNlLnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgdHlwZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0eXBlOiAnTm9pc2UnLFxuXG4gICAgLyoqXG4gICAgICogRnJhZ21lbnQgc291cmNlIGZvciB0aGUgbm9pc2UgcHJvZ3JhbVxuICAgICAqL1xuICAgIGZyYWdtZW50U291cmNlOiAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbicgK1xuICAgICAgJ3VuaWZvcm0gZmxvYXQgdVN0ZXBIO1xcbicgK1xuICAgICAgJ3VuaWZvcm0gZmxvYXQgdU5vaXNlO1xcbicgK1xuICAgICAgJ3VuaWZvcm0gZmxvYXQgdVNlZWQ7XFxuJyArXG4gICAgICAndmFyeWluZyB2ZWMyIHZUZXhDb29yZDtcXG4nICtcbiAgICAgICdmbG9hdCByYW5kKHZlYzIgY28sIGZsb2F0IHNlZWQsIGZsb2F0IHZTY2FsZSkge1xcbicgK1xuICAgICAgICAncmV0dXJuIGZyYWN0KHNpbihkb3QoY28ueHkgKiB2U2NhbGUgLHZlYzIoMTIuOTg5OCAsIDc4LjIzMykpKSAqIDQzNzU4LjU0NTMgKiAoc2VlZCArIDAuMDEpIC8gMi4wKTtcXG4nICtcbiAgICAgICd9XFxuJyArXG4gICAgICAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAndmVjNCBjb2xvciA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKTtcXG4nICtcbiAgICAgICAgJ2NvbG9yLnJnYiArPSAoMC41IC0gcmFuZCh2VGV4Q29vcmQsIHVTZWVkLCAwLjEgLyB1U3RlcEgpKSAqIHVOb2lzZTtcXG4nICtcbiAgICAgICAgJ2dsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbicgK1xuICAgICAgJ30nLFxuXG4gICAgLyoqXG4gICAgICogRGVzY3JpYmUgdGhlIHByb3BlcnR5IHRoYXQgaXMgdGhlIGZpbHRlciBwYXJhbWV0ZXJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgbWFpblBhcmFtZXRlcjogJ25vaXNlJyxcblxuICAgIC8qKlxuICAgICAqIE5vaXNlIHZhbHVlLCBmcm9tXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG5vaXNlXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBub2lzZTogMCxcblxuICAgIC8qKlxuICAgICAqIEFwcGx5IHRoZSBCcmlnaHRuZXNzIG9wZXJhdGlvbiB0byBhIFVpbnQ4Q2xhbXBlZEFycmF5IHJlcHJlc2VudGluZyB0aGUgcGl4ZWxzIG9mIGFuIGltYWdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge0ltYWdlRGF0YX0gb3B0aW9ucy5pbWFnZURhdGEgVGhlIFVpbnQ4Q2xhbXBlZEFycmF5IHRvIGJlIGZpbHRlcmVkLlxuICAgICAqL1xuICAgIGFwcGx5VG8yZDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgaWYgKHRoaXMubm9pc2UgPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIGltYWdlRGF0YSA9IG9wdGlvbnMuaW1hZ2VEYXRhLFxuICAgICAgICAgIGRhdGEgPSBpbWFnZURhdGEuZGF0YSwgaSwgbGVuID0gZGF0YS5sZW5ndGgsXG4gICAgICAgICAgbm9pc2UgPSB0aGlzLm5vaXNlLCByYW5kO1xuXG4gICAgICBmb3IgKGkgPSAwLCBsZW4gPSBkYXRhLmxlbmd0aDsgaSA8IGxlbjsgaSArPSA0KSB7XG5cbiAgICAgICAgcmFuZCA9ICgwLjUgLSBNYXRoLnJhbmRvbSgpKSAqIG5vaXNlO1xuXG4gICAgICAgIGRhdGFbaV0gKz0gcmFuZDtcbiAgICAgICAgZGF0YVtpICsgMV0gKz0gcmFuZDtcbiAgICAgICAgZGF0YVtpICsgMl0gKz0gcmFuZDtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIFdlYkdMIHVuaWZvcm0gbG9jYXRpb25zIGZvciB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgR0wgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7V2ViR0xTaGFkZXJQcm9ncmFtfSBwcm9ncmFtIFRoaXMgZmlsdGVyJ3MgY29tcGlsZWQgc2hhZGVyIHByb2dyYW0uXG4gICAgICovXG4gICAgZ2V0VW5pZm9ybUxvY2F0aW9uczogZnVuY3Rpb24oZ2wsIHByb2dyYW0pIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVOb2lzZTogZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1Tm9pc2UnKSxcbiAgICAgICAgdVNlZWQ6IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndVNlZWQnKSxcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNlbmQgZGF0YSBmcm9tIHRoaXMgZmlsdGVyIHRvIGl0cyBzaGFkZXIgcHJvZ3JhbSdzIHVuaWZvcm1zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHVuaWZvcm1Mb2NhdGlvbnMgQSBtYXAgb2Ygc3RyaW5nIHVuaWZvcm0gbmFtZXMgdG8gV2ViR0xVbmlmb3JtTG9jYXRpb24gb2JqZWN0c1xuICAgICAqL1xuICAgIHNlbmRVbmlmb3JtRGF0YTogZnVuY3Rpb24oZ2wsIHVuaWZvcm1Mb2NhdGlvbnMpIHtcbiAgICAgIGdsLnVuaWZvcm0xZih1bmlmb3JtTG9jYXRpb25zLnVOb2lzZSwgdGhpcy5ub2lzZSAvIDI1NSk7XG4gICAgICBnbC51bmlmb3JtMWYodW5pZm9ybUxvY2F0aW9ucy51U2VlZCwgTWF0aC5yYW5kb20oKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBPYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b09iamVjdDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZXh0ZW5kKHRoaXMuY2FsbFN1cGVyKCd0b09iamVjdCcpLCB7XG4gICAgICAgIG5vaXNlOiB0aGlzLm5vaXNlXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGZpbHRlciBpbnN0YW5jZSBmcm9tIGFuIG9iamVjdCByZXByZXNlbnRhdGlvblxuICAgKiBAc3RhdGljXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBmcm9tXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gdG8gYmUgaW52b2tlZCBhZnRlciBmaWx0ZXIgY3JlYXRpb25cbiAgICogQHJldHVybiB7ZmFicmljLkltYWdlLmZpbHRlcnMuTm9pc2V9IEluc3RhbmNlIG9mIGZhYnJpYy5JbWFnZS5maWx0ZXJzLk5vaXNlXG4gICAqL1xuICBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Ob2lzZS5mcm9tT2JqZWN0ID0gZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlci5mcm9tT2JqZWN0O1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljICA9IGdsb2JhbC5mYWJyaWMgfHwgKGdsb2JhbC5mYWJyaWMgPSB7IH0pLFxuICAgICAgZmlsdGVycyA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLFxuICAgICAgY3JlYXRlQ2xhc3MgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcztcblxuICAvKipcbiAgICogUGl4ZWxhdGUgZmlsdGVyIGNsYXNzXG4gICAqIEBjbGFzcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5QaXhlbGF0ZVxuICAgKiBAbWVtYmVyT2YgZmFicmljLkltYWdlLmZpbHRlcnNcbiAgICogQGV4dGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlclxuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuSW1hZ2UuZmlsdGVycy5QaXhlbGF0ZSNpbml0aWFsaXplfSBmb3IgY29uc3RydWN0b3IgZGVmaW5pdGlvblxuICAgKiBAc2VlIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ltYWdlLWZpbHRlcnN8SW1hZ2VGaWx0ZXJzIGRlbW99XG4gICAqIEBleGFtcGxlXG4gICAqIHZhciBmaWx0ZXIgPSBuZXcgZmFicmljLkltYWdlLmZpbHRlcnMuUGl4ZWxhdGUoe1xuICAgKiAgIGJsb2Nrc2l6ZTogOFxuICAgKiB9KTtcbiAgICogb2JqZWN0LmZpbHRlcnMucHVzaChmaWx0ZXIpO1xuICAgKiBvYmplY3QuYXBwbHlGaWx0ZXJzKCk7XG4gICAqL1xuICBmaWx0ZXJzLlBpeGVsYXRlID0gY3JlYXRlQ2xhc3MoZmlsdGVycy5CYXNlRmlsdGVyLCAvKiogQGxlbmRzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLlBpeGVsYXRlLnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgdHlwZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0eXBlOiAnUGl4ZWxhdGUnLFxuXG4gICAgYmxvY2tzaXplOiA0LFxuXG4gICAgbWFpblBhcmFtZXRlcjogJ2Jsb2Nrc2l6ZScsXG5cbiAgICAvKipcbiAgICAgKiBGcmFnbWVudCBzb3VyY2UgZm9yIHRoZSBQaXhlbGF0ZSBwcm9ncmFtXG4gICAgICovXG4gICAgZnJhZ21lbnRTb3VyY2U6ICdwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuJyArXG4gICAgICAndW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuJyArXG4gICAgICAndW5pZm9ybSBmbG9hdCB1QmxvY2tzaXplO1xcbicgK1xuICAgICAgJ3VuaWZvcm0gZmxvYXQgdVN0ZXBXO1xcbicgK1xuICAgICAgJ3VuaWZvcm0gZmxvYXQgdVN0ZXBIO1xcbicgK1xuICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAnZmxvYXQgYmxvY2tXID0gdUJsb2Nrc2l6ZSAqIHVTdGVwVztcXG4nICtcbiAgICAgICAgJ2Zsb2F0IGJsb2NrSCA9IHVCbG9ja3NpemUgKiB1U3RlcFc7XFxuJyArXG4gICAgICAgICdpbnQgcG9zWCA9IGludCh2VGV4Q29vcmQueCAvIGJsb2NrVyk7XFxuJyArXG4gICAgICAgICdpbnQgcG9zWSA9IGludCh2VGV4Q29vcmQueSAvIGJsb2NrSCk7XFxuJyArXG4gICAgICAgICdmbG9hdCBmcG9zWCA9IGZsb2F0KHBvc1gpO1xcbicgK1xuICAgICAgICAnZmxvYXQgZnBvc1kgPSBmbG9hdChwb3NZKTtcXG4nICtcbiAgICAgICAgJ3ZlYzIgc3F1YXJlQ29vcmRzID0gdmVjMihmcG9zWCAqIGJsb2NrVywgZnBvc1kgKiBibG9ja0gpO1xcbicgK1xuICAgICAgICAndmVjNCBjb2xvciA9IHRleHR1cmUyRCh1VGV4dHVyZSwgc3F1YXJlQ29vcmRzKTtcXG4nICtcbiAgICAgICAgJ2dsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbicgK1xuICAgICAgJ30nLFxuXG4gICAgLyoqXG4gICAgICogQXBwbHkgdGhlIFBpeGVsYXRlIG9wZXJhdGlvbiB0byBhIFVpbnQ4Q2xhbXBlZEFycmF5IHJlcHJlc2VudGluZyB0aGUgcGl4ZWxzIG9mIGFuIGltYWdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge0ltYWdlRGF0YX0gb3B0aW9ucy5pbWFnZURhdGEgVGhlIFVpbnQ4Q2xhbXBlZEFycmF5IHRvIGJlIGZpbHRlcmVkLlxuICAgICAqL1xuICAgIGFwcGx5VG8yZDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdmFyIGltYWdlRGF0YSA9IG9wdGlvbnMuaW1hZ2VEYXRhLFxuICAgICAgICAgIGRhdGEgPSBpbWFnZURhdGEuZGF0YSxcbiAgICAgICAgICBpTGVuID0gaW1hZ2VEYXRhLmhlaWdodCxcbiAgICAgICAgICBqTGVuID0gaW1hZ2VEYXRhLndpZHRoLFxuICAgICAgICAgIGluZGV4LCBpLCBqLCByLCBnLCBiLCBhLFxuICAgICAgICAgIF9pLCBfaiwgX2lMZW4sIF9qTGVuO1xuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgaUxlbjsgaSArPSB0aGlzLmJsb2Nrc2l6ZSkge1xuICAgICAgICBmb3IgKGogPSAwOyBqIDwgakxlbjsgaiArPSB0aGlzLmJsb2Nrc2l6ZSkge1xuXG4gICAgICAgICAgaW5kZXggPSAoaSAqIDQpICogakxlbiArIChqICogNCk7XG5cbiAgICAgICAgICByID0gZGF0YVtpbmRleF07XG4gICAgICAgICAgZyA9IGRhdGFbaW5kZXggKyAxXTtcbiAgICAgICAgICBiID0gZGF0YVtpbmRleCArIDJdO1xuICAgICAgICAgIGEgPSBkYXRhW2luZGV4ICsgM107XG5cbiAgICAgICAgICBfaUxlbiA9IE1hdGgubWluKGkgKyB0aGlzLmJsb2Nrc2l6ZSwgaUxlbik7XG4gICAgICAgICAgX2pMZW4gPSBNYXRoLm1pbihqICsgdGhpcy5ibG9ja3NpemUsIGpMZW4pO1xuICAgICAgICAgIGZvciAoX2kgPSBpOyBfaSA8IF9pTGVuOyBfaSsrKSB7XG4gICAgICAgICAgICBmb3IgKF9qID0gajsgX2ogPCBfakxlbjsgX2orKykge1xuICAgICAgICAgICAgICBpbmRleCA9IChfaSAqIDQpICogakxlbiArIChfaiAqIDQpO1xuICAgICAgICAgICAgICBkYXRhW2luZGV4XSA9IHI7XG4gICAgICAgICAgICAgIGRhdGFbaW5kZXggKyAxXSA9IGc7XG4gICAgICAgICAgICAgIGRhdGFbaW5kZXggKyAyXSA9IGI7XG4gICAgICAgICAgICAgIGRhdGFbaW5kZXggKyAzXSA9IGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlIHdoZW4gdGhlIGZpbHRlciBpcyBub3QgZ29ubmEgYXBwbHkgY2hhbmdlcyB0byB0aGUgaW1hZ2VcbiAgICAgKiovXG4gICAgaXNOZXV0cmFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuYmxvY2tzaXplID09PSAxO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gV2ViR0wgdW5pZm9ybSBsb2NhdGlvbnMgZm9yIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtXZWJHTFNoYWRlclByb2dyYW19IHByb2dyYW0gVGhpcyBmaWx0ZXIncyBjb21waWxlZCBzaGFkZXIgcHJvZ3JhbS5cbiAgICAgKi9cbiAgICBnZXRVbmlmb3JtTG9jYXRpb25zOiBmdW5jdGlvbihnbCwgcHJvZ3JhbSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdUJsb2Nrc2l6ZTogZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1QmxvY2tzaXplJyksXG4gICAgICAgIHVTdGVwVzogZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1U3RlcFcnKSxcbiAgICAgICAgdVN0ZXBIOiBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VTdGVwSCcpLFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2VuZCBkYXRhIGZyb20gdGhpcyBmaWx0ZXIgdG8gaXRzIHNoYWRlciBwcm9ncmFtJ3MgdW5pZm9ybXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdW5pZm9ybUxvY2F0aW9ucyBBIG1hcCBvZiBzdHJpbmcgdW5pZm9ybSBuYW1lcyB0byBXZWJHTFVuaWZvcm1Mb2NhdGlvbiBvYmplY3RzXG4gICAgICovXG4gICAgc2VuZFVuaWZvcm1EYXRhOiBmdW5jdGlvbihnbCwgdW5pZm9ybUxvY2F0aW9ucykge1xuICAgICAgZ2wudW5pZm9ybTFmKHVuaWZvcm1Mb2NhdGlvbnMudUJsb2Nrc2l6ZSwgdGhpcy5ibG9ja3NpemUpO1xuICAgIH0sXG4gIH0pO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGZpbHRlciBpbnN0YW5jZSBmcm9tIGFuIG9iamVjdCByZXByZXNlbnRhdGlvblxuICAgKiBAc3RhdGljXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBmcm9tXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gdG8gYmUgaW52b2tlZCBhZnRlciBmaWx0ZXIgY3JlYXRpb25cbiAgICogQHJldHVybiB7ZmFicmljLkltYWdlLmZpbHRlcnMuUGl4ZWxhdGV9IEluc3RhbmNlIG9mIGZhYnJpYy5JbWFnZS5maWx0ZXJzLlBpeGVsYXRlXG4gICAqL1xuICBmYWJyaWMuSW1hZ2UuZmlsdGVycy5QaXhlbGF0ZS5mcm9tT2JqZWN0ID0gZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlci5mcm9tT2JqZWN0O1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljICA9IGdsb2JhbC5mYWJyaWMgfHwgKGdsb2JhbC5mYWJyaWMgPSB7IH0pLFxuICAgICAgZXh0ZW5kID0gZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZCxcbiAgICAgIGZpbHRlcnMgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycyxcbiAgICAgIGNyZWF0ZUNsYXNzID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3M7XG5cbiAgLyoqXG4gICAqIFJlbW92ZSB3aGl0ZSBmaWx0ZXIgY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLlJlbW92ZUNvbG9yXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuSW1hZ2UuZmlsdGVyc1xuICAgKiBAZXh0ZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyXG4gICAqIEBzZWUge0BsaW5rIGZhYnJpYy5JbWFnZS5maWx0ZXJzLlJlbW92ZUNvbG9yI2luaXRpYWxpemV9IGZvciBjb25zdHJ1Y3RvciBkZWZpbml0aW9uXG4gICAqIEBzZWUge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vaW1hZ2UtZmlsdGVyc3xJbWFnZUZpbHRlcnMgZGVtb31cbiAgICogQGV4YW1wbGVcbiAgICogdmFyIGZpbHRlciA9IG5ldyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5SZW1vdmVDb2xvcih7XG4gICAqICAgdGhyZXNob2xkOiAwLjIsXG4gICAqIH0pO1xuICAgKiBvYmplY3QuZmlsdGVycy5wdXNoKGZpbHRlcik7XG4gICAqIG9iamVjdC5hcHBseUZpbHRlcnMoKTtcbiAgICogY2FudmFzLnJlbmRlckFsbCgpO1xuICAgKi9cbiAgZmlsdGVycy5SZW1vdmVDb2xvciA9IGNyZWF0ZUNsYXNzKGZpbHRlcnMuQmFzZUZpbHRlciwgLyoqIEBsZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5SZW1vdmVDb2xvci5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogRmlsdGVyIHR5cGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHlwZTogJ1JlbW92ZUNvbG9yJyxcblxuICAgIC8qKlxuICAgICAqIENvbG9yIHRvIHJlbW92ZSwgaW4gYW55IGZvcm1hdCB1bmRlcnN0b29kIGJ5IGZhYnJpYy5Db2xvci5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgY29sb3I6ICcjRkZGRkZGJyxcblxuICAgIC8qKlxuICAgICAqIEZyYWdtZW50IHNvdXJjZSBmb3IgdGhlIGJyaWdodG5lc3MgcHJvZ3JhbVxuICAgICAqL1xuICAgIGZyYWdtZW50U291cmNlOiAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbicgK1xuICAgICAgJ3VuaWZvcm0gdmVjNCB1TG93O1xcbicgK1xuICAgICAgJ3VuaWZvcm0gdmVjNCB1SGlnaDtcXG4nICtcbiAgICAgICd2YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbicgK1xuICAgICAgJ3ZvaWQgbWFpbigpIHtcXG4nICtcbiAgICAgICAgJ2dsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKTtcXG4nICtcbiAgICAgICAgJ2lmKGFsbChncmVhdGVyVGhhbihnbF9GcmFnQ29sb3IucmdiLHVMb3cucmdiKSkgJiYgYWxsKGdyZWF0ZXJUaGFuKHVIaWdoLnJnYixnbF9GcmFnQ29sb3IucmdiKSkpIHtcXG4nICtcbiAgICAgICAgICAnZ2xfRnJhZ0NvbG9yLmEgPSAwLjA7XFxuJyArXG4gICAgICAgICd9XFxuJyArXG4gICAgICAnfScsXG5cbiAgICAvKipcbiAgICAgKiBkaXN0YW5jZSB0byBhY3R1YWwgY29sb3IsIGFzIHZhbHVlIHVwIG9yIGRvd24gZnJvbSBlYWNoIHIsZyxiXG4gICAgICogYmV0d2VlbiAwIGFuZCAxXG4gICAgICoqL1xuICAgIGRpc3RhbmNlOiAwLjAyLFxuXG4gICAgLyoqXG4gICAgICogRm9yIGNvbG9yIHRvIHJlbW92ZSBpbnNpZGUgZGlzdGFuY2UsIHVzZSBhbHBoYSBjaGFubmVsIGZvciBhIHNtb290aGVyIGRlbGV0aW9uXG4gICAgICogTk9UIElNUExFTUVOVEVEIFlFVFxuICAgICAqKi9cbiAgICB1c2VBbHBoYTogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMuSW1hZ2UuZmlsdGVycy5SZW1vdmVXaGl0ZS5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmNvbG9yPSNSUkdHQkJdIFRocmVzaG9sZCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5kaXN0YW5jZT0xMF0gRGlzdGFuY2UgdmFsdWVcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgZmlsdGVyIHRvIGNhbnZhcyBlbGVtZW50XG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNhbnZhc0VsIENhbnZhcyBlbGVtZW50IHRvIGFwcGx5IGZpbHRlciB0b1xuICAgICAqL1xuICAgIGFwcGx5VG8yZDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdmFyIGltYWdlRGF0YSA9IG9wdGlvbnMuaW1hZ2VEYXRhLFxuICAgICAgICAgIGRhdGEgPSBpbWFnZURhdGEuZGF0YSwgaSxcbiAgICAgICAgICBkaXN0YW5jZSA9IHRoaXMuZGlzdGFuY2UgKiAyNTUsXG4gICAgICAgICAgciwgZywgYixcbiAgICAgICAgICBzb3VyY2UgPSBuZXcgZmFicmljLkNvbG9yKHRoaXMuY29sb3IpLmdldFNvdXJjZSgpLFxuICAgICAgICAgIGxvd0MgPSBbXG4gICAgICAgICAgICBzb3VyY2VbMF0gLSBkaXN0YW5jZSxcbiAgICAgICAgICAgIHNvdXJjZVsxXSAtIGRpc3RhbmNlLFxuICAgICAgICAgICAgc291cmNlWzJdIC0gZGlzdGFuY2UsXG4gICAgICAgICAgXSxcbiAgICAgICAgICBoaWdoQyA9IFtcbiAgICAgICAgICAgIHNvdXJjZVswXSArIGRpc3RhbmNlLFxuICAgICAgICAgICAgc291cmNlWzFdICsgZGlzdGFuY2UsXG4gICAgICAgICAgICBzb3VyY2VbMl0gKyBkaXN0YW5jZSxcbiAgICAgICAgICBdO1xuXG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSA0KSB7XG4gICAgICAgIHIgPSBkYXRhW2ldO1xuICAgICAgICBnID0gZGF0YVtpICsgMV07XG4gICAgICAgIGIgPSBkYXRhW2kgKyAyXTtcblxuICAgICAgICBpZiAociA+IGxvd0NbMF0gJiZcbiAgICAgICAgICAgIGcgPiBsb3dDWzFdICYmXG4gICAgICAgICAgICBiID4gbG93Q1syXSAmJlxuICAgICAgICAgICAgciA8IGhpZ2hDWzBdICYmXG4gICAgICAgICAgICBnIDwgaGlnaENbMV0gJiZcbiAgICAgICAgICAgIGIgPCBoaWdoQ1syXSkge1xuICAgICAgICAgIGRhdGFbaSArIDNdID0gMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gV2ViR0wgdW5pZm9ybSBsb2NhdGlvbnMgZm9yIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtXZWJHTFNoYWRlclByb2dyYW19IHByb2dyYW0gVGhpcyBmaWx0ZXIncyBjb21waWxlZCBzaGFkZXIgcHJvZ3JhbS5cbiAgICAgKi9cbiAgICBnZXRVbmlmb3JtTG9jYXRpb25zOiBmdW5jdGlvbihnbCwgcHJvZ3JhbSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdUxvdzogZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1TG93JyksXG4gICAgICAgIHVIaWdoOiBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VIaWdoJyksXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZW5kIGRhdGEgZnJvbSB0aGlzIGZpbHRlciB0byBpdHMgc2hhZGVyIHByb2dyYW0ncyB1bmlmb3Jtcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgR0wgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB1bmlmb3JtTG9jYXRpb25zIEEgbWFwIG9mIHN0cmluZyB1bmlmb3JtIG5hbWVzIHRvIFdlYkdMVW5pZm9ybUxvY2F0aW9uIG9iamVjdHNcbiAgICAgKi9cbiAgICBzZW5kVW5pZm9ybURhdGE6IGZ1bmN0aW9uKGdsLCB1bmlmb3JtTG9jYXRpb25zKSB7XG4gICAgICB2YXIgc291cmNlID0gbmV3IGZhYnJpYy5Db2xvcih0aGlzLmNvbG9yKS5nZXRTb3VyY2UoKSxcbiAgICAgICAgICBkaXN0YW5jZSA9IHBhcnNlRmxvYXQodGhpcy5kaXN0YW5jZSksXG4gICAgICAgICAgbG93QyA9IFtcbiAgICAgICAgICAgIDAgKyBzb3VyY2VbMF0gLyAyNTUgLSBkaXN0YW5jZSxcbiAgICAgICAgICAgIDAgKyBzb3VyY2VbMV0gLyAyNTUgLSBkaXN0YW5jZSxcbiAgICAgICAgICAgIDAgKyBzb3VyY2VbMl0gLyAyNTUgLSBkaXN0YW5jZSxcbiAgICAgICAgICAgIDFcbiAgICAgICAgICBdLFxuICAgICAgICAgIGhpZ2hDID0gW1xuICAgICAgICAgICAgc291cmNlWzBdIC8gMjU1ICsgZGlzdGFuY2UsXG4gICAgICAgICAgICBzb3VyY2VbMV0gLyAyNTUgKyBkaXN0YW5jZSxcbiAgICAgICAgICAgIHNvdXJjZVsyXSAvIDI1NSArIGRpc3RhbmNlLFxuICAgICAgICAgICAgMVxuICAgICAgICAgIF07XG4gICAgICBnbC51bmlmb3JtNGZ2KHVuaWZvcm1Mb2NhdGlvbnMudUxvdywgbG93Qyk7XG4gICAgICBnbC51bmlmb3JtNGZ2KHVuaWZvcm1Mb2NhdGlvbnMudUhpZ2gsIGhpZ2hDKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IE9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRvT2JqZWN0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBleHRlbmQodGhpcy5jYWxsU3VwZXIoJ3RvT2JqZWN0JyksIHtcbiAgICAgICAgY29sb3I6IHRoaXMuY29sb3IsXG4gICAgICAgIGRpc3RhbmNlOiB0aGlzLmRpc3RhbmNlXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGZpbHRlciBpbnN0YW5jZSBmcm9tIGFuIG9iamVjdCByZXByZXNlbnRhdGlvblxuICAgKiBAc3RhdGljXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBmcm9tXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gdG8gYmUgaW52b2tlZCBhZnRlciBmaWx0ZXIgY3JlYXRpb25cbiAgICogQHJldHVybiB7ZmFicmljLkltYWdlLmZpbHRlcnMuUmVtb3ZlQ29sb3J9IEluc3RhbmNlIG9mIGZhYnJpYy5JbWFnZS5maWx0ZXJzLlJlbW92ZVdoaXRlXG4gICAqL1xuICBmYWJyaWMuSW1hZ2UuZmlsdGVycy5SZW1vdmVDb2xvci5mcm9tT2JqZWN0ID0gZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlci5mcm9tT2JqZWN0O1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljICA9IGdsb2JhbC5mYWJyaWMgfHwgKGdsb2JhbC5mYWJyaWMgPSB7IH0pLFxuICAgICAgZmlsdGVycyA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLFxuICAgICAgY3JlYXRlQ2xhc3MgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcztcblxuICB2YXIgbWF0cmljZXMgPSB7XG4gICAgQnJvd25pZTogW1xuICAgICAgMC41OTk3MCwwLjM0NTUzLC0wLjI3MDgyLDAsMC4xODYsXG4gICAgICAtMC4wMzc3MCwwLjg2MDk1LDAuMTUwNTksMCwtMC4xNDQ5LFxuICAgICAgMC4yNDExMywtMC4wNzQ0MSwwLjQ0OTcyLDAsLTAuMDI5NjUsXG4gICAgICAwLDAsMCwxLDBcbiAgICBdLFxuICAgIFZpbnRhZ2U6IFtcbiAgICAgIDAuNjI3OTMsMC4zMjAyMSwtMC4wMzk2NSwwLDAuMDM3ODQsXG4gICAgICAwLjAyNTc4LDAuNjQ0MTEsMC4wMzI1OSwwLDAuMDI5MjYsXG4gICAgICAwLjA0NjYwLC0wLjA4NTEyLDAuNTI0MTYsMCwwLjAyMDIzLFxuICAgICAgMCwwLDAsMSwwXG4gICAgXSxcbiAgICBLb2RhY2hyb21lOiBbXG4gICAgICAxLjEyODU1LC0wLjM5NjczLC0wLjAzOTkyLDAsMC4yNDk5MSxcbiAgICAgIC0wLjE2NDA0LDEuMDgzNTIsLTAuMDU0OTgsMCwwLjA5Njk4LFxuICAgICAgLTAuMTY3ODYsLTAuNTYwMzQsMS42MDE0OCwwLDAuMTM5NzIsXG4gICAgICAwLDAsMCwxLDBcbiAgICBdLFxuICAgIFRlY2huaWNvbG9yOiBbXG4gICAgICAxLjkxMjUyLC0wLjg1NDUzLC0wLjA5MTU1LDAsMC4wNDYyNCxcbiAgICAgIC0wLjMwODc4LDEuNzY1ODksLTAuMTA2MDEsMCwtMC4yNzU4OSxcbiAgICAgIC0wLjIzMTEwLC0wLjc1MDE4LDEuODQ3NTksMCwwLjEyMTM3LFxuICAgICAgMCwwLDAsMSwwXG4gICAgXSxcbiAgICBQb2xhcm9pZDogW1xuICAgICAgMS40MzgsLTAuMDYyLC0wLjA2MiwwLDAsXG4gICAgICAtMC4xMjIsMS4zNzgsLTAuMTIyLDAsMCxcbiAgICAgIC0wLjAxNiwtMC4wMTYsMS40ODMsMCwwLFxuICAgICAgMCwwLDAsMSwwXG4gICAgXSxcbiAgICBTZXBpYTogW1xuICAgICAgMC4zOTMsIDAuNzY5LCAwLjE4OSwgMCwgMCxcbiAgICAgIDAuMzQ5LCAwLjY4NiwgMC4xNjgsIDAsIDAsXG4gICAgICAwLjI3MiwgMC41MzQsIDAuMTMxLCAwLCAwLFxuICAgICAgMCwgMCwgMCwgMSwgMFxuICAgIF0sXG4gICAgQmxhY2tXaGl0ZTogW1xuICAgICAgMS41LCAxLjUsIDEuNSwgMCwgLTEsXG4gICAgICAxLjUsIDEuNSwgMS41LCAwLCAtMSxcbiAgICAgIDEuNSwgMS41LCAxLjUsIDAsIC0xLFxuICAgICAgMCwgMCwgMCwgMSwgMCxcbiAgICBdXG4gIH07XG5cbiAgZm9yICh2YXIga2V5IGluIG1hdHJpY2VzKSB7XG4gICAgZmlsdGVyc1trZXldID0gY3JlYXRlQ2xhc3MoZmlsdGVycy5Db2xvck1hdHJpeCwgLyoqIEBsZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5TZXBpYS5wcm90b3R5cGUgKi8ge1xuXG4gICAgICAvKipcbiAgICAgICAqIEZpbHRlciB0eXBlXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICAgICAgICogQGRlZmF1bHRcbiAgICAgICAqL1xuICAgICAgdHlwZToga2V5LFxuXG4gICAgICAvKipcbiAgICAgICAqIENvbG9ybWF0cml4IGZvciB0aGUgZWZmZWN0XG4gICAgICAgKiBhcnJheSBvZiAyMCBmbG9hdHMuIE51bWJlcnMgaW4gcG9zaXRpb25zIDQsIDksIDE0LCAxOSBsb29zZSBtZWFuaW5nXG4gICAgICAgKiBvdXRzaWRlIHRoZSAtMSwgMSByYW5nZS5cbiAgICAgICAqIEBwYXJhbSB7QXJyYXl9IG1hdHJpeCBhcnJheSBvZiAyMCBudW1iZXJzLlxuICAgICAgICogQGRlZmF1bHRcbiAgICAgICAqL1xuICAgICAgbWF0cml4OiBtYXRyaWNlc1trZXldLFxuXG4gICAgICAvKipcbiAgICAgICAqIExvY2sgdGhlIG1hdHJpeCBleHBvcnQgZm9yIHRoaXMga2luZCBvZiBzdGF0aWMsIHBhcmFtZXRlciBsZXNzIGZpbHRlcnMuXG4gICAgICAgKi9cbiAgICAgIG1haW5QYXJhbWV0ZXI6IGZhbHNlLFxuICAgICAgLyoqXG4gICAgICAgKiBMb2NrIHRoZSBjb2xvcm1hdHJpeCBvbiB0aGUgY29sb3IgcGFydCwgc2tpcHBpbmcgYWxwaGFcbiAgICAgICAqL1xuICAgICAgY29sb3JzT25seTogdHJ1ZSxcblxuICAgIH0pO1xuICAgIGZhYnJpYy5JbWFnZS5maWx0ZXJzW2tleV0uZnJvbU9iamVjdCA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXIuZnJvbU9iamVjdDtcbiAgfVxufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBmYWJyaWMgPSBnbG9iYWwuZmFicmljLFxuICAgICAgZmlsdGVycyA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLFxuICAgICAgY3JlYXRlQ2xhc3MgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcztcblxuICAvKipcbiAgICogQ29sb3IgQmxlbmQgZmlsdGVyIGNsYXNzXG4gICAqIEBjbGFzcyBmYWJyaWMuSW1hZ2UuZmlsdGVyLkJsZW5kQ29sb3JcbiAgICogQG1lbWJlck9mIGZhYnJpYy5JbWFnZS5maWx0ZXJzXG4gICAqIEBleHRlbmRzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXJcbiAgICogQGV4YW1wbGVcbiAgICogdmFyIGZpbHRlciA9IG5ldyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CbGVuZENvbG9yKHtcbiAgICogIGNvbG9yOiAnIzAwMCcsXG4gICAqICBtb2RlOiAnbXVsdGlwbHknXG4gICAqIH0pO1xuICAgKlxuICAgKiB2YXIgZmlsdGVyID0gbmV3IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJsZW5kSW1hZ2Uoe1xuICAgKiAgaW1hZ2U6IGZhYnJpY0ltYWdlT2JqZWN0LFxuICAgKiAgbW9kZTogJ211bHRpcGx5JyxcbiAgICogIGFscGhhOiAwLjVcbiAgICogfSk7XG4gICAqIG9iamVjdC5maWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgICogb2JqZWN0LmFwcGx5RmlsdGVycygpO1xuICAgKiBjYW52YXMucmVuZGVyQWxsKCk7XG4gICAqL1xuXG4gIGZpbHRlcnMuQmxlbmRDb2xvciA9IGNyZWF0ZUNsYXNzKGZpbHRlcnMuQmFzZUZpbHRlciwgLyoqIEBsZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CbGVuZC5wcm90b3R5cGUgKi8ge1xuICAgIHR5cGU6ICdCbGVuZENvbG9yJyxcblxuICAgIC8qKlxuICAgICAqIENvbG9yIHRvIG1ha2UgdGhlIGJsZW5kIG9wZXJhdGlvbiB3aXRoLiBkZWZhdWx0IHRvIGEgcmVkZGlzaCBjb2xvciBzaW5jZSBibGFjayBvciB3aGl0ZVxuICAgICAqIGdpdmVzIGFsd2F5cyBzdHJvbmcgcmVzdWx0LlxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICoqL1xuICAgIGNvbG9yOiAnI0Y5NUM2MycsXG5cbiAgICAvKipcbiAgICAgKiBCbGVuZCBtb2RlIGZvciB0aGUgZmlsdGVyOiBvbmUgb2YgbXVsdGlwbHksIGFkZCwgZGlmZiwgc2NyZWVuLCBzdWJ0cmFjdCxcbiAgICAgKiBkYXJrZW4sIGxpZ2h0ZW4sIG92ZXJsYXksIGV4Y2x1c2lvbiwgdGludC5cbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqKi9cbiAgICBtb2RlOiAnbXVsdGlwbHknLFxuXG4gICAgLyoqXG4gICAgICogYWxwaGEgdmFsdWUuIHJlcHJlc2VudCB0aGUgc3RyZW5ndGggb2YgdGhlIGJsZW5kIGNvbG9yIG9wZXJhdGlvbi5cbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqKi9cbiAgICBhbHBoYTogMSxcblxuICAgIC8qKlxuICAgICAqIEZyYWdtZW50IHNvdXJjZSBmb3IgdGhlIE11bHRpcGx5IHByb2dyYW1cbiAgICAgKi9cbiAgICBmcmFnbWVudFNvdXJjZToge1xuICAgICAgbXVsdGlwbHk6ICdnbF9GcmFnQ29sb3IucmdiICo9IHVDb2xvci5yZ2I7XFxuJyxcbiAgICAgIHNjcmVlbjogJ2dsX0ZyYWdDb2xvci5yZ2IgPSAxLjAgLSAoMS4wIC0gZ2xfRnJhZ0NvbG9yLnJnYikgKiAoMS4wIC0gdUNvbG9yLnJnYik7XFxuJyxcbiAgICAgIGFkZDogJ2dsX0ZyYWdDb2xvci5yZ2IgKz0gdUNvbG9yLnJnYjtcXG4nLFxuICAgICAgZGlmZjogJ2dsX0ZyYWdDb2xvci5yZ2IgPSBhYnMoZ2xfRnJhZ0NvbG9yLnJnYiAtIHVDb2xvci5yZ2IpO1xcbicsXG4gICAgICBzdWJ0cmFjdDogJ2dsX0ZyYWdDb2xvci5yZ2IgLT0gdUNvbG9yLnJnYjtcXG4nLFxuICAgICAgbGlnaHRlbjogJ2dsX0ZyYWdDb2xvci5yZ2IgPSBtYXgoZ2xfRnJhZ0NvbG9yLnJnYiwgdUNvbG9yLnJnYik7XFxuJyxcbiAgICAgIGRhcmtlbjogJ2dsX0ZyYWdDb2xvci5yZ2IgPSBtaW4oZ2xfRnJhZ0NvbG9yLnJnYiwgdUNvbG9yLnJnYik7XFxuJyxcbiAgICAgIGV4Y2x1c2lvbjogJ2dsX0ZyYWdDb2xvci5yZ2IgKz0gdUNvbG9yLnJnYiAtIDIuMCAqICh1Q29sb3IucmdiICogZ2xfRnJhZ0NvbG9yLnJnYik7XFxuJyxcbiAgICAgIG92ZXJsYXk6ICdpZiAodUNvbG9yLnIgPCAwLjUpIHtcXG4nICtcbiAgICAgICAgICAnZ2xfRnJhZ0NvbG9yLnIgKj0gMi4wICogdUNvbG9yLnI7XFxuJyArXG4gICAgICAgICd9IGVsc2Uge1xcbicgK1xuICAgICAgICAgICdnbF9GcmFnQ29sb3IuciA9IDEuMCAtIDIuMCAqICgxLjAgLSBnbF9GcmFnQ29sb3IucikgKiAoMS4wIC0gdUNvbG9yLnIpO1xcbicgK1xuICAgICAgICAnfVxcbicgK1xuICAgICAgICAnaWYgKHVDb2xvci5nIDwgMC41KSB7XFxuJyArXG4gICAgICAgICAgJ2dsX0ZyYWdDb2xvci5nICo9IDIuMCAqIHVDb2xvci5nO1xcbicgK1xuICAgICAgICAnfSBlbHNlIHtcXG4nICtcbiAgICAgICAgICAnZ2xfRnJhZ0NvbG9yLmcgPSAxLjAgLSAyLjAgKiAoMS4wIC0gZ2xfRnJhZ0NvbG9yLmcpICogKDEuMCAtIHVDb2xvci5nKTtcXG4nICtcbiAgICAgICAgJ31cXG4nICtcbiAgICAgICAgJ2lmICh1Q29sb3IuYiA8IDAuNSkge1xcbicgK1xuICAgICAgICAgICdnbF9GcmFnQ29sb3IuYiAqPSAyLjAgKiB1Q29sb3IuYjtcXG4nICtcbiAgICAgICAgJ30gZWxzZSB7XFxuJyArXG4gICAgICAgICAgJ2dsX0ZyYWdDb2xvci5iID0gMS4wIC0gMi4wICogKDEuMCAtIGdsX0ZyYWdDb2xvci5iKSAqICgxLjAgLSB1Q29sb3IuYik7XFxuJyArXG4gICAgICAgICd9XFxuJyxcbiAgICAgIHRpbnQ6ICdnbF9GcmFnQ29sb3IucmdiICo9ICgxLjAgLSB1Q29sb3IuYSk7XFxuJyArXG4gICAgICAgICdnbF9GcmFnQ29sb3IucmdiICs9IHVDb2xvci5yZ2I7XFxuJyxcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogYnVpbGQgdGhlIGZyYWdtZW50IHNvdXJjZSBmb3IgdGhlIGZpbHRlcnMsIGpvaW5pbmcgdGhlIGNvbW1vbiBwYXJ0IHdpdGhcbiAgICAgKiB0aGUgc3BlY2lmaWMgb25lLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtb2RlIHRoZSBtb2RlIG9mIHRoZSBmaWx0ZXIsIGEga2V5IG9mIHRoaXMuZnJhZ21lbnRTb3VyY2VcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IHRoZSBzb3VyY2UgdG8gYmUgY29tcGlsZWRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGJ1aWxkU291cmNlOiBmdW5jdGlvbihtb2RlKSB7XG4gICAgICByZXR1cm4gJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbicgK1xuICAgICAgICAndW5pZm9ybSB2ZWM0IHVDb2xvcjtcXG4nICtcbiAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICAgJ3ZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVRleHR1cmUsIHZUZXhDb29yZCk7XFxuJyArXG4gICAgICAgICAgJ2dsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbicgK1xuICAgICAgICAgICdpZiAoY29sb3IuYSA+IDAuMCkge1xcbicgK1xuICAgICAgICAgICAgdGhpcy5mcmFnbWVudFNvdXJjZVttb2RlXSArXG4gICAgICAgICAgJ31cXG4nICtcbiAgICAgICAgJ30nO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGNhY2hlZCBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gb3B0aW9ucy5jb250ZXh0IFRoZSBHTCBjb250ZXh0IHVzZWQgZm9yIHJlbmRlcmluZy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucy5wcm9ncmFtQ2FjaGUgQSBtYXAgb2YgY29tcGlsZWQgc2hhZGVyIHByb2dyYW1zLCBrZXllZCBieSBmaWx0ZXIgdHlwZS5cbiAgICAgKi9cbiAgICByZXRyaWV2ZVNoYWRlcjogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdmFyIGNhY2hlS2V5ID0gdGhpcy50eXBlICsgJ18nICsgdGhpcy5tb2RlLCBzaGFkZXJTb3VyY2U7XG4gICAgICBpZiAoIW9wdGlvbnMucHJvZ3JhbUNhY2hlLmhhc093blByb3BlcnR5KGNhY2hlS2V5KSkge1xuICAgICAgICBzaGFkZXJTb3VyY2UgPSB0aGlzLmJ1aWxkU291cmNlKHRoaXMubW9kZSk7XG4gICAgICAgIG9wdGlvbnMucHJvZ3JhbUNhY2hlW2NhY2hlS2V5XSA9IHRoaXMuY3JlYXRlUHJvZ3JhbShvcHRpb25zLmNvbnRleHQsIHNoYWRlclNvdXJjZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gb3B0aW9ucy5wcm9ncmFtQ2FjaGVbY2FjaGVLZXldO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBcHBseSB0aGUgQmxlbmQgb3BlcmF0aW9uIHRvIGEgVWludDhDbGFtcGVkQXJyYXkgcmVwcmVzZW50aW5nIHRoZSBwaXhlbHMgb2YgYW4gaW1hZ2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7SW1hZ2VEYXRhfSBvcHRpb25zLmltYWdlRGF0YSBUaGUgVWludDhDbGFtcGVkQXJyYXkgdG8gYmUgZmlsdGVyZWQuXG4gICAgICovXG4gICAgYXBwbHlUbzJkOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICB2YXIgaW1hZ2VEYXRhID0gb3B0aW9ucy5pbWFnZURhdGEsXG4gICAgICAgICAgZGF0YSA9IGltYWdlRGF0YS5kYXRhLCBpTGVuID0gZGF0YS5sZW5ndGgsXG4gICAgICAgICAgdHIsIHRnLCB0YixcbiAgICAgICAgICByLCBnLCBiLFxuICAgICAgICAgIHNvdXJjZSwgYWxwaGExID0gMSAtIHRoaXMuYWxwaGE7XG5cbiAgICAgIHNvdXJjZSA9IG5ldyBmYWJyaWMuQ29sb3IodGhpcy5jb2xvcikuZ2V0U291cmNlKCk7XG4gICAgICB0ciA9IHNvdXJjZVswXSAqIHRoaXMuYWxwaGE7XG4gICAgICB0ZyA9IHNvdXJjZVsxXSAqIHRoaXMuYWxwaGE7XG4gICAgICB0YiA9IHNvdXJjZVsyXSAqIHRoaXMuYWxwaGE7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaUxlbjsgaSArPSA0KSB7XG5cbiAgICAgICAgciA9IGRhdGFbaV07XG4gICAgICAgIGcgPSBkYXRhW2kgKyAxXTtcbiAgICAgICAgYiA9IGRhdGFbaSArIDJdO1xuXG4gICAgICAgIHN3aXRjaCAodGhpcy5tb2RlKSB7XG4gICAgICAgICAgY2FzZSAnbXVsdGlwbHknOlxuICAgICAgICAgICAgZGF0YVtpXSA9IHIgKiB0ciAvIDI1NTtcbiAgICAgICAgICAgIGRhdGFbaSArIDFdID0gZyAqIHRnIC8gMjU1O1xuICAgICAgICAgICAgZGF0YVtpICsgMl0gPSBiICogdGIgLyAyNTU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdzY3JlZW4nOlxuICAgICAgICAgICAgZGF0YVtpXSA9IDI1NSAtICgyNTUgLSByKSAqICgyNTUgLSB0cikgLyAyNTU7XG4gICAgICAgICAgICBkYXRhW2kgKyAxXSA9IDI1NSAtICgyNTUgLSBnKSAqICgyNTUgLSB0ZykgLyAyNTU7XG4gICAgICAgICAgICBkYXRhW2kgKyAyXSA9IDI1NSAtICgyNTUgLSBiKSAqICgyNTUgLSB0YikgLyAyNTU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdhZGQnOlxuICAgICAgICAgICAgZGF0YVtpXSA9IHIgKyB0cjtcbiAgICAgICAgICAgIGRhdGFbaSArIDFdID0gZyArIHRnO1xuICAgICAgICAgICAgZGF0YVtpICsgMl0gPSBiICsgdGI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdkaWZmJzpcbiAgICAgICAgICBjYXNlICdkaWZmZXJlbmNlJzpcbiAgICAgICAgICAgIGRhdGFbaV0gPSBNYXRoLmFicyhyIC0gdHIpO1xuICAgICAgICAgICAgZGF0YVtpICsgMV0gPSBNYXRoLmFicyhnIC0gdGcpO1xuICAgICAgICAgICAgZGF0YVtpICsgMl0gPSBNYXRoLmFicyhiIC0gdGIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnc3VidHJhY3QnOlxuICAgICAgICAgICAgZGF0YVtpXSA9IHIgLSB0cjtcbiAgICAgICAgICAgIGRhdGFbaSArIDFdID0gZyAtIHRnO1xuICAgICAgICAgICAgZGF0YVtpICsgMl0gPSBiIC0gdGI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdkYXJrZW4nOlxuICAgICAgICAgICAgZGF0YVtpXSA9IE1hdGgubWluKHIsIHRyKTtcbiAgICAgICAgICAgIGRhdGFbaSArIDFdID0gTWF0aC5taW4oZywgdGcpO1xuICAgICAgICAgICAgZGF0YVtpICsgMl0gPSBNYXRoLm1pbihiLCB0Yik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdsaWdodGVuJzpcbiAgICAgICAgICAgIGRhdGFbaV0gPSBNYXRoLm1heChyLCB0cik7XG4gICAgICAgICAgICBkYXRhW2kgKyAxXSA9IE1hdGgubWF4KGcsIHRnKTtcbiAgICAgICAgICAgIGRhdGFbaSArIDJdID0gTWF0aC5tYXgoYiwgdGIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnb3ZlcmxheSc6XG4gICAgICAgICAgICBkYXRhW2ldID0gdHIgPCAxMjggPyAoMiAqIHIgKiB0ciAvIDI1NSkgOiAoMjU1IC0gMiAqICgyNTUgLSByKSAqICgyNTUgLSB0cikgLyAyNTUpO1xuICAgICAgICAgICAgZGF0YVtpICsgMV0gPSB0ZyA8IDEyOCA/ICgyICogZyAqIHRnIC8gMjU1KSA6ICgyNTUgLSAyICogKDI1NSAtIGcpICogKDI1NSAtIHRnKSAvIDI1NSk7XG4gICAgICAgICAgICBkYXRhW2kgKyAyXSA9IHRiIDwgMTI4ID8gKDIgKiBiICogdGIgLyAyNTUpIDogKDI1NSAtIDIgKiAoMjU1IC0gYikgKiAoMjU1IC0gdGIpIC8gMjU1KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2V4Y2x1c2lvbic6XG4gICAgICAgICAgICBkYXRhW2ldID0gdHIgKyByIC0gKCgyICogdHIgKiByKSAvIDI1NSk7XG4gICAgICAgICAgICBkYXRhW2kgKyAxXSA9IHRnICsgZyAtICgoMiAqIHRnICogZykgLyAyNTUpO1xuICAgICAgICAgICAgZGF0YVtpICsgMl0gPSB0YiArIGIgLSAoKDIgKiB0YiAqIGIpIC8gMjU1KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3RpbnQnOlxuICAgICAgICAgICAgZGF0YVtpXSA9IHRyICsgciAqIGFscGhhMTtcbiAgICAgICAgICAgIGRhdGFbaSArIDFdID0gdGcgKyBnICogYWxwaGExO1xuICAgICAgICAgICAgZGF0YVtpICsgMl0gPSB0YiArIGIgKiBhbHBoYTE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIFdlYkdMIHVuaWZvcm0gbG9jYXRpb25zIGZvciB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgR0wgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7V2ViR0xTaGFkZXJQcm9ncmFtfSBwcm9ncmFtIFRoaXMgZmlsdGVyJ3MgY29tcGlsZWQgc2hhZGVyIHByb2dyYW0uXG4gICAgICovXG4gICAgZ2V0VW5pZm9ybUxvY2F0aW9uczogZnVuY3Rpb24oZ2wsIHByb2dyYW0pIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVDb2xvcjogZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1Q29sb3InKSxcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNlbmQgZGF0YSBmcm9tIHRoaXMgZmlsdGVyIHRvIGl0cyBzaGFkZXIgcHJvZ3JhbSdzIHVuaWZvcm1zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHVuaWZvcm1Mb2NhdGlvbnMgQSBtYXAgb2Ygc3RyaW5nIHVuaWZvcm0gbmFtZXMgdG8gV2ViR0xVbmlmb3JtTG9jYXRpb24gb2JqZWN0c1xuICAgICAqL1xuICAgIHNlbmRVbmlmb3JtRGF0YTogZnVuY3Rpb24oZ2wsIHVuaWZvcm1Mb2NhdGlvbnMpIHtcbiAgICAgIHZhciBzb3VyY2UgPSBuZXcgZmFicmljLkNvbG9yKHRoaXMuY29sb3IpLmdldFNvdXJjZSgpO1xuICAgICAgc291cmNlWzBdID0gdGhpcy5hbHBoYSAqIHNvdXJjZVswXSAvIDI1NTtcbiAgICAgIHNvdXJjZVsxXSA9IHRoaXMuYWxwaGEgKiBzb3VyY2VbMV0gLyAyNTU7XG4gICAgICBzb3VyY2VbMl0gPSB0aGlzLmFscGhhICogc291cmNlWzJdIC8gMjU1O1xuICAgICAgc291cmNlWzNdID0gdGhpcy5hbHBoYTtcbiAgICAgIGdsLnVuaWZvcm00ZnYodW5pZm9ybUxvY2F0aW9ucy51Q29sb3IsIHNvdXJjZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBPYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b09iamVjdDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgIGNvbG9yOiB0aGlzLmNvbG9yLFxuICAgICAgICBtb2RlOiB0aGlzLm1vZGUsXG4gICAgICAgIGFscGhhOiB0aGlzLmFscGhhXG4gICAgICB9O1xuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgZmlsdGVyIGluc3RhbmNlIGZyb20gYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uXG4gICAqIEBzdGF0aWNcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY3JlYXRlIGFuIGluc3RhbmNlIGZyb21cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2NhbGxiYWNrXSB0byBiZSBpbnZva2VkIGFmdGVyIGZpbHRlciBjcmVhdGlvblxuICAgKiBAcmV0dXJuIHtmYWJyaWMuSW1hZ2UuZmlsdGVycy5CbGVuZENvbG9yfSBJbnN0YW5jZSBvZiBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CbGVuZENvbG9yXG4gICAqL1xuICBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CbGVuZENvbG9yLmZyb21PYmplY3QgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyLmZyb21PYmplY3Q7XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljID0gZ2xvYmFsLmZhYnJpYyxcbiAgICAgIGZpbHRlcnMgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycyxcbiAgICAgIGNyZWF0ZUNsYXNzID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3M7XG5cbiAgLyoqXG4gICAqIEltYWdlIEJsZW5kIGZpbHRlciBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkltYWdlLmZpbHRlci5CbGVuZEltYWdlXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuSW1hZ2UuZmlsdGVyc1xuICAgKiBAZXh0ZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyXG4gICAqIEBleGFtcGxlXG4gICAqIHZhciBmaWx0ZXIgPSBuZXcgZmFicmljLkltYWdlLmZpbHRlcnMuQmxlbmRDb2xvcih7XG4gICAqICBjb2xvcjogJyMwMDAnLFxuICAgKiAgbW9kZTogJ211bHRpcGx5J1xuICAgKiB9KTtcbiAgICpcbiAgICogdmFyIGZpbHRlciA9IG5ldyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CbGVuZEltYWdlKHtcbiAgICogIGltYWdlOiBmYWJyaWNJbWFnZU9iamVjdCxcbiAgICogIG1vZGU6ICdtdWx0aXBseScsXG4gICAqICBhbHBoYTogMC41XG4gICAqIH0pO1xuICAgKiBvYmplY3QuZmlsdGVycy5wdXNoKGZpbHRlcik7XG4gICAqIG9iamVjdC5hcHBseUZpbHRlcnMoKTtcbiAgICogY2FudmFzLnJlbmRlckFsbCgpO1xuICAgKi9cblxuICBmaWx0ZXJzLkJsZW5kSW1hZ2UgPSBjcmVhdGVDbGFzcyhmaWx0ZXJzLkJhc2VGaWx0ZXIsIC8qKiBAbGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuQmxlbmRJbWFnZS5wcm90b3R5cGUgKi8ge1xuICAgIHR5cGU6ICdCbGVuZEltYWdlJyxcblxuICAgIC8qKlxuICAgICAqIENvbG9yIHRvIG1ha2UgdGhlIGJsZW5kIG9wZXJhdGlvbiB3aXRoLiBkZWZhdWx0IHRvIGEgcmVkZGlzaCBjb2xvciBzaW5jZSBibGFjayBvciB3aGl0ZVxuICAgICAqIGdpdmVzIGFsd2F5cyBzdHJvbmcgcmVzdWx0LlxuICAgICAqKi9cbiAgICBpbWFnZTogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIEJsZW5kIG1vZGUgZm9yIHRoZSBmaWx0ZXIgKG9uZSBvZiBcIm11bHRpcGx5XCIsIFwibWFza1wiKVxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICoqL1xuICAgIG1vZGU6ICdtdWx0aXBseScsXG5cbiAgICAvKipcbiAgICAgKiBhbHBoYSB2YWx1ZS4gcmVwcmVzZW50IHRoZSBzdHJlbmd0aCBvZiB0aGUgYmxlbmQgaW1hZ2Ugb3BlcmF0aW9uLlxuICAgICAqIG5vdCBpbXBsZW1lbnRlZC5cbiAgICAgKiovXG4gICAgYWxwaGE6IDEsXG5cbiAgICB2ZXJ0ZXhTb3VyY2U6ICdhdHRyaWJ1dGUgdmVjMiBhUG9zaXRpb247XFxuJyArXG4gICAgICAndmFyeWluZyB2ZWMyIHZUZXhDb29yZDtcXG4nICtcbiAgICAgICd2YXJ5aW5nIHZlYzIgdlRleENvb3JkMjtcXG4nICtcbiAgICAgICd1bmlmb3JtIG1hdDMgdVRyYW5zZm9ybU1hdHJpeDtcXG4nICtcbiAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICd2VGV4Q29vcmQgPSBhUG9zaXRpb247XFxuJyArXG4gICAgICAgICd2VGV4Q29vcmQyID0gKHVUcmFuc2Zvcm1NYXRyaXggKiB2ZWMzKGFQb3NpdGlvbiwgMS4wKSkueHk7XFxuJyArXG4gICAgICAgICdnbF9Qb3NpdGlvbiA9IHZlYzQoYVBvc2l0aW9uICogMi4wIC0gMS4wLCAwLjAsIDEuMCk7XFxuJyArXG4gICAgICAnfScsXG5cbiAgICAvKipcbiAgICAgKiBGcmFnbWVudCBzb3VyY2UgZm9yIHRoZSBNdWx0aXBseSBwcm9ncmFtXG4gICAgICovXG4gICAgZnJhZ21lbnRTb3VyY2U6IHtcbiAgICAgIG11bHRpcGx5OiAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgICAndW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIHNhbXBsZXIyRCB1SW1hZ2U7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIHZlYzQgdUNvbG9yO1xcbicgK1xuICAgICAgICAndmFyeWluZyB2ZWMyIHZUZXhDb29yZDtcXG4nICtcbiAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQyO1xcbicgK1xuICAgICAgICAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAgICd2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQpO1xcbicgK1xuICAgICAgICAgICd2ZWM0IGNvbG9yMiA9IHRleHR1cmUyRCh1SW1hZ2UsIHZUZXhDb29yZDIpO1xcbicgK1xuICAgICAgICAgICdjb2xvci5yZ2JhICo9IGNvbG9yMi5yZ2JhO1xcbicgK1xuICAgICAgICAgICdnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG4nICtcbiAgICAgICAgJ30nLFxuICAgICAgbWFzazogJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBzYW1wbGVyMkQgdUltYWdlO1xcbicgK1xuICAgICAgICAndW5pZm9ybSB2ZWM0IHVDb2xvcjtcXG4nICtcbiAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAgICd2YXJ5aW5nIHZlYzIgdlRleENvb3JkMjtcXG4nICtcbiAgICAgICAgJ3ZvaWQgbWFpbigpIHtcXG4nICtcbiAgICAgICAgICAndmVjNCBjb2xvciA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKTtcXG4nICtcbiAgICAgICAgICAndmVjNCBjb2xvcjIgPSB0ZXh0dXJlMkQodUltYWdlLCB2VGV4Q29vcmQyKTtcXG4nICtcbiAgICAgICAgICAnY29sb3IuYSA9IGNvbG9yMi5hO1xcbicgK1xuICAgICAgICAgICdnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG4nICtcbiAgICAgICAgJ30nLFxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGNhY2hlZCBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gb3B0aW9ucy5jb250ZXh0IFRoZSBHTCBjb250ZXh0IHVzZWQgZm9yIHJlbmRlcmluZy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucy5wcm9ncmFtQ2FjaGUgQSBtYXAgb2YgY29tcGlsZWQgc2hhZGVyIHByb2dyYW1zLCBrZXllZCBieSBmaWx0ZXIgdHlwZS5cbiAgICAgKi9cbiAgICByZXRyaWV2ZVNoYWRlcjogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdmFyIGNhY2hlS2V5ID0gdGhpcy50eXBlICsgJ18nICsgdGhpcy5tb2RlO1xuICAgICAgdmFyIHNoYWRlclNvdXJjZSA9IHRoaXMuZnJhZ21lbnRTb3VyY2VbdGhpcy5tb2RlXTtcbiAgICAgIGlmICghb3B0aW9ucy5wcm9ncmFtQ2FjaGUuaGFzT3duUHJvcGVydHkoY2FjaGVLZXkpKSB7XG4gICAgICAgIG9wdGlvbnMucHJvZ3JhbUNhY2hlW2NhY2hlS2V5XSA9IHRoaXMuY3JlYXRlUHJvZ3JhbShvcHRpb25zLmNvbnRleHQsIHNoYWRlclNvdXJjZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gb3B0aW9ucy5wcm9ncmFtQ2FjaGVbY2FjaGVLZXldO1xuICAgIH0sXG5cbiAgICBhcHBseVRvV2ViR0w6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIC8vIGxvYWQgdGV4dHVyZSB0byBibGVuZC5cbiAgICAgIHZhciBnbCA9IG9wdGlvbnMuY29udGV4dCxcbiAgICAgICAgICB0ZXh0dXJlID0gdGhpcy5jcmVhdGVUZXh0dXJlKG9wdGlvbnMuZmlsdGVyQmFja2VuZCwgdGhpcy5pbWFnZSk7XG4gICAgICB0aGlzLmJpbmRBZGRpdGlvbmFsVGV4dHVyZShnbCwgdGV4dHVyZSwgZ2wuVEVYVFVSRTEpO1xuICAgICAgdGhpcy5jYWxsU3VwZXIoJ2FwcGx5VG9XZWJHTCcsIG9wdGlvbnMpO1xuICAgICAgdGhpcy51bmJpbmRBZGRpdGlvbmFsVGV4dHVyZShnbCwgZ2wuVEVYVFVSRTEpO1xuICAgIH0sXG5cbiAgICBjcmVhdGVUZXh0dXJlOiBmdW5jdGlvbihiYWNrZW5kLCBpbWFnZSkge1xuICAgICAgcmV0dXJuIGJhY2tlbmQuZ2V0Q2FjaGVkVGV4dHVyZShpbWFnZS5jYWNoZUtleSwgaW1hZ2UuX2VsZW1lbnQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgYSB0cmFuc2Zvcm1NYXRyaXggdG8gYWRhcHQgdGhlIGltYWdlIHRvIGJsZW5kIG92ZXJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBvcHRpb25zLmNvbnRleHQgVGhlIEdMIGNvbnRleHQgdXNlZCBmb3IgcmVuZGVyaW5nLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLnByb2dyYW1DYWNoZSBBIG1hcCBvZiBjb21waWxlZCBzaGFkZXIgcHJvZ3JhbXMsIGtleWVkIGJ5IGZpbHRlciB0eXBlLlxuICAgICAqL1xuICAgIGNhbGN1bGF0ZU1hdHJpeDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaW1hZ2UgPSB0aGlzLmltYWdlLFxuICAgICAgICAgIHdpZHRoID0gaW1hZ2UuX2VsZW1lbnQud2lkdGgsXG4gICAgICAgICAgaGVpZ2h0ID0gaW1hZ2UuX2VsZW1lbnQuaGVpZ2h0O1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgMSAvIGltYWdlLnNjYWxlWCwgMCwgMCxcbiAgICAgICAgMCwgMSAvIGltYWdlLnNjYWxlWSwgMCxcbiAgICAgICAgLWltYWdlLmxlZnQgLyB3aWR0aCwgLWltYWdlLnRvcCAvIGhlaWdodCwgMVxuICAgICAgXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQXBwbHkgdGhlIEJsZW5kIG9wZXJhdGlvbiB0byBhIFVpbnQ4Q2xhbXBlZEFycmF5IHJlcHJlc2VudGluZyB0aGUgcGl4ZWxzIG9mIGFuIGltYWdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge0ltYWdlRGF0YX0gb3B0aW9ucy5pbWFnZURhdGEgVGhlIFVpbnQ4Q2xhbXBlZEFycmF5IHRvIGJlIGZpbHRlcmVkLlxuICAgICAqL1xuICAgIGFwcGx5VG8yZDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdmFyIGltYWdlRGF0YSA9IG9wdGlvbnMuaW1hZ2VEYXRhLFxuICAgICAgICAgIHJlc291cmNlcyA9IG9wdGlvbnMuZmlsdGVyQmFja2VuZC5yZXNvdXJjZXMsXG4gICAgICAgICAgZGF0YSA9IGltYWdlRGF0YS5kYXRhLCBpTGVuID0gZGF0YS5sZW5ndGgsXG4gICAgICAgICAgd2lkdGggPSBpbWFnZURhdGEud2lkdGgsXG4gICAgICAgICAgaGVpZ2h0ID0gaW1hZ2VEYXRhLmhlaWdodCxcbiAgICAgICAgICB0ciwgdGcsIHRiLCB0YSxcbiAgICAgICAgICByLCBnLCBiLCBhLFxuICAgICAgICAgIGNhbnZhczEsIGNvbnRleHQsIGltYWdlID0gdGhpcy5pbWFnZSwgYmxlbmREYXRhO1xuXG4gICAgICBpZiAoIXJlc291cmNlcy5ibGVuZEltYWdlKSB7XG4gICAgICAgIHJlc291cmNlcy5ibGVuZEltYWdlID0gZmFicmljLnV0aWwuY3JlYXRlQ2FudmFzRWxlbWVudCgpO1xuICAgICAgfVxuICAgICAgY2FudmFzMSA9IHJlc291cmNlcy5ibGVuZEltYWdlO1xuICAgICAgY29udGV4dCA9IGNhbnZhczEuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgIGlmIChjYW52YXMxLndpZHRoICE9PSB3aWR0aCB8fCBjYW52YXMxLmhlaWdodCAhPT0gaGVpZ2h0KSB7XG4gICAgICAgIGNhbnZhczEud2lkdGggPSB3aWR0aDtcbiAgICAgICAgY2FudmFzMS5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICB9XG4gICAgICBjb250ZXh0LnNldFRyYW5zZm9ybShpbWFnZS5zY2FsZVgsIDAsIDAsIGltYWdlLnNjYWxlWSwgaW1hZ2UubGVmdCwgaW1hZ2UudG9wKTtcbiAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGltYWdlLl9lbGVtZW50LCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgIGJsZW5kRGF0YSA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpLmRhdGE7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlMZW47IGkgKz0gNCkge1xuXG4gICAgICAgIHIgPSBkYXRhW2ldO1xuICAgICAgICBnID0gZGF0YVtpICsgMV07XG4gICAgICAgIGIgPSBkYXRhW2kgKyAyXTtcbiAgICAgICAgYSA9IGRhdGFbaSArIDNdO1xuXG4gICAgICAgIHRyID0gYmxlbmREYXRhW2ldO1xuICAgICAgICB0ZyA9IGJsZW5kRGF0YVtpICsgMV07XG4gICAgICAgIHRiID0gYmxlbmREYXRhW2kgKyAyXTtcbiAgICAgICAgdGEgPSBibGVuZERhdGFbaSArIDNdO1xuXG4gICAgICAgIHN3aXRjaCAodGhpcy5tb2RlKSB7XG4gICAgICAgICAgY2FzZSAnbXVsdGlwbHknOlxuICAgICAgICAgICAgZGF0YVtpXSA9IHIgKiB0ciAvIDI1NTtcbiAgICAgICAgICAgIGRhdGFbaSArIDFdID0gZyAqIHRnIC8gMjU1O1xuICAgICAgICAgICAgZGF0YVtpICsgMl0gPSBiICogdGIgLyAyNTU7XG4gICAgICAgICAgICBkYXRhW2kgKyAzXSA9IGEgKiB0YSAvIDI1NTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ21hc2snOlxuICAgICAgICAgICAgZGF0YVtpICsgM10gPSB0YTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiBXZWJHTCB1bmlmb3JtIGxvY2F0aW9ucyBmb3IgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge1dlYkdMU2hhZGVyUHJvZ3JhbX0gcHJvZ3JhbSBUaGlzIGZpbHRlcidzIGNvbXBpbGVkIHNoYWRlciBwcm9ncmFtLlxuICAgICAqL1xuICAgIGdldFVuaWZvcm1Mb2NhdGlvbnM6IGZ1bmN0aW9uKGdsLCBwcm9ncmFtKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB1VHJhbnNmb3JtTWF0cml4OiBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VUcmFuc2Zvcm1NYXRyaXgnKSxcbiAgICAgICAgdUltYWdlOiBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VJbWFnZScpLFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2VuZCBkYXRhIGZyb20gdGhpcyBmaWx0ZXIgdG8gaXRzIHNoYWRlciBwcm9ncmFtJ3MgdW5pZm9ybXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdW5pZm9ybUxvY2F0aW9ucyBBIG1hcCBvZiBzdHJpbmcgdW5pZm9ybSBuYW1lcyB0byBXZWJHTFVuaWZvcm1Mb2NhdGlvbiBvYmplY3RzXG4gICAgICovXG4gICAgc2VuZFVuaWZvcm1EYXRhOiBmdW5jdGlvbihnbCwgdW5pZm9ybUxvY2F0aW9ucykge1xuICAgICAgdmFyIG1hdHJpeCA9IHRoaXMuY2FsY3VsYXRlTWF0cml4KCk7XG4gICAgICBnbC51bmlmb3JtMWkodW5pZm9ybUxvY2F0aW9ucy51SW1hZ2UsIDEpOyAvLyB0ZXh0dXJlIHVuaXQgMS5cbiAgICAgIGdsLnVuaWZvcm1NYXRyaXgzZnYodW5pZm9ybUxvY2F0aW9ucy51VHJhbnNmb3JtTWF0cml4LCBmYWxzZSwgbWF0cml4KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IE9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRvT2JqZWN0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgaW1hZ2U6IHRoaXMuaW1hZ2UgJiYgdGhpcy5pbWFnZS50b09iamVjdCgpLFxuICAgICAgICBtb2RlOiB0aGlzLm1vZGUsXG4gICAgICAgIGFscGhhOiB0aGlzLmFscGhhXG4gICAgICB9O1xuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgZmlsdGVyIGluc3RhbmNlIGZyb20gYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uXG4gICAqIEBzdGF0aWNcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY3JlYXRlIGFuIGluc3RhbmNlIGZyb21cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgdG8gYmUgaW52b2tlZCBhZnRlciBmaWx0ZXIgY3JlYXRpb25cbiAgICogQHJldHVybiB7ZmFicmljLkltYWdlLmZpbHRlcnMuQmxlbmRJbWFnZX0gSW5zdGFuY2Ugb2YgZmFicmljLkltYWdlLmZpbHRlcnMuQmxlbmRJbWFnZVxuICAgKi9cbiAgZmFicmljLkltYWdlLmZpbHRlcnMuQmxlbmRJbWFnZS5mcm9tT2JqZWN0ID0gZnVuY3Rpb24ob2JqZWN0LCBjYWxsYmFjaykge1xuICAgIGZhYnJpYy5JbWFnZS5mcm9tT2JqZWN0KG9iamVjdC5pbWFnZSwgZnVuY3Rpb24oaW1hZ2UpIHtcbiAgICAgIHZhciBvcHRpb25zID0gZmFicmljLnV0aWwub2JqZWN0LmNsb25lKG9iamVjdCk7XG4gICAgICBvcHRpb25zLmltYWdlID0gaW1hZ2U7XG4gICAgICBjYWxsYmFjayhuZXcgZmFicmljLkltYWdlLmZpbHRlcnMuQmxlbmRJbWFnZShvcHRpb25zKSk7XG4gICAgfSk7XG4gIH07XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBmYWJyaWMgID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSksIHBvdyA9IE1hdGgucG93LCBmbG9vciA9IE1hdGguZmxvb3IsXG4gICAgICBzcXJ0ID0gTWF0aC5zcXJ0LCBhYnMgPSBNYXRoLmFicywgcm91bmQgPSBNYXRoLnJvdW5kLCBzaW4gPSBNYXRoLnNpbixcbiAgICAgIGNlaWwgPSBNYXRoLmNlaWwsXG4gICAgICBmaWx0ZXJzID0gZmFicmljLkltYWdlLmZpbHRlcnMsXG4gICAgICBjcmVhdGVDbGFzcyA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzO1xuXG4gIC8qKlxuICAgKiBSZXNpemUgaW1hZ2UgZmlsdGVyIGNsYXNzXG4gICAqIEBjbGFzcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5SZXNpemVcbiAgICogQG1lbWJlck9mIGZhYnJpYy5JbWFnZS5maWx0ZXJzXG4gICAqIEBleHRlbmRzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXJcbiAgICogQHNlZSB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9pbWFnZS1maWx0ZXJzfEltYWdlRmlsdGVycyBkZW1vfVxuICAgKiBAZXhhbXBsZVxuICAgKiB2YXIgZmlsdGVyID0gbmV3IGZhYnJpYy5JbWFnZS5maWx0ZXJzLlJlc2l6ZSgpO1xuICAgKiBvYmplY3QuZmlsdGVycy5wdXNoKGZpbHRlcik7XG4gICAqIG9iamVjdC5hcHBseUZpbHRlcnMoY2FudmFzLnJlbmRlckFsbC5iaW5kKGNhbnZhcykpO1xuICAgKi9cbiAgZmlsdGVycy5SZXNpemUgPSBjcmVhdGVDbGFzcyhmaWx0ZXJzLkJhc2VGaWx0ZXIsIC8qKiBAbGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuUmVzaXplLnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgdHlwZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0eXBlOiAnUmVzaXplJyxcblxuICAgIC8qKlxuICAgICAqIFJlc2l6ZSB0eXBlXG4gICAgICogZm9yIHdlYmdsIHJlc2l6ZVR5cGUgaXMganVzdCBsYW5jem9zLCBmb3IgY2FudmFzMmQgY2FuIGJlOlxuICAgICAqIGJpbGluZWFyLCBoZXJtaXRlLCBzbGljZUhhY2ssIGxhbmN6b3MuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHJlc2l6ZVR5cGVcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHJlc2l6ZVR5cGU6ICdoZXJtaXRlJyxcblxuICAgIC8qKlxuICAgICAqIFNjYWxlIGZhY3RvciBmb3IgcmVzaXppbmcsIHggYXhpc1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZVhcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHNjYWxlWDogMSxcblxuICAgIC8qKlxuICAgICAqIFNjYWxlIGZhY3RvciBmb3IgcmVzaXppbmcsIHkgYXhpc1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZVlcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHNjYWxlWTogMSxcblxuICAgIC8qKlxuICAgICAqIExhbmN6b3NMb2JlcyBwYXJhbWV0ZXIgZm9yIGxhbmN6b3MgZmlsdGVyLCB2YWxpZCBmb3IgcmVzaXplVHlwZSBsYW5jem9zXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxhbmN6b3NMb2Jlc1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgbGFuY3pvc0xvYmVzOiAzLFxuXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gV2ViR0wgdW5pZm9ybSBsb2NhdGlvbnMgZm9yIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtXZWJHTFNoYWRlclByb2dyYW19IHByb2dyYW0gVGhpcyBmaWx0ZXIncyBjb21waWxlZCBzaGFkZXIgcHJvZ3JhbS5cbiAgICAgKi9cbiAgICBnZXRVbmlmb3JtTG9jYXRpb25zOiBmdW5jdGlvbihnbCwgcHJvZ3JhbSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdURlbHRhOiBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VEZWx0YScpLFxuICAgICAgICB1VGFwczogZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1VGFwcycpLFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2VuZCBkYXRhIGZyb20gdGhpcyBmaWx0ZXIgdG8gaXRzIHNoYWRlciBwcm9ncmFtJ3MgdW5pZm9ybXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdW5pZm9ybUxvY2F0aW9ucyBBIG1hcCBvZiBzdHJpbmcgdW5pZm9ybSBuYW1lcyB0byBXZWJHTFVuaWZvcm1Mb2NhdGlvbiBvYmplY3RzXG4gICAgICovXG4gICAgc2VuZFVuaWZvcm1EYXRhOiBmdW5jdGlvbihnbCwgdW5pZm9ybUxvY2F0aW9ucykge1xuICAgICAgZ2wudW5pZm9ybTJmdih1bmlmb3JtTG9jYXRpb25zLnVEZWx0YSwgdGhpcy5ob3Jpem9udGFsID8gWzEgLyB0aGlzLndpZHRoLCAwXSA6IFswLCAxIC8gdGhpcy5oZWlnaHRdKTtcbiAgICAgIGdsLnVuaWZvcm0xZnYodW5pZm9ybUxvY2F0aW9ucy51VGFwcywgdGhpcy50YXBzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBjYWNoZWQgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IG9wdGlvbnMuY29udGV4dCBUaGUgR0wgY29udGV4dCB1c2VkIGZvciByZW5kZXJpbmcuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMucHJvZ3JhbUNhY2hlIEEgbWFwIG9mIGNvbXBpbGVkIHNoYWRlciBwcm9ncmFtcywga2V5ZWQgYnkgZmlsdGVyIHR5cGUuXG4gICAgICovXG4gICAgcmV0cmlldmVTaGFkZXI6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBmaWx0ZXJXaW5kb3cgPSB0aGlzLmdldEZpbHRlcldpbmRvdygpLCBjYWNoZUtleSA9IHRoaXMudHlwZSArICdfJyArIGZpbHRlcldpbmRvdztcbiAgICAgIGlmICghb3B0aW9ucy5wcm9ncmFtQ2FjaGUuaGFzT3duUHJvcGVydHkoY2FjaGVLZXkpKSB7XG4gICAgICAgIHZhciBmcmFnbWVudFNoYWRlciA9IHRoaXMuZ2VuZXJhdGVTaGFkZXIoZmlsdGVyV2luZG93KTtcbiAgICAgICAgb3B0aW9ucy5wcm9ncmFtQ2FjaGVbY2FjaGVLZXldID0gdGhpcy5jcmVhdGVQcm9ncmFtKG9wdGlvbnMuY29udGV4dCwgZnJhZ21lbnRTaGFkZXIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9wdGlvbnMucHJvZ3JhbUNhY2hlW2NhY2hlS2V5XTtcbiAgICB9LFxuXG4gICAgZ2V0RmlsdGVyV2luZG93OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzY2FsZSA9IHRoaXMudGVtcFNjYWxlO1xuICAgICAgcmV0dXJuIE1hdGguY2VpbCh0aGlzLmxhbmN6b3NMb2JlcyAvIHNjYWxlKTtcbiAgICB9LFxuXG4gICAgZ2V0VGFwczogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbG9iZUZ1bmN0aW9uID0gdGhpcy5sYW5jem9zQ3JlYXRlKHRoaXMubGFuY3pvc0xvYmVzKSwgc2NhbGUgPSB0aGlzLnRlbXBTY2FsZSxcbiAgICAgICAgICBmaWx0ZXJXaW5kb3cgPSB0aGlzLmdldEZpbHRlcldpbmRvdygpLCB0YXBzID0gbmV3IEFycmF5KGZpbHRlcldpbmRvdyk7XG4gICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBmaWx0ZXJXaW5kb3c7IGkrKykge1xuICAgICAgICB0YXBzW2kgLSAxXSA9IGxvYmVGdW5jdGlvbihpICogc2NhbGUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRhcHM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIHZlcnRleCBhbmQgc2hhZGVyIHNvdXJjZXMgZnJvbSB0aGUgbmVjZXNzYXJ5IHN0ZXBzIG51bWJlcnNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZmlsdGVyV2luZG93XG4gICAgICovXG4gICAgZ2VuZXJhdGVTaGFkZXI6IGZ1bmN0aW9uKGZpbHRlcldpbmRvdykge1xuICAgICAgdmFyIG9mZnNldHMgPSBuZXcgQXJyYXkoZmlsdGVyV2luZG93KSxcbiAgICAgICAgICBmcmFnbWVudFNoYWRlciA9IHRoaXMuZnJhZ21lbnRTb3VyY2VUT1AsIGZpbHRlcldpbmRvdztcblxuICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gZmlsdGVyV2luZG93OyBpKyspIHtcbiAgICAgICAgb2Zmc2V0c1tpIC0gMV0gPSBpICsgJy4wICogdURlbHRhJztcbiAgICAgIH1cblxuICAgICAgZnJhZ21lbnRTaGFkZXIgKz0gJ3VuaWZvcm0gZmxvYXQgdVRhcHNbJyArIGZpbHRlcldpbmRvdyArICddO1xcbic7XG4gICAgICBmcmFnbWVudFNoYWRlciArPSAndm9pZCBtYWluKCkge1xcbic7XG4gICAgICBmcmFnbWVudFNoYWRlciArPSAnICB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQpO1xcbic7XG4gICAgICBmcmFnbWVudFNoYWRlciArPSAnICBmbG9hdCBzdW0gPSAxLjA7XFxuJztcblxuICAgICAgb2Zmc2V0cy5mb3JFYWNoKGZ1bmN0aW9uKG9mZnNldCwgaSkge1xuICAgICAgICBmcmFnbWVudFNoYWRlciArPSAnICBjb2xvciArPSB0ZXh0dXJlMkQodVRleHR1cmUsIHZUZXhDb29yZCArICcgKyBvZmZzZXQgKyAnKSAqIHVUYXBzWycgKyBpICsgJ107XFxuJztcbiAgICAgICAgZnJhZ21lbnRTaGFkZXIgKz0gJyAgY29sb3IgKz0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQgLSAnICsgb2Zmc2V0ICsgJykgKiB1VGFwc1snICsgaSArICddO1xcbic7XG4gICAgICAgIGZyYWdtZW50U2hhZGVyICs9ICcgIHN1bSArPSAyLjAgKiB1VGFwc1snICsgaSArICddO1xcbic7XG4gICAgICB9KTtcbiAgICAgIGZyYWdtZW50U2hhZGVyICs9ICcgIGdsX0ZyYWdDb2xvciA9IGNvbG9yIC8gc3VtO1xcbic7XG4gICAgICBmcmFnbWVudFNoYWRlciArPSAnfSc7XG4gICAgICByZXR1cm4gZnJhZ21lbnRTaGFkZXI7XG4gICAgfSxcblxuICAgIGZyYWdtZW50U291cmNlVE9QOiAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbicgK1xuICAgICAgJ3VuaWZvcm0gdmVjMiB1RGVsdGE7XFxuJyArXG4gICAgICAndmFyeWluZyB2ZWMyIHZUZXhDb29yZDtcXG4nLFxuXG4gICAgLyoqXG4gICAgICogQXBwbHkgdGhlIHJlc2l6ZSBmaWx0ZXIgdG8gdGhlIGltYWdlXG4gICAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRvIHVzZSBXZWJHTCBvciBDYW52YXMyRCBiYXNlZCBvbiB0aGUgb3B0aW9ucy53ZWJnbCBmbGFnLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gb3B0aW9ucy5wYXNzZXMgVGhlIG51bWJlciBvZiBmaWx0ZXJzIHJlbWFpbmluZyB0byBiZSBleGVjdXRlZFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gb3B0aW9ucy53ZWJnbCBXaGV0aGVyIHRvIHVzZSB3ZWJnbCB0byByZW5kZXIgdGhlIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge1dlYkdMVGV4dHVyZX0gb3B0aW9ucy5zb3VyY2VUZXh0dXJlIFRoZSB0ZXh0dXJlIHNldHVwIGFzIHRoZSBzb3VyY2UgdG8gYmUgZmlsdGVyZWQuXG4gICAgICogQHBhcmFtIHtXZWJHTFRleHR1cmV9IG9wdGlvbnMudGFyZ2V0VGV4dHVyZSBUaGUgdGV4dHVyZSB3aGVyZSBmaWx0ZXJlZCBvdXRwdXQgc2hvdWxkIGJlIGRyYXduLlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBvcHRpb25zLmNvbnRleHQgVGhlIEdMIGNvbnRleHQgdXNlZCBmb3IgcmVuZGVyaW5nLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLnByb2dyYW1DYWNoZSBBIG1hcCBvZiBjb21waWxlZCBzaGFkZXIgcHJvZ3JhbXMsIGtleWVkIGJ5IGZpbHRlciB0eXBlLlxuICAgICAqL1xuICAgIGFwcGx5VG86IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIGlmIChvcHRpb25zLndlYmdsKSB7XG4gICAgICAgIG9wdGlvbnMucGFzc2VzKys7XG4gICAgICAgIHRoaXMud2lkdGggPSBvcHRpb25zLnNvdXJjZVdpZHRoO1xuICAgICAgICB0aGlzLmhvcml6b250YWwgPSB0cnVlO1xuICAgICAgICB0aGlzLmRXID0gTWF0aC5yb3VuZCh0aGlzLndpZHRoICogdGhpcy5zY2FsZVgpO1xuICAgICAgICB0aGlzLmRIID0gb3B0aW9ucy5zb3VyY2VIZWlnaHQ7XG4gICAgICAgIHRoaXMudGVtcFNjYWxlID0gdGhpcy5kVyAvIHRoaXMud2lkdGg7XG4gICAgICAgIHRoaXMudGFwcyA9IHRoaXMuZ2V0VGFwcygpO1xuICAgICAgICBvcHRpb25zLmRlc3RpbmF0aW9uV2lkdGggPSB0aGlzLmRXO1xuICAgICAgICB0aGlzLl9zZXR1cEZyYW1lQnVmZmVyKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmFwcGx5VG9XZWJHTChvcHRpb25zKTtcbiAgICAgICAgdGhpcy5fc3dhcFRleHR1cmVzKG9wdGlvbnMpO1xuICAgICAgICBvcHRpb25zLnNvdXJjZVdpZHRoID0gb3B0aW9ucy5kZXN0aW5hdGlvbldpZHRoO1xuXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gb3B0aW9ucy5zb3VyY2VIZWlnaHQ7XG4gICAgICAgIHRoaXMuaG9yaXpvbnRhbCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRIID0gTWF0aC5yb3VuZCh0aGlzLmhlaWdodCAqIHRoaXMuc2NhbGVZKTtcbiAgICAgICAgdGhpcy50ZW1wU2NhbGUgPSB0aGlzLmRIIC8gdGhpcy5oZWlnaHQ7XG4gICAgICAgIHRoaXMudGFwcyA9IHRoaXMuZ2V0VGFwcygpO1xuICAgICAgICBvcHRpb25zLmRlc3RpbmF0aW9uSGVpZ2h0ID0gdGhpcy5kSDtcbiAgICAgICAgdGhpcy5fc2V0dXBGcmFtZUJ1ZmZlcihvcHRpb25zKTtcbiAgICAgICAgdGhpcy5hcHBseVRvV2ViR0wob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX3N3YXBUZXh0dXJlcyhvcHRpb25zKTtcbiAgICAgICAgb3B0aW9ucy5zb3VyY2VIZWlnaHQgPSBvcHRpb25zLmRlc3RpbmF0aW9uSGVpZ2h0O1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuYXBwbHlUbzJkKG9wdGlvbnMpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBpc05ldXRyYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5zY2FsZVggPT09IDEgJiYgdGhpcy5zY2FsZVkgPT09IDE7XG4gICAgfSxcblxuICAgIGxhbmN6b3NDcmVhdGU6IGZ1bmN0aW9uKGxvYmVzKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oeCkge1xuICAgICAgICBpZiAoeCA+PSBsb2JlcyB8fCB4IDw9IC1sb2Jlcykge1xuICAgICAgICAgIHJldHVybiAwLjA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHggPCAxLjE5MjA5MjkwRS0wNyAmJiB4ID4gLTEuMTkyMDkyOTBFLTA3KSB7XG4gICAgICAgICAgcmV0dXJuIDEuMDtcbiAgICAgICAgfVxuICAgICAgICB4ICo9IE1hdGguUEk7XG4gICAgICAgIHZhciB4eCA9IHggLyBsb2JlcztcbiAgICAgICAgcmV0dXJuIChzaW4oeCkgLyB4KSAqIHNpbih4eCkgLyB4eDtcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgZmlsdGVyIHRvIGNhbnZhcyBlbGVtZW50XG4gICAgICogQG1lbWJlck9mIGZhYnJpYy5JbWFnZS5maWx0ZXJzLlJlc2l6ZS5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY2FudmFzRWwgQ2FudmFzIGVsZW1lbnQgdG8gYXBwbHkgZmlsdGVyIHRvXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlWFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZVlcbiAgICAgKi9cbiAgICBhcHBseVRvMmQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBpbWFnZURhdGEgPSBvcHRpb25zLmltYWdlRGF0YSxcbiAgICAgICAgICBzY2FsZVggPSB0aGlzLnNjYWxlWCxcbiAgICAgICAgICBzY2FsZVkgPSB0aGlzLnNjYWxlWTtcblxuICAgICAgdGhpcy5yY3BTY2FsZVggPSAxIC8gc2NhbGVYO1xuICAgICAgdGhpcy5yY3BTY2FsZVkgPSAxIC8gc2NhbGVZO1xuXG4gICAgICB2YXIgb1cgPSBpbWFnZURhdGEud2lkdGgsIG9IID0gaW1hZ2VEYXRhLmhlaWdodCxcbiAgICAgICAgICBkVyA9IHJvdW5kKG9XICogc2NhbGVYKSwgZEggPSByb3VuZChvSCAqIHNjYWxlWSksXG4gICAgICAgICAgbmV3RGF0YTtcblxuICAgICAgaWYgKHRoaXMucmVzaXplVHlwZSA9PT0gJ3NsaWNlSGFjaycpIHtcbiAgICAgICAgbmV3RGF0YSA9IHRoaXMuc2xpY2VCeVR3byhvcHRpb25zLCBvVywgb0gsIGRXLCBkSCk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICh0aGlzLnJlc2l6ZVR5cGUgPT09ICdoZXJtaXRlJykge1xuICAgICAgICBuZXdEYXRhID0gdGhpcy5oZXJtaXRlRmFzdFJlc2l6ZShvcHRpb25zLCBvVywgb0gsIGRXLCBkSCk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICh0aGlzLnJlc2l6ZVR5cGUgPT09ICdiaWxpbmVhcicpIHtcbiAgICAgICAgbmV3RGF0YSA9IHRoaXMuYmlsaW5lYXJGaWx0ZXJpbmcob3B0aW9ucywgb1csIG9ILCBkVywgZEgpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodGhpcy5yZXNpemVUeXBlID09PSAnbGFuY3pvcycpIHtcbiAgICAgICAgbmV3RGF0YSA9IHRoaXMubGFuY3pvc1Jlc2l6ZShvcHRpb25zLCBvVywgb0gsIGRXLCBkSCk7XG4gICAgICB9XG4gICAgICBvcHRpb25zLmltYWdlRGF0YSA9IG5ld0RhdGE7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEZpbHRlciBzbGljZUJ5VHdvXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNhbnZhc0VsIENhbnZhcyBlbGVtZW50IHRvIGFwcGx5IGZpbHRlciB0b1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBvVyBPcmlnaW5hbCBXaWR0aFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBvSCBPcmlnaW5hbCBIZWlnaHRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZFcgRGVzdGluYXRpb24gV2lkdGhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZEggRGVzdGluYXRpb24gSGVpZ2h0XG4gICAgICogQHJldHVybnMge0ltYWdlRGF0YX1cbiAgICAgKi9cbiAgICBzbGljZUJ5VHdvOiBmdW5jdGlvbihvcHRpb25zLCBvVywgb0gsIGRXLCBkSCkge1xuICAgICAgdmFyIGltYWdlRGF0YSA9IG9wdGlvbnMuaW1hZ2VEYXRhLFxuICAgICAgICAgIG11bHQgPSAwLjUsIGRvbmVXID0gZmFsc2UsIGRvbmVIID0gZmFsc2UsIHN0ZXBXID0gb1cgKiBtdWx0LFxuICAgICAgICAgIHN0ZXBIID0gb0ggKiBtdWx0LCByZXNvdXJjZXMgPSBmYWJyaWMuZmlsdGVyQmFja2VuZC5yZXNvdXJjZXMsXG4gICAgICAgICAgdG1wQ2FudmFzLCBjdHgsIHNYID0gMCwgc1kgPSAwLCBkWCA9IG9XLCBkWSA9IDA7XG4gICAgICBpZiAoIXJlc291cmNlcy5zbGljZUJ5VHdvKSB7XG4gICAgICAgIHJlc291cmNlcy5zbGljZUJ5VHdvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICB9XG4gICAgICB0bXBDYW52YXMgPSByZXNvdXJjZXMuc2xpY2VCeVR3bztcbiAgICAgIGlmICh0bXBDYW52YXMud2lkdGggPCBvVyAqIDEuNSB8fCB0bXBDYW52YXMuaGVpZ2h0IDwgb0gpIHtcbiAgICAgICAgdG1wQ2FudmFzLndpZHRoID0gb1cgKiAxLjU7XG4gICAgICAgIHRtcENhbnZhcy5oZWlnaHQgPSBvSDtcbiAgICAgIH1cbiAgICAgIGN0eCA9IHRtcENhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBvVyAqIDEuNSwgb0gpO1xuICAgICAgY3R4LnB1dEltYWdlRGF0YShpbWFnZURhdGEsIDAsIDApO1xuXG4gICAgICBkVyA9IGZsb29yKGRXKTtcbiAgICAgIGRIID0gZmxvb3IoZEgpO1xuXG4gICAgICB3aGlsZSAoIWRvbmVXIHx8ICFkb25lSCkge1xuICAgICAgICBvVyA9IHN0ZXBXO1xuICAgICAgICBvSCA9IHN0ZXBIO1xuICAgICAgICBpZiAoZFcgPCBmbG9vcihzdGVwVyAqIG11bHQpKSB7XG4gICAgICAgICAgc3RlcFcgPSBmbG9vcihzdGVwVyAqIG11bHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHN0ZXBXID0gZFc7XG4gICAgICAgICAgZG9uZVcgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkSCA8IGZsb29yKHN0ZXBIICogbXVsdCkpIHtcbiAgICAgICAgICBzdGVwSCA9IGZsb29yKHN0ZXBIICogbXVsdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgc3RlcEggPSBkSDtcbiAgICAgICAgICBkb25lSCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LmRyYXdJbWFnZSh0bXBDYW52YXMsIHNYLCBzWSwgb1csIG9ILCBkWCwgZFksIHN0ZXBXLCBzdGVwSCk7XG4gICAgICAgIHNYID0gZFg7XG4gICAgICAgIHNZID0gZFk7XG4gICAgICAgIGRZICs9IHN0ZXBIO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGN0eC5nZXRJbWFnZURhdGEoc1gsIHNZLCBkVywgZEgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgbGFuY3pvc1Jlc2l6ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjYW52YXNFbCBDYW52YXMgZWxlbWVudCB0byBhcHBseSBmaWx0ZXIgdG9cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gb1cgT3JpZ2luYWwgV2lkdGhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gb0ggT3JpZ2luYWwgSGVpZ2h0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGRXIERlc3RpbmF0aW9uIFdpZHRoXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGRIIERlc3RpbmF0aW9uIEhlaWdodFxuICAgICAqIEByZXR1cm5zIHtJbWFnZURhdGF9XG4gICAgICovXG4gICAgbGFuY3pvc1Jlc2l6ZTogZnVuY3Rpb24ob3B0aW9ucywgb1csIG9ILCBkVywgZEgpIHtcblxuICAgICAgZnVuY3Rpb24gcHJvY2Vzcyh1KSB7XG4gICAgICAgIHZhciB2LCBpLCB3ZWlnaHQsIGlkeCwgYSwgcmVkLCBncmVlbixcbiAgICAgICAgICAgIGJsdWUsIGFscGhhLCBmWCwgZlk7XG4gICAgICAgIGNlbnRlci54ID0gKHUgKyAwLjUpICogcmF0aW9YO1xuICAgICAgICBpY2VudGVyLnggPSBmbG9vcihjZW50ZXIueCk7XG4gICAgICAgIGZvciAodiA9IDA7IHYgPCBkSDsgdisrKSB7XG4gICAgICAgICAgY2VudGVyLnkgPSAodiArIDAuNSkgKiByYXRpb1k7XG4gICAgICAgICAgaWNlbnRlci55ID0gZmxvb3IoY2VudGVyLnkpO1xuICAgICAgICAgIGEgPSAwOyByZWQgPSAwOyBncmVlbiA9IDA7IGJsdWUgPSAwOyBhbHBoYSA9IDA7XG4gICAgICAgICAgZm9yIChpID0gaWNlbnRlci54IC0gcmFuZ2UyWDsgaSA8PSBpY2VudGVyLnggKyByYW5nZTJYOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpIDwgMCB8fCBpID49IG9XKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZlggPSBmbG9vcigxMDAwICogYWJzKGkgLSBjZW50ZXIueCkpO1xuICAgICAgICAgICAgaWYgKCFjYWNoZUxhbmNbZlhdKSB7XG4gICAgICAgICAgICAgIGNhY2hlTGFuY1tmWF0gPSB7IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gaWNlbnRlci55IC0gcmFuZ2UyWTsgaiA8PSBpY2VudGVyLnkgKyByYW5nZTJZOyBqKyspIHtcbiAgICAgICAgICAgICAgaWYgKGogPCAwIHx8IGogPj0gb0gpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBmWSA9IGZsb29yKDEwMDAgKiBhYnMoaiAtIGNlbnRlci55KSk7XG4gICAgICAgICAgICAgIGlmICghY2FjaGVMYW5jW2ZYXVtmWV0pIHtcbiAgICAgICAgICAgICAgICBjYWNoZUxhbmNbZlhdW2ZZXSA9IGxhbmN6b3Moc3FydChwb3coZlggKiByY3BSYXRpb1gsIDIpICsgcG93KGZZICogcmNwUmF0aW9ZLCAyKSkgLyAxMDAwKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB3ZWlnaHQgPSBjYWNoZUxhbmNbZlhdW2ZZXTtcbiAgICAgICAgICAgICAgaWYgKHdlaWdodCA+IDApIHtcbiAgICAgICAgICAgICAgICBpZHggPSAoaiAqIG9XICsgaSkgKiA0O1xuICAgICAgICAgICAgICAgIGEgKz0gd2VpZ2h0O1xuICAgICAgICAgICAgICAgIHJlZCArPSB3ZWlnaHQgKiBzcmNEYXRhW2lkeF07XG4gICAgICAgICAgICAgICAgZ3JlZW4gKz0gd2VpZ2h0ICogc3JjRGF0YVtpZHggKyAxXTtcbiAgICAgICAgICAgICAgICBibHVlICs9IHdlaWdodCAqIHNyY0RhdGFbaWR4ICsgMl07XG4gICAgICAgICAgICAgICAgYWxwaGEgKz0gd2VpZ2h0ICogc3JjRGF0YVtpZHggKyAzXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZHggPSAodiAqIGRXICsgdSkgKiA0O1xuICAgICAgICAgIGRlc3REYXRhW2lkeF0gPSByZWQgLyBhO1xuICAgICAgICAgIGRlc3REYXRhW2lkeCArIDFdID0gZ3JlZW4gLyBhO1xuICAgICAgICAgIGRlc3REYXRhW2lkeCArIDJdID0gYmx1ZSAvIGE7XG4gICAgICAgICAgZGVzdERhdGFbaWR4ICsgM10gPSBhbHBoYSAvIGE7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoKyt1IDwgZFcpIHtcbiAgICAgICAgICByZXR1cm4gcHJvY2Vzcyh1KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZGVzdEltZztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgc3JjRGF0YSA9IG9wdGlvbnMuaW1hZ2VEYXRhLmRhdGEsXG4gICAgICAgICAgZGVzdEltZyA9IG9wdGlvbnMuY3R4LmNyZWF0ZUltYWdlRGF0YShkVywgZEgpLFxuICAgICAgICAgIGRlc3REYXRhID0gZGVzdEltZy5kYXRhLFxuICAgICAgICAgIGxhbmN6b3MgPSB0aGlzLmxhbmN6b3NDcmVhdGUodGhpcy5sYW5jem9zTG9iZXMpLFxuICAgICAgICAgIHJhdGlvWCA9IHRoaXMucmNwU2NhbGVYLCByYXRpb1kgPSB0aGlzLnJjcFNjYWxlWSxcbiAgICAgICAgICByY3BSYXRpb1ggPSAyIC8gdGhpcy5yY3BTY2FsZVgsIHJjcFJhdGlvWSA9IDIgLyB0aGlzLnJjcFNjYWxlWSxcbiAgICAgICAgICByYW5nZTJYID0gY2VpbChyYXRpb1ggKiB0aGlzLmxhbmN6b3NMb2JlcyAvIDIpLFxuICAgICAgICAgIHJhbmdlMlkgPSBjZWlsKHJhdGlvWSAqIHRoaXMubGFuY3pvc0xvYmVzIC8gMiksXG4gICAgICAgICAgY2FjaGVMYW5jID0geyB9LCBjZW50ZXIgPSB7IH0sIGljZW50ZXIgPSB7IH07XG5cbiAgICAgIHJldHVybiBwcm9jZXNzKDApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBiaWxpbmVhckZpbHRlcmluZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjYW52YXNFbCBDYW52YXMgZWxlbWVudCB0byBhcHBseSBmaWx0ZXIgdG9cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gb1cgT3JpZ2luYWwgV2lkdGhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gb0ggT3JpZ2luYWwgSGVpZ2h0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGRXIERlc3RpbmF0aW9uIFdpZHRoXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGRIIERlc3RpbmF0aW9uIEhlaWdodFxuICAgICAqIEByZXR1cm5zIHtJbWFnZURhdGF9XG4gICAgICovXG4gICAgYmlsaW5lYXJGaWx0ZXJpbmc6IGZ1bmN0aW9uKG9wdGlvbnMsIG9XLCBvSCwgZFcsIGRIKSB7XG4gICAgICB2YXIgYSwgYiwgYywgZCwgeCwgeSwgaSwgaiwgeERpZmYsIHlEaWZmLCBjaG5sLFxuICAgICAgICAgIGNvbG9yLCBvZmZzZXQgPSAwLCBvcmlnUGl4LCByYXRpb1ggPSB0aGlzLnJjcFNjYWxlWCxcbiAgICAgICAgICByYXRpb1kgPSB0aGlzLnJjcFNjYWxlWSxcbiAgICAgICAgICB3NCA9IDQgKiAob1cgLSAxKSwgaW1nID0gb3B0aW9ucy5pbWFnZURhdGEsXG4gICAgICAgICAgcGl4ZWxzID0gaW1nLmRhdGEsIGRlc3RJbWFnZSA9IG9wdGlvbnMuY3R4LmNyZWF0ZUltYWdlRGF0YShkVywgZEgpLFxuICAgICAgICAgIGRlc3RQaXhlbHMgPSBkZXN0SW1hZ2UuZGF0YTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBkSDsgaSsrKSB7XG4gICAgICAgIGZvciAoaiA9IDA7IGogPCBkVzsgaisrKSB7XG4gICAgICAgICAgeCA9IGZsb29yKHJhdGlvWCAqIGopO1xuICAgICAgICAgIHkgPSBmbG9vcihyYXRpb1kgKiBpKTtcbiAgICAgICAgICB4RGlmZiA9IHJhdGlvWCAqIGogLSB4O1xuICAgICAgICAgIHlEaWZmID0gcmF0aW9ZICogaSAtIHk7XG4gICAgICAgICAgb3JpZ1BpeCA9IDQgKiAoeSAqIG9XICsgeCk7XG5cbiAgICAgICAgICBmb3IgKGNobmwgPSAwOyBjaG5sIDwgNDsgY2hubCsrKSB7XG4gICAgICAgICAgICBhID0gcGl4ZWxzW29yaWdQaXggKyBjaG5sXTtcbiAgICAgICAgICAgIGIgPSBwaXhlbHNbb3JpZ1BpeCArIDQgKyBjaG5sXTtcbiAgICAgICAgICAgIGMgPSBwaXhlbHNbb3JpZ1BpeCArIHc0ICsgY2hubF07XG4gICAgICAgICAgICBkID0gcGl4ZWxzW29yaWdQaXggKyB3NCArIDQgKyBjaG5sXTtcbiAgICAgICAgICAgIGNvbG9yID0gYSAqICgxIC0geERpZmYpICogKDEgLSB5RGlmZikgKyBiICogeERpZmYgKiAoMSAtIHlEaWZmKSArXG4gICAgICAgICAgICAgICAgICAgIGMgKiB5RGlmZiAqICgxIC0geERpZmYpICsgZCAqIHhEaWZmICogeURpZmY7XG4gICAgICAgICAgICBkZXN0UGl4ZWxzW29mZnNldCsrXSA9IGNvbG9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGRlc3RJbWFnZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogaGVybWl0ZUZhc3RSZXNpemVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY2FudmFzRWwgQ2FudmFzIGVsZW1lbnQgdG8gYXBwbHkgZmlsdGVyIHRvXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG9XIE9yaWdpbmFsIFdpZHRoXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG9IIE9yaWdpbmFsIEhlaWdodFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBkVyBEZXN0aW5hdGlvbiBXaWR0aFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBkSCBEZXN0aW5hdGlvbiBIZWlnaHRcbiAgICAgKiBAcmV0dXJucyB7SW1hZ2VEYXRhfVxuICAgICAqL1xuICAgIGhlcm1pdGVGYXN0UmVzaXplOiBmdW5jdGlvbihvcHRpb25zLCBvVywgb0gsIGRXLCBkSCkge1xuICAgICAgdmFyIHJhdGlvVyA9IHRoaXMucmNwU2NhbGVYLCByYXRpb0ggPSB0aGlzLnJjcFNjYWxlWSxcbiAgICAgICAgICByYXRpb1dIYWxmID0gY2VpbChyYXRpb1cgLyAyKSxcbiAgICAgICAgICByYXRpb0hIYWxmID0gY2VpbChyYXRpb0ggLyAyKSxcbiAgICAgICAgICBpbWcgPSBvcHRpb25zLmltYWdlRGF0YSwgZGF0YSA9IGltZy5kYXRhLFxuICAgICAgICAgIGltZzIgPSBvcHRpb25zLmN0eC5jcmVhdGVJbWFnZURhdGEoZFcsIGRIKSwgZGF0YTIgPSBpbWcyLmRhdGE7XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRIOyBqKyspIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkVzsgaSsrKSB7XG4gICAgICAgICAgdmFyIHgyID0gKGkgKyBqICogZFcpICogNCwgd2VpZ2h0ID0gMCwgd2VpZ2h0cyA9IDAsIHdlaWdodHNBbHBoYSA9IDAsXG4gICAgICAgICAgICAgIGd4UiA9IDAsIGd4RyA9IDAsIGd4QiA9IDAsIGd4QSA9IDAsIGNlbnRlclkgPSAoaiArIDAuNSkgKiByYXRpb0g7XG4gICAgICAgICAgZm9yICh2YXIgeXkgPSBmbG9vcihqICogcmF0aW9IKTsgeXkgPCAoaiArIDEpICogcmF0aW9IOyB5eSsrKSB7XG4gICAgICAgICAgICB2YXIgZHkgPSBhYnMoY2VudGVyWSAtICh5eSArIDAuNSkpIC8gcmF0aW9ISGFsZixcbiAgICAgICAgICAgICAgICBjZW50ZXJYID0gKGkgKyAwLjUpICogcmF0aW9XLCB3MCA9IGR5ICogZHk7XG4gICAgICAgICAgICBmb3IgKHZhciB4eCA9IGZsb29yKGkgKiByYXRpb1cpOyB4eCA8IChpICsgMSkgKiByYXRpb1c7IHh4KyspIHtcbiAgICAgICAgICAgICAgdmFyIGR4ID0gYWJzKGNlbnRlclggLSAoeHggKyAwLjUpKSAvIHJhdGlvV0hhbGYsXG4gICAgICAgICAgICAgICAgICB3ID0gc3FydCh3MCArIGR4ICogZHgpO1xuICAgICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtZGVwdGggKi9cbiAgICAgICAgICAgICAgaWYgKHcgPiAxICYmIHcgPCAtMSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC8vaGVybWl0ZSBmaWx0ZXJcbiAgICAgICAgICAgICAgd2VpZ2h0ID0gMiAqIHcgKiB3ICogdyAtIDMgKiB3ICogdyArIDE7XG4gICAgICAgICAgICAgIGlmICh3ZWlnaHQgPiAwKSB7XG4gICAgICAgICAgICAgICAgZHggPSA0ICogKHh4ICsgeXkgKiBvVyk7XG4gICAgICAgICAgICAgICAgLy9hbHBoYVxuICAgICAgICAgICAgICAgIGd4QSArPSB3ZWlnaHQgKiBkYXRhW2R4ICsgM107XG4gICAgICAgICAgICAgICAgd2VpZ2h0c0FscGhhICs9IHdlaWdodDtcbiAgICAgICAgICAgICAgICAvL2NvbG9yc1xuICAgICAgICAgICAgICAgIGlmIChkYXRhW2R4ICsgM10gPCAyNTUpIHtcbiAgICAgICAgICAgICAgICAgIHdlaWdodCA9IHdlaWdodCAqIGRhdGFbZHggKyAzXSAvIDI1MDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZ3hSICs9IHdlaWdodCAqIGRhdGFbZHhdO1xuICAgICAgICAgICAgICAgIGd4RyArPSB3ZWlnaHQgKiBkYXRhW2R4ICsgMV07XG4gICAgICAgICAgICAgICAgZ3hCICs9IHdlaWdodCAqIGRhdGFbZHggKyAyXTtcbiAgICAgICAgICAgICAgICB3ZWlnaHRzICs9IHdlaWdodDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG1heC1kZXB0aCAqL1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBkYXRhMlt4Ml0gPSBneFIgLyB3ZWlnaHRzO1xuICAgICAgICAgIGRhdGEyW3gyICsgMV0gPSBneEcgLyB3ZWlnaHRzO1xuICAgICAgICAgIGRhdGEyW3gyICsgMl0gPSBneEIgLyB3ZWlnaHRzO1xuICAgICAgICAgIGRhdGEyW3gyICsgM10gPSBneEEgLyB3ZWlnaHRzQWxwaGE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBpbWcyO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgdG9PYmplY3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgICBzY2FsZVg6IHRoaXMuc2NhbGVYLFxuICAgICAgICBzY2FsZVk6IHRoaXMuc2NhbGVZLFxuICAgICAgICByZXNpemVUeXBlOiB0aGlzLnJlc2l6ZVR5cGUsXG4gICAgICAgIGxhbmN6b3NMb2JlczogdGhpcy5sYW5jem9zTG9iZXNcbiAgICAgIH07XG4gICAgfVxuICB9KTtcblxuICAvKipcbiAgICogUmV0dXJucyBmaWx0ZXIgaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIHRvIGJlIGludm9rZWQgYWZ0ZXIgZmlsdGVyIGNyZWF0aW9uXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JbWFnZS5maWx0ZXJzLlJlc2l6ZX0gSW5zdGFuY2Ugb2YgZmFicmljLkltYWdlLmZpbHRlcnMuUmVzaXplXG4gICAqL1xuICBmYWJyaWMuSW1hZ2UuZmlsdGVycy5SZXNpemUuZnJvbU9iamVjdCA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXIuZnJvbU9iamVjdDtcblxufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyAgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIGZpbHRlcnMgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycyxcbiAgICAgIGNyZWF0ZUNsYXNzID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3M7XG5cbiAgLyoqXG4gICAqIENvbnRyYXN0IGZpbHRlciBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkltYWdlLmZpbHRlcnMuQ29udHJhc3RcbiAgICogQG1lbWJlck9mIGZhYnJpYy5JbWFnZS5maWx0ZXJzXG4gICAqIEBleHRlbmRzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXJcbiAgICogQHNlZSB7QGxpbmsgZmFicmljLkltYWdlLmZpbHRlcnMuQ29udHJhc3QjaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICogQHNlZSB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9pbWFnZS1maWx0ZXJzfEltYWdlRmlsdGVycyBkZW1vfVxuICAgKiBAZXhhbXBsZVxuICAgKiB2YXIgZmlsdGVyID0gbmV3IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkNvbnRyYXN0KHtcbiAgICogICBjb250cmFzdDogMC4yNVxuICAgKiB9KTtcbiAgICogb2JqZWN0LmZpbHRlcnMucHVzaChmaWx0ZXIpO1xuICAgKiBvYmplY3QuYXBwbHlGaWx0ZXJzKCk7XG4gICAqL1xuICBmaWx0ZXJzLkNvbnRyYXN0ID0gY3JlYXRlQ2xhc3MoZmlsdGVycy5CYXNlRmlsdGVyLCAvKiogQGxlbmRzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkNvbnRyYXN0LnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgdHlwZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0eXBlOiAnQ29udHJhc3QnLFxuXG4gICAgZnJhZ21lbnRTb3VyY2U6ICdwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuJyArXG4gICAgICAndW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuJyArXG4gICAgICAndW5pZm9ybSBmbG9hdCB1Q29udHJhc3Q7XFxuJyArXG4gICAgICAndmFyeWluZyB2ZWMyIHZUZXhDb29yZDtcXG4nICtcbiAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICd2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQpO1xcbicgK1xuICAgICAgICAnZmxvYXQgY29udHJhc3RGID0gMS4wMTUgKiAodUNvbnRyYXN0ICsgMS4wKSAvICgxLjAgKiAoMS4wMTUgLSB1Q29udHJhc3QpKTtcXG4nICtcbiAgICAgICAgJ2NvbG9yLnJnYiA9IGNvbnRyYXN0RiAqIChjb2xvci5yZ2IgLSAwLjUpICsgMC41O1xcbicgK1xuICAgICAgICAnZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxuJyArXG4gICAgICAnfScsXG5cbiAgICAvKipcbiAgICAgKiBjb250cmFzdCB2YWx1ZSwgcmFuZ2UgZnJvbSAtMSB0byAxLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBjb250cmFzdFxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICBjb250cmFzdDogMCxcblxuICAgIG1haW5QYXJhbWV0ZXI6ICdjb250cmFzdCcsXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db250cmFzdC5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmNvbnRyYXN0PTBdIFZhbHVlIHRvIGNvbnRyYXN0IHRoZSBpbWFnZSB1cCAoLTEuLi4xKVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICAqIEFwcGx5IHRoZSBDb250cmFzdCBvcGVyYXRpb24gdG8gYSBVaW50OEFycmF5IHJlcHJlc2VudGluZyB0aGUgcGl4ZWxzIG9mIGFuIGltYWdlLlxuICAgICAgKlxuICAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAgKiBAcGFyYW0ge0ltYWdlRGF0YX0gb3B0aW9ucy5pbWFnZURhdGEgVGhlIFVpbnQ4QXJyYXkgdG8gYmUgZmlsdGVyZWQuXG4gICAgICAqL1xuICAgIGFwcGx5VG8yZDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgaWYgKHRoaXMuY29udHJhc3QgPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIGltYWdlRGF0YSA9IG9wdGlvbnMuaW1hZ2VEYXRhLCBpLCBsZW4sXG4gICAgICAgICAgZGF0YSA9IGltYWdlRGF0YS5kYXRhLCBsZW4gPSBkYXRhLmxlbmd0aCxcbiAgICAgICAgICBjb250cmFzdCA9IE1hdGguZmxvb3IodGhpcy5jb250cmFzdCAqIDI1NSksXG4gICAgICAgICAgY29udHJhc3RGID0gMjU5ICogKGNvbnRyYXN0ICsgMjU1KSAvICgyNTUgKiAoMjU5IC0gY29udHJhc3QpKTtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgICAgIGRhdGFbaV0gPSBjb250cmFzdEYgKiAoZGF0YVtpXSAtIDEyOCkgKyAxMjg7XG4gICAgICAgIGRhdGFbaSArIDFdID0gY29udHJhc3RGICogKGRhdGFbaSArIDFdIC0gMTI4KSArIDEyODtcbiAgICAgICAgZGF0YVtpICsgMl0gPSBjb250cmFzdEYgKiAoZGF0YVtpICsgMl0gLSAxMjgpICsgMTI4O1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gV2ViR0wgdW5pZm9ybSBsb2NhdGlvbnMgZm9yIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtXZWJHTFNoYWRlclByb2dyYW19IHByb2dyYW0gVGhpcyBmaWx0ZXIncyBjb21waWxlZCBzaGFkZXIgcHJvZ3JhbS5cbiAgICAgKi9cbiAgICBnZXRVbmlmb3JtTG9jYXRpb25zOiBmdW5jdGlvbihnbCwgcHJvZ3JhbSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdUNvbnRyYXN0OiBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VDb250cmFzdCcpLFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2VuZCBkYXRhIGZyb20gdGhpcyBmaWx0ZXIgdG8gaXRzIHNoYWRlciBwcm9ncmFtJ3MgdW5pZm9ybXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdW5pZm9ybUxvY2F0aW9ucyBBIG1hcCBvZiBzdHJpbmcgdW5pZm9ybSBuYW1lcyB0byBXZWJHTFVuaWZvcm1Mb2NhdGlvbiBvYmplY3RzXG4gICAgICovXG4gICAgc2VuZFVuaWZvcm1EYXRhOiBmdW5jdGlvbihnbCwgdW5pZm9ybUxvY2F0aW9ucykge1xuICAgICAgZ2wudW5pZm9ybTFmKHVuaWZvcm1Mb2NhdGlvbnMudUNvbnRyYXN0LCB0aGlzLmNvbnRyYXN0KTtcbiAgICB9LFxuICB9KTtcblxuICAvKipcbiAgICogUmV0dXJucyBmaWx0ZXIgaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIHRvIGJlIGludm9rZWQgYWZ0ZXIgZmlsdGVyIGNyZWF0aW9uXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JbWFnZS5maWx0ZXJzLkNvbnRyYXN0fSBJbnN0YW5jZSBvZiBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db250cmFzdFxuICAgKi9cbiAgZmFicmljLkltYWdlLmZpbHRlcnMuQ29udHJhc3QuZnJvbU9iamVjdCA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXIuZnJvbU9iamVjdDtcblxufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyAgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIGZpbHRlcnMgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycyxcbiAgICAgIGNyZWF0ZUNsYXNzID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3M7XG5cbiAgLyoqXG4gICAqIFNhdHVyYXRlIGZpbHRlciBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkltYWdlLmZpbHRlcnMuU2F0dXJhdGlvblxuICAgKiBAbWVtYmVyT2YgZmFicmljLkltYWdlLmZpbHRlcnNcbiAgICogQGV4dGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlclxuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuSW1hZ2UuZmlsdGVycy5TYXR1cmF0aW9uI2luaXRpYWxpemV9IGZvciBjb25zdHJ1Y3RvciBkZWZpbml0aW9uXG4gICAqIEBzZWUge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vaW1hZ2UtZmlsdGVyc3xJbWFnZUZpbHRlcnMgZGVtb31cbiAgICogQGV4YW1wbGVcbiAgICogdmFyIGZpbHRlciA9IG5ldyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5TYXR1cmF0aW9uKHtcbiAgICogICBzYXR1cmF0aW9uOiAxXG4gICAqIH0pO1xuICAgKiBvYmplY3QuZmlsdGVycy5wdXNoKGZpbHRlcik7XG4gICAqIG9iamVjdC5hcHBseUZpbHRlcnMoKTtcbiAgICovXG4gIGZpbHRlcnMuU2F0dXJhdGlvbiA9IGNyZWF0ZUNsYXNzKGZpbHRlcnMuQmFzZUZpbHRlciwgLyoqIEBsZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5TYXR1cmF0aW9uLnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgdHlwZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0eXBlOiAnU2F0dXJhdGlvbicsXG5cbiAgICBmcmFnbWVudFNvdXJjZTogJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4nICtcbiAgICAgICd1bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZTtcXG4nICtcbiAgICAgICd1bmlmb3JtIGZsb2F0IHVTYXR1cmF0aW9uO1xcbicgK1xuICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAndmVjNCBjb2xvciA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKTtcXG4nICtcbiAgICAgICAgJ2Zsb2F0IHJnTWF4ID0gbWF4KGNvbG9yLnIsIGNvbG9yLmcpO1xcbicgK1xuICAgICAgICAnZmxvYXQgcmdiTWF4ID0gbWF4KHJnTWF4LCBjb2xvci5iKTtcXG4nICtcbiAgICAgICAgJ2NvbG9yLnIgKz0gcmdiTWF4ICE9IGNvbG9yLnIgPyAocmdiTWF4IC0gY29sb3IucikgKiB1U2F0dXJhdGlvbiA6IDAuMDA7XFxuJyArXG4gICAgICAgICdjb2xvci5nICs9IHJnYk1heCAhPSBjb2xvci5nID8gKHJnYk1heCAtIGNvbG9yLmcpICogdVNhdHVyYXRpb24gOiAwLjAwO1xcbicgK1xuICAgICAgICAnY29sb3IuYiArPSByZ2JNYXggIT0gY29sb3IuYiA/IChyZ2JNYXggLSBjb2xvci5iKSAqIHVTYXR1cmF0aW9uIDogMC4wMDtcXG4nICtcbiAgICAgICAgJ2dsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbicgK1xuICAgICAgJ30nLFxuXG4gICAgLyoqXG4gICAgICogU2F0dXJhdGlvbiB2YWx1ZSwgZnJvbSAtMSB0byAxLlxuICAgICAqIEluY3JlYXNlcy9kZWNyZWFzZXMgdGhlIGNvbG9yIHNhdHVyYXRpb24uXG4gICAgICogQSB2YWx1ZSBvZiAwIGhhcyBubyBlZmZlY3QuXG4gICAgICogXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNhdHVyYXRpb25cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHNhdHVyYXRpb246IDAsXG5cbiAgICBtYWluUGFyYW1ldGVyOiAnc2F0dXJhdGlvbicsXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMuSW1hZ2UuZmlsdGVycy5TYXR1cmF0ZS5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnNhdHVyYXRlPTBdIFZhbHVlIHRvIHNhdHVyYXRlIHRoZSBpbWFnZSAoLTEuLi4xKVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQXBwbHkgdGhlIFNhdHVyYXRpb24gb3BlcmF0aW9uIHRvIGEgVWludDhDbGFtcGVkQXJyYXkgcmVwcmVzZW50aW5nIHRoZSBwaXhlbHMgb2YgYW4gaW1hZ2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7SW1hZ2VEYXRhfSBvcHRpb25zLmltYWdlRGF0YSBUaGUgVWludDhDbGFtcGVkQXJyYXkgdG8gYmUgZmlsdGVyZWQuXG4gICAgICovXG4gICAgYXBwbHlUbzJkOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBpZiAodGhpcy5zYXR1cmF0aW9uID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBpbWFnZURhdGEgPSBvcHRpb25zLmltYWdlRGF0YSxcbiAgICAgICAgICBkYXRhID0gaW1hZ2VEYXRhLmRhdGEsIGxlbiA9IGRhdGEubGVuZ3RoLFxuICAgICAgICAgIGFkanVzdCA9IC10aGlzLnNhdHVyYXRpb24sIGksIG1heDtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgICAgIG1heCA9IE1hdGgubWF4KGRhdGFbaV0sIGRhdGFbaSArIDFdLCBkYXRhW2kgKyAyXSk7XG4gICAgICAgIGRhdGFbaV0gKz0gbWF4ICE9PSBkYXRhW2ldID8gKG1heCAtIGRhdGFbaV0pICogYWRqdXN0IDogMDtcbiAgICAgICAgZGF0YVtpICsgMV0gKz0gbWF4ICE9PSBkYXRhW2kgKyAxXSA/IChtYXggLSBkYXRhW2kgKyAxXSkgKiBhZGp1c3QgOiAwO1xuICAgICAgICBkYXRhW2kgKyAyXSArPSBtYXggIT09IGRhdGFbaSArIDJdID8gKG1heCAtIGRhdGFbaSArIDJdKSAqIGFkanVzdCA6IDA7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiBXZWJHTCB1bmlmb3JtIGxvY2F0aW9ucyBmb3IgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge1dlYkdMU2hhZGVyUHJvZ3JhbX0gcHJvZ3JhbSBUaGlzIGZpbHRlcidzIGNvbXBpbGVkIHNoYWRlciBwcm9ncmFtLlxuICAgICAqL1xuICAgIGdldFVuaWZvcm1Mb2NhdGlvbnM6IGZ1bmN0aW9uKGdsLCBwcm9ncmFtKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB1U2F0dXJhdGlvbjogZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1U2F0dXJhdGlvbicpLFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2VuZCBkYXRhIGZyb20gdGhpcyBmaWx0ZXIgdG8gaXRzIHNoYWRlciBwcm9ncmFtJ3MgdW5pZm9ybXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdW5pZm9ybUxvY2F0aW9ucyBBIG1hcCBvZiBzdHJpbmcgdW5pZm9ybSBuYW1lcyB0byBXZWJHTFVuaWZvcm1Mb2NhdGlvbiBvYmplY3RzXG4gICAgICovXG4gICAgc2VuZFVuaWZvcm1EYXRhOiBmdW5jdGlvbihnbCwgdW5pZm9ybUxvY2F0aW9ucykge1xuICAgICAgZ2wudW5pZm9ybTFmKHVuaWZvcm1Mb2NhdGlvbnMudVNhdHVyYXRpb24sIC10aGlzLnNhdHVyYXRpb24pO1xuICAgIH0sXG4gIH0pO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGZpbHRlciBpbnN0YW5jZSBmcm9tIGFuIG9iamVjdCByZXByZXNlbnRhdGlvblxuICAgKiBAc3RhdGljXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBmcm9tXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gdG8gYmUgaW52b2tlZCBhZnRlciBmaWx0ZXIgY3JlYXRpb25cbiAgICogQHJldHVybiB7ZmFicmljLkltYWdlLmZpbHRlcnMuU2F0dXJhdGlvbn0gSW5zdGFuY2Ugb2YgZmFicmljLkltYWdlLmZpbHRlcnMuU2F0dXJhdGVcbiAgICovXG4gIGZhYnJpYy5JbWFnZS5maWx0ZXJzLlNhdHVyYXRpb24uZnJvbU9iamVjdCA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXIuZnJvbU9iamVjdDtcblxufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyAgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIGZpbHRlcnMgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycyxcbiAgICAgIGNyZWF0ZUNsYXNzID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3M7XG5cbiAgLyoqXG4gICAqIFZpYnJhbmNlIGZpbHRlciBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkltYWdlLmZpbHRlcnMuVmlicmFuY2VcbiAgICogQG1lbWJlck9mIGZhYnJpYy5JbWFnZS5maWx0ZXJzXG4gICAqIEBleHRlbmRzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXJcbiAgICogQHNlZSB7QGxpbmsgZmFicmljLkltYWdlLmZpbHRlcnMuVmlicmFuY2UjaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICogQHNlZSB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9pbWFnZS1maWx0ZXJzfEltYWdlRmlsdGVycyBkZW1vfVxuICAgKiBAZXhhbXBsZVxuICAgKiB2YXIgZmlsdGVyID0gbmV3IGZhYnJpYy5JbWFnZS5maWx0ZXJzLlZpYnJhbmNlKHtcbiAgICogICB2aWJyYW5jZTogMVxuICAgKiB9KTtcbiAgICogb2JqZWN0LmZpbHRlcnMucHVzaChmaWx0ZXIpO1xuICAgKiBvYmplY3QuYXBwbHlGaWx0ZXJzKCk7XG4gICAqL1xuICBmaWx0ZXJzLlZpYnJhbmNlID0gY3JlYXRlQ2xhc3MoZmlsdGVycy5CYXNlRmlsdGVyLCAvKiogQGxlbmRzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLlZpYnJhbmNlLnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgdHlwZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0eXBlOiAnVmlicmFuY2UnLFxuXG4gICAgZnJhZ21lbnRTb3VyY2U6ICdwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuJyArXG4gICAgICAndW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuJyArXG4gICAgICAndW5pZm9ybSBmbG9hdCB1VmlicmFuY2U7XFxuJyArXG4gICAgICAndmFyeWluZyB2ZWMyIHZUZXhDb29yZDtcXG4nICtcbiAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICd2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQpO1xcbicgK1xuICAgICAgICAnZmxvYXQgbWF4ID0gbWF4KGNvbG9yLnIsIG1heChjb2xvci5nLCBjb2xvci5iKSk7XFxuJyArXG4gICAgICAgICdmbG9hdCBhdmcgPSAoY29sb3IuciArIGNvbG9yLmcgKyBjb2xvci5iKSAvIDMuMDtcXG4nICtcbiAgICAgICAgJ2Zsb2F0IGFtdCA9IChhYnMobWF4IC0gYXZnKSAqIDIuMCkgKiB1VmlicmFuY2U7XFxuJyArXG4gICAgICAgICdjb2xvci5yICs9IG1heCAhPSBjb2xvci5yID8gKG1heCAtIGNvbG9yLnIpICogYW10IDogMC4wMDtcXG4nICtcbiAgICAgICAgJ2NvbG9yLmcgKz0gbWF4ICE9IGNvbG9yLmcgPyAobWF4IC0gY29sb3IuZykgKiBhbXQgOiAwLjAwO1xcbicgK1xuICAgICAgICAnY29sb3IuYiArPSBtYXggIT0gY29sb3IuYiA/IChtYXggLSBjb2xvci5iKSAqIGFtdCA6IDAuMDA7XFxuJyArXG4gICAgICAgICdnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG4nICtcbiAgICAgICd9JyxcblxuICAgIC8qKlxuICAgICAqIFZpYnJhbmNlIHZhbHVlLCBmcm9tIC0xIHRvIDEuXG4gICAgICogSW5jcmVhc2VzL2RlY3JlYXNlcyB0aGUgc2F0dXJhdGlvbiBvZiBtb3JlIG11dGVkIGNvbG9ycyB3aXRoIGxlc3MgZWZmZWN0IG9uIHNhdHVyYXRlZCBjb2xvcnMuXG4gICAgICogQSB2YWx1ZSBvZiAwIGhhcyBubyBlZmZlY3QuXG4gICAgICogXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHZpYnJhbmNlXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB2aWJyYW5jZTogMCxcblxuICAgIG1haW5QYXJhbWV0ZXI6ICd2aWJyYW5jZScsXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMuSW1hZ2UuZmlsdGVycy5WaWJyYW5jZS5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnZpYnJhbmNlPTBdIFZpYnJhbmNlIHZhbHVlIGZvciB0aGUgaW1hZ2UgKGJldHdlZW4gLTEgYW5kIDEpXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBcHBseSB0aGUgVmlicmFuY2Ugb3BlcmF0aW9uIHRvIGEgVWludDhDbGFtcGVkQXJyYXkgcmVwcmVzZW50aW5nIHRoZSBwaXhlbHMgb2YgYW4gaW1hZ2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7SW1hZ2VEYXRhfSBvcHRpb25zLmltYWdlRGF0YSBUaGUgVWludDhDbGFtcGVkQXJyYXkgdG8gYmUgZmlsdGVyZWQuXG4gICAgICovXG4gICAgYXBwbHlUbzJkOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBpZiAodGhpcy52aWJyYW5jZSA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgaW1hZ2VEYXRhID0gb3B0aW9ucy5pbWFnZURhdGEsXG4gICAgICAgICAgZGF0YSA9IGltYWdlRGF0YS5kYXRhLCBsZW4gPSBkYXRhLmxlbmd0aCxcbiAgICAgICAgICBhZGp1c3QgPSAtdGhpcy52aWJyYW5jZSwgaSwgbWF4LCBhdmcsIGFtdDtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgICAgIG1heCA9IE1hdGgubWF4KGRhdGFbaV0sIGRhdGFbaSArIDFdLCBkYXRhW2kgKyAyXSk7XG4gICAgICAgIGF2ZyA9IChkYXRhW2ldICsgZGF0YVtpICsgMV0gKyBkYXRhW2kgKyAyXSkgLyAzO1xuICAgICAgICBhbXQgPSAoKE1hdGguYWJzKG1heCAtIGF2ZykgKiAyIC8gMjU1KSAqIGFkanVzdCk7XG4gICAgICAgIGRhdGFbaV0gKz0gbWF4ICE9PSBkYXRhW2ldID8gKG1heCAtIGRhdGFbaV0pICogYW10IDogMDtcbiAgICAgICAgZGF0YVtpICsgMV0gKz0gbWF4ICE9PSBkYXRhW2kgKyAxXSA/IChtYXggLSBkYXRhW2kgKyAxXSkgKiBhbXQgOiAwO1xuICAgICAgICBkYXRhW2kgKyAyXSArPSBtYXggIT09IGRhdGFbaSArIDJdID8gKG1heCAtIGRhdGFbaSArIDJdKSAqIGFtdCA6IDA7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiBXZWJHTCB1bmlmb3JtIGxvY2F0aW9ucyBmb3IgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge1dlYkdMU2hhZGVyUHJvZ3JhbX0gcHJvZ3JhbSBUaGlzIGZpbHRlcidzIGNvbXBpbGVkIHNoYWRlciBwcm9ncmFtLlxuICAgICAqL1xuICAgIGdldFVuaWZvcm1Mb2NhdGlvbnM6IGZ1bmN0aW9uKGdsLCBwcm9ncmFtKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB1VmlicmFuY2U6IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndVZpYnJhbmNlJyksXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZW5kIGRhdGEgZnJvbSB0aGlzIGZpbHRlciB0byBpdHMgc2hhZGVyIHByb2dyYW0ncyB1bmlmb3Jtcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgR0wgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB1bmlmb3JtTG9jYXRpb25zIEEgbWFwIG9mIHN0cmluZyB1bmlmb3JtIG5hbWVzIHRvIFdlYkdMVW5pZm9ybUxvY2F0aW9uIG9iamVjdHNcbiAgICAgKi9cbiAgICBzZW5kVW5pZm9ybURhdGE6IGZ1bmN0aW9uKGdsLCB1bmlmb3JtTG9jYXRpb25zKSB7XG4gICAgICBnbC51bmlmb3JtMWYodW5pZm9ybUxvY2F0aW9ucy51VmlicmFuY2UsIC10aGlzLnZpYnJhbmNlKTtcbiAgICB9LFxuICB9KTtcblxuICAvKipcbiAgICogUmV0dXJucyBmaWx0ZXIgaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIHRvIGJlIGludm9rZWQgYWZ0ZXIgZmlsdGVyIGNyZWF0aW9uXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JbWFnZS5maWx0ZXJzLlZpYnJhbmNlfSBJbnN0YW5jZSBvZiBmYWJyaWMuSW1hZ2UuZmlsdGVycy5WaWJyYW5jZVxuICAgKi9cbiAgZmFicmljLkltYWdlLmZpbHRlcnMuVmlicmFuY2UuZnJvbU9iamVjdCA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXIuZnJvbU9iamVjdDtcblxufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyAgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIGZpbHRlcnMgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycyxcbiAgICAgIGNyZWF0ZUNsYXNzID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3M7XG5cbiAgLyoqXG4gICAqIEJsdXIgZmlsdGVyIGNsYXNzXG4gICAqIEBjbGFzcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CbHVyXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuSW1hZ2UuZmlsdGVyc1xuICAgKiBAZXh0ZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyXG4gICAqIEBzZWUge0BsaW5rIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJsdXIjaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICogQHNlZSB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9pbWFnZS1maWx0ZXJzfEltYWdlRmlsdGVycyBkZW1vfVxuICAgKiBAZXhhbXBsZVxuICAgKiB2YXIgZmlsdGVyID0gbmV3IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJsdXIoe1xuICAgKiAgIGJsdXI6IDAuNVxuICAgKiB9KTtcbiAgICogb2JqZWN0LmZpbHRlcnMucHVzaChmaWx0ZXIpO1xuICAgKiBvYmplY3QuYXBwbHlGaWx0ZXJzKCk7XG4gICAqIGNhbnZhcy5yZW5kZXJBbGwoKTtcbiAgICovXG4gIGZpbHRlcnMuQmx1ciA9IGNyZWF0ZUNsYXNzKGZpbHRlcnMuQmFzZUZpbHRlciwgLyoqIEBsZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CbHVyLnByb3RvdHlwZSAqLyB7XG5cbiAgICB0eXBlOiAnQmx1cicsXG5cbiAgICAvKlxuJ2dsX0ZyYWdDb2xvciA9IHZlYzQoMC4wKTsnLFxuJ2dsX0ZyYWdDb2xvciArPSB0ZXh0dXJlMkQodGV4dHVyZSwgdlRleENvb3JkICsgLTcgKiB1RGVsdGEpKjAuMDA0NDI5OTEyMTA1NTExMzI2NTsnLFxuJ2dsX0ZyYWdDb2xvciArPSB0ZXh0dXJlMkQodGV4dHVyZSwgdlRleENvb3JkICsgLTYgKiB1RGVsdGEpKjAuMDA4OTU3ODEyMTE3OTQ7JyxcbidnbF9GcmFnQ29sb3IgKz0gdGV4dHVyZTJEKHRleHR1cmUsIHZUZXhDb29yZCArIC01ICogdURlbHRhKSowLjAyMTU5NjM4NjYwNTM7JyxcbidnbF9GcmFnQ29sb3IgKz0gdGV4dHVyZTJEKHRleHR1cmUsIHZUZXhDb29yZCArIC00ICogdURlbHRhKSowLjA0NDM2ODMzMzg3MTg7JyxcbidnbF9GcmFnQ29sb3IgKz0gdGV4dHVyZTJEKHRleHR1cmUsIHZUZXhDb29yZCArIC0zICogdURlbHRhKSowLjA3NzY3NDQyMTk5MzM7JyxcbidnbF9GcmFnQ29sb3IgKz0gdGV4dHVyZTJEKHRleHR1cmUsIHZUZXhDb29yZCArIC0yICogdURlbHRhKSowLjExNTg3NjYyMTEwNTsnLFxuJ2dsX0ZyYWdDb2xvciArPSB0ZXh0dXJlMkQodGV4dHVyZSwgdlRleENvb3JkICsgLTEgKiB1RGVsdGEpKjAuMTQ3MzA4MDU2MTIxOycsXG4nZ2xfRnJhZ0NvbG9yICs9IHRleHR1cmUyRCh0ZXh0dXJlLCB2VGV4Q29vcmQgICAgICAgICAgICAgICkqMC4xNTk1NzY5MTIxNjE7JyxcbidnbF9GcmFnQ29sb3IgKz0gdGV4dHVyZTJEKHRleHR1cmUsIHZUZXhDb29yZCArIDEgKiB1RGVsdGEpKjAuMTQ3MzA4MDU2MTIxOycsXG4nZ2xfRnJhZ0NvbG9yICs9IHRleHR1cmUyRCh0ZXh0dXJlLCB2VGV4Q29vcmQgKyAyICogdURlbHRhKSowLjExNTg3NjYyMTEwNTsnLFxuJ2dsX0ZyYWdDb2xvciArPSB0ZXh0dXJlMkQodGV4dHVyZSwgdlRleENvb3JkICsgMyAqIHVEZWx0YSkqMC4wNzc2NzQ0MjE5OTMzOycsXG4nZ2xfRnJhZ0NvbG9yICs9IHRleHR1cmUyRCh0ZXh0dXJlLCB2VGV4Q29vcmQgKyA0ICogdURlbHRhKSowLjA0NDM2ODMzMzg3MTg7JyxcbidnbF9GcmFnQ29sb3IgKz0gdGV4dHVyZTJEKHRleHR1cmUsIHZUZXhDb29yZCArIDUgKiB1RGVsdGEpKjAuMDIxNTk2Mzg2NjA1MzsnLFxuJ2dsX0ZyYWdDb2xvciArPSB0ZXh0dXJlMkQodGV4dHVyZSwgdlRleENvb3JkICsgNiAqIHVEZWx0YSkqMC4wMDg5NTc4MTIxMTc5NDsnLFxuJ2dsX0ZyYWdDb2xvciArPSB0ZXh0dXJlMkQodGV4dHVyZSwgdlRleENvb3JkICsgNyAqIHVEZWx0YSkqMC4wMDQ0Mjk5MTIxMDU1MTEzMjY1OycsXG4qL1xuXG4gICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgIGZyYWdtZW50U291cmNlOiAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbicgK1xuICAgICAgJ3VuaWZvcm0gdmVjMiB1RGVsdGE7XFxuJyArXG4gICAgICAndmFyeWluZyB2ZWMyIHZUZXhDb29yZDtcXG4nICtcbiAgICAgICdjb25zdCBmbG9hdCBuU2FtcGxlcyA9IDE1LjA7XFxuJyArXG4gICAgICAndmVjMyB2M29mZnNldCA9IHZlYzMoMTIuOTg5OCwgNzguMjMzLCAxNTEuNzE4Mik7XFxuJyArXG4gICAgICAnZmxvYXQgcmFuZG9tKHZlYzMgc2NhbGUpIHtcXG4nICtcbiAgICAgICAgLyogdXNlIHRoZSBmcmFnbWVudCBwb3NpdGlvbiBmb3IgYSBkaWZmZXJlbnQgc2VlZCBwZXItcGl4ZWwgKi9cbiAgICAgICAgJ3JldHVybiBmcmFjdChzaW4oZG90KGdsX0ZyYWdDb29yZC54eXosIHNjYWxlKSkgKiA0Mzc1OC41NDUzKTtcXG4nICtcbiAgICAgICd9XFxuJyArXG4gICAgICAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAndmVjNCBjb2xvciA9IHZlYzQoMC4wKTtcXG4nICtcbiAgICAgICAgJ2Zsb2F0IHRvdGFsID0gMC4wO1xcbicgK1xuICAgICAgICAnZmxvYXQgb2Zmc2V0ID0gcmFuZG9tKHYzb2Zmc2V0KTtcXG4nICtcbiAgICAgICAgJ2ZvciAoZmxvYXQgdCA9IC1uU2FtcGxlczsgdCA8PSBuU2FtcGxlczsgdCsrKSB7XFxuJyArXG4gICAgICAgICAgJ2Zsb2F0IHBlcmNlbnQgPSAodCArIG9mZnNldCAtIDAuNSkgLyBuU2FtcGxlcztcXG4nICtcbiAgICAgICAgICAnZmxvYXQgd2VpZ2h0ID0gMS4wIC0gYWJzKHBlcmNlbnQpO1xcbicgK1xuICAgICAgICAgICdjb2xvciArPSB0ZXh0dXJlMkQodVRleHR1cmUsIHZUZXhDb29yZCArIHVEZWx0YSAqIHBlcmNlbnQpICogd2VpZ2h0O1xcbicgK1xuICAgICAgICAgICd0b3RhbCArPSB3ZWlnaHQ7XFxuJyArXG4gICAgICAgICd9XFxuJyArXG4gICAgICAgICdnbF9GcmFnQ29sb3IgPSBjb2xvciAvIHRvdGFsO1xcbicgK1xuICAgICAgJ30nLFxuICAgIC8qIGVzbGludC1lbmFibGUgbWF4LWxlbiAqL1xuXG4gICAgLyoqXG4gICAgICogYmx1ciB2YWx1ZSwgaW4gcGVyY2VudGFnZSBvZiBpbWFnZSBkaW1lbnNpb25zLlxuICAgICAqIHNwZWNpZmljIHRvIGtlZXAgdGhlIGltYWdlIGJsdXIgY29uc3RhbnQgYXQgZGlmZmVyZW50IHJlc29sdXRpb25zXG4gICAgICogcmFuZ2UgYmV0d2VlbiAwIGFuZCAxLlxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgYmx1cjogMCxcblxuICAgIG1haW5QYXJhbWV0ZXI6ICdibHVyJyxcblxuICAgIGFwcGx5VG86IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIGlmIChvcHRpb25zLndlYmdsKSB7XG4gICAgICAgIC8vIHRoaXMgYXNwZWN0UmF0aW8gaXMgdXNlZCB0byBnaXZlIHRoZSBzYW1lIGJsdXIgdG8gdmVydGljYWwgYW5kIGhvcml6b250YWxcbiAgICAgICAgdGhpcy5hc3BlY3RSYXRpbyA9IG9wdGlvbnMuc291cmNlV2lkdGggLyBvcHRpb25zLnNvdXJjZUhlaWdodDtcbiAgICAgICAgb3B0aW9ucy5wYXNzZXMrKztcbiAgICAgICAgdGhpcy5fc2V0dXBGcmFtZUJ1ZmZlcihvcHRpb25zKTtcbiAgICAgICAgdGhpcy5ob3Jpem9udGFsID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5hcHBseVRvV2ViR0wob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX3N3YXBUZXh0dXJlcyhvcHRpb25zKTtcbiAgICAgICAgdGhpcy5fc2V0dXBGcmFtZUJ1ZmZlcihvcHRpb25zKTtcbiAgICAgICAgdGhpcy5ob3Jpem9udGFsID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYXBwbHlUb1dlYkdMKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl9zd2FwVGV4dHVyZXMob3B0aW9ucyk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5hcHBseVRvMmQob3B0aW9ucyk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGFwcGx5VG8yZDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgLy8gcGFpbnQgY2FudmFzRWwgd2l0aCBjdXJyZW50IGltYWdlIGRhdGEuXG4gICAgICAvL29wdGlvbnMuY3R4LnB1dEltYWdlRGF0YShvcHRpb25zLmltYWdlRGF0YSwgMCwgMCk7XG4gICAgICBvcHRpb25zLmltYWdlRGF0YSA9IHRoaXMuc2ltcGxlQmx1cihvcHRpb25zKTtcbiAgICB9LFxuXG4gICAgc2ltcGxlQmx1cjogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdmFyIHJlc291cmNlcyA9IG9wdGlvbnMuZmlsdGVyQmFja2VuZC5yZXNvdXJjZXMsIGNhbnZhczEsIGNhbnZhczIsXG4gICAgICAgICAgd2lkdGggPSBvcHRpb25zLmltYWdlRGF0YS53aWR0aCxcbiAgICAgICAgICBoZWlnaHQgPSBvcHRpb25zLmltYWdlRGF0YS5oZWlnaHQ7XG5cbiAgICAgIGlmICghcmVzb3VyY2VzLmJsdXJMYXllcjEpIHtcbiAgICAgICAgcmVzb3VyY2VzLmJsdXJMYXllcjEgPSBmYWJyaWMudXRpbC5jcmVhdGVDYW52YXNFbGVtZW50KCk7XG4gICAgICAgIHJlc291cmNlcy5ibHVyTGF5ZXIyID0gZmFicmljLnV0aWwuY3JlYXRlQ2FudmFzRWxlbWVudCgpO1xuICAgICAgfVxuICAgICAgY2FudmFzMSA9IHJlc291cmNlcy5ibHVyTGF5ZXIxO1xuICAgICAgY2FudmFzMiA9IHJlc291cmNlcy5ibHVyTGF5ZXIyO1xuICAgICAgaWYgKGNhbnZhczEud2lkdGggIT09IHdpZHRoIHx8IGNhbnZhczEuaGVpZ2h0ICE9PSBoZWlnaHQpIHtcbiAgICAgICAgY2FudmFzMi53aWR0aCA9IGNhbnZhczEud2lkdGggPSB3aWR0aDtcbiAgICAgICAgY2FudmFzMi5oZWlnaHQgPSBjYW52YXMxLmhlaWdodCA9IGhlaWdodDtcbiAgICAgIH1cbiAgICAgIHZhciBjdHgxID0gY2FudmFzMS5nZXRDb250ZXh0KCcyZCcpLFxuICAgICAgICAgIGN0eDIgPSBjYW52YXMyLmdldENvbnRleHQoJzJkJyksXG4gICAgICAgICAgblNhbXBsZXMgPSAxNSxcbiAgICAgICAgICByYW5kb20sIHBlcmNlbnQsIGosIGksXG4gICAgICAgICAgYmx1ciA9IHRoaXMuYmx1ciAqIDAuMDYgKiAwLjU7XG5cbiAgICAgIC8vIGxvYWQgZmlyc3QgY2FudmFzXG4gICAgICBjdHgxLnB1dEltYWdlRGF0YShvcHRpb25zLmltYWdlRGF0YSwgMCwgMCk7XG4gICAgICBjdHgyLmNsZWFyUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgZm9yIChpID0gLW5TYW1wbGVzOyBpIDw9IG5TYW1wbGVzOyBpKyspIHtcbiAgICAgICAgcmFuZG9tID0gKE1hdGgucmFuZG9tKCkgLSAwLjUpIC8gNDtcbiAgICAgICAgcGVyY2VudCA9IGkgLyBuU2FtcGxlcztcbiAgICAgICAgaiA9IGJsdXIgKiBwZXJjZW50ICogd2lkdGggKyByYW5kb207XG4gICAgICAgIGN0eDIuZ2xvYmFsQWxwaGEgPSAxIC0gTWF0aC5hYnMocGVyY2VudCk7XG4gICAgICAgIGN0eDIuZHJhd0ltYWdlKGNhbnZhczEsIGosIHJhbmRvbSk7XG4gICAgICAgIGN0eDEuZHJhd0ltYWdlKGNhbnZhczIsIDAsIDApO1xuICAgICAgICBjdHgyLmdsb2JhbEFscGhhID0gMTtcbiAgICAgICAgY3R4Mi5jbGVhclJlY3QoMCwgMCwgY2FudmFzMi53aWR0aCwgY2FudmFzMi5oZWlnaHQpO1xuICAgICAgfVxuICAgICAgZm9yIChpID0gLW5TYW1wbGVzOyBpIDw9IG5TYW1wbGVzOyBpKyspIHtcbiAgICAgICAgcmFuZG9tID0gKE1hdGgucmFuZG9tKCkgLSAwLjUpIC8gNDtcbiAgICAgICAgcGVyY2VudCA9IGkgLyBuU2FtcGxlcztcbiAgICAgICAgaiA9IGJsdXIgKiBwZXJjZW50ICogaGVpZ2h0ICsgcmFuZG9tO1xuICAgICAgICBjdHgyLmdsb2JhbEFscGhhID0gMSAtIE1hdGguYWJzKHBlcmNlbnQpO1xuICAgICAgICBjdHgyLmRyYXdJbWFnZShjYW52YXMxLCByYW5kb20sIGopO1xuICAgICAgICBjdHgxLmRyYXdJbWFnZShjYW52YXMyLCAwLCAwKTtcbiAgICAgICAgY3R4Mi5nbG9iYWxBbHBoYSA9IDE7XG4gICAgICAgIGN0eDIuY2xlYXJSZWN0KDAsIDAsIGNhbnZhczIud2lkdGgsIGNhbnZhczIuaGVpZ2h0KTtcbiAgICAgIH1cbiAgICAgIG9wdGlvbnMuY3R4LmRyYXdJbWFnZShjYW52YXMxLCAwLCAwKTtcbiAgICAgIHZhciBuZXdJbWFnZURhdGEgPSBvcHRpb25zLmN0eC5nZXRJbWFnZURhdGEoMCwgMCwgY2FudmFzMS53aWR0aCwgY2FudmFzMS5oZWlnaHQpO1xuICAgICAgY3R4MS5nbG9iYWxBbHBoYSA9IDE7XG4gICAgICBjdHgxLmNsZWFyUmVjdCgwLCAwLCBjYW52YXMxLndpZHRoLCBjYW52YXMxLmhlaWdodCk7XG4gICAgICByZXR1cm4gbmV3SW1hZ2VEYXRhO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gV2ViR0wgdW5pZm9ybSBsb2NhdGlvbnMgZm9yIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtXZWJHTFNoYWRlclByb2dyYW19IHByb2dyYW0gVGhpcyBmaWx0ZXIncyBjb21waWxlZCBzaGFkZXIgcHJvZ3JhbS5cbiAgICAgKi9cbiAgICBnZXRVbmlmb3JtTG9jYXRpb25zOiBmdW5jdGlvbihnbCwgcHJvZ3JhbSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZGVsdGE6IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndURlbHRhJyksXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZW5kIGRhdGEgZnJvbSB0aGlzIGZpbHRlciB0byBpdHMgc2hhZGVyIHByb2dyYW0ncyB1bmlmb3Jtcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgR0wgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB1bmlmb3JtTG9jYXRpb25zIEEgbWFwIG9mIHN0cmluZyB1bmlmb3JtIG5hbWVzIHRvIFdlYkdMVW5pZm9ybUxvY2F0aW9uIG9iamVjdHNcbiAgICAgKi9cbiAgICBzZW5kVW5pZm9ybURhdGE6IGZ1bmN0aW9uKGdsLCB1bmlmb3JtTG9jYXRpb25zKSB7XG4gICAgICB2YXIgZGVsdGEgPSB0aGlzLmNob29zZVJpZ2h0RGVsdGEoKTtcbiAgICAgIGdsLnVuaWZvcm0yZnYodW5pZm9ybUxvY2F0aW9ucy5kZWx0YSwgZGVsdGEpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBjaG9vc2UgcmlnaHQgdmFsdWUgb2YgaW1hZ2UgcGVyY2VudGFnZSB0byBibHVyIHdpdGhcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IGEgbnVtZXJpYyBhcnJheSB3aXRoIGRlbHRhIHZhbHVlc1xuICAgICAqL1xuICAgIGNob29zZVJpZ2h0RGVsdGE6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGJsdXJTY2FsZSA9IDEsIGRlbHRhID0gWzAsIDBdLCBibHVyO1xuICAgICAgaWYgKHRoaXMuaG9yaXpvbnRhbCkge1xuICAgICAgICBpZiAodGhpcy5hc3BlY3RSYXRpbyA+IDEpIHtcbiAgICAgICAgICAvLyBpbWFnZSBpcyB3aWRlLCBpIHdhbnQgdG8gc2hyaW5rIHJhZGl1cyBob3Jpem9udGFsXG4gICAgICAgICAgYmx1clNjYWxlID0gMSAvIHRoaXMuYXNwZWN0UmF0aW87XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBpZiAodGhpcy5hc3BlY3RSYXRpbyA8IDEpIHtcbiAgICAgICAgICAvLyBpbWFnZSBpcyB0YWxsLCBpIHdhbnQgdG8gc2hyaW5rIHJhZGl1cyB2ZXJ0aWNhbFxuICAgICAgICAgIGJsdXJTY2FsZSA9IHRoaXMuYXNwZWN0UmF0aW87XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJsdXIgPSBibHVyU2NhbGUgKiB0aGlzLmJsdXIgKiAwLjEyO1xuICAgICAgaWYgKHRoaXMuaG9yaXpvbnRhbCkge1xuICAgICAgICBkZWx0YVswXSA9IGJsdXI7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgZGVsdGFbMV0gPSBibHVyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRlbHRhO1xuICAgIH0sXG4gIH0pO1xuXG4gIC8qKlxuICAgKiBEZXNlcmlhbGl6ZSBhIEpTT04gZGVmaW5pdGlvbiBvZiBhIEJsdXJGaWx0ZXIgaW50byBhIGNvbmNyZXRlIGluc3RhbmNlLlxuICAgKi9cbiAgZmlsdGVycy5CbHVyLmZyb21PYmplY3QgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyLmZyb21PYmplY3Q7XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBmYWJyaWMgID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSksXG4gICAgICBmaWx0ZXJzID0gZmFicmljLkltYWdlLmZpbHRlcnMsXG4gICAgICBjcmVhdGVDbGFzcyA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzO1xuXG4gIC8qKlxuICAgKiBHYW1tYSBmaWx0ZXIgY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkdhbW1hXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuSW1hZ2UuZmlsdGVyc1xuICAgKiBAZXh0ZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyXG4gICAqIEBzZWUge0BsaW5rIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkdhbW1hI2luaXRpYWxpemV9IGZvciBjb25zdHJ1Y3RvciBkZWZpbml0aW9uXG4gICAqIEBzZWUge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vaW1hZ2UtZmlsdGVyc3xJbWFnZUZpbHRlcnMgZGVtb31cbiAgICogQGV4YW1wbGVcbiAgICogdmFyIGZpbHRlciA9IG5ldyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5HYW1tYSh7XG4gICAqICAgZ2FtbWE6IFsxLCAwLjUsIDIuMV1cbiAgICogfSk7XG4gICAqIG9iamVjdC5maWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgICogb2JqZWN0LmFwcGx5RmlsdGVycygpO1xuICAgKi9cbiAgZmlsdGVycy5HYW1tYSA9IGNyZWF0ZUNsYXNzKGZpbHRlcnMuQmFzZUZpbHRlciwgLyoqIEBsZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5HYW1tYS5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogRmlsdGVyIHR5cGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHlwZTogJ0dhbW1hJyxcblxuICAgIGZyYWdtZW50U291cmNlOiAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbicgK1xuICAgICAgJ3VuaWZvcm0gdmVjMyB1R2FtbWE7XFxuJyArXG4gICAgICAndmFyeWluZyB2ZWMyIHZUZXhDb29yZDtcXG4nICtcbiAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICd2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQpO1xcbicgK1xuICAgICAgICAndmVjMyBjb3JyZWN0aW9uID0gKDEuMCAvIHVHYW1tYSk7XFxuJyArXG4gICAgICAgICdjb2xvci5yID0gcG93KGNvbG9yLnIsIGNvcnJlY3Rpb24ucik7XFxuJyArXG4gICAgICAgICdjb2xvci5nID0gcG93KGNvbG9yLmcsIGNvcnJlY3Rpb24uZyk7XFxuJyArXG4gICAgICAgICdjb2xvci5iID0gcG93KGNvbG9yLmIsIGNvcnJlY3Rpb24uYik7XFxuJyArXG4gICAgICAgICdnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG4nICtcbiAgICAgICAgJ2dsX0ZyYWdDb2xvci5yZ2IgKj0gY29sb3IuYTtcXG4nICtcbiAgICAgICd9JyxcblxuICAgIC8qKlxuICAgICAqIEdhbW1hIGFycmF5IHZhbHVlLCBmcm9tIDAuMDEgdG8gMi4yLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGdhbW1hXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBnYW1tYTogWzEsIDEsIDFdLFxuXG4gICAgLyoqXG4gICAgICogRGVzY3JpYmUgdGhlIHByb3BlcnR5IHRoYXQgaXMgdGhlIGZpbHRlciBwYXJhbWV0ZXJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgbWFpblBhcmFtZXRlcjogJ2dhbW1hJyxcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqL1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuZ2FtbWEgPSBbMSwgMSwgMV07XG4gICAgICBmaWx0ZXJzLkJhc2VGaWx0ZXIucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQXBwbHkgdGhlIEdhbW1hIG9wZXJhdGlvbiB0byBhIFVpbnQ4QXJyYXkgcmVwcmVzZW50aW5nIHRoZSBwaXhlbHMgb2YgYW4gaW1hZ2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7SW1hZ2VEYXRhfSBvcHRpb25zLmltYWdlRGF0YSBUaGUgVWludDhBcnJheSB0byBiZSBmaWx0ZXJlZC5cbiAgICAgKi9cbiAgICBhcHBseVRvMmQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBpbWFnZURhdGEgPSBvcHRpb25zLmltYWdlRGF0YSwgZGF0YSA9IGltYWdlRGF0YS5kYXRhLFxuICAgICAgICAgIGdhbW1hID0gdGhpcy5nYW1tYSwgbGVuID0gZGF0YS5sZW5ndGgsXG4gICAgICAgICAgckludiA9IDEgLyBnYW1tYVswXSwgZ0ludiA9IDEgLyBnYW1tYVsxXSxcbiAgICAgICAgICBiSW52ID0gMSAvIGdhbW1hWzJdLCBpO1xuXG4gICAgICBpZiAoIXRoaXMuclZhbHMpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgIHRoaXMuclZhbHMgPSBuZXcgVWludDhBcnJheSgyNTYpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgdGhpcy5nVmFscyA9IG5ldyBVaW50OEFycmF5KDI1Nik7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICB0aGlzLmJWYWxzID0gbmV3IFVpbnQ4QXJyYXkoMjU2KTtcbiAgICAgIH1cblxuICAgICAgLy8gVGhpcyBpcyBhbiBvcHRpbWl6YXRpb24gLSBwcmUtY29tcHV0ZSBhIGxvb2stdXAgdGFibGUgZm9yIGVhY2ggY29sb3IgY2hhbm5lbFxuICAgICAgLy8gaW5zdGVhZCBvZiBwZXJmb3JtaW5nIHRoZXNlIHBvdyBjYWxscyBmb3IgZWFjaCBwaXhlbCBpbiB0aGUgaW1hZ2UuXG4gICAgICBmb3IgKGkgPSAwLCBsZW4gPSAyNTY7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB0aGlzLnJWYWxzW2ldID0gTWF0aC5wb3coaSAvIDI1NSwgckludikgKiAyNTU7XG4gICAgICAgIHRoaXMuZ1ZhbHNbaV0gPSBNYXRoLnBvdyhpIC8gMjU1LCBnSW52KSAqIDI1NTtcbiAgICAgICAgdGhpcy5iVmFsc1tpXSA9IE1hdGgucG93KGkgLyAyNTUsIGJJbnYpICogMjU1O1xuICAgICAgfVxuICAgICAgZm9yIChpID0gMCwgbGVuID0gZGF0YS5sZW5ndGg7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgICAgICBkYXRhW2ldID0gdGhpcy5yVmFsc1tkYXRhW2ldXTtcbiAgICAgICAgZGF0YVtpICsgMV0gPSB0aGlzLmdWYWxzW2RhdGFbaSArIDFdXTtcbiAgICAgICAgZGF0YVtpICsgMl0gPSB0aGlzLmJWYWxzW2RhdGFbaSArIDJdXTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIFdlYkdMIHVuaWZvcm0gbG9jYXRpb25zIGZvciB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgR0wgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7V2ViR0xTaGFkZXJQcm9ncmFtfSBwcm9ncmFtIFRoaXMgZmlsdGVyJ3MgY29tcGlsZWQgc2hhZGVyIHByb2dyYW0uXG4gICAgICovXG4gICAgZ2V0VW5pZm9ybUxvY2F0aW9uczogZnVuY3Rpb24oZ2wsIHByb2dyYW0pIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVHYW1tYTogZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1R2FtbWEnKSxcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNlbmQgZGF0YSBmcm9tIHRoaXMgZmlsdGVyIHRvIGl0cyBzaGFkZXIgcHJvZ3JhbSdzIHVuaWZvcm1zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHVuaWZvcm1Mb2NhdGlvbnMgQSBtYXAgb2Ygc3RyaW5nIHVuaWZvcm0gbmFtZXMgdG8gV2ViR0xVbmlmb3JtTG9jYXRpb24gb2JqZWN0c1xuICAgICAqL1xuICAgIHNlbmRVbmlmb3JtRGF0YTogZnVuY3Rpb24oZ2wsIHVuaWZvcm1Mb2NhdGlvbnMpIHtcbiAgICAgIGdsLnVuaWZvcm0zZnYodW5pZm9ybUxvY2F0aW9ucy51R2FtbWEsIHRoaXMuZ2FtbWEpO1xuICAgIH0sXG4gIH0pO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGZpbHRlciBpbnN0YW5jZSBmcm9tIGFuIG9iamVjdCByZXByZXNlbnRhdGlvblxuICAgKiBAc3RhdGljXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBmcm9tXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYWxsYmFja10gdG8gYmUgaW52b2tlZCBhZnRlciBmaWx0ZXIgY3JlYXRpb25cbiAgICogQHJldHVybiB7ZmFicmljLkltYWdlLmZpbHRlcnMuR2FtbWF9IEluc3RhbmNlIG9mIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkdhbW1hXG4gICAqL1xuICBmYWJyaWMuSW1hZ2UuZmlsdGVycy5HYW1tYS5mcm9tT2JqZWN0ID0gZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlci5mcm9tT2JqZWN0O1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljICA9IGdsb2JhbC5mYWJyaWMgfHwgKGdsb2JhbC5mYWJyaWMgPSB7IH0pLFxuICAgICAgZmlsdGVycyA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLFxuICAgICAgY3JlYXRlQ2xhc3MgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcztcblxuICAvKipcbiAgICogQSBjb250YWluZXIgY2xhc3MgdGhhdCBrbm93cyBob3cgdG8gYXBwbHkgYSBzZXF1ZW5jZSBvZiBmaWx0ZXJzIHRvIGFuIGlucHV0IGltYWdlLlxuICAgKi9cbiAgZmlsdGVycy5Db21wb3NlZCA9IGNyZWF0ZUNsYXNzKGZpbHRlcnMuQmFzZUZpbHRlciwgLyoqIEBsZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db21wb3NlZC5wcm90b3R5cGUgKi8ge1xuXG4gICAgdHlwZTogJ0NvbXBvc2VkJyxcblxuICAgIC8qKlxuICAgICAqIEEgbm9uIHNwYXJzZSBhcnJheSBvZiBmaWx0ZXJzIHRvIGFwcGx5XG4gICAgICovXG4gICAgc3ViRmlsdGVyczogW10sXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKi9cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICB0aGlzLmNhbGxTdXBlcignaW5pdGlhbGl6ZScsIG9wdGlvbnMpO1xuICAgICAgLy8gY3JlYXRlIGEgbmV3IGFycmF5IGluc3RlYWQgbXV0YXRpbmcgdGhlIHByb3RvdHlwZSB3aXRoIHB1c2hcbiAgICAgIHRoaXMuc3ViRmlsdGVycyA9IHRoaXMuc3ViRmlsdGVycy5zbGljZSgwKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQXBwbHkgdGhpcyBjb250YWluZXIncyBmaWx0ZXJzIHRvIHRoZSBpbnB1dCBpbWFnZSBwcm92aWRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG9wdGlvbnMucGFzc2VzIFRoZSBudW1iZXIgb2YgZmlsdGVycyByZW1haW5pbmcgdG8gYmUgYXBwbGllZC5cbiAgICAgKi9cbiAgICBhcHBseVRvOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBvcHRpb25zLnBhc3NlcyArPSB0aGlzLnN1YkZpbHRlcnMubGVuZ3RoIC0gMTtcbiAgICAgIHRoaXMuc3ViRmlsdGVycy5mb3JFYWNoKGZ1bmN0aW9uKGZpbHRlcikge1xuICAgICAgICBmaWx0ZXIuYXBwbHlUbyhvcHRpb25zKTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXJpYWxpemUgdGhpcyBmaWx0ZXIgaW50byBKU09OLlxuICAgICAqXG4gICAgICogQHJldHVybnMge09iamVjdH0gQSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgZmlsdGVyLlxuICAgICAqL1xuICAgIHRvT2JqZWN0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kKHRoaXMuY2FsbFN1cGVyKCd0b09iamVjdCcpLCB7XG4gICAgICAgIHN1YkZpbHRlcnM6IHRoaXMuc3ViRmlsdGVycy5tYXAoZnVuY3Rpb24oZmlsdGVyKSB7IHJldHVybiBmaWx0ZXIudG9PYmplY3QoKTsgfSksXG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgaXNOZXV0cmFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICF0aGlzLnN1YkZpbHRlcnMuc29tZShmdW5jdGlvbihmaWx0ZXIpIHsgcmV0dXJuICFmaWx0ZXIuaXNOZXV0cmFsU3RhdGUoKTsgfSk7XG4gICAgfVxuICB9KTtcblxuICAvKipcbiAgICogRGVzZXJpYWxpemUgYSBKU09OIGRlZmluaXRpb24gb2YgYSBDb21wb3NlZEZpbHRlciBpbnRvIGEgY29uY3JldGUgaW5zdGFuY2UuXG4gICAqL1xuICBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db21wb3NlZC5mcm9tT2JqZWN0ID0gZnVuY3Rpb24ob2JqZWN0LCBjYWxsYmFjaykge1xuICAgIHZhciBmaWx0ZXJzID0gb2JqZWN0LnN1YkZpbHRlcnMgfHwgW10sXG4gICAgICAgIHN1YkZpbHRlcnMgPSBmaWx0ZXJzLm1hcChmdW5jdGlvbihmaWx0ZXIpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IGZhYnJpYy5JbWFnZS5maWx0ZXJzW2ZpbHRlci50eXBlXShmaWx0ZXIpO1xuICAgICAgICB9KSxcbiAgICAgICAgaW5zdGFuY2UgPSBuZXcgZmFicmljLkltYWdlLmZpbHRlcnMuQ29tcG9zZWQoeyBzdWJGaWx0ZXJzOiBzdWJGaWx0ZXJzIH0pO1xuICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGluc3RhbmNlKTtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH07XG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljICA9IGdsb2JhbC5mYWJyaWMgfHwgKGdsb2JhbC5mYWJyaWMgPSB7IH0pLFxuICAgICAgZmlsdGVycyA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLFxuICAgICAgY3JlYXRlQ2xhc3MgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcztcblxuICAvKipcbiAgICogSHVlUm90YXRpb24gZmlsdGVyIGNsYXNzXG4gICAqIEBjbGFzcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5IdWVSb3RhdGlvblxuICAgKiBAbWVtYmVyT2YgZmFicmljLkltYWdlLmZpbHRlcnNcbiAgICogQGV4dGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlclxuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuSW1hZ2UuZmlsdGVycy5IdWVSb3RhdGlvbiNpbml0aWFsaXplfSBmb3IgY29uc3RydWN0b3IgZGVmaW5pdGlvblxuICAgKiBAc2VlIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ltYWdlLWZpbHRlcnN8SW1hZ2VGaWx0ZXJzIGRlbW99XG4gICAqIEBleGFtcGxlXG4gICAqIHZhciBmaWx0ZXIgPSBuZXcgZmFicmljLkltYWdlLmZpbHRlcnMuSHVlUm90YXRpb24oe1xuICAgKiAgIHJvdGF0aW9uOiAtMC41XG4gICAqIH0pO1xuICAgKiBvYmplY3QuZmlsdGVycy5wdXNoKGZpbHRlcik7XG4gICAqIG9iamVjdC5hcHBseUZpbHRlcnMoKTtcbiAgICovXG4gIGZpbHRlcnMuSHVlUm90YXRpb24gPSBjcmVhdGVDbGFzcyhmaWx0ZXJzLkNvbG9yTWF0cml4LCAvKiogQGxlbmRzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkh1ZVJvdGF0aW9uLnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgdHlwZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0eXBlOiAnSHVlUm90YXRpb24nLFxuXG4gICAgLyoqXG4gICAgICogSHVlUm90YXRpb24gdmFsdWUsIGZyb20gLTEgdG8gMS5cbiAgICAgKiB0aGUgdW5pdCBpcyByYWRpYW5zXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG15UGFyYW1ldGVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICByb3RhdGlvbjogMCxcblxuICAgIC8qKlxuICAgICAqIERlc2NyaWJlIHRoZSBwcm9wZXJ0eSB0aGF0IGlzIHRoZSBmaWx0ZXIgcGFyYW1ldGVyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIG1haW5QYXJhbWV0ZXI6ICdyb3RhdGlvbicsXG5cbiAgICBjYWxjdWxhdGVNYXRyaXg6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHJhZCA9IHRoaXMucm90YXRpb24gKiBNYXRoLlBJLCBjb3MgPSBmYWJyaWMudXRpbC5jb3MocmFkKSwgc2luID0gZmFicmljLnV0aWwuc2luKHJhZCksXG4gICAgICAgICAgYVRoaXJkID0gMSAvIDMsIGFUaGlyZFNxdFNpbiA9IE1hdGguc3FydChhVGhpcmQpICogc2luLCBPbmVNaW51c0NvcyA9IDEgLSBjb3M7XG4gICAgICB0aGlzLm1hdHJpeCA9IFtcbiAgICAgICAgMSwgMCwgMCwgMCwgMCxcbiAgICAgICAgMCwgMSwgMCwgMCwgMCxcbiAgICAgICAgMCwgMCwgMSwgMCwgMCxcbiAgICAgICAgMCwgMCwgMCwgMSwgMFxuICAgICAgXTtcbiAgICAgIHRoaXMubWF0cml4WzBdID0gY29zICsgT25lTWludXNDb3MgLyAzO1xuICAgICAgdGhpcy5tYXRyaXhbMV0gPSBhVGhpcmQgKiBPbmVNaW51c0NvcyAtIGFUaGlyZFNxdFNpbjtcbiAgICAgIHRoaXMubWF0cml4WzJdID0gYVRoaXJkICogT25lTWludXNDb3MgKyBhVGhpcmRTcXRTaW47XG4gICAgICB0aGlzLm1hdHJpeFs1XSA9IGFUaGlyZCAqIE9uZU1pbnVzQ29zICsgYVRoaXJkU3F0U2luO1xuICAgICAgdGhpcy5tYXRyaXhbNl0gPSBjb3MgKyBhVGhpcmQgKiBPbmVNaW51c0NvcztcbiAgICAgIHRoaXMubWF0cml4WzddID0gYVRoaXJkICogT25lTWludXNDb3MgLSBhVGhpcmRTcXRTaW47XG4gICAgICB0aGlzLm1hdHJpeFsxMF0gPSBhVGhpcmQgKiBPbmVNaW51c0NvcyAtIGFUaGlyZFNxdFNpbjtcbiAgICAgIHRoaXMubWF0cml4WzExXSA9IGFUaGlyZCAqIE9uZU1pbnVzQ29zICsgYVRoaXJkU3F0U2luO1xuICAgICAgdGhpcy5tYXRyaXhbMTJdID0gY29zICsgYVRoaXJkICogT25lTWludXNDb3M7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEh1ZVJvdGF0aW9uIGlzTmV1dHJhbFN0YXRlIGltcGxlbWVudGF0aW9uXG4gICAgICogVXNlZCBvbmx5IGluIGltYWdlIGFwcGx5RmlsdGVycyB0byBkaXNjYXJkIGZpbHRlcnMgdGhhdCB3aWxsIG5vdCBoYXZlIGFuIGVmZmVjdFxuICAgICAqIG9uIHRoZSBpbWFnZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICoqL1xuICAgIGlzTmV1dHJhbFN0YXRlOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICB0aGlzLmNhbGN1bGF0ZU1hdHJpeCgpO1xuICAgICAgcmV0dXJuIGZpbHRlcnMuQmFzZUZpbHRlci5wcm90b3R5cGUuaXNOZXV0cmFsU3RhdGUuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQXBwbHkgdGhpcyBmaWx0ZXIgdG8gdGhlIGlucHV0IGltYWdlIGRhdGEgcHJvdmlkZWQuXG4gICAgICpcbiAgICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgdG8gdXNlIFdlYkdMIG9yIENhbnZhczJEIGJhc2VkIG9uIHRoZSBvcHRpb25zLndlYmdsIGZsYWcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBvcHRpb25zLnBhc3NlcyBUaGUgbnVtYmVyIG9mIGZpbHRlcnMgcmVtYWluaW5nIHRvIGJlIGV4ZWN1dGVkXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBvcHRpb25zLndlYmdsIFdoZXRoZXIgdG8gdXNlIHdlYmdsIHRvIHJlbmRlciB0aGUgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7V2ViR0xUZXh0dXJlfSBvcHRpb25zLnNvdXJjZVRleHR1cmUgVGhlIHRleHR1cmUgc2V0dXAgYXMgdGhlIHNvdXJjZSB0byBiZSBmaWx0ZXJlZC5cbiAgICAgKiBAcGFyYW0ge1dlYkdMVGV4dHVyZX0gb3B0aW9ucy50YXJnZXRUZXh0dXJlIFRoZSB0ZXh0dXJlIHdoZXJlIGZpbHRlcmVkIG91dHB1dCBzaG91bGQgYmUgZHJhd24uXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IG9wdGlvbnMuY29udGV4dCBUaGUgR0wgY29udGV4dCB1c2VkIGZvciByZW5kZXJpbmcuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMucHJvZ3JhbUNhY2hlIEEgbWFwIG9mIGNvbXBpbGVkIHNoYWRlciBwcm9ncmFtcywga2V5ZWQgYnkgZmlsdGVyIHR5cGUuXG4gICAgICovXG4gICAgYXBwbHlUbzogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdGhpcy5jYWxjdWxhdGVNYXRyaXgoKTtcbiAgICAgIGZpbHRlcnMuQmFzZUZpbHRlci5wcm90b3R5cGUuYXBwbHlUby5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgIH0sXG5cbiAgfSk7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgZmlsdGVyIGluc3RhbmNlIGZyb20gYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uXG4gICAqIEBzdGF0aWNcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY3JlYXRlIGFuIGluc3RhbmNlIGZyb21cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2NhbGxiYWNrXSB0byBiZSBpbnZva2VkIGFmdGVyIGZpbHRlciBjcmVhdGlvblxuICAgKiBAcmV0dXJuIHtmYWJyaWMuSW1hZ2UuZmlsdGVycy5IdWVSb3RhdGlvbn0gSW5zdGFuY2Ugb2YgZmFicmljLkltYWdlLmZpbHRlcnMuSHVlUm90YXRpb25cbiAgICovXG4gIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkh1ZVJvdGF0aW9uLmZyb21PYmplY3QgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyLmZyb21PYmplY3Q7XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBmYWJyaWMgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIGNsb25lID0gZmFicmljLnV0aWwub2JqZWN0LmNsb25lO1xuXG4gIGlmIChmYWJyaWMuVGV4dCkge1xuICAgIGZhYnJpYy53YXJuKCdmYWJyaWMuVGV4dCBpcyBhbHJlYWR5IGRlZmluZWQnKTtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgYWRkaXRpb25hbFByb3BzID1cbiAgICAoJ2ZvbnRGYW1pbHkgZm9udFdlaWdodCBmb250U2l6ZSB0ZXh0IHVuZGVybGluZSBvdmVybGluZSBsaW5ldGhyb3VnaCcgK1xuICAgICcgdGV4dEFsaWduIGZvbnRTdHlsZSBsaW5lSGVpZ2h0IHRleHRCYWNrZ3JvdW5kQ29sb3IgY2hhclNwYWNpbmcgc3R5bGVzJyArXG4gICAgJyBkaXJlY3Rpb24gcGF0aCBwYXRoU3RhcnRPZmZzZXQgcGF0aFNpZGUgcGF0aEFsaWduJykuc3BsaXQoJyAnKTtcblxuICAvKipcbiAgICogVGV4dCBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLlRleHRcbiAgICogQGV4dGVuZHMgZmFicmljLk9iamVjdFxuICAgKiBAcmV0dXJuIHtmYWJyaWMuVGV4dH0gdGhpc0FyZ1xuICAgKiBAdHV0b3JpYWwge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vZmFicmljLWludHJvLXBhcnQtMiN0ZXh0fVxuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuVGV4dCNpbml0aWFsaXplfSBmb3IgY29uc3RydWN0b3IgZGVmaW5pdGlvblxuICAgKi9cbiAgZmFicmljLlRleHQgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcyhmYWJyaWMuT2JqZWN0LCAvKiogQGxlbmRzIGZhYnJpYy5UZXh0LnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0aWVzIHdoaWNoIHdoZW4gc2V0IGNhdXNlIG9iamVjdCB0byBjaGFuZ2UgZGltZW5zaW9uc1xuICAgICAqIEB0eXBlIEFycmF5XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZGltZW5zaW9uQWZmZWN0aW5nUHJvcHM6IFtcbiAgICAgICdmb250U2l6ZScsXG4gICAgICAnZm9udFdlaWdodCcsXG4gICAgICAnZm9udEZhbWlseScsXG4gICAgICAnZm9udFN0eWxlJyxcbiAgICAgICdsaW5lSGVpZ2h0JyxcbiAgICAgICd0ZXh0JyxcbiAgICAgICdjaGFyU3BhY2luZycsXG4gICAgICAndGV4dEFsaWduJyxcbiAgICAgICdzdHlsZXMnLFxuICAgICAgJ3BhdGgnLFxuICAgICAgJ3BhdGhTdGFydE9mZnNldCcsXG4gICAgICAncGF0aFNpZGUnLFxuICAgICAgJ3BhdGhBbGlnbidcbiAgICBdLFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVOZXdsaW5lOiAvXFxyP1xcbi8sXG5cbiAgICAvKipcbiAgICAgKiBVc2UgdGhpcyByZWd1bGFyIGV4cHJlc3Npb24gdG8gZmlsdGVyIGZvciB3aGl0ZXNwYWNlcyB0aGF0IGlzIG5vdCBhIG5ldyBsaW5lLlxuICAgICAqIE1vc3RseSB1c2VkIHdoZW4gdGV4dCBpcyAnanVzdGlmeScgYWxpZ25lZC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZVNwYWNlc0FuZFRhYnM6IC9bIFxcdFxccl0vZyxcblxuICAgIC8qKlxuICAgICAqIFVzZSB0aGlzIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byBmaWx0ZXIgZm9yIHdoaXRlc3BhY2UgdGhhdCBpcyBub3QgYSBuZXcgbGluZS5cbiAgICAgKiBNb3N0bHkgdXNlZCB3aGVuIHRleHQgaXMgJ2p1c3RpZnknIGFsaWduZWQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVTcGFjZUFuZFRhYjogL1sgXFx0XFxyXS8sXG5cbiAgICAvKipcbiAgICAgKiBVc2UgdGhpcyByZWd1bGFyIGV4cHJlc3Npb24gdG8gZmlsdGVyIGNvbnNlY3V0aXZlIGdyb3VwcyBvZiBub24gc3BhY2VzLlxuICAgICAqIE1vc3RseSB1c2VkIHdoZW4gdGV4dCBpcyAnanVzdGlmeScgYWxpZ25lZC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZVdvcmRzOiAvXFxTKy9nLFxuXG4gICAgLyoqXG4gICAgICogVHlwZSBvZiBhbiBvYmplY3RcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHR5cGU6ICAgICAgICAgICAgICAgICAndGV4dCcsXG5cbiAgICAvKipcbiAgICAgKiBGb250IHNpemUgKGluIHBpeGVscylcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGZvbnRTaXplOiAgICAgICAgICAgICA0MCxcblxuICAgIC8qKlxuICAgICAqIEZvbnQgd2VpZ2h0IChlLmcuIGJvbGQsIG5vcm1hbCwgNDAwLCA2MDAsIDgwMClcbiAgICAgKiBAdHlwZSB7KE51bWJlcnxTdHJpbmcpfVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgZm9udFdlaWdodDogICAgICAgICAgICdub3JtYWwnLFxuXG4gICAgLyoqXG4gICAgICogRm9udCBmYW1pbHlcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGZvbnRGYW1pbHk6ICAgICAgICAgICAnVGltZXMgTmV3IFJvbWFuJyxcblxuICAgIC8qKlxuICAgICAqIFRleHQgZGVjb3JhdGlvbiB1bmRlcmxpbmUuXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdW5kZXJsaW5lOiAgICAgICBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIFRleHQgZGVjb3JhdGlvbiBvdmVybGluZS5cbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBvdmVybGluZTogICAgICAgZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBUZXh0IGRlY29yYXRpb24gbGluZXRocm91Z2guXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgbGluZXRocm91Z2g6ICAgICAgIGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogVGV4dCBhbGlnbm1lbnQuIFBvc3NpYmxlIHZhbHVlczogXCJsZWZ0XCIsIFwiY2VudGVyXCIsIFwicmlnaHRcIiwgXCJqdXN0aWZ5XCIsXG4gICAgICogXCJqdXN0aWZ5LWxlZnRcIiwgXCJqdXN0aWZ5LWNlbnRlclwiIG9yIFwianVzdGlmeS1yaWdodFwiLlxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGV4dEFsaWduOiAgICAgICAgICAgICdsZWZ0JyxcblxuICAgIC8qKlxuICAgICAqIEZvbnQgc3R5bGUgLiBQb3NzaWJsZSB2YWx1ZXM6IFwiXCIsIFwibm9ybWFsXCIsIFwiaXRhbGljXCIgb3IgXCJvYmxpcXVlXCIuXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBmb250U3R5bGU6ICAgICAgICAgICAgJ25vcm1hbCcsXG5cbiAgICAvKipcbiAgICAgKiBMaW5lIGhlaWdodFxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgbGluZUhlaWdodDogICAgICAgICAgIDEuMTYsXG5cbiAgICAvKipcbiAgICAgKiBTdXBlcnNjcmlwdCBzY2hlbWEgb2JqZWN0IChtaW5pbXVtIG92ZXJsYXApXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHN1cGVyc2NyaXB0OiB7XG4gICAgICBzaXplOiAgICAgIDAuNjAsIC8vIGZvbnRTaXplIGZhY3RvclxuICAgICAgYmFzZWxpbmU6IC0wLjM1ICAvLyBiYXNlbGluZS1zaGlmdCBmYWN0b3IgKHVwd2FyZHMpXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFN1YnNjcmlwdCBzY2hlbWEgb2JqZWN0IChtaW5pbXVtIG92ZXJsYXApXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHN1YnNjcmlwdDoge1xuICAgICAgc2l6ZTogICAgICAwLjYwLCAvLyBmb250U2l6ZSBmYWN0b3JcbiAgICAgIGJhc2VsaW5lOiAgMC4xMSAgLy8gYmFzZWxpbmUtc2hpZnQgZmFjdG9yIChkb3dud2FyZHMpXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEJhY2tncm91bmQgY29sb3Igb2YgdGV4dCBsaW5lc1xuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGV4dEJhY2tncm91bmRDb2xvcjogICcnLFxuXG4gICAgLyoqXG4gICAgICogTGlzdCBvZiBwcm9wZXJ0aWVzIHRvIGNvbnNpZGVyIHdoZW4gY2hlY2tpbmcgaWZcbiAgICAgKiBzdGF0ZSBvZiBhbiBvYmplY3QgaXMgY2hhbmdlZCAoe0BsaW5rIGZhYnJpYy5PYmplY3QjaGFzU3RhdGVDaGFuZ2VkfSlcbiAgICAgKiBhcyB3ZWxsIGFzIGZvciBoaXN0b3J5ICh1bmRvL3JlZG8pIHB1cnBvc2VzXG4gICAgICogQHR5cGUgQXJyYXlcbiAgICAgKi9cbiAgICBzdGF0ZVByb3BlcnRpZXM6IGZhYnJpYy5PYmplY3QucHJvdG90eXBlLnN0YXRlUHJvcGVydGllcy5jb25jYXQoYWRkaXRpb25hbFByb3BzKSxcblxuICAgIC8qKlxuICAgICAqIExpc3Qgb2YgcHJvcGVydGllcyB0byBjb25zaWRlciB3aGVuIGNoZWNraW5nIGlmIGNhY2hlIG5lZWRzIHJlZnJlc2hcbiAgICAgKiBAdHlwZSBBcnJheVxuICAgICAqL1xuICAgIGNhY2hlUHJvcGVydGllczogZmFicmljLk9iamVjdC5wcm90b3R5cGUuY2FjaGVQcm9wZXJ0aWVzLmNvbmNhdChhZGRpdGlvbmFsUHJvcHMpLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBkZWZpbmVkLCBhbiBvYmplY3QgaXMgcmVuZGVyZWQgdmlhIHN0cm9rZSBhbmQgdGhpcyBwcm9wZXJ0eSBzcGVjaWZpZXMgaXRzIGNvbG9yLlxuICAgICAqIDxiPkJhY2t3YXJkcyBpbmNvbXBhdGliaWxpdHkgbm90ZTo8L2I+IFRoaXMgcHJvcGVydHkgd2FzIG5hbWVkIFwic3Ryb2tlU3R5bGVcIiB1bnRpbCB2MS4xLjZcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHN0cm9rZTogICAgICAgICAgICAgICBudWxsLFxuXG4gICAgLyoqXG4gICAgICogU2hhZG93IG9iamVjdCByZXByZXNlbnRpbmcgc2hhZG93IG9mIHRoaXMgc2hhcGUuXG4gICAgICogPGI+QmFja3dhcmRzIGluY29tcGF0aWJpbGl0eSBub3RlOjwvYj4gVGhpcyBwcm9wZXJ0eSB3YXMgbmFtZWQgXCJ0ZXh0U2hhZG93XCIgKFN0cmluZykgdW50aWwgdjEuMi4xMVxuICAgICAqIEB0eXBlIGZhYnJpYy5TaGFkb3dcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHNoYWRvdzogICAgICAgICAgICAgICBudWxsLFxuXG4gICAgLyoqXG4gICAgICogZmFicmljLlBhdGggdGhhdCB0aGUgdGV4dCBzaG91bGQgZm9sbG93LlxuICAgICAqIHNpbmNlIDQuNi4wIHRoZSBwYXRoIHdpbGwgYmUgZHJhd24gYXV0b21hdGljYWxseS5cbiAgICAgKiBpZiB5b3Ugd2FudCB0byBtYWtlIHRoZSBwYXRoIHZpc2libGUsIGdpdmUgaXQgYSBzdHJva2UgYW5kIHN0cm9rZVdpZHRoIG9yIGZpbGwgdmFsdWVcbiAgICAgKiBpZiB5b3Ugd2FudCBpdCB0byBiZSBoaWRkZW4sIGFzc2lnbiB2aXNpYmxlID0gZmFsc2UgdG8gdGhlIHBhdGguXG4gICAgICogVGhpcyBmZWF0dXJlIGlzIGluIEJFVEEsIGFuZCBTVkcgaW1wb3J0L2V4cG9ydCBpcyBub3QgeWV0IHN1cHBvcnRlZC5cbiAgICAgKiBAdHlwZSBmYWJyaWMuUGF0aFxuICAgICAqIEBleGFtcGxlXG4gICAgICogdmFyIHRleHRQYXRoID0gbmV3IGZhYnJpYy5UZXh0KCdUZXh0IG9uIGEgcGF0aCcsIHtcbiAgICAgKiAgICAgdG9wOiAxNTAsXG4gICAgICogICAgIGxlZnQ6IDE1MCxcbiAgICAgKiAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgICAgKiAgICAgY2hhclNwYWNpbmc6IC01MCxcbiAgICAgKiAgICAgcGF0aDogbmV3IGZhYnJpYy5QYXRoKCdNIDAgMCBDIDUwIC0xMDAgMTUwIC0xMDAgMjAwIDAnLCB7XG4gICAgICogICAgICAgICBzdHJva2VXaWR0aDogMSxcbiAgICAgKiAgICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgICogICAgIH0pLFxuICAgICAqICAgICBwYXRoU2lkZTogJ2xlZnQnLFxuICAgICAqICAgICBwYXRoU3RhcnRPZmZzZXQ6IDBcbiAgICAgKiB9KTtcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHBhdGg6ICAgICAgICAgICAgICAgbnVsbCxcblxuICAgIC8qKlxuICAgICAqIE9mZnNldCBhbW91bnQgZm9yIHRleHQgcGF0aCBzdGFydGluZyBwb3NpdGlvblxuICAgICAqIE9ubHkgdXNlZCB3aGVuIHRleHQgaGFzIGEgcGF0aFxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgcGF0aFN0YXJ0T2Zmc2V0OiAgICAgICAgICAgICAgIDAsXG5cbiAgICAvKipcbiAgICAgKiBXaGljaCBzaWRlIG9mIHRoZSBwYXRoIHRoZSB0ZXh0IHNob3VsZCBiZSBkcmF3biBvbi5cbiAgICAgKiBPbmx5IHVzZWQgd2hlbiB0ZXh0IGhhcyBhIHBhdGhcbiAgICAgKiBAdHlwZSB7U3RyaW5nfSAnbGVmdHxyaWdodCdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHBhdGhTaWRlOiAgICAgICAgICAgICAgICdsZWZ0JyxcblxuICAgIC8qKlxuICAgICAqIEhvdyB0ZXh0IGlzIGFsaWduZWQgdG8gdGhlIHBhdGguIFRoaXMgcHJvcGVydHkgZGV0ZXJtaW5lc1xuICAgICAqIHRoZSBwZXJwZW5kaWN1bGFyIHBvc2l0aW9uIG9mIGVhY2ggY2hhcmFjdGVyIHJlbGF0aXZlIHRvIHRoZSBwYXRoLlxuICAgICAqIChvbmUgb2YgXCJiYXNlbGluZVwiLCBcImNlbnRlclwiLCBcImFzY2VuZGVyXCIsIFwiZGVzY2VuZGVyXCIpXG4gICAgICogVGhpcyBmZWF0dXJlIGlzIGluIEJFVEEsIGFuZCBpdHMgYmVoYXZpb3IgbWF5IGNoYW5nZVxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgcGF0aEFsaWduOiAgICAgICAgICAgICAgICdiYXNlbGluZScsXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9mb250U2l6ZUZyYWN0aW9uOiAwLjIyMixcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb2Zmc2V0czoge1xuICAgICAgdW5kZXJsaW5lOiAwLjEwLFxuICAgICAgbGluZXRocm91Z2g6IC0wLjMxNSxcbiAgICAgIG92ZXJsaW5lOiAtMC44OFxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUZXh0IExpbmUgcHJvcG9ydGlvbiB0byBmb250IFNpemUgKGluIHBpeGVscylcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIF9mb250U2l6ZU11bHQ6ICAgICAgICAgICAgIDEuMTMsXG5cbiAgICAvKipcbiAgICAgKiBhZGRpdGlvbmFsIHNwYWNlIGJldHdlZW4gY2hhcmFjdGVyc1xuICAgICAqIGV4cHJlc3NlZCBpbiB0aG91c2FuZHMgb2YgZW0gdW5pdFxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgY2hhclNwYWNpbmc6ICAgICAgICAgICAgIDAsXG5cbiAgICAvKipcbiAgICAgKiBPYmplY3QgY29udGFpbmluZyBjaGFyYWN0ZXIgc3R5bGVzIC0gdG9wLWxldmVsIHByb3BlcnRpZXMgLT4gbGluZSBudW1iZXJzLFxuICAgICAqIDJuZC1sZXZlbCBwcm9wZXJ0aWVzIC0gY2hhcmFjdGVyIG51bWJlcnNcbiAgICAgKiBAdHlwZSBPYmplY3RcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHN0eWxlczogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIFJlZmVyZW5jZSB0byBhIGNvbnRleHQgdG8gbWVhc3VyZSB0ZXh0IGNoYXIgb3IgY291cGxlIG9mIGNoYXJzXG4gICAgICogdGhlIGNhY2hlQ29udGV4dCBvZiB0aGUgY2FudmFzIHdpbGwgYmUgdXNlZCBvciBhIGZyZXNobHkgY3JlYXRlZCBvbmUgaWYgdGhlIG9iamVjdCBpcyBub3Qgb24gY2FudmFzXG4gICAgICogb25jZSBjcmVhdGVkIGl0IHdpbGwgYmUgcmVmZXJlbmNlZCBvbiBmYWJyaWMuX21lYXN1cmluZ0NvbnRleHQgdG8gYXZvaWQgY3JlYXRpbmcgYSBjYW52YXMgZm9yIGV2ZXJ5XG4gICAgICogdGV4dCBvYmplY3QgY3JlYXRlZC5cbiAgICAgKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgX21lYXN1cmluZ0NvbnRleHQ6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBCYXNlbGluZSBzaGlmdCwgc3R5bGVzIG9ubHksIGtlZXAgYXQgMCBmb3IgdGhlIG1haW4gdGV4dCBvYmplY3RcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgZGVsdGFZOiAwLFxuXG4gICAgLyoqXG4gICAgICogV0FSTklORzogRVhQRVJJTUVOVEFMLiBOT1QgU1VQUE9SVEVEIFlFVFxuICAgICAqIGRldGVybWluZSB0aGUgZGlyZWN0aW9uIG9mIHRoZSB0ZXh0LlxuICAgICAqIFRoaXMgaGFzIHRvIGJlIHNldCBtYW51YWxseSB0b2dldGhlciB3aXRoIHRleHRBbGlnbiBhbmQgb3JpZ2luWCBmb3IgcHJvcGVyXG4gICAgICogZXhwZXJpZW5jZS5cbiAgICAgKiBzb21lIGludGVyZXN0aW5nIGxpbmsgZm9yIHRoZSBmdXR1cmVcbiAgICAgKiBodHRwczovL3d3dy53My5vcmcvSW50ZXJuYXRpb25hbC9xdWVzdGlvbnMvcWEtYmlkaS11bmljb2RlLWNvbnRyb2xzXG4gICAgICogQHNpbmNlIDQuNS4wXG4gICAgICogQHR5cGUge1N0cmluZ30gJ2x0cnxydGwnXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBkaXJlY3Rpb246ICdsdHInLFxuXG4gICAgLyoqXG4gICAgICogQXJyYXkgb2YgcHJvcGVydGllcyB0aGF0IGRlZmluZSBhIHN0eWxlIHVuaXQgKG9mICdzdHlsZXMnKS5cbiAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBfc3R5bGVQcm9wZXJ0aWVzOiBbXG4gICAgICAnc3Ryb2tlJyxcbiAgICAgICdzdHJva2VXaWR0aCcsXG4gICAgICAnZmlsbCcsXG4gICAgICAnZm9udEZhbWlseScsXG4gICAgICAnZm9udFNpemUnLFxuICAgICAgJ2ZvbnRXZWlnaHQnLFxuICAgICAgJ2ZvbnRTdHlsZScsXG4gICAgICAndW5kZXJsaW5lJyxcbiAgICAgICdvdmVybGluZScsXG4gICAgICAnbGluZXRocm91Z2gnLFxuICAgICAgJ2RlbHRhWScsXG4gICAgICAndGV4dEJhY2tncm91bmRDb2xvcicsXG4gICAgXSxcblxuICAgIC8qKlxuICAgICAqIGNvbnRhaW5zIGNoYXJhY3RlcnMgYm91bmRpbmcgYm94ZXNcbiAgICAgKi9cbiAgICBfX2NoYXJCb3VuZHM6IFtdLFxuXG4gICAgLyoqXG4gICAgICogdXNlIHRoaXMgc2l6ZSB3aGVuIG1lYXN1cmluZyB0ZXh0LiBUbyBhdm9pZCBJRTExIHJvdW5kaW5nIGVycm9yc1xuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQGRlZmF1bHRcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIENBQ0hFX0ZPTlRfU0laRTogNDAwLFxuXG4gICAgLyoqXG4gICAgICogY29udGFpbnMgdGhlIG1pbiB0ZXh0IHdpZHRoIHRvIGF2b2lkIGdldHRpbmcgMFxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBNSU5fVEVYVF9XSURUSDogMixcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHRleHQgVGV4dCBzdHJpbmdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAgICogQHJldHVybiB7ZmFicmljLlRleHR9IHRoaXNBcmdcbiAgICAgKi9cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbih0ZXh0LCBvcHRpb25zKSB7XG4gICAgICB0aGlzLnN0eWxlcyA9IG9wdGlvbnMgPyAob3B0aW9ucy5zdHlsZXMgfHwgeyB9KSA6IHsgfTtcbiAgICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgICB0aGlzLl9fc2tpcERpbWVuc2lvbiA9IHRydWU7XG4gICAgICB0aGlzLmNhbGxTdXBlcignaW5pdGlhbGl6ZScsIG9wdGlvbnMpO1xuICAgICAgaWYgKHRoaXMucGF0aCkge1xuICAgICAgICB0aGlzLnNldFBhdGhJbmZvKCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9fc2tpcERpbWVuc2lvbiA9IGZhbHNlO1xuICAgICAgdGhpcy5pbml0RGltZW5zaW9ucygpO1xuICAgICAgdGhpcy5zZXRDb29yZHMoKTtcbiAgICAgIHRoaXMuc2V0dXBTdGF0ZSh7IHByb3BlcnR5U2V0OiAnX2RpbWVuc2lvbkFmZmVjdGluZ1Byb3BzJyB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSWYgdGV4dCBoYXMgYSBwYXRoLCBpdCB3aWxsIGFkZCB0aGUgZXh0cmEgaW5mb3JtYXRpb24gbmVlZGVkXG4gICAgICogZm9yIHBhdGggYW5kIHRleHQgY2FsY3VsYXRpb25zXG4gICAgICogQHJldHVybiB7ZmFicmljLlRleHR9IHRoaXNBcmdcbiAgICAgKi9cbiAgICBzZXRQYXRoSW5mbzogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcGF0aCA9IHRoaXMucGF0aDtcbiAgICAgIGlmIChwYXRoKSB7XG4gICAgICAgIHBhdGguc2VnbWVudHNJbmZvID0gZmFicmljLnV0aWwuZ2V0UGF0aFNlZ21lbnRzSW5mbyhwYXRoLnBhdGgpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYSBjb250ZXh0IGZvciBtZWFzdXJlbWVudCBvZiB0ZXh0IHN0cmluZy5cbiAgICAgKiBpZiBjcmVhdGVkIGl0IGdldHMgc3RvcmVkIGZvciByZXVzZVxuICAgICAqIHRoaXMgaXMgZm9yIGludGVybmFsIHVzZSwgcGxlYXNlIGRvIG5vdCB1c2UgaXRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0IFRleHQgc3RyaW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5UZXh0fSB0aGlzQXJnXG4gICAgICovXG4gICAgZ2V0TWVhc3VyaW5nQ29udGV4dDogZnVuY3Rpb24oKSB7XG4gICAgICAvLyBpZiB3ZSBkaWQgbm90IHJldHVybiB3ZSBoYXZlIHRvIG1lYXN1cmUgc29tZXRoaW5nLlxuICAgICAgaWYgKCFmYWJyaWMuX21lYXN1cmluZ0NvbnRleHQpIHtcbiAgICAgICAgZmFicmljLl9tZWFzdXJpbmdDb250ZXh0ID0gdGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMuY29udGV4dENhY2hlIHx8XG4gICAgICAgICAgZmFicmljLnV0aWwuY3JlYXRlQ2FudmFzRWxlbWVudCgpLmdldENvbnRleHQoJzJkJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFicmljLl9tZWFzdXJpbmdDb250ZXh0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIERpdmlkZXMgdGV4dCBpbnRvIGxpbmVzIG9mIHRleHQgYW5kIGxpbmVzIG9mIGdyYXBoZW1lcy5cbiAgICAgKi9cbiAgICBfc3BsaXRUZXh0OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBuZXdMaW5lcyA9IHRoaXMuX3NwbGl0VGV4dEludG9MaW5lcyh0aGlzLnRleHQpO1xuICAgICAgdGhpcy50ZXh0TGluZXMgPSBuZXdMaW5lcy5saW5lcztcbiAgICAgIHRoaXMuX3RleHRMaW5lcyA9IG5ld0xpbmVzLmdyYXBoZW1lTGluZXM7XG4gICAgICB0aGlzLl91bndyYXBwZWRUZXh0TGluZXMgPSBuZXdMaW5lcy5fdW53cmFwcGVkTGluZXM7XG4gICAgICB0aGlzLl90ZXh0ID0gbmV3TGluZXMuZ3JhcGhlbWVUZXh0O1xuICAgICAgcmV0dXJuIG5ld0xpbmVzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIG9yIHVwZGF0ZSB0ZXh0IGRpbWVuc2lvbnMuXG4gICAgICogVXBkYXRlcyB0aGlzLndpZHRoIGFuZCB0aGlzLmhlaWdodCB3aXRoIHRoZSBwcm9wZXIgdmFsdWVzLlxuICAgICAqIERvZXMgbm90IHJldHVybiBkaW1lbnNpb25zLlxuICAgICAqL1xuICAgIGluaXREaW1lbnNpb25zOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLl9fc2tpcERpbWVuc2lvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLl9zcGxpdFRleHQoKTtcbiAgICAgIHRoaXMuX2NsZWFyQ2FjaGUoKTtcbiAgICAgIGlmICh0aGlzLnBhdGgpIHtcbiAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMucGF0aC53aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLnBhdGguaGVpZ2h0O1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMud2lkdGggPSB0aGlzLmNhbGNUZXh0V2lkdGgoKSB8fCB0aGlzLmN1cnNvcldpZHRoIHx8IHRoaXMuTUlOX1RFWFRfV0lEVEg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5jYWxjVGV4dEhlaWdodCgpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMudGV4dEFsaWduLmluZGV4T2YoJ2p1c3RpZnknKSAhPT0gLTEpIHtcbiAgICAgICAgLy8gb25jZSB0ZXh0IGlzIG1lYXN1cmVkIHdlIG5lZWQgdG8gbWFrZSBzcGFjZSBmYXR0ZXIgdG8gbWFrZSBqdXN0aWZpZWQgdGV4dC5cbiAgICAgICAgdGhpcy5lbmxhcmdlU3BhY2VzKCk7XG4gICAgICB9XG4gICAgICB0aGlzLnNhdmVTdGF0ZSh7IHByb3BlcnR5U2V0OiAnX2RpbWVuc2lvbkFmZmVjdGluZ1Byb3BzJyB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRW5sYXJnZSBzcGFjZSBib3hlcyBhbmQgc2hpZnQgdGhlIG90aGVyc1xuICAgICAqL1xuICAgIGVubGFyZ2VTcGFjZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGRpZmZTcGFjZSwgY3VycmVudExpbmVXaWR0aCwgbnVtYmVyT2ZTcGFjZXMsIGFjY3VtdWxhdGVkU3BhY2UsIGxpbmUsIGNoYXJCb3VuZCwgc3BhY2VzO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMuX3RleHRMaW5lcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBpZiAodGhpcy50ZXh0QWxpZ24gIT09ICdqdXN0aWZ5JyAmJiAoaSA9PT0gbGVuIC0gMSB8fCB0aGlzLmlzRW5kT2ZXcmFwcGluZyhpKSkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBhY2N1bXVsYXRlZFNwYWNlID0gMDtcbiAgICAgICAgbGluZSA9IHRoaXMuX3RleHRMaW5lc1tpXTtcbiAgICAgICAgY3VycmVudExpbmVXaWR0aCA9IHRoaXMuZ2V0TGluZVdpZHRoKGkpO1xuICAgICAgICBpZiAoY3VycmVudExpbmVXaWR0aCA8IHRoaXMud2lkdGggJiYgKHNwYWNlcyA9IHRoaXMudGV4dExpbmVzW2ldLm1hdGNoKHRoaXMuX3JlU3BhY2VzQW5kVGFicykpKSB7XG4gICAgICAgICAgbnVtYmVyT2ZTcGFjZXMgPSBzcGFjZXMubGVuZ3RoO1xuICAgICAgICAgIGRpZmZTcGFjZSA9ICh0aGlzLndpZHRoIC0gY3VycmVudExpbmVXaWR0aCkgLyBudW1iZXJPZlNwYWNlcztcbiAgICAgICAgICBmb3IgKHZhciBqID0gMCwgamxlbiA9IGxpbmUubGVuZ3RoOyBqIDw9IGpsZW47IGorKykge1xuICAgICAgICAgICAgY2hhckJvdW5kID0gdGhpcy5fX2NoYXJCb3VuZHNbaV1bal07XG4gICAgICAgICAgICBpZiAodGhpcy5fcmVTcGFjZUFuZFRhYi50ZXN0KGxpbmVbal0pKSB7XG4gICAgICAgICAgICAgIGNoYXJCb3VuZC53aWR0aCArPSBkaWZmU3BhY2U7XG4gICAgICAgICAgICAgIGNoYXJCb3VuZC5rZXJuZWRXaWR0aCArPSBkaWZmU3BhY2U7XG4gICAgICAgICAgICAgIGNoYXJCb3VuZC5sZWZ0ICs9IGFjY3VtdWxhdGVkU3BhY2U7XG4gICAgICAgICAgICAgIGFjY3VtdWxhdGVkU3BhY2UgKz0gZGlmZlNwYWNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIGNoYXJCb3VuZC5sZWZ0ICs9IGFjY3VtdWxhdGVkU3BhY2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERldGVjdCBpZiB0aGUgdGV4dCBsaW5lIGlzIGVuZGVkIHdpdGggYW4gaGFyZCBicmVha1xuICAgICAqIHRleHQgYW5kIGl0ZXh0IGRvIG5vdCBoYXZlIHdyYXBwaW5nLCByZXR1cm4gZmFsc2VcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIGlzRW5kT2ZXcmFwcGluZzogZnVuY3Rpb24obGluZUluZGV4KSB7XG4gICAgICByZXR1cm4gbGluZUluZGV4ID09PSB0aGlzLl90ZXh0TGluZXMubGVuZ3RoIC0gMTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGV0ZWN0IGlmIGEgbGluZSBoYXMgYSBsaW5lYnJlYWsgYW5kIHNvIHdlIG5lZWQgdG8gYWNjb3VudCBmb3IgaXQgd2hlbiBtb3ZpbmdcbiAgICAgKiBhbmQgY291bnRpbmcgc3R5bGUuXG4gICAgICogSXQgcmV0dXJuIGFsd2F5cyBmb3IgdGV4dCBhbmQgSXRleHQuXG4gICAgICogQHJldHVybiBOdW1iZXJcbiAgICAgKi9cbiAgICBtaXNzaW5nTmV3bGluZU9mZnNldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IFN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0ZXh0IG9iamVjdFxuICAgICAqL1xuICAgIHRvU3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAnIzxmYWJyaWMuVGV4dCAoJyArIHRoaXMuY29tcGxleGl0eSgpICtcbiAgICAgICAgJyk6IHsgXCJ0ZXh0XCI6IFwiJyArIHRoaXMudGV4dCArICdcIiwgXCJmb250RmFtaWx5XCI6IFwiJyArIHRoaXMuZm9udEZhbWlseSArICdcIiB9Pic7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgZGltZW5zaW9uIGFuZCB0aGUgem9vbSBsZXZlbCBuZWVkZWQgdG8gY3JlYXRlIGEgY2FjaGUgY2FudmFzXG4gICAgICogYmlnIGVub3VnaCB0byBob3N0IHRoZSBvYmplY3QgdG8gYmUgY2FjaGVkLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRpbS54IHdpZHRoIG9mIG9iamVjdCB0byBiZSBjYWNoZWRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGltLnkgaGVpZ2h0IG9mIG9iamVjdCB0byBiZSBjYWNoZWRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9LndpZHRoIHdpZHRoIG9mIGNhbnZhc1xuICAgICAqIEByZXR1cm4ge09iamVjdH0uaGVpZ2h0IGhlaWdodCBvZiBjYW52YXNcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9Lnpvb21YIHpvb21YIHpvb20gdmFsdWUgdG8gdW5zY2FsZSB0aGUgY2FudmFzIGJlZm9yZSBkcmF3aW5nIGNhY2hlXG4gICAgICogQHJldHVybiB7T2JqZWN0fS56b29tWSB6b29tWSB6b29tIHZhbHVlIHRvIHVuc2NhbGUgdGhlIGNhbnZhcyBiZWZvcmUgZHJhd2luZyBjYWNoZVxuICAgICAqL1xuICAgIF9nZXRDYWNoZUNhbnZhc0RpbWVuc2lvbnM6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGRpbXMgPSB0aGlzLmNhbGxTdXBlcignX2dldENhY2hlQ2FudmFzRGltZW5zaW9ucycpO1xuICAgICAgdmFyIGZvbnRTaXplID0gdGhpcy5mb250U2l6ZTtcbiAgICAgIGRpbXMud2lkdGggKz0gZm9udFNpemUgKiBkaW1zLnpvb21YO1xuICAgICAgZGltcy5oZWlnaHQgKz0gZm9udFNpemUgKiBkaW1zLnpvb21ZO1xuICAgICAgcmV0dXJuIGRpbXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIF9yZW5kZXI6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgdmFyIHBhdGggPSB0aGlzLnBhdGg7XG4gICAgICBwYXRoICYmICFwYXRoLmlzTm90VmlzaWJsZSgpICYmIHBhdGguX3JlbmRlcihjdHgpO1xuICAgICAgdGhpcy5fc2V0VGV4dFN0eWxlcyhjdHgpO1xuICAgICAgdGhpcy5fcmVuZGVyVGV4dExpbmVzQmFja2dyb3VuZChjdHgpO1xuICAgICAgdGhpcy5fcmVuZGVyVGV4dERlY29yYXRpb24oY3R4LCAndW5kZXJsaW5lJyk7XG4gICAgICB0aGlzLl9yZW5kZXJUZXh0KGN0eCk7XG4gICAgICB0aGlzLl9yZW5kZXJUZXh0RGVjb3JhdGlvbihjdHgsICdvdmVybGluZScpO1xuICAgICAgdGhpcy5fcmVuZGVyVGV4dERlY29yYXRpb24oY3R4LCAnbGluZXRocm91Z2gnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgX3JlbmRlclRleHQ6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgaWYgKHRoaXMucGFpbnRGaXJzdCA9PT0gJ3N0cm9rZScpIHtcbiAgICAgICAgdGhpcy5fcmVuZGVyVGV4dFN0cm9rZShjdHgpO1xuICAgICAgICB0aGlzLl9yZW5kZXJUZXh0RmlsbChjdHgpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuX3JlbmRlclRleHRGaWxsKGN0eCk7XG4gICAgICAgIHRoaXMuX3JlbmRlclRleHRTdHJva2UoY3R4KTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBmb250IHBhcmFtZXRlciBvZiB0aGUgY29udGV4dCB3aXRoIHRoZSBvYmplY3QgcHJvcGVydGllcyBvciB3aXRoIGNoYXJTdHlsZVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY2hhclN0eWxlXSBvYmplY3Qgd2l0aCBmb250IHN0eWxlIHByb3BlcnRpZXNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NoYXJTdHlsZS5mb250RmFtaWx5XSBGb250IEZhbWlseVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY2hhclN0eWxlLmZvbnRTaXplXSBGb250IHNpemUgaW4gcGl4ZWxzLiAoIHdpdGhvdXQgcHggc3VmZml4IClcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NoYXJTdHlsZS5mb250V2VpZ2h0XSBGb250IHdlaWdodFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY2hhclN0eWxlLmZvbnRTdHlsZV0gRm9udCBzdHlsZSAoaXRhbGljfG5vcm1hbClcbiAgICAgKi9cbiAgICBfc2V0VGV4dFN0eWxlczogZnVuY3Rpb24oY3R4LCBjaGFyU3R5bGUsIGZvck1lYXN1cmluZykge1xuICAgICAgY3R4LnRleHRCYXNlbGluZSA9ICdhbHBoYWJldGljYWwnO1xuICAgICAgaWYgKHRoaXMucGF0aCkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMucGF0aEFsaWduKSB7XG4gICAgICAgICAgY2FzZSAnY2VudGVyJzpcbiAgICAgICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2FzY2VuZGVyJzpcbiAgICAgICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSAndG9wJztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2Rlc2NlbmRlcic6XG4gICAgICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gJ2JvdHRvbSc7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY3R4LmZvbnQgPSB0aGlzLl9nZXRGb250RGVjbGFyYXRpb24oY2hhclN0eWxlLCBmb3JNZWFzdXJpbmcpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBjYWxjdWxhdGUgYW5kIHJldHVybiB0aGUgdGV4dCBXaWR0aCBtZWFzdXJpbmcgZWFjaCBsaW5lLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqIEByZXR1cm4ge051bWJlcn0gTWF4aW11bSB3aWR0aCBvZiBmYWJyaWMuVGV4dCBvYmplY3RcbiAgICAgKi9cbiAgICBjYWxjVGV4dFdpZHRoOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBtYXhXaWR0aCA9IHRoaXMuZ2V0TGluZVdpZHRoKDApO1xuXG4gICAgICBmb3IgKHZhciBpID0gMSwgbGVuID0gdGhpcy5fdGV4dExpbmVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciBjdXJyZW50TGluZVdpZHRoID0gdGhpcy5nZXRMaW5lV2lkdGgoaSk7XG4gICAgICAgIGlmIChjdXJyZW50TGluZVdpZHRoID4gbWF4V2lkdGgpIHtcbiAgICAgICAgICBtYXhXaWR0aCA9IGN1cnJlbnRMaW5lV2lkdGg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXhXaWR0aDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbWV0aG9kIE1ldGhvZCBuYW1lIChcImZpbGxUZXh0XCIgb3IgXCJzdHJva2VUZXh0XCIpXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBsaW5lIFRleHQgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxlZnQgTGVmdCBwb3NpdGlvbiBvZiB0ZXh0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHRvcCBUb3AgcG9zaXRpb24gb2YgdGV4dFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSW5kZXggSW5kZXggb2YgYSBsaW5lIGluIGEgdGV4dFxuICAgICAqL1xuICAgIF9yZW5kZXJUZXh0TGluZTogZnVuY3Rpb24obWV0aG9kLCBjdHgsIGxpbmUsIGxlZnQsIHRvcCwgbGluZUluZGV4KSB7XG4gICAgICB0aGlzLl9yZW5kZXJDaGFycyhtZXRob2QsIGN0eCwgbGluZSwgbGVmdCwgdG9wLCBsaW5lSW5kZXgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSB0ZXh0IGJhY2tncm91bmQgZm9yIGxpbmVzLCB0YWtpbmcgY2FyZSBvZiBzdHlsZVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIF9yZW5kZXJUZXh0TGluZXNCYWNrZ3JvdW5kOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIGlmICghdGhpcy50ZXh0QmFja2dyb3VuZENvbG9yICYmICF0aGlzLnN0eWxlSGFzKCd0ZXh0QmFja2dyb3VuZENvbG9yJykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIGhlaWdodE9mTGluZSxcbiAgICAgICAgICBsaW5lTGVmdE9mZnNldCwgb3JpZ2luYWxGaWxsID0gY3R4LmZpbGxTdHlsZSxcbiAgICAgICAgICBsaW5lLCBsYXN0Q29sb3IsXG4gICAgICAgICAgbGVmdE9mZnNldCA9IHRoaXMuX2dldExlZnRPZmZzZXQoKSxcbiAgICAgICAgICBsaW5lVG9wT2Zmc2V0ID0gdGhpcy5fZ2V0VG9wT2Zmc2V0KCksXG4gICAgICAgICAgYm94U3RhcnQgPSAwLCBib3hXaWR0aCA9IDAsIGNoYXJCb3gsIGN1cnJlbnRDb2xvciwgcGF0aCA9IHRoaXMucGF0aCxcbiAgICAgICAgICBkcmF3U3RhcnQ7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLl90ZXh0TGluZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgaGVpZ2h0T2ZMaW5lID0gdGhpcy5nZXRIZWlnaHRPZkxpbmUoaSk7XG4gICAgICAgIGlmICghdGhpcy50ZXh0QmFja2dyb3VuZENvbG9yICYmICF0aGlzLnN0eWxlSGFzKCd0ZXh0QmFja2dyb3VuZENvbG9yJywgaSkpIHtcbiAgICAgICAgICBsaW5lVG9wT2Zmc2V0ICs9IGhlaWdodE9mTGluZTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBsaW5lID0gdGhpcy5fdGV4dExpbmVzW2ldO1xuICAgICAgICBsaW5lTGVmdE9mZnNldCA9IHRoaXMuX2dldExpbmVMZWZ0T2Zmc2V0KGkpO1xuICAgICAgICBib3hXaWR0aCA9IDA7XG4gICAgICAgIGJveFN0YXJ0ID0gMDtcbiAgICAgICAgbGFzdENvbG9yID0gdGhpcy5nZXRWYWx1ZU9mUHJvcGVydHlBdChpLCAwLCAndGV4dEJhY2tncm91bmRDb2xvcicpO1xuICAgICAgICBmb3IgKHZhciBqID0gMCwgamxlbiA9IGxpbmUubGVuZ3RoOyBqIDwgamxlbjsgaisrKSB7XG4gICAgICAgICAgY2hhckJveCA9IHRoaXMuX19jaGFyQm91bmRzW2ldW2pdO1xuICAgICAgICAgIGN1cnJlbnRDb2xvciA9IHRoaXMuZ2V0VmFsdWVPZlByb3BlcnR5QXQoaSwgaiwgJ3RleHRCYWNrZ3JvdW5kQ29sb3InKTtcbiAgICAgICAgICBpZiAocGF0aCkge1xuICAgICAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgICAgIGN0eC50cmFuc2xhdGUoY2hhckJveC5yZW5kZXJMZWZ0LCBjaGFyQm94LnJlbmRlclRvcCk7XG4gICAgICAgICAgICBjdHgucm90YXRlKGNoYXJCb3guYW5nbGUpO1xuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGN1cnJlbnRDb2xvcjtcbiAgICAgICAgICAgIGN1cnJlbnRDb2xvciAmJiBjdHguZmlsbFJlY3QoXG4gICAgICAgICAgICAgIC1jaGFyQm94LndpZHRoIC8gMixcbiAgICAgICAgICAgICAgLWhlaWdodE9mTGluZSAvIHRoaXMubGluZUhlaWdodCAqICgxIC0gdGhpcy5fZm9udFNpemVGcmFjdGlvbiksXG4gICAgICAgICAgICAgIGNoYXJCb3gud2lkdGgsXG4gICAgICAgICAgICAgIGhlaWdodE9mTGluZSAvIHRoaXMubGluZUhlaWdodFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKGN1cnJlbnRDb2xvciAhPT0gbGFzdENvbG9yKSB7XG4gICAgICAgICAgICBkcmF3U3RhcnQgPSBsZWZ0T2Zmc2V0ICsgbGluZUxlZnRPZmZzZXQgKyBib3hTdGFydDtcbiAgICAgICAgICAgIGlmICh0aGlzLmRpcmVjdGlvbiA9PT0gJ3J0bCcpIHtcbiAgICAgICAgICAgICAgZHJhd1N0YXJ0ID0gdGhpcy53aWR0aCAtIGRyYXdTdGFydCAtIGJveFdpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGxhc3RDb2xvcjtcbiAgICAgICAgICAgIGxhc3RDb2xvciAmJiBjdHguZmlsbFJlY3QoXG4gICAgICAgICAgICAgIGRyYXdTdGFydCxcbiAgICAgICAgICAgICAgbGluZVRvcE9mZnNldCxcbiAgICAgICAgICAgICAgYm94V2lkdGgsXG4gICAgICAgICAgICAgIGhlaWdodE9mTGluZSAvIHRoaXMubGluZUhlaWdodFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJveFN0YXJ0ID0gY2hhckJveC5sZWZ0O1xuICAgICAgICAgICAgYm94V2lkdGggPSBjaGFyQm94LndpZHRoO1xuICAgICAgICAgICAgbGFzdENvbG9yID0gY3VycmVudENvbG9yO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGJveFdpZHRoICs9IGNoYXJCb3gua2VybmVkV2lkdGg7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJyZW50Q29sb3IgJiYgIXBhdGgpIHtcbiAgICAgICAgICBkcmF3U3RhcnQgPSBsZWZ0T2Zmc2V0ICsgbGluZUxlZnRPZmZzZXQgKyBib3hTdGFydDtcbiAgICAgICAgICBpZiAodGhpcy5kaXJlY3Rpb24gPT09ICdydGwnKSB7XG4gICAgICAgICAgICBkcmF3U3RhcnQgPSB0aGlzLndpZHRoIC0gZHJhd1N0YXJ0IC0gYm94V2lkdGg7XG4gICAgICAgICAgfVxuICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBjdXJyZW50Q29sb3I7XG4gICAgICAgICAgY3R4LmZpbGxSZWN0KFxuICAgICAgICAgICAgZHJhd1N0YXJ0LFxuICAgICAgICAgICAgbGluZVRvcE9mZnNldCxcbiAgICAgICAgICAgIGJveFdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0T2ZMaW5lIC8gdGhpcy5saW5lSGVpZ2h0XG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBsaW5lVG9wT2Zmc2V0ICs9IGhlaWdodE9mTGluZTtcbiAgICAgIH1cbiAgICAgIGN0eC5maWxsU3R5bGUgPSBvcmlnaW5hbEZpbGw7XG4gICAgICAvLyBpZiB0aGVyZSBpcyB0ZXh0IGJhY2tncm91bmQgY29sb3Igbm9cbiAgICAgIC8vIG90aGVyIHNoYWRvd3Mgc2hvdWxkIGJlIGNhc3RlZFxuICAgICAgdGhpcy5fcmVtb3ZlU2hhZG93KGN0eCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRlY2wgc3R5bGUgZGVjbGFyYXRpb24gZm9yIGNhY2hlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGRlY2wuZm9udEZhbWlseSBmb250RmFtaWx5XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGRlY2wuZm9udFN0eWxlIGZvbnRTdHlsZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBkZWNsLmZvbnRXZWlnaHQgZm9udFdlaWdodFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gcmVmZXJlbmNlIHRvIGNhY2hlXG4gICAgICovXG4gICAgZ2V0Rm9udENhY2hlOiBmdW5jdGlvbihkZWNsKSB7XG4gICAgICB2YXIgZm9udEZhbWlseSA9IGRlY2wuZm9udEZhbWlseS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKCFmYWJyaWMuY2hhcldpZHRoc0NhY2hlW2ZvbnRGYW1pbHldKSB7XG4gICAgICAgIGZhYnJpYy5jaGFyV2lkdGhzQ2FjaGVbZm9udEZhbWlseV0gPSB7IH07XG4gICAgICB9XG4gICAgICB2YXIgY2FjaGUgPSBmYWJyaWMuY2hhcldpZHRoc0NhY2hlW2ZvbnRGYW1pbHldLFxuICAgICAgICAgIGNhY2hlUHJvcCA9IGRlY2wuZm9udFN0eWxlLnRvTG93ZXJDYXNlKCkgKyAnXycgKyAoZGVjbC5mb250V2VpZ2h0ICsgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAoIWNhY2hlW2NhY2hlUHJvcF0pIHtcbiAgICAgICAgY2FjaGVbY2FjaGVQcm9wXSA9IHsgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjYWNoZVtjYWNoZVByb3BdO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBtZWFzdXJlIGFuZCByZXR1cm4gdGhlIHdpZHRoIG9mIGEgc2luZ2xlIGNoYXJhY3Rlci5cbiAgICAgKiBwb3NzaWJseSBvdmVycmlkZGVuIHRvIGFjY29tbW9kYXRlIGRpZmZlcmVudCBtZWFzdXJlIGxvZ2ljIG9yXG4gICAgICogdG8gaG9vayBzb21lIGV4dGVybmFsIGxpYiBmb3IgY2hhcmFjdGVyIG1lYXN1cmVtZW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gX2NoYXIsIGNoYXIgdG8gYmUgbWVhc3VyZWRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY2hhclN0eWxlIHN0eWxlIG9mIGNoYXIgdG8gYmUgbWVhc3VyZWRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW3ByZXZpb3VzQ2hhcl0gcHJldmlvdXMgY2hhclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbcHJldkNoYXJTdHlsZV0gc3R5bGUgb2YgcHJldmlvdXMgY2hhclxuICAgICAqL1xuICAgIF9tZWFzdXJlQ2hhcjogZnVuY3Rpb24oX2NoYXIsIGNoYXJTdHlsZSwgcHJldmlvdXNDaGFyLCBwcmV2Q2hhclN0eWxlKSB7XG4gICAgICAvLyBmaXJzdCBpIHRyeSB0byByZXR1cm4gZnJvbSBjYWNoZVxuICAgICAgdmFyIGZvbnRDYWNoZSA9IHRoaXMuZ2V0Rm9udENhY2hlKGNoYXJTdHlsZSksIGZvbnREZWNsYXJhdGlvbiA9IHRoaXMuX2dldEZvbnREZWNsYXJhdGlvbihjaGFyU3R5bGUpLFxuICAgICAgICAgIHByZXZpb3VzRm9udERlY2xhcmF0aW9uID0gdGhpcy5fZ2V0Rm9udERlY2xhcmF0aW9uKHByZXZDaGFyU3R5bGUpLCBjb3VwbGUgPSBwcmV2aW91c0NoYXIgKyBfY2hhcixcbiAgICAgICAgICBzdHlsZXNBcmVFcXVhbCA9IGZvbnREZWNsYXJhdGlvbiA9PT0gcHJldmlvdXNGb250RGVjbGFyYXRpb24sIHdpZHRoLCBjb3VwbGVXaWR0aCwgcHJldmlvdXNXaWR0aCxcbiAgICAgICAgICBmb250TXVsdGlwbGllciA9IGNoYXJTdHlsZS5mb250U2l6ZSAvIHRoaXMuQ0FDSEVfRk9OVF9TSVpFLCBrZXJuZWRXaWR0aDtcblxuICAgICAgaWYgKHByZXZpb3VzQ2hhciAmJiBmb250Q2FjaGVbcHJldmlvdXNDaGFyXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHByZXZpb3VzV2lkdGggPSBmb250Q2FjaGVbcHJldmlvdXNDaGFyXTtcbiAgICAgIH1cbiAgICAgIGlmIChmb250Q2FjaGVbX2NoYXJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAga2VybmVkV2lkdGggPSB3aWR0aCA9IGZvbnRDYWNoZVtfY2hhcl07XG4gICAgICB9XG4gICAgICBpZiAoc3R5bGVzQXJlRXF1YWwgJiYgZm9udENhY2hlW2NvdXBsZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb3VwbGVXaWR0aCA9IGZvbnRDYWNoZVtjb3VwbGVdO1xuICAgICAgICBrZXJuZWRXaWR0aCA9IGNvdXBsZVdpZHRoIC0gcHJldmlvdXNXaWR0aDtcbiAgICAgIH1cbiAgICAgIGlmICh3aWR0aCA9PT0gdW5kZWZpbmVkIHx8IHByZXZpb3VzV2lkdGggPT09IHVuZGVmaW5lZCB8fCBjb3VwbGVXaWR0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhciBjdHggPSB0aGlzLmdldE1lYXN1cmluZ0NvbnRleHQoKTtcbiAgICAgICAgLy8gc2VuZCBhIFRSVUUgdG8gc3BlY2lmeSBtZWFzdXJpbmcgZm9udCBzaXplIENBQ0hFX0ZPTlRfU0laRVxuICAgICAgICB0aGlzLl9zZXRUZXh0U3R5bGVzKGN0eCwgY2hhclN0eWxlLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGlmICh3aWR0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGtlcm5lZFdpZHRoID0gd2lkdGggPSBjdHgubWVhc3VyZVRleHQoX2NoYXIpLndpZHRoO1xuICAgICAgICBmb250Q2FjaGVbX2NoYXJdID0gd2lkdGg7XG4gICAgICB9XG4gICAgICBpZiAocHJldmlvdXNXaWR0aCA9PT0gdW5kZWZpbmVkICYmIHN0eWxlc0FyZUVxdWFsICYmIHByZXZpb3VzQ2hhcikge1xuICAgICAgICBwcmV2aW91c1dpZHRoID0gY3R4Lm1lYXN1cmVUZXh0KHByZXZpb3VzQ2hhcikud2lkdGg7XG4gICAgICAgIGZvbnRDYWNoZVtwcmV2aW91c0NoYXJdID0gcHJldmlvdXNXaWR0aDtcbiAgICAgIH1cbiAgICAgIGlmIChzdHlsZXNBcmVFcXVhbCAmJiBjb3VwbGVXaWR0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIHdlIGNhbiBtZWFzdXJlIHRoZSBrZXJuaW5nIGNvdXBsZSBhbmQgc3VidHJhY3QgdGhlIHdpZHRoIG9mIHRoZSBwcmV2aW91cyBjaGFyYWN0ZXJcbiAgICAgICAgY291cGxlV2lkdGggPSBjdHgubWVhc3VyZVRleHQoY291cGxlKS53aWR0aDtcbiAgICAgICAgZm9udENhY2hlW2NvdXBsZV0gPSBjb3VwbGVXaWR0aDtcbiAgICAgICAga2VybmVkV2lkdGggPSBjb3VwbGVXaWR0aCAtIHByZXZpb3VzV2lkdGg7XG4gICAgICB9XG4gICAgICByZXR1cm4geyB3aWR0aDogd2lkdGggKiBmb250TXVsdGlwbGllciwga2VybmVkV2lkdGg6IGtlcm5lZFdpZHRoICogZm9udE11bHRpcGxpZXIgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgaGVpZ2h0IG9mIGNoYXJhY3RlciBhdCBnaXZlbiBwb3NpdGlvblxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lIHRoZSBsaW5lIGluZGV4IG51bWJlclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBfY2hhciB0aGUgY2hhcmFjdGVyIGluZGV4IG51bWJlclxuICAgICAqIEByZXR1cm4ge051bWJlcn0gZm9udFNpemUgb2YgdGhlIGNoYXJhY3RlclxuICAgICAqL1xuICAgIGdldEhlaWdodE9mQ2hhcjogZnVuY3Rpb24obGluZSwgX2NoYXIpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldFZhbHVlT2ZQcm9wZXJ0eUF0KGxpbmUsIF9jaGFyLCAnZm9udFNpemUnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogbWVhc3VyZSBhIHRleHQgbGluZSBtZWFzdXJpbmcgYWxsIGNoYXJhY3RlcnMuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxpbmVJbmRleCBsaW5lIG51bWJlclxuICAgICAqIEByZXR1cm4ge051bWJlcn0gTGluZSB3aWR0aFxuICAgICAqL1xuICAgIG1lYXN1cmVMaW5lOiBmdW5jdGlvbihsaW5lSW5kZXgpIHtcbiAgICAgIHZhciBsaW5lSW5mbyA9IHRoaXMuX21lYXN1cmVMaW5lKGxpbmVJbmRleCk7XG4gICAgICBpZiAodGhpcy5jaGFyU3BhY2luZyAhPT0gMCkge1xuICAgICAgICBsaW5lSW5mby53aWR0aCAtPSB0aGlzLl9nZXRXaWR0aE9mQ2hhclNwYWNpbmcoKTtcbiAgICAgIH1cbiAgICAgIGlmIChsaW5lSW5mby53aWR0aCA8IDApIHtcbiAgICAgICAgbGluZUluZm8ud2lkdGggPSAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGxpbmVJbmZvO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBtZWFzdXJlIGV2ZXJ5IGdyYXBoZW1lIG9mIGEgbGluZSwgcG9wdWxhdGluZyBfX2NoYXJCb3VuZHNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4XG4gICAgICogQHJldHVybiB7T2JqZWN0fSBvYmplY3Qud2lkdGggdG90YWwgd2lkdGggb2YgY2hhcmFjdGVyc1xuICAgICAqIEByZXR1cm4ge09iamVjdH0gb2JqZWN0LndpZHRoT2ZTcGFjZXMgbGVuZ3RoIG9mIGNoYXJzIHRoYXQgbWF0Y2ggdGhpcy5fcmVTcGFjZXNBbmRUYWJzXG4gICAgICovXG4gICAgX21lYXN1cmVMaW5lOiBmdW5jdGlvbihsaW5lSW5kZXgpIHtcbiAgICAgIHZhciB3aWR0aCA9IDAsIGksIGdyYXBoZW1lLCBsaW5lID0gdGhpcy5fdGV4dExpbmVzW2xpbmVJbmRleF0sIHByZXZHcmFwaGVtZSxcbiAgICAgICAgICBncmFwaGVtZUluZm8sIG51bU9mU3BhY2VzID0gMCwgbGluZUJvdW5kcyA9IG5ldyBBcnJheShsaW5lLmxlbmd0aCksXG4gICAgICAgICAgcG9zaXRpb25JblBhdGggPSAwLCBzdGFydGluZ1BvaW50LCB0b3RhbFBhdGhMZW5ndGgsIHBhdGggPSB0aGlzLnBhdGgsXG4gICAgICAgICAgcmV2ZXJzZSA9IHRoaXMucGF0aFNpZGUgPT09ICdyaWdodCc7XG5cbiAgICAgIHRoaXMuX19jaGFyQm91bmRzW2xpbmVJbmRleF0gPSBsaW5lQm91bmRzO1xuICAgICAgZm9yIChpID0gMDsgaSA8IGxpbmUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZ3JhcGhlbWUgPSBsaW5lW2ldO1xuICAgICAgICBncmFwaGVtZUluZm8gPSB0aGlzLl9nZXRHcmFwaGVtZUJveChncmFwaGVtZSwgbGluZUluZGV4LCBpLCBwcmV2R3JhcGhlbWUpO1xuICAgICAgICBsaW5lQm91bmRzW2ldID0gZ3JhcGhlbWVJbmZvO1xuICAgICAgICB3aWR0aCArPSBncmFwaGVtZUluZm8ua2VybmVkV2lkdGg7XG4gICAgICAgIHByZXZHcmFwaGVtZSA9IGdyYXBoZW1lO1xuICAgICAgfVxuICAgICAgLy8gdGhpcyBsYXRlc3QgYm91bmQgYm94IHJlcHJlc2VudCB0aGUgbGFzdCBjaGFyYWN0ZXIgb2YgdGhlIGxpbmVcbiAgICAgIC8vIHRvIHNpbXBsaWZ5IGN1cnNvciBoYW5kbGluZyBpbiBpbnRlcmFjdGl2ZSBtb2RlLlxuICAgICAgbGluZUJvdW5kc1tpXSA9IHtcbiAgICAgICAgbGVmdDogZ3JhcGhlbWVJbmZvID8gZ3JhcGhlbWVJbmZvLmxlZnQgKyBncmFwaGVtZUluZm8ud2lkdGggOiAwLFxuICAgICAgICB3aWR0aDogMCxcbiAgICAgICAga2VybmVkV2lkdGg6IDAsXG4gICAgICAgIGhlaWdodDogdGhpcy5mb250U2l6ZVxuICAgICAgfTtcbiAgICAgIGlmIChwYXRoKSB7XG4gICAgICAgIHRvdGFsUGF0aExlbmd0aCA9IHBhdGguc2VnbWVudHNJbmZvW3BhdGguc2VnbWVudHNJbmZvLmxlbmd0aCAtIDFdLmxlbmd0aDtcbiAgICAgICAgc3RhcnRpbmdQb2ludCA9IGZhYnJpYy51dGlsLmdldFBvaW50T25QYXRoKHBhdGgucGF0aCwgMCwgcGF0aC5zZWdtZW50c0luZm8pO1xuICAgICAgICBzdGFydGluZ1BvaW50LnggKz0gcGF0aC5wYXRoT2Zmc2V0Lng7XG4gICAgICAgIHN0YXJ0aW5nUG9pbnQueSArPSBwYXRoLnBhdGhPZmZzZXQueTtcbiAgICAgICAgc3dpdGNoICh0aGlzLnRleHRBbGlnbikge1xuICAgICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgICAgcG9zaXRpb25JblBhdGggPSByZXZlcnNlID8gKHRvdGFsUGF0aExlbmd0aCAtIHdpZHRoKSA6IDA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdjZW50ZXInOlxuICAgICAgICAgICAgcG9zaXRpb25JblBhdGggPSAodG90YWxQYXRoTGVuZ3RoIC0gd2lkdGgpIC8gMjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgICAgICAgIHBvc2l0aW9uSW5QYXRoID0gcmV2ZXJzZSA/IDAgOiAodG90YWxQYXRoTGVuZ3RoIC0gd2lkdGgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgLy90b2RvIC0gYWRkIHN1cHBvcnQgZm9yIGp1c3RpZnlcbiAgICAgICAgfVxuICAgICAgICBwb3NpdGlvbkluUGF0aCArPSB0aGlzLnBhdGhTdGFydE9mZnNldCAqIChyZXZlcnNlID8gLTEgOiAxKTtcbiAgICAgICAgZm9yIChpID0gcmV2ZXJzZSA/IGxpbmUubGVuZ3RoIC0gMSA6IDA7XG4gICAgICAgICAgcmV2ZXJzZSA/IGkgPj0gMCA6IGkgPCBsaW5lLmxlbmd0aDtcbiAgICAgICAgICByZXZlcnNlID8gaS0tIDogaSsrKSB7XG4gICAgICAgICAgZ3JhcGhlbWVJbmZvID0gbGluZUJvdW5kc1tpXTtcbiAgICAgICAgICBpZiAocG9zaXRpb25JblBhdGggPiB0b3RhbFBhdGhMZW5ndGgpIHtcbiAgICAgICAgICAgIHBvc2l0aW9uSW5QYXRoICU9IHRvdGFsUGF0aExlbmd0aDtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAocG9zaXRpb25JblBhdGggPCAwKSB7XG4gICAgICAgICAgICBwb3NpdGlvbkluUGF0aCArPSB0b3RhbFBhdGhMZW5ndGg7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIGl0IHdvdWxkIHByb2JhYmx5IG11Y2ggZmFzdGVyIHRvIHNlbmQgYWxsIHRoZSBncmFwaGVtZSBwb3NpdGlvbiBmb3IgYSBsaW5lXG4gICAgICAgICAgLy8gYW5kIGNhbGN1bGF0ZSBwYXRoIHBvc2l0aW9uL2FuZ2xlIGF0IG9uY2UuXG4gICAgICAgICAgdGhpcy5fc2V0R3JhcGhlbWVPblBhdGgocG9zaXRpb25JblBhdGgsIGdyYXBoZW1lSW5mbywgc3RhcnRpbmdQb2ludCk7XG4gICAgICAgICAgcG9zaXRpb25JblBhdGggKz0gZ3JhcGhlbWVJbmZvLmtlcm5lZFdpZHRoO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4geyB3aWR0aDogd2lkdGgsIG51bU9mU3BhY2VzOiBudW1PZlNwYWNlcyB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGFuZ2xlICBhbmQgdGhlIGxlZnQsdG9wIHBvc2l0aW9uIG9mIHRoZSBjaGFyIHRoYXQgZm9sbG93IGEgcGF0aC5cbiAgICAgKiBJdCBhcHBlbmRzIGl0IHRvIGdyYXBoZW1lSW5mbyB0byBiZSByZXVzZWQgbGF0ZXIgYXQgcmVuZGVyaW5nXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcG9zaXRpb25JblBhdGggdG8gYmUgbWVhc3VyZWRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZ3JhcGhlbWVJbmZvIGN1cnJlbnQgZ3JhcGhlbWUgYm94IGluZm9ybWF0aW9uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0YXJ0aW5nUG9pbnQgcG9zaXRpb24gb2YgdGhlIHBvaW50XG4gICAgICovXG4gICAgX3NldEdyYXBoZW1lT25QYXRoOiBmdW5jdGlvbihwb3NpdGlvbkluUGF0aCwgZ3JhcGhlbWVJbmZvLCBzdGFydGluZ1BvaW50KSB7XG4gICAgICB2YXIgY2VudGVyUG9zaXRpb24gPSBwb3NpdGlvbkluUGF0aCArIGdyYXBoZW1lSW5mby5rZXJuZWRXaWR0aCAvIDIsXG4gICAgICAgICAgcGF0aCA9IHRoaXMucGF0aDtcblxuICAgICAgLy8gd2UgYXJlIGF0IGN1cnJlbnRQb3NpdGlvbk9uUGF0aC4gd2Ugd2FudCB0byBrbm93IHdoYXQgcG9pbnQgb24gdGhlIHBhdGggaXMuXG4gICAgICB2YXIgaW5mbyA9IGZhYnJpYy51dGlsLmdldFBvaW50T25QYXRoKHBhdGgucGF0aCwgY2VudGVyUG9zaXRpb24sIHBhdGguc2VnbWVudHNJbmZvKTtcbiAgICAgIGdyYXBoZW1lSW5mby5yZW5kZXJMZWZ0ID0gaW5mby54IC0gc3RhcnRpbmdQb2ludC54O1xuICAgICAgZ3JhcGhlbWVJbmZvLnJlbmRlclRvcCA9IGluZm8ueSAtIHN0YXJ0aW5nUG9pbnQueTtcbiAgICAgIGdyYXBoZW1lSW5mby5hbmdsZSA9IGluZm8uYW5nbGUgKyAodGhpcy5wYXRoU2lkZSA9PT0gICdyaWdodCcgPyBNYXRoLlBJIDogMCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1lYXN1cmUgYW5kIHJldHVybiB0aGUgaW5mbyBvZiBhIHNpbmdsZSBncmFwaGVtZS5cbiAgICAgKiBuZWVkcyB0aGUgdGhlIGluZm8gb2YgcHJldmlvdXMgZ3JhcGhlbWVzIGFscmVhZHkgZmlsbGVkXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZ3JhcGhlbWUgdG8gYmUgbWVhc3VyZWRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4IGluZGV4IG9mIHRoZSBsaW5lIHdoZXJlIHRoZSBjaGFyIGlzXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGNoYXJJbmRleCBwb3NpdGlvbiBpbiB0aGUgbGluZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbcHJldkdyYXBoZW1lXSBjaGFyYWN0ZXIgcHJlY2VkaW5nIHRoZSBvbmUgdG8gYmUgbWVhc3VyZWRcbiAgICAgKi9cbiAgICBfZ2V0R3JhcGhlbWVCb3g6IGZ1bmN0aW9uKGdyYXBoZW1lLCBsaW5lSW5kZXgsIGNoYXJJbmRleCwgcHJldkdyYXBoZW1lLCBza2lwTGVmdCkge1xuICAgICAgdmFyIHN0eWxlID0gdGhpcy5nZXRDb21wbGV0ZVN0eWxlRGVjbGFyYXRpb24obGluZUluZGV4LCBjaGFySW5kZXgpLFxuICAgICAgICAgIHByZXZTdHlsZSA9IHByZXZHcmFwaGVtZSA/IHRoaXMuZ2V0Q29tcGxldGVTdHlsZURlY2xhcmF0aW9uKGxpbmVJbmRleCwgY2hhckluZGV4IC0gMSkgOiB7IH0sXG4gICAgICAgICAgaW5mbyA9IHRoaXMuX21lYXN1cmVDaGFyKGdyYXBoZW1lLCBzdHlsZSwgcHJldkdyYXBoZW1lLCBwcmV2U3R5bGUpLFxuICAgICAgICAgIGtlcm5lZFdpZHRoID0gaW5mby5rZXJuZWRXaWR0aCxcbiAgICAgICAgICB3aWR0aCA9IGluZm8ud2lkdGgsIGNoYXJTcGFjaW5nO1xuXG4gICAgICBpZiAodGhpcy5jaGFyU3BhY2luZyAhPT0gMCkge1xuICAgICAgICBjaGFyU3BhY2luZyA9IHRoaXMuX2dldFdpZHRoT2ZDaGFyU3BhY2luZygpO1xuICAgICAgICB3aWR0aCArPSBjaGFyU3BhY2luZztcbiAgICAgICAga2VybmVkV2lkdGggKz0gY2hhclNwYWNpbmc7XG4gICAgICB9XG5cbiAgICAgIHZhciBib3ggPSB7XG4gICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgbGVmdDogMCxcbiAgICAgICAgaGVpZ2h0OiBzdHlsZS5mb250U2l6ZSxcbiAgICAgICAga2VybmVkV2lkdGg6IGtlcm5lZFdpZHRoLFxuICAgICAgICBkZWx0YVk6IHN0eWxlLmRlbHRhWSxcbiAgICAgIH07XG4gICAgICBpZiAoY2hhckluZGV4ID4gMCAmJiAhc2tpcExlZnQpIHtcbiAgICAgICAgdmFyIHByZXZpb3VzQm94ID0gdGhpcy5fX2NoYXJCb3VuZHNbbGluZUluZGV4XVtjaGFySW5kZXggLSAxXTtcbiAgICAgICAgYm94LmxlZnQgPSBwcmV2aW91c0JveC5sZWZ0ICsgcHJldmlvdXNCb3gud2lkdGggKyBpbmZvLmtlcm5lZFdpZHRoIC0gaW5mby53aWR0aDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBib3g7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSBoZWlnaHQgb2YgbGluZSBhdCAnbGluZUluZGV4J1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSW5kZXggaW5kZXggb2YgbGluZSB0byBjYWxjdWxhdGVcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAgICovXG4gICAgZ2V0SGVpZ2h0T2ZMaW5lOiBmdW5jdGlvbihsaW5lSW5kZXgpIHtcbiAgICAgIGlmICh0aGlzLl9fbGluZUhlaWdodHNbbGluZUluZGV4XSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fX2xpbmVIZWlnaHRzW2xpbmVJbmRleF07XG4gICAgICB9XG5cbiAgICAgIHZhciBsaW5lID0gdGhpcy5fdGV4dExpbmVzW2xpbmVJbmRleF0sXG4gICAgICAgICAgLy8gY2hhciAwIGlzIG1lYXN1cmVkIGJlZm9yZSB0aGUgbGluZSBjeWNsZSBiZWNhdXNlIGl0IG5uZWRzIHRvIGNoYXJcbiAgICAgICAgICAvLyBlbXB0eWxpbmVzXG4gICAgICAgICAgbWF4SGVpZ2h0ID0gdGhpcy5nZXRIZWlnaHRPZkNoYXIobGluZUluZGV4LCAwKTtcbiAgICAgIGZvciAodmFyIGkgPSAxLCBsZW4gPSBsaW5lLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIG1heEhlaWdodCA9IE1hdGgubWF4KHRoaXMuZ2V0SGVpZ2h0T2ZDaGFyKGxpbmVJbmRleCwgaSksIG1heEhlaWdodCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLl9fbGluZUhlaWdodHNbbGluZUluZGV4XSA9IG1heEhlaWdodCAqIHRoaXMubGluZUhlaWdodCAqIHRoaXMuX2ZvbnRTaXplTXVsdDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRleHQgYm94IGhlaWdodFxuICAgICAqL1xuICAgIGNhbGNUZXh0SGVpZ2h0OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBsaW5lSGVpZ2h0LCBoZWlnaHQgPSAwO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMuX3RleHRMaW5lcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBsaW5lSGVpZ2h0ID0gdGhpcy5nZXRIZWlnaHRPZkxpbmUoaSk7XG4gICAgICAgIGhlaWdodCArPSAoaSA9PT0gbGVuIC0gMSA/IGxpbmVIZWlnaHQgLyB0aGlzLmxpbmVIZWlnaHQgOiBsaW5lSGVpZ2h0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBoZWlnaHQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7TnVtYmVyfSBMZWZ0IG9mZnNldFxuICAgICAqL1xuICAgIF9nZXRMZWZ0T2Zmc2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmRpcmVjdGlvbiA9PT0gJ2x0cicgPyAtdGhpcy53aWR0aCAvIDIgOiB0aGlzLndpZHRoIC8gMjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IFRvcCBvZmZzZXRcbiAgICAgKi9cbiAgICBfZ2V0VG9wT2Zmc2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAtdGhpcy5oZWlnaHQgLyAyO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbWV0aG9kIE1ldGhvZCBuYW1lIChcImZpbGxUZXh0XCIgb3IgXCJzdHJva2VUZXh0XCIpXG4gICAgICovXG4gICAgX3JlbmRlclRleHRDb21tb246IGZ1bmN0aW9uKGN0eCwgbWV0aG9kKSB7XG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgdmFyIGxpbmVIZWlnaHRzID0gMCwgbGVmdCA9IHRoaXMuX2dldExlZnRPZmZzZXQoKSwgdG9wID0gdGhpcy5fZ2V0VG9wT2Zmc2V0KCk7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5fdGV4dExpbmVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciBoZWlnaHRPZkxpbmUgPSB0aGlzLmdldEhlaWdodE9mTGluZShpKSxcbiAgICAgICAgICAgIG1heEhlaWdodCA9IGhlaWdodE9mTGluZSAvIHRoaXMubGluZUhlaWdodCxcbiAgICAgICAgICAgIGxlZnRPZmZzZXQgPSB0aGlzLl9nZXRMaW5lTGVmdE9mZnNldChpKTtcbiAgICAgICAgdGhpcy5fcmVuZGVyVGV4dExpbmUoXG4gICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgIGN0eCxcbiAgICAgICAgICB0aGlzLl90ZXh0TGluZXNbaV0sXG4gICAgICAgICAgbGVmdCArIGxlZnRPZmZzZXQsXG4gICAgICAgICAgdG9wICsgbGluZUhlaWdodHMgKyBtYXhIZWlnaHQsXG4gICAgICAgICAgaVxuICAgICAgICApO1xuICAgICAgICBsaW5lSGVpZ2h0cyArPSBoZWlnaHRPZkxpbmU7XG4gICAgICB9XG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfcmVuZGVyVGV4dEZpbGw6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgaWYgKCF0aGlzLmZpbGwgJiYgIXRoaXMuc3R5bGVIYXMoJ2ZpbGwnKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3JlbmRlclRleHRDb21tb24oY3R4LCAnZmlsbFRleHQnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgX3JlbmRlclRleHRTdHJva2U6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgaWYgKCghdGhpcy5zdHJva2UgfHwgdGhpcy5zdHJva2VXaWR0aCA9PT0gMCkgJiYgdGhpcy5pc0VtcHR5U3R5bGVzKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5zaGFkb3cgJiYgIXRoaXMuc2hhZG93LmFmZmVjdFN0cm9rZSkge1xuICAgICAgICB0aGlzLl9yZW1vdmVTaGFkb3coY3R4KTtcbiAgICAgIH1cblxuICAgICAgY3R4LnNhdmUoKTtcbiAgICAgIHRoaXMuX3NldExpbmVEYXNoKGN0eCwgdGhpcy5zdHJva2VEYXNoQXJyYXkpO1xuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgdGhpcy5fcmVuZGVyVGV4dENvbW1vbihjdHgsICdzdHJva2VUZXh0Jyk7XG4gICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtZXRob2QgZmlsbFRleHQgb3Igc3Ryb2tlVGV4dC5cbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICogQHBhcmFtIHtBcnJheX0gbGluZSBDb250ZW50IG9mIHRoZSBsaW5lLCBzcGxpdHRlZCBpbiBhbiBhcnJheSBieSBncmFwaGVtZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsZWZ0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHRvcFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSW5kZXhcbiAgICAgKi9cbiAgICBfcmVuZGVyQ2hhcnM6IGZ1bmN0aW9uKG1ldGhvZCwgY3R4LCBsaW5lLCBsZWZ0LCB0b3AsIGxpbmVJbmRleCkge1xuICAgICAgLy8gc2V0IHByb3BlciBsaW5lIG9mZnNldFxuICAgICAgdmFyIGxpbmVIZWlnaHQgPSB0aGlzLmdldEhlaWdodE9mTGluZShsaW5lSW5kZXgpLFxuICAgICAgICAgIGlzSnVzdGlmeSA9IHRoaXMudGV4dEFsaWduLmluZGV4T2YoJ2p1c3RpZnknKSAhPT0gLTEsXG4gICAgICAgICAgYWN0dWFsU3R5bGUsXG4gICAgICAgICAgbmV4dFN0eWxlLFxuICAgICAgICAgIGNoYXJzVG9SZW5kZXIgPSAnJyxcbiAgICAgICAgICBjaGFyQm94LFxuICAgICAgICAgIGJveFdpZHRoID0gMCxcbiAgICAgICAgICB0aW1lVG9SZW5kZXIsXG4gICAgICAgICAgcGF0aCA9IHRoaXMucGF0aCxcbiAgICAgICAgICBzaG9ydEN1dCA9ICFpc0p1c3RpZnkgJiYgdGhpcy5jaGFyU3BhY2luZyA9PT0gMCAmJiB0aGlzLmlzRW1wdHlTdHlsZXMobGluZUluZGV4KSAmJiAhcGF0aCxcbiAgICAgICAgICBpc0x0ciA9IHRoaXMuZGlyZWN0aW9uID09PSAnbHRyJywgc2lnbiA9IHRoaXMuZGlyZWN0aW9uID09PSAnbHRyJyA/IDEgOiAtMSxcbiAgICAgICAgICBkcmF3aW5nTGVmdCwgY3VycmVudERpcmVjdGlvbiA9IGN0eC5jYW52YXMuZ2V0QXR0cmlidXRlKCdkaXInKTtcbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICBpZiAoY3VycmVudERpcmVjdGlvbiAhPT0gdGhpcy5kaXJlY3Rpb24pIHtcbiAgICAgICAgY3R4LmNhbnZhcy5zZXRBdHRyaWJ1dGUoJ2RpcicsIGlzTHRyID8gJ2x0cicgOiAncnRsJyk7XG4gICAgICAgIGN0eC5kaXJlY3Rpb24gPSBpc0x0ciA/ICdsdHInIDogJ3J0bCc7XG4gICAgICAgIGN0eC50ZXh0QWxpZ24gPSBpc0x0ciA/ICdsZWZ0JyA6ICdyaWdodCc7XG4gICAgICB9XG4gICAgICB0b3AgLT0gbGluZUhlaWdodCAqIHRoaXMuX2ZvbnRTaXplRnJhY3Rpb24gLyB0aGlzLmxpbmVIZWlnaHQ7XG4gICAgICBpZiAoc2hvcnRDdXQpIHtcbiAgICAgICAgLy8gcmVuZGVyIGFsbCB0aGUgbGluZSBpbiBvbmUgcGFzcyB3aXRob3V0IGNoZWNraW5nXG4gICAgICAgIC8vIGRyYXdpbmdMZWZ0ID0gaXNMdHIgPyBsZWZ0IDogbGVmdCAtIHRoaXMuZ2V0TGluZVdpZHRoKGxpbmVJbmRleCk7XG4gICAgICAgIHRoaXMuX3JlbmRlckNoYXIobWV0aG9kLCBjdHgsIGxpbmVJbmRleCwgMCwgbGluZS5qb2luKCcnKSwgbGVmdCwgdG9wLCBsaW5lSGVpZ2h0KTtcbiAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGxpbmUubGVuZ3RoIC0gMTsgaSA8PSBsZW47IGkrKykge1xuICAgICAgICB0aW1lVG9SZW5kZXIgPSBpID09PSBsZW4gfHwgdGhpcy5jaGFyU3BhY2luZyB8fCBwYXRoO1xuICAgICAgICBjaGFyc1RvUmVuZGVyICs9IGxpbmVbaV07XG4gICAgICAgIGNoYXJCb3ggPSB0aGlzLl9fY2hhckJvdW5kc1tsaW5lSW5kZXhdW2ldO1xuICAgICAgICBpZiAoYm94V2lkdGggPT09IDApIHtcbiAgICAgICAgICBsZWZ0ICs9IHNpZ24gKiAoY2hhckJveC5rZXJuZWRXaWR0aCAtIGNoYXJCb3gud2lkdGgpO1xuICAgICAgICAgIGJveFdpZHRoICs9IGNoYXJCb3gud2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgYm94V2lkdGggKz0gY2hhckJveC5rZXJuZWRXaWR0aDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNKdXN0aWZ5ICYmICF0aW1lVG9SZW5kZXIpIHtcbiAgICAgICAgICBpZiAodGhpcy5fcmVTcGFjZUFuZFRhYi50ZXN0KGxpbmVbaV0pKSB7XG4gICAgICAgICAgICB0aW1lVG9SZW5kZXIgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRpbWVUb1JlbmRlcikge1xuICAgICAgICAgIC8vIGlmIHdlIGhhdmUgY2hhclNwYWNpbmcsIHdlIHJlbmRlciBjaGFyIGJ5IGNoYXJcbiAgICAgICAgICBhY3R1YWxTdHlsZSA9IGFjdHVhbFN0eWxlIHx8IHRoaXMuZ2V0Q29tcGxldGVTdHlsZURlY2xhcmF0aW9uKGxpbmVJbmRleCwgaSk7XG4gICAgICAgICAgbmV4dFN0eWxlID0gdGhpcy5nZXRDb21wbGV0ZVN0eWxlRGVjbGFyYXRpb24obGluZUluZGV4LCBpICsgMSk7XG4gICAgICAgICAgdGltZVRvUmVuZGVyID0gZmFicmljLnV0aWwuaGFzU3R5bGVDaGFuZ2VkKGFjdHVhbFN0eWxlLCBuZXh0U3R5bGUsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGltZVRvUmVuZGVyKSB7XG4gICAgICAgICAgaWYgKHBhdGgpIHtcbiAgICAgICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgICAgICBjdHgudHJhbnNsYXRlKGNoYXJCb3gucmVuZGVyTGVmdCwgY2hhckJveC5yZW5kZXJUb3ApO1xuICAgICAgICAgICAgY3R4LnJvdGF0ZShjaGFyQm94LmFuZ2xlKTtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlckNoYXIobWV0aG9kLCBjdHgsIGxpbmVJbmRleCwgaSwgY2hhcnNUb1JlbmRlciwgLWJveFdpZHRoIC8gMiwgMCwgbGluZUhlaWdodCk7XG4gICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRyYXdpbmdMZWZ0ID0gbGVmdDtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlckNoYXIobWV0aG9kLCBjdHgsIGxpbmVJbmRleCwgaSwgY2hhcnNUb1JlbmRlciwgZHJhd2luZ0xlZnQsIHRvcCwgbGluZUhlaWdodCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNoYXJzVG9SZW5kZXIgPSAnJztcbiAgICAgICAgICBhY3R1YWxTdHlsZSA9IG5leHRTdHlsZTtcbiAgICAgICAgICBsZWZ0ICs9IHNpZ24gKiBib3hXaWR0aDtcbiAgICAgICAgICBib3hXaWR0aCA9IDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gdHJ5IHRvIHBhdGNoIHRoZSBtaXNzaW5nIGdyYWRpZW50VHJhbnNmb3JtIG9uIGNhbnZhcyBncmFkaWVudHMuXG4gICAgICogdHJhbnNmb3JtaW5nIGEgY29udGV4dCB0byB0cmFuc2Zvcm0gdGhlIGdyYWRpZW50LCBpcyBnb2luZyB0byB0cmFuc2Zvcm0gdGhlIHN0cm9rZSB0b28uXG4gICAgICogd2Ugd2FudCB0byB0cmFuc2Zvcm0gdGhlIGdyYWRpZW50IGJ1dCBub3QgdGhlIHN0cm9rZSBvcGVyYXRpb24sIHNvIHdlIGNyZWF0ZVxuICAgICAqIGEgdHJhbnNmb3JtZWQgZ3JhZGllbnQgb24gYSBwYXR0ZXJuIGFuZCB0aGVuIHdlIHVzZSB0aGUgcGF0dGVybiBpbnN0ZWFkIG9mIHRoZSBncmFkaWVudC5cbiAgICAgKiB0aGlzIG1ldGhvZCBoYXMgZHJhd2JhY2tzOiBpcyBzbG93LCBpcyBpbiBsb3cgcmVzb2x1dGlvbiwgbmVlZHMgYSBwYXRjaCBmb3Igd2hlbiB0aGUgc2l6ZVxuICAgICAqIGlzIGxpbWl0ZWQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5HcmFkaWVudH0gZmlsbGVyIGEgZmFicmljIGdyYWRpZW50IGluc3RhbmNlXG4gICAgICogQHJldHVybiB7Q2FudmFzUGF0dGVybn0gYSBwYXR0ZXJuIHRvIHVzZSBhcyBmaWxsL3N0cm9rZSBzdHlsZVxuICAgICAqL1xuICAgIF9hcHBseVBhdHRlcm5HcmFkaWVudFRyYW5zZm9ybVRleHQ6IGZ1bmN0aW9uKGZpbGxlcikge1xuICAgICAgdmFyIHBDYW52YXMgPSBmYWJyaWMudXRpbC5jcmVhdGVDYW52YXNFbGVtZW50KCksIHBDdHgsXG4gICAgICAgICAgLy8gVE9ETzogdmVyaWZ5IGNvbXBhdGliaWxpdHkgd2l0aCBzdHJva2VVbmlmb3JtXG4gICAgICAgICAgd2lkdGggPSB0aGlzLndpZHRoICsgdGhpcy5zdHJva2VXaWR0aCwgaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKyB0aGlzLnN0cm9rZVdpZHRoO1xuICAgICAgcENhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgcENhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICBwQ3R4ID0gcENhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgcEN0eC5iZWdpblBhdGgoKTsgcEN0eC5tb3ZlVG8oMCwgMCk7IHBDdHgubGluZVRvKHdpZHRoLCAwKTsgcEN0eC5saW5lVG8od2lkdGgsIGhlaWdodCk7XG4gICAgICBwQ3R4LmxpbmVUbygwLCBoZWlnaHQpOyBwQ3R4LmNsb3NlUGF0aCgpO1xuICAgICAgcEN0eC50cmFuc2xhdGUod2lkdGggLyAyLCBoZWlnaHQgLyAyKTtcbiAgICAgIHBDdHguZmlsbFN0eWxlID0gZmlsbGVyLnRvTGl2ZShwQ3R4KTtcbiAgICAgIHRoaXMuX2FwcGx5UGF0dGVybkdyYWRpZW50VHJhbnNmb3JtKHBDdHgsIGZpbGxlcik7XG4gICAgICBwQ3R4LmZpbGwoKTtcbiAgICAgIHJldHVybiBwQ3R4LmNyZWF0ZVBhdHRlcm4ocENhbnZhcywgJ25vLXJlcGVhdCcpO1xuICAgIH0sXG5cbiAgICBoYW5kbGVGaWxsZXI6IGZ1bmN0aW9uKGN0eCwgcHJvcGVydHksIGZpbGxlcikge1xuICAgICAgdmFyIG9mZnNldFgsIG9mZnNldFk7XG4gICAgICBpZiAoZmlsbGVyLnRvTGl2ZSkge1xuICAgICAgICBpZiAoZmlsbGVyLmdyYWRpZW50VW5pdHMgPT09ICdwZXJjZW50YWdlJyB8fCBmaWxsZXIuZ3JhZGllbnRUcmFuc2Zvcm0gfHwgZmlsbGVyLnBhdHRlcm5UcmFuc2Zvcm0pIHtcbiAgICAgICAgICAvLyBuZWVkIHRvIHRyYW5zZm9ybSBncmFkaWVudCBpbiBhIHBhdHRlcm4uXG4gICAgICAgICAgLy8gdGhpcyBpcyBhIHNsb3cgcHJvY2Vzcy4gSWYgeW91IGFyZSBoaXR0aW5nIHRoaXMgY29kZXBhdGgsIGFuZCB0aGUgb2JqZWN0XG4gICAgICAgICAgLy8gaXMgbm90IHVzaW5nIGNhY2hpbmcsIHlvdSBzaG91bGQgY29uc2lkZXIgc3dpdGNoaW5nIGl0IG9uLlxuICAgICAgICAgIC8vIHdlIG5lZWQgYSBjYW52YXMgYXMgYmlnIGFzIHRoZSBjdXJyZW50IG9iamVjdCBjYWNoaW5nIGNhbnZhcy5cbiAgICAgICAgICBvZmZzZXRYID0gLXRoaXMud2lkdGggLyAyO1xuICAgICAgICAgIG9mZnNldFkgPSAtdGhpcy5oZWlnaHQgLyAyO1xuICAgICAgICAgIGN0eC50cmFuc2xhdGUob2Zmc2V0WCwgb2Zmc2V0WSk7XG4gICAgICAgICAgY3R4W3Byb3BlcnR5XSA9IHRoaXMuX2FwcGx5UGF0dGVybkdyYWRpZW50VHJhbnNmb3JtVGV4dChmaWxsZXIpO1xuICAgICAgICAgIHJldHVybiB7IG9mZnNldFg6IG9mZnNldFgsIG9mZnNldFk6IG9mZnNldFkgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAvLyBpcyBhIHNpbXBsZSBncmFkaWVudCBvciBwYXR0ZXJuXG4gICAgICAgICAgY3R4W3Byb3BlcnR5XSA9IGZpbGxlci50b0xpdmUoY3R4LCB0aGlzKTtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fYXBwbHlQYXR0ZXJuR3JhZGllbnRUcmFuc2Zvcm0oY3R4LCBmaWxsZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgLy8gaXMgYSBjb2xvclxuICAgICAgICBjdHhbcHJvcGVydHldID0gZmlsbGVyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHsgb2Zmc2V0WDogMCwgb2Zmc2V0WTogMCB9O1xuICAgIH0sXG5cbiAgICBfc2V0U3Ryb2tlU3R5bGVzOiBmdW5jdGlvbihjdHgsIGRlY2wpIHtcbiAgICAgIGN0eC5saW5lV2lkdGggPSBkZWNsLnN0cm9rZVdpZHRoO1xuICAgICAgY3R4LmxpbmVDYXAgPSB0aGlzLnN0cm9rZUxpbmVDYXA7XG4gICAgICBjdHgubGluZURhc2hPZmZzZXQgPSB0aGlzLnN0cm9rZURhc2hPZmZzZXQ7XG4gICAgICBjdHgubGluZUpvaW4gPSB0aGlzLnN0cm9rZUxpbmVKb2luO1xuICAgICAgY3R4Lm1pdGVyTGltaXQgPSB0aGlzLnN0cm9rZU1pdGVyTGltaXQ7XG4gICAgICByZXR1cm4gdGhpcy5oYW5kbGVGaWxsZXIoY3R4LCAnc3Ryb2tlU3R5bGUnLCBkZWNsLnN0cm9rZSk7XG4gICAgfSxcblxuICAgIF9zZXRGaWxsU3R5bGVzOiBmdW5jdGlvbihjdHgsIGRlY2wpIHtcbiAgICAgIHJldHVybiB0aGlzLmhhbmRsZUZpbGxlcihjdHgsICdmaWxsU3R5bGUnLCBkZWNsLmZpbGwpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtZXRob2RcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxpbmVJbmRleFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBjaGFySW5kZXhcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gX2NoYXJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGVmdCBMZWZ0IGNvb3JkaW5hdGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdG9wIFRvcCBjb29yZGluYXRlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxpbmVIZWlnaHQgSGVpZ2h0IG9mIHRoZSBsaW5lXG4gICAgICovXG4gICAgX3JlbmRlckNoYXI6IGZ1bmN0aW9uKG1ldGhvZCwgY3R4LCBsaW5lSW5kZXgsIGNoYXJJbmRleCwgX2NoYXIsIGxlZnQsIHRvcCkge1xuICAgICAgdmFyIGRlY2wgPSB0aGlzLl9nZXRTdHlsZURlY2xhcmF0aW9uKGxpbmVJbmRleCwgY2hhckluZGV4KSxcbiAgICAgICAgICBmdWxsRGVjbCA9IHRoaXMuZ2V0Q29tcGxldGVTdHlsZURlY2xhcmF0aW9uKGxpbmVJbmRleCwgY2hhckluZGV4KSxcbiAgICAgICAgICBzaG91bGRGaWxsID0gbWV0aG9kID09PSAnZmlsbFRleHQnICYmIGZ1bGxEZWNsLmZpbGwsXG4gICAgICAgICAgc2hvdWxkU3Ryb2tlID0gbWV0aG9kID09PSAnc3Ryb2tlVGV4dCcgJiYgZnVsbERlY2wuc3Ryb2tlICYmIGZ1bGxEZWNsLnN0cm9rZVdpZHRoLFxuICAgICAgICAgIGZpbGxPZmZzZXRzLCBzdHJva2VPZmZzZXRzO1xuXG4gICAgICBpZiAoIXNob3VsZFN0cm9rZSAmJiAhc2hvdWxkRmlsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjdHguc2F2ZSgpO1xuXG4gICAgICBzaG91bGRGaWxsICYmIChmaWxsT2Zmc2V0cyA9IHRoaXMuX3NldEZpbGxTdHlsZXMoY3R4LCBmdWxsRGVjbCkpO1xuICAgICAgc2hvdWxkU3Ryb2tlICYmIChzdHJva2VPZmZzZXRzID0gdGhpcy5fc2V0U3Ryb2tlU3R5bGVzKGN0eCwgZnVsbERlY2wpKTtcblxuICAgICAgY3R4LmZvbnQgPSB0aGlzLl9nZXRGb250RGVjbGFyYXRpb24oZnVsbERlY2wpO1xuXG5cbiAgICAgIGlmIChkZWNsICYmIGRlY2wudGV4dEJhY2tncm91bmRDb2xvcikge1xuICAgICAgICB0aGlzLl9yZW1vdmVTaGFkb3coY3R4KTtcbiAgICAgIH1cbiAgICAgIGlmIChkZWNsICYmIGRlY2wuZGVsdGFZKSB7XG4gICAgICAgIHRvcCArPSBkZWNsLmRlbHRhWTtcbiAgICAgIH1cbiAgICAgIHNob3VsZEZpbGwgJiYgY3R4LmZpbGxUZXh0KF9jaGFyLCBsZWZ0IC0gZmlsbE9mZnNldHMub2Zmc2V0WCwgdG9wIC0gZmlsbE9mZnNldHMub2Zmc2V0WSk7XG4gICAgICBzaG91bGRTdHJva2UgJiYgY3R4LnN0cm9rZVRleHQoX2NoYXIsIGxlZnQgLSBzdHJva2VPZmZzZXRzLm9mZnNldFgsIHRvcCAtIHN0cm9rZU9mZnNldHMub2Zmc2V0WSk7XG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUdXJucyB0aGUgY2hhcmFjdGVyIGludG8gYSAnc3VwZXJpb3IgZmlndXJlJyAoaS5lLiAnc3VwZXJzY3JpcHQnKVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzdGFydCBzZWxlY3Rpb24gc3RhcnRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZW5kIHNlbGVjdGlvbiBlbmRcbiAgICAgKiBAcmV0dXJucyB7ZmFicmljLlRleHR9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgc2V0U3VwZXJzY3JpcHQ6IGZ1bmN0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zZXRTY3JpcHQoc3RhcnQsIGVuZCwgdGhpcy5zdXBlcnNjcmlwdCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFR1cm5zIHRoZSBjaGFyYWN0ZXIgaW50byBhbiAnaW5mZXJpb3IgZmlndXJlJyAoaS5lLiAnc3Vic2NyaXB0JylcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc3RhcnQgc2VsZWN0aW9uIHN0YXJ0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGVuZCBzZWxlY3Rpb24gZW5kXG4gICAgICogQHJldHVybnMge2ZhYnJpYy5UZXh0fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHNldFN1YnNjcmlwdDogZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3NldFNjcmlwdChzdGFydCwgZW5kLCB0aGlzLnN1YnNjcmlwdCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgJ3NjaGVtYScgYXQgZ2l2ZW4gcG9zaXRpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzdGFydCBzZWxlY3Rpb24gc3RhcnRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZW5kIHNlbGVjdGlvbiBlbmRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc2NoZW1hXG4gICAgICogQHJldHVybnMge2ZhYnJpYy5UZXh0fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIF9zZXRTY3JpcHQ6IGZ1bmN0aW9uKHN0YXJ0LCBlbmQsIHNjaGVtYSkge1xuICAgICAgdmFyIGxvYyA9IHRoaXMuZ2V0MkRDdXJzb3JMb2NhdGlvbihzdGFydCwgdHJ1ZSksXG4gICAgICAgICAgZm9udFNpemUgPSB0aGlzLmdldFZhbHVlT2ZQcm9wZXJ0eUF0KGxvYy5saW5lSW5kZXgsIGxvYy5jaGFySW5kZXgsICdmb250U2l6ZScpLFxuICAgICAgICAgIGR5ID0gdGhpcy5nZXRWYWx1ZU9mUHJvcGVydHlBdChsb2MubGluZUluZGV4LCBsb2MuY2hhckluZGV4LCAnZGVsdGFZJyksXG4gICAgICAgICAgc3R5bGUgPSB7IGZvbnRTaXplOiBmb250U2l6ZSAqIHNjaGVtYS5zaXplLCBkZWx0YVk6IGR5ICsgZm9udFNpemUgKiBzY2hlbWEuYmFzZWxpbmUgfTtcbiAgICAgIHRoaXMuc2V0U2VsZWN0aW9uU3R5bGVzKHN0eWxlLCBzdGFydCwgZW5kKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSW5kZXggaW5kZXggdGV4dCBsaW5lXG4gICAgICogQHJldHVybiB7TnVtYmVyfSBMaW5lIGxlZnQgb2Zmc2V0XG4gICAgICovXG4gICAgX2dldExpbmVMZWZ0T2Zmc2V0OiBmdW5jdGlvbihsaW5lSW5kZXgpIHtcbiAgICAgIHZhciBsaW5lV2lkdGggPSB0aGlzLmdldExpbmVXaWR0aChsaW5lSW5kZXgpLFxuICAgICAgICAgIGxpbmVEaWZmID0gdGhpcy53aWR0aCAtIGxpbmVXaWR0aCwgdGV4dEFsaWduID0gdGhpcy50ZXh0QWxpZ24sIGRpcmVjdGlvbiA9IHRoaXMuZGlyZWN0aW9uLFxuICAgICAgICAgIGlzRW5kT2ZXcmFwcGluZywgbGVmdE9mZnNldCA9IDAsIGlzRW5kT2ZXcmFwcGluZyA9IHRoaXMuaXNFbmRPZldyYXBwaW5nKGxpbmVJbmRleCk7XG4gICAgICBpZiAodGV4dEFsaWduID09PSAnanVzdGlmeSdcbiAgICAgICAgfHwgKHRleHRBbGlnbiA9PT0gJ2p1c3RpZnktY2VudGVyJyAmJiAhaXNFbmRPZldyYXBwaW5nKVxuICAgICAgICB8fCAodGV4dEFsaWduID09PSAnanVzdGlmeS1yaWdodCcgJiYgIWlzRW5kT2ZXcmFwcGluZylcbiAgICAgICAgfHwgKHRleHRBbGlnbiA9PT0gJ2p1c3RpZnktbGVmdCcgJiYgIWlzRW5kT2ZXcmFwcGluZylcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cbiAgICAgIGlmICh0ZXh0QWxpZ24gPT09ICdjZW50ZXInKSB7XG4gICAgICAgIGxlZnRPZmZzZXQgPSBsaW5lRGlmZiAvIDI7XG4gICAgICB9XG4gICAgICBpZiAodGV4dEFsaWduID09PSAncmlnaHQnKSB7XG4gICAgICAgIGxlZnRPZmZzZXQgPSBsaW5lRGlmZjtcbiAgICAgIH1cbiAgICAgIGlmICh0ZXh0QWxpZ24gPT09ICdqdXN0aWZ5LWNlbnRlcicpIHtcbiAgICAgICAgbGVmdE9mZnNldCA9IGxpbmVEaWZmIC8gMjtcbiAgICAgIH1cbiAgICAgIGlmICh0ZXh0QWxpZ24gPT09ICdqdXN0aWZ5LXJpZ2h0Jykge1xuICAgICAgICBsZWZ0T2Zmc2V0ID0gbGluZURpZmY7XG4gICAgICB9XG4gICAgICBpZiAoZGlyZWN0aW9uID09PSAncnRsJykge1xuICAgICAgICBsZWZ0T2Zmc2V0IC09IGxpbmVEaWZmO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGxlZnRPZmZzZXQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2NsZWFyQ2FjaGU6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5fX2xpbmVXaWR0aHMgPSBbXTtcbiAgICAgIHRoaXMuX19saW5lSGVpZ2h0cyA9IFtdO1xuICAgICAgdGhpcy5fX2NoYXJCb3VuZHMgPSBbXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2hvdWxkQ2xlYXJEaW1lbnNpb25DYWNoZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2hvdWxkQ2xlYXIgPSB0aGlzLl9mb3JjZUNsZWFyQ2FjaGU7XG4gICAgICBzaG91bGRDbGVhciB8fCAoc2hvdWxkQ2xlYXIgPSB0aGlzLmhhc1N0YXRlQ2hhbmdlZCgnX2RpbWVuc2lvbkFmZmVjdGluZ1Byb3BzJykpO1xuICAgICAgaWYgKHNob3VsZENsZWFyKSB7XG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB0aGlzLl9mb3JjZUNsZWFyQ2FjaGUgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzaG91bGRDbGVhcjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTWVhc3VyZSBhIHNpbmdsZSBsaW5lIGdpdmVuIGl0cyBpbmRleC4gVXNlZCB0byBjYWxjdWxhdGUgdGhlIGluaXRpYWxcbiAgICAgKiB0ZXh0IGJvdW5kaW5nIGJveC4gVGhlIHZhbHVlcyBhcmUgY2FsY3VsYXRlZCBhbmQgc3RvcmVkIGluIF9fbGluZVdpZHRocyBjYWNoZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSW5kZXggbGluZSBudW1iZXJcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IExpbmUgd2lkdGhcbiAgICAgKi9cbiAgICBnZXRMaW5lV2lkdGg6IGZ1bmN0aW9uKGxpbmVJbmRleCkge1xuICAgICAgaWYgKHRoaXMuX19saW5lV2lkdGhzW2xpbmVJbmRleF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fX2xpbmVXaWR0aHNbbGluZUluZGV4XTtcbiAgICAgIH1cblxuICAgICAgdmFyIGxpbmVJbmZvID0gdGhpcy5tZWFzdXJlTGluZShsaW5lSW5kZXgpO1xuICAgICAgdmFyIHdpZHRoID0gbGluZUluZm8ud2lkdGg7XG4gICAgICB0aGlzLl9fbGluZVdpZHRoc1tsaW5lSW5kZXhdID0gd2lkdGg7XG4gICAgICByZXR1cm4gd2lkdGg7XG4gICAgfSxcblxuICAgIF9nZXRXaWR0aE9mQ2hhclNwYWNpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuY2hhclNwYWNpbmcgIT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9udFNpemUgKiB0aGlzLmNoYXJTcGFjaW5nIC8gMTAwMDtcbiAgICAgIH1cbiAgICAgIHJldHVybiAwO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIHZhbHVlIG9mIHByb3BlcnR5IGF0IGdpdmVuIGNoYXJhY3RlciBwb3NpdGlvblxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSW5kZXggdGhlIGxpbmUgbnVtYmVyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGNoYXJJbmRleCB0aGUgY2hhcmFjdGVyIG51bWJlclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eSB0aGUgcHJvcGVydHkgbmFtZVxuICAgICAqIEByZXR1cm5zIHRoZSB2YWx1ZSBvZiAncHJvcGVydHknXG4gICAgICovXG4gICAgZ2V0VmFsdWVPZlByb3BlcnR5QXQ6IGZ1bmN0aW9uKGxpbmVJbmRleCwgY2hhckluZGV4LCBwcm9wZXJ0eSkge1xuICAgICAgdmFyIGNoYXJTdHlsZSA9IHRoaXMuX2dldFN0eWxlRGVjbGFyYXRpb24obGluZUluZGV4LCBjaGFySW5kZXgpO1xuICAgICAgaWYgKGNoYXJTdHlsZSAmJiB0eXBlb2YgY2hhclN0eWxlW3Byb3BlcnR5XSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIGNoYXJTdHlsZVtwcm9wZXJ0eV07XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpc1twcm9wZXJ0eV07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIF9yZW5kZXJUZXh0RGVjb3JhdGlvbjogZnVuY3Rpb24oY3R4LCB0eXBlKSB7XG4gICAgICBpZiAoIXRoaXNbdHlwZV0gJiYgIXRoaXMuc3R5bGVIYXModHlwZSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIGhlaWdodE9mTGluZSwgc2l6ZSwgX3NpemUsXG4gICAgICAgICAgbGluZUxlZnRPZmZzZXQsIGR5LCBfZHksXG4gICAgICAgICAgbGluZSwgbGFzdERlY29yYXRpb24sXG4gICAgICAgICAgbGVmdE9mZnNldCA9IHRoaXMuX2dldExlZnRPZmZzZXQoKSxcbiAgICAgICAgICB0b3BPZmZzZXQgPSB0aGlzLl9nZXRUb3BPZmZzZXQoKSwgdG9wLFxuICAgICAgICAgIGJveFN0YXJ0LCBib3hXaWR0aCwgY2hhckJveCwgY3VycmVudERlY29yYXRpb24sXG4gICAgICAgICAgbWF4SGVpZ2h0LCBjdXJyZW50RmlsbCwgbGFzdEZpbGwsIHBhdGggPSB0aGlzLnBhdGgsXG4gICAgICAgICAgY2hhclNwYWNpbmcgPSB0aGlzLl9nZXRXaWR0aE9mQ2hhclNwYWNpbmcoKSxcbiAgICAgICAgICBvZmZzZXRZID0gdGhpcy5vZmZzZXRzW3R5cGVdO1xuXG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5fdGV4dExpbmVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGhlaWdodE9mTGluZSA9IHRoaXMuZ2V0SGVpZ2h0T2ZMaW5lKGkpO1xuICAgICAgICBpZiAoIXRoaXNbdHlwZV0gJiYgIXRoaXMuc3R5bGVIYXModHlwZSwgaSkpIHtcbiAgICAgICAgICB0b3BPZmZzZXQgKz0gaGVpZ2h0T2ZMaW5lO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGxpbmUgPSB0aGlzLl90ZXh0TGluZXNbaV07XG4gICAgICAgIG1heEhlaWdodCA9IGhlaWdodE9mTGluZSAvIHRoaXMubGluZUhlaWdodDtcbiAgICAgICAgbGluZUxlZnRPZmZzZXQgPSB0aGlzLl9nZXRMaW5lTGVmdE9mZnNldChpKTtcbiAgICAgICAgYm94U3RhcnQgPSAwO1xuICAgICAgICBib3hXaWR0aCA9IDA7XG4gICAgICAgIGxhc3REZWNvcmF0aW9uID0gdGhpcy5nZXRWYWx1ZU9mUHJvcGVydHlBdChpLCAwLCB0eXBlKTtcbiAgICAgICAgbGFzdEZpbGwgPSB0aGlzLmdldFZhbHVlT2ZQcm9wZXJ0eUF0KGksIDAsICdmaWxsJyk7XG4gICAgICAgIHRvcCA9IHRvcE9mZnNldCArIG1heEhlaWdodCAqICgxIC0gdGhpcy5fZm9udFNpemVGcmFjdGlvbik7XG4gICAgICAgIHNpemUgPSB0aGlzLmdldEhlaWdodE9mQ2hhcihpLCAwKTtcbiAgICAgICAgZHkgPSB0aGlzLmdldFZhbHVlT2ZQcm9wZXJ0eUF0KGksIDAsICdkZWx0YVknKTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDAsIGpsZW4gPSBsaW5lLmxlbmd0aDsgaiA8IGpsZW47IGorKykge1xuICAgICAgICAgIGNoYXJCb3ggPSB0aGlzLl9fY2hhckJvdW5kc1tpXVtqXTtcbiAgICAgICAgICBjdXJyZW50RGVjb3JhdGlvbiA9IHRoaXMuZ2V0VmFsdWVPZlByb3BlcnR5QXQoaSwgaiwgdHlwZSk7XG4gICAgICAgICAgY3VycmVudEZpbGwgPSB0aGlzLmdldFZhbHVlT2ZQcm9wZXJ0eUF0KGksIGosICdmaWxsJyk7XG4gICAgICAgICAgX3NpemUgPSB0aGlzLmdldEhlaWdodE9mQ2hhcihpLCBqKTtcbiAgICAgICAgICBfZHkgPSB0aGlzLmdldFZhbHVlT2ZQcm9wZXJ0eUF0KGksIGosICdkZWx0YVknKTtcbiAgICAgICAgICBpZiAocGF0aCAmJiBjdXJyZW50RGVjb3JhdGlvbiAmJiBjdXJyZW50RmlsbCkge1xuICAgICAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBsYXN0RmlsbDtcbiAgICAgICAgICAgIGN0eC50cmFuc2xhdGUoY2hhckJveC5yZW5kZXJMZWZ0LCBjaGFyQm94LnJlbmRlclRvcCk7XG4gICAgICAgICAgICBjdHgucm90YXRlKGNoYXJCb3guYW5nbGUpO1xuICAgICAgICAgICAgY3R4LmZpbGxSZWN0KFxuICAgICAgICAgICAgICAtY2hhckJveC5rZXJuZWRXaWR0aCAvIDIsXG4gICAgICAgICAgICAgIG9mZnNldFkgKiBfc2l6ZSArIF9keSxcbiAgICAgICAgICAgICAgY2hhckJveC5rZXJuZWRXaWR0aCxcbiAgICAgICAgICAgICAgdGhpcy5mb250U2l6ZSAvIDE1XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgICAgICAoY3VycmVudERlY29yYXRpb24gIT09IGxhc3REZWNvcmF0aW9uIHx8IGN1cnJlbnRGaWxsICE9PSBsYXN0RmlsbCB8fCBfc2l6ZSAhPT0gc2l6ZSB8fCBfZHkgIT09IGR5KVxuICAgICAgICAgICAgJiYgYm94V2lkdGggPiAwXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB2YXIgZHJhd1N0YXJ0ID0gbGVmdE9mZnNldCArIGxpbmVMZWZ0T2Zmc2V0ICsgYm94U3RhcnQ7XG4gICAgICAgICAgICBpZiAodGhpcy5kaXJlY3Rpb24gPT09ICdydGwnKSB7XG4gICAgICAgICAgICAgIGRyYXdTdGFydCA9IHRoaXMud2lkdGggLSBkcmF3U3RhcnQgLSBib3hXaWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsYXN0RGVjb3JhdGlvbiAmJiBsYXN0RmlsbCkge1xuICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gbGFzdEZpbGw7XG4gICAgICAgICAgICAgIGN0eC5maWxsUmVjdChcbiAgICAgICAgICAgICAgICBkcmF3U3RhcnQsXG4gICAgICAgICAgICAgICAgdG9wICsgb2Zmc2V0WSAqIHNpemUgKyBkeSxcbiAgICAgICAgICAgICAgICBib3hXaWR0aCxcbiAgICAgICAgICAgICAgICB0aGlzLmZvbnRTaXplIC8gMTVcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJveFN0YXJ0ID0gY2hhckJveC5sZWZ0O1xuICAgICAgICAgICAgYm94V2lkdGggPSBjaGFyQm94LndpZHRoO1xuICAgICAgICAgICAgbGFzdERlY29yYXRpb24gPSBjdXJyZW50RGVjb3JhdGlvbjtcbiAgICAgICAgICAgIGxhc3RGaWxsID0gY3VycmVudEZpbGw7XG4gICAgICAgICAgICBzaXplID0gX3NpemU7XG4gICAgICAgICAgICBkeSA9IF9keTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBib3hXaWR0aCArPSBjaGFyQm94Lmtlcm5lZFdpZHRoO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgZHJhd1N0YXJ0ID0gbGVmdE9mZnNldCArIGxpbmVMZWZ0T2Zmc2V0ICsgYm94U3RhcnQ7XG4gICAgICAgIGlmICh0aGlzLmRpcmVjdGlvbiA9PT0gJ3J0bCcpIHtcbiAgICAgICAgICBkcmF3U3RhcnQgPSB0aGlzLndpZHRoIC0gZHJhd1N0YXJ0IC0gYm94V2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGN1cnJlbnRGaWxsO1xuICAgICAgICBjdXJyZW50RGVjb3JhdGlvbiAmJiBjdXJyZW50RmlsbCAmJiBjdHguZmlsbFJlY3QoXG4gICAgICAgICAgZHJhd1N0YXJ0LFxuICAgICAgICAgIHRvcCArIG9mZnNldFkgKiBzaXplICsgZHksXG4gICAgICAgICAgYm94V2lkdGggLSBjaGFyU3BhY2luZyxcbiAgICAgICAgICB0aGlzLmZvbnRTaXplIC8gMTVcbiAgICAgICAgKTtcbiAgICAgICAgdG9wT2Zmc2V0ICs9IGhlaWdodE9mTGluZTtcbiAgICAgIH1cbiAgICAgIC8vIGlmIHRoZXJlIGlzIHRleHQgYmFja2dyb3VuZCBjb2xvciBub1xuICAgICAgLy8gb3RoZXIgc2hhZG93cyBzaG91bGQgYmUgY2FzdGVkXG4gICAgICB0aGlzLl9yZW1vdmVTaGFkb3coY3R4KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmV0dXJuIGZvbnQgZGVjbGFyYXRpb24gc3RyaW5nIGZvciBjYW52YXMgY29udGV4dFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3R5bGVPYmplY3RdIG9iamVjdFxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IGZvbnQgZGVjbGFyYXRpb24gZm9ybWF0dGVkIGZvciBjYW52YXMgY29udGV4dC5cbiAgICAgKi9cbiAgICBfZ2V0Rm9udERlY2xhcmF0aW9uOiBmdW5jdGlvbihzdHlsZU9iamVjdCwgZm9yTWVhc3VyaW5nKSB7XG4gICAgICB2YXIgc3R5bGUgPSBzdHlsZU9iamVjdCB8fCB0aGlzLCBmYW1pbHkgPSB0aGlzLmZvbnRGYW1pbHksXG4gICAgICAgICAgZm9udElzR2VuZXJpYyA9IGZhYnJpYy5UZXh0LmdlbmVyaWNGb250cy5pbmRleE9mKGZhbWlseS50b0xvd2VyQ2FzZSgpKSA+IC0xO1xuICAgICAgdmFyIGZvbnRGYW1pbHkgPSBmYW1pbHkgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgZmFtaWx5LmluZGV4T2YoJ1xcJycpID4gLTEgfHwgZmFtaWx5LmluZGV4T2YoJywnKSA+IC0xIHx8XG4gICAgICBmYW1pbHkuaW5kZXhPZignXCInKSA+IC0xIHx8IGZvbnRJc0dlbmVyaWNcbiAgICAgICAgPyBzdHlsZS5mb250RmFtaWx5IDogJ1wiJyArIHN0eWxlLmZvbnRGYW1pbHkgKyAnXCInO1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgLy8gbm9kZS1jYW52YXMgbmVlZHMgXCJ3ZWlnaHQgc3R5bGVcIiwgd2hpbGUgYnJvd3NlcnMgbmVlZCBcInN0eWxlIHdlaWdodFwiXG4gICAgICAgIC8vIHZlcmlmeSBpZiB0aGlzIGNhbiBiZSBmaXhlZCBpbiBKU0RPTVxuICAgICAgICAoZmFicmljLmlzTGlrZWx5Tm9kZSA/IHN0eWxlLmZvbnRXZWlnaHQgOiBzdHlsZS5mb250U3R5bGUpLFxuICAgICAgICAoZmFicmljLmlzTGlrZWx5Tm9kZSA/IHN0eWxlLmZvbnRTdHlsZSA6IHN0eWxlLmZvbnRXZWlnaHQpLFxuICAgICAgICBmb3JNZWFzdXJpbmcgPyB0aGlzLkNBQ0hFX0ZPTlRfU0laRSArICdweCcgOiBzdHlsZS5mb250U2l6ZSArICdweCcsXG4gICAgICAgIGZvbnRGYW1pbHlcbiAgICAgIF0uam9pbignICcpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRleHQgaW5zdGFuY2Ugb24gYSBzcGVjaWZpZWQgY29udGV4dFxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICByZW5kZXI6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgLy8gZG8gbm90IHJlbmRlciBpZiBvYmplY3QgaXMgbm90IHZpc2libGVcbiAgICAgIGlmICghdGhpcy52aXNpYmxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy5za2lwT2Zmc2NyZWVuICYmICF0aGlzLmdyb3VwICYmICF0aGlzLmlzT25TY3JlZW4oKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fc2hvdWxkQ2xlYXJEaW1lbnNpb25DYWNoZSgpKSB7XG4gICAgICAgIHRoaXMuaW5pdERpbWVuc2lvbnMoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuY2FsbFN1cGVyKCdyZW5kZXInLCBjdHgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB0ZXh0IGFzIGFuIGFycmF5IG9mIGxpbmVzLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0IHRleHQgdG8gc3BsaXRcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IExpbmVzIGluIHRoZSB0ZXh0XG4gICAgICovXG4gICAgX3NwbGl0VGV4dEludG9MaW5lczogZnVuY3Rpb24odGV4dCkge1xuICAgICAgdmFyIGxpbmVzID0gdGV4dC5zcGxpdCh0aGlzLl9yZU5ld2xpbmUpLFxuICAgICAgICAgIG5ld0xpbmVzID0gbmV3IEFycmF5KGxpbmVzLmxlbmd0aCksXG4gICAgICAgICAgbmV3TGluZSA9IFsnXFxuJ10sXG4gICAgICAgICAgbmV3VGV4dCA9IFtdO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBuZXdMaW5lc1tpXSA9IGZhYnJpYy51dGlsLnN0cmluZy5ncmFwaGVtZVNwbGl0KGxpbmVzW2ldKTtcbiAgICAgICAgbmV3VGV4dCA9IG5ld1RleHQuY29uY2F0KG5ld0xpbmVzW2ldLCBuZXdMaW5lKTtcbiAgICAgIH1cbiAgICAgIG5ld1RleHQucG9wKCk7XG4gICAgICByZXR1cm4geyBfdW53cmFwcGVkTGluZXM6IG5ld0xpbmVzLCBsaW5lczogbGluZXMsIGdyYXBoZW1lVGV4dDogbmV3VGV4dCwgZ3JhcGhlbWVMaW5lczogbmV3TGluZXMgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcGVydGllc1RvSW5jbHVkZV0gQW55IHByb3BlcnRpZXMgdGhhdCB5b3UgbWlnaHQgd2FudCB0byBhZGRpdGlvbmFsbHkgaW5jbHVkZSBpbiB0aGUgb3V0cHV0XG4gICAgICogQHJldHVybiB7T2JqZWN0fSBPYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b09iamVjdDogZnVuY3Rpb24ocHJvcGVydGllc1RvSW5jbHVkZSkge1xuICAgICAgdmFyIGFsbFByb3BlcnRpZXMgPSBhZGRpdGlvbmFsUHJvcHMuY29uY2F0KHByb3BlcnRpZXNUb0luY2x1ZGUpO1xuICAgICAgdmFyIG9iaiA9IHRoaXMuY2FsbFN1cGVyKCd0b09iamVjdCcsIGFsbFByb3BlcnRpZXMpO1xuICAgICAgb2JqLnN0eWxlcyA9IGZhYnJpYy51dGlsLnN0eWxlc1RvQXJyYXkodGhpcy5zdHlsZXMsIHRoaXMudGV4dCk7XG4gICAgICBpZiAob2JqLnBhdGgpIHtcbiAgICAgICAgb2JqLnBhdGggPSB0aGlzLnBhdGgudG9PYmplY3QoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgcHJvcGVydHkgdG8gYSBnaXZlbiB2YWx1ZS4gV2hlbiBjaGFuZ2luZyBwb3NpdGlvbi9kaW1lbnNpb24gLXJlbGF0ZWQgcHJvcGVydGllcyAobGVmdCwgdG9wLCBzY2FsZSwgYW5nbGUsIGV0Yy4pIGBzZXRgIGRvZXMgbm90IHVwZGF0ZSBwb3NpdGlvbiBvZiBvYmplY3QncyBib3JkZXJzL2NvbnRyb2xzLiBJZiB5b3UgbmVlZCB0byB1cGRhdGUgdGhvc2UsIGNhbGwgYHNldENvb3JkcygpYC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IGtleSBQcm9wZXJ0eSBuYW1lIG9yIG9iamVjdCAoaWYgb2JqZWN0LCBpdGVyYXRlIG92ZXIgdGhlIG9iamVjdCBwcm9wZXJ0aWVzKVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fEZ1bmN0aW9ufSB2YWx1ZSBQcm9wZXJ0eSB2YWx1ZSAoaWYgZnVuY3Rpb24sIHRoZSB2YWx1ZSBpcyBwYXNzZWQgaW50byBpdCBhbmQgaXRzIHJldHVybiB2YWx1ZSBpcyB1c2VkIGFzIGEgbmV3IG9uZSlcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHNldDogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgdGhpcy5jYWxsU3VwZXIoJ3NldCcsIGtleSwgdmFsdWUpO1xuICAgICAgdmFyIG5lZWRzRGltcyA9IGZhbHNlO1xuICAgICAgdmFyIGlzQWRkaW5nUGF0aCA9IGZhbHNlO1xuICAgICAgaWYgKHR5cGVvZiBrZXkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGZvciAodmFyIF9rZXkgaW4ga2V5KSB7XG4gICAgICAgICAgaWYgKF9rZXkgPT09ICdwYXRoJykge1xuICAgICAgICAgICAgdGhpcy5zZXRQYXRoSW5mbygpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBuZWVkc0RpbXMgPSBuZWVkc0RpbXMgfHwgdGhpcy5fZGltZW5zaW9uQWZmZWN0aW5nUHJvcHMuaW5kZXhPZihfa2V5KSAhPT0gLTE7XG4gICAgICAgICAgaXNBZGRpbmdQYXRoID0gaXNBZGRpbmdQYXRoIHx8IF9rZXkgPT09ICdwYXRoJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIG5lZWRzRGltcyA9IHRoaXMuX2RpbWVuc2lvbkFmZmVjdGluZ1Byb3BzLmluZGV4T2Yoa2V5KSAhPT0gLTE7XG4gICAgICAgIGlzQWRkaW5nUGF0aCA9IGtleSA9PT0gJ3BhdGgnO1xuICAgICAgfVxuICAgICAgaWYgKGlzQWRkaW5nUGF0aCkge1xuICAgICAgICB0aGlzLnNldFBhdGhJbmZvKCk7XG4gICAgICB9XG4gICAgICBpZiAobmVlZHNEaW1zKSB7XG4gICAgICAgIHRoaXMuaW5pdERpbWVuc2lvbnMoKTtcbiAgICAgICAgdGhpcy5zZXRDb29yZHMoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGNvbXBsZXhpdHkgb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IGNvbXBsZXhpdHlcbiAgICAgKi9cbiAgICBjb21wbGV4aXR5OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgfSk7XG5cbiAgLyogX0ZST01fU1ZHX1NUQVJUXyAqL1xuICAvKipcbiAgICogTGlzdCBvZiBhdHRyaWJ1dGUgbmFtZXMgdG8gYWNjb3VudCBmb3Igd2hlbiBwYXJzaW5nIFNWRyBlbGVtZW50ICh1c2VkIGJ5IHtAbGluayBmYWJyaWMuVGV4dC5mcm9tRWxlbWVudH0pXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5UZXh0XG4gICAqIEBzZWU6IGh0dHA6Ly93d3cudzMub3JnL1RSL1NWRy90ZXh0Lmh0bWwjVGV4dEVsZW1lbnRcbiAgICovXG4gIGZhYnJpYy5UZXh0LkFUVFJJQlVURV9OQU1FUyA9IGZhYnJpYy5TSEFSRURfQVRUUklCVVRFUy5jb25jYXQoXG4gICAgJ3ggeSBkeCBkeSBmb250LWZhbWlseSBmb250LXN0eWxlIGZvbnQtd2VpZ2h0IGZvbnQtc2l6ZSBsZXR0ZXItc3BhY2luZyB0ZXh0LWRlY29yYXRpb24gdGV4dC1hbmNob3InLnNwbGl0KCcgJykpO1xuXG4gIC8qKlxuICAgKiBEZWZhdWx0IFNWRyBmb250IHNpemVcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLlRleHRcbiAgICovXG4gIGZhYnJpYy5UZXh0LkRFRkFVTFRfU1ZHX0ZPTlRfU0laRSA9IDE2O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGZhYnJpYy5UZXh0IGluc3RhbmNlIGZyb20gYW4gU1ZHIGVsZW1lbnQgKDxiPm5vdCB5ZXQgaW1wbGVtZW50ZWQ8L2I+KVxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuVGV4dFxuICAgKiBAcGFyYW0ge1NWR0VsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCB0byBwYXJzZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBjYWxsYmFjayBmdW5jdGlvbiBpbnZva2VkIGFmdGVyIHBhcnNpbmdcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgKi9cbiAgZmFicmljLlRleHQuZnJvbUVsZW1lbnQgPSBmdW5jdGlvbihlbGVtZW50LCBjYWxsYmFjaywgb3B0aW9ucykge1xuICAgIGlmICghZWxlbWVudCkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwpO1xuICAgIH1cblxuICAgIHZhciBwYXJzZWRBdHRyaWJ1dGVzID0gZmFicmljLnBhcnNlQXR0cmlidXRlcyhlbGVtZW50LCBmYWJyaWMuVGV4dC5BVFRSSUJVVEVfTkFNRVMpLFxuICAgICAgICBwYXJzZWRBbmNob3IgPSBwYXJzZWRBdHRyaWJ1dGVzLnRleHRBbmNob3IgfHwgJ2xlZnQnO1xuICAgIG9wdGlvbnMgPSBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kKChvcHRpb25zID8gY2xvbmUob3B0aW9ucykgOiB7IH0pLCBwYXJzZWRBdHRyaWJ1dGVzKTtcblxuICAgIG9wdGlvbnMudG9wID0gb3B0aW9ucy50b3AgfHwgMDtcbiAgICBvcHRpb25zLmxlZnQgPSBvcHRpb25zLmxlZnQgfHwgMDtcbiAgICBpZiAocGFyc2VkQXR0cmlidXRlcy50ZXh0RGVjb3JhdGlvbikge1xuICAgICAgdmFyIHRleHREZWNvcmF0aW9uID0gcGFyc2VkQXR0cmlidXRlcy50ZXh0RGVjb3JhdGlvbjtcbiAgICAgIGlmICh0ZXh0RGVjb3JhdGlvbi5pbmRleE9mKCd1bmRlcmxpbmUnKSAhPT0gLTEpIHtcbiAgICAgICAgb3B0aW9ucy51bmRlcmxpbmUgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHRleHREZWNvcmF0aW9uLmluZGV4T2YoJ292ZXJsaW5lJykgIT09IC0xKSB7XG4gICAgICAgIG9wdGlvbnMub3ZlcmxpbmUgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHRleHREZWNvcmF0aW9uLmluZGV4T2YoJ2xpbmUtdGhyb3VnaCcpICE9PSAtMSkge1xuICAgICAgICBvcHRpb25zLmxpbmV0aHJvdWdoID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGRlbGV0ZSBvcHRpb25zLnRleHREZWNvcmF0aW9uO1xuICAgIH1cbiAgICBpZiAoJ2R4JyBpbiBwYXJzZWRBdHRyaWJ1dGVzKSB7XG4gICAgICBvcHRpb25zLmxlZnQgKz0gcGFyc2VkQXR0cmlidXRlcy5keDtcbiAgICB9XG4gICAgaWYgKCdkeScgaW4gcGFyc2VkQXR0cmlidXRlcykge1xuICAgICAgb3B0aW9ucy50b3AgKz0gcGFyc2VkQXR0cmlidXRlcy5keTtcbiAgICB9XG4gICAgaWYgKCEoJ2ZvbnRTaXplJyBpbiBvcHRpb25zKSkge1xuICAgICAgb3B0aW9ucy5mb250U2l6ZSA9IGZhYnJpYy5UZXh0LkRFRkFVTFRfU1ZHX0ZPTlRfU0laRTtcbiAgICB9XG5cbiAgICB2YXIgdGV4dENvbnRlbnQgPSAnJztcblxuICAgIC8vIFRoZSBYTUwgaXMgbm90IHByb3Blcmx5IHBhcnNlZCBpbiBJRTkgc28gYSB3b3JrYXJvdW5kIHRvIGdldFxuICAgIC8vIHRleHRDb250ZW50IGlzIHRocm91Z2ggZmlyc3RDaGlsZC5kYXRhLiBBbm90aGVyIHdvcmthcm91bmQgd291bGQgYmVcbiAgICAvLyB0byBjb252ZXJ0IFhNTCBsb2FkZWQgZnJvbSBhIGZpbGUgdG8gYmUgY29udmVydGVkIHVzaW5nIERPTVBhcnNlciAoc2FtZSB3YXkgbG9hZFNWR0Zyb21TdHJpbmcoKSBkb2VzKVxuICAgIGlmICghKCd0ZXh0Q29udGVudCcgaW4gZWxlbWVudCkpIHtcbiAgICAgIGlmICgnZmlyc3RDaGlsZCcgaW4gZWxlbWVudCAmJiBlbGVtZW50LmZpcnN0Q2hpbGQgIT09IG51bGwpIHtcbiAgICAgICAgaWYgKCdkYXRhJyBpbiBlbGVtZW50LmZpcnN0Q2hpbGQgJiYgZWxlbWVudC5maXJzdENoaWxkLmRhdGEgIT09IG51bGwpIHtcbiAgICAgICAgICB0ZXh0Q29udGVudCA9IGVsZW1lbnQuZmlyc3RDaGlsZC5kYXRhO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGV4dENvbnRlbnQgPSBlbGVtZW50LnRleHRDb250ZW50O1xuICAgIH1cblxuICAgIHRleHRDb250ZW50ID0gdGV4dENvbnRlbnQucmVwbGFjZSgvXlxccyt8XFxzKyR8XFxuKy9nLCAnJykucmVwbGFjZSgvXFxzKy9nLCAnICcpO1xuICAgIHZhciBvcmlnaW5hbFN0cm9rZVdpZHRoID0gb3B0aW9ucy5zdHJva2VXaWR0aDtcbiAgICBvcHRpb25zLnN0cm9rZVdpZHRoID0gMDtcblxuICAgIHZhciB0ZXh0ID0gbmV3IGZhYnJpYy5UZXh0KHRleHRDb250ZW50LCBvcHRpb25zKSxcbiAgICAgICAgdGV4dEhlaWdodFNjYWxlRmFjdG9yID0gdGV4dC5nZXRTY2FsZWRIZWlnaHQoKSAvIHRleHQuaGVpZ2h0LFxuICAgICAgICBsaW5lSGVpZ2h0RGlmZiA9ICh0ZXh0LmhlaWdodCArIHRleHQuc3Ryb2tlV2lkdGgpICogdGV4dC5saW5lSGVpZ2h0IC0gdGV4dC5oZWlnaHQsXG4gICAgICAgIHNjYWxlZERpZmYgPSBsaW5lSGVpZ2h0RGlmZiAqIHRleHRIZWlnaHRTY2FsZUZhY3RvcixcbiAgICAgICAgdGV4dEhlaWdodCA9IHRleHQuZ2V0U2NhbGVkSGVpZ2h0KCkgKyBzY2FsZWREaWZmLFxuICAgICAgICBvZmZYID0gMDtcbiAgICAvKlxuICAgICAgQWRqdXN0IHBvc2l0aW9uaW5nOlxuICAgICAgICB4L3kgYXR0cmlidXRlcyBpbiBTVkcgY29ycmVzcG9uZCB0byB0aGUgYm90dG9tLWxlZnQgY29ybmVyIG9mIHRleHQgYm91bmRpbmcgYm94XG4gICAgICAgIGZhYnJpYyBvdXRwdXQgYnkgZGVmYXVsdCBhdCB0b3AsIGxlZnQuXG4gICAgKi9cbiAgICBpZiAocGFyc2VkQW5jaG9yID09PSAnY2VudGVyJykge1xuICAgICAgb2ZmWCA9IHRleHQuZ2V0U2NhbGVkV2lkdGgoKSAvIDI7XG4gICAgfVxuICAgIGlmIChwYXJzZWRBbmNob3IgPT09ICdyaWdodCcpIHtcbiAgICAgIG9mZlggPSB0ZXh0LmdldFNjYWxlZFdpZHRoKCk7XG4gICAgfVxuICAgIHRleHQuc2V0KHtcbiAgICAgIGxlZnQ6IHRleHQubGVmdCAtIG9mZlgsXG4gICAgICB0b3A6IHRleHQudG9wIC0gKHRleHRIZWlnaHQgLSB0ZXh0LmZvbnRTaXplICogKDAuMDcgKyB0ZXh0Ll9mb250U2l6ZUZyYWN0aW9uKSkgLyB0ZXh0LmxpbmVIZWlnaHQsXG4gICAgICBzdHJva2VXaWR0aDogdHlwZW9mIG9yaWdpbmFsU3Ryb2tlV2lkdGggIT09ICd1bmRlZmluZWQnID8gb3JpZ2luYWxTdHJva2VXaWR0aCA6IDEsXG4gICAgfSk7XG4gICAgY2FsbGJhY2sodGV4dCk7XG4gIH07XG4gIC8qIF9GUk9NX1NWR19FTkRfICovXG5cbiAgLyoqXG4gICAqIFJldHVybnMgZmFicmljLlRleHQgaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLlRleHRcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBwbGFpbiBqcyBPYmplY3QgdG8gY3JlYXRlIGFuIGluc3RhbmNlIGZyb21cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBDYWxsYmFjayB0byBpbnZva2Ugd2hlbiBhbiBmYWJyaWMuVGV4dCBpbnN0YW5jZSBpcyBjcmVhdGVkXG4gICAqL1xuICBmYWJyaWMuVGV4dC5mcm9tT2JqZWN0ID0gZnVuY3Rpb24ob2JqZWN0LCBjYWxsYmFjaykge1xuICAgIHZhciBvYmplY3RDb3B5ID0gY2xvbmUob2JqZWN0KSwgcGF0aCA9IG9iamVjdC5wYXRoO1xuICAgIGRlbGV0ZSBvYmplY3RDb3B5LnBhdGg7XG4gICAgcmV0dXJuIGZhYnJpYy5PYmplY3QuX2Zyb21PYmplY3QoJ1RleHQnLCBvYmplY3RDb3B5LCBmdW5jdGlvbih0ZXh0SW5zdGFuY2UpIHtcbiAgICAgIHRleHRJbnN0YW5jZS5zdHlsZXMgPSBmYWJyaWMudXRpbC5zdHlsZXNGcm9tQXJyYXkob2JqZWN0LnN0eWxlcywgb2JqZWN0LnRleHQpO1xuICAgICAgaWYgKHBhdGgpIHtcbiAgICAgICAgZmFicmljLk9iamVjdC5fZnJvbU9iamVjdCgnUGF0aCcsIHBhdGgsIGZ1bmN0aW9uKHBhdGhJbnN0YW5jZSkge1xuICAgICAgICAgIHRleHRJbnN0YW5jZS5zZXQoJ3BhdGgnLCBwYXRoSW5zdGFuY2UpO1xuICAgICAgICAgIGNhbGxiYWNrKHRleHRJbnN0YW5jZSk7XG4gICAgICAgIH0sICdwYXRoJyk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2sodGV4dEluc3RhbmNlKTtcbiAgICAgIH1cbiAgICB9LCAndGV4dCcpO1xuICB9O1xuXG4gIGZhYnJpYy5UZXh0LmdlbmVyaWNGb250cyA9IFsnc2Fucy1zZXJpZicsICdzZXJpZicsICdjdXJzaXZlJywgJ2ZhbnRhc3knLCAnbW9ub3NwYWNlJ107XG5cbiAgZmFicmljLnV0aWwuY3JlYXRlQWNjZXNzb3JzICYmIGZhYnJpYy51dGlsLmNyZWF0ZUFjY2Vzc29ycyhmYWJyaWMuVGV4dCk7XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oKSB7XG4gIGZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQoZmFicmljLlRleHQucHJvdG90eXBlLCAvKiogQGxlbmRzIGZhYnJpYy5UZXh0LnByb3RvdHlwZSAqLyB7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIG9iamVjdCBoYXMgbm8gc3R5bGluZyBvciBubyBzdHlsaW5nIGluIGEgbGluZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSW5kZXggLCBsaW5lSW5kZXggaXMgb24gd3JhcHBlZCBsaW5lcy5cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIGlzRW1wdHlTdHlsZXM6IGZ1bmN0aW9uKGxpbmVJbmRleCkge1xuICAgICAgaWYgKCF0aGlzLnN0eWxlcykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgbGluZUluZGV4ICE9PSAndW5kZWZpbmVkJyAmJiAhdGhpcy5zdHlsZXNbbGluZUluZGV4XSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBvYmogPSB0eXBlb2YgbGluZUluZGV4ID09PSAndW5kZWZpbmVkJyA/IHRoaXMuc3R5bGVzIDogeyBsaW5lOiB0aGlzLnN0eWxlc1tsaW5lSW5kZXhdIH07XG4gICAgICBmb3IgKHZhciBwMSBpbiBvYmopIHtcbiAgICAgICAgZm9yICh2YXIgcDIgaW4gb2JqW3AxXSkge1xuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuICAgICAgICAgIGZvciAodmFyIHAzIGluIG9ialtwMV1bcDJdKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIG9iamVjdCBoYXMgYSBzdHlsZSBwcm9wZXJ0eSBvciBoYXMgaXQgaW5hIHNwZWNpZmllZCBsaW5lXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGRldGVjdCBpZiBhIHRleHQgd2lsbCB1c2UgYSBwYXJ0aWN1bGFyIHByb3BlcnR5IG9yIG5vdC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydHkgdG8gY2hlY2sgZm9yXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxpbmVJbmRleCB0byBjaGVjayB0aGUgc3R5bGUgb25cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIHN0eWxlSGFzOiBmdW5jdGlvbihwcm9wZXJ0eSwgbGluZUluZGV4KSB7XG4gICAgICBpZiAoIXRoaXMuc3R5bGVzIHx8ICFwcm9wZXJ0eSB8fCBwcm9wZXJ0eSA9PT0gJycpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBsaW5lSW5kZXggIT09ICd1bmRlZmluZWQnICYmICF0aGlzLnN0eWxlc1tsaW5lSW5kZXhdKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBvYmogPSB0eXBlb2YgbGluZUluZGV4ID09PSAndW5kZWZpbmVkJyA/IHRoaXMuc3R5bGVzIDogeyAwOiB0aGlzLnN0eWxlc1tsaW5lSW5kZXhdIH07XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgIGZvciAodmFyIHAxIGluIG9iaikge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgZm9yICh2YXIgcDIgaW4gb2JqW3AxXSkge1xuICAgICAgICAgIGlmICh0eXBlb2Ygb2JqW3AxXVtwMl1bcHJvcGVydHldICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGNoYXJhY3RlcnMgaW4gYSB0ZXh0IGhhdmUgYSB2YWx1ZSBmb3IgYSBwcm9wZXJ0eVxuICAgICAqIHdob3NlIHZhbHVlIG1hdGNoZXMgdGhlIHRleHRib3gncyB2YWx1ZSBmb3IgdGhhdCBwcm9wZXJ0eS4gIElmIHNvLFxuICAgICAqIHRoZSBjaGFyYWN0ZXItbGV2ZWwgcHJvcGVydHkgaXMgZGVsZXRlZC4gIElmIHRoZSBjaGFyYWN0ZXJcbiAgICAgKiBoYXMgbm8gb3RoZXIgcHJvcGVydGllcywgdGhlbiBpdCBpcyBhbHNvIGRlbGV0ZWQuICBGaW5hbGx5LFxuICAgICAqIGlmIHRoZSBsaW5lIGNvbnRhaW5pbmcgdGhhdCBjaGFyYWN0ZXIgaGFzIG5vIG90aGVyIGNoYXJhY3RlcnNcbiAgICAgKiB0aGVuIGl0IGFsc28gaXMgZGVsZXRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBUaGUgcHJvcGVydHkgdG8gY29tcGFyZSBiZXR3ZWVuIGNoYXJhY3RlcnMgYW5kIHRleHQuXG4gICAgICovXG4gICAgY2xlYW5TdHlsZTogZnVuY3Rpb24ocHJvcGVydHkpIHtcbiAgICAgIGlmICghdGhpcy5zdHlsZXMgfHwgIXByb3BlcnR5IHx8IHByb3BlcnR5ID09PSAnJykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgb2JqID0gdGhpcy5zdHlsZXMsIHN0eWxlc0NvdW50ID0gMCwgbGV0dGVyQ291bnQsIHN0eWxlUHJvcGVydHlWYWx1ZSxcbiAgICAgICAgICBhbGxTdHlsZU9iamVjdFByb3BlcnRpZXNNYXRjaCA9IHRydWUsIGdyYXBoZW1lQ291bnQgPSAwLCBzdHlsZU9iamVjdDtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgZm9yICh2YXIgcDEgaW4gb2JqKSB7XG4gICAgICAgIGxldHRlckNvdW50ID0gMDtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgIGZvciAodmFyIHAyIGluIG9ialtwMV0pIHtcbiAgICAgICAgICB2YXIgc3R5bGVPYmplY3QgPSBvYmpbcDFdW3AyXSxcbiAgICAgICAgICAgICAgc3R5bGVQcm9wZXJ0eUhhc0JlZW5TZXQgPSBzdHlsZU9iamVjdC5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSk7XG5cbiAgICAgICAgICBzdHlsZXNDb3VudCsrO1xuXG4gICAgICAgICAgaWYgKHN0eWxlUHJvcGVydHlIYXNCZWVuU2V0KSB7XG4gICAgICAgICAgICBpZiAoIXN0eWxlUHJvcGVydHlWYWx1ZSkge1xuICAgICAgICAgICAgICBzdHlsZVByb3BlcnR5VmFsdWUgPSBzdHlsZU9iamVjdFtwcm9wZXJ0eV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzdHlsZU9iamVjdFtwcm9wZXJ0eV0gIT09IHN0eWxlUHJvcGVydHlWYWx1ZSkge1xuICAgICAgICAgICAgICBhbGxTdHlsZU9iamVjdFByb3BlcnRpZXNNYXRjaCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc3R5bGVPYmplY3RbcHJvcGVydHldID09PSB0aGlzW3Byb3BlcnR5XSkge1xuICAgICAgICAgICAgICBkZWxldGUgc3R5bGVPYmplY3RbcHJvcGVydHldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFsbFN0eWxlT2JqZWN0UHJvcGVydGllc01hdGNoID0gZmFsc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHN0eWxlT2JqZWN0KS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIGxldHRlckNvdW50Kys7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGVsZXRlIG9ialtwMV1bcDJdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsZXR0ZXJDb3VudCA9PT0gMCkge1xuICAgICAgICAgIGRlbGV0ZSBvYmpbcDFdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBpZiBldmVyeSBncmFwaGVtZSBoYXMgdGhlIHNhbWUgc3R5bGUgc2V0IHRoZW5cbiAgICAgIC8vIGRlbGV0ZSB0aG9zZSBzdHlsZXMgYW5kIHNldCBpdCBvbiB0aGUgcGFyZW50XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3RleHRMaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBncmFwaGVtZUNvdW50ICs9IHRoaXMuX3RleHRMaW5lc1tpXS5sZW5ndGg7XG4gICAgICB9XG4gICAgICBpZiAoYWxsU3R5bGVPYmplY3RQcm9wZXJ0aWVzTWF0Y2ggJiYgc3R5bGVzQ291bnQgPT09IGdyYXBoZW1lQ291bnQpIHtcbiAgICAgICAgdGhpc1twcm9wZXJ0eV0gPSBzdHlsZVByb3BlcnR5VmFsdWU7XG4gICAgICAgIHRoaXMucmVtb3ZlU3R5bGUocHJvcGVydHkpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBzdHlsZSBwcm9wZXJ0eSBvciBwcm9wZXJ0aWVzIGZyb20gYWxsIGluZGl2aWR1YWwgY2hhcmFjdGVyIHN0eWxlc1xuICAgICAqIGluIGEgdGV4dCBvYmplY3QuICBEZWxldGVzIHRoZSBjaGFyYWN0ZXIgc3R5bGUgb2JqZWN0IGlmIGl0IGNvbnRhaW5zIG5vIG90aGVyIHN0eWxlXG4gICAgICogcHJvcHMuICBEZWxldGVzIGEgbGluZSBzdHlsZSBvYmplY3QgaWYgaXQgY29udGFpbnMgbm8gb3RoZXIgY2hhcmFjdGVyIHN0eWxlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wcyBUaGUgcHJvcGVydHkgdG8gcmVtb3ZlIGZyb20gY2hhcmFjdGVyIHN0eWxlcy5cbiAgICAgKi9cbiAgICByZW1vdmVTdHlsZTogZnVuY3Rpb24ocHJvcGVydHkpIHtcbiAgICAgIGlmICghdGhpcy5zdHlsZXMgfHwgIXByb3BlcnR5IHx8IHByb3BlcnR5ID09PSAnJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgb2JqID0gdGhpcy5zdHlsZXMsIGxpbmUsIGxpbmVOdW0sIGNoYXJOdW07XG4gICAgICBmb3IgKGxpbmVOdW0gaW4gb2JqKSB7XG4gICAgICAgIGxpbmUgPSBvYmpbbGluZU51bV07XG4gICAgICAgIGZvciAoY2hhck51bSBpbiBsaW5lKSB7XG4gICAgICAgICAgZGVsZXRlIGxpbmVbY2hhck51bV1bcHJvcGVydHldO1xuICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhsaW5lW2NoYXJOdW1dKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGRlbGV0ZSBsaW5lW2NoYXJOdW1dO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoT2JqZWN0LmtleXMobGluZSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgZGVsZXRlIG9ialtsaW5lTnVtXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9leHRlbmRTdHlsZXM6IGZ1bmN0aW9uKGluZGV4LCBzdHlsZXMpIHtcbiAgICAgIHZhciBsb2MgPSB0aGlzLmdldDJEQ3Vyc29yTG9jYXRpb24oaW5kZXgpO1xuXG4gICAgICBpZiAoIXRoaXMuX2dldExpbmVTdHlsZShsb2MubGluZUluZGV4KSkge1xuICAgICAgICB0aGlzLl9zZXRMaW5lU3R5bGUobG9jLmxpbmVJbmRleCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5fZ2V0U3R5bGVEZWNsYXJhdGlvbihsb2MubGluZUluZGV4LCBsb2MuY2hhckluZGV4KSkge1xuICAgICAgICB0aGlzLl9zZXRTdHlsZURlY2xhcmF0aW9uKGxvYy5saW5lSW5kZXgsIGxvYy5jaGFySW5kZXgsIHt9KTtcbiAgICAgIH1cblxuICAgICAgZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZCh0aGlzLl9nZXRTdHlsZURlY2xhcmF0aW9uKGxvYy5saW5lSW5kZXgsIGxvYy5jaGFySW5kZXgpLCBzdHlsZXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIDJkIHJlcHJlc2VudGF0aW9uIChsaW5lSW5kZXggYW5kIGNoYXJJbmRleCkgb2YgY3Vyc29yIChvciBzZWxlY3Rpb24gc3RhcnQpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzZWxlY3Rpb25TdGFydF0gT3B0aW9uYWwgaW5kZXguIFdoZW4gbm90IGdpdmVuLCBjdXJyZW50IHNlbGVjdGlvblN0YXJ0IGlzIHVzZWQuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbc2tpcFdyYXBwaW5nXSBjb25zaWRlciB0aGUgbG9jYXRpb24gZm9yIHVud3JhcHBlZCBsaW5lcy4gdXNlZnVsIHRvIG1hbmFnZSBzdHlsZXMuXG4gICAgICovXG4gICAgZ2V0MkRDdXJzb3JMb2NhdGlvbjogZnVuY3Rpb24oc2VsZWN0aW9uU3RhcnQsIHNraXBXcmFwcGluZykge1xuICAgICAgaWYgKHR5cGVvZiBzZWxlY3Rpb25TdGFydCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgc2VsZWN0aW9uU3RhcnQgPSB0aGlzLnNlbGVjdGlvblN0YXJ0O1xuICAgICAgfVxuICAgICAgdmFyIGxpbmVzID0gc2tpcFdyYXBwaW5nID8gdGhpcy5fdW53cmFwcGVkVGV4dExpbmVzIDogdGhpcy5fdGV4dExpbmVzLFxuICAgICAgICAgIGxlbiA9IGxpbmVzLmxlbmd0aDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgaWYgKHNlbGVjdGlvblN0YXJ0IDw9IGxpbmVzW2ldLmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsaW5lSW5kZXg6IGksXG4gICAgICAgICAgICBjaGFySW5kZXg6IHNlbGVjdGlvblN0YXJ0XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBzZWxlY3Rpb25TdGFydCAtPSBsaW5lc1tpXS5sZW5ndGggKyB0aGlzLm1pc3NpbmdOZXdsaW5lT2Zmc2V0KGkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbGluZUluZGV4OiBpIC0gMSxcbiAgICAgICAgY2hhckluZGV4OiBsaW5lc1tpIC0gMV0ubGVuZ3RoIDwgc2VsZWN0aW9uU3RhcnQgPyBsaW5lc1tpIC0gMV0ubGVuZ3RoIDogc2VsZWN0aW9uU3RhcnRcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldHMgc3R5bGUgb2YgYSBjdXJyZW50IHNlbGVjdGlvbi9jdXJzb3IgKGF0IHRoZSBzdGFydCBwb3NpdGlvbilcbiAgICAgKiBpZiBzdGFydEluZGV4IG9yIGVuZEluZGV4IGFyZSBub3QgcHJvdmlkZWQsIHNlbGVjdGlvblN0YXJ0IG9yIHNlbGVjdGlvbkVuZCB3aWxsIGJlIHVzZWQuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzdGFydEluZGV4XSBTdGFydCBpbmRleCB0byBnZXQgc3R5bGVzIGF0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtlbmRJbmRleF0gRW5kIGluZGV4IHRvIGdldCBzdHlsZXMgYXQsIGlmIG5vdCBzcGVjaWZpZWQgc2VsZWN0aW9uRW5kIG9yIHN0YXJ0SW5kZXggKyAxXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY29tcGxldGVdIGdldCBmdWxsIHN0eWxlIG9yIG5vdFxuICAgICAqIEByZXR1cm4ge0FycmF5fSBzdHlsZXMgYW4gYXJyYXkgd2l0aCBvbmUsIHplcm8gb3IgbW9yZSBTdHlsZSBvYmplY3RzXG4gICAgICovXG4gICAgZ2V0U2VsZWN0aW9uU3R5bGVzOiBmdW5jdGlvbihzdGFydEluZGV4LCBlbmRJbmRleCwgY29tcGxldGUpIHtcbiAgICAgIGlmICh0eXBlb2Ygc3RhcnRJbmRleCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgc3RhcnRJbmRleCA9IHRoaXMuc2VsZWN0aW9uU3RhcnQgfHwgMDtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgZW5kSW5kZXggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGVuZEluZGV4ID0gdGhpcy5zZWxlY3Rpb25FbmQgfHwgc3RhcnRJbmRleDtcbiAgICAgIH1cbiAgICAgIHZhciBzdHlsZXMgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSBzdGFydEluZGV4OyBpIDwgZW5kSW5kZXg7IGkrKykge1xuICAgICAgICBzdHlsZXMucHVzaCh0aGlzLmdldFN0eWxlQXRQb3NpdGlvbihpLCBjb21wbGV0ZSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0eWxlcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0cyBzdHlsZSBvZiBhIGN1cnJlbnQgc2VsZWN0aW9uL2N1cnNvciBwb3NpdGlvblxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwb3NpdGlvbiAgdG8gZ2V0IHN0eWxlcyBhdFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbXBsZXRlXSBmdWxsIHN0eWxlIGlmIHRydWVcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IHN0eWxlIFN0eWxlIG9iamVjdCBhdCBhIHNwZWNpZmllZCBpbmRleFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZ2V0U3R5bGVBdFBvc2l0aW9uOiBmdW5jdGlvbihwb3NpdGlvbiwgY29tcGxldGUpIHtcbiAgICAgIHZhciBsb2MgPSB0aGlzLmdldDJEQ3Vyc29yTG9jYXRpb24ocG9zaXRpb24pLFxuICAgICAgICAgIHN0eWxlID0gY29tcGxldGUgPyB0aGlzLmdldENvbXBsZXRlU3R5bGVEZWNsYXJhdGlvbihsb2MubGluZUluZGV4LCBsb2MuY2hhckluZGV4KSA6XG4gICAgICAgICAgICB0aGlzLl9nZXRTdHlsZURlY2xhcmF0aW9uKGxvYy5saW5lSW5kZXgsIGxvYy5jaGFySW5kZXgpO1xuICAgICAgcmV0dXJuIHN0eWxlIHx8IHt9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHN0eWxlIG9mIGEgY3VycmVudCBzZWxlY3Rpb24sIGlmIG5vIHNlbGVjdGlvbiBleGlzdCwgZG8gbm90IHNldCBhbnl0aGluZy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0eWxlc10gU3R5bGVzIG9iamVjdFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3RhcnRJbmRleF0gU3RhcnQgaW5kZXggdG8gZ2V0IHN0eWxlcyBhdFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbZW5kSW5kZXhdIEVuZCBpbmRleCB0byBnZXQgc3R5bGVzIGF0LCBpZiBub3Qgc3BlY2lmaWVkIHNlbGVjdGlvbkVuZCBvciBzdGFydEluZGV4ICsgMVxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5JVGV4dH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzZXRTZWxlY3Rpb25TdHlsZXM6IGZ1bmN0aW9uKHN0eWxlcywgc3RhcnRJbmRleCwgZW5kSW5kZXgpIHtcbiAgICAgIGlmICh0eXBlb2Ygc3RhcnRJbmRleCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgc3RhcnRJbmRleCA9IHRoaXMuc2VsZWN0aW9uU3RhcnQgfHwgMDtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgZW5kSW5kZXggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGVuZEluZGV4ID0gdGhpcy5zZWxlY3Rpb25FbmQgfHwgc3RhcnRJbmRleDtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGkgPSBzdGFydEluZGV4OyBpIDwgZW5kSW5kZXg7IGkrKykge1xuICAgICAgICB0aGlzLl9leHRlbmRTdHlsZXMoaSwgc3R5bGVzKTtcbiAgICAgIH1cbiAgICAgIC8qIG5vdCBpbmNsdWRlZCBpbiBfZXh0ZW5kU3R5bGVzIHRvIGF2b2lkIGNsZWFyaW5nIGNhY2hlIG1vcmUgdGhhbiBvbmNlICovXG4gICAgICB0aGlzLl9mb3JjZUNsZWFyQ2FjaGUgPSB0cnVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGdldCB0aGUgcmVmZXJlbmNlLCBub3QgYSBjbG9uZSwgb2YgdGhlIHN0eWxlIG9iamVjdCBmb3IgYSBnaXZlbiBjaGFyYWN0ZXJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGNoYXJJbmRleFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gc3R5bGUgb2JqZWN0XG4gICAgICovXG4gICAgX2dldFN0eWxlRGVjbGFyYXRpb246IGZ1bmN0aW9uKGxpbmVJbmRleCwgY2hhckluZGV4KSB7XG4gICAgICB2YXIgbGluZVN0eWxlID0gdGhpcy5zdHlsZXMgJiYgdGhpcy5zdHlsZXNbbGluZUluZGV4XTtcbiAgICAgIGlmICghbGluZVN0eWxlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGxpbmVTdHlsZVtjaGFySW5kZXhdO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiByZXR1cm4gYSBuZXcgb2JqZWN0IHRoYXQgY29udGFpbnMgYWxsIHRoZSBzdHlsZSBwcm9wZXJ0eSBmb3IgYSBjaGFyYWN0ZXJcbiAgICAgKiB0aGUgb2JqZWN0IHJldHVybmVkIGlzIG5ld2x5IGNyZWF0ZWRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4IG9mIHRoZSBsaW5lIHdoZXJlIHRoZSBjaGFyYWN0ZXIgaXNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gY2hhckluZGV4IHBvc2l0aW9uIG9mIHRoZSBjaGFyYWN0ZXIgb24gdGhlIGxpbmVcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IHN0eWxlIG9iamVjdFxuICAgICAqL1xuICAgIGdldENvbXBsZXRlU3R5bGVEZWNsYXJhdGlvbjogZnVuY3Rpb24obGluZUluZGV4LCBjaGFySW5kZXgpIHtcbiAgICAgIHZhciBzdHlsZSA9IHRoaXMuX2dldFN0eWxlRGVjbGFyYXRpb24obGluZUluZGV4LCBjaGFySW5kZXgpIHx8IHsgfSxcbiAgICAgICAgICBzdHlsZU9iamVjdCA9IHsgfSwgcHJvcDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fc3R5bGVQcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHByb3AgPSB0aGlzLl9zdHlsZVByb3BlcnRpZXNbaV07XG4gICAgICAgIHN0eWxlT2JqZWN0W3Byb3BdID0gdHlwZW9mIHN0eWxlW3Byb3BdID09PSAndW5kZWZpbmVkJyA/IHRoaXNbcHJvcF0gOiBzdHlsZVtwcm9wXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHlsZU9iamVjdDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxpbmVJbmRleFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBjaGFySW5kZXhcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3R5bGVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9zZXRTdHlsZURlY2xhcmF0aW9uOiBmdW5jdGlvbihsaW5lSW5kZXgsIGNoYXJJbmRleCwgc3R5bGUpIHtcbiAgICAgIHRoaXMuc3R5bGVzW2xpbmVJbmRleF1bY2hhckluZGV4XSA9IHN0eWxlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSW5kZXhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gY2hhckluZGV4XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZGVsZXRlU3R5bGVEZWNsYXJhdGlvbjogZnVuY3Rpb24obGluZUluZGV4LCBjaGFySW5kZXgpIHtcbiAgICAgIGRlbGV0ZSB0aGlzLnN0eWxlc1tsaW5lSW5kZXhdW2NoYXJJbmRleF07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSW5kZXhcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBpZiB0aGUgbGluZSBleGlzdHMgb3Igbm90XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZ2V0TGluZVN0eWxlOiBmdW5jdGlvbihsaW5lSW5kZXgpIHtcbiAgICAgIHJldHVybiAhIXRoaXMuc3R5bGVzW2xpbmVJbmRleF07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgbGluZSBzdHlsZSB0byBhbiBlbXB0eSBvYmplY3Qgc28gdGhhdCBpcyBpbml0aWFsaXplZFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSW5kZXhcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9zZXRMaW5lU3R5bGU6IGZ1bmN0aW9uKGxpbmVJbmRleCkge1xuICAgICAgdGhpcy5zdHlsZXNbbGluZUluZGV4XSA9IHt9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZGVsZXRlTGluZVN0eWxlOiBmdW5jdGlvbihsaW5lSW5kZXgpIHtcbiAgICAgIGRlbGV0ZSB0aGlzLnN0eWxlc1tsaW5lSW5kZXhdO1xuICAgIH1cbiAgfSk7XG59KSgpO1xuXG5cbihmdW5jdGlvbigpIHtcblxuICBmdW5jdGlvbiBwYXJzZURlY29yYXRpb24ob2JqZWN0KSB7XG4gICAgaWYgKG9iamVjdC50ZXh0RGVjb3JhdGlvbikge1xuICAgICAgb2JqZWN0LnRleHREZWNvcmF0aW9uLmluZGV4T2YoJ3VuZGVybGluZScpID4gLTEgJiYgKG9iamVjdC51bmRlcmxpbmUgPSB0cnVlKTtcbiAgICAgIG9iamVjdC50ZXh0RGVjb3JhdGlvbi5pbmRleE9mKCdsaW5lLXRocm91Z2gnKSA+IC0xICYmIChvYmplY3QubGluZXRocm91Z2ggPSB0cnVlKTtcbiAgICAgIG9iamVjdC50ZXh0RGVjb3JhdGlvbi5pbmRleE9mKCdvdmVybGluZScpID4gLTEgJiYgKG9iamVjdC5vdmVybGluZSA9IHRydWUpO1xuICAgICAgZGVsZXRlIG9iamVjdC50ZXh0RGVjb3JhdGlvbjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSVRleHQgY2xhc3MgKGludHJvZHVjZWQgaW4gPGI+djEuNDwvYj4pIEV2ZW50cyBhcmUgYWxzbyBmaXJlZCB3aXRoIFwidGV4dDpcIlxuICAgKiBwcmVmaXggd2hlbiBvYnNlcnZpbmcgY2FudmFzLlxuICAgKiBAY2xhc3MgZmFicmljLklUZXh0XG4gICAqIEBleHRlbmRzIGZhYnJpYy5UZXh0XG4gICAqIEBtaXhlcyBmYWJyaWMuT2JzZXJ2YWJsZVxuICAgKlxuICAgKiBAZmlyZXMgY2hhbmdlZFxuICAgKiBAZmlyZXMgc2VsZWN0aW9uOmNoYW5nZWRcbiAgICogQGZpcmVzIGVkaXRpbmc6ZW50ZXJlZFxuICAgKiBAZmlyZXMgZWRpdGluZzpleGl0ZWRcbiAgICpcbiAgICogQHJldHVybiB7ZmFicmljLklUZXh0fSB0aGlzQXJnXG4gICAqIEBzZWUge0BsaW5rIGZhYnJpYy5JVGV4dCNpbml0aWFsaXplfSBmb3IgY29uc3RydWN0b3IgZGVmaW5pdGlvblxuICAgKlxuICAgKiA8cD5TdXBwb3J0ZWQga2V5IGNvbWJpbmF0aW9uczo8L3A+XG4gICAqIDxwcmU+XG4gICAqICAgTW92ZSBjdXJzb3I6ICAgICAgICAgICAgICAgICAgICBsZWZ0LCByaWdodCwgdXAsIGRvd25cbiAgICogICBTZWxlY3QgY2hhcmFjdGVyOiAgICAgICAgICAgICAgIHNoaWZ0ICsgbGVmdCwgc2hpZnQgKyByaWdodFxuICAgKiAgIFNlbGVjdCB0ZXh0IHZlcnRpY2FsbHk6ICAgICAgICAgc2hpZnQgKyB1cCwgc2hpZnQgKyBkb3duXG4gICAqICAgTW92ZSBjdXJzb3IgYnkgd29yZDogICAgICAgICAgICBhbHQgKyBsZWZ0LCBhbHQgKyByaWdodFxuICAgKiAgIFNlbGVjdCB3b3JkczogICAgICAgICAgICAgICAgICAgc2hpZnQgKyBhbHQgKyBsZWZ0LCBzaGlmdCArIGFsdCArIHJpZ2h0XG4gICAqICAgTW92ZSBjdXJzb3IgdG8gbGluZSBzdGFydC9lbmQ6ICBjbWQgKyBsZWZ0LCBjbWQgKyByaWdodCBvciBob21lLCBlbmRcbiAgICogICBTZWxlY3QgdGlsbCBzdGFydC9lbmQgb2YgbGluZTogIGNtZCArIHNoaWZ0ICsgbGVmdCwgY21kICsgc2hpZnQgKyByaWdodCBvciBzaGlmdCArIGhvbWUsIHNoaWZ0ICsgZW5kXG4gICAqICAgSnVtcCB0byBzdGFydC9lbmQgb2YgdGV4dDogICAgICBjbWQgKyB1cCwgY21kICsgZG93blxuICAgKiAgIFNlbGVjdCB0aWxsIHN0YXJ0L2VuZCBvZiB0ZXh0OiAgY21kICsgc2hpZnQgKyB1cCwgY21kICsgc2hpZnQgKyBkb3duIG9yIHNoaWZ0ICsgcGdVcCwgc2hpZnQgKyBwZ0Rvd25cbiAgICogICBEZWxldGUgY2hhcmFjdGVyOiAgICAgICAgICAgICAgIGJhY2tzcGFjZVxuICAgKiAgIERlbGV0ZSB3b3JkOiAgICAgICAgICAgICAgICAgICAgYWx0ICsgYmFja3NwYWNlXG4gICAqICAgRGVsZXRlIGxpbmU6ICAgICAgICAgICAgICAgICAgICBjbWQgKyBiYWNrc3BhY2VcbiAgICogICBGb3J3YXJkIGRlbGV0ZTogICAgICAgICAgICAgICAgIGRlbGV0ZVxuICAgKiAgIENvcHkgdGV4dDogICAgICAgICAgICAgICAgICAgICAgY3RybC9jbWQgKyBjXG4gICAqICAgUGFzdGUgdGV4dDogICAgICAgICAgICAgICAgICAgICBjdHJsL2NtZCArIHZcbiAgICogICBDdXQgdGV4dDogICAgICAgICAgICAgICAgICAgICAgIGN0cmwvY21kICsgeFxuICAgKiAgIFNlbGVjdCBlbnRpcmUgdGV4dDogICAgICAgICAgICAgY3RybC9jbWQgKyBhXG4gICAqICAgUXVpdCBlZGl0aW5nICAgICAgICAgICAgICAgICAgICB0YWIgb3IgZXNjXG4gICAqIDwvcHJlPlxuICAgKlxuICAgKiA8cD5TdXBwb3J0ZWQgbW91c2UvdG91Y2ggY29tYmluYXRpb248L3A+XG4gICAqIDxwcmU+XG4gICAqICAgUG9zaXRpb24gY3Vyc29yOiAgICAgICAgICAgICAgICBjbGljay90b3VjaFxuICAgKiAgIENyZWF0ZSBzZWxlY3Rpb246ICAgICAgICAgICAgICAgY2xpY2svdG91Y2ggJiBkcmFnXG4gICAqICAgQ3JlYXRlIHNlbGVjdGlvbjogICAgICAgICAgICAgICBjbGljayAmIHNoaWZ0ICsgY2xpY2tcbiAgICogICBTZWxlY3Qgd29yZDogICAgICAgICAgICAgICAgICAgIGRvdWJsZSBjbGlja1xuICAgKiAgIFNlbGVjdCBsaW5lOiAgICAgICAgICAgICAgICAgICAgdHJpcGxlIGNsaWNrXG4gICAqIDwvcHJlPlxuICAgKi9cbiAgZmFicmljLklUZXh0ID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3MoZmFicmljLlRleHQsIGZhYnJpYy5PYnNlcnZhYmxlLCAvKiogQGxlbmRzIGZhYnJpYy5JVGV4dC5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogVHlwZSBvZiBhbiBvYmplY3RcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHR5cGU6ICdpLXRleHQnLFxuXG4gICAgLyoqXG4gICAgICogSW5kZXggd2hlcmUgdGV4dCBzZWxlY3Rpb24gc3RhcnRzIChvciB3aGVyZSBjdXJzb3IgaXMgd2hlbiB0aGVyZSBpcyBubyBzZWxlY3Rpb24pXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzZWxlY3Rpb25TdGFydDogMCxcblxuICAgIC8qKlxuICAgICAqIEluZGV4IHdoZXJlIHRleHQgc2VsZWN0aW9uIGVuZHNcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHNlbGVjdGlvbkVuZDogMCxcblxuICAgIC8qKlxuICAgICAqIENvbG9yIG9mIHRleHQgc2VsZWN0aW9uXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzZWxlY3Rpb25Db2xvcjogJ3JnYmEoMTcsMTE5LDI1NSwwLjMpJyxcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIHRleHQgaXMgaW4gZWRpdGluZyBtb2RlXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgaXNFZGl0aW5nOiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIGEgdGV4dCBjYW4gYmUgZWRpdGVkXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgZWRpdGFibGU6IHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBCb3JkZXIgY29sb3Igb2YgdGV4dCBvYmplY3Qgd2hpbGUgaXQncyBpbiBlZGl0aW5nIG1vZGVcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGVkaXRpbmdCb3JkZXJDb2xvcjogJ3JnYmEoMTAyLDE1MywyNTUsMC4yNSknLFxuXG4gICAgLyoqXG4gICAgICogV2lkdGggb2YgY3Vyc29yIChpbiBweClcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGN1cnNvcldpZHRoOiAyLFxuXG4gICAgLyoqXG4gICAgICogQ29sb3Igb2YgdGV4dCBjdXJzb3IgY29sb3IgaW4gZWRpdGluZyBtb2RlLlxuICAgICAqIGlmIG5vdCBzZXQgKGRlZmF1bHQpIHdpbGwgdGFrZSBjb2xvciBmcm9tIHRoZSB0ZXh0LlxuICAgICAqIGlmIHNldCB0byBhIGNvbG9yIHZhbHVlIHRoYXQgZmFicmljIGNhbiB1bmRlcnN0YW5kLCBpdCB3aWxsXG4gICAgICogYmUgdXNlZCBpbnN0ZWFkIG9mIHRoZSBjb2xvciBvZiB0aGUgdGV4dCBhdCB0aGUgY3VycmVudCBwb3NpdGlvbi5cbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGN1cnNvckNvbG9yOiAnJyxcblxuICAgIC8qKlxuICAgICAqIERlbGF5IGJldHdlZW4gY3Vyc29yIGJsaW5rIChpbiBtcylcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGN1cnNvckRlbGF5OiAxMDAwLFxuXG4gICAgLyoqXG4gICAgICogRHVyYXRpb24gb2YgY3Vyc29yIGZhZGVpbiAoaW4gbXMpXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBjdXJzb3JEdXJhdGlvbjogNjAwLFxuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoZXRoZXIgaW50ZXJuYWwgdGV4dCBjaGFyIHdpZHRocyBjYW4gYmUgY2FjaGVkXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgY2FjaGluZzogdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIERPTSBjb250YWluZXIgdG8gYXBwZW5kIHRoZSBoaWRkZW5UZXh0YXJlYS5cbiAgICAgKiBBbiBhbHRlcm5hdGl2ZSB0byBhdHRhY2hpbmcgdG8gdGhlIGRvY3VtZW50LmJvZHkuXG4gICAgICogVXNlZnVsIHRvIHJlZHVjZSBsYWdnaXNoIHJlZHJhdyBvZiB0aGUgZnVsbCBkb2N1bWVudC5ib2R5IHRyZWUgYW5kXG4gICAgICogYWxzbyB3aXRoIG1vZGFscyBldmVudCBjYXB0dXJpbmcgdGhhdCB3b24ndCBsZXQgdGhlIHRleHRhcmVhIHRha2UgZm9jdXMuXG4gICAgICogQHR5cGUgSFRNTEVsZW1lbnRcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGhpZGRlblRleHRhcmVhQ29udGFpbmVyOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVTcGFjZTogL1xcc3xcXG4vLFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfY3VycmVudEN1cnNvck9wYWNpdHk6IDAsXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9zZWxlY3Rpb25EaXJlY3Rpb246IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9hYm9ydEN1cnNvckFuaW1hdGlvbjogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9fd2lkdGhPZlNwYWNlOiBbXSxcblxuICAgIC8qKlxuICAgICAqIEhlbHBzIGRldGVybWluaW5nIHdoZW4gdGhlIHRleHQgaXMgaW4gY29tcG9zaXRpb24sIHNvIHRoYXQgdGhlIGN1cnNvclxuICAgICAqIHJlbmRlcmluZyBpcyBhbHRlcmVkLlxuICAgICAqL1xuICAgIGluQ29tcG9zaXRpb25Nb2RlOiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHRleHQgVGV4dCBzdHJpbmdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAgICogQHJldHVybiB7ZmFicmljLklUZXh0fSB0aGlzQXJnXG4gICAgICovXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24odGV4dCwgb3B0aW9ucykge1xuICAgICAgdGhpcy5jYWxsU3VwZXIoJ2luaXRpYWxpemUnLCB0ZXh0LCBvcHRpb25zKTtcbiAgICAgIHRoaXMuaW5pdEJlaGF2aW9yKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgc2VsZWN0aW9uIHN0YXJ0IChsZWZ0IGJvdW5kYXJ5IG9mIGEgc2VsZWN0aW9uKVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBpbmRleCBJbmRleCB0byBzZXQgc2VsZWN0aW9uIHN0YXJ0IHRvXG4gICAgICovXG4gICAgc2V0U2VsZWN0aW9uU3RhcnQ6IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICBpbmRleCA9IE1hdGgubWF4KGluZGV4LCAwKTtcbiAgICAgIHRoaXMuX3VwZGF0ZUFuZEZpcmUoJ3NlbGVjdGlvblN0YXJ0JywgaW5kZXgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHNlbGVjdGlvbiBlbmQgKHJpZ2h0IGJvdW5kYXJ5IG9mIGEgc2VsZWN0aW9uKVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBpbmRleCBJbmRleCB0byBzZXQgc2VsZWN0aW9uIGVuZCB0b1xuICAgICAqL1xuICAgIHNldFNlbGVjdGlvbkVuZDogZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgIGluZGV4ID0gTWF0aC5taW4oaW5kZXgsIHRoaXMudGV4dC5sZW5ndGgpO1xuICAgICAgdGhpcy5fdXBkYXRlQW5kRmlyZSgnc2VsZWN0aW9uRW5kJywgaW5kZXgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eSAnc2VsZWN0aW9uU3RhcnQnIG9yICdzZWxlY3Rpb25FbmQnXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4IG5ldyBwb3NpdGlvbiBvZiBwcm9wZXJ0eVxuICAgICAqL1xuICAgIF91cGRhdGVBbmRGaXJlOiBmdW5jdGlvbihwcm9wZXJ0eSwgaW5kZXgpIHtcbiAgICAgIGlmICh0aGlzW3Byb3BlcnR5XSAhPT0gaW5kZXgpIHtcbiAgICAgICAgdGhpcy5fZmlyZVNlbGVjdGlvbkNoYW5nZWQoKTtcbiAgICAgICAgdGhpc1twcm9wZXJ0eV0gPSBpbmRleDtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3VwZGF0ZVRleHRhcmVhKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEZpcmVzIHRoZSBldmVuIG9mIHNlbGVjdGlvbiBjaGFuZ2VkXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZmlyZVNlbGVjdGlvbkNoYW5nZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5maXJlKCdzZWxlY3Rpb246Y2hhbmdlZCcpO1xuICAgICAgdGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMuZmlyZSgndGV4dDpzZWxlY3Rpb246Y2hhbmdlZCcsIHsgdGFyZ2V0OiB0aGlzIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHRleHQgZGltZW5zaW9ucy4gUmVuZGVyIGFsbCB0ZXh0IG9uIGdpdmVuIGNvbnRleHRcbiAgICAgKiBvciBvbiBhIG9mZnNjcmVlbiBjYW52YXMgdG8gZ2V0IHRoZSB0ZXh0IHdpZHRoIHdpdGggbWVhc3VyZVRleHQuXG4gICAgICogVXBkYXRlcyB0aGlzLndpZHRoIGFuZCB0aGlzLmhlaWdodCB3aXRoIHRoZSBwcm9wZXIgdmFsdWVzLlxuICAgICAqIERvZXMgbm90IHJldHVybiBkaW1lbnNpb25zLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgaW5pdERpbWVuc2lvbnM6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5pc0VkaXRpbmcgJiYgdGhpcy5pbml0RGVsYXllZEN1cnNvcigpO1xuICAgICAgdGhpcy5jbGVhckNvbnRleHRUb3AoKTtcbiAgICAgIHRoaXMuY2FsbFN1cGVyKCdpbml0RGltZW5zaW9ucycpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICByZW5kZXI6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgdGhpcy5jbGVhckNvbnRleHRUb3AoKTtcbiAgICAgIHRoaXMuY2FsbFN1cGVyKCdyZW5kZXInLCBjdHgpO1xuICAgICAgLy8gY2xlYXIgdGhlIGN1cnNvck9mZnNldENhY2hlLCBzbyB3ZSBlbnN1cmUgdG8gY2FsY3VsYXRlIG9uY2UgcGVyIHJlbmRlckN1cnNvclxuICAgICAgLy8gdGhlIGNvcnJlY3QgcG9zaXRpb24gYnV0IG5vdCBhdCBldmVyeSBjdXJzb3IgYW5pbWF0aW9uLlxuICAgICAgdGhpcy5jdXJzb3JPZmZzZXRDYWNoZSA9IHsgfTtcbiAgICAgIHRoaXMucmVuZGVyQ3Vyc29yT3JTZWxlY3Rpb24oKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgX3JlbmRlcjogZnVuY3Rpb24oY3R4KSB7XG4gICAgICB0aGlzLmNhbGxTdXBlcignX3JlbmRlcicsIGN0eCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFByZXBhcmUgYW5kIGNsZWFuIHRoZSBjb250ZXh0VG9wXG4gICAgICovXG4gICAgY2xlYXJDb250ZXh0VG9wOiBmdW5jdGlvbihza2lwUmVzdG9yZSkge1xuICAgICAgaWYgKCF0aGlzLmlzRWRpdGluZyB8fCAhdGhpcy5jYW52YXMgfHwgIXRoaXMuY2FudmFzLmNvbnRleHRUb3ApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIGN0eCA9IHRoaXMuY2FudmFzLmNvbnRleHRUb3AsIHYgPSB0aGlzLmNhbnZhcy52aWV3cG9ydFRyYW5zZm9ybTtcbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICBjdHgudHJhbnNmb3JtKHZbMF0sIHZbMV0sIHZbMl0sIHZbM10sIHZbNF0sIHZbNV0pO1xuICAgICAgdGhpcy50cmFuc2Zvcm0oY3R4KTtcbiAgICAgIHRoaXMuX2NsZWFyVGV4dEFyZWEoY3R4KTtcbiAgICAgIHNraXBSZXN0b3JlIHx8IGN0eC5yZXN0b3JlKCk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIGN1cnNvciBvciBzZWxlY3Rpb24gKGRlcGVuZGluZyBvbiB3aGF0IGV4aXN0cylcbiAgICAgKiBpdCBkb2VzIG9uIHRoZSBjb250ZXh0VG9wLiBJZiBjb250ZXh0VG9wIGlzIG5vdCBhdmFpbGFibGUsIGRvIG5vdGhpbmcuXG4gICAgICovXG4gICAgcmVuZGVyQ3Vyc29yT3JTZWxlY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCF0aGlzLmlzRWRpdGluZyB8fCAhdGhpcy5jYW52YXMgfHwgIXRoaXMuY2FudmFzLmNvbnRleHRUb3ApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIGJvdW5kYXJpZXMgPSB0aGlzLl9nZXRDdXJzb3JCb3VuZGFyaWVzKCksXG4gICAgICAgICAgY3R4ID0gdGhpcy5jYW52YXMuY29udGV4dFRvcDtcbiAgICAgIHRoaXMuY2xlYXJDb250ZXh0VG9wKHRydWUpO1xuICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uU3RhcnQgPT09IHRoaXMuc2VsZWN0aW9uRW5kKSB7XG4gICAgICAgIHRoaXMucmVuZGVyQ3Vyc29yKGJvdW5kYXJpZXMsIGN0eCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5yZW5kZXJTZWxlY3Rpb24oYm91bmRhcmllcywgY3R4KTtcbiAgICAgIH1cbiAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfSxcblxuICAgIF9jbGVhclRleHRBcmVhOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIC8vIHdlIGFkZCA0IHBpeGVsLCB0byBiZSBzdXJlIHRvIGRvIG5vdCBsZWF2ZSBhbnkgcGl4ZWwgb3V0XG4gICAgICB2YXIgd2lkdGggPSB0aGlzLndpZHRoICsgNCwgaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKyA0O1xuICAgICAgY3R4LmNsZWFyUmVjdCgtd2lkdGggLyAyLCAtaGVpZ2h0IC8gMiwgd2lkdGgsIGhlaWdodCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgY3Vyc29yIGJvdW5kYXJpZXMgKGxlZnQsIHRvcCwgbGVmdE9mZnNldCwgdG9wT2Zmc2V0KVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gY2hhcnMgQXJyYXkgb2YgY2hhcmFjdGVyc1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlT2ZCb3VuZGFyaWVzXG4gICAgICovXG4gICAgX2dldEN1cnNvckJvdW5kYXJpZXM6IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG5cbiAgICAgIC8vIGxlZnQvdG9wIGFyZSBsZWZ0L3RvcCBvZiBlbnRpcmUgdGV4dCBib3hcbiAgICAgIC8vIGxlZnRPZmZzZXQvdG9wT2Zmc2V0IGFyZSBvZmZzZXQgZnJvbSB0aGF0IGxlZnQvdG9wIHBvaW50IG9mIGEgdGV4dCBib3hcblxuICAgICAgaWYgKHR5cGVvZiBwb3NpdGlvbiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcG9zaXRpb24gPSB0aGlzLnNlbGVjdGlvblN0YXJ0O1xuICAgICAgfVxuXG4gICAgICB2YXIgbGVmdCA9IHRoaXMuX2dldExlZnRPZmZzZXQoKSxcbiAgICAgICAgICB0b3AgPSB0aGlzLl9nZXRUb3BPZmZzZXQoKSxcbiAgICAgICAgICBvZmZzZXRzID0gdGhpcy5fZ2V0Q3Vyc29yQm91bmRhcmllc09mZnNldHMocG9zaXRpb24pO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbGVmdDogbGVmdCxcbiAgICAgICAgdG9wOiB0b3AsXG4gICAgICAgIGxlZnRPZmZzZXQ6IG9mZnNldHMubGVmdCxcbiAgICAgICAgdG9wT2Zmc2V0OiBvZmZzZXRzLnRvcFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZ2V0Q3Vyc29yQm91bmRhcmllc09mZnNldHM6IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICBpZiAodGhpcy5jdXJzb3JPZmZzZXRDYWNoZSAmJiAndG9wJyBpbiB0aGlzLmN1cnNvck9mZnNldENhY2hlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnNvck9mZnNldENhY2hlO1xuICAgICAgfVxuICAgICAgdmFyIGxpbmVMZWZ0T2Zmc2V0LFxuICAgICAgICAgIGxpbmVJbmRleCxcbiAgICAgICAgICBjaGFySW5kZXgsXG4gICAgICAgICAgdG9wT2Zmc2V0ID0gMCxcbiAgICAgICAgICBsZWZ0T2Zmc2V0ID0gMCxcbiAgICAgICAgICBib3VuZGFyaWVzLFxuICAgICAgICAgIGN1cnNvclBvc2l0aW9uID0gdGhpcy5nZXQyREN1cnNvckxvY2F0aW9uKHBvc2l0aW9uKTtcbiAgICAgIGNoYXJJbmRleCA9IGN1cnNvclBvc2l0aW9uLmNoYXJJbmRleDtcbiAgICAgIGxpbmVJbmRleCA9IGN1cnNvclBvc2l0aW9uLmxpbmVJbmRleDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZUluZGV4OyBpKyspIHtcbiAgICAgICAgdG9wT2Zmc2V0ICs9IHRoaXMuZ2V0SGVpZ2h0T2ZMaW5lKGkpO1xuICAgICAgfVxuICAgICAgbGluZUxlZnRPZmZzZXQgPSB0aGlzLl9nZXRMaW5lTGVmdE9mZnNldChsaW5lSW5kZXgpO1xuICAgICAgdmFyIGJvdW5kID0gdGhpcy5fX2NoYXJCb3VuZHNbbGluZUluZGV4XVtjaGFySW5kZXhdO1xuICAgICAgYm91bmQgJiYgKGxlZnRPZmZzZXQgPSBib3VuZC5sZWZ0KTtcbiAgICAgIGlmICh0aGlzLmNoYXJTcGFjaW5nICE9PSAwICYmIGNoYXJJbmRleCA9PT0gdGhpcy5fdGV4dExpbmVzW2xpbmVJbmRleF0ubGVuZ3RoKSB7XG4gICAgICAgIGxlZnRPZmZzZXQgLT0gdGhpcy5fZ2V0V2lkdGhPZkNoYXJTcGFjaW5nKCk7XG4gICAgICB9XG4gICAgICBib3VuZGFyaWVzID0ge1xuICAgICAgICB0b3A6IHRvcE9mZnNldCxcbiAgICAgICAgbGVmdDogbGluZUxlZnRPZmZzZXQgKyAobGVmdE9mZnNldCA+IDAgPyBsZWZ0T2Zmc2V0IDogMCksXG4gICAgICB9O1xuICAgICAgaWYgKHRoaXMuZGlyZWN0aW9uID09PSAncnRsJykge1xuICAgICAgICBib3VuZGFyaWVzLmxlZnQgKj0gLTE7XG4gICAgICB9XG4gICAgICB0aGlzLmN1cnNvck9mZnNldENhY2hlID0gYm91bmRhcmllcztcbiAgICAgIHJldHVybiB0aGlzLmN1cnNvck9mZnNldENhY2hlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIGN1cnNvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBib3VuZGFyaWVzXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCB0cmFuc2Zvcm1lZCBjb250ZXh0IHRvIGRyYXcgb25cbiAgICAgKi9cbiAgICByZW5kZXJDdXJzb3I6IGZ1bmN0aW9uKGJvdW5kYXJpZXMsIGN0eCkge1xuICAgICAgdmFyIGN1cnNvckxvY2F0aW9uID0gdGhpcy5nZXQyREN1cnNvckxvY2F0aW9uKCksXG4gICAgICAgICAgbGluZUluZGV4ID0gY3Vyc29yTG9jYXRpb24ubGluZUluZGV4LFxuICAgICAgICAgIGNoYXJJbmRleCA9IGN1cnNvckxvY2F0aW9uLmNoYXJJbmRleCA+IDAgPyBjdXJzb3JMb2NhdGlvbi5jaGFySW5kZXggLSAxIDogMCxcbiAgICAgICAgICBjaGFySGVpZ2h0ID0gdGhpcy5nZXRWYWx1ZU9mUHJvcGVydHlBdChsaW5lSW5kZXgsIGNoYXJJbmRleCwgJ2ZvbnRTaXplJyksXG4gICAgICAgICAgbXVsdGlwbGllciA9IHRoaXMuc2NhbGVYICogdGhpcy5jYW52YXMuZ2V0Wm9vbSgpLFxuICAgICAgICAgIGN1cnNvcldpZHRoID0gdGhpcy5jdXJzb3JXaWR0aCAvIG11bHRpcGxpZXIsXG4gICAgICAgICAgdG9wT2Zmc2V0ID0gYm91bmRhcmllcy50b3BPZmZzZXQsXG4gICAgICAgICAgZHkgPSB0aGlzLmdldFZhbHVlT2ZQcm9wZXJ0eUF0KGxpbmVJbmRleCwgY2hhckluZGV4LCAnZGVsdGFZJyk7XG4gICAgICB0b3BPZmZzZXQgKz0gKDEgLSB0aGlzLl9mb250U2l6ZUZyYWN0aW9uKSAqIHRoaXMuZ2V0SGVpZ2h0T2ZMaW5lKGxpbmVJbmRleCkgLyB0aGlzLmxpbmVIZWlnaHRcbiAgICAgICAgLSBjaGFySGVpZ2h0ICogKDEgLSB0aGlzLl9mb250U2l6ZUZyYWN0aW9uKTtcblxuICAgICAgaWYgKHRoaXMuaW5Db21wb3NpdGlvbk1vZGUpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJTZWxlY3Rpb24oYm91bmRhcmllcywgY3R4KTtcbiAgICAgIH1cbiAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmN1cnNvckNvbG9yIHx8IHRoaXMuZ2V0VmFsdWVPZlByb3BlcnR5QXQobGluZUluZGV4LCBjaGFySW5kZXgsICdmaWxsJyk7XG4gICAgICBjdHguZ2xvYmFsQWxwaGEgPSB0aGlzLl9faXNNb3VzZWRvd24gPyAxIDogdGhpcy5fY3VycmVudEN1cnNvck9wYWNpdHk7XG4gICAgICBjdHguZmlsbFJlY3QoXG4gICAgICAgIGJvdW5kYXJpZXMubGVmdCArIGJvdW5kYXJpZXMubGVmdE9mZnNldCAtIGN1cnNvcldpZHRoIC8gMixcbiAgICAgICAgdG9wT2Zmc2V0ICsgYm91bmRhcmllcy50b3AgKyBkeSxcbiAgICAgICAgY3Vyc29yV2lkdGgsXG4gICAgICAgIGNoYXJIZWlnaHQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRleHQgc2VsZWN0aW9uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGJvdW5kYXJpZXMgT2JqZWN0IHdpdGggbGVmdC90b3AvbGVmdE9mZnNldC90b3BPZmZzZXRcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IHRyYW5zZm9ybWVkIGNvbnRleHQgdG8gZHJhdyBvblxuICAgICAqL1xuICAgIHJlbmRlclNlbGVjdGlvbjogZnVuY3Rpb24oYm91bmRhcmllcywgY3R4KSB7XG5cbiAgICAgIHZhciBzZWxlY3Rpb25TdGFydCA9IHRoaXMuaW5Db21wb3NpdGlvbk1vZGUgPyB0aGlzLmhpZGRlblRleHRhcmVhLnNlbGVjdGlvblN0YXJ0IDogdGhpcy5zZWxlY3Rpb25TdGFydCxcbiAgICAgICAgICBzZWxlY3Rpb25FbmQgPSB0aGlzLmluQ29tcG9zaXRpb25Nb2RlID8gdGhpcy5oaWRkZW5UZXh0YXJlYS5zZWxlY3Rpb25FbmQgOiB0aGlzLnNlbGVjdGlvbkVuZCxcbiAgICAgICAgICBpc0p1c3RpZnkgPSB0aGlzLnRleHRBbGlnbi5pbmRleE9mKCdqdXN0aWZ5JykgIT09IC0xLFxuICAgICAgICAgIHN0YXJ0ID0gdGhpcy5nZXQyREN1cnNvckxvY2F0aW9uKHNlbGVjdGlvblN0YXJ0KSxcbiAgICAgICAgICBlbmQgPSB0aGlzLmdldDJEQ3Vyc29yTG9jYXRpb24oc2VsZWN0aW9uRW5kKSxcbiAgICAgICAgICBzdGFydExpbmUgPSBzdGFydC5saW5lSW5kZXgsXG4gICAgICAgICAgZW5kTGluZSA9IGVuZC5saW5lSW5kZXgsXG4gICAgICAgICAgc3RhcnRDaGFyID0gc3RhcnQuY2hhckluZGV4IDwgMCA/IDAgOiBzdGFydC5jaGFySW5kZXgsXG4gICAgICAgICAgZW5kQ2hhciA9IGVuZC5jaGFySW5kZXggPCAwID8gMCA6IGVuZC5jaGFySW5kZXg7XG5cbiAgICAgIGZvciAodmFyIGkgPSBzdGFydExpbmU7IGkgPD0gZW5kTGluZTsgaSsrKSB7XG4gICAgICAgIHZhciBsaW5lT2Zmc2V0ID0gdGhpcy5fZ2V0TGluZUxlZnRPZmZzZXQoaSkgfHwgMCxcbiAgICAgICAgICAgIGxpbmVIZWlnaHQgPSB0aGlzLmdldEhlaWdodE9mTGluZShpKSxcbiAgICAgICAgICAgIHJlYWxMaW5lSGVpZ2h0ID0gMCwgYm94U3RhcnQgPSAwLCBib3hFbmQgPSAwO1xuXG4gICAgICAgIGlmIChpID09PSBzdGFydExpbmUpIHtcbiAgICAgICAgICBib3hTdGFydCA9IHRoaXMuX19jaGFyQm91bmRzW3N0YXJ0TGluZV1bc3RhcnRDaGFyXS5sZWZ0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChpID49IHN0YXJ0TGluZSAmJiBpIDwgZW5kTGluZSkge1xuICAgICAgICAgIGJveEVuZCA9IGlzSnVzdGlmeSAmJiAhdGhpcy5pc0VuZE9mV3JhcHBpbmcoaSkgPyB0aGlzLndpZHRoIDogdGhpcy5nZXRMaW5lV2lkdGgoaSkgfHwgNTsgLy8gV1RGIGlzIHRoaXMgNT9cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpID09PSBlbmRMaW5lKSB7XG4gICAgICAgICAgaWYgKGVuZENoYXIgPT09IDApIHtcbiAgICAgICAgICAgIGJveEVuZCA9IHRoaXMuX19jaGFyQm91bmRzW2VuZExpbmVdW2VuZENoYXJdLmxlZnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGNoYXJTcGFjaW5nID0gdGhpcy5fZ2V0V2lkdGhPZkNoYXJTcGFjaW5nKCk7XG4gICAgICAgICAgICBib3hFbmQgPSB0aGlzLl9fY2hhckJvdW5kc1tlbmRMaW5lXVtlbmRDaGFyIC0gMV0ubGVmdFxuICAgICAgICAgICAgICArIHRoaXMuX19jaGFyQm91bmRzW2VuZExpbmVdW2VuZENoYXIgLSAxXS53aWR0aCAtIGNoYXJTcGFjaW5nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZWFsTGluZUhlaWdodCA9IGxpbmVIZWlnaHQ7XG4gICAgICAgIGlmICh0aGlzLmxpbmVIZWlnaHQgPCAxIHx8IChpID09PSBlbmRMaW5lICYmIHRoaXMubGluZUhlaWdodCA+IDEpKSB7XG4gICAgICAgICAgbGluZUhlaWdodCAvPSB0aGlzLmxpbmVIZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRyYXdTdGFydCA9IGJvdW5kYXJpZXMubGVmdCArIGxpbmVPZmZzZXQgKyBib3hTdGFydCxcbiAgICAgICAgICAgIGRyYXdXaWR0aCA9IGJveEVuZCAtIGJveFN0YXJ0LFxuICAgICAgICAgICAgZHJhd0hlaWdodCA9IGxpbmVIZWlnaHQsIGV4dHJhVG9wID0gMDtcbiAgICAgICAgaWYgKHRoaXMuaW5Db21wb3NpdGlvbk1vZGUpIHtcbiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5jb21wb3NpdGlvbkNvbG9yIHx8ICdibGFjayc7XG4gICAgICAgICAgZHJhd0hlaWdodCA9IDE7XG4gICAgICAgICAgZXh0cmFUb3AgPSBsaW5lSGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLnNlbGVjdGlvbkNvbG9yO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmRpcmVjdGlvbiA9PT0gJ3J0bCcpIHtcbiAgICAgICAgICBkcmF3U3RhcnQgPSB0aGlzLndpZHRoIC0gZHJhd1N0YXJ0IC0gZHJhd1dpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGN0eC5maWxsUmVjdChcbiAgICAgICAgICBkcmF3U3RhcnQsXG4gICAgICAgICAgYm91bmRhcmllcy50b3AgKyBib3VuZGFyaWVzLnRvcE9mZnNldCArIGV4dHJhVG9wLFxuICAgICAgICAgIGRyYXdXaWR0aCxcbiAgICAgICAgICBkcmF3SGVpZ2h0KTtcbiAgICAgICAgYm91bmRhcmllcy50b3BPZmZzZXQgKz0gcmVhbExpbmVIZWlnaHQ7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEhpZ2ggbGV2ZWwgZnVuY3Rpb24gdG8ga25vdyB0aGUgaGVpZ2h0IG9mIHRoZSBjdXJzb3IuXG4gICAgICogdGhlIGN1cnJlbnRDaGFyIGlzIHRoZSBvbmUgdGhhdCBwcmVjZWRlcyB0aGUgY3Vyc29yXG4gICAgICogUmV0dXJucyBmb250U2l6ZSBvZiBjaGFyIGF0IHRoZSBjdXJyZW50IGN1cnNvclxuICAgICAqIFVudXNlZCBmcm9tIHRoZSBsaWJyYXJ5LCBpcyBmb3IgdGhlIGVuZCB1c2VyXG4gICAgICogQHJldHVybiB7TnVtYmVyfSBDaGFyYWN0ZXIgZm9udCBzaXplXG4gICAgICovXG4gICAgZ2V0Q3VycmVudENoYXJGb250U2l6ZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY3AgPSB0aGlzLl9nZXRDdXJyZW50Q2hhckluZGV4KCk7XG4gICAgICByZXR1cm4gdGhpcy5nZXRWYWx1ZU9mUHJvcGVydHlBdChjcC5sLCBjcC5jLCAnZm9udFNpemUnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSGlnaCBsZXZlbCBmdW5jdGlvbiB0byBrbm93IHRoZSBjb2xvciBvZiB0aGUgY3Vyc29yLlxuICAgICAqIHRoZSBjdXJyZW50Q2hhciBpcyB0aGUgb25lIHRoYXQgcHJlY2VkZXMgdGhlIGN1cnNvclxuICAgICAqIFJldHVybnMgY29sb3IgKGZpbGwpIG9mIGNoYXIgYXQgdGhlIGN1cnJlbnQgY3Vyc29yXG4gICAgICogaWYgdGhlIHRleHQgb2JqZWN0IGhhcyBhIHBhdHRlcm4gb3IgZ3JhZGllbnQgZm9yIGZpbGxlciwgaXQgd2lsbCByZXR1cm4gdGhhdC5cbiAgICAgKiBVbnVzZWQgYnkgdGhlIGxpYnJhcnksIGlzIGZvciB0aGUgZW5kIHVzZXJcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmcgfCBmYWJyaWMuR3JhZGllbnQgfCBmYWJyaWMuUGF0dGVybn0gQ2hhcmFjdGVyIGNvbG9yIChmaWxsKVxuICAgICAqL1xuICAgIGdldEN1cnJlbnRDaGFyQ29sb3I6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGNwID0gdGhpcy5fZ2V0Q3VycmVudENoYXJJbmRleCgpO1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0VmFsdWVPZlByb3BlcnR5QXQoY3AubCwgY3AuYywgJ2ZpbGwnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY3Vyc29yIHBvc2l0aW9uIGZvciB0aGUgZ2V0Q3VycmVudC4uIGZ1bmN0aW9uc1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2dldEN1cnJlbnRDaGFySW5kZXg6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGN1cnNvclBvc2l0aW9uID0gdGhpcy5nZXQyREN1cnNvckxvY2F0aW9uKHRoaXMuc2VsZWN0aW9uU3RhcnQsIHRydWUpLFxuICAgICAgICAgIGNoYXJJbmRleCA9IGN1cnNvclBvc2l0aW9uLmNoYXJJbmRleCA+IDAgPyBjdXJzb3JQb3NpdGlvbi5jaGFySW5kZXggLSAxIDogMDtcbiAgICAgIHJldHVybiB7IGw6IGN1cnNvclBvc2l0aW9uLmxpbmVJbmRleCwgYzogY2hhckluZGV4IH07XG4gICAgfVxuICB9KTtcblxuICAvKipcbiAgICogUmV0dXJucyBmYWJyaWMuSVRleHQgaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLklUZXh0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBmcm9tXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYWxsYmFja10gaW52b2tlZCB3aXRoIG5ldyBpbnN0YW5jZSBhcyBhcmd1bWVudFxuICAgKi9cbiAgZmFicmljLklUZXh0LmZyb21PYmplY3QgPSBmdW5jdGlvbihvYmplY3QsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHN0eWxlcyA9IGZhYnJpYy51dGlsLnN0eWxlc0Zyb21BcnJheShvYmplY3Quc3R5bGVzLCBvYmplY3QudGV4dCk7XG4gICAgLy9jb3B5IG9iamVjdCB0byBwcmV2ZW50IG11dGF0aW9uXG4gICAgdmFyIG9iakNvcHkgPSBPYmplY3QuYXNzaWduKHt9LCBvYmplY3QsIHsgc3R5bGVzOiBzdHlsZXMgfSk7XG4gICAgcGFyc2VEZWNvcmF0aW9uKG9iakNvcHkpO1xuICAgIGlmIChvYmpDb3B5LnN0eWxlcykge1xuICAgICAgZm9yICh2YXIgaSBpbiBvYmpDb3B5LnN0eWxlcykge1xuICAgICAgICBmb3IgKHZhciBqIGluIG9iakNvcHkuc3R5bGVzW2ldKSB7XG4gICAgICAgICAgcGFyc2VEZWNvcmF0aW9uKG9iakNvcHkuc3R5bGVzW2ldW2pdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmYWJyaWMuT2JqZWN0Ll9mcm9tT2JqZWN0KCdJVGV4dCcsIG9iakNvcHksIGNhbGxiYWNrLCAndGV4dCcpO1xuICB9O1xufSkoKTtcblxuXG4oZnVuY3Rpb24oKSB7XG5cbiAgdmFyIGNsb25lID0gZmFicmljLnV0aWwub2JqZWN0LmNsb25lO1xuXG4gIGZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQoZmFicmljLklUZXh0LnByb3RvdHlwZSwgLyoqIEBsZW5kcyBmYWJyaWMuSVRleHQucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIGFsbCB0aGUgaW50ZXJhY3RpdmUgYmVoYXZpb3Igb2YgSVRleHRcbiAgICAgKi9cbiAgICBpbml0QmVoYXZpb3I6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5pbml0QWRkZWRIYW5kbGVyKCk7XG4gICAgICB0aGlzLmluaXRSZW1vdmVkSGFuZGxlcigpO1xuICAgICAgdGhpcy5pbml0Q3Vyc29yU2VsZWN0aW9uSGFuZGxlcnMoKTtcbiAgICAgIHRoaXMuaW5pdERvdWJsZUNsaWNrU2ltdWxhdGlvbigpO1xuICAgICAgdGhpcy5tb3VzZU1vdmVIYW5kbGVyID0gdGhpcy5tb3VzZU1vdmVIYW5kbGVyLmJpbmQodGhpcyk7XG4gICAgfSxcblxuICAgIG9uRGVzZWxlY3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5pc0VkaXRpbmcgJiYgdGhpcy5leGl0RWRpdGluZygpO1xuICAgICAgdGhpcy5zZWxlY3RlZCA9IGZhbHNlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBcImFkZGVkXCIgZXZlbnQgaGFuZGxlclxuICAgICAqL1xuICAgIGluaXRBZGRlZEhhbmRsZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIHRoaXMub24oJ2FkZGVkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBjYW52YXMgPSBfdGhpcy5jYW52YXM7XG4gICAgICAgIGlmIChjYW52YXMpIHtcbiAgICAgICAgICBpZiAoIWNhbnZhcy5faGFzSVRleHRIYW5kbGVycykge1xuICAgICAgICAgICAgY2FudmFzLl9oYXNJVGV4dEhhbmRsZXJzID0gdHJ1ZTtcbiAgICAgICAgICAgIF90aGlzLl9pbml0Q2FudmFzSGFuZGxlcnMoY2FudmFzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FudmFzLl9pVGV4dEluc3RhbmNlcyA9IGNhbnZhcy5faVRleHRJbnN0YW5jZXMgfHwgW107XG4gICAgICAgICAgY2FudmFzLl9pVGV4dEluc3RhbmNlcy5wdXNoKF90aGlzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcblxuICAgIGluaXRSZW1vdmVkSGFuZGxlcjogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgdGhpcy5vbigncmVtb3ZlZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgY2FudmFzID0gX3RoaXMuY2FudmFzO1xuICAgICAgICBpZiAoY2FudmFzKSB7XG4gICAgICAgICAgY2FudmFzLl9pVGV4dEluc3RhbmNlcyA9IGNhbnZhcy5faVRleHRJbnN0YW5jZXMgfHwgW107XG4gICAgICAgICAgZmFicmljLnV0aWwucmVtb3ZlRnJvbUFycmF5KGNhbnZhcy5faVRleHRJbnN0YW5jZXMsIF90aGlzKTtcbiAgICAgICAgICBpZiAoY2FudmFzLl9pVGV4dEluc3RhbmNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGNhbnZhcy5faGFzSVRleHRIYW5kbGVycyA9IGZhbHNlO1xuICAgICAgICAgICAgX3RoaXMuX3JlbW92ZUNhbnZhc0hhbmRsZXJzKGNhbnZhcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmVnaXN0ZXIgY2FudmFzIGV2ZW50IHRvIG1hbmFnZSBleGl0aW5nIG9uIG90aGVyIGluc3RhbmNlc1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2luaXRDYW52YXNIYW5kbGVyczogZnVuY3Rpb24oY2FudmFzKSB7XG4gICAgICBjYW52YXMuX21vdXNlVXBJVGV4dEhhbmRsZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGNhbnZhcy5faVRleHRJbnN0YW5jZXMpIHtcbiAgICAgICAgICBjYW52YXMuX2lUZXh0SW5zdGFuY2VzLmZvckVhY2goZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgICAgICBvYmouX19pc01vdXNlZG93biA9IGZhbHNlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgY2FudmFzLm9uKCdtb3VzZTp1cCcsIGNhbnZhcy5fbW91c2VVcElUZXh0SGFuZGxlcik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJlbW92ZSBjYW52YXMgZXZlbnQgdG8gbWFuYWdlIGV4aXRpbmcgb24gb3RoZXIgaW5zdGFuY2VzXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVtb3ZlQ2FudmFzSGFuZGxlcnM6IGZ1bmN0aW9uKGNhbnZhcykge1xuICAgICAgY2FudmFzLm9mZignbW91c2U6dXAnLCBjYW52YXMuX21vdXNlVXBJVGV4dEhhbmRsZXIpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF90aWNrOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuX2N1cnJlbnRUaWNrU3RhdGUgPSB0aGlzLl9hbmltYXRlQ3Vyc29yKHRoaXMsIDEsIHRoaXMuY3Vyc29yRHVyYXRpb24sICdfb25UaWNrQ29tcGxldGUnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfYW5pbWF0ZUN1cnNvcjogZnVuY3Rpb24ob2JqLCB0YXJnZXRPcGFjaXR5LCBkdXJhdGlvbiwgY29tcGxldGVNZXRob2QpIHtcblxuICAgICAgdmFyIHRpY2tTdGF0ZTtcblxuICAgICAgdGlja1N0YXRlID0ge1xuICAgICAgICBpc0Fib3J0ZWQ6IGZhbHNlLFxuICAgICAgICBhYm9ydDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdGhpcy5pc0Fib3J0ZWQgPSB0cnVlO1xuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgb2JqLmFuaW1hdGUoJ19jdXJyZW50Q3Vyc29yT3BhY2l0eScsIHRhcmdldE9wYWNpdHksIHtcbiAgICAgICAgZHVyYXRpb246IGR1cmF0aW9uLFxuICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoIXRpY2tTdGF0ZS5pc0Fib3J0ZWQpIHtcbiAgICAgICAgICAgIG9ialtjb21wbGV0ZU1ldGhvZF0oKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAvLyB3ZSBkbyBub3Qgd2FudCB0byBhbmltYXRlIGEgc2VsZWN0aW9uLCBvbmx5IGN1cnNvclxuICAgICAgICAgIGlmIChvYmouY2FudmFzICYmIG9iai5zZWxlY3Rpb25TdGFydCA9PT0gb2JqLnNlbGVjdGlvbkVuZCkge1xuICAgICAgICAgICAgb2JqLnJlbmRlckN1cnNvck9yU2VsZWN0aW9uKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhYm9ydDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIHRpY2tTdGF0ZS5pc0Fib3J0ZWQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRpY2tTdGF0ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfb25UaWNrQ29tcGxldGU6IGZ1bmN0aW9uKCkge1xuXG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy5fY3Vyc29yVGltZW91dDEpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2N1cnNvclRpbWVvdXQxKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2N1cnNvclRpbWVvdXQxID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgX3RoaXMuX2N1cnJlbnRUaWNrQ29tcGxldGVTdGF0ZSA9IF90aGlzLl9hbmltYXRlQ3Vyc29yKF90aGlzLCAwLCB0aGlzLmN1cnNvckR1cmF0aW9uIC8gMiwgJ190aWNrJyk7XG4gICAgICB9LCAxMDApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBkZWxheWVkIGN1cnNvclxuICAgICAqL1xuICAgIGluaXREZWxheWVkQ3Vyc29yOiBmdW5jdGlvbihyZXN0YXJ0KSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzLFxuICAgICAgICAgIGRlbGF5ID0gcmVzdGFydCA/IDAgOiB0aGlzLmN1cnNvckRlbGF5O1xuXG4gICAgICB0aGlzLmFib3J0Q3Vyc29yQW5pbWF0aW9uKCk7XG4gICAgICB0aGlzLl9jdXJyZW50Q3Vyc29yT3BhY2l0eSA9IDE7XG4gICAgICB0aGlzLl9jdXJzb3JUaW1lb3V0MiA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIF90aGlzLl90aWNrKCk7XG4gICAgICB9LCBkZWxheSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFib3J0cyBjdXJzb3IgYW5pbWF0aW9uIGFuZCBjbGVhcnMgYWxsIHRpbWVvdXRzXG4gICAgICovXG4gICAgYWJvcnRDdXJzb3JBbmltYXRpb246IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNob3VsZENsZWFyID0gdGhpcy5fY3VycmVudFRpY2tTdGF0ZSB8fCB0aGlzLl9jdXJyZW50VGlja0NvbXBsZXRlU3RhdGUsXG4gICAgICAgICAgY2FudmFzID0gdGhpcy5jYW52YXM7XG4gICAgICB0aGlzLl9jdXJyZW50VGlja1N0YXRlICYmIHRoaXMuX2N1cnJlbnRUaWNrU3RhdGUuYWJvcnQoKTtcbiAgICAgIHRoaXMuX2N1cnJlbnRUaWNrQ29tcGxldGVTdGF0ZSAmJiB0aGlzLl9jdXJyZW50VGlja0NvbXBsZXRlU3RhdGUuYWJvcnQoKTtcblxuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2N1cnNvclRpbWVvdXQxKTtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9jdXJzb3JUaW1lb3V0Mik7XG5cbiAgICAgIHRoaXMuX2N1cnJlbnRDdXJzb3JPcGFjaXR5ID0gMDtcbiAgICAgIC8vIHRvIGNsZWFyIGp1c3QgaXRleHQgYXJlYSB3ZSBuZWVkIHRvIHRyYW5zZm9ybSB0aGUgY29udGV4dFxuICAgICAgLy8gaXQgbWF5IG5vdCBiZSB3b3J0aCBpdFxuICAgICAgaWYgKHNob3VsZENsZWFyICYmIGNhbnZhcykge1xuICAgICAgICBjYW52YXMuY2xlYXJDb250ZXh0KGNhbnZhcy5jb250ZXh0VG9wIHx8IGNhbnZhcy5jb250ZXh0Q29udGFpbmVyKTtcbiAgICAgIH1cblxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZWxlY3RzIGVudGlyZSB0ZXh0XG4gICAgICogQHJldHVybiB7ZmFicmljLklUZXh0fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHNlbGVjdEFsbDogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLnNlbGVjdGlvblN0YXJ0ID0gMDtcbiAgICAgIHRoaXMuc2VsZWN0aW9uRW5kID0gdGhpcy5fdGV4dC5sZW5ndGg7XG4gICAgICB0aGlzLl9maXJlU2VsZWN0aW9uQ2hhbmdlZCgpO1xuICAgICAgdGhpcy5fdXBkYXRlVGV4dGFyZWEoKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHNlbGVjdGVkIHRleHRcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAgICovXG4gICAgZ2V0U2VsZWN0ZWRUZXh0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl90ZXh0LnNsaWNlKHRoaXMuc2VsZWN0aW9uU3RhcnQsIHRoaXMuc2VsZWN0aW9uRW5kKS5qb2luKCcnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRmluZCBuZXcgc2VsZWN0aW9uIGluZGV4IHJlcHJlc2VudGluZyBzdGFydCBvZiBjdXJyZW50IHdvcmQgYWNjb3JkaW5nIHRvIGN1cnJlbnQgc2VsZWN0aW9uIGluZGV4XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHN0YXJ0RnJvbSBDdXJyZW50IHNlbGVjdGlvbiBpbmRleFxuICAgICAqIEByZXR1cm4ge051bWJlcn0gTmV3IHNlbGVjdGlvbiBpbmRleFxuICAgICAqL1xuICAgIGZpbmRXb3JkQm91bmRhcnlMZWZ0OiBmdW5jdGlvbihzdGFydEZyb20pIHtcbiAgICAgIHZhciBvZmZzZXQgPSAwLCBpbmRleCA9IHN0YXJ0RnJvbSAtIDE7XG5cbiAgICAgIC8vIHJlbW92ZSBzcGFjZSBiZWZvcmUgY3Vyc29yIGZpcnN0XG4gICAgICBpZiAodGhpcy5fcmVTcGFjZS50ZXN0KHRoaXMuX3RleHRbaW5kZXhdKSkge1xuICAgICAgICB3aGlsZSAodGhpcy5fcmVTcGFjZS50ZXN0KHRoaXMuX3RleHRbaW5kZXhdKSkge1xuICAgICAgICAgIG9mZnNldCsrO1xuICAgICAgICAgIGluZGV4LS07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHdoaWxlICgvXFxTLy50ZXN0KHRoaXMuX3RleHRbaW5kZXhdKSAmJiBpbmRleCA+IC0xKSB7XG4gICAgICAgIG9mZnNldCsrO1xuICAgICAgICBpbmRleC0tO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3RhcnRGcm9tIC0gb2Zmc2V0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBGaW5kIG5ldyBzZWxlY3Rpb24gaW5kZXggcmVwcmVzZW50aW5nIGVuZCBvZiBjdXJyZW50IHdvcmQgYWNjb3JkaW5nIHRvIGN1cnJlbnQgc2VsZWN0aW9uIGluZGV4XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHN0YXJ0RnJvbSBDdXJyZW50IHNlbGVjdGlvbiBpbmRleFxuICAgICAqIEByZXR1cm4ge051bWJlcn0gTmV3IHNlbGVjdGlvbiBpbmRleFxuICAgICAqL1xuICAgIGZpbmRXb3JkQm91bmRhcnlSaWdodDogZnVuY3Rpb24oc3RhcnRGcm9tKSB7XG4gICAgICB2YXIgb2Zmc2V0ID0gMCwgaW5kZXggPSBzdGFydEZyb207XG5cbiAgICAgIC8vIHJlbW92ZSBzcGFjZSBhZnRlciBjdXJzb3IgZmlyc3RcbiAgICAgIGlmICh0aGlzLl9yZVNwYWNlLnRlc3QodGhpcy5fdGV4dFtpbmRleF0pKSB7XG4gICAgICAgIHdoaWxlICh0aGlzLl9yZVNwYWNlLnRlc3QodGhpcy5fdGV4dFtpbmRleF0pKSB7XG4gICAgICAgICAgb2Zmc2V0Kys7XG4gICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgd2hpbGUgKC9cXFMvLnRlc3QodGhpcy5fdGV4dFtpbmRleF0pICYmIGluZGV4IDwgdGhpcy5fdGV4dC5sZW5ndGgpIHtcbiAgICAgICAgb2Zmc2V0Kys7XG4gICAgICAgIGluZGV4Kys7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzdGFydEZyb20gKyBvZmZzZXQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEZpbmQgbmV3IHNlbGVjdGlvbiBpbmRleCByZXByZXNlbnRpbmcgc3RhcnQgb2YgY3VycmVudCBsaW5lIGFjY29yZGluZyB0byBjdXJyZW50IHNlbGVjdGlvbiBpbmRleFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzdGFydEZyb20gQ3VycmVudCBzZWxlY3Rpb24gaW5kZXhcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IE5ldyBzZWxlY3Rpb24gaW5kZXhcbiAgICAgKi9cbiAgICBmaW5kTGluZUJvdW5kYXJ5TGVmdDogZnVuY3Rpb24oc3RhcnRGcm9tKSB7XG4gICAgICB2YXIgb2Zmc2V0ID0gMCwgaW5kZXggPSBzdGFydEZyb20gLSAxO1xuXG4gICAgICB3aGlsZSAoIS9cXG4vLnRlc3QodGhpcy5fdGV4dFtpbmRleF0pICYmIGluZGV4ID4gLTEpIHtcbiAgICAgICAgb2Zmc2V0Kys7XG4gICAgICAgIGluZGV4LS07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzdGFydEZyb20gLSBvZmZzZXQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEZpbmQgbmV3IHNlbGVjdGlvbiBpbmRleCByZXByZXNlbnRpbmcgZW5kIG9mIGN1cnJlbnQgbGluZSBhY2NvcmRpbmcgdG8gY3VycmVudCBzZWxlY3Rpb24gaW5kZXhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc3RhcnRGcm9tIEN1cnJlbnQgc2VsZWN0aW9uIGluZGV4XG4gICAgICogQHJldHVybiB7TnVtYmVyfSBOZXcgc2VsZWN0aW9uIGluZGV4XG4gICAgICovXG4gICAgZmluZExpbmVCb3VuZGFyeVJpZ2h0OiBmdW5jdGlvbihzdGFydEZyb20pIHtcbiAgICAgIHZhciBvZmZzZXQgPSAwLCBpbmRleCA9IHN0YXJ0RnJvbTtcblxuICAgICAgd2hpbGUgKCEvXFxuLy50ZXN0KHRoaXMuX3RleHRbaW5kZXhdKSAmJiBpbmRleCA8IHRoaXMuX3RleHQubGVuZ3RoKSB7XG4gICAgICAgIG9mZnNldCsrO1xuICAgICAgICBpbmRleCsrO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3RhcnRGcm9tICsgb2Zmc2V0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBGaW5kcyBpbmRleCBjb3JyZXNwb25kaW5nIHRvIGJlZ2lubmluZyBvciBlbmQgb2YgYSB3b3JkXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNlbGVjdGlvblN0YXJ0IEluZGV4IG9mIGEgY2hhcmFjdGVyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGRpcmVjdGlvbiAxIG9yIC0xXG4gICAgICogQHJldHVybiB7TnVtYmVyfSBJbmRleCBvZiB0aGUgYmVnaW5uaW5nIG9yIGVuZCBvZiBhIHdvcmRcbiAgICAgKi9cbiAgICBzZWFyY2hXb3JkQm91bmRhcnk6IGZ1bmN0aW9uKHNlbGVjdGlvblN0YXJ0LCBkaXJlY3Rpb24pIHtcbiAgICAgIHZhciB0ZXh0ID0gdGhpcy5fdGV4dCxcbiAgICAgICAgICBpbmRleCAgICAgPSB0aGlzLl9yZVNwYWNlLnRlc3QodGV4dFtzZWxlY3Rpb25TdGFydF0pID8gc2VsZWN0aW9uU3RhcnQgLSAxIDogc2VsZWN0aW9uU3RhcnQsXG4gICAgICAgICAgX2NoYXIgICAgID0gdGV4dFtpbmRleF0sXG4gICAgICAgICAgLy8gd3JvbmdcbiAgICAgICAgICByZU5vbldvcmQgPSBmYWJyaWMucmVOb25Xb3JkO1xuXG4gICAgICB3aGlsZSAoIXJlTm9uV29yZC50ZXN0KF9jaGFyKSAmJiBpbmRleCA+IDAgJiYgaW5kZXggPCB0ZXh0Lmxlbmd0aCkge1xuICAgICAgICBpbmRleCArPSBkaXJlY3Rpb247XG4gICAgICAgIF9jaGFyID0gdGV4dFtpbmRleF07XG4gICAgICB9XG4gICAgICBpZiAocmVOb25Xb3JkLnRlc3QoX2NoYXIpKSB7XG4gICAgICAgIGluZGV4ICs9IGRpcmVjdGlvbiA9PT0gMSA/IDAgOiAxO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZWxlY3RzIGEgd29yZCBiYXNlZCBvbiB0aGUgaW5kZXhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc2VsZWN0aW9uU3RhcnQgSW5kZXggb2YgYSBjaGFyYWN0ZXJcbiAgICAgKi9cbiAgICBzZWxlY3RXb3JkOiBmdW5jdGlvbihzZWxlY3Rpb25TdGFydCkge1xuICAgICAgc2VsZWN0aW9uU3RhcnQgPSBzZWxlY3Rpb25TdGFydCB8fCB0aGlzLnNlbGVjdGlvblN0YXJ0O1xuICAgICAgdmFyIG5ld1NlbGVjdGlvblN0YXJ0ID0gdGhpcy5zZWFyY2hXb3JkQm91bmRhcnkoc2VsZWN0aW9uU3RhcnQsIC0xKSwgLyogc2VhcmNoIGJhY2t3YXJkcyAqL1xuICAgICAgICAgIG5ld1NlbGVjdGlvbkVuZCA9IHRoaXMuc2VhcmNoV29yZEJvdW5kYXJ5KHNlbGVjdGlvblN0YXJ0LCAxKTsgLyogc2VhcmNoIGZvcndhcmQgKi9cblxuICAgICAgdGhpcy5zZWxlY3Rpb25TdGFydCA9IG5ld1NlbGVjdGlvblN0YXJ0O1xuICAgICAgdGhpcy5zZWxlY3Rpb25FbmQgPSBuZXdTZWxlY3Rpb25FbmQ7XG4gICAgICB0aGlzLl9maXJlU2VsZWN0aW9uQ2hhbmdlZCgpO1xuICAgICAgdGhpcy5fdXBkYXRlVGV4dGFyZWEoKTtcbiAgICAgIHRoaXMucmVuZGVyQ3Vyc29yT3JTZWxlY3Rpb24oKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2VsZWN0cyBhIGxpbmUgYmFzZWQgb24gdGhlIGluZGV4XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNlbGVjdGlvblN0YXJ0IEluZGV4IG9mIGEgY2hhcmFjdGVyXG4gICAgICogQHJldHVybiB7ZmFicmljLklUZXh0fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHNlbGVjdExpbmU6IGZ1bmN0aW9uKHNlbGVjdGlvblN0YXJ0KSB7XG4gICAgICBzZWxlY3Rpb25TdGFydCA9IHNlbGVjdGlvblN0YXJ0IHx8IHRoaXMuc2VsZWN0aW9uU3RhcnQ7XG4gICAgICB2YXIgbmV3U2VsZWN0aW9uU3RhcnQgPSB0aGlzLmZpbmRMaW5lQm91bmRhcnlMZWZ0KHNlbGVjdGlvblN0YXJ0KSxcbiAgICAgICAgICBuZXdTZWxlY3Rpb25FbmQgPSB0aGlzLmZpbmRMaW5lQm91bmRhcnlSaWdodChzZWxlY3Rpb25TdGFydCk7XG5cbiAgICAgIHRoaXMuc2VsZWN0aW9uU3RhcnQgPSBuZXdTZWxlY3Rpb25TdGFydDtcbiAgICAgIHRoaXMuc2VsZWN0aW9uRW5kID0gbmV3U2VsZWN0aW9uRW5kO1xuICAgICAgdGhpcy5fZmlyZVNlbGVjdGlvbkNoYW5nZWQoKTtcbiAgICAgIHRoaXMuX3VwZGF0ZVRleHRhcmVhKCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRW50ZXJzIGVkaXRpbmcgc3RhdGVcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuSVRleHR9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgZW50ZXJFZGl0aW5nOiBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAodGhpcy5pc0VkaXRpbmcgfHwgIXRoaXMuZWRpdGFibGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5jYW52YXMpIHtcbiAgICAgICAgdGhpcy5jYW52YXMuY2FsY09mZnNldCgpO1xuICAgICAgICB0aGlzLmV4aXRFZGl0aW5nT25PdGhlcnModGhpcy5jYW52YXMpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmlzRWRpdGluZyA9IHRydWU7XG5cbiAgICAgIHRoaXMuaW5pdEhpZGRlblRleHRhcmVhKGUpO1xuICAgICAgdGhpcy5oaWRkZW5UZXh0YXJlYS5mb2N1cygpO1xuICAgICAgdGhpcy5oaWRkZW5UZXh0YXJlYS52YWx1ZSA9IHRoaXMudGV4dDtcbiAgICAgIHRoaXMuX3VwZGF0ZVRleHRhcmVhKCk7XG4gICAgICB0aGlzLl9zYXZlRWRpdGluZ1Byb3BzKCk7XG4gICAgICB0aGlzLl9zZXRFZGl0aW5nUHJvcHMoKTtcbiAgICAgIHRoaXMuX3RleHRCZWZvcmVFZGl0ID0gdGhpcy50ZXh0O1xuXG4gICAgICB0aGlzLl90aWNrKCk7XG4gICAgICB0aGlzLmZpcmUoJ2VkaXRpbmc6ZW50ZXJlZCcpO1xuICAgICAgdGhpcy5fZmlyZVNlbGVjdGlvbkNoYW5nZWQoKTtcbiAgICAgIGlmICghdGhpcy5jYW52YXMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICB0aGlzLmNhbnZhcy5maXJlKCd0ZXh0OmVkaXRpbmc6ZW50ZXJlZCcsIHsgdGFyZ2V0OiB0aGlzIH0pO1xuICAgICAgdGhpcy5pbml0TW91c2VNb3ZlSGFuZGxlcigpO1xuICAgICAgdGhpcy5jYW52YXMucmVxdWVzdFJlbmRlckFsbCgpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIGV4aXRFZGl0aW5nT25PdGhlcnM6IGZ1bmN0aW9uKGNhbnZhcykge1xuICAgICAgaWYgKGNhbnZhcy5faVRleHRJbnN0YW5jZXMpIHtcbiAgICAgICAgY2FudmFzLl9pVGV4dEluc3RhbmNlcy5mb3JFYWNoKGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgIG9iai5zZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgICAgIGlmIChvYmouaXNFZGl0aW5nKSB7XG4gICAgICAgICAgICBvYmouZXhpdEVkaXRpbmcoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBcIm1vdXNlbW92ZVwiIGV2ZW50IGhhbmRsZXJcbiAgICAgKi9cbiAgICBpbml0TW91c2VNb3ZlSGFuZGxlcjogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmNhbnZhcy5vbignbW91c2U6bW92ZScsIHRoaXMubW91c2VNb3ZlSGFuZGxlcik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgbW91c2VNb3ZlSGFuZGxlcjogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgaWYgKCF0aGlzLl9faXNNb3VzZWRvd24gfHwgIXRoaXMuaXNFZGl0aW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gcmVnYWluIGZvY3VzXG4gICAgICBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSB0aGlzLmhpZGRlblRleHRhcmVhICYmIHRoaXMuaGlkZGVuVGV4dGFyZWEuZm9jdXMoKTtcblxuICAgICAgdmFyIG5ld1NlbGVjdGlvblN0YXJ0ID0gdGhpcy5nZXRTZWxlY3Rpb25TdGFydEZyb21Qb2ludGVyKG9wdGlvbnMuZSksXG4gICAgICAgICAgY3VycmVudFN0YXJ0ID0gdGhpcy5zZWxlY3Rpb25TdGFydCxcbiAgICAgICAgICBjdXJyZW50RW5kID0gdGhpcy5zZWxlY3Rpb25FbmQ7XG4gICAgICBpZiAoXG4gICAgICAgIChuZXdTZWxlY3Rpb25TdGFydCAhPT0gdGhpcy5fX3NlbGVjdGlvblN0YXJ0T25Nb3VzZURvd24gfHwgY3VycmVudFN0YXJ0ID09PSBjdXJyZW50RW5kKVxuICAgICAgICAmJlxuICAgICAgICAoY3VycmVudFN0YXJ0ID09PSBuZXdTZWxlY3Rpb25TdGFydCB8fCBjdXJyZW50RW5kID09PSBuZXdTZWxlY3Rpb25TdGFydClcbiAgICAgICkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAobmV3U2VsZWN0aW9uU3RhcnQgPiB0aGlzLl9fc2VsZWN0aW9uU3RhcnRPbk1vdXNlRG93bikge1xuICAgICAgICB0aGlzLnNlbGVjdGlvblN0YXJ0ID0gdGhpcy5fX3NlbGVjdGlvblN0YXJ0T25Nb3VzZURvd247XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uRW5kID0gbmV3U2VsZWN0aW9uU3RhcnQ7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25TdGFydCA9IG5ld1NlbGVjdGlvblN0YXJ0O1xuICAgICAgICB0aGlzLnNlbGVjdGlvbkVuZCA9IHRoaXMuX19zZWxlY3Rpb25TdGFydE9uTW91c2VEb3duO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uU3RhcnQgIT09IGN1cnJlbnRTdGFydCB8fCB0aGlzLnNlbGVjdGlvbkVuZCAhPT0gY3VycmVudEVuZCkge1xuICAgICAgICB0aGlzLnJlc3RhcnRDdXJzb3JJZk5lZWRlZCgpO1xuICAgICAgICB0aGlzLl9maXJlU2VsZWN0aW9uQ2hhbmdlZCgpO1xuICAgICAgICB0aGlzLl91cGRhdGVUZXh0YXJlYSgpO1xuICAgICAgICB0aGlzLnJlbmRlckN1cnNvck9yU2VsZWN0aW9uKCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3NldEVkaXRpbmdQcm9wczogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmhvdmVyQ3Vyc29yID0gJ3RleHQnO1xuXG4gICAgICBpZiAodGhpcy5jYW52YXMpIHtcbiAgICAgICAgdGhpcy5jYW52YXMuZGVmYXVsdEN1cnNvciA9IHRoaXMuY2FudmFzLm1vdmVDdXJzb3IgPSAndGV4dCc7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuYm9yZGVyQ29sb3IgPSB0aGlzLmVkaXRpbmdCb3JkZXJDb2xvcjtcbiAgICAgIHRoaXMuaGFzQ29udHJvbHMgPSB0aGlzLnNlbGVjdGFibGUgPSBmYWxzZTtcbiAgICAgIHRoaXMubG9ja01vdmVtZW50WCA9IHRoaXMubG9ja01vdmVtZW50WSA9IHRydWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGNvbnZlcnQgZnJvbSB0ZXh0YXJlYSB0byBncmFwaGVtZSBpbmRleGVzXG4gICAgICovXG4gICAgZnJvbVN0cmluZ1RvR3JhcGhlbWVTZWxlY3Rpb246IGZ1bmN0aW9uKHN0YXJ0LCBlbmQsIHRleHQpIHtcbiAgICAgIHZhciBzbWFsbGVyVGV4dFN0YXJ0ID0gdGV4dC5zbGljZSgwLCBzdGFydCksXG4gICAgICAgICAgZ3JhcGhlbWVTdGFydCA9IGZhYnJpYy51dGlsLnN0cmluZy5ncmFwaGVtZVNwbGl0KHNtYWxsZXJUZXh0U3RhcnQpLmxlbmd0aDtcbiAgICAgIGlmIChzdGFydCA9PT0gZW5kKSB7XG4gICAgICAgIHJldHVybiB7IHNlbGVjdGlvblN0YXJ0OiBncmFwaGVtZVN0YXJ0LCBzZWxlY3Rpb25FbmQ6IGdyYXBoZW1lU3RhcnQgfTtcbiAgICAgIH1cbiAgICAgIHZhciBzbWFsbGVyVGV4dEVuZCA9IHRleHQuc2xpY2Uoc3RhcnQsIGVuZCksXG4gICAgICAgICAgZ3JhcGhlbWVFbmQgPSBmYWJyaWMudXRpbC5zdHJpbmcuZ3JhcGhlbWVTcGxpdChzbWFsbGVyVGV4dEVuZCkubGVuZ3RoO1xuICAgICAgcmV0dXJuIHsgc2VsZWN0aW9uU3RhcnQ6IGdyYXBoZW1lU3RhcnQsIHNlbGVjdGlvbkVuZDogZ3JhcGhlbWVTdGFydCArIGdyYXBoZW1lRW5kIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGNvbnZlcnQgZnJvbSBmYWJyaWMgdG8gdGV4dGFyZWEgdmFsdWVzXG4gICAgICovXG4gICAgZnJvbUdyYXBoZW1lVG9TdHJpbmdTZWxlY3Rpb246IGZ1bmN0aW9uKHN0YXJ0LCBlbmQsIF90ZXh0KSB7XG4gICAgICB2YXIgc21hbGxlclRleHRTdGFydCA9IF90ZXh0LnNsaWNlKDAsIHN0YXJ0KSxcbiAgICAgICAgICBncmFwaGVtZVN0YXJ0ID0gc21hbGxlclRleHRTdGFydC5qb2luKCcnKS5sZW5ndGg7XG4gICAgICBpZiAoc3RhcnQgPT09IGVuZCkge1xuICAgICAgICByZXR1cm4geyBzZWxlY3Rpb25TdGFydDogZ3JhcGhlbWVTdGFydCwgc2VsZWN0aW9uRW5kOiBncmFwaGVtZVN0YXJ0IH07XG4gICAgICB9XG4gICAgICB2YXIgc21hbGxlclRleHRFbmQgPSBfdGV4dC5zbGljZShzdGFydCwgZW5kKSxcbiAgICAgICAgICBncmFwaGVtZUVuZCA9IHNtYWxsZXJUZXh0RW5kLmpvaW4oJycpLmxlbmd0aDtcbiAgICAgIHJldHVybiB7IHNlbGVjdGlvblN0YXJ0OiBncmFwaGVtZVN0YXJ0LCBzZWxlY3Rpb25FbmQ6IGdyYXBoZW1lU3RhcnQgKyBncmFwaGVtZUVuZCB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF91cGRhdGVUZXh0YXJlYTogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmN1cnNvck9mZnNldENhY2hlID0geyB9O1xuICAgICAgaWYgKCF0aGlzLmhpZGRlblRleHRhcmVhKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5pbkNvbXBvc2l0aW9uTW9kZSkge1xuICAgICAgICB2YXIgbmV3U2VsZWN0aW9uID0gdGhpcy5mcm9tR3JhcGhlbWVUb1N0cmluZ1NlbGVjdGlvbih0aGlzLnNlbGVjdGlvblN0YXJ0LCB0aGlzLnNlbGVjdGlvbkVuZCwgdGhpcy5fdGV4dCk7XG4gICAgICAgIHRoaXMuaGlkZGVuVGV4dGFyZWEuc2VsZWN0aW9uU3RhcnQgPSBuZXdTZWxlY3Rpb24uc2VsZWN0aW9uU3RhcnQ7XG4gICAgICAgIHRoaXMuaGlkZGVuVGV4dGFyZWEuc2VsZWN0aW9uRW5kID0gbmV3U2VsZWN0aW9uLnNlbGVjdGlvbkVuZDtcbiAgICAgIH1cbiAgICAgIHRoaXMudXBkYXRlVGV4dGFyZWFQb3NpdGlvbigpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHVwZGF0ZUZyb21UZXh0QXJlYTogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIXRoaXMuaGlkZGVuVGV4dGFyZWEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5jdXJzb3JPZmZzZXRDYWNoZSA9IHsgfTtcbiAgICAgIHRoaXMudGV4dCA9IHRoaXMuaGlkZGVuVGV4dGFyZWEudmFsdWU7XG4gICAgICBpZiAodGhpcy5fc2hvdWxkQ2xlYXJEaW1lbnNpb25DYWNoZSgpKSB7XG4gICAgICAgIHRoaXMuaW5pdERpbWVuc2lvbnMoKTtcbiAgICAgICAgdGhpcy5zZXRDb29yZHMoKTtcbiAgICAgIH1cbiAgICAgIHZhciBuZXdTZWxlY3Rpb24gPSB0aGlzLmZyb21TdHJpbmdUb0dyYXBoZW1lU2VsZWN0aW9uKFxuICAgICAgICB0aGlzLmhpZGRlblRleHRhcmVhLnNlbGVjdGlvblN0YXJ0LCB0aGlzLmhpZGRlblRleHRhcmVhLnNlbGVjdGlvbkVuZCwgdGhpcy5oaWRkZW5UZXh0YXJlYS52YWx1ZSk7XG4gICAgICB0aGlzLnNlbGVjdGlvbkVuZCA9IHRoaXMuc2VsZWN0aW9uU3RhcnQgPSBuZXdTZWxlY3Rpb24uc2VsZWN0aW9uRW5kO1xuICAgICAgaWYgKCF0aGlzLmluQ29tcG9zaXRpb25Nb2RlKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uU3RhcnQgPSBuZXdTZWxlY3Rpb24uc2VsZWN0aW9uU3RhcnQ7XG4gICAgICB9XG4gICAgICB0aGlzLnVwZGF0ZVRleHRhcmVhUG9zaXRpb24oKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB1cGRhdGVUZXh0YXJlYVBvc2l0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLnNlbGVjdGlvblN0YXJ0ID09PSB0aGlzLnNlbGVjdGlvbkVuZCkge1xuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLl9jYWxjVGV4dGFyZWFQb3NpdGlvbigpO1xuICAgICAgICB0aGlzLmhpZGRlblRleHRhcmVhLnN0eWxlLmxlZnQgPSBzdHlsZS5sZWZ0O1xuICAgICAgICB0aGlzLmhpZGRlblRleHRhcmVhLnN0eWxlLnRvcCA9IHN0eWxlLnRvcDtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IHN0eWxlIGNvbnRhaW5zIHN0eWxlIGZvciBoaWRkZW5UZXh0YXJlYVxuICAgICAqL1xuICAgIF9jYWxjVGV4dGFyZWFQb3NpdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIXRoaXMuY2FudmFzKSB7XG4gICAgICAgIHJldHVybiB7IHg6IDEsIHk6IDEgfTtcbiAgICAgIH1cbiAgICAgIHZhciBkZXNpcmVkUG9zaXRpb24gPSB0aGlzLmluQ29tcG9zaXRpb25Nb2RlID8gdGhpcy5jb21wb3NpdGlvblN0YXJ0IDogdGhpcy5zZWxlY3Rpb25TdGFydCxcbiAgICAgICAgICBib3VuZGFyaWVzID0gdGhpcy5fZ2V0Q3Vyc29yQm91bmRhcmllcyhkZXNpcmVkUG9zaXRpb24pLFxuICAgICAgICAgIGN1cnNvckxvY2F0aW9uID0gdGhpcy5nZXQyREN1cnNvckxvY2F0aW9uKGRlc2lyZWRQb3NpdGlvbiksXG4gICAgICAgICAgbGluZUluZGV4ID0gY3Vyc29yTG9jYXRpb24ubGluZUluZGV4LFxuICAgICAgICAgIGNoYXJJbmRleCA9IGN1cnNvckxvY2F0aW9uLmNoYXJJbmRleCxcbiAgICAgICAgICBjaGFySGVpZ2h0ID0gdGhpcy5nZXRWYWx1ZU9mUHJvcGVydHlBdChsaW5lSW5kZXgsIGNoYXJJbmRleCwgJ2ZvbnRTaXplJykgKiB0aGlzLmxpbmVIZWlnaHQsXG4gICAgICAgICAgbGVmdE9mZnNldCA9IGJvdW5kYXJpZXMubGVmdE9mZnNldCxcbiAgICAgICAgICBtID0gdGhpcy5jYWxjVHJhbnNmb3JtTWF0cml4KCksXG4gICAgICAgICAgcCA9IHtcbiAgICAgICAgICAgIHg6IGJvdW5kYXJpZXMubGVmdCArIGxlZnRPZmZzZXQsXG4gICAgICAgICAgICB5OiBib3VuZGFyaWVzLnRvcCArIGJvdW5kYXJpZXMudG9wT2Zmc2V0ICsgY2hhckhlaWdodFxuICAgICAgICAgIH0sXG4gICAgICAgICAgcmV0aW5hU2NhbGluZyA9IHRoaXMuY2FudmFzLmdldFJldGluYVNjYWxpbmcoKSxcbiAgICAgICAgICB1cHBlckNhbnZhcyA9IHRoaXMuY2FudmFzLnVwcGVyQ2FudmFzRWwsXG4gICAgICAgICAgdXBwZXJDYW52YXNXaWR0aCA9IHVwcGVyQ2FudmFzLndpZHRoIC8gcmV0aW5hU2NhbGluZyxcbiAgICAgICAgICB1cHBlckNhbnZhc0hlaWdodCA9IHVwcGVyQ2FudmFzLmhlaWdodCAvIHJldGluYVNjYWxpbmcsXG4gICAgICAgICAgbWF4V2lkdGggPSB1cHBlckNhbnZhc1dpZHRoIC0gY2hhckhlaWdodCxcbiAgICAgICAgICBtYXhIZWlnaHQgPSB1cHBlckNhbnZhc0hlaWdodCAtIGNoYXJIZWlnaHQsXG4gICAgICAgICAgc2NhbGVYID0gdXBwZXJDYW52YXMuY2xpZW50V2lkdGggLyB1cHBlckNhbnZhc1dpZHRoLFxuICAgICAgICAgIHNjYWxlWSA9IHVwcGVyQ2FudmFzLmNsaWVudEhlaWdodCAvIHVwcGVyQ2FudmFzSGVpZ2h0O1xuXG4gICAgICBwID0gZmFicmljLnV0aWwudHJhbnNmb3JtUG9pbnQocCwgbSk7XG4gICAgICBwID0gZmFicmljLnV0aWwudHJhbnNmb3JtUG9pbnQocCwgdGhpcy5jYW52YXMudmlld3BvcnRUcmFuc2Zvcm0pO1xuICAgICAgcC54ICo9IHNjYWxlWDtcbiAgICAgIHAueSAqPSBzY2FsZVk7XG4gICAgICBpZiAocC54IDwgMCkge1xuICAgICAgICBwLnggPSAwO1xuICAgICAgfVxuICAgICAgaWYgKHAueCA+IG1heFdpZHRoKSB7XG4gICAgICAgIHAueCA9IG1heFdpZHRoO1xuICAgICAgfVxuICAgICAgaWYgKHAueSA8IDApIHtcbiAgICAgICAgcC55ID0gMDtcbiAgICAgIH1cbiAgICAgIGlmIChwLnkgPiBtYXhIZWlnaHQpIHtcbiAgICAgICAgcC55ID0gbWF4SGVpZ2h0O1xuICAgICAgfVxuXG4gICAgICAvLyBhZGQgY2FudmFzIG9mZnNldCBvbiBkb2N1bWVudFxuICAgICAgcC54ICs9IHRoaXMuY2FudmFzLl9vZmZzZXQubGVmdDtcbiAgICAgIHAueSArPSB0aGlzLmNhbnZhcy5fb2Zmc2V0LnRvcDtcblxuICAgICAgcmV0dXJuIHsgbGVmdDogcC54ICsgJ3B4JywgdG9wOiBwLnkgKyAncHgnLCBmb250U2l6ZTogY2hhckhlaWdodCArICdweCcsIGNoYXJIZWlnaHQ6IGNoYXJIZWlnaHQgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2F2ZUVkaXRpbmdQcm9wczogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLl9zYXZlZFByb3BzID0ge1xuICAgICAgICBoYXNDb250cm9sczogdGhpcy5oYXNDb250cm9scyxcbiAgICAgICAgYm9yZGVyQ29sb3I6IHRoaXMuYm9yZGVyQ29sb3IsXG4gICAgICAgIGxvY2tNb3ZlbWVudFg6IHRoaXMubG9ja01vdmVtZW50WCxcbiAgICAgICAgbG9ja01vdmVtZW50WTogdGhpcy5sb2NrTW92ZW1lbnRZLFxuICAgICAgICBob3ZlckN1cnNvcjogdGhpcy5ob3ZlckN1cnNvcixcbiAgICAgICAgc2VsZWN0YWJsZTogdGhpcy5zZWxlY3RhYmxlLFxuICAgICAgICBkZWZhdWx0Q3Vyc29yOiB0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy5kZWZhdWx0Q3Vyc29yLFxuICAgICAgICBtb3ZlQ3Vyc29yOiB0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy5tb3ZlQ3Vyc29yXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZXN0b3JlRWRpdGluZ1Byb3BzOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICghdGhpcy5fc2F2ZWRQcm9wcykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuaG92ZXJDdXJzb3IgPSB0aGlzLl9zYXZlZFByb3BzLmhvdmVyQ3Vyc29yO1xuICAgICAgdGhpcy5oYXNDb250cm9scyA9IHRoaXMuX3NhdmVkUHJvcHMuaGFzQ29udHJvbHM7XG4gICAgICB0aGlzLmJvcmRlckNvbG9yID0gdGhpcy5fc2F2ZWRQcm9wcy5ib3JkZXJDb2xvcjtcbiAgICAgIHRoaXMuc2VsZWN0YWJsZSA9IHRoaXMuX3NhdmVkUHJvcHMuc2VsZWN0YWJsZTtcbiAgICAgIHRoaXMubG9ja01vdmVtZW50WCA9IHRoaXMuX3NhdmVkUHJvcHMubG9ja01vdmVtZW50WDtcbiAgICAgIHRoaXMubG9ja01vdmVtZW50WSA9IHRoaXMuX3NhdmVkUHJvcHMubG9ja01vdmVtZW50WTtcblxuICAgICAgaWYgKHRoaXMuY2FudmFzKSB7XG4gICAgICAgIHRoaXMuY2FudmFzLmRlZmF1bHRDdXJzb3IgPSB0aGlzLl9zYXZlZFByb3BzLmRlZmF1bHRDdXJzb3I7XG4gICAgICAgIHRoaXMuY2FudmFzLm1vdmVDdXJzb3IgPSB0aGlzLl9zYXZlZFByb3BzLm1vdmVDdXJzb3I7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEV4aXRzIGZyb20gZWRpdGluZyBzdGF0ZVxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5JVGV4dH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBleGl0RWRpdGluZzogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaXNUZXh0Q2hhbmdlZCA9ICh0aGlzLl90ZXh0QmVmb3JlRWRpdCAhPT0gdGhpcy50ZXh0KTtcbiAgICAgIHZhciBoaWRkZW5UZXh0YXJlYSA9IHRoaXMuaGlkZGVuVGV4dGFyZWE7XG4gICAgICB0aGlzLnNlbGVjdGVkID0gZmFsc2U7XG4gICAgICB0aGlzLmlzRWRpdGluZyA9IGZhbHNlO1xuXG4gICAgICB0aGlzLnNlbGVjdGlvbkVuZCA9IHRoaXMuc2VsZWN0aW9uU3RhcnQ7XG5cbiAgICAgIGlmIChoaWRkZW5UZXh0YXJlYSkge1xuICAgICAgICBoaWRkZW5UZXh0YXJlYS5ibHVyICYmIGhpZGRlblRleHRhcmVhLmJsdXIoKTtcbiAgICAgICAgaGlkZGVuVGV4dGFyZWEucGFyZW50Tm9kZSAmJiBoaWRkZW5UZXh0YXJlYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGhpZGRlblRleHRhcmVhKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuaGlkZGVuVGV4dGFyZWEgPSBudWxsO1xuICAgICAgdGhpcy5hYm9ydEN1cnNvckFuaW1hdGlvbigpO1xuICAgICAgdGhpcy5fcmVzdG9yZUVkaXRpbmdQcm9wcygpO1xuICAgICAgdGhpcy5fY3VycmVudEN1cnNvck9wYWNpdHkgPSAwO1xuICAgICAgaWYgKHRoaXMuX3Nob3VsZENsZWFyRGltZW5zaW9uQ2FjaGUoKSkge1xuICAgICAgICB0aGlzLmluaXREaW1lbnNpb25zKCk7XG4gICAgICAgIHRoaXMuc2V0Q29vcmRzKCk7XG4gICAgICB9XG4gICAgICB0aGlzLmZpcmUoJ2VkaXRpbmc6ZXhpdGVkJyk7XG4gICAgICBpc1RleHRDaGFuZ2VkICYmIHRoaXMuZmlyZSgnbW9kaWZpZWQnKTtcbiAgICAgIGlmICh0aGlzLmNhbnZhcykge1xuICAgICAgICB0aGlzLmNhbnZhcy5vZmYoJ21vdXNlOm1vdmUnLCB0aGlzLm1vdXNlTW92ZUhhbmRsZXIpO1xuICAgICAgICB0aGlzLmNhbnZhcy5maXJlKCd0ZXh0OmVkaXRpbmc6ZXhpdGVkJywgeyB0YXJnZXQ6IHRoaXMgfSk7XG4gICAgICAgIGlzVGV4dENoYW5nZWQgJiYgdGhpcy5jYW52YXMuZmlyZSgnb2JqZWN0Om1vZGlmaWVkJywgeyB0YXJnZXQ6IHRoaXMgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVtb3ZlRXh0cmFuZW91c1N0eWxlczogZnVuY3Rpb24oKSB7XG4gICAgICBmb3IgKHZhciBwcm9wIGluIHRoaXMuc3R5bGVzKSB7XG4gICAgICAgIGlmICghdGhpcy5fdGV4dExpbmVzW3Byb3BdKSB7XG4gICAgICAgICAgZGVsZXRlIHRoaXMuc3R5bGVzW3Byb3BdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJlbW92ZSBhbmQgcmVmbG93IGEgc3R5bGUgYmxvY2sgZnJvbSBzdGFydCB0byBlbmQuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHN0YXJ0IGxpbmVhciBzdGFydCBwb3NpdGlvbiBmb3IgcmVtb3ZhbCAoaW5jbHVkZWQgaW4gcmVtb3ZhbClcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZW5kIGxpbmVhciBlbmQgcG9zaXRpb24gZm9yIHJlbW92YWwgKCBleGNsdWRlZCBmcm9tIHJlbW92YWwgKVxuICAgICAqL1xuICAgIHJlbW92ZVN0eWxlRnJvbVRvOiBmdW5jdGlvbihzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgY3Vyc29yU3RhcnQgPSB0aGlzLmdldDJEQ3Vyc29yTG9jYXRpb24oc3RhcnQsIHRydWUpLFxuICAgICAgICAgIGN1cnNvckVuZCA9IHRoaXMuZ2V0MkRDdXJzb3JMb2NhdGlvbihlbmQsIHRydWUpLFxuICAgICAgICAgIGxpbmVTdGFydCA9IGN1cnNvclN0YXJ0LmxpbmVJbmRleCxcbiAgICAgICAgICBjaGFyU3RhcnQgPSBjdXJzb3JTdGFydC5jaGFySW5kZXgsXG4gICAgICAgICAgbGluZUVuZCA9IGN1cnNvckVuZC5saW5lSW5kZXgsXG4gICAgICAgICAgY2hhckVuZCA9IGN1cnNvckVuZC5jaGFySW5kZXgsXG4gICAgICAgICAgaSwgc3R5bGVPYmo7XG4gICAgICBpZiAobGluZVN0YXJ0ICE9PSBsaW5lRW5kKSB7XG4gICAgICAgIC8vIHN0ZXAxIHJlbW92ZSB0aGUgdHJhaWxpbmcgb2YgbGluZVN0YXJ0XG4gICAgICAgIGlmICh0aGlzLnN0eWxlc1tsaW5lU3RhcnRdKSB7XG4gICAgICAgICAgZm9yIChpID0gY2hhclN0YXJ0OyBpIDwgdGhpcy5fdW53cmFwcGVkVGV4dExpbmVzW2xpbmVTdGFydF0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnN0eWxlc1tsaW5lU3RhcnRdW2ldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBzdGVwMiBtb3ZlIHRoZSB0cmFpbGluZyBvZiBsaW5lRW5kIHRvIGxpbmVTdGFydCBpZiBuZWVkZWRcbiAgICAgICAgaWYgKHRoaXMuc3R5bGVzW2xpbmVFbmRdKSB7XG4gICAgICAgICAgZm9yIChpID0gY2hhckVuZDsgaSA8IHRoaXMuX3Vud3JhcHBlZFRleHRMaW5lc1tsaW5lRW5kXS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgc3R5bGVPYmogPSB0aGlzLnN0eWxlc1tsaW5lRW5kXVtpXTtcbiAgICAgICAgICAgIGlmIChzdHlsZU9iaikge1xuICAgICAgICAgICAgICB0aGlzLnN0eWxlc1tsaW5lU3RhcnRdIHx8ICh0aGlzLnN0eWxlc1tsaW5lU3RhcnRdID0geyB9KTtcbiAgICAgICAgICAgICAgdGhpcy5zdHlsZXNbbGluZVN0YXJ0XVtjaGFyU3RhcnQgKyBpIC0gY2hhckVuZF0gPSBzdHlsZU9iajtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gc3RlcDMgZGV0ZWN0cyBsaW5lcyB3aWxsIGJlIGNvbXBsZXRlbHkgcmVtb3ZlZC5cbiAgICAgICAgZm9yIChpID0gbGluZVN0YXJ0ICsgMTsgaSA8PSBsaW5lRW5kOyBpKyspIHtcbiAgICAgICAgICBkZWxldGUgdGhpcy5zdHlsZXNbaV07XG4gICAgICAgIH1cbiAgICAgICAgLy8gc3RlcDQgc2hpZnQgcmVtYWluaW5nIGxpbmVzLlxuICAgICAgICB0aGlzLnNoaWZ0TGluZVN0eWxlcyhsaW5lRW5kLCBsaW5lU3RhcnQgLSBsaW5lRW5kKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICAvLyByZW1vdmUgYW5kIHNoaWZ0IGxlZnQgb24gdGhlIHNhbWUgbGluZVxuICAgICAgICBpZiAodGhpcy5zdHlsZXNbbGluZVN0YXJ0XSkge1xuICAgICAgICAgIHN0eWxlT2JqID0gdGhpcy5zdHlsZXNbbGluZVN0YXJ0XTtcbiAgICAgICAgICB2YXIgZGlmZiA9IGNoYXJFbmQgLSBjaGFyU3RhcnQsIG51bWVyaWNDaGFyLCBfY2hhcjtcbiAgICAgICAgICBmb3IgKGkgPSBjaGFyU3RhcnQ7IGkgPCBjaGFyRW5kOyBpKyspIHtcbiAgICAgICAgICAgIGRlbGV0ZSBzdHlsZU9ialtpXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZm9yIChfY2hhciBpbiB0aGlzLnN0eWxlc1tsaW5lU3RhcnRdKSB7XG4gICAgICAgICAgICBudW1lcmljQ2hhciA9IHBhcnNlSW50KF9jaGFyLCAxMCk7XG4gICAgICAgICAgICBpZiAobnVtZXJpY0NoYXIgPj0gY2hhckVuZCkge1xuICAgICAgICAgICAgICBzdHlsZU9ialtudW1lcmljQ2hhciAtIGRpZmZdID0gc3R5bGVPYmpbX2NoYXJdO1xuICAgICAgICAgICAgICBkZWxldGUgc3R5bGVPYmpbX2NoYXJdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTaGlmdHMgbGluZSBzdHlsZXMgdXAgb3IgZG93blxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSW5kZXggSW5kZXggb2YgYSBsaW5lXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldCBDYW4gYW55IG51bWJlcj9cbiAgICAgKi9cbiAgICBzaGlmdExpbmVTdHlsZXM6IGZ1bmN0aW9uKGxpbmVJbmRleCwgb2Zmc2V0KSB7XG4gICAgICAvLyBzaGlmdCBhbGwgbGluZSBzdHlsZXMgYnkgb2Zmc2V0IHVwd2FyZCBvciBkb3dud2FyZFxuICAgICAgLy8gZG8gbm90IGNsb25lIGRlZXAuIHdlIG5lZWQgbmV3IGFycmF5LCBub3QgbmV3IHN0eWxlIG9iamVjdHNcbiAgICAgIHZhciBjbG9uZWRTdHlsZXMgPSBjbG9uZSh0aGlzLnN0eWxlcyk7XG4gICAgICBmb3IgKHZhciBsaW5lIGluIHRoaXMuc3R5bGVzKSB7XG4gICAgICAgIHZhciBudW1lcmljTGluZSA9IHBhcnNlSW50KGxpbmUsIDEwKTtcbiAgICAgICAgaWYgKG51bWVyaWNMaW5lID4gbGluZUluZGV4KSB7XG4gICAgICAgICAgdGhpcy5zdHlsZXNbbnVtZXJpY0xpbmUgKyBvZmZzZXRdID0gY2xvbmVkU3R5bGVzW251bWVyaWNMaW5lXTtcbiAgICAgICAgICBpZiAoIWNsb25lZFN0eWxlc1tudW1lcmljTGluZSAtIG9mZnNldF0pIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnN0eWxlc1tudW1lcmljTGluZV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIHJlc3RhcnRDdXJzb3JJZk5lZWRlZDogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIXRoaXMuX2N1cnJlbnRUaWNrU3RhdGUgfHwgdGhpcy5fY3VycmVudFRpY2tTdGF0ZS5pc0Fib3J0ZWRcbiAgICAgICAgfHwgIXRoaXMuX2N1cnJlbnRUaWNrQ29tcGxldGVTdGF0ZSB8fCB0aGlzLl9jdXJyZW50VGlja0NvbXBsZXRlU3RhdGUuaXNBYm9ydGVkXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5pbml0RGVsYXllZEN1cnNvcigpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgaW5zZXJ0aW9uIG9mIG1vcmUgY29uc2VjdXRpdmUgc3R5bGUgbGluZXMgZm9yIHdoZW4gb25lIG9yIG1vcmVcbiAgICAgKiBuZXdsaW5lcyBnZXRzIGFkZGVkIHRvIHRoZSB0ZXh0LiBTaW5jZSBjdXJyZW50IHN0eWxlIG5lZWRzIHRvIGJlIHNoaWZ0ZWRcbiAgICAgKiBmaXJzdCB3ZSBzaGlmdCB0aGUgY3VycmVudCBzdHlsZSBvZiB0aGUgbnVtYmVyIGxpbmVzIG5lZWRlZCwgdGhlbiB3ZSBhZGRcbiAgICAgKiBuZXcgbGluZXMgZnJvbSB0aGUgbGFzdCB0byB0aGUgZmlyc3QuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxpbmVJbmRleCBJbmRleCBvZiBhIGxpbmVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gY2hhckluZGV4IEluZGV4IG9mIGEgY2hhclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBxdHkgbnVtYmVyIG9mIGxpbmVzIHRvIGFkZFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGNvcGllZFN0eWxlIEFycmF5IG9mIG9iamVjdHMgc3R5bGVzXG4gICAgICovXG4gICAgaW5zZXJ0TmV3bGluZVN0eWxlT2JqZWN0OiBmdW5jdGlvbihsaW5lSW5kZXgsIGNoYXJJbmRleCwgcXR5LCBjb3BpZWRTdHlsZSkge1xuICAgICAgdmFyIGN1cnJlbnRDaGFyU3R5bGUsXG4gICAgICAgICAgbmV3TGluZVN0eWxlcyA9IHt9LFxuICAgICAgICAgIHNvbWV0aGluZ0FkZGVkID0gZmFsc2UsXG4gICAgICAgICAgaXNFbmRPZkxpbmUgPSB0aGlzLl91bndyYXBwZWRUZXh0TGluZXNbbGluZUluZGV4XS5sZW5ndGggPT09IGNoYXJJbmRleDtcblxuICAgICAgcXR5IHx8IChxdHkgPSAxKTtcbiAgICAgIHRoaXMuc2hpZnRMaW5lU3R5bGVzKGxpbmVJbmRleCwgcXR5KTtcbiAgICAgIGlmICh0aGlzLnN0eWxlc1tsaW5lSW5kZXhdKSB7XG4gICAgICAgIGN1cnJlbnRDaGFyU3R5bGUgPSB0aGlzLnN0eWxlc1tsaW5lSW5kZXhdW2NoYXJJbmRleCA9PT0gMCA/IGNoYXJJbmRleCA6IGNoYXJJbmRleCAtIDFdO1xuICAgICAgfVxuICAgICAgLy8gd2UgY2xvbmUgc3R5bGVzIG9mIGFsbCBjaGFyc1xuICAgICAgLy8gYWZ0ZXIgY3Vyc29yIG9udG8gdGhlIGN1cnJlbnQgbGluZVxuICAgICAgZm9yICh2YXIgaW5kZXggaW4gdGhpcy5zdHlsZXNbbGluZUluZGV4XSkge1xuICAgICAgICB2YXIgbnVtSW5kZXggPSBwYXJzZUludChpbmRleCwgMTApO1xuICAgICAgICBpZiAobnVtSW5kZXggPj0gY2hhckluZGV4KSB7XG4gICAgICAgICAgc29tZXRoaW5nQWRkZWQgPSB0cnVlO1xuICAgICAgICAgIG5ld0xpbmVTdHlsZXNbbnVtSW5kZXggLSBjaGFySW5kZXhdID0gdGhpcy5zdHlsZXNbbGluZUluZGV4XVtpbmRleF07XG4gICAgICAgICAgLy8gcmVtb3ZlIGxpbmVzIGZyb20gdGhlIHByZXZpb3VzIGxpbmUgc2luY2UgdGhleSdyZSBvbiBhIG5ldyBsaW5lIG5vd1xuICAgICAgICAgIGlmICghKGlzRW5kT2ZMaW5lICYmIGNoYXJJbmRleCA9PT0gMCkpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnN0eWxlc1tsaW5lSW5kZXhdW2luZGV4XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBzdHlsZUNhcnJpZWRPdmVyID0gZmFsc2U7XG4gICAgICBpZiAoc29tZXRoaW5nQWRkZWQgJiYgIWlzRW5kT2ZMaW5lKSB7XG4gICAgICAgIC8vIGlmIGlzIGVuZCBvZiBsaW5lLCB0aGUgZXh0cmEgc3R5bGUgd2UgY29waWVkXG4gICAgICAgIC8vIGlzIHByb2JhYmx5IG5vdCBzb21ldGhpbmcgd2Ugd2FudFxuICAgICAgICB0aGlzLnN0eWxlc1tsaW5lSW5kZXggKyBxdHldID0gbmV3TGluZVN0eWxlcztcbiAgICAgICAgc3R5bGVDYXJyaWVkT3ZlciA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoc3R5bGVDYXJyaWVkT3Zlcikge1xuICAgICAgICAvLyBza2lwIHRoZSBsYXN0IGxpbmUgb2Ygc2luY2Ugd2UgYWxyZWFkeSBwcmVwYXJlZCBpdC5cbiAgICAgICAgcXR5LS07XG4gICAgICB9XG4gICAgICAvLyBmb3IgdGhlIGFsbCB0aGUgbGluZXMgb3IgYWxsIHRoZSBvdGhlciBsaW5lc1xuICAgICAgLy8gd2UgY2xvbmUgY3VycmVudCBjaGFyIHN0eWxlIG9udG8gdGhlIG5leHQgKG90aGVyd2lzZSBlbXB0eSkgbGluZVxuICAgICAgd2hpbGUgKHF0eSA+IDApIHtcbiAgICAgICAgaWYgKGNvcGllZFN0eWxlICYmIGNvcGllZFN0eWxlW3F0eSAtIDFdKSB7XG4gICAgICAgICAgdGhpcy5zdHlsZXNbbGluZUluZGV4ICsgcXR5XSA9IHsgMDogY2xvbmUoY29waWVkU3R5bGVbcXR5IC0gMV0pIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY3VycmVudENoYXJTdHlsZSkge1xuICAgICAgICAgIHRoaXMuc3R5bGVzW2xpbmVJbmRleCArIHF0eV0gPSB7IDA6IGNsb25lKGN1cnJlbnRDaGFyU3R5bGUpIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIHRoaXMuc3R5bGVzW2xpbmVJbmRleCArIHF0eV07XG4gICAgICAgIH1cbiAgICAgICAgcXR5LS07XG4gICAgICB9XG4gICAgICB0aGlzLl9mb3JjZUNsZWFyQ2FjaGUgPSB0cnVlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbnNlcnRzIHN0eWxlIG9iamVjdCBmb3IgYSBnaXZlbiBsaW5lL2NoYXIgaW5kZXhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4IEluZGV4IG9mIGEgbGluZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBjaGFySW5kZXggSW5kZXggb2YgYSBjaGFyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHF1YW50aXR5IG51bWJlciBTdHlsZSBvYmplY3QgdG8gaW5zZXJ0LCBpZiBnaXZlblxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGNvcGllZFN0eWxlIGFycmF5IG9mIHN0eWxlIG9iamVjdHNcbiAgICAgKi9cbiAgICBpbnNlcnRDaGFyU3R5bGVPYmplY3Q6IGZ1bmN0aW9uKGxpbmVJbmRleCwgY2hhckluZGV4LCBxdWFudGl0eSwgY29waWVkU3R5bGUpIHtcbiAgICAgIGlmICghdGhpcy5zdHlsZXMpIHtcbiAgICAgICAgdGhpcy5zdHlsZXMgPSB7fTtcbiAgICAgIH1cbiAgICAgIHZhciBjdXJyZW50TGluZVN0eWxlcyAgICAgICA9IHRoaXMuc3R5bGVzW2xpbmVJbmRleF0sXG4gICAgICAgICAgY3VycmVudExpbmVTdHlsZXNDbG9uZWQgPSBjdXJyZW50TGluZVN0eWxlcyA/IGNsb25lKGN1cnJlbnRMaW5lU3R5bGVzKSA6IHt9O1xuXG4gICAgICBxdWFudGl0eSB8fCAocXVhbnRpdHkgPSAxKTtcbiAgICAgIC8vIHNoaWZ0IGFsbCBjaGFyIHN0eWxlcyBieSBxdWFudGl0eSBmb3J3YXJkXG4gICAgICAvLyAwLDEsMiwzIC0+IChjaGFySW5kZXg9MikgLT4gMCwxLDMsNCAtPiAoaW5zZXJ0IDIpIC0+IDAsMSwyLDMsNFxuICAgICAgZm9yICh2YXIgaW5kZXggaW4gY3VycmVudExpbmVTdHlsZXNDbG9uZWQpIHtcbiAgICAgICAgdmFyIG51bWVyaWNJbmRleCA9IHBhcnNlSW50KGluZGV4LCAxMCk7XG4gICAgICAgIGlmIChudW1lcmljSW5kZXggPj0gY2hhckluZGV4KSB7XG4gICAgICAgICAgY3VycmVudExpbmVTdHlsZXNbbnVtZXJpY0luZGV4ICsgcXVhbnRpdHldID0gY3VycmVudExpbmVTdHlsZXNDbG9uZWRbbnVtZXJpY0luZGV4XTtcbiAgICAgICAgICAvLyBvbmx5IGRlbGV0ZSB0aGUgc3R5bGUgaWYgdGhlcmUgd2FzIG5vdGhpbmcgbW92ZWQgdGhlcmVcbiAgICAgICAgICBpZiAoIWN1cnJlbnRMaW5lU3R5bGVzQ2xvbmVkW251bWVyaWNJbmRleCAtIHF1YW50aXR5XSkge1xuICAgICAgICAgICAgZGVsZXRlIGN1cnJlbnRMaW5lU3R5bGVzW251bWVyaWNJbmRleF07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLl9mb3JjZUNsZWFyQ2FjaGUgPSB0cnVlO1xuICAgICAgaWYgKGNvcGllZFN0eWxlKSB7XG4gICAgICAgIHdoaWxlIChxdWFudGl0eS0tKSB7XG4gICAgICAgICAgaWYgKCFPYmplY3Qua2V5cyhjb3BpZWRTdHlsZVtxdWFudGl0eV0pLmxlbmd0aCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghdGhpcy5zdHlsZXNbbGluZUluZGV4XSkge1xuICAgICAgICAgICAgdGhpcy5zdHlsZXNbbGluZUluZGV4XSA9IHt9O1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnN0eWxlc1tsaW5lSW5kZXhdW2NoYXJJbmRleCArIHF1YW50aXR5XSA9IGNsb25lKGNvcGllZFN0eWxlW3F1YW50aXR5XSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFjdXJyZW50TGluZVN0eWxlcykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgbmV3U3R5bGUgPSBjdXJyZW50TGluZVN0eWxlc1tjaGFySW5kZXggPyBjaGFySW5kZXggLSAxIDogMV07XG4gICAgICB3aGlsZSAobmV3U3R5bGUgJiYgcXVhbnRpdHktLSkge1xuICAgICAgICB0aGlzLnN0eWxlc1tsaW5lSW5kZXhdW2NoYXJJbmRleCArIHF1YW50aXR5XSA9IGNsb25lKG5ld1N0eWxlKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSW5zZXJ0cyBzdHlsZSBvYmplY3QocylcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBpbnNlcnRlZFRleHQgQ2hhcmFjdGVycyBhdCB0aGUgbG9jYXRpb24gd2hlcmUgc3R5bGUgaXMgaW5zZXJ0ZWRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc3RhcnQgY3Vyc29yIGluZGV4IGZvciBpbnNlcnRpbmcgc3R5bGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbY29waWVkU3R5bGVdIGFycmF5IG9mIHN0eWxlIG9iamVjdHMgdG8gaW5zZXJ0LlxuICAgICAqL1xuICAgIGluc2VydE5ld1N0eWxlQmxvY2s6IGZ1bmN0aW9uKGluc2VydGVkVGV4dCwgc3RhcnQsIGNvcGllZFN0eWxlKSB7XG4gICAgICB2YXIgY3Vyc29yTG9jID0gdGhpcy5nZXQyREN1cnNvckxvY2F0aW9uKHN0YXJ0LCB0cnVlKSxcbiAgICAgICAgICBhZGRlZExpbmVzID0gWzBdLCBsaW5lc0xlbmd0aCA9IDA7XG4gICAgICAvLyBnZXQgYW4gYXJyYXkgb2YgaG93IG1hbnkgY2hhciBwZXIgbGluZXMgYXJlIGJlaW5nIGFkZGVkLlxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnNlcnRlZFRleHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGluc2VydGVkVGV4dFtpXSA9PT0gJ1xcbicpIHtcbiAgICAgICAgICBsaW5lc0xlbmd0aCsrO1xuICAgICAgICAgIGFkZGVkTGluZXNbbGluZXNMZW5ndGhdID0gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBhZGRlZExpbmVzW2xpbmVzTGVuZ3RoXSsrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBmb3IgdGhlIGZpcnN0IGxpbmUgY29weSB0aGUgc3R5bGUgZnJvbSB0aGUgY3VycmVudCBjaGFyIHBvc2l0aW9uLlxuICAgICAgaWYgKGFkZGVkTGluZXNbMF0gPiAwKSB7XG4gICAgICAgIHRoaXMuaW5zZXJ0Q2hhclN0eWxlT2JqZWN0KGN1cnNvckxvYy5saW5lSW5kZXgsIGN1cnNvckxvYy5jaGFySW5kZXgsIGFkZGVkTGluZXNbMF0sIGNvcGllZFN0eWxlKTtcbiAgICAgICAgY29waWVkU3R5bGUgPSBjb3BpZWRTdHlsZSAmJiBjb3BpZWRTdHlsZS5zbGljZShhZGRlZExpbmVzWzBdICsgMSk7XG4gICAgICB9XG4gICAgICBsaW5lc0xlbmd0aCAmJiB0aGlzLmluc2VydE5ld2xpbmVTdHlsZU9iamVjdChcbiAgICAgICAgY3Vyc29yTG9jLmxpbmVJbmRleCwgY3Vyc29yTG9jLmNoYXJJbmRleCArIGFkZGVkTGluZXNbMF0sIGxpbmVzTGVuZ3RoKTtcbiAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbGluZXNMZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoYWRkZWRMaW5lc1tpXSA+IDApIHtcbiAgICAgICAgICB0aGlzLmluc2VydENoYXJTdHlsZU9iamVjdChjdXJzb3JMb2MubGluZUluZGV4ICsgaSwgMCwgYWRkZWRMaW5lc1tpXSwgY29waWVkU3R5bGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNvcGllZFN0eWxlKSB7XG4gICAgICAgICAgLy8gdGhpcyB0ZXN0IGlzIHJlcXVpcmVkIGluIG9yZGVyIHRvIGNsb3NlICM2ODQxXG4gICAgICAgICAgLy8gd2hlbiBhIHBhc3RlZCBidWZmZXIgYmVnaW5zIHdpdGggYSBuZXdsaW5lIHRoZW5cbiAgICAgICAgICAvLyB0aGlzLnN0eWxlc1tjdXJzb3JMb2MubGluZUluZGV4ICsgaV0gYW5kIGNvcGllZFN0eWxlWzBdXG4gICAgICAgICAgLy8gbWF5IGJlIHVuZGVmaW5lZCBmb3Igc29tZSByZWFzb25cbiAgICAgICAgICBpZiAodGhpcy5zdHlsZXNbY3Vyc29yTG9jLmxpbmVJbmRleCArIGldICYmIGNvcGllZFN0eWxlWzBdKSB7XG4gICAgICAgICAgICB0aGlzLnN0eWxlc1tjdXJzb3JMb2MubGluZUluZGV4ICsgaV1bMF0gPSBjb3BpZWRTdHlsZVswXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29waWVkU3R5bGUgPSBjb3BpZWRTdHlsZSAmJiBjb3BpZWRTdHlsZS5zbGljZShhZGRlZExpbmVzW2ldICsgMSk7XG4gICAgICB9XG4gICAgICAvLyB3ZSB1c2UgaSBvdXRzaWRlIHRoZSBsb29wIHRvIGdldCBpdCBsaWtlIGxpbmVzTGVuZ3RoXG4gICAgICBpZiAoYWRkZWRMaW5lc1tpXSA+IDApIHtcbiAgICAgICAgdGhpcy5pbnNlcnRDaGFyU3R5bGVPYmplY3QoY3Vyc29yTG9jLmxpbmVJbmRleCArIGksIDAsIGFkZGVkTGluZXNbaV0sIGNvcGllZFN0eWxlKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBzZWxlY3Rpb25TdGFydCBhbmQgc2VsZWN0aW9uRW5kIGFjY29yZGluZyB0byB0aGUgbmV3IHBvc2l0aW9uIG9mIGN1cnNvclxuICAgICAqIG1pbWljIHRoZSBrZXkgLSBtb3VzZSBuYXZpZ2F0aW9uIHdoZW4gc2hpZnQgaXMgcHJlc3NlZC5cbiAgICAgKi9cbiAgICBzZXRTZWxlY3Rpb25TdGFydEVuZFdpdGhTaGlmdDogZnVuY3Rpb24oc3RhcnQsIGVuZCwgbmV3U2VsZWN0aW9uKSB7XG4gICAgICBpZiAobmV3U2VsZWN0aW9uIDw9IHN0YXJ0KSB7XG4gICAgICAgIGlmIChlbmQgPT09IHN0YXJ0KSB7XG4gICAgICAgICAgdGhpcy5fc2VsZWN0aW9uRGlyZWN0aW9uID0gJ2xlZnQnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX3NlbGVjdGlvbkRpcmVjdGlvbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgIHRoaXMuX3NlbGVjdGlvbkRpcmVjdGlvbiA9ICdsZWZ0JztcbiAgICAgICAgICB0aGlzLnNlbGVjdGlvbkVuZCA9IHN0YXJ0O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uU3RhcnQgPSBuZXdTZWxlY3Rpb247XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChuZXdTZWxlY3Rpb24gPiBzdGFydCAmJiBuZXdTZWxlY3Rpb24gPCBlbmQpIHtcbiAgICAgICAgaWYgKHRoaXMuX3NlbGVjdGlvbkRpcmVjdGlvbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgIHRoaXMuc2VsZWN0aW9uRW5kID0gbmV3U2VsZWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHRoaXMuc2VsZWN0aW9uU3RhcnQgPSBuZXdTZWxlY3Rpb247XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICAvLyBuZXdTZWxlY3Rpb24gaXMgPiBzZWxlY3Rpb24gc3RhcnQgYW5kIGVuZFxuICAgICAgICBpZiAoZW5kID09PSBzdGFydCkge1xuICAgICAgICAgIHRoaXMuX3NlbGVjdGlvbkRpcmVjdGlvbiA9ICdyaWdodCc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fc2VsZWN0aW9uRGlyZWN0aW9uID09PSAnbGVmdCcpIHtcbiAgICAgICAgICB0aGlzLl9zZWxlY3Rpb25EaXJlY3Rpb24gPSAncmlnaHQnO1xuICAgICAgICAgIHRoaXMuc2VsZWN0aW9uU3RhcnQgPSBlbmQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZWxlY3Rpb25FbmQgPSBuZXdTZWxlY3Rpb247XG4gICAgICB9XG4gICAgfSxcblxuICAgIHNldFNlbGVjdGlvbkluQm91bmRhcmllczogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gdGhpcy50ZXh0Lmxlbmd0aDtcbiAgICAgIGlmICh0aGlzLnNlbGVjdGlvblN0YXJ0ID4gbGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uU3RhcnQgPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICh0aGlzLnNlbGVjdGlvblN0YXJ0IDwgMCkge1xuICAgICAgICB0aGlzLnNlbGVjdGlvblN0YXJ0ID0gMDtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnNlbGVjdGlvbkVuZCA+IGxlbmd0aCkge1xuICAgICAgICB0aGlzLnNlbGVjdGlvbkVuZCA9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHRoaXMuc2VsZWN0aW9uRW5kIDwgMCkge1xuICAgICAgICB0aGlzLnNlbGVjdGlvbkVuZCA9IDA7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn0pKCk7XG5cblxuZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZChmYWJyaWMuSVRleHQucHJvdG90eXBlLCAvKiogQGxlbmRzIGZhYnJpYy5JVGV4dC5wcm90b3R5cGUgKi8ge1xuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgXCJkYmNsaWNrXCIgZXZlbnQgaGFuZGxlclxuICAgKi9cbiAgaW5pdERvdWJsZUNsaWNrU2ltdWxhdGlvbjogZnVuY3Rpb24oKSB7XG5cbiAgICAvLyBmb3IgZG91YmxlIGNsaWNrXG4gICAgdGhpcy5fX2xhc3RDbGlja1RpbWUgPSArbmV3IERhdGUoKTtcblxuICAgIC8vIGZvciB0cmlwbGUgY2xpY2tcbiAgICB0aGlzLl9fbGFzdExhc3RDbGlja1RpbWUgPSArbmV3IERhdGUoKTtcblxuICAgIHRoaXMuX19sYXN0UG9pbnRlciA9IHsgfTtcblxuICAgIHRoaXMub24oJ21vdXNlZG93bicsIHRoaXMub25Nb3VzZURvd24pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IGV2ZW50IGhhbmRsZXIgdG8gc2ltdWxhdGUgdHJpcGxlIGNsaWNrXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBvbk1vdXNlRG93bjogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIGlmICghdGhpcy5jYW52YXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fX25ld0NsaWNrVGltZSA9ICtuZXcgRGF0ZSgpO1xuICAgIHZhciBuZXdQb2ludGVyID0gb3B0aW9ucy5wb2ludGVyO1xuICAgIGlmICh0aGlzLmlzVHJpcGxlQ2xpY2sobmV3UG9pbnRlcikpIHtcbiAgICAgIHRoaXMuZmlyZSgndHJpcGxlY2xpY2snLCBvcHRpb25zKTtcbiAgICAgIHRoaXMuX3N0b3BFdmVudChvcHRpb25zLmUpO1xuICAgIH1cbiAgICB0aGlzLl9fbGFzdExhc3RDbGlja1RpbWUgPSB0aGlzLl9fbGFzdENsaWNrVGltZTtcbiAgICB0aGlzLl9fbGFzdENsaWNrVGltZSA9IHRoaXMuX19uZXdDbGlja1RpbWU7XG4gICAgdGhpcy5fX2xhc3RQb2ludGVyID0gbmV3UG9pbnRlcjtcbiAgICB0aGlzLl9fbGFzdElzRWRpdGluZyA9IHRoaXMuaXNFZGl0aW5nO1xuICAgIHRoaXMuX19sYXN0U2VsZWN0ZWQgPSB0aGlzLnNlbGVjdGVkO1xuICB9LFxuXG4gIGlzVHJpcGxlQ2xpY2s6IGZ1bmN0aW9uKG5ld1BvaW50ZXIpIHtcbiAgICByZXR1cm4gdGhpcy5fX25ld0NsaWNrVGltZSAtIHRoaXMuX19sYXN0Q2xpY2tUaW1lIDwgNTAwICYmXG4gICAgICAgIHRoaXMuX19sYXN0Q2xpY2tUaW1lIC0gdGhpcy5fX2xhc3RMYXN0Q2xpY2tUaW1lIDwgNTAwICYmXG4gICAgICAgIHRoaXMuX19sYXN0UG9pbnRlci54ID09PSBuZXdQb2ludGVyLnggJiZcbiAgICAgICAgdGhpcy5fX2xhc3RQb2ludGVyLnkgPT09IG5ld1BvaW50ZXIueTtcbiAgfSxcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zdG9wRXZlbnQ6IGZ1bmN0aW9uKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0ICYmIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbiAmJiBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBldmVudCBoYW5kbGVycyByZWxhdGVkIHRvIGN1cnNvciBvciBzZWxlY3Rpb25cbiAgICovXG4gIGluaXRDdXJzb3JTZWxlY3Rpb25IYW5kbGVyczogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5pbml0TW91c2Vkb3duSGFuZGxlcigpO1xuICAgIHRoaXMuaW5pdE1vdXNldXBIYW5kbGVyKCk7XG4gICAgdGhpcy5pbml0Q2xpY2tzKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIERlZmF1bHQgaGFuZGxlciBmb3IgZG91YmxlIGNsaWNrLCBzZWxlY3QgYSB3b3JkXG4gICAqL1xuICBkb3VibGVDbGlja0hhbmRsZXI6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICBpZiAoIXRoaXMuaXNFZGl0aW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc2VsZWN0V29yZCh0aGlzLmdldFNlbGVjdGlvblN0YXJ0RnJvbVBvaW50ZXIob3B0aW9ucy5lKSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIERlZmF1bHQgaGFuZGxlciBmb3IgdHJpcGxlIGNsaWNrLCBzZWxlY3QgYSBsaW5lXG4gICAqL1xuICB0cmlwbGVDbGlja0hhbmRsZXI6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICBpZiAoIXRoaXMuaXNFZGl0aW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc2VsZWN0TGluZSh0aGlzLmdldFNlbGVjdGlvblN0YXJ0RnJvbVBvaW50ZXIob3B0aW9ucy5lKSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIGRvdWJsZSBhbmQgdHJpcGxlIGNsaWNrIGV2ZW50IGhhbmRsZXJzXG4gICAqL1xuICBpbml0Q2xpY2tzOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLm9uKCdtb3VzZWRibGNsaWNrJywgdGhpcy5kb3VibGVDbGlja0hhbmRsZXIpO1xuICAgIHRoaXMub24oJ3RyaXBsZWNsaWNrJywgdGhpcy50cmlwbGVDbGlja0hhbmRsZXIpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IGV2ZW50IGhhbmRsZXIgZm9yIHRoZSBiYXNpYyBmdW5jdGlvbmFsaXRpZXMgbmVlZGVkIG9uIF9tb3VzZURvd25cbiAgICogY2FuIGJlIG92ZXJyaWRkZW4gdG8gZG8gc29tZXRoaW5nIGRpZmZlcmVudC5cbiAgICogU2NvcGUgb2YgdGhpcyBpbXBsZW1lbnRhdGlvbiBpczogZmluZCB0aGUgY2xpY2sgcG9zaXRpb24sIHNldCBzZWxlY3Rpb25TdGFydFxuICAgKiBmaW5kIHNlbGVjdGlvbkVuZCwgaW5pdGlhbGl6ZSB0aGUgZHJhd2luZyBvZiBlaXRoZXIgY3Vyc29yIG9yIHNlbGVjdGlvbiBhcmVhXG4gICAqIGluaXRpYWxpemluZyBhIG1vdXNlZERvd24gb24gYSB0ZXh0IGFyZWEgd2lsbCBjYW5jZWwgZmFicmljanMga25vd2xlZGdlIG9mXG4gICAqIGN1cnJlbnQgY29tcG9zaXRpb25Nb2RlLiBJdCB3aWxsIGJlIHNldCB0byBmYWxzZS5cbiAgICovXG4gIF9tb3VzZURvd25IYW5kbGVyOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgaWYgKCF0aGlzLmNhbnZhcyB8fCAhdGhpcy5lZGl0YWJsZSB8fCAob3B0aW9ucy5lLmJ1dHRvbiAmJiBvcHRpb25zLmUuYnV0dG9uICE9PSAxKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX19pc01vdXNlZG93biA9IHRydWU7XG5cbiAgICBpZiAodGhpcy5zZWxlY3RlZCkge1xuICAgICAgdGhpcy5pbkNvbXBvc2l0aW9uTW9kZSA9IGZhbHNlO1xuICAgICAgdGhpcy5zZXRDdXJzb3JCeUNsaWNrKG9wdGlvbnMuZSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaXNFZGl0aW5nKSB7XG4gICAgICB0aGlzLl9fc2VsZWN0aW9uU3RhcnRPbk1vdXNlRG93biA9IHRoaXMuc2VsZWN0aW9uU3RhcnQ7XG4gICAgICBpZiAodGhpcy5zZWxlY3Rpb25TdGFydCA9PT0gdGhpcy5zZWxlY3Rpb25FbmQpIHtcbiAgICAgICAgdGhpcy5hYm9ydEN1cnNvckFuaW1hdGlvbigpO1xuICAgICAgfVxuICAgICAgdGhpcy5yZW5kZXJDdXJzb3JPclNlbGVjdGlvbigpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogRGVmYXVsdCBldmVudCBoYW5kbGVyIGZvciB0aGUgYmFzaWMgZnVuY3Rpb25hbGl0aWVzIG5lZWRlZCBvbiBtb3VzZWRvd246YmVmb3JlXG4gICAqIGNhbiBiZSBvdmVycmlkZGVuIHRvIGRvIHNvbWV0aGluZyBkaWZmZXJlbnQuXG4gICAqIFNjb3BlIG9mIHRoaXMgaW1wbGVtZW50YXRpb24gaXM6IHZlcmlmeSB0aGUgb2JqZWN0IGlzIGFscmVhZHkgc2VsZWN0ZWQgd2hlbiBtb3VzaW5nIGRvd25cbiAgICovXG4gIF9tb3VzZURvd25IYW5kbGVyQmVmb3JlOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgaWYgKCF0aGlzLmNhbnZhcyB8fCAhdGhpcy5lZGl0YWJsZSB8fCAob3B0aW9ucy5lLmJ1dHRvbiAmJiBvcHRpb25zLmUuYnV0dG9uICE9PSAxKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyB3ZSB3YW50IHRvIGF2b2lkIHRoYXQgYW4gb2JqZWN0IHRoYXQgd2FzIHNlbGVjdGVkIGFuZCB0aGVuIGJlY29tZXMgdW5zZWxlY3RhYmxlLFxuICAgIC8vIG1heSB0cmlnZ2VyIGVkaXRpbmcgbW9kZSBpbiBzb21lIHdheS5cbiAgICB0aGlzLnNlbGVjdGVkID0gdGhpcyA9PT0gdGhpcy5jYW52YXMuX2FjdGl2ZU9iamVjdDtcbiAgfSxcblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgXCJtb3VzZWRvd25cIiBldmVudCBoYW5kbGVyXG4gICAqL1xuICBpbml0TW91c2Vkb3duSGFuZGxlcjogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5vbignbW91c2Vkb3duJywgdGhpcy5fbW91c2VEb3duSGFuZGxlcik7XG4gICAgdGhpcy5vbignbW91c2Vkb3duOmJlZm9yZScsIHRoaXMuX21vdXNlRG93bkhhbmRsZXJCZWZvcmUpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBcIm1vdXNldXBcIiBldmVudCBoYW5kbGVyXG4gICAqL1xuICBpbml0TW91c2V1cEhhbmRsZXI6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMub24oJ21vdXNldXAnLCB0aGlzLm1vdXNlVXBIYW5kbGVyKTtcbiAgfSxcblxuICAvKipcbiAgICogc3RhbmRhcmQgaGFuZGxlciBmb3IgbW91c2UgdXAsIG92ZXJyaWRhYmxlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBtb3VzZVVwSGFuZGxlcjogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHRoaXMuX19pc01vdXNlZG93biA9IGZhbHNlO1xuICAgIGlmICghdGhpcy5lZGl0YWJsZSB8fCB0aGlzLmdyb3VwIHx8XG4gICAgICAob3B0aW9ucy50cmFuc2Zvcm0gJiYgb3B0aW9ucy50cmFuc2Zvcm0uYWN0aW9uUGVyZm9ybWVkKSB8fFxuICAgICAgKG9wdGlvbnMuZS5idXR0b24gJiYgb3B0aW9ucy5lLmJ1dHRvbiAhPT0gMSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5jYW52YXMpIHtcbiAgICAgIHZhciBjdXJyZW50QWN0aXZlID0gdGhpcy5jYW52YXMuX2FjdGl2ZU9iamVjdDtcbiAgICAgIGlmIChjdXJyZW50QWN0aXZlICYmIGN1cnJlbnRBY3RpdmUgIT09IHRoaXMpIHtcbiAgICAgICAgLy8gYXZvaWQgcnVubmluZyB0aGlzIGxvZ2ljIHdoZW4gdGhlcmUgaXMgYW4gYWN0aXZlIG9iamVjdFxuICAgICAgICAvLyB0aGlzIGJlY2F1c2UgaXMgcG9zc2libGUgd2l0aCBzaGlmdCBjbGljayBhbmQgZmFzdCBjbGlja3MsXG4gICAgICAgIC8vIHRvIHJhcGlkbHkgZGVzZWxlY3QgYW5kIHJlc2VsZWN0IHRoaXMgb2JqZWN0IGFuZCB0cmlnZ2VyIGFuIGVudGVyRWRpdFxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX19sYXN0U2VsZWN0ZWQgJiYgIXRoaXMuX19jb3JuZXIpIHtcbiAgICAgIHRoaXMuc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuX19sYXN0U2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuZW50ZXJFZGl0aW5nKG9wdGlvbnMuZSk7XG4gICAgICBpZiAodGhpcy5zZWxlY3Rpb25TdGFydCA9PT0gdGhpcy5zZWxlY3Rpb25FbmQpIHtcbiAgICAgICAgdGhpcy5pbml0RGVsYXllZEN1cnNvcih0cnVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLnJlbmRlckN1cnNvck9yU2VsZWN0aW9uKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5zZWxlY3RlZCA9IHRydWU7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBDaGFuZ2VzIGN1cnNvciBsb2NhdGlvbiBpbiBhIHRleHQgZGVwZW5kaW5nIG9uIHBhc3NlZCBwb2ludGVyICh4L3kpIG9iamVjdFxuICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKi9cbiAgc2V0Q3Vyc29yQnlDbGljazogZnVuY3Rpb24oZSkge1xuICAgIHZhciBuZXdTZWxlY3Rpb24gPSB0aGlzLmdldFNlbGVjdGlvblN0YXJ0RnJvbVBvaW50ZXIoZSksXG4gICAgICAgIHN0YXJ0ID0gdGhpcy5zZWxlY3Rpb25TdGFydCwgZW5kID0gdGhpcy5zZWxlY3Rpb25FbmQ7XG4gICAgaWYgKGUuc2hpZnRLZXkpIHtcbiAgICAgIHRoaXMuc2V0U2VsZWN0aW9uU3RhcnRFbmRXaXRoU2hpZnQoc3RhcnQsIGVuZCwgbmV3U2VsZWN0aW9uKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLnNlbGVjdGlvblN0YXJ0ID0gbmV3U2VsZWN0aW9uO1xuICAgICAgdGhpcy5zZWxlY3Rpb25FbmQgPSBuZXdTZWxlY3Rpb247XG4gICAgfVxuICAgIGlmICh0aGlzLmlzRWRpdGluZykge1xuICAgICAgdGhpcy5fZmlyZVNlbGVjdGlvbkNoYW5nZWQoKTtcbiAgICAgIHRoaXMuX3VwZGF0ZVRleHRhcmVhKCk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGluZGV4IG9mIGEgY2hhcmFjdGVyIGNvcnJlc3BvbmRpbmcgdG8gd2hlcmUgYW4gb2JqZWN0IHdhcyBjbGlja2VkXG4gICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqIEByZXR1cm4ge051bWJlcn0gSW5kZXggb2YgYSBjaGFyYWN0ZXJcbiAgICovXG4gIGdldFNlbGVjdGlvblN0YXJ0RnJvbVBvaW50ZXI6IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgbW91c2VPZmZzZXQgPSB0aGlzLmdldExvY2FsUG9pbnRlcihlKSxcbiAgICAgICAgcHJldldpZHRoID0gMCxcbiAgICAgICAgd2lkdGggPSAwLFxuICAgICAgICBoZWlnaHQgPSAwLFxuICAgICAgICBjaGFySW5kZXggPSAwLFxuICAgICAgICBsaW5lSW5kZXggPSAwLFxuICAgICAgICBsaW5lTGVmdE9mZnNldCxcbiAgICAgICAgbGluZTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5fdGV4dExpbmVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAoaGVpZ2h0IDw9IG1vdXNlT2Zmc2V0LnkpIHtcbiAgICAgICAgaGVpZ2h0ICs9IHRoaXMuZ2V0SGVpZ2h0T2ZMaW5lKGkpICogdGhpcy5zY2FsZVk7XG4gICAgICAgIGxpbmVJbmRleCA9IGk7XG4gICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgIGNoYXJJbmRleCArPSB0aGlzLl90ZXh0TGluZXNbaSAtIDFdLmxlbmd0aCArIHRoaXMubWlzc2luZ05ld2xpbmVPZmZzZXQoaSAtIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGxpbmVMZWZ0T2Zmc2V0ID0gdGhpcy5fZ2V0TGluZUxlZnRPZmZzZXQobGluZUluZGV4KTtcbiAgICB3aWR0aCA9IGxpbmVMZWZ0T2Zmc2V0ICogdGhpcy5zY2FsZVg7XG4gICAgbGluZSA9IHRoaXMuX3RleHRMaW5lc1tsaW5lSW5kZXhdO1xuICAgIC8vIGhhbmRsaW5nIG9mIFJUTDogaW4gb3JkZXIgdG8gZ2V0IHRoaW5ncyB3b3JrIGNvcnJlY3RseSxcbiAgICAvLyB3ZSBhc3N1bWUgUlRMIHdyaXRpbmcgaXMgbWlycm9yZWQgY29tcGFyZWQgdG8gTFRSIHdyaXRpbmcuXG4gICAgLy8gc28gaW4gcG9zaXRpb24gZGV0ZWN0aW9uIHdlIG1pcnJvciB0aGUgWCBvZmZzZXQsIGFuZCB3aGVuIGlzIHRpbWVcbiAgICAvLyBvZiByZW5kZXJpbmcgaXQsIHdlIG1pcnJvciBpdCBhZ2Fpbi5cbiAgICBpZiAodGhpcy5kaXJlY3Rpb24gPT09ICdydGwnKSB7XG4gICAgICBtb3VzZU9mZnNldC54ID0gdGhpcy53aWR0aCAqIHRoaXMuc2NhbGVYIC0gbW91c2VPZmZzZXQueCArIHdpZHRoO1xuICAgIH1cbiAgICBmb3IgKHZhciBqID0gMCwgamxlbiA9IGxpbmUubGVuZ3RoOyBqIDwgamxlbjsgaisrKSB7XG4gICAgICBwcmV2V2lkdGggPSB3aWR0aDtcbiAgICAgIC8vIGkgcmVtb3ZlZCBzb21ldGhpbmcgYWJvdXQgZmxpcFggaGVyZSwgY2hlY2suXG4gICAgICB3aWR0aCArPSB0aGlzLl9fY2hhckJvdW5kc1tsaW5lSW5kZXhdW2pdLmtlcm5lZFdpZHRoICogdGhpcy5zY2FsZVg7XG4gICAgICBpZiAod2lkdGggPD0gbW91c2VPZmZzZXQueCkge1xuICAgICAgICBjaGFySW5kZXgrKztcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2dldE5ld1NlbGVjdGlvblN0YXJ0RnJvbU9mZnNldChtb3VzZU9mZnNldCwgcHJldldpZHRoLCB3aWR0aCwgY2hhckluZGV4LCBqbGVuKTtcbiAgfSxcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9nZXROZXdTZWxlY3Rpb25TdGFydEZyb21PZmZzZXQ6IGZ1bmN0aW9uKG1vdXNlT2Zmc2V0LCBwcmV2V2lkdGgsIHdpZHRoLCBpbmRleCwgamxlbikge1xuICAgIC8vIHdlIG5lZWQgTWF0aC5hYnMgYmVjYXVzZSB3aGVuIHdpZHRoIGlzIGFmdGVyIHRoZSBsYXN0IGNoYXIsIHRoZSBvZmZzZXQgaXMgZ2l2ZW4gYXMgMSwgd2hpbGUgaXMgMFxuICAgIHZhciBkaXN0YW5jZUJ0d0xhc3RDaGFyQW5kQ3Vyc29yID0gbW91c2VPZmZzZXQueCAtIHByZXZXaWR0aCxcbiAgICAgICAgZGlzdGFuY2VCdHdOZXh0Q2hhckFuZEN1cnNvciA9IHdpZHRoIC0gbW91c2VPZmZzZXQueCxcbiAgICAgICAgb2Zmc2V0ID0gZGlzdGFuY2VCdHdOZXh0Q2hhckFuZEN1cnNvciA+IGRpc3RhbmNlQnR3TGFzdENoYXJBbmRDdXJzb3IgfHxcbiAgICAgICAgICBkaXN0YW5jZUJ0d05leHRDaGFyQW5kQ3Vyc29yIDwgMCA/IDAgOiAxLFxuICAgICAgICBuZXdTZWxlY3Rpb25TdGFydCA9IGluZGV4ICsgb2Zmc2V0O1xuICAgIC8vIGlmIG9iamVjdCBpcyBob3Jpem9udGFsbHkgZmxpcHBlZCwgbWlycm9yIGN1cnNvciBsb2NhdGlvbiBmcm9tIHRoZSBlbmRcbiAgICBpZiAodGhpcy5mbGlwWCkge1xuICAgICAgbmV3U2VsZWN0aW9uU3RhcnQgPSBqbGVuIC0gbmV3U2VsZWN0aW9uU3RhcnQ7XG4gICAgfVxuXG4gICAgaWYgKG5ld1NlbGVjdGlvblN0YXJ0ID4gdGhpcy5fdGV4dC5sZW5ndGgpIHtcbiAgICAgIG5ld1NlbGVjdGlvblN0YXJ0ID0gdGhpcy5fdGV4dC5sZW5ndGg7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ld1NlbGVjdGlvblN0YXJ0O1xuICB9XG59KTtcblxuXG5mYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kKGZhYnJpYy5JVGV4dC5wcm90b3R5cGUsIC8qKiBAbGVuZHMgZmFicmljLklUZXh0LnByb3RvdHlwZSAqLyB7XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIGhpZGRlbiB0ZXh0YXJlYSAobmVlZGVkIHRvIGJyaW5nIHVwIGtleWJvYXJkIGluIGlPUylcbiAgICovXG4gIGluaXRIaWRkZW5UZXh0YXJlYTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5oaWRkZW5UZXh0YXJlYSA9IGZhYnJpYy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpO1xuICAgIHRoaXMuaGlkZGVuVGV4dGFyZWEuc2V0QXR0cmlidXRlKCdhdXRvY2FwaXRhbGl6ZScsICdvZmYnKTtcbiAgICB0aGlzLmhpZGRlblRleHRhcmVhLnNldEF0dHJpYnV0ZSgnYXV0b2NvcnJlY3QnLCAnb2ZmJyk7XG4gICAgdGhpcy5oaWRkZW5UZXh0YXJlYS5zZXRBdHRyaWJ1dGUoJ2F1dG9jb21wbGV0ZScsICdvZmYnKTtcbiAgICB0aGlzLmhpZGRlblRleHRhcmVhLnNldEF0dHJpYnV0ZSgnc3BlbGxjaGVjaycsICdmYWxzZScpO1xuICAgIHRoaXMuaGlkZGVuVGV4dGFyZWEuc2V0QXR0cmlidXRlKCdkYXRhLWZhYnJpYy1oaWRkZW50ZXh0YXJlYScsICcnKTtcbiAgICB0aGlzLmhpZGRlblRleHRhcmVhLnNldEF0dHJpYnV0ZSgnd3JhcCcsICdvZmYnKTtcbiAgICB2YXIgc3R5bGUgPSB0aGlzLl9jYWxjVGV4dGFyZWFQb3NpdGlvbigpO1xuICAgIC8vIGxpbmUtaGVpZ2h0OiAxcHg7IHdhcyByZW1vdmVkIGZyb20gdGhlIHN0eWxlIHRvIGZpeCB0aGlzOlxuICAgIC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTg3MDk2NlxuICAgIHRoaXMuaGlkZGVuVGV4dGFyZWEuc3R5bGUuY3NzVGV4dCA9ICdwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogJyArIHN0eWxlLnRvcCArXG4gICAgJzsgbGVmdDogJyArIHN0eWxlLmxlZnQgKyAnOyB6LWluZGV4OiAtOTk5OyBvcGFjaXR5OiAwOyB3aWR0aDogMXB4OyBoZWlnaHQ6IDFweDsgZm9udC1zaXplOiAxcHg7JyArXG4gICAgJyBwYWRkaW5nLXRvcDogJyArIHN0eWxlLmZvbnRTaXplICsgJzsnO1xuXG4gICAgaWYgKHRoaXMuaGlkZGVuVGV4dGFyZWFDb250YWluZXIpIHtcbiAgICAgIHRoaXMuaGlkZGVuVGV4dGFyZWFDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5oaWRkZW5UZXh0YXJlYSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZmFicmljLmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5oaWRkZW5UZXh0YXJlYSk7XG4gICAgfVxuXG4gICAgZmFicmljLnV0aWwuYWRkTGlzdGVuZXIodGhpcy5oaWRkZW5UZXh0YXJlYSwgJ2tleWRvd24nLCB0aGlzLm9uS2V5RG93bi5iaW5kKHRoaXMpKTtcbiAgICBmYWJyaWMudXRpbC5hZGRMaXN0ZW5lcih0aGlzLmhpZGRlblRleHRhcmVhLCAna2V5dXAnLCB0aGlzLm9uS2V5VXAuYmluZCh0aGlzKSk7XG4gICAgZmFicmljLnV0aWwuYWRkTGlzdGVuZXIodGhpcy5oaWRkZW5UZXh0YXJlYSwgJ2lucHV0JywgdGhpcy5vbklucHV0LmJpbmQodGhpcykpO1xuICAgIGZhYnJpYy51dGlsLmFkZExpc3RlbmVyKHRoaXMuaGlkZGVuVGV4dGFyZWEsICdjb3B5JywgdGhpcy5jb3B5LmJpbmQodGhpcykpO1xuICAgIGZhYnJpYy51dGlsLmFkZExpc3RlbmVyKHRoaXMuaGlkZGVuVGV4dGFyZWEsICdjdXQnLCB0aGlzLmNvcHkuYmluZCh0aGlzKSk7XG4gICAgZmFicmljLnV0aWwuYWRkTGlzdGVuZXIodGhpcy5oaWRkZW5UZXh0YXJlYSwgJ3Bhc3RlJywgdGhpcy5wYXN0ZS5iaW5kKHRoaXMpKTtcbiAgICBmYWJyaWMudXRpbC5hZGRMaXN0ZW5lcih0aGlzLmhpZGRlblRleHRhcmVhLCAnY29tcG9zaXRpb25zdGFydCcsIHRoaXMub25Db21wb3NpdGlvblN0YXJ0LmJpbmQodGhpcykpO1xuICAgIGZhYnJpYy51dGlsLmFkZExpc3RlbmVyKHRoaXMuaGlkZGVuVGV4dGFyZWEsICdjb21wb3NpdGlvbnVwZGF0ZScsIHRoaXMub25Db21wb3NpdGlvblVwZGF0ZS5iaW5kKHRoaXMpKTtcbiAgICBmYWJyaWMudXRpbC5hZGRMaXN0ZW5lcih0aGlzLmhpZGRlblRleHRhcmVhLCAnY29tcG9zaXRpb25lbmQnLCB0aGlzLm9uQ29tcG9zaXRpb25FbmQuYmluZCh0aGlzKSk7XG5cbiAgICBpZiAoIXRoaXMuX2NsaWNrSGFuZGxlckluaXRpYWxpemVkICYmIHRoaXMuY2FudmFzKSB7XG4gICAgICBmYWJyaWMudXRpbC5hZGRMaXN0ZW5lcih0aGlzLmNhbnZhcy51cHBlckNhbnZhc0VsLCAnY2xpY2snLCB0aGlzLm9uQ2xpY2suYmluZCh0aGlzKSk7XG4gICAgICB0aGlzLl9jbGlja0hhbmRsZXJJbml0aWFsaXplZCA9IHRydWU7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBGb3IgZnVuY3Rpb25hbGl0aWVzIG9uIGtleURvd25cbiAgICogTWFwIGEgc3BlY2lhbCBrZXkgdG8gYSBmdW5jdGlvbiBvZiB0aGUgaW5zdGFuY2UvcHJvdG90eXBlXG4gICAqIElmIHlvdSBuZWVkIGRpZmZlcmVudCBiZWhhdmlvdXIgZm9yIEVTQyBvciBUQUIgb3IgYXJyb3dzLCB5b3UgaGF2ZSB0byBjaGFuZ2VcbiAgICogdGhpcyBtYXAgc2V0dGluZyB0aGUgbmFtZSBvZiBhIGZ1bmN0aW9uIHRoYXQgeW91IGJ1aWxkIG9uIHRoZSBmYWJyaWMuSXRleHQgb3JcbiAgICogeW91ciBwcm90b3R5cGUuXG4gICAqIHRoZSBtYXAgY2hhbmdlIHdpbGwgYWZmZWN0IGFsbCBJbnN0YW5jZXMgdW5sZXNzIHlvdSBuZWVkIGZvciBvbmx5IHNvbWUgdGV4dCBJbnN0YW5jZXNcbiAgICogaW4gdGhhdCBjYXNlIHlvdSBoYXZlIHRvIGNsb25lIHRoaXMgb2JqZWN0IGFuZCBhc3NpZ24geW91ciBJbnN0YW5jZS5cbiAgICogdGhpcy5rZXlzTWFwID0gZmFicmljLnV0aWwub2JqZWN0LmNsb25lKHRoaXMua2V5c01hcCk7XG4gICAqIFRoZSBmdW5jdGlvbiBtdXN0IGJlIGluIGZhYnJpYy5JdGV4dC5wcm90b3R5cGUubXlGdW5jdGlvbiBBbmQgd2lsbCByZWNlaXZlIGV2ZW50IGFzIGFyZ3NbMF1cbiAgICovXG4gIGtleXNNYXA6IHtcbiAgICA5OiAgJ2V4aXRFZGl0aW5nJyxcbiAgICAyNzogJ2V4aXRFZGl0aW5nJyxcbiAgICAzMzogJ21vdmVDdXJzb3JVcCcsXG4gICAgMzQ6ICdtb3ZlQ3Vyc29yRG93bicsXG4gICAgMzU6ICdtb3ZlQ3Vyc29yUmlnaHQnLFxuICAgIDM2OiAnbW92ZUN1cnNvckxlZnQnLFxuICAgIDM3OiAnbW92ZUN1cnNvckxlZnQnLFxuICAgIDM4OiAnbW92ZUN1cnNvclVwJyxcbiAgICAzOTogJ21vdmVDdXJzb3JSaWdodCcsXG4gICAgNDA6ICdtb3ZlQ3Vyc29yRG93bicsXG4gIH0sXG5cbiAga2V5c01hcFJ0bDoge1xuICAgIDk6ICAnZXhpdEVkaXRpbmcnLFxuICAgIDI3OiAnZXhpdEVkaXRpbmcnLFxuICAgIDMzOiAnbW92ZUN1cnNvclVwJyxcbiAgICAzNDogJ21vdmVDdXJzb3JEb3duJyxcbiAgICAzNTogJ21vdmVDdXJzb3JMZWZ0JyxcbiAgICAzNjogJ21vdmVDdXJzb3JSaWdodCcsXG4gICAgMzc6ICdtb3ZlQ3Vyc29yUmlnaHQnLFxuICAgIDM4OiAnbW92ZUN1cnNvclVwJyxcbiAgICAzOTogJ21vdmVDdXJzb3JMZWZ0JyxcbiAgICA0MDogJ21vdmVDdXJzb3JEb3duJyxcbiAgfSxcblxuICAvKipcbiAgICogRm9yIGZ1bmN0aW9uYWxpdGllcyBvbiBrZXlVcCArIGN0cmwgfHwgY21kXG4gICAqL1xuICBjdHJsS2V5c01hcFVwOiB7XG4gICAgNjc6ICdjb3B5JyxcbiAgICA4ODogJ2N1dCdcbiAgfSxcblxuICAvKipcbiAgICogRm9yIGZ1bmN0aW9uYWxpdGllcyBvbiBrZXlEb3duICsgY3RybCB8fCBjbWRcbiAgICovXG4gIGN0cmxLZXlzTWFwRG93bjoge1xuICAgIDY1OiAnc2VsZWN0QWxsJ1xuICB9LFxuXG4gIG9uQ2xpY2s6IGZ1bmN0aW9uKCkge1xuICAgIC8vIE5vIG5lZWQgdG8gdHJpZ2dlciBjbGljayBldmVudCBoZXJlLCBmb2N1cyBpcyBlbm91Z2ggdG8gaGF2ZSB0aGUga2V5Ym9hcmQgYXBwZWFyIG9uIEFuZHJvaWRcbiAgICB0aGlzLmhpZGRlblRleHRhcmVhICYmIHRoaXMuaGlkZGVuVGV4dGFyZWEuZm9jdXMoKTtcbiAgfSxcblxuICAvKipcbiAgICogSGFuZGxlcyBrZXlkb3duIGV2ZW50XG4gICAqIG9ubHkgdXNlZCBmb3IgYXJyb3dzIGFuZCBjb21iaW5hdGlvbiBvZiBtb2RpZmllciBrZXlzLlxuICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKi9cbiAgb25LZXlEb3duOiBmdW5jdGlvbihlKSB7XG4gICAgaWYgKCF0aGlzLmlzRWRpdGluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIga2V5TWFwID0gdGhpcy5kaXJlY3Rpb24gPT09ICdydGwnID8gdGhpcy5rZXlzTWFwUnRsIDogdGhpcy5rZXlzTWFwO1xuICAgIGlmIChlLmtleUNvZGUgaW4ga2V5TWFwKSB7XG4gICAgICB0aGlzW2tleU1hcFtlLmtleUNvZGVdXShlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoKGUua2V5Q29kZSBpbiB0aGlzLmN0cmxLZXlzTWFwRG93bikgJiYgKGUuY3RybEtleSB8fCBlLm1ldGFLZXkpKSB7XG4gICAgICB0aGlzW3RoaXMuY3RybEtleXNNYXBEb3duW2Uua2V5Q29kZV1dKGUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKGUua2V5Q29kZSA+PSAzMyAmJiBlLmtleUNvZGUgPD0gNDApIHtcbiAgICAgIC8vIGlmIGkgcHJlc3MgYW4gYXJyb3cga2V5IGp1c3QgdXBkYXRlIHNlbGVjdGlvblxuICAgICAgdGhpcy5pbkNvbXBvc2l0aW9uTW9kZSA9IGZhbHNlO1xuICAgICAgdGhpcy5jbGVhckNvbnRleHRUb3AoKTtcbiAgICAgIHRoaXMucmVuZGVyQ3Vyc29yT3JTZWxlY3Rpb24oKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy5yZXF1ZXN0UmVuZGVyQWxsKCk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGtleXVwIGV2ZW50XG4gICAqIFdlIGhhbmRsZSBLZXlVcCBiZWNhdXNlIGllMTEgYW5kIGVkZ2UgaGF2ZSBkaWZmaWN1bHRpZXMgY29weS9wYXN0aW5nXG4gICAqIGlmIGEgY29weS9jdXQgZXZlbnQgZmlyZWQsIGtleXVwIGlzIGRpc21pc3NlZFxuICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKi9cbiAgb25LZXlVcDogZnVuY3Rpb24oZSkge1xuICAgIGlmICghdGhpcy5pc0VkaXRpbmcgfHwgdGhpcy5fY29weURvbmUgfHwgdGhpcy5pbkNvbXBvc2l0aW9uTW9kZSkge1xuICAgICAgdGhpcy5fY29weURvbmUgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKChlLmtleUNvZGUgaW4gdGhpcy5jdHJsS2V5c01hcFVwKSAmJiAoZS5jdHJsS2V5IHx8IGUubWV0YUtleSkpIHtcbiAgICAgIHRoaXNbdGhpcy5jdHJsS2V5c01hcFVwW2Uua2V5Q29kZV1dKGUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMucmVxdWVzdFJlbmRlckFsbCgpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIG9uSW5wdXQgZXZlbnRcbiAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICovXG4gIG9uSW5wdXQ6IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgZnJvbVBhc3RlID0gdGhpcy5mcm9tUGFzdGU7XG4gICAgdGhpcy5mcm9tUGFzdGUgPSBmYWxzZTtcbiAgICBlICYmIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgaWYgKCF0aGlzLmlzRWRpdGluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBkZWNpc2lvbnMgYWJvdXQgc3R5bGUgY2hhbmdlcy5cbiAgICB2YXIgbmV4dFRleHQgPSB0aGlzLl9zcGxpdFRleHRJbnRvTGluZXModGhpcy5oaWRkZW5UZXh0YXJlYS52YWx1ZSkuZ3JhcGhlbWVUZXh0LFxuICAgICAgICBjaGFyQ291bnQgPSB0aGlzLl90ZXh0Lmxlbmd0aCxcbiAgICAgICAgbmV4dENoYXJDb3VudCA9IG5leHRUZXh0Lmxlbmd0aCxcbiAgICAgICAgcmVtb3ZlZFRleHQsIGluc2VydGVkVGV4dCxcbiAgICAgICAgY2hhckRpZmYgPSBuZXh0Q2hhckNvdW50IC0gY2hhckNvdW50LFxuICAgICAgICBzZWxlY3Rpb25TdGFydCA9IHRoaXMuc2VsZWN0aW9uU3RhcnQsIHNlbGVjdGlvbkVuZCA9IHRoaXMuc2VsZWN0aW9uRW5kLFxuICAgICAgICBzZWxlY3Rpb24gPSBzZWxlY3Rpb25TdGFydCAhPT0gc2VsZWN0aW9uRW5kLFxuICAgICAgICBjb3BpZWRTdHlsZSwgcmVtb3ZlRnJvbSwgcmVtb3ZlVG87XG4gICAgaWYgKHRoaXMuaGlkZGVuVGV4dGFyZWEudmFsdWUgPT09ICcnKSB7XG4gICAgICB0aGlzLnN0eWxlcyA9IHsgfTtcbiAgICAgIHRoaXMudXBkYXRlRnJvbVRleHRBcmVhKCk7XG4gICAgICB0aGlzLmZpcmUoJ2NoYW5nZWQnKTtcbiAgICAgIGlmICh0aGlzLmNhbnZhcykge1xuICAgICAgICB0aGlzLmNhbnZhcy5maXJlKCd0ZXh0OmNoYW5nZWQnLCB7IHRhcmdldDogdGhpcyB9KTtcbiAgICAgICAgdGhpcy5jYW52YXMucmVxdWVzdFJlbmRlckFsbCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB0ZXh0YXJlYVNlbGVjdGlvbiA9IHRoaXMuZnJvbVN0cmluZ1RvR3JhcGhlbWVTZWxlY3Rpb24oXG4gICAgICB0aGlzLmhpZGRlblRleHRhcmVhLnNlbGVjdGlvblN0YXJ0LFxuICAgICAgdGhpcy5oaWRkZW5UZXh0YXJlYS5zZWxlY3Rpb25FbmQsXG4gICAgICB0aGlzLmhpZGRlblRleHRhcmVhLnZhbHVlXG4gICAgKTtcbiAgICB2YXIgYmFja0RlbGV0ZSA9IHNlbGVjdGlvblN0YXJ0ID4gdGV4dGFyZWFTZWxlY3Rpb24uc2VsZWN0aW9uU3RhcnQ7XG5cbiAgICBpZiAoc2VsZWN0aW9uKSB7XG4gICAgICByZW1vdmVkVGV4dCA9IHRoaXMuX3RleHQuc2xpY2Uoc2VsZWN0aW9uU3RhcnQsIHNlbGVjdGlvbkVuZCk7XG4gICAgICBjaGFyRGlmZiArPSBzZWxlY3Rpb25FbmQgLSBzZWxlY3Rpb25TdGFydDtcbiAgICB9XG4gICAgZWxzZSBpZiAobmV4dENoYXJDb3VudCA8IGNoYXJDb3VudCkge1xuICAgICAgaWYgKGJhY2tEZWxldGUpIHtcbiAgICAgICAgcmVtb3ZlZFRleHQgPSB0aGlzLl90ZXh0LnNsaWNlKHNlbGVjdGlvbkVuZCArIGNoYXJEaWZmLCBzZWxlY3Rpb25FbmQpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJlbW92ZWRUZXh0ID0gdGhpcy5fdGV4dC5zbGljZShzZWxlY3Rpb25TdGFydCwgc2VsZWN0aW9uU3RhcnQgLSBjaGFyRGlmZik7XG4gICAgICB9XG4gICAgfVxuICAgIGluc2VydGVkVGV4dCA9IG5leHRUZXh0LnNsaWNlKHRleHRhcmVhU2VsZWN0aW9uLnNlbGVjdGlvbkVuZCAtIGNoYXJEaWZmLCB0ZXh0YXJlYVNlbGVjdGlvbi5zZWxlY3Rpb25FbmQpO1xuICAgIGlmIChyZW1vdmVkVGV4dCAmJiByZW1vdmVkVGV4dC5sZW5ndGgpIHtcbiAgICAgIGlmIChpbnNlcnRlZFRleHQubGVuZ3RoKSB7XG4gICAgICAgIC8vIGxldCdzIGNvcHkgc29tZSBzdHlsZSBiZWZvcmUgZGVsZXRpbmcuXG4gICAgICAgIC8vIHdlIHdhbnQgdG8gY29weSB0aGUgc3R5bGUgYmVmb3JlIHRoZSBjdXJzb3IgT1IgdGhlIHN0eWxlIGF0IHRoZSBjdXJzb3IgaWYgc2VsZWN0aW9uXG4gICAgICAgIC8vIGlzIGJpZ2dlciB0aGFuIDAuXG4gICAgICAgIGNvcGllZFN0eWxlID0gdGhpcy5nZXRTZWxlY3Rpb25TdHlsZXMoc2VsZWN0aW9uU3RhcnQsIHNlbGVjdGlvblN0YXJ0ICsgMSwgZmFsc2UpO1xuICAgICAgICAvLyBub3cgZHVwbGljYXRlIHRoZSBzdHlsZSBvbmUgZm9yIGVhY2ggaW5zZXJ0ZWQgdGV4dC5cbiAgICAgICAgY29waWVkU3R5bGUgPSBpbnNlcnRlZFRleHQubWFwKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIC8vIHRoaXMgcmV0dXJuIGFuIGFycmF5IG9mIHJlZmVyZW5jZXMsIGJ1dCB0aGF0IGlzIGZpbmUgc2luY2Ugd2UgYXJlXG4gICAgICAgICAgLy8gY29weWluZyB0aGUgc3R5bGUgbGF0ZXIuXG4gICAgICAgICAgcmV0dXJuIGNvcGllZFN0eWxlWzBdO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChzZWxlY3Rpb24pIHtcbiAgICAgICAgcmVtb3ZlRnJvbSA9IHNlbGVjdGlvblN0YXJ0O1xuICAgICAgICByZW1vdmVUbyA9IHNlbGVjdGlvbkVuZDtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGJhY2tEZWxldGUpIHtcbiAgICAgICAgLy8gZGV0ZWN0IGRpZmZlcmVuY2VzIGJldHdlZW4gZm9yd2FyZERlbGV0ZSBhbmQgYmFja0RlbGV0ZVxuICAgICAgICByZW1vdmVGcm9tID0gc2VsZWN0aW9uRW5kIC0gcmVtb3ZlZFRleHQubGVuZ3RoO1xuICAgICAgICByZW1vdmVUbyA9IHNlbGVjdGlvbkVuZDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZW1vdmVGcm9tID0gc2VsZWN0aW9uRW5kO1xuICAgICAgICByZW1vdmVUbyA9IHNlbGVjdGlvbkVuZCArIHJlbW92ZWRUZXh0Lmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIHRoaXMucmVtb3ZlU3R5bGVGcm9tVG8ocmVtb3ZlRnJvbSwgcmVtb3ZlVG8pO1xuICAgIH1cbiAgICBpZiAoaW5zZXJ0ZWRUZXh0Lmxlbmd0aCkge1xuICAgICAgaWYgKGZyb21QYXN0ZSAmJiBpbnNlcnRlZFRleHQuam9pbignJykgPT09IGZhYnJpYy5jb3BpZWRUZXh0ICYmICFmYWJyaWMuZGlzYWJsZVN0eWxlQ29weVBhc3RlKSB7XG4gICAgICAgIGNvcGllZFN0eWxlID0gZmFicmljLmNvcGllZFRleHRTdHlsZTtcbiAgICAgIH1cbiAgICAgIHRoaXMuaW5zZXJ0TmV3U3R5bGVCbG9jayhpbnNlcnRlZFRleHQsIHNlbGVjdGlvblN0YXJ0LCBjb3BpZWRTdHlsZSk7XG4gICAgfVxuICAgIHRoaXMudXBkYXRlRnJvbVRleHRBcmVhKCk7XG4gICAgdGhpcy5maXJlKCdjaGFuZ2VkJyk7XG4gICAgaWYgKHRoaXMuY2FudmFzKSB7XG4gICAgICB0aGlzLmNhbnZhcy5maXJlKCd0ZXh0OmNoYW5nZWQnLCB7IHRhcmdldDogdGhpcyB9KTtcbiAgICAgIHRoaXMuY2FudmFzLnJlcXVlc3RSZW5kZXJBbGwoKTtcbiAgICB9XG4gIH0sXG4gIC8qKlxuICAgKiBDb21wb3NpdGlvbiBzdGFydFxuICAgKi9cbiAgb25Db21wb3NpdGlvblN0YXJ0OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmluQ29tcG9zaXRpb25Nb2RlID0gdHJ1ZTtcbiAgfSxcblxuICAvKipcbiAgICogQ29tcG9zaXRpb24gZW5kXG4gICAqL1xuICBvbkNvbXBvc2l0aW9uRW5kOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmluQ29tcG9zaXRpb25Nb2RlID0gZmFsc2U7XG4gIH0sXG5cbiAgLy8gLyoqXG4gIC8vICAqIENvbXBvc2l0aW9uIHVwZGF0ZVxuICAvLyAgKi9cbiAgb25Db21wb3NpdGlvblVwZGF0ZTogZnVuY3Rpb24oZSkge1xuICAgIHRoaXMuY29tcG9zaXRpb25TdGFydCA9IGUudGFyZ2V0LnNlbGVjdGlvblN0YXJ0O1xuICAgIHRoaXMuY29tcG9zaXRpb25FbmQgPSBlLnRhcmdldC5zZWxlY3Rpb25FbmQ7XG4gICAgdGhpcy51cGRhdGVUZXh0YXJlYVBvc2l0aW9uKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENvcGllcyBzZWxlY3RlZCB0ZXh0XG4gICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqL1xuICBjb3B5OiBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5zZWxlY3Rpb25TdGFydCA9PT0gdGhpcy5zZWxlY3Rpb25FbmQpIHtcbiAgICAgIC8vZG8gbm90IGN1dC1jb3B5IGlmIG5vIHNlbGVjdGlvblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZhYnJpYy5jb3BpZWRUZXh0ID0gdGhpcy5nZXRTZWxlY3RlZFRleHQoKTtcbiAgICBpZiAoIWZhYnJpYy5kaXNhYmxlU3R5bGVDb3B5UGFzdGUpIHtcbiAgICAgIGZhYnJpYy5jb3BpZWRUZXh0U3R5bGUgPSB0aGlzLmdldFNlbGVjdGlvblN0eWxlcyh0aGlzLnNlbGVjdGlvblN0YXJ0LCB0aGlzLnNlbGVjdGlvbkVuZCwgdHJ1ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZmFicmljLmNvcGllZFRleHRTdHlsZSA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMuX2NvcHlEb25lID0gdHJ1ZTtcbiAgfSxcblxuICAvKipcbiAgICogUGFzdGVzIHRleHRcbiAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICovXG4gIHBhc3RlOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmZyb21QYXN0ZSA9IHRydWU7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqIEByZXR1cm4ge09iamVjdH0gQ2xpcGJvYXJkIGRhdGEgb2JqZWN0XG4gICAqL1xuICBfZ2V0Q2xpcGJvYXJkRGF0YTogZnVuY3Rpb24oZSkge1xuICAgIHJldHVybiAoZSAmJiBlLmNsaXBib2FyZERhdGEpIHx8IGZhYnJpYy53aW5kb3cuY2xpcGJvYXJkRGF0YTtcbiAgfSxcblxuICAvKipcbiAgICogRmluZHMgdGhlIHdpZHRoIGluIHBpeGVscyBiZWZvcmUgdGhlIGN1cnNvciBvbiB0aGUgc2FtZSBsaW5lXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSW5kZXhcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGNoYXJJbmRleFxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IHdpZHRoQmVmb3JlQ3Vyc29yIHdpZHRoIGJlZm9yZSBjdXJzb3JcbiAgICovXG4gIF9nZXRXaWR0aEJlZm9yZUN1cnNvcjogZnVuY3Rpb24obGluZUluZGV4LCBjaGFySW5kZXgpIHtcbiAgICB2YXIgd2lkdGhCZWZvcmVDdXJzb3IgPSB0aGlzLl9nZXRMaW5lTGVmdE9mZnNldChsaW5lSW5kZXgpLCBib3VuZDtcblxuICAgIGlmIChjaGFySW5kZXggPiAwKSB7XG4gICAgICBib3VuZCA9IHRoaXMuX19jaGFyQm91bmRzW2xpbmVJbmRleF1bY2hhckluZGV4IC0gMV07XG4gICAgICB3aWR0aEJlZm9yZUN1cnNvciArPSBib3VuZC5sZWZ0ICsgYm91bmQud2lkdGg7XG4gICAgfVxuICAgIHJldHVybiB3aWR0aEJlZm9yZUN1cnNvcjtcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyBzdGFydCBvZmZzZXQgb2YgYSBzZWxlY3Rpb25cbiAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICogQHBhcmFtIHtCb29sZWFufSBpc1JpZ2h0XG4gICAqIEByZXR1cm4ge051bWJlcn1cbiAgICovXG4gIGdldERvd25DdXJzb3JPZmZzZXQ6IGZ1bmN0aW9uKGUsIGlzUmlnaHQpIHtcbiAgICB2YXIgc2VsZWN0aW9uUHJvcCA9IHRoaXMuX2dldFNlbGVjdGlvbkZvck9mZnNldChlLCBpc1JpZ2h0KSxcbiAgICAgICAgY3Vyc29yTG9jYXRpb24gPSB0aGlzLmdldDJEQ3Vyc29yTG9jYXRpb24oc2VsZWN0aW9uUHJvcCksXG4gICAgICAgIGxpbmVJbmRleCA9IGN1cnNvckxvY2F0aW9uLmxpbmVJbmRleDtcbiAgICAvLyBpZiBvbiBsYXN0IGxpbmUsIGRvd24gY3Vyc29yIGdvZXMgdG8gZW5kIG9mIGxpbmVcbiAgICBpZiAobGluZUluZGV4ID09PSB0aGlzLl90ZXh0TGluZXMubGVuZ3RoIC0gMSB8fCBlLm1ldGFLZXkgfHwgZS5rZXlDb2RlID09PSAzNCkge1xuICAgICAgLy8gbW92ZSB0byB0aGUgZW5kIG9mIGEgdGV4dFxuICAgICAgcmV0dXJuIHRoaXMuX3RleHQubGVuZ3RoIC0gc2VsZWN0aW9uUHJvcDtcbiAgICB9XG4gICAgdmFyIGNoYXJJbmRleCA9IGN1cnNvckxvY2F0aW9uLmNoYXJJbmRleCxcbiAgICAgICAgd2lkdGhCZWZvcmVDdXJzb3IgPSB0aGlzLl9nZXRXaWR0aEJlZm9yZUN1cnNvcihsaW5lSW5kZXgsIGNoYXJJbmRleCksXG4gICAgICAgIGluZGV4T25PdGhlckxpbmUgPSB0aGlzLl9nZXRJbmRleE9uTGluZShsaW5lSW5kZXggKyAxLCB3aWR0aEJlZm9yZUN1cnNvciksXG4gICAgICAgIHRleHRBZnRlckN1cnNvciA9IHRoaXMuX3RleHRMaW5lc1tsaW5lSW5kZXhdLnNsaWNlKGNoYXJJbmRleCk7XG4gICAgcmV0dXJuIHRleHRBZnRlckN1cnNvci5sZW5ndGggKyBpbmRleE9uT3RoZXJMaW5lICsgMSArIHRoaXMubWlzc2luZ05ld2xpbmVPZmZzZXQobGluZUluZGV4KTtcbiAgfSxcblxuICAvKipcbiAgICogcHJpdmF0ZVxuICAgKiBIZWxwcyBmaW5kaW5nIGlmIHRoZSBvZmZzZXQgc2hvdWxkIGJlIGNvdW50ZWQgZnJvbSBTdGFydCBvciBFbmRcbiAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICogQHBhcmFtIHtCb29sZWFufSBpc1JpZ2h0XG4gICAqIEByZXR1cm4ge051bWJlcn1cbiAgICovXG4gIF9nZXRTZWxlY3Rpb25Gb3JPZmZzZXQ6IGZ1bmN0aW9uKGUsIGlzUmlnaHQpIHtcbiAgICBpZiAoZS5zaGlmdEtleSAmJiB0aGlzLnNlbGVjdGlvblN0YXJ0ICE9PSB0aGlzLnNlbGVjdGlvbkVuZCAmJiBpc1JpZ2h0KSB7XG4gICAgICByZXR1cm4gdGhpcy5zZWxlY3Rpb25FbmQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0aW9uU3RhcnQ7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGlzUmlnaHRcbiAgICogQHJldHVybiB7TnVtYmVyfVxuICAgKi9cbiAgZ2V0VXBDdXJzb3JPZmZzZXQ6IGZ1bmN0aW9uKGUsIGlzUmlnaHQpIHtcbiAgICB2YXIgc2VsZWN0aW9uUHJvcCA9IHRoaXMuX2dldFNlbGVjdGlvbkZvck9mZnNldChlLCBpc1JpZ2h0KSxcbiAgICAgICAgY3Vyc29yTG9jYXRpb24gPSB0aGlzLmdldDJEQ3Vyc29yTG9jYXRpb24oc2VsZWN0aW9uUHJvcCksXG4gICAgICAgIGxpbmVJbmRleCA9IGN1cnNvckxvY2F0aW9uLmxpbmVJbmRleDtcbiAgICBpZiAobGluZUluZGV4ID09PSAwIHx8IGUubWV0YUtleSB8fCBlLmtleUNvZGUgPT09IDMzKSB7XG4gICAgICAvLyBpZiBvbiBmaXJzdCBsaW5lLCB1cCBjdXJzb3IgZ29lcyB0byBzdGFydCBvZiBsaW5lXG4gICAgICByZXR1cm4gLXNlbGVjdGlvblByb3A7XG4gICAgfVxuICAgIHZhciBjaGFySW5kZXggPSBjdXJzb3JMb2NhdGlvbi5jaGFySW5kZXgsXG4gICAgICAgIHdpZHRoQmVmb3JlQ3Vyc29yID0gdGhpcy5fZ2V0V2lkdGhCZWZvcmVDdXJzb3IobGluZUluZGV4LCBjaGFySW5kZXgpLFxuICAgICAgICBpbmRleE9uT3RoZXJMaW5lID0gdGhpcy5fZ2V0SW5kZXhPbkxpbmUobGluZUluZGV4IC0gMSwgd2lkdGhCZWZvcmVDdXJzb3IpLFxuICAgICAgICB0ZXh0QmVmb3JlQ3Vyc29yID0gdGhpcy5fdGV4dExpbmVzW2xpbmVJbmRleF0uc2xpY2UoMCwgY2hhckluZGV4KSxcbiAgICAgICAgbWlzc2luZ05ld2xpbmVPZmZzZXQgPSB0aGlzLm1pc3NpbmdOZXdsaW5lT2Zmc2V0KGxpbmVJbmRleCAtIDEpO1xuICAgIC8vIHJldHVybiBhIG5lZ2F0aXZlIG9mZnNldFxuICAgIHJldHVybiAtdGhpcy5fdGV4dExpbmVzW2xpbmVJbmRleCAtIDFdLmxlbmd0aFxuICAgICArIGluZGV4T25PdGhlckxpbmUgLSB0ZXh0QmVmb3JlQ3Vyc29yLmxlbmd0aCArICgxIC0gbWlzc2luZ05ld2xpbmVPZmZzZXQpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBmb3IgYSBnaXZlbiB3aWR0aCBpdCBmb3VuZHMgdGhlIG1hdGNoaW5nIGNoYXJhY3Rlci5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9nZXRJbmRleE9uTGluZTogZnVuY3Rpb24obGluZUluZGV4LCB3aWR0aCkge1xuXG4gICAgdmFyIGxpbmUgPSB0aGlzLl90ZXh0TGluZXNbbGluZUluZGV4XSxcbiAgICAgICAgbGluZUxlZnRPZmZzZXQgPSB0aGlzLl9nZXRMaW5lTGVmdE9mZnNldChsaW5lSW5kZXgpLFxuICAgICAgICB3aWR0aE9mQ2hhcnNPbkxpbmUgPSBsaW5lTGVmdE9mZnNldCxcbiAgICAgICAgaW5kZXhPbkxpbmUgPSAwLCBjaGFyV2lkdGgsIGZvdW5kTWF0Y2g7XG5cbiAgICBmb3IgKHZhciBqID0gMCwgamxlbiA9IGxpbmUubGVuZ3RoOyBqIDwgamxlbjsgaisrKSB7XG4gICAgICBjaGFyV2lkdGggPSB0aGlzLl9fY2hhckJvdW5kc1tsaW5lSW5kZXhdW2pdLndpZHRoO1xuICAgICAgd2lkdGhPZkNoYXJzT25MaW5lICs9IGNoYXJXaWR0aDtcbiAgICAgIGlmICh3aWR0aE9mQ2hhcnNPbkxpbmUgPiB3aWR0aCkge1xuICAgICAgICBmb3VuZE1hdGNoID0gdHJ1ZTtcbiAgICAgICAgdmFyIGxlZnRFZGdlID0gd2lkdGhPZkNoYXJzT25MaW5lIC0gY2hhcldpZHRoLFxuICAgICAgICAgICAgcmlnaHRFZGdlID0gd2lkdGhPZkNoYXJzT25MaW5lLFxuICAgICAgICAgICAgb2Zmc2V0RnJvbUxlZnRFZGdlID0gTWF0aC5hYnMobGVmdEVkZ2UgLSB3aWR0aCksXG4gICAgICAgICAgICBvZmZzZXRGcm9tUmlnaHRFZGdlID0gTWF0aC5hYnMocmlnaHRFZGdlIC0gd2lkdGgpO1xuXG4gICAgICAgIGluZGV4T25MaW5lID0gb2Zmc2V0RnJvbVJpZ2h0RWRnZSA8IG9mZnNldEZyb21MZWZ0RWRnZSA/IGogOiAoaiAtIDEpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyByZWFjaGVkIGVuZFxuICAgIGlmICghZm91bmRNYXRjaCkge1xuICAgICAgaW5kZXhPbkxpbmUgPSBsaW5lLmxlbmd0aCAtIDE7XG4gICAgfVxuXG4gICAgcmV0dXJuIGluZGV4T25MaW5lO1xuICB9LFxuXG5cbiAgLyoqXG4gICAqIE1vdmVzIGN1cnNvciBkb3duXG4gICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqL1xuICBtb3ZlQ3Vyc29yRG93bjogZnVuY3Rpb24oZSkge1xuICAgIGlmICh0aGlzLnNlbGVjdGlvblN0YXJ0ID49IHRoaXMuX3RleHQubGVuZ3RoICYmIHRoaXMuc2VsZWN0aW9uRW5kID49IHRoaXMuX3RleHQubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX21vdmVDdXJzb3JVcE9yRG93bignRG93bicsIGUpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBNb3ZlcyBjdXJzb3IgdXBcbiAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICovXG4gIG1vdmVDdXJzb3JVcDogZnVuY3Rpb24oZSkge1xuICAgIGlmICh0aGlzLnNlbGVjdGlvblN0YXJ0ID09PSAwICYmIHRoaXMuc2VsZWN0aW9uRW5kID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX21vdmVDdXJzb3JVcE9yRG93bignVXAnLCBlKTtcbiAgfSxcblxuICAvKipcbiAgICogTW92ZXMgY3Vyc29yIHVwIG9yIGRvd24sIGZpcmVzIHRoZSBldmVudHNcbiAgICogQHBhcmFtIHtTdHJpbmd9IGRpcmVjdGlvbiAnVXAnIG9yICdEb3duJ1xuICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKi9cbiAgX21vdmVDdXJzb3JVcE9yRG93bjogZnVuY3Rpb24oZGlyZWN0aW9uLCBlKSB7XG4gICAgLy8gZ2V0VXBDdXJzb3JPZmZzZXRcbiAgICAvLyBnZXREb3duQ3Vyc29yT2Zmc2V0XG4gICAgdmFyIGFjdGlvbiA9ICdnZXQnICsgZGlyZWN0aW9uICsgJ0N1cnNvck9mZnNldCcsXG4gICAgICAgIG9mZnNldCA9IHRoaXNbYWN0aW9uXShlLCB0aGlzLl9zZWxlY3Rpb25EaXJlY3Rpb24gPT09ICdyaWdodCcpO1xuICAgIGlmIChlLnNoaWZ0S2V5KSB7XG4gICAgICB0aGlzLm1vdmVDdXJzb3JXaXRoU2hpZnQob2Zmc2V0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLm1vdmVDdXJzb3JXaXRob3V0U2hpZnQob2Zmc2V0KTtcbiAgICB9XG4gICAgaWYgKG9mZnNldCAhPT0gMCkge1xuICAgICAgdGhpcy5zZXRTZWxlY3Rpb25JbkJvdW5kYXJpZXMoKTtcbiAgICAgIHRoaXMuYWJvcnRDdXJzb3JBbmltYXRpb24oKTtcbiAgICAgIHRoaXMuX2N1cnJlbnRDdXJzb3JPcGFjaXR5ID0gMTtcbiAgICAgIHRoaXMuaW5pdERlbGF5ZWRDdXJzb3IoKTtcbiAgICAgIHRoaXMuX2ZpcmVTZWxlY3Rpb25DaGFuZ2VkKCk7XG4gICAgICB0aGlzLl91cGRhdGVUZXh0YXJlYSgpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogTW92ZXMgY3Vyc29yIHdpdGggc2hpZnRcbiAgICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldFxuICAgKi9cbiAgbW92ZUN1cnNvcldpdGhTaGlmdDogZnVuY3Rpb24ob2Zmc2V0KSB7XG4gICAgdmFyIG5ld1NlbGVjdGlvbiA9IHRoaXMuX3NlbGVjdGlvbkRpcmVjdGlvbiA9PT0gJ2xlZnQnXG4gICAgICA/IHRoaXMuc2VsZWN0aW9uU3RhcnQgKyBvZmZzZXRcbiAgICAgIDogdGhpcy5zZWxlY3Rpb25FbmQgKyBvZmZzZXQ7XG4gICAgdGhpcy5zZXRTZWxlY3Rpb25TdGFydEVuZFdpdGhTaGlmdCh0aGlzLnNlbGVjdGlvblN0YXJ0LCB0aGlzLnNlbGVjdGlvbkVuZCwgbmV3U2VsZWN0aW9uKTtcbiAgICByZXR1cm4gb2Zmc2V0ICE9PSAwO1xuICB9LFxuXG4gIC8qKlxuICAgKiBNb3ZlcyBjdXJzb3IgdXAgd2l0aG91dCBzaGlmdFxuICAgKiBAcGFyYW0ge051bWJlcn0gb2Zmc2V0XG4gICAqL1xuICBtb3ZlQ3Vyc29yV2l0aG91dFNoaWZ0OiBmdW5jdGlvbihvZmZzZXQpIHtcbiAgICBpZiAob2Zmc2V0IDwgMCkge1xuICAgICAgdGhpcy5zZWxlY3Rpb25TdGFydCArPSBvZmZzZXQ7XG4gICAgICB0aGlzLnNlbGVjdGlvbkVuZCA9IHRoaXMuc2VsZWN0aW9uU3RhcnQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5zZWxlY3Rpb25FbmQgKz0gb2Zmc2V0O1xuICAgICAgdGhpcy5zZWxlY3Rpb25TdGFydCA9IHRoaXMuc2VsZWN0aW9uRW5kO1xuICAgIH1cbiAgICByZXR1cm4gb2Zmc2V0ICE9PSAwO1xuICB9LFxuXG4gIC8qKlxuICAgKiBNb3ZlcyBjdXJzb3IgbGVmdFxuICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKi9cbiAgbW92ZUN1cnNvckxlZnQ6IGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAodGhpcy5zZWxlY3Rpb25TdGFydCA9PT0gMCAmJiB0aGlzLnNlbGVjdGlvbkVuZCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9tb3ZlQ3Vyc29yTGVmdE9yUmlnaHQoJ0xlZnQnLCBlKTtcbiAgfSxcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBhIGNoYW5nZSBoYXBwZW5lZFxuICAgKi9cbiAgX21vdmU6IGZ1bmN0aW9uKGUsIHByb3AsIGRpcmVjdGlvbikge1xuICAgIHZhciBuZXdWYWx1ZTtcbiAgICBpZiAoZS5hbHRLZXkpIHtcbiAgICAgIG5ld1ZhbHVlID0gdGhpc1snZmluZFdvcmRCb3VuZGFyeScgKyBkaXJlY3Rpb25dKHRoaXNbcHJvcF0pO1xuICAgIH1cbiAgICBlbHNlIGlmIChlLm1ldGFLZXkgfHwgZS5rZXlDb2RlID09PSAzNSB8fCAgZS5rZXlDb2RlID09PSAzNiApIHtcbiAgICAgIG5ld1ZhbHVlID0gdGhpc1snZmluZExpbmVCb3VuZGFyeScgKyBkaXJlY3Rpb25dKHRoaXNbcHJvcF0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXNbcHJvcF0gKz0gZGlyZWN0aW9uID09PSAnTGVmdCcgPyAtMSA6IDE7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBuZXdWYWx1ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhpc1twcm9wXSAhPT0gbmV3VmFsdWUpIHtcbiAgICAgIHRoaXNbcHJvcF0gPSBuZXdWYWx1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9tb3ZlTGVmdDogZnVuY3Rpb24oZSwgcHJvcCkge1xuICAgIHJldHVybiB0aGlzLl9tb3ZlKGUsIHByb3AsICdMZWZ0Jyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfbW92ZVJpZ2h0OiBmdW5jdGlvbihlLCBwcm9wKSB7XG4gICAgcmV0dXJuIHRoaXMuX21vdmUoZSwgcHJvcCwgJ1JpZ2h0Jyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIE1vdmVzIGN1cnNvciBsZWZ0IHdpdGhvdXQga2VlcGluZyBzZWxlY3Rpb25cbiAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgKi9cbiAgbW92ZUN1cnNvckxlZnRXaXRob3V0U2hpZnQ6IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgY2hhbmdlID0gdHJ1ZTtcbiAgICB0aGlzLl9zZWxlY3Rpb25EaXJlY3Rpb24gPSAnbGVmdCc7XG5cbiAgICAvLyBvbmx5IG1vdmUgY3Vyc29yIHdoZW4gdGhlcmUgaXMgbm8gc2VsZWN0aW9uLFxuICAgIC8vIG90aGVyd2lzZSB3ZSBkaXNjYXJkIGl0LCBhbmQgbGVhdmUgY3Vyc29yIG9uIHNhbWUgcGxhY2VcbiAgICBpZiAodGhpcy5zZWxlY3Rpb25FbmQgPT09IHRoaXMuc2VsZWN0aW9uU3RhcnQgJiYgdGhpcy5zZWxlY3Rpb25TdGFydCAhPT0gMCkge1xuICAgICAgY2hhbmdlID0gdGhpcy5fbW92ZUxlZnQoZSwgJ3NlbGVjdGlvblN0YXJ0Jyk7XG5cbiAgICB9XG4gICAgdGhpcy5zZWxlY3Rpb25FbmQgPSB0aGlzLnNlbGVjdGlvblN0YXJ0O1xuICAgIHJldHVybiBjaGFuZ2U7XG4gIH0sXG5cbiAgLyoqXG4gICAqIE1vdmVzIGN1cnNvciBsZWZ0IHdoaWxlIGtlZXBpbmcgc2VsZWN0aW9uXG4gICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICovXG4gIG1vdmVDdXJzb3JMZWZ0V2l0aFNoaWZ0OiBmdW5jdGlvbihlKSB7XG4gICAgaWYgKHRoaXMuX3NlbGVjdGlvbkRpcmVjdGlvbiA9PT0gJ3JpZ2h0JyAmJiB0aGlzLnNlbGVjdGlvblN0YXJ0ICE9PSB0aGlzLnNlbGVjdGlvbkVuZCkge1xuICAgICAgcmV0dXJuIHRoaXMuX21vdmVMZWZ0KGUsICdzZWxlY3Rpb25FbmQnKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodGhpcy5zZWxlY3Rpb25TdGFydCAhPT0gMCl7XG4gICAgICB0aGlzLl9zZWxlY3Rpb25EaXJlY3Rpb24gPSAnbGVmdCc7XG4gICAgICByZXR1cm4gdGhpcy5fbW92ZUxlZnQoZSwgJ3NlbGVjdGlvblN0YXJ0Jyk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBNb3ZlcyBjdXJzb3IgcmlnaHRcbiAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICovXG4gIG1vdmVDdXJzb3JSaWdodDogZnVuY3Rpb24oZSkge1xuICAgIGlmICh0aGlzLnNlbGVjdGlvblN0YXJ0ID49IHRoaXMuX3RleHQubGVuZ3RoICYmIHRoaXMuc2VsZWN0aW9uRW5kID49IHRoaXMuX3RleHQubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX21vdmVDdXJzb3JMZWZ0T3JSaWdodCgnUmlnaHQnLCBlKTtcbiAgfSxcblxuICAvKipcbiAgICogTW92ZXMgY3Vyc29yIHJpZ2h0IG9yIExlZnQsIGZpcmVzIGV2ZW50XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBkaXJlY3Rpb24gJ0xlZnQnLCAnUmlnaHQnXG4gICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqL1xuICBfbW92ZUN1cnNvckxlZnRPclJpZ2h0OiBmdW5jdGlvbihkaXJlY3Rpb24sIGUpIHtcbiAgICB2YXIgYWN0aW9uTmFtZSA9ICdtb3ZlQ3Vyc29yJyArIGRpcmVjdGlvbiArICdXaXRoJztcbiAgICB0aGlzLl9jdXJyZW50Q3Vyc29yT3BhY2l0eSA9IDE7XG5cbiAgICBpZiAoZS5zaGlmdEtleSkge1xuICAgICAgYWN0aW9uTmFtZSArPSAnU2hpZnQnO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGFjdGlvbk5hbWUgKz0gJ291dFNoaWZ0JztcbiAgICB9XG4gICAgaWYgKHRoaXNbYWN0aW9uTmFtZV0oZSkpIHtcbiAgICAgIHRoaXMuYWJvcnRDdXJzb3JBbmltYXRpb24oKTtcbiAgICAgIHRoaXMuaW5pdERlbGF5ZWRDdXJzb3IoKTtcbiAgICAgIHRoaXMuX2ZpcmVTZWxlY3Rpb25DaGFuZ2VkKCk7XG4gICAgICB0aGlzLl91cGRhdGVUZXh0YXJlYSgpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogTW92ZXMgY3Vyc29yIHJpZ2h0IHdoaWxlIGtlZXBpbmcgc2VsZWN0aW9uXG4gICAqIEBwYXJhbSB7RXZlbnR9IGVcbiAgICovXG4gIG1vdmVDdXJzb3JSaWdodFdpdGhTaGlmdDogZnVuY3Rpb24oZSkge1xuICAgIGlmICh0aGlzLl9zZWxlY3Rpb25EaXJlY3Rpb24gPT09ICdsZWZ0JyAmJiB0aGlzLnNlbGVjdGlvblN0YXJ0ICE9PSB0aGlzLnNlbGVjdGlvbkVuZCkge1xuICAgICAgcmV0dXJuIHRoaXMuX21vdmVSaWdodChlLCAnc2VsZWN0aW9uU3RhcnQnKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodGhpcy5zZWxlY3Rpb25FbmQgIT09IHRoaXMuX3RleHQubGVuZ3RoKSB7XG4gICAgICB0aGlzLl9zZWxlY3Rpb25EaXJlY3Rpb24gPSAncmlnaHQnO1xuICAgICAgcmV0dXJuIHRoaXMuX21vdmVSaWdodChlLCAnc2VsZWN0aW9uRW5kJyk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBNb3ZlcyBjdXJzb3IgcmlnaHQgd2l0aG91dCBrZWVwaW5nIHNlbGVjdGlvblxuICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKi9cbiAgbW92ZUN1cnNvclJpZ2h0V2l0aG91dFNoaWZ0OiBmdW5jdGlvbihlKSB7XG4gICAgdmFyIGNoYW5nZWQgPSB0cnVlO1xuICAgIHRoaXMuX3NlbGVjdGlvbkRpcmVjdGlvbiA9ICdyaWdodCc7XG5cbiAgICBpZiAodGhpcy5zZWxlY3Rpb25TdGFydCA9PT0gdGhpcy5zZWxlY3Rpb25FbmQpIHtcbiAgICAgIGNoYW5nZWQgPSB0aGlzLl9tb3ZlUmlnaHQoZSwgJ3NlbGVjdGlvblN0YXJ0Jyk7XG4gICAgICB0aGlzLnNlbGVjdGlvbkVuZCA9IHRoaXMuc2VsZWN0aW9uU3RhcnQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5zZWxlY3Rpb25TdGFydCA9IHRoaXMuc2VsZWN0aW9uRW5kO1xuICAgIH1cbiAgICByZXR1cm4gY2hhbmdlZDtcbiAgfSxcblxuICAvKipcbiAgICogUmVtb3ZlcyBjaGFyYWN0ZXJzIGZyb20gc3RhcnQvZW5kXG4gICAqIHN0YXJ0L2VuZCBhciBwZXIgZ3JhcGhlbWUgcG9zaXRpb24gaW4gX3RleHQgYXJyYXkuXG4gICAqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBzdGFydFxuICAgKiBAcGFyYW0ge051bWJlcn0gZW5kIGRlZmF1bHQgdG8gc3RhcnQgKyAxXG4gICAqL1xuICByZW1vdmVDaGFyczogZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICAgIGlmICh0eXBlb2YgZW5kID09PSAndW5kZWZpbmVkJykge1xuICAgICAgZW5kID0gc3RhcnQgKyAxO1xuICAgIH1cbiAgICB0aGlzLnJlbW92ZVN0eWxlRnJvbVRvKHN0YXJ0LCBlbmQpO1xuICAgIHRoaXMuX3RleHQuc3BsaWNlKHN0YXJ0LCBlbmQgLSBzdGFydCk7XG4gICAgdGhpcy50ZXh0ID0gdGhpcy5fdGV4dC5qb2luKCcnKTtcbiAgICB0aGlzLnNldCgnZGlydHknLCB0cnVlKTtcbiAgICBpZiAodGhpcy5fc2hvdWxkQ2xlYXJEaW1lbnNpb25DYWNoZSgpKSB7XG4gICAgICB0aGlzLmluaXREaW1lbnNpb25zKCk7XG4gICAgICB0aGlzLnNldENvb3JkcygpO1xuICAgIH1cbiAgICB0aGlzLl9yZW1vdmVFeHRyYW5lb3VzU3R5bGVzKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIGluc2VydCBjaGFyYWN0ZXJzIGF0IHN0YXJ0IHBvc2l0aW9uLCBiZWZvcmUgc3RhcnQgcG9zaXRpb24uXG4gICAqIHN0YXJ0ICBlcXVhbCAxIGl0IG1lYW5zIHRoZSB0ZXh0IGdldCBpbnNlcnRlZCBiZXR3ZWVuIGFjdHVhbCBncmFwaGVtZSAwIGFuZCAxXG4gICAqIGlmIHN0eWxlIGFycmF5IGlzIHByb3ZpZGVkLCBpdCBtdXN0IGJlIGFzIHRoZSBzYW1lIGxlbmd0aCBvZiB0ZXh0IGluIGdyYXBoZW1lc1xuICAgKiBpZiBlbmQgaXMgcHJvdmlkZWQgYW5kIGlzIGJpZ2dlciB0aGFuIHN0YXJ0LCBvbGQgdGV4dCBpcyByZXBsYWNlZC5cbiAgICogc3RhcnQvZW5kIGFyIHBlciBncmFwaGVtZSBwb3NpdGlvbiBpbiBfdGV4dCBhcnJheS5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IHRleHQgdGV4dCB0byBpbnNlcnRcbiAgICogQHBhcmFtIHtBcnJheX0gc3R5bGUgYXJyYXkgb2Ygc3R5bGUgb2JqZWN0c1xuICAgKiBAcGFyYW0ge051bWJlcn0gc3RhcnRcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGVuZCBkZWZhdWx0IHRvIHN0YXJ0ICsgMVxuICAgKi9cbiAgaW5zZXJ0Q2hhcnM6IGZ1bmN0aW9uKHRleHQsIHN0eWxlLCBzdGFydCwgZW5kKSB7XG4gICAgaWYgKHR5cGVvZiBlbmQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBlbmQgPSBzdGFydDtcbiAgICB9XG4gICAgaWYgKGVuZCA+IHN0YXJ0KSB7XG4gICAgICB0aGlzLnJlbW92ZVN0eWxlRnJvbVRvKHN0YXJ0LCBlbmQpO1xuICAgIH1cbiAgICB2YXIgZ3JhcGhlbWVzID0gZmFicmljLnV0aWwuc3RyaW5nLmdyYXBoZW1lU3BsaXQodGV4dCk7XG4gICAgdGhpcy5pbnNlcnROZXdTdHlsZUJsb2NrKGdyYXBoZW1lcywgc3RhcnQsIHN0eWxlKTtcbiAgICB0aGlzLl90ZXh0ID0gW10uY29uY2F0KHRoaXMuX3RleHQuc2xpY2UoMCwgc3RhcnQpLCBncmFwaGVtZXMsIHRoaXMuX3RleHQuc2xpY2UoZW5kKSk7XG4gICAgdGhpcy50ZXh0ID0gdGhpcy5fdGV4dC5qb2luKCcnKTtcbiAgICB0aGlzLnNldCgnZGlydHknLCB0cnVlKTtcbiAgICBpZiAodGhpcy5fc2hvdWxkQ2xlYXJEaW1lbnNpb25DYWNoZSgpKSB7XG4gICAgICB0aGlzLmluaXREaW1lbnNpb25zKCk7XG4gICAgICB0aGlzLnNldENvb3JkcygpO1xuICAgIH1cbiAgICB0aGlzLl9yZW1vdmVFeHRyYW5lb3VzU3R5bGVzKCk7XG4gIH0sXG5cbn0pO1xuXG5cbi8qIF9UT19TVkdfU1RBUlRfICovXG4oZnVuY3Rpb24oKSB7XG4gIHZhciB0b0ZpeGVkID0gZmFicmljLnV0aWwudG9GaXhlZCxcbiAgICAgIG11bHRpcGxlU3BhY2VzUmVnZXggPSAvICArL2c7XG5cbiAgZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZChmYWJyaWMuVGV4dC5wcm90b3R5cGUsIC8qKiBAbGVuZHMgZmFicmljLlRleHQucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgU1ZHIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3Jldml2ZXJdIE1ldGhvZCBmb3IgZnVydGhlciBwYXJzaW5nIG9mIHN2ZyByZXByZXNlbnRhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IHN2ZyByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIF90b1NWRzogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgb2Zmc2V0cyA9IHRoaXMuX2dldFNWR0xlZnRUb3BPZmZzZXRzKCksXG4gICAgICAgICAgdGV4dEFuZEJnID0gdGhpcy5fZ2V0U1ZHVGV4dEFuZEJnKG9mZnNldHMudGV4dFRvcCwgb2Zmc2V0cy50ZXh0TGVmdCk7XG4gICAgICByZXR1cm4gdGhpcy5fd3JhcFNWR1RleHRBbmRCZyh0ZXh0QW5kQmcpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHN2ZyByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXZpdmVyXSBNZXRob2QgZm9yIGZ1cnRoZXIgcGFyc2luZyBvZiBzdmcgcmVwcmVzZW50YXRpb24uXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBzdmcgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b1NWRzogZnVuY3Rpb24ocmV2aXZlcikge1xuICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZUJhc2VTVkdNYXJrdXAoXG4gICAgICAgIHRoaXMuX3RvU1ZHKCksXG4gICAgICAgIHsgcmV2aXZlcjogcmV2aXZlciwgbm9TdHlsZTogdHJ1ZSwgd2l0aFNoYWRvdzogdHJ1ZSB9XG4gICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZXRTVkdMZWZ0VG9wT2Zmc2V0czogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0ZXh0TGVmdDogLXRoaXMud2lkdGggLyAyLFxuICAgICAgICB0ZXh0VG9wOiAtdGhpcy5oZWlnaHQgLyAyLFxuICAgICAgICBsaW5lVG9wOiB0aGlzLmdldEhlaWdodE9mTGluZSgwKVxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfd3JhcFNWR1RleHRBbmRCZzogZnVuY3Rpb24odGV4dEFuZEJnKSB7XG4gICAgICB2YXIgbm9TaGFkb3cgPSB0cnVlLFxuICAgICAgICAgIHRleHREZWNvcmF0aW9uID0gdGhpcy5nZXRTdmdUZXh0RGVjb3JhdGlvbih0aGlzKTtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIHRleHRBbmRCZy50ZXh0QmdSZWN0cy5qb2luKCcnKSxcbiAgICAgICAgJ1xcdFxcdDx0ZXh0IHhtbDpzcGFjZT1cInByZXNlcnZlXCIgJyxcbiAgICAgICAgKHRoaXMuZm9udEZhbWlseSA/ICdmb250LWZhbWlseT1cIicgKyB0aGlzLmZvbnRGYW1pbHkucmVwbGFjZSgvXCIvZywgJ1xcJycpICsgJ1wiICcgOiAnJyksXG4gICAgICAgICh0aGlzLmZvbnRTaXplID8gJ2ZvbnQtc2l6ZT1cIicgKyB0aGlzLmZvbnRTaXplICsgJ1wiICcgOiAnJyksXG4gICAgICAgICh0aGlzLmZvbnRTdHlsZSA/ICdmb250LXN0eWxlPVwiJyArIHRoaXMuZm9udFN0eWxlICsgJ1wiICcgOiAnJyksXG4gICAgICAgICh0aGlzLmZvbnRXZWlnaHQgPyAnZm9udC13ZWlnaHQ9XCInICsgdGhpcy5mb250V2VpZ2h0ICsgJ1wiICcgOiAnJyksXG4gICAgICAgICh0ZXh0RGVjb3JhdGlvbiA/ICd0ZXh0LWRlY29yYXRpb249XCInICsgdGV4dERlY29yYXRpb24gKyAnXCIgJyA6ICcnKSxcbiAgICAgICAgJ3N0eWxlPVwiJywgdGhpcy5nZXRTdmdTdHlsZXMobm9TaGFkb3cpLCAnXCInLCB0aGlzLmFkZFBhaW50T3JkZXIoKSwgJyA+JyxcbiAgICAgICAgdGV4dEFuZEJnLnRleHRTcGFucy5qb2luKCcnKSxcbiAgICAgICAgJzwvdGV4dD5cXG4nXG4gICAgICBdO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0ZXh0VG9wT2Zmc2V0IFRleHQgdG9wIG9mZnNldFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0ZXh0TGVmdE9mZnNldCBUZXh0IGxlZnQgb2Zmc2V0XG4gICAgICogQHJldHVybiB7T2JqZWN0fVxuICAgICAqL1xuICAgIF9nZXRTVkdUZXh0QW5kQmc6IGZ1bmN0aW9uKHRleHRUb3BPZmZzZXQsIHRleHRMZWZ0T2Zmc2V0KSB7XG4gICAgICB2YXIgdGV4dFNwYW5zID0gW10sXG4gICAgICAgICAgdGV4dEJnUmVjdHMgPSBbXSxcbiAgICAgICAgICBoZWlnaHQgPSB0ZXh0VG9wT2Zmc2V0LCBsaW5lT2Zmc2V0O1xuICAgICAgLy8gYm91bmRpbmctYm94IGJhY2tncm91bmRcbiAgICAgIHRoaXMuX3NldFNWR0JnKHRleHRCZ1JlY3RzKTtcblxuICAgICAgLy8gdGV4dCBhbmQgdGV4dC1iYWNrZ3JvdW5kXG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5fdGV4dExpbmVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGxpbmVPZmZzZXQgPSB0aGlzLl9nZXRMaW5lTGVmdE9mZnNldChpKTtcbiAgICAgICAgaWYgKHRoaXMudGV4dEJhY2tncm91bmRDb2xvciB8fCB0aGlzLnN0eWxlSGFzKCd0ZXh0QmFja2dyb3VuZENvbG9yJywgaSkpIHtcbiAgICAgICAgICB0aGlzLl9zZXRTVkdUZXh0TGluZUJnKHRleHRCZ1JlY3RzLCBpLCB0ZXh0TGVmdE9mZnNldCArIGxpbmVPZmZzZXQsIGhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc2V0U1ZHVGV4dExpbmVUZXh0KHRleHRTcGFucywgaSwgdGV4dExlZnRPZmZzZXQgKyBsaW5lT2Zmc2V0LCBoZWlnaHQpO1xuICAgICAgICBoZWlnaHQgKz0gdGhpcy5nZXRIZWlnaHRPZkxpbmUoaSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRleHRTcGFuczogdGV4dFNwYW5zLFxuICAgICAgICB0ZXh0QmdSZWN0czogdGV4dEJnUmVjdHNcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2NyZWF0ZVRleHRDaGFyU3BhbjogZnVuY3Rpb24oX2NoYXIsIHN0eWxlRGVjbCwgbGVmdCwgdG9wKSB7XG4gICAgICB2YXIgc2hvdWxkVXNlV2hpdGVzcGFjZSA9IF9jaGFyICE9PSBfY2hhci50cmltKCkgfHwgX2NoYXIubWF0Y2gobXVsdGlwbGVTcGFjZXNSZWdleCksXG4gICAgICAgICAgc3R5bGVQcm9wcyA9IHRoaXMuZ2V0U3ZnU3BhblN0eWxlcyhzdHlsZURlY2wsIHNob3VsZFVzZVdoaXRlc3BhY2UpLFxuICAgICAgICAgIGZpbGxTdHlsZXMgPSBzdHlsZVByb3BzID8gJ3N0eWxlPVwiJyArIHN0eWxlUHJvcHMgKyAnXCInIDogJycsXG4gICAgICAgICAgZHkgPSBzdHlsZURlY2wuZGVsdGFZLCBkeVNwYW4gPSAnJyxcbiAgICAgICAgICBOVU1fRlJBQ1RJT05fRElHSVRTID0gZmFicmljLk9iamVjdC5OVU1fRlJBQ1RJT05fRElHSVRTO1xuICAgICAgaWYgKGR5KSB7XG4gICAgICAgIGR5U3BhbiA9ICcgZHk9XCInICsgdG9GaXhlZChkeSwgTlVNX0ZSQUNUSU9OX0RJR0lUUykgKyAnXCIgJztcbiAgICAgIH1cbiAgICAgIHJldHVybiBbXG4gICAgICAgICc8dHNwYW4geD1cIicsIHRvRml4ZWQobGVmdCwgTlVNX0ZSQUNUSU9OX0RJR0lUUyksICdcIiB5PVwiJyxcbiAgICAgICAgdG9GaXhlZCh0b3AsIE5VTV9GUkFDVElPTl9ESUdJVFMpLCAnXCIgJywgZHlTcGFuLFxuICAgICAgICBmaWxsU3R5bGVzLCAnPicsXG4gICAgICAgIGZhYnJpYy51dGlsLnN0cmluZy5lc2NhcGVYbWwoX2NoYXIpLFxuICAgICAgICAnPC90c3Bhbj4nXG4gICAgICBdLmpvaW4oJycpO1xuICAgIH0sXG5cbiAgICBfc2V0U1ZHVGV4dExpbmVUZXh0OiBmdW5jdGlvbih0ZXh0U3BhbnMsIGxpbmVJbmRleCwgdGV4dExlZnRPZmZzZXQsIHRleHRUb3BPZmZzZXQpIHtcbiAgICAgIC8vIHNldCBwcm9wZXIgbGluZSBvZmZzZXRcbiAgICAgIHZhciBsaW5lSGVpZ2h0ID0gdGhpcy5nZXRIZWlnaHRPZkxpbmUobGluZUluZGV4KSxcbiAgICAgICAgICBpc0p1c3RpZnkgPSB0aGlzLnRleHRBbGlnbi5pbmRleE9mKCdqdXN0aWZ5JykgIT09IC0xLFxuICAgICAgICAgIGFjdHVhbFN0eWxlLFxuICAgICAgICAgIG5leHRTdHlsZSxcbiAgICAgICAgICBjaGFyc1RvUmVuZGVyID0gJycsXG4gICAgICAgICAgY2hhckJveCwgc3R5bGUsXG4gICAgICAgICAgYm94V2lkdGggPSAwLFxuICAgICAgICAgIGxpbmUgPSB0aGlzLl90ZXh0TGluZXNbbGluZUluZGV4XSxcbiAgICAgICAgICB0aW1lVG9SZW5kZXI7XG5cbiAgICAgIHRleHRUb3BPZmZzZXQgKz0gbGluZUhlaWdodCAqICgxIC0gdGhpcy5fZm9udFNpemVGcmFjdGlvbikgLyB0aGlzLmxpbmVIZWlnaHQ7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gbGluZS5sZW5ndGggLSAxOyBpIDw9IGxlbjsgaSsrKSB7XG4gICAgICAgIHRpbWVUb1JlbmRlciA9IGkgPT09IGxlbiB8fCB0aGlzLmNoYXJTcGFjaW5nO1xuICAgICAgICBjaGFyc1RvUmVuZGVyICs9IGxpbmVbaV07XG4gICAgICAgIGNoYXJCb3ggPSB0aGlzLl9fY2hhckJvdW5kc1tsaW5lSW5kZXhdW2ldO1xuICAgICAgICBpZiAoYm94V2lkdGggPT09IDApIHtcbiAgICAgICAgICB0ZXh0TGVmdE9mZnNldCArPSBjaGFyQm94Lmtlcm5lZFdpZHRoIC0gY2hhckJveC53aWR0aDtcbiAgICAgICAgICBib3hXaWR0aCArPSBjaGFyQm94LndpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGJveFdpZHRoICs9IGNoYXJCb3gua2VybmVkV2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzSnVzdGlmeSAmJiAhdGltZVRvUmVuZGVyKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX3JlU3BhY2VBbmRUYWIudGVzdChsaW5lW2ldKSkge1xuICAgICAgICAgICAgdGltZVRvUmVuZGVyID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aW1lVG9SZW5kZXIpIHtcbiAgICAgICAgICAvLyBpZiB3ZSBoYXZlIGNoYXJTcGFjaW5nLCB3ZSByZW5kZXIgY2hhciBieSBjaGFyXG4gICAgICAgICAgYWN0dWFsU3R5bGUgPSBhY3R1YWxTdHlsZSB8fCB0aGlzLmdldENvbXBsZXRlU3R5bGVEZWNsYXJhdGlvbihsaW5lSW5kZXgsIGkpO1xuICAgICAgICAgIG5leHRTdHlsZSA9IHRoaXMuZ2V0Q29tcGxldGVTdHlsZURlY2xhcmF0aW9uKGxpbmVJbmRleCwgaSArIDEpO1xuICAgICAgICAgIHRpbWVUb1JlbmRlciA9IGZhYnJpYy51dGlsLmhhc1N0eWxlQ2hhbmdlZChhY3R1YWxTdHlsZSwgbmV4dFN0eWxlLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGltZVRvUmVuZGVyKSB7XG4gICAgICAgICAgc3R5bGUgPSB0aGlzLl9nZXRTdHlsZURlY2xhcmF0aW9uKGxpbmVJbmRleCwgaSkgfHwgeyB9O1xuICAgICAgICAgIHRleHRTcGFucy5wdXNoKHRoaXMuX2NyZWF0ZVRleHRDaGFyU3BhbihjaGFyc1RvUmVuZGVyLCBzdHlsZSwgdGV4dExlZnRPZmZzZXQsIHRleHRUb3BPZmZzZXQpKTtcbiAgICAgICAgICBjaGFyc1RvUmVuZGVyID0gJyc7XG4gICAgICAgICAgYWN0dWFsU3R5bGUgPSBuZXh0U3R5bGU7XG4gICAgICAgICAgdGV4dExlZnRPZmZzZXQgKz0gYm94V2lkdGg7XG4gICAgICAgICAgYm94V2lkdGggPSAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIF9wdXNoVGV4dEJnUmVjdDogZnVuY3Rpb24odGV4dEJnUmVjdHMsIGNvbG9yLCBsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIHZhciBOVU1fRlJBQ1RJT05fRElHSVRTID0gZmFicmljLk9iamVjdC5OVU1fRlJBQ1RJT05fRElHSVRTO1xuICAgICAgdGV4dEJnUmVjdHMucHVzaChcbiAgICAgICAgJ1xcdFxcdDxyZWN0ICcsXG4gICAgICAgIHRoaXMuX2dldEZpbGxBdHRyaWJ1dGVzKGNvbG9yKSxcbiAgICAgICAgJyB4PVwiJyxcbiAgICAgICAgdG9GaXhlZChsZWZ0LCBOVU1fRlJBQ1RJT05fRElHSVRTKSxcbiAgICAgICAgJ1wiIHk9XCInLFxuICAgICAgICB0b0ZpeGVkKHRvcCwgTlVNX0ZSQUNUSU9OX0RJR0lUUyksXG4gICAgICAgICdcIiB3aWR0aD1cIicsXG4gICAgICAgIHRvRml4ZWQod2lkdGgsIE5VTV9GUkFDVElPTl9ESUdJVFMpLFxuICAgICAgICAnXCIgaGVpZ2h0PVwiJyxcbiAgICAgICAgdG9GaXhlZChoZWlnaHQsIE5VTV9GUkFDVElPTl9ESUdJVFMpLFxuICAgICAgICAnXCI+PC9yZWN0PlxcbicpO1xuICAgIH0sXG5cbiAgICBfc2V0U1ZHVGV4dExpbmVCZzogZnVuY3Rpb24odGV4dEJnUmVjdHMsIGksIGxlZnRPZmZzZXQsIHRleHRUb3BPZmZzZXQpIHtcbiAgICAgIHZhciBsaW5lID0gdGhpcy5fdGV4dExpbmVzW2ldLFxuICAgICAgICAgIGhlaWdodE9mTGluZSA9IHRoaXMuZ2V0SGVpZ2h0T2ZMaW5lKGkpIC8gdGhpcy5saW5lSGVpZ2h0LFxuICAgICAgICAgIGJveFdpZHRoID0gMCxcbiAgICAgICAgICBib3hTdGFydCA9IDAsXG4gICAgICAgICAgY2hhckJveCwgY3VycmVudENvbG9yLFxuICAgICAgICAgIGxhc3RDb2xvciA9IHRoaXMuZ2V0VmFsdWVPZlByb3BlcnR5QXQoaSwgMCwgJ3RleHRCYWNrZ3JvdW5kQ29sb3InKTtcbiAgICAgIGZvciAodmFyIGogPSAwLCBqbGVuID0gbGluZS5sZW5ndGg7IGogPCBqbGVuOyBqKyspIHtcbiAgICAgICAgY2hhckJveCA9IHRoaXMuX19jaGFyQm91bmRzW2ldW2pdO1xuICAgICAgICBjdXJyZW50Q29sb3IgPSB0aGlzLmdldFZhbHVlT2ZQcm9wZXJ0eUF0KGksIGosICd0ZXh0QmFja2dyb3VuZENvbG9yJyk7XG4gICAgICAgIGlmIChjdXJyZW50Q29sb3IgIT09IGxhc3RDb2xvcikge1xuICAgICAgICAgIGxhc3RDb2xvciAmJiB0aGlzLl9wdXNoVGV4dEJnUmVjdCh0ZXh0QmdSZWN0cywgbGFzdENvbG9yLCBsZWZ0T2Zmc2V0ICsgYm94U3RhcnQsXG4gICAgICAgICAgICB0ZXh0VG9wT2Zmc2V0LCBib3hXaWR0aCwgaGVpZ2h0T2ZMaW5lKTtcbiAgICAgICAgICBib3hTdGFydCA9IGNoYXJCb3gubGVmdDtcbiAgICAgICAgICBib3hXaWR0aCA9IGNoYXJCb3gud2lkdGg7XG4gICAgICAgICAgbGFzdENvbG9yID0gY3VycmVudENvbG9yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGJveFdpZHRoICs9IGNoYXJCb3gua2VybmVkV2lkdGg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGN1cnJlbnRDb2xvciAmJiB0aGlzLl9wdXNoVGV4dEJnUmVjdCh0ZXh0QmdSZWN0cywgY3VycmVudENvbG9yLCBsZWZ0T2Zmc2V0ICsgYm94U3RhcnQsXG4gICAgICAgIHRleHRUb3BPZmZzZXQsIGJveFdpZHRoLCBoZWlnaHRPZkxpbmUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZG9iZSBJbGx1c3RyYXRvciAoYXQgbGVhc3QgQ1M1KSBpcyB1bmFibGUgdG8gcmVuZGVyIHJnYmEoKS1iYXNlZCBmaWxsIHZhbHVlc1xuICAgICAqIHdlIHdvcmsgYXJvdW5kIGl0IGJ5IFwibW92aW5nXCIgYWxwaGEgY2hhbm5lbCBpbnRvIG9wYWNpdHkgYXR0cmlidXRlIGFuZCBzZXR0aW5nIGZpbGwncyBhbHBoYSB0byAxXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAgICovXG4gICAgX2dldEZpbGxBdHRyaWJ1dGVzOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFyIGZpbGxDb2xvciA9ICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSA/IG5ldyBmYWJyaWMuQ29sb3IodmFsdWUpIDogJyc7XG4gICAgICBpZiAoIWZpbGxDb2xvciB8fCAhZmlsbENvbG9yLmdldFNvdXJjZSgpIHx8IGZpbGxDb2xvci5nZXRBbHBoYSgpID09PSAxKSB7XG4gICAgICAgIHJldHVybiAnZmlsbD1cIicgKyB2YWx1ZSArICdcIic7XG4gICAgICB9XG4gICAgICByZXR1cm4gJ29wYWNpdHk9XCInICsgZmlsbENvbG9yLmdldEFscGhhKCkgKyAnXCIgZmlsbD1cIicgKyBmaWxsQ29sb3Iuc2V0QWxwaGEoMSkudG9SZ2IoKSArICdcIic7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2dldFNWR0xpbmVUb3BPZmZzZXQ6IGZ1bmN0aW9uKGxpbmVJbmRleCkge1xuICAgICAgdmFyIGxpbmVUb3BPZmZzZXQgPSAwLCBsYXN0SGVpZ2h0ID0gMDtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGluZUluZGV4OyBqKyspIHtcbiAgICAgICAgbGluZVRvcE9mZnNldCArPSB0aGlzLmdldEhlaWdodE9mTGluZShqKTtcbiAgICAgIH1cbiAgICAgIGxhc3RIZWlnaHQgPSB0aGlzLmdldEhlaWdodE9mTGluZShqKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxpbmVUb3A6IGxpbmVUb3BPZmZzZXQsXG4gICAgICAgIG9mZnNldDogKHRoaXMuX2ZvbnRTaXplTXVsdCAtIHRoaXMuX2ZvbnRTaXplRnJhY3Rpb24pICogbGFzdEhlaWdodCAvICh0aGlzLmxpbmVIZWlnaHQgKiB0aGlzLl9mb250U2l6ZU11bHQpXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHN0eWxlcy1zdHJpbmcgZm9yIHN2Zy1leHBvcnRcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHNraXBTaGFkb3cgYSBib29sZWFuIHRvIHNraXAgc2hhZG93IGZpbHRlciBvdXRwdXRcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAgICovXG4gICAgZ2V0U3ZnU3R5bGVzOiBmdW5jdGlvbihza2lwU2hhZG93KSB7XG4gICAgICB2YXIgc3ZnU3R5bGUgPSBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZS5nZXRTdmdTdHlsZXMuY2FsbCh0aGlzLCBza2lwU2hhZG93KTtcbiAgICAgIHJldHVybiBzdmdTdHlsZSArICcgd2hpdGUtc3BhY2U6IHByZTsnO1xuICAgIH0sXG4gIH0pO1xufSkoKTtcbi8qIF9UT19TVkdfRU5EXyAqL1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyA9IGdsb2JhbC5mYWJyaWMgfHwgKGdsb2JhbC5mYWJyaWMgPSB7fSk7XG5cbiAgLyoqXG4gICAqIFRleHRib3ggY2xhc3MsIGJhc2VkIG9uIElUZXh0LCBhbGxvd3MgdGhlIHVzZXIgdG8gcmVzaXplIHRoZSB0ZXh0IHJlY3RhbmdsZVxuICAgKiBhbmQgd3JhcHMgbGluZXMgYXV0b21hdGljYWxseS4gVGV4dGJveGVzIGhhdmUgdGhlaXIgWSBzY2FsaW5nIGxvY2tlZCwgdGhlXG4gICAqIHVzZXIgY2FuIG9ubHkgY2hhbmdlIHdpZHRoLiBIZWlnaHQgaXMgYWRqdXN0ZWQgYXV0b21hdGljYWxseSBiYXNlZCBvbiB0aGVcbiAgICogd3JhcHBpbmcgb2YgbGluZXMuXG4gICAqIEBjbGFzcyBmYWJyaWMuVGV4dGJveFxuICAgKiBAZXh0ZW5kcyBmYWJyaWMuSVRleHRcbiAgICogQG1peGVzIGZhYnJpYy5PYnNlcnZhYmxlXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5UZXh0Ym94fSB0aGlzQXJnXG4gICAqIEBzZWUge0BsaW5rIGZhYnJpYy5UZXh0Ym94I2luaXRpYWxpemV9IGZvciBjb25zdHJ1Y3RvciBkZWZpbml0aW9uXG4gICAqL1xuICBmYWJyaWMuVGV4dGJveCA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzKGZhYnJpYy5JVGV4dCwgZmFicmljLk9ic2VydmFibGUsIHtcblxuICAgIC8qKlxuICAgICAqIFR5cGUgb2YgYW4gb2JqZWN0XG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0eXBlOiAndGV4dGJveCcsXG5cbiAgICAvKipcbiAgICAgKiBNaW5pbXVtIHdpZHRoIG9mIHRleHRib3gsIGluIHBpeGVscy5cbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIG1pbldpZHRoOiAyMCxcblxuICAgIC8qKlxuICAgICAqIE1pbmltdW0gY2FsY3VsYXRlZCB3aWR0aCBvZiBhIHRleHRib3gsIGluIHBpeGVscy5cbiAgICAgKiBmaXhlZCB0byAyIHNvIHRoYXQgYW4gZW1wdHkgdGV4dGJveCBjYW5ub3QgZ28gdG8gMFxuICAgICAqIGFuZCBpcyBzdGlsbCBzZWxlY3RhYmxlIHdpdGhvdXQgdGV4dC5cbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGR5bmFtaWNNaW5XaWR0aDogMixcblxuICAgIC8qKlxuICAgICAqIENhY2hlZCBhcnJheSBvZiB0ZXh0IHdyYXBwaW5nLlxuICAgICAqIEB0eXBlIEFycmF5XG4gICAgICovXG4gICAgX19jYWNoZWRMaW5lczogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlIHN0YW5kYXJkIE9iamVjdCBjbGFzcyB2YWx1ZXNcbiAgICAgKi9cbiAgICBsb2NrU2NhbGluZ0ZsaXA6IHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZSBzdGFuZGFyZCBPYmplY3QgY2xhc3MgdmFsdWVzXG4gICAgICogVGV4dGJveCBuZWVkcyB0aGlzIG9uIGZhbHNlXG4gICAgICovXG4gICAgbm9TY2FsZUNhY2hlOiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnRpZXMgd2hpY2ggd2hlbiBzZXQgY2F1c2Ugb2JqZWN0IHRvIGNoYW5nZSBkaW1lbnNpb25zXG4gICAgICogQHR5cGUgT2JqZWN0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZGltZW5zaW9uQWZmZWN0aW5nUHJvcHM6IGZhYnJpYy5UZXh0LnByb3RvdHlwZS5fZGltZW5zaW9uQWZmZWN0aW5nUHJvcHMuY29uY2F0KCd3aWR0aCcpLFxuXG4gICAgLyoqXG4gICAgICogVXNlIHRoaXMgcmVndWxhciBleHByZXNzaW9uIHRvIHNwbGl0IHN0cmluZ3MgaW4gYnJlYWthYmxlIGxpbmVzXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfd29yZEpvaW5lcnM6IC9bIFxcdFxccl0vLFxuXG4gICAgLyoqXG4gICAgICogVXNlIHRoaXMgYm9vbGVhbiBwcm9wZXJ0eSBpbiBvcmRlciB0byBzcGxpdCBzdHJpbmdzIHRoYXQgaGF2ZSBubyB3aGl0ZSBzcGFjZSBjb25jZXB0LlxuICAgICAqIHRoaXMgaXMgYSBjaGVhcCB3YXkgdG8gaGVscCB3aXRoIGNoaW5lc2UvamFwYW5lc2VcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQHNpbmNlIDIuNi4wXG4gICAgICovXG4gICAgc3BsaXRCeUdyYXBoZW1lOiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIFVubGlrZSBzdXBlcmNsYXNzJ3MgdmVyc2lvbiBvZiB0aGlzIGZ1bmN0aW9uLCBUZXh0Ym94IGRvZXMgbm90IHVwZGF0ZVxuICAgICAqIGl0cyB3aWR0aC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGluaXREaW1lbnNpb25zOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLl9fc2tpcERpbWVuc2lvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmlzRWRpdGluZyAmJiB0aGlzLmluaXREZWxheWVkQ3Vyc29yKCk7XG4gICAgICB0aGlzLmNsZWFyQ29udGV4dFRvcCgpO1xuICAgICAgdGhpcy5fY2xlYXJDYWNoZSgpO1xuICAgICAgLy8gY2xlYXIgZHluYW1pY01pbldpZHRoIGFzIGl0IHdpbGwgYmUgZGlmZmVyZW50IGFmdGVyIHdlIHJlLXdyYXAgbGluZVxuICAgICAgdGhpcy5keW5hbWljTWluV2lkdGggPSAwO1xuICAgICAgLy8gd3JhcCBsaW5lc1xuICAgICAgdGhpcy5fc3R5bGVNYXAgPSB0aGlzLl9nZW5lcmF0ZVN0eWxlTWFwKHRoaXMuX3NwbGl0VGV4dCgpKTtcbiAgICAgIC8vIGlmIGFmdGVyIHdyYXBwaW5nLCB0aGUgd2lkdGggaXMgc21hbGxlciB0aGFuIGR5bmFtaWNNaW5XaWR0aCwgY2hhbmdlIHRoZSB3aWR0aCBhbmQgcmUtd3JhcFxuICAgICAgaWYgKHRoaXMuZHluYW1pY01pbldpZHRoID4gdGhpcy53aWR0aCkge1xuICAgICAgICB0aGlzLl9zZXQoJ3dpZHRoJywgdGhpcy5keW5hbWljTWluV2lkdGgpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMudGV4dEFsaWduLmluZGV4T2YoJ2p1c3RpZnknKSAhPT0gLTEpIHtcbiAgICAgICAgLy8gb25jZSB0ZXh0IGlzIG1lYXN1cmVkIHdlIG5lZWQgdG8gbWFrZSBzcGFjZSBmYXR0ZXIgdG8gbWFrZSBqdXN0aWZpZWQgdGV4dC5cbiAgICAgICAgdGhpcy5lbmxhcmdlU3BhY2VzKCk7XG4gICAgICB9XG4gICAgICAvLyBjbGVhciBjYWNoZSBhbmQgcmUtY2FsY3VsYXRlIGhlaWdodFxuICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLmNhbGNUZXh0SGVpZ2h0KCk7XG4gICAgICB0aGlzLnNhdmVTdGF0ZSh7IHByb3BlcnR5U2V0OiAnX2RpbWVuc2lvbkFmZmVjdGluZ1Byb3BzJyB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgYW4gb2JqZWN0IHRoYXQgdHJhbnNsYXRlcyB0aGUgc3R5bGUgb2JqZWN0IHNvIHRoYXQgaXQgaXNcbiAgICAgKiBicm9rZW4gdXAgYnkgdmlzdWFsIGxpbmVzIChuZXcgbGluZXMgYW5kIGF1dG9tYXRpYyB3cmFwcGluZykuXG4gICAgICogVGhlIG9yaWdpbmFsIHRleHQgc3R5bGVzIG9iamVjdCBpcyBicm9rZW4gdXAgYnkgYWN0dWFsIGxpbmVzIChuZXcgbGluZXMgb25seSksXG4gICAgICogd2hpY2ggaXMgb25seSBzdWZmaWNpZW50IGZvciBUZXh0IC8gSVRleHRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZW5lcmF0ZVN0eWxlTWFwOiBmdW5jdGlvbih0ZXh0SW5mbykge1xuICAgICAgdmFyIHJlYWxMaW5lQ291bnQgICAgID0gMCxcbiAgICAgICAgICByZWFsTGluZUNoYXJDb3VudCA9IDAsXG4gICAgICAgICAgY2hhckNvdW50ICAgICAgICAgPSAwLFxuICAgICAgICAgIG1hcCAgICAgICAgICAgICAgID0ge307XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGV4dEluZm8uZ3JhcGhlbWVMaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAodGV4dEluZm8uZ3JhcGhlbWVUZXh0W2NoYXJDb3VudF0gPT09ICdcXG4nICYmIGkgPiAwKSB7XG4gICAgICAgICAgcmVhbExpbmVDaGFyQ291bnQgPSAwO1xuICAgICAgICAgIGNoYXJDb3VudCsrO1xuICAgICAgICAgIHJlYWxMaW5lQ291bnQrKztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghdGhpcy5zcGxpdEJ5R3JhcGhlbWUgJiYgdGhpcy5fcmVTcGFjZUFuZFRhYi50ZXN0KHRleHRJbmZvLmdyYXBoZW1lVGV4dFtjaGFyQ291bnRdKSAmJiBpID4gMCkge1xuICAgICAgICAgIC8vIHRoaXMgY2FzZSBkZWFscyB3aXRoIHNwYWNlJ3MgdGhhdCBhcmUgcmVtb3ZlZCBmcm9tIGVuZCBvZiBsaW5lcyB3aGVuIHdyYXBwaW5nXG4gICAgICAgICAgcmVhbExpbmVDaGFyQ291bnQrKztcbiAgICAgICAgICBjaGFyQ291bnQrKztcbiAgICAgICAgfVxuXG4gICAgICAgIG1hcFtpXSA9IHsgbGluZTogcmVhbExpbmVDb3VudCwgb2Zmc2V0OiByZWFsTGluZUNoYXJDb3VudCB9O1xuXG4gICAgICAgIGNoYXJDb3VudCArPSB0ZXh0SW5mby5ncmFwaGVtZUxpbmVzW2ldLmxlbmd0aDtcbiAgICAgICAgcmVhbExpbmVDaGFyQ291bnQgKz0gdGV4dEluZm8uZ3JhcGhlbWVMaW5lc1tpXS5sZW5ndGg7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtYXA7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiBvYmplY3QgaGFzIGEgc3R5bGUgcHJvcGVydHkgb3IgaGFzIGl0IG9uIGEgc3BlY2lmaWVkIGxpbmVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4XG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBzdHlsZUhhczogZnVuY3Rpb24ocHJvcGVydHksIGxpbmVJbmRleCkge1xuICAgICAgaWYgKHRoaXMuX3N0eWxlTWFwICYmICF0aGlzLmlzV3JhcHBpbmcpIHtcbiAgICAgICAgdmFyIG1hcCA9IHRoaXMuX3N0eWxlTWFwW2xpbmVJbmRleF07XG4gICAgICAgIGlmIChtYXApIHtcbiAgICAgICAgICBsaW5lSW5kZXggPSBtYXAubGluZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhYnJpYy5UZXh0LnByb3RvdHlwZS5zdHlsZUhhcy5jYWxsKHRoaXMsIHByb3BlcnR5LCBsaW5lSW5kZXgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgb2JqZWN0IGhhcyBubyBzdHlsaW5nIG9yIG5vIHN0eWxpbmcgaW4gYSBsaW5lXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxpbmVJbmRleCAsIGxpbmVJbmRleCBpcyBvbiB3cmFwcGVkIGxpbmVzLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgaXNFbXB0eVN0eWxlczogZnVuY3Rpb24obGluZUluZGV4KSB7XG4gICAgICBpZiAoIXRoaXMuc3R5bGVzKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgdmFyIG9mZnNldCA9IDAsIG5leHRMaW5lSW5kZXggPSBsaW5lSW5kZXggKyAxLCBuZXh0T2Zmc2V0LCBvYmosIHNob3VsZExpbWl0ID0gZmFsc2UsXG4gICAgICAgICAgbWFwID0gdGhpcy5fc3R5bGVNYXBbbGluZUluZGV4XSwgbWFwTmV4dExpbmUgPSB0aGlzLl9zdHlsZU1hcFtsaW5lSW5kZXggKyAxXTtcbiAgICAgIGlmIChtYXApIHtcbiAgICAgICAgbGluZUluZGV4ID0gbWFwLmxpbmU7XG4gICAgICAgIG9mZnNldCA9IG1hcC5vZmZzZXQ7XG4gICAgICB9XG4gICAgICBpZiAobWFwTmV4dExpbmUpIHtcbiAgICAgICAgbmV4dExpbmVJbmRleCA9IG1hcE5leHRMaW5lLmxpbmU7XG4gICAgICAgIHNob3VsZExpbWl0ID0gbmV4dExpbmVJbmRleCA9PT0gbGluZUluZGV4O1xuICAgICAgICBuZXh0T2Zmc2V0ID0gbWFwTmV4dExpbmUub2Zmc2V0O1xuICAgICAgfVxuICAgICAgb2JqID0gdHlwZW9mIGxpbmVJbmRleCA9PT0gJ3VuZGVmaW5lZCcgPyB0aGlzLnN0eWxlcyA6IHsgbGluZTogdGhpcy5zdHlsZXNbbGluZUluZGV4XSB9O1xuICAgICAgZm9yICh2YXIgcDEgaW4gb2JqKSB7XG4gICAgICAgIGZvciAodmFyIHAyIGluIG9ialtwMV0pIHtcbiAgICAgICAgICBpZiAocDIgPj0gb2Zmc2V0ICYmICghc2hvdWxkTGltaXQgfHwgcDIgPCBuZXh0T2Zmc2V0KSkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgICAgICAgICBmb3IgKHZhciBwMyBpbiBvYmpbcDFdW3AyXSkge1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxpbmVJbmRleFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBjaGFySW5kZXhcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZXRTdHlsZURlY2xhcmF0aW9uOiBmdW5jdGlvbihsaW5lSW5kZXgsIGNoYXJJbmRleCkge1xuICAgICAgaWYgKHRoaXMuX3N0eWxlTWFwICYmICF0aGlzLmlzV3JhcHBpbmcpIHtcbiAgICAgICAgdmFyIG1hcCA9IHRoaXMuX3N0eWxlTWFwW2xpbmVJbmRleF07XG4gICAgICAgIGlmICghbWFwKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgbGluZUluZGV4ID0gbWFwLmxpbmU7XG4gICAgICAgIGNoYXJJbmRleCA9IG1hcC5vZmZzZXQgKyBjaGFySW5kZXg7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5jYWxsU3VwZXIoJ19nZXRTdHlsZURlY2xhcmF0aW9uJywgbGluZUluZGV4LCBjaGFySW5kZXgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGNoYXJJbmRleFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdHlsZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3NldFN0eWxlRGVjbGFyYXRpb246IGZ1bmN0aW9uKGxpbmVJbmRleCwgY2hhckluZGV4LCBzdHlsZSkge1xuICAgICAgdmFyIG1hcCA9IHRoaXMuX3N0eWxlTWFwW2xpbmVJbmRleF07XG4gICAgICBsaW5lSW5kZXggPSBtYXAubGluZTtcbiAgICAgIGNoYXJJbmRleCA9IG1hcC5vZmZzZXQgKyBjaGFySW5kZXg7XG5cbiAgICAgIHRoaXMuc3R5bGVzW2xpbmVJbmRleF1bY2hhckluZGV4XSA9IHN0eWxlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGNoYXJJbmRleFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2RlbGV0ZVN0eWxlRGVjbGFyYXRpb246IGZ1bmN0aW9uKGxpbmVJbmRleCwgY2hhckluZGV4KSB7XG4gICAgICB2YXIgbWFwID0gdGhpcy5fc3R5bGVNYXBbbGluZUluZGV4XTtcbiAgICAgIGxpbmVJbmRleCA9IG1hcC5saW5lO1xuICAgICAgY2hhckluZGV4ID0gbWFwLm9mZnNldCArIGNoYXJJbmRleDtcbiAgICAgIGRlbGV0ZSB0aGlzLnN0eWxlc1tsaW5lSW5kZXhdW2NoYXJJbmRleF07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHByb2JhYmx5IGJyb2tlbiBuZWVkIGEgZml4XG4gICAgICogUmV0dXJucyB0aGUgcmVhbCBzdHlsZSBsaW5lIHRoYXQgY29ycmVzcG9uZCB0byB0aGUgd3JhcHBlZCBsaW5lSW5kZXggbGluZVxuICAgICAqIFVzZWQganVzdCB0byB2ZXJpZnkgaWYgdGhlIGxpbmUgZG9lcyBleGlzdCBvciBub3QuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxpbmVJbmRleFxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufSBpZiB0aGUgbGluZSBleGlzdHMgb3Igbm90XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZ2V0TGluZVN0eWxlOiBmdW5jdGlvbihsaW5lSW5kZXgpIHtcbiAgICAgIHZhciBtYXAgPSB0aGlzLl9zdHlsZU1hcFtsaW5lSW5kZXhdO1xuICAgICAgcmV0dXJuICEhdGhpcy5zdHlsZXNbbWFwLmxpbmVdO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGxpbmUgc3R5bGUgdG8gYW4gZW1wdHkgb2JqZWN0IHNvIHRoYXQgaXMgaW5pdGlhbGl6ZWRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4XG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0eWxlXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2V0TGluZVN0eWxlOiBmdW5jdGlvbihsaW5lSW5kZXgpIHtcbiAgICAgIHZhciBtYXAgPSB0aGlzLl9zdHlsZU1hcFtsaW5lSW5kZXhdO1xuICAgICAgdGhpcy5zdHlsZXNbbWFwLmxpbmVdID0ge307XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFdyYXBzIHRleHQgdXNpbmcgdGhlICd3aWR0aCcgcHJvcGVydHkgb2YgVGV4dGJveC4gRmlyc3QgdGhpcyBmdW5jdGlvblxuICAgICAqIHNwbGl0cyB0ZXh0IG9uIG5ld2xpbmVzLCBzbyB3ZSBwcmVzZXJ2ZSBuZXdsaW5lcyBlbnRlcmVkIGJ5IHRoZSB1c2VyLlxuICAgICAqIFRoZW4gaXQgd3JhcHMgZWFjaCBsaW5lIHVzaW5nIHRoZSB3aWR0aCBvZiB0aGUgVGV4dGJveCBieSBjYWxsaW5nXG4gICAgICogX3dyYXBMaW5lKCkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gbGluZXMgVGhlIHN0cmluZyBhcnJheSBvZiB0ZXh0IHRoYXQgaXMgc3BsaXQgaW50byBsaW5lc1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBkZXNpcmVkV2lkdGggd2lkdGggeW91IHdhbnQgdG8gd3JhcCB0b1xuICAgICAqIEByZXR1cm5zIHtBcnJheX0gQXJyYXkgb2YgbGluZXNcbiAgICAgKi9cbiAgICBfd3JhcFRleHQ6IGZ1bmN0aW9uKGxpbmVzLCBkZXNpcmVkV2lkdGgpIHtcbiAgICAgIHZhciB3cmFwcGVkID0gW10sIGk7XG4gICAgICB0aGlzLmlzV3JhcHBpbmcgPSB0cnVlO1xuICAgICAgZm9yIChpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHdyYXBwZWQgPSB3cmFwcGVkLmNvbmNhdCh0aGlzLl93cmFwTGluZShsaW5lc1tpXSwgaSwgZGVzaXJlZFdpZHRoKSk7XG4gICAgICB9XG4gICAgICB0aGlzLmlzV3JhcHBpbmcgPSBmYWxzZTtcbiAgICAgIHJldHVybiB3cmFwcGVkO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdG8gbWVhc3VyZSBhIHN0cmluZyBvZiB0ZXh0LCBnaXZlbiBpdHMgbGluZUluZGV4IGFuZCBjaGFySW5kZXggb2Zmc2V0XG4gICAgICogaXQgZ2V0cyBjYWxsZWQgd2hlbiBjaGFyQm91bmRzIGFyZSBub3QgYXZhaWxhYmxlIHlldC5cbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGluZUluZGV4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNoYXJPZmZzZXRcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX21lYXN1cmVXb3JkOiBmdW5jdGlvbih3b3JkLCBsaW5lSW5kZXgsIGNoYXJPZmZzZXQpIHtcbiAgICAgIHZhciB3aWR0aCA9IDAsIHByZXZHcmFwaGVtZSwgc2tpcExlZnQgPSB0cnVlO1xuICAgICAgY2hhck9mZnNldCA9IGNoYXJPZmZzZXQgfHwgMDtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB3b3JkLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciBib3ggPSB0aGlzLl9nZXRHcmFwaGVtZUJveCh3b3JkW2ldLCBsaW5lSW5kZXgsIGkgKyBjaGFyT2Zmc2V0LCBwcmV2R3JhcGhlbWUsIHNraXBMZWZ0KTtcbiAgICAgICAgd2lkdGggKz0gYm94Lmtlcm5lZFdpZHRoO1xuICAgICAgICBwcmV2R3JhcGhlbWUgPSB3b3JkW2ldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdpZHRoO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBXcmFwcyBhIGxpbmUgb2YgdGV4dCB1c2luZyB0aGUgd2lkdGggb2YgdGhlIFRleHRib3ggYW5kIGEgY29udGV4dC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBsaW5lIFRoZSBncmFwaGVtZSBhcnJheSB0aGF0IHJlcHJlc2VudCB0aGUgbGluZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSW5kZXhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZGVzaXJlZFdpZHRoIHdpZHRoIHlvdSB3YW50IHRvIHdyYXAgdGhlIGxpbmUgdG9cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcmVzZXJ2ZWRTcGFjZSBzcGFjZSB0byByZW1vdmUgZnJvbSB3cmFwcGluZyBmb3IgY3VzdG9tIGZ1bmN0aW9uYWxpdGllc1xuICAgICAqIEByZXR1cm5zIHtBcnJheX0gQXJyYXkgb2YgbGluZShzKSBpbnRvIHdoaWNoIHRoZSBnaXZlbiB0ZXh0IGlzIHdyYXBwZWRcbiAgICAgKiB0by5cbiAgICAgKi9cbiAgICBfd3JhcExpbmU6IGZ1bmN0aW9uKF9saW5lLCBsaW5lSW5kZXgsIGRlc2lyZWRXaWR0aCwgcmVzZXJ2ZWRTcGFjZSkge1xuICAgICAgdmFyIGxpbmVXaWR0aCA9IDAsXG4gICAgICAgICAgc3BsaXRCeUdyYXBoZW1lID0gdGhpcy5zcGxpdEJ5R3JhcGhlbWUsXG4gICAgICAgICAgZ3JhcGhlbWVMaW5lcyA9IFtdLFxuICAgICAgICAgIGxpbmUgPSBbXSxcbiAgICAgICAgICAvLyBzcGFjZXMgaW4gZGlmZmVyZW50IGxhbmd1YWdlcz9cbiAgICAgICAgICB3b3JkcyA9IHNwbGl0QnlHcmFwaGVtZSA/IGZhYnJpYy51dGlsLnN0cmluZy5ncmFwaGVtZVNwbGl0KF9saW5lKSA6IF9saW5lLnNwbGl0KHRoaXMuX3dvcmRKb2luZXJzKSxcbiAgICAgICAgICB3b3JkID0gJycsXG4gICAgICAgICAgb2Zmc2V0ID0gMCxcbiAgICAgICAgICBpbmZpeCA9IHNwbGl0QnlHcmFwaGVtZSA/ICcnIDogJyAnLFxuICAgICAgICAgIHdvcmRXaWR0aCA9IDAsXG4gICAgICAgICAgaW5maXhXaWR0aCA9IDAsXG4gICAgICAgICAgbGFyZ2VzdFdvcmRXaWR0aCA9IDAsXG4gICAgICAgICAgbGluZUp1c3RTdGFydGVkID0gdHJ1ZSxcbiAgICAgICAgICBhZGRpdGlvbmFsU3BhY2UgPSB0aGlzLl9nZXRXaWR0aE9mQ2hhclNwYWNpbmcoKSxcbiAgICAgICAgICByZXNlcnZlZFNwYWNlID0gcmVzZXJ2ZWRTcGFjZSB8fCAwO1xuICAgICAgLy8gZml4IGEgZGlmZmVyZW5jZSBiZXR3ZWVuIHNwbGl0IGFuZCBncmFwaGVtZVNwbGl0XG4gICAgICBpZiAod29yZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHdvcmRzLnB1c2goW10pO1xuICAgICAgfVxuICAgICAgZGVzaXJlZFdpZHRoIC09IHJlc2VydmVkU3BhY2U7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHdvcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGlmIHVzaW5nIHNwbGl0QnlHcmFwaGVtZSB3b3JkcyBhcmUgYWxyZWFkeSBpbiBncmFwaGVtZXMuXG4gICAgICAgIHdvcmQgPSBzcGxpdEJ5R3JhcGhlbWUgPyB3b3Jkc1tpXSA6IGZhYnJpYy51dGlsLnN0cmluZy5ncmFwaGVtZVNwbGl0KHdvcmRzW2ldKTtcbiAgICAgICAgd29yZFdpZHRoID0gdGhpcy5fbWVhc3VyZVdvcmQod29yZCwgbGluZUluZGV4LCBvZmZzZXQpO1xuICAgICAgICBvZmZzZXQgKz0gd29yZC5sZW5ndGg7XG5cbiAgICAgICAgbGluZVdpZHRoICs9IGluZml4V2lkdGggKyB3b3JkV2lkdGggLSBhZGRpdGlvbmFsU3BhY2U7XG4gICAgICAgIGlmIChsaW5lV2lkdGggPiBkZXNpcmVkV2lkdGggJiYgIWxpbmVKdXN0U3RhcnRlZCkge1xuICAgICAgICAgIGdyYXBoZW1lTGluZXMucHVzaChsaW5lKTtcbiAgICAgICAgICBsaW5lID0gW107XG4gICAgICAgICAgbGluZVdpZHRoID0gd29yZFdpZHRoO1xuICAgICAgICAgIGxpbmVKdXN0U3RhcnRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgbGluZVdpZHRoICs9IGFkZGl0aW9uYWxTcGFjZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghbGluZUp1c3RTdGFydGVkICYmICFzcGxpdEJ5R3JhcGhlbWUpIHtcbiAgICAgICAgICBsaW5lLnB1c2goaW5maXgpO1xuICAgICAgICB9XG4gICAgICAgIGxpbmUgPSBsaW5lLmNvbmNhdCh3b3JkKTtcblxuICAgICAgICBpbmZpeFdpZHRoID0gc3BsaXRCeUdyYXBoZW1lID8gMCA6IHRoaXMuX21lYXN1cmVXb3JkKFtpbmZpeF0sIGxpbmVJbmRleCwgb2Zmc2V0KTtcbiAgICAgICAgb2Zmc2V0Kys7XG4gICAgICAgIGxpbmVKdXN0U3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICAvLyBrZWVwIHRyYWNrIG9mIGxhcmdlc3Qgd29yZFxuICAgICAgICBpZiAod29yZFdpZHRoID4gbGFyZ2VzdFdvcmRXaWR0aCkge1xuICAgICAgICAgIGxhcmdlc3RXb3JkV2lkdGggPSB3b3JkV2lkdGg7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaSAmJiBncmFwaGVtZUxpbmVzLnB1c2gobGluZSk7XG5cbiAgICAgIGlmIChsYXJnZXN0V29yZFdpZHRoICsgcmVzZXJ2ZWRTcGFjZSA+IHRoaXMuZHluYW1pY01pbldpZHRoKSB7XG4gICAgICAgIHRoaXMuZHluYW1pY01pbldpZHRoID0gbGFyZ2VzdFdvcmRXaWR0aCAtIGFkZGl0aW9uYWxTcGFjZSArIHJlc2VydmVkU3BhY2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gZ3JhcGhlbWVMaW5lcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGV0ZWN0IGlmIHRoZSB0ZXh0IGxpbmUgaXMgZW5kZWQgd2l0aCBhbiBoYXJkIGJyZWFrXG4gICAgICogdGV4dCBhbmQgaXRleHQgZG8gbm90IGhhdmUgd3JhcHBpbmcsIHJldHVybiBmYWxzZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSW5kZXggdGV4dCB0byBzcGxpdFxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgaXNFbmRPZldyYXBwaW5nOiBmdW5jdGlvbihsaW5lSW5kZXgpIHtcbiAgICAgIGlmICghdGhpcy5fc3R5bGVNYXBbbGluZUluZGV4ICsgMV0pIHtcbiAgICAgICAgLy8gaXMgbGFzdCBsaW5lLCByZXR1cm4gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fc3R5bGVNYXBbbGluZUluZGV4ICsgMV0ubGluZSAhPT0gdGhpcy5fc3R5bGVNYXBbbGluZUluZGV4XS5saW5lKSB7XG4gICAgICAgIC8vIHRoaXMgaXMgbGFzdCBsaW5lIGJlZm9yZSBhIGxpbmUgYnJlYWssIHJldHVybiB0cnVlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGV0ZWN0IGlmIGEgbGluZSBoYXMgYSBsaW5lYnJlYWsgYW5kIHNvIHdlIG5lZWQgdG8gYWNjb3VudCBmb3IgaXQgd2hlbiBtb3ZpbmdcbiAgICAgKiBhbmQgY291bnRpbmcgc3R5bGUuXG4gICAgICogQHJldHVybiBOdW1iZXJcbiAgICAgKi9cbiAgICBtaXNzaW5nTmV3bGluZU9mZnNldDogZnVuY3Rpb24obGluZUluZGV4KSB7XG4gICAgICBpZiAodGhpcy5zcGxpdEJ5R3JhcGhlbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNFbmRPZldyYXBwaW5nKGxpbmVJbmRleCkgPyAxIDogMDtcbiAgICAgIH1cbiAgICAgIHJldHVybiAxO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAqIEdldHMgbGluZXMgb2YgdGV4dCB0byByZW5kZXIgaW4gdGhlIFRleHRib3guIFRoaXMgZnVuY3Rpb24gY2FsY3VsYXRlc1xuICAgICogdGV4dCB3cmFwcGluZyBvbiB0aGUgZmx5IGV2ZXJ5IHRpbWUgaXQgaXMgY2FsbGVkLlxuICAgICogQHBhcmFtIHtTdHJpbmd9IHRleHQgdGV4dCB0byBzcGxpdFxuICAgICogQHJldHVybnMge0FycmF5fSBBcnJheSBvZiBsaW5lcyBpbiB0aGUgVGV4dGJveC5cbiAgICAqIEBvdmVycmlkZVxuICAgICovXG4gICAgX3NwbGl0VGV4dEludG9MaW5lczogZnVuY3Rpb24odGV4dCkge1xuICAgICAgdmFyIG5ld1RleHQgPSBmYWJyaWMuVGV4dC5wcm90b3R5cGUuX3NwbGl0VGV4dEludG9MaW5lcy5jYWxsKHRoaXMsIHRleHQpLFxuICAgICAgICAgIGdyYXBoZW1lTGluZXMgPSB0aGlzLl93cmFwVGV4dChuZXdUZXh0LmxpbmVzLCB0aGlzLndpZHRoKSxcbiAgICAgICAgICBsaW5lcyA9IG5ldyBBcnJheShncmFwaGVtZUxpbmVzLmxlbmd0aCk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdyYXBoZW1lTGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGluZXNbaV0gPSBncmFwaGVtZUxpbmVzW2ldLmpvaW4oJycpO1xuICAgICAgfVxuICAgICAgbmV3VGV4dC5saW5lcyA9IGxpbmVzO1xuICAgICAgbmV3VGV4dC5ncmFwaGVtZUxpbmVzID0gZ3JhcGhlbWVMaW5lcztcbiAgICAgIHJldHVybiBuZXdUZXh0O1xuICAgIH0sXG5cbiAgICBnZXRNaW5XaWR0aDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gTWF0aC5tYXgodGhpcy5taW5XaWR0aCwgdGhpcy5keW5hbWljTWluV2lkdGgpO1xuICAgIH0sXG5cbiAgICBfcmVtb3ZlRXh0cmFuZW91c1N0eWxlczogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbGluZXNUb0tlZXAgPSB7fTtcbiAgICAgIGZvciAodmFyIHByb3AgaW4gdGhpcy5fc3R5bGVNYXApIHtcbiAgICAgICAgaWYgKHRoaXMuX3RleHRMaW5lc1twcm9wXSkge1xuICAgICAgICAgIGxpbmVzVG9LZWVwW3RoaXMuX3N0eWxlTWFwW3Byb3BdLmxpbmVdID0gMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yICh2YXIgcHJvcCBpbiB0aGlzLnN0eWxlcykge1xuICAgICAgICBpZiAoIWxpbmVzVG9LZWVwW3Byb3BdKSB7XG4gICAgICAgICAgZGVsZXRlIHRoaXMuc3R5bGVzW3Byb3BdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQG1ldGhvZCB0b09iamVjdFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wZXJ0aWVzVG9JbmNsdWRlXSBBbnkgcHJvcGVydGllcyB0aGF0IHlvdSBtaWdodCB3YW50IHRvIGFkZGl0aW9uYWxseSBpbmNsdWRlIGluIHRoZSBvdXRwdXRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRvT2JqZWN0OiBmdW5jdGlvbihwcm9wZXJ0aWVzVG9JbmNsdWRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWxsU3VwZXIoJ3RvT2JqZWN0JywgWydtaW5XaWR0aCcsICdzcGxpdEJ5R3JhcGhlbWUnXS5jb25jYXQocHJvcGVydGllc1RvSW5jbHVkZSkpO1xuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgZmFicmljLlRleHRib3ggaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLlRleHRib3hcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY3JlYXRlIGFuIGluc3RhbmNlIGZyb21cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBDYWxsYmFjayB0byBpbnZva2Ugd2hlbiBhbiBmYWJyaWMuVGV4dGJveCBpbnN0YW5jZSBpcyBjcmVhdGVkXG4gICAqL1xuICBmYWJyaWMuVGV4dGJveC5mcm9tT2JqZWN0ID0gZnVuY3Rpb24ob2JqZWN0LCBjYWxsYmFjaykge1xuICAgIHZhciBzdHlsZXMgPSBmYWJyaWMudXRpbC5zdHlsZXNGcm9tQXJyYXkob2JqZWN0LnN0eWxlcywgb2JqZWN0LnRleHQpO1xuICAgIC8vY29weSBvYmplY3QgdG8gcHJldmVudCBtdXRhdGlvblxuICAgIHZhciBvYmpDb3B5ID0gT2JqZWN0LmFzc2lnbih7fSwgb2JqZWN0LCB7IHN0eWxlczogc3R5bGVzIH0pO1xuICAgIHJldHVybiBmYWJyaWMuT2JqZWN0Ll9mcm9tT2JqZWN0KCdUZXh0Ym94Jywgb2JqQ29weSwgY2FsbGJhY2ssICd0ZXh0Jyk7XG4gIH07XG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKCkge1xuXG4gIHZhciBjb250cm9sc1V0aWxzID0gZmFicmljLmNvbnRyb2xzVXRpbHMsXG4gICAgICBzY2FsZVNrZXdTdHlsZUhhbmRsZXIgPSBjb250cm9sc1V0aWxzLnNjYWxlU2tld0N1cnNvclN0eWxlSGFuZGxlcixcbiAgICAgIHNjYWxlU3R5bGVIYW5kbGVyID0gY29udHJvbHNVdGlscy5zY2FsZUN1cnNvclN0eWxlSGFuZGxlcixcbiAgICAgIHNjYWxpbmdFcXVhbGx5ID0gY29udHJvbHNVdGlscy5zY2FsaW5nRXF1YWxseSxcbiAgICAgIHNjYWxpbmdZT3JTa2V3aW5nWCA9IGNvbnRyb2xzVXRpbHMuc2NhbGluZ1lPclNrZXdpbmdYLFxuICAgICAgc2NhbGluZ1hPclNrZXdpbmdZID0gY29udHJvbHNVdGlscy5zY2FsaW5nWE9yU2tld2luZ1ksXG4gICAgICBzY2FsZU9yU2tld0FjdGlvbk5hbWUgPSBjb250cm9sc1V0aWxzLnNjYWxlT3JTa2V3QWN0aW9uTmFtZSxcbiAgICAgIG9iamVjdENvbnRyb2xzID0gZmFicmljLk9iamVjdC5wcm90b3R5cGUuY29udHJvbHM7XG5cbiAgb2JqZWN0Q29udHJvbHMubWwgPSBuZXcgZmFicmljLkNvbnRyb2woe1xuICAgIHg6IC0wLjUsXG4gICAgeTogMCxcbiAgICBjdXJzb3JTdHlsZUhhbmRsZXI6IHNjYWxlU2tld1N0eWxlSGFuZGxlcixcbiAgICBhY3Rpb25IYW5kbGVyOiBzY2FsaW5nWE9yU2tld2luZ1ksXG4gICAgZ2V0QWN0aW9uTmFtZTogc2NhbGVPclNrZXdBY3Rpb25OYW1lLFxuICB9KTtcblxuICBvYmplY3RDb250cm9scy5tciA9IG5ldyBmYWJyaWMuQ29udHJvbCh7XG4gICAgeDogMC41LFxuICAgIHk6IDAsXG4gICAgY3Vyc29yU3R5bGVIYW5kbGVyOiBzY2FsZVNrZXdTdHlsZUhhbmRsZXIsXG4gICAgYWN0aW9uSGFuZGxlcjogc2NhbGluZ1hPclNrZXdpbmdZLFxuICAgIGdldEFjdGlvbk5hbWU6IHNjYWxlT3JTa2V3QWN0aW9uTmFtZSxcbiAgfSk7XG5cbiAgb2JqZWN0Q29udHJvbHMubWIgPSBuZXcgZmFicmljLkNvbnRyb2woe1xuICAgIHg6IDAsXG4gICAgeTogMC41LFxuICAgIGN1cnNvclN0eWxlSGFuZGxlcjogc2NhbGVTa2V3U3R5bGVIYW5kbGVyLFxuICAgIGFjdGlvbkhhbmRsZXI6IHNjYWxpbmdZT3JTa2V3aW5nWCxcbiAgICBnZXRBY3Rpb25OYW1lOiBzY2FsZU9yU2tld0FjdGlvbk5hbWUsXG4gIH0pO1xuXG4gIG9iamVjdENvbnRyb2xzLm10ID0gbmV3IGZhYnJpYy5Db250cm9sKHtcbiAgICB4OiAwLFxuICAgIHk6IC0wLjUsXG4gICAgY3Vyc29yU3R5bGVIYW5kbGVyOiBzY2FsZVNrZXdTdHlsZUhhbmRsZXIsXG4gICAgYWN0aW9uSGFuZGxlcjogc2NhbGluZ1lPclNrZXdpbmdYLFxuICAgIGdldEFjdGlvbk5hbWU6IHNjYWxlT3JTa2V3QWN0aW9uTmFtZSxcbiAgfSk7XG5cbiAgb2JqZWN0Q29udHJvbHMudGwgPSBuZXcgZmFicmljLkNvbnRyb2woe1xuICAgIHg6IC0wLjUsXG4gICAgeTogLTAuNSxcbiAgICBjdXJzb3JTdHlsZUhhbmRsZXI6IHNjYWxlU3R5bGVIYW5kbGVyLFxuICAgIGFjdGlvbkhhbmRsZXI6IHNjYWxpbmdFcXVhbGx5XG4gIH0pO1xuXG4gIG9iamVjdENvbnRyb2xzLnRyID0gbmV3IGZhYnJpYy5Db250cm9sKHtcbiAgICB4OiAwLjUsXG4gICAgeTogLTAuNSxcbiAgICBjdXJzb3JTdHlsZUhhbmRsZXI6IHNjYWxlU3R5bGVIYW5kbGVyLFxuICAgIGFjdGlvbkhhbmRsZXI6IHNjYWxpbmdFcXVhbGx5XG4gIH0pO1xuXG4gIG9iamVjdENvbnRyb2xzLmJsID0gbmV3IGZhYnJpYy5Db250cm9sKHtcbiAgICB4OiAtMC41LFxuICAgIHk6IDAuNSxcbiAgICBjdXJzb3JTdHlsZUhhbmRsZXI6IHNjYWxlU3R5bGVIYW5kbGVyLFxuICAgIGFjdGlvbkhhbmRsZXI6IHNjYWxpbmdFcXVhbGx5XG4gIH0pO1xuXG4gIG9iamVjdENvbnRyb2xzLmJyID0gbmV3IGZhYnJpYy5Db250cm9sKHtcbiAgICB4OiAwLjUsXG4gICAgeTogMC41LFxuICAgIGN1cnNvclN0eWxlSGFuZGxlcjogc2NhbGVTdHlsZUhhbmRsZXIsXG4gICAgYWN0aW9uSGFuZGxlcjogc2NhbGluZ0VxdWFsbHlcbiAgfSk7XG5cbiAgb2JqZWN0Q29udHJvbHMubXRyID0gbmV3IGZhYnJpYy5Db250cm9sKHtcbiAgICB4OiAwLFxuICAgIHk6IC0wLjUsXG4gICAgYWN0aW9uSGFuZGxlcjogY29udHJvbHNVdGlscy5yb3RhdGlvbldpdGhTbmFwcGluZyxcbiAgICBjdXJzb3JTdHlsZUhhbmRsZXI6IGNvbnRyb2xzVXRpbHMucm90YXRpb25TdHlsZUhhbmRsZXIsXG4gICAgb2Zmc2V0WTogLTQwLFxuICAgIHdpdGhDb25uZWN0aW9uOiB0cnVlLFxuICAgIGFjdGlvbk5hbWU6ICdyb3RhdGUnLFxuICB9KTtcblxuICBpZiAoZmFicmljLlRleHRib3gpIHtcbiAgICAvLyB0aGlzIGlzIGJyZWFraW5nIHRoZSBwcm90b3R5cGUgaW5oZXJpdGFuY2UsIG5vIHRpbWUgLyBpZGVhcyB0byBmaXggaXQuXG4gICAgLy8gaXMgaW1wb3J0YW50IHRvIGRvY3VtZW50IHRoYXQgaWYgeW91IHdhbnQgdG8gaGF2ZSBhbGwgb2JqZWN0cyB0byBoYXZlIGFcbiAgICAvLyBzcGVjaWZpYyBjdXN0b20gY29udHJvbCwgeW91IGhhdmUgdG8gYWRkIGl0IHRvIE9iamVjdCBwcm90b3R5cGUgYW5kIHRvIFRleHRib3hcbiAgICAvLyBwcm90b3R5cGUuIFRoZSBjb250cm9scyBhcmUgc2hhcmVkIGFzIHJlZmVyZW5jZXMuIFNvIGNoYW5nZXMgdG8gY29udHJvbCBgdHJgXG4gICAgLy8gY2FuIHN0aWxsIGFwcGx5IHRvIGFsbCBvYmplY3RzIGlmIG5lZWRlZC5cbiAgICB2YXIgdGV4dEJveENvbnRyb2xzID0gZmFicmljLlRleHRib3gucHJvdG90eXBlLmNvbnRyb2xzID0geyB9O1xuXG4gICAgdGV4dEJveENvbnRyb2xzLm10ciA9IG9iamVjdENvbnRyb2xzLm10cjtcbiAgICB0ZXh0Qm94Q29udHJvbHMudHIgPSBvYmplY3RDb250cm9scy50cjtcbiAgICB0ZXh0Qm94Q29udHJvbHMuYnIgPSBvYmplY3RDb250cm9scy5icjtcbiAgICB0ZXh0Qm94Q29udHJvbHMudGwgPSBvYmplY3RDb250cm9scy50bDtcbiAgICB0ZXh0Qm94Q29udHJvbHMuYmwgPSBvYmplY3RDb250cm9scy5ibDtcbiAgICB0ZXh0Qm94Q29udHJvbHMubXQgPSBvYmplY3RDb250cm9scy5tdDtcbiAgICB0ZXh0Qm94Q29udHJvbHMubWIgPSBvYmplY3RDb250cm9scy5tYjtcblxuICAgIHRleHRCb3hDb250cm9scy5tciA9IG5ldyBmYWJyaWMuQ29udHJvbCh7XG4gICAgICB4OiAwLjUsXG4gICAgICB5OiAwLFxuICAgICAgYWN0aW9uSGFuZGxlcjogY29udHJvbHNVdGlscy5jaGFuZ2VXaWR0aCxcbiAgICAgIGN1cnNvclN0eWxlSGFuZGxlcjogc2NhbGVTa2V3U3R5bGVIYW5kbGVyLFxuICAgICAgYWN0aW9uTmFtZTogJ3Jlc2l6aW5nJyxcbiAgICB9KTtcblxuICAgIHRleHRCb3hDb250cm9scy5tbCA9IG5ldyBmYWJyaWMuQ29udHJvbCh7XG4gICAgICB4OiAtMC41LFxuICAgICAgeTogMCxcbiAgICAgIGFjdGlvbkhhbmRsZXI6IGNvbnRyb2xzVXRpbHMuY2hhbmdlV2lkdGgsXG4gICAgICBjdXJzb3JTdHlsZUhhbmRsZXI6IHNjYWxlU2tld1N0eWxlSGFuZGxlcixcbiAgICAgIGFjdGlvbk5hbWU6ICdyZXNpemluZycsXG4gICAgfSk7XG4gIH1cbn0pKCk7XG5cbiIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9iYXIuY3NzXCI7XG4gICAgICBcbiAgICAgIFxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtID0gc3R5bGVUYWdUcmFuc2Zvcm1Gbjtcbm9wdGlvbnMuc2V0QXR0cmlidXRlcyA9IHNldEF0dHJpYnV0ZXM7XG5cbiAgICAgIG9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG4gICAgXG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9iYXIuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2NvbG9yUGlja0J1dHRvbi5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2NvbG9yUGlja0J1dHRvbi5jc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iLCJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vb2JqZWN0UHJvcGVydGllcy5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL29iamVjdFByb3BlcnRpZXMuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2J1dHRvbi5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2J1dHRvbi5jc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iLCJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vdG9vbHRpcC5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3Rvb2x0aXAuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBzdHlsZXNJbkRPTSA9IFtdO1xuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5ET00ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5ET01baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleEJ5SWRlbnRpZmllciA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXSxcbiAgICAgIHN1cHBvcnRzOiBpdGVtWzRdLFxuICAgICAgbGF5ZXI6IGl0ZW1bNV1cbiAgICB9O1xuICAgIGlmIChpbmRleEJ5SWRlbnRpZmllciAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdXBkYXRlciA9IGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpO1xuICAgICAgb3B0aW9ucy5ieUluZGV4ID0gaTtcbiAgICAgIHN0eWxlc0luRE9NLnNwbGljZShpLCAwLCB7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IHVwZGF0ZXIsXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cbmZ1bmN0aW9uIGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIGFwaSA9IG9wdGlvbnMuZG9tQVBJKG9wdGlvbnMpO1xuICBhcGkudXBkYXRlKG9iaik7XG4gIHZhciB1cGRhdGVyID0gZnVuY3Rpb24gdXBkYXRlcihuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwICYmIG5ld09iai5zdXBwb3J0cyA9PT0gb2JqLnN1cHBvcnRzICYmIG5ld09iai5sYXllciA9PT0gb2JqLmxheWVyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFwaS51cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIHVwZGF0ZXI7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcbiAgICAgIGlmIChzdHlsZXNJbkRPTVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5ET01bX2luZGV4XS51cGRhdGVyKCk7XG4gICAgICAgIHN0eWxlc0luRE9NLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgbWVtbyA9IHt9O1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGdldFRhcmdldCh0YXJnZXQpIHtcbiAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XG5cbiAgICAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gIH1cbiAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBpbnNlcnRCeVNlbGVjdG9yKGluc2VydCwgc3R5bGUpIHtcbiAgdmFyIHRhcmdldCA9IGdldFRhcmdldChpbnNlcnQpO1xuICBpZiAoIXRhcmdldCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gIH1cbiAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0QnlTZWxlY3RvcjsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgb3B0aW9ucy5zZXRBdHRyaWJ1dGVzKGVsZW1lbnQsIG9wdGlvbnMuYXR0cmlidXRlcyk7XG4gIG9wdGlvbnMuaW5zZXJ0KGVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG4gIHJldHVybiBlbGVtZW50O1xufVxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzKHN0eWxlRWxlbWVudCkge1xuICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09IFwidW5kZWZpbmVkXCIgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG4gIGlmIChub25jZSkge1xuICAgIHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBub25jZSk7XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGFwcGx5KHN0eWxlRWxlbWVudCwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBcIlwiO1xuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQob2JqLnN1cHBvcnRzLCBcIikge1wiKTtcbiAgfVxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIik7XG4gIH1cbiAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBvYmoubGF5ZXIgIT09IFwidW5kZWZpbmVkXCI7XG4gIGlmIChuZWVkTGF5ZXIpIHtcbiAgICBjc3MgKz0gXCJAbGF5ZXJcIi5jb25jYXQob2JqLmxheWVyLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQob2JqLmxheWVyKSA6IFwiXCIsIFwiIHtcIik7XG4gIH1cbiAgY3NzICs9IG9iai5jc3M7XG4gIGlmIChuZWVkTGF5ZXIpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuICBpZiAoc291cmNlTWFwICYmIHR5cGVvZiBidG9hICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH1cblxuICAvLyBGb3Igb2xkIElFXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cbiAgb3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbn1cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZUVsZW1lbnQucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xufVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGRvbUFQSShvcHRpb25zKSB7XG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoKSB7fSxcbiAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge31cbiAgICB9O1xuICB9XG4gIHZhciBzdHlsZUVsZW1lbnQgPSBvcHRpb25zLmluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgcmV0dXJuIHtcbiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShvYmopIHtcbiAgICAgIGFwcGx5KHN0eWxlRWxlbWVudCwgb3B0aW9ucywgb2JqKTtcbiAgICB9LFxuICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XG4gICAgfVxuICB9O1xufVxubW9kdWxlLmV4cG9ydHMgPSBkb21BUEk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQpIHtcbiAgaWYgKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgfVxuICAgIHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBzdHlsZVRhZ1RyYW5zZm9ybTsiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAyNCAyNFxcXCI+PHBhdGggZD1cXFwiTTEyLjUwMSAxNC43OTJsMy44NTQgMy44NTQtLjcwNy43MDdMMTMgMTYuNzA1VjIzaC0xdi02LjI5M2wtMi42NDYgMi42NDYtLjcwNy0uNzA3ek04LjY0NyA2LjM1NGwzLjg1NCAzLjg1NCAzLjg1NC0zLjg1NC0uNzA3LS43MDdMMTMgOC4yOTVWMmgtMXY2LjI5M0w5LjM1NCA1LjY0N3pNNiAxM2gxM3YtMUg2elxcXCI+PC9wYXRoPjxwYXRoIGZpbGw9XFxcIm5vbmVcXFwiIGQ9XFxcIk0wIDBoMjR2MjRIMHpcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDI0IDI0XFxcIj48cGF0aCBkPVxcXCJNMTYuNzA3IDEySDIzdjFoLTYuMjk1bDIuNjQ4IDIuNjQ3LS43MDcuNzA3LTMuODU0LTMuODUzIDMuODU0LTMuODU0LjcwNy43MDd6TTUuNjQ3IDkuMzU0TDguMjkzIDEySDJ2MWg2LjI5NWwtMi42NDggMi42NDcuNzA3LjcwNyAzLjg1NC0zLjg1My0zLjg1NC0zLjg1NHpNMTIgMTloMVY2aC0xelxcXCI+PC9wYXRoPjxwYXRoIGZpbGw9XFxcIm5vbmVcXFwiIGQ9XFxcIk0wIDBoMjR2MjRIMHpcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDI0IDI0XFxcIj48cGF0aCBkPVxcXCJNMTMgM3YxMi4yOTRsMi42NDctMi42NDcuNzA3LjcwNy0zLjg1MyAzLjg1NC0zLjg1NC0zLjg1NC43MDctLjcwN0wxMiAxNS4yOTJWM3pNNiAyMWgxM3YtMUg2elxcXCI+PC9wYXRoPjxwYXRoIGZpbGw9XFxcIm5vbmVcXFwiIGQ9XFxcIk0wIDBoMjR2MjRIMHpcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDI0IDI0XFxcIj48cGF0aCBkPVxcXCJNMjIgNUgxMlY0aDEwem0wIDNoLTh2MWg4em0wIDV2LTFoLTZ2MXpNMiAxN2gyMHYtMUgyem0wIDRoMjB2LTFIMnptLjIzNC04TDcuMDQyIDIuMDQ5aC45MTZMMTIuNzY2IDEzaC0xLjA5M0w5LjkxNyA5SDUuMDgzbC0xLjc1NiA0em0zLjI4OC01aDMuOTU2TDcuNSAzLjQ5NHpcXFwiPjwvcGF0aD48cGF0aCBmaWxsPVxcXCJub25lXFxcIiBkPVxcXCJNMCAwaDI0djI0SDB6XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAyNCAyNFxcXCI+PHBhdGggZD1cXFwiTTE4Ljg3IDZoMS4wMDdsLS45ODggMTYuMDE1QTEuMDUxIDEuMDUxIDAgMCAxIDE3Ljg0IDIzSDYuMTU4YTEuMDUyIDEuMDUyIDAgMCAxLTEuMDQ4LS45ODR2LS4wMDFMNC4xMjMgNmgxLjAwM2wuOTgyIDE1Ljk1M2EuMDUuMDUgMCAwIDAgLjA1LjA0N2gxMS42ODN6TTkuNSAxOWEuNS41IDAgMCAwIC41LS41di0xMGEuNS41IDAgMCAwLTEgMHYxMGEuNS41IDAgMCAwIC41LjV6bTUgMGEuNS41IDAgMCAwIC41LS41di0xMGEuNS41IDAgMCAwLTEgMHYxMGEuNS41IDAgMCAwIC41LjV6TTUuMDY0IDVIM1Y0aDV2LS43NUExLjI1MSAxLjI1MSAwIDAgMSA5LjI1IDJoNS41QTEuMjUxIDEuMjUxIDAgMCAxIDE2IDMuMjVWNGg1djFINS4wNjR6TTkgNGg2di0uNzVhLjI1LjI1IDAgMCAwLS4yNS0uMjVoLTUuNWEuMjUuMjUgMCAwIDAtLjI1LjI1elxcXCI+PC9wYXRoPjxwYXRoIGZpbGw9XFxcIm5vbmVcXFwiIGQ9XFxcIk0wIDBoMjR2MjRIMHpcXFwiPjwvcGF0aD48L3N2Zz5cIiIsImltcG9ydCBCYXIgZnJvbSBcIi4vY29tcG9uZW50cy9CYXIvQmFyXCJcclxuaW1wb3J0IE9iamVjdFByb3BlcnRpZXMgZnJvbSBcIi4vY29tcG9uZW50cy9PYmplY3RQcm9wZXJ0aWVzL09iamVjdFByb3BlcnRpZXNcIlxyXG5pbXBvcnQgV2lkZ2V0Q2FudmFzIGZyb20gXCIuL2NvbXBvbmVudHMvV2lkZ2V0Q2FudmFzL1dpZGdldENhbnZhc1wiXHJcbmltcG9ydCB7IGdldENvbG9ycywgZ2V0RGF0YSwgZ2V0UHJpY2VFbGVtZW50IH0gZnJvbSBcIi4vcmVzb3VyY2VzL2NvbnN0YW50c1wiXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdpZGdldCB7XHJcblx0cHJpdmF0ZSBfZWxlbWVudDogSFRNTERpdkVsZW1lbnRcclxuXHRwcml2YXRlIF91cGJhcjogQmFyXHJcblx0cHJpdmF0ZSBfY2FudmFzOiBXaWRnZXRDYW52YXNcclxuXHRwcml2YXRlIF9vYmplY3RQcm9wZXJ0aWVzQmFyOiBPYmplY3RQcm9wZXJ0aWVzXHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHR0aGlzLl9lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxyXG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHlcIikuYXBwZW5kQ2hpbGQodGhpcy5fZWxlbWVudClcclxuXHR9XHJcblx0YXN5bmMgaW5pdGlhbGl6ZSgpIHtcclxuXHRcdHRoaXMuX2NhbnZhcyA9IG5ldyBXaWRnZXRDYW52YXModGhpcy5fZWxlbWVudClcclxuXHRcdGF3YWl0IGdldERhdGEoKVxyXG5cdFx0Z2V0Q29sb3JzKClcclxuXHRcdHRoaXMuX3VwYmFyID0gbmV3IEJhcih0aGlzLl9lbGVtZW50LCB0aGlzLl9jYW52YXMpXHJcblx0XHR0aGlzLl9vYmplY3RQcm9wZXJ0aWVzQmFyID0gbmV3IE9iamVjdFByb3BlcnRpZXMoXHJcblx0XHRcdHRoaXMuX2VsZW1lbnQsXHJcblx0XHRcdHRoaXMuX2NhbnZhc1xyXG5cdFx0KVxyXG5cdH1cclxuXHJcblx0bG9hZEZvbnRzKGZvbnRzOiBzdHJpbmdbXSkge1xyXG5cdFx0Zm9udHMubWFwKChmb250KSA9PiB7XHJcblx0XHRcdGNvbnN0IHAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKVxyXG5cdFx0XHRwLmlubmVySFRNTCA9IGAmZW5zcDtgXHJcblx0XHRcdHAuc3R5bGUuZm9udEZhbWlseSA9IGZvbnRcclxuXHRcdFx0cC5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIlxyXG5cdFx0XHR0aGlzLl9lbGVtZW50LmFwcGVuZENoaWxkKHApXHJcblx0XHR9KVxyXG5cdH1cclxuXHRjcmVhdGVTZWxlY3QoKSB7XHJcblx0XHQvKiBDaGFuZ2UgZm9udHNcclxuICAgICAgICBjb25zdCBzZWxlY3QgPSBuZXcgU2VsZWN0KGZvbnRzLCAoZXY6RXZlbnQpPT57XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKChldi50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUpO1xyXG4gICAgICAgICAgICAoY2FudmFzLl9mYWJyaWNDYW52YXMuX2FjdGl2ZU9iamVjdCBhcyBJVGV4dCkuZm9udEZhbWlseSA9IChldi50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWVcclxuICAgICAgICAgICAgY2FudmFzLl9mYWJyaWNDYW52YXMucmVuZGVyQWxsKClcclxuICAgICAgICB9LCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGJhc2VMb2NhdGlvbikpXHJcbiAgICAqL1xyXG5cdH1cclxuXHRnZXRDYW52YXMoKTogV2lkZ2V0Q2FudmFzIHtcclxuXHRcdHJldHVybiB0aGlzLl9jYW52YXNcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0IFwiLi9iYXIuY3NzXCJcclxuaW1wb3J0IFRvb2x0aXAgZnJvbSBcIi4uL1VJL1Rvb2x0aXAvVG9vbHRpcFwiXHJcbmltcG9ydCBCdXR0b24gZnJvbSBcIi4uL1VJL0J1dHRvbi9CdXR0b25cIlxyXG5pbXBvcnQgV2lkZ2V0Q2FudmFzIGZyb20gXCIuLi9XaWRnZXRDYW52YXMvV2lkZ2V0Q2FudmFzXCJcclxuaW1wb3J0IHsgZmFicmljIH0gZnJvbSBcImZhYnJpY1wiXHJcbmltcG9ydCBBZGRUZXh0SWNvbiBmcm9tIFwiLi4vLi4vaWNvbnMvdGV4dC5zdmdcIlxyXG5pbXBvcnQgVHJhc2hJY29uIGZyb20gXCIuLi8uLi9pY29ucy90cmFzaC5zdmdcIlxyXG5pbXBvcnQgQ2VudGVySG9yaXpvbnRhbEljb24gZnJvbSBcIi4uLy4uL2ljb25zL2NlbnRlci1ob3Jpem9udGFsLnN2Z1wiXHJcbmltcG9ydCBDZW50ZXJWZXJ0aWNhbEljb24gZnJvbSBcIi4uLy4uL2ljb25zL2NlbnRlci12ZXJ0aWNhbC5zdmdcIlxyXG5pbXBvcnQgRG93bmxvYWRJY29uIGZyb20gXCIuLi8uLi9pY29ucy9kb3dubG9hZC5zdmdcIlxyXG5pbXBvcnQgRG93bmxvYWRlciBmcm9tIFwiLi9Eb3dubG9kZXJcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFyIHtcclxuXHRfZWxlbWVudDogSFRNTERpdkVsZW1lbnRcclxuXHRfZG93bmxvYWRlcjogRG93bmxvYWRlclxyXG5cdGNvbnN0cnVjdG9yKG1vdW50RWxlbWVudDogSFRNTERpdkVsZW1lbnQsIGNhbnZhczogV2lkZ2V0Q2FudmFzKSB7XHJcblx0XHR0aGlzLl9lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxyXG5cdFx0bW91bnRFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX2VsZW1lbnQpXHJcblx0XHR0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJiYXJcIilcclxuXHJcblx0XHR0aGlzLl9kb3dubG9hZGVyID0gbmV3IERvd25sb2FkZXIobW91bnRFbGVtZW50KVxyXG5cclxuXHRcdGNvbnN0IGJ1dHRvbnMgPSBbXHJcblx0XHRcdHtcclxuXHRcdFx0XHRuYW1lOiBcItCU0L7QsdCw0LLQuNGC0Ywg0YLQtdC60YHRglwiLFxyXG5cdFx0XHRcdGZ1bmM6ICgpID0+IHtcclxuXHRcdFx0XHRcdGNhbnZhcy5hZGRUZXh0KFwi0KLQtdC60YHRglwiKVxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0aWNvbjogQWRkVGV4dEljb24sXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRuYW1lOiBcItCS0YvRgNC+0LLQvdGP0YLRjCDQv9C+INCz0L7RgNC40LfQvtC90YLQsNC70LhcIixcclxuXHRcdFx0XHRmdW5jOiAoKSA9PiB7XHJcblx0XHRcdFx0XHRjYW52YXMuX3NlbGVjdGVkT2JqZWN0cz8ubWFwKChvYmopID0+IHtcclxuXHRcdFx0XHRcdFx0Y2FudmFzLmFsaWduT2JqZWN0KG9iaiwgdHJ1ZSwgZmFsc2UpXHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0aWNvbjogQ2VudGVySG9yaXpvbnRhbEljb24sXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRuYW1lOiBcItCS0YvRgNC+0LLQvdGP0YLRjCDQv9C+INCy0LXRgNGC0LjQutCw0LvQuFwiLFxyXG5cdFx0XHRcdGZ1bmM6ICgpID0+IHtcclxuXHRcdFx0XHRcdGNhbnZhcy5fc2VsZWN0ZWRPYmplY3RzPy5tYXAoKG9iaikgPT4ge1xyXG5cdFx0XHRcdFx0XHRjYW52YXMuYWxpZ25PYmplY3Qob2JqLCBmYWxzZSwgdHJ1ZSlcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRpY29uOiBDZW50ZXJWZXJ0aWNhbEljb24sXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRuYW1lOiBcItCh0L7RhdGA0LDQvdC40YLRjCDQsiBQTkdcIixcclxuXHRcdFx0XHRmdW5jOiAoKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLl9kb3dubG9hZGVyLmRvd2xvYWQodGhpcy5fZG93bmxvYWRlci5yZW5kZXIoY2FudmFzKSlcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdGljb246IERvd25sb2FkSWNvbixcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdG5hbWU6IFwi0KPQtNCw0LvQuNGC0Ywg0Y3Qu9C10LzQtdC90YJcIixcclxuXHRcdFx0XHRmdW5jOiAoKSA9PiB7XHJcblx0XHRcdFx0XHRjYW52YXMuZGVsZXRlTGFzdEFjdGl2ZU9iamVjdCgpXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRpY29uOiBUcmFzaEljb24sXHJcblx0XHRcdH0sXHJcblx0XHRdXHJcblx0XHRidXR0b25zLm1hcCgob2JqKSA9PiB7XHJcblx0XHRcdGNvbnN0IGJ1dHRvbiA9IG5ldyBCdXR0b24oXCJcIiwgb2JqLmZ1bmMsIHRoaXMuX2VsZW1lbnQpXHJcblx0XHRcdGJ1dHRvbi5nZXRFbGVtZW50KCkuaW5uZXJIVE1MID0gb2JqLmljb25cclxuXHRcdFx0bmV3IFRvb2x0aXAob2JqLm5hbWUsIGJ1dHRvbi5nZXRFbGVtZW50KCkpXHJcblx0XHR9KVxyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgV2lkZ2V0Q2FudmFzIGZyb20gXCIuLi9XaWRnZXRDYW52YXMvV2lkZ2V0Q2FudmFzXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERvd25sb2FkZXJ7XHJcbiAgICBfZWxlbWVudDogSFRNTEFuY2hvckVsZW1lbnRcclxuICAgIGNvbnN0cnVjdG9yKG1vdW50UGxhY2U6IEhUTUxFbGVtZW50KXtcclxuICAgICAgICB0aGlzLl9lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpXHJcbiAgICAgICAgbW91bnRQbGFjZS5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtZW50KVxyXG4gICAgfVxyXG4gICAgcmVuZGVyKGNhbnZhczogV2lkZ2V0Q2FudmFzLCByZW5kZXJDb250cm9scyA9IHRydWUpe1xyXG4gICAgICAgIGlmKHJlbmRlckNvbnRyb2xzKXtcclxuICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgIHJldHVybiBjYW52YXMuX2NhbnZhc0VsZW1lbnQudG9EYXRhVVJMKFwiaW1hZ2UvcG5nXCIpIC8vIHNhdmUgd2l0aCBjb250cm9sc1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gY2FudmFzLl9jYW52YXMudG9EYXRhVVJMKHtcclxuICAgICAgICAgICAgICAgIGZvcm1hdDogJ3BuZycsXHJcbiAgICAgICAgICAgICAgICBtdWx0aXBsaWVyOiAyLFxyXG4gICAgICAgICAgICAgICAgd2l0aG91dFRyYW5zZm9ybTogdHJ1ZSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZG93bG9hZChibG9iSW1hZ2U6IHN0cmluZyl7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudC5ocmVmID0gYmxvYkltYWdlXHJcbiAgICAgICAgdGhpcy5fZWxlbWVudC5kb3dubG9hZCA9ICdORU9ORVMuUlUucG5nJ1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQuY2xpY2soKVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgZ2V0Q29sb3JzIH0gZnJvbSBcIi4uLy4uLy4uL3Jlc291cmNlcy9jb25zdGFudHNcIlxyXG5pbXBvcnQgU2hhZG93VGV4dCBmcm9tIFwiLi4vLi4vU2hhZG93VGV4dFwiXHJcbmltcG9ydCBCdXR0b24gZnJvbSBcIi4uLy4uL1VJL0J1dHRvbi9CdXR0b25cIlxyXG5pbXBvcnQgVG9vbHRpcCBmcm9tIFwiLi4vLi4vVUkvVG9vbHRpcC9Ub29sdGlwXCJcclxuaW1wb3J0IFdpZGdldENhbnZhcyBmcm9tIFwiLi4vLi4vV2lkZ2V0Q2FudmFzL1dpZGdldENhbnZhc1wiXHJcbmltcG9ydCBcIi4vY29sb3JQaWNrQnV0dG9uLmNzc1wiXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbG9yUGlja0J1dHRvbnMge1xyXG5cdGVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50XHJcblx0Y29uc3RydWN0b3IoY2FudmFzOiBXaWRnZXRDYW52YXMpIHtcclxuXHRcdGNvbnN0IGNvbG9ycyA9IGdldENvbG9ycygpXHJcblx0XHR0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXHJcblx0XHR0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImNvbG9yUGlja0J1dHRvbnNcIilcclxuXHRcdE9iamVjdC5rZXlzKGNvbG9ycykubWFwKChjb2xvcktleTogc3RyaW5nLCBpbmRleDogbnVtYmVyKSA9PiB7XHJcblx0XHRcdGNvbnN0IGNvbG9yID0gT2JqZWN0LnZhbHVlcyhjb2xvcnMpW2luZGV4XVxyXG5cdFx0XHRjb25zdCBidXR0b24gPSBuZXcgQnV0dG9uKFxyXG5cdFx0XHRcdFwiXCIsXHJcblx0XHRcdFx0KCkgPT4ge1xyXG5cdFx0XHRcdFx0Y2FudmFzPy5fc2VsZWN0ZWRPYmplY3RzPy5tYXAoKG9iajogU2hhZG93VGV4dCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRvYmouY2hhbmdlU2hhZG93KGNvbG9yIGFzIHN0cmluZylcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRjYW52YXMudXBkYXRlKClcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdHRoaXMuZWxlbWVudFxyXG5cdFx0XHQpXHJcblx0XHRcdGJ1dHRvbi5nZXRFbGVtZW50KCkuY2xhc3NMaXN0LmFkZChcImNvbG9yQnV0dG9uXCIpXHJcblx0XHRcdG5ldyBUb29sdGlwKGNvbG9yS2V5LCBidXR0b24uZ2V0RWxlbWVudCgpKVxyXG5cdFx0XHRidXR0b24uZ2V0RWxlbWVudCgpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbG9yIGFzIHN0cmluZ1xyXG5cdFx0fSlcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0IHtcblx0Zm9udHMsXG5cdGdldFByaWNlRWxlbWVudCxcblx0Z2V0UHJpY2VUZXh0U2l6ZSxcbn0gZnJvbSBcIi4uLy4uL3Jlc291cmNlcy9jb25zdGFudHNcIlxuaW1wb3J0IFNoYWRvd1RleHQgZnJvbSBcIi4uL1NoYWRvd1RleHRcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwiLi4vVUkvQnV0dG9uL0J1dHRvblwiXG5pbXBvcnQgVG9vbHRpcCBmcm9tIFwiLi4vVUkvVG9vbHRpcC9Ub29sdGlwXCJcbmltcG9ydCBXaWRnZXRDYW52YXMgZnJvbSBcIi4uL1dpZGdldENhbnZhcy9XaWRnZXRDYW52YXNcIlxuaW1wb3J0IENvbG9yUGlja0J1dHRvbnMgZnJvbSBcIi4vQ29sb3JCdXR0b25zL0NvbG9yUGlja0J1dHRvbnNcIlxuaW1wb3J0IFwiLi9vYmplY3RQcm9wZXJ0aWVzLmNzc1wiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9iamVjdFByb3BlcnRpZXMge1xuXHRwcml2YXRlIF9lbGVtZW50OiBIVE1MRGl2RWxlbWVudFxuXHRwcml2YXRlIF9jYW52YXM6IFdpZGdldENhbnZhc1xuXHRjb25zdHJ1Y3Rvcihtb3VudEVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50LCBjYW52YXM6IFdpZGdldENhbnZhcykge1xuXHRcdHRoaXMuX2VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG5cdFx0dGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwib2JqZWN0UHJvcGVydGllc1wiLCBcImhpZGRlblwiKVxuXHRcdHRoaXMuX2NhbnZhcyA9IGNhbnZhc1xuXHRcdG1vdW50RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtZW50KVxuXG5cdFx0Y2FudmFzLl9jYW52YXMub24oXCJzZWxlY3Rpb246Y3JlYXRlZFwiLCAoKSA9PiB7XG5cdFx0XHR0aGlzLnVwZGF0ZVZpc2liaWxpdHkoKVxuXHRcdH0pXG5cdFx0Y2FudmFzLl9jYW52YXMub24oXCJzZWxlY3Rpb246Y2xlYXJlZFwiLCAoKSA9PiB7XG5cdFx0XHR0aGlzLnVwZGF0ZVZpc2liaWxpdHkoKVxuXHRcdH0pXG5cdFx0Y2FudmFzLl9jYW52YXMub24oXCJzZWxlY3Rpb246dXBkYXRlZFwiLCAoKSA9PiB7XG5cdFx0XHR0aGlzLnVwZGF0ZVZpc2liaWxpdHkoKVxuXHRcdH0pXG5cblx0XHR0aGlzLm9wdGlvblRleHQoKVxuXHRcdHRoaXMub3B0aW9uQ29sb3JzKClcblx0XHR0aGlzLm9wdGlvbkZvbnRzKClcblx0XHR0aGlzLm9wdGlvblByaWNlKClcblx0fVxuXHRhZGRPcHRpb25EaXYoKSB7XG5cdFx0Y29uc3Qgb3B0aW9uRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuXHRcdG9wdGlvbkRpdi5jbGFzc0xpc3QuYWRkKFwib3B0aW9uXCIpXG5cdFx0cmV0dXJuIG9wdGlvbkRpdlxuXHR9XG5cdGFkZE9wdGlvbihsYWJlbFRleHQ6IHN0cmluZyA9IFwiXCIpIHtcblx0XHRjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcblx0XHRsYWJlbC5jbGFzc0xpc3QuYWRkKGxhYmVsVGV4dClcblx0XHRsYWJlbC5jbGFzc0xpc3QuYWRkKFwibGFiZWxcIilcblx0XHR0aGlzLl9lbGVtZW50LmFwcGVuZENoaWxkKGxhYmVsKVxuXHRcdGNvbnN0IG9wdGlvbiA9IHRoaXMuYWRkT3B0aW9uRGl2KClcblx0XHRsYWJlbC5hcHBlbmRDaGlsZChvcHRpb24pXG5cblx0XHRyZXR1cm4gb3B0aW9uXG5cdH1cblx0YWRkUmFuZ2UoXG5cdFx0bWluOiBzdHJpbmcsXG5cdFx0bWF4OiBzdHJpbmcsXG5cdFx0c3RlcDogc3RyaW5nLFxuXHRcdG1vdW50RWxlbWVudDogSFRNTERpdkVsZW1lbnRcblx0KSB7XG5cdFx0Y29uc3QgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIilcblx0XHRyYW5nZS50eXBlID0gXCJyYW5nZVwiXG5cdFx0cmFuZ2UubWluID0gbWluXG5cdFx0cmFuZ2UubWF4ID0gbWF4XG5cdFx0cmFuZ2Uuc3RlcCA9IHN0ZXBcblx0XHRtb3VudEVsZW1lbnQuYXBwZW5kQ2hpbGQocmFuZ2UpXG5cdH1cblx0dXBkYXRlVmlzaWJpbGl0eSgpIHtcblx0XHR0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoXCJoaWRkZW5cIilcblxuXHRcdHRoaXMuc2hvd1ByaWNlKClcblx0fVxuXHRvcHRpb25UZXh0KCkge1xuXHRcdGNvbnN0IG9wdGlvbkVsZW1lbnQgPSB0aGlzLmFkZE9wdGlvbihcItCi0LXQutGB0YJcIilcblx0XHRjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiKVxuXHRcdGlucHV0LmNsYXNzTGlzdC5hZGQoXCJ0ZXh0YXJlYVwiKVxuXHRcdGlucHV0LnBsYWNlaG9sZGVyID0gXCLQktCw0Ygg0YLQtdC60YHRglwiXG5cdFx0aW5wdXQucm93cyA9IDNcblx0XHRvcHRpb25FbGVtZW50LmFwcGVuZENoaWxkKGlucHV0KVxuXHRcdGlucHV0Lm9uaW5wdXQgPSAoZSkgPT4ge1xuXHRcdFx0Y29uc3QgdmFsdWUgPSAoZS50YXJnZXQgYXMgSFRNTFRleHRBcmVhRWxlbWVudCkudmFsdWVcblx0XHRcdHRoaXMuX2NhbnZhcy5fc2VsZWN0ZWRPYmplY3RzLm1hcCgob2JqOiBTaGFkb3dUZXh0KSA9PiB7XG5cdFx0XHRcdG9iai5jaGFuZ2VUZXh0KHZhbHVlKVxuXHRcdFx0fSlcblx0XHRcdHRoaXMuX2NhbnZhcy51cGRhdGUoKVxuXHRcdH1cblx0fVxuXHRvcHRpb25Db2xvcnMoKSB7XG5cdFx0Y29uc3Qgb3B0aW9uRWxlbWVudCA9IHRoaXMuYWRkT3B0aW9uKFwi0KbQstC10YJcIilcblx0XHRjb25zdCBjb2xvclBpY2tCdXR0b25zID0gbmV3IENvbG9yUGlja0J1dHRvbnModGhpcy5fY2FudmFzKVxuXHRcdG9wdGlvbkVsZW1lbnQuYXBwZW5kQ2hpbGQoY29sb3JQaWNrQnV0dG9ucy5lbGVtZW50KVxuXHR9XG5cblx0b3B0aW9uRm9udHMoKSB7XG5cdFx0Y29uc3Qgb3B0aW9uID0gdGhpcy5hZGRPcHRpb24oXCLQqNGA0LjRhNGCXCIpXG5cdFx0b3B0aW9uLmNsYXNzTGlzdC5hZGQoXCJmb250T3B0aW9uXCIpXG5cdFx0Zm9udHMubWFwKChmb250KSA9PiB7XG5cdFx0XHRjb25zdCBidXR0b24gPSBuZXcgQnV0dG9uKFxuXHRcdFx0XHRmb250LFxuXHRcdFx0XHQoKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5fY2FudmFzLl9zZWxlY3RlZE9iamVjdHMubWFwKChvYmo6IFNoYWRvd1RleHQpID0+IHtcblx0XHRcdFx0XHRcdG9iai5jaGFuZ2VGb250KGZvbnQpXG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0XHR0aGlzLl9jYW52YXMudXBkYXRlKClcblx0XHRcdFx0XHR0aGlzLnNob3dQcmljZSgpXG5cdFx0XHRcdH0sXG5cdFx0XHRcdG9wdGlvblxuXHRcdFx0KVxuXHRcdFx0YnV0dG9uLmdldEVsZW1lbnQoKS5jbGFzc0xpc3QuYWRkKFwiZm9udE9wdGlvbkJ1dHRvblwiKVxuXHRcdFx0YnV0dG9uLmdldEVsZW1lbnQoKS5zdHlsZS5mb250RmFtaWx5ID0gZm9udFxuXHRcdFx0YnV0dG9uLmdldEVsZW1lbnQoKS5zdHlsZS5mb250U2l6ZSA9IFwiMWVtXCJcblx0XHR9KVxuXHR9XG5cdGNoYW5nZVNoYWRvdyhjb2xvcjogc3RyaW5nKSB7XG5cdFx0dGhpcy5fY2FudmFzLl9zZWxlY3RlZE9iamVjdHMubWFwKChvYmo6IFNoYWRvd1RleHQpID0+IHtcblx0XHRcdG9iai5jaGFuZ2VTaGFkb3coY29sb3IpXG5cdFx0XHRvYmouZGlydHkgPSB0cnVlXG5cdFx0fSlcblx0XHR0aGlzLl9jYW52YXMudXBkYXRlKClcblx0fVxuXHRvcHRpb25QcmljZSgpIHtcblx0XHRjb25zdCBvcHRpb24gPSB0aGlzLmFkZE9wdGlvbihcItCh0YLQvtC40LzQvtGB0YLRjFwiKVxuXHRcdGNvbnN0IHByaWNlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuXHRcdHByaWNlRGl2LmNsYXNzTGlzdC5hZGQoXCJwcmljZURpdlwiKVxuXHRcdHByaWNlRGl2LnRleHRDb250ZW50ID0gXCJcIlxuXHRcdG9wdGlvbi5hcHBlbmRDaGlsZChwcmljZURpdilcblxuXHRcdHRoaXMuX2NhbnZhcy5fY2FudmFzLm9uKFwib2JqZWN0Om1vZGlmaWVkXCIsICgpID0+IHtcblx0XHRcdHRoaXMuc2hvd1ByaWNlKClcblx0XHR9KVxuXHR9XG5cdHNob3dQcmljZSgpIHtcblx0XHRjb25zdCBzZWxlY3Rpb24gPSB0aGlzLl9jYW52YXMuc2VsZWN0QWxsKClcblx0XHRzZWxlY3Rpb24udW5ncm91cE9uQ2FudmFzKClcblx0XHRsZXQgcHJpY2UgPSAwXG5cdFx0bGV0IGVsZW1lbnRzID0gMFxuXHRcdGxldCB3aWR0aCA9IE51bWJlci5wYXJzZUZsb2F0KFxuXHRcdFx0KFxuXHRcdFx0XHRNYXRoLnJvdW5kKChzZWxlY3Rpb24ud2lkdGggKyBOdW1iZXIuRVBTSUxPTikgKiAxMDApIC8gMTAwXG5cdFx0XHQpLnRvU3RyaW5nKClcblx0XHQpXG5cdFx0bGV0IGhlaWdodCA9IE51bWJlci5wYXJzZUZsb2F0KFxuXHRcdFx0KFxuXHRcdFx0XHRNYXRoLnJvdW5kKChzZWxlY3Rpb24uaGVpZ2h0ICsgTnVtYmVyLkVQU0lMT04pICogMTAwKSAvIDEwMFxuXHRcdFx0KS50b1N0cmluZygpXG5cdFx0KVxuXG5cdFx0c2VsZWN0aW9uLmdldE9iamVjdHMoKS5tYXAoKG9iaikgPT4ge1xuXHRcdFx0aWYgKG9iaiBpbnN0YW5jZW9mIFNoYWRvd1RleHQpIHtcblx0XHRcdFx0ZWxlbWVudHMgKz0gb2JqLmdldFRleHQoKS50cmltKCkucmVwbGFjZShcIiBcIiwgXCJcIikubGVuZ3RoXG5cdFx0XHR9XG5cdFx0fSlcblx0XHRwcmljZSA9XG5cdFx0XHR3aWR0aCAqIGdldFByaWNlVGV4dFNpemUoKSArXG5cdFx0XHRoZWlnaHQgKiBnZXRQcmljZVRleHRTaXplKCkgK1xuXHRcdFx0ZWxlbWVudHMgKiBnZXRQcmljZUVsZW1lbnQoKVxuXHRcdHByaWNlID0gTWF0aC5mbG9vcihwcmljZSlcblx0XHRjb25zdCBwcmljZURpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJpY2VEaXZcIilcblx0XHRwcmljZSAmJiAocHJpY2VEaXYudGV4dENvbnRlbnQgPSBwcmljZT8udG9TdHJpbmcoKSArIFwiINGALlwiKVxuXG5cdFx0Y29uc3QgdG9vbHRpcFByaWNlID0gbmV3IFRvb2x0aXAoXG5cdFx0XHRcItCf0YDQuNC80LXRgNC90LDRjyDRgdGC0L7QuNC80L7RgdGC0Ywg0LLRi9Cy0LXRgdC60LhcIixcblx0XHRcdHByaWNlRGl2IGFzIEhUTUxEaXZFbGVtZW50XG5cdFx0KVxuXHR9XG59XG4iLCJpbXBvcnQge2ZhYnJpY30gZnJvbSBcImZhYnJpY1wiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTaGFkb3dUZXh0IGV4dGVuZHMgZmFicmljLkdyb3VwIHtcclxuICAgIHByaXZhdGUgX2NvbG9yT2ZTaGFkb3c6IHN0cmluZ1xyXG4gICAgY29uc3RydWN0b3IodGV4dD86IHN0cmluZywgc2hhZG93U3RyZW5ndGg6IG51bWJlciA9IDUsIGNvbG9yT2ZTaGFkb3c/OiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcigpXHJcbiAgICAgICAgdGhpcy5fY29sb3JPZlNoYWRvdyA9IGNvbG9yT2ZTaGFkb3dcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoYWRvd1N0cmVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5hZGRXaXRoVXBkYXRlKCBuZXcgZmFicmljLlRleHQodGV4dCwge2ZpbGw6ICd3aGl0ZSd9KSlcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jaGFuZ2VTaGFkb3coKVxyXG4gICAgfVxyXG4gICAgY2hhbmdlU2hhZG93KGNvbG9yT2ZTaGFkb3cgPSB0aGlzLl9jb2xvck9mU2hhZG93KXtcclxuICAgICAgICAgICAgdGhpcy5nZXRPYmplY3RzKCkubWFwKCh0ZXh0T2JqLCBpKT0+e1xyXG4gICAgICAgICAgICAgICAgdGV4dE9iai5zaGFkb3cgPSBuZXcgZmFicmljLlNoYWRvdyh7XHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IGNvbG9yT2ZTaGFkb3csXHJcbiAgICAgICAgICAgICAgICAgICAgYmx1cjogaSozLFxyXG4gICAgICAgICAgICAgICAgICAgIG5vblNjYWxpbmc6IHRydWUsXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgdGV4dE9iai5zZXQoe2RpcnR5OiB0cnVlfSlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWVcclxuICAgICAgICAgICAgXHJcbiAgICB9XHJcbiAgICBjaGFuZ2VUZXh0KHRleHQ6IHN0cmluZyA9IFwiXCIpe1xyXG4gICAgICAgIHRoaXMuZ2V0T2JqZWN0cygpLm1hcCgodGV4dE9iajogZmFicmljLlRleHQpPT57XHJcbiAgICAgICAgICAgIHRleHRPYmouc2V0KHt0ZXh0OiB0ZXh0fSlcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMuYWRkV2l0aFVwZGF0ZSgpXHJcbiAgICB9XHJcbiAgICBnZXRUZXh0KCl7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLmdldE9iamVjdHMoKVswXSBhcyBmYWJyaWMuVGV4dCkudGV4dFxyXG4gICAgfVxyXG4gICAgY2hhbmdlRm9udChmb250OiBzdHJpbmcpe1xyXG4gICAgICAgIHRoaXMuZ2V0T2JqZWN0cygpLm1hcCgodGV4dE9iajogZmFicmljLlRleHQpPT57XHJcbiAgICAgICAgICAgIHRleHRPYmouc2V0KHtmb250RmFtaWx5OiBmb250fSlcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMuc2V0KCdkaXJ0eScsIHRydWUpXHJcbiAgICAgICAgdGhpcy5hZGRXaXRoVXBkYXRlKClcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgJy4vYnV0dG9uLmNzcydcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1dHRvbiB7XG4gICAgcHJpdmF0ZSBfdGV4dDogc3RyaW5nXG4gICAgcHJpdmF0ZSBfb25DbGljazogRnVuY3Rpb25cbiAgICBwcml2YXRlIF9idXR0b25EaXY6IEhUTUxCdXR0b25FbGVtZW50XG5cbiAgICBjb25zdHJ1Y3Rvcih0ZXh0OiBzdHJpbmcgPSBcIlwiLCBvbmNsaWNrOiBGdW5jdGlvbiwgbW91bnRQbGFjZTogSFRNTEVsZW1lbnQpIHtcbiBcbiAgICAgICAgdGhpcy5fdGV4dCA9IHRleHRcbiAgICAgICAgdGhpcy5fb25DbGljayA9IG9uY2xpY2tcbiAgICAgICAgdGhpcy5fYnV0dG9uRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcbiAgICAgICAgdGhpcy5fYnV0dG9uRGl2LmNsYXNzTGlzdC5hZGQoJ2J0bicpXG4gICAgICAgIHRoaXMuX2J1dHRvbkRpdi50ZXh0Q29udGVudCA9IHRleHRcbiAgICAgICAgdGhpcy5fYnV0dG9uRGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntvbmNsaWNrKCl9KVxuICAgICAgICBtb3VudFBsYWNlLmFwcGVuZENoaWxkKHRoaXMuX2J1dHRvbkRpdilcbiAgICB9XG5cbiAgICBnZXQgdGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RleHQ7XG4gICAgICB9XG4gICAgc2V0IHRleHQodGV4dCl7XG4gICAgICAgIHRoaXMuX3RleHQgPSB0ZXh0XG4gICAgfVxuICAgIFxuICAgIGdldEVsZW1lbnQoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1dHRvbkRpdlxuICAgIH1cbn0iLCJpbXBvcnQgJy4vdG9vbHRpcC5jc3MnXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRvb2x0aXAge1xyXG4gICAgcHJpdmF0ZSBfdGV4dDogc3RyaW5nXHJcbiAgICBwcml2YXRlIF9zcGFuRWxlbWVudDogSFRNTFNwYW5FbGVtZW50XHJcblxyXG4gICAgY29uc3RydWN0b3IodGV4dDogc3RyaW5nLCBtb3VudFBsYWNlOiBIVE1MRWxlbWVudCkge1xyXG4gXHJcbiAgICAgICAgdGhpcy5fdGV4dCA9IHRleHRcclxuICAgICAgICB0aGlzLl9zcGFuRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKVxyXG4gICAgICAgIHRoaXMuX3NwYW5FbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3Rvb2x0aXBUZXh0JylcclxuICAgICAgICB0aGlzLl9zcGFuRWxlbWVudC50ZXh0Q29udGVudCA9IHRleHRcclxuICAgICAgICBtb3VudFBsYWNlLmNsYXNzTGlzdC5hZGQoJ3Rvb2x0aXAnKVxyXG4gICAgICAgIHRoaXMub25Ib3ZlclNob3dIaWdoZXIobW91bnRQbGFjZSlcclxuICAgICAgICBtb3VudFBsYWNlLmFwcGVuZENoaWxkKHRoaXMuX3NwYW5FbGVtZW50KVxyXG4gICAgfVxyXG5cclxuICAgIGdldCB0ZXh0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90ZXh0O1xyXG4gICAgICB9XHJcbiAgICBzZXQgdGV4dCh0ZXh0KXtcclxuICAgICAgICB0aGlzLl90ZXh0ID0gdGV4dFxyXG4gICAgfVxyXG4gICAgb25Ib3ZlclNob3dIaWdoZXIoaHRtbEVsOiBIVE1MRWxlbWVudCwgb25ob3ZlclppbmRleCA9ICc1Jywgbm9ob3ZlclppbmRleCA9ICcxJyl7XHJcbiAgICAgICAgaHRtbEVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsICgpPT57XHJcbiAgICAgICAgICAgIGh0bWxFbC5zdHlsZS56SW5kZXggPSBvbmhvdmVyWmluZGV4XHJcbiAgICAgICAgfSlcclxuICAgICAgICBodG1sRWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCAoKT0+e1xyXG4gICAgICAgICAgICBodG1sRWwuc3R5bGUuekluZGV4ID0gbm9ob3ZlclppbmRleFxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQge2ZhYnJpY30gZnJvbSBcImZhYnJpY1wiO1xyXG5pbXBvcnQgeyBjb2xvclNjaGVtZSB9IGZyb20gXCIuLi8uLi9yZXNvdXJjZXMvY29uc3RhbnRzXCI7XHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE9iamVjdE9wdGlvbnMoKXtcclxuICAgIFxyXG4gICAgY29uc3QgZm9udEZvckNvbnRyb2xzID0gJzEycHggQXJpYWwnXHJcbiAgICBjb25zdCBwYWRkaW5nID0gOFxyXG5cclxuICAgIGZhYnJpYy5PYmplY3QucHJvdG90eXBlLm9iamVjdENhY2hpbmcgPSBmYWxzZVxyXG4gICAgZmFicmljLk9iamVjdC5wcm90b3R5cGUuY29udHJvbHMuaCA9IG5ldyBmYWJyaWMuQ29udHJvbCh7XHJcbiAgICAgICAgeDogLTAuNSxcclxuICAgICAgICBjdXJzb3JTdHlsZTogJ3BvaW50ZXInLFxyXG4gICAgICAgIFxyXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24oY3R4LCBsZWZ0LCB0b3AsIHN0eWxlT3ZlcnJpZGUsIGZhYnJpY09iamVjdCkge1xyXG4gICAgICAgICAgICBjdHguZm9udCA9IGZvbnRGb3JDb250cm9scztcclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yU2NoZW1lLmJsdWU7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gc2l6ZVRvU3RyaW5nKGZhYnJpY09iamVjdC5nZXRTY2FsZWRXaWR0aCgpKVxyXG4gICAgICAgICAgICBjb25zdCB0ZXh0V2lkdGggPSBjdHgubWVhc3VyZVRleHQodGV4dCkud2lkdGhcclxuICAgICAgICAgICAgY29uc3QgdGV4dEhlaWdodCA9IGN0eC5tZWFzdXJlVGV4dCgnTScpLndpZHRoICogMS4yXHJcbiAgICAgICAgICAgIGNvbnN0IHggPSAobGVmdCArIGZhYnJpY09iamVjdC5nZXRTY2FsZWRXaWR0aCgpLzIpLSAodGV4dFdpZHRoLzIpXHJcbiAgICAgICAgICAgIGNvbnN0IHkgPSB0b3AgKyBmYWJyaWNPYmplY3QuZ2V0U2NhbGVkSGVpZ2h0KCkvMit0ZXh0SGVpZ2h0ICsgcGFkZGluZ1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgY3R4LmZpbGxUZXh0KHRleHQsIHgsIHkpO1xyXG4gICAgICAgIH0sXHJcbiAgICB9KVxyXG5cclxuICAgIGZhYnJpYy5PYmplY3QucHJvdG90eXBlLmNvbnRyb2xzLncgPSBuZXcgZmFicmljLkNvbnRyb2woe1xyXG4gICAgICAgIHk6IC0wLjUsXHJcbiAgICAgICAgY3Vyc29yU3R5bGU6ICdwb2ludGVyJyxcclxuICAgICAgICBcclxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKGN0eCwgbGVmdCwgdG9wLCBzdHlsZU92ZXJyaWRlLCBmYWJyaWNPYmplY3QpIHtcclxuICAgICAgICAgICAgY3R4LmZvbnQgPSBmb250Rm9yQ29udHJvbHM7XHJcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBjb2xvclNjaGVtZS5ibHVlO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgY29uc3QgdGV4dCA9IHNpemVUb1N0cmluZyhmYWJyaWNPYmplY3QuZ2V0U2NhbGVkSGVpZ2h0KCkpXHJcbiAgICAgICAgICAgIGNvbnN0IHRleHRXaWR0aCA9IGN0eC5tZWFzdXJlVGV4dCh0ZXh0KS53aWR0aFxyXG4gICAgICAgICAgICBjb25zdCB0ZXh0SGVpZ2h0ID0gY3R4Lm1lYXN1cmVUZXh0KCdNJykud2lkdGggKiAxLjJcclxuICAgICAgICAgICAgY29uc3QgeCA9IGxlZnQgLSBmYWJyaWNPYmplY3QuZ2V0U2NhbGVkV2lkdGgoKS8yIC0gcGFkZGluZyAtIHRleHRIZWlnaHQvMiBcclxuICAgICAgICAgICAgY29uc3QgeSA9IHRvcCArIGZhYnJpY09iamVjdC5nZXRTY2FsZWRIZWlnaHQoKS8yICsgdGV4dFdpZHRoLzJcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGN0eC5zYXZlKClcclxuICAgICAgICAgICAgY3R4LnJvdGF0ZSgtTWF0aC5QSS8yKVxyXG4gICAgICAgICAgICBjdHguZmlsbFRleHQodGV4dCwgLXksIHgpO1xyXG4gICAgICAgICAgICBjdHgucmVzdG9yZSgpXHJcbiAgICAgICAgfSxcclxuICAgIH0pXHJcblxyXG4gICAgZmFicmljLk9iamVjdC5wcm90b3R5cGUuc2V0Q29udHJvbHNWaXNpYmlsaXR5KHtcclxuICAgICAgICBtYjogZmFsc2UsXHJcbiAgICAgICAgbWw6IGZhbHNlLFxyXG4gICAgICAgIG1yOiBmYWxzZSxcclxuICAgICAgICBtdDogZmFsc2UsXHJcbiAgICAgICAgbXRyOiBmYWxzZVxyXG4gICAgfSlcclxuICAgIGZhYnJpYy5PYmplY3QucHJvdG90eXBlLmNvcm5lckNvbG9yID0gY29sb3JTY2hlbWUuYmx1ZVxyXG4gICAgZnVuY3Rpb24gc2l6ZVRvU3RyaW5nKHNpemU6IG51bWJlcil7XHJcbiAgICAgICByZXR1cm4gc2l6ZS50b0ZpeGVkKDIpLnRvU3RyaW5nKCkucmVwbGFjZSgnLicsICcsJykgKyAnINC80LwnXHJcbiAgICB9XHJcbn1cclxuXHJcbiIsImltcG9ydCB7IFBvaW50LCBTaXplIH0gZnJvbSAnLi4vLi4vcmVzb3VyY2VzL3R5cGVzJztcbmltcG9ydCB7ZmFicmljfSBmcm9tIFwiZmFicmljXCI7XG5pbXBvcnQgU2hhZG93VGV4dCBmcm9tICcuLi9TaGFkb3dUZXh0JztcbmltcG9ydCB7IGNvbG9yU2NoZW1lLCBmb250cyB9IGZyb20gJy4uLy4uL3Jlc291cmNlcy9jb25zdGFudHMnO1xuaW1wb3J0IE9iamVjdE9wdGlvbnMgZnJvbSAnLi9PYmplY3RDb250cm9scyc7XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2lkZ2V0Q2FudmFze1xuICAgIF9jYW52YXNFbGVtZW50OiBIVE1MQ2FudmFzRWxlbWVudFxuICAgIF9jYW52YXM6IGZhYnJpYy5DYW52YXNcbiAgICBfc2VsZWN0ZWRPYmplY3RzOiBmYWJyaWMuT2JqZWN0W11cbiAgICBjb25zdHJ1Y3Rvcihtb3VudEVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50KXtcbiAgICAgICAgY29uc3QgY2FudmFzQ2xhc3MgPSAnY2FudmFzRmFicmljJ1xuICAgICAgICB0aGlzLm1ha2VDYW52YXNEaXYobW91bnRFbGVtZW50LCBjYW52YXNDbGFzcylcbiAgICAgICAgdGhpcy5fY2FudmFzID0gbmV3IGZhYnJpYy5DYW52YXMoY2FudmFzQ2xhc3MpO1xuICAgICAgICB0aGlzLl9jYW52YXMuc2V0QmFja2dyb3VuZENvbG9yKCcjMTAxMDEwJywgKCk9Pnt9KVxuICAgICAgICB0aGlzLl9jYW52YXMuc2V0RGltZW5zaW9ucyh7aGVpZ2h0OjUwMCwgd2lkdGg6NTAwfSlcbiAgICAgICAgdGhpcy5fY2FudmFzLm9uKCdzZWxlY3Rpb246Y3JlYXRlZCcsICgpPT57dGhpcy5fc2VsZWN0ZWRPYmplY3RzPXRoaXMuX2NhbnZhcy5nZXRBY3RpdmVPYmplY3RzKCl9IClcbiAgICAgICAgdGhpcy5fY2FudmFzLm9uKCdzZWxlY3Rpb246dXBkYXRlZCcsICgpPT57dGhpcy5fc2VsZWN0ZWRPYmplY3RzPXRoaXMuX2NhbnZhcy5nZXRBY3RpdmVPYmplY3RzKCl9IClcbiAgICAgICAgdGhpcy5fY2FudmFzLm9uKCdzZWxlY3Rpb246Y2xlYXJlZCcsICgpPT57dGhpcy5fc2VsZWN0ZWRPYmplY3RzPW51bGx9KVxuICAgICAgICB0aGlzLl9jYW52YXMub24oJ3JvdGF0aW5nJywgKCk9Pnt0aGlzLl9zZWxlY3RlZE9iamVjdHMubWFwKG9iaj0+e29iai5zZXRDb29yZHMoKX0pfSlcbiAgICAgICAgT2JqZWN0T3B0aW9ucygpXG4gICAgfVxuICAgIFxuXG4gICAgcHJpdmF0ZSBtYWtlQ2FudmFzRGl2KG1vdW50RWxlbWVudDpIVE1MRGl2RWxlbWVudCwgY2FudmFzQ2xhc3M6IHN0cmluZykge1xuICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKVxuICAgICAgICBtb3VudEVsZW1lbnQuYXBwZW5kQ2hpbGQoY2FudmFzKVxuICAgICAgICBjYW52YXMuaWQgPSBjYW52YXNDbGFzc1xuICAgICAgICB0aGlzLl9jYW52YXNFbGVtZW50ID0gY2FudmFzXG4gICAgICAgXG4gICAgfVxuICAgIHJlc2l6ZSh3Om51bWJlciwgaDpudW1iZXIpe1xuICAgICAgICB0aGlzLl9jYW52YXMuc2V0V2lkdGgodylcbiAgICAgICAgdGhpcy5fY2FudmFzLnNldEhlaWdodChoKVxuICAgICAgICB0aGlzLnVwZGF0ZSgpXG4gICAgfVxuICAgIGdldFNpemUoKXtcbiAgICAgICAgY29uc3QgczpTaXplID0ge1xuICAgICAgICAgICAgd2lkdGg6ICB0aGlzLl9jYW52YXMud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6ICB0aGlzLl9jYW52YXMuaGVpZ2h0XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNcbiAgICB9XG4gICAgZ2V0Q2VudGVyKCl7XG4gICAgICAgIGNvbnN0IGM6UG9pbnQgPSB7XG4gICAgICAgICAgICB4OiB0aGlzLmdldFNpemUoKS53aWR0aCAvIDIsXG4gICAgICAgICAgICB5OiAgdGhpcy5nZXRTaXplKCkuaGVpZ2h0IC8gMlxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjXG4gICAgfVxuICAgIGFkZFRvU2NlbmUoIG9iamVjdDogZmFicmljLk9iamVjdFtdLCBzaG91bGRSZW5kZXI6IGJvb2xlYW4gPSB0cnVlKXtcbiAgICAgICAgdGhpcy5fY2FudmFzLmFkZCguLi5vYmplY3QpXG4gICAgICAgIHNob3VsZFJlbmRlciAgJiYgdGhpcy51cGRhdGUoKVxuICAgIH1cbiAgICBhZGRSZWN0KHc6bnVtYmVyLGg6bnVtYmVyLCBjb2xvcjogc3RyaW5nID0gJ2JsdWUnKXtcbiAgICAgICAgdmFyIHJlY3QgPSBuZXcgZmFicmljLlJlY3Qoe1xuICAgICAgICAgICAgbGVmdDogdGhpcy5nZXRDZW50ZXIoKS54LCBcbiAgICAgICAgICAgIHRvcDogdGhpcy5nZXRDZW50ZXIoKS55LFxuICAgICAgICAgICAgZmlsbDogJ3RyYW5zcGFyZW50JyxcbiAgICAgICAgICAgIHdpZHRoOiB3LFxuICAgICAgICAgICAgaGVpZ2h0OiBoLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEsXG4gICAgICAgICAgICBzdHJva2U6IGNvbG9yLFxuICAgICAgICAgICAgc3Ryb2tlVW5pZm9ybTogdHJ1ZVxuICAgICAgICAgICAgXG4gICAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYWRkVG9TY2VuZShbcmVjdF0pXG5cbiAgICAgICAgcmV0dXJuIHJlY3RcbiAgICB9XG4gICAgYWRkVGV4dCh0ZXh0OiBzdHJpbmcpe1xuICAgICAgICBjb25zdCB0ZXh0RWxlbWVudCA9IG5ldyBTaGFkb3dUZXh0KHRleHQsIDgsICdyZWQnKVxuICAgICAgICB0ZXh0RWxlbWVudC5jaGFuZ2VGb250KGZvbnRzWzBdKVxuICAgICAgICAvKnRoaXMuX2NhbnZhcy5vbihcImJlZm9yZTpzZWxlY3Rpb246Y2xlYXJlZFwiLCAoKT0+e1xuICAgICAgICAgICAgaWYodGhpcy5fc2VsZWN0ZWRPYmplY3RzWzBdLmNvbnN0cnVjdG9yLnByb3RvdHlwZS50eXBlPT0naS10ZXh0Jyl7XG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dEVsID0gdGhpcy5fc2VsZWN0ZWRPYmplY3RzWzBdIGFzIGZhYnJpYy5JVGV4dFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfVxuICAgICAgICB9ICkqL1xuICAgICAgICB0aGlzLmFsaWduT2JqZWN0KHRleHRFbGVtZW50KVxuICAgICAgICB0aGlzLmFkZFRvU2NlbmUoWyB0ZXh0RWxlbWVudF0pXG4gICAgICAgIHRleHRFbGVtZW50LmNoYW5nZVNoYWRvdygncmVkJylcbiAgICAgICByZXR1cm4gdGV4dEVsZW1lbnRcbiAgICB9XG4gICAgYWxpZ25PYmplY3Qob2JqZWN0OiBmYWJyaWMuT2JqZWN0LCBob3Jpem9udGFsOmJvb2xlYW4gPXRydWUsIHZlcnRpY2FsOiBib29sZWFuID0gdHJ1ZSl7XG4gICAgICAgIHZlcnRpY2FsICAmJiAgIG9iamVjdC5zZXQoJ2xlZnQnLCB0aGlzLl9jYW52YXMud2lkdGggLyAyIC0gb2JqZWN0LmdldFNjYWxlZFdpZHRoKCkgLyAyKVxuICAgICAgICBob3Jpem9udGFsICAgICYmICAgb2JqZWN0LnNldCgndG9wJywgdGhpcy5fY2FudmFzLmhlaWdodCAvIDIgLSBvYmplY3QuZ2V0U2NhbGVkSGVpZ2h0KCkgLyAyKSAgICBcbiAgICAgICAgdGhpcy51cGRhdGUoKVxuICAgICAgICBcbiAgICB9XG4gICAgZGVsZXRlTGFzdEFjdGl2ZU9iamVjdCgpe1xuICAgICAgICB0aGlzLl9zZWxlY3RlZE9iamVjdHMgJiYgdGhpcy5fY2FudmFzLnJlbW92ZSguLi50aGlzLl9zZWxlY3RlZE9iamVjdHMpXG4gICAgfVxuICAgIHVwZGF0ZSgpe1xuICAgICAgICB0aGlzLl9jYW52YXMucmVuZGVyQWxsKClcbiAgICB9XG4gICAgc2VsZWN0QWxsKCl7XG4gICAgICAgIHJldHVybiBuZXcgZmFicmljLkFjdGl2ZVNlbGVjdGlvbih0aGlzLl9jYW52YXMuZ2V0T2JqZWN0cygpLCB7Y2FudmFzOiB0aGlzLl9jYW52YXN9KVxuICAgIH1cbn0iLCIvL2ltcG9ydHNcclxuaW1wb3J0ICcuLi9zcmMvc3R5bGVzL3N0eWxlLmNzcydcclxuaW1wb3J0IHsgZm9udHMgfSBmcm9tIFwiLi9yZXNvdXJjZXMvY29uc3RhbnRzXCI7XHJcblxyXG5pbXBvcnQgV2lkZ2V0IGZyb20gJy4vV2lkZ2V0Jztcclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBvbmxvYWQpXHJcblxyXG5jb25zdCB3aWRnZXQgPSBuZXcgV2lkZ2V0KClcclxud2lkZ2V0LmxvYWRGb250cyhmb250cylcclxuXHJcbmZ1bmN0aW9uIG9ubG9hZCgpe1xyXG4gICAgd2lkZ2V0LmluaXRpYWxpemUoKVxyXG59XHJcbiIsImV4cG9ydCBjb25zdCBiYXNlTG9jYXRpb24gPSBcIi5uZW9uV2lkZ2V0XCJcclxuZXhwb3J0IGNvbnN0IHNlcnZlclVybCA9IFwiaHR0cHM6Ly9uZW9uLXdpZGdldC1iYWNrLm9ucmVuZGVyLmNvbVwiXHJcbmV4cG9ydCBjb25zdCBmb250cyA9IFtcclxuXHRcIk1BREVMaWtlc1wiLFxyXG5cdFwiUm9zYU1hcmVuYVwiLFxyXG5cdFwiVmVsZXNcIixcclxuXHRcIlBGSGFuZGJvb2tQcm9cIixcclxuXHRcIk5pY2thaW5sZXlcIixcclxuXHRcIlN0dWRpb1NjcmlwdENUVFwiLFxyXG5cdFwiTERTbGVuZGVyXCIsXHJcblx0XCJIZWx2ZXRpY2FcIixcclxuXHRcIkNpdHJpY2FDeXJpbGxpY1wiLFxyXG5cdFwiQmxvZ2dlclNhbnNcIixcclxuXHRcIkJpcmNoXCIsXHJcblx0XCJBbWVyaWNhblJldHJvXCIsXHJcbl1cclxuXHJcbmV4cG9ydCBjb25zdCBjb2xvcnMgPSB7XHJcblx00JrRgNCw0YHQvdGL0Lk6IFwicmdiKDI1NSwwLDApXCIsXHJcblx00J7RgNCw0L3QttC10LLRi9C5OiBcInJnYigyNTUsMTY1LDApXCIsXHJcblx00KTRg9C60YHQuNGPOiBcInJnYigyNTUsMCwyNTUpXCIsXHJcblx00KDQvtC30L7QstGL0Lk6IFwicmdiKDI1NSwxOTIsMjAzKVwiLFxyXG5cdNCW0LXQu9GC0YvQuTogXCJyZ2IoMjU1LDIzNSwwKVwiLFxyXG5cdNCb0LDQudC80L7QstGL0Lk6IFwicmdiKDI1NSwyNTUsMTAyKVwiLFxyXG5cdNCk0LjQvtC70LXRgtC+0LLRi9C5OiBcInJnYigxMjgsIDAsIDEyOClcIixcclxuXHTQodC40L3QuNC5OiBcInJnYigwLDAsMTM5KVwiLFxyXG5cdNCT0L7Qu9GD0LHQvtC5OiBcInJnYigxNzMsIDIxNiwgMjMwKVwiLFxyXG5cdNCX0LXQu9C10L3Ri9C5OiBcInJnYig1MCwyMDUsNTApXCIsXHJcblx0XCLQotC10L/Qu9GL0Lkg0LHQtdC70YvQuVwiOiBcInJnYigyNTMsIDI0NCwgMjIwKVwiLFxyXG5cdFwi0KXQvtC70L7QtNC90YvQuSDQsdC10LvRi9C5XCI6IFwicmdiKDI0NCwgMjUzLCAyNTUpXCIsXHJcbn1cclxuZXhwb3J0IGNvbnN0IGNvbG9yU2NoZW1lID0ge1xyXG5cdGJsdWU6IFwicmdiKDE1MywgMjA0LCAyNTUpXCIsXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBwcmljZXMgPSB7XHJcblx0cHJpY2UxbW06IDUsXHJcblx0cHJpY2Vmb3JFbGVtZW50OiAxNTAsXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBnZXRQcmljZUVsZW1lbnQgPSAoKSA9PiB7XHJcblx0Y29uc3QgZGF0YSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJkYXRhXCIpKVxyXG5cdGlmICghZGF0YSkge1xyXG5cdFx0cmV0dXJuIHByaWNlcy5wcmljZWZvckVsZW1lbnRcclxuXHR9XHJcblx0cmV0dXJuIGRhdGFbMF1bMV1cclxufVxyXG5leHBvcnQgY29uc3QgZ2V0UHJpY2VUZXh0U2l6ZSA9ICgpID0+IHtcclxuXHRjb25zdCBkYXRhID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImRhdGFcIikpXHJcblx0aWYgKCFkYXRhKSB7XHJcblx0XHRyZXR1cm4gcHJpY2VzLnByaWNlMW1tXHJcblx0fVxyXG5cdHJldHVybiBkYXRhWzFdWzFdXHJcbn1cclxuZXhwb3J0IGNvbnN0IGdldENvbG9ycyA9ICgpID0+IHtcclxuXHRsZXQgcmVzcG9uc2U6IGFueSA9IHt9XHJcblx0Y29uc3QgZGF0YSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJkYXRhXCIpKVxyXG5cdGlmICghZGF0YSkge1xyXG5cdFx0cmV0dXJuIGNvbG9yc1xyXG5cdH1cclxuXHJcblx0ZGF0YVsyXS5tYXAoKGNvbDogc3RyaW5nW10sIGk6IG51bWJlcikgPT4ge1xyXG5cdFx0aWYgKGkgIT0gMCkge1xyXG5cdFx0XHRyZXNwb25zZVtkYXRhWzJdW2ldXSA9IFwicmdiKFwiICsgZGF0YVszXVtpXSArIFwiKVwiXHJcblx0XHR9XHJcblx0fSlcclxuXHRyZXR1cm4gcmVzcG9uc2VcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGdldERhdGEgPSBhc3luYyAoKSA9PiB7XHJcblx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzZXJ2ZXJVcmwgKyBcIi9kYXRhXCIsIHtcclxuXHRcdG1ldGhvZDogXCJHRVRcIixcclxuXHRcdG1vZGU6IFwiY29yc1wiLFxyXG5cdH0pXHJcblx0Y29uc3QganNvbiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxyXG5cdGNvbnNvbGUubG9nKGpzb24pXHJcblx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJkYXRhXCIsIEpTT04uc3RyaW5naWZ5KGpzb24pKVxyXG59XHJcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gX193ZWJwYWNrX21vZHVsZXNfXztcblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJ2YXIgc2NyaXB0VXJsO1xuaWYgKF9fd2VicGFja19yZXF1aXJlX18uZy5pbXBvcnRTY3JpcHRzKSBzY3JpcHRVcmwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcubG9jYXRpb24gKyBcIlwiO1xudmFyIGRvY3VtZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmRvY3VtZW50O1xuaWYgKCFzY3JpcHRVcmwgJiYgZG9jdW1lbnQpIHtcblx0aWYgKGRvY3VtZW50LmN1cnJlbnRTY3JpcHQpXG5cdFx0c2NyaXB0VXJsID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmM7XG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkge1xuXHRcdFx0dmFyIGkgPSBzY3JpcHRzLmxlbmd0aCAtIDE7XG5cdFx0XHR3aGlsZSAoaSA+IC0xICYmICFzY3JpcHRVcmwpIHNjcmlwdFVybCA9IHNjcmlwdHNbaS0tXS5zcmM7XG5cdFx0fVxuXHR9XG59XG4vLyBXaGVuIHN1cHBvcnRpbmcgYnJvd3NlcnMgd2hlcmUgYW4gYXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dC5wdWJsaWNQYXRoIG1hbnVhbGx5IHZpYSBjb25maWd1cmF0aW9uXG4vLyBvciBwYXNzIGFuIGVtcHR5IHN0cmluZyAoXCJcIikgYW5kIHNldCB0aGUgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gdmFyaWFibGUgZnJvbSB5b3VyIGNvZGUgdG8gdXNlIHlvdXIgb3duIGxvZ2ljLlxuaWYgKCFzY3JpcHRVcmwpIHRocm93IG5ldyBFcnJvcihcIkF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuc2NyaXB0VXJsID0gc2NyaXB0VXJsLnJlcGxhY2UoLyMuKiQvLCBcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLCBcIlwiKS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sIFwiL1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18ucCA9IHNjcmlwdFVybDsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmIgPSBkb2N1bWVudC5iYXNlVVJJIHx8IHNlbGYubG9jYXRpb24uaHJlZjtcblxuLy8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3Ncbi8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuLy8gW3Jlc29sdmUsIHJlamVjdCwgUHJvbWlzZV0gPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG52YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuXHQxNzk6IDBcbn07XG5cbi8vIG5vIGNodW5rIG9uIGRlbWFuZCBsb2FkaW5nXG5cbi8vIG5vIHByZWZldGNoaW5nXG5cbi8vIG5vIHByZWxvYWRlZFxuXG4vLyBubyBITVJcblxuLy8gbm8gSE1SIG1hbmlmZXN0XG5cbi8vIG5vIG9uIGNodW5rcyBsb2FkZWRcblxuLy8gbm8ganNvbnAgZnVuY3Rpb24iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm5jID0gdW5kZWZpbmVkOyIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgaXMgcmVmZXJlbmNlZCBieSBvdGhlciBtb2R1bGVzIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNjA3KTtcbiJdLCJuYW1lcyI6WyJfX19DU1NfTE9BREVSX0VYUE9SVF9fXyIsInB1c2giLCJtb2R1bGUiLCJpZCIsIl9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8wX19fIiwiVVJMIiwiX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzFfX18iLCJfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMl9fXyIsIl9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8zX19fIiwiX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzRfX18iLCJfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfNV9fXyIsIl9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF82X19fIiwiX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzdfX18iLCJfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfOF9fXyIsIl9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF85X19fIiwiX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzEwX19fIiwiX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzExX19fIiwiX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMF9fXyIsIl9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzFfX18iLCJfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8yX19fIiwiX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfM19fXyIsIl9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzRfX18iLCJfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF81X19fIiwiX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfNl9fXyIsIl9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzdfX18iLCJfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF84X19fIiwiX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfOV9fXyIsIl9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzEwX19fIiwiX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMTFfX18iLCJleHBvcnRzIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJtYXAiLCJpdGVtIiwiY29udGVudCIsIm5lZWRMYXllciIsImNvbmNhdCIsImxlbmd0aCIsImpvaW4iLCJpIiwibW9kdWxlcyIsIm1lZGlhIiwiZGVkdXBlIiwic3VwcG9ydHMiLCJsYXllciIsInVuZGVmaW5lZCIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJrIiwiX2siLCJ1cmwiLCJvcHRpb25zIiwiU3RyaW5nIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJ0ZXN0Iiwic2xpY2UiLCJoYXNoIiwibmVlZFF1b3RlcyIsInJlcGxhY2UiLCJjc3NNYXBwaW5nIiwiYnRvYSIsImJhc2U2NCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJzb3VyY2VNYXBwaW5nIiwiZ2xvYmFsIiwic3FydCIsImF0YW4yIiwicG93IiwiUGlCeTE4MCIsIlBpQnkyIiwiY291bGRVc2VBdHRhY2hFdmVudCIsInRvdWNoRXZlbnRzIiwicGFyc2VFbCIsInN1cHBvcnRzT3BhY2l0eSIsInN1cHBvcnRzRmlsdGVycyIsInJlT3BhY2l0eSIsInNldE9wYWNpdHkiLCJwcm90byIsIm1pbiIsIm1heCIsImRlZ3JlZXNUb1JhZGlhbnMiLCJvcmlnaW5YT2Zmc2V0Iiwib3JpZ2luWU9mZnNldCIsImNsb25lIiwidG9GaXhlZCIsIm11bHRpcGxlU3BhY2VzUmVnZXgiLCJmYWJyaWMiLCJ2ZXJzaW9uIiwiZG9jdW1lbnQiLCJ3aW5kb3ciLCJIVE1MRG9jdW1lbnQiLCJEb2N1bWVudCIsImltcGxlbWVudGF0aW9uIiwiY3JlYXRlSFRNTERvY3VtZW50IiwidmlydHVhbFdpbmRvdyIsIkpTRE9NIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiZmVhdHVyZXMiLCJGZXRjaEV4dGVybmFsUmVzb3VyY2VzIiwicmVzb3VyY2VzIiwianNkb21JbXBsRm9yV3JhcHBlciIsIm5vZGVDYW52YXMiLCJET01QYXJzZXIiLCJjb3B5R0xUbzJERHJhd0ltYWdlIiwiZ2wiLCJwaXBlbGluZVN0YXRlIiwiZ2xDYW52YXMiLCJjYW52YXMiLCJ0YXJnZXRDYW52YXMiLCJjdHgiLCJnZXRDb250ZXh0IiwidHJhbnNsYXRlIiwiaGVpZ2h0Iiwic2NhbGUiLCJzb3VyY2VZIiwiZHJhd0ltYWdlIiwid2lkdGgiLCJjb3B5R0xUbzJEUHV0SW1hZ2VEYXRhIiwiZFdpZHRoIiwiZGVzdGluYXRpb25XaWR0aCIsImRIZWlnaHQiLCJkZXN0aW5hdGlvbkhlaWdodCIsIm51bUJ5dGVzIiwidTgiLCJVaW50OEFycmF5IiwiaW1hZ2VCdWZmZXIiLCJ1OENsYW1wZWQiLCJVaW50OENsYW1wZWRBcnJheSIsInJlYWRQaXhlbHMiLCJSR0JBIiwiVU5TSUdORURfQllURSIsImltZ0RhdGEiLCJJbWFnZURhdGEiLCJwdXRJbWFnZURhdGEiLCJpc1RvdWNoU3VwcG9ydGVkIiwibmF2aWdhdG9yIiwibWF4VG91Y2hQb2ludHMiLCJpc0xpa2VseU5vZGUiLCJCdWZmZXIiLCJTSEFSRURfQVRUUklCVVRFUyIsIkRQSSIsInJlTnVtIiwiY29tbWFXc3AiLCJyZVBhdGhDb21tYW5kIiwicmVOb25Xb3JkIiwiZm9udFBhdGhzIiwiaU1hdHJpeCIsInN2Z05TIiwicGVyZkxpbWl0U2l6ZVRvdGFsIiwibWF4Q2FjaGVTaWRlTGltaXQiLCJtaW5DYWNoZVNpZGVMaW1pdCIsImNoYXJXaWR0aHNDYWNoZSIsInRleHR1cmVTaXplIiwiZGlzYWJsZVN0eWxlQ29weVBhc3RlIiwiZW5hYmxlR0xGaWx0ZXJpbmciLCJkZXZpY2VQaXhlbFJhdGlvIiwid2Via2l0RGV2aWNlUGl4ZWxSYXRpbyIsIm1vekRldmljZVBpeGVsUmF0aW8iLCJicm93c2VyU2hhZG93Qmx1ckNvbnN0YW50IiwiYXJjVG9TZWdtZW50c0NhY2hlIiwiYm91bmRzT2ZDdXJ2ZUNhY2hlIiwiY2FjaGVzQm91bmRzT2ZDdXJ2ZSIsImZvcmNlR0xQdXRJbWFnZURhdGEiLCJpbml0RmlsdGVyQmFja2VuZCIsImlzV2ViZ2xTdXBwb3J0ZWQiLCJjb25zb2xlIiwibG9nIiwibWF4VGV4dHVyZVNpemUiLCJXZWJnbEZpbHRlckJhY2tlbmQiLCJ0aWxlU2l6ZSIsIkNhbnZhczJkRmlsdGVyQmFja2VuZCIsIl9yZW1vdmVFdmVudExpc3RlbmVyIiwiZXZlbnROYW1lIiwiaGFuZGxlciIsIl9fZXZlbnRMaXN0ZW5lcnMiLCJldmVudExpc3RlbmVyIiwiaW5kZXhPZiIsInV0aWwiLCJhcnJheSIsImZpbGwiLCJfb25jZSIsIl9oYW5kbGVyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJvZmYiLCJiaW5kIiwib24iLCJPYnNlcnZhYmxlIiwiZmlyZSIsImxpc3RlbmVyc0ZvckV2ZW50IiwibGVuIiwiY2FsbCIsImZpbHRlciIsInZhbHVlIiwicHJvcCIsIm9uY2UiLCJDb2xsZWN0aW9uIiwiX29iamVjdHMiLCJhZGQiLCJfb25PYmplY3RBZGRlZCIsInJlbmRlck9uQWRkUmVtb3ZlIiwicmVxdWVzdFJlbmRlckFsbCIsImluc2VydEF0Iiwib2JqZWN0IiwiaW5kZXgiLCJub25TcGxpY2luZyIsIm9iamVjdHMiLCJzcGxpY2UiLCJyZW1vdmUiLCJzb21ldGhpbmdSZW1vdmVkIiwiX29uT2JqZWN0UmVtb3ZlZCIsImZvckVhY2hPYmplY3QiLCJjYWxsYmFjayIsImNvbnRleHQiLCJnZXRPYmplY3RzIiwidHlwZSIsIm8iLCJpc0VtcHR5Iiwic2l6ZSIsImNvbnRhaW5zIiwiZGVlcCIsInNvbWUiLCJvYmoiLCJjb21wbGV4aXR5IiwicmVkdWNlIiwibWVtbyIsImN1cnJlbnQiLCJDb21tb25NZXRob2RzIiwiX3NldE9wdGlvbnMiLCJzZXQiLCJfaW5pdEdyYWRpZW50IiwiZmlsbGVyIiwicHJvcGVydHkiLCJjb2xvclN0b3BzIiwiR3JhZGllbnQiLCJfaW5pdFBhdHRlcm4iLCJzb3VyY2UiLCJQYXR0ZXJuIiwiX3NldE9iamVjdCIsIl9zZXQiLCJrZXkiLCJ0b2dnbGUiLCJnZXQiLCJNYXRoIiwiUEkiLCJjb3MiLCJhbmdsZSIsInNpbiIsInNpZ24iLCJyZW1vdmVGcm9tQXJyYXkiLCJpZHgiLCJnZXRSYW5kb21JbnQiLCJmbG9vciIsInJhbmRvbSIsImRlZ3JlZXMiLCJyYWRpYW5zVG9EZWdyZWVzIiwicmFkaWFucyIsInJvdGF0ZVBvaW50IiwicG9pbnQiLCJvcmlnaW4iLCJuZXdQb2ludCIsIlBvaW50IiwieCIsInkiLCJ2Iiwicm90YXRlVmVjdG9yIiwiYWRkRXF1YWxzIiwidmVjdG9yIiwiY3JlYXRlVmVjdG9yIiwiZnJvbSIsInRvIiwiY2FsY0FuZ2xlQmV0d2VlblZlY3RvcnMiLCJhIiwiYiIsImFjb3MiLCJoeXBvdCIsImdldEhhdFZlY3RvciIsIm11bHRpcGx5IiwiZ2V0QmlzZWN0b3IiLCJBIiwiQiIsIkMiLCJBQiIsIkFDIiwiYWxwaGEiLCJwaGkiLCJwcm9qZWN0U3Ryb2tlT25Qb2ludHMiLCJwb2ludHMiLCJvcGVuUGF0aCIsImNvb3JkcyIsInMiLCJzdHJva2VXaWR0aCIsInN0cm9rZVVuaWZvcm1TY2FsYXIiLCJzdHJva2VVbmlmb3JtIiwic2NhbGVYIiwic2NhbGVZIiwiZ2V0U3Ryb2tlSGF0VmVjdG9yIiwic2NhbGFyIiwiZm9yRWFjaCIsInAiLCJtaXRlclZlY3RvciIsImJpc2VjdG9yIiwiYmlzZWN0b3JWZWN0b3IiLCJzdHJva2VMaW5lSm9pbiIsInN0cm9rZU1pdGVyTGltaXQiLCJzdWJ0cmFjdCIsIlNRUlQyIiwidHJhbnNmb3JtUG9pbnQiLCJ0IiwiaWdub3JlT2Zmc2V0IiwibWFrZUJvdW5kaW5nQm94RnJvbVBvaW50cyIsInRyYW5zZm9ybSIsInhQb2ludHMiLCJtaW5YIiwieVBvaW50cyIsIm1pblkiLCJsZWZ0IiwidG9wIiwiaW52ZXJ0VHJhbnNmb3JtIiwiciIsIm51bWJlciIsImZyYWN0aW9uRGlnaXRzIiwicGFyc2VGbG9hdCIsIk51bWJlciIsInBhcnNlVW5pdCIsImZvbnRTaXplIiwidW5pdCIsImV4ZWMiLCJUZXh0IiwiREVGQVVMVF9TVkdfRk9OVF9TSVpFIiwiZmFsc2VGdW5jdGlvbiIsImdldEtsYXNzIiwibmFtZXNwYWNlIiwic3RyaW5nIiwiY2FtZWxpemUiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInJlc29sdmVOYW1lc3BhY2UiLCJnZXRTdmdBdHRyaWJ1dGVzIiwiYXR0cmlidXRlcyIsInBhcnRzIiwic3BsaXQiLCJsb2FkSW1hZ2UiLCJjcm9zc09yaWdpbiIsImltZyIsImNyZWF0ZUltYWdlIiwib25Mb2FkQ2FsbGJhY2siLCJvbmxvYWQiLCJvbmVycm9yIiwic3JjIiwic3Vic3RyaW5nIiwibG9hZEltYWdlSW5Eb20iLCJkaXYiLCJjcmVhdGVFbGVtZW50Iiwic3R5bGUiLCJwb3NpdGlvbiIsImFwcGVuZENoaWxkIiwicXVlcnlTZWxlY3RvciIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImVubGl2ZW5PYmplY3RzIiwicmV2aXZlciIsImVubGl2ZW5lZE9iamVjdHMiLCJudW1Mb2FkZWRPYmplY3RzIiwibnVtVG90YWxPYmplY3RzIiwib25Mb2FkZWQiLCJmcm9tT2JqZWN0IiwiZXJyb3IiLCJlbmxpdmVuT2JqZWN0RW5saXZhYmxlcyIsImVubGl2ZW5Qcm9wcyIsIk9iamVjdCIsIkVOTElWRU5fUFJPUFMiLCJlbmxpdmVkUHJvcHMiLCJlbmxpdmVuUGF0dGVybnMiLCJwYXR0ZXJucyIsIm51bUxvYWRlZFBhdHRlcm5zIiwibnVtUGF0dGVybnMiLCJlbmxpdmVuZWRQYXR0ZXJucyIsInBhdHRlcm4iLCJncm91cFNWR0VsZW1lbnRzIiwiZWxlbWVudHMiLCJwYXRoIiwic291cmNlUGF0aCIsImNlbnRlclBvaW50IiwiR3JvdXAiLCJwb3B1bGF0ZVdpdGhQcm9wZXJ0aWVzIiwiZGVzdGluYXRpb24iLCJwcm9wZXJ0aWVzIiwiQXJyYXkiLCJpc0FycmF5IiwiY3JlYXRlQ2FudmFzRWxlbWVudCIsImNvcHlDYW52YXNFbGVtZW50IiwibmV3Q2FudmFzIiwidG9EYXRhVVJMIiwiY2FudmFzRWwiLCJmb3JtYXQiLCJxdWFsaXR5IiwibXVsdGlwbHlUcmFuc2Zvcm1NYXRyaWNlcyIsImlzMngyIiwicXJEZWNvbXBvc2UiLCJkZW5vbSIsInNrZXdYIiwic2tld1kiLCJ0cmFuc2xhdGVYIiwidHJhbnNsYXRlWSIsImNhbGNSb3RhdGVNYXRyaXgiLCJ0aGV0YSIsImNhbGNEaW1lbnNpb25zTWF0cml4Iiwic2NhbGVNYXRyaXgiLCJmbGlwWCIsImZsaXBZIiwidGFuIiwiY29tcG9zZU1hdHJpeCIsIm1hdHJpeCIsInJlc2V0T2JqZWN0VHJhbnNmb3JtIiwidGFyZ2V0Iiwicm90YXRlIiwic2F2ZU9iamVjdFRyYW5zZm9ybSIsImlzVHJhbnNwYXJlbnQiLCJ0b2xlcmFuY2UiLCJfaXNUcmFuc3BhcmVudCIsImltYWdlRGF0YSIsImdldEltYWdlRGF0YSIsImwiLCJwYXJzZVByZXNlcnZlQXNwZWN0UmF0aW9BdHRyaWJ1dGUiLCJhdHRyaWJ1dGUiLCJhbGlnbiIsIm1lZXRPclNsaWNlIiwiYXNwZWN0UmF0aW9BdHRycyIsInBvcCIsImFsaWduWCIsImFsaWduWSIsImNsZWFyRmFicmljRm9udENhY2hlIiwiZm9udEZhbWlseSIsInRvTG93ZXJDYXNlIiwibGltaXREaW1zQnlBcmVhIiwiYXIiLCJtYXhpbXVtQXJlYSIsInJvdWdoV2lkdGgiLCJwZXJmTGltaXRTaXplWSIsImNhcFZhbHVlIiwiZmluZFNjYWxlVG9GaXQiLCJmaW5kU2NhbGVUb0NvdmVyIiwibWF0cml4VG9TVkciLCJOVU1fRlJBQ1RJT05fRElHSVRTIiwicmVtb3ZlVHJhbnNmb3JtRnJvbU9iamVjdCIsImludmVydGVkIiwiZmluYWxUcmFuc2Zvcm0iLCJjYWxjT3duTWF0cml4IiwiYXBwbHlUcmFuc2Zvcm1Ub09iamVjdCIsImFkZFRyYW5zZm9ybVRvT2JqZWN0IiwiY2VudGVyIiwic2V0UG9zaXRpb25CeU9yaWdpbiIsInNpemVBZnRlclRyYW5zZm9ybSIsImRpbVgiLCJkaW1ZIiwidHJhbnNmb3JtTWF0cml4IiwiYmJveCIsIm1lcmdlQ2xpcFBhdGhzIiwiYzEiLCJjMiIsImNhbGNUcmFuc2Zvcm1NYXRyaXgiLCJjbGlwUGF0aCIsImhhc1N0eWxlQ2hhbmdlZCIsInByZXZTdHlsZSIsInRoaXNTdHlsZSIsImZvclRleHRTcGFucyIsInN0cm9rZSIsImZvbnRXZWlnaHQiLCJmb250U3R5bGUiLCJ0ZXh0QmFja2dyb3VuZENvbG9yIiwiZGVsdGFZIiwib3ZlcmxpbmUiLCJ1bmRlcmxpbmUiLCJsaW5ldGhyb3VnaCIsInN0eWxlc1RvQXJyYXkiLCJzdHlsZXMiLCJ0ZXh0IiwidGV4dExpbmVzIiwiY2hhckluZGV4Iiwic3R5bGVzQXJyYXkiLCJjIiwia2V5cyIsInN0YXJ0IiwiZW5kIiwic3R5bGVzRnJvbUFycmF5Iiwic3R5bGVJbmRleCIsInN0eWxlc09iamVjdCIsImFzc2lnbiIsIl9qb2luIiwicHJvdG90eXBlIiwiY29tbWFuZExlbmd0aHMiLCJtIiwiaCIsInEiLCJyZXBlYXRlZENvbW1hbmRzIiwiTSIsInNlZ21lbnRUb0JlemllciIsInRoMiIsInRoMyIsImNvc1RoIiwic2luVGgiLCJyeCIsInJ5IiwiY3gxIiwiY3kxIiwibVQiLCJmcm9tWCIsImZyb21ZIiwiY29zdGgyIiwic2ludGgyIiwiY29zdGgzIiwic2ludGgzIiwidG9YIiwidG9ZIiwiY2FsY1ZlY3RvckFuZ2xlIiwidXgiLCJ1eSIsInZ4IiwidnkiLCJ0YSIsInRiIiwiZnJvbUFyY1RvQmV6aWVycyIsImZ4IiwiZnkiLCJyb3QiLCJsYXJnZSIsInN3ZWVwIiwic2Vnc05vcm0iLCJyb3RhdGVYIiwidGgiLCJweCIsInB5IiwicngyIiwiYWJzIiwicnkyIiwicHkyIiwicHgyIiwicGwiLCJyb290IiwiY3giLCJjeSIsIm1UaGV0YSIsImR0aGV0YSIsInNlZ21lbnRzIiwiY2VpbCIsInJlc3VsdCIsIm1EZWx0YSIsImFyY1RvU2VnbWVudHMiLCJjYWxjTGluZUxlbmd0aCIsIngxIiwieTEiLCJ4MiIsInkyIiwiZ2V0UG9pbnRPbkN1YmljQmV6aWVySXRlcmF0b3IiLCJwMXgiLCJwMXkiLCJwMngiLCJwMnkiLCJwM3giLCJwM3kiLCJwNHgiLCJwNHkiLCJwY3QiLCJDQjIiLCJjMyIsIkNCMyIsImM0IiwiQ0I0IiwiZ2V0VGFuZ2VudEN1YmljSXRlcmF0b3IiLCJpbnZUIiwidGFuZ2VudFgiLCJ0YW5nZW50WSIsImdldFBvaW50T25RdWFkcmF0aWNCZXppZXJJdGVyYXRvciIsIlFCMiIsIlFCMyIsImdldFRhbmdlbnRRdWFkcmF0aWNJdGVyYXRvciIsInBhdGhJdGVyYXRvciIsIml0ZXJhdG9yIiwicGVyYyIsInRlbXBQIiwidG1wTGVuIiwiZ2V0UGF0aFNlZ21lbnRzSW5mbyIsInRlbXBJbmZvIiwiYW5nbGVGaW5kZXIiLCJ0b3RhbExlbmd0aCIsImluZm8iLCJjb21tYW5kIiwiZGVzdFgiLCJkZXN0WSIsImpvaW5QYXRoIiwicGF0aERhdGEiLCJzZWdtZW50IiwicGFyc2VQYXRoIiwicGF0aFN0cmluZyIsImN1cnJlbnRQYXRoIiwicGFyc2VkIiwibWF0Y2giLCJjb29yZHNTdHIiLCJyZSIsInJOdW1iZXIiLCJyTnVtYmVyQ29tbWFXc3AiLCJyRmxhZ0NvbW1hV3NwIiwicmVnQXJjQXJndW1lbnRTZXF1ZW5jZSIsIlJlZ0V4cCIsImNvb3Jkc1BhcnNlZCIsInRyaW0iLCJhcmdzIiwiaiIsImpsZW4iLCJpc05hTiIsImNvbW1hbmRMZW5ndGgiLCJyZXBlYXRlZENvbW1hbmQiLCJrbGVuIiwibWFrZVBhdGhTaW1wbGVyIiwiY29udmVydGVkIiwicHJldmlvdXMiLCJjb250cm9sWCIsImNvbnRyb2xZIiwiZGVzdGluYXRpb25QYXRoIiwiZ2V0U21vb3RoUGF0aEZyb21Qb2ludHMiLCJjb3JyZWN0aW9uIiwicDEiLCJwMiIsIm11bHRTaWduWCIsIm11bHRTaWduWSIsIm1hbnlQb2ludHMiLCJlcSIsIm1pZFBvaW50IiwibWlkUG9pbnRGcm9tIiwiZ2V0Qm91bmRzT2ZDdXJ2ZSIsIngwIiwieTAiLCJ4MyIsInkzIiwiYXJnc1N0cmluZyIsInQxIiwidDIiLCJiMmFjIiwic3FydGIyYWMiLCJ0dmFsdWVzIiwiYm91bmRzIiwibXQiLCJnZXRQb2ludE9uUGF0aCIsImRpc3RhbmNlIiwiaW5mb3MiLCJzZWdJbmZvIiwic2VnUGVyY2VudCIsImxlcnAiLCJuZXh0TGVuIiwibGFzdFBlcmMiLCJuZXh0U3RlcCIsImZpbmRQZXJjZW50YWdlRm9yRGlzdGFuY2UiLCJ0cmFuc2Zvcm1QYXRoIiwicGF0aE9mZnNldCIsInBhdGhTZWdtZW50IiwibmV3U2VnbWVudCIsImZpbmQiLCJieVByb3BlcnR5IiwiY29uZGl0aW9uIiwiaW52b2tlIiwibWV0aG9kIiwidmFsdWUxIiwidmFsdWUyIiwiZXh0ZW5kIiwiRWxlbWVudCIsImhhc093blByb3BlcnR5IiwiZ2V0V2hvbGVDaGFyIiwic3RyIiwiY29kZSIsImNoYXJDb2RlQXQiLCJuZXh0IiwicHJldiIsImNoYXJhY3RlciIsImNhcGl0YWxpemUiLCJmaXJzdExldHRlck9ubHkiLCJlc2NhcGVYbWwiLCJncmFwaGVtZVNwbGl0IiwidGV4dHN0cmluZyIsImNociIsImdyYXBoZW1lcyIsImVtcHR5RnVuY3Rpb24iLCJJU19ET05URU5VTV9CVUdHWSIsImFkZE1ldGhvZHMiLCJrbGFzcyIsInBhcmVudCIsInN1cGVyY2xhc3MiLCJjb25zdHJ1Y3RvciIsInJldHVyblZhbHVlIiwidmFsdWVPZiIsIlN1YmNsYXNzIiwiY2FsbFN1cGVyIiwibWV0aG9kTmFtZSIsInBhcmVudE1ldGhvZCIsIl90aGlzIiwic3VwZXJDbGFzc01ldGhvZCIsImNyZWF0ZUNsYXNzIiwiaW5pdGlhbGl6ZSIsInNoaWZ0Iiwic3ViY2xhc3NlcyIsImF0dGFjaEV2ZW50IiwiYWRkTGlzdGVuZXIiLCJlbGVtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImdldFBvaW50ZXIiLCJldmVudCIsInNjcm9sbCIsImdldFNjcm9sbExlZnRUb3AiLCJfZXZ0IiwidG91Y2hQcm9wIiwiY2hhbmdlZFRvdWNoZXMiLCJnZXRUb3VjaEluZm8iLCJjbGllbnRYIiwiY2xpZW50WSIsImlzVG91Y2hFdmVudCIsInBvaW50ZXJUeXBlIiwib3BhY2l0eSIsImVzIiwiY3VycmVudFN0eWxlIiwiaGFzTGF5b3V0Iiwiem9vbSIsInNldFN0eWxlIiwiZWxlbWVudFN0eWxlIiwiY3NzVGV4dCIsIm5vcm1hbGl6ZWRQcm9wZXJ0eSIsInN0eWxlRmxvYXQiLCJzZXRQcm9wZXJ0eSIsInNsaWNlQ2FuQ29udmVydE5vZGVsaXN0cyIsImdldEVsZW1lbnRTdHlsZSIsInNlbGVjdFByb3AiLCJfc2xpY2UiLCJ0b0FycmF5IiwiYXJyYXlMaWtlIiwiY2hpbGROb2RlcyIsImVyciIsIm1ha2VFbGVtZW50IiwidGFnTmFtZSIsImVsIiwiY2xhc3NOYW1lIiwiaHRtbEZvciIsInNldEF0dHJpYnV0ZSIsImRvY0VsZW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJib2R5Iiwic2Nyb2xsTGVmdCIsInNjcm9sbFRvcCIsImhvc3QiLCJub2RlVHlwZSIsImFyciIsImRlZmF1bHRWaWV3IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImF0dHIiLCJtYWtlRWxlbWVudFVuc2VsZWN0YWJsZSIsIm9uc2VsZWN0c3RhcnQiLCJ1bnNlbGVjdGFibGUiLCJtYWtlRWxlbWVudFNlbGVjdGFibGUiLCJzZXRJbWFnZVNtb290aGluZyIsImltYWdlU21vb3RoaW5nRW5hYmxlZCIsIndlYmtpdEltYWdlU21vb3RoaW5nRW5hYmxlZCIsIm1vekltYWdlU21vb3RoaW5nRW5hYmxlZCIsIm1zSW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwib0ltYWdlU21vb3RoaW5nRW5hYmxlZCIsImdldEJ5SWQiLCJnZXRFbGVtZW50QnlJZCIsImFkZENsYXNzIiwid3JhcEVsZW1lbnQiLCJ3cmFwcGVyIiwicmVwbGFjZUNoaWxkIiwiZ2V0RWxlbWVudE9mZnNldCIsImRvY0VsZW0iLCJzY3JvbGxMZWZ0VG9wIiwiZG9jIiwib3duZXJEb2N1bWVudCIsImJveCIsIm9mZnNldCIsIm9mZnNldEF0dHJpYnV0ZXMiLCJib3JkZXJMZWZ0V2lkdGgiLCJib3JkZXJUb3BXaWR0aCIsInBhZGRpbmdMZWZ0IiwicGFkZGluZ1RvcCIsInBhcnNlSW50IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiY2xpZW50TGVmdCIsImNsaWVudFRvcCIsImdldE5vZGVDYW52YXMiLCJpbXBsIiwiX2NhbnZhcyIsIl9pbWFnZSIsImNsZWFuVXBKc2RvbU5vZGUiLCJfY3VycmVudFNyYyIsIl9hdHRyaWJ1dGVzIiwiX2NsYXNzTGlzdCIsImVtcHR5Rm4iLCJyZXF1ZXN0Iiwib25Db21wbGV0ZSIsInhociIsIlhNTEh0dHBSZXF1ZXN0IiwicGFyYW1ldGVycyIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJwYXJhbSIsImFkZFBhcmFtVG9VcmwiLCJvcGVuIiwic2V0UmVxdWVzdEhlYWRlciIsInNlbmQiLCJ3YXJuIiwiUlVOTklOR19BTklNQVRJT05TIiwibm9vcCIsImRlZmF1bHRFYXNpbmciLCJkIiwiY2FuY2VsQWxsIiwiYW5pbWF0aW9ucyIsImFuaW1hdGlvbiIsImNhbmNlbCIsImNhbmNlbEJ5Q2FudmFzIiwiY2FuY2VsbGVkIiwiY2FuY2VsQnlUYXJnZXQiLCJmaW5kQW5pbWF0aW9uc0J5VGFyZ2V0IiwiZmluZEFuaW1hdGlvbkluZGV4IiwiY2FuY2VsRnVuYyIsImZpbmRBbmltYXRpb24iLCJfcmVxdWVzdEFuaW1GcmFtZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1velJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJtc1JlcXVlc3RBbmltYXRpb25GcmFtZSIsInNldFRpbWVvdXQiLCJfY2FuY2VsQW5pbUZyYW1lIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJjbGVhclRpbWVvdXQiLCJyZXF1ZXN0QW5pbUZyYW1lIiwiYW5pbWF0ZSIsInJlbW92ZUZyb21SZWdpc3RyeSIsInJ1bm5pbmdBbmltYXRpb25zIiwiY3VycmVudFZhbHVlIiwic3RhcnRWYWx1ZSIsImNvbXBsZXRpb25SYXRlIiwiZHVyYXRpb25SYXRlIiwidGltZXN0YW1wIiwidGltZSIsIkRhdGUiLCJkdXJhdGlvbiIsImZpbmlzaCIsIm9uQ2hhbmdlIiwiYWJvcnQiLCJlYXNpbmciLCJpc01hbnkiLCJlbmRWYWx1ZSIsImJ5VmFsdWUiLCJvblN0YXJ0IiwidGljayIsInRpY2t0aW1lIiwiY3VycmVudFRpbWUiLCJ0aW1lUGVyYyIsIl92YWx1ZSIsInZhbHVlUGVyYyIsImNhbmNlbEFuaW1GcmFtZSIsImNhbGN1bGF0ZUNvbG9yIiwiYmVnaW4iLCJwb3MiLCJjb2xvciIsImFuaW1hdGVDb2xvciIsImZyb21Db2xvciIsInRvQ29sb3IiLCJzdGFydENvbG9yIiwiQ29sb3IiLCJnZXRTb3VyY2UiLCJlbmRDb2xvciIsIm9yaWdpbmFsT25Db21wbGV0ZSIsIm9yaWdpbmFsT25DaGFuZ2UiLCJjb2xvckVhc2luZyIsIm5vcm1hbGl6ZSIsImFzaW4iLCJlbGFzdGljIiwib3B0cyIsImVhc2VJbkJvdW5jZSIsImVhc2VPdXRCb3VuY2UiLCJlYXNlIiwiZWFzZUluUXVhZCIsImVhc2VPdXRRdWFkIiwiZWFzZUluT3V0UXVhZCIsImVhc2VJbkN1YmljIiwiZWFzZU91dEN1YmljIiwiZWFzZUluT3V0Q3ViaWMiLCJlYXNlSW5RdWFydCIsImVhc2VPdXRRdWFydCIsImVhc2VJbk91dFF1YXJ0IiwiZWFzZUluUXVpbnQiLCJlYXNlT3V0UXVpbnQiLCJlYXNlSW5PdXRRdWludCIsImVhc2VJblNpbmUiLCJlYXNlT3V0U2luZSIsImVhc2VJbk91dFNpbmUiLCJlYXNlSW5FeHBvIiwiZWFzZU91dEV4cG8iLCJlYXNlSW5PdXRFeHBvIiwiZWFzZUluQ2lyYyIsImVhc2VPdXRDaXJjIiwiZWFzZUluT3V0Q2lyYyIsImVhc2VJbkVsYXN0aWMiLCJlYXNlT3V0RWxhc3RpYyIsImVhc2VJbk91dEVsYXN0aWMiLCJlYXNlSW5CYWNrIiwiZWFzZU91dEJhY2siLCJlYXNlSW5PdXRCYWNrIiwiZWFzZUluT3V0Qm91bmNlIiwiYXR0cmlidXRlc01hcCIsImRpc3BsYXkiLCJ2aXNpYmlsaXR5IiwiY29sb3JBdHRyaWJ1dGVzIiwiZlNpemUiLCJjUGF0aCIsIm5vcm1hbGl6ZUF0dHIiLCJub3JtYWxpemVWYWx1ZSIsInBhcmVudEF0dHJpYnV0ZXMiLCJwYXJzZVRyYW5zZm9ybUF0dHJpYnV0ZSIsInZpc2libGUiLCJmaWxsSW5kZXgiLCJzdHJva2VJbmRleCIsImdldFN2Z1JlZ2V4IiwiX2dldE11bHRpcGxlTm9kZXMiLCJub2RlTmFtZXMiLCJub2RlTmFtZSIsIm5vZGVMaXN0Iiwibm9kZUFycmF5IiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJlbGVtZW50TWF0Y2hlc1J1bGUiLCJzZWxlY3RvcnMiLCJmaXJzdE1hdGNoaW5nIiwicGFyZW50TWF0Y2hpbmciLCJzZWxlY3Rvck1hdGNoZXMiLCJzZWxlY3RvciIsImRvZXNTb21lUGFyZW50TWF0Y2giLCJtYXRjaGVyIiwiY2xhc3NOYW1lcyIsImdldEF0dHJpYnV0ZSIsImVsZW1lbnRCeUlkIiwibm9kZSIsIm5vZGVsaXN0Iiwic3ZnVmFsaWRUYWdOYW1lc1JlZ0V4Iiwic3ZnVmlld0JveEVsZW1lbnRzUmVnRXgiLCJzdmdJbnZhbGlkQW5jZXN0b3JzUmVnRXgiLCJzdmdWYWxpZFBhcmVudHNSZWdFeCIsImNzc1J1bGVzIiwiZ3JhZGllbnREZWZzIiwiY2xpcFBhdGhzIiwic2tld01hdHJpeCIsInJlVHJhbnNmb3JtTGlzdCIsInJlVHJhbnNmb3JtIiwiYXR0cmlidXRlVmFsdWUiLCJtYXRyaWNlcyIsIm9wZXJhdGlvbiIsInRyYW5zbGF0ZU1hdHJpeCIsInJvdGF0ZU1hdHJpeCIsIm11bHRpcGxpZXJYIiwibXVsdGlwbGllclkiLCJjb21iaW5lZE1hdHJpeCIsInJlVmlld0JveEF0dHJWYWx1ZSIsImFwcGx5Vmlld2JveFRyYW5zZm9ybSIsInZpZXdCb3hXaWR0aCIsInZpZXdCb3hIZWlnaHQiLCJ2aWV3Qm94QXR0ciIsIndpZHRoQXR0ciIsImhlaWdodEF0dHIiLCJwcmVzZXJ2ZUFzcGVjdFJhdGlvIiwibWlzc2luZ1ZpZXdCb3giLCJtaXNzaW5nRGltQXR0ciIsInRvQmVQYXJzZWQiLCJwYXJzZWREaW0iLCJ3aWR0aERpZmYiLCJoZWlnaHREaWZmIiwicmVtb3ZlQXR0cmlidXRlIiwiY3JlYXRlRWxlbWVudE5TIiwiZmlyc3RDaGlsZCIsInJlY3Vyc2l2ZWx5UGFyc2VHcmFkaWVudHNYbGluayIsImdyYWRpZW50IiwieGxpbmtBdHRyIiwicmVmZXJlbmNlZEdyYWRpZW50IiwiaGFzQXR0cmlidXRlIiwiY2hpbGRyZW4iLCJyZWZlcmVuY2VDbG9uZSIsImNsb25lTm9kZSIsInBhcnNlU1ZHRG9jdW1lbnQiLCJwYXJzaW5nT3B0aW9ucyIsInhsaW5rQXR0cmlidXRlIiwiYXR0cnMiLCJ4bGluayIsImVsMiIsImN1cnJlbnRUcmFucyIsIm9sZExlbmd0aCIsImVsMyIsInNldEF0dHJpYnV0ZU5TIiwibm9kZVZhbHVlIiwicGFyc2VVc2VEaXJlY3RpdmVzIiwic3ZnVWlkIiwiX191aWQiLCJkZXNjZW5kYW50cyIsInNlbGVjdE5vZGVzIiwiaGFzQW5jZXN0b3JXaXRoTm9kZU5hbWUiLCJnZXRHcmFkaWVudERlZnMiLCJnZXRDU1NSdWxlcyIsInBhcnNlRWxlbWVudHMiLCJpbnN0YW5jZXMiLCJyZUZvbnREZWNsYXJhdGlvbiIsInBhcnNlRm9udERlY2xhcmF0aW9uIiwib1N0eWxlIiwibGluZUhlaWdodCIsImVsTGlzdCIsInBhcnNlQXR0cmlidXRlcyIsInBhcmVudEZvbnRTaXplIiwib3duQXR0cmlidXRlcyIsImNzc0F0dHJzIiwicnVsZSIsImdldEdsb2JhbFN0eWxlc0ZvckVsZW1lbnQiLCJwYXJzZVN0eWxlQXR0cmlidXRlIiwibm9ybWFsaXplZEF0dHIiLCJub3JtYWxpemVkVmFsdWUiLCJub3JtYWxpemVkU3R5bGUiLCJmb250IiwibWVyZ2VkQXR0cnMiLCJzZXRBbHBoYSIsImdldEFscGhhIiwidG9SZ2JhIiwiX3NldFN0cm9rZUZpbGxPcGFjaXR5IiwiRWxlbWVudHNQYXJzZXIiLCJwYXJzZSIsImNodW5rIiwicGFpciIsInBhcnNlU3R5bGVTdHJpbmciLCJwYXJzZVN0eWxlT2JqZWN0IiwicGFyc2VQb2ludHNBdHRyaWJ1dGUiLCJwYXJzZWRQb2ludHMiLCJhbGxSdWxlcyIsInN0eWxlQ29udGVudHMiLCJ0ZXh0Q29udGVudCIsInJ1bGVPYmoiLCJwcm9wZXJ0eVZhbHVlUGFpcnMiLCJfcnVsZSIsImxvYWRTVkdGcm9tVVJMIiwieG1sIiwicmVzcG9uc2VYTUwiLCJyZXN1bHRzIiwiX29wdGlvbnMiLCJhbGxFbGVtZW50cyIsImxvYWRTVkdGcm9tU3RyaW5nIiwicGFyc2VGcm9tU3RyaW5nIiwicmVnZXhVcmwiLCJudW1FbGVtZW50cyIsImNyZWF0ZU9iamVjdHMiLCJjcmVhdGVPYmplY3QiLCJmaW5kVGFnIiwiZnJvbUVsZW1lbnQiLCJjcmVhdGVDYWxsYmFjayIsImNoZWNrSWZEb25lIiwicmVzb2x2ZUdyYWRpZW50IiwiSW1hZ2UiLCJfb3JpZ2luYWxFbGVtZW50IiwiX3JlbW92ZVRyYW5zZm9ybU1hdHJpeCIsInJlc29sdmVDbGlwUGF0aCIsImV4dHJhY3RQcm9wZXJ0eURlZmluaXRpb24iLCJzdG9yYWdlIiwicmVnZXgiLCJsYXN0SW5kZXgiLCJncmFkaWVudERlZiIsIm9wYWNpdHlBdHRyIiwiY3JlYXRlQ2xpcFBhdGhDYWxsYmFjayIsImNvbnRhaW5lciIsIl9uZXdPYmoiLCJmaWxsUnVsZSIsImNsaXBSdWxlIiwidXNpbmdFbGVtZW50Iiwib2JqVHJhbnNmb3JtSW52IiwiZ1RyYW5zZm9ybSIsImNsaXBQYXRoVGFnIiwiY2xpcFBhdGhPd25lciIsInRoYXQiLCJzY2FsYXJBZGQiLCJzY2FsYXJBZGRFcXVhbHMiLCJzdWJ0cmFjdEVxdWFscyIsInNjYWxhclN1YnRyYWN0Iiwic2NhbGFyU3VidHJhY3RFcXVhbHMiLCJtdWx0aXBseUVxdWFscyIsImRpdmlkZSIsImRpdmlkZUVxdWFscyIsImx0IiwibHRlIiwiZ3QiLCJndGUiLCJkaXN0YW5jZUZyb20iLCJkeCIsImR5Iiwic2V0WFkiLCJzZXRYIiwic2V0WSIsInNldEZyb21Qb2ludCIsInN3YXAiLCJJbnRlcnNlY3Rpb24iLCJzdGF0dXMiLCJhcHBlbmRQb2ludCIsImFwcGVuZFBvaW50cyIsImludGVyc2VjdExpbmVMaW5lIiwiYTEiLCJhMiIsImIxIiwiYjIiLCJ1YVQiLCJ1YlQiLCJ1QiIsInVhIiwidWIiLCJpbnRlcnNlY3RMaW5lUG9seWdvbiIsImludGVyIiwiaW50ZXJzZWN0UG9seWdvblBvbHlnb24iLCJwb2ludHMxIiwicG9pbnRzMiIsImludGVyc2VjdFBvbHlnb25SZWN0YW5nbGUiLCJyMSIsInIyIiwidG9wUmlnaHQiLCJib3R0b21MZWZ0IiwiaW50ZXIxIiwiaW50ZXIyIiwiaW50ZXIzIiwiaW50ZXI0IiwiX3RyeVBhcnNpbmdDb2xvciIsInNldFNvdXJjZSIsImh1ZTJyZ2IiLCJjb2xvck5hbWVNYXAiLCJzb3VyY2VGcm9tSGV4Iiwic291cmNlRnJvbVJnYiIsInNvdXJjZUZyb21Ic2wiLCJfcmdiVG9Ic2wiLCJnIiwicm91bmQiLCJfc291cmNlIiwidG9SZ2IiLCJ0b0hzbCIsImhzbCIsInRvSHNsYSIsInRvSGV4IiwidG9IZXhhIiwidG9HcmF5c2NhbGUiLCJhdmVyYWdlIiwiY3VycmVudEFscGhhIiwidG9CbGFja1doaXRlIiwidGhyZXNob2xkIiwib3ZlcmxheVdpdGgiLCJvdGhlckNvbG9yIiwib3RoZXJTb3VyY2UiLCJyZVJHQmEiLCJyZUhTTGEiLCJyZUhleCIsImFsaWNlYmx1ZSIsImFudGlxdWV3aGl0ZSIsImFxdWEiLCJhcXVhbWFyaW5lIiwiYXp1cmUiLCJiZWlnZSIsImJpc3F1ZSIsImJsYWNrIiwiYmxhbmNoZWRhbG1vbmQiLCJibHVlIiwiYmx1ZXZpb2xldCIsImJyb3duIiwiYnVybHl3b29kIiwiY2FkZXRibHVlIiwiY2hhcnRyZXVzZSIsImNob2NvbGF0ZSIsImNvcmFsIiwiY29ybmZsb3dlcmJsdWUiLCJjb3Juc2lsayIsImNyaW1zb24iLCJjeWFuIiwiZGFya2JsdWUiLCJkYXJrY3lhbiIsImRhcmtnb2xkZW5yb2QiLCJkYXJrZ3JheSIsImRhcmtncmV5IiwiZGFya2dyZWVuIiwiZGFya2toYWtpIiwiZGFya21hZ2VudGEiLCJkYXJrb2xpdmVncmVlbiIsImRhcmtvcmFuZ2UiLCJkYXJrb3JjaGlkIiwiZGFya3JlZCIsImRhcmtzYWxtb24iLCJkYXJrc2VhZ3JlZW4iLCJkYXJrc2xhdGVibHVlIiwiZGFya3NsYXRlZ3JheSIsImRhcmtzbGF0ZWdyZXkiLCJkYXJrdHVycXVvaXNlIiwiZGFya3Zpb2xldCIsImRlZXBwaW5rIiwiZGVlcHNreWJsdWUiLCJkaW1ncmF5IiwiZGltZ3JleSIsImRvZGdlcmJsdWUiLCJmaXJlYnJpY2siLCJmbG9yYWx3aGl0ZSIsImZvcmVzdGdyZWVuIiwiZnVjaHNpYSIsImdhaW5zYm9ybyIsImdob3N0d2hpdGUiLCJnb2xkIiwiZ29sZGVucm9kIiwiZ3JheSIsImdyZXkiLCJncmVlbiIsImdyZWVueWVsbG93IiwiaG9uZXlkZXciLCJob3RwaW5rIiwiaW5kaWFucmVkIiwiaW5kaWdvIiwiaXZvcnkiLCJraGFraSIsImxhdmVuZGVyIiwibGF2ZW5kZXJibHVzaCIsImxhd25ncmVlbiIsImxlbW9uY2hpZmZvbiIsImxpZ2h0Ymx1ZSIsImxpZ2h0Y29yYWwiLCJsaWdodGN5YW4iLCJsaWdodGdvbGRlbnJvZHllbGxvdyIsImxpZ2h0Z3JheSIsImxpZ2h0Z3JleSIsImxpZ2h0Z3JlZW4iLCJsaWdodHBpbmsiLCJsaWdodHNhbG1vbiIsImxpZ2h0c2VhZ3JlZW4iLCJsaWdodHNreWJsdWUiLCJsaWdodHNsYXRlZ3JheSIsImxpZ2h0c2xhdGVncmV5IiwibGlnaHRzdGVlbGJsdWUiLCJsaWdodHllbGxvdyIsImxpbWUiLCJsaW1lZ3JlZW4iLCJsaW5lbiIsIm1hZ2VudGEiLCJtYXJvb24iLCJtZWRpdW1hcXVhbWFyaW5lIiwibWVkaXVtYmx1ZSIsIm1lZGl1bW9yY2hpZCIsIm1lZGl1bXB1cnBsZSIsIm1lZGl1bXNlYWdyZWVuIiwibWVkaXVtc2xhdGVibHVlIiwibWVkaXVtc3ByaW5nZ3JlZW4iLCJtZWRpdW10dXJxdW9pc2UiLCJtZWRpdW12aW9sZXRyZWQiLCJtaWRuaWdodGJsdWUiLCJtaW50Y3JlYW0iLCJtaXN0eXJvc2UiLCJtb2NjYXNpbiIsIm5hdmFqb3doaXRlIiwibmF2eSIsIm9sZGxhY2UiLCJvbGl2ZSIsIm9saXZlZHJhYiIsIm9yYW5nZSIsIm9yYW5nZXJlZCIsIm9yY2hpZCIsInBhbGVnb2xkZW5yb2QiLCJwYWxlZ3JlZW4iLCJwYWxldHVycXVvaXNlIiwicGFsZXZpb2xldHJlZCIsInBhcGF5YXdoaXAiLCJwZWFjaHB1ZmYiLCJwZXJ1IiwicGluayIsInBsdW0iLCJwb3dkZXJibHVlIiwicHVycGxlIiwicmViZWNjYXB1cnBsZSIsInJlZCIsInJvc3licm93biIsInJveWFsYmx1ZSIsInNhZGRsZWJyb3duIiwic2FsbW9uIiwic2FuZHlicm93biIsInNlYWdyZWVuIiwic2Vhc2hlbGwiLCJzaWVubmEiLCJzaWx2ZXIiLCJza3libHVlIiwic2xhdGVibHVlIiwic2xhdGVncmF5Iiwic2xhdGVncmV5Iiwic25vdyIsInNwcmluZ2dyZWVuIiwic3RlZWxibHVlIiwidGVhbCIsInRoaXN0bGUiLCJ0b21hdG8iLCJ0dXJxdW9pc2UiLCJ2aW9sZXQiLCJ3aGVhdCIsIndoaXRlIiwid2hpdGVzbW9rZSIsInllbGxvdyIsInllbGxvd2dyZWVuIiwiZnJvbVJnYiIsImZyb21Tb3VyY2UiLCJmcm9tUmdiYSIsImZyb21Ic2wiLCJmcm9tSHNsYSIsImZyb21IZXgiLCJpc1Nob3J0Tm90YXRpb24iLCJpc1JHQmEiLCJvQ29sb3IiLCJzY2FsZU1hcCIsInNrZXdNYXAiLCJjb250cm9scyIsIkxFRlQiLCJUT1AiLCJSSUdIVCIsIkJPVFRPTSIsIkNFTlRFUiIsIm9wcG9zaXRlIiwiYm90dG9tIiwicmlnaHQiLCJmaW5kQ29ybmVyUXVhZHJhbnQiLCJmYWJyaWNPYmplY3QiLCJjb250cm9sIiwiY29ybmVyQW5nbGUiLCJmaXJlRXZlbnQiLCJjYW52YXNPcHRpb25zIiwic2NhbGVJc1Byb3BvcnRpb25hbCIsImV2ZW50RGF0YSIsInVuaWZvcm1Jc1RvZ2dsZWQiLCJ1bmlTY2FsZUtleSIsInVuaWZvcm1TY2FsaW5nIiwiaXNUcmFuc2Zvcm1DZW50ZXJlZCIsIm9yaWdpblgiLCJvcmlnaW5ZIiwic2NhbGluZ0lzRm9yYmlkZGVuIiwiYnkiLCJzY2FsZVByb3BvcnRpb25hbGx5IiwibG9ja1giLCJsb2NrU2NhbGluZ1giLCJsb2NrWSIsImxvY2tTY2FsaW5nWSIsImNvbW1vbkV2ZW50SW5mbyIsImUiLCJwb2ludGVyIiwid3JhcFdpdGhGaXhlZEFuY2hvciIsImFjdGlvbkhhbmRsZXIiLCJnZXRDZW50ZXJQb2ludCIsImNvbnN0cmFpbnQiLCJ0cmFuc2xhdGVUb09yaWdpblBvaW50IiwiYWN0aW9uUGVyZm9ybWVkIiwid3JhcFdpdGhGaXJlRXZlbnQiLCJnZXRMb2NhbFBvaW50IiwiY29ybmVyIiwiZ2V0Wm9vbSIsInBhZGRpbmciLCJsb2NhbFBvaW50IiwidG9Mb2NhbFBvaW50Iiwib2Zmc2V0WCIsIm9mZnNldFkiLCJ0YXJnZXRIYXNPbmVGbGlwIiwiY29tcGVuc2F0ZVNjYWxlRm9yU2tldyIsIm9wcG9zaXRlU2tldyIsInNjYWxlVG9Db21wZW5zYXRlIiwiYXhpcyIsInJlZmVyZW5jZSIsIm5ld1ZhbHVlIiwiX2dldFRyYW5zZm9ybWVkRGltZW5zaW9ucyIsInNrZXdPYmplY3RYIiwibmV3U2tldyIsImRpbU5vU2tldyIsInRvdGFsU2tld1NpemUiLCJjdXJyZW50U2tldyIsImhhc1NrZXdlZCIsImRpbUJlZm9yZVNrZXdpbmciLCJza2V3T2JqZWN0WSIsInNjYWxlT2JqZWN0IiwiZGltIiwic2lnblgiLCJzaWduWSIsImZvcmJpZFNjYWxpbmciLCJnZXN0dXJlU2NhbGUiLCJsb2NrU2NhbGluZ0ZsaXAiLCJvcmlnaW5hbCIsIm9sZFNjYWxlWCIsIm9sZFNjYWxlWSIsInNjYWxlQ3Vyc29yU3R5bGVIYW5kbGVyIiwibiIsInNrZXdDdXJzb3JTdHlsZUhhbmRsZXIiLCJub3RBbGxvd2VkIiwibG9ja1NrZXdpbmdZIiwibG9ja1NrZXdpbmdYIiwic2NhbGVTa2V3Q3Vyc29yU3R5bGVIYW5kbGVyIiwiYWx0QWN0aW9uS2V5Iiwicm90YXRpb25XaXRoU25hcHBpbmciLCJwaXZvdFBvaW50IiwibG9ja1JvdGF0aW9uIiwiaGFzUm90YXRlZCIsImxhc3RBbmdsZSIsImV5IiwiZXgiLCJjdXJBbmdsZSIsInNuYXBBbmdsZSIsInNuYXBUaHJlc2hvbGQiLCJyaWdodEFuZ2xlTG9ja2VkIiwibGVmdEFuZ2xlTG9ja2VkIiwic2NhbGluZ0VxdWFsbHkiLCJzY2FsaW5nWCIsInNjYWxpbmdZIiwic2NhbGluZ1lPclNrZXdpbmdYIiwic2tld0hhbmRsZXJYIiwic2NhbGluZ1hPclNrZXdpbmdZIiwic2tld0hhbmRsZXJZIiwiY2hhbmdlV2lkdGgiLCJzdHJva2VQYWRkaW5nIiwibXVsdGlwbGllciIsIm9sZFdpZHRoIiwibmV3V2lkdGgiLCJmaW5hbEhhbmRsZXIiLCJkcmFnSGFuZGxlciIsIm5ld0xlZnQiLCJuZXdUb3AiLCJtb3ZlWCIsIm1vdmVZIiwic2NhbGVPclNrZXdBY3Rpb25OYW1lIiwiaXNBbHRlcm5hdGl2ZSIsInJvdGF0aW9uU3R5bGVIYW5kbGVyIiwiY3Vyc29yU3R5bGUiLCJjb250cm9sc1V0aWxzIiwicmVuZGVyQ2lyY2xlQ29udHJvbCIsInN0eWxlT3ZlcnJpZGUiLCJ4U2l6ZSIsInNpemVYIiwiY29ybmVyU2l6ZSIsInlTaXplIiwic2l6ZVkiLCJ0cmFuc3BhcmVudENvcm5lcnMiLCJjb3JuZXJTdHJva2VDb2xvciIsIm15TGVmdCIsIm15VG9wIiwic2F2ZSIsImZpbGxTdHlsZSIsImNvcm5lckNvbG9yIiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJiZWdpblBhdGgiLCJhcmMiLCJyZXN0b3JlIiwicmVuZGVyU3F1YXJlQ29udHJvbCIsInhTaXplQnkyIiwieVNpemVCeTIiLCJzdHJva2VSZWN0IiwiQ29udHJvbCIsImFjdGlvbk5hbWUiLCJ0b3VjaFNpemVYIiwidG91Y2hTaXplWSIsIndpdGhDb25uZWN0aW9uIiwibW91c2VEb3duSGFuZGxlciIsIm1vdXNlVXBIYW5kbGVyIiwiZ2V0QWN0aW9uSGFuZGxlciIsImdldE1vdXNlRG93bkhhbmRsZXIiLCJnZXRNb3VzZVVwSGFuZGxlciIsImN1cnNvclN0eWxlSGFuZGxlciIsImdldEFjdGlvbk5hbWUiLCJnZXRWaXNpYmlsaXR5IiwiY29udHJvbEtleSIsIm9iamVjdFZpc2liaWxpdHkiLCJfY29udHJvbHNWaXNpYmlsaXR5Iiwic2V0VmlzaWJpbGl0eSIsInBvc2l0aW9uSGFuZGxlciIsImZpbmFsTWF0cml4IiwiY2FsY0Nvcm5lckNvb3JkcyIsIm9iamVjdEFuZ2xlIiwib2JqZWN0Q29ybmVyU2l6ZSIsImNlbnRlclgiLCJjZW50ZXJZIiwiaXNUb3VjaCIsImNvc0hhbGZPZmZzZXQiLCJzaW5IYWxmT2Zmc2V0IiwiY29zSGFsZk9mZnNldENvbXAiLCJzaW5IYWxmT2Zmc2V0Q29tcCIsImNvbnRyb2xUcmlhbmdsZUFuZ2xlIiwiY29ybmVySHlwb3RlbnVzZSIsIm5ld1RoZXRhIiwibmV3VGhldGFDb21wIiwidGwiLCJ0ciIsImJsIiwiYnIiLCJyZW5kZXIiLCJjb3JuZXJTdHlsZSIsImdldENvbG9yU3RvcCIsImNvbG9yQWxwaGEiLCJrZXlWYWx1ZVBhaXJzIiwiZ3JhZGllbnRUcmFuc2Zvcm0iLCJncmFkaWVudFVuaXRzIiwib3B0aW9uIiwiYWRkQ29sb3JTdG9wIiwidG9PYmplY3QiLCJwcm9wZXJ0aWVzVG9JbmNsdWRlIiwidG9TVkciLCJtYXJrdXAiLCJjb21tb25BdHRyaWJ1dGVzIiwibmVlZHNTd2FwIiwid2l0aFZpZXdwb3J0IiwiYWRkaXRpb25hbFRyYW5zZm9ybSIsInNvcnQiLCJyZXZlcnNlIiwibWluUmFkaXVzIiwicGVyY2VudGFnZVNoaWZ0IiwiY29sb3JTdG9wIiwidG9MaXZlIiwiY3JlYXRlTGluZWFyR3JhZGllbnQiLCJjcmVhdGVSYWRpYWxHcmFkaWVudCIsImluc3RhbmNlIiwic3ZnT3B0aW9ucyIsImNvbG9yU3RvcEVscyIsImdldExpbmVhckNvb3JkcyIsImdldFJhZGlhbENvb3JkcyIsInByb3BWYWx1ZSIsImZpbmFsVmFsdWUiLCJfX2NvbnZlcnRQZXJjZW50VW5pdHNUb1ZhbHVlcyIsInJlcGVhdCIsInBhdHRlcm5UcmFuc2Zvcm0iLCJzZXRPcHRpb25zIiwiaXNFcnJvciIsInBhdHRlcm5Tb3VyY2UiLCJwYXR0ZXJuV2lkdGgiLCJwYXR0ZXJuSGVpZ2h0IiwicGF0dGVybk9mZnNldFgiLCJwYXR0ZXJuT2Zmc2V0WSIsInBhdHRlcm5JbWdTcmMiLCJjb21wbGV0ZSIsIm5hdHVyYWxXaWR0aCIsIm5hdHVyYWxIZWlnaHQiLCJjcmVhdGVQYXR0ZXJuIiwiU2hhZG93IiwiYmx1ciIsImFmZmVjdFN0cm9rZSIsImluY2x1ZGVEZWZhdWx0VmFsdWVzIiwibm9uU2NhbGluZyIsIl9wYXJzZVNoYWRvdyIsInNoYWRvdyIsInNoYWRvd1N0ciIsIm9mZnNldHNBbmRCbHVyIiwicmVPZmZzZXRzQW5kQmx1ciIsImZCb3hYIiwiZkJveFkiLCJTdGF0aWNDYW52YXMiLCJDQU5WQVNfSU5JVF9FUlJPUiIsIkVycm9yIiwicmVuZGVyQW5kUmVzZXRCb3VuZCIsInJlbmRlckFuZFJlc2V0IiwicmVxdWVzdFJlbmRlckFsbEJvdW5kIiwiX2luaXRTdGF0aWMiLCJiYWNrZ3JvdW5kQ29sb3IiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJvdmVybGF5Q29sb3IiLCJvdmVybGF5SW1hZ2UiLCJzdGF0ZWZ1bCIsImNvbnRyb2xzQWJvdmVPdmVybGF5IiwiYWxsb3dUb3VjaFNjcm9sbGluZyIsInZpZXdwb3J0VHJhbnNmb3JtIiwiYmFja2dyb3VuZFZwdCIsIm92ZXJsYXlWcHQiLCJlbmFibGVSZXRpbmFTY2FsaW5nIiwidnB0Q29vcmRzIiwic2tpcE9mZnNjcmVlbiIsImNiIiwiX2NyZWF0ZUxvd2VyQ2FudmFzIiwiX2luaXRPcHRpb25zIiwiaW50ZXJhY3RpdmUiLCJfaW5pdFJldGluYVNjYWxpbmciLCJzZXRPdmVybGF5SW1hZ2UiLCJzZXRCYWNrZ3JvdW5kSW1hZ2UiLCJzZXRCYWNrZ3JvdW5kQ29sb3IiLCJzZXRPdmVybGF5Q29sb3IiLCJjYWxjT2Zmc2V0IiwiX2lzUmV0aW5hU2NhbGluZyIsImdldFJldGluYVNjYWxpbmciLCJzY2FsZVJhdGlvIiwiX19pbml0UmV0aW5hU2NhbGluZyIsImxvd2VyQ2FudmFzRWwiLCJjb250ZXh0Q29udGFpbmVyIiwidXBwZXJDYW52YXNFbCIsImNvbnRleHRUb3AiLCJfb2Zmc2V0IiwiaW1hZ2UiLCJfX3NldEJnT3ZlcmxheUltYWdlIiwiX19zZXRCZ092ZXJsYXlDb2xvciIsIl9jcmVhdGVDYW52YXNFbGVtZW50IiwiX29yaWdpbmFsQ2FudmFzU3R5bGUiLCJfYXBwbHlDYW52YXNTdHlsZSIsImdldFdpZHRoIiwiZ2V0SGVpZ2h0Iiwic2V0V2lkdGgiLCJzZXREaW1lbnNpb25zIiwic2V0SGVpZ2h0IiwiZGltZW5zaW9ucyIsImNzc1ZhbHVlIiwiY3NzT25seSIsIl9zZXRCYWNrc3RvcmVEaW1lbnNpb24iLCJoYXNMb3N0Q29udGV4dCIsImJhY2tzdG9yZU9ubHkiLCJfc2V0Q3NzRGltZW5zaW9uIiwiX2lzQ3VycmVudGx5RHJhd2luZyIsImZyZWVEcmF3aW5nQnJ1c2giLCJfc2V0QnJ1c2hTdHlsZXMiLCJjYWNoZUNhbnZhc0VsIiwid3JhcHBlckVsIiwic2V0Vmlld3BvcnRUcmFuc2Zvcm0iLCJ2cHQiLCJhY3RpdmVPYmplY3QiLCJfYWN0aXZlT2JqZWN0IiwiYmFja2dyb3VuZE9iamVjdCIsIm92ZXJsYXlPYmplY3QiLCJncm91cCIsInNldENvb3JkcyIsImNhbGNWaWV3cG9ydEJvdW5kYXJpZXMiLCJ6b29tVG9Qb2ludCIsImJlZm9yZSIsImFmdGVyIiwic2V0Wm9vbSIsImFic29sdXRlUGFuIiwicmVsYXRpdmVQYW4iLCJnZXRFbGVtZW50Iiwic2V0dXBTdGF0ZSIsImNsZWFyQ29udGV4dCIsImNsZWFyUmVjdCIsImNsZWFyIiwiX2hhc0lUZXh0SGFuZGxlcnMiLCJfbW91c2VVcElUZXh0SGFuZGxlciIsIl9pVGV4dEluc3RhbmNlcyIsInJlbmRlckFsbCIsImNhbnZhc1RvRHJhd09uIiwicmVuZGVyQ2FudmFzIiwiaXNSZW5kZXJpbmciLCJpVnB0IiwiY2FuY2VsUmVxdWVzdGVkUmVuZGVyIiwiX3JlbmRlckJhY2tncm91bmQiLCJfcmVuZGVyT2JqZWN0cyIsImRyYXdDb250cm9scyIsInNob3VsZENhY2hlIiwiX3RyYW5zZm9ybURvbmUiLCJyZW5kZXJDYWNoZSIsImZvckNsaXBwaW5nIiwiZHJhd0NsaXBQYXRoT25DYW52YXMiLCJfcmVuZGVyT3ZlcmxheSIsImdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiIsInpvb21YIiwiem9vbVkiLCJfY2FjaGVDYW52YXMiLCJjYWNoZVRyYW5zbGF0aW9uWCIsImNhY2hlVHJhbnNsYXRpb25ZIiwiX3JlbmRlckJhY2tncm91bmRPck92ZXJsYXkiLCJuZWVkc1ZwdCIsIm1vdmVUbyIsImxpbmVUbyIsImNsb3NlUGF0aCIsImdldENlbnRlciIsImNlbnRlck9iamVjdEgiLCJfY2VudGVyT2JqZWN0IiwiY2VudGVyT2JqZWN0ViIsImNlbnRlck9iamVjdCIsInZpZXdwb3J0Q2VudGVyT2JqZWN0IiwidnBDZW50ZXIiLCJnZXRWcENlbnRlciIsInZpZXdwb3J0Q2VudGVyT2JqZWN0SCIsInZpZXdwb3J0Q2VudGVyT2JqZWN0ViIsInRvRGF0YWxlc3NKU09OIiwidG9EYXRhbGVzc09iamVjdCIsIl90b09iamVjdE1ldGhvZCIsIl90b09iamVjdHMiLCJleGNsdWRlRnJvbUV4cG9ydCIsIl90b09iamVjdCIsIl9fc2VyaWFsaXplQmdPdmVybGF5Iiwib3JpZ2luYWxWYWx1ZSIsImJnSW1hZ2UiLCJiZ0NvbG9yIiwiYmFja2dyb3VuZCIsIm92ZXJsYXkiLCJzdmdWaWV3cG9ydFRyYW5zZm9ybWF0aW9uIiwiX3NldFNWR1ByZWFtYmxlIiwiX3NldFNWR0hlYWRlciIsImNsaXBQYXRoSWQiLCJfc2V0U1ZHQmdPdmVybGF5Q29sb3IiLCJfc2V0U1ZHQmdPdmVybGF5SW1hZ2UiLCJfc2V0U1ZHT2JqZWN0cyIsInN1cHByZXNzUHJlYW1ibGUiLCJlbmNvZGluZyIsInZpZXdCb3giLCJjcmVhdGVTVkdGb250RmFjZXNNYXJrdXAiLCJjcmVhdGVTVkdSZWZFbGVtZW50c01hcmt1cCIsImNyZWF0ZVNWR0NsaXBQYXRoTWFya3VwIiwidG9DbGlwUGF0aFNWRyIsInNob3VsZFRyYW5zZm9ybSIsInJvdyIsInJvd0luZGV4IiwiZm9udExpc3QiLCJfc2V0U1ZHT2JqZWN0IiwiZmluYWxXaWR0aCIsImZpbmFsSGVpZ2h0Iiwic2VuZFRvQmFjayIsIm9ianMiLCJhY3RpdmVTZWxlY3Rpb24iLCJ1bnNoaWZ0IiwiYnJpbmdUb0Zyb250Iiwic2VuZEJhY2t3YXJkcyIsImludGVyc2VjdGluZyIsIm5ld0lkeCIsIm9ianNNb3ZlZCIsIl9maW5kTmV3TG93ZXJJbmRleCIsImludGVyc2VjdHNXaXRoT2JqZWN0IiwiaXNDb250YWluZWRXaXRoaW5PYmplY3QiLCJicmluZ0ZvcndhcmQiLCJfZmluZE5ld1VwcGVySW5kZXgiLCJkaXNwb3NlIiwiY2xhc3NMaXN0IiwiRGF0YVVSTEV4cG9ydGVyIiwiRU1QVFlfSlNPTiIsInNldExpbmVEYXNoIiwidG9KU09OIiwiY3JlYXRlUE5HU3RyZWFtIiwiY3JlYXRlSlBFR1N0cmVhbSIsIkJhc2VCcnVzaCIsInN0cm9rZUxpbmVDYXAiLCJzdHJva2VEYXNoQXJyYXkiLCJsaW1pdGVkVG9DYW52YXNTaXplIiwibGluZUNhcCIsIm1pdGVyTGltaXQiLCJsaW5lSm9pbiIsIl9zYXZlQW5kVHJhbnNmb3JtIiwiX3NldFNoYWRvdyIsInNoYWRvd0NvbG9yIiwic2hhZG93Qmx1ciIsInNoYWRvd09mZnNldFgiLCJzaGFkb3dPZmZzZXRZIiwibmVlZHNGdWxsUmVuZGVyIiwiX3Jlc2V0U2hhZG93IiwiX2lzT3V0U2lkZUNhbnZhcyIsIlBlbmNpbEJydXNoIiwiZGVjaW1hdGUiLCJkcmF3U3RyYWlnaHRMaW5lIiwic3RyYWlnaHRMaW5lS2V5IiwiX3BvaW50cyIsIl9oYXNTdHJhaWdodExpbmUiLCJfZHJhd1NlZ21lbnQiLCJxdWFkcmF0aWNDdXJ2ZVRvIiwib25Nb3VzZURvd24iLCJfaXNNYWluRXZlbnQiLCJfcHJlcGFyZUZvckRyYXdpbmciLCJfY2FwdHVyZURyYXdpbmdQYXRoIiwiX3JlbmRlciIsIm9uTW91c2VNb3ZlIiwib2xkRW5kIiwib25Nb3VzZVVwIiwiX2ZpbmFsaXplQW5kQWRkUGF0aCIsIl9yZXNldCIsIl9hZGRQb2ludCIsInBvaW50ZXJQb2ludCIsImNvbnZlcnRQb2ludHNUb1NWR1BhdGgiLCJfaXNFbXB0eVNWR1BhdGgiLCJjcmVhdGVQYXRoIiwiUGF0aCIsImRlY2ltYXRlUG9pbnRzIiwiYWRqdXN0ZWREaXN0YW5jZSIsImxhc3RQb2ludCIsIm5ld1BvaW50cyIsIkNpcmNsZUJydXNoIiwiZHJhd0RvdCIsImFkZFBvaW50IiwiZG90IiwicmFkaXVzIiwib3JpZ2luYWxSZW5kZXJPbkFkZFJlbW92ZSIsImNpcmNsZXMiLCJjaXJjbGUiLCJDaXJjbGUiLCJjaXJjbGVSYWRpdXMiLCJjaXJjbGVDb2xvciIsIlNwcmF5QnJ1c2giLCJkZW5zaXR5IiwiZG90V2lkdGgiLCJkb3RXaWR0aFZhcmlhbmNlIiwicmFuZG9tT3BhY2l0eSIsIm9wdGltaXplT3ZlcmxhcHBpbmciLCJzcHJheUNodW5rcyIsImFkZFNwcmF5Q2h1bmsiLCJzcHJheUNodW5rUG9pbnRzIiwicmVjdHMiLCJpbGVuIiwic3ByYXlDaHVuayIsInJlY3QiLCJSZWN0IiwiX2dldE9wdGltaXplZFJlY3RzIiwidW5pcXVlUmVjdHMiLCJ1bmlxdWVSZWN0c0FycmF5IiwiZ2xvYmFsQWxwaGEiLCJmaWxsUmVjdCIsIlBhdHRlcm5CcnVzaCIsImdldFBhdHRlcm5TcmMiLCJwYXR0ZXJuQ2FudmFzIiwicGF0dGVybkN0eCIsImdldFBhdHRlcm5TcmNGdW5jdGlvbiIsImdldFBhdHRlcm4iLCJ0b3BMZWZ0IiwiX2dldExlZnRUb3BDb29yZHMiLCJDYW52YXMiLCJfaW5pdEludGVyYWN0aXZlIiwiX2NyZWF0ZUNhY2hlQ2FudmFzIiwiY2VudGVyZWRTY2FsaW5nIiwiY2VudGVyZWRSb3RhdGlvbiIsImNlbnRlcmVkS2V5Iiwic2VsZWN0aW9uIiwic2VsZWN0aW9uS2V5IiwiYWx0U2VsZWN0aW9uS2V5Iiwic2VsZWN0aW9uQ29sb3IiLCJzZWxlY3Rpb25EYXNoQXJyYXkiLCJzZWxlY3Rpb25Cb3JkZXJDb2xvciIsInNlbGVjdGlvbkxpbmVXaWR0aCIsInNlbGVjdGlvbkZ1bGx5Q29udGFpbmVkIiwiaG92ZXJDdXJzb3IiLCJtb3ZlQ3Vyc29yIiwiZGVmYXVsdEN1cnNvciIsImZyZWVEcmF3aW5nQ3Vyc29yIiwibm90QWxsb3dlZEN1cnNvciIsImNvbnRhaW5lckNsYXNzIiwicGVyUGl4ZWxUYXJnZXRGaW5kIiwidGFyZ2V0RmluZFRvbGVyYW5jZSIsInNraXBUYXJnZXRGaW5kIiwiaXNEcmF3aW5nTW9kZSIsInByZXNlcnZlT2JqZWN0U3RhY2tpbmciLCJzdG9wQ29udGV4dE1lbnUiLCJmaXJlUmlnaHRDbGljayIsImZpcmVNaWRkbGVDbGljayIsInRhcmdldHMiLCJlbmFibGVQb2ludGVyRXZlbnRzIiwiX2hvdmVyZWRUYXJnZXQiLCJfaG92ZXJlZFRhcmdldHMiLCJfY3VycmVudFRyYW5zZm9ybSIsIl9ncm91cFNlbGVjdG9yIiwiX2luaXRXcmFwcGVyRWxlbWVudCIsIl9jcmVhdGVVcHBlckNhbnZhcyIsIl9pbml0RXZlbnRMaXN0ZW5lcnMiLCJfY2hvb3NlT2JqZWN0c1RvUmVuZGVyIiwib2Jqc1RvUmVuZGVyIiwiYWN0aXZlR3JvdXBPYmplY3RzIiwiYWN0aXZlT2JqZWN0cyIsImdldEFjdGl2ZU9iamVjdHMiLCJjb250ZXh0VG9wRGlydHkiLCJyZW5kZXJUb3BMYXllciIsIl9kcmF3U2VsZWN0aW9uIiwicmVuZGVyVG9wIiwiX25vcm1hbGl6ZVBvaW50ZXIiLCJpbnZlcnRlZE0iLCJ2cHRQb2ludGVyIiwicmVzdG9yZVBvaW50ZXJWcHQiLCJpc1RhcmdldFRyYW5zcGFyZW50Iiwibm9ybWFsaXplZFBvaW50ZXIiLCJ0YXJnZXRSZWxhdGl2ZVgiLCJ0YXJnZXRSZWxhdGl2ZVkiLCJfY2FjaGVDb250ZXh0IiwiY29udGV4dENhY2hlIiwib3JpZ2luYWxDb2xvciIsInNlbGVjdGlvbkJhY2tncm91bmRDb2xvciIsIl9pc1NlbGVjdGlvbktleVByZXNzZWQiLCJfc2hvdWxkQ2xlYXJTZWxlY3Rpb24iLCJldmVudGVkIiwic2VsZWN0YWJsZSIsIl9zaG91bGRDZW50ZXJUcmFuc2Zvcm0iLCJhY3Rpb24iLCJhbHRLZXkiLCJjZW50ZXJUcmFuc2Zvcm0iLCJfZ2V0T3JpZ2luRnJvbUNvcm5lciIsIl9nZXRBY3Rpb25Gcm9tQ29ybmVyIiwiYWxyZWFkeVNlbGVjdGVkIiwiX3NldHVwQ3VycmVudFRyYW5zZm9ybSIsIl9fY29ybmVyIiwibGFzdFgiLCJsYXN0WSIsInNoaWZ0S2V5IiwiX2JlZm9yZVRyYW5zZm9ybSIsInNldEN1cnNvciIsImN1cnNvciIsInZpZXdwb3J0U3RhcnQiLCJ2aWV3cG9ydEV4dGVudCIsImV4dGVudCIsIm1heFgiLCJtYXhZIiwic3Ryb2tlT2Zmc2V0IiwiX3NldExpbmVEYXNoIiwiZmluZFRhcmdldCIsInNraXBHcm91cCIsImFjdGl2ZVRhcmdldCIsImFjdGl2ZVRhcmdldFN1YnMiLCJhT2JqZWN0cyIsInNob3VsZExvb2tGb3JBY3RpdmUiLCJfZmluZFRhcmdldENvcm5lciIsIl9zZWFyY2hQb3NzaWJsZVRhcmdldHMiLCJfY2hlY2tUYXJnZXQiLCJnbG9iYWxQb2ludGVyIiwiY29udGFpbnNQb2ludCIsImlzRWRpdGluZyIsInN1YlRhcmdldCIsIm9ialRvQ2hlY2siLCJwb2ludGVyVG9Vc2UiLCJzdWJUYXJnZXRDaGVjayIsImlnbm9yZVpvb20iLCJfYWJzb2x1dGVQb2ludGVyIiwiX3BvaW50ZXIiLCJjc3NTY2FsZSIsImJvdW5kc1dpZHRoIiwiYm91bmRzSGVpZ2h0IiwicmV0aW5hU2NhbGluZyIsImxvd2VyQ2FudmFzQ2xhc3MiLCJfY29weUNhbnZhc1N0eWxlIiwiZ2V0VG9wQ29udGV4dCIsImZyb21FbCIsInRvRWwiLCJnZXRTZWxlY3Rpb25Db250ZXh0IiwiZ2V0U2VsZWN0aW9uRWxlbWVudCIsImdldEFjdGl2ZU9iamVjdCIsImFjdGl2ZSIsIl9kaXNjYXJkQWN0aXZlT2JqZWN0IiwiX2ZpcmVTZWxlY3Rpb25FdmVudHMiLCJvbGRPYmplY3RzIiwic29tZXRoaW5nQ2hhbmdlZCIsImFkZGVkIiwicmVtb3ZlZCIsIm9sZE9iamVjdCIsInNlbGVjdGVkIiwiZGVzZWxlY3RlZCIsInNldEFjdGl2ZU9iamVjdCIsImN1cnJlbnRBY3RpdmVzIiwiX3NldEFjdGl2ZU9iamVjdCIsIm9uU2VsZWN0Iiwib25EZXNlbGVjdCIsImRpc2NhcmRBY3RpdmVPYmplY3QiLCJyZW1vdmVMaXN0ZW5lcnMiLCJfcmVuZGVyQ29udHJvbHMiLCJvcmlnaW5hbFByb3BlcnRpZXMiLCJfcmVhbGl6ZUdyb3VwVHJhbnNmb3JtT25PYmplY3QiLCJfdW53aW5kR3JvdXBUcmFuc2Zvcm1Pbk9iamVjdCIsIm9yaWdpbmFsVmFsdWVzIiwiY2xlYXJDb250ZXh0VG9wIiwiYWRkRXZlbnRPcHRpb25zIiwicGFzc2l2ZSIsImNoZWNrQ2xpY2siLCJidXR0b24iLCJtYWluVG91Y2hJZCIsIl9iaW5kRXZlbnRzIiwiYWRkT3JSZW1vdmUiLCJfZ2V0RXZlbnRQcmVmaXgiLCJmdW5jdG9yIiwiZXZlbnRqc0Z1bmN0b3IiLCJjYW52YXNFbGVtZW50IiwiZXZlbnRUeXBlUHJlZml4IiwiX29uUmVzaXplIiwiX29uTW91c2VEb3duIiwiX29uTW91c2VNb3ZlIiwiX29uTW91c2VPdXQiLCJfb25Nb3VzZUVudGVyIiwiX29uTW91c2VXaGVlbCIsIl9vbkNvbnRleHRNZW51IiwiX29uRG91YmxlQ2xpY2siLCJfb25EcmFnT3ZlciIsIl9vbkRyYWdFbnRlciIsIl9vbkRyYWdMZWF2ZSIsIl9vbkRyb3AiLCJfb25Ub3VjaFN0YXJ0IiwiZXZlbnRqcyIsIl9vbkdlc3R1cmUiLCJfb25EcmFnIiwiX29uT3JpZW50YXRpb25DaGFuZ2UiLCJfb25TaGFrZSIsIl9vbkxvbmdQcmVzcyIsIl9vbk1vdXNlVXAiLCJfb25Ub3VjaEVuZCIsImV2ZW50c0JvdW5kIiwiX3NpbXBsZUV2ZW50SGFuZGxlciIsInNlbGYiLCJfX29uVHJhbnNmb3JtR2VzdHVyZSIsIl9fb25EcmFnIiwiX19vbk1vdXNlV2hlZWwiLCJfdGFyZ2V0IiwiX19vbk9yaWVudGF0aW9uQ2hhbmdlIiwiX19vblNoYWtlIiwiX19vbkxvbmdQcmVzcyIsInByZXZlbnREZWZhdWx0IiwiX2ZpcmVFbnRlckxlYXZlRXZlbnRzIiwic3RvcFByb3BhZ2F0aW9uIiwiX2NhY2hlVHJhbnNmb3JtRXZlbnREYXRhIiwiX2hhbmRsZUV2ZW50IiwiX3Jlc2V0VHJhbnNmb3JtRXZlbnREYXRhIiwiZ2V0UG9pbnRlcklkIiwiZXZ0IiwiaWRlbnRpZmllciIsInBvaW50ZXJJZCIsImlzUHJpbWFyeSIsInRvdWNoZXMiLCJfX29uTW91c2VEb3duIiwiX19vbk1vdXNlVXAiLCJfd2lsbEFkZE1vdXNlRG93biIsIl9fb25Nb3VzZU1vdmUiLCJfc2hvdWxkUmVuZGVyIiwiZ3JvdXBTZWxlY3RvciIsInNob3VsZFJlbmRlciIsImlzQ2xpY2siLCJfb25Nb3VzZVVwSW5EcmF3aW5nTW9kZSIsIl9maW5hbGl6ZUN1cnJlbnRUcmFuc2Zvcm0iLCJ0YXJnZXRXYXNBY3RpdmUiLCJfbWF5YmVHcm91cE9iamVjdHMiLCJhY3RpdmVPbiIsImlzTW92aW5nIiwib3JpZ2luYWxDb250cm9sIiwib3JpZ2luYWxNb3VzZVVwSGFuZGxlciIsIl9zZXRDdXJzb3JGcm9tRXZlbnQiLCJldmVudFR5cGUiLCJzdWJUYXJnZXRzIiwiYWJzb2x1dGVQb2ludGVyIiwiY3VycmVudFRhcmdldCIsImN1cnJlbnRTdWJUYXJnZXRzIiwiX3NjYWxpbmciLCJoYXNTdGF0ZUNoYW5nZWQiLCJfZmlyZSIsIl9vbk1vdXNlRG93bkluRHJhd2luZ01vZGUiLCJfb25Nb3VzZU1vdmVJbkRyYXdpbmdNb2RlIiwiX3ByZXZpb3VzUG9pbnRlciIsInNob3VsZEdyb3VwIiwiX3Nob3VsZEdyb3VwIiwiX2hhbmRsZUdyb3VwaW5nIiwic2F2ZVN0YXRlIiwiX3RyYW5zZm9ybU9iamVjdCIsIl9maXJlT3Zlck91dEV2ZW50cyIsImZpcmVTeW50aGV0aWNJbk91dEV2ZW50cyIsIm9sZFRhcmdldCIsImV2dE91dCIsImNhbnZhc0V2dE91dCIsImV2dEluIiwiY2FudmFzRXZ0SW4iLCJfZHJhZ2dlZG92ZXJUYXJnZXQiLCJjb25maWciLCJpbk9wdCIsIm91dE9wdCIsImluRmlyZXMiLCJ0YXJnZXRDaGFuZ2VkIiwicHJldmlvdXNUYXJnZXQiLCJuZXh0VGFyZ2V0IiwicmVzZXQiLCJfcGVyZm9ybVRyYW5zZm9ybUFjdGlvbiIsImdldENvcm5lckN1cnNvciIsIl91cGRhdGVBY3RpdmVTZWxlY3Rpb24iLCJfY3JlYXRlQWN0aXZlU2VsZWN0aW9uIiwiY3VycmVudEFjdGl2ZU9iamVjdHMiLCJyZW1vdmVXaXRoVXBkYXRlIiwiYWRkV2l0aFVwZGF0ZSIsIl9jcmVhdGVHcm91cCIsImdyb3VwT2JqZWN0cyIsImV4aXRFZGl0aW5nIiwiQWN0aXZlU2VsZWN0aW9uIiwiX2dyb3VwU2VsZWN0ZWRPYmplY3RzIiwiYUdyb3VwIiwiX2NvbGxlY3RPYmplY3RzIiwiY3VycmVudE9iamVjdCIsInNlbGVjdGlvblgxWTEiLCJzZWxlY3Rpb25YMlkyIiwiYWxsb3dJbnRlcnNlY3QiLCJpbnRlcnNlY3RzV2l0aFJlY3QiLCJpc0NvbnRhaW5lZFdpdGhpblJlY3QiLCJ0b0NhbnZhc0VsZW1lbnQiLCJjcm9wcGluZyIsInNjYWxlZFdpZHRoIiwic2NhbGVkSGVpZ2h0Iiwib3JpZ2luYWxXaWR0aCIsIm9yaWdpbmFsSGVpZ2h0IiwibmV3Wm9vbSIsInZwIiwib3JpZ2luYWxJbnRlcmFjdGl2ZSIsIm5ld1ZwIiwib3JpZ2luYWxSZXRpbmEiLCJvcmlnaW5hbENvbnRleHRUb3AiLCJsb2FkRnJvbUpTT04iLCJqc29uIiwic2VyaWFsaXplZCIsIl9lbmxpdmVuT2JqZWN0cyIsIl9zZXRCZ092ZXJsYXkiLCJlbmxpdmVuZWRDYW52YXNDbGlwIiwiX19zZXR1cENhbnZhcyIsImxvYWRlZCIsImNiSWZMb2FkZWQiLCJfX3NldEJnT3ZlcmxheSIsImVubGl2ZWRPYmplY3QiLCJfdG9EYXRhVVJMIiwiX3RvRGF0YVVSTFdpdGhNdWx0aXBsaWVyIiwidG9EYXRhVVJMV2l0aE11bHRpcGxpZXIiLCJjbG9uZVdpdGhvdXREYXRhIiwiYmFja2dyb3VuZEltYWdlT3BhY2l0eSIsImJhY2tncm91bmRJbWFnZVN0cmV0Y2giLCJvYmplY3RDYWNoaW5nIiwidG91Y2hDb3JuZXJTaXplIiwiYm9yZGVyQ29sb3IiLCJib3JkZXJEYXNoQXJyYXkiLCJjb3JuZXJEYXNoQXJyYXkiLCJzdHJva2VEYXNoT2Zmc2V0IiwiYm9yZGVyT3BhY2l0eVdoZW5Nb3ZpbmciLCJib3JkZXJTY2FsZUZhY3RvciIsIm1pblNjYWxlTGltaXQiLCJoYXNDb250cm9scyIsImhhc0JvcmRlcnMiLCJsb2NrTW92ZW1lbnRYIiwibG9ja01vdmVtZW50WSIsInN0YXRlZnVsbENhY2hlIiwibm9TY2FsZUNhY2hlIiwiZGlydHkiLCJwYWludEZpcnN0Iiwic3RhdGVQcm9wZXJ0aWVzIiwiY2FjaGVQcm9wZXJ0aWVzIiwiY29sb3JQcm9wZXJ0aWVzIiwiYWJzb2x1dGVQb3NpdGlvbmVkIiwiX2NhY2hlUHJvcGVydGllcyIsIl91cGRhdGVDYWNoZUNhbnZhcyIsIl9saW1pdENhY2hlU2l6ZSIsImRpbXMiLCJsaW1pdGVkRGltcyIsImNhcHBlZCIsIl9nZXRDYWNoZUNhbnZhc0RpbWVuc2lvbnMiLCJvYmplY3RTY2FsZSIsImdldFRvdGFsT2JqZWN0U2NhbGluZyIsIm5lZWRlZFgiLCJuZWVkZWRZIiwiZHJhd2luZ1dpZHRoIiwiZHJhd2luZ0hlaWdodCIsIm1pbkNhY2hlU2l6ZSIsImRpbWVuc2lvbnNDaGFuZ2VkIiwiY2FjaGVXaWR0aCIsImNhY2hlSGVpZ2h0Iiwiem9vbUNoYW5nZWQiLCJzaG91bGRSZWRyYXciLCJhZGRpdGlvbmFsV2lkdGgiLCJhZGRpdGlvbmFsSGVpZ2h0Iiwic2hvdWxkUmVzaXplQ2FudmFzIiwiY2FudmFzV2lkdGgiLCJjYW52YXNIZWlnaHQiLCJzaXplR3Jvd2luZyIsImdldEhlaWdodE9mTGluZSIsInNldFRyYW5zZm9ybSIsIm5lZWRGdWxsVHJhbnNmb3JtIiwiX3JlbW92ZURlZmF1bHRWYWx1ZXMiLCJnZXRPYmplY3RTY2FsaW5nIiwicmV0aW5hIiwiZ2V0T2JqZWN0T3BhY2l0eSIsInNob3VsZENvbnN0cmFpblZhbHVlIiwiaXNDaGFuZ2VkIiwiZ3JvdXBOZWVkc1VwZGF0ZSIsIl9jb25zdHJhaW5TY2FsZSIsImlzT25BQ2FjaGUiLCJzZXRPbkdyb3VwIiwiZ2V0Vmlld3BvcnRUcmFuc2Zvcm0iLCJpc05vdFZpc2libGUiLCJpc09uU2NyZWVuIiwiX3NldHVwQ29tcG9zaXRlT3BlcmF0aW9uIiwiZHJhd1NlbGVjdGlvbkJhY2tncm91bmQiLCJfc2V0T3BhY2l0eSIsImRyYXdDYWNoZU9uQ2FudmFzIiwiX3JlbW92ZUNhY2hlQ2FudmFzIiwiZHJhd09iamVjdCIsInByb3BlcnR5U2V0IiwiaXNDYWNoZURpcnR5IiwiaGFzU3Ryb2tlIiwiaGFzRmlsbCIsIm5lZWRzSXRzT3duQ2FjaGUiLCJvd25DYWNoaW5nIiwid2lsbERyYXdTaGFkb3ciLCJkcmF3Q2xpcFBhdGhPbkNhY2hlIiwib3JpZ2luYWxGaWxsIiwib3JpZ2luYWxTdHJva2UiLCJfc2V0Q2xpcHBpbmdQcm9wZXJ0aWVzIiwiX2RyYXdDbGlwUGF0aCIsInNraXBDYW52YXMiLCJfZ2V0Tm9uVHJhbnNmb3JtZWREaW1lbnNpb25zIiwiX3JlbW92ZVNoYWRvdyIsIl9zZXRTdHJva2VTdHlsZXMiLCJkZWNsIiwibGluZURhc2hPZmZzZXQiLCJfYXBwbHlQYXR0ZXJuRm9yVHJhbnNmb3JtZWRHcmFkaWVudCIsIl9hcHBseVBhdHRlcm5HcmFkaWVudFRyYW5zZm9ybSIsIl9zZXRGaWxsU3R5bGVzIiwiZGFzaEFycmF5IiwiZHJhd0JvcmRlcnMiLCJmb3JBY3RpdmVTZWxlY3Rpb24iLCJkcmF3Qm9yZGVyc0luR3JvdXAiLCJzY2FsaW5nIiwibXVsdFgiLCJtdWx0WSIsIl9yZW5kZXJQYWludEluT3JkZXIiLCJfcmVuZGVyU3Ryb2tlIiwiX3JlbmRlckZpbGwiLCJwQ3R4IiwicENhbnZhcyIsIl9maW5kQ2VudGVyRnJvbUVsZW1lbnQiLCJfYXNzaWduVHJhbnNmb3JtTWF0cml4UHJvcHMiLCJwcmVzZXJ2ZUFzcGVjdFJhdGlvT3B0aW9ucyIsImNyb3BYIiwiY3JvcFkiLCJvZmZzZXRMZWZ0Iiwib2Zmc2V0VG9wIiwib2JqZWN0Rm9ybSIsIl9mcm9tT2JqZWN0IiwiY2xvbmVBc0ltYWdlIiwidXRpbHMiLCJvcmlnUGFyYW1zIiwib3JpZ2luYWxHcm91cCIsIm9yaWdpbmFsU2hhZG93Iiwid2l0aG91dFRyYW5zZm9ybSIsIndpdGhvdXRTaGFkb3ciLCJib3VuZGluZ1JlY3QiLCJnZXRCb3VuZGluZ1JlY3QiLCJzaGFkb3dPZmZzZXQiLCJvcmlnaW5hbENhbnZhcyIsImlzVHlwZSIsImluY2x1ZGVzIiwic2hvdWxkQ2VudGVyT3JpZ2luIiwiX3NldE9yaWdpblRvQ2VudGVyIiwiX3Jlc2V0T3JpZ2luIiwiY2VudGVySCIsInZpZXdwb3J0Q2VudGVySCIsImNlbnRlclYiLCJ2aWV3cG9ydENlbnRlclYiLCJ2aWV3cG9ydENlbnRlciIsImdldExvY2FsUG9pbnRlciIsInBDbGlja2VkIiwib2JqZWN0TGVmdFRvcCIsImNyZWF0ZUFjY2Vzc29ycyIsImV4dHJhUGFyYW0iLCJ0cmFuc2xhdGVUb0dpdmVuT3JpZ2luIiwiZnJvbU9yaWdpblgiLCJmcm9tT3JpZ2luWSIsInRvT3JpZ2luWCIsInRvT3JpZ2luWSIsInRyYW5zbGF0ZVRvQ2VudGVyUG9pbnQiLCJsZWZ0VG9wIiwiZ2V0UG9pbnRCeU9yaWdpbiIsImFkanVzdFBvc2l0aW9uIiwib2Zmc2V0RnJvbSIsIm9mZnNldFRvIiwiaHlwb3RGdWxsIiwiZ2V0U2NhbGVkV2lkdGgiLCJ4RnVsbCIsInlGdWxsIiwiX29yaWdpbmFsT3JpZ2luWCIsIl9vcmlnaW5hbE9yaWdpblkiLCJvcmlnaW5Qb2ludCIsIm11bHRpcGx5TWF0cmljZXMiLCJvQ29vcmRzIiwiYUNvb3JkcyIsImxpbmVDb29yZHMiLCJvd25NYXRyaXhDYWNoZSIsIm1hdHJpeENhY2hlIiwiX2dldENvb3JkcyIsImFic29sdXRlIiwiY2FsY3VsYXRlIiwiY2FsY0FDb29yZHMiLCJjYWxjTGluZUNvb3JkcyIsImdldENvb3JkcyIsInBvaW50VEwiLCJwb2ludEJSIiwib3RoZXIiLCJvdGhlckNvb3JkcyIsImxpbmVzIiwiX2dldEltYWdlTGluZXMiLCJfZmluZENyb3NzUG9pbnRzIiwiX2NvbnRhaW5zQ2VudGVyT2ZDYW52YXMiLCJpc1BhcnRpYWxseU9uU2NyZWVuIiwiZXZlcnkiLCJ0b3BsaW5lIiwicmlnaHRsaW5lIiwiYm90dG9tbGluZSIsImxlZnRsaW5lIiwieGkiLCJpTGluZSIsInhjb3VudCIsImxpbmVLZXkiLCJnZXRTY2FsZWRIZWlnaHQiLCJzY2FsZVRvV2lkdGgiLCJib3VuZGluZ1JlY3RGYWN0b3IiLCJzY2FsZVRvSGVpZ2h0IiwiY29zUCIsInNpblAiLCJjb3NQU2luUCIsImNvc1BNaW51c1NpblAiLCJjYWxjT0Nvb3JkcyIsIl9jYWxjUm90YXRlTWF0cml4IiwiX2NhbGNUcmFuc2xhdGVNYXRyaXgiLCJzdGFydE1hdHJpeCIsIl9jYWxjdWxhdGVDdXJyZW50RGltZW5zaW9ucyIsImZvckVhY2hDb250cm9sIiwidyIsInNraXBDb3JuZXJzIiwiX3NldENvcm5lckNvb3JkcyIsInRyYW5zZm9ybU1hdHJpeEtleSIsInNlcCIsInByZWZpeCIsImNhY2hlIiwidE1hdHJpeCIsIm5vU2tldyIsIl9maW5hbGl6ZURpbWVuc2lvbnMiLCJnZXRTdmdDb2xvclN0cmluZyIsImdldFN2Z1N0eWxlcyIsInNraXBTaGFkb3ciLCJnZXRTdmdGaWx0ZXIiLCJnZXRTdmdTcGFuU3R5bGVzIiwidXNlV2hpdGVTcGFjZSIsInRlcm0iLCJ0ZXh0RGVjb3JhdGlvbiIsImdldFN2Z1RleHREZWNvcmF0aW9uIiwiZGVjb3JhdGlvbiIsImdldFN2Z0NvbW1vbnMiLCJnZXRTdmdUcmFuc2Zvcm0iLCJmdWxsIiwiX3NldFNWR0JnIiwidGV4dEJnUmVjdHMiLCJfZ2V0RmlsbEF0dHJpYnV0ZXMiLCJfY3JlYXRlQmFzZVNWR01hcmt1cCIsIl90b1NWRyIsIl9jcmVhdGVCYXNlQ2xpcFBhdGhTVkdNYXJrdXAiLCJvYmplY3RNYXJrdXAiLCJjb21tb25QaWVjZXMiLCJjbGlwUGF0aE1hcmt1cCIsIm5vU3R5bGUiLCJzdHlsZUluZm8iLCJzaGFkb3dJbmZvIiwid2l0aFNoYWRvdyIsInZlY3RvckVmZmVjdCIsImFic29sdXRlQ2xpcFBhdGgiLCJhZGRQYWludE9yZGVyIiwib3JpZ2luYWxTZXQiLCJzYXZlUHJvcHMiLCJwcm9wcyIsInRtcE9iaiIsIl9pc0VxdWFsIiwib3JpZ1ZhbHVlIiwiZmlyc3RQYXNzIiwiZGFzaGVkUHJvcGVydHlTZXQiLCJmb3JUb3VjaCIsImlzQ29udHJvbFZpc2libGUiLCJ0b3VjaENvcm5lciIsImZuIiwiY29udHJvbE9iamVjdCIsIndoIiwic2hvdWxkU3Ryb2tlIiwic2V0Q29udHJvbFZpc2libGUiLCJzZXRDb250cm9sc1Zpc2liaWxpdHkiLCJGWF9EVVJBVElPTiIsImZ4Q2VudGVyT2JqZWN0SCIsImNhbGxiYWNrcyIsImVtcHR5IiwiZnhDZW50ZXJPYmplY3RWIiwiZnhSZW1vdmUiLCJza2lwQ2FsbGJhY2tzIiwicHJvcHNUb0FuaW1hdGUiLCJvdXQiLCJfYW5pbWF0ZSIsInByb3BQYWlyIiwicHJvcElzQ29sb3IiLCJ2YWx1ZVByb2dyZXNzIiwidGltZVByb2dyZXNzIiwiY29vcmRQcm9wcyIsIm1ha2VFZGdlVG9PcmlnaW5HZXR0ZXIiLCJwcm9wZXJ0eU5hbWVzIiwib3JpZ2luVmFsdWVzIiwiYXhpczEiLCJheGlzMiIsImRpbWVuc2lvbiIsIm5lYXJlc3QiLCJmYXJ0aGVzdCIsIkxpbmUiLCJfc2V0V2lkdGhIZWlnaHQiLCJfZ2V0TGVmdFRvT3JpZ2luWCIsIl9nZXRUb3BUb09yaWdpblkiLCJjYWxjTGluZVBvaW50cyIsIm9yaWdTdHJva2VTdHlsZSIsInhNdWx0IiwieU11bHQiLCJBVFRSSUJVVEVfTkFNRVMiLCJwYXJzZWRBdHRyaWJ1dGVzIiwic3RhcnRBbmdsZSIsImVuZEFuZ2xlIiwic2V0UmFkaXVzIiwic3ZnU3RyaW5nIiwiZ2V0UmFkaXVzWCIsImdldFJhZGl1c1kiLCJUcmlhbmdsZSIsIndpZHRoQnkyIiwiaGVpZ2h0QnkyIiwicGlCeTIiLCJFbGxpcHNlIiwiZ2V0UngiLCJnZXRSeSIsIl9pbml0UnhSeSIsImlzUm91bmRlZCIsImJlemllckN1cnZlVG8iLCJQb2x5bGluZSIsImV4YWN0Qm91bmRpbmdCb3giLCJfc2V0UG9zaXRpb25EaW1lbnNpb25zIiwiX3Byb2plY3RTdHJva2VPblBvaW50cyIsImNvcnJlY3RMZWZ0VG9wIiwiY2FsY0RpbSIsIl9jYWxjRGltZW5zaW9ucyIsImNvcnJlY3RTaXplIiwiZnJvbVNWRyIsImRpZmZYIiwiZGlmZlkiLCJjb21tb25SZW5kZXIiLCJmcm9tRWxlbWVudEdlbmVyYXRvciIsIl9jbGFzcyIsIlBvbHlnb24iLCJfc2V0UGF0aCIsIl9yZW5kZXJQYXRoQ29tbWFuZHMiLCJzdWJwYXRoU3RhcnRYIiwic3VicGF0aFN0YXJ0WSIsIl9nZXRPZmZzZXRUcmFuc2Zvcm0iLCJkaWdpdHMiLCJhWCIsImFZIiwicGF0aFVybCIsImVsaXZlbmVkT2JqZWN0cyIsInVzZVNldE9uR3JvdXAiLCJpc0FscmVhZHlHcm91cGVkIiwiX3VwZGF0ZU9iamVjdHNBQ29vcmRzIiwiX2NhbGNCb3VuZHMiLCJfdXBkYXRlT2JqZWN0c0Nvb3JkcyIsIl91cGRhdGVPYmplY3RDb29yZHMiLCJvYmplY3RMZWZ0Iiwib2JqZWN0VG9wIiwibmVzdGVkIiwiX3Jlc3RvcmVPYmplY3RzU3RhdGUiLCJfaW5jbHVkZURlZmF1bHRWYWx1ZXMiLCJvYmpzVG9PYmplY3QiLCJvcmlnaW5hbERlZmF1bHRzIiwiX29iaiIsIm93bkNhY2hlIiwiZ3JvdXBNYXRyaXgiLCJkZXN0cm95IiwidG9BY3RpdmVTZWxlY3Rpb24iLCJ1bmdyb3VwT25DYW52YXMiLCJzZXRPYmplY3RzQ29vcmRzIiwib25seVdpZHRoSGVpZ2h0IiwiaUxlbiIsImpMZW4iLCJfZ2V0Qm91bmRzIiwibWluWFkiLCJtYXhYWSIsInRvR3JvdXAiLCJuZXdHcm91cCIsImNoaWxkcmVuT3ZlcnJpZGUiLCJzcmNGcm9tQXR0cmlidXRlIiwiX2xhc3RTY2FsZVgiLCJfbGFzdFNjYWxlWSIsIl9maWx0ZXJTY2FsaW5nWCIsIl9maWx0ZXJTY2FsaW5nWSIsIm1pbmltdW1TY2FsZVRyaWdnZXIiLCJjYWNoZUtleSIsImltYWdlU21vb3RoaW5nIiwiZmlsdGVycyIsIl9pbml0RWxlbWVudCIsIl9lbGVtZW50Iiwic2V0RWxlbWVudCIsInJlbW92ZVRleHR1cmUiLCJfaW5pdENvbmZpZyIsImFwcGx5RmlsdGVycyIsInJlc2l6ZUZpbHRlciIsImFwcGx5UmVzaXplRmlsdGVycyIsImJhY2tlbmQiLCJmaWx0ZXJCYWNrZW5kIiwiZXZpY3RDYWNoZXNGb3JLZXkiLCJnZXRDcm9zc09yaWdpbiIsImdldE9yaWdpbmFsU2l6ZSIsIl9zdHJva2UiLCJmaWx0ZXJPYmoiLCJnZXRTcmMiLCJoYXNDcm9wIiwic3Ryb2tlU3ZnIiwiaW1hZ2VNYXJrdXAiLCJpbWFnZVJlbmRlcmluZyIsImdldFN2Z1NyYyIsIm9yaWdGaWxsIiwiZmlsdGVyZWQiLCJzZXRTcmMiLCJtaW5pbXVtU2NhbGUiLCJlbGVtZW50VG9GaWx0ZXIiLCJfZmlsdGVyZWRFbCIsInNvdXJjZVdpZHRoIiwic291cmNlSGVpZ2h0IiwiaXNOZXV0cmFsU3RhdGUiLCJpbWdFbGVtZW50IiwiX25lZWRzUmVzaXplIiwiZWxlbWVudFRvRHJhdyIsImVsV2lkdGgiLCJlbEhlaWdodCIsInNYIiwic1kiLCJzVyIsInNIIiwibWF4RGVzdFciLCJtYXhEZXN0SCIsIl9yZXNldFdpZHRoSGVpZ2h0IiwiQ1NTX0NBTlZBUyIsIl9pbml0RmlsdGVycyIsInBBUiIsInJXaWR0aCIsInJIZWlnaHQiLCJwV2lkdGgiLCJwSGVpZ2h0IiwiX29iamVjdCIsInJlc2l6ZUZpbHRlcnMiLCJmcm9tVVJMIiwiaW1nT3B0aW9ucyIsIl9nZXRBbmdsZVZhbHVlRm9yU3RyYWlnaHRlbiIsInN0cmFpZ2h0ZW4iLCJmeFN0cmFpZ2h0ZW4iLCJzdHJhaWdodGVuT2JqZWN0IiwiZnhTdHJhaWdodGVuT2JqZWN0IiwidGVzdFByZWNpc2lvbiIsInByZWNpc2lvbiIsImZyYWdtZW50U291cmNlIiwiZnJhZ21lbnRTaGFkZXIiLCJjcmVhdGVTaGFkZXIiLCJGUkFHTUVOVF9TSEFERVIiLCJzaGFkZXJTb3VyY2UiLCJjb21waWxlU2hhZGVyIiwiZ2V0U2hhZGVyUGFyYW1ldGVyIiwiQ09NUElMRV9TVEFUVVMiLCJzZXR1cEdMQ29udGV4dCIsImNhcHR1cmVHUFVJbmZvIiwiaXNTdXBwb3J0ZWQiLCJnZXRQYXJhbWV0ZXIiLCJNQVhfVEVYVFVSRV9TSVpFIiwicHJlY2lzaW9ucyIsIndlYkdsUHJlY2lzaW9uIiwiY3JlYXRlV2ViR0xDYW52YXMiLCJhUG9zaXRpb24iLCJGbG9hdDMyQXJyYXkiLCJjaG9vc2VGYXN0ZXN0Q29weUdMVG8yRE1ldGhvZCIsImNhblVzZUltYWdlRGF0YSIsImNhbk1lYXN1cmVQZXJmIiwicGVyZm9ybWFuY2UiLCJjYW5Vc2VBcnJheUJ1ZmZlciIsIkFycmF5QnVmZmVyIiwiY2FuVXNlVWludDhDbGFtcGVkIiwiY29weUdMVG8yRCIsInN0YXJ0VGltZSIsImRyYXdJbWFnZVRpbWUiLCJ0ZXN0Q29udGV4dCIsIm5vdyIsImdsT3B0aW9ucyIsInByZW11bHRpcGxpZWRBbHBoYSIsImRlcHRoIiwic3RlbmNpbCIsImFudGlhbGlhcyIsImNsZWFyQ29sb3IiLCJjYWNoZWRUZXh0dXJlIiwiZ2V0Q2FjaGVkVGV4dHVyZSIsInNvdXJjZVRleHR1cmUiLCJjcmVhdGVUZXh0dXJlIiwidGFyZ2V0VGV4dHVyZSIsIm9yaWdpbmFsVGV4dHVyZSIsInBhc3NlcyIsIndlYmdsIiwicHJvZ3JhbUNhY2hlIiwicGFzcyIsInRlbXBGYm8iLCJjcmVhdGVGcmFtZWJ1ZmZlciIsImJpbmRGcmFtZWJ1ZmZlciIsIkZSQU1FQlVGRkVSIiwiYXBwbHlUbyIsInJlc2l6ZUNhbnZhc0lmTmVlZGVkIiwiYmluZFRleHR1cmUiLCJURVhUVVJFXzJEIiwiZGVsZXRlVGV4dHVyZSIsImRlbGV0ZUZyYW1lYnVmZmVyIiwiY2xlYXJXZWJHTENhY2hlcyIsInRleHR1cmVDYWNoZSIsInRleHR1cmVJbWFnZVNvdXJjZSIsImZpbHRlclR5cGUiLCJ0ZXh0dXJlIiwidGV4UGFyYW1ldGVyaSIsIlRFWFRVUkVfTUFHX0ZJTFRFUiIsIk5FQVJFU1QiLCJURVhUVVJFX01JTl9GSUxURVIiLCJURVhUVVJFX1dSQVBfUyIsIkNMQU1QX1RPX0VER0UiLCJURVhUVVJFX1dSQVBfVCIsInRleEltYWdlMkQiLCJ1bmlxdWVJZCIsImdwdUluZm8iLCJyZW5kZXJlciIsInZlbmRvciIsImV4dCIsImdldEV4dGVuc2lvbiIsIlVOTUFTS0VEX1JFTkRFUkVSX1dFQkdMIiwiVU5NQVNLRURfVkVORE9SX1dFQkdMIiwic291cmNlRWxlbWVudCIsIm9yaWdpbmFsRWwiLCJvcmlnaW5hbEltYWdlRGF0YSIsIkJhc2VGaWx0ZXIiLCJ2ZXJ0ZXhTb3VyY2UiLCJjcmVhdGVQcm9ncmFtIiwidmVydGV4U2hhZGVyIiwiVkVSVEVYX1NIQURFUiIsImdldFNoYWRlckluZm9Mb2ciLCJwcm9ncmFtIiwiYXR0YWNoU2hhZGVyIiwibGlua1Byb2dyYW0iLCJnZXRQcm9ncmFtUGFyYW1ldGVyIiwiTElOS19TVEFUVVMiLCJnZXRQcm9ncmFtSW5mb0xvZyIsImF0dHJpYnV0ZUxvY2F0aW9ucyIsImdldEF0dHJpYnV0ZUxvY2F0aW9ucyIsInVuaWZvcm1Mb2NhdGlvbnMiLCJnZXRVbmlmb3JtTG9jYXRpb25zIiwidVN0ZXBXIiwiZ2V0VW5pZm9ybUxvY2F0aW9uIiwidVN0ZXBIIiwiZ2V0QXR0cmliTG9jYXRpb24iLCJzZW5kQXR0cmlidXRlRGF0YSIsImFQb3NpdGlvbkRhdGEiLCJhdHRyaWJ1dGVMb2NhdGlvbiIsImJ1ZmZlciIsImNyZWF0ZUJ1ZmZlciIsImJpbmRCdWZmZXIiLCJBUlJBWV9CVUZGRVIiLCJlbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSIsInZlcnRleEF0dHJpYlBvaW50ZXIiLCJGTE9BVCIsImJ1ZmZlckRhdGEiLCJTVEFUSUNfRFJBVyIsIl9zZXR1cEZyYW1lQnVmZmVyIiwiZnJhbWVidWZmZXJUZXh0dXJlMkQiLCJDT0xPUl9BVFRBQ0hNRU5UMCIsIl9zd2FwVGV4dHVyZXMiLCJ0ZW1wIiwibWFpbiIsIm1haW5QYXJhbWV0ZXIiLCJhcHBseVRvV2ViR0wiLCJhcHBseVRvMmQiLCJyZXRyaWV2ZVNoYWRlciIsInNoYWRlciIsInVzZVByb2dyYW0iLCJ1bmlmb3JtMWYiLCJzZW5kVW5pZm9ybURhdGEiLCJ2aWV3cG9ydCIsImRyYXdBcnJheXMiLCJUUklBTkdMRV9TVFJJUCIsImJpbmRBZGRpdGlvbmFsVGV4dHVyZSIsInRleHR1cmVVbml0IiwiYWN0aXZlVGV4dHVyZSIsIlRFWFRVUkUwIiwidW5iaW5kQWRkaXRpb25hbFRleHR1cmUiLCJnZXRNYWluUGFyYW1ldGVyIiwic2V0TWFpblBhcmFtZXRlciIsImNyZWF0ZUhlbHBMYXllciIsImhlbHBMYXllciIsIm1haW5QIiwiQ29sb3JNYXRyaXgiLCJjb2xvcnNPbmx5IiwidUNvbG9yTWF0cml4IiwidUNvbnN0YW50cyIsImNvbnN0YW50cyIsInVuaWZvcm1NYXRyaXg0ZnYiLCJ1bmlmb3JtNGZ2IiwiQnJpZ2h0bmVzcyIsImJyaWdodG5lc3MiLCJ1QnJpZ2h0bmVzcyIsIkNvbnZvbHV0ZSIsIm9wYXF1ZSIsIkNvbnZvbHV0ZV8zXzEiLCJDb252b2x1dGVfM18wIiwiQ29udm9sdXRlXzVfMSIsIkNvbnZvbHV0ZV81XzAiLCJDb252b2x1dGVfN18xIiwiQ29udm9sdXRlXzdfMCIsIkNvbnZvbHV0ZV85XzEiLCJDb252b2x1dGVfOV8wIiwiZHN0T2ZmIiwic2N4Iiwic2N5Iiwic3JjT2ZmIiwid3QiLCJ3ZWlnaHRzIiwic2lkZSIsImhhbGZTaWRlIiwic3ciLCJzaCIsIm91dHB1dCIsImNyZWF0ZUltYWdlRGF0YSIsImRzdCIsImFscGhhRmFjIiwidU1hdHJpeCIsInVPcGFxdWUiLCJ1SGFsZlNpemUiLCJ1U2l6ZSIsInVuaWZvcm0xZnYiLCJHcmF5c2NhbGUiLCJsaWdodG5lc3MiLCJsdW1pbm9zaXR5IiwibW9kZSIsInVNb2RlIiwidW5pZm9ybTFpIiwiSW52ZXJ0IiwiaW52ZXJ0IiwidUludmVydCIsIk5vaXNlIiwibm9pc2UiLCJyYW5kIiwidU5vaXNlIiwidVNlZWQiLCJQaXhlbGF0ZSIsImJsb2Nrc2l6ZSIsIl9pIiwiX2oiLCJfaUxlbiIsIl9qTGVuIiwidUJsb2Nrc2l6ZSIsIlJlbW92ZUNvbG9yIiwidXNlQWxwaGEiLCJsb3dDIiwiaGlnaEMiLCJ1TG93IiwidUhpZ2giLCJCcm93bmllIiwiVmludGFnZSIsIktvZGFjaHJvbWUiLCJUZWNobmljb2xvciIsIlBvbGFyb2lkIiwiU2VwaWEiLCJCbGFja1doaXRlIiwiQmxlbmRDb2xvciIsInNjcmVlbiIsImRpZmYiLCJsaWdodGVuIiwiZGFya2VuIiwiZXhjbHVzaW9uIiwidGludCIsImJ1aWxkU291cmNlIiwidGciLCJhbHBoYTEiLCJ1Q29sb3IiLCJCbGVuZEltYWdlIiwibWFzayIsIlRFWFRVUkUxIiwiY2FsY3VsYXRlTWF0cml4IiwiY2FudmFzMSIsImJsZW5kRGF0YSIsImJsZW5kSW1hZ2UiLCJ1VHJhbnNmb3JtTWF0cml4IiwidUltYWdlIiwidW5pZm9ybU1hdHJpeDNmdiIsIlJlc2l6ZSIsInJlc2l6ZVR5cGUiLCJsYW5jem9zTG9iZXMiLCJ1RGVsdGEiLCJ1VGFwcyIsInVuaWZvcm0yZnYiLCJob3Jpem9udGFsIiwidGFwcyIsImZpbHRlcldpbmRvdyIsImdldEZpbHRlcldpbmRvdyIsImdlbmVyYXRlU2hhZGVyIiwidGVtcFNjYWxlIiwiZ2V0VGFwcyIsImxvYmVGdW5jdGlvbiIsImxhbmN6b3NDcmVhdGUiLCJvZmZzZXRzIiwiZnJhZ21lbnRTb3VyY2VUT1AiLCJkVyIsImRIIiwibG9iZXMiLCJ4eCIsInJjcFNjYWxlWCIsInJjcFNjYWxlWSIsIm5ld0RhdGEiLCJvVyIsIm9IIiwic2xpY2VCeVR3byIsImhlcm1pdGVGYXN0UmVzaXplIiwiYmlsaW5lYXJGaWx0ZXJpbmciLCJsYW5jem9zUmVzaXplIiwidG1wQ2FudmFzIiwibXVsdCIsImRvbmVXIiwiZG9uZUgiLCJzdGVwVyIsInN0ZXBIIiwiZFgiLCJkWSIsInNyY0RhdGEiLCJkZXN0SW1nIiwiZGVzdERhdGEiLCJsYW5jem9zIiwicmF0aW9YIiwicmF0aW9ZIiwicmNwUmF0aW9YIiwicmNwUmF0aW9ZIiwicmFuZ2UyWCIsInJhbmdlMlkiLCJjYWNoZUxhbmMiLCJpY2VudGVyIiwicHJvY2VzcyIsInUiLCJ3ZWlnaHQiLCJmWCIsImZZIiwieERpZmYiLCJ5RGlmZiIsImNobmwiLCJvcmlnUGl4IiwidzQiLCJwaXhlbHMiLCJkZXN0SW1hZ2UiLCJkZXN0UGl4ZWxzIiwicmF0aW9XIiwicmF0aW9IIiwicmF0aW9XSGFsZiIsInJhdGlvSEhhbGYiLCJpbWcyIiwiZGF0YTIiLCJ3ZWlnaHRzQWxwaGEiLCJneFIiLCJneEciLCJneEIiLCJneEEiLCJ5eSIsIncwIiwiQ29udHJhc3QiLCJjb250cmFzdCIsImNvbnRyYXN0RiIsInVDb250cmFzdCIsIlNhdHVyYXRpb24iLCJzYXR1cmF0aW9uIiwiYWRqdXN0IiwidVNhdHVyYXRpb24iLCJWaWJyYW5jZSIsInZpYnJhbmNlIiwiYXZnIiwiYW10IiwidVZpYnJhbmNlIiwiQmx1ciIsImFzcGVjdFJhdGlvIiwic2ltcGxlQmx1ciIsImNhbnZhczIiLCJibHVyTGF5ZXIxIiwiYmx1ckxheWVyMiIsInBlcmNlbnQiLCJjdHgxIiwiY3R4MiIsIm5ld0ltYWdlRGF0YSIsImRlbHRhIiwiY2hvb3NlUmlnaHREZWx0YSIsImJsdXJTY2FsZSIsIkdhbW1hIiwiZ2FtbWEiLCJySW52IiwiZ0ludiIsImJJbnYiLCJyVmFscyIsImdWYWxzIiwiYlZhbHMiLCJ1R2FtbWEiLCJ1bmlmb3JtM2Z2IiwiQ29tcG9zZWQiLCJzdWJGaWx0ZXJzIiwiSHVlUm90YXRpb24iLCJyb3RhdGlvbiIsInJhZCIsImFUaGlyZCIsImFUaGlyZFNxdFNpbiIsIk9uZU1pbnVzQ29zIiwiYWRkaXRpb25hbFByb3BzIiwiX2RpbWVuc2lvbkFmZmVjdGluZ1Byb3BzIiwiX3JlTmV3bGluZSIsIl9yZVNwYWNlc0FuZFRhYnMiLCJfcmVTcGFjZUFuZFRhYiIsIl9yZVdvcmRzIiwidGV4dEFsaWduIiwic3VwZXJzY3JpcHQiLCJiYXNlbGluZSIsInN1YnNjcmlwdCIsInBhdGhTdGFydE9mZnNldCIsInBhdGhTaWRlIiwicGF0aEFsaWduIiwiX2ZvbnRTaXplRnJhY3Rpb24iLCJfZm9udFNpemVNdWx0IiwiY2hhclNwYWNpbmciLCJfbWVhc3VyaW5nQ29udGV4dCIsImRpcmVjdGlvbiIsIl9zdHlsZVByb3BlcnRpZXMiLCJfX2NoYXJCb3VuZHMiLCJDQUNIRV9GT05UX1NJWkUiLCJNSU5fVEVYVF9XSURUSCIsIl9fc2tpcERpbWVuc2lvbiIsInNldFBhdGhJbmZvIiwiaW5pdERpbWVuc2lvbnMiLCJzZWdtZW50c0luZm8iLCJnZXRNZWFzdXJpbmdDb250ZXh0IiwiX3NwbGl0VGV4dCIsIm5ld0xpbmVzIiwiX3NwbGl0VGV4dEludG9MaW5lcyIsIl90ZXh0TGluZXMiLCJncmFwaGVtZUxpbmVzIiwiX3Vud3JhcHBlZFRleHRMaW5lcyIsIl91bndyYXBwZWRMaW5lcyIsIl90ZXh0IiwiZ3JhcGhlbWVUZXh0IiwiX2NsZWFyQ2FjaGUiLCJjYWxjVGV4dFdpZHRoIiwiY3Vyc29yV2lkdGgiLCJjYWxjVGV4dEhlaWdodCIsImVubGFyZ2VTcGFjZXMiLCJkaWZmU3BhY2UiLCJjdXJyZW50TGluZVdpZHRoIiwibnVtYmVyT2ZTcGFjZXMiLCJhY2N1bXVsYXRlZFNwYWNlIiwibGluZSIsImNoYXJCb3VuZCIsInNwYWNlcyIsImlzRW5kT2ZXcmFwcGluZyIsImdldExpbmVXaWR0aCIsImtlcm5lZFdpZHRoIiwibGluZUluZGV4IiwibWlzc2luZ05ld2xpbmVPZmZzZXQiLCJfc2V0VGV4dFN0eWxlcyIsIl9yZW5kZXJUZXh0TGluZXNCYWNrZ3JvdW5kIiwiX3JlbmRlclRleHREZWNvcmF0aW9uIiwiX3JlbmRlclRleHQiLCJfcmVuZGVyVGV4dFN0cm9rZSIsIl9yZW5kZXJUZXh0RmlsbCIsImNoYXJTdHlsZSIsImZvck1lYXN1cmluZyIsInRleHRCYXNlbGluZSIsIl9nZXRGb250RGVjbGFyYXRpb24iLCJtYXhXaWR0aCIsIl9yZW5kZXJUZXh0TGluZSIsIl9yZW5kZXJDaGFycyIsInN0eWxlSGFzIiwiaGVpZ2h0T2ZMaW5lIiwibGluZUxlZnRPZmZzZXQiLCJsYXN0Q29sb3IiLCJjaGFyQm94IiwiY3VycmVudENvbG9yIiwiZHJhd1N0YXJ0IiwibGVmdE9mZnNldCIsIl9nZXRMZWZ0T2Zmc2V0IiwibGluZVRvcE9mZnNldCIsIl9nZXRUb3BPZmZzZXQiLCJib3hTdGFydCIsImJveFdpZHRoIiwiX2dldExpbmVMZWZ0T2Zmc2V0IiwiZ2V0VmFsdWVPZlByb3BlcnR5QXQiLCJyZW5kZXJMZWZ0IiwiZ2V0Rm9udENhY2hlIiwiY2FjaGVQcm9wIiwiX21lYXN1cmVDaGFyIiwiX2NoYXIiLCJwcmV2aW91c0NoYXIiLCJwcmV2Q2hhclN0eWxlIiwiY291cGxlV2lkdGgiLCJwcmV2aW91c1dpZHRoIiwiZm9udENhY2hlIiwiY291cGxlIiwic3R5bGVzQXJlRXF1YWwiLCJmb250TXVsdGlwbGllciIsIm1lYXN1cmVUZXh0IiwiZ2V0SGVpZ2h0T2ZDaGFyIiwibWVhc3VyZUxpbmUiLCJsaW5lSW5mbyIsIl9tZWFzdXJlTGluZSIsIl9nZXRXaWR0aE9mQ2hhclNwYWNpbmciLCJncmFwaGVtZSIsInByZXZHcmFwaGVtZSIsImdyYXBoZW1lSW5mbyIsInN0YXJ0aW5nUG9pbnQiLCJ0b3RhbFBhdGhMZW5ndGgiLCJsaW5lQm91bmRzIiwicG9zaXRpb25JblBhdGgiLCJfZ2V0R3JhcGhlbWVCb3giLCJfc2V0R3JhcGhlbWVPblBhdGgiLCJudW1PZlNwYWNlcyIsImNlbnRlclBvc2l0aW9uIiwic2tpcExlZnQiLCJnZXRDb21wbGV0ZVN0eWxlRGVjbGFyYXRpb24iLCJwcmV2aW91c0JveCIsIl9fbGluZUhlaWdodHMiLCJtYXhIZWlnaHQiLCJfcmVuZGVyVGV4dENvbW1vbiIsImxpbmVIZWlnaHRzIiwiaXNFbXB0eVN0eWxlcyIsImFjdHVhbFN0eWxlIiwibmV4dFN0eWxlIiwidGltZVRvUmVuZGVyIiwiZHJhd2luZ0xlZnQiLCJpc0p1c3RpZnkiLCJjaGFyc1RvUmVuZGVyIiwic2hvcnRDdXQiLCJpc0x0ciIsImN1cnJlbnREaXJlY3Rpb24iLCJfcmVuZGVyQ2hhciIsIl9hcHBseVBhdHRlcm5HcmFkaWVudFRyYW5zZm9ybVRleHQiLCJoYW5kbGVGaWxsZXIiLCJmaWxsT2Zmc2V0cyIsInN0cm9rZU9mZnNldHMiLCJfZ2V0U3R5bGVEZWNsYXJhdGlvbiIsImZ1bGxEZWNsIiwic2hvdWxkRmlsbCIsImZpbGxUZXh0Iiwic3Ryb2tlVGV4dCIsInNldFN1cGVyc2NyaXB0IiwiX3NldFNjcmlwdCIsInNldFN1YnNjcmlwdCIsInNjaGVtYSIsImxvYyIsImdldDJEQ3Vyc29yTG9jYXRpb24iLCJzZXRTZWxlY3Rpb25TdHlsZXMiLCJsaW5lRGlmZiIsIl9fbGluZVdpZHRocyIsIl9zaG91bGRDbGVhckRpbWVuc2lvbkNhY2hlIiwic2hvdWxkQ2xlYXIiLCJfZm9yY2VDbGVhckNhY2hlIiwiX3NpemUiLCJfZHkiLCJsYXN0RGVjb3JhdGlvbiIsImN1cnJlbnREZWNvcmF0aW9uIiwiY3VycmVudEZpbGwiLCJsYXN0RmlsbCIsInRvcE9mZnNldCIsInN0eWxlT2JqZWN0IiwiZmFtaWx5IiwiZm9udElzR2VuZXJpYyIsImdlbmVyaWNGb250cyIsIm5ld0xpbmUiLCJuZXdUZXh0IiwiYWxsUHJvcGVydGllcyIsIm5lZWRzRGltcyIsImlzQWRkaW5nUGF0aCIsIl9rZXkiLCJwYXJzZWRBbmNob3IiLCJ0ZXh0QW5jaG9yIiwib3JpZ2luYWxTdHJva2VXaWR0aCIsInRleHRIZWlnaHRTY2FsZUZhY3RvciIsInNjYWxlZERpZmYiLCJ0ZXh0SGVpZ2h0Iiwib2ZmWCIsIm9iamVjdENvcHkiLCJ0ZXh0SW5zdGFuY2UiLCJwYXRoSW5zdGFuY2UiLCJwMyIsImNsZWFuU3R5bGUiLCJsZXR0ZXJDb3VudCIsInN0eWxlUHJvcGVydHlWYWx1ZSIsInN0eWxlc0NvdW50IiwiYWxsU3R5bGVPYmplY3RQcm9wZXJ0aWVzTWF0Y2giLCJncmFwaGVtZUNvdW50IiwicmVtb3ZlU3R5bGUiLCJsaW5lTnVtIiwiY2hhck51bSIsIl9leHRlbmRTdHlsZXMiLCJfZ2V0TGluZVN0eWxlIiwiX3NldExpbmVTdHlsZSIsIl9zZXRTdHlsZURlY2xhcmF0aW9uIiwic2VsZWN0aW9uU3RhcnQiLCJza2lwV3JhcHBpbmciLCJnZXRTZWxlY3Rpb25TdHlsZXMiLCJzdGFydEluZGV4IiwiZW5kSW5kZXgiLCJzZWxlY3Rpb25FbmQiLCJnZXRTdHlsZUF0UG9zaXRpb24iLCJsaW5lU3R5bGUiLCJfZGVsZXRlU3R5bGVEZWNsYXJhdGlvbiIsIl9kZWxldGVMaW5lU3R5bGUiLCJwYXJzZURlY29yYXRpb24iLCJJVGV4dCIsImVkaXRhYmxlIiwiZWRpdGluZ0JvcmRlckNvbG9yIiwiY3Vyc29yQ29sb3IiLCJjdXJzb3JEZWxheSIsImN1cnNvckR1cmF0aW9uIiwiY2FjaGluZyIsImhpZGRlblRleHRhcmVhQ29udGFpbmVyIiwiX3JlU3BhY2UiLCJfY3VycmVudEN1cnNvck9wYWNpdHkiLCJfc2VsZWN0aW9uRGlyZWN0aW9uIiwiX2Fib3J0Q3Vyc29yQW5pbWF0aW9uIiwiX193aWR0aE9mU3BhY2UiLCJpbkNvbXBvc2l0aW9uTW9kZSIsImluaXRCZWhhdmlvciIsInNldFNlbGVjdGlvblN0YXJ0IiwiX3VwZGF0ZUFuZEZpcmUiLCJzZXRTZWxlY3Rpb25FbmQiLCJfZmlyZVNlbGVjdGlvbkNoYW5nZWQiLCJfdXBkYXRlVGV4dGFyZWEiLCJpbml0RGVsYXllZEN1cnNvciIsImN1cnNvck9mZnNldENhY2hlIiwicmVuZGVyQ3Vyc29yT3JTZWxlY3Rpb24iLCJza2lwUmVzdG9yZSIsIl9jbGVhclRleHRBcmVhIiwiYm91bmRhcmllcyIsIl9nZXRDdXJzb3JCb3VuZGFyaWVzIiwicmVuZGVyQ3Vyc29yIiwicmVuZGVyU2VsZWN0aW9uIiwiX2dldEN1cnNvckJvdW5kYXJpZXNPZmZzZXRzIiwiY3Vyc29yUG9zaXRpb24iLCJib3VuZCIsImN1cnNvckxvY2F0aW9uIiwiY2hhckhlaWdodCIsIl9faXNNb3VzZWRvd24iLCJoaWRkZW5UZXh0YXJlYSIsInN0YXJ0TGluZSIsImVuZExpbmUiLCJzdGFydENoYXIiLCJlbmRDaGFyIiwicmVhbExpbmVIZWlnaHQiLCJsaW5lT2Zmc2V0IiwiYm94RW5kIiwiZHJhd1dpZHRoIiwiZHJhd0hlaWdodCIsImV4dHJhVG9wIiwiY29tcG9zaXRpb25Db2xvciIsImdldEN1cnJlbnRDaGFyRm9udFNpemUiLCJjcCIsIl9nZXRDdXJyZW50Q2hhckluZGV4IiwiZ2V0Q3VycmVudENoYXJDb2xvciIsIm9iakNvcHkiLCJpbml0QWRkZWRIYW5kbGVyIiwiaW5pdFJlbW92ZWRIYW5kbGVyIiwiaW5pdEN1cnNvclNlbGVjdGlvbkhhbmRsZXJzIiwiaW5pdERvdWJsZUNsaWNrU2ltdWxhdGlvbiIsIm1vdXNlTW92ZUhhbmRsZXIiLCJfaW5pdENhbnZhc0hhbmRsZXJzIiwiX3JlbW92ZUNhbnZhc0hhbmRsZXJzIiwiX3RpY2siLCJfY3VycmVudFRpY2tTdGF0ZSIsIl9hbmltYXRlQ3Vyc29yIiwidGFyZ2V0T3BhY2l0eSIsImNvbXBsZXRlTWV0aG9kIiwidGlja1N0YXRlIiwiaXNBYm9ydGVkIiwiX29uVGlja0NvbXBsZXRlIiwiX2N1cnNvclRpbWVvdXQxIiwiX2N1cnJlbnRUaWNrQ29tcGxldGVTdGF0ZSIsInJlc3RhcnQiLCJkZWxheSIsImFib3J0Q3Vyc29yQW5pbWF0aW9uIiwiX2N1cnNvclRpbWVvdXQyIiwic2VsZWN0QWxsIiwiZ2V0U2VsZWN0ZWRUZXh0IiwiZmluZFdvcmRCb3VuZGFyeUxlZnQiLCJzdGFydEZyb20iLCJmaW5kV29yZEJvdW5kYXJ5UmlnaHQiLCJmaW5kTGluZUJvdW5kYXJ5TGVmdCIsImZpbmRMaW5lQm91bmRhcnlSaWdodCIsInNlYXJjaFdvcmRCb3VuZGFyeSIsInNlbGVjdFdvcmQiLCJuZXdTZWxlY3Rpb25TdGFydCIsIm5ld1NlbGVjdGlvbkVuZCIsInNlbGVjdExpbmUiLCJlbnRlckVkaXRpbmciLCJleGl0RWRpdGluZ09uT3RoZXJzIiwiaW5pdEhpZGRlblRleHRhcmVhIiwiZm9jdXMiLCJfc2F2ZUVkaXRpbmdQcm9wcyIsIl9zZXRFZGl0aW5nUHJvcHMiLCJfdGV4dEJlZm9yZUVkaXQiLCJpbml0TW91c2VNb3ZlSGFuZGxlciIsImFjdGl2ZUVsZW1lbnQiLCJnZXRTZWxlY3Rpb25TdGFydEZyb21Qb2ludGVyIiwiY3VycmVudFN0YXJ0IiwiY3VycmVudEVuZCIsIl9fc2VsZWN0aW9uU3RhcnRPbk1vdXNlRG93biIsInJlc3RhcnRDdXJzb3JJZk5lZWRlZCIsImZyb21TdHJpbmdUb0dyYXBoZW1lU2VsZWN0aW9uIiwic21hbGxlclRleHRTdGFydCIsImdyYXBoZW1lU3RhcnQiLCJzbWFsbGVyVGV4dEVuZCIsImZyb21HcmFwaGVtZVRvU3RyaW5nU2VsZWN0aW9uIiwibmV3U2VsZWN0aW9uIiwidXBkYXRlVGV4dGFyZWFQb3NpdGlvbiIsInVwZGF0ZUZyb21UZXh0QXJlYSIsIl9jYWxjVGV4dGFyZWFQb3NpdGlvbiIsImRlc2lyZWRQb3NpdGlvbiIsImNvbXBvc2l0aW9uU3RhcnQiLCJ1cHBlckNhbnZhcyIsInVwcGVyQ2FudmFzV2lkdGgiLCJ1cHBlckNhbnZhc0hlaWdodCIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0IiwiX3NhdmVkUHJvcHMiLCJfcmVzdG9yZUVkaXRpbmdQcm9wcyIsImlzVGV4dENoYW5nZWQiLCJfcmVtb3ZlRXh0cmFuZW91c1N0eWxlcyIsInJlbW92ZVN0eWxlRnJvbVRvIiwic3R5bGVPYmoiLCJjdXJzb3JTdGFydCIsImN1cnNvckVuZCIsImxpbmVTdGFydCIsImNoYXJTdGFydCIsImxpbmVFbmQiLCJjaGFyRW5kIiwic2hpZnRMaW5lU3R5bGVzIiwibnVtZXJpY0NoYXIiLCJjbG9uZWRTdHlsZXMiLCJudW1lcmljTGluZSIsImluc2VydE5ld2xpbmVTdHlsZU9iamVjdCIsInF0eSIsImNvcGllZFN0eWxlIiwiY3VycmVudENoYXJTdHlsZSIsIm5ld0xpbmVTdHlsZXMiLCJzb21ldGhpbmdBZGRlZCIsImlzRW5kT2ZMaW5lIiwibnVtSW5kZXgiLCJzdHlsZUNhcnJpZWRPdmVyIiwiaW5zZXJ0Q2hhclN0eWxlT2JqZWN0IiwicXVhbnRpdHkiLCJjdXJyZW50TGluZVN0eWxlcyIsImN1cnJlbnRMaW5lU3R5bGVzQ2xvbmVkIiwibnVtZXJpY0luZGV4IiwibmV3U3R5bGUiLCJpbnNlcnROZXdTdHlsZUJsb2NrIiwiaW5zZXJ0ZWRUZXh0IiwiY3Vyc29yTG9jIiwiYWRkZWRMaW5lcyIsImxpbmVzTGVuZ3RoIiwic2V0U2VsZWN0aW9uU3RhcnRFbmRXaXRoU2hpZnQiLCJzZXRTZWxlY3Rpb25JbkJvdW5kYXJpZXMiLCJfX2xhc3RDbGlja1RpbWUiLCJfX2xhc3RMYXN0Q2xpY2tUaW1lIiwiX19sYXN0UG9pbnRlciIsIl9fbmV3Q2xpY2tUaW1lIiwibmV3UG9pbnRlciIsImlzVHJpcGxlQ2xpY2siLCJfc3RvcEV2ZW50IiwiX19sYXN0SXNFZGl0aW5nIiwiX19sYXN0U2VsZWN0ZWQiLCJpbml0TW91c2Vkb3duSGFuZGxlciIsImluaXRNb3VzZXVwSGFuZGxlciIsImluaXRDbGlja3MiLCJkb3VibGVDbGlja0hhbmRsZXIiLCJ0cmlwbGVDbGlja0hhbmRsZXIiLCJfbW91c2VEb3duSGFuZGxlciIsInNldEN1cnNvckJ5Q2xpY2siLCJfbW91c2VEb3duSGFuZGxlckJlZm9yZSIsImN1cnJlbnRBY3RpdmUiLCJtb3VzZU9mZnNldCIsInByZXZXaWR0aCIsIl9nZXROZXdTZWxlY3Rpb25TdGFydEZyb21PZmZzZXQiLCJkaXN0YW5jZUJ0d0xhc3RDaGFyQW5kQ3Vyc29yIiwiZGlzdGFuY2VCdHdOZXh0Q2hhckFuZEN1cnNvciIsIm9uS2V5RG93biIsIm9uS2V5VXAiLCJvbklucHV0IiwiY29weSIsInBhc3RlIiwib25Db21wb3NpdGlvblN0YXJ0Iiwib25Db21wb3NpdGlvblVwZGF0ZSIsIm9uQ29tcG9zaXRpb25FbmQiLCJfY2xpY2tIYW5kbGVySW5pdGlhbGl6ZWQiLCJvbkNsaWNrIiwia2V5c01hcCIsImtleXNNYXBSdGwiLCJjdHJsS2V5c01hcFVwIiwiY3RybEtleXNNYXBEb3duIiwia2V5TWFwIiwia2V5Q29kZSIsImN0cmxLZXkiLCJtZXRhS2V5Iiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwiX2NvcHlEb25lIiwiZnJvbVBhc3RlIiwicmVtb3ZlZFRleHQiLCJyZW1vdmVGcm9tIiwicmVtb3ZlVG8iLCJuZXh0VGV4dCIsImNoYXJDb3VudCIsIm5leHRDaGFyQ291bnQiLCJjaGFyRGlmZiIsInRleHRhcmVhU2VsZWN0aW9uIiwiYmFja0RlbGV0ZSIsImNvcGllZFRleHQiLCJjb3BpZWRUZXh0U3R5bGUiLCJjb21wb3NpdGlvbkVuZCIsIl9nZXRDbGlwYm9hcmREYXRhIiwiY2xpcGJvYXJkRGF0YSIsIl9nZXRXaWR0aEJlZm9yZUN1cnNvciIsIndpZHRoQmVmb3JlQ3Vyc29yIiwiZ2V0RG93bkN1cnNvck9mZnNldCIsImlzUmlnaHQiLCJzZWxlY3Rpb25Qcm9wIiwiX2dldFNlbGVjdGlvbkZvck9mZnNldCIsImluZGV4T25PdGhlckxpbmUiLCJfZ2V0SW5kZXhPbkxpbmUiLCJnZXRVcEN1cnNvck9mZnNldCIsInRleHRCZWZvcmVDdXJzb3IiLCJjaGFyV2lkdGgiLCJmb3VuZE1hdGNoIiwid2lkdGhPZkNoYXJzT25MaW5lIiwiaW5kZXhPbkxpbmUiLCJsZWZ0RWRnZSIsInJpZ2h0RWRnZSIsIm9mZnNldEZyb21MZWZ0RWRnZSIsIm1vdmVDdXJzb3JEb3duIiwiX21vdmVDdXJzb3JVcE9yRG93biIsIm1vdmVDdXJzb3JVcCIsIm1vdmVDdXJzb3JXaXRoU2hpZnQiLCJtb3ZlQ3Vyc29yV2l0aG91dFNoaWZ0IiwibW92ZUN1cnNvckxlZnQiLCJfbW92ZUN1cnNvckxlZnRPclJpZ2h0IiwiX21vdmUiLCJfbW92ZUxlZnQiLCJfbW92ZVJpZ2h0IiwibW92ZUN1cnNvckxlZnRXaXRob3V0U2hpZnQiLCJjaGFuZ2UiLCJtb3ZlQ3Vyc29yTGVmdFdpdGhTaGlmdCIsIm1vdmVDdXJzb3JSaWdodCIsIm1vdmVDdXJzb3JSaWdodFdpdGhTaGlmdCIsIm1vdmVDdXJzb3JSaWdodFdpdGhvdXRTaGlmdCIsImNoYW5nZWQiLCJyZW1vdmVDaGFycyIsImluc2VydENoYXJzIiwiX2dldFNWR0xlZnRUb3BPZmZzZXRzIiwidGV4dEFuZEJnIiwiX2dldFNWR1RleHRBbmRCZyIsInRleHRUb3AiLCJ0ZXh0TGVmdCIsIl93cmFwU1ZHVGV4dEFuZEJnIiwibGluZVRvcCIsInRleHRTcGFucyIsInRleHRUb3BPZmZzZXQiLCJ0ZXh0TGVmdE9mZnNldCIsIl9zZXRTVkdUZXh0TGluZUJnIiwiX3NldFNWR1RleHRMaW5lVGV4dCIsIl9jcmVhdGVUZXh0Q2hhclNwYW4iLCJzdHlsZURlY2wiLCJzaG91bGRVc2VXaGl0ZXNwYWNlIiwic3R5bGVQcm9wcyIsImZpbGxTdHlsZXMiLCJkeVNwYW4iLCJfcHVzaFRleHRCZ1JlY3QiLCJmaWxsQ29sb3IiLCJfZ2V0U1ZHTGluZVRvcE9mZnNldCIsImxhc3RIZWlnaHQiLCJUZXh0Ym94IiwibWluV2lkdGgiLCJkeW5hbWljTWluV2lkdGgiLCJfX2NhY2hlZExpbmVzIiwiX3dvcmRKb2luZXJzIiwic3BsaXRCeUdyYXBoZW1lIiwiX3N0eWxlTWFwIiwiX2dlbmVyYXRlU3R5bGVNYXAiLCJ0ZXh0SW5mbyIsInJlYWxMaW5lQ291bnQiLCJyZWFsTGluZUNoYXJDb3VudCIsImlzV3JhcHBpbmciLCJuZXh0T2Zmc2V0Iiwic2hvdWxkTGltaXQiLCJtYXBOZXh0TGluZSIsIl93cmFwVGV4dCIsImRlc2lyZWRXaWR0aCIsIndyYXBwZWQiLCJfd3JhcExpbmUiLCJfbWVhc3VyZVdvcmQiLCJ3b3JkIiwiY2hhck9mZnNldCIsIl9saW5lIiwicmVzZXJ2ZWRTcGFjZSIsIndvcmRzIiwiaW5maXgiLCJ3b3JkV2lkdGgiLCJpbmZpeFdpZHRoIiwibGFyZ2VzdFdvcmRXaWR0aCIsImxpbmVKdXN0U3RhcnRlZCIsImFkZGl0aW9uYWxTcGFjZSIsImdldE1pbldpZHRoIiwibGluZXNUb0tlZXAiLCJzY2FsZVNrZXdTdHlsZUhhbmRsZXIiLCJzY2FsZVN0eWxlSGFuZGxlciIsIm9iamVjdENvbnRyb2xzIiwibWwiLCJtciIsIm1iIiwibXRyIiwidGV4dEJveENvbnRyb2xzIiwic3R5bGVUYWdUcmFuc2Zvcm0iLCJzZXRBdHRyaWJ1dGVzIiwiaW5zZXJ0IiwiZG9tQVBJIiwiaW5zZXJ0U3R5bGVFbGVtZW50IiwibG9jYWxzIiwic3R5bGVzSW5ET00iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsIm1vZHVsZXNUb0RvbSIsImlkQ291bnRNYXAiLCJpZGVudGlmaWVycyIsImJhc2UiLCJjb3VudCIsImluZGV4QnlJZGVudGlmaWVyIiwiY3NzIiwic291cmNlTWFwIiwicmVmZXJlbmNlcyIsInVwZGF0ZXIiLCJhZGRFbGVtZW50U3R5bGUiLCJieUluZGV4IiwiYXBpIiwidXBkYXRlIiwibmV3T2JqIiwibGFzdElkZW50aWZpZXJzIiwibmV3TGlzdCIsIm5ld0xhc3RJZGVudGlmaWVycyIsIl9pbmRleCIsInN0eWxlVGFyZ2V0IiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZ2V0VGFyZ2V0Iiwic3R5bGVFbGVtZW50Iiwibm9uY2UiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJzdHlsZVNoZWV0IiwiY3JlYXRlVGV4dE5vZGUiLCJnZXREYXRhIiwiZ2V0Q29sb3JzIiwiX3VwYmFyIiwiX29iamVjdFByb3BlcnRpZXNCYXIiLCJsb2FkRm9udHMiLCJmb250cyIsImlubmVySFRNTCIsImNyZWF0ZVNlbGVjdCIsImdldENhbnZhcyIsIm1vdW50RWxlbWVudCIsIl9kb3dubG9hZGVyIiwibmFtZSIsImZ1bmMiLCJhZGRUZXh0IiwiaWNvbiIsIl9zZWxlY3RlZE9iamVjdHMiLCJhbGlnbk9iamVjdCIsImRvd2xvYWQiLCJkZWxldGVMYXN0QWN0aXZlT2JqZWN0IiwibW91bnRQbGFjZSIsInJlbmRlckNvbnRyb2xzIiwiX2NhbnZhc0VsZW1lbnQiLCJibG9iSW1hZ2UiLCJocmVmIiwiZG93bmxvYWQiLCJjbGljayIsImNvbG9ycyIsImNvbG9yS2V5IiwidmFsdWVzIiwiY2hhbmdlU2hhZG93IiwidXBkYXRlVmlzaWJpbGl0eSIsIm9wdGlvblRleHQiLCJvcHRpb25Db2xvcnMiLCJvcHRpb25Gb250cyIsIm9wdGlvblByaWNlIiwiYWRkT3B0aW9uRGl2Iiwib3B0aW9uRGl2IiwiYWRkT3B0aW9uIiwibGFiZWxUZXh0IiwibGFiZWwiLCJhZGRSYW5nZSIsInN0ZXAiLCJyYW5nZSIsInNob3dQcmljZSIsIm9wdGlvbkVsZW1lbnQiLCJpbnB1dCIsInBsYWNlaG9sZGVyIiwicm93cyIsIm9uaW5wdXQiLCJjaGFuZ2VUZXh0IiwiY29sb3JQaWNrQnV0dG9ucyIsImNoYW5nZUZvbnQiLCJwcmljZURpdiIsInByaWNlIiwiRVBTSUxPTiIsImdldFRleHQiLCJnZXRQcmljZVRleHRTaXplIiwiZ2V0UHJpY2VFbGVtZW50Iiwic2hhZG93U3RyZW5ndGgiLCJjb2xvck9mU2hhZG93IiwiX2NvbG9yT2ZTaGFkb3ciLCJ0ZXh0T2JqIiwib25jbGljayIsIl9vbkNsaWNrIiwiX2J1dHRvbkRpdiIsIl9zcGFuRWxlbWVudCIsIm9uSG92ZXJTaG93SGlnaGVyIiwiaHRtbEVsIiwib25ob3ZlclppbmRleCIsIm5vaG92ZXJaaW5kZXgiLCJ6SW5kZXgiLCJmb250Rm9yQ29udHJvbHMiLCJzaXplVG9TdHJpbmciLCJjb2xvclNjaGVtZSIsInRleHRXaWR0aCIsImNhbnZhc0NsYXNzIiwibWFrZUNhbnZhc0RpdiIsInJlc2l6ZSIsImdldFNpemUiLCJhZGRUb1NjZW5lIiwiYWRkUmVjdCIsInRleHRFbGVtZW50IiwidmVydGljYWwiLCJ3aWRnZXQiLCJiYXNlTG9jYXRpb24iLCJzZXJ2ZXJVcmwiLCJwcmljZXMiLCJwcmljZTFtbSIsInByaWNlZm9yRWxlbWVudCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJyZXNwb25zZSIsImNvbCIsImZldGNoIiwic2V0SXRlbSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJnZXR0ZXIiLCJkZWZpbml0aW9uIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2xvYmFsVGhpcyIsIkZ1bmN0aW9uIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJzY3JpcHRVcmwiLCJpbXBvcnRTY3JpcHRzIiwibG9jYXRpb24iLCJjdXJyZW50U2NyaXB0Iiwic2NyaXB0cyIsImJhc2VVUkkiLCJuYyJdLCJzb3VyY2VSb290IjoiIn0=